{"items":[{"tags":["java","multithreading","sockets","testing","synchronization"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1635530745,"post_id":69773025,"comment_id":123332323,"body_markdown":"Your `getData()` method is dangerous. It gives any class, any package, any thread the ability to modify the `data` list without notifying or cooperating with your `Repository` class. You might just as well have made the `data` variable `public`.","body":"Your <code>getData()</code> method is dangerous. It gives any class, any package, any thread the ability to modify the <code>data</code> list without notifying or cooperating with your <code>Repository</code> class. You might just as well have made the <code>data</code> variable <code>public</code>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1635531036,"post_id":69773025,"comment_id":123332429,"body_markdown":"Re, &quot;How could I test the thread-safety in this scenario?&quot; First of all, the fact that your `getData()` method exists means that it _isn&#39;t_ thread safe. (Your `Repository` class has no ability to control what different threads might do to the list and when.) Second of all, testing thread-safety generally is a _hard problem._ Just because a program is &quot;unsafe,&quot; that&#39; doesn&#39;t mean it is _guaranteed_ to fail. You could test the **** out of a program, then ship it to a customer, and it fails first-time for them because their system is configured differently from yours,...","body":"Re, &quot;How could I test the thread-safety in this scenario?&quot; First of all, the fact that your <code>getData()</code> method exists means that it <i>isn&#39;t</i> thread safe. (Your <code>Repository</code> class has no ability to control what different threads might do to the list and when.) Second of all, testing thread-safety generally is a <i>hard problem.</i> Just because a program is &quot;unsafe,&quot; that&#39; doesn&#39;t mean it is <i>guaranteed</i> to fail. You could test the **** out of a program, then ship it to a customer, and it fails first-time for them because their system is configured differently from yours,..."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1635531082,"post_id":69773025,"comment_id":123332448,"body_markdown":"...Or, it could run for half a year at the customer site, and then fail when they upgraded their OS. (Don&#39;t _ask_ me how I know about that one!!)","body":"...Or, it could run for half a year at the customer site, and then fail when they upgraded their OS. (Don&#39;t <i>ask</i> me how I know about that one!!)"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1635531275,"post_id":69773025,"comment_id":123332505,"body_markdown":"Also, FYI, and not that it matters much in this case, but generally speaking, `static` is the enemy of testing. Google for &quot;dependency injection&quot; and &quot;mock object&quot; to learn more.","body":"Also, FYI, and not that it matters much in this case, but generally speaking, <code>static</code> is the enemy of testing. Google for &quot;dependency injection&quot; and &quot;mock object&quot; to learn more."},{"owner":{"account_id":23184907,"reputation":27,"user_id":17282180,"display_name":"Iosiv"},"score":0,"creation_date":1635535745,"post_id":69773025,"comment_id":123333775,"body_markdown":"@SolomonSlow you are completely right! I want to return the current state of the list to the client on demand, so i should probably make the `getData` method return a String version of it instead of the whole thing.","body":"@SolomonSlow you are completely right! I want to return the current state of the list to the client on demand, so i should probably make the <code>getData</code> method return a String version of it instead of the whole thing."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1635567922,"post_id":69773025,"comment_id":123339234,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635557375,"creation_date":1635557375,"answer_id":69776151,"question_id":69773025,"body_markdown":"1) Yes, see https://stackoverflow.com/a/2120409/3080094\r\n2) Yes (see comments further below) and yes. Using one object (a singleton if you like) is preferred over static methods (the latter are, in general, harder to maintain).\r\n3) Not necessary but preferred: it avoids you making mistakes. Also, instead of:\r\n\r\n`private static List&lt;String&gt; data;`\r\n\r\nyou can use\r\n\r\n`private static final List&lt;String&gt; data = Collections.synchronizedList(new ArrayList&lt;&gt;());`\r\n\r\nwhich has three benefits: `final` ensures all threads see this value (thread-safe), you can remove the code for checking on a null-value (which can be error-prone) and you no longer need to use `synchronized` in your code since the list itself is now synchronized.\r\n\r\n4) Yes, there are ways to improve this to make it more likely you find bugs but when it comes to multi-threading you can never be entirely sure.\r\n\r\nAbout the &quot; architectural or performance issues&quot;: every read of the list has to be synchronized so when multiple clients want to read the list, they will all be waiting for a lock to read the entire list. Since you are only inserting at the end and reading the list, you can use a [`ConcurrentLinkedQueue`](https://stackoverflow.com/a/25630263/3080094). This &quot;concurrent&quot; type (i.e. no need to use `synchronized` - the queue is thread-safe) will not lock when the entire list is read, multiple threads can read the data at the same time. In addition, you should hide the details of your implementation which you can do, for example, with an `Iterator`:\r\n\r\n```java\r\nimport java.util.Queue;\r\nimport java.util.concurrent.ConcurrentLinkedQueue;\r\n\r\n\tprivate final Queue&lt;String&gt; dataq = new ConcurrentLinkedQueue&lt;&gt;();\r\n\t\r\n\tpublic Iterator&lt;String&gt; getData() {\r\n\t\treturn dataq.iterator();\r\n\t}\r\n```\r\n\r\nAbout &quot;testing the thread-safety&quot;: focus on the code that needs to be thread-safe. Using clients to connect to a server to test if the `Repository` code is thread-safe is inefficient: most of the test will just be waiting on I/O and not actually using `Repository` at the same time. Write a dedicated (unit) test just for the `Repository` class. Keep in mind that your operating system determines when threads start and run (i.e. your code for threads to start and run are just hints to the operating system), so you will need the test to run for a while (i.e. 30 seconds) and provide some output (logging) to ensure threads are running at the same time. Output to console should only be shown at the end of the test: in Java output to console (System.out) is synchronized which in turn can make threads work one after the other (i.e. not at the same time on the class under test).\r\nFinally, you can improve the test using a `java.util.concurrent.CountDownLatch` to let all threads synchronize before executing the next statements concurrently (this improves the chance of finding race-conditions). That is a bit much for this already long answer to explain, so I&#39;ll leave you with a (admittedly complicated) [example](https://github.com/fwi/fwutil-namedrespool/blob/master/src/test/java/nl/fw/util/namedrespool/DiningPhilosophers.java#L102) (focus on how the `tableReady` variable is used).\r\n","title":"How to make client-server socket applications access data in a synchronized way and test for it","body":"<ol>\n<li>Yes, see <a href=\"https://stackoverflow.com/a/2120409/3080094\">https://stackoverflow.com/a/2120409/3080094</a></li>\n<li>Yes (see comments further below) and yes. Using one object (a singleton if you like) is preferred over static methods (the latter are, in general, harder to maintain).</li>\n<li>Not necessary but preferred: it avoids you making mistakes. Also, instead of:</li>\n</ol>\n<p><code>private static List&lt;String&gt; data;</code></p>\n<p>you can use</p>\n<p><code>private static final List&lt;String&gt; data = Collections.synchronizedList(new ArrayList&lt;&gt;());</code></p>\n<p>which has three benefits: <code>final</code> ensures all threads see this value (thread-safe), you can remove the code for checking on a null-value (which can be error-prone) and you no longer need to use <code>synchronized</code> in your code since the list itself is now synchronized.</p>\n<ol start=\"4\">\n<li>Yes, there are ways to improve this to make it more likely you find bugs but when it comes to multi-threading you can never be entirely sure.</li>\n</ol>\n<p>About the &quot; architectural or performance issues&quot;: every read of the list has to be synchronized so when multiple clients want to read the list, they will all be waiting for a lock to read the entire list. Since you are only inserting at the end and reading the list, you can use a <a href=\"https://stackoverflow.com/a/25630263/3080094\"><code>ConcurrentLinkedQueue</code></a>. This &quot;concurrent&quot; type (i.e. no need to use <code>synchronized</code> - the queue is thread-safe) will not lock when the entire list is read, multiple threads can read the data at the same time. In addition, you should hide the details of your implementation which you can do, for example, with an <code>Iterator</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Queue;\nimport java.util.concurrent.ConcurrentLinkedQueue;\n\n    private final Queue&lt;String&gt; dataq = new ConcurrentLinkedQueue&lt;&gt;();\n    \n    public Iterator&lt;String&gt; getData() {\n        return dataq.iterator();\n    }\n</code></pre>\n<p>About &quot;testing the thread-safety&quot;: focus on the code that needs to be thread-safe. Using clients to connect to a server to test if the <code>Repository</code> code is thread-safe is inefficient: most of the test will just be waiting on I/O and not actually using <code>Repository</code> at the same time. Write a dedicated (unit) test just for the <code>Repository</code> class. Keep in mind that your operating system determines when threads start and run (i.e. your code for threads to start and run are just hints to the operating system), so you will need the test to run for a while (i.e. 30 seconds) and provide some output (logging) to ensure threads are running at the same time. Output to console should only be shown at the end of the test: in Java output to console (System.out) is synchronized which in turn can make threads work one after the other (i.e. not at the same time on the class under test).\nFinally, you can improve the test using a <code>java.util.concurrent.CountDownLatch</code> to let all threads synchronize before executing the next statements concurrently (this improves the chance of finding race-conditions). That is a bit much for this already long answer to explain, so I'll leave you with a (admittedly complicated) <a href=\"https://github.com/fwi/fwutil-namedrespool/blob/master/src/test/java/nl/fw/util/namedrespool/DiningPhilosophers.java#L102\" rel=\"nofollow noreferrer\">example</a> (focus on how the <code>tableReady</code> variable is used).</p>\n"}],"owner":{"account_id":23184907,"reputation":27,"user_id":17282180,"display_name":"Iosiv"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69776151,"answer_count":1,"score":1,"last_activity_date":1635557375,"creation_date":1635530230,"question_id":69773025,"body_markdown":"I have this simple server-socket application using TCP that allows multiple clients to connect to a server and store and retrieve data from an ArrayList. \r\nEverytime a client connection is accepted into the server, a new thread is created to handle the client activity, and since all clients must interact with the same data structure I decided to create a static ArrayList as follows:\r\n\r\n``` \r\npublic class Repository {\r\n    private static List&lt;String&gt; data;\r\n\r\n    public static synchronized void insert(String value){\r\n       if(data == null){\r\n           data = new ArrayList&lt;&gt;();\r\n       }\r\n        data.add(value);\r\n    }\r\n\r\n    public static synchronized List&lt;String&gt; getData() {\r\n        if(data == null){\r\n            data = new ArrayList&lt;&gt;();\r\n        }\r\n        return data;\r\n    }\r\n}\r\n```\r\n\r\nSo, everytime a client inserts a value or reads the list they just call ```Repository.insert(value)``` or ```Repository.getData()``` from their respective threads. \r\n\r\n\r\nMy questions are:\r\n\r\n 1. Making these methods *synchronized* is enough to make the operations thread safe?\r\n 2. Are there any architectural or performance issues with this static List thing? I could also create an instance of the List in the server class (the one that accepts the connections) and send a reference via contructor to the Threads instead of using the static. Is this any better?\r\n 3. Can ```Collections.synchronizedList()``` add any value to such a simple task? Is it necessary? \r\n 4. How could I test the thread-safety in this scenario? I tried just creating multiple clients and make them access the data and everything seems to work, but I&#39;m just not convinced... Here is a short snippet of this test:\r\n```\r\n            IntStream.range(0,10).forEach(i-&gt;{\r\n            Client client = new Client();\r\n            client.ConnectToServer();\r\n            try {\r\n                client.SendMessage(&quot;Hello from client &quot;+i);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }});\r\n\r\n            //assertions on the size of the array\r\n\r\n```\r\n\r\nThanks in advance! :)","title":"How to make client-server socket applications access data in a synchronized way and test for it","body":"<p>I have this simple server-socket application using TCP that allows multiple clients to connect to a server and store and retrieve data from an ArrayList.\nEverytime a client connection is accepted into the server, a new thread is created to handle the client activity, and since all clients must interact with the same data structure I decided to create a static ArrayList as follows:</p>\n<pre><code>public class Repository {\n    private static List&lt;String&gt; data;\n\n    public static synchronized void insert(String value){\n       if(data == null){\n           data = new ArrayList&lt;&gt;();\n       }\n        data.add(value);\n    }\n\n    public static synchronized List&lt;String&gt; getData() {\n        if(data == null){\n            data = new ArrayList&lt;&gt;();\n        }\n        return data;\n    }\n}\n</code></pre>\n<p>So, everytime a client inserts a value or reads the list they just call <code>Repository.insert(value)</code> or <code>Repository.getData()</code> from their respective threads.</p>\n<p>My questions are:</p>\n<ol>\n<li>Making these methods <em>synchronized</em> is enough to make the operations thread safe?</li>\n<li>Are there any architectural or performance issues with this static List thing? I could also create an instance of the List in the server class (the one that accepts the connections) and send a reference via contructor to the Threads instead of using the static. Is this any better?</li>\n<li>Can <code>Collections.synchronizedList()</code> add any value to such a simple task? Is it necessary?</li>\n<li>How could I test the thread-safety in this scenario? I tried just creating multiple clients and make them access the data and everything seems to work, but I'm just not convinced... Here is a short snippet of this test:</li>\n</ol>\n<pre><code>            IntStream.range(0,10).forEach(i-&gt;{\n            Client client = new Client();\n            client.ConnectToServer();\n            try {\n                client.SendMessage(&quot;Hello from client &quot;+i);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }});\n\n            //assertions on the size of the array\n\n</code></pre>\n<p>Thanks in advance! :)</p>\n"},{"tags":["java","gradle","gradle-kotlin-dsl"],"answers":[{"tags":[],"owner":{"account_id":23177743,"reputation":43,"user_id":17275989,"display_name":"Liveon Phoenix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635557291,"creation_date":1635557291,"answer_id":69776145,"question_id":69765400,"body_markdown":"&gt; I did found the problem and it is inside of my &quot;settings.gradle&quot;. The problem is the incorrect order of the repositories. see here for more info: https://docs.gradle.org/current/userguide/dependency_resolution.html#obtaining_module_metadata\r\n\r\n    // this is the incorrect way for my build cuz while the subprojects are \r\n    // applying the next repo.\r\n    // settings.gradle.kts\r\n    dependencyResolutionManagement {\r\n          repositories.mavenCentral()\r\n    }\r\n","title":"ERROR: cannot resolve this binary! in gradle build","body":"<blockquote>\n<p>I did found the problem and it is inside of my &quot;settings.gradle&quot;. The problem is the incorrect order of the repositories. see here for more info: <a href=\"https://docs.gradle.org/current/userguide/dependency_resolution.html#obtaining_module_metadata\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_resolution.html#obtaining_module_metadata</a></p>\n</blockquote>\n<pre><code>// this is the incorrect way for my build cuz while the subprojects are \n// applying the next repo.\n// settings.gradle.kts\ndependencyResolutionManagement {\n      repositories.mavenCentral()\n}\n</code></pre>\n"}],"owner":{"account_id":23177743,"reputation":43,"user_id":17275989,"display_name":"Liveon Phoenix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635557291,"creation_date":1635493960,"question_id":69765400,"body_markdown":"\r\n\r\n&gt; for the module &quot;lib-one&quot; goes like this. It implements some binaries then I publish it locally.\r\n\r\n    //: lib-one/build.gradle.kts\r\n\r\n    dependencies {\r\n        implementation(platform(&quot;org.lwjgl:lwjgl-bom:3.2.3&quot;))\r\n        listOf(\r\n            &quot;&quot;, &quot;-assimp&quot;, &quot;-openal&quot;,\r\n            &quot;-opengl&quot;\r\n        ).map { lib -&gt;\r\n            implementation(&quot;org.lwjgl:lwjgl$lib&quot;)\r\n            runtimeOnly(&quot;org.lwjgl&quot;, &quot;lwjgl$lib&quot;, classifier = LWJGL.lwjglNatives)\r\n        }\r\n    }\r\n    \r\n    \r\n    publishing {\r\n        publications {\r\n            register&lt;MavenPublication&gt;(&quot;lib-one-maven&quot;) {\r\n                from(components[&quot;java&quot;])\r\n            }\r\n        }\r\n        repositories {\r\n            maven {\r\n                setUrl(System.getProperty(&quot;url.repo.local.snapshot&quot;))\r\n            }\r\n        }\r\n    }\r\n\r\n&gt; In here this module depend in module &quot;lib-one&quot; but this give me an ordeal &quot;could not resolve on this binary&quot;\r\n    \r\n    //: lib-two/build.gradle.kts\r\n    repositories {\r\n        maven {\r\n            setUrl(System.getProperty(&quot;url.repo.local.snapshot&quot;))\r\n        }\r\n    }\r\n    \r\n    \r\n    dependencies {\r\n        implementation(&quot;com.demo:lib-one:0.0.1&quot;) // HERE! ERROR: could not resolve!\r\n    }","title":"ERROR: cannot resolve this binary! in gradle build","body":"<blockquote>\n<p>for the module &quot;lib-one&quot; goes like this. It implements some binaries then I publish it locally.</p>\n</blockquote>\n<pre><code>//: lib-one/build.gradle.kts\n\ndependencies {\n    implementation(platform(&quot;org.lwjgl:lwjgl-bom:3.2.3&quot;))\n    listOf(\n        &quot;&quot;, &quot;-assimp&quot;, &quot;-openal&quot;,\n        &quot;-opengl&quot;\n    ).map { lib -&gt;\n        implementation(&quot;org.lwjgl:lwjgl$lib&quot;)\n        runtimeOnly(&quot;org.lwjgl&quot;, &quot;lwjgl$lib&quot;, classifier = LWJGL.lwjglNatives)\n    }\n}\n\n\npublishing {\n    publications {\n        register&lt;MavenPublication&gt;(&quot;lib-one-maven&quot;) {\n            from(components[&quot;java&quot;])\n        }\n    }\n    repositories {\n        maven {\n            setUrl(System.getProperty(&quot;url.repo.local.snapshot&quot;))\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>In here this module depend in module &quot;lib-one&quot; but this give me an ordeal &quot;could not resolve on this binary&quot;</p>\n</blockquote>\n<pre><code>//: lib-two/build.gradle.kts\nrepositories {\n    maven {\n        setUrl(System.getProperty(&quot;url.repo.local.snapshot&quot;))\n    }\n}\n\n\ndependencies {\n    implementation(&quot;com.demo:lib-one:0.0.1&quot;) // HERE! ERROR: could not resolve!\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","api","spring-mvc"],"comments":[{"owner":{"account_id":15558166,"reputation":302,"user_id":11223954,"display_name":"Dattq2303"},"score":0,"creation_date":1635532694,"post_id":69773257,"comment_id":123332943,"body_markdown":"You should take this question to https://codereview.stackexchange.com/ for better answer","body":"You should take this question to <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> for better answer"},{"owner":{"account_id":1718899,"reputation":8227,"user_id":1575353,"accept_rate":88,"display_name":"Sᴀᴍ Onᴇᴌᴀ"},"score":0,"creation_date":1635533141,"post_id":69773257,"comment_id":123333082,"body_markdown":"if you post on Code Review please read the help center pages like [_How do I ask a good question?_](https://codereview.stackexchange.com/help/how-to-ask)  - the expectations are slightly different there.","body":"if you post on Code Review please read the help center pages like <a href=\"https://codereview.stackexchange.com/help/how-to-ask\"><i>How do I ask a good question?</i></a>  - the expectations are slightly different there."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635534428,"creation_date":1635534428,"answer_id":69773715,"question_id":69773257,"body_markdown":"I would make some changes.\r\n\r\n1. In `/games/{gameId}` I would use `PATCH` instead of `PUT`. The reason is that `PUT` is intended to completely replace the resource (in your case, the `Game`). This does not seem to be what you are doing in this endpoint. `PATCH` is intended to partially update a resource, which seems much more suited to what you are doing here.\r\n\r\n2. Still in `/games/{gameId}` I would use the request body to provide the needed data instead of query parameters. It simply doesn&#39;t seem right. Query parameters are way more suited to `GET` requests than to `POST`, `PUT` or `PATCH`.\r\n\r\n3. I would rename `/403` to something else that actually gives some context about what `403` is. Having said this, I would go with `/error-pages/403`. Additionally, I would also consider removing this endpoint from the swagger specification.\r\n\r\nOther than this, it seems fine to me.","title":"How to design API in Spring MVC?","body":"<p>I would make some changes.</p>\n<ol>\n<li><p>In <code>/games/{gameId}</code> I would use <code>PATCH</code> instead of <code>PUT</code>. The reason is that <code>PUT</code> is intended to completely replace the resource (in your case, the <code>Game</code>). This does not seem to be what you are doing in this endpoint. <code>PATCH</code> is intended to partially update a resource, which seems much more suited to what you are doing here.</p>\n</li>\n<li><p>Still in <code>/games/{gameId}</code> I would use the request body to provide the needed data instead of query parameters. It simply doesn't seem right. Query parameters are way more suited to <code>GET</code> requests than to <code>POST</code>, <code>PUT</code> or <code>PATCH</code>.</p>\n</li>\n<li><p>I would rename <code>/403</code> to something else that actually gives some context about what <code>403</code> is. Having said this, I would go with <code>/error-pages/403</code>. Additionally, I would also consider removing this endpoint from the swagger specification.</p>\n</li>\n</ol>\n<p>Other than this, it seems fine to me.</p>\n"},{"tags":[],"owner":{"account_id":17973357,"reputation":66,"user_id":13061548,"display_name":"Tarun Singh Rawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635536189,"creation_date":1635536189,"answer_id":69773978,"question_id":69773257,"body_markdown":" 1. Firstly, instead of **@RequestMapping** use a specific Mapping(Get, Post,etc.) and the use of type of mapping is up to you which you find more particular to the cause of using it\r\n\r\n 2. if you are redirecting from a page to homepage try to use return &quot;**redirect**:&quot;*/url*&quot;&quot; instead of just returning HTML file directly.\r\n\r\n 3. Rename your method for error, RequestMapping value to some more reasonable name.\r\n\r\n 4. instead of using **return &quot;/error/403&quot;**\r\nuse **return &quot;redirect:/error/403&quot;**\r\n\r\n","title":"How to design API in Spring MVC?","body":"<ol>\n<li><p>Firstly, instead of <strong>@RequestMapping</strong> use a specific Mapping(Get, Post,etc.) and the use of type of mapping is up to you which you find more particular to the cause of using it</p>\n</li>\n<li><p>if you are redirecting from a page to homepage try to use return &quot;<strong>redirect</strong>:&quot;<em>/url</em>&quot;&quot; instead of just returning HTML file directly.</p>\n</li>\n<li><p>Rename your method for error, RequestMapping value to some more reasonable name.</p>\n</li>\n<li><p>instead of using <strong>return &quot;/error/403&quot;</strong>\nuse <strong>return &quot;redirect:/error/403&quot;</strong></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635557116,"creation_date":1635557116,"answer_id":69776129,"question_id":69773257,"body_markdown":"Some advices :\r\n\r\n1. Use a path that represents the context or the idea of your `controller` and you can add the `version`\r\n\r\n    `@RequestMapping(&quot;/V1/xgame&quot;)`\r\n\r\n2. Use specialized annotations such as : `@GetMapping`, `@PostMapping` etc...\r\n\r\n3. For `/403` use a meaning full name such as `/errors`\r\n\r\n4. Use custom message that you will return to the users. For that you need a [ControllerAdvice][1].\r\n\r\n5. Google on [patterns and best practices][2] Rest API design\r\n\r\n6. Read some [books][3] for better undertanding.\r\n\r\n\r\n  [1]: https://medium.com/@jovannypcg/understanding-springs-controlleradvice-cd96a364033f\r\n  [2]: https://dzone.com/articles/a-look-at-rest-api-design-patterns\r\n  [3]: https://bookauthority.org/books/new-api-design-books","title":"How to design API in Spring MVC?","body":"<p>Some advices :</p>\n<ol>\n<li><p>Use a path that represents the context or the idea of your <code>controller</code> and you can add the <code>version</code></p>\n<p><code>@RequestMapping(&quot;/V1/xgame&quot;)</code></p>\n</li>\n<li><p>Use specialized annotations such as : <code>@GetMapping</code>, <code>@PostMapping</code> etc...</p>\n</li>\n<li><p>For <code>/403</code> use a meaning full name such as <code>/errors</code></p>\n</li>\n<li><p>Use custom message that you will return to the users. For that you need a <a href=\"https://medium.com/@jovannypcg/understanding-springs-controlleradvice-cd96a364033f\" rel=\"nofollow noreferrer\">ControllerAdvice</a>.</p>\n</li>\n<li><p>Google on <a href=\"https://dzone.com/articles/a-look-at-rest-api-design-patterns\" rel=\"nofollow noreferrer\">patterns and best practices</a> Rest API design</p>\n</li>\n<li><p>Read some <a href=\"https://bookauthority.org/books/new-api-design-books\" rel=\"nofollow noreferrer\">books</a> for better undertanding.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":5287217,"reputation":133,"user_id":4220784,"accept_rate":58,"display_name":"Burak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69773715,"answer_count":3,"score":1,"last_activity_date":1635557116,"creation_date":1635531650,"question_id":69773257,"body_markdown":"I have a Spring MVC controller but I&#39;m not sure that it is a good or bad design. As far as I know, api versioning is missing but apart from that I implemented Swagger for documentation and added SpringSecurity and tried to follow YARAS(Yet Another RESTful API Standard) to build it but I need another eye on that to comment it.\r\n\r\n    @Slf4j\r\n    @Controller\r\n    @RequestMapping\r\n    @RequiredArgsConstructor\r\n    public class XGameController implements GameController {\r\n    \r\n        private final GameService gameService;\r\n    \r\n        private final ObjectMapper mapper;\r\n    \r\n        @RequestMapping(value = &quot;/&quot;, method= RequestMethod.GET)\r\n        public String index() {\r\n            return &quot;game&quot;;\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/login&quot;, method= RequestMethod.GET)\r\n        public String login() {\r\n            return &quot;login&quot;;\r\n        }\r\n    \r\n        @Secured(&quot;ROLE_USER&quot;)\r\n        @RequestMapping(value = &quot;/games&quot;, method= RequestMethod.POST)\r\n        public String initializeGame(Model model) {\r\n            log.info(&quot;New XGame is initializing...&quot;);\r\n            Game game = new Game();\r\n            game = gameService.initializeGame(game.getId());\r\n    \r\n            try {\r\n                model.addAttribute(&quot;game&quot;, mapper.writeValueAsString(game));\r\n            } catch (JsonProcessingException e) {\r\n                log.error(e.getMessage());\r\n            }\r\n            log.info(&quot;New XGame is initialized successfully!&quot;);\r\n            return &quot;game&quot;;\r\n        }\r\n    \r\n        @Secured(&quot;ROLE_USER&quot;)\r\n        @RequestMapping(value = &quot;/games/{gameId}&quot;, method= RequestMethod.PUT)\r\n        public @ResponseBody Game play(@PathVariable(&quot;gameId&quot;) String gameId,\r\n                                       @RequestParam Integer pitNumber,\r\n                                       @RequestParam String action) {\r\n            log.info(&quot;Sowing stone is triggered...&quot;);\r\n            return gameService.executeGameRules(UUID.fromString(gameId), pitNumber);\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/403&quot;, method= RequestMethod.GET)\r\n        public String error403() {\r\n            return &quot;/error/403&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nMy swagger snapshot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0dFDJ.png","title":"How to design API in Spring MVC?","body":"<p>I have a Spring MVC controller but I'm not sure that it is a good or bad design. As far as I know, api versioning is missing but apart from that I implemented Swagger for documentation and added SpringSecurity and tried to follow YARAS(Yet Another RESTful API Standard) to build it but I need another eye on that to comment it.</p>\n<pre><code>@Slf4j\n@Controller\n@RequestMapping\n@RequiredArgsConstructor\npublic class XGameController implements GameController {\n\n    private final GameService gameService;\n\n    private final ObjectMapper mapper;\n\n    @RequestMapping(value = &quot;/&quot;, method= RequestMethod.GET)\n    public String index() {\n        return &quot;game&quot;;\n    }\n\n    @RequestMapping(value = &quot;/login&quot;, method= RequestMethod.GET)\n    public String login() {\n        return &quot;login&quot;;\n    }\n\n    @Secured(&quot;ROLE_USER&quot;)\n    @RequestMapping(value = &quot;/games&quot;, method= RequestMethod.POST)\n    public String initializeGame(Model model) {\n        log.info(&quot;New XGame is initializing...&quot;);\n        Game game = new Game();\n        game = gameService.initializeGame(game.getId());\n\n        try {\n            model.addAttribute(&quot;game&quot;, mapper.writeValueAsString(game));\n        } catch (JsonProcessingException e) {\n            log.error(e.getMessage());\n        }\n        log.info(&quot;New XGame is initialized successfully!&quot;);\n        return &quot;game&quot;;\n    }\n\n    @Secured(&quot;ROLE_USER&quot;)\n    @RequestMapping(value = &quot;/games/{gameId}&quot;, method= RequestMethod.PUT)\n    public @ResponseBody Game play(@PathVariable(&quot;gameId&quot;) String gameId,\n                                   @RequestParam Integer pitNumber,\n                                   @RequestParam String action) {\n        log.info(&quot;Sowing stone is triggered...&quot;);\n        return gameService.executeGameRules(UUID.fromString(gameId), pitNumber);\n    }\n\n    @RequestMapping(value = &quot;/403&quot;, method= RequestMethod.GET)\n    public String error403() {\n        return &quot;/error/403&quot;;\n    }\n\n}\n</code></pre>\n<p>My swagger snapshot;</p>\n<p><a href=\"https://i.stack.imgur.com/0dFDJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0dFDJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-8","java-stream","bigdecimal"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":3,"creation_date":1501750287,"post_id":45479088,"comment_id":77918976,"body_markdown":"Please do not put answer in your question. Post it separately by pressing &quot;Post your answer&quot;.","body":"Please do not put answer in your question. Post it separately by pressing &quot;Post your answer&quot;."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1501749878,"creation_date":1501749878,"answer_id":45479186,"question_id":45479088,"body_markdown":"You can use `reducing` to perform the summing with `BigDecimal`:\r\n\r\n    .collect(Collectors.groupingBy(A::getId,              \r\n                                   Collectors.reducing(BigDecimal.ZERO, \r\n                                                       A::getAmount, \r\n                                                       BigDecimal::add)))","title":"Java 8 group by and BigDecimal","body":"<p>You can use <code>reducing</code> to perform the summing with <code>BigDecimal</code>:</p>\n\n<pre><code>.collect(Collectors.groupingBy(A::getId,              \n                               Collectors.reducing(BigDecimal.ZERO, \n                                                   A::getAmount, \n                                                   BigDecimal::add)))\n</code></pre>\n"}],"owner":{"account_id":8070071,"reputation":863,"user_id":6083123,"accept_rate":43,"display_name":"Grechka Vassili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3015,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":45479186,"answer_count":1,"score":6,"last_activity_date":1635556914,"creation_date":1501749621,"question_id":45479088,"body_markdown":"I have a Java class like \r\n\r\n    public class A {\r\n        private int id;\r\n        private BigDecimal amount;\r\n    }\r\n\r\nI would like to group by id with java 8 several objects like this : \r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            A a1 = new A(1, new BigDecimal(&quot;500.36&quot;));\r\n            A a2 = new A(2, new BigDecimal(&quot;439.97&quot;));\r\n            A a3 = new A(2, new BigDecimal(&quot;49.97&quot;));\r\n            A a4 = new A(2, new BigDecimal(&quot;9.97&quot;));\r\n    \r\n            List&lt;A&gt; postings = new ArrayList&lt;&gt;();\r\n            postings.add(a1);\r\n            postings.add(a2);\r\n            postings.add(a3);\r\n            postings.add(a4);\r\n    \r\n            List&lt;A&gt; brol = new ArrayList&lt;&gt;();\r\n    \r\n            System.out.println(&quot;-----------------&quot;);\r\n    \r\n            postings.stream()\r\n                    .collect(Collectors.groupingBy(A -&gt; A.getId(), Collectors.summingDouble(A-&gt;A.getAmount().doubleValue())))\r\n                    .forEach((id, sum) -&gt; brol.add(new A(id, BigDecimal.valueOf(sum))));\r\n    \r\n            brol.forEach(System.out::println);\r\n        }\r\n    }\r\n\r\nAnd the output is : \r\n\r\n&gt; 1 500.36&lt;br/&gt; 2 499.91\r\n\r\nWhich is exactly what I&#39;m looking for. But, there is the `Collectors.summingDouble` operation and I know that `Double` is not suitable for currency operations.\r\nSo will I have problems with this method (working on money operations) or there is a way to do it with BigDecimal ? \r\n","title":"Java 8 group by and BigDecimal","body":"<p>I have a Java class like</p>\n<pre><code>public class A {\n    private int id;\n    private BigDecimal amount;\n}\n</code></pre>\n<p>I would like to group by id with java 8 several objects like this :</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        A a1 = new A(1, new BigDecimal(&quot;500.36&quot;));\n        A a2 = new A(2, new BigDecimal(&quot;439.97&quot;));\n        A a3 = new A(2, new BigDecimal(&quot;49.97&quot;));\n        A a4 = new A(2, new BigDecimal(&quot;9.97&quot;));\n\n        List&lt;A&gt; postings = new ArrayList&lt;&gt;();\n        postings.add(a1);\n        postings.add(a2);\n        postings.add(a3);\n        postings.add(a4);\n\n        List&lt;A&gt; brol = new ArrayList&lt;&gt;();\n\n        System.out.println(&quot;-----------------&quot;);\n\n        postings.stream()\n                .collect(Collectors.groupingBy(A -&gt; A.getId(), Collectors.summingDouble(A-&gt;A.getAmount().doubleValue())))\n                .forEach((id, sum) -&gt; brol.add(new A(id, BigDecimal.valueOf(sum))));\n\n        brol.forEach(System.out::println);\n    }\n}\n</code></pre>\n<p>And the output is :</p>\n<blockquote>\n<p>1 500.36<br/> 2 499.91</p>\n</blockquote>\n<p>Which is exactly what I'm looking for. But, there is the <code>Collectors.summingDouble</code> operation and I know that <code>Double</code> is not suitable for currency operations.\nSo will I have problems with this method (working on money operations) or there is a way to do it with BigDecimal ?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":2,"creation_date":1348075157,"post_id":12499707,"comment_id":16820899,"body_markdown":"are you including xercesImpl.jar in your app somewhere?  if so, that&#39;s likely causing the problem.","body":"are you including xercesImpl.jar in your app somewhere?  if so, that&#39;s likely causing the problem."},{"owner":{"account_id":1632176,"reputation":1335,"user_id":1506502,"display_name":"Vlad Hudnitsky"},"score":0,"creation_date":1348075517,"post_id":12499707,"comment_id":16821023,"body_markdown":"no, I think it default parser","body":"no, I think it default parser"},{"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"score":0,"creation_date":1348075827,"post_id":12499707,"comment_id":16821139,"body_markdown":"I vaguely remember this having to do with xml-apis.jar and xercesImpl.jar in the classpath. You may want to check this: http://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven","body":"I vaguely remember this having to do with xml-apis.jar and xercesImpl.jar in the classpath. You may want to check this: <a href=\"http://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven\" title=\"dealing with xerces hell in java maven\">stackoverflow.com/questions/11677572/&hellip;</a>"},{"owner":{"account_id":1632176,"reputation":1335,"user_id":1506502,"display_name":"Vlad Hudnitsky"},"score":0,"creation_date":1348077919,"post_id":12499707,"comment_id":16821993,"body_markdown":"sorry I find xercesImpl.jar. But it include in other big lib, and I couldn`t delete it =\\","body":"sorry I find xercesImpl.jar. But it include in other big lib, and I couldn`t delete it =\\"}],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348080359,"creation_date":1348080359,"answer_id":12500944,"question_id":12499707,"body_markdown":"including other versions of xerxesImpl is generally a recipe for pain.  remove any xercesImpl or xml-apis jars from your app.","title":"Hibernate org.apache.xerces.parsers.SAXParser does not implement XMLReader exception","body":"<p>including other versions of xerxesImpl is generally a recipe for pain.  remove any xercesImpl or xml-apis jars from your app.</p>\n"},{"tags":[],"owner":{"account_id":1632176,"reputation":1335,"user_id":1506502,"display_name":"Vlad Hudnitsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348492762,"creation_date":1348492762,"answer_id":12565892,"question_id":12499707,"body_markdown":"The problem was resolved. I found a few factors that have not seen before.\r\nThese were the parsers that included in custom lib, how hibernate.core, dom4j and other.","title":"Hibernate org.apache.xerces.parsers.SAXParser does not implement XMLReader exception","body":"<p>The problem was resolved. I found a few factors that have not seen before.\nThese were the parsers that included in custom lib, how hibernate.core, dom4j and other.</p>\n"}],"owner":{"account_id":1632176,"reputation":1335,"user_id":1506502,"display_name":"Vlad Hudnitsky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635555650,"creation_date":1348075046,"question_id":12499707,"body_markdown":"When I try config hibernate and java app (how Jira service) , I have this error:\r\n&lt;!-- language:java\r\n\r\n    Warning: Caught exception attempting to use SAX to load a SAX XMLReader \r\n    [INFO] [talledLocalContainer] Warning: Exception was: java.lang.ClassCastException:org.apache.xerces.parsers.SAXParser cannot be cast to org.xml.sax.XMLReader\r\n    [INFO] [talledLocalContainer] Warning: I will print the stack trace then carry on using the default SAX parser\r\n    [INFO] [talledLocalContainer] java.lang.ClassCastException: org.apache.xerces.parsers.SAXParser cannot be cast to org.xml.sax.XMLReader\r\n    [INFO] [talledLocalContainer] \tat org.xml.sax.helpers.XMLReaderFactory.loadClass(XMLReaderFactory.java:243)\r\n    [INFO] [talledLocalContainer] \tat org.xml.sax.helpers.XMLReaderFactory.createXMLReader(XMLReaderFactory.java:194)\r\n    [INFO] [talledLocalContainer] \tat org.dom4j.io.SAXHelper.createXMLReader(SAXHelper.java:83)\r\n    [INFO] [talledLocalContainer] \tat org.dom4j.io.SAXReader.createXMLReader(SAXReader.java:894)\r\n    [INFO] [talledLocalContainer] \tat org.dom4j.io.SAXReader.getXMLReader(SAXReader.java:715)\r\n    [INFO] [talledLocalContainer] \tat org.dom4j.io.SAXReader.read(SAXReader.java:435)\r\n    [INFO] [talledLocalContainer] \tat org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1518)\r\n--&gt;\r\n\r\n    Caused by: org.hibernate.HibernateException: Could not parse configuration: hibernate.cfg.xml\r\n    [INFO] [talledLocalContainer] \tat org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1528)\r\n    [INFO] [talledLocalContainer] \tat org.hibernate.cfg.AnnotationConfiguration.doConfigure(AnnotationConfiguration.java:1035)\r\n    Caused by: org.dom4j.DocumentException: SAX2 driver class org.apache.xerces.parsers.SAXParser does not implement XMLReader Nested exception: SAX2 driver class org.apache.xerces.parsers.SAXParser does not implement XMLReader\r\n    [INFO] [talledLocalContainer] \tat org.dom4j.io.SAXReader.read(SAXReader.java:484)\r\n    [INFO] [talledLocalContainer] \tat org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1518)\r\n    [INFO] [talledLocalContainer] \t... 14 more\r\n  \r\n--&gt;\r\n\r\n....\r\nMy hibernate.cfg.xml :\r\n&lt;!-- language:xml\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/navision&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;admin&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;admin&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot;&gt;false&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.cache.use_query_cache&quot;&gt;false&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.cache.use_second_level_cache&quot;&gt;false&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.generate_statistics&quot;&gt;false&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.acquire_increment&quot;&gt;1&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;100&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;100&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;0&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;10&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;100&lt;/property&gt;\r\n            &lt;property name=&quot;connection.provider_class&quot;&gt;org.hibernate.connection.C3P0ConnectionProvider&lt;/property&gt;\r\n            &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n        &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n\r\n--&gt;\r\n\r\nI have this error when i try to init SessionFactory for db:\r\n&lt;!-- language:java\r\n\r\n    ourSessionFactory = new AnnotationConfiguration().configure(&quot;hibernate.cfg.xml&quot;).addAnnotatedClass(Navision.class).buildSessionFactory(); \r\n\r\n--&gt;","title":"Hibernate org.apache.xerces.parsers.SAXParser does not implement XMLReader exception","body":"<p>When I try config hibernate and java app (how Jira service) , I have this error:\n\n\n<pre><code>Warning: Caught exception attempting to use SAX to load a SAX XMLReader \n[INFO] [talledLocalContainer] Warning: Exception was: java.lang.ClassCastException:org.apache.xerces.parsers.SAXParser cannot be cast to org.xml.sax.XMLReader\n[INFO] [talledLocalContainer] Warning: I will print the stack trace then carry on using the default SAX parser\n[INFO] [talledLocalContainer] java.lang.ClassCastException: org.apache.xerces.parsers.SAXParser cannot be cast to org.xml.sax.XMLReader\n[INFO] [talledLocalContainer]   at org.xml.sax.helpers.XMLReaderFactory.loadClass(XMLReaderFactory.java:243)\n[INFO] [talledLocalContainer]   at org.xml.sax.helpers.XMLReaderFactory.createXMLReader(XMLReaderFactory.java:194)\n[INFO] [talledLocalContainer]   at org.dom4j.io.SAXHelper.createXMLReader(SAXHelper.java:83)\n[INFO] [talledLocalContainer]   at org.dom4j.io.SAXReader.createXMLReader(SAXReader.java:894)\n[INFO] [talledLocalContainer]   at org.dom4j.io.SAXReader.getXMLReader(SAXReader.java:715)\n[INFO] [talledLocalContainer]   at org.dom4j.io.SAXReader.read(SAXReader.java:435)\n[INFO] [talledLocalContainer]   at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1518)\n</code></pre>\n\n<p>--></p>\n\n<pre><code>Caused by: org.hibernate.HibernateException: Could not parse configuration: hibernate.cfg.xml\n[INFO] [talledLocalContainer]   at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1528)\n[INFO] [talledLocalContainer]   at org.hibernate.cfg.AnnotationConfiguration.doConfigure(AnnotationConfiguration.java:1035)\nCaused by: org.dom4j.DocumentException: SAX2 driver class org.apache.xerces.parsers.SAXParser does not implement XMLReader Nested exception: SAX2 driver class org.apache.xerces.parsers.SAXParser does not implement XMLReader\n[INFO] [talledLocalContainer]   at org.dom4j.io.SAXReader.read(SAXReader.java:484)\n[INFO] [talledLocalContainer]   at org.hibernate.cfg.Configuration.doConfigure(Configuration.java:1518)\n[INFO] [talledLocalContainer]   ... 14 more\n</code></pre>\n\n<p>--></p>\n\n<p>....\nMy hibernate.cfg.xml :\n\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n    \"-//Hibernate/Hibernate Configuration DTD//EN\"\n    \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost:3306/navision&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.username\"&gt;admin&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.password\"&gt;admin&lt;/property&gt;\n        &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n        &lt;property name=\"hibernate.show_sql\"&gt;false&lt;/property&gt;\n        &lt;property name=\"hibernate.cache.use_query_cache\"&gt;false&lt;/property&gt;\n        &lt;property name=\"hibernate.cache.use_second_level_cache\"&gt;false&lt;/property&gt;\n        &lt;property name=\"hibernate.generate_statistics\"&gt;false&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.acquire_increment\"&gt;1&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.idle_test_period\"&gt;100&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.max_size\"&gt;100&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.max_statements\"&gt;0&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.min_size\"&gt;10&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.timeout\"&gt;100&lt;/property&gt;\n        &lt;property name=\"connection.provider_class\"&gt;org.hibernate.connection.C3P0ConnectionProvider&lt;/property&gt;\n        &lt;property name=\"hbm2ddl.auto\"&gt;update&lt;/property&gt;\n    &lt;/session-factory&gt;\n</code></pre>\n\n<p></p>\n\n<p>--></p>\n\n<p>I have this error when i try to init SessionFactory for db:\n\n\n<pre><code>ourSessionFactory = new AnnotationConfiguration().configure(\"hibernate.cfg.xml\").addAnnotatedClass(Navision.class).buildSessionFactory(); \n</code></pre>\n\n<p>--></p>\n"},{"tags":["java","android","database","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635581494,"post_id":69776056,"comment_id":123341083,"body_markdown":"Is your app crashing? If yes, show us the entire message that you get.","body":"Is your app crashing? If yes, show us the entire message that you get."},{"owner":{"account_id":23046369,"reputation":1,"user_id":17163880,"display_name":"Kramerlle"},"score":0,"creation_date":1635593932,"post_id":69776056,"comment_id":123343357,"body_markdown":"no its not crashing","body":"no its not crashing"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635594021,"post_id":69776056,"comment_id":123343378,"body_markdown":"How do you get the error? And what is the entire message of &quot;Please change your database URL to ...&quot;?","body":"How do you get the error? And what is the entire message of &quot;Please change your database URL to ...&quot;?"},{"owner":{"account_id":23046369,"reputation":1,"user_id":17163880,"display_name":"Kramerlle"},"score":0,"creation_date":1635594544,"post_id":69776056,"comment_id":123343483,"body_markdown":"i get the error when i try to register the user and the Authentication\n is successfull but the database i still empthy. the exact error is:","body":"i get the error when i try to register the user and the Authentication  is successfull but the database i still empthy. the exact error is:"},{"owner":{"account_id":23046369,"reputation":1,"user_id":17163880,"display_name":"Kramerlle"},"score":0,"creation_date":1635594566,"post_id":69776056,"comment_id":123343484,"body_markdown":"2021-10-30 13:47:49.204 21891-21960/com.kramerlle.nodubts W/PersistentConnection: pc_0 - Firebase Database connection was forcefully killed by the server. Will not attempt reconnect. Reason: Database lives in a different region. Please change your database URL to https://nodubts-default-rtdb.europe-west1.firebasedatabase.app     AND","body":"2021-10-30 13:47:49.204 21891-21960/com.kramerlle.nodubts W/PersistentConnection: pc_0 - Firebase Database connection was forcefully killed by the server. Will not attempt reconnect. Reason: Database lives in a different region. Please change your database URL to <a href=\"https://nodubts-default-rtdb.europe-west1.firebasedatabase.app\" rel=\"nofollow noreferrer\">nodubts-default-rtdb.europe-west1.firebasedatabase.app</a>     AND"},{"owner":{"account_id":23046369,"reputation":1,"user_id":17163880,"display_name":"Kramerlle"},"score":0,"creation_date":1635594578,"post_id":69776056,"comment_id":123343486,"body_markdown":"2021-10-30 13:47:48.496 21891-21916/com.kramerlle.nodubts W/System: Ignoring header X-Firebase-Locale because its value was null.","body":"2021-10-30 13:47:48.496 21891-21916/com.kramerlle.nodubts W/System: Ignoring header X-Firebase-Locale because its value was null."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635594789,"post_id":69776056,"comment_id":123343529,"body_markdown":"Please check the duplicate to see how you can solve that.","body":"Please check the duplicate to see how you can solve that."}],"owner":{"account_id":23046369,"reputation":1,"user_id":17163880,"display_name":"Kramerlle"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635594776,"answer_count":0,"score":0,"last_activity_date":1635555630,"creation_date":1635555630,"question_id":69776056,"body_markdown":"im getting this error and im absolutly frustrated. Im trying to connect my app with my firebase realtime databse to make a log in system but its just dont working. Im really strugggeling at this and  it could be nice if someone could help me. I also have an error where it says: &quot;Please change your database URL to ...&quot; and i dont know what that does exactly mean.\r\n\r\n\r\n\r\n\r\n    public class RegisterUser extends AppCompatActivity implements View.OnClickListener {\r\n\r\n    private FirebaseAuth mAuth;\r\n\r\n    private TextView banner, registerUser;\r\n    private EditText editTextPersonName,editTextTextPersonName2,editTextEmail,editTextPassword;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register_user);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        banner = (TextView) findViewById(R.id.banner);\r\n        banner.setOnClickListener(this);\r\n\r\n        registerUser = (Button) findViewById(R.id.register);\r\n        registerUser.setOnClickListener(this);\r\n\r\n        editTextPersonName = (EditText) findViewById(R.id.fullname);\r\n        editTextTextPersonName2 = (EditText) findViewById(R.id.username);\r\n        editTextEmail = (EditText) findViewById(R.id.email);\r\n        editTextPassword = (EditText) findViewById(R.id.password);\r\n    }\r\n\r\n    public void onClick(View v){\r\n        switch (v.getId()){\r\n            case R.id.banner:\r\n                startActivity(new Intent(this,MainActivity.class));\r\n                break;\r\n            case R.id.register:\r\n                registerUser();\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void registerUser() {\r\n        String email = editTextEmail.getText().toString().trim();\r\n        String username = editTextTextPersonName2.getText().toString().trim();\r\n        String fullname = editTextPersonName.getText().toString().trim();\r\n        String password = editTextPassword.getText().toString().trim();\r\n\r\n        if(fullname.isEmpty()){\r\n            editTextPersonName.setError(&quot;Full name is required&quot;);\r\n            editTextPersonName.requestFocus();\r\n            return;\r\n        }\r\n\r\n        if(email.isEmpty()){\r\n            editTextEmail.setError(&quot;Email is required&quot;);\r\n            editTextEmail.requestFocus();\r\n            return;\r\n        }\r\n\r\n        if(username.isEmpty()){\r\n            editTextTextPersonName2.setError(&quot;Username is required&quot;);\r\n            editTextTextPersonName2.requestFocus();\r\n            return;\r\n        }\r\n\r\n        if(password.isEmpty()){\r\n            editTextPassword.setError(&quot;Password is required&quot;);\r\n            editTextPassword.requestFocus();\r\n            return;\r\n        }\r\n\r\n        if(!Patterns.EMAIL_ADDRESS.matcher(email).matches()) {\r\n            editTextEmail.setError(&quot;Please provide valid email!&quot;);\r\n            editTextEmail.requestFocus();\r\n            return;\r\n        }\r\n\r\n       if(password.length() &lt; 6){\r\n           editTextPassword.setError(&quot;Min password length should be 6 character!&quot;);\r\n           editTextPassword.requestFocus();\r\n           return;\r\n       }\r\n\r\n       mAuth.createUserWithEmailAndPassword(email,password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n           @Override\r\n           public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n               if(task.isSuccessful()){\r\n                   User user = new User(fullname, username, email);\r\n\r\n                   FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                       @Override\r\n                       public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                           if(task.isSuccessful()){\r\n                               Toast.makeText(RegisterUser.this,&quot;User has been registered successfully&quot;,Toast.LENGTH_LONG).show();\r\n                           }\r\n                           else{\r\n                               Toast.makeText(RegisterUser.this,&quot;Failed to register! Try again!&quot;,Toast.LENGTH_LONG).show();\r\n                           }\r\n                       }\r\n                   });\r\n               }\r\n               else{\r\n                   Toast.makeText(RegisterUser.this,&quot;Failed to register! Try again!&quot;,Toast.LENGTH_LONG).show();\r\n               }\r\n           }\r\n       });\r\n\r\n    }\r\n`\r\n","title":"Error: Ignoring header X-Firebase-Locale because its value was null","body":"<p>im getting this error and im absolutly frustrated. Im trying to connect my app with my firebase realtime databse to make a log in system but its just dont working. Im really strugggeling at this and  it could be nice if someone could help me. I also have an error where it says: &quot;Please change your database URL to ...&quot; and i dont know what that does exactly mean.</p>\n<pre><code>public class RegisterUser extends AppCompatActivity implements View.OnClickListener {\n\nprivate FirebaseAuth mAuth;\n\nprivate TextView banner, registerUser;\nprivate EditText editTextPersonName,editTextTextPersonName2,editTextEmail,editTextPassword;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_register_user);\n\n    mAuth = FirebaseAuth.getInstance();\n\n    banner = (TextView) findViewById(R.id.banner);\n    banner.setOnClickListener(this);\n\n    registerUser = (Button) findViewById(R.id.register);\n    registerUser.setOnClickListener(this);\n\n    editTextPersonName = (EditText) findViewById(R.id.fullname);\n    editTextTextPersonName2 = (EditText) findViewById(R.id.username);\n    editTextEmail = (EditText) findViewById(R.id.email);\n    editTextPassword = (EditText) findViewById(R.id.password);\n}\n\npublic void onClick(View v){\n    switch (v.getId()){\n        case R.id.banner:\n            startActivity(new Intent(this,MainActivity.class));\n            break;\n        case R.id.register:\n            registerUser();\n            break;\n    }\n}\n\nprivate void registerUser() {\n    String email = editTextEmail.getText().toString().trim();\n    String username = editTextTextPersonName2.getText().toString().trim();\n    String fullname = editTextPersonName.getText().toString().trim();\n    String password = editTextPassword.getText().toString().trim();\n\n    if(fullname.isEmpty()){\n        editTextPersonName.setError(&quot;Full name is required&quot;);\n        editTextPersonName.requestFocus();\n        return;\n    }\n\n    if(email.isEmpty()){\n        editTextEmail.setError(&quot;Email is required&quot;);\n        editTextEmail.requestFocus();\n        return;\n    }\n\n    if(username.isEmpty()){\n        editTextTextPersonName2.setError(&quot;Username is required&quot;);\n        editTextTextPersonName2.requestFocus();\n        return;\n    }\n\n    if(password.isEmpty()){\n        editTextPassword.setError(&quot;Password is required&quot;);\n        editTextPassword.requestFocus();\n        return;\n    }\n\n    if(!Patterns.EMAIL_ADDRESS.matcher(email).matches()) {\n        editTextEmail.setError(&quot;Please provide valid email!&quot;);\n        editTextEmail.requestFocus();\n        return;\n    }\n\n   if(password.length() &lt; 6){\n       editTextPassword.setError(&quot;Min password length should be 6 character!&quot;);\n       editTextPassword.requestFocus();\n       return;\n   }\n\n   mAuth.createUserWithEmailAndPassword(email,password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n       @Override\n       public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n           if(task.isSuccessful()){\n               User user = new User(fullname, username, email);\n\n               FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                   @Override\n                   public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                       if(task.isSuccessful()){\n                           Toast.makeText(RegisterUser.this,&quot;User has been registered successfully&quot;,Toast.LENGTH_LONG).show();\n                       }\n                       else{\n                           Toast.makeText(RegisterUser.this,&quot;Failed to register! Try again!&quot;,Toast.LENGTH_LONG).show();\n                       }\n                   }\n               });\n           }\n           else{\n               Toast.makeText(RegisterUser.this,&quot;Failed to register! Try again!&quot;,Toast.LENGTH_LONG).show();\n           }\n       }\n   });\n\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635555468,"creation_date":1635554749,"answer_id":69776004,"question_id":69775982,"body_markdown":"You&#39;re overwriting the first assignment.  Try this:\r\n\r\n    for (int i = 0; i &lt; n; i++) {\r\n      hold = nums1.get(i + m);\r\n      System.out.println(hold);\r\n      \r\n      hold = nums2.get(i);\r\n      System.out.println(hold);\r\n    }","title":"Merging two array List together and sorting them, removing the zeroes in the process","body":"<p>You're overwriting the first assignment.  Try this:</p>\n<pre><code>for (int i = 0; i &lt; n; i++) {\n  hold = nums1.get(i + m);\n  System.out.println(hold);\n  \n  hold = nums2.get(i);\n  System.out.println(hold);\n}\n</code></pre>\n"}],"owner":{"account_id":23143527,"reputation":21,"user_id":17246602,"display_name":"Sslur"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1635563653,"accepted_answer_id":69776004,"answer_count":1,"score":-3,"last_activity_date":1635555468,"creation_date":1635554396,"question_id":69775982,"body_markdown":"I am having trouble merging one array list to another array list. For example, lets say the first array list has the numbers (1,2,3,0,0,0), and the second array list (2,5,6) the program should output (1,2,2,3,5,6). The problem with my output is that when I print using the hold variable, it gives me the output of only the second list, it does not take into account the first list. I am confused on what I need to add to fix this.\r\n\r\nMy code:\r\n\r\n```\r\n        List&lt;Integer&gt; nums1 = Arrays.asList(1,2,3,0,0,0);\r\n        int m = 3;\r\n        \r\n        List&lt;Integer&gt; nums2 = Arrays.asList(2,5,6);\r\n        int n = 3;\r\n        \r\n        int hold;\r\n        for (int i = 0; i &lt; n; i++) {\r\n           hold = nums1.get(i + m);\r\n           hold = nums2.get(i);\r\n           \r\n           System.out.println(hold);\r\n        }\r\n```\r\n\r\nUpdate: sorry in advance, for some reason when I put the code in between the quotes, it never prints it in the code block. \r\n\r\n","title":"Merging two array List together and sorting them, removing the zeroes in the process","body":"<p>I am having trouble merging one array list to another array list. For example, lets say the first array list has the numbers (1,2,3,0,0,0), and the second array list (2,5,6) the program should output (1,2,2,3,5,6). The problem with my output is that when I print using the hold variable, it gives me the output of only the second list, it does not take into account the first list. I am confused on what I need to add to fix this.</p>\n<p>My code:</p>\n<pre><code>        List&lt;Integer&gt; nums1 = Arrays.asList(1,2,3,0,0,0);\n        int m = 3;\n        \n        List&lt;Integer&gt; nums2 = Arrays.asList(2,5,6);\n        int n = 3;\n        \n        int hold;\n        for (int i = 0; i &lt; n; i++) {\n           hold = nums1.get(i + m);\n           hold = nums2.get(i);\n           \n           System.out.println(hold);\n        }\n</code></pre>\n<p>Update: sorry in advance, for some reason when I put the code in between the quotes, it never prints it in the code block.</p>\n"},{"tags":["java","spring-boot","ssl","tomcat","cas"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1635577784,"post_id":69775946,"comment_id":123340485,"body_markdown":"You changed the keystore password for `/etc/cas/password`, but not the key password for the key named `cas` (by default Tomcat assumes they are equal). Try calling `keytool -keypasswd`.","body":"You changed the keystore password for <code>&#47;etc&#47;cas&#47;password</code>, but not the key password for the key named <code>cas</code> (by default Tomcat assumes they are equal). Try calling <code>keytool -keypasswd</code>."},{"owner":{"account_id":22830530,"reputation":43,"user_id":16979074,"display_name":"Quang Le"},"score":0,"creation_date":1635623849,"post_id":69775946,"comment_id":123347378,"body_markdown":"Thanks Piotr,\n\nI think for the java default cacerts you cannot use keytool -keypasswd as there is not alias. I also tried to change keypass on the thekeystore file with alias cas. However it said the keytool with keypasswd do not support PKCS12 format.\n\nHere you can see the way I create the keystorefile\n```\nkeytool -genkeypair -alias cas -keyalg RSA -keypass keyPass -storepass keyPass -keystore keystorePath -dname dn -ext  SAN=${subjectAltName} -storetype storeType\n```\nI think I did change the keypass during the creating thekeystore file","body":"Thanks Piotr,  I think for the java default cacerts you cannot use keytool -keypasswd as there is not alias. I also tried to change keypass on the thekeystore file with alias cas. However it said the keytool with keypasswd do not support PKCS12 format.  Here you can see the way I create the keystorefile ``` keytool -genkeypair -alias cas -keyalg RSA -keypass keyPass -storepass keyPass -keystore keystorePath -dname dn -ext  SAN=${subjectAltName} -storetype storeType ``` I think I did change the keypass during the creating thekeystore file"},{"owner":{"account_id":22830530,"reputation":43,"user_id":16979074,"display_name":"Quang Le"},"score":0,"creation_date":1636050369,"post_id":69775946,"comment_id":123460831,"body_markdown":"lol, I missed some configs. Silly me! Thanks Piotr.","body":"lol, I missed some configs. Silly me! Thanks Piotr."}],"owner":{"account_id":22830530,"reputation":43,"user_id":16979074,"display_name":"Quang Le"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1635553646,"creation_date":1635553646,"question_id":69775946,"body_markdown":"I set up CAS version 6.4.x with Helm and K8s. It works perfectly if I don&#39;t change the default keystore which is `changeit`. However, when I change the key to something else. It can&#39;t start the CAS server\r\n\r\n```\r\nWARN [org.apereo.cas.web.CasWebApplicationContext] - &lt;Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server&gt;\r\n```\r\n\r\n```\r\njava.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption. at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(Unknown Source) at java.base/sun.security.util.KeyStoreDelegator.engineGetKey(Unknown Source) at java.base/java.security.KeyStore.getKey(Unknown Source) at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:352) at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:245) at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ... 33 more \r\nCaused by: javax.crypto.BadPaddingException: Given final block not properly padded. \r\nSuch issues can arise if a bad key is used during decryption. at java.base/com.sun.crypto.provider.CipherCore.unpad(Unknown Source) at\r\njava.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(Unknown Source) at java.base/com.sun.crypto.provider.CipherCore.doFinal(Unknown Source) at java.base/com.sun.crypto.provider.PBES2Core.engineDoFinal(Unknown Source) at java.base/javax.crypto.Cipher.doFinal(Unknown Source) at \r\njava.base/sun.security.pkcs12.PKCS12KeyStore.lambda$engineGetKey$0(Unknown Source) at java.base/sun.security.pkcs12.PKCS12KeyStore$RetryWithZero.run(Unknown Source) ... 39 more\r\n```\r\n\r\nHere the steps I have done so far:\r\n```\r\n# change the key store password for current cacerts to `password`\r\nkeytool -storepasswd -keystore cacerts\r\n# run all the steps to install CAS with K8s\r\nLink: https://apereo.github.io/cas/6.4.x/installation/Kubernetes-Helm-Deployment.html\r\n# After that I also verify to ensure my truststore and thekeystore can be opened with `password` instead of `changeit`\r\n# here is my cas config\r\ncas.http-client.truststore.psw=password\r\ncas.http-client.truststore.file=/etc/cas/truststore\r\nserver.ssl.enable=true\r\nserver.ssl.key-alias=cas\r\nserver.ssl.key-store=file:/etc/cas/thekeystore\r\nserver.ssl.key-store-type=PKCS12\r\nserver.ssl.key-store-password=password\r\nserver.ssl.trust-store=file:/etc/cas/truststore\r\nserver.ssl.trust-store-type=PKCS12\r\nserver.ssl.trust-store-password=password\r\n```\r\nIt&#39;s so weird that I can&#39;t start the Tomcat Server with the new password.\r\n\r\nCould you please kindly advise what I should do? Cause I can&#39;t leave the CAS with default keystore\r\n\r\nBest regards,\r\nQuang","title":"Unable to start CAS 6.4.x Tomcat Server after changing the Default KeyStores","body":"<p>I set up CAS version 6.4.x with Helm and K8s. It works perfectly if I don't change the default keystore which is <code>changeit</code>. However, when I change the key to something else. It can't start the CAS server</p>\n<pre><code>WARN [org.apereo.cas.web.CasWebApplicationContext] - &lt;Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server&gt;\n</code></pre>\n<pre><code>java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption. at java.base/sun.security.pkcs12.PKCS12KeyStore.engineGetKey(Unknown Source) at java.base/sun.security.util.KeyStoreDelegator.engineGetKey(Unknown Source) at java.base/java.security.KeyStore.getKey(Unknown Source) at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:352) at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:245) at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ... 33 more \nCaused by: javax.crypto.BadPaddingException: Given final block not properly padded. \nSuch issues can arise if a bad key is used during decryption. at java.base/com.sun.crypto.provider.CipherCore.unpad(Unknown Source) at\njava.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(Unknown Source) at java.base/com.sun.crypto.provider.CipherCore.doFinal(Unknown Source) at java.base/com.sun.crypto.provider.PBES2Core.engineDoFinal(Unknown Source) at java.base/javax.crypto.Cipher.doFinal(Unknown Source) at \njava.base/sun.security.pkcs12.PKCS12KeyStore.lambda$engineGetKey$0(Unknown Source) at java.base/sun.security.pkcs12.PKCS12KeyStore$RetryWithZero.run(Unknown Source) ... 39 more\n</code></pre>\n<p>Here the steps I have done so far:</p>\n<pre><code># change the key store password for current cacerts to `password`\nkeytool -storepasswd -keystore cacerts\n# run all the steps to install CAS with K8s\nLink: https://apereo.github.io/cas/6.4.x/installation/Kubernetes-Helm-Deployment.html\n# After that I also verify to ensure my truststore and thekeystore can be opened with `password` instead of `changeit`\n# here is my cas config\ncas.http-client.truststore.psw=password\ncas.http-client.truststore.file=/etc/cas/truststore\nserver.ssl.enable=true\nserver.ssl.key-alias=cas\nserver.ssl.key-store=file:/etc/cas/thekeystore\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-store-password=password\nserver.ssl.trust-store=file:/etc/cas/truststore\nserver.ssl.trust-store-type=PKCS12\nserver.ssl.trust-store-password=password\n</code></pre>\n<p>It's so weird that I can't start the Tomcat Server with the new password.</p>\n<p>Could you please kindly advise what I should do? Cause I can't leave the CAS with default keystore</p>\n<p>Best regards,\nQuang</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":16576595,"reputation":61,"user_id":11978232,"display_name":"Diue Thung"},"score":1,"creation_date":1568172099,"post_id":57869615,"comment_id":102186275,"body_markdown":"In addition , I can set on each layout .setOnClickListner{\nif(holder.swipelayout.isOpened){\nviewbinderhelp.closeLayout(&quot;key string&quot;)\n}\n} but it only close when click on the layout that isOpened . My question is how do i test if one of the items in recyclerview is swiped opened ?","body":"In addition , I can set on each layout .setOnClickListner{ if(holder.swipelayout.isOpened){ viewbinderhelp.closeLayout(&quot;key string&quot;) } } but it only close when click on the layout that isOpened . My question is how do i test if one of the items in recyclerview is swiped opened ?"},{"owner":{"account_id":16183502,"reputation":641,"user_id":11684331,"display_name":"jay patoliya"},"score":1,"creation_date":1600764152,"post_id":57869615,"comment_id":113182873,"body_markdown":"you can redirect to another library, works like a charm\n \nhttps://android-pratap.blogspot.com/2015/07/swipe-recyclerview-using.html?m=1","body":"you can redirect to another library, works like a charm   <a href=\"https://android-pratap.blogspot.com/2015/07/swipe-recyclerview-using.html?m=1\" rel=\"nofollow noreferrer\">android-pratap.blogspot.com/2015/07/&hellip;</a>"}],"owner":{"account_id":16576595,"reputation":61,"user_id":11978232,"display_name":"Diue Thung"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4131,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1635551288,"creation_date":1568114021,"question_id":57869615,"body_markdown":"I&#39;m new to android development . I&#39;m using this library https://github.com/chthai64/SwipeRevealLayout to implement swipelayout on my recyclerview.\r\n\r\nHowever , it can only swipe to open and close but i want to implement when one item is swiped open then on click of any items will close the current opened one.\r\nI just could&#39;t figure out how it works.\r\n\r\nI&#39;m sorry if my topic question doesn&#39;t match what i&#39;m describing, I&#39;m not a native english speaker.\r\n\r\n\r\n\r\n\r\n\r\n\r\nI&#39;m able to set ViewBinderHelper.setOpenOnly(true) . It can only swipe one item at a time.\r\nI tried to test if swipelayout is open or close by holder.swipelayout.isOpen , but it doesn&#39;t do anything.\r\n\r\nAny Ideas or Help would be extremely appreciated , thank you.\r\n\r\nThis is my Adapter Class \r\n\r\n    class ReturnAdapter(val context : Context , val deliveryinfo : MutableList&lt;BookingInfo&gt;) : RecyclerView.Adapter&lt;ReturnAdapter.MyViewHolder&gt;() {\r\n\r\n    private val viewbinderhelper = ViewBinderHelper()\r\n    init {\r\n        viewbinderhelper.setOpenOnlyOne(true)\r\n     }\r\n \r\n     override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\r\n         val view=LayoutInflater.from(context).inflate(R.layout.return_model_layout, parent, false)\r\n        return MyViewHolder(view)\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n        return deliveryinfo.size\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\r\n        val deliveryinformation = deliveryinfo[position]\r\n        holder.setData(deliveryinformation)\r\n        viewbinderhelper.bind(holder.swipelayout, deliveryinformation.booking_id.toString())\r\n\r\n      }  \r\n\r\n        inner class MyViewHolder(itemView:View):RecyclerView.ViewHolder(itemView) {\r\n        \r\n       val swipelayout : SwipeRevealLayout = \r\n       itemView.findViewById(R.id.swipelayout)\r\n    }\r\n\r\n\r\nMy XML file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n         &lt;com.chauthai.swipereveallayout.SwipeRevealLayoutandroid:layout_height=&quot;match_parent&quot;\r\n      xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n      android:layout_width=&quot;match_parent&quot;\r\n      xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n      app:mode=&quot;same_level&quot;\r\n      app:dragEdge=&quot;right&quot;\r\n      android:id=&quot;@+id/swipelayout&quot;&gt;\r\n\r\n            &lt;!-- Your secondary layout here --&gt;\r\n    &lt;LinearLayout android:layout_width=&quot;70dp&quot;\r\n                  android:id=&quot;@+id/deletereturn&quot;\r\n                  android:layout_height=&quot;match_parent&quot;\r\n                  android:orientation=&quot;vertical&quot;\r\n                  android:clickable=&quot;true&quot;\r\n                  android:foreground=&quot;? \r\n                  android:attr/selectableItemBackground&quot;\r\n                  android:gravity=&quot;center&quot;\r\n                  android:background=&quot;@color/red&quot;&gt;\r\n\r\n        &lt;ImageView android:layout_width=&quot;wrap_content&quot; android:layout_height=&quot;wrap_content&quot;\r\n                   android:src=&quot;@drawable/ic_delete_white_36dp&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n             &lt;!-- Your main layout here --&gt;\r\n\r\n\r\n\r\n\r\n       &lt;LinearLayout android:layout_width=&quot;match_parent&quot; \r\n        android:layout_height=&quot;wrap_content&quot;\r\n                          android:orientation=&quot;horizontal&quot;\r\n                          android:layout_marginHorizontal=&quot;30dp&quot;\r\n                          android:gravity=&quot;center&quot;\r\n                          android:layout_centerVertical=&quot;true&quot;&gt;\r\n                &lt;pl.droidsonroids.gif.GifImageView\r\n                        android:layout_width=&quot;36dp&quot;\r\n                        android:layout_gravity=&quot;center&quot;\r\n                        android:layout_height=&quot;36dp&quot;\r\n                        android:id=&quot;@+id/packaging&quot;\r\n                       android:src=&quot;@drawable/redmarkcheck&quot;&lt;/LinearLayout&gt;&lt;/com.chauthai.swipereveallayout.SwipeRevealLayout&gt;\r\n\r\n","title":"How to set swiperevealLayout on any recyclerview items click to close the open layout?","body":"<p>I'm new to android development . I'm using this library <a href=\"https://github.com/chthai64/SwipeRevealLayout\" rel=\"noreferrer\">https://github.com/chthai64/SwipeRevealLayout</a> to implement swipelayout on my recyclerview.</p>\n\n<p>However , it can only swipe to open and close but i want to implement when one item is swiped open then on click of any items will close the current opened one.\nI just could't figure out how it works.</p>\n\n<p>I'm sorry if my topic question doesn't match what i'm describing, I'm not a native english speaker.</p>\n\n<p>I'm able to set ViewBinderHelper.setOpenOnly(true) . It can only swipe one item at a time.\nI tried to test if swipelayout is open or close by holder.swipelayout.isOpen , but it doesn't do anything.</p>\n\n<p>Any Ideas or Help would be extremely appreciated , thank you.</p>\n\n<p>This is my Adapter Class </p>\n\n<pre><code>class ReturnAdapter(val context : Context , val deliveryinfo : MutableList&lt;BookingInfo&gt;) : RecyclerView.Adapter&lt;ReturnAdapter.MyViewHolder&gt;() {\n\nprivate val viewbinderhelper = ViewBinderHelper()\ninit {\n    viewbinderhelper.setOpenOnlyOne(true)\n }\n\n override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\n     val view=LayoutInflater.from(context).inflate(R.layout.return_model_layout, parent, false)\n    return MyViewHolder(view)\n}\n\noverride fun getItemCount(): Int {\n    return deliveryinfo.size\n}\n\noverride fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n    val deliveryinformation = deliveryinfo[position]\n    holder.setData(deliveryinformation)\n    viewbinderhelper.bind(holder.swipelayout, deliveryinformation.booking_id.toString())\n\n  }  \n\n    inner class MyViewHolder(itemView:View):RecyclerView.ViewHolder(itemView) {\n\n   val swipelayout : SwipeRevealLayout = \n   itemView.findViewById(R.id.swipelayout)\n}\n</code></pre>\n\n<p>My XML file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n     &lt;com.chauthai.swipereveallayout.SwipeRevealLayoutandroid:layout_height=\"match_parent\"\n  xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  android:layout_width=\"match_parent\"\n  xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n  app:mode=\"same_level\"\n  app:dragEdge=\"right\"\n  android:id=\"@+id/swipelayout\"&gt;\n\n        &lt;!-- Your secondary layout here --&gt;\n&lt;LinearLayout android:layout_width=\"70dp\"\n              android:id=\"@+id/deletereturn\"\n              android:layout_height=\"match_parent\"\n              android:orientation=\"vertical\"\n              android:clickable=\"true\"\n              android:foreground=\"? \n              android:attr/selectableItemBackground\"\n              android:gravity=\"center\"\n              android:background=\"@color/red\"&gt;\n\n    &lt;ImageView android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\"\n               android:src=\"@drawable/ic_delete_white_36dp\"/&gt;\n&lt;/LinearLayout&gt;\n\n         &lt;!-- Your main layout here --&gt;\n\n\n\n\n   &lt;LinearLayout android:layout_width=\"match_parent\" \n    android:layout_height=\"wrap_content\"\n                      android:orientation=\"horizontal\"\n                      android:layout_marginHorizontal=\"30dp\"\n                      android:gravity=\"center\"\n                      android:layout_centerVertical=\"true\"&gt;\n            &lt;pl.droidsonroids.gif.GifImageView\n                    android:layout_width=\"36dp\"\n                    android:layout_gravity=\"center\"\n                    android:layout_height=\"36dp\"\n                    android:id=\"@+id/packaging\"\n                   android:src=\"@drawable/redmarkcheck\"&lt;/LinearLayout&gt;&lt;/com.chauthai.swipereveallayout.SwipeRevealLayout&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635550986,"creation_date":1635550986,"answer_id":69775763,"question_id":69774280,"body_markdown":"You should setContentView earlier than finding any of views. So like this order:\r\n\r\n    binding = ActivityAppBinding.inflate(getLayoutInflater());\r\n    setContentView(binding.getRoot());\r\n    dLayout = findViewById(R.id.drawer_layout);\r\n    navView = (NavigationView) findViewById(R.id.navigation);\r\n    navView.setNavigationItemSelectedListener(","title":"NavigationView raises null object reference exception","body":"<p>You should setContentView earlier than finding any of views. So like this order:</p>\n<pre><code>binding = ActivityAppBinding.inflate(getLayoutInflater());\nsetContentView(binding.getRoot());\ndLayout = findViewById(R.id.drawer_layout);\nnavView = (NavigationView) findViewById(R.id.navigation);\nnavView.setNavigationItemSelectedListener(\n</code></pre>\n"}],"owner":{"account_id":18586337,"reputation":13,"user_id":13544613,"display_name":"What Ever"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635550986,"creation_date":1635538206,"question_id":69774280,"body_markdown":"I made a DrawerLayout in Android Studio, which contains a google map fragment, a NavigationView and a FrameLayout. \r\n\r\nmy drawer layout xml:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:map=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/navigation&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            map:menu=&quot;@menu/nav_items&quot;/&gt;\r\n\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/frame&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n\r\n        &lt;fragment\r\n            android:id=&quot;@+id/map&quot;\r\n            android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            tools:context=&quot;.app&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/pop_button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:background=&quot;@drawable/button_back&quot;\r\n            android:text=&quot;Pozovi&quot;\r\n            map:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            map:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            map:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            map:layout_constraintTop_toTopOf=&quot;@+id/map&quot;\r\n            map:layout_constraintVertical_bias=&quot;0.9&quot; /&gt;\r\n\r\n        &lt;ImageButton\r\n            android:onClick=&quot;open_drawer&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/ic_menu&quot;\r\n            map:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            map:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            map:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            map:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            map:layout_constraintVertical_bias=&quot;0.01&quot;\r\n            map:layout_constraintHorizontal_bias=&quot;0.01&quot;/&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n ``` \r\n\r\nIn my java activity code I added an onNavigationItemSelected Listener with:\r\n\r\n    dLayout = findViewById(R.id.drawer_layout);\r\n        navView = (NavigationView) findViewById(R.id.navigation);\r\n        navView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                Toast.makeText(getApplicationContext(),&quot;Hello&quot;,Toast.LENGTH_SHORT).show();\r\n                return true;\r\n            }\r\n        });\r\n\r\n\r\nThe problem is that this raises the following error:\r\n\r\n&gt;      Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.google.android.material.navigation.NavigationView.setNavigationItemSelectedListener(com.google.android.material.navigation.NavigationView$OnNavigationItemSelectedListener)&#39; on a null object reference\r\n\r\n\r\n\r\nThis is my full java class code:\r\n\r\n``` \r\npackage com.example.soferapp;\r\nimport androidx.annotation.ColorInt;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentActivity;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Color;\r\nimport android.location.Location;\r\nimport android.location.LocationListener;\r\nimport android.location.LocationManager;\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.util.Log;\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.soferapp.databinding.ActivityAppBinding;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.BitmapDescriptor;\r\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.Marker;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class app extends FragmentActivity implements OnMapReadyCallback{\r\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n    DatabaseReference driver_data = database.getReference(&quot;Data&quot;).child(&quot;Drivers&quot;);\r\n    DatabaseReference user_data = database.getReference(&quot;Data&quot;).child(&quot;Users&quot;);\r\n    private GoogleMap mMap;\r\n    private ActivityAppBinding binding;\r\n    LocationManager locationManager;\r\n    LocationListener locationListener;\r\n    int permission_id = 1;\r\n    Button pop_button;\r\n    int num = 0;\r\n    private DrawerLayout mDrawerLayout;\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    EditText phone_number_input;\r\n    DrawerLayout dLayout;\r\n    LatLng bih_location = new LatLng(43.86073594535343, 17.771002261242077);\r\n    NavigationView navView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        dLayout = findViewById(R.id.drawer_layout);\r\n        navView = (NavigationView) findViewById(R.id.navigation);\r\n        navView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                Toast.makeText(getApplicationContext(),&quot;Hello&quot;,Toast.LENGTH_SHORT).show();\r\n                return true;\r\n            }\r\n        });\r\n\r\n        binding = ActivityAppBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n        pop_button = findViewById(R.id.pop_button);\r\n        pop_button.setOnClickListener(new View.OnClickListener() {\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(app.this,\r\n                    R.style.BottomSheetDialogTheme);\r\n            View bottomSheetView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.bottom_window, (LinearLayout) findViewById(R.id.bottom_containter));\r\n            phone_number_input = bottomSheetView.findViewById(R.id.phone_number);\r\n            bottomSheetView.findViewById(R.id.call).setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    String phone_number = phone_number_input.getText().toString();\r\n                    String key = user_data.push().getKey();\r\n                    user_data.child(key).child(&quot;Phone_number&quot;).setValue(phone_number);\r\n                    user_data.child(key).child(&quot;Location&quot;).setValue(&quot;My coordinates&quot;);\r\n                    user_data.child(key).child(&quot;Key&quot;).setValue(key);\r\n                    Toast.makeText(app.this, &quot;Poslat je zahtjev za prevoz&quot;, Toast.LENGTH_SHORT).show();\r\n                    bottomSheetDialog.dismiss();\r\n                }\r\n            });\r\n\r\n            bottomSheetDialog.setContentView(bottomSheetView);\r\n            bottomSheetDialog.show();\r\n        }\r\n\r\n    });\r\n}\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(bih_location, 7));\r\n        driver_data.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                googleMap.clear();\r\n                list.clear();\r\n                for(DataSnapshot ds : dataSnapshot.getChildren()) {\r\n                    String driver_coordinates = ds.getValue(String.class);\r\n                    list.add(driver_coordinates);\r\n                }\r\n\r\n                for(int i = 0; i &lt; list.size(); i++){\r\n                    String driver_location = list.get(i);\r\n                    Double lat = Double.parseDouble(driver_location.split(&quot;,&quot;)[0]);\r\n                    Double lon = Double.parseDouble(driver_location.split(&quot;,&quot;)[1]);\r\n                    mMap.addMarker(new MarkerOptions().title(&quot;Vozač&quot;).position(new LatLng(lat, lon)).icon(BitmapDescriptorFactory.fromResource(R.drawable.car_icon)));\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {}\r\n        });\r\n        mMap = googleMap;\r\n        enableMyLocation();\r\n\r\n    }\r\n    private void enableMyLocation() {\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n                == PackageManager.PERMISSION_GRANTED) {\r\n            if (mMap != null) {\r\n                mMap.setMyLocationEnabled(true);\r\n                //View locationButton = ((View) findViewById(Integer.parseInt(&quot;1&quot;)).getParent()).findViewById(Integer.parseInt(&quot;2&quot;));\r\n                //locationButton.setBackgroundColor(Color.parseColor(&quot;#20262b&quot;));\r\n            }\r\n        } else {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, permission_id);\r\n            enableMyLocation();\r\n        }\r\n    }\r\n    public void open_drawer(View view){\r\n        //dLayout.openDrawer(Gravity.LEFT);\r\n    }\r\n}\r\n``` \r\nThe error is raised on line 78. I&#39;ve tried doing a bunch of things to fix this but nothing worked. ","title":"NavigationView raises null object reference exception","body":"<p>I made a DrawerLayout in Android Studio, which contains a google map fragment, a NavigationView and a FrameLayout.</p>\n<p>my drawer layout xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:map=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;com.google.android.material.navigation.NavigationView\n            android:id=&quot;@+id/navigation&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_gravity=&quot;start&quot;\n            map:menu=&quot;@menu/nav_items&quot;/&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/frame&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot; /&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n\n        &lt;fragment\n            android:id=&quot;@+id/map&quot;\n            android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            tools:context=&quot;.app&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/pop_button&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center_horizontal&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:background=&quot;@drawable/button_back&quot;\n            android:text=&quot;Pozovi&quot;\n            map:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            map:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            map:layout_constraintStart_toStartOf=&quot;parent&quot;\n            map:layout_constraintTop_toTopOf=&quot;@+id/map&quot;\n            map:layout_constraintVertical_bias=&quot;0.9&quot; /&gt;\n\n        &lt;ImageButton\n            android:onClick=&quot;open_drawer&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:src=&quot;@drawable/ic_menu&quot;\n            map:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            map:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            map:layout_constraintStart_toStartOf=&quot;parent&quot;\n            map:layout_constraintTop_toTopOf=&quot;parent&quot;\n            map:layout_constraintVertical_bias=&quot;0.01&quot;\n            map:layout_constraintHorizontal_bias=&quot;0.01&quot;/&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n\n</code></pre>\n<p>In my java activity code I added an onNavigationItemSelected Listener with:</p>\n<pre><code>dLayout = findViewById(R.id.drawer_layout);\n    navView = (NavigationView) findViewById(R.id.navigation);\n    navView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            Toast.makeText(getApplicationContext(),&quot;Hello&quot;,Toast.LENGTH_SHORT).show();\n            return true;\n        }\n    });\n</code></pre>\n<p>The problem is that this raises the following error:</p>\n<blockquote>\n<pre><code> Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.google.android.material.navigation.NavigationView.setNavigationItemSelectedListener(com.google.android.material.navigation.NavigationView$OnNavigationItemSelectedListener)' on a null object reference\n</code></pre>\n</blockquote>\n<p>This is my full java class code:</p>\n<pre><code>package com.example.soferapp;\nimport androidx.annotation.ColorInt;\nimport androidx.annotation.NonNull;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentActivity;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.pm.PackageManager;\nimport android.graphics.Color;\nimport android.location.Location;\nimport android.location.LocationListener;\nimport android.location.LocationManager;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.util.Log;\nimport android.view.Gravity;\nimport android.view.LayoutInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.LinearLayout;\nimport android.widget.Toast;\n\nimport com.example.soferapp.databinding.ActivityAppBinding;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.BitmapDescriptor;\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.Marker;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\nimport com.google.android.material.navigation.NavigationView;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class app extends FragmentActivity implements OnMapReadyCallback{\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\n    DatabaseReference driver_data = database.getReference(&quot;Data&quot;).child(&quot;Drivers&quot;);\n    DatabaseReference user_data = database.getReference(&quot;Data&quot;).child(&quot;Users&quot;);\n    private GoogleMap mMap;\n    private ActivityAppBinding binding;\n    LocationManager locationManager;\n    LocationListener locationListener;\n    int permission_id = 1;\n    Button pop_button;\n    int num = 0;\n    private DrawerLayout mDrawerLayout;\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    EditText phone_number_input;\n    DrawerLayout dLayout;\n    LatLng bih_location = new LatLng(43.86073594535343, 17.771002261242077);\n    NavigationView navView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        dLayout = findViewById(R.id.drawer_layout);\n        navView = (NavigationView) findViewById(R.id.navigation);\n        navView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                Toast.makeText(getApplicationContext(),&quot;Hello&quot;,Toast.LENGTH_SHORT).show();\n                return true;\n            }\n        });\n\n        binding = ActivityAppBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n        pop_button = findViewById(R.id.pop_button);\n        pop_button.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View view) {\n            BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(app.this,\n                    R.style.BottomSheetDialogTheme);\n            View bottomSheetView = LayoutInflater.from(getApplicationContext()).inflate(R.layout.bottom_window, (LinearLayout) findViewById(R.id.bottom_containter));\n            phone_number_input = bottomSheetView.findViewById(R.id.phone_number);\n            bottomSheetView.findViewById(R.id.call).setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    String phone_number = phone_number_input.getText().toString();\n                    String key = user_data.push().getKey();\n                    user_data.child(key).child(&quot;Phone_number&quot;).setValue(phone_number);\n                    user_data.child(key).child(&quot;Location&quot;).setValue(&quot;My coordinates&quot;);\n                    user_data.child(key).child(&quot;Key&quot;).setValue(key);\n                    Toast.makeText(app.this, &quot;Poslat je zahtjev za prevoz&quot;, Toast.LENGTH_SHORT).show();\n                    bottomSheetDialog.dismiss();\n                }\n            });\n\n            bottomSheetDialog.setContentView(bottomSheetView);\n            bottomSheetDialog.show();\n        }\n\n    });\n}\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        googleMap.animateCamera(CameraUpdateFactory.newLatLngZoom(bih_location, 7));\n        driver_data.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                googleMap.clear();\n                list.clear();\n                for(DataSnapshot ds : dataSnapshot.getChildren()) {\n                    String driver_coordinates = ds.getValue(String.class);\n                    list.add(driver_coordinates);\n                }\n\n                for(int i = 0; i &lt; list.size(); i++){\n                    String driver_location = list.get(i);\n                    Double lat = Double.parseDouble(driver_location.split(&quot;,&quot;)[0]);\n                    Double lon = Double.parseDouble(driver_location.split(&quot;,&quot;)[1]);\n                    mMap.addMarker(new MarkerOptions().title(&quot;Vozač&quot;).position(new LatLng(lat, lon)).icon(BitmapDescriptorFactory.fromResource(R.drawable.car_icon)));\n                }\n            }\n            @Override\n            public void onCancelled(DatabaseError databaseError) {}\n        });\n        mMap = googleMap;\n        enableMyLocation();\n\n    }\n    private void enableMyLocation() {\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\n                == PackageManager.PERMISSION_GRANTED) {\n            if (mMap != null) {\n                mMap.setMyLocationEnabled(true);\n                //View locationButton = ((View) findViewById(Integer.parseInt(&quot;1&quot;)).getParent()).findViewById(Integer.parseInt(&quot;2&quot;));\n                //locationButton.setBackgroundColor(Color.parseColor(&quot;#20262b&quot;));\n            }\n        } else {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, permission_id);\n            enableMyLocation();\n        }\n    }\n    public void open_drawer(View view){\n        //dLayout.openDrawer(Gravity.LEFT);\n    }\n}\n</code></pre>\n<p>The error is raised on line 78. I've tried doing a bunch of things to fix this but nothing worked.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"score":1,"creation_date":1635540781,"post_id":69774585,"comment_id":123335249,"body_markdown":"Well...  you domain should be independent from where your data is located. If your domain object represents a single concept I see no problem fetching it&#39;s data from multiple sources.","body":"Well...  you domain should be independent from where your data is located. If your domain object represents a single concept I see no problem fetching it&#39;s data from multiple sources."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635550907,"creation_date":1635543512,"answer_id":69775029,"question_id":69774585,"body_markdown":"I wouldn&#39;t have a single [POJO][1] for everything. I would go with the following:\r\n\r\n - Specific [DTO][2] class for the data coming from data source 1;\r\n - Specific DTO class for the data coming from data source 2;\r\n - POJO class for your domain model mapped from the 2 specific DTO classes mentioned above.\r\n\r\nWith this, you clearly separate data sources and use whatever logic you need to merge them into your domain model. With this, you decouple your domain model from the data sources, making it easier to change any of the classes if needed. You could even add or remove a data source easily.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Plain_old_Java_object\r\n  [2]: https://en.wikipedia.org/wiki/Data_transfer_object","title":"Decorating a domain object from multiple data sources. Poor design?","body":"<p>I wouldn't have a single <a href=\"https://en.wikipedia.org/wiki/Plain_old_Java_object\" rel=\"nofollow noreferrer\">POJO</a> for everything. I would go with the following:</p>\n<ul>\n<li>Specific <a href=\"https://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"nofollow noreferrer\">DTO</a> class for the data coming from data source 1;</li>\n<li>Specific DTO class for the data coming from data source 2;</li>\n<li>POJO class for your domain model mapped from the 2 specific DTO classes mentioned above.</li>\n</ul>\n<p>With this, you clearly separate data sources and use whatever logic you need to merge them into your domain model. With this, you decouple your domain model from the data sources, making it easier to change any of the classes if needed. You could even add or remove a data source easily.</p>\n"}],"owner":{"account_id":2159802,"reputation":493,"user_id":1914243,"accept_rate":33,"display_name":"juckky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69775029,"answer_count":1,"score":2,"last_activity_date":1635550907,"creation_date":1635540278,"question_id":69774585,"body_markdown":"I have a primary data source that will return JSON data which I unmarshall to a java POJO.  The secondary data source then uses information from the first Java POJO classes to retrieve additional data from another data source.\r\n\r\nMy original plan was to have a single POJO that is partially populated by data source one and then completed by data source 2.\r\n\r\nBut from a purist point this would seem wrong, but I am unsure how you should design the system.\r\n\r\nJust for reference, there is no need for this to be done asynchronously.","title":"Decorating a domain object from multiple data sources. Poor design?","body":"<p>I have a primary data source that will return JSON data which I unmarshall to a java POJO.  The secondary data source then uses information from the first Java POJO classes to retrieve additional data from another data source.</p>\n<p>My original plan was to have a single POJO that is partially populated by data source one and then completed by data source 2.</p>\n<p>But from a purist point this would seem wrong, but I am unsure how you should design the system.</p>\n<p>Just for reference, there is no need for this to be done asynchronously.</p>\n"},{"tags":["java","android","sqlite","android-sqlite"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1635515275,"post_id":69769911,"comment_id":123326457,"body_markdown":"*what i want to do is booklet_idis automatically input* noting is done automatically.","body":"<i>what i want to do is booklet_idis automatically input</i> noting is done automatically."},{"owner":{"account_id":21572997,"reputation":1,"user_id":15905612,"display_name":"Kim Cedrick Palolan"},"score":0,"creation_date":1635516408,"post_id":69769911,"comment_id":123327051,"body_markdown":"then what am I supposed to do? does my foreign key need input?","body":"then what am I supposed to do? does my foreign key need input?"}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635549429,"creation_date":1635540815,"answer_id":69774665,"question_id":69769911,"body_markdown":"It appears that you may be think that SQLite automatically associates children with parents when a Foreign Key clause is coded. It does not and can not.\r\n\r\n- can not is because there is no way that when inserting a child, that the parent of the child can be known without a means of indicating the parent. *For example say there are parents 1 - 10 which parent should be the parent to child 100? (rhetorical)*\r\n\r\nWhat a Foreign Key clause does is add a constraint (a rule) that says that the value of the column in the child MUST be a value that exists in the specified column in one of the rows of the parent table. If this rule is broken then a conflict occurs, thus indicating a breach of referential integrity (aka a parentless child (orphans)).\r\n\r\nIt should be understood that the Foreign Key clause is not the same as the term Foreign Key used when describing databases. For a foreign key to exists there is no requirement for a Foreign key clause. Rather the Foreign Key clause supports the existence of the foreign key. \r\n\r\nYou have to determine what can be inserted.\r\n\r\n\r\nFirst I would suggest changing methods **addBooklet** and **addDemographic** from returning a boolean to return a long and returning the result of the insert.\r\n\r\n- you can always use `if (addBooklet(....) &gt; 0)` to be true if the row was inserted.\r\n\r\nYou also need to allow the booklet_id to be provided when inserting a Demographic and for the provideed value to be inserted (added to the ContentValues)\r\n\r\nSo the methods in  the DatabaseHelper could be changed to :-\r\n\r\n    public /*boolean*/ long addBooklet(String type1,String province,String municipality,String barangay, String address,String nameofrespondent, String householdhead,  String householdtotal, String date,String updated_at) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(&quot;type&quot;,type1);\r\n        contentValues.put(&quot;province&quot;,province);\r\n        contentValues.put(&quot;citymunicipality&quot;,municipality);\r\n        contentValues.put(&quot;barangay&quot;,barangay);\r\n        contentValues.put(&quot;address&quot;,address);\r\n        contentValues.put(&quot;respondent_name&quot;,nameofrespondent);\r\n        contentValues.put(&quot;household_head&quot;,householdhead);\r\n        contentValues.put(&quot;hh_mem_count&quot;, householdtotal);\r\n        contentValues.put(&quot;created_at&quot;, date);\r\n        contentValues.put(&quot;updated_at&quot;, updated_at);\r\n\r\n        return db.insert(&quot;bookletinfo&quot;,null,contentValues);\r\n        /*return true;*/}\r\n\r\n        public /*boolean*/ long addDemographic(/* ADDED &gt;&gt;&gt;&gt;&gt; */long booklet_id,String etQ1,String etQ2,String etQ3,String etQ4,String etQ5,String etQ6,String etQ7,String etQ8,String etQ9,String etQ10,String etQ11,String etQ12,String etQ13,String etQ14, String etbrgy,String created_at,String updated_at) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(&quot;booklet_id&quot;,booklet_id); /*&lt;&lt;&lt;&lt;&lt; ADDED */\r\n        contentValues.put(&quot;Q1&quot;,etQ1);\r\n        contentValues.put(&quot;Q2&quot;,etQ2);\r\n        contentValues.put(&quot;Q3&quot;,etQ3);\r\n        contentValues.put(&quot;Q4&quot;,etQ4);\r\n        contentValues.put(&quot;Q5&quot;,etQ5);\r\n        contentValues.put(&quot;Q6&quot;,etQ6);\r\n        contentValues.put(&quot;Q7&quot;, etQ7);\r\n        contentValues.put(&quot;Q8&quot;,etQ8);\r\n        contentValues.put(&quot;Q9&quot;,etQ9);\r\n        contentValues.put(&quot;Q10&quot;,etQ10);\r\n        contentValues.put(&quot;Q11&quot;,etQ11);\r\n        contentValues.put(&quot;Q12&quot;,etQ12);\r\n        contentValues.put(&quot;Q13&quot;,etQ13);\r\n        contentValues.put(&quot;Q14&quot;, etQ14);\r\n        contentValues.put(&quot;currentbrgy&quot;,etbrgy);\r\n        contentValues.put(&quot;created_at&quot;,created_at);\r\n        contentValues.put(&quot;updated_at&quot;, updated_at);\r\n\r\n        return db.insert(&quot;demographiccharacteristics&quot;,null,contentValues);\r\n        /*return true;*/\r\n    }\r\n\r\n- Note comments used to indicate the changes made\r\n\r\nYou now have a means of obtaining the **booklet_id** when adding a new Booklet to so this can be used when adding a Demographic child.\r\n\r\ne.g. :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        DatabaseHelper db;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            db = new DatabaseHelper(this);\r\n            long currentBooklet = db.addBooklet(&quot;Type1&quot;,&quot;Province1&quot;,&quot;municipality1&quot;,&quot;barangay1&quot;,&quot;address1&quot;,&quot;name1&quot;,&quot;househol1&quot;,&quot;1&quot;,&quot;2021-01-01&quot;,&quot;2021-01-01&quot;);\r\n            if (currentBooklet &gt; 0) {\r\n                db.addDemographic(currentBooklet,&quot;Demo1&quot;,&quot;Q2&quot;,&quot;Q3&quot;,&quot;Q4&quot;,&quot;Q5&quot;,&quot;Q6&quot;,&quot;Q7&quot;,&quot;Q8&quot;,&quot;Q9&quot;,&quot;Q10&quot;,&quot;Q11&quot;,&quot;Q12&quot;,&quot;Q13&quot;,&quot;Q14&quot;,&quot;etbrgy&quot;,&quot;2021-01-01&quot;,&quot;202-01-01&quot;);\r\n                db.addDemographic(currentBooklet,&quot;Demo2&quot;,&quot;Q2&quot;,&quot;Q3&quot;,&quot;Q4&quot;,&quot;Q5&quot;,&quot;Q6&quot;,&quot;Q7&quot;,&quot;Q8&quot;,&quot;Q9&quot;,&quot;Q10&quot;,&quot;Q11&quot;,&quot;Q12&quot;,&quot;Q13&quot;,&quot;Q14&quot;,&quot;etbrgy&quot;,&quot;2021-01-01&quot;,&quot;202-01-01&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThis resulting in the following data in the database :-\r\n\r\nThe **bookletinfo** table (only partial data displayed) :-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe **demographiccharecteristics** table :-\r\n\r\n[![enter image description here][2]][2]\r\n\r\ni.e. the two rows have been inserted as the was no Foreign Key conflict.\r\n\r\nNow if you attempted \r\n \r\n\r\n    db.addDemographic(10,&quot;Demo2&quot;,&quot;Q2&quot;,&quot;Q3&quot;,&quot;Q4&quot;,&quot;Q5&quot;,&quot;Q6&quot;,&quot;Q7&quot;,&quot;Q8&quot;,&quot;Q9&quot;,&quot;Q10&quot;,&quot;Q11&quot;,&quot;Q12&quot;,&quot;Q13&quot;,&quot;Q14&quot;,&quot;etbrgy&quot;,&quot;2021-01-01&quot;,&quot;202-01-01&quot;);\r\n\r\ni.e. **10** is not a value in the booklet_id column of any of the rows *(there is only the 1 row and the booklet_id is 1)** then a Foreign Key conflict will occur. However the convenience **insert** method traps/catches the underlying exception *(the `insertOrThrow` method  would not)* and returns -1 as no row is inserted.\r\n\r\nIf you look at the log you can see that exceptions are raised but caught. e.g. the lone of code above result in the log including :-\r\n\r\n    2021-10-30 09:19:43.455 22029-22029/a.a.so69769911javasqlitefk E/SQLiteDatabase: Error inserting Q1=Demo2 Q2=Q2 Q3=Q3 Q4=Q4 Q5=Q5 Q6=Q6 Q7=Q7 Q8=Q8 currentbrgy=etbrgy Q9=Q9 created_at=2021-01-01 Q11=Q11 Q10=Q10 Q13=Q13 Q12=Q12 updated_at=202-01-01 Q14=Q14 booklet_id=10\r\n        android.database.sqlite.SQLiteConstraintException: FOREIGN KEY constraint failed (code 787 SQLITE_CONSTRAINT_FOREIGNKEY)\r\n            at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\r\n            at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:796)\r\n            at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:788)\r\n            at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)\r\n            at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1564)\r\n            at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1433)\r\n            at a.a.so69769911javasqlitefk.DatabaseHelper.addDemographic(DatabaseHelper.java:120)\r\n            at a.a.so69769911javasqlitefk.MainActivity.onCreate(MainActivity.java:20)\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S2Zlp.png\r\n  [2]: https://i.stack.imgur.com/tIYkO.png","title":"SQLite - how to use foreign key","body":"<p>It appears that you may be think that SQLite automatically associates children with parents when a Foreign Key clause is coded. It does not and can not.</p>\n<ul>\n<li>can not is because there is no way that when inserting a child, that the parent of the child can be known without a means of indicating the parent. <em>For example say there are parents 1 - 10 which parent should be the parent to child 100? (rhetorical)</em></li>\n</ul>\n<p>What a Foreign Key clause does is add a constraint (a rule) that says that the value of the column in the child MUST be a value that exists in the specified column in one of the rows of the parent table. If this rule is broken then a conflict occurs, thus indicating a breach of referential integrity (aka a parentless child (orphans)).</p>\n<p>It should be understood that the Foreign Key clause is not the same as the term Foreign Key used when describing databases. For a foreign key to exists there is no requirement for a Foreign key clause. Rather the Foreign Key clause supports the existence of the foreign key.</p>\n<p>You have to determine what can be inserted.</p>\n<p>First I would suggest changing methods <strong>addBooklet</strong> and <strong>addDemographic</strong> from returning a boolean to return a long and returning the result of the insert.</p>\n<ul>\n<li>you can always use <code>if (addBooklet(....) &gt; 0)</code> to be true if the row was inserted.</li>\n</ul>\n<p>You also need to allow the booklet_id to be provided when inserting a Demographic and for the provideed value to be inserted (added to the ContentValues)</p>\n<p>So the methods in  the DatabaseHelper could be changed to :-</p>\n<pre><code>public /*boolean*/ long addBooklet(String type1,String province,String municipality,String barangay, String address,String nameofrespondent, String householdhead,  String householdtotal, String date,String updated_at) {\n    SQLiteDatabase db = this.getWritableDatabase();\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(&quot;type&quot;,type1);\n    contentValues.put(&quot;province&quot;,province);\n    contentValues.put(&quot;citymunicipality&quot;,municipality);\n    contentValues.put(&quot;barangay&quot;,barangay);\n    contentValues.put(&quot;address&quot;,address);\n    contentValues.put(&quot;respondent_name&quot;,nameofrespondent);\n    contentValues.put(&quot;household_head&quot;,householdhead);\n    contentValues.put(&quot;hh_mem_count&quot;, householdtotal);\n    contentValues.put(&quot;created_at&quot;, date);\n    contentValues.put(&quot;updated_at&quot;, updated_at);\n\n    return db.insert(&quot;bookletinfo&quot;,null,contentValues);\n    /*return true;*/}\n\n    public /*boolean*/ long addDemographic(/* ADDED &gt;&gt;&gt;&gt;&gt; */long booklet_id,String etQ1,String etQ2,String etQ3,String etQ4,String etQ5,String etQ6,String etQ7,String etQ8,String etQ9,String etQ10,String etQ11,String etQ12,String etQ13,String etQ14, String etbrgy,String created_at,String updated_at) {\n    SQLiteDatabase db = this.getWritableDatabase();\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(&quot;booklet_id&quot;,booklet_id); /*&lt;&lt;&lt;&lt;&lt; ADDED */\n    contentValues.put(&quot;Q1&quot;,etQ1);\n    contentValues.put(&quot;Q2&quot;,etQ2);\n    contentValues.put(&quot;Q3&quot;,etQ3);\n    contentValues.put(&quot;Q4&quot;,etQ4);\n    contentValues.put(&quot;Q5&quot;,etQ5);\n    contentValues.put(&quot;Q6&quot;,etQ6);\n    contentValues.put(&quot;Q7&quot;, etQ7);\n    contentValues.put(&quot;Q8&quot;,etQ8);\n    contentValues.put(&quot;Q9&quot;,etQ9);\n    contentValues.put(&quot;Q10&quot;,etQ10);\n    contentValues.put(&quot;Q11&quot;,etQ11);\n    contentValues.put(&quot;Q12&quot;,etQ12);\n    contentValues.put(&quot;Q13&quot;,etQ13);\n    contentValues.put(&quot;Q14&quot;, etQ14);\n    contentValues.put(&quot;currentbrgy&quot;,etbrgy);\n    contentValues.put(&quot;created_at&quot;,created_at);\n    contentValues.put(&quot;updated_at&quot;, updated_at);\n\n    return db.insert(&quot;demographiccharacteristics&quot;,null,contentValues);\n    /*return true;*/\n}\n</code></pre>\n<ul>\n<li>Note comments used to indicate the changes made</li>\n</ul>\n<p>You now have a means of obtaining the <strong>booklet_id</strong> when adding a new Booklet to so this can be used when adding a Demographic child.</p>\n<p>e.g. :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    DatabaseHelper db;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        db = new DatabaseHelper(this);\n        long currentBooklet = db.addBooklet(&quot;Type1&quot;,&quot;Province1&quot;,&quot;municipality1&quot;,&quot;barangay1&quot;,&quot;address1&quot;,&quot;name1&quot;,&quot;househol1&quot;,&quot;1&quot;,&quot;2021-01-01&quot;,&quot;2021-01-01&quot;);\n        if (currentBooklet &gt; 0) {\n            db.addDemographic(currentBooklet,&quot;Demo1&quot;,&quot;Q2&quot;,&quot;Q3&quot;,&quot;Q4&quot;,&quot;Q5&quot;,&quot;Q6&quot;,&quot;Q7&quot;,&quot;Q8&quot;,&quot;Q9&quot;,&quot;Q10&quot;,&quot;Q11&quot;,&quot;Q12&quot;,&quot;Q13&quot;,&quot;Q14&quot;,&quot;etbrgy&quot;,&quot;2021-01-01&quot;,&quot;202-01-01&quot;);\n            db.addDemographic(currentBooklet,&quot;Demo2&quot;,&quot;Q2&quot;,&quot;Q3&quot;,&quot;Q4&quot;,&quot;Q5&quot;,&quot;Q6&quot;,&quot;Q7&quot;,&quot;Q8&quot;,&quot;Q9&quot;,&quot;Q10&quot;,&quot;Q11&quot;,&quot;Q12&quot;,&quot;Q13&quot;,&quot;Q14&quot;,&quot;etbrgy&quot;,&quot;2021-01-01&quot;,&quot;202-01-01&quot;);\n        }\n    }\n}\n</code></pre>\n<p>This resulting in the following data in the database :-</p>\n<p>The <strong>bookletinfo</strong> table (only partial data displayed) :-</p>\n<p><a href=\"https://i.stack.imgur.com/S2Zlp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S2Zlp.png\" alt=\"enter image description here\" /></a></p>\n<p>The <strong>demographiccharecteristics</strong> table :-</p>\n<p><a href=\"https://i.stack.imgur.com/tIYkO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tIYkO.png\" alt=\"enter image description here\" /></a></p>\n<p>i.e. the two rows have been inserted as the was no Foreign Key conflict.</p>\n<p>Now if you attempted</p>\n<pre><code>db.addDemographic(10,&quot;Demo2&quot;,&quot;Q2&quot;,&quot;Q3&quot;,&quot;Q4&quot;,&quot;Q5&quot;,&quot;Q6&quot;,&quot;Q7&quot;,&quot;Q8&quot;,&quot;Q9&quot;,&quot;Q10&quot;,&quot;Q11&quot;,&quot;Q12&quot;,&quot;Q13&quot;,&quot;Q14&quot;,&quot;etbrgy&quot;,&quot;2021-01-01&quot;,&quot;202-01-01&quot;);\n</code></pre>\n<p>i.e. <strong>10</strong> is not a value in the booklet_id column of any of the rows <em>(there is only the 1 row and the booklet_id is 1)</em>* then a Foreign Key conflict will occur. However the convenience <strong>insert</strong> method traps/catches the underlying exception <em>(the <code>insertOrThrow</code> method  would not)</em> and returns -1 as no row is inserted.</p>\n<p>If you look at the log you can see that exceptions are raised but caught. e.g. the lone of code above result in the log including :-</p>\n<pre><code>2021-10-30 09:19:43.455 22029-22029/a.a.so69769911javasqlitefk E/SQLiteDatabase: Error inserting Q1=Demo2 Q2=Q2 Q3=Q3 Q4=Q4 Q5=Q5 Q6=Q6 Q7=Q7 Q8=Q8 currentbrgy=etbrgy Q9=Q9 created_at=2021-01-01 Q11=Q11 Q10=Q10 Q13=Q13 Q12=Q12 updated_at=202-01-01 Q14=Q14 booklet_id=10\n    android.database.sqlite.SQLiteConstraintException: FOREIGN KEY constraint failed (code 787 SQLITE_CONSTRAINT_FOREIGNKEY)\n        at android.database.sqlite.SQLiteConnection.nativeExecuteForLastInsertedRowId(Native Method)\n        at android.database.sqlite.SQLiteConnection.executeForLastInsertedRowId(SQLiteConnection.java:796)\n        at android.database.sqlite.SQLiteSession.executeForLastInsertedRowId(SQLiteSession.java:788)\n        at android.database.sqlite.SQLiteStatement.executeInsert(SQLiteStatement.java:86)\n        at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1564)\n        at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1433)\n        at a.a.so69769911javasqlitefk.DatabaseHelper.addDemographic(DatabaseHelper.java:120)\n        at a.a.so69769911javasqlitefk.MainActivity.onCreate(MainActivity.java:20)\n</code></pre>\n"}],"owner":{"account_id":21572997,"reputation":1,"user_id":15905612,"display_name":"Kim Cedrick Palolan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635549429,"creation_date":1635514726,"question_id":69769911,"body_markdown":"I&#39;ve been trying to get foreign keys working within my Android SQLite database. I have tried the following syntax but the foreign key is empty. \r\n\r\nhere is my databasehelper:\r\n\r\n\r\n        public static final String DATABASE_NAME =&quot;popeye.db&quot;;\r\n        public static final int DATABASE_VERSION = 1;\r\n        public final Context context;\r\n        public static final String table12 = &quot;users&quot;;\r\n    \r\n        public DatabaseHelper(@Nullable Context context) {\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        public void onConfigure(SQLiteDatabase db) {\r\n            db.setForeignKeyConstraintsEnabled(true);\r\n            super.onConfigure(db);\r\n    \r\n        }\r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            String bookletinfo = &quot;CREATE TABLE bookletinfo ( booklet_id INTEGER PRIMARY  KEY AUTOINCREMENT NOT NULL, type VARCHAR NOT NULL, province VARCHAR NOT NULL, citymunicipality NOT NULL, barangay VARCHAR NOT NULL, address VARCHAR NOT NULL, respondent_name VARCHAR NOT NULL, household_head VARCHAR NOT NULL, hh_mem_count INTEGER NOT NULL, created_at DATETIME NOT NULL, updated_at TIMESTAMP)&quot;;\r\n            String demographiccharacteristics = &quot;CREATE TABLE demographiccharacteristics (id INTEGER PRIMARY  KEY AUTOINCREMENT NOT NULL, Q1 VARCHAR , Q2 VARCHAR , Q3 VARCHAR , Q4 INTEGER , Q5 DATE , Q6 VARCHAR , Q7 VARCHAR , Q8 VARCHAR , Q9 VARCHAR , Q10 VARCHAR , Q11 VARCHAR , Q12 VARCHAR , Q13 VARCHAR , Q14 VARCHAR , currentbrgy VARCHAR , created_at TIMESTAMP  , updated_at TIMESTAMP, booklet_id INTEGER, FOREIGN KEY(booklet_id) REFERENCES bookletinfo(booklet_id))&quot;;\r\n           \r\n            db.execSQL(bookletinfo);\r\n            db.execSQL(demographiccharacteristics);\r\n           }\r\n           \r\n        @Override\r\n        public void onOpen(SQLiteDatabase db){\r\n            super.onOpen(db);\r\n            db.setForeignKeyConstraintsEnabled(true);\r\n        }\r\n        \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n            db.execSQL(&quot;DROP TABLE IF EXISTS bookletinfo&quot;);\r\n            db.execSQL(&quot;DROP TABLE IF EXISTS demographiccharacteristics&quot;);\r\n            onCreate(db);\r\n        }\r\n    \r\n        public boolean addBooklet(String type1,String province,String municipality,String barangay, String address,String nameofrespondent, String householdhead,  String householdtotal, String date,String updated_at) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(&quot;type&quot;,type1);\r\n            contentValues.put(&quot;province&quot;,province);\r\n            contentValues.put(&quot;citymunicipality&quot;,municipality);\r\n            contentValues.put(&quot;barangay&quot;,barangay);\r\n            contentValues.put(&quot;address&quot;,address);\r\n            contentValues.put(&quot;respondent_name&quot;,nameofrespondent);\r\n            contentValues.put(&quot;household_head&quot;,householdhead);\r\n            contentValues.put(&quot;hh_mem_count&quot;, householdtotal);\r\n            contentValues.put(&quot;created_at&quot;, date);\r\n            contentValues.put(&quot;updated_at&quot;, updated_at);\r\n            \r\n            db.insert(&quot;bookletinfo&quot;,null,contentValues);\r\n            return true;}\r\n    \r\n        public boolean addDemographic(String etQ1,String etQ2,String etQ3,String etQ4,String etQ5,String etQ6,String etQ7,String etQ8,String etQ9,String etQ10,String etQ11,String etQ12,String etQ13,String etQ14, String etbrgy,String created_at,String updated_at) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(&quot;Q1&quot;,etQ1);\r\n            contentValues.put(&quot;Q2&quot;,etQ2);\r\n            contentValues.put(&quot;Q3&quot;,etQ3);\r\n            contentValues.put(&quot;Q4&quot;,etQ4);\r\n            contentValues.put(&quot;Q5&quot;,etQ5);\r\n            contentValues.put(&quot;Q6&quot;,etQ6);\r\n            contentValues.put(&quot;Q7&quot;, etQ7);\r\n            contentValues.put(&quot;Q8&quot;,etQ8);\r\n            contentValues.put(&quot;Q9&quot;,etQ9);\r\n            contentValues.put(&quot;Q10&quot;,etQ10);\r\n            contentValues.put(&quot;Q11&quot;,etQ11);\r\n            contentValues.put(&quot;Q12&quot;,etQ12);\r\n            contentValues.put(&quot;Q13&quot;,etQ13);\r\n            contentValues.put(&quot;Q14&quot;, etQ14);\r\n            contentValues.put(&quot;currentbrgy&quot;,etbrgy);\r\n            contentValues.put(&quot;created_at&quot;,created_at);\r\n            contentValues.put(&quot;updated_at&quot;, updated_at);\r\n    \r\n            db.insert(&quot;demographiccharacteristics&quot;,null,contentValues);\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nhere is my code of taking and saving data to booklet info and it&#39;s working fine, the data is saved:\r\n\r\n    \r\n    \r\n\r\n\r\n    private static final String TAG = &quot;home&quot;;\r\n    Button save, next, back, button;\r\n    EditText etprovince, etmunicipality, etbarangay, ethouseholdhead, etnameofrespondent, ettotalhouseholdmember, etaddress;\r\n    DatabaseHelper db;\r\n    private TextView mDisplayDate,tvdate2;\r\n    private DatePickerDialog.OnDateSetListener mDateSetListener;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n        db = new DatabaseHelper(home.this);\r\n        etprovince = findViewById(R.id.province);\r\n        etmunicipality = findViewById(R.id.municipality);\r\n        etbarangay = findViewById(R.id.barangay);\r\n        ethouseholdhead = findViewById(R.id.q2);\r\n        etnameofrespondent = findViewById(R.id.respondentname);\r\n        ettotalhouseholdmember = findViewById(R.id.totalmember);\r\n        etaddress = findViewById(R.id.address);\r\n        tvdate2=findViewById(R.id.q5);\r\n\r\n        Spinner type = (Spinner) findViewById(R.id.ettype);\r\n        ArrayAdapter&lt;String&gt; myAdapter = new ArrayAdapter&lt;String&gt;(home.this,\r\n                android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.type));\r\n        myAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        type.setAdapter(myAdapter);\r\n\r\n        save = (Button) findViewById(R.id.save);\r\n        save.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String province = etprovince.getText().toString();\r\n                String municipality = etmunicipality.getText().toString();\r\n                String barangay = etbarangay.getText().toString();\r\n                String householdhead = ethouseholdhead.getText().toString();\r\n                String nameofrespondent = etnameofrespondent.getText().toString();\r\n                String householdtotal = ettotalhouseholdmember.getText().toString();\r\n                String address = etaddress.getText().toString();\r\n                String type1 = type.getSelectedItem().toString();\r\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n                String date = sdf.format(new Date());\r\n\r\n                String updated_at = &quot;&quot;;\r\n                if (db.addBooklet(type1,province, municipality, barangay,address,nameofrespondent,householdhead, householdtotal,date,updated_at)) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Data Inserted&quot;, Toast.LENGTH_SHORT).show();\r\n                    Intent registerIntent = new Intent(home.this, Survey2.class);\r\n                    startActivity(registerIntent);\r\n                } else {\r\n                    Toast.makeText(getApplicationContext(), &quot;error&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        back = (Button) findViewById(R.id.back);\r\n        back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent registerIntent = new Intent(home.this, menu.class);\r\n                startActivity(registerIntent);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\nand here is another adding and saving data and it&#39;s working. but my booklet_id is empty everytime i save a data. what i want to do is booklet_idis automatically input and the  &quot;booklet_id INTEGER, FOREIGN KEY(booklet_id) REFERENCES bookletinfo(booklet_id)&quot; is not working. i need help\r\n\r\n\r\n    private static final String TAG = &quot;Survey2&quot;;\r\n    private TextView mDisplayDate;\r\n    private DatePickerDialog.OnDateSetListener mDateSetListener;\r\n    \r\n    DatabaseHelper db;\r\n    Button next,save;\r\n    TextView tvDate;\r\n    EditText Q1,Q4,brgy,Q6,Q7,Q9,Q10,Q14;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_survey2);\r\n        db = new DatabaseHelper(Survey2.this);\r\n\r\n        brgy =(EditText) findViewById(R.id.brgy);\r\n        \r\n        Q1 = (EditText)findViewById(R.id.q1);\r\n        Q4 = (EditText)findViewById(R.id.q4);\r\n        Q14 = (EditText)findViewById(R.id.q14);\r\n        Q6 = (EditText)findViewById(R.id.q6);\r\n        Q7 = (EditText)findViewById(R.id.q7);\r\n        Q9 = (EditText)findViewById(R.id.q9);\r\n        Q10 = (EditText)findViewById(R.id.q10);\r\n        tvDate=findViewById(R.id.q5);\r\n\r\n\r\n\r\n        //household head spinner\r\n        Spinner relationship = (Spinner) findViewById(R.id.q2);\r\n        ArrayAdapter&lt;String&gt; myAdapter = new ArrayAdapter&lt;String&gt;(Survey2.this,\r\n                android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.relationship));\r\n        myAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        relationship.setAdapter(myAdapter);\r\n        \r\n        //Gender spinner\r\n        Spinner SEX = (Spinner) findViewById(R.id.q3);\r\n        ArrayAdapter&lt;String&gt; sex = new ArrayAdapter&lt;String&gt;(Survey2.this,\r\n                android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.SEX));\r\n        sex.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        SEX.setAdapter(sex);\r\n\r\n        //marital spinner\r\n        Spinner marital1 = (Spinner) findViewById(R.id.q8);\r\n        ArrayAdapter&lt;String&gt; marital = new ArrayAdapter&lt;String&gt;(Survey2.this,\r\n                android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.marital));\r\n        marital.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        marital1.setAdapter(marital);\r\n\r\n        //education spinner\r\n        Spinner Education = (Spinner) findViewById(R.id.q11);\r\n        ArrayAdapter&lt;String&gt; education = new ArrayAdapter&lt;String&gt;(Survey2.this,\r\n                android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.education));\r\n        education.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        Education.setAdapter(education);\r\n\r\n        //enroled? spinner\r\n        Spinner Enrolled = (Spinner) findViewById(R.id.q12);\r\n        ArrayAdapter&lt;String&gt; enrolled = new ArrayAdapter&lt;String&gt;(Survey2.this,\r\n                android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.currentEnrolled));\r\n        enrolled.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        Enrolled.setAdapter(enrolled);\r\n\r\n        //spinner educ level\r\n        Spinner level = (Spinner) findViewById(R.id.q13);\r\n        ArrayAdapter&lt;String&gt; Level = new ArrayAdapter&lt;String&gt;(Survey2.this,\r\n                android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.level));\r\n        Level.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        level.setAdapter(Level);\r\n        \r\n  \r\n        mDisplayDate = (TextView)findViewById(R.id.q5);\r\n        mDisplayDate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Calendar cal2 = Calendar.getInstance();\r\n                int y2=cal2.get(Calendar.YEAR);\r\n                int m2=cal2.get(Calendar.MONTH);\r\n                int d2=cal2.get(Calendar.DAY_OF_MONTH);\r\n                DatePickerDialog dialog2 = new DatePickerDialog(Survey2.this,\r\n                        android.R.style.Theme_Holo_Light_Dialog_MinWidth,mDateSetListener,y2,m2,d2);\r\n                dialog2.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n                dialog2.show();\r\n            }\r\n        });\r\n        mDateSetListener =new DatePickerDialog.OnDateSetListener() {\r\n            @Override\r\n            public void onDateSet(DatePicker datePicker, int y2, int m2, int d2) {\r\n                m2 = m2+1;\r\n                Log.d(TAG, &quot;onDateSet: yyy/mm/dd&quot; + y2 + &quot;-&quot; + m2 + &quot;-&quot; + d2 );\r\n                String date2 = y2 + &quot;-&quot; + m2 + &quot;-&quot; +d2;\r\n                mDisplayDate.setText(date2);\r\n            }\r\n        };\r\n\r\n       \r\n        \r\n        save = (Button)findViewById(R.id.save);\r\n        save.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String etQ1 = Q1.getText().toString();\r\n                String etQ2 = relationship.getSelectedItem().toString();\r\n                String etQ3 = SEX.getSelectedItem().toString();\r\n                String etQ4 = Q4.getText().toString();\r\n                String etQ5= tvDate.getText().toString();\r\n                String etQ6 = Q6.getText().toString();\r\n                String etQ7 = Q7.getText().toString();\r\n                String etQ8 = marital1.getSelectedItem().toString();\r\n                String etQ9 = Q9.getText().toString();\r\n                String etQ10 =Q10.getText().toString();\r\n                String etQ11 = Education.getSelectedItem().toString();\r\n                String etbrgy = brgy.getText().toString();\r\n                String etQ12 = Enrolled.getSelectedItem().toString();\r\n                String etQ13 = level.getSelectedItem().toString();\r\n                String etQ14 = Q14.getText().toString();\r\n                String updated_at =  &quot;&quot;;\r\n                //current date\r\n\r\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n                String created_at = sdf.format(new Date());\r\n                \r\n                if (db.addDemographic(etQ1,etQ2,etQ3,etQ4,etQ5,etQ6,etQ7,etQ8,etQ9,etQ10,etQ11,etQ12,etQ13,etQ14,etbrgy,created_at,updated_at)) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Data Inserted&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Toast.makeText(getApplicationContext(), &quot;error&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n            }\r\n        });\r\n        \r\n        \r\n        \r\n    }\r\n\r\n\r\n","title":"SQLite - how to use foreign key","body":"<p>I've been trying to get foreign keys working within my Android SQLite database. I have tried the following syntax but the foreign key is empty.</p>\n<p>here is my databasehelper:</p>\n<pre><code>    public static final String DATABASE_NAME =&quot;popeye.db&quot;;\n    public static final int DATABASE_VERSION = 1;\n    public final Context context;\n    public static final String table12 = &quot;users&quot;;\n\n    public DatabaseHelper(@Nullable Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.context = context;\n    }\n\n    @Override\n    public void onConfigure(SQLiteDatabase db) {\n        db.setForeignKeyConstraintsEnabled(true);\n        super.onConfigure(db);\n\n    }\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String bookletinfo = &quot;CREATE TABLE bookletinfo ( booklet_id INTEGER PRIMARY  KEY AUTOINCREMENT NOT NULL, type VARCHAR NOT NULL, province VARCHAR NOT NULL, citymunicipality NOT NULL, barangay VARCHAR NOT NULL, address VARCHAR NOT NULL, respondent_name VARCHAR NOT NULL, household_head VARCHAR NOT NULL, hh_mem_count INTEGER NOT NULL, created_at DATETIME NOT NULL, updated_at TIMESTAMP)&quot;;\n        String demographiccharacteristics = &quot;CREATE TABLE demographiccharacteristics (id INTEGER PRIMARY  KEY AUTOINCREMENT NOT NULL, Q1 VARCHAR , Q2 VARCHAR , Q3 VARCHAR , Q4 INTEGER , Q5 DATE , Q6 VARCHAR , Q7 VARCHAR , Q8 VARCHAR , Q9 VARCHAR , Q10 VARCHAR , Q11 VARCHAR , Q12 VARCHAR , Q13 VARCHAR , Q14 VARCHAR , currentbrgy VARCHAR , created_at TIMESTAMP  , updated_at TIMESTAMP, booklet_id INTEGER, FOREIGN KEY(booklet_id) REFERENCES bookletinfo(booklet_id))&quot;;\n       \n        db.execSQL(bookletinfo);\n        db.execSQL(demographiccharacteristics);\n       }\n       \n    @Override\n    public void onOpen(SQLiteDatabase db){\n        super.onOpen(db);\n        db.setForeignKeyConstraintsEnabled(true);\n    }\n    \n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(&quot;DROP TABLE IF EXISTS bookletinfo&quot;);\n        db.execSQL(&quot;DROP TABLE IF EXISTS demographiccharacteristics&quot;);\n        onCreate(db);\n    }\n\n    public boolean addBooklet(String type1,String province,String municipality,String barangay, String address,String nameofrespondent, String householdhead,  String householdtotal, String date,String updated_at) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(&quot;type&quot;,type1);\n        contentValues.put(&quot;province&quot;,province);\n        contentValues.put(&quot;citymunicipality&quot;,municipality);\n        contentValues.put(&quot;barangay&quot;,barangay);\n        contentValues.put(&quot;address&quot;,address);\n        contentValues.put(&quot;respondent_name&quot;,nameofrespondent);\n        contentValues.put(&quot;household_head&quot;,householdhead);\n        contentValues.put(&quot;hh_mem_count&quot;, householdtotal);\n        contentValues.put(&quot;created_at&quot;, date);\n        contentValues.put(&quot;updated_at&quot;, updated_at);\n        \n        db.insert(&quot;bookletinfo&quot;,null,contentValues);\n        return true;}\n\n    public boolean addDemographic(String etQ1,String etQ2,String etQ3,String etQ4,String etQ5,String etQ6,String etQ7,String etQ8,String etQ9,String etQ10,String etQ11,String etQ12,String etQ13,String etQ14, String etbrgy,String created_at,String updated_at) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(&quot;Q1&quot;,etQ1);\n        contentValues.put(&quot;Q2&quot;,etQ2);\n        contentValues.put(&quot;Q3&quot;,etQ3);\n        contentValues.put(&quot;Q4&quot;,etQ4);\n        contentValues.put(&quot;Q5&quot;,etQ5);\n        contentValues.put(&quot;Q6&quot;,etQ6);\n        contentValues.put(&quot;Q7&quot;, etQ7);\n        contentValues.put(&quot;Q8&quot;,etQ8);\n        contentValues.put(&quot;Q9&quot;,etQ9);\n        contentValues.put(&quot;Q10&quot;,etQ10);\n        contentValues.put(&quot;Q11&quot;,etQ11);\n        contentValues.put(&quot;Q12&quot;,etQ12);\n        contentValues.put(&quot;Q13&quot;,etQ13);\n        contentValues.put(&quot;Q14&quot;, etQ14);\n        contentValues.put(&quot;currentbrgy&quot;,etbrgy);\n        contentValues.put(&quot;created_at&quot;,created_at);\n        contentValues.put(&quot;updated_at&quot;, updated_at);\n\n        db.insert(&quot;demographiccharacteristics&quot;,null,contentValues);\n        return true;\n    }\n\n}\n</code></pre>\n<p>here is my code of taking and saving data to booklet info and it's working fine, the data is saved:</p>\n<pre><code>private static final String TAG = &quot;home&quot;;\nButton save, next, back, button;\nEditText etprovince, etmunicipality, etbarangay, ethouseholdhead, etnameofrespondent, ettotalhouseholdmember, etaddress;\nDatabaseHelper db;\nprivate TextView mDisplayDate,tvdate2;\nprivate DatePickerDialog.OnDateSetListener mDateSetListener;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_home);\n    db = new DatabaseHelper(home.this);\n    etprovince = findViewById(R.id.province);\n    etmunicipality = findViewById(R.id.municipality);\n    etbarangay = findViewById(R.id.barangay);\n    ethouseholdhead = findViewById(R.id.q2);\n    etnameofrespondent = findViewById(R.id.respondentname);\n    ettotalhouseholdmember = findViewById(R.id.totalmember);\n    etaddress = findViewById(R.id.address);\n    tvdate2=findViewById(R.id.q5);\n\n    Spinner type = (Spinner) findViewById(R.id.ettype);\n    ArrayAdapter&lt;String&gt; myAdapter = new ArrayAdapter&lt;String&gt;(home.this,\n            android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.type));\n    myAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    type.setAdapter(myAdapter);\n\n    save = (Button) findViewById(R.id.save);\n    save.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String province = etprovince.getText().toString();\n            String municipality = etmunicipality.getText().toString();\n            String barangay = etbarangay.getText().toString();\n            String householdhead = ethouseholdhead.getText().toString();\n            String nameofrespondent = etnameofrespondent.getText().toString();\n            String householdtotal = ettotalhouseholdmember.getText().toString();\n            String address = etaddress.getText().toString();\n            String type1 = type.getSelectedItem().toString();\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n            String date = sdf.format(new Date());\n\n            String updated_at = &quot;&quot;;\n            if (db.addBooklet(type1,province, municipality, barangay,address,nameofrespondent,householdhead, householdtotal,date,updated_at)) {\n                Toast.makeText(getApplicationContext(), &quot;Data Inserted&quot;, Toast.LENGTH_SHORT).show();\n                Intent registerIntent = new Intent(home.this, Survey2.class);\n                startActivity(registerIntent);\n            } else {\n                Toast.makeText(getApplicationContext(), &quot;error&quot;, Toast.LENGTH_SHORT).show();\n            }\n\n        }\n    });\n\n    back = (Button) findViewById(R.id.back);\n    back.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent registerIntent = new Intent(home.this, menu.class);\n            startActivity(registerIntent);\n        }\n    });\n}\n</code></pre>\n<p>and here is another adding and saving data and it's working. but my booklet_id is empty everytime i save a data. what i want to do is booklet_idis automatically input and the  &quot;booklet_id INTEGER, FOREIGN KEY(booklet_id) REFERENCES bookletinfo(booklet_id)&quot; is not working. i need help</p>\n<pre><code>private static final String TAG = &quot;Survey2&quot;;\nprivate TextView mDisplayDate;\nprivate DatePickerDialog.OnDateSetListener mDateSetListener;\n\nDatabaseHelper db;\nButton next,save;\nTextView tvDate;\nEditText Q1,Q4,brgy,Q6,Q7,Q9,Q10,Q14;\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_survey2);\n    db = new DatabaseHelper(Survey2.this);\n\n    brgy =(EditText) findViewById(R.id.brgy);\n    \n    Q1 = (EditText)findViewById(R.id.q1);\n    Q4 = (EditText)findViewById(R.id.q4);\n    Q14 = (EditText)findViewById(R.id.q14);\n    Q6 = (EditText)findViewById(R.id.q6);\n    Q7 = (EditText)findViewById(R.id.q7);\n    Q9 = (EditText)findViewById(R.id.q9);\n    Q10 = (EditText)findViewById(R.id.q10);\n    tvDate=findViewById(R.id.q5);\n\n\n\n    //household head spinner\n    Spinner relationship = (Spinner) findViewById(R.id.q2);\n    ArrayAdapter&lt;String&gt; myAdapter = new ArrayAdapter&lt;String&gt;(Survey2.this,\n            android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.relationship));\n    myAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    relationship.setAdapter(myAdapter);\n    \n    //Gender spinner\n    Spinner SEX = (Spinner) findViewById(R.id.q3);\n    ArrayAdapter&lt;String&gt; sex = new ArrayAdapter&lt;String&gt;(Survey2.this,\n            android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.SEX));\n    sex.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    SEX.setAdapter(sex);\n\n    //marital spinner\n    Spinner marital1 = (Spinner) findViewById(R.id.q8);\n    ArrayAdapter&lt;String&gt; marital = new ArrayAdapter&lt;String&gt;(Survey2.this,\n            android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.marital));\n    marital.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    marital1.setAdapter(marital);\n\n    //education spinner\n    Spinner Education = (Spinner) findViewById(R.id.q11);\n    ArrayAdapter&lt;String&gt; education = new ArrayAdapter&lt;String&gt;(Survey2.this,\n            android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.education));\n    education.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    Education.setAdapter(education);\n\n    //enroled? spinner\n    Spinner Enrolled = (Spinner) findViewById(R.id.q12);\n    ArrayAdapter&lt;String&gt; enrolled = new ArrayAdapter&lt;String&gt;(Survey2.this,\n            android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.currentEnrolled));\n    enrolled.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    Enrolled.setAdapter(enrolled);\n\n    //spinner educ level\n    Spinner level = (Spinner) findViewById(R.id.q13);\n    ArrayAdapter&lt;String&gt; Level = new ArrayAdapter&lt;String&gt;(Survey2.this,\n            android.R.layout.simple_list_item_1, getResources().getStringArray(R.array.level));\n    Level.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    level.setAdapter(Level);\n    \n\n    mDisplayDate = (TextView)findViewById(R.id.q5);\n    mDisplayDate.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Calendar cal2 = Calendar.getInstance();\n            int y2=cal2.get(Calendar.YEAR);\n            int m2=cal2.get(Calendar.MONTH);\n            int d2=cal2.get(Calendar.DAY_OF_MONTH);\n            DatePickerDialog dialog2 = new DatePickerDialog(Survey2.this,\n                    android.R.style.Theme_Holo_Light_Dialog_MinWidth,mDateSetListener,y2,m2,d2);\n            dialog2.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n            dialog2.show();\n        }\n    });\n    mDateSetListener =new DatePickerDialog.OnDateSetListener() {\n        @Override\n        public void onDateSet(DatePicker datePicker, int y2, int m2, int d2) {\n            m2 = m2+1;\n            Log.d(TAG, &quot;onDateSet: yyy/mm/dd&quot; + y2 + &quot;-&quot; + m2 + &quot;-&quot; + d2 );\n            String date2 = y2 + &quot;-&quot; + m2 + &quot;-&quot; +d2;\n            mDisplayDate.setText(date2);\n        }\n    };\n\n   \n    \n    save = (Button)findViewById(R.id.save);\n    save.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String etQ1 = Q1.getText().toString();\n            String etQ2 = relationship.getSelectedItem().toString();\n            String etQ3 = SEX.getSelectedItem().toString();\n            String etQ4 = Q4.getText().toString();\n            String etQ5= tvDate.getText().toString();\n            String etQ6 = Q6.getText().toString();\n            String etQ7 = Q7.getText().toString();\n            String etQ8 = marital1.getSelectedItem().toString();\n            String etQ9 = Q9.getText().toString();\n            String etQ10 =Q10.getText().toString();\n            String etQ11 = Education.getSelectedItem().toString();\n            String etbrgy = brgy.getText().toString();\n            String etQ12 = Enrolled.getSelectedItem().toString();\n            String etQ13 = level.getSelectedItem().toString();\n            String etQ14 = Q14.getText().toString();\n            String updated_at =  &quot;&quot;;\n            //current date\n\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n            String created_at = sdf.format(new Date());\n            \n            if (db.addDemographic(etQ1,etQ2,etQ3,etQ4,etQ5,etQ6,etQ7,etQ8,etQ9,etQ10,etQ11,etQ12,etQ13,etQ14,etbrgy,created_at,updated_at)) {\n                Toast.makeText(getApplicationContext(), &quot;Data Inserted&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                Toast.makeText(getApplicationContext(), &quot;error&quot;, Toast.LENGTH_SHORT).show();\n            }\n\n        }\n    });\n    \n    \n    \n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633134316,"creation_date":1633134316,"answer_id":69413076,"question_id":69413031,"body_markdown":"Your naming for your `Video` is not match as the database.\r\n\r\nChange from:\r\n\r\n    private String videoURI;\r\n    //Here is video getset\r\n\r\nTo:\r\n\r\n    private String video;\r\n    //Here is video getset\r\n\r\nAnd then, you can call them like this:\r\n\r\n     String nome = snapshot.getValue(Esercizio.class).getNome();\r\n     String video = snapshot.getValue(Esercizio.class).getVideo();\r\n     listaEsercizi.add(new Esercizio(video, nome));\r\n","title":"Firebase realtime database retrieve null","body":"<p>Your naming for your <code>Video</code> is not match as the database.</p>\n<p>Change from:</p>\n<pre><code>private String videoURI;\n//Here is video getset\n</code></pre>\n<p>To:</p>\n<pre><code>private String video;\n//Here is video getset\n</code></pre>\n<p>And then, you can call them like this:</p>\n<pre><code> String nome = snapshot.getValue(Esercizio.class).getNome();\n String video = snapshot.getValue(Esercizio.class).getVideo();\n listaEsercizi.add(new Esercizio(video, nome));\n</code></pre>\n"}],"owner":{"account_id":18838598,"reputation":1,"user_id":13740674,"display_name":"Bryan Sanchez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1633592583,"accepted_answer_id":69413076,"answer_count":1,"score":-1,"last_activity_date":1635549199,"creation_date":1633133542,"question_id":69413031,"body_markdown":"I want retrieve a video url from Firebase realtime database, but in mine object the url is null.\r\n\r\nThis is my database:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RGIwY.png\r\nThe video is located in the Firebase Storage.\r\nIf I search the URL, Google finds it\r\n\r\nThis is my code:  \r\n\r\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n        listaEsercizi.clear();\r\n        for (DataSnapshot snapshot: dataSnapshot.getChildren()) {\r\n            String nome = snapshot.getValue(Esercizio.class).getNome();\r\n            String video = snapshot.getValue(Esercizio.class).getVideoURI().toString();\r\n            listaEsercizi.add(new Esercizio(video, nome));\r\n        }\r\n\r\nSo, the string in &quot;nome&quot; is &quot;Parallele&quot;, but the string in &quot;video&quot; is null.\r\n\r\nFrom the debug I realized that in &quot;getVideoUri().toString()&quot; exist the URL, but not is assigned in &quot;video&quot;. \r\n","title":"Firebase realtime database retrieve null","body":"<p>I want retrieve a video url from Firebase realtime database, but in mine object the url is null.</p>\n<p>This is my database:</p>\n<p><img src=\"https://i.stack.imgur.com/RGIwY.png\" alt=\"enter image description here\" /></p>\n<p>The video is located in the Firebase Storage.\nIf I search the URL, Google finds it</p>\n<p>This is my code:</p>\n<pre><code>public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n    listaEsercizi.clear();\n    for (DataSnapshot snapshot: dataSnapshot.getChildren()) {\n        String nome = snapshot.getValue(Esercizio.class).getNome();\n        String video = snapshot.getValue(Esercizio.class).getVideoURI().toString();\n        listaEsercizi.add(new Esercizio(video, nome));\n    }\n</code></pre>\n<p>So, the string in &quot;nome&quot; is &quot;Parallele&quot;, but the string in &quot;video&quot; is null.</p>\n<p>From the debug I realized that in &quot;getVideoUri().toString()&quot; exist the URL, but not is assigned in &quot;video&quot;.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1635361766,"post_id":69744171,"comment_id":123280550,"body_markdown":"Does this apply for a source tree never touched by an ide, but only used with a command line?","body":"Does this apply for a source tree never touched by an ide, but only used with a command line?"},{"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"score":0,"creation_date":1635362296,"post_id":69744171,"comment_id":123280722,"body_markdown":"Deleting local maven repository usually helps in such cases.","body":"Deleting local maven repository usually helps in such cases."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":3,"creation_date":1635373519,"post_id":69744171,"comment_id":123284089,"body_markdown":"Please read [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/a/285557/1744774)","body":"Please read <a href=\"https://meta.stackoverflow.com/a/285557/1744774\">Why not upload images of code/errors when asking a question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635549135,"creation_date":1635549135,"answer_id":69775601,"question_id":69744171,"body_markdown":"[Maven 3.6.0](https://maven.apache.org/ref/3.6.0/index.html)  is from 2018. [Java 15](https://en.wikipedia.org/wiki/Java_version_history#Java_15)  has been released 2020. I&#39;d update to the latest Maven version.","title":"Intermittent compile issues on Ubuntu with Java Maven","body":"<p><a href=\"https://maven.apache.org/ref/3.6.0/index.html\" rel=\"nofollow noreferrer\">Maven 3.6.0</a>  is from 2018. <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_15\" rel=\"nofollow noreferrer\">Java 15</a>  has been released 2020. I'd update to the latest Maven version.</p>\n"}],"owner":{"account_id":23153377,"reputation":11,"user_id":17255017,"display_name":"Jacob Longhurst"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635549135,"creation_date":1635361394,"question_id":69744171,"body_markdown":"Some of our devs are running into strange and intermittent Java compile errors with maven. The error \r\ncomes in different flavors:\r\n\r\n1. Cannot find symbol: id. variable u of type UserData. (UserData inherits the id field from EntityBase in lib-common)\r\n2. Cannot access RoleAssignment, class file for RoleAssignment not found. (this class is in a different package lib-access-control, and is being referenced in the pom.xml and code of lib-user)\r\n\r\n![Cannot find symbol issue full][1]\r\n\r\n![Class file not found issue full][2]\r\n\r\nMost of our devs never run into these issues, but a few hit them every few days. Often times running a &#39;mvn clean&#39; will resolve the issue, but sometimes even that doesn&#39;t work. Often a machine restart is required to resolve the issue. \r\n\r\nWe are using java version 15, maven version 3.6.0, and Ubuntu 20.04.3\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qF3UP.png\r\n  [2]: https://i.stack.imgur.com/xTaId.png","title":"Intermittent compile issues on Ubuntu with Java Maven","body":"<p>Some of our devs are running into strange and intermittent Java compile errors with maven. The error\ncomes in different flavors:</p>\n<ol>\n<li>Cannot find symbol: id. variable u of type UserData. (UserData inherits the id field from EntityBase in lib-common)</li>\n<li>Cannot access RoleAssignment, class file for RoleAssignment not found. (this class is in a different package lib-access-control, and is being referenced in the pom.xml and code of lib-user)</li>\n</ol>\n<p><img src=\"https://i.stack.imgur.com/qF3UP.png\" alt=\"Cannot find symbol issue full\" /></p>\n<p><img src=\"https://i.stack.imgur.com/xTaId.png\" alt=\"Class file not found issue full\" /></p>\n<p>Most of our devs never run into these issues, but a few hit them every few days. Often times running a 'mvn clean' will resolve the issue, but sometimes even that doesn't work. Often a machine restart is required to resolve the issue.</p>\n<p>We are using java version 15, maven version 3.6.0, and Ubuntu 20.04.3</p>\n"},{"tags":["java","openjdk-17"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1635382394,"post_id":69746929,"comment_id":123285643,"body_markdown":"Please post a [mre] as text in the question.","body":"Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as text in the question."},{"owner":{"account_id":2667931,"reputation":776,"user_id":2305886,"accept_rate":29,"display_name":"user2305886"},"score":0,"creation_date":1635478234,"post_id":69746929,"comment_id":123314825,"body_markdown":"Done as you requested.","body":"Done as you requested."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1635383951,"creation_date":1635382460,"answer_id":69747050,"question_id":69746929,"body_markdown":"You should contact the author of `org.aldan3.util.TemplateEngine`. \r\n\r\nApparently it is using reflection to try to access the internals of `sun.nio.fs.UnixPath`.  It shouldn&#39;t do that.  This kind of access to internals was always a really bad idea.  In more recent Java releases they have been moving to prevent applications from doing this.  (See [JEP 403][1] for more details.)\r\n\r\nI can&#39;t immediately see why this code is performing this illegal access.  But there *should* be a way to implement the functionality (whatever it is) in a way that avoids the problem.\r\n\r\n  - If you are the author, if you explain what that the code is doing and why, then maybe someone can suggest an alternative.\r\n\r\n  - If you are not the author (and you don&#39;t have the time and / or skills to deep-dive the code, etcetera), you would do best to raise an &quot;issue&quot; on the Github site for the software.  Then decide what to do ... depending on the author&#39;s response.\r\n\r\n-------------------\r\n\r\n&gt; In my understanding the underline class implementing interface Path, can&#39;t be called due limited scope. How can I declare a reflective call using Path interface? Or there is another trick?\r\n\r\nIt may be possible to do this via the workaround described in the [Java 17 release notes][2]:\r\n\r\n&gt; JEP 403: Strongly Encapsulate JDK Internals (JDK-8266851)\r\ncore-libs\r\n&gt;\r\n&gt; Strongly encapsulate all internal elements of the JDK, except for critical internal APIs such as `sun.misc.Unsafe`.\r\n&gt;\r\n&gt; With this change, the java launcher option `--illegal-access` is obsolete. If used on the command line it causes a warning message to be issued, and otherwise has no effect. **Existing code that must use internal classes, methods, or fields of the JDK can still be made to work by using the `--add-opens` launcher option, or the `Add-Opens` JAR-file manifest attribute, to open specific packages.**\r\n&gt;\r\n&gt; For further details, please see [JEP 403][1].\r\n\r\nHowever, my recommendation would be to change your code so that it doesn&#39;t *need* to break encapsulation and refer to JDK internals.\r\n\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/403\r\n  [2]: https://jdk.java.net/17/release-notes","title":"Reflective call in JDK 17 against interface","body":"<p>You should contact the author of <code>org.aldan3.util.TemplateEngine</code>.</p>\n<p>Apparently it is using reflection to try to access the internals of <code>sun.nio.fs.UnixPath</code>.  It shouldn't do that.  This kind of access to internals was always a really bad idea.  In more recent Java releases they have been moving to prevent applications from doing this.  (See <a href=\"https://openjdk.java.net/jeps/403\" rel=\"nofollow noreferrer\">JEP 403</a> for more details.)</p>\n<p>I can't immediately see why this code is performing this illegal access.  But there <em>should</em> be a way to implement the functionality (whatever it is) in a way that avoids the problem.</p>\n<ul>\n<li><p>If you are the author, if you explain what that the code is doing and why, then maybe someone can suggest an alternative.</p>\n</li>\n<li><p>If you are not the author (and you don't have the time and / or skills to deep-dive the code, etcetera), you would do best to raise an &quot;issue&quot; on the Github site for the software.  Then decide what to do ... depending on the author's response.</p>\n</li>\n</ul>\n<hr />\n<blockquote>\n<p>In my understanding the underline class implementing interface Path, can't be called due limited scope. How can I declare a reflective call using Path interface? Or there is another trick?</p>\n</blockquote>\n<p>It may be possible to do this via the workaround described in the <a href=\"https://jdk.java.net/17/release-notes\" rel=\"nofollow noreferrer\">Java 17 release notes</a>:</p>\n<blockquote>\n<p>JEP 403: Strongly Encapsulate JDK Internals (JDK-8266851)\ncore-libs</p>\n<p>Strongly encapsulate all internal elements of the JDK, except for critical internal APIs such as <code>sun.misc.Unsafe</code>.</p>\n<p>With this change, the java launcher option <code>--illegal-access</code> is obsolete. If used on the command line it causes a warning message to be issued, and otherwise has no effect. <strong>Existing code that must use internal classes, methods, or fields of the JDK can still be made to work by using the <code>--add-opens</code> launcher option, or the <code>Add-Opens</code> JAR-file manifest attribute, to open specific packages.</strong></p>\n<p>For further details, please see <a href=\"https://openjdk.java.net/jeps/403\" rel=\"nofollow noreferrer\">JEP 403</a>.</p>\n</blockquote>\n<p>However, my recommendation would be to change your code so that it doesn't <em>need</em> to break encapsulation and refer to JDK internals.</p>\n"}],"owner":{"account_id":2667931,"reputation":776,"user_id":2305886,"accept_rate":29,"display_name":"user2305886"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1443,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635549093,"creation_date":1635380774,"question_id":69746929,"body_markdown":"I migrate my project to JDK 17. Everything works fine besides of one thing:\r\n\r\n    class org.aldan3.util.TemplateEngine cannot access class sun.nio.fs.UnixPath (in module java.base) because module java.base does not export sun.nio.fs to unnamed module @c12d4d\r\n\r\nIn my understanding the underline class implementing interface Path, can&#39;t be called due limited scope. How can I declare a reflective call using Path interface? Or there is another trick?\r\n\r\nException:\r\n\r\n&gt; java.lang.IllegalAccessException: class org.aldan3.util.TemplateEngine cannot access class sun.nio.fs.UnixPath (in module java.base) because module java.base does not export sun.nio.fs to unnamed module @c12d4d\r\n\tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:560)\r\n\tat org.aldan3.util.TemplateEngine.processMethodCall(TemplateEngine.java:1731)\r\n\tat org.aldan3.util.TemplateEngine.process(TemplateEngine.java:1397)\r\n\tat org.aldan3.util.TemplateEngine.process(TemplateEngine.java:852)\r\n\tat org.aldan3.util.TemplateEngine.processResource(TemplateEngine.java:259)\r\n\tat org.aldan3.util.TemplateEngine.process(TemplateEngine.java:392)\r\n\tat org.aldan3.util.TemplateEngine.processResource(TemplateEngine.java:259)\r\n\tat org.aldan3.util.TemplateEngine.process(TemplateEngine.java:432)\r\n\tat org.aldan3.util.TemplateEngine.processResource(TemplateEngine.java:259)\r\n\tat org.aldan3.util.TemplateEngine.process(TemplateEngine.java:280)\r\n\tat org.aldan3.servlet.BasePageService.processView(BasePageService.java:381)\r\n\tat org.aldan3.servlet.BasePageService.serve(BasePageService.java:222)\r\n\tat org.aldan3.servlet.FrontController.doRequest(FrontController.java:244)\r\n\tat org.aldan3.servlet.FrontController.service(FrontController.java:159)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n\tat rogatkin.web.WebAppServlet$SimpleFilterChain.doFilter(WebAppServlet.java:3599)\r\n\tat rogatkin.web.WebAppServlet$WebAppContextFilter.doFilter(WebAppServlet.java:3219)\r\n\tat rogatkin.web.WebAppServlet$SimpleFilterChain.doFilter(WebAppServlet.java:3571)\r\n\tat rogatkin.web.WebAppServlet.service(WebAppServlet.java:1464)\r\n\tat Acme.Serve.Serve$ServeConnection.runServlet(Serve.java:2407)\r\n\tat Acme.Serve.Serve$ServeConnection.parseRequest(Serve.java:2326)\r\n\tat Acme.Serve.Serve$ServeConnection.run(Serve.java:2110)\r\n\tat Acme.Utils$ThreadPool$PooledThread.run(Utils.java:1238)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n [The exception source][1]\r\n\r\n[Adding an object to a Map and then methods of it will be called using reflection][2]\r\n\r\n[Since here are lot of misunderstandings of the question, I created a minimal testing example as Unmitigated pointed][3]\r\n\r\nThe problem appeared so interesting, so my friend from Meta, asked if I can show any use case. Sure, I can.\r\n[A use case][4]\r\n\r\n\r\n  [1]: https://github.com/drogatkin/aldan3/blob/98924279fa6f1506f43840ccadd8fd230369e441/src/java/org/aldan3/util/TemplateEngine.java#L1731\r\n  [2]: https://github.com/drogatkin/music-barrel/blob/8db042438da741011a233abdaf99ab0c80e33783/src/java/rogatkin/music_barrel/ctrl/Navigator.java#L101\r\n  [3]: https://github.com/drogatkin/Unmitigated_example/blob/main/src/java/unmitigated/Main.java\r\n  [4]: https://github.com/drogatkin/music-barrel/blob/f8be865f287fa34ed85c3f653d0e2a874914220c/src/res/view/insert/playctrl.html#L19","title":"Reflective call in JDK 17 against interface","body":"<p>I migrate my project to JDK 17. Everything works fine besides of one thing:</p>\n<pre><code>class org.aldan3.util.TemplateEngine cannot access class sun.nio.fs.UnixPath (in module java.base) because module java.base does not export sun.nio.fs to unnamed module @c12d4d\n</code></pre>\n<p>In my understanding the underline class implementing interface Path, can't be called due limited scope. How can I declare a reflective call using Path interface? Or there is another trick?</p>\n<p>Exception:</p>\n<blockquote>\n<p>java.lang.IllegalAccessException: class org.aldan3.util.TemplateEngine cannot access class sun.nio.fs.UnixPath (in module java.base) because module java.base does not export sun.nio.fs to unnamed module @c12d4d\nat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\nat java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674)\nat java.base/java.lang.reflect.Method.invoke(Method.java:560)\nat org.aldan3.util.TemplateEngine.processMethodCall(TemplateEngine.java:1731)\nat org.aldan3.util.TemplateEngine.process(TemplateEngine.java:1397)\nat org.aldan3.util.TemplateEngine.process(TemplateEngine.java:852)\nat org.aldan3.util.TemplateEngine.processResource(TemplateEngine.java:259)\nat org.aldan3.util.TemplateEngine.process(TemplateEngine.java:392)\nat org.aldan3.util.TemplateEngine.processResource(TemplateEngine.java:259)\nat org.aldan3.util.TemplateEngine.process(TemplateEngine.java:432)\nat org.aldan3.util.TemplateEngine.processResource(TemplateEngine.java:259)\nat org.aldan3.util.TemplateEngine.process(TemplateEngine.java:280)\nat org.aldan3.servlet.BasePageService.processView(BasePageService.java:381)\nat org.aldan3.servlet.BasePageService.serve(BasePageService.java:222)\nat org.aldan3.servlet.FrontController.doRequest(FrontController.java:244)\nat org.aldan3.servlet.FrontController.service(FrontController.java:159)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\nat rogatkin.web.WebAppServlet$SimpleFilterChain.doFilter(WebAppServlet.java:3599)\nat rogatkin.web.WebAppServlet$WebAppContextFilter.doFilter(WebAppServlet.java:3219)\nat rogatkin.web.WebAppServlet$SimpleFilterChain.doFilter(WebAppServlet.java:3571)\nat rogatkin.web.WebAppServlet.service(WebAppServlet.java:1464)\nat Acme.Serve.Serve$ServeConnection.runServlet(Serve.java:2407)\nat Acme.Serve.Serve$ServeConnection.parseRequest(Serve.java:2326)\nat Acme.Serve.Serve$ServeConnection.run(Serve.java:2110)\nat Acme.Utils$ThreadPool$PooledThread.run(Utils.java:1238)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n</blockquote>\n<p><a href=\"https://github.com/drogatkin/aldan3/blob/98924279fa6f1506f43840ccadd8fd230369e441/src/java/org/aldan3/util/TemplateEngine.java#L1731\" rel=\"nofollow noreferrer\">The exception source</a></p>\n<p><a href=\"https://github.com/drogatkin/music-barrel/blob/8db042438da741011a233abdaf99ab0c80e33783/src/java/rogatkin/music_barrel/ctrl/Navigator.java#L101\" rel=\"nofollow noreferrer\">Adding an object to a Map and then methods of it will be called using reflection</a></p>\n<p><a href=\"https://github.com/drogatkin/Unmitigated_example/blob/main/src/java/unmitigated/Main.java\" rel=\"nofollow noreferrer\">Since here are lot of misunderstandings of the question, I created a minimal testing example as Unmitigated pointed</a></p>\n<p>The problem appeared so interesting, so my friend from Meta, asked if I can show any use case. Sure, I can.\n<a href=\"https://github.com/drogatkin/music-barrel/blob/f8be865f287fa34ed85c3f653d0e2a874914220c/src/res/view/insert/playctrl.html#L19\" rel=\"nofollow noreferrer\">A use case</a></p>\n"},{"tags":["java","jpa","spring-data"],"owner":{"account_id":10307815,"reputation":1103,"user_id":7604532,"accept_rate":50,"display_name":"laurentius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635548367,"creation_date":1635547998,"question_id":69775495,"body_markdown":"Have an entity with a OneToMany relationship in Spring Data that I would need to filter by a specific column. I&#39;ve been unable to find a satisfying solution to get it with a single query (both parent entity and the filtered OneToMany in one go) so I&#39;m now thinking in having it lazy fetched and after getting the parent entity, have a separate query to retrieve the linked entities and just using a setter to link them together (ie: parent.setChildren(childrenRepository.findAllBy...)).\r\n\r\nQuestion is: would this effectively disable any future trigger to the lazy fetch so my manually set children would remain? Use case here is to add these children manually in certain cases, and using the default lazy fetch when the conditions don&#39;t apply.\r\n\r\nI tested this and seems to be working as intended, but could not find information on when the lazy fetch should be triggered as to make sure my logic would work in any scenario (is it disabled as soon as the setter is invoked? is this documented anywhere?)\r\n\r\nThanks in advance.","title":"Override lazy OneToMany relationship","body":"<p>Have an entity with a OneToMany relationship in Spring Data that I would need to filter by a specific column. I've been unable to find a satisfying solution to get it with a single query (both parent entity and the filtered OneToMany in one go) so I'm now thinking in having it lazy fetched and after getting the parent entity, have a separate query to retrieve the linked entities and just using a setter to link them together (ie: parent.setChildren(childrenRepository.findAllBy...)).</p>\n<p>Question is: would this effectively disable any future trigger to the lazy fetch so my manually set children would remain? Use case here is to add these children manually in certain cases, and using the default lazy fetch when the conditions don't apply.</p>\n<p>I tested this and seems to be working as intended, but could not find information on when the lazy fetch should be triggered as to make sure my logic would work in any scenario (is it disabled as soon as the setter is invoked? is this documented anywhere?)</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","memory","memory-management","memory-leaks","profiling"],"answers":[{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":6,"up_vote_count":52,"is_accepted":false,"score":46,"last_activity_date":1254249482,"creation_date":1254245219,"answer_id":1493930,"question_id":1493913,"body_markdown":"You shouldn&#39;t have to worry about the stack leaking memory (it is highly uncommon).  The only time you can have the stack get out of control is with infinite (or really deep) recursion.\r\n\r\n**This is just the heap. Sorry, didn&#39;t read your question fully at first.**\r\n\r\nYou need to run the JVM with the following command line argument.\r\n\r\n    -Xmx&lt;ammount of memory&gt;\r\n\r\nExample:\r\n\r\n    -Xmx1024m\r\n\r\nThat will allow a max of 1GB of memory for the JVM.","title":"How to set the maximum memory usage for JVM?","body":"<p>You shouldn't have to worry about the stack leaking memory (it is highly uncommon).  The only time you can have the stack get out of control is with infinite (or really deep) recursion.</p>\n\n<p><strong>This is just the heap. Sorry, didn't read your question fully at first.</strong></p>\n\n<p>You need to run the JVM with the following command line argument.</p>\n\n<pre><code>-Xmx&lt;ammount of memory&gt;\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>-Xmx1024m\n</code></pre>\n\n<p>That will allow a max of 1GB of memory for the JVM.</p>\n"},{"tags":[],"owner":{"account_id":28750,"reputation":13964,"user_id":77087,"accept_rate":94,"display_name":"Prabhu R"},"down_vote_count":44,"up_vote_count":154,"is_accepted":true,"score":110,"last_activity_date":1393514602,"creation_date":1254245554,"answer_id":1493951,"question_id":1493913,"body_markdown":"use the arguments `-Xms&lt;memory&gt;` `-Xmx&lt;memory&gt;`. Use `M` or `G` after the numbers for indicating Megs and Gigs of bytes respectively. `-Xms` indicates the minimum and `-Xmx` the maximum.","title":"How to set the maximum memory usage for JVM?","body":"<p>use the arguments <code>-Xms&lt;memory&gt;</code> <code>-Xmx&lt;memory&gt;</code>. Use <code>M</code> or <code>G</code> after the numbers for indicating Megs and Gigs of bytes respectively. <code>-Xms</code> indicates the minimum and <code>-Xmx</code> the maximum.</p>\n"},{"tags":[],"owner":{"account_id":561111,"reputation":121,"user_id":181377,"display_name":"SmoothieMonster"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1254253638,"creation_date":1254253638,"answer_id":1494546,"question_id":1493913,"body_markdown":"The answer above is kind of correct, you can&#39;t gracefully control how much native memory a java process allocates. It depends on what your application is doing.\r\n\r\nThat said, depending on platform, you may be able to do use some mechanism, ulimit for example, to limit the size of a java or any other process.\r\n\r\nJust don&#39;t expect it to fail gracefully if it hits that limit. Native memory allocation failures are much harder to handle than allocation failures on the java heap. There&#39;s a fairly good chance the application will crash but depending on how critical it is to the system to keep the process size down that might still suit you.","title":"How to set the maximum memory usage for JVM?","body":"<p>The answer above is kind of correct, you can't gracefully control how much native memory a java process allocates. It depends on what your application is doing.</p>\n\n<p>That said, depending on platform, you may be able to do use some mechanism, ulimit for example, to limit the size of a java or any other process.</p>\n\n<p>Just don't expect it to fail gracefully if it hits that limit. Native memory allocation failures are much harder to handle than allocation failures on the java heap. There's a fairly good chance the application will crash but depending on how critical it is to the system to keep the process size down that might still suit you.</p>\n"},{"tags":[],"owner":{"display_name":"AfisBoy"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1500473668,"creation_date":1254268476,"answer_id":1495513,"question_id":1493913,"body_markdown":"&gt; The NativeHeap can be increasded by -XX:MaxDirectMemorySize=256M\r\n&gt; (default is 128)\r\n\r\nI&#39;ve never used it.  Maybe you&#39;ll find it useful.","title":"How to set the maximum memory usage for JVM?","body":"<blockquote>\n  <p>The NativeHeap can be increasded by -XX:MaxDirectMemorySize=256M\n  (default is 128)</p>\n</blockquote>\n\n<p>I've never used it.  Maybe you'll find it useful.</p>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1359667707,"creation_date":1359667707,"answer_id":14635470,"question_id":1493913,"body_markdown":"If you want to limit memory for jvm (not the heap size ) \r\nulimit -v &lt;the size which you want to keep&gt;\r\n\r\nTo get an idea of the difference between jvm and heap memory , take a look at this excellent article\r\nhttp://blogs.vmware.com/apps/2011/06/taking-a-closer-look-at-sizing-the-java-process.html","title":"How to set the maximum memory usage for JVM?","body":"<p>If you want to limit memory for jvm (not the heap size ) \nulimit -v </p>\n\n<p>To get an idea of the difference between jvm and heap memory , take a look at this excellent article\n<a href=\"http://blogs.vmware.com/apps/2011/06/taking-a-closer-look-at-sizing-the-java-process.html\">http://blogs.vmware.com/apps/2011/06/taking-a-closer-look-at-sizing-the-java-process.html</a></p>\n"}],"owner":{"account_id":22901,"reputation":14459,"user_id":56952,"accept_rate":66,"display_name":"erotsppa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380926,"favorite_count":0,"down_vote_count":0,"up_vote_count":168,"accepted_answer_id":1493951,"answer_count":5,"score":168,"last_activity_date":1635547716,"creation_date":1254245095,"question_id":1493913,"body_markdown":"I want to limit the maximum memory used by the JVM. Note, this is not just the heap, I want to limit the total memory used by this process.","title":"How to set the maximum memory usage for JVM?","body":"<p>I want to limit the maximum memory used by the JVM. Note, this is not just the heap, I want to limit the total memory used by this process.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-step-functions"],"comments":[{"owner":{"account_id":21579655,"reputation":1318,"user_id":15911053,"display_name":"iggy"},"score":0,"creation_date":1624665244,"post_id":68137715,"comment_id":120428493,"body_markdown":"It seems to me that &quot;a lambda&quot; lasts as long as there are references to it (just like anything else in Java).  So, how are you retaining references?  If the context has changed, it&#39;s not the same lambda.","body":"It seems to me that &quot;a lambda&quot; lasts as long as there are references to it (just like anything else in Java).  So, how are you retaining references?  If the context has changed, it&#39;s not the same lambda."},{"owner":{"account_id":58377,"reputation":247890,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1624667724,"post_id":68137715,"comment_id":120428778,"body_markdown":"Why do you say that it is not &#39;killing&#39; the context? Please edit your question to show us how you have come to this conclusion.","body":"Why do you say that it is not &#39;killing&#39; the context? Please edit your question to show us how you have come to this conclusion."},{"owner":{"account_id":13035681,"reputation":374,"user_id":9420686,"display_name":"Pablo Arriola"},"score":0,"creation_date":1624989686,"post_id":68137715,"comment_id":120506239,"body_markdown":"@JohnRotenstein I have now edited the question to add more details","body":"@JohnRotenstein I have now edited the question to add more details"},{"owner":{"account_id":13035681,"reputation":374,"user_id":9420686,"display_name":"Pablo Arriola"},"score":0,"creation_date":1624989746,"post_id":68137715,"comment_id":120506260,"body_markdown":"@iggy in aws im not sure, as what I need to achieve is that after I throw that runtime exception it starts the next time from a cold boot","body":"@iggy in aws im not sure, as what I need to achieve is that after I throw that runtime exception it starts the next time from a cold boot"},{"owner":{"account_id":21579655,"reputation":1318,"user_id":15911053,"display_name":"iggy"},"score":0,"creation_date":1625000419,"post_id":68137715,"comment_id":120509665,"body_markdown":"I just realised this question was about some AWS service rather than the Java concept of &#39;lambda expression&#39; - I don&#39;t have anything to say about AWS, sorry.","body":"I just realised this question was about some AWS service rather than the Java concept of &#39;lambda expression&#39; - I don&#39;t have anything to say about AWS, sorry."},{"owner":{"account_id":13035681,"reputation":374,"user_id":9420686,"display_name":"Pablo Arriola"},"score":0,"creation_date":1625004363,"post_id":68137715,"comment_id":120510566,"body_markdown":"No problem, thank you very much @iggy","body":"No problem, thank you very much @iggy"},{"owner":{"account_id":58377,"reputation":247890,"user_id":174777,"display_name":"John Rotenstein"},"score":1,"creation_date":1625005293,"post_id":68137715,"comment_id":120510758,"body_markdown":"AWS Lambda functions intentionally re-use the container for fast execution. This can be useful because the container already exists and global variables can be retained through multiple executions, allowing for faster startup. I don&#39;t think it is possible to &#39;force&#39; a container to be deleted. See: [AWS Lambda execution environment - AWS Lambda](https://docs.aws.amazon.com/lambda/latest/dg/runtimes-context.html)","body":"AWS Lambda functions intentionally re-use the container for fast execution. This can be useful because the container already exists and global variables can be retained through multiple executions, allowing for faster startup. I don&#39;t think it is possible to &#39;force&#39; a container to be deleted. See: <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/runtimes-context.html\" rel=\"nofollow noreferrer\">AWS Lambda execution environment - AWS Lambda</a>"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1625006103,"post_id":68137715,"comment_id":120510909,"body_markdown":"You&#39;re going about this the wrong way - *why* can&#39;t you reuse the container?  What in your code &quot;breaks&quot; the Lambda container such that it needs to be completely restarted?","body":"You&#39;re going about this the wrong way - <i>why</i> can&#39;t you reuse the container?  What in your code &quot;breaks&quot; the Lambda container such that it needs to be completely restarted?"},{"owner":{"account_id":13035681,"reputation":374,"user_id":9420686,"display_name":"Pablo Arriola"},"score":0,"creation_date":1625006783,"post_id":68137715,"comment_id":120511020,"body_markdown":"@JohnRotenstein yes that is correct, its just that I would think there would be a way to force a container to be deleted, like if you throw some kind of exception it will be deleted","body":"@JohnRotenstein yes that is correct, its just that I would think there would be a way to force a container to be deleted, like if you throw some kind of exception it will be deleted"},{"owner":{"account_id":13035681,"reputation":374,"user_id":9420686,"display_name":"Pablo Arriola"},"score":0,"creation_date":1625006928,"post_id":68137715,"comment_id":120511048,"body_markdown":"@stdunbar the problem is that im also using an AWS HSM so when i log in if that step fails the when i try again in the next execution it will fail, so I am pretty much forced to kill the container as to avoid any kind of error in the next execution\nI have some retry logic and catch for the exceptions, but as per aws support not all of them can be handled so it would be best to just kill the container and start fresh","body":"@stdunbar the problem is that im also using an AWS HSM so when i log in if that step fails the when i try again in the next execution it will fail, so I am pretty much forced to kill the container as to avoid any kind of error in the next execution I have some retry logic and catch for the exceptions, but as per aws support not all of them can be handled so it would be best to just kill the container and start fresh"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1635547754,"post_id":68137715,"comment_id":123336838,"body_markdown":"@PabloArriola what? just try the login inside your handler and not outside, so you shouldn&#39;t have this problem","body":"@PabloArriola what? just try the login inside your handler and not outside, so you shouldn&#39;t have this problem"},{"owner":{"account_id":13035681,"reputation":374,"user_id":9420686,"display_name":"Pablo Arriola"},"score":0,"creation_date":1637102894,"post_id":68137715,"comment_id":123735657,"body_markdown":"@eis I understand but its faster if I could just kill the environment, its not the most elegant way but it would be faster as this is a time sensitive lambda","body":"@eis I understand but its faster if I could just kill the environment, its not the most elegant way but it would be faster as this is a time sensitive lambda"}],"answers":[{"tags":[],"owner":{"account_id":457475,"reputation":1759,"user_id":856823,"display_name":"Johnny C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1635547447,"creation_date":1635547447,"answer_id":69775448,"question_id":68137715,"body_markdown":"You can&#39;t manually kill an execution environment (lambda instance) either via console/api or from within your function. \r\n\r\nThrowing an exception from within your code (or passing an error in to callback(e)) will merely produce an invocation error that gets logged and reported in cloudwatch. There is no way to throw a &quot;fatal&quot; error, AWS doesn&#39;t differentiate your functions errors for you. The same execution environment will get reused until it has been idle for some non deterministic period of time or aws decides to terminate it for some other reason. This is true for function timeouts as well. \r\n\r\n*So your main concern should be making sure that errors cannot put your function code in to a non recoverable state.* Lambda invocations are intended to be idempotent at least in the sense that the result of the function should never depend on the state of the execution environment.\r\n\r\nThat said, there are some tricks you can use when things go haywire.\r\n\r\n 1. throttling.  you can reduce reserved concurrency of your function to zero, which will cause aws not to deliver new invocations to any of your current execution environments. side effect being of course that your lambda function is inaccessible, so doing this in production is very taboo. but eventually unthrottling should cause new execution environments to be created. this is particularly useful when your lambda is in a fail/retry loop for an event a bug is preventing it from processing. \r\n 2. if you&#39;re invoking a particular function alias, you can publish a new version of your function and move the alias to point to the new version. execution environments are unique to a function version. this can have unintended side effects if there are already newer versions than the problematic one since lambda versioning is linear and can&#39;t be branched.\r\n 3. if you&#39;re effectively invoking $LATEST, either via an alias or by not specifying version/alias, any change to lambda code or configuration (environment variables, memory limit, timeout, etc) will cause all current execution environments to receive no new requests.\r\n\r\nThe obvious problem with 2 and 3 is that in real environments under load, this results in massive cold start penalties as there are suddenly no warm execution environments to handle requests.\r\n\r\n ","title":"Kill the context of an AWS Lambda function","body":"<p>You can't manually kill an execution environment (lambda instance) either via console/api or from within your function.</p>\n<p>Throwing an exception from within your code (or passing an error in to callback(e)) will merely produce an invocation error that gets logged and reported in cloudwatch. There is no way to throw a &quot;fatal&quot; error, AWS doesn't differentiate your functions errors for you. The same execution environment will get reused until it has been idle for some non deterministic period of time or aws decides to terminate it for some other reason. This is true for function timeouts as well.</p>\n<p><em>So your main concern should be making sure that errors cannot put your function code in to a non recoverable state.</em> Lambda invocations are intended to be idempotent at least in the sense that the result of the function should never depend on the state of the execution environment.</p>\n<p>That said, there are some tricks you can use when things go haywire.</p>\n<ol>\n<li>throttling.  you can reduce reserved concurrency of your function to zero, which will cause aws not to deliver new invocations to any of your current execution environments. side effect being of course that your lambda function is inaccessible, so doing this in production is very taboo. but eventually unthrottling should cause new execution environments to be created. this is particularly useful when your lambda is in a fail/retry loop for an event a bug is preventing it from processing.</li>\n<li>if you're invoking a particular function alias, you can publish a new version of your function and move the alias to point to the new version. execution environments are unique to a function version. this can have unintended side effects if there are already newer versions than the problematic one since lambda versioning is linear and can't be branched.</li>\n<li>if you're effectively invoking $LATEST, either via an alias or by not specifying version/alias, any change to lambda code or configuration (environment variables, memory limit, timeout, etc) will cause all current execution environments to receive no new requests.</li>\n</ol>\n<p>The obvious problem with 2 and 3 is that in real environments under load, this results in massive cold start penalties as there are suddenly no warm execution environments to handle requests.</p>\n"}],"owner":{"account_id":13035681,"reputation":374,"user_id":9420686,"display_name":"Pablo Arriola"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1353,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69775448,"answer_count":1,"score":2,"last_activity_date":1635547447,"creation_date":1624660904,"question_id":68137715,"body_markdown":"I have an AWS Lambda function that I need to kill its context when it has a specific error, as that error when invoked again will make the Lambda function not work properly if the context is the same as the last invocation.\r\n\r\nFrom what I had understood if I throw a new `RuntimeException` it should kill the context but it is not doing that.\r\n\r\nAny idea how could I kill the context from inside my code?\r\n\r\n```\r\npublic class IncorrectFileExtensionException \r\n  extends RuntimeException {\r\n    public IncorrectFileExtensionException(String errorMessage, Throwable err) {\r\n        super(errorMessage, err);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI know the Lambda function context is not getting destroyed/killed because after I throw that custom runtime exception the next time I invoke it it uses the same context, I can confirm this as its using the same CloudWatch log stream and its no longer doing a cold boot. \r\n\r\nWhat I need to achieve is for the Lambda function&#39;s context of that invocation to get killed and for it to start the next time in a cold boot.","title":"Kill the context of an AWS Lambda function","body":"<p>I have an AWS Lambda function that I need to kill its context when it has a specific error, as that error when invoked again will make the Lambda function not work properly if the context is the same as the last invocation.</p>\n<p>From what I had understood if I throw a new <code>RuntimeException</code> it should kill the context but it is not doing that.</p>\n<p>Any idea how could I kill the context from inside my code?</p>\n<pre><code>public class IncorrectFileExtensionException \n  extends RuntimeException {\n    public IncorrectFileExtensionException(String errorMessage, Throwable err) {\n        super(errorMessage, err);\n    }\n}\n</code></pre>\n<p>I know the Lambda function context is not getting destroyed/killed because after I throw that custom runtime exception the next time I invoke it it uses the same context, I can confirm this as its using the same CloudWatch log stream and its no longer doing a cold boot.</p>\n<p>What I need to achieve is for the Lambda function's context of that invocation to get killed and for it to start the next time in a cold boot.</p>\n"},{"tags":["java","encoding","utf-8","base64","decoding"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1635546425,"post_id":69775341,"comment_id":123336570,"body_markdown":"How are you converting this `InputStream` to the string you&#39;ve shown us?","body":"How are you converting this <code>InputStream</code> to the string you&#39;ve shown us?"},{"owner":{"account_id":23186498,"reputation":13,"user_id":17283501,"display_name":"sun-and-moon"},"score":0,"creation_date":1635546844,"post_id":69775341,"comment_id":123336656,"body_markdown":"@LouisWasserman I&#39;m working with the InternetHeaders class, so the output (after the code I typed in in the post) was actually `return new InternetHeaders(result)`.  I had a function that takes in InternetHeaders and did `Enumeration&lt;String&gt; enumA = a.getAllHeaderLines()` and then got that string output by looping through enumA and `System.out.println enumA.nextElement()`","body":"@LouisWasserman I&#39;m working with the InternetHeaders class, so the output (after the code I typed in in the post) was actually <code>return new InternetHeaders(result)</code>.  I had a function that takes in InternetHeaders and did <code>Enumeration&lt;String&gt; enumA = a.getAllHeaderLines()</code> and then got that string output by looping through enumA and <code>System.out.println enumA.nextElement()</code>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1635547994,"post_id":69775341,"comment_id":123336888,"body_markdown":"From reading the [javadoc](https://docs.oracle.com/javaee/6/api/javax/mail/internet/MimeUtility.html), I *think* the [`decodeText(String)`](https://docs.oracle.com/javaee/6/api/javax/mail/internet/MimeUtility.html#decodeText(java.lang.String)) method is what you want, or possibly [`decodeWord(String)`](https://docs.oracle.com/javaee/6/api/javax/mail/internet/MimeUtility.html#decodeWord(java.lang.String)).","body":"From reading the <a href=\"https://docs.oracle.com/javaee/6/api/javax/mail/internet/MimeUtility.html\" rel=\"nofollow noreferrer\">javadoc</a>, I <i>think</i> the <a href=\"https://docs.oracle.com/javaee/6/api/javax/mail/internet/MimeUtility.html#decodeText(java.lang.String)\" rel=\"nofollow noreferrer\"><code>decodeText(String)</code></a> method is what you want, or possibly <a href=\"https://docs.oracle.com/javaee/6/api/javax/mail/internet/MimeUtility.html#decodeWord(java.lang.String)\" rel=\"nofollow noreferrer\"><code>decodeWord(String)</code></a>."},{"owner":{"account_id":23186498,"reputation":13,"user_id":17283501,"display_name":"sun-and-moon"},"score":0,"creation_date":1635868935,"post_id":69775341,"comment_id":123405002,"body_markdown":"For people reading the post in the future: it was indeed decodeText()!","body":"For people reading the post in the future: it was indeed decodeText()!"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635546912,"creation_date":1635546912,"answer_id":69775400,"question_id":69775341,"body_markdown":"The base64 you have there __actually is__ what you pasted. Including the bizarre =?UTF-8?B? weirdness.\r\n\r\nThe stuff that follows is _again_ base64.\r\n\r\nThere&#39;s base64-encoded data inside your base-64 encoded data. As Xzibit would say: I put some Base64 in your base64 so you can base64 while you base64. Why do I feel old all of a sudden?\r\n\r\nIn other words, the base64 input you get is a crazy, extremely inefficient format invented by a crazy person.\r\n\r\nMy advice is that you tell them to come up with something less insane.\r\n\r\nFailing that:\r\n\r\nSearch the resulting string for the regex pattern and then again apply base64 decode to the stuff in the middle.\r\n\r\nAlso, you&#39;re using some third party base64 decoder, probably apache. Apache libraries tend to suck. Base64 is baked into java, there is no reason to use worse libraries here. I&#39;ve fixed that; the Base64 in this snippet is `java.util.Base64`. Its API is slightly different.\r\n\r\n```java\r\nString sourceB64 = &quot;SGV...&quot;; // that input base64 you have.\r\nbyte[] sourceBytes = Base64.decodeBase64(sourceB64);\r\nString source = new String(sourceBytes, StandardCharsets.UTF_8);\r\nPattern p = Pattern.compile(&quot;=\\\\?UTF-8\\\\?B\\\\?(.*?)\\\\?=&quot;);\r\nMatcher m = p.matcher(source);\r\nStringBuilder out = new StringBuilder();\r\nint curPos = 0;\r\nwhile (m.find()) {\r\n  out.append(source.substring(curPos, m.start()));\r\n  curPos = m.end();\r\n  String content = new String(Base64.getDecoder().decode(m.group(1)), StandardCharsets.UTF_8);\r\n  out.append(content);\r\n}\r\nout.append(source.substring(curPos));\r\n\r\nSystem.out.println(out.toString());\r\n```\r\n\r\nIf I run that, I get:\r\n\r\n```\r\nHeader: headervalue\r\nBad: Name: badnamevalue\r\nUnicode: 己欲立而立人，己欲達而達 人，己所不欲，勿施於人。\r\n```\r\n\r\nWhich looks exactly like what you want.\r\n\r\n\r\nExplanation of that code:\r\n\r\n* It first base64-decodes the input, and turns that into a string. (Your idea of using InputStream is a red herring. That doesn&#39;t help at all here. You just want to turn bytes into a string, you do it as per line 3 of that snippet. Pass the byte array and the encoding those bytes are in, that&#39;s all you need to do).\r\n* It then goes on the hunt for `=?UTF-8?B?--base64here--?=` inside your base64. The base64-in-the-base64.\r\n* It then decoder _that_ base64, turns it into a string in the same fashion, and replaces it.\r\n* It just adds everything besides those `=?UTF-8?B?...?=` segments verbatim.\r\n","title":"Decoding String (from header) encoded by Base64 and RFC2047 in Java","body":"<p>The base64 you have there <strong>actually is</strong> what you pasted. Including the bizarre =?UTF-8?B? weirdness.</p>\n<p>The stuff that follows is <em>again</em> base64.</p>\n<p>There's base64-encoded data inside your base-64 encoded data. As Xzibit would say: I put some Base64 in your base64 so you can base64 while you base64. Why do I feel old all of a sudden?</p>\n<p>In other words, the base64 input you get is a crazy, extremely inefficient format invented by a crazy person.</p>\n<p>My advice is that you tell them to come up with something less insane.</p>\n<p>Failing that:</p>\n<p>Search the resulting string for the regex pattern and then again apply base64 decode to the stuff in the middle.</p>\n<p>Also, you're using some third party base64 decoder, probably apache. Apache libraries tend to suck. Base64 is baked into java, there is no reason to use worse libraries here. I've fixed that; the Base64 in this snippet is <code>java.util.Base64</code>. Its API is slightly different.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sourceB64 = &quot;SGV...&quot;; // that input base64 you have.\nbyte[] sourceBytes = Base64.decodeBase64(sourceB64);\nString source = new String(sourceBytes, StandardCharsets.UTF_8);\nPattern p = Pattern.compile(&quot;=\\\\?UTF-8\\\\?B\\\\?(.*?)\\\\?=&quot;);\nMatcher m = p.matcher(source);\nStringBuilder out = new StringBuilder();\nint curPos = 0;\nwhile (m.find()) {\n  out.append(source.substring(curPos, m.start()));\n  curPos = m.end();\n  String content = new String(Base64.getDecoder().decode(m.group(1)), StandardCharsets.UTF_8);\n  out.append(content);\n}\nout.append(source.substring(curPos));\n\nSystem.out.println(out.toString());\n</code></pre>\n<p>If I run that, I get:</p>\n<pre><code>Header: headervalue\nBad: Name: badnamevalue\nUnicode: 己欲立而立人，己欲達而達 人，己所不欲，勿施於人。\n</code></pre>\n<p>Which looks exactly like what you want.</p>\n<p>Explanation of that code:</p>\n<ul>\n<li>It first base64-decodes the input, and turns that into a string. (Your idea of using InputStream is a red herring. That doesn't help at all here. You just want to turn bytes into a string, you do it as per line 3 of that snippet. Pass the byte array and the encoding those bytes are in, that's all you need to do).</li>\n<li>It then goes on the hunt for <code>=?UTF-8?B?--base64here--?=</code> inside your base64. The base64-in-the-base64.</li>\n<li>It then decoder <em>that</em> base64, turns it into a string in the same fashion, and replaces it.</li>\n<li>It just adds everything besides those <code>=?UTF-8?B?...?=</code> segments verbatim.</li>\n</ul>\n"}],"owner":{"account_id":23186498,"reputation":13,"user_id":17283501,"display_name":"sun-and-moon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":951,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69775400,"answer_count":1,"score":1,"last_activity_date":1635546912,"creation_date":1635546203,"question_id":69775341,"body_markdown":"I&#39;m working on a function to decode a string (from a header) that is encoded in both Base64 and RFC2047 in Java.\r\n\r\nGiven this header:\r\n&gt; SGVhZGVyOiBoZWFkZXJ2YWx1ZQ0KQmFkOiBOYW1lOiBiYWRuYW1ldmFsdWUNClVuaWNvZGU6ID0/VVRGLTg/Qj81YmV4NXF5eTU2dUw2SUNNNTZ1TDVMcTY3N3lNNWJleDVxeXk2WUdVNklDTTZZR1U/PSA9P1VURi04P0I/NUxxNjc3eU01YmV4NW9tQTVMaU41cXl5Nzd5TTVZdS81cGE5NXBhODVMcTY0NENDPz0NCg0K\r\n\r\nMy expected output is:\r\n&gt; Header: headervalue Bad: Name: badnamevalue Unicode:\r\n&gt; 己欲立而立人，己欲達而達人，己所不欲，勿施於人。\r\n\r\n\r\nThe only relevant function that I have found and tried was `Base64.decodeBase64(headers)`, which produces this when printed out:\r\n\r\n&gt; Header: headervalue Bad: Name: badnamevalue Unicode:\r\n&gt; =?UTF-8?B?5bex5qyy56uL6ICM56uL5Lq677yM5bex5qyy6YGU6ICM6YGU?= =?UTF-8?B?5Lq677yM5bex5omA5LiN5qyy77yM5Yu/5pa95pa85Lq644CC?=\r\n\r\nTo solve this, I&#39;ve been trying MimeUtility.decode() by converting the byte array returned from `Base64.decodeBase64(headers)` to InputStream, but the result was identical as above.\r\n\r\n    InputStream headerStream = new ByteArrayInputStream(Base64.decodeBase64(headers));\r\n    InputStream result = MimeUtility.decode(headerStream, &quot;quoted-printable&quot;);\r\n\r\nHave been searching around the internet but have yet found a solution, wondering if anyone knows ways to decode MIME headers from resulted byte arrays?\r\n\r\nAny help is appreciated! It&#39;s also my first stack overflow post, apologies if I&#39;m missing anything but please let me know if there&#39;s more information that I can provide!","title":"Decoding String (from header) encoded by Base64 and RFC2047 in Java","body":"<p>I'm working on a function to decode a string (from a header) that is encoded in both Base64 and RFC2047 in Java.</p>\n<p>Given this header:</p>\n<blockquote>\n<p>SGVhZGVyOiBoZWFkZXJ2YWx1ZQ0KQmFkOiBOYW1lOiBiYWRuYW1ldmFsdWUNClVuaWNvZGU6ID0/VVRGLTg/Qj81YmV4NXF5eTU2dUw2SUNNNTZ1TDVMcTY3N3lNNWJleDVxeXk2WUdVNklDTTZZR1U/PSA9P1VURi04P0I/NUxxNjc3eU01YmV4NW9tQTVMaU41cXl5Nzd5TTVZdS81cGE5NXBhODVMcTY0NENDPz0NCg0K</p>\n</blockquote>\n<p>My expected output is:</p>\n<blockquote>\n<p>Header: headervalue Bad: Name: badnamevalue Unicode:\n己欲立而立人，己欲達而達人，己所不欲，勿施於人。</p>\n</blockquote>\n<p>The only relevant function that I have found and tried was <code>Base64.decodeBase64(headers)</code>, which produces this when printed out:</p>\n<blockquote>\n<p>Header: headervalue Bad: Name: badnamevalue Unicode:\n=?UTF-8?B?5bex5qyy56uL6ICM56uL5Lq677yM5bex5qyy6YGU6ICM6YGU?= =?UTF-8?B?5Lq677yM5bex5omA5LiN5qyy77yM5Yu/5pa95pa85Lq644CC?=</p>\n</blockquote>\n<p>To solve this, I've been trying MimeUtility.decode() by converting the byte array returned from <code>Base64.decodeBase64(headers)</code> to InputStream, but the result was identical as above.</p>\n<pre><code>InputStream headerStream = new ByteArrayInputStream(Base64.decodeBase64(headers));\nInputStream result = MimeUtility.decode(headerStream, &quot;quoted-printable&quot;);\n</code></pre>\n<p>Have been searching around the internet but have yet found a solution, wondering if anyone knows ways to decode MIME headers from resulted byte arrays?</p>\n<p>Any help is appreciated! It's also my first stack overflow post, apologies if I'm missing anything but please let me know if there's more information that I can provide!</p>\n"},{"tags":["java","interface","annotations","language-features"],"answers":[{"tags":[],"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1445532144,"creation_date":1285759816,"answer_id":3821173,"question_id":3821143,"body_markdown":"**Java 8 and onwards**\r\n\r\nYes, the default keyword can now be used on interfaces.  For more details see [Oracle&#39;s docs][1].\r\n\r\nThe implementation is slightly different than what you were thinking.  It would be:\r\n\r\n    public interface DefaultTest {\r\n        default public String test() {\r\n            return &quot;value&quot;;\r\n        }\r\n    }\r\n\r\n**Java 7 and previous**\r\n\r\nThe default keyword can only be used for annotations.\r\n\r\n  If you want a default return value for an interface you need to use an abstract class instead.\r\n\r\n    public abstract class DefaultTest {\r\n    \r\n      public String test() {\r\n        return &quot;value&quot;;\r\n      }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html","title":"Default method return value in Java interfaces","body":"<p><strong>Java 8 and onwards</strong></p>\n\n<p>Yes, the default keyword can now be used on interfaces.  For more details see <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"noreferrer\">Oracle's docs</a>.</p>\n\n<p>The implementation is slightly different than what you were thinking.  It would be:</p>\n\n<pre><code>public interface DefaultTest {\n    default public String test() {\n        return \"value\";\n    }\n}\n</code></pre>\n\n<p><strong>Java 7 and previous</strong></p>\n\n<p>The default keyword can only be used for annotations.</p>\n\n<p>If you want a default return value for an interface you need to use an abstract class instead.</p>\n\n<pre><code>public abstract class DefaultTest {\n\n  public String test() {\n    return \"value\";\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5962469,"reputation":101,"user_id":4687217,"display_name":"gtm.r"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1429822861,"creation_date":1429822861,"answer_id":29834235,"question_id":3821143,"body_markdown":"The &#39;default&#39; keyword here is not annotation specific.\r\nIts the feature of java to provide default implementation to interface methods.\r\n\r\n**Need of this behaviour :**\r\nSuppose initially a interface Vehicle was defined to support all vehicle functional methods -\r\n\r\n    interface Vehicle {\r\n\t  void speed();\r\n\t\r\n\t  ... \r\n\t  //other interface methods\r\n    } \r\n\r\nNow classes implementing this Vehicle interface have implemented those abstract methods. \r\n\r\nNow in future Vehicle have capability of flying. So you need to add flying feature as well.\r\nNow if you add flyingSpeed() method to Vehicle interface, you need to modify all the existing classes to avoid break the code.\r\nNot feasible solution.\r\n\r\nFor backward compatibility java has provided the feature of Default method. So that you can add new methods to interface with default implementation, so the existing classes would not need to implement that method. And the new Vehicle classes can override those methods as per their need.\r\n\r\n    interface Vehicle {\r\n      void speed();\r\n\t\r\n\t  ...\r\n\t  //other interface methods\r\n\t\r\n\t  //default method\r\n\t  default void flyingSpeed() {\r\n\t\tSystem.out.println(&quot;Default flying speed&quot;);\r\n\t  }\r\n    }\r\n\r\nUsing this way previous existing classes of Vehicle wouldn&#39;t need to implement this method.\r\n\r\nFor more information &lt;a href=&quot;https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html&quot;&gt;see&lt;/a&gt; here.\r\n","title":"Default method return value in Java interfaces","body":"<p>The 'default' keyword here is not annotation specific.\nIts the feature of java to provide default implementation to interface methods.</p>\n\n<p><strong>Need of this behaviour :</strong>\nSuppose initially a interface Vehicle was defined to support all vehicle functional methods -</p>\n\n<pre><code>interface Vehicle {\n  void speed();\n\n  ... \n  //other interface methods\n} \n</code></pre>\n\n<p>Now classes implementing this Vehicle interface have implemented those abstract methods. </p>\n\n<p>Now in future Vehicle have capability of flying. So you need to add flying feature as well.\nNow if you add flyingSpeed() method to Vehicle interface, you need to modify all the existing classes to avoid break the code.\nNot feasible solution.</p>\n\n<p>For backward compatibility java has provided the feature of Default method. So that you can add new methods to interface with default implementation, so the existing classes would not need to implement that method. And the new Vehicle classes can override those methods as per their need.</p>\n\n<pre><code>interface Vehicle {\n  void speed();\n\n  ...\n  //other interface methods\n\n  //default method\n  default void flyingSpeed() {\n    System.out.println(\"Default flying speed\");\n  }\n}\n</code></pre>\n\n<p>Using this way previous existing classes of Vehicle wouldn't need to implement this method.</p>\n\n<p>For more information <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"noreferrer\">see</a> here.</p>\n"},{"tags":[],"owner":{"account_id":9508774,"reputation":107,"user_id":7067337,"display_name":"Roy Alilin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635546785,"creation_date":1630997589,"answer_id":69083608,"question_id":3821143,"body_markdown":"The default keyword you referred applies specifically to annotations; used for specifying the default value of an annotation attribute ( pls see this: https://docs.oracle.com/javase/specs/jls/se12/html/jls-9.html#jls-9.6.2 ). Note that an annotation attribute can only be a primitive, String, Class, annotation, enumeration, or a 1 dimensional array of these. An interface attribute can only be declared (and by default) public static final. It&#39;s value I think must be assigned during declaration using the Java assignment syntax.","title":"Default method return value in Java interfaces","body":"<p>The default keyword you referred applies specifically to annotations; used for specifying the default value of an annotation attribute ( pls see this: <a href=\"https://docs.oracle.com/javase/specs/jls/se12/html/jls-9.html#jls-9.6.2\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se12/html/jls-9.html#jls-9.6.2</a> ). Note that an annotation attribute can only be a primitive, String, Class, annotation, enumeration, or a 1 dimensional array of these. An interface attribute can only be declared (and by default) public static final. It's value I think must be assigned during declaration using the Java assignment syntax.</p>\n"}],"owner":{"account_id":19114,"reputation":26335,"user_id":44522,"accept_rate":93,"display_name":"MicSim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38581,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":3821173,"answer_count":3,"score":25,"last_activity_date":1635546785,"creation_date":1285759578,"question_id":3821143,"body_markdown":"While working with annotations I stumbled accross the following piece of code (it&#39;s the Hibernate @NotNull annotation):\r\n\r\n\t@Target(value = {ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.PARAMETER})\r\n\t@Retention(value = RetentionPolicy.RUNTIME)\r\n\t@Documented\r\n\t@Constraint(validatedBy = {})\r\n\tpublic @interface NotNull {\r\n\r\n\t\t@Target(value = {ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.PARAMETER})\r\n\t\t@Retention(value = RetentionPolicy.RUNTIME)\r\n\t\t@Documented\r\n\t\tpublic @interface List {\r\n\r\n\t\t\tpublic NotNull[] value();\r\n\t\t}\r\n\r\n\t\tpublic String message() default &quot;{javax.validation.constraints.NotNull.message}&quot;;\r\n\r\n\t\tpublic Class&lt;?&gt;[] groups() default {};\r\n\r\n\t\tpublic Class&lt;? extends Payload&gt;[] payload() default {};\r\n\t}\r\n\r\nI was wondering about the `default` keyword/construct in the method definition, which I&#39;ve never seen before. As I understood, it lets you define a default value for this method (or annotation property).\r\n\r\nNow I was trying to apply this construct to a normal interface, but it failed. This would fail to compile:\r\n\r\n\tpublic interface DefaultTest {\r\n\t\tpublic String test() default &quot;value&quot;;\r\n\t}\r\n\r\nBut this would work:\r\n\r\n\tpublic @interface DefaultTest {\r\n\t\tpublic String test() default &quot;value&quot;;\r\n\t}\r\n\r\nSo my question is: **Is the `default` keyword annotation-specific? And if yes, what speaks against using this construct in normal interface definitions?**","title":"Default method return value in Java interfaces","body":"<p>While working with annotations I stumbled accross the following piece of code (it's the Hibernate @NotNull annotation):</p>\n\n<pre><code>@Target(value = {ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.PARAMETER})\n@Retention(value = RetentionPolicy.RUNTIME)\n@Documented\n@Constraint(validatedBy = {})\npublic @interface NotNull {\n\n    @Target(value = {ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.PARAMETER})\n    @Retention(value = RetentionPolicy.RUNTIME)\n    @Documented\n    public @interface List {\n\n        public NotNull[] value();\n    }\n\n    public String message() default \"{javax.validation.constraints.NotNull.message}\";\n\n    public Class&lt;?&gt;[] groups() default {};\n\n    public Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n\n<p>I was wondering about the <code>default</code> keyword/construct in the method definition, which I've never seen before. As I understood, it lets you define a default value for this method (or annotation property).</p>\n\n<p>Now I was trying to apply this construct to a normal interface, but it failed. This would fail to compile:</p>\n\n<pre><code>public interface DefaultTest {\n    public String test() default \"value\";\n}\n</code></pre>\n\n<p>But this would work:</p>\n\n<pre><code>public @interface DefaultTest {\n    public String test() default \"value\";\n}\n</code></pre>\n\n<p>So my question is: <strong>Is the <code>default</code> keyword annotation-specific? And if yes, what speaks against using this construct in normal interface definitions?</strong></p>\n"},{"tags":["java","arrays","list","arraylist"],"answers":[{"tags":[],"owner":{"account_id":1425811,"reputation":10732,"user_id":1349366,"display_name":"Aivean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635546191,"creation_date":1635539877,"answer_id":69774542,"question_id":69774409,"body_markdown":"Since `param1` is declared as `ArrayList&lt;ArrayList&lt;...&gt;&gt;`, you have no choice, but to create `new ArrayList(...)` explicitly for nested elements:\r\n\r\n```java\r\nArrayList&lt;ArrayList&lt;String&gt;&gt; param1 = new ArrayList&lt;&gt;(Arrays.asList(\r\n    new ArrayList&lt;&gt;(Arrays.asList(&quot;HTML&quot;, &quot;C#&quot;)),\r\n    new ArrayList&lt;&gt;(Arrays.asList(&quot;C#&quot;, &quot;Python&quot;))\r\n));\r\n```\r\n---\r\n\r\nBut, as the general rule, try to write functions that accept as permissive parameter types as possible. In this case, if you can replace `ArrayList&lt;ArrayList&lt;String&gt;&gt;` in `methodName` with `List&lt;List&lt;String&gt;&gt;`, that would be much better for the users of your function.\r\n\r\n\r\nFor example, they would be able to create `param1` as such:\r\n\r\n```java\r\nList&lt;List&lt;String&gt;&gt; param1 = Arrays.asList(\r\n    Arrays.asList(&quot;HTML&quot;, &quot;C#&quot;),\r\n    Arrays.asList(&quot;C#&quot;, &quot;Python&quot;)\r\n);\r\n```\r\n\r\n---\r\n**UPD** as @DavidConrad pointed out, you can use `List.of(...)` instead of `Arrays.asList(...)` since Java 9. ","title":"How to add inputs of ArrayList &lt;String&gt; to a nested arraylist in java","body":"<p>Since <code>param1</code> is declared as <code>ArrayList&lt;ArrayList&lt;...&gt;&gt;</code>, you have no choice, but to create <code>new ArrayList(...)</code> explicitly for nested elements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;ArrayList&lt;String&gt;&gt; param1 = new ArrayList&lt;&gt;(Arrays.asList(\n    new ArrayList&lt;&gt;(Arrays.asList(&quot;HTML&quot;, &quot;C#&quot;)),\n    new ArrayList&lt;&gt;(Arrays.asList(&quot;C#&quot;, &quot;Python&quot;))\n));\n</code></pre>\n<hr />\n<p>But, as the general rule, try to write functions that accept as permissive parameter types as possible. In this case, if you can replace <code>ArrayList&lt;ArrayList&lt;String&gt;&gt;</code> in <code>methodName</code> with <code>List&lt;List&lt;String&gt;&gt;</code>, that would be much better for the users of your function.</p>\n<p>For example, they would be able to create <code>param1</code> as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; param1 = Arrays.asList(\n    Arrays.asList(&quot;HTML&quot;, &quot;C#&quot;),\n    Arrays.asList(&quot;C#&quot;, &quot;Python&quot;)\n);\n</code></pre>\n<hr />\n<p><strong>UPD</strong> as @DavidConrad pointed out, you can use <code>List.of(...)</code> instead of <code>Arrays.asList(...)</code> since Java 9.</p>\n"},{"tags":[],"owner":{"account_id":23175946,"reputation":66,"user_id":17274465,"display_name":"jcurley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635540297,"creation_date":1635540297,"answer_id":69774587,"question_id":69774409,"body_markdown":"You could do \r\n```\r\nList&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;&gt;(); // No need for List&lt;String&gt; again, just the one diamond operator is enough here.\r\nlist.add(List.of(&quot;HTML&quot;, &quot;C#&quot;));\r\n...\r\n```","title":"How to add inputs of ArrayList &lt;String&gt; to a nested arraylist in java","body":"<p>You could do</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;&gt;(); // No need for List&lt;String&gt; again, just the one diamond operator is enough here.\nlist.add(List.of(&quot;HTML&quot;, &quot;C#&quot;));\n...\n</code></pre>\n"}],"owner":{"account_id":16017137,"reputation":313,"user_id":12892702,"display_name":"kingified"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69774542,"answer_count":2,"score":0,"last_activity_date":1635546191,"creation_date":1635538972,"question_id":69774409,"body_markdown":"I have a method that takes in a nested ArrayList of Strings as a parameter as given below:\r\n\r\n```\r\n public static String methodName(ArrayList&lt;ArrayList&lt;String&gt;&gt; param1,ArrayList&lt;Integer&gt; param2){\r\n...some logic\r\n}\r\n\r\n```\r\n\r\nI want to test this method with an input\r\n```\r\ninput :&quot;param1&quot;= [\r\n    [&quot;HTML&quot;, &quot;C#&quot;],\r\n    [&quot;C#&quot;, &quot;Python&quot;],\r\n    [&quot;Python&quot;, &quot;HTML&quot;]\r\n  ]\r\n  &quot;param2&quot;= [0, 0, 1]\r\n```\r\n\r\n\r\nI searched online and found this : &lt;https://stackoverflow.com/questions/10768170/how-do-i-declare-a-2d-string-arraylist&gt;\r\n\r\nHere is what I tried:\r\n```\r\npublic static void main(String[] args){\r\nArrayList&lt;ArrayList&lt;String&gt;&gt; param1 = ...what should I put here?    \r\n\r\n  List&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;List&lt;String&gt;&gt;();\r\n   List&lt;String&gt; input = new ArrayList&lt;String&gt;();\r\n   input.add({&quot;HTML&quot;, &quot;C#&quot;});//does not compile ... array initializer not allowed here\r\n  input.add({&quot;C#&quot;, &quot;Python&quot;});\r\n  input.add({&quot;Python&quot;, &quot;HTML&quot;});\r\n```\r\n\r\nHow would you add the input to the nested ArrayList?\r\nWould appreciate any help...","title":"How to add inputs of ArrayList &lt;String&gt; to a nested arraylist in java","body":"<p>I have a method that takes in a nested ArrayList of Strings as a parameter as given below:</p>\n<pre><code> public static String methodName(ArrayList&lt;ArrayList&lt;String&gt;&gt; param1,ArrayList&lt;Integer&gt; param2){\n...some logic\n}\n\n</code></pre>\n<p>I want to test this method with an input</p>\n<pre><code>input :&quot;param1&quot;= [\n    [&quot;HTML&quot;, &quot;C#&quot;],\n    [&quot;C#&quot;, &quot;Python&quot;],\n    [&quot;Python&quot;, &quot;HTML&quot;]\n  ]\n  &quot;param2&quot;= [0, 0, 1]\n</code></pre>\n<p>I searched online and found this : <a href=\"https://stackoverflow.com/questions/10768170/how-do-i-declare-a-2d-string-arraylist\">How do I declare a 2D String arraylist?</a></p>\n<p>Here is what I tried:</p>\n<pre><code>public static void main(String[] args){\nArrayList&lt;ArrayList&lt;String&gt;&gt; param1 = ...what should I put here?    \n\n  List&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;List&lt;String&gt;&gt;();\n   List&lt;String&gt; input = new ArrayList&lt;String&gt;();\n   input.add({&quot;HTML&quot;, &quot;C#&quot;});//does not compile ... array initializer not allowed here\n  input.add({&quot;C#&quot;, &quot;Python&quot;});\n  input.add({&quot;Python&quot;, &quot;HTML&quot;});\n</code></pre>\n<p>How would you add the input to the nested ArrayList?\nWould appreciate any help...</p>\n"},{"tags":["java","xml-parsing","jaxb"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1527509716,"post_id":50566163,"comment_id":88142474,"body_markdown":"Well ... What do you expect when trying to unmarshal a 6GB XML file to objects? The solution is, to not read them all at once. You already created a XML stream reader. Use it.","body":"Well ... What do you expect when trying to unmarshal a 6GB XML file to objects? The solution is, to not read them all at once. You already created a XML stream reader. Use it."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1527510390,"post_id":50566163,"comment_id":88142871,"body_markdown":"Do you need all the objects at the same time? Otherwise you could do the post processing in chunks. Or swap them out to a binary file with normal serialization and then process that file serially one object at a time. I don&#39;t think your problem is related to XML, the code looks fine. You can verify by not holding on to the objects. If the problem is that you need 3.3M objects and can&#39;t allocate memory for them you are stuck.","body":"Do you need all the objects at the same time? Otherwise you could do the post processing in chunks. Or swap them out to a binary file with normal serialization and then process that file serially one object at a time. I don&#39;t think your problem is related to XML, the code looks fine. You can verify by not holding on to the objects. If the problem is that you need 3.3M objects and can&#39;t allocate memory for them you are stuck."},{"owner":{"account_id":6080307,"reputation":243,"user_id":4746300,"accept_rate":46,"display_name":"Amarendra Reddy"},"score":0,"creation_date":1527510567,"post_id":50566163,"comment_id":88142962,"body_markdown":"How to find the size of all 3.3M objects to identify that its exceeding heap size?","body":"How to find the size of all 3.3M objects to identify that its exceeding heap size?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":1,"creation_date":1527513994,"post_id":50566163,"comment_id":88144997,"body_markdown":"You can [use JAXB with StAX](http://blog.bdoughan.com/2012/08/handle-middle-of-xml-document-with-jaxb.html) to process objects in a stream-like fashion.","body":"You can <a href=\"http://blog.bdoughan.com/2012/08/handle-middle-of-xml-document-with-jaxb.html\" rel=\"nofollow noreferrer\">use JAXB with StAX</a> to process objects in a stream-like fashion."}],"answers":[{"tags":[],"owner":{"account_id":11108833,"reputation":355,"user_id":8155256,"display_name":"butchyyyy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1527516890,"creation_date":1527510108,"answer_id":50566336,"question_id":50566163,"body_markdown":"The way you parse, all the data for XML will end up being converted to Java class hierarchy that will end up in memory.\r\n\r\nTo avoid memory issues with large files, you can:\r\n\r\n - Directly use SAX parser which is event driven and consumes almost no memory.\r\n - Use partial unmarshalling with JAXB\r\n\r\nThis will impose some limitations on how you can process the XML data since they will never be available all at once.\r\nIf the postprocessing happens in some reasonable sized chunks of the XML, it&#39;s not a problem since you can do that in memory.\r\nIf the postprocessing needs to happen over the whole XML, one option would be to load the data into database and do the post processing there.","title":"Unmarshalling Large Xml files in Java","body":"<p>The way you parse, all the data for XML will end up being converted to Java class hierarchy that will end up in memory.</p>\n\n<p>To avoid memory issues with large files, you can:</p>\n\n<ul>\n<li>Directly use SAX parser which is event driven and consumes almost no memory.</li>\n<li>Use partial unmarshalling with JAXB</li>\n</ul>\n\n<p>This will impose some limitations on how you can process the XML data since they will never be available all at once.\nIf the postprocessing happens in some reasonable sized chunks of the XML, it's not a problem since you can do that in memory.\nIf the postprocessing needs to happen over the whole XML, one option would be to load the data into database and do the post processing there.</p>\n"},{"tags":[],"owner":{"account_id":12011776,"reputation":1185,"user_id":8788182,"display_name":"sigma1510"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635545633,"creation_date":1635543681,"answer_id":69775060,"question_id":50566163,"body_markdown":"In case anyone needs a concrete example of how to do this with JAXB with StAX:\r\n\r\n    XMLInputFactory xif = XMLInputFactory.newInstance()\r\n    XMLStreamReader reader = xif.createXMLEventReader(new StreamSource(&quot;abc.xml&quot;))\r\n    JAXBContext jc = JAXBContext.newInstance(XYZ.class);\r\n    Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n\r\n    while (!reader.peek().isEndDocument) {\r\n      if (reader.peek().isStartElement &amp;&amp; \r\n            reader.peek().asStartElement().getName().getLocalPart().equals(&quot;xyz&quot;)) {\r\n        XYZ sample = (XYZ) unmarshaller.unmarshal(reader);\r\n        //do thing with sample\r\n      }\r\n      reader.nextEvent()\r\n    }\r\n    reader.close()","title":"Unmarshalling Large Xml files in Java","body":"<p>In case anyone needs a concrete example of how to do this with JAXB with StAX:</p>\n<pre><code>XMLInputFactory xif = XMLInputFactory.newInstance()\nXMLStreamReader reader = xif.createXMLEventReader(new StreamSource(&quot;abc.xml&quot;))\nJAXBContext jc = JAXBContext.newInstance(XYZ.class);\nUnmarshaller unmarshaller = jc.createUnmarshaller();\n\nwhile (!reader.peek().isEndDocument) {\n  if (reader.peek().isStartElement &amp;&amp; \n        reader.peek().asStartElement().getName().getLocalPart().equals(&quot;xyz&quot;)) {\n    XYZ sample = (XYZ) unmarshaller.unmarshal(reader);\n    //do thing with sample\n  }\n  reader.nextEvent()\n}\nreader.close()\n</code></pre>\n"}],"owner":{"account_id":6080307,"reputation":243,"user_id":4746300,"accept_rate":46,"display_name":"Amarendra Reddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4997,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50566336,"answer_count":2,"score":1,"last_activity_date":1635545633,"creation_date":1527509471,"question_id":50566163,"body_markdown":"I am trying to unmarshall large xml files of size around 6Gb to java object. Below is the implementation i have used to parse the large file. It works with 20Gb heap space only. I would like to reduce the memory foot print further.\r\n\r\n    XMLInputFactory xif = XMLInputFactory.newInstance();\r\n    XMLStreamReader xsr = xif.createXMLStreamReader(new FileReader(&quot;abc.xml&quot;));\r\n    xsr.nextTag();\r\n    long addEntity = 0;\r\n    long unmarshalEntity = 0;\r\n    \r\n    JAXBContext jc = JAXBContext.newInstance(XYZ.class);\r\n    Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n    while(xsr.nextTag() == XMLStreamConstants.START_ELEMENT) {\r\n    \tlong start1 = System.currentTimeMillis();\r\n    \tXYZ sample = (XYZ) unmarshaller.unmarshal(xsr);\r\n    }\r\n\r\nIt keeps throwing Caused by: java.lang.OutOfMemoryError: GC overhead limit exceeded for any lesser heap. I am having 3.3 million XYZ objects if i parse the entire file. So is there a way i can manage to hold on these objects in memory since i need to do some post processing on these objects as the post processing is dependent on multiple XYZ objects.\r\n","title":"Unmarshalling Large Xml files in Java","body":"<p>I am trying to unmarshall large xml files of size around 6Gb to java object. Below is the implementation i have used to parse the large file. It works with 20Gb heap space only. I would like to reduce the memory foot print further.</p>\n\n<pre><code>XMLInputFactory xif = XMLInputFactory.newInstance();\nXMLStreamReader xsr = xif.createXMLStreamReader(new FileReader(\"abc.xml\"));\nxsr.nextTag();\nlong addEntity = 0;\nlong unmarshalEntity = 0;\n\nJAXBContext jc = JAXBContext.newInstance(XYZ.class);\nUnmarshaller unmarshaller = jc.createUnmarshaller();\nwhile(xsr.nextTag() == XMLStreamConstants.START_ELEMENT) {\n    long start1 = System.currentTimeMillis();\n    XYZ sample = (XYZ) unmarshaller.unmarshal(xsr);\n}\n</code></pre>\n\n<p>It keeps throwing Caused by: java.lang.OutOfMemoryError: GC overhead limit exceeded for any lesser heap. I am having 3.3 million XYZ objects if i parse the entire file. So is there a way i can manage to hold on these objects in memory since i need to do some post processing on these objects as the post processing is dependent on multiple XYZ objects.</p>\n"},{"tags":["java","swing","actionlistener","jmenu"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1332695612,"post_id":9862165,"comment_id":12573282,"body_markdown":"Have you tried [`addMenuListener`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JMenu.html#addMenuListener(javax.swing.event.MenuListener))?","body":"Have you tried <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JMenu.html#addMenuListener(javax.swing.event.MenuListener)\" rel=\"nofollow noreferrer\"><code>addMenuListener</code></a>?"},{"owner":{"account_id":1053773,"reputation":225,"user_id":1056959,"accept_rate":75,"display_name":"clankfan1"},"score":0,"creation_date":1332696010,"post_id":9862165,"comment_id":12573366,"body_markdown":"No I&#39;m using addActionListener right now but to add that I run into some problems, shouldn&#39;t actionListener work aswell though?","body":"No I&#39;m using addActionListener right now but to add that I run into some problems, shouldn&#39;t actionListener work aswell though?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1332696484,"post_id":9862165,"comment_id":12573478,"body_markdown":"Why change the menu items on JMenu click? Why not change it before the click? What is your &quot;use case&quot; here?","body":"Why change the menu items on JMenu click? Why not change it before the click? What is your &quot;use case&quot; here?"},{"owner":{"account_id":1053773,"reputation":225,"user_id":1056959,"accept_rate":75,"display_name":"clankfan1"},"score":0,"creation_date":1332696815,"post_id":9862165,"comment_id":12573561,"body_markdown":"mre, that only works for JMenuItems I need a listener for a JMenu","body":"mre, that only works for JMenuItems I need a listener for a JMenu"},{"owner":{"account_id":1053773,"reputation":225,"user_id":1056959,"accept_rate":75,"display_name":"clankfan1"},"score":0,"creation_date":1332696960,"post_id":9862165,"comment_id":12573579,"body_markdown":"Hovercraft, I&#39;m using it to determine whether or not certain JMenuItems are enabled and I thought it would be an easy way to test it without using threads...","body":"Hovercraft, I&#39;m using it to determine whether or not certain JMenuItems are enabled and I thought it would be an easy way to test it without using threads..."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1332697616,"post_id":9862165,"comment_id":12573747,"body_markdown":"*&quot;determine whether or not certain JMenuItems are enabled&quot;* `setEnabled(boolean)` is not enough?","body":"<i>&quot;determine whether or not certain JMenuItems are enabled&quot;</i> <code>setEnabled(boolean)</code> is not enough?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1332699765,"post_id":9862165,"comment_id":12574166,"body_markdown":"I&#39;m still not quite sure what your goal is. You can trap Menu clicks with a ChangeListener, however the rationale has a funny smell to me.","body":"I&#39;m still not quite sure what your goal is. You can trap Menu clicks with a ChangeListener, however the rationale has a funny smell to me."}],"answers":[{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1332700534,"creation_date":1332700534,"answer_id":9862855,"question_id":9862165,"body_markdown":"- for `JMenu` use `MenuListener`\r\n\r\ncode\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import javax.swing.event.*;\r\n    \r\n    public class ActionExample {\r\n    \r\n        public ActionExample() {\r\n    \r\n            JMenu menu = new JMenu(&quot;Menu&quot;);\r\n            menu.setMnemonic(KeyEvent.VK_M);\r\n            menu.addMenuListener(new SampleMenuListener());\r\n            JMenu menu1 = new JMenu(&quot;Tool&quot;);\r\n            menu1.setMnemonic(KeyEvent.VK_T);\r\n            menu1.addMenuListener(new SampleMenuListener());\r\n            JFrame f = new JFrame(&quot;ActionExample&quot;);\r\n            JMenuBar mb = new JMenuBar();\r\n            mb.add(menu);\r\n            mb.add(menu1);\r\n            f.setJMenuBar(mb);\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f.pack();\r\n            f.setLocationRelativeTo(null);\r\n            f.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n    \r\n                @Override\r\n                public void run() {\r\n                    ActionExample actionExample = new ActionExample();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    \r\n    class SampleMenuListener implements MenuListener {\r\n    \r\n        @Override\r\n        public void menuSelected(MenuEvent e) {\r\n            System.out.println(&quot;menuSelected&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void menuDeselected(MenuEvent e) {\r\n            System.out.println(&quot;menuDeselected&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void menuCanceled(MenuEvent e) {\r\n            System.out.println(&quot;menuCanceled&quot;);\r\n        }\r\n    }\r\n\r\n- for `JMenuItem` use only [ButtonModel][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5755124/714968","title":"JMenu ActionListener","body":"<ul>\n<li>for <code>JMenu</code> use <code>MenuListener</code></li>\n</ul>\n\n<p>code</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.event.*;\n\npublic class ActionExample {\n\n    public ActionExample() {\n\n        JMenu menu = new JMenu(\"Menu\");\n        menu.setMnemonic(KeyEvent.VK_M);\n        menu.addMenuListener(new SampleMenuListener());\n        JMenu menu1 = new JMenu(\"Tool\");\n        menu1.setMnemonic(KeyEvent.VK_T);\n        menu1.addMenuListener(new SampleMenuListener());\n        JFrame f = new JFrame(\"ActionExample\");\n        JMenuBar mb = new JMenuBar();\n        mb.add(menu);\n        mb.add(menu1);\n        f.setJMenuBar(mb);\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.pack();\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                ActionExample actionExample = new ActionExample();\n            }\n        });\n    }\n}\n\nclass SampleMenuListener implements MenuListener {\n\n    @Override\n    public void menuSelected(MenuEvent e) {\n        System.out.println(\"menuSelected\");\n    }\n\n    @Override\n    public void menuDeselected(MenuEvent e) {\n        System.out.println(\"menuDeselected\");\n    }\n\n    @Override\n    public void menuCanceled(MenuEvent e) {\n        System.out.println(\"menuCanceled\");\n    }\n}\n</code></pre>\n\n<ul>\n<li>for <code>JMenuItem</code> use only <a href=\"https://stackoverflow.com/a/5755124/714968\">ButtonModel</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9512344,"reputation":756,"user_id":7069907,"display_name":"Antonio1996"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1485197569,"creation_date":1485197569,"answer_id":41813570,"question_id":9862165,"body_markdown":"With an instance of JMenu you can&#39;t add an ActionListener, only with JMenuItem you can do it.","title":"JMenu ActionListener","body":"<p>With an instance of JMenu you can't add an ActionListener, only with JMenuItem you can do it.</p>\n"},{"tags":[],"owner":{"account_id":18522375,"reputation":91,"user_id":13495029,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635544590,"creation_date":1635544590,"answer_id":69775167,"question_id":9862165,"body_markdown":"I think it&#39;s possible to use a MouseListener to fire actions in JMenu without JMenuItem.\r\n\r\n    JMenu myMenu = new JMenu(&quot;My menu&quot;);\r\n\r\n    myMenu.addMouseListener(new MouseListener() {\r\n      @Override\r\n      public void mouseClicked(MouseEvent e) {\r\n        // action here\r\n      }\r\n\r\n      @Override\r\n      public void mousePressed(MouseEvent e) {\r\n      }\r\n\r\n      @Override\r\n      public void mouseReleased(MouseEvent e) {\r\n      }\r\n    \r\n\t  @Override\r\n\t  public void mouseEntered(MouseEvent e) {\r\n   \t  }\r\n\r\n   \t  @Override\r\n  \t  public void mouseExited(MouseEvent e) {\r\n\t  }\r\n    });\r\n\r\n    menuBar.add(myMenu);","title":"JMenu ActionListener","body":"<p>I think it's possible to use a MouseListener to fire actions in JMenu without JMenuItem.</p>\n<pre><code>JMenu myMenu = new JMenu(&quot;My menu&quot;);\n\nmyMenu.addMouseListener(new MouseListener() {\n  @Override\n  public void mouseClicked(MouseEvent e) {\n    // action here\n  }\n\n  @Override\n  public void mousePressed(MouseEvent e) {\n  }\n\n  @Override\n  public void mouseReleased(MouseEvent e) {\n  }\n\n  @Override\n  public void mouseEntered(MouseEvent e) {\n  }\n\n  @Override\n  public void mouseExited(MouseEvent e) {\n  }\n});\n\nmenuBar.add(myMenu);\n</code></pre>\n"}],"owner":{"account_id":1053773,"reputation":225,"user_id":1056959,"accept_rate":75,"display_name":"clankfan1"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38471,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":9862855,"answer_count":3,"score":16,"last_activity_date":1635544590,"creation_date":1332695217,"question_id":9862165,"body_markdown":"I was wondering if can you test to see if a JMenu (not JMenuItem) has been clicked. I tried adding an ActionListener to it but it doesn&#39;t seem to recognize it. I just need it to preform an action when the JMenu button is pressed so that I can change the JMenuItems for that menu befor it opens. All work arrounds to get this result are welcome too! \r\n\r\nThanks","title":"JMenu ActionListener","body":"<p>I was wondering if can you test to see if a JMenu (not JMenuItem) has been clicked. I tried adding an ActionListener to it but it doesn't seem to recognize it. I just need it to preform an action when the JMenu button is pressed so that I can change the JMenuItems for that menu befor it opens. All work arrounds to get this result are welcome too! </p>\n\n<p>Thanks</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635544459,"creation_date":1635544459,"answer_id":69775149,"question_id":69775016,"body_markdown":"You could use a custom comparator for this as follows:\r\n```java\r\npublic class CustomComparator implements Comparator&lt;Integer&gt; {\r\n    @Override\r\n    public int compare(Integer o1, Integer o2) {\r\n        if (o1 == 0) {\r\n            return 1; // sets 0 as greater than o2 and thus it is located after o2\r\n        } else if (o2 == 0) {\r\n            return -1; // sets 0 as greater than o1 and thus it is located after o1\r\n        } else {\r\n            return 0; // sets that o1 and o2 are equal, actually keeping the order\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou would use this comparator easily:\r\n```java\r\nList&lt;Integer&gt; nums =Arrays.asList(0,1,0,3,12);\r\nCollections.sort(nums, new CustomComparator());\r\nSystem.out.println(nums);\r\n```\r\n\r\nYou can read more about custom comparators here:\r\n - https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html#compare(T,T)\r\n - https://www.baeldung.com/java-comparator-comparable","title":"Move zeroes to end of Array List while keeping order of other numbers the same","body":"<p>You could use a custom comparator for this as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomComparator implements Comparator&lt;Integer&gt; {\n    @Override\n    public int compare(Integer o1, Integer o2) {\n        if (o1 == 0) {\n            return 1; // sets 0 as greater than o2 and thus it is located after o2\n        } else if (o2 == 0) {\n            return -1; // sets 0 as greater than o1 and thus it is located after o1\n        } else {\n            return 0; // sets that o1 and o2 are equal, actually keeping the order\n        }\n    }\n}\n</code></pre>\n<p>You would use this comparator easily:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; nums =Arrays.asList(0,1,0,3,12);\nCollections.sort(nums, new CustomComparator());\nSystem.out.println(nums);\n</code></pre>\n<p>You can read more about custom comparators here:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html#compare(T,T)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html#compare(T,T)</a></li>\n<li><a href=\"https://www.baeldung.com/java-comparator-comparable\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-comparator-comparable</a></li>\n</ul>\n"}],"owner":{"account_id":23143527,"reputation":21,"user_id":17246602,"display_name":"Sslur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69775149,"answer_count":1,"score":1,"last_activity_date":1635544459,"creation_date":1635543385,"question_id":69775016,"body_markdown":"I am having trouble moving all the zeroes in array list to the end of the array list while keeping the non zero numbers in the same order as they were. For example, lets say the array list has the numbers (0,1,0,3,12), the program should output (1,3,12,0,0). The problem with my output is that when I print the list, it prints it in the same way as the original list, I am confused on what I need to add to fix this.\r\n\r\nMy code: \r\n```java\r\nList&lt;Integer&gt; nums =Arrays.asList(0,1,0,3,12);\r\nint last = 0;\r\nint hold = nums.get(last++);\r\n\r\nfor (int i = 0; i &lt; nums.size(); i++) {\r\n    if (nums.get(i) == 0) {\r\n        hold = nums.get(i);\r\n    }\r\n}\r\n\r\nfor (int i = last; i &lt; nums.size(); i++) {\r\n    int hold1 = nums.get(i);\r\n    hold1 = 0;\r\n}\r\n\r\nSystem.out.println(nums);\r\n```\r\n\r\nUpdate: sorry in advance for the code block, I put it in the quotes block and it still printed out without it.","title":"Move zeroes to end of Array List while keeping order of other numbers the same","body":"<p>I am having trouble moving all the zeroes in array list to the end of the array list while keeping the non zero numbers in the same order as they were. For example, lets say the array list has the numbers (0,1,0,3,12), the program should output (1,3,12,0,0). The problem with my output is that when I print the list, it prints it in the same way as the original list, I am confused on what I need to add to fix this.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; nums =Arrays.asList(0,1,0,3,12);\nint last = 0;\nint hold = nums.get(last++);\n\nfor (int i = 0; i &lt; nums.size(); i++) {\n    if (nums.get(i) == 0) {\n        hold = nums.get(i);\n    }\n}\n\nfor (int i = last; i &lt; nums.size(); i++) {\n    int hold1 = nums.get(i);\n    hold1 = 0;\n}\n\nSystem.out.println(nums);\n</code></pre>\n<p>Update: sorry in advance for the code block, I put it in the quotes block and it still printed out without it.</p>\n"},{"tags":["java","spring","npm"],"answers":[{"tags":[],"owner":{"account_id":11901466,"reputation":121,"user_id":8709340,"display_name":"Adarsh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635544221,"creation_date":1635544221,"answer_id":69775129,"question_id":69771262,"body_markdown":"I am not sure as you have not mentioned your code here, but as per the error, it says: method GET must not have a request body.\r\nwhile making a get request to the Github API you must have attached a request body to this request, and since it&#39;s of GET method, it can not have any body. You should check the docs of the API and also check your code if you are using the API correctly.\r\nAlso, check your jnpm library if it&#39;s doing something behind the scene like adding a body to your requests.","title":"How does JNPM affect Http-Requests?","body":"<p>I am not sure as you have not mentioned your code here, but as per the error, it says: method GET must not have a request body.\nwhile making a get request to the Github API you must have attached a request body to this request, and since it's of GET method, it can not have any body. You should check the docs of the API and also check your code if you are using the API correctly.\nAlso, check your jnpm library if it's doing something behind the scene like adding a body to your requests.</p>\n"}],"owner":{"account_id":23183793,"reputation":1,"user_id":17281245,"display_name":"Floge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635544221,"creation_date":1635520715,"question_id":69771262,"body_markdown":"I&#39;m using Java Spring Boot and have a Service, where i make a GET-Request to the Github-API.\r\nThis works fine.\r\n\r\nNow i want to use JNPM to get infos on npm-packages. \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.orienteer.jnpm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jnpm-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWith this dependency, my GET-Requests to the API now give me the error:\r\n\r\n    method GET must not have a request body.\r\n\r\nI don&#39;t use any methods of JNPM, just have the dependency added.\r\n\r\nAnyone know why this problem occurs or does anyone know an alternative API to access the NPM registry?\r\n\r\n ","title":"How does JNPM affect Http-Requests?","body":"<p>I'm using Java Spring Boot and have a Service, where i make a GET-Request to the Github-API.\nThis works fine.</p>\n<p>Now i want to use JNPM to get infos on npm-packages.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.orienteer.jnpm&lt;/groupId&gt;\n        &lt;artifactId&gt;jnpm-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>With this dependency, my GET-Requests to the API now give me the error:</p>\n<pre><code>method GET must not have a request body.\n</code></pre>\n<p>I don't use any methods of JNPM, just have the dependency added.</p>\n<p>Anyone know why this problem occurs or does anyone know an alternative API to access the NPM registry?</p>\n"},{"tags":["javascript","java","html","selenium"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1635534285,"post_id":69773294,"comment_id":123333387,"body_markdown":"don&#39;t know why the first field is clearing, but for the submit, you can try Selenium&#39;s .submit() method an any form element:  https://www.selenium.dev/selenium/docs/api/dotnet/html/M_OpenQA_Selenium_IWebElement_Submit.htm","body":"don&#39;t know why the first field is clearing, but for the submit, you can try Selenium&#39;s .submit() method an any form element:  <a href=\"https://www.selenium.dev/selenium/docs/api/dotnet/html/M_OpenQA_Selenium_IWebElement_Submit.htm\" rel=\"nofollow noreferrer\">selenium.dev/selenium/docs/api/dotnet/html/&hellip;</a>"}],"owner":{"account_id":23185198,"reputation":11,"user_id":17282433,"display_name":"rehajthjary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635543186,"creation_date":1635531883,"question_id":69773294,"body_markdown":"i started learning selenium and have encoutered problem with my assignement.\r\n\r\nthis is problematic html block\r\n\r\n```html\r\n&lt;body&gt;\r\n  &lt;div class=&quot;inputs-14Hc7m&quot;&gt;\r\n    &lt;div tabindex=&quot;1&quot;&gt;\r\n      &lt;div&gt;\r\n        &lt;div class=&quot;select-2TCrqx inputMonth-IGgn-0&quot;&gt;\r\n          &lt;div class=&quot;css-1kj8ui-container&quot;&gt;\r\n            &lt;div class=&quot;css-gvi9bl-control&quot;&gt;\r\n              &lt;div class=&quot;css-1hwfws3&quot;&gt;\r\n                &lt;div class=&quot;css-o3gndj-placeholder&quot;&gt;Select&lt;/div&gt;\r\n                &lt;div class=&quot;css-eo20y5&quot;&gt;\r\n                  &lt;div class=&quot;&quot; style=&quot;display: inline-block;&quot;&gt;\r\n                    &lt;input\r\n                      autocapitalize=&quot;none&quot;\r\n                      autocomplete=&quot;off&quot;\r\n                      autocorrect=&quot;off&quot;\r\n                      id=&quot;react-select-2-input&quot;\r\n                      spellcheck=&quot;false&quot;\r\n                      tabindex=&quot;0&quot;\r\n                      type=&quot;text&quot;\r\n                      aria-autocomplete=&quot;list&quot;\r\n                      aria-label=&quot;Month&quot;\r\n                      style=&quot;box-sizing: content-box; width: 2px; background: rgba(0, 0, 0, 0) none repeat scroll 0px center; border: 0px none; font-size: inherit; opacity: 1; outline: currentcolor none 0px; padding: 0px; color: inherit;&quot;\r\n                      value=&quot;&quot;\r\n                    /&gt;\r\n                    &lt;div\r\n                      style=&#39;position: absolute; top: 0px; left: 0px; visibility: hidden; height: 0px; overflow: scroll; white-space: pre; font-size: 18px; font-family: Whitney, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-weight: 400; font-style: normal; letter-spacing: normal; text-transform: none;&#39;\r\n                    &gt;&lt;/div&gt;\r\n                  &lt;/div&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n              &lt;div class=&quot;css-1fhf191&quot;&gt;\r\n                &lt;div aria-hidden=&quot;true&quot; class=&quot;css-ku6vh5-indicatorContainer&quot;&gt;\r\n                  &lt;svg\r\n                    height=&quot;20&quot;\r\n                    width=&quot;20&quot;\r\n                    viewBox=&quot;0 0 20 20&quot;\r\n                    aria-hidden=&quot;true&quot;\r\n                    focusable=&quot;false&quot;\r\n                    class=&quot;css-19bqh2r&quot;\r\n                  &gt;\r\n                    &lt;path\r\n                      d=&quot;M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z&quot;\r\n                    &gt;&lt;/path&gt;\r\n                  &lt;/svg&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div tabindex=&quot;2&quot;&gt;\r\n      &lt;div&gt;\r\n        &lt;div class=&quot;select-2TCrqx inputDay-18OXiE&quot;&gt;\r\n          &lt;div class=&quot;css-1kj8ui-container&quot;&gt;\r\n            &lt;div class=&quot;css-gvi9bl-control&quot;&gt;\r\n              &lt;div class=&quot;css-1hwfws3&quot;&gt;\r\n                &lt;div class=&quot;css-o3gndj-placeholder&quot;&gt;Select&lt;/div&gt;\r\n                &lt;div class=&quot;css-eo20y5&quot;&gt;\r\n                  &lt;div class=&quot;&quot; style=&quot;display: inline-block;&quot;&gt;\r\n                    &lt;input\r\n                      autocapitalize=&quot;none&quot;\r\n                      autocomplete=&quot;off&quot;\r\n                      autocorrect=&quot;off&quot;\r\n                      id=&quot;react-select-3-input&quot;\r\n                      spellcheck=&quot;false&quot;\r\n                      tabindex=&quot;0&quot;\r\n                      type=&quot;text&quot;\r\n                      aria-autocomplete=&quot;list&quot;\r\n                      aria-label=&quot;Day&quot;\r\n                      style=&quot;box-sizing: content-box; width: 2px; background: rgba(0, 0, 0, 0) none repeat scroll 0px center; border: 0px none; font-size: inherit; opacity: 1; outline: currentcolor none 0px; padding: 0px; color: inherit;&quot;\r\n                      value=&quot;&quot;\r\n                    /&gt;\r\n                    &lt;div\r\n                      style=&#39;position: absolute; top: 0px; left: 0px; visibility: hidden; height: 0px; overflow: scroll; white-space: pre; font-size: 18px; font-family: Whitney, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-weight: 400; font-style: normal; letter-spacing: normal; text-transform: none;&#39;\r\n                    &gt;&lt;/div&gt;\r\n                  &lt;/div&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n              &lt;div class=&quot;css-1fhf191&quot;&gt;\r\n                &lt;div aria-hidden=&quot;true&quot; class=&quot;css-ku6vh5-indicatorContainer&quot;&gt;\r\n                  &lt;svg\r\n                    height=&quot;20&quot;\r\n                    width=&quot;20&quot;\r\n                    viewBox=&quot;0 0 20 20&quot;\r\n                    aria-hidden=&quot;true&quot;\r\n                    focusable=&quot;false&quot;\r\n                    class=&quot;css-19bqh2r&quot;\r\n                  &gt;\r\n                    &lt;path\r\n                      d=&quot;M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z&quot;\r\n                    &gt;&lt;/path&gt;\r\n                  &lt;/svg&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div tabindex=&quot;3&quot;&gt;\r\n      &lt;div&gt;\r\n        &lt;div class=&quot;select-2TCrqx inputYear-2J502p&quot;&gt;\r\n          &lt;div class=&quot;css-1kj8ui-container&quot;&gt;\r\n            &lt;div class=&quot;css-gvi9bl-control&quot;&gt;\r\n              &lt;div class=&quot;css-1hwfws3&quot;&gt;\r\n                &lt;div class=&quot;css-o3gndj-placeholder&quot;&gt;Select&lt;/div&gt;\r\n                &lt;div class=&quot;css-eo20y5&quot;&gt;\r\n                  &lt;div class=&quot;&quot; style=&quot;display: inline-block;&quot;&gt;\r\n                    &lt;input\r\n                      autocapitalize=&quot;none&quot;\r\n                      autocomplete=&quot;off&quot;\r\n                      autocorrect=&quot;off&quot;\r\n                      id=&quot;react-select-4-input&quot;\r\n                      spellcheck=&quot;false&quot;\r\n                      tabindex=&quot;0&quot;\r\n                      type=&quot;text&quot;\r\n                      aria-autocomplete=&quot;list&quot;\r\n                      aria-label=&quot;Year&quot;\r\n                      style=&quot;box-sizing: content-box; width: 2px; background: rgba(0, 0, 0, 0) none repeat scroll 0px center; border: 0px none; font-size: inherit; opacity: 1; outline: currentcolor none 0px; padding: 0px; color: inherit;&quot;\r\n                      value=&quot;&quot;\r\n                    /&gt;\r\n                    &lt;div\r\n                      style=&#39;position: absolute; top: 0px; left: 0px; visibility: hidden; height: 0px; overflow: scroll; white-space: pre; font-size: 18px; font-family: Whitney, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-weight: 400; font-style: normal; letter-spacing: normal; text-transform: none;&#39;\r\n                    &gt;&lt;/div&gt;\r\n                  &lt;/div&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n              &lt;div class=&quot;css-1fhf191&quot;&gt;\r\n                &lt;div aria-hidden=&quot;true&quot; class=&quot;css-ku6vh5-indicatorContainer&quot;&gt;\r\n                  &lt;svg\r\n                    height=&quot;20&quot;\r\n                    width=&quot;20&quot;\r\n                    viewBox=&quot;0 0 20 20&quot;\r\n                    aria-hidden=&quot;true&quot;\r\n                    focusable=&quot;false&quot;\r\n                    class=&quot;css-19bqh2r&quot;\r\n                  &gt;\r\n                    &lt;path\r\n                      d=&quot;M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z&quot;\r\n                    &gt;&lt;/path&gt;\r\n                  &lt;/svg&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=&quot;marginTop20-3TxNs6&quot;&gt;\r\n    &lt;button\r\n      type=&quot;submit&quot;\r\n      class=&quot;button-3k0cO7 button-38aScr lookFilled-1Gx00P colorBrand-3pXr91 sizeLarge-1vSeWK fullWidth-1orjjo grow-q77ONN&quot;\r\n    &gt;\r\n      &lt;div class=&quot;contents-18-Yxp&quot;&gt;Continue&lt;/div&gt;\r\n    &lt;/button&gt;\r\n  &lt;/div&gt;\r\n&lt;/body&gt;\r\n```\r\n\r\n**Java Code:**\r\n\r\n```java\r\ndriver.findElement(By.id(&quot;react-select-2-input&quot;)).sendKeys(month);\r\ndriver.findElement(By.id(&quot;react-select-3-input&quot;)).sendKeys(day);\r\ndriver.findElement(By.id(&quot;react-select-4-input&quot;)).sendKeys(year);\r\ndriver.findElement(By.id(&quot;react-select-4-input&quot;)).sendKeys(Keys.ENTER);\r\n```\r\n\r\nthing is, after sending month i can see as it is entered and as day box is filled month box get empty. ive checked it like hundred times and still cant see anything. text is copied and is as required from options so it cant be wrong input. also it happens only with first, not with second as i fill third box.\r\n\r\nand little subquestion since i got myself here :) second block in html is confirmation button but i cant click it. i did try code that is shown up and also finding it By.tagName(&quot;button&quot;) and By.className(&quot;class=&quot;marginTop20-3TxNs6&quot;&quot;) ...seems like className cant be with spaces as is in button tag class.\r\n\r\nbless you good helpers :) :D\r\n","title":"selenium .sendKeys(&quot;text&quot;) text dissapears after entering","body":"<p>i started learning selenium and have encoutered problem with my assignement.</p>\n<p>this is problematic html block</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;body&gt;\n  &lt;div class=&quot;inputs-14Hc7m&quot;&gt;\n    &lt;div tabindex=&quot;1&quot;&gt;\n      &lt;div&gt;\n        &lt;div class=&quot;select-2TCrqx inputMonth-IGgn-0&quot;&gt;\n          &lt;div class=&quot;css-1kj8ui-container&quot;&gt;\n            &lt;div class=&quot;css-gvi9bl-control&quot;&gt;\n              &lt;div class=&quot;css-1hwfws3&quot;&gt;\n                &lt;div class=&quot;css-o3gndj-placeholder&quot;&gt;Select&lt;/div&gt;\n                &lt;div class=&quot;css-eo20y5&quot;&gt;\n                  &lt;div class=&quot;&quot; style=&quot;display: inline-block;&quot;&gt;\n                    &lt;input\n                      autocapitalize=&quot;none&quot;\n                      autocomplete=&quot;off&quot;\n                      autocorrect=&quot;off&quot;\n                      id=&quot;react-select-2-input&quot;\n                      spellcheck=&quot;false&quot;\n                      tabindex=&quot;0&quot;\n                      type=&quot;text&quot;\n                      aria-autocomplete=&quot;list&quot;\n                      aria-label=&quot;Month&quot;\n                      style=&quot;box-sizing: content-box; width: 2px; background: rgba(0, 0, 0, 0) none repeat scroll 0px center; border: 0px none; font-size: inherit; opacity: 1; outline: currentcolor none 0px; padding: 0px; color: inherit;&quot;\n                      value=&quot;&quot;\n                    /&gt;\n                    &lt;div\n                      style='position: absolute; top: 0px; left: 0px; visibility: hidden; height: 0px; overflow: scroll; white-space: pre; font-size: 18px; font-family: Whitney, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-weight: 400; font-style: normal; letter-spacing: normal; text-transform: none;'\n                    &gt;&lt;/div&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n              &lt;div class=&quot;css-1fhf191&quot;&gt;\n                &lt;div aria-hidden=&quot;true&quot; class=&quot;css-ku6vh5-indicatorContainer&quot;&gt;\n                  &lt;svg\n                    height=&quot;20&quot;\n                    width=&quot;20&quot;\n                    viewBox=&quot;0 0 20 20&quot;\n                    aria-hidden=&quot;true&quot;\n                    focusable=&quot;false&quot;\n                    class=&quot;css-19bqh2r&quot;\n                  &gt;\n                    &lt;path\n                      d=&quot;M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z&quot;\n                    &gt;&lt;/path&gt;\n                  &lt;/svg&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div tabindex=&quot;2&quot;&gt;\n      &lt;div&gt;\n        &lt;div class=&quot;select-2TCrqx inputDay-18OXiE&quot;&gt;\n          &lt;div class=&quot;css-1kj8ui-container&quot;&gt;\n            &lt;div class=&quot;css-gvi9bl-control&quot;&gt;\n              &lt;div class=&quot;css-1hwfws3&quot;&gt;\n                &lt;div class=&quot;css-o3gndj-placeholder&quot;&gt;Select&lt;/div&gt;\n                &lt;div class=&quot;css-eo20y5&quot;&gt;\n                  &lt;div class=&quot;&quot; style=&quot;display: inline-block;&quot;&gt;\n                    &lt;input\n                      autocapitalize=&quot;none&quot;\n                      autocomplete=&quot;off&quot;\n                      autocorrect=&quot;off&quot;\n                      id=&quot;react-select-3-input&quot;\n                      spellcheck=&quot;false&quot;\n                      tabindex=&quot;0&quot;\n                      type=&quot;text&quot;\n                      aria-autocomplete=&quot;list&quot;\n                      aria-label=&quot;Day&quot;\n                      style=&quot;box-sizing: content-box; width: 2px; background: rgba(0, 0, 0, 0) none repeat scroll 0px center; border: 0px none; font-size: inherit; opacity: 1; outline: currentcolor none 0px; padding: 0px; color: inherit;&quot;\n                      value=&quot;&quot;\n                    /&gt;\n                    &lt;div\n                      style='position: absolute; top: 0px; left: 0px; visibility: hidden; height: 0px; overflow: scroll; white-space: pre; font-size: 18px; font-family: Whitney, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-weight: 400; font-style: normal; letter-spacing: normal; text-transform: none;'\n                    &gt;&lt;/div&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n              &lt;div class=&quot;css-1fhf191&quot;&gt;\n                &lt;div aria-hidden=&quot;true&quot; class=&quot;css-ku6vh5-indicatorContainer&quot;&gt;\n                  &lt;svg\n                    height=&quot;20&quot;\n                    width=&quot;20&quot;\n                    viewBox=&quot;0 0 20 20&quot;\n                    aria-hidden=&quot;true&quot;\n                    focusable=&quot;false&quot;\n                    class=&quot;css-19bqh2r&quot;\n                  &gt;\n                    &lt;path\n                      d=&quot;M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z&quot;\n                    &gt;&lt;/path&gt;\n                  &lt;/svg&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div tabindex=&quot;3&quot;&gt;\n      &lt;div&gt;\n        &lt;div class=&quot;select-2TCrqx inputYear-2J502p&quot;&gt;\n          &lt;div class=&quot;css-1kj8ui-container&quot;&gt;\n            &lt;div class=&quot;css-gvi9bl-control&quot;&gt;\n              &lt;div class=&quot;css-1hwfws3&quot;&gt;\n                &lt;div class=&quot;css-o3gndj-placeholder&quot;&gt;Select&lt;/div&gt;\n                &lt;div class=&quot;css-eo20y5&quot;&gt;\n                  &lt;div class=&quot;&quot; style=&quot;display: inline-block;&quot;&gt;\n                    &lt;input\n                      autocapitalize=&quot;none&quot;\n                      autocomplete=&quot;off&quot;\n                      autocorrect=&quot;off&quot;\n                      id=&quot;react-select-4-input&quot;\n                      spellcheck=&quot;false&quot;\n                      tabindex=&quot;0&quot;\n                      type=&quot;text&quot;\n                      aria-autocomplete=&quot;list&quot;\n                      aria-label=&quot;Year&quot;\n                      style=&quot;box-sizing: content-box; width: 2px; background: rgba(0, 0, 0, 0) none repeat scroll 0px center; border: 0px none; font-size: inherit; opacity: 1; outline: currentcolor none 0px; padding: 0px; color: inherit;&quot;\n                      value=&quot;&quot;\n                    /&gt;\n                    &lt;div\n                      style='position: absolute; top: 0px; left: 0px; visibility: hidden; height: 0px; overflow: scroll; white-space: pre; font-size: 18px; font-family: Whitney, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-weight: 400; font-style: normal; letter-spacing: normal; text-transform: none;'\n                    &gt;&lt;/div&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n              &lt;div class=&quot;css-1fhf191&quot;&gt;\n                &lt;div aria-hidden=&quot;true&quot; class=&quot;css-ku6vh5-indicatorContainer&quot;&gt;\n                  &lt;svg\n                    height=&quot;20&quot;\n                    width=&quot;20&quot;\n                    viewBox=&quot;0 0 20 20&quot;\n                    aria-hidden=&quot;true&quot;\n                    focusable=&quot;false&quot;\n                    class=&quot;css-19bqh2r&quot;\n                  &gt;\n                    &lt;path\n                      d=&quot;M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z&quot;\n                    &gt;&lt;/path&gt;\n                  &lt;/svg&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=&quot;marginTop20-3TxNs6&quot;&gt;\n    &lt;button\n      type=&quot;submit&quot;\n      class=&quot;button-3k0cO7 button-38aScr lookFilled-1Gx00P colorBrand-3pXr91 sizeLarge-1vSeWK fullWidth-1orjjo grow-q77ONN&quot;\n    &gt;\n      &lt;div class=&quot;contents-18-Yxp&quot;&gt;Continue&lt;/div&gt;\n    &lt;/button&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n<p><strong>Java Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.findElement(By.id(&quot;react-select-2-input&quot;)).sendKeys(month);\ndriver.findElement(By.id(&quot;react-select-3-input&quot;)).sendKeys(day);\ndriver.findElement(By.id(&quot;react-select-4-input&quot;)).sendKeys(year);\ndriver.findElement(By.id(&quot;react-select-4-input&quot;)).sendKeys(Keys.ENTER);\n</code></pre>\n<p>thing is, after sending month i can see as it is entered and as day box is filled month box get empty. ive checked it like hundred times and still cant see anything. text is copied and is as required from options so it cant be wrong input. also it happens only with first, not with second as i fill third box.</p>\n<p>and little subquestion since i got myself here :) second block in html is confirmation button but i cant click it. i did try code that is shown up and also finding it By.tagName(&quot;button&quot;) and By.className(&quot;class=&quot;marginTop20-3TxNs6&quot;&quot;) ...seems like className cant be with spaces as is in button tag class.</p>\n<p>bless you good helpers :) :D</p>\n"},{"tags":["java","if-statement","arraylist"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1635541571,"post_id":69774731,"comment_id":123335436,"body_markdown":"Please provide a [mre]. There is not enough information for us to answer.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. There is not enough information for us to answer."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1635541971,"post_id":69774731,"comment_id":123335542,"body_markdown":"You would need to use the regular expression on `comments`, not `createComments`. Or if there is some collection these comments are coming from you could join them with `String::join` or `Collectors::joining` instead and avoid the problem altogether.","body":"You would need to use the regular expression on <code>comments</code>, not <code>createComments</code>. Or if there is some collection these comments are coming from you could join them with <code>String::join</code> or <code>Collectors::joining</code> instead and avoid the problem altogether."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1635542002,"post_id":69774731,"comment_id":123335551,"body_markdown":"i would suggest to use a List&lt;String&gt; instead of a StringBuilder. Then you can use `String.join`.","body":"i would suggest to use a List&lt;String&gt; instead of a StringBuilder. Then you can use <code>String.join</code>."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1635547472,"post_id":69774731,"comment_id":123336785,"body_markdown":"In any case, *you* added it, so rather than thinking about how to remove the thing you added, think about how to not add what you don&#39;t want.","body":"In any case, <i>you</i> added it, so rather than thinking about how to remove the thing you added, think about how to not add what you don&#39;t want."}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635542131,"creation_date":1635542131,"answer_id":69774845,"question_id":69774731,"body_markdown":"If `comments` is a `StringBuilder` (or `StringBuffer`) you can avoid adding a trailing comma:\r\n\r\n    public Image addComments(String createComments) {\r\n        if (comments.length() &gt; 0) comments.append(&quot;,&quot;);\r\n        comments.append(createComments);\r\n        return this;\r\n    }","title":"How would it be possible to remove extra comma at the end of a string in java?","body":"<p>If <code>comments</code> is a <code>StringBuilder</code> (or <code>StringBuffer</code>) you can avoid adding a trailing comma:</p>\n<pre><code>public Image addComments(String createComments) {\n    if (comments.length() &gt; 0) comments.append(&quot;,&quot;);\n    comments.append(createComments);\n    return this;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18108228,"reputation":19,"user_id":13165435,"display_name":"Adabar94"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635543092,"creation_date":1635542691,"answer_id":69774916,"question_id":69774731,"body_markdown":"I think you can avoid this whole comma situation with use of any Collection and String.join\r\n\r\n    Collection&lt;String&gt; comments = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\r\n\r\n    final String joinedComments = String.join(&quot;,&quot;, comments);\r\n\r\n    System.out.println(joinedComments);\r\n\r\nThis will return\r\n\r\n    A,B,C,D","title":"How would it be possible to remove extra comma at the end of a string in java?","body":"<p>I think you can avoid this whole comma situation with use of any Collection and String.join</p>\n<pre><code>Collection&lt;String&gt; comments = Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\n\nfinal String joinedComments = String.join(&quot;,&quot;, comments);\n\nSystem.out.println(joinedComments);\n</code></pre>\n<p>This will return</p>\n<pre><code>A,B,C,D\n</code></pre>\n"}],"owner":{"account_id":23186142,"reputation":5,"user_id":17283204,"display_name":"Holay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69774845,"answer_count":2,"score":0,"last_activity_date":1635543092,"creation_date":1635541314,"question_id":69774731,"body_markdown":"```\r\npublic Image addComments(String createComments) {\r\n    comments.append(createComments + &quot;,&quot;);\r\n    return this;\r\n}\r\n```\r\n\r\nThis is what I get, A,B,\r\n\r\nThis is how I want it to be: A,B\r\n\r\nI tried  using a regular expression \r\n`createComments = createComments.replaceAll(&quot;,$&quot;, &quot;&quot;);`\r\nBut It didn&#39;t work. \r\n","title":"How would it be possible to remove extra comma at the end of a string in java?","body":"<pre><code>public Image addComments(String createComments) {\n    comments.append(createComments + &quot;,&quot;);\n    return this;\n}\n</code></pre>\n<p>This is what I get, A,B,</p>\n<p>This is how I want it to be: A,B</p>\n<p>I tried  using a regular expression\n<code>createComments = createComments.replaceAll(&quot;,$&quot;, &quot;&quot;);</code>\nBut It didn't work.</p>\n"},{"tags":["java","spring","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635542458,"creation_date":1635538382,"answer_id":69774312,"question_id":69770745,"body_markdown":"My guess is that the issue exists because you have a complex object as the key of your `pricing` Map. Maps in JSON are represented by a simple `String` as key and the value could be a complex object. This means that Jackson has to find a way to serialize your complex `VirtualCurrencyDto` object into a simple `String`. The only way to do this is via the `toString()` method, which is why you see `&quot;VirtualCurrencyDto(physicalCurrency=null, coinId=VirtualCurrencyDto(physicalCurrency=EUR, coinId=null))&quot;`. This is wrong *per se*, because you should use simple objects that have a simple `String` representation as keys in JSON maps. But next, we will see why you are getting such weird behavior.\r\n\r\nJackson tries to deserialize `&quot;VirtualCurrencyDto(physicalCurrency=null, coinId=VirtualCurrencyDto(physicalCurrency=EUR, coinId=null))&quot;` into a `VirtualCurrencyDto` object. Since it contains only a single `String` property my guess is that it creates an instance of `VirtualCurrencyDto` with `&quot;VirtualCurrencyDto(physicalCurrency=null, coinId=VirtualCurrencyDto(physicalCurrency=EUR, coinId=null))&quot;` as the value for `coinId`, the only `String` property in `VirtualCurrencyDto`, hence the behaviour you are experiencing. \r\n\r\nYou have two options here:\r\n\r\n 1. You review your model classes so that you use a simple object as the key of `pricing` Map. `DTOCurrency` would be a good candidate for example.\r\n 2. You create a custom deserializer for `VirtualCurrencyDto` that is able to parse the `String` `&quot;VirtualCurrencyDto(physicalCurrency=null, coinId=VirtualCurrencyDto(physicalCurrency=EUR, coinId=null))&quot;` and create an instance of the class. For this you will need to extend `StdDeserializer` and then register it in your `ObjectMapper`. Something similar to the following:\r\n```java\r\nSimpleModule module = new SimpleModule()\r\n        .addDeserializer(VirtualCurrencyDto.class, new VirtualCurrencyDtoDeserializer());\r\n\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.registerModule(module);\r\n``` \r\n\r\nI would go with the first one.","title":"Java: ObjectMapper changes value/structure of Pojo after request/response","body":"<p>My guess is that the issue exists because you have a complex object as the key of your <code>pricing</code> Map. Maps in JSON are represented by a simple <code>String</code> as key and the value could be a complex object. This means that Jackson has to find a way to serialize your complex <code>VirtualCurrencyDto</code> object into a simple <code>String</code>. The only way to do this is via the <code>toString()</code> method, which is why you see <code>&quot;VirtualCurrencyDto(physicalCurrency=null, coinId=VirtualCurrencyDto(physicalCurrency=EUR, coinId=null))&quot;</code>. This is wrong <em>per se</em>, because you should use simple objects that have a simple <code>String</code> representation as keys in JSON maps. But next, we will see why you are getting such weird behavior.</p>\n<p>Jackson tries to deserialize <code>&quot;VirtualCurrencyDto(physicalCurrency=null, coinId=VirtualCurrencyDto(physicalCurrency=EUR, coinId=null))&quot;</code> into a <code>VirtualCurrencyDto</code> object. Since it contains only a single <code>String</code> property my guess is that it creates an instance of <code>VirtualCurrencyDto</code> with <code>&quot;VirtualCurrencyDto(physicalCurrency=null, coinId=VirtualCurrencyDto(physicalCurrency=EUR, coinId=null))&quot;</code> as the value for <code>coinId</code>, the only <code>String</code> property in <code>VirtualCurrencyDto</code>, hence the behaviour you are experiencing.</p>\n<p>You have two options here:</p>\n<ol>\n<li>You review your model classes so that you use a simple object as the key of <code>pricing</code> Map. <code>DTOCurrency</code> would be a good candidate for example.</li>\n<li>You create a custom deserializer for <code>VirtualCurrencyDto</code> that is able to parse the <code>String</code> <code>&quot;VirtualCurrencyDto(physicalCurrency=null, coinId=VirtualCurrencyDto(physicalCurrency=EUR, coinId=null))&quot;</code> and create an instance of the class. For this you will need to extend <code>StdDeserializer</code> and then register it in your <code>ObjectMapper</code>. Something similar to the following:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleModule module = new SimpleModule()\n        .addDeserializer(VirtualCurrencyDto.class, new VirtualCurrencyDtoDeserializer());\n\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(module);\n</code></pre>\n<p>I would go with the first one.</p>\n"}],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69774312,"answer_count":1,"score":0,"last_activity_date":1635542458,"creation_date":1635518431,"question_id":69770745,"body_markdown":"I can see before the conversion of the response to my DTO it looks like this:\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;HalloweenBundle2021&quot;,\r\n    &quot;pricing&quot;:\r\n    {\r\n        &quot;VirtualCurrencyDto(physicalCurrency=EUR, coinId=null)&quot;:\r\n        {\r\n            &quot;amount&quot;: 8.99,\r\n            &quot;discountAmount&quot;: 0\r\n        },\r\n        &quot;VirtualCurrencyDto(physicalCurrency=USD, coinId=null)&quot;:\r\n        {\r\n            &quot;amount&quot;: 9.99,\r\n            &quot;discountAmount&quot;: 0\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nwhich is correct.\r\n\r\nHowever, after the response/actual conversion, both of the `physicalCurrency` fields are null, whereas the `coinId` fields get full map values:\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;HalloweenBundle2021&quot;,\r\n    &quot;pricing&quot;:\r\n    {\r\n        &quot;VirtualCurrencyDto(physicalCurrency=null, coinId=VirtualCurrencyDto(physicalCurrency=EUR, coinId=null))&quot;:\r\n        {\r\n            &quot;amount&quot;: 8.99,\r\n            &quot;discountAmount&quot;: 0\r\n        },\r\n        &quot;VirtualCurrencyDto(physicalCurrency=null, coinId=VirtualCurrencyDto(physicalCurrency=USD, coinId=null))&quot;:\r\n        {\r\n            &quot;amount&quot;: 9.99,\r\n            &quot;discountAmount&quot;: 0\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhat is going on exactly?\r\n\r\nMy Pojo for the response is:\r\n\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class FooDto implements Serializable {\r\n      private String name;\r\n      private Map&lt;VirtualCurrencyDto, PriceDto&gt; pricing = new LinkedHashMap&lt;&gt;();\r\n    }\r\n\r\nand the pojo in with the issue is:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class VirtualCurrencyDto implements Serializable {\r\n    \r\n      // both of these fields should not be present, only one or the other\r\n      private DTOCurrency physicalCurrency; // an external enum\r\n      private String coinId;\r\n    \r\n      public VirtualCurrencyDto(DTOCurrency physicalCurrency) {\r\n        this.physicalCurrency = physicalCurrency;\r\n      }\r\n    \r\n      public VirtualCurrencyDto(String coinId) {\r\n        this.coinId = coinId;\r\n      }\r\n    }\r\n\r\nmy objectMapper bean\r\n\r\n      @Bean\r\n      public ObjectMapper getObjectMapper() {\r\n        return new ObjectMapper()\r\n            .setSerializationInclusion(JsonInclude.Include.ALWAYS)\r\n            .registerModule(new JsonNullableModule());\r\n      }\r\n\r\nAnd the response is being fetched via `MockMvc`\r\n\r\n      public FooDto getFooDto(String name) throws Exception {\r\n        MvcResult result =\r\n            mockMvc.perform(\r\n                    get(&quot;/foo/&quot; + name))\r\n                .andExpect(status().isOk())\r\n                .andReturn();\r\n    \r\n        return objectMapper.readValue(\r\n            result.getResponse().getContentAsString(), // this part is fine, when I look at the string value\r\n            FooDto.class); // issue here, upon conversion\r\n          }\r\n\r\nI should note that the same is true when making the request, e.g. before the request reaches my controller for a `PUT`, the data looks fine, but upon receiving it in the controller, the data is screwed like above (the response from `GET`).","title":"Java: ObjectMapper changes value/structure of Pojo after request/response","body":"<p>I can see before the conversion of the response to my DTO it looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;HalloweenBundle2021&quot;,\n    &quot;pricing&quot;:\n    {\n        &quot;VirtualCurrencyDto(physicalCurrency=EUR, coinId=null)&quot;:\n        {\n            &quot;amount&quot;: 8.99,\n            &quot;discountAmount&quot;: 0\n        },\n        &quot;VirtualCurrencyDto(physicalCurrency=USD, coinId=null)&quot;:\n        {\n            &quot;amount&quot;: 9.99,\n            &quot;discountAmount&quot;: 0\n        }\n    }\n}\n</code></pre>\n<p>which is correct.</p>\n<p>However, after the response/actual conversion, both of the <code>physicalCurrency</code> fields are null, whereas the <code>coinId</code> fields get full map values:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;HalloweenBundle2021&quot;,\n    &quot;pricing&quot;:\n    {\n        &quot;VirtualCurrencyDto(physicalCurrency=null, coinId=VirtualCurrencyDto(physicalCurrency=EUR, coinId=null))&quot;:\n        {\n            &quot;amount&quot;: 8.99,\n            &quot;discountAmount&quot;: 0\n        },\n        &quot;VirtualCurrencyDto(physicalCurrency=null, coinId=VirtualCurrencyDto(physicalCurrency=USD, coinId=null))&quot;:\n        {\n            &quot;amount&quot;: 9.99,\n            &quot;discountAmount&quot;: 0\n        }\n    }\n}\n</code></pre>\n<p>What is going on exactly?</p>\n<p>My Pojo for the response is:</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class FooDto implements Serializable {\n  private String name;\n  private Map&lt;VirtualCurrencyDto, PriceDto&gt; pricing = new LinkedHashMap&lt;&gt;();\n}\n</code></pre>\n<p>and the pojo in with the issue is:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class VirtualCurrencyDto implements Serializable {\n\n  // both of these fields should not be present, only one or the other\n  private DTOCurrency physicalCurrency; // an external enum\n  private String coinId;\n\n  public VirtualCurrencyDto(DTOCurrency physicalCurrency) {\n    this.physicalCurrency = physicalCurrency;\n  }\n\n  public VirtualCurrencyDto(String coinId) {\n    this.coinId = coinId;\n  }\n}\n</code></pre>\n<p>my objectMapper bean</p>\n<pre><code>  @Bean\n  public ObjectMapper getObjectMapper() {\n    return new ObjectMapper()\n        .setSerializationInclusion(JsonInclude.Include.ALWAYS)\n        .registerModule(new JsonNullableModule());\n  }\n</code></pre>\n<p>And the response is being fetched via <code>MockMvc</code></p>\n<pre><code>  public FooDto getFooDto(String name) throws Exception {\n    MvcResult result =\n        mockMvc.perform(\n                get(&quot;/foo/&quot; + name))\n            .andExpect(status().isOk())\n            .andReturn();\n\n    return objectMapper.readValue(\n        result.getResponse().getContentAsString(), // this part is fine, when I look at the string value\n        FooDto.class); // issue here, upon conversion\n      }\n</code></pre>\n<p>I should note that the same is true when making the request, e.g. before the request reaches my controller for a <code>PUT</code>, the data looks fine, but upon receiving it in the controller, the data is screwed like above (the response from <code>GET</code>).</p>\n"},{"tags":["java","testing","google-bigquery"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1635517808,"post_id":69770224,"comment_id":123327652,"body_markdown":"Have you tried looking at how BigQuery itself does integration tests without needing a server? If not, create a Wrapper object that acts as a fake/stub","body":"Have you tried looking at how BigQuery itself does integration tests without needing a server? If not, create a Wrapper object that acts as a fake/stub"}],"answers":[{"tags":[],"owner":{"account_id":22771851,"reputation":1650,"user_id":16929145,"display_name":"Raul Saucedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635542352,"creation_date":1635542352,"answer_id":69774873,"question_id":69770224,"body_markdown":"Integration tests in Google Cloud validate interaction between parts of your code, and typically take a moderate amount of time to complete. For example, in Cloud Functions, integration tests can be used to test a function&#39;s usage of other Google Cloud services such as Datastore or Cloud Vision.\r\n\r\nYou can see more documentation about [integration tests][1] in Google Cloud.\r\n\t\r\nThere are already some libraries taking care of integration testing with datastores including BigQuery/NoSQL/SQL.\r\n \r\nThey would provide an easy solution for the cases described above and full support for SQL, dynamic macro/predicate.\r\n \r\n\r\n - [Dsunit][2] (go-lang)\r\n - [JDsunit][3] (java)\r\n - [Endly][4](language agnostic)\r\n\r\n \r\nYou can see more documentation about [integration tests][1] in Google Cloud.\r\n\r\n\r\n  [1]: https://cloud.google.com/functions/docs/testing/test-basics#integration_tests\r\n  [2]: https://github.com/viant/dsunit\r\n  [3]: https://github.com/viant/jdsunit\r\n  [4]: https://github.com/viant/endly/","title":"create a stub bigquery table","body":"<p>Integration tests in Google Cloud validate interaction between parts of your code, and typically take a moderate amount of time to complete. For example, in Cloud Functions, integration tests can be used to test a function's usage of other Google Cloud services such as Datastore or Cloud Vision.</p>\n<p>You can see more documentation about <a href=\"https://cloud.google.com/functions/docs/testing/test-basics#integration_tests\" rel=\"nofollow noreferrer\">integration tests</a> in Google Cloud.</p>\n<p>There are already some libraries taking care of integration testing with datastores including BigQuery/NoSQL/SQL.</p>\n<p>They would provide an easy solution for the cases described above and full support for SQL, dynamic macro/predicate.</p>\n<ul>\n<li><a href=\"https://github.com/viant/dsunit\" rel=\"nofollow noreferrer\">Dsunit</a> (go-lang)</li>\n<li><a href=\"https://github.com/viant/jdsunit\" rel=\"nofollow noreferrer\">JDsunit</a> (java)</li>\n<li><a href=\"https://github.com/viant/endly/\" rel=\"nofollow noreferrer\">Endly</a>(language agnostic)</li>\n</ul>\n<p>You can see more documentation about <a href=\"https://cloud.google.com/functions/docs/testing/test-basics#integration_tests\" rel=\"nofollow noreferrer\">integration tests</a> in Google Cloud.</p>\n"}],"owner":{"account_id":1196827,"reputation":1265,"user_id":1168364,"accept_rate":64,"display_name":"lf215"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1635542352,"creation_date":1635516036,"question_id":69770224,"body_markdown":"For an integration test, I want to create a bigquery [Table][1] object that I will return from a test stub. I don&#39;t want to connect to a bigquery server and it&#39;s okay for this object to be mostly non functional/empty.\r\n\r\n(This is an integration test so I don&#39;t want to use mocking)\r\n\r\n  [1]: https://javadoc.io/static/com.google.cloud/google-cloud-bigquery/1.88.0/com/google/cloud/bigquery/Table.html","title":"create a stub bigquery table","body":"<p>For an integration test, I want to create a bigquery <a href=\"https://javadoc.io/static/com.google.cloud/google-cloud-bigquery/1.88.0/com/google/cloud/bigquery/Table.html\" rel=\"nofollow noreferrer\">Table</a> object that I will return from a test stub. I don't want to connect to a bigquery server and it's okay for this object to be mostly non functional/empty.</p>\n<p>(This is an integration test so I don't want to use mocking)</p>\n"},{"tags":["java","string","oracle","timestamp","formatter"],"comments":[{"owner":{"account_id":7551181,"reputation":3744,"user_id":5732537,"display_name":"EdStevens"},"score":2,"creation_date":1635535265,"post_id":69773240,"comment_id":123333656,"body_markdown":"_&quot;I get a TIMESTAMP from an Oracle DB in this format:&quot;_   Then it appears you do not actually get a TIMESTAMP, or you do not understand what it is you actually _get_.  I say this because the oracle data types TIMESTAMP and DATE don_not_ have _any_ human-readable format.  They are oracle&#39;s internal, binary format.  They only become &#39;yyyy-mm-dd&#39; or &#39;dd-mon-yyyy&#39; or &#39;ddmmyyyy&#39; or any other human-readable format when they are returned from a TO_CHAR function.","body":"<i>&quot;I get a TIMESTAMP from an Oracle DB in this format:&quot;</i>   Then it appears you do not actually get a TIMESTAMP, or you do not understand what it is you actually <i>get</i>.  I say this because the oracle data types TIMESTAMP and DATE don_not_ have <i>any</i> human-readable format.  They are oracle&#39;s internal, binary format.  They only become &#39;yyyy-mm-dd&#39; or &#39;dd-mon-yyyy&#39; or &#39;ddmmyyyy&#39; or any other human-readable format when they are returned from a TO_CHAR function."}],"answers":[{"tags":[],"owner":{"account_id":12498833,"reputation":135387,"user_id":9097906,"display_name":"Littlefoot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635532182,"creation_date":1635532182,"answer_id":69773345,"question_id":69773240,"body_markdown":"I don&#39;t know Java, but - from my Oracle-ish point of view, correct way to do that is to use `to_char` function:\r\n\r\n    SQL&gt; create table test as\r\n      2  select systimestamp ts from dual;\r\n    \r\n    Table created.\r\n\r\n    SQL&gt; desc test\r\n     Name                                      Null?    Type\r\n     ----------------------------------------- -------- ----------------------------\r\n     TS                                                 TIMESTAMP(6) WITH TIME ZONE\r\n    \r\n    SQL&gt; select * from test;\r\n    \r\n    TS\r\n    ---------------------------------------------------------------------------\r\n    29.10.21 20:26:17,934000 +02:00\r\n\r\nThis is how I&#39;d do it, in Oracle:\r\n    \r\n    SQL&gt; select to_char(ts, &#39;dd.mm.yyyy&#39;) result\r\n      2  from test;\r\n    \r\n    RESULT\r\n    ----------\r\n    29.10.2021\r\n    \r\n    SQL&gt;\r\n\r\n----------\r\n\r\nIf you can&#39;t use it from Java, would a custom function do? It accepts timestamp and returns string formatted as you wanted; you&#39;d then call that function from Java:\r\n\r\n    SQL&gt; create or replace function f_format_ts (par_ts in timestamp) return char\r\n      2  is\r\n      3  begin\r\n      4    return to_char(par_ts, &#39;dd.mm.yyyy&#39;);\r\n      5  end;\r\n      6  /\r\n    \r\n    Function created.\r\n    \r\n    SQL&gt; select f_format_ts(a.ts) from test a;\r\n    \r\n    F_FORMAT_TS(A.TS)\r\n    --------------------------------------------------------------------------------\r\n    29.10.2021\r\n    \r\n    SQL&gt;","title":"Convert timestamp to string without formatter","body":"<p>I don't know Java, but - from my Oracle-ish point of view, correct way to do that is to use <code>to_char</code> function:</p>\n<pre><code>SQL&gt; create table test as\n  2  select systimestamp ts from dual;\n\nTable created.\n\nSQL&gt; desc test\n Name                                      Null?    Type\n ----------------------------------------- -------- ----------------------------\n TS                                                 TIMESTAMP(6) WITH TIME ZONE\n\nSQL&gt; select * from test;\n\nTS\n---------------------------------------------------------------------------\n29.10.21 20:26:17,934000 +02:00\n</code></pre>\n<p>This is how I'd do it, in Oracle:</p>\n<pre><code>SQL&gt; select to_char(ts, 'dd.mm.yyyy') result\n  2  from test;\n\nRESULT\n----------\n29.10.2021\n\nSQL&gt;\n</code></pre>\n<hr />\n<p>If you can't use it from Java, would a custom function do? It accepts timestamp and returns string formatted as you wanted; you'd then call that function from Java:</p>\n<pre><code>SQL&gt; create or replace function f_format_ts (par_ts in timestamp) return char\n  2  is\n  3  begin\n  4    return to_char(par_ts, 'dd.mm.yyyy');\n  5  end;\n  6  /\n\nFunction created.\n\nSQL&gt; select f_format_ts(a.ts) from test a;\n\nF_FORMAT_TS(A.TS)\n--------------------------------------------------------------------------------\n29.10.2021\n\nSQL&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635532277,"creation_date":1635532277,"answer_id":69773363,"question_id":69773240,"body_markdown":"&gt; I get a TIMESTAMP from an Oracle DB in this format: yyyy-MM-dd\r\n&gt; hh:mm:ss.SSS\r\n\r\nWith this statement you already went into the world of string processing. One of the reasons why you do not want to go there is timezones.\r\n\r\nSo actually via your JDBC driver you should have received a [ResultSet][1]. Probably you went with one of the getString() methods and think of the next step.\r\n\r\nAlternatively you could have used getTimestamp() or even getDate(), which would make further conversion easier or even obsolete.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html","title":"Convert timestamp to string without formatter","body":"<blockquote>\n<p>I get a TIMESTAMP from an Oracle DB in this format: yyyy-MM-dd\nhh:mm:ss.SSS</p>\n</blockquote>\n<p>With this statement you already went into the world of string processing. One of the reasons why you do not want to go there is timezones.</p>\n<p>So actually via your JDBC driver you should have received a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\">ResultSet</a>. Probably you went with one of the getString() methods and think of the next step.</p>\n<p>Alternatively you could have used getTimestamp() or even getDate(), which would make further conversion easier or even obsolete.</p>\n"},{"tags":[],"owner":{"account_id":1635690,"reputation":150067,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635539594,"creation_date":1635539594,"answer_id":69774498,"question_id":69773240,"body_markdown":"You appear to not be getting a `TIMESTAMP` value from the database; you are getting a string value from the database (that just happens to contain date/time data). Don&#39;t do that when you can just get the `TIMESTAMP` as a binary value that you can easily format.\r\n\r\nIf you want to get a timestamp then [retrieve it as a `LocalDateTime`](https://stackoverflow.com/a/21174634/1509264):\r\n\r\n``` sql\r\nLocalDateTime datetime = resultSet.getObject(columnIndex, LocalDateTime.class);\r\n```\r\n\r\nThe you can format it to whatever format you want using [`LocalDateTime.format(formatter)`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#format-java.time.format.DateTimeFormatter-).\r\n\r\nSince you only want the date components you could even use `LocalDate` rather than `LocalDateTime`.","title":"Convert timestamp to string without formatter","body":"<p>You appear to not be getting a <code>TIMESTAMP</code> value from the database; you are getting a string value from the database (that just happens to contain date/time data). Don't do that when you can just get the <code>TIMESTAMP</code> as a binary value that you can easily format.</p>\n<p>If you want to get a timestamp then <a href=\"https://stackoverflow.com/a/21174634/1509264\">retrieve it as a <code>LocalDateTime</code></a>:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>LocalDateTime datetime = resultSet.getObject(columnIndex, LocalDateTime.class);\n</code></pre>\n<p>The you can format it to whatever format you want using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#format-java.time.format.DateTimeFormatter-\" rel=\"nofollow noreferrer\"><code>LocalDateTime.format(formatter)</code></a>.</p>\n<p>Since you only want the date components you could even use <code>LocalDate</code> rather than <code>LocalDateTime</code>.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635541691,"creation_date":1635541354,"answer_id":69774735,"question_id":69773240,"body_markdown":"# *java.time*\r\n\r\nThe mapping of ANSI SQL types with `java.time` types have been depicted as follows in [this Oracle&#39;s article](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html):  \r\n\r\nANSI SQL|Java SE 8\r\n-|-\r\nDATE|LocalDate\r\nTIME|LocalTime\r\nTIMESTAMP|LocalDateTime\r\nTIME WITH TIMEZONE|OffsetTime\r\nTIMESTAMP WITH TIMEZONE|OffsetDateTime\r\n\r\nGiven below is a sample code to retrieve a `LocalDateTime` from `columnfoo`:\r\n\r\n    Statement st = conn.createStatement();\r\n    ResultSet rs = st.executeQuery(&quot;SELECT * FROM mytable WHERE &lt;some condition&gt;&quot;);\r\n    while (rs.next()) {\r\n    \t// Assuming the column index of columnfoo is 1\r\n    \tLocalDateTime ldt = rs.getObject(1, LocalDateTime.class));\r\n    \tSystem.out.println(ldt);\r\n    }\r\n    rs.close();\r\n    st.close();\r\n### How to format a `LocalDateTime`?\r\n\r\nYou can use `DateTimeFormatter` to format a `LocalDateTime`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// This is a dummy LocalDateTime for the purpose of demo. You will retrieve\r\n    \t\t// LocalDateTime from the DB as shown above\r\n    \t\tLocalDateTime ldt = LocalDateTime.now();\r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd.MM.uuuu&quot;, Locale.ENGLISH);\r\n    \t\tString formatted = ldt.format(dtf);\r\n    \t\tSystem.out.println(formatted);\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    29.10.2021\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nLearn more about the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/YkcZ3p","title":"Convert timestamp to string without formatter","body":"<h1><em>java.time</em></h1>\n<p>The mapping of ANSI SQL types with <code>java.time</code> types have been depicted as follows in <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">this Oracle's article</a>:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ANSI SQL</th>\n<th>Java SE 8</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>DATE</td>\n<td>LocalDate</td>\n</tr>\n<tr>\n<td>TIME</td>\n<td>LocalTime</td>\n</tr>\n<tr>\n<td>TIMESTAMP</td>\n<td>LocalDateTime</td>\n</tr>\n<tr>\n<td>TIME WITH TIMEZONE</td>\n<td>OffsetTime</td>\n</tr>\n<tr>\n<td>TIMESTAMP WITH TIMEZONE</td>\n<td>OffsetDateTime</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Given below is a sample code to retrieve a <code>LocalDateTime</code> from <code>columnfoo</code>:</p>\n<pre><code>Statement st = conn.createStatement();\nResultSet rs = st.executeQuery(&quot;SELECT * FROM mytable WHERE &lt;some condition&gt;&quot;);\nwhile (rs.next()) {\n    // Assuming the column index of columnfoo is 1\n    LocalDateTime ldt = rs.getObject(1, LocalDateTime.class));\n    System.out.println(ldt);\n}\nrs.close();\nst.close();\n</code></pre>\n<h3>How to format a <code>LocalDateTime</code>?</h3>\n<p>You can use <code>DateTimeFormatter</code> to format a <code>LocalDateTime</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        // This is a dummy LocalDateTime for the purpose of demo. You will retrieve\n        // LocalDateTime from the DB as shown above\n        LocalDateTime ldt = LocalDateTime.now();\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd.MM.uuuu&quot;, Locale.ENGLISH);\n        String formatted = ldt.format(dtf);\n        System.out.println(formatted);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>29.10.2021\n</code></pre>\n<p><a href=\"https://ideone.com/YkcZ3p\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"nofollow noreferrer\">support for <code>java.time</code></a>.\n</sup></p>\n"}],"owner":{"display_name":"user11116209"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":739,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1635541691,"creation_date":1635531591,"question_id":69773240,"body_markdown":"I get a TIMESTAMP from an Oracle DB in this format: **yyyy-MM-dd hh:mm:ss.SSS** and would like to convert to a String like **dd.MM.yyyy**. I performed string operations and the result was correct as expected. Is this approach **right** or **wrong**? Or is it more efficient to use as a formatter? \r\nDo I have to use formatter if Oracle returns a different string in the future because of a different NLS_LANG setting? \r\n\r\n    String date = data.toString().substring(0,10).replace(&quot;-&quot;,&quot;.&quot;); // data is received from DB \r\n    String day = datum.substring(8,10); \r\n    String month = datum.substring(4,8); \r\n    String year = datum.substring(0,4); \r\n    String myDate = new StringBuilder().append(day).append(month).append(year).toString();","title":"Convert timestamp to string without formatter","body":"<p>I get a TIMESTAMP from an Oracle DB in this format: <strong>yyyy-MM-dd hh:mm:ss.SSS</strong> and would like to convert to a String like <strong>dd.MM.yyyy</strong>. I performed string operations and the result was correct as expected. Is this approach <strong>right</strong> or <strong>wrong</strong>? Or is it more efficient to use as a formatter?\nDo I have to use formatter if Oracle returns a different string in the future because of a different NLS_LANG setting?</p>\n<pre><code>String date = data.toString().substring(0,10).replace(&quot;-&quot;,&quot;.&quot;); // data is received from DB \nString day = datum.substring(8,10); \nString month = datum.substring(4,8); \nString year = datum.substring(0,4); \nString myDate = new StringBuilder().append(day).append(month).append(year).toString();\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":13703711,"reputation":56,"user_id":9888021,"display_name":"Ashkan Khaleghi"},"score":0,"creation_date":1635365390,"post_id":69744777,"comment_id":123281703,"body_markdown":"try with this link https://developer.android.com/training/basics/firstapp/creating-project. if again not success post your steps to create project","body":"try with this link <a href=\"https://developer.android.com/training/basics/firstapp/creating-project\" rel=\"nofollow noreferrer\">developer.android.com/training/basics/firstapp/creating-proj&zwnj;&#8203;ect</a>. if again not success post your steps to create project"},{"owner":{"display_name":"user14488588"},"score":0,"creation_date":1635365456,"post_id":69744777,"comment_id":123281731,"body_markdown":"I already have. Sigh. I just read that, and it basically is just a description of what I already said I did.","body":"I already have. Sigh. I just read that, and it basically is just a description of what I already said I did."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1635366534,"post_id":69744777,"comment_id":123282095,"body_markdown":"I find this really strange. I recently created a new app to work with some concepts outside of my main app. When I chose Basic Activity all the files I expected were generated, classes for an activity and two fragments as well as .xml layout files for them and other resources.","body":"I find this really strange. I recently created a new app to work with some concepts outside of my main app. When I chose Basic Activity all the files I expected were generated, classes for an activity and two fragments as well as .xml layout files for them and other resources."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1635366913,"post_id":69744777,"comment_id":123282228,"body_markdown":"I&#39;m not saying I don&#39;t believe you. I just have no idea what would cause this. I suggest that you manually create a new Activity in your project and forge forward from there.","body":"I&#39;m not saying I don&#39;t believe you. I just have no idea what would cause this. I suggest that you manually create a new Activity in your project and forge forward from there."},{"owner":{"display_name":"user14488588"},"score":0,"creation_date":1635367303,"post_id":69744777,"comment_id":123282386,"body_markdown":"Alright. How do I create a new activity, though?","body":"Alright. How do I create a new activity, though?"}],"answers":[{"tags":[],"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635366284,"creation_date":1635366284,"answer_id":69745036,"question_id":69744777,"body_markdown":"In the following menu click the arrow and select &quot;Project&quot; (is better):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5IOg4.jpg\r\n\r\nThen go to &quot;name of your project folder&quot; &gt; &quot;app&quot; &gt; &quot;src&quot; &gt; &quot;main&quot; &gt; &quot;res&quot;.","title":"No res folder. No activity_main.xml. No activity. No layout","body":"<p>In the following menu click the arrow and select &quot;Project&quot; (is better):</p>\n<p><a href=\"https://i.stack.imgur.com/5IOg4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5IOg4.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Then go to &quot;name of your project folder&quot; &gt; &quot;app&quot; &gt; &quot;src&quot; &gt; &quot;main&quot; &gt; &quot;res&quot;.</p>\n"},{"tags":[],"owner":{"display_name":"user14488588"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635541472,"creation_date":1635541472,"answer_id":69774753,"question_id":69744777,"body_markdown":"I have no idea if this was what was causing it, but first I uninstalled then re-installed Android studio, deleted the old project, and created a new one.\r\n\r\nIt still didn&#39;t work, BUT I just noticed a little error log button.\r\n\r\nYou see, I named my application com.con.pfq. It wasn&#39;t liking the &quot;con&quot; part - said it&#39;s an invalid file name.\r\n\r\nSooo... I recreated the app as com.connoriscool.pfqmmobile. It liked that more.\r\n\r\nNo idea what&#39;s happening here, but that&#39;s the solution.","title":"No res folder. No activity_main.xml. No activity. No layout","body":"<p>I have no idea if this was what was causing it, but first I uninstalled then re-installed Android studio, deleted the old project, and created a new one.</p>\n<p>It still didn't work, BUT I just noticed a little error log button.</p>\n<p>You see, I named my application com.con.pfq. It wasn't liking the &quot;con&quot; part - said it's an invalid file name.</p>\n<p>Sooo... I recreated the app as com.connoriscool.pfqmmobile. It liked that more.</p>\n<p>No idea what's happening here, but that's the solution.</p>\n"}],"owner":{"display_name":"user14488588"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69774753,"answer_count":2,"score":1,"last_activity_date":1635541472,"creation_date":1635364854,"question_id":69744777,"body_markdown":"I am just starting to use Android Studio.\r\n\r\nI have followed the steps through in the Studio. I chose &quot;Basic Activity&quot;. The app loads, but there&#39;s nothing but empty directories there and it has no activity folder or anything to edit the layout with.\r\n\r\nI checked it in the Windows explorer, and it just looks the same as in Android studio.\r\n\r\nI&#39;ve read [this][1], [this][2], [this][3], [this][4], [this][5], [this][6], and other ones, and have probably spent over an hour trying to figure out how to do this.\r\n\r\nI&#39;ve also re-tried creating the project at least 5 times, but I&#39;ve had no success.\r\n\r\nEdit: Here&#39;s what the app folder looks like:\r\n[![enter image description here][7]][7]\r\n\r\nEdit: Someone told me I should just create a new activity. Being an absolute new person, I didn&#39;t know how to do that, so I looked [at this post][8]. However, the post tells me that I need to go into the &quot;New&quot; menu, but I don&#39;t see &quot;Activity&quot; in here like the post asserted it would be.\r\n\r\n[![enter image description here][9]][9]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22430679/activity-main-xml-not-in-layout-folder-as-well-as-anything-else\r\n  [2]: https://developer.android.com/studio/write/layout-editor\r\n  [3]: https://github.com/firebase/FirebaseUI-Android/issues/1349\r\n  [4]: https://stackoverflow.com/questions/18551756/android-studio-no-main-activity-no-layouts-on-a-new-project\r\n  [5]: https://stackoverflow.com/questions/37268401/content-main-xml-missing\r\n  [6]: https://stackoverflow.com/questions/27896889/new-created-values-folder-is-not-visible-in-android-studio\r\n  [7]: https://i.stack.imgur.com/WBtFL.jpg\r\n  [8]: https://stackoverflow.com/questions/53398235/how-to-create-new-activity-in-android-studio\r\n  [9]: https://i.stack.imgur.com/L60rG.jpg","title":"No res folder. No activity_main.xml. No activity. No layout","body":"<p>I am just starting to use Android Studio.</p>\n<p>I have followed the steps through in the Studio. I chose &quot;Basic Activity&quot;. The app loads, but there's nothing but empty directories there and it has no activity folder or anything to edit the layout with.</p>\n<p>I checked it in the Windows explorer, and it just looks the same as in Android studio.</p>\n<p>I've read <a href=\"https://stackoverflow.com/questions/22430679/activity-main-xml-not-in-layout-folder-as-well-as-anything-else\">this</a>, <a href=\"https://developer.android.com/studio/write/layout-editor\" rel=\"nofollow noreferrer\">this</a>, <a href=\"https://github.com/firebase/FirebaseUI-Android/issues/1349\" rel=\"nofollow noreferrer\">this</a>, <a href=\"https://stackoverflow.com/questions/18551756/android-studio-no-main-activity-no-layouts-on-a-new-project\">this</a>, <a href=\"https://stackoverflow.com/questions/37268401/content-main-xml-missing\">this</a>, <a href=\"https://stackoverflow.com/questions/27896889/new-created-values-folder-is-not-visible-in-android-studio\">this</a>, and other ones, and have probably spent over an hour trying to figure out how to do this.</p>\n<p>I've also re-tried creating the project at least 5 times, but I've had no success.</p>\n<p>Edit: Here's what the app folder looks like:\n<a href=\"https://i.stack.imgur.com/WBtFL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WBtFL.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Edit: Someone told me I should just create a new activity. Being an absolute new person, I didn't know how to do that, so I looked <a href=\"https://stackoverflow.com/questions/53398235/how-to-create-new-activity-in-android-studio\">at this post</a>. However, the post tells me that I need to go into the &quot;New&quot; menu, but I don't see &quot;Activity&quot; in here like the post asserted it would be.</p>\n<p><a href=\"https://i.stack.imgur.com/L60rG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L60rG.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1635538297,"post_id":69774249,"comment_id":123334471,"body_markdown":"If you want to stick to your current logic: you need to move `count` declaration inside the outer loop and then move the `if count` check after the inner loop.","body":"If you want to stick to your current logic: you need to move <code>count</code> declaration inside the outer loop and then move the <code>if count</code> check after the inner loop."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1635538382,"post_id":69774249,"comment_id":123334488,"body_markdown":"The sum of all primes between 1 and 50 is a constant... So why write code for it?","body":"The sum of all primes between 1 and 50 is a constant... So why write code for it?"},{"owner":{"account_id":1425811,"reputation":10732,"user_id":1349366,"display_name":"Aivean"},"score":0,"creation_date":1635538590,"post_id":69774249,"comment_id":123334550,"body_markdown":"In the spirit of @Yunnosch comment:  `System.out.println(&quot;The sum: 328&quot;);`","body":"In the spirit of @Yunnosch comment:  <code>System.out.println(&quot;The sum: 328&quot;);</code>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1635538667,"post_id":69774249,"comment_id":123334575,"body_markdown":"Oh come on, I&#39;m pretty sure we understand the assignment and its purpose.","body":"Oh come on, I&#39;m pretty sure we understand the assignment and its purpose."}],"answers":[{"tags":[],"owner":{"account_id":1425811,"reputation":10732,"user_id":1349366,"display_name":"Aivean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635538762,"creation_date":1635538762,"answer_id":69774383,"question_id":69774249,"body_markdown":"Disclaimer: this code was written by Github Copilot with minimal supervision.\r\n\r\n```java\r\nclass Scratch {\r\n\r\n    // find the sum of all prime numbers between 2 and n\r\n    public static int sumPrimes(int n) {\r\n        int sum = 0;\r\n        for (int i = 2; i &lt; n; i++) {\r\n            if (isPrime(i)) {\r\n                sum += i;\r\n            }\r\n        }\r\n        return sum;\r\n    }\r\n\r\n    // return true if n is prime\r\n    public static boolean isPrime(int n) {\r\n        if (n == 2) {\r\n            return true;\r\n        }\r\n        if (n % 2 == 0) {\r\n            return false;\r\n        }\r\n        for (int i = 3; i * i &lt;= n; i += 2) {\r\n            if (n % i == 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // print sum of primes between 2 and 50\r\n        System.out.println(&quot;The sum: &quot; + sumPrimes(50));\r\n\r\n    }\r\n}\r\n```\r\n\r\nPrints:\r\n```\r\nThe sum: 328\r\n```","title":"how to find the sum of all the prime numbers between 1 and 50 in java?","body":"<p>Disclaimer: this code was written by Github Copilot with minimal supervision.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Scratch {\n\n    // find the sum of all prime numbers between 2 and n\n    public static int sumPrimes(int n) {\n        int sum = 0;\n        for (int i = 2; i &lt; n; i++) {\n            if (isPrime(i)) {\n                sum += i;\n            }\n        }\n        return sum;\n    }\n\n    // return true if n is prime\n    public static boolean isPrime(int n) {\n        if (n == 2) {\n            return true;\n        }\n        if (n % 2 == 0) {\n            return false;\n        }\n        for (int i = 3; i * i &lt;= n; i += 2) {\n            if (n % i == 0) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n\n    public static void main(String[] args) {\n\n        // print sum of primes between 2 and 50\n        System.out.println(&quot;The sum: &quot; + sumPrimes(50));\n\n    }\n}\n</code></pre>\n<p>Prints:</p>\n<pre><code>The sum: 328\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18108228,"reputation":19,"user_id":13165435,"display_name":"Adabar94"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635539856,"creation_date":1635539856,"answer_id":69774538,"question_id":69774249,"body_markdown":"Maybe a minimal version with recursive method based on Aivean response:\r\n\r\n\tclass Scratch {\r\n\t\t// find the sum of all prime numbers between 2 and n\r\n\t\tpublic static int sumPrimes(int n) {\r\n\t\t\tif (n &gt;= 2) {\r\n\t\t\t\treturn (isPrime(n) ? n : 0) + sumPrimes(n-1);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\t// return true if n is prime\r\n\t\tpublic static boolean isPrime(int n) {\r\n\t\t\tfor (int i = 2; i &lt; n; i++) {\r\n\t\t\t\tif (n % i == 0) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\t// print sum of primes between 2 and 50\r\n\t\t\tSystem.out.println(&quot;The sum: &quot; + sumPrimes(50));\r\n\r\n\t\t}\r\n\t}\r\n","title":"how to find the sum of all the prime numbers between 1 and 50 in java?","body":"<p>Maybe a minimal version with recursive method based on Aivean response:</p>\n<pre><code>class Scratch {\n    // find the sum of all prime numbers between 2 and n\n    public static int sumPrimes(int n) {\n        if (n &gt;= 2) {\n            return (isPrime(n) ? n : 0) + sumPrimes(n-1);\n        }\n        \n        return 0;\n    }\n\n    // return true if n is prime\n    public static boolean isPrime(int n) {\n        for (int i = 2; i &lt; n; i++) {\n            if (n % i == 0) {\n                return false;\n            }\n        }\n        \n        return true;\n    }\n\n\n    public static void main(String[] args) {\n\n        // print sum of primes between 2 and 50\n        System.out.println(&quot;The sum: &quot; + sumPrimes(50));\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635541290,"creation_date":1635541290,"answer_id":69774727,"question_id":69774249,"body_markdown":"You were close.  But here is all you need.\r\n- first, set sum to 2.  It is the only even prime and doing this allows a better increment below\r\n- now increment the test cases starting at 3 and incrementing by 2.  Skip even values.\r\n- now divide by each test case by numbers from 2 to the `sqrt(i)`.  No need to go beyond that.\r\n- as soon as you have a successful division, end the inner loop and start the next of the outer loop.\r\n- otherwise, if the inner loop completes, add `i` to sum.\r\n```\r\nint sum = 2;\r\nouter:\r\nfor(int i = 3; i &lt;= 50; i+= 2) {\r\n    for(int j = 2; j &lt;= Math.sqrt(i); j++) {\r\n        if(i % j == 0) {\r\n            continue outer;\r\n        }\r\n    }\r\n    sum += i;\r\n}\r\nSystem.out.println(&quot;The sum: &quot; + sum);\r\n```\r\nAn improvement would be to store the primes as they are found and then only divide by those instead of arbitrary numbers.","title":"how to find the sum of all the prime numbers between 1 and 50 in java?","body":"<p>You were close.  But here is all you need.</p>\n<ul>\n<li>first, set sum to 2.  It is the only even prime and doing this allows a better increment below</li>\n<li>now increment the test cases starting at 3 and incrementing by 2.  Skip even values.</li>\n<li>now divide by each test case by numbers from 2 to the <code>sqrt(i)</code>.  No need to go beyond that.</li>\n<li>as soon as you have a successful division, end the inner loop and start the next of the outer loop.</li>\n<li>otherwise, if the inner loop completes, add <code>i</code> to sum.</li>\n</ul>\n<pre><code>int sum = 2;\nouter:\nfor(int i = 3; i &lt;= 50; i+= 2) {\n    for(int j = 2; j &lt;= Math.sqrt(i); j++) {\n        if(i % j == 0) {\n            continue outer;\n        }\n    }\n    sum += i;\n}\nSystem.out.println(&quot;The sum: &quot; + sum);\n</code></pre>\n<p>An improvement would be to store the primes as they are found and then only divide by those instead of arbitrary numbers.</p>\n"}],"owner":{"account_id":22819705,"reputation":1,"user_id":16969771,"display_name":"Vibhor Gupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":545,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1635541290,"creation_date":1635538009,"question_id":69774249,"body_markdown":"i have the following code, but the answer is coming out to be 2.\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        int sum = 0;\r\n        int count = 0;\r\n        for(int i = 2; i &lt;= 50; i++) {\r\n            for(int j = 1; j &lt;= i; j++) {\r\n                System.out.println(j);\r\n                if(i % j == 0) {\r\n\r\n                    count++;\r\n                }\r\n                if(count == 2) {\r\n                    System.out.println(i);\r\n                    sum = sum + i;\r\n                }\r\n            }\r\n\r\n        }\r\n        System.out.println(&quot;The sum: &quot; + sum);\r\n    }\r\n}\r\n```","title":"how to find the sum of all the prime numbers between 1 and 50 in java?","body":"<p>i have the following code, but the answer is coming out to be 2.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        int sum = 0;\n        int count = 0;\n        for(int i = 2; i &lt;= 50; i++) {\n            for(int j = 1; j &lt;= i; j++) {\n                System.out.println(j);\n                if(i % j == 0) {\n\n                    count++;\n                }\n                if(count == 2) {\n                    System.out.println(i);\n                    sum = sum + i;\n                }\n            }\n\n        }\n        System.out.println(&quot;The sum: &quot; + sum);\n    }\n}\n</code></pre>\n"},{"tags":["java","string","math","hash","integer"],"comments":[{"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"score":1,"creation_date":1635541218,"post_id":69774619,"comment_id":123335360,"body_markdown":"Note that there are only 16 different integers between 0 and 15, but there are far more than 16 possible different strings. So, a general hashing algorithm can&#39;t guarantee that two different strings will have different ids.","body":"Note that there are only 16 different integers between 0 and 15, but there are far more than 16 possible different strings. So, a general hashing algorithm can&#39;t guarantee that two different strings will have different ids."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1635548267,"post_id":69774619,"comment_id":123336929,"body_markdown":"If you want an integer hash value x between integers a and b, so that a &lt;= x &lt; b, then compute h&#39;(x) = a + h(x) mod (b - a), where h(x) is whatever hash function you like, for example x.hashCode().","body":"If you want an integer hash value x between integers a and b, so that a &lt;= x &lt; b, then compute h&#39;(x) = a + h(x) mod (b - a), where h(x) is whatever hash function you like, for example x.hashCode()."}],"answers":[{"tags":[],"owner":{"account_id":23175946,"reputation":66,"user_id":17274465,"display_name":"jcurley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635540705,"creation_date":1635540705,"answer_id":69774650,"question_id":69774619,"body_markdown":"```string.hashCode() % 15;``` would get you a number in [0, 14]. If 15 needs to be an option, then you could do ```string.hashCode() % 16;``` instead.","title":"Turn string to unique id between 2 numbers","body":"<p><code>string.hashCode() % 15;</code> would get you a number in [0, 14]. If 15 needs to be an option, then you could do <code>string.hashCode() % 16;</code> instead.</p>\n"}],"owner":{"account_id":20442553,"reputation":69,"user_id":14999071,"display_name":"Coderman69"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69774650,"answer_count":1,"score":-2,"last_activity_date":1635540705,"creation_date":1635540479,"question_id":69774619,"body_markdown":"How would you convert a string to a unique integer between two values? In a way that it would always return the same number for the same string\r\n\r\nFor example if i had this string &quot;Hello world&quot; it would need to be converted to an unique number between 0 and 15. And then if the string was different it would be converted to a different number between 0 and 15 but the same string would always convert to the same number\r\n\r\nYou can get the hash code which is just an integer from a string in java with string.hashCode(). Maybe that could be used to generate it somehow.","title":"Turn string to unique id between 2 numbers","body":"<p>How would you convert a string to a unique integer between two values? In a way that it would always return the same number for the same string</p>\n<p>For example if i had this string &quot;Hello world&quot; it would need to be converted to an unique number between 0 and 15. And then if the string was different it would be converted to a different number between 0 and 15 but the same string would always convert to the same number</p>\n<p>You can get the hash code which is just an integer from a string in java with string.hashCode(). Maybe that could be used to generate it somehow.</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1635538585,"post_id":69774286,"comment_id":123334548,"body_markdown":"I believe that was added in Java 12. https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html","body":"I believe that was added in Java 12. <a href=\"https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/13/language/&hellip;</a>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1635539573,"post_id":69774286,"comment_id":123334879,"body_markdown":"Yes.  Check [this](https://stackoverflow.com/a/64229359/1552534) out.  The example is at the end","body":"Yes.  Check <a href=\"https://stackoverflow.com/a/64229359/1552534\">this</a> out.  The example is at the end"}],"answers":[{"tags":[],"owner":{"account_id":23115719,"reputation":1,"user_id":17223008,"display_name":"Gansha Kumari"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1635539393,"creation_date":1635539393,"answer_id":69774475,"question_id":69774286,"body_markdown":"This is not available in Java, However You can do this thing with Kotlin, which is 100% Compatible with Java","title":"Can you connect two cases of a switch statement using a comma","body":"<p>This is not available in Java, However You can do this thing with Kotlin, which is 100% Compatible with Java</p>\n"},{"tags":[],"owner":{"account_id":8696141,"reputation":186,"user_id":6507469,"display_name":"Vaekor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635539479,"creation_date":1635539479,"answer_id":69774486,"question_id":69774286,"body_markdown":"Your original code segment uses *fall-through* to give the same response for both cases; some people find this difficult to read and follow.  Java 12 gave us two related features that people find help clean up their switch statements, one of which you&#39;ve discovered here:\r\n\r\n 1. cases can be comma separated rather than relying on fall-through\r\n 2. the arrow label can be used instead of the colon and break; commands.\r\n\r\nTherefore, if you find yourself not liking fall-through, and not wanting to worry about whether you remembered your break commands, you can write the switch as follows:\r\n\r\n    switch (element) {\r\n        case hi, hello -&gt; // do something here\r\n        case goodbye, bye -&gt; // do something else here\r\n    }\r\n\r\nNotice that in this case, we don&#39;t have any break statements, but there is no fall-through between the hi case and the bye case; they are separate due to the arrow label.","title":"Can you connect two cases of a switch statement using a comma","body":"<p>Your original code segment uses <em>fall-through</em> to give the same response for both cases; some people find this difficult to read and follow.  Java 12 gave us two related features that people find help clean up their switch statements, one of which you've discovered here:</p>\n<ol>\n<li>cases can be comma separated rather than relying on fall-through</li>\n<li>the arrow label can be used instead of the colon and break; commands.</li>\n</ol>\n<p>Therefore, if you find yourself not liking fall-through, and not wanting to worry about whether you remembered your break commands, you can write the switch as follows:</p>\n<pre><code>switch (element) {\n    case hi, hello -&gt; // do something here\n    case goodbye, bye -&gt; // do something else here\n}\n</code></pre>\n<p>Notice that in this case, we don't have any break statements, but there is no fall-through between the hi case and the bye case; they are separate due to the arrow label.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1635540144,"creation_date":1635540144,"answer_id":69774572,"question_id":69774286,"body_markdown":"Recent versions of java (12 and up) have been putting in a ton of work on `switch`. There are now quite a few forms. Some of these forms have an underlying principle that strongly suggests some new syntactical feature is important, and for consistency&#39;s sake, if that feature can also be allowed for the other forms, the other forms are updated too.\r\n\r\n## History\r\n\r\nThe original java 1.0 switch is a straight copy from C (which explains their utterly bizarre and silly syntax; it&#39;s what C had, and java was designed to be comfortable to C coders. We can whinge about the fact that this means the syntax is daft, but it&#39;s hard to deny that the C style syntax, no matter how crazy it seems, has taken over the planet, with C, C#, Java, and Javascript added together taking up a huge chunk of the &#39;market&#39; so to speak).\r\n\r\nIt:\r\n\r\n* Required that the thing you switch is on an `int` and only an `int`\r\n* That each case is a specific and constant number (no `case 10-100`, and definitely no `case &lt;5` or `case x:`).\r\n* It&#39;s a statement (The switch itself doesn&#39;t have a value, it&#39;s a way to conditionally jump to a statement).\r\n* Unlike the C version, treating the switch&#39;s nature as a weird GOTO-esque construct and thus allowing you to interleave a control structure such as a `do/while` loop through it is not actually allowed (fortunately, I guess)? - So, [Duff&#39;s Device](https://en.wikipedia.org/wiki/Duff&#39;s_device) is not and has never been legal in java.\r\n\r\nRecent updates:\r\n\r\n## Together with enums: Enums in switches\r\n\r\nJava1.5 brought enums, and as enums are intended to replace int constants, they needed to be usable in switches. Given that enum values have an &#39;ordinal&#39; which is an int, the implementation is trivial: `switch (someEnum) { case ENUMVAL: }` is light sugar around `switch(someEnum.ordinal()) { case 1: }`, where 1 is the ordinal value of ENUMVAL.\r\n\r\n## Only semi-recent: Strings\r\n\r\nIn JDK7, strings-in-switch support was added. The same principles apply: Only constants, null is not okay - and it&#39;s &#39;fast&#39;, in that its implemented as a jump table (contrast to a sequence of if/elseif statements, which requires a comparison for each one. A jump table just jumps, using a single comparison, straight to the right line or to the end if none match.\r\n\r\n## Now the new stuff (12+): As an expression\r\n\r\nThese days switch can be an expression. As in, the switch returns a thing. However, in order to make that work, each and every &#39;path&#39; throughout your switch must return something, and it cannot possibly be the case (heh) that there is a missing `case` statement; after all, what should the expression resolve to then? Thus, in this &#39;mode&#39;, you must have exhausted all options. Interesting subcase of this is enums, where you can be &#39;exhaustive&#39;, and yet at runtime this can never be guaranteed; what if someone adds a value to an enum and recompiles JUST the enum and drops that in there? Now an erstwhile exhaustive (covers every option) switch no longer is:\r\n\r\n```\r\nint y = switch(textyNumber) {\r\n  case &quot;one&quot;: yield 1;\r\n  case &quot;two&quot;: yield 2;\r\n  default: yield 0;\r\n};\r\n```\r\n\r\n`yield` is a new approach here. It&#39;s a lot like &#39;return&#39; - it &#39;returns&#39; from the switch, returning that value. It is a compiler error if that default clause is missing.\r\n\r\nThe weirdness with enums means that if you&#39;re exhaustive (cover every enum value), it compiles, but if you then add an enum value, do not recompile the code with the switch, and attempt to toss a newly created enum value through, the switch throws a `java.lang.IncompatibleClassChangeError`. The more you know.\r\n\r\n## arrow syntax\r\n\r\nBecause &#39;yield&#39; is a tad unwieldy and it can be useful to just one-liner the desired expression, similar to how you can write e.g.:\r\n\r\n```\r\nComparator&lt;String&gt; byLength = (a, b) -&gt; a.length() - b.length();\r\n```\r\n\r\nthat same arrow syntax is now legal in switches, and for consistency, it&#39;s even legal in statement-form switches:\r\n\r\n```\r\nint x = 1;\r\nint y = switch(x) {\r\n   case 1 -&gt; 2;\r\n   default -&gt; 0;\r\n};\r\n\r\nswitch (y) {\r\n  case 0 -&gt; System.out.println(&quot;Interesting&quot;);\r\n}\r\n```\r\n\r\nThe arrow prevents fallthrough (it implies `break`), and takes only one statement. But a whole block also counts as one statement:\r\n\r\n```\r\nswitch (y) {\r\n  case 0 -&gt; {\r\n    System.out.println(&quot;one&quot;);\r\n    System.out.println(&quot;two&quot;);\r\n  }\r\n  case 1 -&gt; {\r\n    System.out.println(&quot;three&quot;);\r\n  }\r\n}\r\n```\r\n\r\nwould print just &#39;one&#39;, &#39;two&#39;.\r\n\r\n## multi-case\r\n\r\nCommas can be used to separate values; this is similar to how you can use bars to separate exception types (`catch (IOException | SQLException e) { ... }`. Applies to all forms.\r\n\r\n## pattern matching\r\n\r\nNow we get to the real intriguing stuff:\r\n\r\n```\r\nrecord Point(int x, int y) {}\r\n\r\n...\r\n\r\nObject p = new Point(10, 20);\r\n\r\nswitch (p) {\r\ncase Point(x, y) -&gt; System.out.printf(&quot;Point [%d, %d]&quot;, x, y);\r\n}\r\n```\r\n\r\nwill soon be legal java! Now the thing that follows the &#39;case&#39; is a &#39;template&#39;. Can you smash whatever `p` resolves to into this template? If yes, the case matches, and the variables are filled in for you. This works with &#39;deconstructable&#39; types (currently: only records; in future any type can provide a deconstructor), as well as an instanceof kinda deal:\r\n\r\n```\r\nObject o = someExpression;\r\n\r\nswitch (o) {\r\n  case Number n -&gt; System.out.println(&quot;is a number. intvalue: &quot; + n.intValue());\r\n  case String s -&gt; System.out.println(&quot;is a string: &quot; + s.toLowerCase());\r\n}\r\n```\r\n\r\nI think that covers all the updates that are available for switch up to java v 17 and a bit beyond it, even.\r\n\r\nNB: You find this info in extreme detail and as early as you want it by following the appropriate openjdk dev mailing lists. This stuff would be found mostly on amber-dev, with some of the pattern matching stuff found on valhalla-dev due to being closely associated with records, and records overlaps with value types (valhalla = value types for java, amber = general language updates). At java conferences somebody will usually give a breakdown of where this stands, reddit&#39;s `/r/java` tends to post it when someone from the OpenJDK team (for this stuff, you&#39;re looking at Brian Goetz generally) posts a major update on how the feature is envisioned / has been implemented. Follow Brian on twitter, that helps too. The release notes, and the umbrella JEP page associated with any new java release should also mention this stuff with links you can then follow.\r\n","title":"Can you connect two cases of a switch statement using a comma","body":"<p>Recent versions of java (12 and up) have been putting in a ton of work on <code>switch</code>. There are now quite a few forms. Some of these forms have an underlying principle that strongly suggests some new syntactical feature is important, and for consistency's sake, if that feature can also be allowed for the other forms, the other forms are updated too.</p>\n<h2>History</h2>\n<p>The original java 1.0 switch is a straight copy from C (which explains their utterly bizarre and silly syntax; it's what C had, and java was designed to be comfortable to C coders. We can whinge about the fact that this means the syntax is daft, but it's hard to deny that the C style syntax, no matter how crazy it seems, has taken over the planet, with C, C#, Java, and Javascript added together taking up a huge chunk of the 'market' so to speak).</p>\n<p>It:</p>\n<ul>\n<li>Required that the thing you switch is on an <code>int</code> and only an <code>int</code></li>\n<li>That each case is a specific and constant number (no <code>case 10-100</code>, and definitely no <code>case &lt;5</code> or <code>case x:</code>).</li>\n<li>It's a statement (The switch itself doesn't have a value, it's a way to conditionally jump to a statement).</li>\n<li>Unlike the C version, treating the switch's nature as a weird GOTO-esque construct and thus allowing you to interleave a control structure such as a <code>do/while</code> loop through it is not actually allowed (fortunately, I guess)? - So, <a href=\"https://en.wikipedia.org/wiki/Duff%27s_device\" rel=\"noreferrer\">Duff's Device</a> is not and has never been legal in java.</li>\n</ul>\n<p>Recent updates:</p>\n<h2>Together with enums: Enums in switches</h2>\n<p>Java1.5 brought enums, and as enums are intended to replace int constants, they needed to be usable in switches. Given that enum values have an 'ordinal' which is an int, the implementation is trivial: <code>switch (someEnum) { case ENUMVAL: }</code> is light sugar around <code>switch(someEnum.ordinal()) { case 1: }</code>, where 1 is the ordinal value of ENUMVAL.</p>\n<h2>Only semi-recent: Strings</h2>\n<p>In JDK7, strings-in-switch support was added. The same principles apply: Only constants, null is not okay - and it's 'fast', in that its implemented as a jump table (contrast to a sequence of if/elseif statements, which requires a comparison for each one. A jump table just jumps, using a single comparison, straight to the right line or to the end if none match.</p>\n<h2>Now the new stuff (12+): As an expression</h2>\n<p>These days switch can be an expression. As in, the switch returns a thing. However, in order to make that work, each and every 'path' throughout your switch must return something, and it cannot possibly be the case (heh) that there is a missing <code>case</code> statement; after all, what should the expression resolve to then? Thus, in this 'mode', you must have exhausted all options. Interesting subcase of this is enums, where you can be 'exhaustive', and yet at runtime this can never be guaranteed; what if someone adds a value to an enum and recompiles JUST the enum and drops that in there? Now an erstwhile exhaustive (covers every option) switch no longer is:</p>\n<pre><code>int y = switch(textyNumber) {\n  case &quot;one&quot;: yield 1;\n  case &quot;two&quot;: yield 2;\n  default: yield 0;\n};\n</code></pre>\n<p><code>yield</code> is a new approach here. It's a lot like 'return' - it 'returns' from the switch, returning that value. It is a compiler error if that default clause is missing.</p>\n<p>The weirdness with enums means that if you're exhaustive (cover every enum value), it compiles, but if you then add an enum value, do not recompile the code with the switch, and attempt to toss a newly created enum value through, the switch throws a <code>java.lang.IncompatibleClassChangeError</code>. The more you know.</p>\n<h2>arrow syntax</h2>\n<p>Because 'yield' is a tad unwieldy and it can be useful to just one-liner the desired expression, similar to how you can write e.g.:</p>\n<pre><code>Comparator&lt;String&gt; byLength = (a, b) -&gt; a.length() - b.length();\n</code></pre>\n<p>that same arrow syntax is now legal in switches, and for consistency, it's even legal in statement-form switches:</p>\n<pre><code>int x = 1;\nint y = switch(x) {\n   case 1 -&gt; 2;\n   default -&gt; 0;\n};\n\nswitch (y) {\n  case 0 -&gt; System.out.println(&quot;Interesting&quot;);\n}\n</code></pre>\n<p>The arrow prevents fallthrough (it implies <code>break</code>), and takes only one statement. But a whole block also counts as one statement:</p>\n<pre><code>switch (y) {\n  case 0 -&gt; {\n    System.out.println(&quot;one&quot;);\n    System.out.println(&quot;two&quot;);\n  }\n  case 1 -&gt; {\n    System.out.println(&quot;three&quot;);\n  }\n}\n</code></pre>\n<p>would print just 'one', 'two'.</p>\n<h2>multi-case</h2>\n<p>Commas can be used to separate values; this is similar to how you can use bars to separate exception types (<code>catch (IOException | SQLException e) { ... }</code>. Applies to all forms.</p>\n<h2>pattern matching</h2>\n<p>Now we get to the real intriguing stuff:</p>\n<pre><code>record Point(int x, int y) {}\n\n...\n\nObject p = new Point(10, 20);\n\nswitch (p) {\ncase Point(x, y) -&gt; System.out.printf(&quot;Point [%d, %d]&quot;, x, y);\n}\n</code></pre>\n<p>will soon be legal java! Now the thing that follows the 'case' is a 'template'. Can you smash whatever <code>p</code> resolves to into this template? If yes, the case matches, and the variables are filled in for you. This works with 'deconstructable' types (currently: only records; in future any type can provide a deconstructor), as well as an instanceof kinda deal:</p>\n<pre><code>Object o = someExpression;\n\nswitch (o) {\n  case Number n -&gt; System.out.println(&quot;is a number. intvalue: &quot; + n.intValue());\n  case String s -&gt; System.out.println(&quot;is a string: &quot; + s.toLowerCase());\n}\n</code></pre>\n<p>I think that covers all the updates that are available for switch up to java v 17 and a bit beyond it, even.</p>\n<p>NB: You find this info in extreme detail and as early as you want it by following the appropriate openjdk dev mailing lists. This stuff would be found mostly on amber-dev, with some of the pattern matching stuff found on valhalla-dev due to being closely associated with records, and records overlaps with value types (valhalla = value types for java, amber = general language updates). At java conferences somebody will usually give a breakdown of where this stands, reddit's <code>/r/java</code> tends to post it when someone from the OpenJDK team (for this stuff, you're looking at Brian Goetz generally) posts a major update on how the feature is envisioned / has been implemented. Follow Brian on twitter, that helps too. The release notes, and the umbrella JEP page associated with any new java release should also mention this stuff with links you can then follow.</p>\n"}],"owner":{"account_id":20667910,"reputation":592,"user_id":15174310,"display_name":"ShadowCrafter_01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3938,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635540581,"accepted_answer_id":69774486,"answer_count":3,"score":0,"last_activity_date":1635540144,"creation_date":1635538220,"question_id":69774286,"body_markdown":"I&#39;ve been working with switch statements in my latest project and wanted to have two possible values execute the same code. So I looked up methods on how do that. Quite the only answer I found looks like this:\r\n\r\n```\r\nswitch (element) {\r\n   case hi:\r\n   case hello:\r\n      //do something here\r\n      break;\r\n}\r\n```\r\nBut I experimented a bit more and found that my IDE doesn&#39;t complain when I did:\r\n```\r\nswitch (element) {\r\n   case hi, hello:\r\n      //do something here\r\n      break;\r\n}\r\n```\r\nSo I tried it out and found that it works. So I was wondering if there is something wrong with using this method as I found nothing on it online. I would just love to be able to use it as it looks so much cleaner.","title":"Can you connect two cases of a switch statement using a comma","body":"<p>I've been working with switch statements in my latest project and wanted to have two possible values execute the same code. So I looked up methods on how do that. Quite the only answer I found looks like this:</p>\n<pre><code>switch (element) {\n   case hi:\n   case hello:\n      //do something here\n      break;\n}\n</code></pre>\n<p>But I experimented a bit more and found that my IDE doesn't complain when I did:</p>\n<pre><code>switch (element) {\n   case hi, hello:\n      //do something here\n      break;\n}\n</code></pre>\n<p>So I tried it out and found that it works. So I was wondering if there is something wrong with using this method as I found nothing on it online. I would just love to be able to use it as it looks so much cleaner.</p>\n"},{"tags":["java","json","wordpress","debugging"],"owner":{"account_id":23186024,"reputation":11,"user_id":17283104,"display_name":"Johnny586"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635539761,"creation_date":1635539761,"question_id":69774524,"body_markdown":"I am experiencing a problem with Wordpress.\r\n\r\nEverything seems to work fine, but with the usage of some (3rd-party)-Blocks in the Gutenberg-editor, something is causing an issue, I assume with Java.\r\n\r\nIf the content in Wordpress is saved, an error occurs:\r\n\r\n*Updating failed. The response is not a valid JSON response.*\r\n\r\nThere is not more to the error. Debug enabeling in wp-config does not log any errors. If I am right, this is correct, because this debug-function in WP would only log php related issues.\r\n\r\nOn the Internet there are all kinds of random solutions to fix this error (change permalinks as an example). Does not do anything for me. More random solutions are deactivating all plugins. Still, the issue persists. Update Wordpress and php. Done. Error persists.\r\n\r\nAll the above seems to be &quot;searching in the dark&quot;. So I would like to know, how to find out, what the acutal issue is. Surely, there must be some kind of debugging?\r\n\r\nI found something somewhere on the net in regards to get the last JSON-error from the server:\r\n```&lt;?php\r\n\r\n    if (!function_exists(&#39;json_last_error_msg&#39;)) {\r\n\r\n        function json_last_error_msg() {\r\n\r\n            static $ERRORS = array(\r\n\r\n                JSON_ERROR_NONE =&gt; &#39;No error&#39;,\r\n\r\n                JSON_ERROR_DEPTH =&gt; &#39;Maximum stack depth exceeded&#39;,\r\n\r\n                JSON_ERROR_STATE_MISMATCH =&gt; &#39;State mismatch (invalid or malformed JSON)&#39;,\r\n\r\n                JSON_ERROR_CTRL_CHAR =&gt; &#39;Control character error, possibly incorrectly encoded&#39;,\r\n\r\n                JSON_ERROR_SYNTAX =&gt; &#39;Syntax error&#39;,\r\n\r\n                JSON_ERROR_UTF8 =&gt; &#39;Malformed UTF-8 characters, possibly incorrectly encoded&#39;\r\n\r\n            );\r\n\r\n\r\n\r\n            $error = json_last_error();\r\n\r\n            return isset($ERRORS[$error]) ? $ERRORS[$error] : &#39;Unknown error&#39;;\r\n\r\n        }\r\n\r\n    }\r\n\r\n?&gt;\r\n```\r\nIf I understood this right, the above code should go in a .php-file, which I call trough the browser. Did it, tried it. Browser window remains just blank. So either this is not working for me, or there is just no error stored?\r\n\r\nWho can point me in the right direction?\r\n\r\nI also did create two test pages in WP, and tried to save both. One without the error causing element, and one with. Both attempts have been logged, using the Borwser&#39;s Developer-Tools on the &quot;network&quot; tab. If anybody thinks, this would be of help to evaluate the issue, let me know and I will upload them.","title":"How to debug a JSON error (occuring in Wordpress Backend)?","body":"<p>I am experiencing a problem with Wordpress.</p>\n<p>Everything seems to work fine, but with the usage of some (3rd-party)-Blocks in the Gutenberg-editor, something is causing an issue, I assume with Java.</p>\n<p>If the content in Wordpress is saved, an error occurs:</p>\n<p><em>Updating failed. The response is not a valid JSON response.</em></p>\n<p>There is not more to the error. Debug enabeling in wp-config does not log any errors. If I am right, this is correct, because this debug-function in WP would only log php related issues.</p>\n<p>On the Internet there are all kinds of random solutions to fix this error (change permalinks as an example). Does not do anything for me. More random solutions are deactivating all plugins. Still, the issue persists. Update Wordpress and php. Done. Error persists.</p>\n<p>All the above seems to be &quot;searching in the dark&quot;. So I would like to know, how to find out, what the acutal issue is. Surely, there must be some kind of debugging?</p>\n<p>I found something somewhere on the net in regards to get the last JSON-error from the server:</p>\n<pre><code>\n    if (!function_exists('json_last_error_msg')) {\n\n        function json_last_error_msg() {\n\n            static $ERRORS = array(\n\n                JSON_ERROR_NONE =&gt; 'No error',\n\n                JSON_ERROR_DEPTH =&gt; 'Maximum stack depth exceeded',\n\n                JSON_ERROR_STATE_MISMATCH =&gt; 'State mismatch (invalid or malformed JSON)',\n\n                JSON_ERROR_CTRL_CHAR =&gt; 'Control character error, possibly incorrectly encoded',\n\n                JSON_ERROR_SYNTAX =&gt; 'Syntax error',\n\n                JSON_ERROR_UTF8 =&gt; 'Malformed UTF-8 characters, possibly incorrectly encoded'\n\n            );\n\n\n\n            $error = json_last_error();\n\n            return isset($ERRORS[$error]) ? $ERRORS[$error] : 'Unknown error';\n\n        }\n\n    }\n\n?&gt;\n</code></pre>\n<p>If I understood this right, the above code should go in a .php-file, which I call trough the browser. Did it, tried it. Browser window remains just blank. So either this is not working for me, or there is just no error stored?</p>\n<p>Who can point me in the right direction?</p>\n<p>I also did create two test pages in WP, and tried to save both. One without the error causing element, and one with. Both attempts have been logged, using the Borwser's Developer-Tools on the &quot;network&quot; tab. If anybody thinks, this would be of help to evaluate the issue, let me know and I will upload them.</p>\n"},{"tags":["java","swing","swingworker"],"comments":[{"owner":{"account_id":20677520,"reputation":81,"user_id":15181791,"display_name":"tniessen"},"score":1,"creation_date":1635487410,"post_id":69764229,"comment_id":123316403,"body_markdown":"A SwingWorker is used for time-consuming background tasks, but you use it for an update of your text area. Do your file processing in the doInBackground method.","body":"A SwingWorker is used for time-consuming background tasks, but you use it for an update of your text area. Do your file processing in the doInBackground method."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1635488181,"post_id":69764229,"comment_id":123316582,"body_markdown":"Consider posting a [mcve]. Also, no need to call `frame.repaint()` in method `process` of your `SwingWorker`.","body":"Consider posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also, no need to call <code>frame.repaint()</code> in method <code>process</code> of your <code>SwingWorker</code>."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1635488602,"post_id":69764229,"comment_id":123316703,"body_markdown":"Sounds like something is blocking the main thread, but it&#39;s impossible to know what without more context.  Consider providing a [mcve] which demonstrates your issue","body":"Sounds like something is blocking the main thread, but it&#39;s impossible to know what without more context.  Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your issue"},{"owner":{"account_id":20306689,"reputation":1,"user_id":14894746,"display_name":"Cman"},"score":0,"creation_date":1635557832,"post_id":69764229,"comment_id":123338183,"body_markdown":"https://github.com/swimfanbruh/Auto-Pack-Porter\nHere is an older version of the project from like 20 days ago. This can give you an idea of what is happening.","body":"<a href=\"https://github.com/swimfanbruh/Auto-Pack-Porter\" rel=\"nofollow noreferrer\">github.com/swimfanbruh/Auto-Pack-Porter</a> Here is an older version of the project from like 20 days ago. This can give you an idea of what is happening."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1635564757,"post_id":69764229,"comment_id":123338874,"body_markdown":"*&quot;This can give you an idea of what is happening.&quot;* Don&#39;t link to external sources that might disappear. Also don&#39;t waste your time (&amp; more importantly the time of people offering free help) with *anything but* a [mre] as suggested by @Abra and MadProgrammer. Minus one as I suspect you did not read the linked document.","body":"<i>&quot;This can give you an idea of what is happening.&quot;</i> Don&#39;t link to external sources that might disappear. Also don&#39;t waste your time (&amp; more importantly the time of people offering free help) with <i>anything but</i> a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as suggested by @Abra and MadProgrammer. Minus one as I suspect you did not read the linked document."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635539756,"creation_date":1635489043,"answer_id":69764556,"question_id":69764229,"body_markdown":"It sounds like something else is blocking the main thread, but it&#39;s impossible to know what without more context.  \r\n\r\nIt&#39;s important that what ever long running work you are doing is done within the `doBackground` method, so as to prevent the event dispatching thread from been blocked (and unable to process new events, including paint request).\r\n\r\nThe following example simply reads a text file, line by line, and with a random delay, publishes the line, so it can be added to the `JTextArea`\r\n\r\n[![Scrolly][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.SwingWorker;\r\n\r\n    public class Test {\r\n\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private JTextArea textArea;\r\n\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n                textArea = new JTextArea(40, 40);\r\n                add(new JScrollPane(textArea));\r\n\r\n                SwingWorker&lt;Void, String&gt; worker = new SwingWorker&lt;Void, String&gt;() {\r\n                    @Override\r\n                    protected Void doInBackground() throws Exception {\r\n                        try (BufferedReader br = new BufferedReader(new InputStreamReader(TestPane.this.getClass().getResourceAsStream(&quot;Script.txt&quot;)))) {\r\n                            String text = null;\r\n                            Random rnd = new Random();\r\n                            while ((text = br.readLine()) != null) {\r\n                                publish(text);\r\n                                Thread.sleep(rnd.nextInt(500));\r\n                            }\r\n                        } catch (IOException exp) {\r\n                            exp.printStackTrace();\r\n                            publish(&quot;Failed to load script file: &quot; + exp.getMessage());\r\n                        }\r\n                        return null;\r\n                    }\r\n\r\n                    @Override\r\n                    protected void process(List&lt;String&gt; chunks) {\r\n                        for (String text : chunks) {\r\n                            textArea.append(text);\r\n                            textArea.append(&quot;\\n&quot;);\r\n                        }\r\n                    }\r\n                };\r\n\r\n                getInputMap(WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0), &quot;start&quot;);\r\n                getActionMap().put(&quot;start&quot;, new AbstractAction() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        worker.execute();\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z6pSf.gif\r\n\r\nYou should also be sure to read through [Worker Threads and SwingWorker](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)","title":"Swing Worker append text area not executing until after all other threads finished","body":"<p>It sounds like something else is blocking the main thread, but it's impossible to know what without more context.</p>\n<p>It's important that what ever long running work you are doing is done within the <code>doBackground</code> method, so as to prevent the event dispatching thread from been blocked (and unable to process new events, including paint request).</p>\n<p>The following example simply reads a text file, line by line, and with a random delay, publishes the line, so it can be added to the <code>JTextArea</code></p>\n<p><a href=\"https://i.stack.imgur.com/z6pSf.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z6pSf.gif\" alt=\"Scrolly\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.List;\nimport java.util.Random;\nimport javax.swing.AbstractAction;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.KeyStroke;\nimport javax.swing.SwingWorker;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private JTextArea textArea;\n\n        public TestPane() {\n            setLayout(new BorderLayout());\n            textArea = new JTextArea(40, 40);\n            add(new JScrollPane(textArea));\n\n            SwingWorker&lt;Void, String&gt; worker = new SwingWorker&lt;Void, String&gt;() {\n                @Override\n                protected Void doInBackground() throws Exception {\n                    try (BufferedReader br = new BufferedReader(new InputStreamReader(TestPane.this.getClass().getResourceAsStream(&quot;Script.txt&quot;)))) {\n                        String text = null;\n                        Random rnd = new Random();\n                        while ((text = br.readLine()) != null) {\n                            publish(text);\n                            Thread.sleep(rnd.nextInt(500));\n                        }\n                    } catch (IOException exp) {\n                        exp.printStackTrace();\n                        publish(&quot;Failed to load script file: &quot; + exp.getMessage());\n                    }\n                    return null;\n                }\n\n                @Override\n                protected void process(List&lt;String&gt; chunks) {\n                    for (String text : chunks) {\n                        textArea.append(text);\n                        textArea.append(&quot;\\n&quot;);\n                    }\n                }\n            };\n\n            getInputMap(WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0), &quot;start&quot;);\n            getActionMap().put(&quot;start&quot;, new AbstractAction() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    worker.execute();\n                }\n            });\n        }\n\n    }\n}\n</code></pre>\n<p>You should also be sure to read through <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">Worker Threads and SwingWorker</a></p>\n"}],"owner":{"account_id":20306689,"reputation":1,"user_id":14894746,"display_name":"Cman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1635539756,"creation_date":1635486894,"question_id":69764229,"body_markdown":"I want a swing text area to be updated during my program running. My program does a lot of complex file processing.\r\n\r\n\r\nIn my program I have a text area that I can update using writeText(&quot;text&quot;) for example (method shown below). In the writeText() method I do this with a simple textArea.append() with a swing worker but it doesn&#39;t update the text until after all the processing happens in my main class. How do I make this work properly by actually updating the text area in real time like how System.out.println() can send text to the console at any time. \r\n\r\n```\r\n    public static void writeText(String text) {\r\n    \t\tSystem.out.println(&quot;SWING WORKER&quot;);\r\n    \t\tworker = new SwingWorker&lt;Void, String&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tprotected Void doInBackground() throws Exception {\r\n    \t\t\t\tpublish(&quot; &quot; + text + &quot;\\n&quot;);\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tprotected void process(List&lt;String&gt; chunks) {\r\n    \t\t\t\ttextArea.append(chunks.get(chunks.size() - 1));\r\n    \t\t\t\tframe.repaint();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tprotected void done() {\r\n    \t\t\t\t//textArea.append(&quot; test done\\n&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t};\r\n    \t\tworker.execute();\r\n    \t}  \r\n```\r\n\r\nI have tried threading and now using swing worker but both attempts only updated the text after the main complex method ran (copying and renaming and subimaging out files that kinda stuff, basically I just want the text area to be updated with an append() so the user knows whats happening while the program runs)\r\n    ","title":"Swing Worker append text area not executing until after all other threads finished","body":"<p>I want a swing text area to be updated during my program running. My program does a lot of complex file processing.</p>\n<p>In my program I have a text area that I can update using writeText(&quot;text&quot;) for example (method shown below). In the writeText() method I do this with a simple textArea.append() with a swing worker but it doesn't update the text until after all the processing happens in my main class. How do I make this work properly by actually updating the text area in real time like how System.out.println() can send text to the console at any time.</p>\n<pre><code>    public static void writeText(String text) {\n            System.out.println(&quot;SWING WORKER&quot;);\n            worker = new SwingWorker&lt;Void, String&gt;() {\n                @Override\n                protected Void doInBackground() throws Exception {\n                    publish(&quot; &quot; + text + &quot;\\n&quot;);\n                    return null;\n                }\n                \n                @Override\n                protected void process(List&lt;String&gt; chunks) {\n                    textArea.append(chunks.get(chunks.size() - 1));\n                    frame.repaint();\n                }\n                \n                @Override\n                protected void done() {\n                    //textArea.append(&quot; test done\\n&quot;);\n                }\n                \n            };\n            worker.execute();\n        }  \n</code></pre>\n<p>I have tried threading and now using swing worker but both attempts only updated the text after the main complex method ran (copying and renaming and subimaging out files that kinda stuff, basically I just want the text area to be updated with an append() so the user knows whats happening while the program runs)</p>\n"},{"tags":["java","concurrency","guava"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1506703104,"post_id":46492580,"comment_id":79941103,"body_markdown":"Sounds like you&#39;re looking for [`CompletableFuture`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html).","body":"Sounds like you&#39;re looking for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\"><code>CompletableFuture</code></a>."},{"owner":{"account_id":14008,"reputation":3782,"user_id":28465,"display_name":"Chris Povirk"},"score":5,"creation_date":1506709175,"post_id":46492580,"comment_id":79944079,"body_markdown":"We prefer the `ListenableFuture` API (with [`FluentFuture`](http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/util/concurrent/FluentFuture.html) or the [`Futures`](http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/util/concurrent/Futures.html) static utilities) over `CompletableFuture` because we think we&#39;ve found a simpler but more powerful API, but mostly you&#39;ll just want to pick one and stick with it. I&#39;ll try to expand our docs there -- thanks for pointing out the hole.","body":"We prefer the <code>ListenableFuture</code> API (with <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/util/concurrent/FluentFuture.html\" rel=\"nofollow noreferrer\"><code>FluentFuture</code></a> or the <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/util/concurrent/Futures.html\" rel=\"nofollow noreferrer\"><code>Futures</code></a> static utilities) over <code>CompletableFuture</code> because we think we&#39;ve found a simpler but more powerful API, but mostly you&#39;ll just want to pick one and stick with it. I&#39;ll try to expand our docs there -- thanks for pointing out the hole."},{"owner":{"account_id":8181519,"reputation":1267,"user_id":6158542,"accept_rate":67,"display_name":"JonyD"},"score":0,"creation_date":1507117840,"post_id":46492580,"comment_id":80081572,"body_markdown":"Thanks for your answers. I&#39;ll stick to `ListenableFuture`. I&#39;ve been the last days reading about the standard `CompletableFuture`. I leave here some links that explain it for others who might be interested: [New Concurrency Utilities in Java 8](https://www.youtube.com/watch?v=Q_0_1mKTlnY), [CompletableFuture explained- in german](http://www.angelikalanger.com/Articles/EffectiveJava/79.Java8.CompletableFuture/79.Java8.CompletableFuture.html), [Java9 CompletableFuture improvements](http://www.baeldung.com/java-9-completablefuture).","body":"Thanks for your answers. I&#39;ll stick to <code>ListenableFuture</code>. I&#39;ve been the last days reading about the standard <code>CompletableFuture</code>. I leave here some links that explain it for others who might be interested: <a href=\"https://www.youtube.com/watch?v=Q_0_1mKTlnY\" rel=\"nofollow noreferrer\">New Concurrency Utilities in Java 8</a>, <a href=\"http://www.angelikalanger.com/Articles/EffectiveJava/79.Java8.CompletableFuture/79.Java8.CompletableFuture.html\" rel=\"nofollow noreferrer\">CompletableFuture explained- in german</a>, <a href=\"http://www.baeldung.com/java-9-completablefuture\" rel=\"nofollow noreferrer\">Java9 CompletableFuture improvements</a>."},{"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"score":1,"creation_date":1509670110,"post_id":46492580,"comment_id":81123300,"body_markdown":"Personally I see no reason to continue using ListenableFuture after java8, other than the fact that the cassandra driver uses ListenableFuture. It is simple though to write a static function that converts ListenableFuture to CompletableFuture. The latest version of the driver uses java8 futures, but it is still alpha https://www.datastax.com/dev/blog/introducing-java-driver-4","body":"Personally I see no reason to continue using ListenableFuture after java8, other than the fact that the cassandra driver uses ListenableFuture. It is simple though to write a static function that converts ListenableFuture to CompletableFuture. The latest version of the driver uses java8 futures, but it is still alpha <a href=\"https://www.datastax.com/dev/blog/introducing-java-driver-4\" rel=\"nofollow noreferrer\">datastax.com/dev/blog/introducing-java-driver-4</a>"}],"answers":[{"tags":[],"owner":{"account_id":22208150,"reputation":1,"user_id":16447784,"display_name":"simple"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635539599,"creation_date":1635538641,"answer_id":69774358,"question_id":46492580,"body_markdown":"Agree with https://stackoverflow.com/users/3371051/pedro, CompletableFuture is Java Built-in, while ListenableFuture is counting on Guava. It&#39;s easy convert ListenableFuture to CompletableFuture.\r\n\r\n 1. Create CompletableFuture, complete() or completeExceptionally() in ListenableFuture listenable call back.\r\n 2. use thenCompose to chain CompletableFuture with ListenableFuture\r\n 3. use allOf to replace Futures.allAsList\r\n\r\nLike the following tested change I did for com.datastax driver core 3.11.0\r\n\r\n&lt;pre&gt;\r\nCompletableFuture&lt;Void&gt; initAsync() {\r\n\r\n    CompletableFuture&lt;Void&gt; ret = new CompletableFuture&lt;&gt;();\r\n    if (factory.isShutdown) {\r\n      ret.completeExceptionally(\r\n          new ConnectionException(endPoint, &quot;Connection factory is shut down&quot;));\r\n      return ret;\r\n    }\r\n\r\n    ProtocolVersion protocolVersion =\r\n        factory.protocolVersion == null\r\n            ? ProtocolVersion.NEWEST_SUPPORTED\r\n            : factory.protocolVersion;\r\n\r\n    try {\r\n      Bootstrap bootstrap = factory.newBootstrap();\r\n      ProtocolOptions protocolOptions = factory.configuration.getProtocolOptions();\r\n      bootstrap.handler(\r\n          new Initializer(\r\n              this,\r\n              protocolVersion,\r\n              protocolOptions.getCompression().compressor(),\r\n              protocolOptions.getSSLOptions(),\r\n              factory.configuration.getPoolingOptions().getHeartbeatIntervalSeconds(),\r\n              factory.configuration.getNettyOptions(),\r\n              factory.configuration.getCodecRegistry(),\r\n              factory.configuration.getMetricsOptions().isEnabled()\r\n                  ? factory.manager.metrics\r\n                  : null));\r\n\r\n      ChannelFuture future = bootstrap.connect(endPoint.resolve());\r\n\r\n      writer.incrementAndGet();\r\n      future.addListener(\r\n          new ChannelFutureListener() {\r\n            @Override\r\n            public void operationComplete(ChannelFuture future) throws Exception {\r\n              writer.decrementAndGet();\r\n              // Note: future.channel() can be null in some error cases, so we need to guard against\r\n              // it in the rest of the code below.\r\n              channel = future.channel();\r\n              if (isClosed() &amp;&amp; channel != null) {\r\n                channel\r\n                    .close()\r\n                    .addListener(\r\n                        new ChannelFutureListener() {\r\n                          @Override\r\n                          public void operationComplete(ChannelFuture future) throws Exception {\r\n\r\n                            ret.completeExceptionally(\r\n                                new TransportException(\r\n                                    Connection.this.endPoint,\r\n                                    &quot;Connection closed during initialization.&quot;));\r\n                          }\r\n                        });\r\n              } else {\r\n                if (channel != null) {\r\n                  Connection.this.factory.allChannels.add(channel);\r\n                }\r\n                if (!future.isSuccess()) {\r\n                  if (logger.isDebugEnabled())\r\n                    logger.debug(\r\n                        String.format(\r\n                            &quot;%s Error connecting to %s%s&quot;,\r\n                            Connection.this,\r\n                            Connection.this.endPoint,\r\n                            extractMessage(future.cause())));\r\n                  ret.completeExceptionally(\r\n                      new TransportException(\r\n                          Connection.this.endPoint, &quot;Cannot connect&quot;, future.cause()));\r\n                } else {\r\n                  assert channel != null;\r\n                  logger.debug(\r\n                      &quot;{} Connection established, initializing transport&quot;, Connection.this);\r\n                  channel.closeFuture().addListener(new ChannelCloseListener());\r\n                  ret.complete(null);\r\n                }\r\n              }\r\n            }\r\n          });\r\n    } catch (RuntimeException e) {\r\n      closeAsync().force();\r\n      throw e;\r\n    }\r\n\r\n    Executor initExecutor =\r\n        factory.manager.configuration.getPoolingOptions().getInitializationExecutor();\r\n\r\n    return ret.thenCompose(\r\n            Void -&gt; {\r\n              CompletableFuture&lt;Void&gt; ret2 = new CompletableFuture();\r\n              ProtocolOptions protocolOptions = factory.configuration.getProtocolOptions();\r\n              Future startupResponseFuture =\r\n                  write(\r\n                      new Requests.Startup(\r\n                          protocolOptions.getCompression(), protocolOptions.isNoCompact()));\r\n\r\n              ListenableFuture&lt;Void&gt; channelReadyFuture =\r\n                  GuavaCompatibility.INSTANCE.transformAsync(\r\n                      startupResponseFuture,\r\n                      onStartupResponse(protocolVersion, initExecutor),\r\n                      initExecutor);\r\n\r\n              GuavaCompatibility.INSTANCE.addCallback(\r\n                      channelReadyFuture,\r\n                      new FutureCallback&lt;Void&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Void result) {\r\n                          ret2.complete(null);\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFailure(Throwable t) {\r\n\r\n                          // Make sure the connection gets properly closed.\r\n                          if (t instanceof ClusterNameMismatchException\r\n                                  || t instanceof UnsupportedProtocolVersionException) {\r\n                            // Just propagate\r\n                            closeAsync().force();\r\n                            ret2.completeExceptionally(t);\r\n                          } else {\r\n                            // Defunct to ensure that the error will be signaled (marking the host down)\r\n                            Throwable e =\r\n                                    (t instanceof ConnectionException\r\n                                            || t instanceof DriverException\r\n                                            || t instanceof InterruptedException\r\n                                            || t instanceof Error)\r\n                                            ? t\r\n                                            : new ConnectionException(\r\n                                            Connection.this.endPoint,\r\n                                            String.format(\r\n                                                    &quot;Unexpected error during transport initialization (%s)&quot;, t),\r\n                                            t);\r\n                            ret2.completeExceptionally(defunct(e));\r\n                          }\r\n                          // Ensure the connection gets closed if the caller cancels the returned future.\r\n                          if (!isClosed()) {\r\n                            closeAsync().force();\r\n                          }\r\n\r\n\r\n                        }\r\n                      });\r\n              return ret2;\r\n            });\r\n  }\r\n\r\nprivate CompletableFuture&lt;Void&gt; createPools(Collection&lt;Host&gt; hosts) {\r\n    List&lt;CompletableFuture&lt;Boolean&gt;&gt; futures = Lists.newArrayListWithCapacity(hosts.size());\r\n    for (Host host : hosts)\r\n      if (host.state != Host.State.DOWN) futures.add(maybeAddPool(host, null));\r\n    return CompletableFuture.allOf(futures.toArray(new CompletableFuture[futures.size()]));\r\n  }\r\n&lt;/pre&gt;","title":"Is Guava&#39;s ListenableFuture still useful/ up to date (after Java 8)?","body":"<p>Agree with <a href=\"https://stackoverflow.com/users/3371051/pedro\">https://stackoverflow.com/users/3371051/pedro</a>, CompletableFuture is Java Built-in, while ListenableFuture is counting on Guava. It's easy convert ListenableFuture to CompletableFuture.</p>\n<ol>\n<li>Create CompletableFuture, complete() or completeExceptionally() in ListenableFuture listenable call back.</li>\n<li>use thenCompose to chain CompletableFuture with ListenableFuture</li>\n<li>use allOf to replace Futures.allAsList</li>\n</ol>\n<p>Like the following tested change I did for com.datastax driver core 3.11.0</p>\n<pre>\nCompletableFuture initAsync() {\n\n    CompletableFuture ret = new CompletableFuture();\n    if (factory.isShutdown) {\n      ret.completeExceptionally(\n          new ConnectionException(endPoint, \"Connection factory is shut down\"));\n      return ret;\n    }\n\n    ProtocolVersion protocolVersion =\n        factory.protocolVersion == null\n            ? ProtocolVersion.NEWEST_SUPPORTED\n            : factory.protocolVersion;\n\n    try {\n      Bootstrap bootstrap = factory.newBootstrap();\n      ProtocolOptions protocolOptions = factory.configuration.getProtocolOptions();\n      bootstrap.handler(\n          new Initializer(\n              this,\n              protocolVersion,\n              protocolOptions.getCompression().compressor(),\n              protocolOptions.getSSLOptions(),\n              factory.configuration.getPoolingOptions().getHeartbeatIntervalSeconds(),\n              factory.configuration.getNettyOptions(),\n              factory.configuration.getCodecRegistry(),\n              factory.configuration.getMetricsOptions().isEnabled()\n                  ? factory.manager.metrics\n                  : null));\n\n      ChannelFuture future = bootstrap.connect(endPoint.resolve());\n\n      writer.incrementAndGet();\n      future.addListener(\n          new ChannelFutureListener() {\n            @Override\n            public void operationComplete(ChannelFuture future) throws Exception {\n              writer.decrementAndGet();\n              // Note: future.channel() can be null in some error cases, so we need to guard against\n              // it in the rest of the code below.\n              channel = future.channel();\n              if (isClosed() && channel != null) {\n                channel\n                    .close()\n                    .addListener(\n                        new ChannelFutureListener() {\n                          @Override\n                          public void operationComplete(ChannelFuture future) throws Exception {\n\n                            ret.completeExceptionally(\n                                new TransportException(\n                                    Connection.this.endPoint,\n                                    \"Connection closed during initialization.\"));\n                          }\n                        });\n              } else {\n                if (channel != null) {\n                  Connection.this.factory.allChannels.add(channel);\n                }\n                if (!future.isSuccess()) {\n                  if (logger.isDebugEnabled())\n                    logger.debug(\n                        String.format(\n                            \"%s Error connecting to %s%s\",\n                            Connection.this,\n                            Connection.this.endPoint,\n                            extractMessage(future.cause())));\n                  ret.completeExceptionally(\n                      new TransportException(\n                          Connection.this.endPoint, \"Cannot connect\", future.cause()));\n                } else {\n                  assert channel != null;\n                  logger.debug(\n                      \"{} Connection established, initializing transport\", Connection.this);\n                  channel.closeFuture().addListener(new ChannelCloseListener());\n                  ret.complete(null);\n                }\n              }\n            }\n          });\n    } catch (RuntimeException e) {\n      closeAsync().force();\n      throw e;\n    }\n\n    Executor initExecutor =\n        factory.manager.configuration.getPoolingOptions().getInitializationExecutor();\n\n    return ret.thenCompose(\n            Void -> {\n              CompletableFuture ret2 = new CompletableFuture();\n              ProtocolOptions protocolOptions = factory.configuration.getProtocolOptions();\n              Future startupResponseFuture =\n                  write(\n                      new Requests.Startup(\n                          protocolOptions.getCompression(), protocolOptions.isNoCompact()));\n\n              ListenableFuture channelReadyFuture =\n                  GuavaCompatibility.INSTANCE.transformAsync(\n                      startupResponseFuture,\n                      onStartupResponse(protocolVersion, initExecutor),\n                      initExecutor);\n\n              GuavaCompatibility.INSTANCE.addCallback(\n                      channelReadyFuture,\n                      new FutureCallback() {\n                        @Override\n                        public void onSuccess(Void result) {\n                          ret2.complete(null);\n                        }\n\n                        @Override\n                        public void onFailure(Throwable t) {\n\n                          // Make sure the connection gets properly closed.\n                          if (t instanceof ClusterNameMismatchException\n                                  || t instanceof UnsupportedProtocolVersionException) {\n                            // Just propagate\n                            closeAsync().force();\n                            ret2.completeExceptionally(t);\n                          } else {\n                            // Defunct to ensure that the error will be signaled (marking the host down)\n                            Throwable e =\n                                    (t instanceof ConnectionException\n                                            || t instanceof DriverException\n                                            || t instanceof InterruptedException\n                                            || t instanceof Error)\n                                            ? t\n                                            : new ConnectionException(\n                                            Connection.this.endPoint,\n                                            String.format(\n                                                    \"Unexpected error during transport initialization (%s)\", t),\n                                            t);\n                            ret2.completeExceptionally(defunct(e));\n                          }\n                          // Ensure the connection gets closed if the caller cancels the returned future.\n                          if (!isClosed()) {\n                            closeAsync().force();\n                          }\n\n\n                        }\n                      });\n              return ret2;\n            });\n  }\n\nprivate CompletableFuture createPools(Collection hosts) {\n    List> futures = Lists.newArrayListWithCapacity(hosts.size());\n    for (Host host : hosts)\n      if (host.state != Host.State.DOWN) futures.add(maybeAddPool(host, null));\n    return CompletableFuture.allOf(futures.toArray(new CompletableFuture[futures.size()]));\n  }\n</pre>\n"}],"owner":{"account_id":8181519,"reputation":1267,"user_id":6158542,"accept_rate":67,"display_name":"JonyD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2875,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1635539599,"creation_date":1506700199,"question_id":46492580,"body_markdown":"Since Java 8 some features from Guava are already obsolete (for example String joiner, optional values, preconditions check, Futures etc).\r\n\r\nIn [ListenableFuture documentation][1] (currently with no update since 1 year ago) they say:\r\n&gt;&quot;We strongly advise that you always use ListenableFuture instead of Future in all of your code, because...&quot;\r\n\r\nI&#39;m using guava (and cassandra) in a *old* project  and my question is: does Java 8 standard libraries already have something that makes `ListenableFuture` obsolete or is it still the best `Future` alternative?\r\nThanks.\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/ListenableFutureExplained","title":"Is Guava&#39;s ListenableFuture still useful/ up to date (after Java 8)?","body":"<p>Since Java 8 some features from Guava are already obsolete (for example String joiner, optional values, preconditions check, Futures etc).</p>\n\n<p>In <a href=\"https://github.com/google/guava/wiki/ListenableFutureExplained\" rel=\"noreferrer\">ListenableFuture documentation</a> (currently with no update since 1 year ago) they say:</p>\n\n<blockquote>\n  <p>\"We strongly advise that you always use ListenableFuture instead of Future in all of your code, because...\"</p>\n</blockquote>\n\n<p>I'm using guava (and cassandra) in a <em>old</em> project  and my question is: does Java 8 standard libraries already have something that makes <code>ListenableFuture</code> obsolete or is it still the best <code>Future</code> alternative?\nThanks.</p>\n"},{"tags":["java","jar","manifest","mainclass"],"comments":[{"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"score":0,"creation_date":1383458602,"post_id":19750279,"comment_id":29348752,"body_markdown":"Please mention which IDE you are using.","body":"Please mention which IDE you are using."},{"owner":{"account_id":1174195,"reputation":7926,"user_id":1150606,"accept_rate":20,"display_name":"farmer1992"},"score":0,"creation_date":1383458722,"post_id":19750279,"comment_id":29348760,"body_markdown":"you can use java -cp jst.jar YourMainClass to run","body":"you can use java -cp jst.jar YourMainClass to run"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1383458932,"post_id":19750279,"comment_id":29348784,"body_markdown":"If there is no main class defined in the jar, they are probably not meant to be executed.","body":"If there is no main class defined in the jar, they are probably not meant to be executed."}],"answers":[{"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383458725,"creation_date":1383458725,"answer_id":19750290,"question_id":19750279,"body_markdown":"On command line you can use following command to generate jar having existing manifest.\r\n\r\n    jar cvfm MyJarName.jar manifest.txt *.class\r\n\r\nRefer this [page][1] for more details.\r\n\r\n\r\nAlternatively, if you are using eclipse. Please follow steps mentioned [here][2] to  export jar.\r\n\r\n\r\n  [1]: http://www.skylit.com/javamethods/faqs/createjar.html\r\n  [2]: http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/tasks-37.htm","title":".jar file do not contain Main-Class attribute in manifest.mf","body":"<p>On command line you can use following command to generate jar having existing manifest.</p>\n\n<pre><code>jar cvfm MyJarName.jar manifest.txt *.class\n</code></pre>\n\n<p>Refer this <a href=\"http://www.skylit.com/javamethods/faqs/createjar.html\" rel=\"nofollow\">page</a> for more details.</p>\n\n<p>Alternatively, if you are using eclipse. Please follow steps mentioned <a href=\"http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/tasks-37.htm\" rel=\"nofollow\">here</a> to  export jar.</p>\n"},{"tags":[],"owner":{"account_id":2151704,"reputation":354,"user_id":1907916,"accept_rate":100,"display_name":"Bhushan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1383459361,"creation_date":1383459361,"answer_id":19750359,"question_id":19750279,"body_markdown":"    1. You can open the jar file with winzip or winrar. \r\n    2. Open manifest file in notepad. \r\n    3. Add main-class: ClassNameContianingMainMethod. \r\n    4. Save the file and then run it ","title":".jar file do not contain Main-Class attribute in manifest.mf","body":"<pre><code>1. You can open the jar file with winzip or winrar. \n2. Open manifest file in notepad. \n3. Add main-class: ClassNameContianingMainMethod. \n4. Save the file and then run it \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23185947,"reputation":1,"user_id":17283039,"display_name":"ooocp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635537903,"creation_date":1635537903,"answer_id":69774229,"question_id":19750279,"body_markdown":"if you have your Main-Class attribute on the last line of your manifest.txt, it vanishes if you do not have a new line at the end. Very annoying, but always make sure you have a new line at the end of your manifest file.","title":".jar file do not contain Main-Class attribute in manifest.mf","body":"<p>if you have your Main-Class attribute on the last line of your manifest.txt, it vanishes if you do not have a new line at the end. Very annoying, but always make sure you have a new line at the end of your manifest file.</p>\n"}],"owner":{"account_id":2912104,"reputation":31,"user_id":2496080,"display_name":"user2496080"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2938,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1635537903,"creation_date":1383458551,"question_id":19750279,"body_markdown":"I am trying to run jar file through\r\n\r\n    java -jar jts.jar\r\n\r\nbut it is unable to run because it&#39;s Manifest.mf do not contain &#39;Main-Class&#39; attribute, which is necessary for a jar file to run.\r\n\r\nI am have same problem with 9-10 .jar files.\r\nHelp me with how to find those mainclass in jar files, there is no any directly defined mainclass in jar file.\r\nHow should I find the correct mainclass and how should I add it to manifest.mf","title":".jar file do not contain Main-Class attribute in manifest.mf","body":"<p>I am trying to run jar file through</p>\n\n<pre><code>java -jar jts.jar\n</code></pre>\n\n<p>but it is unable to run because it's Manifest.mf do not contain 'Main-Class' attribute, which is necessary for a jar file to run.</p>\n\n<p>I am have same problem with 9-10 .jar files.\nHelp me with how to find those mainclass in jar files, there is no any directly defined mainclass in jar file.\nHow should I find the correct mainclass and how should I add it to manifest.mf</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":238759,"reputation":11691,"user_id":507864,"accept_rate":100,"display_name":"ManuPK"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1334668076,"creation_date":1334668076,"answer_id":10191888,"question_id":10191534,"body_markdown":"Go ahead with **annotations** any day. The XML configurations where really over used and saving the metadata inside the class is a good viable option.\r\n\r\n**Annotations will help you map the relationships better and it will align you to the JPA standard as hibernate uses mostly JPA annotations**. There are no real problems using annotations and there is not much trade-off either. It has superior advantages over the XML based configurations. There might be few hacks missing when you use annotations but they will come along.\r\n\r\nIt is even possible to use annotations for new classes in a legacy project that has XML based mapping as told [here][1]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8313395/507864","title":"Hibernate : mapping files or annotations?","body":"<p>Go ahead with <strong>annotations</strong> any day. The XML configurations where really over used and saving the metadata inside the class is a good viable option.</p>\n\n<p><strong>Annotations will help you map the relationships better and it will align you to the JPA standard as hibernate uses mostly JPA annotations</strong>. There are no real problems using annotations and there is not much trade-off either. It has superior advantages over the XML based configurations. There might be few hacks missing when you use annotations but they will come along.</p>\n\n<p>It is even possible to use annotations for new classes in a legacy project that has XML based mapping as told <a href=\"https://stackoverflow.com/a/8313395/507864\">here</a>. </p>\n"},{"tags":[],"owner":{"account_id":350230,"reputation":6382,"user_id":685962,"display_name":"d1e"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1334668180,"creation_date":1334668180,"answer_id":10191921,"question_id":10191534,"body_markdown":"What advantages I see in **using @Annotations**:\r\n\r\n - compiler-safe\r\n - based on @Entity you can easily distinguish entity from no-entity\r\n - with packagesToScan Spring&#39;s feature entites are easily scannable\r\n - moving entites from packages to packages or class renaming is easy\r\n\r\nWhat advantages I see in **using XML**:\r\n\r\n - it does not litters java classes with unnecessary vendor-specific\r\n   annotations (imagine java model class with JPA, JAXB, SOLRJ\r\n   annotations)\r\n - configuration in one place\r\n - easier to maintain as a whole\r\n\r\n \r\nWe use annotations, but keep XML as an option.","title":"Hibernate : mapping files or annotations?","body":"<p>What advantages I see in <strong>using @Annotations</strong>:</p>\n\n<ul>\n<li>compiler-safe</li>\n<li>based on @Entity you can easily distinguish entity from no-entity</li>\n<li>with packagesToScan Spring's feature entites are easily scannable</li>\n<li>moving entites from packages to packages or class renaming is easy</li>\n</ul>\n\n<p>What advantages I see in <strong>using XML</strong>:</p>\n\n<ul>\n<li>it does not litters java classes with unnecessary vendor-specific\nannotations (imagine java model class with JPA, JAXB, SOLRJ\nannotations)</li>\n<li>configuration in one place</li>\n<li>easier to maintain as a whole</li>\n</ul>\n\n<p>We use annotations, but keep XML as an option.</p>\n"},{"tags":[],"owner":{"account_id":9578099,"reputation":81,"user_id":7113472,"display_name":"Zubair A."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635537151,"creation_date":1635537151,"answer_id":69774117,"question_id":10191534,"body_markdown":"The mapping in xml are not as illustrious as with annotation bases. So using annotations is more elegant at least for mapping. ","title":"Hibernate : mapping files or annotations?","body":"<p>The mapping in xml are not as illustrious as with annotation bases. So using annotations is more elegant at least for mapping.</p>\n"}],"owner":{"account_id":392479,"reputation":1926,"user_id":753769,"accept_rate":94,"display_name":"kyiu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5697,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":10191921,"answer_count":3,"score":8,"last_activity_date":1635537151,"creation_date":1334666832,"question_id":10191534,"body_markdown":"As I started working with Hibernate a few days ago, I was just wondering : suppose you&#39;re starting a project from scratch. Would you use annotation-based mapping or Hibernate mapping files, to generate the database schema. \r\n\r\nIt is my understanding that Hibernate mapping files offer some features that you won&#39;t find (at least, not the exact equivalent) with annotations. But still, I have the feeling that nowadays, projects using Hibernate would rather go for annotation-based than Hibernate mapping files. \r\n\r\nHas anybody ever chosen mapping files over annotations, and if so, for what reasons?","title":"Hibernate : mapping files or annotations?","body":"<p>As I started working with Hibernate a few days ago, I was just wondering : suppose you're starting a project from scratch. Would you use annotation-based mapping or Hibernate mapping files, to generate the database schema. </p>\n\n<p>It is my understanding that Hibernate mapping files offer some features that you won't find (at least, not the exact equivalent) with annotations. But still, I have the feeling that nowadays, projects using Hibernate would rather go for annotation-based than Hibernate mapping files. </p>\n\n<p>Has anybody ever chosen mapping files over annotations, and if so, for what reasons?</p>\n"},{"tags":["java","spring","spring-boot","hystrix","spring-cloud-feign"],"comments":[{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":0,"creation_date":1635508500,"post_id":69768282,"comment_id":123323563,"body_markdown":"You are using he wrong annotation on your feign interface. You should use feign \\@RequestLine or Jax-rs \\@GET \\@PATH","body":"You are using he wrong annotation on your feign interface. You should use feign \\@RequestLine or Jax-rs \\@GET \\@PATH"}],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635508637,"creation_date":1635508637,"answer_id":69768461,"question_id":69768282,"body_markdown":"GET requests usually don&#39;t hava a body, so you have to pass params e.g. as query params.\r\n\r\nTry using request param annotation:\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;Page&lt;CarDto&gt;&gt; getCars(@RequestParam(&quot;car-filter&quot;) CarFilter carFilter, @RequestParam(&quot;page&quot;) Pageable page)\r\n      ","title":"How do I solve the Unexpected exception during bean creation; nested exception is java.lang.IllegalStateException: Method has too many Body parameters","body":"<p>GET requests usually don't hava a body, so you have to pass params e.g. as query params.</p>\n<p>Try using request param annotation:</p>\n<pre><code>@GetMapping\npublic ResponseEntity&lt;Page&lt;CarDto&gt;&gt; getCars(@RequestParam(&quot;car-filter&quot;) CarFilter carFilter, @RequestParam(&quot;page&quot;) Pageable page)\n  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11901466,"reputation":121,"user_id":8709340,"display_name":"Adarsh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635536664,"creation_date":1635536664,"answer_id":69774034,"question_id":69768282,"body_markdown":"GET requests don&#39;t have a body, try using other mapping methods like the post. nad try to receive objects in a more specific way with some annotation like @RequestParam, or @RequestBody.\r\n\r\n    @PostMapping(&quot;&quot;)\r\n    public ResponseEntity&lt;&gt; getCars(@RequestBody CarFilter car, ....){}","title":"How do I solve the Unexpected exception during bean creation; nested exception is java.lang.IllegalStateException: Method has too many Body parameters","body":"<p>GET requests don't have a body, try using other mapping methods like the post. nad try to receive objects in a more specific way with some annotation like @RequestParam, or @RequestBody.</p>\n<pre><code>@PostMapping(&quot;&quot;)\npublic ResponseEntity&lt;&gt; getCars(@RequestBody CarFilter car, ....){}\n</code></pre>\n"}],"owner":{"account_id":23181772,"reputation":3,"user_id":17279501,"display_name":"Денис Дергачев"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635536664,"creation_date":1635507722,"question_id":69768282,"body_markdown":"I&#39;m trying to write a service that will bind to another service through the eureka server and I want to use FeignClient + Hystrix, I can&#39;t implement the GET controller, I get this Exception:\r\n```\r\n java.base@11/jdk.internal.misc.Unsafe.park(Native Method)\r\n java.base@11/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\r\n java.base@11/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)\r\n java.base@11/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n java.base@11/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n java.base@11/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\r\n java.base@11/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\r\n java.base@11/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n java.base@11/java.lang.Thread.run(Thread.java:834)\r\n2021-10-29 14:15:14.413  INFO 5036 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2021-10-29 14:15:14.429 ERROR 5036 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;parserFileController&#39;: Unsatisfied dependency expressed through field &#39;parserServiceFeignClient&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;by.iba.hystrix.service.ParserServiceFeignClient&#39;: Unexpected exception during bean creation; nested exception is java.lang.IllegalStateException: Method has too many Body parameters: public abstract org.springframework.http.ResponseEntity by.iba.hystrix.service.ParserServiceFeignClient.getCars(by.iba.hystrix.filter.CarFilter,org.springframework.data.domain.Pageable)\r\nWarnings:\r\n- \r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1425) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:755) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:402) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1247) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1236) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\r\n\tat by.iba.hystrix.HystrixApplication.main(HystrixApplication.java:18) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;by.iba.hystrix.service.ParserServiceFeignClient&#39;: Unexpected exception during bean creation; nested exception is java.lang.IllegalStateException: Method has too many Body parameters: public abstract org.springframework.http.ResponseEntity by.iba.hystrix.service.ParserServiceFeignClient.getCars(by.iba.hystrix.filter.CarFilter,org.springframework.data.domain.Pageable)\r\nWarnings:\r\n- \r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\t... 21 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Method has too many Body parameters: public abstract org.springframework.http.ResponseEntity by.iba.hystrix.service.ParserServiceFeignClient.getCars(by.iba.hystrix.filter.CarFilter,org.springframework.data.domain.Pageable)\r\nWarnings:\r\n- \r\n\tat feign.Util.checkState(Util.java:129) ~[feign-core-10.12.jar:na]\r\n\tat feign.Contract$BaseContract.parseAndValidateMetadata(Contract.java:127) ~[feign-core-10.12.jar:na]\r\n\tat org.springframework.cloud.openfeign.support.SpringMvcContract.parseAndValidateMetadata(SpringMvcContract.java:207) ~[spring-cloud-openfeign-core-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat feign.Contract$BaseContract.parseAndValidateMetadata(Contract.java:62) ~[feign-core-10.12.jar:na]\r\n\tat feign.hystrix.HystrixDelegatingContract.parseAndValidateMetadata(HystrixDelegatingContract.java:47) ~[feign-hystrix-10.12.jar:na]\r\n\tat feign.ReflectiveFeign$ParseHandlersByName.apply(ReflectiveFeign.java:151) ~[feign-core-10.12.jar:na]\r\n\tat feign.ReflectiveFeign.newInstance(ReflectiveFeign.java:49) ~[feign-core-10.12.jar:na]\r\n\tat feign.hystrix.HystrixFeign$Builder.target(HystrixFeign.java:63) ~[feign-hystrix-10.12.jar:na]\r\n\tat org.springframework.cloud.openfeign.HystrixTargeter.targetWithFallback(HystrixTargeter.java:74) ~[spring-cloud-openfeign-core-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.cloud.openfeign.HystrixTargeter.target(HystrixTargeter.java:49) ~[spring-cloud-openfeign-core-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.cloud.openfeign.FeignClientFactoryBean.getTarget(FeignClientFactoryBean.java:416) ~[spring-cloud-openfeign-core-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.cloud.openfeign.FeignClientFactoryBean.getObject(FeignClientFactoryBean.java:361) ~[spring-cloud-openfeign-core-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.cloud.openfeign.FeignClientsRegistrar.lambda$registerFeignClient$0(FeignClientsRegistrar.java:246) ~[spring-cloud-openfeign-core-2.2.9.RELEASE.jar:2.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1235) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\r\n\t... 29 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\nThis is what my controller looks like in the main service:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/cars&quot;)\r\npublic class CarController {\r\n\r\n    private final CarService carService;\r\n\r\n    @Autowired\r\n    public CarController(CarService carService) {\r\n        this.carService = carService;\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;Page&lt;CarDto&gt;&gt; getCars(CarFilter carFilter, Pageable page) {\r\n        Page&lt;CarDto&gt; cars = carService.getCars(page, carFilter);\r\n        return new ResponseEntity&lt;&gt;(cars, HttpStatus.OK);\r\n    }\r\n```\r\n\r\nThis is what my controller looks like in the service where I am trying to implement FeignClient:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/cars&quot;)\r\npublic class ParserFileController {\r\n\r\n    @Autowired\r\n    private ParserServiceFeignClient parserServiceFeignClient;\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;Page&lt;CarDto&gt;&gt; getCars(CarFilter carFilter, Pageable page) {\r\n\r\n        return parserServiceFeignClient.getCars(carFilter, page);\r\n    }\r\n```\r\n\r\nThis is the interface where I made FeignClient\r\n```\r\n@FeignClient(\r\n        name = &quot;PARSER-FILE-SERVICE&quot;,\r\n        url = &quot;http://localhost:8080/cars&quot;,\r\n        fallback = ParserServiceFallback.class\r\n)\r\npublic interface ParserServiceFeignClient {\r\n\r\n    @GetMapping()\r\n    ResponseEntity&lt;Page&lt;CarDto&gt;&gt; getCars(CarFilter carFilter, Pageable page);\r\n\r\n```\r\nAnd this is the Fallback class FeignClient:\r\n```\r\n\r\n@Component\r\npublic class ParserServiceFallback implements ParserServiceFeignClient {\r\n\r\n    \r\n    @Override\r\n    public ResponseEntity&lt;Page&lt;CarDto&gt;&gt; getCars(CarFilter carFilter, Pageable page) {\r\n        System.out.println(&quot;In fallback method&quot;);\r\n        return new ResponseEntity&lt;&gt;(new RestPageImpl&lt;&gt;(), HttpStatus.OK);\r\n    }\r\n\r\n```\r\nCarFilter:\r\n```\r\npublic class CarFilter {\r\n\r\n    private String mark;\r\n\r\n    private Integer year;\r\n\r\n    private String color;\r\n\r\n    private String country;\r\n\r\n    public CarFilter() {\r\n    }\r\n\r\n// getters and setters\r\n```\r\nPlease help, I have been tormented by this task for a long time. I tried to do it via POST, but this is not suitable for obtaining a resource with RESTapi","title":"How do I solve the Unexpected exception during bean creation; nested exception is java.lang.IllegalStateException: Method has too many Body parameters","body":"<p>I'm trying to write a service that will bind to another service through the eureka server and I want to use FeignClient + Hystrix, I can't implement the GET controller, I get this Exception:</p>\n<pre><code> java.base@11/jdk.internal.misc.Unsafe.park(Native Method)\n java.base@11/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:234)\n java.base@11/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2123)\n java.base@11/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n java.base@11/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n java.base@11/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)\n java.base@11/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)\n java.base@11/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n java.base@11/java.lang.Thread.run(Thread.java:834)\n2021-10-29 14:15:14.413  INFO 5036 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2021-10-29 14:15:14.429 ERROR 5036 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'parserFileController': Unsatisfied dependency expressed through field 'parserServiceFeignClient'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'by.iba.hystrix.service.ParserServiceFeignClient': Unexpected exception during bean creation; nested exception is java.lang.IllegalStateException: Method has too many Body parameters: public abstract org.springframework.http.ResponseEntity by.iba.hystrix.service.ParserServiceFeignClient.getCars(by.iba.hystrix.filter.CarFilter,org.springframework.data.domain.Pageable)\nWarnings:\n- \n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1425) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:755) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:402) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1247) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1236) ~[spring-boot-2.3.12.RELEASE.jar:2.3.12.RELEASE]\n    at by.iba.hystrix.HystrixApplication.main(HystrixApplication.java:18) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'by.iba.hystrix.service.ParserServiceFeignClient': Unexpected exception during bean creation; nested exception is java.lang.IllegalStateException: Method has too many Body parameters: public abstract org.springframework.http.ResponseEntity by.iba.hystrix.service.ParserServiceFeignClient.getCars(by.iba.hystrix.filter.CarFilter,org.springframework.data.domain.Pageable)\nWarnings:\n- \n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    ... 21 common frames omitted\nCaused by: java.lang.IllegalStateException: Method has too many Body parameters: public abstract org.springframework.http.ResponseEntity by.iba.hystrix.service.ParserServiceFeignClient.getCars(by.iba.hystrix.filter.CarFilter,org.springframework.data.domain.Pageable)\nWarnings:\n- \n    at feign.Util.checkState(Util.java:129) ~[feign-core-10.12.jar:na]\n    at feign.Contract$BaseContract.parseAndValidateMetadata(Contract.java:127) ~[feign-core-10.12.jar:na]\n    at org.springframework.cloud.openfeign.support.SpringMvcContract.parseAndValidateMetadata(SpringMvcContract.java:207) ~[spring-cloud-openfeign-core-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at feign.Contract$BaseContract.parseAndValidateMetadata(Contract.java:62) ~[feign-core-10.12.jar:na]\n    at feign.hystrix.HystrixDelegatingContract.parseAndValidateMetadata(HystrixDelegatingContract.java:47) ~[feign-hystrix-10.12.jar:na]\n    at feign.ReflectiveFeign$ParseHandlersByName.apply(ReflectiveFeign.java:151) ~[feign-core-10.12.jar:na]\n    at feign.ReflectiveFeign.newInstance(ReflectiveFeign.java:49) ~[feign-core-10.12.jar:na]\n    at feign.hystrix.HystrixFeign$Builder.target(HystrixFeign.java:63) ~[feign-hystrix-10.12.jar:na]\n    at org.springframework.cloud.openfeign.HystrixTargeter.targetWithFallback(HystrixTargeter.java:74) ~[spring-cloud-openfeign-core-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.cloud.openfeign.HystrixTargeter.target(HystrixTargeter.java:49) ~[spring-cloud-openfeign-core-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.cloud.openfeign.FeignClientFactoryBean.getTarget(FeignClientFactoryBean.java:416) ~[spring-cloud-openfeign-core-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.cloud.openfeign.FeignClientFactoryBean.getObject(FeignClientFactoryBean.java:361) ~[spring-cloud-openfeign-core-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.cloud.openfeign.FeignClientsRegistrar.lambda$registerFeignClient$0(FeignClientsRegistrar.java:246) ~[spring-cloud-openfeign-core-2.2.9.RELEASE.jar:2.2.9.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1235) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.15.RELEASE.jar:5.2.15.RELEASE]\n    ... 29 common frames omitted\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>This is what my controller looks like in the main service:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/cars&quot;)\npublic class CarController {\n\n    private final CarService carService;\n\n    @Autowired\n    public CarController(CarService carService) {\n        this.carService = carService;\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;Page&lt;CarDto&gt;&gt; getCars(CarFilter carFilter, Pageable page) {\n        Page&lt;CarDto&gt; cars = carService.getCars(page, carFilter);\n        return new ResponseEntity&lt;&gt;(cars, HttpStatus.OK);\n    }\n</code></pre>\n<p>This is what my controller looks like in the service where I am trying to implement FeignClient:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/cars&quot;)\npublic class ParserFileController {\n\n    @Autowired\n    private ParserServiceFeignClient parserServiceFeignClient;\n\n    @GetMapping\n    public ResponseEntity&lt;Page&lt;CarDto&gt;&gt; getCars(CarFilter carFilter, Pageable page) {\n\n        return parserServiceFeignClient.getCars(carFilter, page);\n    }\n</code></pre>\n<p>This is the interface where I made FeignClient</p>\n<pre><code>@FeignClient(\n        name = &quot;PARSER-FILE-SERVICE&quot;,\n        url = &quot;http://localhost:8080/cars&quot;,\n        fallback = ParserServiceFallback.class\n)\npublic interface ParserServiceFeignClient {\n\n    @GetMapping()\n    ResponseEntity&lt;Page&lt;CarDto&gt;&gt; getCars(CarFilter carFilter, Pageable page);\n\n</code></pre>\n<p>And this is the Fallback class FeignClient:</p>\n<pre><code>\n@Component\npublic class ParserServiceFallback implements ParserServiceFeignClient {\n\n    \n    @Override\n    public ResponseEntity&lt;Page&lt;CarDto&gt;&gt; getCars(CarFilter carFilter, Pageable page) {\n        System.out.println(&quot;In fallback method&quot;);\n        return new ResponseEntity&lt;&gt;(new RestPageImpl&lt;&gt;(), HttpStatus.OK);\n    }\n\n</code></pre>\n<p>CarFilter:</p>\n<pre><code>public class CarFilter {\n\n    private String mark;\n\n    private Integer year;\n\n    private String color;\n\n    private String country;\n\n    public CarFilter() {\n    }\n\n// getters and setters\n</code></pre>\n<p>Please help, I have been tormented by this task for a long time. I tried to do it via POST, but this is not suitable for obtaining a resource with RESTapi</p>\n"},{"tags":["java","url","character-encoding","urlencode"],"comments":[{"owner":{"account_id":1167427,"reputation":24341,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":0,"creation_date":1635536552,"post_id":69755688,"comment_id":123334025,"body_markdown":"I voted to close this question because there is no example code. Please [edit] your post to include a [minimal, complete, readable, and reproducible example](/help/minimal-reproducible-example).  At the very least, what are some examples of URLs that need to be encoded and some examples of URLs that give the exception when encoded.","body":"I voted to close this question because there is no example code. Please <a href=\"https://stackoverflow.com/posts/69755688/edit\">edit</a> your post to include a <a href=\"/help/minimal-reproducible-example\">minimal, complete, readable, and reproducible example</a>.  At the very least, what are some examples of URLs that need to be encoded and some examples of URLs that give the exception when encoded."}],"answers":[{"tags":[],"owner":{"account_id":22566866,"reputation":799,"user_id":16753754,"display_name":"Anton Cavanaugh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635536595,"creation_date":1635433539,"answer_id":69756554,"question_id":69755688,"body_markdown":"```java\r\nString encodedURL = UriUtils.encodePath(request.getUrl(), &quot;UTF-8&quot;); \r\n```\r\n\r\nWorks no extra functionality needed.","title":"Getting a MalformedURLException on an encoded URL","body":"<pre class=\"lang-java prettyprint-override\"><code>String encodedURL = UriUtils.encodePath(request.getUrl(), &quot;UTF-8&quot;); \n</code></pre>\n<p>Works no extra functionality needed.</p>\n"}],"owner":{"account_id":22566866,"reputation":799,"user_id":16753754,"display_name":"Anton Cavanaugh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635536595,"creation_date":1635430337,"question_id":69755688,"body_markdown":"I have functionality which will take in URLs and process them. These URLs can contain characters such as `[` or spaces.  The way to deal with this is to encode the URL.\r\n\r\nBut this comes to the second problem, such as dealing with forward slashes. Apache URL does not allow `%2F` the encoded value for `/`.\r\n\r\nI have a workaround string replace `%2F` with `/` after the encoding. But this feels a tad hacky.\r\nI have looked at the different types of encoders, including URL encoders, but I cant find anything that will allow me to encode a whole URL string, that wont throw a `MalformedURLException`.","title":"Getting a MalformedURLException on an encoded URL","body":"<p>I have functionality which will take in URLs and process them. These URLs can contain characters such as <code>[</code> or spaces.  The way to deal with this is to encode the URL.</p>\n<p>But this comes to the second problem, such as dealing with forward slashes. Apache URL does not allow <code>%2F</code> the encoded value for <code>/</code>.</p>\n<p>I have a workaround string replace <code>%2F</code> with <code>/</code> after the encoding. But this feels a tad hacky.\nI have looked at the different types of encoders, including URL encoders, but I cant find anything that will allow me to encode a whole URL string, that wont throw a <code>MalformedURLException</code>.</p>\n"},{"tags":["java","types","double","decimal","long-integer"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1635536464,"creation_date":1635536464,"answer_id":69774009,"question_id":69773940,"body_markdown":"As the [documentation][1] for `doubleToLongBits` says:\r\n\r\n&gt; In all cases, the result is a long integer that, when given to the `longBitsToDouble(long)` method, will produce a floating-point value the same as the argument to `doubleToLongBits` (except all NaN values are collapsed to a single &quot;canonical&quot; NaN value).\r\n\r\n    double n = 171.30672219;\r\n    System.out.println(Double.doubleToLongBits(n));\r\n    System.out.println(Double.longBitsToDouble(Double.doubleToLongBits(n)));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#doubleToLongBits-double-","title":"Get a double from a long created from Double.toLongBits","body":"<p>As the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html#doubleToLongBits-double-\" rel=\"noreferrer\">documentation</a> for <code>doubleToLongBits</code> says:</p>\n<blockquote>\n<p>In all cases, the result is a long integer that, when given to the <code>longBitsToDouble(long)</code> method, will produce a floating-point value the same as the argument to <code>doubleToLongBits</code> (except all NaN values are collapsed to a single &quot;canonical&quot; NaN value).</p>\n</blockquote>\n<pre><code>double n = 171.30672219;\nSystem.out.println(Double.doubleToLongBits(n));\nSystem.out.println(Double.longBitsToDouble(Double.doubleToLongBits(n)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635536580,"creation_date":1635536580,"answer_id":69774029,"question_id":69773940,"body_markdown":"You can do it like this.\r\n\r\n```\r\nDouble n = 171.30672219;\r\nlong bits = Double.doubleToLongBits(n);\r\ndouble d = Double.longBitsToDouble(bits);\r\nSystem.out.println(d);\r\n```\r\nprints\r\n```\r\n171.30672219\r\n```\r\nWelcome to the world of [IEEE 754](https://en.wikipedia.org/wiki/IEEE_754).\r\n","title":"Get a double from a long created from Double.toLongBits","body":"<p>You can do it like this.</p>\n<pre><code>Double n = 171.30672219;\nlong bits = Double.doubleToLongBits(n);\ndouble d = Double.longBitsToDouble(bits);\nSystem.out.println(d);\n</code></pre>\n<p>prints</p>\n<pre><code>171.30672219\n</code></pre>\n<p>Welcome to the world of <a href=\"https://en.wikipedia.org/wiki/IEEE_754\" rel=\"nofollow noreferrer\">IEEE 754</a>.</p>\n"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1635536580,"creation_date":1635535914,"question_id":69773940,"body_markdown":"Is there a way to reverse a `long` I got from `Double.toLongBits` back to a `Double`?  \r\nThe following does not work:  \r\n\r\n \r\n\r\n    Double n = 171.30672219;\r\n    System.out.println(Double.doubleToLongBits(n));\r\n    System.out.println(new Double(Double.doubleToLongBits(n)));  \r\n\r\nthis prints:  \r\n\r\n&gt; 4640231336019091517  \r\n&gt; 4.6402313360190915E18  \r\n\r\nWhile I wanted to get back the `171.30672219`","title":"Get a double from a long created from Double.toLongBits","body":"<p>Is there a way to reverse a <code>long</code> I got from <code>Double.toLongBits</code> back to a <code>Double</code>?<br />\nThe following does not work:</p>\n<pre><code>Double n = 171.30672219;\nSystem.out.println(Double.doubleToLongBits(n));\nSystem.out.println(new Double(Double.doubleToLongBits(n)));  \n</code></pre>\n<p>this prints:</p>\n<blockquote>\n<p>4640231336019091517<br />\n4.6402313360190915E18</p>\n</blockquote>\n<p>While I wanted to get back the <code>171.30672219</code></p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":265707,"reputation":521,"user_id":552855,"accept_rate":45,"display_name":"Abdullah Gheith"},"score":0,"creation_date":1635505944,"post_id":69767893,"comment_id":123322692,"body_markdown":"Worth to mention i&#39;ve tried with: private Class&lt;? extends DBObject&gt; shirt; without much success (&#39;One To One&#39; attribute type should not be &#39;Class&#39;)","body":"Worth to mention i&#39;ve tried with: private Class&lt;? extends DBObject&gt; shirt; without much success (&#39;One To One&#39; attribute type should not be &#39;Class&#39;)"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1635506324,"post_id":69767893,"comment_id":123322813,"body_markdown":"As your entities map a database relationship you at some point have to specify the concrete target entity. You could to that with a JPA annotation eg `@OneToOne(target = ConcreteEntity.class)`. But mapping to an abstract `MappedSuperclass` will never work. Think about how that is supposed to be modelled in the database. What foreign key could Hibernate use to map from the `Person` table to an uknown number of subclasses of `DBObject`?","body":"As your entities map a database relationship you at some point have to specify the concrete target entity. You could to that with a JPA annotation eg <code>@OneToOne(target = ConcreteEntity.class)</code>. But mapping to an abstract <code>MappedSuperclass</code> will never work. Think about how that is supposed to be modelled in the database. What foreign key could Hibernate use to map from the <code>Person</code> table to an uknown number of subclasses of <code>DBObject</code>?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1635506536,"post_id":69767893,"comment_id":123322887,"body_markdown":"That being said, you can reference to an abstract entity if you use actual Inheritance: https://docs.oracle.com/javaee/6/tutorial/doc/bnbqn.html - You just have to turn your abstract superclass in an actual entity and choose a fitting inheritance type (InheritanceType.JOINED would work).","body":"That being said, you can reference to an abstract entity if you use actual Inheritance: <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/bnbqn.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/6/tutorial/doc/bnbqn.html</a> - You just have to turn your abstract superclass in an actual entity and choose a fitting inheritance type (InheritanceType.JOINED would work)."},{"owner":{"account_id":265707,"reputation":521,"user_id":552855,"accept_rate":45,"display_name":"Abdullah Gheith"},"score":0,"creation_date":1635506650,"post_id":69767893,"comment_id":123322928,"body_markdown":"I think u might be right. I was thinking that the Person table has to have a shirt_id that references the shirt. But what shirt table is that gonna be? Its not gonna be possible without a reference to the specific shirt table as well.","body":"I think u might be right. I was thinking that the Person table has to have a shirt_id that references the shirt. But what shirt table is that gonna be? Its not gonna be possible without a reference to the specific shirt table as well."},{"owner":{"account_id":265707,"reputation":521,"user_id":552855,"accept_rate":45,"display_name":"Abdullah Gheith"},"score":0,"creation_date":1635506743,"post_id":69767893,"comment_id":123322963,"body_markdown":"Guess in this case, i have to change my shirt from DBObject to Long, and have a String Type as well, and then handle it in the code. I was hoping hibernate could do this for me","body":"Guess in this case, i have to change my shirt from DBObject to Long, and have a String Type as well, and then handle it in the code. I was hoping hibernate could do this for me"}],"answers":[{"tags":[],"owner":{"account_id":9578099,"reputation":81,"user_id":7113472,"display_name":"Zubair A."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635536577,"creation_date":1635536577,"answer_id":69774028,"question_id":69767893,"body_markdown":"I think you might use following at abstract class:\r\n&lt;b&gt;\r\n&lt;/b&gt;\r\n\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)","title":"Hibernate mapping to a class that extends an abstract","body":"<p>I think you might use following at abstract class:\n<b>\n</b></p>\n<p>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)</p>\n"}],"owner":{"account_id":265707,"reputation":521,"user_id":552855,"accept_rate":45,"display_name":"Abdullah Gheith"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635536577,"creation_date":1635505862,"question_id":69767893,"body_markdown":"I have a superclass for all my db objects.\r\n\r\n    @MappedSuperclass\r\n    public abstract class DBObject {\r\n        @Id\r\n    \t@GeneratedValue\r\n    \tprivate Long id;\r\n    }\r\n\r\nBut sometimes i want to create a reference to another object by just using the superclass (i.e. FK through id)\r\n\r\n    @Entity\r\n    public class Person extends DBObject {\r\n    \r\n    \tprivate DBObject shirt;\r\n    \r\n    }\r\n\r\nThis gives error: &#39;Basic&#39; attribute type should not be &#39;Mapped Superclass&#39;\r\n\r\nBasically, the reason for this is, i can have tables for all different kinds of shirts and i would be able to assign whichever one of them to the person.\r\n\r\n**How do i tell hibernate that i dont want to use the DBObject class itself, but a class that extends DBObject**","title":"Hibernate mapping to a class that extends an abstract","body":"<p>I have a superclass for all my db objects.</p>\n<pre><code>@MappedSuperclass\npublic abstract class DBObject {\n    @Id\n    @GeneratedValue\n    private Long id;\n}\n</code></pre>\n<p>But sometimes i want to create a reference to another object by just using the superclass (i.e. FK through id)</p>\n<pre><code>@Entity\npublic class Person extends DBObject {\n\n    private DBObject shirt;\n\n}\n</code></pre>\n<p>This gives error: 'Basic' attribute type should not be 'Mapped Superclass'</p>\n<p>Basically, the reason for this is, i can have tables for all different kinds of shirts and i would be able to assign whichever one of them to the person.</p>\n<p><strong>How do i tell hibernate that i dont want to use the DBObject class itself, but a class that extends DBObject</strong></p>\n"},{"tags":["java","amazon-web-services","maven","aws-codecommit"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635508220,"post_id":69761958,"comment_id":123323467,"body_markdown":"Please add the build log output to your question.","body":"Please add the build log output to your question."},{"owner":{"account_id":7435586,"reputation":65,"user_id":5655143,"accept_rate":50,"display_name":"M. Winnicki"},"score":0,"creation_date":1635536257,"post_id":69761958,"comment_id":123333931,"body_markdown":"Added the build log output","body":"Added the build log output"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635540970,"post_id":69761958,"comment_id":123335300,"body_markdown":"Looks like you have an absolute path in your config: `[INFO] Ignored given or default sources [C:/Users/Maks/Desktop/PJGreen Stuff/spring-boot/src/main/resources/countries.xsd], since it is not an existent file or directory.\n`","body":"Looks like you have an absolute path in your config: <code>[INFO] Ignored given or default sources [C:&#47;Users&#47;Maks&#47;Desktop&#47;PJGreen Stuff&#47;spring-boot&#47;src&#47;main&#47;resources&#47;countries.xsd], since it is not an existent file or directory. </code>"}],"owner":{"account_id":7435586,"reputation":65,"user_id":5655143,"accept_rate":50,"display_name":"M. Winnicki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635536224,"creation_date":1635462966,"question_id":69761958,"body_markdown":"I am having an issue with using AWS CodeCommit. My code compiles on my local using mvn clean install, however it doesn&#39;t work on AWS CodeCommit. During the build process it fails with &quot;Error while executing command: mvn clean install. Reason: exit status 1&quot;. Below are both my pom.xml and buildspec.yml files. Just wondering if there&#39;s something obvious I&#39;m missing.\r\n\r\nThanks in advance.\r\n\r\nPom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring-boot&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.ws/spring-ws-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;wsdl4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n  \t\t\t&lt;type&gt;maven-plugin&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-user --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;gwt-user&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.9.0&lt;/version&gt;\r\n\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-dev --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;gwt-dev&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.9.0&lt;/version&gt;\r\n\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-servlet --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;gwt-servlet&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.9.0&lt;/version&gt;\r\n\t\t    &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.smartgwt/smartgwt --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.smartgwt&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;smartgwt&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.5-patch&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk --&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n   \t\t\t &lt;version&gt;1.12.96&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;xjc&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;xjc&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nbuildspec.yml:\r\n\r\n```\r\nversion: 0.2\r\n\r\nphases:\r\n  build:\r\n    commands:\r\n      - mvn clean install\r\n```\r\n\r\nEdit:\r\nHere are the last lines of the console output:\r\n\r\n```\r\nDownloaded from central: https://repo.maven.apache.org/maven2/org/glassfish/jaxb/txw2/2.3.2/txw2-2.3.2.jar (72 kB at 370 kB/s)\r\nDownloaded from central: https://repo.maven.apache.org/maven2/org/apache/ant/ant/1.10.5/ant-1.10.5.jar (2.2 MB at 11 MB/s)\r\nDownloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.5.1/maven-plugin-annotations-3.5.1.jar (14 kB at 73 kB/s)\r\nDownloaded from central: https://repo.maven.apache.org/maven2/jakarta/activation/jakarta.activation-api/1.2.1/jakarta.activation-api-1.2.1.jar (44 kB at 224 kB/s)\r\n[INFO] Created EpisodePath [/codebuild/output/src412799936/src/target/generated-sources/jaxb/META-INF/JAXB]: true\r\n[INFO] Ignored given or default xjbSources [/codebuild/output/src412799936/src/src/main/xjb], since it is not an existent file or directory.\r\n[INFO] Ignored given or default sources [C:/Users/Maks/Desktop/PJGreen Stuff/spring-boot/src/main/resources/countries.xsd], since it is not an existent file or directory.\r\n[WARNING] No XSD files found. Please check your plugin configuration.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  21.399 s\r\n[INFO] Finished at: 2021-10-28T23:06:30Z\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.codehaus.mojo:jaxb2-maven-plugin:2.5.0:xjc (xjc) on project spring-boot: : MojoExecutionException: NoSchemasException -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n[Container] 2021/10/28 23:06:31 Command did not exit successfully mvn clean install exit status 1\r\n[Container] 2021/10/28 23:06:31 Phase complete: BUILD State: FAILED\r\n[Container] 2021/10/28 23:06:31 Phase context status code: COMMAND_EXECUTION_ERROR Message: Error while executing command: mvn clean install. Reason: exit status 1\r\n[Container] 2021/10/28 23:06:31 Entering phase POST_BUILD\r\n[Container] 2021/10/28 23:06:31 Phase complete: POST_BUILD State: SUCCEEDED\r\n[Container] 2021/10/28 23:06:31 Phase context status code:  Message: \r\n```\r\n","title":"Issue with maven in AWS CodeCommit","body":"<p>I am having an issue with using AWS CodeCommit. My code compiles on my local using mvn clean install, however it doesn't work on AWS CodeCommit. During the build process it fails with &quot;Error while executing command: mvn clean install. Reason: exit status 1&quot;. Below are both my pom.xml and buildspec.yml files. Just wondering if there's something obvious I'm missing.</p>\n<p>Thanks in advance.</p>\n<p>Pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-boot&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.ws/spring-ws-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;wsdl4j&lt;/groupId&gt;\n            &lt;artifactId&gt;wsdl4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n            &lt;type&gt;maven-plugin&lt;/type&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-user --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\n            &lt;artifactId&gt;gwt-user&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-dev --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\n            &lt;artifactId&gt;gwt-dev&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.gwt/gwt-servlet --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\n            &lt;artifactId&gt;gwt-servlet&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.smartgwt/smartgwt --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.smartgwt&lt;/groupId&gt;\n            &lt;artifactId&gt;smartgwt&lt;/artifactId&gt;\n            &lt;version&gt;2.5-patch&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk --&gt;\n        &lt;dependency&gt;\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n                &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n             &lt;version&gt;1.12.96&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;xjc&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;xjc&lt;/goal&gt;\n                            &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>buildspec.yml:</p>\n<pre><code>version: 0.2\n\nphases:\n  build:\n    commands:\n      - mvn clean install\n</code></pre>\n<p>Edit:\nHere are the last lines of the console output:</p>\n<pre><code>Downloaded from central: https://repo.maven.apache.org/maven2/org/glassfish/jaxb/txw2/2.3.2/txw2-2.3.2.jar (72 kB at 370 kB/s)\nDownloaded from central: https://repo.maven.apache.org/maven2/org/apache/ant/ant/1.10.5/ant-1.10.5.jar (2.2 MB at 11 MB/s)\nDownloaded from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugin-tools/maven-plugin-annotations/3.5.1/maven-plugin-annotations-3.5.1.jar (14 kB at 73 kB/s)\nDownloaded from central: https://repo.maven.apache.org/maven2/jakarta/activation/jakarta.activation-api/1.2.1/jakarta.activation-api-1.2.1.jar (44 kB at 224 kB/s)\n[INFO] Created EpisodePath [/codebuild/output/src412799936/src/target/generated-sources/jaxb/META-INF/JAXB]: true\n[INFO] Ignored given or default xjbSources [/codebuild/output/src412799936/src/src/main/xjb], since it is not an existent file or directory.\n[INFO] Ignored given or default sources [C:/Users/Maks/Desktop/PJGreen Stuff/spring-boot/src/main/resources/countries.xsd], since it is not an existent file or directory.\n[WARNING] No XSD files found. Please check your plugin configuration.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  21.399 s\n[INFO] Finished at: 2021-10-28T23:06:30Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.codehaus.mojo:jaxb2-maven-plugin:2.5.0:xjc (xjc) on project spring-boot: : MojoExecutionException: NoSchemasException -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\n[Container] 2021/10/28 23:06:31 Command did not exit successfully mvn clean install exit status 1\n[Container] 2021/10/28 23:06:31 Phase complete: BUILD State: FAILED\n[Container] 2021/10/28 23:06:31 Phase context status code: COMMAND_EXECUTION_ERROR Message: Error while executing command: mvn clean install. Reason: exit status 1\n[Container] 2021/10/28 23:06:31 Entering phase POST_BUILD\n[Container] 2021/10/28 23:06:31 Phase complete: POST_BUILD State: SUCCEEDED\n[Container] 2021/10/28 23:06:31 Phase context status code:  Message: \n</code></pre>\n"},{"tags":["java","jackson","yaml"],"answers":[{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635536189,"creation_date":1635536189,"answer_id":69773977,"question_id":69746967,"body_markdown":"I assume you already have some familiarity with Jackson&#39;s `ObjectMapper`.\r\n\r\nFirst you will need a Java class representing the entire\r\ncontents of your YAML file. Let&#39;s call it `Root`:\r\n\r\n    public class Root {\r\n\t\r\n\t    @JsonProperty(&quot;InspectionModules&quot;)\r\n\t    private List&lt;InspectionModule&gt; inspectionModules;\r\n    \r\n\t    // getters and setters omitted here for brevity\r\n    }\r\n\r\nNotice that you&#39;ll need to use `@JsonProperty` to tell Jackson\r\nthat the YAML name `InspectionModules` corresponds to your\r\nJava property `inspectionModules` in spite of their different\r\nspellings.\r\n\r\nNext you need a Java class representing one of the\r\nYAML sections below the `InspectionModules:`.\r\n\r\n    public class InspectionModule {\r\n    \r\n        private String feature;\r\n    \r\n        private String name;\r\n\t\r\n        @JsonProperty(&quot;Channels&quot;)\r\n        private List&lt;Channel&gt; channels;\r\n\r\n\t    // getters and setters omitted here for brevity\r\n    }\r\n\r\nAnd finally you need a `Channel` class representing one of the\r\nYAML sections below `Channels:`\r\nYou should be able to write this Java class by yourself already.\r\n\r\nNow you are ready to use Jackson&#39;s `YAMLMapper` for reading your YAML\r\nfile into a `Root` object.\r\n\r\n    File file = new File(&quot;example.yaml&quot;);\r\n    ObjectMapper objectMapper = new YAMLMapper();\r\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    Root root = objectMapper.readValue(file, Root.class);\r\n\r\nNotice that you need to tell Jackson that it is OK to encounter\r\nunknown properties (like `InspectionGroups`) during reading.\r\n","title":"Jackson YAML parsing with parent objects &amp; array of objects","body":"<p>I assume you already have some familiarity with Jackson's <code>ObjectMapper</code>.</p>\n<p>First you will need a Java class representing the entire\ncontents of your YAML file. Let's call it <code>Root</code>:</p>\n<pre><code>public class Root {\n\n    @JsonProperty(&quot;InspectionModules&quot;)\n    private List&lt;InspectionModule&gt; inspectionModules;\n\n    // getters and setters omitted here for brevity\n}\n</code></pre>\n<p>Notice that you'll need to use <code>@JsonProperty</code> to tell Jackson\nthat the YAML name <code>InspectionModules</code> corresponds to your\nJava property <code>inspectionModules</code> in spite of their different\nspellings.</p>\n<p>Next you need a Java class representing one of the\nYAML sections below the <code>InspectionModules:</code>.</p>\n<pre><code>public class InspectionModule {\n\n    private String feature;\n\n    private String name;\n\n    @JsonProperty(&quot;Channels&quot;)\n    private List&lt;Channel&gt; channels;\n\n    // getters and setters omitted here for brevity\n}\n</code></pre>\n<p>And finally you need a <code>Channel</code> class representing one of the\nYAML sections below <code>Channels:</code>\nYou should be able to write this Java class by yourself already.</p>\n<p>Now you are ready to use Jackson's <code>YAMLMapper</code> for reading your YAML\nfile into a <code>Root</code> object.</p>\n<pre><code>File file = new File(&quot;example.yaml&quot;);\nObjectMapper objectMapper = new YAMLMapper();\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\nRoot root = objectMapper.readValue(file, Root.class);\n</code></pre>\n<p>Notice that you need to tell Jackson that it is OK to encounter\nunknown properties (like <code>InspectionGroups</code>) during reading.</p>\n"}],"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635536189,"creation_date":1635381205,"question_id":69746967,"body_markdown":"I have a yaml file with four parent objects. The fourth object is an array of element of which I will want to create a class for and populate. Is there a way to use the object mapper in jackson to ignore the first three objects and then parse my list of &quot;InspectionModules&quot;?\r\n\r\nMy yaml file looks like this:\r\n\r\n    # Don&#39;t care about these elements\r\n    InspectionGroups:\r\n    InspecitonModes:\r\n    ThresholdTypes:\r\n    \r\n    # This array is of interest\r\n    InspectionModules:\r\n     - feature : FC_Trig1\r\n       name: &quot;first inspection&quot;\r\n       Channels:\r\n       - id: ICI_01\r\n         category: Dia_MC_Config\r\n     - feature : FC_Trig2\r\n       name: &quot;Diagonal Missing Cap&quot;\r\n       Channels:\r\n       - id: ICI_02\r\n         category: Dia_MC_Config\r\n\r\nBasically I want to create a class called InspectionModule and have the mapper map the elements of the InspectionModules array into this class. Is there a simple way to do this in jackson? If not would it be recommended to reorganize our YAML file so we can leverage the object mapper?","title":"Jackson YAML parsing with parent objects &amp; array of objects","body":"<p>I have a yaml file with four parent objects. The fourth object is an array of element of which I will want to create a class for and populate. Is there a way to use the object mapper in jackson to ignore the first three objects and then parse my list of &quot;InspectionModules&quot;?</p>\n<p>My yaml file looks like this:</p>\n<pre><code># Don't care about these elements\nInspectionGroups:\nInspecitonModes:\nThresholdTypes:\n\n# This array is of interest\nInspectionModules:\n - feature : FC_Trig1\n   name: &quot;first inspection&quot;\n   Channels:\n   - id: ICI_01\n     category: Dia_MC_Config\n - feature : FC_Trig2\n   name: &quot;Diagonal Missing Cap&quot;\n   Channels:\n   - id: ICI_02\n     category: Dia_MC_Config\n</code></pre>\n<p>Basically I want to create a class called InspectionModule and have the mapper map the elements of the InspectionModules array into this class. Is there a simple way to do this in jackson? If not would it be recommended to reorganize our YAML file so we can leverage the object mapper?</p>\n"},{"tags":["java","spring","model-view-controller"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1635517078,"post_id":69770135,"comment_id":123327344,"body_markdown":"Can you share the rest of your code?","body":"Can you share the rest of your code?"},{"owner":{"account_id":21572783,"reputation":31,"user_id":15905432,"display_name":"Jes&#250;s Navarro Hern&#225;ndez"},"score":0,"creation_date":1635518233,"post_id":69770135,"comment_id":123327829,"body_markdown":"Sure, check the edit","body":"Sure, check the edit"}],"answers":[{"tags":[],"owner":{"account_id":11901466,"reputation":121,"user_id":8709340,"display_name":"Adarsh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635536007,"creation_date":1635536007,"answer_id":69773959,"question_id":69770135,"body_markdown":"You can use it something like this:\r\n\r\n \r\n\r\n    &lt;textarea rows=&quot;7&quot; cols=&quot;10&quot; th:text= &quot;${item.Description}&quot; name=&quot;Description&quot; &gt;\r\n\r\nReceive it in the controller, if the user updates it, you will get an updated value.","title":"How to use a variable in HTML","body":"<p>You can use it something like this:</p>\n<pre><code>&lt;textarea rows=&quot;7&quot; cols=&quot;10&quot; th:text= &quot;${item.Description}&quot; name=&quot;Description&quot; &gt;\n</code></pre>\n<p>Receive it in the controller, if the user updates it, you will get an updated value.</p>\n"}],"owner":{"account_id":21572783,"reputation":31,"user_id":15905432,"display_name":"Jes&#250;s Navarro Hern&#225;ndez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69773959,"answer_count":1,"score":0,"last_activity_date":1635536007,"creation_date":1635515644,"question_id":69770135,"body_markdown":"I am trying to use a variable in my HTML file called &quot;Description&quot;, that I defined like this:\r\n\r\n```\r\n       &lt;h1 th:text=&quot;&#39;Product &#39; + ${item.itemCode}&quot;&gt;&lt;/h1&gt;\r\n            &lt;div class=&quot;inset&quot;&gt;\r\n                &lt;p&gt;\r\n                    &lt;label&gt;Item Code&lt;/label&gt;\r\n                    &lt;b th:text= &quot;${item.itemCode}&quot;&gt;&lt;/b&gt;\r\n                &lt;p&gt;\r\n                &lt;p&gt;\r\n                    &lt;label&gt;Item Description&lt;/label&gt;\r\n                    &lt;b th:text= &quot;${item.Description}&quot; contenteditable=&quot;true&quot; name=&quot;Description&quot; id=&quot;Description&quot;&gt;&lt;/b&gt;\r\n                &lt;p&gt;\r\n                &lt;p&gt;\r\n                    &lt;label&gt;Item Price&lt;/label&gt;\r\n                    &lt;b th:text= &quot;${item.Price}&quot; contenteditable=&quot;true&quot; name=&quot;price&quot; id=&quot;price&quot;&gt;&lt;/b&gt;\r\n                &lt;p&gt;\r\n                &lt;p&gt;\r\n                    &lt;label&gt;Item Creation Date&lt;/label&gt;\r\n                    &lt;b th:text= &quot;${item.creationDate}&quot; contenteditable=&quot;true&quot; name=&quot;date&quot; id=&quot;date&quot;&gt;&lt;/b&gt;\r\n                &lt;p&gt;\r\n                &lt;p&gt;\r\n                    &lt;label&gt;Item Creator&lt;/label&gt;\r\n                    &lt;b th:text= &quot;${item.creatorUser}&quot; contenteditable=&quot;true&quot; name=&quot;creator&quot; id=&quot;creator&quot;&gt;&lt;/b&gt;\r\n                &lt;p&gt;\r\n                &lt;p&gt;\r\n                    &lt;label&gt;Item State&lt;/label&gt;\r\n                    &lt;b th:text= &quot;${item.itemEnum.getEstado()}&quot;&gt;&lt;/b&gt;\r\n                &lt;p&gt;\r\n\r\n                &lt;p&gt;\r\n                    &lt;a th:href=&quot;@{/api/item/saveChanges(itemCode = ${item.itemCode}, description = getVariable())}&quot;&gt; &lt;input name=&quot;submit&quot; type=&quot;submit&quot; value=&quot;Save Changes&quot; /&gt;&lt;/a&gt;\r\n                &lt;/p&gt;\r\n                &lt;p th:if=&quot;${item.itemEnum.getEstado() == &#39;Active&#39;}&quot;&gt;\r\n                    &lt;a th:href=&quot;@{/api/item/changeInactive/{itemCode}(itemCode = ${item.itemCode})}&quot;&gt; &lt;input name=&quot;submit&quot; type=&quot;submit&quot; value=&quot;Deactivate&quot; width=&quot;100%&quot;/&gt;&lt;/a&gt;\r\n                &lt;/p&gt;\r\n                &lt;p th:if=&quot;${item.itemEnum.getEstado() == &#39;No Active&#39;}&quot;&gt;\r\n                    &lt;a th:href=&quot;@{/api/item/changeActive/{itemCode}(itemCode = ${item.itemCode})}&quot;&gt; &lt;input name=&quot;submit&quot; type=&quot;submit&quot; value=&quot;Activate&quot; width=&quot;100%&quot; /&gt;&lt;/a&gt;\r\n                &lt;/p&gt;\r\n\r\n            &lt;/div&gt;\r\n&lt;script&gt;\r\n    function getVariable(){\r\n        return document.getElementById(&quot;Description&quot;);\r\n    }\r\n&lt;/script&gt;\r\n```\r\nBasically, I get that variable from my controller. However, it is editable. What I want is to be able to get the current value of &quot;Description&quot; so I can send it back to the controller to update it, something like this:\r\n```\r\n&lt;a th:href=&quot;@{/api/item/saveChanges(description = ${Description})\r\n```\r\n","title":"How to use a variable in HTML","body":"<p>I am trying to use a variable in my HTML file called &quot;Description&quot;, that I defined like this:</p>\n<pre><code>       &lt;h1 th:text=&quot;'Product ' + ${item.itemCode}&quot;&gt;&lt;/h1&gt;\n            &lt;div class=&quot;inset&quot;&gt;\n                &lt;p&gt;\n                    &lt;label&gt;Item Code&lt;/label&gt;\n                    &lt;b th:text= &quot;${item.itemCode}&quot;&gt;&lt;/b&gt;\n                &lt;p&gt;\n                &lt;p&gt;\n                    &lt;label&gt;Item Description&lt;/label&gt;\n                    &lt;b th:text= &quot;${item.Description}&quot; contenteditable=&quot;true&quot; name=&quot;Description&quot; id=&quot;Description&quot;&gt;&lt;/b&gt;\n                &lt;p&gt;\n                &lt;p&gt;\n                    &lt;label&gt;Item Price&lt;/label&gt;\n                    &lt;b th:text= &quot;${item.Price}&quot; contenteditable=&quot;true&quot; name=&quot;price&quot; id=&quot;price&quot;&gt;&lt;/b&gt;\n                &lt;p&gt;\n                &lt;p&gt;\n                    &lt;label&gt;Item Creation Date&lt;/label&gt;\n                    &lt;b th:text= &quot;${item.creationDate}&quot; contenteditable=&quot;true&quot; name=&quot;date&quot; id=&quot;date&quot;&gt;&lt;/b&gt;\n                &lt;p&gt;\n                &lt;p&gt;\n                    &lt;label&gt;Item Creator&lt;/label&gt;\n                    &lt;b th:text= &quot;${item.creatorUser}&quot; contenteditable=&quot;true&quot; name=&quot;creator&quot; id=&quot;creator&quot;&gt;&lt;/b&gt;\n                &lt;p&gt;\n                &lt;p&gt;\n                    &lt;label&gt;Item State&lt;/label&gt;\n                    &lt;b th:text= &quot;${item.itemEnum.getEstado()}&quot;&gt;&lt;/b&gt;\n                &lt;p&gt;\n\n                &lt;p&gt;\n                    &lt;a th:href=&quot;@{/api/item/saveChanges(itemCode = ${item.itemCode}, description = getVariable())}&quot;&gt; &lt;input name=&quot;submit&quot; type=&quot;submit&quot; value=&quot;Save Changes&quot; /&gt;&lt;/a&gt;\n                &lt;/p&gt;\n                &lt;p th:if=&quot;${item.itemEnum.getEstado() == 'Active'}&quot;&gt;\n                    &lt;a th:href=&quot;@{/api/item/changeInactive/{itemCode}(itemCode = ${item.itemCode})}&quot;&gt; &lt;input name=&quot;submit&quot; type=&quot;submit&quot; value=&quot;Deactivate&quot; width=&quot;100%&quot;/&gt;&lt;/a&gt;\n                &lt;/p&gt;\n                &lt;p th:if=&quot;${item.itemEnum.getEstado() == 'No Active'}&quot;&gt;\n                    &lt;a th:href=&quot;@{/api/item/changeActive/{itemCode}(itemCode = ${item.itemCode})}&quot;&gt; &lt;input name=&quot;submit&quot; type=&quot;submit&quot; value=&quot;Activate&quot; width=&quot;100%&quot; /&gt;&lt;/a&gt;\n                &lt;/p&gt;\n\n            &lt;/div&gt;\n&lt;script&gt;\n    function getVariable(){\n        return document.getElementById(&quot;Description&quot;);\n    }\n&lt;/script&gt;\n</code></pre>\n<p>Basically, I get that variable from my controller. However, it is editable. What I want is to be able to get the current value of &quot;Description&quot; so I can send it back to the controller to update it, something like this:</p>\n<pre><code>&lt;a th:href=&quot;@{/api/item/saveChanges(description = ${Description})\n</code></pre>\n"},{"tags":["java","spring","spring-boot","redis","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":17973357,"reputation":66,"user_id":13061548,"display_name":"Tarun Singh Rawat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635532001,"creation_date":1635532001,"answer_id":69773312,"question_id":69772402,"body_markdown":"Change return type of getProduct() from **Mono&lt;Product&gt;** to **Product**.\r\n\r\nSince you are getting only one product at a time, and you are using Mono&lt;&gt; because it emits at most one item and then (optionally) terminates with an onComplete signal or an onError signal.\r\n\r\nso instead of that use Product as return type and define if else for no product i.e, at error state.\r\n\r\n\r\nOr else\r\ngo through these links for ways of implementing a caching mechanism with Redis\r\n\r\n - https://www.devglan.com/spring-boot/spring-boot-redis-cache\r\n - https://dzone.com/articles/implementation-of-redis-in-micro-servicespring-boo\r\n\r\n","title":"Using @Cacheable annotation with a Reactive controller method","body":"<p>Change return type of getProduct() from <strong>Mono</strong> to <strong>Product</strong>.</p>\n<p>Since you are getting only one product at a time, and you are using Mono&lt;&gt; because it emits at most one item and then (optionally) terminates with an onComplete signal or an onError signal.</p>\n<p>so instead of that use Product as return type and define if else for no product i.e, at error state.</p>\n<p>Or else\ngo through these links for ways of implementing a caching mechanism with Redis</p>\n<ul>\n<li><a href=\"https://www.devglan.com/spring-boot/spring-boot-redis-cache\" rel=\"nofollow noreferrer\">https://www.devglan.com/spring-boot/spring-boot-redis-cache</a></li>\n<li><a href=\"https://dzone.com/articles/implementation-of-redis-in-micro-servicespring-boo\" rel=\"nofollow noreferrer\">https://dzone.com/articles/implementation-of-redis-in-micro-servicespring-boo</a></li>\n</ul>\n"}],"owner":{"account_id":21491496,"reputation":53,"user_id":15837153,"display_name":"kayelbb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69773312,"answer_count":1,"score":1,"last_activity_date":1635535634,"creation_date":1635526551,"question_id":69772402,"body_markdown":"I am currently trying to implement a caching with Redis for Sprint Boot application:\r\n\r\n    @Cacheable(value = &quot;products&quot;, key = &quot;#id&quot;)\r\n    @GetMapping(value = &quot;/product/{id}&quot;)\r\n    public Mono&lt;Product&gt; getProduct(@PathVariable(&quot;id&quot;) String sku) {\r\n        ...\r\n    }\r\n\r\n However, I am encountering this exception:\r\n\r\n    java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.MonoMapFuseable]\r\n\r\nBased on my research, this has to do with it trying to serialize the Mono return type, rather than `Product` itself. So my question is, for reactive methods such as this, what is the recommended way of implementing a caching mechanism with Redis? Comments and feedback would be greatly appreciated.\r\n","title":"Using @Cacheable annotation with a Reactive controller method","body":"<p>I am currently trying to implement a caching with Redis for Sprint Boot application:</p>\n<pre><code>@Cacheable(value = &quot;products&quot;, key = &quot;#id&quot;)\n@GetMapping(value = &quot;/product/{id}&quot;)\npublic Mono&lt;Product&gt; getProduct(@PathVariable(&quot;id&quot;) String sku) {\n    ...\n}\n</code></pre>\n<p>However, I am encountering this exception:</p>\n<pre><code>java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [reactor.core.publisher.MonoMapFuseable]\n</code></pre>\n<p>Based on my research, this has to do with it trying to serialize the Mono return type, rather than <code>Product</code> itself. So my question is, for reactive methods such as this, what is the recommended way of implementing a caching mechanism with Redis? Comments and feedback would be greatly appreciated.</p>\n"},{"tags":["java","spring","jsp"],"answers":[{"tags":[],"owner":{"account_id":11901466,"reputation":121,"user_id":8709340,"display_name":"Adarsh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635535271,"creation_date":1635534585,"answer_id":69773737,"question_id":69770702,"body_markdown":"Yes, you can use multiple Model Attributes to receive multiple objects in the controller and we can also send multiple objects to the view page.\r\n\r\n    &lt;form action=&quot;&quot; method=&quot;post&quot;&gt;\r\n      &lt;div&gt;\r\n      &lt;label&gt;Leave a comment below&lt;/label&gt;\r\n      &lt;textarea th:field=&quot;${rootComment.text}&quot; rows=&quot;3&quot;&gt;&lt;/textarea&gt;\r\n       &lt;/div&gt;\r\n    &lt;textarea th:field=&quot;${anotherObject.text}&quot; rows=&quot;3&quot;&gt;&lt;/textarea&gt;\r\n       &lt;/div&gt;\r\n      &lt;/form&gt;\r\n\r\n   \r\n\r\n     Controller\r\n        @PostMapping(&quot;/receive&quot;)\r\n        String receiveObjects(Comment rootComment, Object2 anotherObject){\r\n         ........\r\n         }\r\n\r\nI am using thymeleaf so I have mentioned &quot;th&quot; thymeleaf tags.","title":"Java Spring multiple ModelAttribute","body":"<p>Yes, you can use multiple Model Attributes to receive multiple objects in the controller and we can also send multiple objects to the view page.</p>\n<pre><code>&lt;form action=&quot;&quot; method=&quot;post&quot;&gt;\n  &lt;div&gt;\n  &lt;label&gt;Leave a comment below&lt;/label&gt;\n  &lt;textarea th:field=&quot;${rootComment.text}&quot; rows=&quot;3&quot;&gt;&lt;/textarea&gt;\n   &lt;/div&gt;\n&lt;textarea th:field=&quot;${anotherObject.text}&quot; rows=&quot;3&quot;&gt;&lt;/textarea&gt;\n   &lt;/div&gt;\n  &lt;/form&gt;\n\n\n\n Controller\n    @PostMapping(&quot;/receive&quot;)\n    String receiveObjects(Comment rootComment, Object2 anotherObject){\n     ........\n     }\n</code></pre>\n<p>I am using thymeleaf so I have mentioned &quot;th&quot; thymeleaf tags.</p>\n"}],"owner":{"account_id":23168610,"reputation":1,"user_id":17268157,"display_name":"totta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635535271,"creation_date":1635518252,"question_id":69770702,"body_markdown":"I am creating a web application and have a question is it possible to write multiple ModelAttribute in Spring or not?\r\n\r\nI tried something like this but I always get a 0. I also tried with spring binding but I get a 0 again. Thanks.\r\n\r\nThis is my controller.\r\n\r\n    @RequestMapping(value=&quot;/assignguesttohotel&quot;,method = RequestMethod.GET)\r\n    public ModelAndView assignguesttohotel_form(HttpServletResponse response) throws IOException {\r\n        return new ModelAndView(&quot;assignguesttohotel&quot;);\r\n    }\r\n\r\n    @RequestMapping(value=&quot;/assign&quot;,method = RequestMethod.POST)\r\n    public ModelAndView assigning(Guest guest, Hotel hotel) {\r\n        ModelAndView m = new ModelAndView();\r\n        System.out.println(guest.getId() + &quot; &quot; + hotel.getId());\r\n        m.addObject(&quot;guestid&quot;, guest.getId());\r\n        m.addObject(&quot;hotelid&quot;, hotel.getId());\r\n        HotelDAO dao = new HotelDAO();\r\n        dao.assignGuestToHotel(guest.getId(), hotel.getId());\r\n        m.setViewName(&quot;temp&quot;);\r\n        return m;\r\n    }\r\n\r\nAnd the JSP (assignguesttohotel.jsp).\r\n\r\n        &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n    &lt;%@ taglib prefix=&quot;spring&quot; uri=&quot;http://www.springframework.org/tags&quot;%&gt;\r\n    &lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot;%&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Guest register&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div align=&quot;center&quot;&gt;\r\n        &lt;h1&gt;Search Guest by name&lt;/h1&gt;\r\n        &lt;form:form action=&quot;assign&quot; method=&quot;post&quot;&gt;\r\n            &lt;table&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Guest id:&lt;/td&gt;\r\n                    &lt;td&gt;\r\n    &lt;%--                    &lt;spring:bind path=&quot;guestid.id&quot;&gt;--%&gt;\r\n    &lt;%--                        &lt;input name=&quot;${status.expression}&quot; type=&quot;number&quot; value=&quot;${status.value}&quot;&gt;--%&gt;\r\n    &lt;%--                    &lt;/spring:bind&gt;--%&gt;\r\n                        &lt;input name=&quot;guestid&quot; type=&quot;number&quot;&gt;\r\n                    &lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Hotel id:&lt;/td&gt;\r\n                    &lt;td&gt;\r\n    &lt;%--                    &lt;spring:bind path=&quot;hotelid.id&quot;&gt;--%&gt;\r\n    &lt;%--                        &lt;input name=&quot;${status.expression}&quot; type=&quot;number&quot; value=&quot;${status.value}&quot;&gt;--%&gt;\r\n    &lt;%--                    &lt;/spring:bind&gt;--%&gt;\r\n                        &lt;input name=&quot;hotelid&quot; type=&quot;number&quot;&gt;\r\n                    &lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;Seach&quot;&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n        &lt;/form:form&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n","title":"Java Spring multiple ModelAttribute","body":"<p>I am creating a web application and have a question is it possible to write multiple ModelAttribute in Spring or not?</p>\n<p>I tried something like this but I always get a 0. I also tried with spring binding but I get a 0 again. Thanks.</p>\n<p>This is my controller.</p>\n<pre><code>@RequestMapping(value=&quot;/assignguesttohotel&quot;,method = RequestMethod.GET)\npublic ModelAndView assignguesttohotel_form(HttpServletResponse response) throws IOException {\n    return new ModelAndView(&quot;assignguesttohotel&quot;);\n}\n\n@RequestMapping(value=&quot;/assign&quot;,method = RequestMethod.POST)\npublic ModelAndView assigning(Guest guest, Hotel hotel) {\n    ModelAndView m = new ModelAndView();\n    System.out.println(guest.getId() + &quot; &quot; + hotel.getId());\n    m.addObject(&quot;guestid&quot;, guest.getId());\n    m.addObject(&quot;hotelid&quot;, hotel.getId());\n    HotelDAO dao = new HotelDAO();\n    dao.assignGuestToHotel(guest.getId(), hotel.getId());\n    m.setViewName(&quot;temp&quot;);\n    return m;\n}\n</code></pre>\n<p>And the JSP (assignguesttohotel.jsp).</p>\n<pre><code>    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ taglib prefix=&quot;spring&quot; uri=&quot;http://www.springframework.org/tags&quot;%&gt;\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot;%&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Guest register&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div align=&quot;center&quot;&gt;\n    &lt;h1&gt;Search Guest by name&lt;/h1&gt;\n    &lt;form:form action=&quot;assign&quot; method=&quot;post&quot;&gt;\n        &lt;table&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Guest id:&lt;/td&gt;\n                &lt;td&gt;\n&lt;%--                    &lt;spring:bind path=&quot;guestid.id&quot;&gt;--%&gt;\n&lt;%--                        &lt;input name=&quot;${status.expression}&quot; type=&quot;number&quot; value=&quot;${status.value}&quot;&gt;--%&gt;\n&lt;%--                    &lt;/spring:bind&gt;--%&gt;\n                    &lt;input name=&quot;guestid&quot; type=&quot;number&quot;&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Hotel id:&lt;/td&gt;\n                &lt;td&gt;\n&lt;%--                    &lt;spring:bind path=&quot;hotelid.id&quot;&gt;--%&gt;\n&lt;%--                        &lt;input name=&quot;${status.expression}&quot; type=&quot;number&quot; value=&quot;${status.value}&quot;&gt;--%&gt;\n&lt;%--                    &lt;/spring:bind&gt;--%&gt;\n                    &lt;input name=&quot;hotelid&quot; type=&quot;number&quot;&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;Seach&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/form:form&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","string","formatting","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1338985887,"creation_date":1338984478,"answer_id":10913921,"question_id":10913495,"body_markdown":"The correct expression is:\r\n\r\n    new java.text.DecimalFormat(&quot;$ #,##0.00&quot;).format(Double.valueOf($P{strParam}))\r\n\r\nThe working sample for ***java.lang.Integer*** and ***java.lang.String***:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;format_as_current&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; whenNoDataType=&quot;AllSectionsNoDetail&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot;&gt;\r\n    \t&lt;parameter name=&quot;intParam&quot; class=&quot;java.lang.Integer&quot;&gt;\r\n    \t\t&lt;defaultValueExpression&gt;&lt;![CDATA[12345678]]&gt;&lt;/defaultValueExpression&gt;\r\n    \t&lt;/parameter&gt;\r\n    \t&lt;parameter name=&quot;strParam&quot; class=&quot;java.lang.String&quot;&gt;\r\n    \t\t&lt;defaultValueExpression&gt;&lt;![CDATA[&quot;12345678.95&quot;]]&gt;&lt;/defaultValueExpression&gt;\r\n    \t&lt;/parameter&gt;\r\n    \t&lt;title&gt;\r\n    \t\t&lt;band height=&quot;79&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;137&quot; y=&quot;18&quot; width=&quot;291&quot; height=&quot;20&quot;/&gt;\r\n    \t\t\t\t&lt;textElement/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[new java.text.DecimalFormat(&quot;$ #,##0.00&quot;).format($P{intParam})]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;137&quot; y=&quot;48&quot; width=&quot;291&quot; height=&quot;20&quot;/&gt;\r\n    \t\t\t\t&lt;textElement/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[new java.text.DecimalFormat(&quot;$ #,##0.00&quot;).format(Double.valueOf($P{strParam} != null &amp;&amp; $P{strParam}.length() &gt; 0 ? Double.valueOf($P{strParam}) : 0))]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/title&gt;\r\n    &lt;/jasperReport&gt;\r\n\r\nThe result will be (preview in *iReport*):\r\n\r\n![The result in *iReport*][1]\r\n\r\n\r\n***Note:***\r\nYou should also add check for null.\r\n\r\nYou can also use ***pattern*** property of *textField* for formatting data.\r\n\r\nThe sample:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;format_as_current&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; whenNoDataType=&quot;AllSectionsNoDetail&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot;&gt;\r\n    \t&lt;parameter name=&quot;intParam&quot; class=&quot;java.lang.Integer&quot;&gt;\r\n    \t\t&lt;defaultValueExpression&gt;&lt;![CDATA[12345678]]&gt;&lt;/defaultValueExpression&gt;\r\n    \t&lt;/parameter&gt;\r\n    \t&lt;parameter name=&quot;strParam&quot; class=&quot;java.lang.String&quot;&gt;\r\n    \t\t&lt;defaultValueExpression&gt;&lt;![CDATA[&quot;12345678.95&quot;]]&gt;&lt;/defaultValueExpression&gt;\r\n    \t&lt;/parameter&gt;\r\n    \t&lt;title&gt;\r\n    \t\t&lt;band height=&quot;148&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;textField pattern=&quot;$ #,##0.00&quot;&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;218&quot; y=&quot;99&quot; width=&quot;100&quot; height=&quot;20&quot;/&gt;\r\n    \t\t\t\t&lt;textElement/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{intParam}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField pattern=&quot;$ #,##0.00&quot;&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;218&quot; y=&quot;119&quot; width=&quot;100&quot; height=&quot;20&quot;/&gt;\r\n    \t\t\t\t&lt;textElement/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{strParam} != null &amp;&amp; $P{strParam}.length() &gt; 0 ? Double.valueOf($P{strParam}) : 0]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/title&gt;\r\n    &lt;/jasperReport&gt;\r\n\r\nThe result will be the same.\r\n\r\n  [1]: http://i.stack.imgur.com/22sny.png","title":"formatting a string to a currency format in jasper report","body":"<p>The correct expression is:</p>\n\n<pre><code>new java.text.DecimalFormat(\"$ #,##0.00\").format(Double.valueOf($P{strParam}))\n</code></pre>\n\n<p>The working sample for <strong><em>java.lang.Integer</em></strong> and <strong><em>java.lang.String</em></strong>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"format_as_current\" pageWidth=\"595\" pageHeight=\"842\" whenNoDataType=\"AllSectionsNoDetail\" columnWidth=\"555\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\"&gt;\n    &lt;parameter name=\"intParam\" class=\"java.lang.Integer\"&gt;\n        &lt;defaultValueExpression&gt;&lt;![CDATA[12345678]]&gt;&lt;/defaultValueExpression&gt;\n    &lt;/parameter&gt;\n    &lt;parameter name=\"strParam\" class=\"java.lang.String\"&gt;\n        &lt;defaultValueExpression&gt;&lt;![CDATA[\"12345678.95\"]]&gt;&lt;/defaultValueExpression&gt;\n    &lt;/parameter&gt;\n    &lt;title&gt;\n        &lt;band height=\"79\" splitType=\"Stretch\"&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=\"137\" y=\"18\" width=\"291\" height=\"20\"/&gt;\n                &lt;textElement/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[new java.text.DecimalFormat(\"$ #,##0.00\").format($P{intParam})]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=\"137\" y=\"48\" width=\"291\" height=\"20\"/&gt;\n                &lt;textElement/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[new java.text.DecimalFormat(\"$ #,##0.00\").format(Double.valueOf($P{strParam} != null &amp;&amp; $P{strParam}.length() &gt; 0 ? Double.valueOf($P{strParam}) : 0))]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n        &lt;/band&gt;\n    &lt;/title&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n\n<p>The result will be (preview in <em>iReport</em>):</p>\n\n<p><img src=\"https://i.stack.imgur.com/22sny.png\" alt=\"The result in *iReport*\"></p>\n\n<p><strong><em>Note:</em></strong>\nYou should also add check for null.</p>\n\n<p>You can also use <strong><em>pattern</em></strong> property of <em>textField</em> for formatting data.</p>\n\n<p>The sample:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"format_as_current\" pageWidth=\"595\" pageHeight=\"842\" whenNoDataType=\"AllSectionsNoDetail\" columnWidth=\"555\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\"&gt;\n    &lt;parameter name=\"intParam\" class=\"java.lang.Integer\"&gt;\n        &lt;defaultValueExpression&gt;&lt;![CDATA[12345678]]&gt;&lt;/defaultValueExpression&gt;\n    &lt;/parameter&gt;\n    &lt;parameter name=\"strParam\" class=\"java.lang.String\"&gt;\n        &lt;defaultValueExpression&gt;&lt;![CDATA[\"12345678.95\"]]&gt;&lt;/defaultValueExpression&gt;\n    &lt;/parameter&gt;\n    &lt;title&gt;\n        &lt;band height=\"148\" splitType=\"Stretch\"&gt;\n            &lt;textField pattern=\"$ #,##0.00\"&gt;\n                &lt;reportElement x=\"218\" y=\"99\" width=\"100\" height=\"20\"/&gt;\n                &lt;textElement/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{intParam}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField pattern=\"$ #,##0.00\"&gt;\n                &lt;reportElement x=\"218\" y=\"119\" width=\"100\" height=\"20\"/&gt;\n                &lt;textElement/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{strParam} != null &amp;&amp; $P{strParam}.length() &gt; 0 ? Double.valueOf($P{strParam}) : 0]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n        &lt;/band&gt;\n    &lt;/title&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n\n<p>The result will be the same.</p>\n"},{"tags":[],"owner":{"account_id":1945930,"reputation":31,"user_id":1751085,"display_name":"Rushi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1350415440,"creation_date":1350414974,"answer_id":12921916,"question_id":10913495,"body_markdown":"The above code can work for three cases:\r\n\r\n 1. fix two zeros after decimal point. When I tried to use &quot;Double&quot; datatype for this  purpose it did not work for me. But this code can do it.\r\n 2. Fix $ -sign before the number in string datatype and also takes care of &quot;-&quot; sign in its own.\r\n 3. Get &quot;,&quot; after 3 digits in a number\r\n\r\nFor me i wanted to put &quot;,&quot; comma after every three digits (by passing string as a parameter) and i tried the following code. It did work for me.... Thank you very much. I appreciate this answer. \r\n\r\n    &lt;textFieldExpression&gt;\r\n    \t\t\t\t\r\n    &lt;![CDATA[new java.text.DecimalFormat(&quot;$ #,##0.00&quot;).format(Double.valueOf($P{actualWrittenPremium} != null &amp;&amp; $P{actualWrittenPremium}.length() &gt; 0 ? Double.valueOf($P{actualWrittenPremium}) : 0))]]&gt;\r\n                    \r\n    &lt;/textFieldExpression&gt;\r\n\r\n","title":"formatting a string to a currency format in jasper report","body":"<p>The above code can work for three cases:</p>\n\n<ol>\n<li>fix two zeros after decimal point. When I tried to use \"Double\" datatype for this  purpose it did not work for me. But this code can do it.</li>\n<li>Fix $ -sign before the number in string datatype and also takes care of \"-\" sign in its own.</li>\n<li>Get \",\" after 3 digits in a number</li>\n</ol>\n\n<p>For me i wanted to put \",\" comma after every three digits (by passing string as a parameter) and i tried the following code. It did work for me.... Thank you very much. I appreciate this answer. </p>\n\n<pre><code>&lt;textFieldExpression&gt;\n\n&lt;![CDATA[new java.text.DecimalFormat(\"$ #,##0.00\").format(Double.valueOf($P{actualWrittenPremium} != null &amp;&amp; $P{actualWrittenPremium}.length() &gt; 0 ? Double.valueOf($P{actualWrittenPremium}) : 0))]]&gt;\n\n&lt;/textFieldExpression&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2051906,"reputation":855,"user_id":1830720,"accept_rate":44,"display_name":"Rodolfo Velasco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421957160,"creation_date":1421957160,"answer_id":28097717,"question_id":10913495,"body_markdown":"Im using iReport 5.6.0 and I took some of these answers but what It worked for me was:\r\n\r\nText Field (I put this into the designer): \r\n\r\n    Float.valueOf($V{DISPONIBLE_FINAL})\r\n\r\nAnd in the Pattern (into properties tab), I used Custom Format with:\r\n\r\n    $#,##0.00\r\n\r\nPutting all the string mentioned here in a whole &quot;Edit expression&quot; field didnt worked for me.\r\n\r\n\r\nHope It helps. \r\n\r\nPD: I was using groovy jar that is the compatible with jasper 5.6.0 checked in mvnrepository site.","title":"formatting a string to a currency format in jasper report","body":"<p>Im using iReport 5.6.0 and I took some of these answers but what It worked for me was:</p>\n\n<p>Text Field (I put this into the designer): </p>\n\n<pre><code>Float.valueOf($V{DISPONIBLE_FINAL})\n</code></pre>\n\n<p>And in the Pattern (into properties tab), I used Custom Format with:</p>\n\n<pre><code>$#,##0.00\n</code></pre>\n\n<p>Putting all the string mentioned here in a whole \"Edit expression\" field didnt worked for me.</p>\n\n<p>Hope It helps. </p>\n\n<p>PD: I was using groovy jar that is the compatible with jasper 5.6.0 checked in mvnrepository site.</p>\n"},{"tags":[],"owner":{"account_id":1672224,"reputation":141,"user_id":1684503,"display_name":"incircuitous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431623069,"creation_date":1431623069,"answer_id":30243148,"question_id":10913495,"body_markdown":"When trying the recommended answer in iReport, I got &quot;illegal&#160;string&#160;body&#160;character&#160;after&#160;dollar&#160;sign;&quot; when I ran the report.\r\n\r\nEasily remedied by escaping the dollar sign with a backslash like so:\r\n\r\n    new java.text.DecimalFormat(&quot;\\$ #,##0.00&quot;).format(Double.valueOf($F{le1_feeAmount}))","title":"formatting a string to a currency format in jasper report","body":"<p>When trying the recommended answer in iReport, I got \"illegal string body character after dollar sign;\" when I ran the report.</p>\n\n<p>Easily remedied by escaping the dollar sign with a backslash like so:</p>\n\n<pre><code>new java.text.DecimalFormat(\"\\$ #,##0.00\").format(Double.valueOf($F{le1_feeAmount}))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3480919,"reputation":316,"user_id":3821338,"display_name":"Frankstar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1480703587,"creation_date":1480703587,"answer_id":40938854,"question_id":10913495,"body_markdown":"Just came accross this Problem and found a solution which is working fine for me.\r\n\r\nBe Aware - its not exactly what the Autor is asking for but if you google this Problem you will end up here.\r\n\r\nI have Servers with German and English Locale and on all the Currency should be like `7.500,60` \r\n\r\nMy final expression:\r\n\r\n    new java.text.DecimalFormat(&quot;#,##0.00&quot;, new java.text.DecimalFormatSymbols(java.util.Locale.GERMANY)).format($F{variable}) + &quot; €&quot;\r\n\r\nso the Locale Setting is &quot;hardcoded&quot; - exactly what i needed.\r\n\r\nMaybe this will help someone","title":"formatting a string to a currency format in jasper report","body":"<p>Just came accross this Problem and found a solution which is working fine for me.</p>\n\n<p>Be Aware - its not exactly what the Autor is asking for but if you google this Problem you will end up here.</p>\n\n<p>I have Servers with German and English Locale and on all the Currency should be like <code>7.500,60</code> </p>\n\n<p>My final expression:</p>\n\n<pre><code>new java.text.DecimalFormat(\"#,##0.00\", new java.text.DecimalFormatSymbols(java.util.Locale.GERMANY)).format($F{variable}) + \" €\"\n</code></pre>\n\n<p>so the Locale Setting is \"hardcoded\" - exactly what i needed.</p>\n\n<p>Maybe this will help someone</p>\n"},{"tags":[],"owner":{"account_id":6380598,"reputation":2929,"user_id":4950185,"accept_rate":64,"display_name":"Gayan Kavirathne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521574059,"creation_date":1521574059,"answer_id":49392640,"question_id":10913495,"body_markdown":"You can do this also using the iReport Studio.\r\nIn the studio click on the field and see the properties pane.In properties pane under **Text Field Properties** you&#39;ll find the **Pattern** property. Paste **#,##0.00** or click on the three dots and tick the check box in the popup menu to separate at 1000.","title":"formatting a string to a currency format in jasper report","body":"<p>You can do this also using the iReport Studio.\nIn the studio click on the field and see the properties pane.In properties pane under <strong>Text Field Properties</strong> you'll find the <strong>Pattern</strong> property. Paste <strong>#,##0.00</strong> or click on the three dots and tick the check box in the popup menu to separate at 1000.</p>\n"},{"tags":[],"owner":{"account_id":21041909,"reputation":1,"user_id":15464123,"display_name":"Yeison Velasquez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616535526,"creation_date":1616529702,"answer_id":66770481,"question_id":10913495,"body_markdown":"The problem is the locale, this works for me:\r\n```java\r\n     new java.text.DecimalFormat(&quot;#,##0.00&quot;, new DecimalFormatSymbols(Locale.ENGLISH)).format(Double.valueOf($F{7}))\r\n```\r\n","title":"formatting a string to a currency format in jasper report","body":"<p>The problem is the locale, this works for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>     new java.text.DecimalFormat(&quot;#,##0.00&quot;, new DecimalFormatSymbols(Locale.ENGLISH)).format(Double.valueOf($F{7}))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2283646,"reputation":11117,"user_id":2008247,"accept_rate":77,"display_name":"Jan Bodnar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635534932,"creation_date":1635534932,"answer_id":69773797,"question_id":10913495,"body_markdown":"Using `DecimalFormat` is not optimal. For formatting currencies, we should use `NumberFormat`. With `NumberFormat` we are way more flexible; we can set dynamically the current locale and the currencies are automatically adapted to the selected locale.\r\n\r\n```xml\r\n&lt;![CDATA[ NumberFormat.getCurrencyInstance($P{REPORT_LOCALE}).format($F{price}) ]]&gt;\r\n```\r\n\r\nWe can set the locale with the `REPORT_LOCALE` parameter\r\n\r\n```groovy\r\ndef params = [REPORT_LOCALE: new Locale(&quot;sk&quot;, &quot;SK&quot;)]\r\ndef jrPrint = JasperFillManager.fillReport(jrReport, params, ds)\r\n```\r\n\r\nor with the `net.sf.jasperreports.default.locale` property.\r\n\r\n```\r\nnet.sf.jasperreports.default.locale=sk_SK\r\n```\r\n\r\nsee https://zetcode.com/jasperreports/formatcurrency/ for a working example.\r\n","title":"formatting a string to a currency format in jasper report","body":"<p>Using <code>DecimalFormat</code> is not optimal. For formatting currencies, we should use <code>NumberFormat</code>. With <code>NumberFormat</code> we are way more flexible; we can set dynamically the current locale and the currencies are automatically adapted to the selected locale.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;![CDATA[ NumberFormat.getCurrencyInstance($P{REPORT_LOCALE}).format($F{price}) ]]&gt;\n</code></pre>\n<p>We can set the locale with the <code>REPORT_LOCALE</code> parameter</p>\n<pre><code>def params = [REPORT_LOCALE: new Locale(&quot;sk&quot;, &quot;SK&quot;)]\ndef jrPrint = JasperFillManager.fillReport(jrReport, params, ds)\n</code></pre>\n<p>or with the <code>net.sf.jasperreports.default.locale</code> property.</p>\n<pre><code>net.sf.jasperreports.default.locale=sk_SK\n</code></pre>\n<p>see <a href=\"https://zetcode.com/jasperreports/formatcurrency/\" rel=\"nofollow noreferrer\">https://zetcode.com/jasperreports/formatcurrency/</a> for a working example.</p>\n"}],"owner":{"account_id":476363,"reputation":16869,"user_id":887235,"accept_rate":80,"display_name":"Vicky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103490,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":10913921,"answer_count":8,"score":20,"last_activity_date":1635534932,"creation_date":1338982837,"question_id":10913495,"body_markdown":"I have a string with some numeric value. \r\n\r\nI want to format it in a way where hundreds are comma separated and the number is having $ dollar sign before it. \r\n\r\n\r\ne.g. 12345 should be formatted to $ 12,345.00\r\n\r\nI tried the below code without dollar sign:\r\n\r\n    new java.text.DecimalFormat(#,##0.00).format.(myString)\r\n\r\nand the below one with dollar sign:\r\n\r\n    new java.text.DecimalFormat($ #,##0.00).format.(myString)\r\n\r\nHowever, both are giving error. \r\n\r\nWhat is the right way to achieve this format ?\r\n\r\nThis is a part of jasper report jrxml where I want to avoid &quot;null&quot; on the report and thus inserting the below code:\r\n\r\n    &lt;textField isBlankWhenNull=&quot;false&quot; isStretchWithOverflow=&quot;true&quot;&gt;            \r\n      &lt;reportElement stretchType=&quot;RelativeToTallestObject&quot; x=&quot;1350&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;30&quot;/&gt;             \r\n          &lt;textElement/&gt;             \r\n\t   &lt;textFieldExpression class=&quot;java.math.BigDecimal&quot;&gt;&lt;![CDATA[$F{myString}!=null?new java.text.DecimalFormat(#,##0.00).format.($F{myString}):&quot;Unavailable&quot;]]&gt;&lt;/textFieldExpression&gt;        \r\n    &lt;/textField&gt;\r\n\r\n\r\nWhere myString results from a query and is declared in jrxml as:\r\n    \r\n     &lt;field name=&quot;myString&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\r\nEarlier myString was declared as BigDecimal, but then comparison operator ?= was not working. \r\n\r\nIf the currency value is not available, I want to print &quot;unavailable&quot; on the report instead of default &quot;null&quot;. Else, I want the number to be properly formatted as described above.\r\n\r\nHow to resolve this issue?\r\n\r\nThanks for reading. \r\n\r\n    ","title":"formatting a string to a currency format in jasper report","body":"<p>I have a string with some numeric value. </p>\n\n<p>I want to format it in a way where hundreds are comma separated and the number is having $ dollar sign before it. </p>\n\n<p>e.g. 12345 should be formatted to $ 12,345.00</p>\n\n<p>I tried the below code without dollar sign:</p>\n\n<pre><code>new java.text.DecimalFormat(#,##0.00).format.(myString)\n</code></pre>\n\n<p>and the below one with dollar sign:</p>\n\n<pre><code>new java.text.DecimalFormat($ #,##0.00).format.(myString)\n</code></pre>\n\n<p>However, both are giving error. </p>\n\n<p>What is the right way to achieve this format ?</p>\n\n<p>This is a part of jasper report jrxml where I want to avoid \"null\" on the report and thus inserting the below code:</p>\n\n<pre><code>&lt;textField isBlankWhenNull=\"false\" isStretchWithOverflow=\"true\"&gt;            \n  &lt;reportElement stretchType=\"RelativeToTallestObject\" x=\"1350\" y=\"0\" width=\"150\" height=\"30\"/&gt;             \n      &lt;textElement/&gt;             \n   &lt;textFieldExpression class=\"java.math.BigDecimal\"&gt;&lt;![CDATA[$F{myString}!=null?new java.text.DecimalFormat(#,##0.00).format.($F{myString}):\"Unavailable\"]]&gt;&lt;/textFieldExpression&gt;        \n&lt;/textField&gt;\n</code></pre>\n\n<p>Where myString results from a query and is declared in jrxml as:</p>\n\n<pre><code> &lt;field name=\"myString\" class=\"java.lang.String\"/&gt;\n</code></pre>\n\n<p>Earlier myString was declared as BigDecimal, but then comparison operator ?= was not working. </p>\n\n<p>If the currency value is not available, I want to print \"unavailable\" on the report instead of default \"null\". Else, I want the number to be properly formatted as described above.</p>\n\n<p>How to resolve this issue?</p>\n\n<p>Thanks for reading. </p>\n"},{"tags":["java","operators"],"comments":[{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":0,"creation_date":1635534229,"post_id":69773618,"comment_id":123333369,"body_markdown":"actually it&#39;s simple, the right operand is evaluated first, then a binary operation is performed between the left operand and the result of right operand using the operation in the compound expression. in your case 3 / 2 is first evaluated and then a is multiplied by the result the all is saved in a","body":"actually it&#39;s simple, the right operand is evaluated first, then a binary operation is performed between the left operand and the result of right operand using the operation in the compound expression. in your case 3 / 2 is first evaluated and then a is multiplied by the result the all is saved in a"},{"owner":{"account_id":23185311,"reputation":1,"user_id":17282517,"display_name":"nubecoder "},"score":0,"creation_date":1635534840,"post_id":69773618,"comment_id":123333547,"body_markdown":"What is the answer then? A, B, C, D or E?\n\nps thanks for your help =)","body":"What is the answer then? A, B, C, D or E?  ps thanks for your help =)"},{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":0,"creation_date":1635534884,"post_id":69773618,"comment_id":123333561,"body_markdown":"a = a * (3 / 2)","body":"a = a * (3 / 2)"}],"answers":[{"tags":[],"owner":{"account_id":23185632,"reputation":14,"user_id":17282791,"display_name":"sad-torvalds"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1635534866,"creation_date":1635534866,"answer_id":69773789,"question_id":69773618,"body_markdown":"semantic of operator assignment in any programming language is as following:\r\n\r\nlvalue *= rvalue  =&gt; lvalue = lvalue * (rvalue)\r\n\r\nWhere rvalue can be any expression, therefore:\r\na *= 3 / 2 =&gt; a = a * (3/2)   -&gt; answer is E\r\n\r\nRead more about it here: https://www.cs.umd.edu/~clin/MoreJava/Intro/assign-compound.html","title":"multiplication compound assignment operator with more than two numbers","body":"<p>semantic of operator assignment in any programming language is as following:</p>\n<p>lvalue *= rvalue  =&gt; lvalue = lvalue * (rvalue)</p>\n<p>Where rvalue can be any expression, therefore:\na *= 3 / 2 =&gt; a = a * (3/2)   -&gt; answer is E</p>\n<p>Read more about it here: <a href=\"https://www.cs.umd.edu/%7Eclin/MoreJava/Intro/assign-compound.html\" rel=\"nofollow noreferrer\">https://www.cs.umd.edu/~clin/MoreJava/Intro/assign-compound.html</a></p>\n"}],"owner":{"account_id":23185311,"reputation":1,"user_id":17282517,"display_name":"nubecoder "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69773789,"answer_count":1,"score":-2,"last_activity_date":1635534866,"creation_date":1635533892,"question_id":69773618,"body_markdown":"I am doing coding exercises right now and came across one task which I don&#39;t know how to do, I also could not find any solution on the internet =(\r\n\r\n    For which assignment does the abbreviation stand: a *= 3 / 2?\r\n    \r\n    А) a = b + 3 / 2\r\n    B) a = a * 3 / 2\r\n    C) a + b - 3 / 2\r\n    D) a * b / 3 / 2\r\n    E) a = a * (3 / 2)\r\n\r\nI know how =* and all alike compound operators work with a single number, but I don&#39;t know how it works with a complex expression like 3 / 2. IntelliJ IDEA also runs into an error when trying to run &quot;a *= 3 / 2&quot;\r\n\r\nHelp me please =) ","title":"multiplication compound assignment operator with more than two numbers","body":"<p>I am doing coding exercises right now and came across one task which I don't know how to do, I also could not find any solution on the internet =(</p>\n<pre><code>For which assignment does the abbreviation stand: a *= 3 / 2?\n\nА) a = b + 3 / 2\nB) a = a * 3 / 2\nC) a + b - 3 / 2\nD) a * b / 3 / 2\nE) a = a * (3 / 2)\n</code></pre>\n<p>I know how =* and all alike compound operators work with a single number, but I don't know how it works with a complex expression like 3 / 2. IntelliJ IDEA also runs into an error when trying to run &quot;a *= 3 / 2&quot;</p>\n<p>Help me please =)</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1635534958,"post_id":69761631,"comment_id":123333579,"body_markdown":"i think your dependecy have two version of this class , try to exclude one at yiur build.gradle with you with exclude command .","body":"i think your dependecy have two version of this class , try to exclude one at yiur build.gradle with you with exclude command ."}],"owner":{"account_id":23176275,"reputation":31,"user_id":17274733,"display_name":"Valentin Cebuc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1635534592,"creation_date":1635459944,"question_id":69761631,"body_markdown":"So i imported this project in hope that i learn something. I uploaded the code on the robot and the robot worked perfectly fine. Weird thing is, minutes after i uploaded the code the laptop started giving me the &#39;cannot resolve symbol&#39; error, i solved that and now i have some duplicate class error. I&#39;ve been stuck at this point for 2 weeks now, i would really really appreciate some help. \r\nThe error looks like this:\r\n\r\n    Duplicate class com.google.ftcreasearch.tfod.BuildConfig found in modules jetified-tfod-1.0.2-runtime (orc.firstinspires.ftc:tfod:1.0.2) and jetified-tfod-release-runtime (:tfod-release:)\r\n\r\n\r\nthing is, the code was made a year ago so it had some outdated gradle files, without updating them the program gave me the &#39;cannot resolve symbol&#39; error on almost every line, as mentioned above. After updating them i get the duplicate class error.\r\n*UPDATE* I manually deleted the duplicates(i saw a video on youtube of a guy going in the files and deleting them so i did the same), i went where the modules were &quot;hidden&quot; and deleted them. As expected another problem has occured\r\n\r\n    2 files found with path &#39;lib/arm64-v8a/libimage_utils.so&#39; from inputs:\r\n - C:\\Users\\name\\.gradle\\caches\\transforms-3\\c09d9b3577f163a962e3ae4caf80e495\\transformed\\jetified-tfod-release\\jni\\arm64-v8a\\libimage_utils.so\r\n - C:\\Users\\name\\.gradle\\caches\\transforms-3\\f0d42d80572ccbf9ef09ab02117d3471\\transformed\\jetified-tfod-1.0.2\\jni\\arm64-v8a\\libimage_utils.so\r\n\r\ndeleting them would just make another 2 appear, the app gives me a link to a site that recommends removing the &quot;jni&quot; files, i just dont know how to do that.\r\n\r\n\r\n","title":"duplicate class in ftc android studio","body":"<p>So i imported this project in hope that i learn something. I uploaded the code on the robot and the robot worked perfectly fine. Weird thing is, minutes after i uploaded the code the laptop started giving me the 'cannot resolve symbol' error, i solved that and now i have some duplicate class error. I've been stuck at this point for 2 weeks now, i would really really appreciate some help.\nThe error looks like this:</p>\n<pre><code>Duplicate class com.google.ftcreasearch.tfod.BuildConfig found in modules jetified-tfod-1.0.2-runtime (orc.firstinspires.ftc:tfod:1.0.2) and jetified-tfod-release-runtime (:tfod-release:)\n</code></pre>\n<p>thing is, the code was made a year ago so it had some outdated gradle files, without updating them the program gave me the 'cannot resolve symbol' error on almost every line, as mentioned above. After updating them i get the duplicate class error.\n<em>UPDATE</em> I manually deleted the duplicates(i saw a video on youtube of a guy going in the files and deleting them so i did the same), i went where the modules were &quot;hidden&quot; and deleted them. As expected another problem has occured</p>\n<pre><code>2 files found with path 'lib/arm64-v8a/libimage_utils.so' from inputs:\n</code></pre>\n<ul>\n<li>C:\\Users\\name.gradle\\caches\\transforms-3\\c09d9b3577f163a962e3ae4caf80e495\\transformed\\jetified-tfod-release\\jni\\arm64-v8a\\libimage_utils.so</li>\n<li>C:\\Users\\name.gradle\\caches\\transforms-3\\f0d42d80572ccbf9ef09ab02117d3471\\transformed\\jetified-tfod-1.0.2\\jni\\arm64-v8a\\libimage_utils.so</li>\n</ul>\n<p>deleting them would just make another 2 appear, the app gives me a link to a site that recommends removing the &quot;jni&quot; files, i just dont know how to do that.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":2,"creation_date":1635532663,"post_id":69773396,"comment_id":123332931,"body_markdown":"`@JsonFormat` drives formatting only if serializing to JSON, not to a DB.  Your specific database engine will determine how dates are stored.  Not sure why your dates are off, but it&#39;s probably a time zone thing.  I would also suggest using the newer `java.time` stuff as opposed to the old `java.util.Date` and `java.util.Calendar` stuff as the newer is much cleaner to interact with.","body":"<code>@JsonFormat</code> drives formatting only if serializing to JSON, not to a DB.  Your specific database engine will determine how dates are stored.  Not sure why your dates are off, but it&#39;s probably a time zone thing.  I would also suggest using the newer <code>java.time</code> stuff as opposed to the old <code>java.util.Date</code> and <code>java.util.Calendar</code> stuff as the newer is much cleaner to interact with."}],"answers":[{"tags":[],"owner":{"account_id":23135493,"reputation":277,"user_id":17239785,"display_name":"Mani"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1635534336,"creation_date":1635533966,"answer_id":69773632,"question_id":69773396,"body_markdown":"```\r\n@Temporal(TemporalType.DATE)\r\n@JsonFormat(pattern=&quot;yyyy--MM-dd&quot;)\r\nprivate Date arrivalDate;\r\n\r\n\r\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\nCalendar c = Calendar.getInstance();\r\nc.setTime(r.getArrivalDate());\r\nc.add(Calendar.DATE, 2);\r\nString output = sdf.format(c.getTime());\r\nresidencesReportLine.setDepartDate(Timestamp.valueOf(output));\r\n```","title":"Fetched Date is setting incorrectly","body":"<pre><code>@Temporal(TemporalType.DATE)\n@JsonFormat(pattern=&quot;yyyy--MM-dd&quot;)\nprivate Date arrivalDate;\n\n\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\nCalendar c = Calendar.getInstance();\nc.setTime(r.getArrivalDate());\nc.add(Calendar.DATE, 2);\nString output = sdf.format(c.getTime());\nresidencesReportLine.setDepartDate(Timestamp.valueOf(output));\n</code></pre>\n"}],"owner":{"account_id":22517499,"reputation":220,"user_id":16711532,"display_name":"zyyyzzz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69773632,"answer_count":1,"score":0,"last_activity_date":1635534336,"creation_date":1635532465,"question_id":69773396,"body_markdown":"So for example I save `Date` to database:\r\n```\r\n@Temporal(TemporalType.DATE)\r\n@JsonFormat(pattern=&quot;dd-MM-yyyy&quot;)\r\nprivate Date arrivalDate;\r\n```\r\nAnd it is saved to database as this date for example `2021-09-01`. Then I fetch this date and add two day for example and it should be `2021-09-03`. This is the code:\r\n```\r\nCalendar c = Calendar.getInstance();\r\nc.setTime(r.getArrivalDate()); // 2021-09-01\r\nc.add(Calendar.DATE, r.getLivedFor()); // +2 days\r\nresidencesReportLine.setDepartDate(c.getTime());\r\n```\r\nBut the result I get is not the correct I want, because I get this:\r\n```\r\narrivalDate: 2021-08-31\r\ndepartDate: 2021-09-02\r\n```\r\nis should be\r\n```\r\narrivalDate: 2021-09-01\r\ndepartDate: 2021-09-03\r\n```\r\n\r\nHow I should fix this?","title":"Fetched Date is setting incorrectly","body":"<p>So for example I save <code>Date</code> to database:</p>\n<pre><code>@Temporal(TemporalType.DATE)\n@JsonFormat(pattern=&quot;dd-MM-yyyy&quot;)\nprivate Date arrivalDate;\n</code></pre>\n<p>And it is saved to database as this date for example <code>2021-09-01</code>. Then I fetch this date and add two day for example and it should be <code>2021-09-03</code>. This is the code:</p>\n<pre><code>Calendar c = Calendar.getInstance();\nc.setTime(r.getArrivalDate()); // 2021-09-01\nc.add(Calendar.DATE, r.getLivedFor()); // +2 days\nresidencesReportLine.setDepartDate(c.getTime());\n</code></pre>\n<p>But the result I get is not the correct I want, because I get this:</p>\n<pre><code>arrivalDate: 2021-08-31\ndepartDate: 2021-09-02\n</code></pre>\n<p>is should be</p>\n<pre><code>arrivalDate: 2021-09-01\ndepartDate: 2021-09-03\n</code></pre>\n<p>How I should fix this?</p>\n"},{"tags":["java","generics","jls","unchecked","unchecked-cast"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1635532020,"post_id":69773277,"comment_id":123332736,"body_markdown":"&quot;he compiler does not know until the runtime&quot; &lt;-- Incorrect. Not even the runtime knows at the point of the cast. If the cast is invalid, it will be known _later_, or even never at all.","body":"&quot;he compiler does not know until the runtime&quot; &lt;-- Incorrect. Not even the runtime knows at the point of the cast. If the cast is invalid, it will be known <i>later</i>, or even never at all."},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1635532209,"post_id":69773277,"comment_id":123332793,"body_markdown":"@Sweeper : I mean the same thing - that until runtime the java system will not know if the cast will be compatible or not - if it does not then it will be flagged as the RuntimeException.","body":"@Sweeper : I mean the same thing - that until runtime the java system will not know if the cast will be compatible or not - if it does not then it will be flagged as the RuntimeException."},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1635532271,"post_id":69773277,"comment_id":123332812,"body_markdown":"@user16320675 : yeah .. that&#39;s true - then how do you define &quot;Unchecked&quot; cast?","body":"@user16320675 : yeah .. that&#39;s true - then how do you define &quot;Unchecked&quot; cast?"},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1635532524,"post_id":69773277,"comment_id":123332887,"body_markdown":"@user16320675 : Ok - then how about this : `Integer a = Integer.valueOf(23);Class dd = (Class) (Object) a; //not unchecked cast`","body":"@user16320675 : Ok - then how about this : <code>Integer a = Integer.valueOf(23);Class dd = (Class) (Object) a; &#47;&#47;not unchecked cast</code>"},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1635532621,"post_id":69773277,"comment_id":123332917,"body_markdown":"@user16320675 : Or rather the example that I pasted above - do u mean that the runtime will happily allow the `List&lt;String&gt; -&gt; List&lt;?&gt; -&gt; List&lt;Integer&gt;` at runtime?","body":"@user16320675 : Or rather the example that I pasted above - do u mean that the runtime will happily allow the <code>List&lt;String&gt; -&gt; List&lt;?&gt; -&gt; List&lt;Integer&gt;</code> at runtime?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1635532736,"post_id":69773277,"comment_id":123332958,"body_markdown":"@theutonium.18 Yes. Did you not even run your code?","body":"@theutonium.18 Yes. Did you not even run your code?"},{"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"score":0,"creation_date":1635533346,"post_id":69773277,"comment_id":123333131,"body_markdown":"@user16320675 : sounds good as sweeper also mentioned - but will wait for some more comments on this.","body":"@user16320675 : sounds good as sweeper also mentioned - but will wait for some more comments on this."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635534315,"creation_date":1635534315,"answer_id":69773694,"question_id":69773277,"body_markdown":"&gt; Unchecked cast is flagged as the compiler does not know until the runtime if the type represented by the `Supertype` will ever match the `SubType`.\r\n\r\nThat is incorrect. Not even the runtime knows whether your list is a `ArrayList&lt;String&gt;` or a `ArrayList&lt;Integer&gt;`. As far as the runtime is concerned, your list is an `ArrayList` (This is because of [type erasure](https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens)). This is why casting a `List&lt;?&gt;` to a `List&lt;String&gt;` cannot be checked by the runtime. The runtime does not know what a `List&lt;String&gt;` is - it only knows about `List`. To the runtime, no checks are needed, since you are just casting from `List` to `List`, which always succeeds. In fact, nothing is done for this cast at runtime - it is a _completely unchecked_ cast.\r\n\r\nAs a result, this code runs without throwing an exception:\r\n\r\n    List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n    stringList.add(&quot;foo&quot;);\r\n    List&lt;Integer&gt; integerList = (List&lt;Integer&gt;)(List&lt;?&gt;)stringList;\r\n    System.out.println(integerList.size());\r\n\r\nIt _will_ throw an exception, however, if you did:\r\n\r\n    List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n    stringList.add(&quot;foo&quot;);\r\n    List&lt;Integer&gt; integerList = (List&lt;Integer&gt;)(List&lt;?&gt;)stringList;\r\n    System.out.println(integerList.get(0) - 1);\r\n\r\nNow, you are getting an integer out of the list, and doing some integer-specific operations to it. But the list contains `&quot;foo&quot;`, which isn&#39;t an integer. The compiler inserts an implicit cast to cast `integerList.get(0)` to `Integer`, and that cast failed. Note that this is a checked cast, because the runtime knows about the type `Integer`.\r\n\r\nThe cast from `Number` to `Double` is also checked, because the runtime knows about `Double`.\r\n\r\nSide note: there are also &quot;partially unchecked casts&quot;, which are things like casting from `Object` to `ArrayList&lt;String&gt;`. The runtime can check whether the `Object` is an `ArrayList`, but it cannot check whether it is an array list of **strings**.\r\n\r\nSee all the rules for what is checked and what is unchecked [here][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.5.2","title":"Unchecked Cast warning - shows up for Type parameters but not for Concrete types?","body":"<blockquote>\n<p>Unchecked cast is flagged as the compiler does not know until the runtime if the type represented by the <code>Supertype</code> will ever match the <code>SubType</code>.</p>\n</blockquote>\n<p>That is incorrect. Not even the runtime knows whether your list is a <code>ArrayList&lt;String&gt;</code> or a <code>ArrayList&lt;Integer&gt;</code>. As far as the runtime is concerned, your list is an <code>ArrayList</code> (This is because of <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">type erasure</a>). This is why casting a <code>List&lt;?&gt;</code> to a <code>List&lt;String&gt;</code> cannot be checked by the runtime. The runtime does not know what a <code>List&lt;String&gt;</code> is - it only knows about <code>List</code>. To the runtime, no checks are needed, since you are just casting from <code>List</code> to <code>List</code>, which always succeeds. In fact, nothing is done for this cast at runtime - it is a <em>completely unchecked</em> cast.</p>\n<p>As a result, this code runs without throwing an exception:</p>\n<pre><code>List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\nstringList.add(&quot;foo&quot;);\nList&lt;Integer&gt; integerList = (List&lt;Integer&gt;)(List&lt;?&gt;)stringList;\nSystem.out.println(integerList.size());\n</code></pre>\n<p>It <em>will</em> throw an exception, however, if you did:</p>\n<pre><code>List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\nstringList.add(&quot;foo&quot;);\nList&lt;Integer&gt; integerList = (List&lt;Integer&gt;)(List&lt;?&gt;)stringList;\nSystem.out.println(integerList.get(0) - 1);\n</code></pre>\n<p>Now, you are getting an integer out of the list, and doing some integer-specific operations to it. But the list contains <code>&quot;foo&quot;</code>, which isn't an integer. The compiler inserts an implicit cast to cast <code>integerList.get(0)</code> to <code>Integer</code>, and that cast failed. Note that this is a checked cast, because the runtime knows about the type <code>Integer</code>.</p>\n<p>The cast from <code>Number</code> to <code>Double</code> is also checked, because the runtime knows about <code>Double</code>.</p>\n<p>Side note: there are also &quot;partially unchecked casts&quot;, which are things like casting from <code>Object</code> to <code>ArrayList&lt;String&gt;</code>. The runtime can check whether the <code>Object</code> is an <code>ArrayList</code>, but it cannot check whether it is an array list of <strong>strings</strong>.</p>\n<p>See all the rules for what is checked and what is unchecked <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.5.2\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69773694,"answer_count":1,"score":0,"last_activity_date":1635534315,"creation_date":1635531792,"question_id":69773277,"body_markdown":"Consider the following snippet:\r\n```java\r\n\r\n\t    Integer a = Integer.valueOf(23);\r\n        Double d = (Double) (Number) a; //not unchecked cast\r\n\r\n\r\n\t    List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; integerList = (List&lt;Integer&gt;)(List&lt;?&gt;)stringList; //unchecked cast\r\n```\r\n- From what I understand - whenever we convert `Supertype -&gt; Subtype` **Unchecked cast is flagged as the compiler does not know until the runtime if the type represented by the `Supertype` will ever match the `SubType`.**\r\n- Then over here - why is `(Double) (Number)a` not being flagged as the `Unchecked Cast`?","title":"Unchecked Cast warning - shows up for Type parameters but not for Concrete types?","body":"<p>Consider the following snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        Integer a = Integer.valueOf(23);\n        Double d = (Double) (Number) a; //not unchecked cast\n\n\n        List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; integerList = (List&lt;Integer&gt;)(List&lt;?&gt;)stringList; //unchecked cast\n</code></pre>\n<ul>\n<li>From what I understand - whenever we convert <code>Supertype -&gt; Subtype</code> <strong>Unchecked cast is flagged as the compiler does not know until the runtime if the type represented by the <code>Supertype</code> will ever match the <code>SubType</code>.</strong></li>\n<li>Then over here - why is <code>(Double) (Number)a</code> not being flagged as the <code>Unchecked Cast</code>?</li>\n</ul>\n"},{"tags":["java","kotlin","zoneddatetime"],"answers":[{"tags":[],"owner":{"account_id":1041528,"reputation":3262,"user_id":1047469,"display_name":"marthursson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635498242,"creation_date":1635497385,"answer_id":69766051,"question_id":69765990,"body_markdown":"Your date string doesn&#39;t include a timezone, so it cannot be parsed directly to a `ZonedDateTime` (see javadoc for `ZonedDateTime#parse`).\r\n\r\nTry parsing the string to a `LocalDateTime` instead (using `LocalDate#parse)`.\r\n\r\nYou can then convert the the `LocalDateTime`to an `Instant` using `LocalDateTime#toInstant` or to a `ZonedDateTime` using `LocalDateTime#atZone`","title":"Kotlin/java - How to convert a date time string to Instant?","body":"<p>Your date string doesn't include a timezone, so it cannot be parsed directly to a <code>ZonedDateTime</code> (see javadoc for <code>ZonedDateTime#parse</code>).</p>\n<p>Try parsing the string to a <code>LocalDateTime</code> instead (using <code>LocalDate#parse)</code>.</p>\n<p>You can then convert the the <code>LocalDateTime</code>to an <code>Instant</code> using <code>LocalDateTime#toInstant</code> or to a <code>ZonedDateTime</code> using <code>LocalDateTime#atZone</code></p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1635527043,"creation_date":1635498161,"answer_id":69766221,"question_id":69765990,"body_markdown":"You can combine the date and time strings to create a date-time string in ISO 8601 format which you can parse into `LocalDateTime` and then convert into `Instant` by using the applicable `ZoneId`. Note that the modern Date-Time API is based on [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) and does not require using a `DateTimeFormatter` object explicitly as long as the Date-Time string conforms to the ISO 8601 standards.\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString strDate = &quot;2021-11-25&quot;;\r\n    \t\tString strTime = &quot;15:20&quot;;\r\n    \t\tString strDateTime = strDate + &quot;T&quot; + strTime;\r\n    \t\tLocalDateTime ldt = LocalDateTime.parse(strDateTime);\r\n    \t\tInstant instant = ldt.atZone(ZoneId.systemDefault()).toInstant();\r\n    \t\tSystem.out.println(instant);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2021-11-25T15:20:00Z\r\n\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\n### Some alternative approaches:\r\n\r\n 1. Create the instance of `LocalDateTime` can be as suggested by [daniu](https://stackoverflow.com/users/2837741/daniu) i.e. parse the date and time strings individually and create the instance of `LocalDateTime` using them.\r\n\r\n**Demo:**\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.time.LocalTime;\r\n    import java.time.ZoneId;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString strDate = &quot;2021-11-25&quot;;\r\n    \t\tString strTime = &quot;15:20&quot;;\r\n    \t\tLocalDateTime ldt = LocalDateTime.of(LocalDate.parse(strDate), LocalTime.parse(strTime));\r\n    \t\tInstant instant = ldt.atZone(ZoneId.systemDefault()).toInstant();\r\n    \t\tSystem.out.println(instant);\r\n    \t}\r\n    }\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][2]\r\n\r\n 2. Create the instance of `ZonedDateTime` using [`ZonedDateTime#of(LocalDate, LocalTime, ZoneId)`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#of-java.time.LocalDate-java.time.LocalTime-java.time.ZoneId-) as suggested by [Ole V.V.](https://stackoverflow.com/users/5772882/ole-v-v). Another variant that you can try with this approach is by using [`ZonedDateTime#of(LocalDateTime, ZoneId)`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#of-java.time.LocalDateTime-java.time.ZoneId-).\r\n\r\n**Demo:**\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDate;\r\n    import java.time.LocalTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString strDate = &quot;2021-11-25&quot;;\r\n    \t\tString strTime = &quot;15:20&quot;;\r\n    \t\tZonedDateTime zdt = ZonedDateTime.of(LocalDate.parse(strDate), LocalTime.parse(strTime),\r\n    \t\t\t\t\t\t\t\t\t\t\t\tZoneId.systemDefault());\r\n    \t\t// Alternatively\r\n    \t\t// ZonedDateTime zdt = ZonedDateTime.of(LocalDateTime.of(LocalDate.parse(strDate), LocalTime.parse(strTime)),\r\n    \t\t//\t\t\t\t\t\t\t\t\t\t\tZoneId.systemDefault());\r\n    \t\t\r\n    \t\tInstant instant = zdt.toInstant();\r\n    \t\tSystem.out.println(instant);\r\n    \t}\r\n    }\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][3]\r\n\r\n 3. Combine the date and time strings to create a date-time string in ISO 8601 format and parse the same to `ZonedDateTime` using `DateTimeFormatter.ISO_LOCAL_DATE_TIME.withZone(ZoneId.systemDefault())`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.Instant;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString strDate = &quot;2021-11-25&quot;;\r\n    \t\tString strTime = &quot;15:20&quot;;\r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ISO_LOCAL_DATE_TIME.withZone(ZoneId.systemDefault());\r\n    \t\tZonedDateTime zdt = ZonedDateTime.parse(strDate + &quot;T&quot; + strTime, dtf);\r\n    \t\tInstant instant = zdt.toInstant();\r\n    \t\tSystem.out.println(instant);\r\n    \t}\r\n    }\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][4]\r\n\r\n 4. Create an instance of `LocalDateTime` by parsing the date and time strings, and use the [`LocalDateTime#toInstant`](https://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoLocalDateTime.html#toInstant-java.time.ZoneOffset-) to get the required `Instant`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.time.LocalTime;\r\n    import java.time.ZoneId;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString strDate = &quot;2021-11-25&quot;;\r\n    \t\tString strTime = &quot;15:20&quot;;\r\n    \t\tLocalDateTime ldt = LocalDateTime.of(LocalDate.parse(strDate), LocalTime.parse(strTime));\r\n    \t\tInstant instant = ldt.toInstant(ZoneId.systemDefault().getRules().getOffset(ldt));\r\n    \t\tSystem.out.println(instant);\r\n    \t}\r\n    }\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][5]\r\n\r\nLearn more about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**. Check [this answer](https://stackoverflow.com/a/67752047/10819573) and [this answer](https://stackoverflow.com/a/67505173/10819573) to learn how to use `java.time` API with JDBC.\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/4H9Prv\r\n  [2]: https://ideone.com/MWOG0a\r\n  [3]: https://ideone.com/XjRVox\r\n  [4]: https://ideone.com/3wRBKd\r\n  [5]: https://ideone.com/7GrVDq","title":"Kotlin/java - How to convert a date time string to Instant?","body":"<p>You can combine the date and time strings to create a date-time string in ISO 8601 format which you can parse into <code>LocalDateTime</code> and then convert into <code>Instant</code> by using the applicable <code>ZoneId</code>. Note that the modern Date-Time API is based on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> and does not require using a <code>DateTimeFormatter</code> object explicitly as long as the Date-Time string conforms to the ISO 8601 standards.</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\n\npublic class Main {\n    public static void main(String[] args) {\n        String strDate = &quot;2021-11-25&quot;;\n        String strTime = &quot;15:20&quot;;\n        String strDateTime = strDate + &quot;T&quot; + strTime;\n        LocalDateTime ldt = LocalDateTime.parse(strDateTime);\n        Instant instant = ldt.atZone(ZoneId.systemDefault()).toInstant();\n        System.out.println(instant);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2021-11-25T15:20:00Z\n</code></pre>\n<p><a href=\"https://ideone.com/4H9Prv\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<h3>Some alternative approaches:</h3>\n<ol>\n<li>Create the instance of <code>LocalDateTime</code> can be as suggested by <a href=\"https://stackoverflow.com/users/2837741/daniu\">daniu</a> i.e. parse the date and time strings individually and create the instance of <code>LocalDateTime</code> using them.</li>\n</ol>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.LocalTime;\nimport java.time.ZoneId;\n\npublic class Main {\n    public static void main(String[] args) {\n        String strDate = &quot;2021-11-25&quot;;\n        String strTime = &quot;15:20&quot;;\n        LocalDateTime ldt = LocalDateTime.of(LocalDate.parse(strDate), LocalTime.parse(strTime));\n        Instant instant = ldt.atZone(ZoneId.systemDefault()).toInstant();\n        System.out.println(instant);\n    }\n}\n</code></pre>\n<p><a href=\"https://ideone.com/MWOG0a\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<ol start=\"2\">\n<li>Create the instance of <code>ZonedDateTime</code> using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#of-java.time.LocalDate-java.time.LocalTime-java.time.ZoneId-\" rel=\"noreferrer\"><code>ZonedDateTime#of(LocalDate, LocalTime, ZoneId)</code></a> as suggested by <a href=\"https://stackoverflow.com/users/5772882/ole-v-v\">Ole V.V.</a>. Another variant that you can try with this approach is by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#of-java.time.LocalDateTime-java.time.ZoneId-\" rel=\"noreferrer\"><code>ZonedDateTime#of(LocalDateTime, ZoneId)</code></a>.</li>\n</ol>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        String strDate = &quot;2021-11-25&quot;;\n        String strTime = &quot;15:20&quot;;\n        ZonedDateTime zdt = ZonedDateTime.of(LocalDate.parse(strDate), LocalTime.parse(strTime),\n                                                ZoneId.systemDefault());\n        // Alternatively\n        // ZonedDateTime zdt = ZonedDateTime.of(LocalDateTime.of(LocalDate.parse(strDate), LocalTime.parse(strTime)),\n        //                                          ZoneId.systemDefault());\n        \n        Instant instant = zdt.toInstant();\n        System.out.println(instant);\n    }\n}\n</code></pre>\n<p><a href=\"https://ideone.com/XjRVox\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<ol start=\"3\">\n<li>Combine the date and time strings to create a date-time string in ISO 8601 format and parse the same to <code>ZonedDateTime</code> using <code>DateTimeFormatter.ISO_LOCAL_DATE_TIME.withZone(ZoneId.systemDefault())</code>.</li>\n</ol>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Instant;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class Main {\n    public static void main(String[] args) {\n        String strDate = &quot;2021-11-25&quot;;\n        String strTime = &quot;15:20&quot;;\n        DateTimeFormatter dtf = DateTimeFormatter.ISO_LOCAL_DATE_TIME.withZone(ZoneId.systemDefault());\n        ZonedDateTime zdt = ZonedDateTime.parse(strDate + &quot;T&quot; + strTime, dtf);\n        Instant instant = zdt.toInstant();\n        System.out.println(instant);\n    }\n}\n</code></pre>\n<p><a href=\"https://ideone.com/3wRBKd\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<ol start=\"4\">\n<li>Create an instance of <code>LocalDateTime</code> by parsing the date and time strings, and use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/chrono/ChronoLocalDateTime.html#toInstant-java.time.ZoneOffset-\" rel=\"noreferrer\"><code>LocalDateTime#toInstant</code></a> to get the required <code>Instant</code>.</li>\n</ol>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.LocalTime;\nimport java.time.ZoneId;\n\npublic class Main {\n    public static void main(String[] args) {\n        String strDate = &quot;2021-11-25&quot;;\n        String strTime = &quot;15:20&quot;;\n        LocalDateTime ldt = LocalDateTime.of(LocalDate.parse(strDate), LocalTime.parse(strTime));\n        Instant instant = ldt.toInstant(ZoneId.systemDefault().getRules().getOffset(ldt));\n        System.out.println(instant);\n    }\n}\n</code></pre>\n<p><a href=\"https://ideone.com/7GrVDq\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"noreferrer\">modern Date-Time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>. Check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this answer</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this answer</a> to learn how to use <code>java.time</code> API with JDBC.</p>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"noreferrer\">support for <code>java.time</code></a>.\n</sup></p>\n"}],"owner":{"account_id":9514033,"reputation":1402,"user_id":7071069,"accept_rate":54,"display_name":"Leff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11278,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":69766221,"answer_count":2,"score":5,"last_activity_date":1635533396,"creation_date":1635496974,"question_id":69765990,"body_markdown":"I am trying to create an instance of Instant from date and time strings. Date is formatted like this `yyyy-MM-dd`. So the values could look like this:\r\n\r\n    val date = &quot;2021-11-25&quot;\r\n    val time = &quot;15:20&quot;\r\n\r\nI am trying to make a valid instant from this 2 strings like this:\r\n\r\n    val dateTime = &quot;${date}T${time}:00&quot;\r\n    val instantDateTime = ZonedDateTime.parse(dateTime, \r\n                                              DateTimeFormatter.ISO_OFFSET_DATE_TIME.withZone(defaultTimeZone)\r\n                                             ).toInstant()\r\n\r\nI have also tried with it:\r\n\r\n    val instantDateTime = Instant.from(DateTimeFormatter .ISO_OFFSET_DATE_TIME.withZone(defaultTimeZone).parse(dateTime))\r\n\r\nBut, that is not working, I get:\r\n\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;2021-11-25T15:20:00&#39; could not be parsed at index 19\r\n\r\n","title":"Kotlin/java - How to convert a date time string to Instant?","body":"<p>I am trying to create an instance of Instant from date and time strings. Date is formatted like this <code>yyyy-MM-dd</code>. So the values could look like this:</p>\n<pre><code>val date = &quot;2021-11-25&quot;\nval time = &quot;15:20&quot;\n</code></pre>\n<p>I am trying to make a valid instant from this 2 strings like this:</p>\n<pre><code>val dateTime = &quot;${date}T${time}:00&quot;\nval instantDateTime = ZonedDateTime.parse(dateTime, \n                                          DateTimeFormatter.ISO_OFFSET_DATE_TIME.withZone(defaultTimeZone)\n                                         ).toInstant()\n</code></pre>\n<p>I have also tried with it:</p>\n<pre><code>val instantDateTime = Instant.from(DateTimeFormatter .ISO_OFFSET_DATE_TIME.withZone(defaultTimeZone).parse(dateTime))\n</code></pre>\n<p>But, that is not working, I get:</p>\n<pre><code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '2021-11-25T15:20:00' could not be parsed at index 19\n</code></pre>\n"},{"tags":["java","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":1439522,"reputation":9489,"user_id":1360074,"accept_rate":85,"display_name":"Nikolay Kuznetsov"},"score":3,"creation_date":1360736750,"post_id":14847629,"comment_id":20808687,"body_markdown":"`OutOfMemory` is Error, not Exception and cannot be recovered from.","body":"<code>OutOfMemory</code> is Error, not Exception and cannot be recovered from."},{"owner":{"account_id":1175311,"reputation":15568,"user_id":1151456,"accept_rate":83,"display_name":"Abubakkar"},"score":0,"creation_date":1360737028,"post_id":14847629,"comment_id":20808783,"body_markdown":"why don&#39;t you try processing your data into chunks?","body":"why don&#39;t you try processing your data into chunks?"},{"owner":{"account_id":2184935,"reputation":523,"user_id":1933542,"display_name":"Prateek"},"score":0,"creation_date":1360739566,"post_id":14847629,"comment_id":20809737,"body_markdown":"Welcome to the world of Big Data. Try solutions like, Hadoop, HBase or some other less complex batch procession solution like Spring batch.","body":"Welcome to the world of Big Data. Try solutions like, Hadoop, HBase or some other less complex batch procession solution like Spring batch."}],"answers":[{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360737374,"creation_date":1360737374,"answer_id":14847861,"question_id":14847629,"body_markdown":"Try to use SoftReferences for some big resources you need in memory.\r\n\r\nOrganize caching to free not necessary content from memory. See for example [ehCache][1]\r\n\r\n\r\n  [1]: http://ehcache.org/","title":"Recovering from Java OutOfMemory Exceptions","body":"<p>Try to use SoftReferences for some big resources you need in memory.</p>\n\n<p>Organize caching to free not necessary content from memory. See for example <a href=\"http://ehcache.org/\" rel=\"nofollow\">ehCache</a></p>\n"},{"tags":[],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360738838,"creation_date":1360738838,"answer_id":14848139,"question_id":14847629,"body_markdown":"You can&#39;t recover from OOM as you never know when and where it will hit you.\r\n\r\nTry to use lazy collections like in google&#39;s guava to manipulate on data without creating an extra copy. Use cursors and iterators to avoid full data stored in the memory.","title":"Recovering from Java OutOfMemory Exceptions","body":"<p>You can't recover from OOM as you never know when and where it will hit you.</p>\n\n<p>Try to use lazy collections like in google's guava to manipulate on data without creating an extra copy. Use cursors and iterators to avoid full data stored in the memory.</p>\n"},{"tags":[],"owner":{"account_id":2304421,"reputation":510,"user_id":2023987,"display_name":"Ramadas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360738983,"creation_date":1360738983,"answer_id":14848165,"question_id":14847629,"body_markdown":"Try using distributed memory caching solutions like - ehcache, Memcached, oracle coherence. ","title":"Recovering from Java OutOfMemory Exceptions","body":"<p>Try using distributed memory caching solutions like - ehcache, Memcached, oracle coherence. </p>\n"}],"owner":{"account_id":457847,"reputation":1,"user_id":857384,"display_name":"Gurinder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1635532779,"creation_date":1360736366,"question_id":14847629,"body_markdown":"I am using Spring, Hibernate, Java  1.6 etc.\r\nI am having a complex logic that has multiple Arralists and Maps created within a method.\r\nThe data is loaded from database into Lists and then manipulated to get data ready for jsp pages. \r\nIf the same action is performed quickly and multiple times from that page, it hits the action frequently. As the huge data is processed in action with lists and maps, the applications throws Java Heap OutOfMemory.\r\n\r\nIf I apply -Xms -Xmx, then it will help to some extent, if my data grows this option will loose to memory issue.\r\nI would like to know, is there any way to clear the list once we manipulate and pass them to Model for jsp pages.","title":"Recovering from Java OutOfMemory Exceptions","body":"<p>I am using Spring, Hibernate, Java  1.6 etc.\nI am having a complex logic that has multiple Arralists and Maps created within a method.\nThe data is loaded from database into Lists and then manipulated to get data ready for jsp pages. \nIf the same action is performed quickly and multiple times from that page, it hits the action frequently. As the huge data is processed in action with lists and maps, the applications throws Java Heap OutOfMemory.</p>\n\n<p>If I apply -Xms -Xmx, then it will help to some extent, if my data grows this option will loose to memory issue.\nI would like to know, is there any way to clear the list once we manipulate and pass them to Model for jsp pages.</p>\n"},{"tags":["java","tomcat","struts2","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":2404324,"reputation":2424,"user_id":2101242,"display_name":"DiogoSantana"},"score":0,"creation_date":1366581233,"post_id":16136085,"comment_id":23052336,"body_markdown":"I think your problem should be with FastByteArrayOutpuStream, since PageOutputStream does nothing, it is a wrapper for the FastByteOutputStream.","body":"I think your problem should be with FastByteArrayOutpuStream, since PageOutputStream does nothing, it is a wrapper for the FastByteOutputStream."},{"owner":{"account_id":1383277,"reputation":1197,"user_id":1315831,"accept_rate":81,"display_name":"Michael Freake"},"score":2,"creation_date":1366596510,"post_id":16136085,"comment_id":23055364,"body_markdown":"Add the version of Struts2 that you are using, a full stack trace, and if the stack trace includes code from one of your classes/pages then post that as well.","body":"Add the version of Struts2 that you are using, a full stack trace, and if the stack trace includes code from one of your classes/pages then post that as well."}],"answers":[{"tags":[],"owner":{"account_id":1346532,"reputation":805,"user_id":1287166,"accept_rate":69,"display_name":"Greg Kennedy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1384882943,"creation_date":1384881246,"answer_id":20077767,"question_id":16136085,"body_markdown":"I eventually found out that the problem was a Struts tag in the JSP that was mangled. I was retrieving a set of results in the controller and displaying them in the JSP using `&lt;s:iterator&gt;`\r\n\r\nThese search results included some embedded HTML which created a much longer iteration, not infinite but long enough to consume memory quickly. Once I fixed the embedded HTML the problem disappeared.","title":"PageOutputStream causing java.lang.OutOfMemory","body":"<p>I eventually found out that the problem was a Struts tag in the JSP that was mangled. I was retrieving a set of results in the controller and displaying them in the JSP using <code>&lt;s:iterator&gt;</code></p>\n\n<p>These search results included some embedded HTML which created a much longer iteration, not infinite but long enough to consume memory quickly. Once I fixed the embedded HTML the problem disappeared.</p>\n"}],"owner":{"account_id":1346532,"reputation":805,"user_id":1287166,"accept_rate":69,"display_name":"Greg Kennedy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20077767,"answer_count":1,"score":1,"last_activity_date":1635532757,"creation_date":1366577549,"question_id":16136085,"body_markdown":"We have a struts2 web application running in Tomcat 7 that is intermittently experiencing the same problem:\r\n\r\n 1. Application operating perfectly normally \r\n 2. After a variable amount of time (anywhere from 10 minutes to 7 days) the application slows down to a halt\r\n 3. Multiple java.lang.OutOfMemory errors in catalina.out\r\n 4. Linux free -m shows all physical and swap memory is used up (even though I&#39;ve set Xmx8G in setenv.sh)\r\n\r\nI&#39;ve configured Tomcat to create an automatic heap dump on OutOfMemory and when I analyse the dump using either jmap or MAT in Eclipse every dump shows the same thing. All the memory is taken up by nearly 1 million java.util.LinkedList$Node&#39;s that seem to be generated to by PageOutputStream. \r\n\r\n![Eclipse MAT Histogram][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/iB57R.png\r\n\r\nAs these nodes seem to be generated by PageOutputStream which is part of page rendering in Struts my thought is that there is an infinite loop of Struts tags in one of our JSP pages that&#39;s creating all these linked list nodes but I&#39;m struggling to understand how I might find out what that page might be.\r\n\r\nI&#39;m wondering if anyone knows of a method to isolate this problem further either down to a line of code or a jsp page?","title":"PageOutputStream causing java.lang.OutOfMemory","body":"<p>We have a struts2 web application running in Tomcat 7 that is intermittently experiencing the same problem:</p>\n\n<ol>\n<li>Application operating perfectly normally </li>\n<li>After a variable amount of time (anywhere from 10 minutes to 7 days) the application slows down to a halt</li>\n<li>Multiple java.lang.OutOfMemory errors in catalina.out</li>\n<li>Linux free -m shows all physical and swap memory is used up (even though I've set Xmx8G in setenv.sh)</li>\n</ol>\n\n<p>I've configured Tomcat to create an automatic heap dump on OutOfMemory and when I analyse the dump using either jmap or MAT in Eclipse every dump shows the same thing. All the memory is taken up by nearly 1 million java.util.LinkedList$Node's that seem to be generated to by PageOutputStream. </p>\n\n<p><img src=\"https://i.stack.imgur.com/iB57R.png\" alt=\"Eclipse MAT Histogram\"></p>\n\n<p>As these nodes seem to be generated by PageOutputStream which is part of page rendering in Struts my thought is that there is an infinite loop of Struts tags in one of our JSP pages that's creating all these linked list nodes but I'm struggling to understand how I might find out what that page might be.</p>\n\n<p>I'm wondering if anyone knows of a method to isolate this problem further either down to a line of code or a jsp page?</p>\n"},{"tags":["java","tomcat","jvm","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":1402611,"reputation":4458,"user_id":1331089,"accept_rate":33,"display_name":"Madhusudan Joshi"},"score":0,"creation_date":1369300160,"post_id":16709772,"comment_id":24054573,"body_markdown":"chek out [http://stackoverflow.com/questions/3443937/java-heap-memory-error](http://stackoverflow.com/questions/3443937/java-heap-memory-error)","body":"chek out <a href=\"http://stackoverflow.com/questions/3443937/java-heap-memory-error\">http://stackoverflow.com/questions/3443937/java-heap-memory-&zwnj;&#8203;error</a>"},{"owner":{"account_id":2297199,"reputation":1214,"user_id":2018361,"display_name":"Bob Flannigon"},"score":1,"creation_date":1369300220,"post_id":16709772,"comment_id":24054596,"body_markdown":"What are you using to read the spreadsheet?","body":"What are you using to read the spreadsheet?"},{"owner":{"account_id":2730170,"reputation":530,"user_id":2354134,"display_name":"Eugene"},"score":1,"creation_date":1369300421,"post_id":16709772,"comment_id":24054726,"body_markdown":"Definetly you have to rethink about performed operations. Don&#39;t try to read all ~2500 records in a one step. Make this process iterative. I mean, read portion of data, insert it into your db. Repeat this process until you reach the end.","body":"Definetly you have to rethink about performed operations. Don&#39;t try to read all ~2500 records in a one step. Make this process iterative. I mean, read portion of data, insert it into your db. Repeat this process until you reach the end."},{"owner":{"account_id":1167182,"reputation":535,"user_id":1145180,"accept_rate":59,"display_name":"Pranjali"},"score":0,"creation_date":1369300551,"post_id":16709772,"comment_id":24054795,"body_markdown":"@Bob Flannigon : JExcelApi  is used for reading Excel file","body":"@Bob Flannigon : JExcelApi  is used for reading Excel file"}],"answers":[{"tags":[],"owner":{"account_id":2392024,"reputation":4226,"user_id":2091700,"accept_rate":67,"display_name":"Alphaaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369300195,"creation_date":1369300195,"answer_id":16709844,"question_id":16709772,"body_markdown":"Probably you are loading the entire file in memory.\r\nCan you try to convert your Excel file to plain-text CSV and then read it line by line by using the Java class `Scanner`?\r\n\r\n    Scanner scanner = new Scanner(&quot;yourCsvFile.csv&quot;);\r\n\r\n    while (scanner.hasNextLine()) {\r\n        String line = scanner.nextLine();\r\n\r\n        //process your line\r\n    }","title":"How to get rid off java.lang.OutOfMemoryError: Java heap space","body":"<p>Probably you are loading the entire file in memory.\nCan you try to convert your Excel file to plain-text CSV and then read it line by line by using the Java class <code>Scanner</code>?</p>\n\n<pre><code>Scanner scanner = new Scanner(\"yourCsvFile.csv\");\n\nwhile (scanner.hasNextLine()) {\n    String line = scanner.nextLine();\n\n    //process your line\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369300724,"creation_date":1369300321,"answer_id":16709891,"question_id":16709772,"body_markdown":"&gt; can anyone please tell me what can be done to resolve this issue?\r\n\r\nIt sounds to me like you have a memory leak (i.e. a bug) in your application.  Without seeing your code, we can&#39;t tell you where it is.  However the answers to these questions explain how to find memory leaks in Java programs:\r\n\r\n  - https://stackoverflow.com/questions/1473510/general-strategy-to-resolve-java-memory-leak\r\n  - https://stackoverflow.com/questions/40119/how-to-find-a-java-memory-leak\r\n\r\n-------------\r\n\r\nI should point out that you have specified two different values for the heap size in the JAVA_OPTS and CATALINA_OPTS variables.  Only one of this is going to take effect, but which one depends on the details of the script that is used to start Tomcat.\r\n\r\nHowever, a properly written application shouldn&#39;t run out of memory while uploading data from a spreadsheet.  A heap size of 512Mb should be plenty.","title":"How to get rid off java.lang.OutOfMemoryError: Java heap space","body":"<blockquote>\n  <p>can anyone please tell me what can be done to resolve this issue?</p>\n</blockquote>\n\n<p>It sounds to me like you have a memory leak (i.e. a bug) in your application.  Without seeing your code, we can't tell you where it is.  However the answers to these questions explain how to find memory leaks in Java programs:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1473510/general-strategy-to-resolve-java-memory-leak\">General strategy to resolve Java memory leak?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/40119/how-to-find-a-java-memory-leak\">How to find a Java Memory Leak</a></li>\n</ul>\n\n<hr>\n\n<p>I should point out that you have specified two different values for the heap size in the JAVA_OPTS and CATALINA_OPTS variables.  Only one of this is going to take effect, but which one depends on the details of the script that is used to start Tomcat.</p>\n\n<p>However, a properly written application shouldn't run out of memory while uploading data from a spreadsheet.  A heap size of 512Mb should be plenty.</p>\n"},{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369300443,"creation_date":1369300443,"answer_id":16709925,"question_id":16709772,"body_markdown":"You are probably using Hibernate to insert the records. Hibernate maintains a *session cache* of all saved objects and postpones any actual inserts until transaction commit. You must *flush* the session cache every 100 records or so. It is also advised to *disable the second-level cache* while doing a massive insert.\r\n\r\nThere are several other issues related to batch inserts with Hibernate and [the official documentation](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/batch.html) is mandatory reading for anyone implementing it.","title":"How to get rid off java.lang.OutOfMemoryError: Java heap space","body":"<p>You are probably using Hibernate to insert the records. Hibernate maintains a <em>session cache</em> of all saved objects and postpones any actual inserts until transaction commit. You must <em>flush</em> the session cache every 100 records or so. It is also advised to <em>disable the second-level cache</em> while doing a massive insert.</p>\n\n<p>There are several other issues related to batch inserts with Hibernate and <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/batch.html\" rel=\"nofollow\">the official documentation</a> is mandatory reading for anyone implementing it.</p>\n"},{"tags":[],"owner":{"account_id":1133354,"reputation":197,"user_id":1118924,"display_name":"Rhain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369300676,"creation_date":1369300676,"answer_id":16710002,"question_id":16709772,"body_markdown":"Did you close you File stream?If you didn&#39;t close you file stream,the heap size would be very bigger!Then it would throw a OutOfMemoryError exception.So,check that if you close the file stream!","title":"How to get rid off java.lang.OutOfMemoryError: Java heap space","body":"<p>Did you close you File stream?If you didn't close you file stream,the heap size would be very bigger!Then it would throw a OutOfMemoryError exception.So,check that if you close the file stream!</p>\n"}],"owner":{"account_id":1167182,"reputation":535,"user_id":1145180,"accept_rate":59,"display_name":"Pranjali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3308,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1635532726,"creation_date":1369300006,"question_id":16709772,"body_markdown":"I have went through many links and similar questions related to  **java.lang.OutOfMemoryError: Java heap space** but none of the solutions resolved my problem. So here is my question,\r\nI have a web application where user uploads a Excel file that has records around 2500 my application reads contents of this file and inserts them into Database.\r\nbut after inserting 700 records I am getting exception as **throwable object caught= java.lang.OutOfMemoryError: Java heap space**\r\n\r\nSame code works if file contains 500 or less than 500 records. following is my JAVA_OPTS &amp; CATALINA_OPTS variable in catalina.bat file\r\n\r\n        JAVA_OPTS=-Xmx1536m -XX:MaxPermSize=128m\r\n        CATALINA_OPTS=-Xms512m -Xmx512m\r\n\r\ncan anyone please tell me what can be done to resolve this issue?\r\n","title":"How to get rid off java.lang.OutOfMemoryError: Java heap space","body":"<p>I have went through many links and similar questions related to  <strong>java.lang.OutOfMemoryError: Java heap space</strong> but none of the solutions resolved my problem. So here is my question,\nI have a web application where user uploads a Excel file that has records around 2500 my application reads contents of this file and inserts them into Database.\nbut after inserting 700 records I am getting exception as <strong>throwable object caught= java.lang.OutOfMemoryError: Java heap space</strong></p>\n\n<p>Same code works if file contains 500 or less than 500 records. following is my JAVA_OPTS &amp; CATALINA_OPTS variable in catalina.bat file</p>\n\n<pre><code>    JAVA_OPTS=-Xmx1536m -XX:MaxPermSize=128m\n    CATALINA_OPTS=-Xms512m -Xmx512m\n</code></pre>\n\n<p>can anyone please tell me what can be done to resolve this issue?</p>\n"},{"tags":["java","exception","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1376922077,"post_id":18316110,"comment_id":26878380,"body_markdown":"You should read and apply this: [How do I compare strings in Java?](http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java). Other than that, this was way too much code for a SO question.","body":"You should read and apply this: <a href=\"http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>. Other than that, this was way too much code for a SO question."},{"owner":{"account_id":2333699,"reputation":7028,"user_id":2046509,"accept_rate":75,"display_name":"Dennisch"},"score":2,"creation_date":1376922133,"post_id":18316110,"comment_id":26878411,"body_markdown":"The method creaTabellaTotale is using too much memory. (It&#39;s a good habit to code in English).","body":"The method creaTabellaTotale is using too much memory. (It&#39;s a good habit to code in English)."},{"owner":{"account_id":324610,"reputation":18889,"user_id":645270,"accept_rate":100,"display_name":"keyser"},"score":0,"creation_date":1376922136,"post_id":18316110,"comment_id":26878414,"body_markdown":"And I&#39;m pretty sure you can get rid of some try-catch-statements","body":"And I&#39;m pretty sure you can get rid of some try-catch-statements"},{"owner":{"account_id":2191523,"reputation":6723,"user_id":1938435,"accept_rate":92,"display_name":"PurkkaKoodari"},"score":3,"creation_date":1376922233,"post_id":18316110,"comment_id":26878469,"body_markdown":"Maybe this? `StringBuffer[] tabella = new StringBuffer[pow(27, n)];` is a lot of `StringBuffer`s.","body":"Maybe this? <code>StringBuffer[] tabella = new StringBuffer[pow(27, n)];</code> is a lot of <code>StringBuffer</code>s."},{"owner":{"account_id":1099183,"reputation":353,"user_id":2358839,"accept_rate":82,"display_name":"boris"},"score":0,"creation_date":1376922248,"post_id":18316110,"comment_id":26878478,"body_markdown":"But I tried to run the class creaTabellaTotale separately and it works","body":"But I tried to run the class creaTabellaTotale separately and it works"},{"owner":{"account_id":1099183,"reputation":353,"user_id":2358839,"accept_rate":82,"display_name":"boris"},"score":0,"creation_date":1376922394,"post_id":18316110,"comment_id":26878563,"body_markdown":"@Keyser I was responding to Dennisch","body":"@Keyser I was responding to Dennisch"},{"owner":{"account_id":1099183,"reputation":353,"user_id":2358839,"accept_rate":82,"display_name":"boris"},"score":0,"creation_date":1376928223,"post_id":18316110,"comment_id":26882322,"body_markdown":"I have edited, now I obtain Exception in thread &quot;main&quot; java.lang.NullPointerException\n\tat Riconoscimento2.creaTabellaTotale(Riconoscimento2.java:373)\n\tat Riconoscimento2.main(Riconoscimento2.java:16)  Why ?","body":"I have edited, now I obtain Exception in thread &quot;main&quot; java.lang.NullPointerException \tat Riconoscimento2.creaTabellaTotale(Riconoscimento2.java:373) \tat Riconoscimento2.main(Riconoscimento2.java:16)  Why ?"},{"owner":{"account_id":17619,"reputation":15368,"user_id":39622,"accept_rate":78,"display_name":"Cyrille Ka"},"score":1,"creation_date":1376934226,"post_id":18316110,"comment_id":26885269,"body_markdown":"For the NullPointerException, look at this question: http://stackoverflow.com/questions/14258058/array-of-classes-nullpointerexception","body":"For the NullPointerException, look at this question: <a href=\"http://stackoverflow.com/questions/14258058/array-of-classes-nullpointerexception\" title=\"array of classes nullpointerexception\">stackoverflow.com/questions/14258058/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3098702,"reputation":470,"user_id":2623382,"display_name":"Evgheni Crujcov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1376922261,"creation_date":1376922261,"answer_id":18316248,"question_id":18316110,"body_markdown":"For starters, you&#39;re not closing your input stream, I don&#39;t see a call to in.close() anywhere. Why don&#39;t you try adding that, saving, then shutting down your running jre to release those input stream connections that could still be in memory somewhere, and running this again?","title":"java, OutOfMemoryError: Java heap space","body":"<p>For starters, you're not closing your input stream, I don't see a call to in.close() anywhere. Why don't you try adding that, saving, then shutting down your running jre to release those input stream connections that could still be in memory somewhere, and running this again?</p>\n"},{"tags":[],"owner":{"account_id":17619,"reputation":15368,"user_id":39622,"accept_rate":78,"display_name":"Cyrille Ka"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1376922300,"creation_date":1376922300,"answer_id":18316260,"question_id":18316110,"body_markdown":"This line throws the exception:\r\n\r\n    StringBuffer[] tabella = new StringBuffer[pow(27, n)];\r\n\r\nwhy? well, your function `pow(a, b)` is correct but the `n` variable is a bit off. You are reading it from there:\r\n\r\n    n = in.read();\r\n\r\nThis will give you the ascii code of the character you enter in the console, and not the number. If you write &quot;1&quot;, then `n` will be 49, and pow(27, 49) is way too much.\r\n\r\nTo simply read the input of the user, you should try to use `java.util.Scanner` instead, to get the number that the user inputs.","title":"java, OutOfMemoryError: Java heap space","body":"<p>This line throws the exception:</p>\n\n<pre><code>StringBuffer[] tabella = new StringBuffer[pow(27, n)];\n</code></pre>\n\n<p>why? well, your function <code>pow(a, b)</code> is correct but the <code>n</code> variable is a bit off. You are reading it from there:</p>\n\n<pre><code>n = in.read();\n</code></pre>\n\n<p>This will give you the ascii code of the character you enter in the console, and not the number. If you write \"1\", then <code>n</code> will be 49, and pow(27, 49) is way too much.</p>\n\n<p>To simply read the input of the user, you should try to use <code>java.util.Scanner</code> instead, to get the number that the user inputs.</p>\n"}],"owner":{"account_id":1099183,"reputation":353,"user_id":2358839,"accept_rate":82,"display_name":"boris"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":18316260,"answer_count":2,"score":0,"last_activity_date":1635532712,"creation_date":1376921822,"question_id":18316110,"body_markdown":"This class is designed to determine the language of a text; the user has to enter 4 text in english, danish, italian and latin, and then the text whose language he wants to determine.\r\nThe console says \r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n    \tat Riconoscimento2.creaTabellaTotale(Riconoscimento2.java:365)\r\n    \tat Riconoscimento2.main(Riconoscimento2.java:25)\r\n\r\nI use eclipse, in Run Configurations - Arguments I wrote -Xms2g-Xmx3g. I don&#39;t understand where is the problem.\r\n\r\nThe code is \r\n\r\n   \r\n\r\n     import java.io.*;\r\n    \r\n    import java.util.*;\r\n    \r\n    import prog.io.*;\r\n    \r\n    public class Riconoscimento2 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\t    char[] array = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;, &#39; &#39;};\r\n\t\t\t\tSystem.out.println(&quot;Immetti l&#39;intero n per il calcolo degli n-grammi &quot;);  // questa istruzione richiede di immettere l&#39;intero n \r\n\t\t\t\tBufferedReader sc = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t\t\tScanner in = new Scanner(System.in);\r\n\t\t\t\tint n = in.nextInt();\r\n\t\t\t\tStringBuffer[] tabellaTotale = creaTabellaTotale(n, array);\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Immetti un testo in inglese, che poi verr&#224; utilizzato come paradigma. Ricordati di non inserire rientri a capo.&quot;); // con questa e le successive istruzioni si chiede di immettere dei testi campioni scritti in inglese, danese, italiano, latino\r\n\t\t\t\r\n\t\t\t\t String testo_inglese =&quot;&quot;;\r\n\t\t\t\t try{\r\n\t\t\t\t\t testo_inglese = sc.readLine();\r\n\t\t\t\t }catch(IOException e1){\r\n\t\t\t\t\t System.out.println(&quot;Input non corretto. Immetti un testo in inglese. &quot;);\r\n\t\t\t\t }\r\n\t\t\t\t\t\r\n\t\t\t\t \r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Immetti un testo in danese, che poi verr&#224; utilizzato come paradigma. Ricordati di non inserire rientri a capo.&quot;);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t String testo_danese =&quot;&quot;;\r\n\t\t\t\t try{\r\n\t\t\t\t\t testo_danese = sc.readLine();\r\n\t\t\t\t }catch(IOException e1){\r\n\t\t\t\t\t System.out.println(&quot;Input non corretto. Immetti un testo in danese. &quot;);\r\n\t\t\t\t }\r\n\t\t\t\t\r\n\t\t\t\t \r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Immetti un testo in italiano, che poi verr&#224; utilizzato come paradigma. Ricordati di non inserire rientri a capo.&quot;);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t String testo_italiano =&quot;&quot;;\r\n\t\t\t\t try{\r\n\t\t\t\t\t testo_italiano = sc.readLine();\r\n\t\t\t\t }catch(IOException e1){\r\n\t\t\t\t\t System.out.println(&quot;Input non corretto. Immetti un testo in italiano. &quot;);\r\n\t\t\t\t }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t \r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Immetti un testo in latino, che poi verr&#224; utilizzato come paradigma. Ricordati di non inserire rientri a capo.&quot;);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t String testo_latino =&quot;&quot;;\r\n\t\t\t\t try{\r\n\t\t\t\t\t testo_latino = sc.readLine();\r\n\t\t\t\t }catch(IOException e1){\r\n\t\t\t\t\t System.out.println(&quot;Input non corretto. Immetti un testo in latino. &quot;);\r\n\t\t\t\t }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Immetti il testo di cui vuoi determinare la lingua. Ricordati di non inserire rientri a capo.&quot;);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t String testo =&quot;&quot;;\r\n\t\t\t\t try{\r\n\t\t\t\t\t testo = sc.readLine();\r\n\t\t\t\t }catch(IOException e1){\r\n\t\t\t\t\t System.out.println(&quot;Input non corretto. Immetti il testo di cui vuoi determinare la lingua. &quot;);\r\n\t\t\t\t }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t \r\n\t\t\t\t\t\r\n\t\t\t\tStringBuffer testo_inglese_formattato = formatta(testo_inglese);   // testo_inglese_formattato rappresenta il testo inglese immesso dall&#39;utente in cui i caratteri non alfabetici sono stati trasformati in spazi \r\n\t\t                                                                           // e sono stati rimossi gli spazi multipli. Lo stesso discorso vale per le righe successive.\r\n\t\t\t\tStringBuffer testo_danese_formattato = formatta(testo_danese);\r\n\t\t\t\tStringBuffer testo_italiano_formattato = formatta(testo_italiano);\r\n\t\t\t\tStringBuffer testo_latino_formattato = formatta(testo_latino);\r\n\t\t\t\tStringBuffer testo_formattato = formatta(testo);\r\n\t\t\t\tif ( n &gt; testo.length() ) // questo controllo serve per gestire il caso in cui l&#39;intero immesso dall&#39;utente &#232; pi&#249; lungo della lunghezza del testo\r\n\t\t        System.out.println(&quot;Hai immesso un intero troppo grande se confrontato al testo&quot;);\r\n\t\t\t\telse { \r\n\t\t\t\t\t\r\n\t\t\t\t\tint[] lista_testo = creaLista(testo_formattato, tabellaTotale, n)\t;                   // questa istruzione crea la sequenza delle occorrenze degli n-grammi presenti nel testo immesso dall&#39;utente e poi formattato\r\n\t\t\t\t\tint[] lista_inglese = creaLista(testo_inglese_formattato, tabellaTotale, n)\t;\r\n\t\t\t\t\tint[] lista_danese = creaLista(testo_danese_formattato, tabellaTotale, n)\t;\r\n\t\t\t\t\tint[] lista_italiano = creaLista(testo_italiano_formattato, tabellaTotale, n );\r\n\t\t\t\t\tint[] lista_latino = creaLista(testo_latino_formattato, tabellaTotale, n)\t;\r\n\t\t\t\t\tdouble scarto_inglese = calcolaScarto(tabellaTotale, testo_formattato, testo_inglese_formattato, n);\r\n\t\t\t\t\tdouble scarto_danese = calcolaScarto( tabellaTotale, testo_formattato, testo_danese_formattato, n);\r\n\t\t\t\t\tdouble scarto_italiano = calcolaScarto(tabellaTotale, testo_formattato, testo_italiano_formattato, n);\r\n\t\t\t\t\tdouble scarto_latino = calcolaScarto(tabellaTotale, testo_formattato, testo_latino_formattato, n);\r\n\t\t\t\t\tdouble[] v = {scarto_inglese, scarto_danese, scarto_italiano, scarto_latino};\r\n\t\t\t\t\tdouble min = v[0];                    \r\n\t\t\t\t\tfor (int j =0; j&lt;4; j++){    // una volta calcolati gli scarti, si determina lo scarto minimo; il programma \r\n\t\t\t\t\t\tif ( v[j]&lt;min )          // comunicher&#224; poi all&#39;utente che la lingua del testo &#232; quella che ha dato lo scarto minimo.\r\n\t\t\t\t\t\t\tmin = v[j];          // Chiaramente si tratta di un procedimento probabilistico, tanto pi&#249; efficiente quanto pi&#249; i testi forniti sono lunghi.\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tString lingua = &quot;italiano&quot;;\r\n\t\t\t\t\tif ( min == v[0])\r\n\t\t\t\t\t\tlingua = &quot;inglese&quot;;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( min == v[1])\r\n\t\t\t\t\t\tlingua = &quot;danese&quot;;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( min == v[2])\r\n\t\t\t\t\t\tlingua = &quot;italiano&quot;;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( min == v[3])\r\n\t\t\t\t\t\tlingua = &quot;latino&quot;;\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;E&#39; molto probabile che il testo inserito sia scritto in &quot; + lingua);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tin.close();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpublic static StringBuffer  formatta (String s){  // questo metodo serve per formattare il testo, trasformando i caratteri non alfabetici in spazi\r\n\t\t                                                      // ed eliminando gli spazi multipli\r\n\t\t\t\r\n\t\t    s = s.toLowerCase();\r\n\t\t    StringBuffer b = new StringBuffer();\r\n\t\t    int m = s.length();\r\n\t\t    int conta_spazi = 0;\r\n\t\t    StringBuffer h = new StringBuffer(s);\r\n\t\t    for (int i = 0; i &lt; m ; i++ ){\r\n\t\t    switch(h.charAt(i))\t{\r\n\t\t    case &#39;a&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \r\n\t\t    case &#39;A&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \r\n\t\t    case &#39;b&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \r\n\t\t    case &#39;B&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;c&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;C&#39;:\r\n\t\t    \tbreak;\r\n\t\t   \r\n\t\t    \t\r\n\t\t    case &#39;d&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;D&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;e&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;E&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;f&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \r\n\t\t    case &#39;F&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \r\n\t\t    case &#39;g&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \r\n\t\t    case &#39;G&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;h&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;H&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;i&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;I&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;j&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;J&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;k&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;K&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \r\n\t\t    case &#39;l&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \r\n\t\t    case &#39;L&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \r\n\t\t    case &#39;m&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;M&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;n&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;N&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;o&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;O&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;p&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;P&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;q&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \r\n\t\t    case &#39;Q&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \r\n\t\t    case &#39;r&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \r\n\t\t    case &#39;R&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;s&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;S&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;t&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;T&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;u&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;U&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;v&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;V&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \r\n\t\t    case &#39;w&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \r\n\t\t    case &#39;W&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \r\n\t\t    case &#39;x&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;X&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;y&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;Y&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;z&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    case &#39;Z&#39;:\r\n\t\t    \tbreak;\r\n\t\t    \t\r\n\t\t    default:\r\n\t\t    \th.setCharAt(i, &#39; &#39;);\r\n\t\t    \t\r\n\t\t    \r\n\t\t    }\r\n\t\t    }\r\n\t\t\tfor (int i = 0; i &lt; m ; i++ ){\r\n\t\t\t\r\n\t\t\t\tif ( h.charAt(i) == &#39; &#39; )\r\n\t\t        conta_spazi++;\r\n\t\t\t\telse\r\n\t\t\t\t\tconta_spazi = 0;\r\n\t\t\t\t\r\n\t\t\t\tif ( conta_spazi &lt;= 1)\r\n\t\t\t\tb = b.append(h.charAt(i));\r\n\t\t\t\t\r\n\t\t\t  }\r\n\t\t\t\r\n\t\t\treturn b;\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\r\n\t\t\tpublic static int[] creaLista (StringBuffer str , StringBuffer[] tabella, int n){   \r\n\t\t\t\t\r\n\t\t\t\tint[] tavolaOccorrenze = new int[pow(27,n)];\r\n\t\t\t\t\r\n\t\t\t\tfor(int i =0; i &lt; pow(27, n); i++ ) \r\n\t\t\t\ttavolaOccorrenze[i] = numeroOccorrenze(str, tabella[i]);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\treturn tavolaOccorrenze;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpublic static double calcolaFrequenza( int[] tavolaOccorrenze, StringBuffer testo, String st, int n){ \r\n\t\t\t\t\r\n\t\t\t\tdouble tot = 0;\r\n\t\t\t\tfor(int i =0; i &lt; pow(27, n); i++ )\r\n\t\t\t\t\ttot += tavolaOccorrenze[i];\r\n\t\t\t\tdouble frequenza = 0;\r\n\t\t\t\tdouble occorrenze_st = numeroOccorrenze(testo, new StringBuffer(st));\r\n\t\t\t\treturn occorrenze_st / tot;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpublic static double calcolaScarto (StringBuffer[] tabella, StringBuffer testo1, StringBuffer testo2, int n){  \r\n\t\t\t\t                                                                                                          \r\n\t\t\t\tdouble scarto = 0;\r\n\t\t\t\tint[] tavolaOccorrenze1 = creaLista(testo1, tabella, n);\r\n\t\t\t\tint[] tavolaOccorrenze2 = creaLista(testo2, tabella, n);\r\n\t\t\t\tfor(int i =0; i &lt; pow(27, n); i++ )\r\n\t\t\t\t\tscarto += Math.pow(calcolaFrequenza(tavolaOccorrenze1, testo1, tabella[i].toString(), n)-calcolaFrequenza(tavolaOccorrenze2, testo2, tabella[i].toString(), n), 2);\r\n\t\t\t\r\n\t\t\t\treturn scarto;\r\n\t\t\t}\r\n\t\t\r\n\t\t\t\r\n\t\t\tpublic static StringBuffer[] creaTabellaTotale(int n, char[] a) {   /* questa funzione crea la tabella che definisce l&#39;ordine degli n-grammi*/\r\n\t\t\t    \r\n\t\t\t\t \r\n\t\t\t\t StringBuffer[] tabella = new StringBuffer[ pow(27, n)];\r\n\t\t\t\t \r\n\t\t\t\t for(int h = 1; h &lt;= n ; h++){\r\n\t\t\t\t\tfor(int u =0; u &lt; pow ( 27, h-1); u++){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tfor (int j = 0; j&lt;27; j++){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor( int x =pow(27, n-h+1)*u + pow(27, n-h)*j; x&lt; pow(27, n-h+1)*u + pow(27, n-h)*(j+1); x++)\r\n\t\t\t\t\t\t\ttabella[x] = tabella[x].append(a[j]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t }\r\n\t\t\t\t \r\n\t\t\t\t return tabella;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tpublic static int pow(int a, int b){                                            \r\n                  int tot = 1;\r\n                  for(int i =0; i&lt;b ; i++)\r\n                  tot = a * tot ;\r\n                  return tot;\r\n                 }\r\n\r\n\t\t\t\r\n\t\t\t public static int numeroOccorrenze ( StringBuffer testo, StringBuffer parola){   \r\n\t\t         int tot =0;\r\n\t\t\t\t if(parola.length() &gt; testo.length())\r\n\t\t            System.out.println(&quot;L&#39; n-gramma da cercare &#232; troppo lungo in confronto al testo inserito &quot;);\r\n\t\t\t\t else{\r\n\t\t\t\t\tint n = parola.length();\r\n\t\t\t\t\tfor(int i = 0; i &lt;= testo.length() - n; i++ ){\r\n\t\t\t\t\t\tif(testo.substring(i,i+n) == parola.toString())\r\n\t\t\t\t\t\t\t++tot;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t }\r\n\r\n\t\t\t\t return tot;\r\n\t\t        }\r\n\t\t\t \r\n\t\t\t \r\n\t\t\t \r\n\t     }\r\n\r\n\r\n","title":"java, OutOfMemoryError: Java heap space","body":"<p>This class is designed to determine the language of a text; the user has to enter 4 text in english, danish, italian and latin, and then the text whose language he wants to determine.\nThe console says </p>\n\n<pre><code>Exception in thread \"main\" java.lang.OutOfMemoryError: Java heap space\n    at Riconoscimento2.creaTabellaTotale(Riconoscimento2.java:365)\n    at Riconoscimento2.main(Riconoscimento2.java:25)\n</code></pre>\n\n<p>I use eclipse, in Run Configurations - Arguments I wrote -Xms2g-Xmx3g. I don't understand where is the problem.</p>\n\n<p>The code is </p>\n\n<pre><code> import java.io.*;\n\nimport java.util.*;\n\nimport prog.io.*;\n\npublic class Riconoscimento2 {\n\npublic static void main(String[] args) {\n            char[] array = {'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', ' '};\n            System.out.println(\"Immetti l'intero n per il calcolo degli n-grammi \");  // questa istruzione richiede di immettere l'intero n \n            BufferedReader sc = new BufferedReader(new InputStreamReader(System.in));\n            Scanner in = new Scanner(System.in);\n            int n = in.nextInt();\n            StringBuffer[] tabellaTotale = creaTabellaTotale(n, array);\n\n            System.out.println(\"Immetti un testo in inglese, che poi verrà utilizzato come paradigma. Ricordati di non inserire rientri a capo.\"); // con questa e le successive istruzioni si chiede di immettere dei testi campioni scritti in inglese, danese, italiano, latino\n\n             String testo_inglese =\"\";\n             try{\n                 testo_inglese = sc.readLine();\n             }catch(IOException e1){\n                 System.out.println(\"Input non corretto. Immetti un testo in inglese. \");\n             }\n\n\n\n\n            System.out.println(\"Immetti un testo in danese, che poi verrà utilizzato come paradigma. Ricordati di non inserire rientri a capo.\");\n\n\n\n             String testo_danese =\"\";\n             try{\n                 testo_danese = sc.readLine();\n             }catch(IOException e1){\n                 System.out.println(\"Input non corretto. Immetti un testo in danese. \");\n             }\n\n\n\n\n\n\n            System.out.println(\"Immetti un testo in italiano, che poi verrà utilizzato come paradigma. Ricordati di non inserire rientri a capo.\");\n\n\n\n             String testo_italiano =\"\";\n             try{\n                 testo_italiano = sc.readLine();\n             }catch(IOException e1){\n                 System.out.println(\"Input non corretto. Immetti un testo in italiano. \");\n             }\n\n\n\n\n\n\n\n\n\n            System.out.println(\"Immetti un testo in latino, che poi verrà utilizzato come paradigma. Ricordati di non inserire rientri a capo.\");\n\n\n\n             String testo_latino =\"\";\n             try{\n                 testo_latino = sc.readLine();\n             }catch(IOException e1){\n                 System.out.println(\"Input non corretto. Immetti un testo in latino. \");\n             }\n\n\n\n            System.out.println(\"Immetti il testo di cui vuoi determinare la lingua. Ricordati di non inserire rientri a capo.\");\n\n\n\n             String testo =\"\";\n             try{\n                 testo = sc.readLine();\n             }catch(IOException e1){\n                 System.out.println(\"Input non corretto. Immetti il testo di cui vuoi determinare la lingua. \");\n             }\n\n\n\n            StringBuffer testo_inglese_formattato = formatta(testo_inglese);   // testo_inglese_formattato rappresenta il testo inglese immesso dall'utente in cui i caratteri non alfabetici sono stati trasformati in spazi \n                                                                               // e sono stati rimossi gli spazi multipli. Lo stesso discorso vale per le righe successive.\n            StringBuffer testo_danese_formattato = formatta(testo_danese);\n            StringBuffer testo_italiano_formattato = formatta(testo_italiano);\n            StringBuffer testo_latino_formattato = formatta(testo_latino);\n            StringBuffer testo_formattato = formatta(testo);\n            if ( n &gt; testo.length() ) // questo controllo serve per gestire il caso in cui l'intero immesso dall'utente è più lungo della lunghezza del testo\n            System.out.println(\"Hai immesso un intero troppo grande se confrontato al testo\");\n            else { \n\n                int[] lista_testo = creaLista(testo_formattato, tabellaTotale, n)   ;                   // questa istruzione crea la sequenza delle occorrenze degli n-grammi presenti nel testo immesso dall'utente e poi formattato\n                int[] lista_inglese = creaLista(testo_inglese_formattato, tabellaTotale, n) ;\n                int[] lista_danese = creaLista(testo_danese_formattato, tabellaTotale, n)   ;\n                int[] lista_italiano = creaLista(testo_italiano_formattato, tabellaTotale, n );\n                int[] lista_latino = creaLista(testo_latino_formattato, tabellaTotale, n)   ;\n                double scarto_inglese = calcolaScarto(tabellaTotale, testo_formattato, testo_inglese_formattato, n);\n                double scarto_danese = calcolaScarto( tabellaTotale, testo_formattato, testo_danese_formattato, n);\n                double scarto_italiano = calcolaScarto(tabellaTotale, testo_formattato, testo_italiano_formattato, n);\n                double scarto_latino = calcolaScarto(tabellaTotale, testo_formattato, testo_latino_formattato, n);\n                double[] v = {scarto_inglese, scarto_danese, scarto_italiano, scarto_latino};\n                double min = v[0];                    \n                for (int j =0; j&lt;4; j++){    // una volta calcolati gli scarti, si determina lo scarto minimo; il programma \n                    if ( v[j]&lt;min )          // comunicherà poi all'utente che la lingua del testo è quella che ha dato lo scarto minimo.\n                        min = v[j];          // Chiaramente si tratta di un procedimento probabilistico, tanto più efficiente quanto più i testi forniti sono lunghi.\n                }\n\n                String lingua = \"italiano\";\n                if ( min == v[0])\n                    lingua = \"inglese\";\n\n                if ( min == v[1])\n                    lingua = \"danese\";\n\n                if ( min == v[2])\n                    lingua = \"italiano\";\n\n                if ( min == v[3])\n                    lingua = \"latino\";\n\n                System.out.println(\"E' molto probabile che il testo inserito sia scritto in \" + lingua);\n            }\n\n            in.close();\n        }\n\n        public static StringBuffer  formatta (String s){  // questo metodo serve per formattare il testo, trasformando i caratteri non alfabetici in spazi\n                                                          // ed eliminando gli spazi multipli\n\n        s = s.toLowerCase();\n        StringBuffer b = new StringBuffer();\n        int m = s.length();\n        int conta_spazi = 0;\n        StringBuffer h = new StringBuffer(s);\n        for (int i = 0; i &lt; m ; i++ ){\n        switch(h.charAt(i)) {\n        case 'a':\n            break;\n\n        case 'A':\n            break;\n\n        case 'b':\n            break;\n\n        case 'B':\n            break;\n\n        case 'c':\n            break;\n\n        case 'C':\n            break;\n\n\n        case 'd':\n            break;\n\n        case 'D':\n            break;\n\n        case 'e':\n            break;\n\n        case 'E':\n            break;\n\n        case 'f':\n            break;\n\n        case 'F':\n            break;\n\n        case 'g':\n            break;\n\n        case 'G':\n            break;\n\n        case 'h':\n            break;\n\n        case 'H':\n            break;\n\n        case 'i':\n            break;\n\n        case 'I':\n            break;\n\n        case 'j':\n            break;\n\n        case 'J':\n            break;\n\n        case 'k':\n            break;\n\n        case 'K':\n            break;\n\n        case 'l':\n            break;\n\n        case 'L':\n            break;\n\n        case 'm':\n            break;\n\n        case 'M':\n            break;\n\n        case 'n':\n            break;\n\n        case 'N':\n            break;\n\n        case 'o':\n            break;\n\n        case 'O':\n            break;\n\n        case 'p':\n            break;\n\n        case 'P':\n            break;\n\n        case 'q':\n            break;\n\n        case 'Q':\n            break;\n\n        case 'r':\n            break;\n\n        case 'R':\n            break;\n\n        case 's':\n            break;\n\n        case 'S':\n            break;\n\n        case 't':\n            break;\n\n        case 'T':\n            break;\n\n        case 'u':\n            break;\n\n        case 'U':\n            break;\n\n        case 'v':\n            break;\n\n        case 'V':\n            break;\n\n        case 'w':\n            break;\n\n        case 'W':\n            break;\n\n        case 'x':\n            break;\n\n        case 'X':\n            break;\n\n        case 'y':\n            break;\n\n        case 'Y':\n            break;\n\n        case 'z':\n            break;\n\n        case 'Z':\n            break;\n\n        default:\n            h.setCharAt(i, ' ');\n\n\n        }\n        }\n        for (int i = 0; i &lt; m ; i++ ){\n\n            if ( h.charAt(i) == ' ' )\n            conta_spazi++;\n            else\n                conta_spazi = 0;\n\n            if ( conta_spazi &lt;= 1)\n            b = b.append(h.charAt(i));\n\n          }\n\n        return b;\n\n        }\n\n\n        public static int[] creaLista (StringBuffer str , StringBuffer[] tabella, int n){   \n\n            int[] tavolaOccorrenze = new int[pow(27,n)];\n\n            for(int i =0; i &lt; pow(27, n); i++ ) \n            tavolaOccorrenze[i] = numeroOccorrenze(str, tabella[i]);\n\n\n\n            return tavolaOccorrenze;\n\n        }\n\n        public static double calcolaFrequenza( int[] tavolaOccorrenze, StringBuffer testo, String st, int n){ \n\n            double tot = 0;\n            for(int i =0; i &lt; pow(27, n); i++ )\n                tot += tavolaOccorrenze[i];\n            double frequenza = 0;\n            double occorrenze_st = numeroOccorrenze(testo, new StringBuffer(st));\n            return occorrenze_st / tot;\n\n        }\n\n        public static double calcolaScarto (StringBuffer[] tabella, StringBuffer testo1, StringBuffer testo2, int n){  \n\n            double scarto = 0;\n            int[] tavolaOccorrenze1 = creaLista(testo1, tabella, n);\n            int[] tavolaOccorrenze2 = creaLista(testo2, tabella, n);\n            for(int i =0; i &lt; pow(27, n); i++ )\n                scarto += Math.pow(calcolaFrequenza(tavolaOccorrenze1, testo1, tabella[i].toString(), n)-calcolaFrequenza(tavolaOccorrenze2, testo2, tabella[i].toString(), n), 2);\n\n            return scarto;\n        }\n\n\n        public static StringBuffer[] creaTabellaTotale(int n, char[] a) {   /* questa funzione crea la tabella che definisce l'ordine degli n-grammi*/\n\n\n             StringBuffer[] tabella = new StringBuffer[ pow(27, n)];\n\n             for(int h = 1; h &lt;= n ; h++){\n                for(int u =0; u &lt; pow ( 27, h-1); u++){\n\n                for (int j = 0; j&lt;27; j++){\n\n                    for( int x =pow(27, n-h+1)*u + pow(27, n-h)*j; x&lt; pow(27, n-h+1)*u + pow(27, n-h)*(j+1); x++)\n                        tabella[x] = tabella[x].append(a[j]);\n                }\n\n                }\n\n             }\n\n             return tabella;\n        }\n\n\n        public static int pow(int a, int b){                                            \n              int tot = 1;\n              for(int i =0; i&lt;b ; i++)\n              tot = a * tot ;\n              return tot;\n             }\n\n\n         public static int numeroOccorrenze ( StringBuffer testo, StringBuffer parola){   \n             int tot =0;\n             if(parola.length() &gt; testo.length())\n                System.out.println(\"L' n-gramma da cercare è troppo lungo in confronto al testo inserito \");\n             else{\n                int n = parola.length();\n                for(int i = 0; i &lt;= testo.length() - n; i++ ){\n                    if(testo.substring(i,i+n) == parola.toString())\n                        ++tot;\n                }\n\n\n             }\n\n             return tot;\n            }\n\n\n\n     }\n</code></pre>\n"},{"tags":["java","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":3280268,"reputation":8445,"user_id":2761035,"accept_rate":74,"display_name":"codingenious"},"score":0,"creation_date":1382769609,"post_id":19603745,"comment_id":29098800,"body_markdown":"these kind of errors can not be handled, but I am not sure why this is happening, can you post complete code once.","body":"these kind of errors can not be handled, but I am not sure why this is happening, can you post complete code once."},{"owner":{"account_id":1423067,"reputation":30040,"user_id":1347281,"accept_rate":86,"display_name":"Vidya"},"score":0,"creation_date":1382769638,"post_id":19603745,"comment_id":29098803,"body_markdown":"So you create a 3x3 array of `int`s and get an OOME right after? Really?","body":"So you create a 3x3 array of <code>int</code>s and get an OOME right after? Really?"},{"owner":{"account_id":3280268,"reputation":8445,"user_id":2761035,"accept_rate":74,"display_name":"codingenious"},"score":0,"creation_date":1382769703,"post_id":19603745,"comment_id":29098809,"body_markdown":"yeah..this seems like sun revolving around earth :P but there has to be some catch!!","body":"yeah..this seems like sun revolving around earth :P but there has to be some catch!!"},{"owner":{"account_id":3059808,"reputation":3202,"user_id":2592727,"accept_rate":77,"display_name":"Nirav Kamani"},"score":0,"creation_date":1382769757,"post_id":19603745,"comment_id":29098817,"body_markdown":"@Vidya yeah that is what i mean to say.","body":"@Vidya yeah that is what i mean to say."},{"owner":{"account_id":3159138,"reputation":33796,"user_id":2670792,"accept_rate":100,"display_name":"Christian Tapia"},"score":0,"creation_date":1382769839,"post_id":19603745,"comment_id":29098830,"body_markdown":"Could you please post some code? Are you sure you are initializing the array with those values?","body":"Could you please post some code? Are you sure you are initializing the array with those values?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1382770082,"post_id":19603745,"comment_id":29098877,"body_markdown":"The IDE you are using is not relevant.","body":"The IDE you are using is not relevant."},{"owner":{"account_id":3059808,"reputation":3202,"user_id":2592727,"accept_rate":77,"display_name":"Nirav Kamani"},"score":0,"creation_date":1382771295,"post_id":19603745,"comment_id":29099105,"body_markdown":"@Batty here is the code.","body":"@Batty here is the code."},{"owner":{"account_id":2414779,"reputation":14072,"user_id":2109070,"accept_rate":62,"display_name":"Trying"},"score":0,"creation_date":1382778733,"post_id":19603745,"comment_id":29100592,"body_markdown":"`google` is searching for answer?","body":"<code>google</code> is searching for answer?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382913580,"creation_date":1382769833,"answer_id":19603799,"question_id":19603745,"body_markdown":"If the offending code is as you have shown us, then there are possibilities:\r\n\r\n  - Previous to executing this statement, you have allocated other objects and you have consumed *nearly all* of the available space in doing so.  This statement is the proverbial straw that breaks the camel&#39;s back.\r\n\r\n  - The values of `sizeRow` and `sizeColumn` are NOT what you think they are.\r\n\r\nWe cannot distinguish between these two possibilities without seeing more of your code.\r\n\r\n--------------\r\n\r\n**UPDATE** - Andrey has found the problem, based on your updated code.  You are reading the sizes incorrectly, resulting in incorrect / very large size values.  That is causing your application to try to allocate a HUGE array of arrays ... which is giving the OOME.\r\n\r\n","title":"java.lang.OutOfMemoryError: Java heap space in allocating array size","body":"<p>If the offending code is as you have shown us, then there are possibilities:</p>\n\n<ul>\n<li><p>Previous to executing this statement, you have allocated other objects and you have consumed <em>nearly all</em> of the available space in doing so.  This statement is the proverbial straw that breaks the camel's back.</p></li>\n<li><p>The values of <code>sizeRow</code> and <code>sizeColumn</code> are NOT what you think they are.</p></li>\n</ul>\n\n<p>We cannot distinguish between these two possibilities without seeing more of your code.</p>\n\n<hr>\n\n<p><strong>UPDATE</strong> - Andrey has found the problem, based on your updated code.  You are reading the sizes incorrectly, resulting in incorrect / very large size values.  That is causing your application to try to allocate a HUGE array of arrays ... which is giving the OOME.</p>\n"},{"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1382775372,"creation_date":1382774259,"answer_id":19604370,"question_id":19603745,"body_markdown":"The problems is here:\r\n\r\n    dataInputStream.readInt()\r\n\r\nThis would read a binary value from your input which would be like 2323827382 for your entered &quot;1251&quot; causing the OOM.\r\n\r\nTry to use `Scanner` to read your integers like this:\r\n\r\n    public class ArraySort{\r\n        private final Scanner scanner = new Scanner(System.in);\r\n    \r\n        int sizeRow, sizeColumn;\r\n    \r\n        public boolean getArraySize() throws IOException\r\n        {\r\n            try\r\n            {\r\n                System.out.print(&quot;Enter the size of the row:&quot;);\r\n                sizeRow = (scanner.nextInt());\r\n                System.out.print(&quot;Enter the size of the column:&quot;);\r\n                sizeColumn = scanner.nextInt();\r\n                return false;\r\n            }\r\n            catch (NumberFormatException e)\r\n            {\r\n                System.out.println(&quot;Enter valid value for size:&quot;);\r\n            }\r\n            return true;\r\n        }    \r\n        ...\r\n    }","title":"java.lang.OutOfMemoryError: Java heap space in allocating array size","body":"<p>The problems is here:</p>\n\n<pre><code>dataInputStream.readInt()\n</code></pre>\n\n<p>This would read a binary value from your input which would be like 2323827382 for your entered \"1251\" causing the OOM.</p>\n\n<p>Try to use <code>Scanner</code> to read your integers like this:</p>\n\n<pre><code>public class ArraySort{\n    private final Scanner scanner = new Scanner(System.in);\n\n    int sizeRow, sizeColumn;\n\n    public boolean getArraySize() throws IOException\n    {\n        try\n        {\n            System.out.print(\"Enter the size of the row:\");\n            sizeRow = (scanner.nextInt());\n            System.out.print(\"Enter the size of the column:\");\n            sizeColumn = scanner.nextInt();\n            return false;\n        }\n        catch (NumberFormatException e)\n        {\n            System.out.println(\"Enter valid value for size:\");\n        }\n        return true;\n    }    \n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":3059808,"reputation":3202,"user_id":2592727,"accept_rate":77,"display_name":"Nirav Kamani"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19604370,"answer_count":2,"score":0,"last_activity_date":1635532697,"creation_date":1382769439,"question_id":19603745,"body_markdown":"I am doing very small program in java using Eclipse Kepler IDE.\r\n\r\nI am allocating the size of the array at run time using the following statement.\r\n\r\n    unSortedArray = new int[sizeRow][sizeColumn];\r\n\r\nso as per my knowledge the java program runs with some of its own heap space like 32 MB.\r\n\r\nAnd for my program i think this space is enough.\r\n\r\nI just given the value `sizeRow=3` and `sizeColumn=3` at runtime.\r\n\r\nAnd when i pressed enter it gives the following Exception **`java.lang.OutOfMemoryError: Java heap space`**\r\n\r\nI put this question to understand why it happens and how we can handle it?\r\n\r\nI already read the following link.\r\n\r\nhttps://stackoverflow.com/questions/1596009/java-lang-outofmemoryerror-java-heap-space\r\n\r\nhttps://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap\r\n\r\n\r\n**EDIT:1**\r\n\r\n    public class ArraySort\r\n    {\r\n\tprivate int[][]\t\t\t\t\tunSortedArray;\r\n\tprivate int\t\t\t\t\t\tsizeColumn, sizeRow;\r\n\t\r\n\tprivate final DataInputStream\tdataInputStream\t= new DataInputStream(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSystem.in);\r\n\t\r\n\tpublic boolean getArraySize() throws IOException\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tSystem.out.print(&quot;Enter the size of the row:&quot;);\r\n\t\t\tsizeRow = (dataInputStream.readInt());\r\n\t\t\tSystem.out.print(&quot;Enter the size of the column:&quot;);\r\n\t\t\tsizeColumn = dataInputStream.readInt();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tcatch (NumberFormatException e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Enter valid value for size:&quot;);\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tpublic boolean getArrayElement() throws IOException\r\n\t{\r\n\t\tunSortedArray = new int[sizeRow][sizeColumn];\r\n\t\tfor (int i = 0; i &lt; sizeRow; i++)\r\n\t\t{\r\n\t\t\tfor (int j = 0; j &lt; sizeColumn; j++)\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;Enter Element [&quot; + i + &quot;,&quot; + j + &quot;]&quot;);\r\n\t\t\t\t\tunSortedArray[i][j] = dataInputStream.readInt();\r\n\t\t\t\t}\r\n\t\t\t\tcatch (NumberFormatException ne)\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out\r\n\t\t\t\t\t\t\t.println(&quot;Enter proper Numeric value for Array Element&quot;);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n    }\r\n\r\n\r\n    public class ArraySortProgram\r\n    {\r\n\t\r\n\tpublic static void main(String[] args) throws IOException\r\n\t{\r\n\t\tArraySort arraySort = new ArraySort();\r\n\t\t\r\n\t\tarraySort.getArraySize();\r\n\t\tarraySort.getArrayElement();\r\n\t}\r\n    }\r\n\r\n**In my case i am calling these method only once.**","title":"java.lang.OutOfMemoryError: Java heap space in allocating array size","body":"<p>I am doing very small program in java using Eclipse Kepler IDE.</p>\n\n<p>I am allocating the size of the array at run time using the following statement.</p>\n\n<pre><code>unSortedArray = new int[sizeRow][sizeColumn];\n</code></pre>\n\n<p>so as per my knowledge the java program runs with some of its own heap space like 32 MB.</p>\n\n<p>And for my program i think this space is enough.</p>\n\n<p>I just given the value <code>sizeRow=3</code> and <code>sizeColumn=3</code> at runtime.</p>\n\n<p>And when i pressed enter it gives the following Exception <strong><code>java.lang.OutOfMemoryError: Java heap space</code></strong></p>\n\n<p>I put this question to understand why it happens and how we can handle it?</p>\n\n<p>I already read the following link.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1596009/java-lang-outofmemoryerror-java-heap-space\">java.lang.OutOfMemoryError: Java heap space</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap\">How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error (64MB heap size)</a></p>\n\n<p><strong>EDIT:1</strong></p>\n\n<pre><code>public class ArraySort\n{\nprivate int[][]                 unSortedArray;\nprivate int                     sizeColumn, sizeRow;\n\nprivate final DataInputStream   dataInputStream = new DataInputStream(\n                                                        System.in);\n\npublic boolean getArraySize() throws IOException\n{\n    try\n    {\n        System.out.print(\"Enter the size of the row:\");\n        sizeRow = (dataInputStream.readInt());\n        System.out.print(\"Enter the size of the column:\");\n        sizeColumn = dataInputStream.readInt();\n        return false;\n    }\n    catch (NumberFormatException e)\n    {\n        System.out.println(\"Enter valid value for size:\");\n    }\n    return true;\n}\n\npublic boolean getArrayElement() throws IOException\n{\n    unSortedArray = new int[sizeRow][sizeColumn];\n    for (int i = 0; i &lt; sizeRow; i++)\n    {\n        for (int j = 0; j &lt; sizeColumn; j++)\n        {\n            try\n            {\n                System.out.println(\"Enter Element [\" + i + \",\" + j + \"]\");\n                unSortedArray[i][j] = dataInputStream.readInt();\n            }\n            catch (NumberFormatException ne)\n            {\n                System.out\n                        .println(\"Enter proper Numeric value for Array Element\");\n                return true;\n            }\n        }\n    }\n    return false;\n}\n}\n\n\npublic class ArraySortProgram\n{\n\npublic static void main(String[] args) throws IOException\n{\n    ArraySort arraySort = new ArraySort();\n\n    arraySort.getArraySize();\n    arraySort.getArrayElement();\n}\n}\n</code></pre>\n\n<p><strong>In my case i am calling these method only once.</strong></p>\n"},{"tags":["java","jdbc","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1385221718,"post_id":20164312,"comment_id":30058084,"body_markdown":"setFetchSize method should help.  A smarter WHERE clause and processing strategy might be good, too.  Where&#39;d you read that?  It&#39;s only bad if you don&#39;t understand root cause and postpone the inevitable.","body":"setFetchSize method should help.  A smarter WHERE clause and processing strategy might be good, too.  Where&#39;d you read that?  It&#39;s only bad if you don&#39;t understand root cause and postpone the inevitable."},{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":1,"creation_date":1390040596,"post_id":20164312,"comment_id":31928687,"body_markdown":"What is a &quot;lakh record&quot;?","body":"What is a &quot;lakh record&quot;?"},{"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"score":1,"creation_date":1390043144,"post_id":20164312,"comment_id":31929364,"body_markdown":"lakh means 100,000. For the benefit of the non-Indian readers here though it should probably be written &quot;100,000&quot; :)","body":"lakh means 100,000. For the benefit of the non-Indian readers here though it should probably be written &quot;100,000&quot; :)"}],"answers":[{"tags":[],"owner":{"account_id":3089345,"reputation":2557,"user_id":2615824,"accept_rate":70,"display_name":"MGorgon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390040258,"creation_date":1385221980,"answer_id":20164401,"question_id":20164312,"body_markdown":"If you are using Oracle DB you may set `AND ROWNUM &lt; XXX` to your SQL query. This will cause that only XXX-1 rows will be fetched in query.\r\n\r\nOther way is to call `statement.setFetchSize(xxx)` method before executing statement.\r\n\r\nSetting larger JVM memory pool is poor idea, because in future there may be larger data set which will cause OOM.","title":"Getting OOM error while fetching 200,000 records from Oracle DB in Java","body":"<p>If you are using Oracle DB you may set <code>AND ROWNUM &lt; XXX</code> to your SQL query. This will cause that only XXX-1 rows will be fetched in query.</p>\n\n<p>Other way is to call <code>statement.setFetchSize(xxx)</code> method before executing statement.</p>\n\n<p>Setting larger JVM memory pool is poor idea, because in future there may be larger data set which will cause OOM.</p>\n"}],"owner":{"account_id":2220946,"reputation":71,"user_id":1960322,"accept_rate":0,"display_name":"Jai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":993,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635532676,"creation_date":1385221562,"question_id":20164312,"body_markdown":"My java app fetches about 200,000 records in its result set. \r\n\r\nWhile trying to fetch the data from Oracle DB, the server throws **java.lang.OutOfMemoryError: Java heap space**\r\n\r\n\r\nOne way to solve this, IMO, is to fetch the records from the DB in smaller chunks (say 100,000 records in each fetch or even smaller count). How can I do this (meaning what API method to use)?\r\n\r\nKindly suggest how to do this or if you think there&#39;s a better way to overcome this memory space problem, do suggest. I do not want to use JVM params like -Xmx because I read that that&#39;s not a good way to handle OutOfMemory errors.\r\n","title":"Getting OOM error while fetching 200,000 records from Oracle DB in Java","body":"<p>My java app fetches about 200,000 records in its result set. </p>\n\n<p>While trying to fetch the data from Oracle DB, the server throws <strong>java.lang.OutOfMemoryError: Java heap space</strong></p>\n\n<p>One way to solve this, IMO, is to fetch the records from the DB in smaller chunks (say 100,000 records in each fetch or even smaller count). How can I do this (meaning what API method to use)?</p>\n\n<p>Kindly suggest how to do this or if you think there's a better way to overcome this memory space problem, do suggest. I do not want to use JVM params like -Xmx because I read that that's not a good way to handle OutOfMemory errors.</p>\n"},{"tags":["java","r","out-of-memory","heap-memory","r-xlsx"],"comments":[{"owner":{"account_id":58121,"reputation":260042,"user_id":1855677,"accept_rate":83,"display_name":"IRTFM"},"score":0,"creation_date":1385565172,"post_id":20245478,"comment_id":30195938,"body_markdown":"Why are you reading only two rows at a time using file access. Why not read the whole spreadsheet at once?","body":"Why are you reading only two rows at a time using file access. Why not read the whole spreadsheet at once?"},{"owner":{"account_id":3648082,"reputation":21,"user_id":3040838,"display_name":"Bylon"},"score":0,"creation_date":1385600610,"post_id":20245478,"comment_id":30214249,"body_markdown":"Sometimes the excel file maybe very large, reading all rows into memory may cause the memory overflow directly, which we must consider it.","body":"Sometimes the excel file maybe very large, reading all rows into memory may cause the memory overflow directly, which we must consider it."},{"owner":{"account_id":3648082,"reputation":21,"user_id":3040838,"display_name":"Bylon"},"score":0,"creation_date":1385605436,"post_id":20245478,"comment_id":30215250,"body_markdown":"Edited it and simplified it as their is perhaps a little long codes","body":"Edited it and simplified it as their is perhaps a little long codes"},{"owner":{"account_id":58121,"reputation":260042,"user_id":1855677,"accept_rate":83,"display_name":"IRTFM"},"score":0,"creation_date":1385623845,"post_id":20245478,"comment_id":30220858,"body_markdown":"Then why not read in 1000 rows at a time and process?","body":"Then why not read in 1000 rows at a time and process?"},{"owner":{"account_id":3648082,"reputation":21,"user_id":3040838,"display_name":"Bylon"},"score":0,"creation_date":1385624520,"post_id":20245478,"comment_id":30221140,"body_markdown":"yeah, I am considering reading 1000 rows a time, but I am afraid after reading 7*1000 rows it will fail as well","body":"yeah, I am considering reading 1000 rows a time, but I am afraid after reading 7*1000 rows it will fail as well"},{"owner":{"account_id":3648082,"reputation":21,"user_id":3040838,"display_name":"Bylon"},"score":0,"creation_date":1385704856,"post_id":20245478,"comment_id":30253439,"body_markdown":"I am considering turning to RODBC.But I dont know how to import 1 or 1000 rows a time in sqlQuery().Could anybody please tell me how to load 1 or 1000 rows a time in RODBC?","body":"I am considering turning to RODBC.But I dont know how to import 1 or 1000 rows a time in sqlQuery().Could anybody please tell me how to load 1 or 1000 rows a time in RODBC?"},{"owner":{"account_id":511595,"reputation":34062,"user_id":3576984,"accept_rate":90,"display_name":"MichaelChirico"},"score":0,"creation_date":1456366853,"post_id":20245478,"comment_id":58917305,"body_markdown":"It&#39;s because of this issue that I gave up on the `xlsx` package and have moved to `readxl`, which is [faster](http://stackoverflow.com/questions/6099243/read-an-excel-file-directly-from-a-r-script/31734198#31734198)","body":"It&#39;s because of this issue that I gave up on the <code>xlsx</code> package and have moved to <code>readxl</code>, which is <a href=\"http://stackoverflow.com/questions/6099243/read-an-excel-file-directly-from-a-r-script/31734198#31734198\">faster</a>"}],"owner":{"account_id":3648082,"reputation":21,"user_id":3040838,"display_name":"Bylon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635532661,"creation_date":1385563590,"question_id":20245478,"body_markdown":"I am new to R and want to import an Excel file into SQL Server.\r\nEach time,read 1 row and insert 1 row using sqlQuery(as I worry about some big excel sheet in the future).\r\nOnly after 7 rows inserted and the error pops up and keeps coming during later re-runs(increased the Jave memory to 2G but no difference).\r\n\r\nIs there somebody know this and please kindly point out the problem with my coding style or synatax?\r\nMuch appreciate for your reply:)  \r\n\r\n     &gt; library(xlsx)\r\n     Loading required package: xlsxjars\r\n     Loading required package: rJava\r\n     &gt; .jinit(parameters=&quot;-Xmx2g&quot;)\r\n     [1] 0\r\n     &gt; for(i in 1:100 ){\r\n     + Res &lt;- read.xlsx(file=&quot;D:/mingdong/R/SECM.xlsx&quot;,sheetIndex=1,startRow=i, endRow=i+1,colIndex =1:4,stringsAsFactors=FALSE,encoding=&quot;UTF-8&quot;)\r\n     + print(paste(Res)) }\r\n     [1] &quot;000000&quot; &quot;1&quot;      &quot;A360&quot;   &quot;1000&quot;  \r\n     [1] &quot;000001&quot; &quot;1&quot;      &quot;A360&quot;   &quot;1000&quot;  \r\n     [1] &quot;000002&quot; &quot;1&quot;      &quot;A360&quot;   &quot;1000&quot;  \r\n     [1] &quot;000003&quot; &quot;1&quot;      &quot;A360&quot;   &quot;1000&quot;  \r\n     [1] &quot;000004&quot; &quot;1&quot;      &quot;A360&quot;   &quot;1000&quot;  \r\n     [1] &quot;000005&quot; &quot;1&quot;      &quot;A360&quot;   &quot;1000&quot;  \r\n     [1] &quot;000006&quot; &quot;1&quot;      &quot;A360&quot;   &quot;1000&quot;  \r\n     [1] &quot;000007&quot; &quot;1&quot;      &quot;A360&quot;   &quot;1000&quot;  \r\n     Error in .jcall(&quot;RJavaTools&quot;, &quot;Ljava/lang/Object;&quot;, &quot;invokeMethod&quot;, cl,  : \r\n     java.lang.OutOfMemoryError: Java heap space\r\n     &gt; ","title":"read.xlsx() one row each time keeps getting OutOfMemoryError: Java heap space","body":"<p>I am new to R and want to import an Excel file into SQL Server.\nEach time,read 1 row and insert 1 row using sqlQuery(as I worry about some big excel sheet in the future).\nOnly after 7 rows inserted and the error pops up and keeps coming during later re-runs(increased the Jave memory to 2G but no difference).</p>\n\n<p>Is there somebody know this and please kindly point out the problem with my coding style or synatax?\nMuch appreciate for your reply:)  </p>\n\n<pre><code> &gt; library(xlsx)\n Loading required package: xlsxjars\n Loading required package: rJava\n &gt; .jinit(parameters=\"-Xmx2g\")\n [1] 0\n &gt; for(i in 1:100 ){\n + Res &lt;- read.xlsx(file=\"D:/mingdong/R/SECM.xlsx\",sheetIndex=1,startRow=i, endRow=i+1,colIndex =1:4,stringsAsFactors=FALSE,encoding=\"UTF-8\")\n + print(paste(Res)) }\n [1] \"000000\" \"1\"      \"A360\"   \"1000\"  \n [1] \"000001\" \"1\"      \"A360\"   \"1000\"  \n [1] \"000002\" \"1\"      \"A360\"   \"1000\"  \n [1] \"000003\" \"1\"      \"A360\"   \"1000\"  \n [1] \"000004\" \"1\"      \"A360\"   \"1000\"  \n [1] \"000005\" \"1\"      \"A360\"   \"1000\"  \n [1] \"000006\" \"1\"      \"A360\"   \"1000\"  \n [1] \"000007\" \"1\"      \"A360\"   \"1000\"  \n Error in .jcall(\"RJavaTools\", \"Ljava/lang/Object;\", \"invokeMethod\", cl,  : \n java.lang.OutOfMemoryError: Java heap space\n &gt; \n</code></pre>\n"},{"tags":["java","jvm","out-of-memory","heap-memory","concurrenthashmap"],"answers":[{"tags":[],"owner":{"account_id":2259169,"reputation":11,"user_id":2174857,"display_name":"user35971"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385963823,"creation_date":1385963823,"answer_id":20321757,"question_id":20321042,"body_markdown":"Please check your flow of functional calls as you are not closing the database connection that once opened  creating the memory leaks \r\n\r\nSee this conversation for further reference   https://stackoverflow.com/questions/9561828/database-connections-and-outofmemoryerror-java-heap-space","title":"Out of memory error with ConnectionQueueStatsProvider","body":"<p>Please check your flow of functional calls as you are not closing the database connection that once opened  creating the memory leaks </p>\n\n<p>See this conversation for further reference   <a href=\"https://stackoverflow.com/questions/9561828/database-connections-and-outofmemoryerror-java-heap-space\">Database connections and OutOfMemoryError: Java Heap Space</a></p>\n"},{"tags":[],"owner":{"account_id":1141397,"reputation":4287,"user_id":1125197,"accept_rate":80,"display_name":"lichengwu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385999695,"creation_date":1385999695,"answer_id":20332360,"question_id":20321042,"body_markdown":"It&#39;s hard to analyse the reason with such a few information.\n\nAccording to the report, it maybe db connections problem.\n\nTRY:\n\n  - Confirm what&#39;re being hold by `ConnectionQueueStatsProvider`(probably java.util.concurrent.ConcurrentHashMap$Segment[]).\n\n  - Open the source code, find out what&#39;s in `ConnectionQueueStatsProvider&#39;s ConcurrentHashMap`.\n\n----\nIf java.util.concurrent.ConcurrentHashMap$Segment[] token most of the space, you app may have db connection problems.\n\n### Java.util.concurrent.ConcurrentHashMap is only one usage in ConnectionQueueStatsProvider&#39;s:\n\n&lt;pre&gt;&lt;a href=&quot;http://grepcode.com/file/repo1.maven.org/maven2/org.glassfish.core/kernel/3.0.1/com/sun/enterprise/v3/services/impl/monitor/stats/ConnectionQueueStatsProvider.java#66&quot;&gt;66&lt;/a&gt;  &lt;font color=&quot;#7f0055&quot;&gt;&lt;b&gt;private&lt;/b&gt;&lt;/font&gt; &lt;font color=&quot;#7f0055&quot;&gt;&lt;b&gt;final&lt;/b&gt;&lt;/font&gt; &lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Map.java#Map&quot; title=&quot;java.util.Map&quot;&gt;Map&lt;/a&gt;&amp;lt;&lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Integer.java#Integer&quot; title=&quot;java.lang.Integer&quot;&gt;Integer&lt;/a&gt;, &lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Long.java#Long&quot; title=&quot;java.lang.Long&quot;&gt;Long&lt;/a&gt;&gt; openConnectionsCount = &lt;font color=&quot;#7f0055&quot;&gt;&lt;b&gt;new&lt;/b&gt;&lt;/font&gt; &lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/concurrent/ConcurrentHashMap.java#ConcurrentHashMap&quot; title=&quot;java.util.concurrent.ConcurrentHashMap&quot;&gt;ConcurrentHashMap&lt;/a&gt;&amp;lt;&lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Integer.java#Integer&quot; title=&quot;java.lang.Integer&quot;&gt;Integer&lt;/a&gt;, &lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Long.java#Long&quot; title=&quot;java.lang.Long&quot;&gt;Long&lt;/a&gt;&gt;();&lt;br/&gt;&lt;/pre&gt;\n\nTry to check you code and close the db connections.\n\n","title":"Out of memory error with ConnectionQueueStatsProvider","body":"<p>It's hard to analyse the reason with such a few information.</p>\n<p>According to the report, it maybe db connections problem.</p>\n<p>TRY:</p>\n<ul>\n<li><p>Confirm what're being hold by <code>ConnectionQueueStatsProvider</code>(probably java.util.concurrent.ConcurrentHashMap$Segment[]).</p>\n</li>\n<li><p>Open the source code, find out what's in <code>ConnectionQueueStatsProvider's ConcurrentHashMap</code>.</p>\n</li>\n</ul>\n<hr />\n<p>If java.util.concurrent.ConcurrentHashMap$Segment[] token most of the space, you app may have db connection problems.</p>\n<h3>Java.util.concurrent.ConcurrentHashMap is only one usage in ConnectionQueueStatsProvider's:</h3>\n<pre><a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.glassfish.core/kernel/3.0.1/com/sun/enterprise/v3/services/impl/monitor/stats/ConnectionQueueStatsProvider.java#66\" rel=\"nofollow noreferrer\">66</a>  <b>private</b> <b>final</b> <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Map.java#Map\" rel=\"nofollow noreferrer\" title=\"java.util.Map\">Map</a>&lt;<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Integer.java#Integer\" rel=\"nofollow noreferrer\" title=\"java.lang.Integer\">Integer</a>, <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Long.java#Long\" rel=\"nofollow noreferrer\" title=\"java.lang.Long\">Long</a>> openConnectionsCount = <b>new</b> <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/concurrent/ConcurrentHashMap.java#ConcurrentHashMap\" rel=\"nofollow noreferrer\" title=\"java.util.concurrent.ConcurrentHashMap\">ConcurrentHashMap</a>&lt;<a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Integer.java#Integer\" rel=\"nofollow noreferrer\" title=\"java.lang.Integer\">Integer</a>, <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/lang/Long.java#Long\" rel=\"nofollow noreferrer\" title=\"java.lang.Long\">Long</a>>();<br/></pre>\n<p>Try to check you code and close the db connections.</p>\n"},{"tags":[],"owner":{"account_id":114769,"reputation":5726,"user_id":301650,"accept_rate":56,"display_name":"Nikem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386015644,"creation_date":1386015644,"answer_id":20337069,"question_id":20321042,"body_markdown":"Well, MAT is pretty obvious here. You have an instance of ConnectionQueueStatsProvider, which has a huge openConnectionsCount map. It seems you fill this map constantly, but never remove anything from it. Memory leak if I ever saw one :)\r\n\r\nIn the future, you might be interested in [Plumbr][1], which is created to find such problems with much lesser effort required.\r\n\r\n\r\n  [1]: http://plumbr.eu","title":"Out of memory error with ConnectionQueueStatsProvider","body":"<p>Well, MAT is pretty obvious here. You have an instance of ConnectionQueueStatsProvider, which has a huge openConnectionsCount map. It seems you fill this map constantly, but never remove anything from it. Memory leak if I ever saw one :)</p>\n\n<p>In the future, you might be interested in <a href=\"http://plumbr.eu\" rel=\"nofollow\">Plumbr</a>, which is created to find such problems with much lesser effort required.</p>\n"},{"tags":[],"owner":{"account_id":2177927,"reputation":178,"user_id":1928162,"accept_rate":83,"display_name":"robertdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1386294408,"creation_date":1386294408,"answer_id":20414445,"question_id":20321042,"body_markdown":"we think we found the answer. We saw a similar bug reported in the glassfish jira:https://java.net/jira/browse/GLASSFISH-16254. It seems to be a bug with glassfish 3.0.1.\r\n\r\nThey had an out of memory error when glassfish monitoring for thread pool and http service was turned on which is the exact setup we had.\r\n\r\nWe turned off the glassfish monitoring and now we are running stable for 1 week without any out of memory.\r\n\r\nThanks for everyone&#39;s help!","title":"Out of memory error with ConnectionQueueStatsProvider","body":"<p>we think we found the answer. We saw a similar bug reported in the glassfish jira:<a href=\"https://java.net/jira/browse/GLASSFISH-16254\" rel=\"nofollow\">https://java.net/jira/browse/GLASSFISH-16254</a>. It seems to be a bug with glassfish 3.0.1.</p>\n\n<p>They had an out of memory error when glassfish monitoring for thread pool and http service was turned on which is the exact setup we had.</p>\n\n<p>We turned off the glassfish monitoring and now we are running stable for 1 week without any out of memory.</p>\n\n<p>Thanks for everyone's help!</p>\n"}],"owner":{"account_id":2177927,"reputation":178,"user_id":1928162,"accept_rate":83,"display_name":"robertdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20414445,"answer_count":4,"score":0,"last_activity_date":1635532632,"creation_date":1385959611,"question_id":20321042,"body_markdown":"we experienced an out of memory error in our production environment last week. This out of memory error occurs maybe once a week and the current workaround is to restart the application server. We are using glassfish 3.0.1. The heap dump generated was around 5gb.\r\n\r\nPlease help in analyzing the heap dump below. Here is the leak suspects report generated using eclipse MAT. How do we analyze the report below?\r\n\r\n    One instance of \r\n    &quot;com.sun.enterprise.v3.services.impl.monitor.stats.ConnectionQueueStatsProvider&quot; loaded by \r\n    &quot;org.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x602650970&quot; occupies \r\n    2,104,143,312 (87.97%) bytes. The instance is referenced by \r\n    org.glassfish.flashlight.impl.client.ReflectiveClientInvoker @ 0x600a63768 , loaded by \r\n    &quot;org.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x60265dd38&quot;. The memory is \r\n    accumulated in one instance of &quot;java.util.concurrent.ConcurrentHashMap$Segment[]&quot; loaded \r\n    by &quot;&lt;system class loader&gt;&quot;.\r\n\r\n    Keywords\r\n    org.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x602650970\r\n    org.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x60265dd38\r\n    java.util.concurrent.ConcurrentHashMap$Segment[]\r\n    com.sun.enterprise.v3.services.impl.monitor.stats.ConnectionQueueStatsProvider\r\n\r\n![shortest paths to accumulation point][1]\r\n![accumulated objects][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/xvS3g.png\r\n  [2]: http://i.stack.imgur.com/48DAb.png","title":"Out of memory error with ConnectionQueueStatsProvider","body":"<p>we experienced an out of memory error in our production environment last week. This out of memory error occurs maybe once a week and the current workaround is to restart the application server. We are using glassfish 3.0.1. The heap dump generated was around 5gb.</p>\n\n<p>Please help in analyzing the heap dump below. Here is the leak suspects report generated using eclipse MAT. How do we analyze the report below?</p>\n\n<pre><code>One instance of \n\"com.sun.enterprise.v3.services.impl.monitor.stats.ConnectionQueueStatsProvider\" loaded by \n\"org.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x602650970\" occupies \n2,104,143,312 (87.97%) bytes. The instance is referenced by \norg.glassfish.flashlight.impl.client.ReflectiveClientInvoker @ 0x600a63768 , loaded by \n\"org.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x60265dd38\". The memory is \naccumulated in one instance of \"java.util.concurrent.ConcurrentHashMap$Segment[]\" loaded \nby \"&lt;system class loader&gt;\".\n\nKeywords\norg.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x602650970\norg.apache.felix.framework.ModuleImpl$ModuleClassLoader @ 0x60265dd38\njava.util.concurrent.ConcurrentHashMap$Segment[]\ncom.sun.enterprise.v3.services.impl.monitor.stats.ConnectionQueueStatsProvider\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/xvS3g.png\" alt=\"shortest paths to accumulation point\">\n<img src=\"https://i.stack.imgur.com/48DAb.png\" alt=\"accumulated objects\"></p>\n"},{"tags":["java","linux","amazon-ec2","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1391175391,"post_id":21481277,"comment_id":32422422,"body_markdown":"All answers suggesting to increase the heap size should be deleted, IMO. Such advice is like instructing a victim with a severed limb where to get more blood.","body":"All answers suggesting to increase the heap size should be deleted, IMO. Such advice is like instructing a victim with a severed limb where to get more blood."}],"answers":[{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1391175099,"creation_date":1391175099,"answer_id":21481334,"question_id":21481277,"body_markdown":"It&#39;s a  very bad idea to construct `StringBuffer` object for passing it inside `JSONTokener`. This class has constructor directly from `Reader` or `InputStream`, so your code should be something like that:\r\n\r\n`JSONTokener jTokener = new JSONTokener(new BufferedReader(new InputStreamReader(s3Object.getObjectContent())));`\r\n","title":"&quot;OutOfMemoryError: Java Heap Space&quot; error in my program","body":"<p>It's a  very bad idea to construct <code>StringBuffer</code> object for passing it inside <code>JSONTokener</code>. This class has constructor directly from <code>Reader</code> or <code>InputStream</code>, so your code should be something like that:</p>\n\n<p><code>JSONTokener jTokener = new JSONTokener(new BufferedReader(new InputStreamReader(s3Object.getObjectContent())));</code></p>\n"},{"tags":[],"owner":{"account_id":1789331,"reputation":1792,"user_id":1630096,"accept_rate":89,"display_name":"Anastasios Vlasopoulos"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1391175273,"creation_date":1391175273,"answer_id":21481390,"question_id":21481277,"body_markdown":"Your java have run out of heap memory. You can increase your heap memory up to 4gb on a 32bit system. If you&#39;re on a 64 bit system you can go higher. If you ask for over 4gb on a 32 bit system you will get invalid value from java and it will exit.\r\n\r\nBelow is how you can set your memory heap up to 6gb on a 64bit system using cmd command:\r\n\r\n    java -Xmx6144M -d64","title":"&quot;OutOfMemoryError: Java Heap Space&quot; error in my program","body":"<p>Your java have run out of heap memory. You can increase your heap memory up to 4gb on a 32bit system. If you're on a 64 bit system you can go higher. If you ask for over 4gb on a 32 bit system you will get invalid value from java and it will exit.</p>\n\n<p>Below is how you can set your memory heap up to 6gb on a 64bit system using cmd command:</p>\n\n<pre><code>java -Xmx6144M -d64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1391175703,"creation_date":1391175703,"answer_id":21481531,"question_id":21481277,"body_markdown":"You are declaring hashIndex outside of the loop\r\n\r\n    StringBuffer hashIndex = new StringBuffer(&quot;&quot;);\r\n\r\n    ...\r\n\r\n    for(int i=0;i&lt;jsonArray.length();i++) {\r\n\r\n        hashIndex.append(...);\r\n\r\nThis means that the StringBuffer keeps getting bigger and bigger as you iterate the buckets until it finally explodes!\r\n\r\nI think you meant to declare `hashIndex` inside the loop.\r\n    ","title":"&quot;OutOfMemoryError: Java Heap Space&quot; error in my program","body":"<p>You are declaring hashIndex outside of the loop</p>\n\n<pre><code>StringBuffer hashIndex = new StringBuffer(\"\");\n\n...\n\nfor(int i=0;i&lt;jsonArray.length();i++) {\n\n    hashIndex.append(...);\n</code></pre>\n\n<p>This means that the StringBuffer keeps getting bigger and bigger as you iterate the buckets until it finally explodes!</p>\n\n<p>I think you meant to declare <code>hashIndex</code> inside the loop.</p>\n"}],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21481531,"answer_count":3,"score":0,"last_activity_date":1635532612,"creation_date":1391174925,"question_id":21481277,"body_markdown":"Please have a look at the following code\r\n\r\n    public void createHash() throws IOException\r\n    {\r\n    \tSystem.out.println(&quot;Hash Creation Started&quot;);\r\n    \t\r\n    \tStringBuffer hashIndex = new StringBuffer(&quot;&quot;);\r\n    \t\r\n    \t\r\n    \tAmazonS3 s3 = new AmazonS3Client(new ClasspathPropertiesFileCredentialsProvider());\r\n    \tRegion usWest2 = Region.getRegion(Regions.US_EAST_1);\r\n    \ts3.setRegion(usWest2);\r\n    \t\r\n    \tstrBuffer = new StringBuffer(&quot;&quot;);\r\n    \t\r\n    \t\r\n    \ttry\r\n    \t{\r\n    \t\t//List all the Buckets\r\n    \t\tList&lt;Bucket&gt;buckets = s3.listBuckets();\r\n    \t\t\r\n    \t\tfor(int i=0;i&lt;buckets.size();i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;- &quot;+(buckets.get(i)).getName());\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t//Downloading the Object\r\n    \t\tSystem.out.println(&quot;Downloading Object&quot;);\r\n    \t\tS3Object s3Object = s3.getObject(new GetObjectRequest(&quot;JsonBucket&quot;, &quot;Articles_4.json&quot;));\r\n    \t\tSystem.out.println(&quot;Content-Type: &quot;  + s3Object.getObjectMetadata().getContentType());\r\n    \t\t\r\n    \t\t\r\n    \t\t//Read the JSON File\r\n    \t\tBufferedReader reader = new BufferedReader(new InputStreamReader(s3Object.getObjectContent()));\r\n            while (true) {\r\n                String line = reader.readLine();\r\n                if (line == null) break;\r\n    \r\n               // System.out.println(&quot;    &quot; + line);\r\n                strBuffer.append(line);\r\n                \r\n            }\r\n            \r\n            JSONTokener jTokener = new JSONTokener(strBuffer.toString());\r\n            jsonArray = new JSONArray(jTokener);\r\n     \r\n            System.out.println(&quot;Json array length: &quot;+jsonArray.length());\r\n            \r\n            \r\n            for(int i=0;i&lt;jsonArray.length();i++)\r\n            {\r\n            \tJSONObject jsonObject1 = jsonArray.getJSONObject(i);\r\n            \t\r\n            \t//Add Title and Body Together to the list\r\n            \tString titleAndBodyContainer = jsonObject1.getString(&quot;title&quot;)+&quot; &quot;+jsonObject1.getString(&quot;body&quot;);\r\n            \t\r\n            \t\r\n            \t//Remove full stops and commas\r\n            \ttitleAndBodyContainer = titleAndBodyContainer.replaceAll(&quot;\\\\.(?=\\\\s|$)&quot;, &quot; &quot;);\r\n            \ttitleAndBodyContainer = titleAndBodyContainer.replaceAll(&quot;,&quot;, &quot; &quot;);\r\n            \ttitleAndBodyContainer = titleAndBodyContainer.toLowerCase();\r\n            \t\r\n            \t\t        \t \r\n            \t//Create a word list without duplicated words\r\n            \tStringBuilder result = new StringBuilder();\r\n            \t\r\n            \tHashSet&lt;String&gt; set = new HashSet&lt;String&gt;();\r\n            \tfor(String s : titleAndBodyContainer.split(&quot; &quot;)) {\r\n            \t    if (!set.contains(s)) {\r\n            \t        result.append(s);\r\n            \t        result.append(&quot; &quot;);\r\n            \t        set.add(s);\r\n            \t    }\r\n            \t}\r\n            \t//System.out.println(result.toString());\r\n            \t\r\n            \t\r\n            \t//Re-Arranging everything into Alphabetic Order\r\n            \tString testString = &quot;acarus acarpous accession absently missy duckweed settling&quot;;\r\n            \tString testHash = &quot;058 057 05@ 03o dwr 6ug i^&amp;&quot;;\r\n            \tString[]finalWordHolder = (result.toString()).split(&quot; &quot;);\r\n            \tArrays.sort(finalWordHolder);\r\n            \t\r\n            \t\r\n            \t//Navigate through text and create the Hash\r\n            \tfor(int arrayCount=0;arrayCount&lt;finalWordHolder.length;arrayCount++)\r\n            \t{\r\n            \t\t\r\n            \t\tIterator iter = completedWordMap.entrySet().iterator();\r\n            \t\t\r\n            \t\twhile(iter.hasNext())\r\n            \t\t{\r\n            \t\t\tMap.Entry mEntry = (Map.Entry)iter.next();\r\n            \t\t\tString key = (String)mEntry.getKey();\r\n            \t\t\tString value = (String)mEntry.getValue();\r\n            \t\t\t\r\n            \t\t\tif(finalWordHolder[arrayCount].equals(value))\r\n            \t\t\t{\r\n            \t\t\t\thashIndex.append(key); //Adding Hash Keys\r\n            \t\t\t\t//hashIndex.append(&quot; &quot;);\r\n            \t\t\t} \r\n            \t\t}\r\n            \t\t\r\n            \t}\r\n            \t\r\n            \t//System.out.println(hashIndex.toString().trim());\r\n            \t\r\n            \tjsonObject1.put(&quot;hash_index&quot;, hashIndex.toString().trim()); //Add the Hash to the JSON Object\r\n            \tjsonObject1.put(&quot;primary_key&quot;, i); //Create the primary key\r\n            \tjsonObjectHolder.add(jsonObject1); //Add the JSON Object to the JSON collection\r\n            \t\r\n            \tSystem.out.println(&quot;JSON Number: &quot;+i);\r\n            }\r\n            \r\n            System.out.println(&quot;Hash Creation Completed&quot;);\r\n    \t}\r\n    \tcatch(Exception e)\r\n    \t{\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nI am not capable of running this code either in my local machine or in Amazon EC2, I get the following error\r\n\r\n![enter image description here][1]\r\n\r\nI am worried because this &quot;test&quot; is running on 6mb JSON file, while the original file will be terabytes. I am using  Linux instance in EC2, but I am not a Linux guy. How can I get rid of this?\r\n\r\n  [1]: http://i.stack.imgur.com/UsxnL.png","title":"&quot;OutOfMemoryError: Java Heap Space&quot; error in my program","body":"<p>Please have a look at the following code</p>\n\n<pre><code>public void createHash() throws IOException\n{\n    System.out.println(\"Hash Creation Started\");\n\n    StringBuffer hashIndex = new StringBuffer(\"\");\n\n\n    AmazonS3 s3 = new AmazonS3Client(new ClasspathPropertiesFileCredentialsProvider());\n    Region usWest2 = Region.getRegion(Regions.US_EAST_1);\n    s3.setRegion(usWest2);\n\n    strBuffer = new StringBuffer(\"\");\n\n\n    try\n    {\n        //List all the Buckets\n        List&lt;Bucket&gt;buckets = s3.listBuckets();\n\n        for(int i=0;i&lt;buckets.size();i++)\n        {\n            System.out.println(\"- \"+(buckets.get(i)).getName());\n        }\n\n\n        //Downloading the Object\n        System.out.println(\"Downloading Object\");\n        S3Object s3Object = s3.getObject(new GetObjectRequest(\"JsonBucket\", \"Articles_4.json\"));\n        System.out.println(\"Content-Type: \"  + s3Object.getObjectMetadata().getContentType());\n\n\n        //Read the JSON File\n        BufferedReader reader = new BufferedReader(new InputStreamReader(s3Object.getObjectContent()));\n        while (true) {\n            String line = reader.readLine();\n            if (line == null) break;\n\n           // System.out.println(\"    \" + line);\n            strBuffer.append(line);\n\n        }\n\n        JSONTokener jTokener = new JSONTokener(strBuffer.toString());\n        jsonArray = new JSONArray(jTokener);\n\n        System.out.println(\"Json array length: \"+jsonArray.length());\n\n\n        for(int i=0;i&lt;jsonArray.length();i++)\n        {\n            JSONObject jsonObject1 = jsonArray.getJSONObject(i);\n\n            //Add Title and Body Together to the list\n            String titleAndBodyContainer = jsonObject1.getString(\"title\")+\" \"+jsonObject1.getString(\"body\");\n\n\n            //Remove full stops and commas\n            titleAndBodyContainer = titleAndBodyContainer.replaceAll(\"\\\\.(?=\\\\s|$)\", \" \");\n            titleAndBodyContainer = titleAndBodyContainer.replaceAll(\",\", \" \");\n            titleAndBodyContainer = titleAndBodyContainer.toLowerCase();\n\n\n            //Create a word list without duplicated words\n            StringBuilder result = new StringBuilder();\n\n            HashSet&lt;String&gt; set = new HashSet&lt;String&gt;();\n            for(String s : titleAndBodyContainer.split(\" \")) {\n                if (!set.contains(s)) {\n                    result.append(s);\n                    result.append(\" \");\n                    set.add(s);\n                }\n            }\n            //System.out.println(result.toString());\n\n\n            //Re-Arranging everything into Alphabetic Order\n            String testString = \"acarus acarpous accession absently missy duckweed settling\";\n            String testHash = \"058 057 05@ 03o dwr 6ug i^&amp;\";\n            String[]finalWordHolder = (result.toString()).split(\" \");\n            Arrays.sort(finalWordHolder);\n\n\n            //Navigate through text and create the Hash\n            for(int arrayCount=0;arrayCount&lt;finalWordHolder.length;arrayCount++)\n            {\n\n                Iterator iter = completedWordMap.entrySet().iterator();\n\n                while(iter.hasNext())\n                {\n                    Map.Entry mEntry = (Map.Entry)iter.next();\n                    String key = (String)mEntry.getKey();\n                    String value = (String)mEntry.getValue();\n\n                    if(finalWordHolder[arrayCount].equals(value))\n                    {\n                        hashIndex.append(key); //Adding Hash Keys\n                        //hashIndex.append(\" \");\n                    } \n                }\n\n            }\n\n            //System.out.println(hashIndex.toString().trim());\n\n            jsonObject1.put(\"hash_index\", hashIndex.toString().trim()); //Add the Hash to the JSON Object\n            jsonObject1.put(\"primary_key\", i); //Create the primary key\n            jsonObjectHolder.add(jsonObject1); //Add the JSON Object to the JSON collection\n\n            System.out.println(\"JSON Number: \"+i);\n        }\n\n        System.out.println(\"Hash Creation Completed\");\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>I am not capable of running this code either in my local machine or in Amazon EC2, I get the following error</p>\n\n<p><img src=\"https://i.stack.imgur.com/UsxnL.png\" alt=\"enter image description here\"></p>\n\n<p>I am worried because this \"test\" is running on 6mb JSON file, while the original file will be terabytes. I am using  Linux instance in EC2, but I am not a Linux guy. How can I get rid of this?</p>\n"},{"tags":["java","out-of-memory","heap-memory"],"comments":[{"owner":{"display_name":"user177800"},"score":0,"creation_date":1393882315,"post_id":22157849,"comment_id":33626285,"body_markdown":"possible duplicate of [How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error (64MB heap size)](http://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error-64mb-heap\">How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error (64MB heap size)</a>"}],"answers":[{"tags":[],"owner":{"account_id":166521,"reputation":30433,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1393883720,"creation_date":1393882788,"answer_id":22158042,"question_id":22157849,"body_markdown":"The problem in your code is that you use new String that is not optimal and future more you have an infinite loop the cause your heap to end.\r\n\r\nInside the while loop you never change the value of variable &#39;page&#39; because of that when skip the if that you call break you will skip it every time.\r\n","title":"java.lang.OutOfMemoryError: Java heap space (StringBuffer)","body":"<p>The problem in your code is that you use new String that is not optimal and future more you have an infinite loop the cause your heap to end.</p>\n\n<p>Inside the while loop you never change the value of variable 'page' because of that when skip the if that you call break you will skip it every time.</p>\n"}],"owner":{"account_id":4114615,"reputation":19,"user_id":3376554,"display_name":"user3376554"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5834,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635532582,"creation_date":1393882179,"question_id":22157849,"body_markdown":"I am writing a crawler of Google Play Store. My method visit(link) takes the html code in a string Page and visit all the other applications that link to the page is through the method searchApp(page) that re-calls visit(link). But I get OutOfMemoyError and I could not find a solution. I would not increase the JVM heap size. How can I fix it?\r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n        at java.util.Arrays.copyOfRange(Arrays.java:2694)\r\n        at java.lang.String.&lt;init&gt;(String.java:203)\r\n        at java.lang.StringBuffer.toString(StringBuffer.java:561)\r\n        at java.io.BufferedReader.readLine(BufferedReader.java:352)\r\n        at java.io.BufferedReader.readLine(BufferedReader.java:382)\r\n        at Main.visita(Main.java:34)\r\n        at Main.cercaApp(Main.java:83)\r\n&lt;p&gt;\r\n\r\n    public static void visit(String link)  {\r\n\t\ttry {\r\n\t\t\tURL my_url = new URL(link);\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(my_url.openStream()));\r\n\t\t\tString strTemp;\r\n\t\t\tStringBuilder builder= new StringBuilder();\r\n\r\n\t\t\twhile(null != (strTemp =br.readLine())){\r\n\t\t\t\tbuilder.append(new String(strTemp.trim()));\r\n\t\t\t}\r\n\t\t\tbr.close();\r\n\t\t\tString page = new String(builder.toString());\r\n\t\t\tbuilder=null; strTemp=null;\r\n\t\t\tSystem.gc();\r\n\t\t\tpage =page.toLowerCase();\r\n\t\t\t\r\n\t\t\tsearchApp(page);\r\n\t\t\tpage=null; System.gc();\r\n\t\t} \r\n\r\n\t\tcatch (Exception ex) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\tpublic static void searchApp(String page){\r\n\t\tint i=0, j=0, k=0;\r\n\t\tString link=new String (&quot;&quot;);\r\n\t\twhile(true){\r\n\t\t\ti=page.indexOf(&quot;/store/apps/details?&quot;,i);\r\n\t\t\tif(i==-1)\r\n\t\t\t\tbreak;\r\n\t\t\tj=page.indexOf(&quot;\\&quot;&quot;,i);\r\n\t\t\tk=page.indexOf(&quot;&amp;&quot;,i);\r\n\t\t\tif(k&lt;j)\r\n\t\t\t\tj=k;\r\n\t\t\tk=page.indexOf(&quot;&lt;&quot;,i);\r\n\t\t\tif(k != -1 &amp;&amp; k&lt;j)\r\n\t\t\t\tj=k;\r\n\t\t\tk=page.indexOf(&quot;)&quot;,i);\r\n\t\t\tif(k != -1 &amp;&amp; k&lt;j)\r\n\t\t\t\tj=k;\r\n\t\t\t\r\n\t\t\ttry{\r\n\t\t\t\tlink=new String(&quot;https://play.google.com&quot;+page.substring(i,j));\r\n\t\t\t\tif(!(link.contains(&quot;%&quot;) || link.contains(&quot;\\\\&quot;))){\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!linkVisited.contains(link))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlinkVisited.add(new String(link));\r\n\t\t\t\t\t\tSystem.out.println(&quot;ADDED : &quot;);\r\n\t\t\t\t\t\tSystem.out.println(link);\r\n\t\t\t\t\t\tvisita(link);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ti=j;\r\n\t\t\t}\r\n\t\t\tcatch(StringIndexOutOfBoundsException e){\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tpage=null;\r\n\t\tSystem.gc();\r\n\t}\r\n\r\n","title":"java.lang.OutOfMemoryError: Java heap space (StringBuffer)","body":"<p>I am writing a crawler of Google Play Store. My method visit(link) takes the html code in a string Page and visit all the other applications that link to the page is through the method searchApp(page) that re-calls visit(link). But I get OutOfMemoyError and I could not find a solution. I would not increase the JVM heap size. How can I fix it?</p>\n\n<pre><code>Exception in thread \"main\" java.lang.OutOfMemoryError: Java heap space\n    at java.util.Arrays.copyOfRange(Arrays.java:2694)\n    at java.lang.String.&lt;init&gt;(String.java:203)\n    at java.lang.StringBuffer.toString(StringBuffer.java:561)\n    at java.io.BufferedReader.readLine(BufferedReader.java:352)\n    at java.io.BufferedReader.readLine(BufferedReader.java:382)\n    at Main.visita(Main.java:34)\n    at Main.cercaApp(Main.java:83)\n</code></pre>\n\n<p><p></p>\n\n<pre><code>public static void visit(String link)  {\n    try {\n        URL my_url = new URL(link);\n        BufferedReader br = new BufferedReader(new InputStreamReader(my_url.openStream()));\n        String strTemp;\n        StringBuilder builder= new StringBuilder();\n\n        while(null != (strTemp =br.readLine())){\n            builder.append(new String(strTemp.trim()));\n        }\n        br.close();\n        String page = new String(builder.toString());\n        builder=null; strTemp=null;\n        System.gc();\n        page =page.toLowerCase();\n\n        searchApp(page);\n        page=null; System.gc();\n    } \n\n    catch (Exception ex) {\n        return;\n    }\n\n}\n\n\npublic static void searchApp(String page){\n    int i=0, j=0, k=0;\n    String link=new String (\"\");\n    while(true){\n        i=page.indexOf(\"/store/apps/details?\",i);\n        if(i==-1)\n            break;\n        j=page.indexOf(\"\\\"\",i);\n        k=page.indexOf(\"&amp;\",i);\n        if(k&lt;j)\n            j=k;\n        k=page.indexOf(\"&lt;\",i);\n        if(k != -1 &amp;&amp; k&lt;j)\n            j=k;\n        k=page.indexOf(\")\",i);\n        if(k != -1 &amp;&amp; k&lt;j)\n            j=k;\n\n        try{\n            link=new String(\"https://play.google.com\"+page.substring(i,j));\n            if(!(link.contains(\"%\") || link.contains(\"\\\\\"))){\n\n                if (!linkVisited.contains(link))\n                {\n                    linkVisited.add(new String(link));\n                    System.out.println(\"ADDED : \");\n                    System.out.println(link);\n                    visita(link);\n                }\n            }\n            i=j;\n        }\n        catch(StringIndexOutOfBoundsException e){\n            break;\n        }\n    }\n    page=null;\n    System.gc();\n}\n</code></pre>\n"},{"tags":["java","command-execution"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635532406,"creation_date":1635532406,"answer_id":69773383,"question_id":69773330,"body_markdown":"    char sen = num.charAt(0), hachi = num.charAt(1), jyu = num.charAt(2), ichi = num.charAt(3);\r\n\r\nIf the string is less than 4 characters long, this will crash because it doesn&#39;t know what to return for num.charAt().  You want to rewrite this so it only gets the characters if the length of the string is long enough.","title":"Build is successful but I kept getting the &#39;Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 1&#39;","body":"<pre><code>char sen = num.charAt(0), hachi = num.charAt(1), jyu = num.charAt(2), ichi = num.charAt(3);\n</code></pre>\n<p>If the string is less than 4 characters long, this will crash because it doesn't know what to return for num.charAt().  You want to rewrite this so it only gets the characters if the length of the string is long enough.</p>\n"},{"tags":[],"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635532498,"creation_date":1635532498,"answer_id":69773405,"question_id":69773330,"body_markdown":"So your problem looks like it&#39;s here:\r\n\r\n    String num = &quot; &quot;, roman = &quot; &quot;;\r\n\r\nSo at the point above you&#39;ve initialized `num` to be a String with a single character, a space, in it.\r\n\r\n    char sen = num.charAt(0), hachi = num.charAt(1), jyu = num.charAt(2), ichi = num.charAt(3);\r\n\r\nIn the following line above, you are asking for the first ( `char(0)` cause string character indexing is zero-based in Java), second (`char(1)`), third (`char(2)`) and fourth (`char(3)`) characters.\r\n\r\nThis fails cause the string only has the single character.\r\n\r\nAlso, just because code compiles doesn&#39;t mean it will run successfully.","title":"Build is successful but I kept getting the &#39;Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 1&#39;","body":"<p>So your problem looks like it's here:</p>\n<pre><code>String num = &quot; &quot;, roman = &quot; &quot;;\n</code></pre>\n<p>So at the point above you've initialized <code>num</code> to be a String with a single character, a space, in it.</p>\n<pre><code>char sen = num.charAt(0), hachi = num.charAt(1), jyu = num.charAt(2), ichi = num.charAt(3);\n</code></pre>\n<p>In the following line above, you are asking for the first ( <code>char(0)</code> cause string character indexing is zero-based in Java), second (<code>char(1)</code>), third (<code>char(2)</code>) and fourth (<code>char(3)</code>) characters.</p>\n<p>This fails cause the string only has the single character.</p>\n<p>Also, just because code compiles doesn't mean it will run successfully.</p>\n"}],"owner":{"account_id":18832029,"reputation":1,"user_id":13735607,"display_name":"TDBC Craft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635532498,"creation_date":1635532109,"question_id":69773330,"body_markdown":"I have 3 classes but I think the problems are occurring between the Main and the Roman Numerals class. . . would also include the class Variables as well. . . \r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main{\r\n\r\npublic static void main (String[] args){\r\n    System.out.println(&quot;Press 1 for RPS, 2 for Flowchart, 3 for Roman Numerals, 4 for Ascendant&quot;);\r\n    Scanner Selection = new Scanner(System.in);\r\n    Variables sel = new Variables(); \r\n    sel.run = Selection.nextLine();\r\n        {\r\n        if (sel.run.equals(&quot;1&quot;)){\r\n        System.out.println(&quot;You have chosen and initialized 1!&quot;);\r\n        System.out.println(&quot;\\nAttempting to Connect to RPS Class\\n&quot;);\r\n        RPS JackEnPoy = new RPS();\r\n        JackEnPoy.RockPaperScissors();\r\n        }\r\n        else if (sel.run.equals(&quot;2&quot;)){\r\n        System.out.println(&quot;You have chosen and initialized 2!&quot;);\r\n        System.out.println(&quot;\\nAttempting to Connect to Flowchart Class\\n&quot;);\r\n        Flowchart chart = new Flowchart();\r\n        chart.Flow();\r\n        }\r\n        else if (sel.run.equals(&quot;3&quot;)){\r\n        System.out.println(&quot;You have chosen and initialized 3!&quot;);\r\n        System.out.println(&quot;\\nAttempting to Connect to RomanNumerals Class\\n&quot;);\r\n        RomanNumerals rn = new RomanNumerals();\r\n        rn.Numeral();\r\n        }\r\n        else if (sel.run.equals(&quot;4&quot;)){\r\n        System.out.println(&quot;You have chosen and initialized 4!&quot;);\r\n        System.out.println(&quot;\\nAttempting to Connect to Ascending Class\\n&quot;);\r\n        //Ascending aorder = new Ascending();\r\n        //aorder.Ascendant();\r\n\r\n        }\r\n        }\r\n    }\r\n}\r\n```\r\nand the class **variables** for the other classes\r\n```\r\nclass Variables{\r\n\r\nString run;\r\n//RPS\r\nString guide;\r\nString RW = &quot;Rock Smashes Scissors!&quot;;\r\nString PW = &quot;Paper Covers Rock!&quot;;\r\nString SW = &quot;Scissors Shreds Paper!&quot;;\r\nString T = &quot;Impasse!&quot;;\r\n//Flowchart\r\nint x;\r\nint y;\r\nint z;\r\nboolean YN;\r\n}\r\n```\r\nand this is the Roman Numerals that I&#39;ve been currently trying to work on whilst the RPS(Rock Paper Scissors) class and Flowchart class worked fine\r\n```\r\nimport java.util.Scanner;\r\nimport javax.swing.JOptionPane;\r\npublic class RomanNumerals{\r\n\r\npublic static void Numeral()\r\n{\r\n//Declarations\r\nString num = &quot; &quot;, roman = &quot; &quot;;\r\nchar sen = num.charAt(0), hachi = num.charAt(1), jyu = num.charAt(2), ichi = num.charAt(3);\r\nint convert;\r\n\r\n//String from num to Integer\r\nconvert = Integer.parseInt(num);\r\nnum = JOptionPane.showInputDialog(&quot;Convert from Whole Numbers to Roman Numerals(Maximum:3000)&quot;);\r\n\r\n\r\n//&#39;if&#39; more than 3k then terminate &#39;else&#39; attempt conversion\r\nif (convert &gt; 3000)\r\n{\r\n//Invalid Message with WARNING_MESSAGE dialog\r\nJOptionPane.showMessageDialog (null, &quot;Input had exceeded the maximum of 3000&quot;, &quot;RomanNumerals3000&quot;, JOptionPane.WARNING_MESSAGE);\r\n}\r\nelse\r\n{\r\nif (ichi == &#39;1&#39;)//0001\r\nroman += &quot;I&quot;;\r\nif (ichi == &#39;2&#39;)//0002\r\nroman += &quot;II&quot;;\r\nif (ichi == &#39;3&#39;)//0003\r\nroman += &quot;III&quot;;\r\nif (ichi == &#39;4&#39;)//0004\r\nroman += &quot;IV&quot;;\r\nif (ichi == &#39;5&#39;)//0005\r\nroman += &quot;V&quot;;\r\nif (ichi == &#39;6&#39;)//0006\r\nroman += &quot;VI&quot;;\r\nif (ichi == &#39;7&#39;)//0007\r\nroman += &quot;VII&quot;;\r\nif (ichi == &#39;8&#39;)//0008\r\nroman += &quot;VIII&quot;;\r\nif (ichi == &#39;9&#39;)//0009\r\nroman += &quot;IX&quot;;\r\n    if (jyu == &#39;1&#39;)//0010\r\n    roman += &quot;X&quot;;\r\n    if (jyu == &#39;2&#39;)//0020\r\n    roman += &quot;XX&quot;;\r\n    if (jyu == &#39;3&#39;)//0030\r\n    roman += &quot;XXX&quot;;\r\n    if (jyu == &#39;4&#39;)//0040\r\n    roman += &quot;XL&quot;;\r\n    if (jyu == &#39;5&#39;)//0050\r\n    roman += &quot;L&quot;;\r\n    if (jyu == &#39;6&#39;)//0060\r\n    roman += &quot;LX&quot;;\r\n    if (jyu == &#39;7&#39;)//0070\r\n    roman += &quot;LXX&quot;;\r\n    if (jyu == &#39;8&#39;)//0080\r\n    roman += &quot;LXXX&quot;;\r\n    if (jyu == &#39;9&#39;)//0090\r\n    roman += &quot;XC&quot;;\r\n        if (hachi == &#39;1&#39;)//0100\r\n        roman += &quot;C&quot;;\r\n        if (hachi == &#39;2&#39;)//0200\r\n        roman += &quot;CC&quot;;\r\n        if (hachi == &#39;3&#39;)//0300\r\n        roman += &quot;CCC&quot;;\r\n        if (hachi == &#39;4&#39;)//0400\r\n        roman += &quot;CD&quot;;\r\n        if (hachi == &#39;5&#39;)//0500\r\n        roman += &quot;D&quot;;\r\n        if (hachi == &#39;6&#39;)//0600\r\n        roman += &quot;DC&quot;;\r\n        if (hachi == &#39;7&#39;)//0700\r\n        roman += &quot;DCC&quot;;\r\n        if (hachi == &#39;8&#39;)//0800\r\n        roman += &quot;DCCC&quot;;\r\n        if (hachi == &#39;9&#39;)//0900\r\n        roman += &quot;CM&quot;;\r\n                if (sen == &#39;1&#39;)//1000\r\n                roman += &quot;M&quot;;\r\n                if (sen == &#39;2&#39;)//2000\r\n                roman += &quot;MM&quot;;\r\n                if (sen == &#39;3&#39;)//3000\r\n                roman += &quot;MMM&quot;;\r\nJOptionPane.showMessageDialog(null, &quot;Whole Number Form = &quot; + num + &quot;\\nRoman Numeral Form = &quot; + roman, &quot;Converted!!!&quot;, JOptionPane.INFORMATION_MESSAGE,null);\r\n}\r\nSystem.exit(0);\r\n}\r\n}\r\n```\r\nand the output went on like this. . \r\n```Press 1 for RPS, 2 for Flowchart, 3 for Roman Numerals, 4 for Ascendant\r\n3\r\nYou have chosen and initialized 3!\r\n\r\nAttempting to Connect to RomanNumerals Class\r\n\r\nException in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 1\r\n\tat java.base/java.lang.StringLatin1.charAt(StringLatin1.java:48)\r\n\tat java.base/java.lang.String.charAt(String.java:1512)\r\n\tat RomanNumerals.Numeral(RomanNumerals.java:9)\r\n\tat Main.main(Main.java:27)\r\nCommand execution failed.```\r\nI&#39;m still new here and can&#39;t figure out on why am I getting this error after initiating 3 as in the RomanNumerals class. . ","title":"Build is successful but I kept getting the &#39;Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 1&#39;","body":"<p>I have 3 classes but I think the problems are occurring between the Main and the Roman Numerals class. . . would also include the class Variables as well. . .</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main{\n\npublic static void main (String[] args){\n    System.out.println(&quot;Press 1 for RPS, 2 for Flowchart, 3 for Roman Numerals, 4 for Ascendant&quot;);\n    Scanner Selection = new Scanner(System.in);\n    Variables sel = new Variables(); \n    sel.run = Selection.nextLine();\n        {\n        if (sel.run.equals(&quot;1&quot;)){\n        System.out.println(&quot;You have chosen and initialized 1!&quot;);\n        System.out.println(&quot;\\nAttempting to Connect to RPS Class\\n&quot;);\n        RPS JackEnPoy = new RPS();\n        JackEnPoy.RockPaperScissors();\n        }\n        else if (sel.run.equals(&quot;2&quot;)){\n        System.out.println(&quot;You have chosen and initialized 2!&quot;);\n        System.out.println(&quot;\\nAttempting to Connect to Flowchart Class\\n&quot;);\n        Flowchart chart = new Flowchart();\n        chart.Flow();\n        }\n        else if (sel.run.equals(&quot;3&quot;)){\n        System.out.println(&quot;You have chosen and initialized 3!&quot;);\n        System.out.println(&quot;\\nAttempting to Connect to RomanNumerals Class\\n&quot;);\n        RomanNumerals rn = new RomanNumerals();\n        rn.Numeral();\n        }\n        else if (sel.run.equals(&quot;4&quot;)){\n        System.out.println(&quot;You have chosen and initialized 4!&quot;);\n        System.out.println(&quot;\\nAttempting to Connect to Ascending Class\\n&quot;);\n        //Ascending aorder = new Ascending();\n        //aorder.Ascendant();\n\n        }\n        }\n    }\n}\n</code></pre>\n<p>and the class <strong>variables</strong> for the other classes</p>\n<pre><code>class Variables{\n\nString run;\n//RPS\nString guide;\nString RW = &quot;Rock Smashes Scissors!&quot;;\nString PW = &quot;Paper Covers Rock!&quot;;\nString SW = &quot;Scissors Shreds Paper!&quot;;\nString T = &quot;Impasse!&quot;;\n//Flowchart\nint x;\nint y;\nint z;\nboolean YN;\n}\n</code></pre>\n<p>and this is the Roman Numerals that I've been currently trying to work on whilst the RPS(Rock Paper Scissors) class and Flowchart class worked fine</p>\n<pre><code>import java.util.Scanner;\nimport javax.swing.JOptionPane;\npublic class RomanNumerals{\n\npublic static void Numeral()\n{\n//Declarations\nString num = &quot; &quot;, roman = &quot; &quot;;\nchar sen = num.charAt(0), hachi = num.charAt(1), jyu = num.charAt(2), ichi = num.charAt(3);\nint convert;\n\n//String from num to Integer\nconvert = Integer.parseInt(num);\nnum = JOptionPane.showInputDialog(&quot;Convert from Whole Numbers to Roman Numerals(Maximum:3000)&quot;);\n\n\n//'if' more than 3k then terminate 'else' attempt conversion\nif (convert &gt; 3000)\n{\n//Invalid Message with WARNING_MESSAGE dialog\nJOptionPane.showMessageDialog (null, &quot;Input had exceeded the maximum of 3000&quot;, &quot;RomanNumerals3000&quot;, JOptionPane.WARNING_MESSAGE);\n}\nelse\n{\nif (ichi == '1')//0001\nroman += &quot;I&quot;;\nif (ichi == '2')//0002\nroman += &quot;II&quot;;\nif (ichi == '3')//0003\nroman += &quot;III&quot;;\nif (ichi == '4')//0004\nroman += &quot;IV&quot;;\nif (ichi == '5')//0005\nroman += &quot;V&quot;;\nif (ichi == '6')//0006\nroman += &quot;VI&quot;;\nif (ichi == '7')//0007\nroman += &quot;VII&quot;;\nif (ichi == '8')//0008\nroman += &quot;VIII&quot;;\nif (ichi == '9')//0009\nroman += &quot;IX&quot;;\n    if (jyu == '1')//0010\n    roman += &quot;X&quot;;\n    if (jyu == '2')//0020\n    roman += &quot;XX&quot;;\n    if (jyu == '3')//0030\n    roman += &quot;XXX&quot;;\n    if (jyu == '4')//0040\n    roman += &quot;XL&quot;;\n    if (jyu == '5')//0050\n    roman += &quot;L&quot;;\n    if (jyu == '6')//0060\n    roman += &quot;LX&quot;;\n    if (jyu == '7')//0070\n    roman += &quot;LXX&quot;;\n    if (jyu == '8')//0080\n    roman += &quot;LXXX&quot;;\n    if (jyu == '9')//0090\n    roman += &quot;XC&quot;;\n        if (hachi == '1')//0100\n        roman += &quot;C&quot;;\n        if (hachi == '2')//0200\n        roman += &quot;CC&quot;;\n        if (hachi == '3')//0300\n        roman += &quot;CCC&quot;;\n        if (hachi == '4')//0400\n        roman += &quot;CD&quot;;\n        if (hachi == '5')//0500\n        roman += &quot;D&quot;;\n        if (hachi == '6')//0600\n        roman += &quot;DC&quot;;\n        if (hachi == '7')//0700\n        roman += &quot;DCC&quot;;\n        if (hachi == '8')//0800\n        roman += &quot;DCCC&quot;;\n        if (hachi == '9')//0900\n        roman += &quot;CM&quot;;\n                if (sen == '1')//1000\n                roman += &quot;M&quot;;\n                if (sen == '2')//2000\n                roman += &quot;MM&quot;;\n                if (sen == '3')//3000\n                roman += &quot;MMM&quot;;\nJOptionPane.showMessageDialog(null, &quot;Whole Number Form = &quot; + num + &quot;\\nRoman Numeral Form = &quot; + roman, &quot;Converted!!!&quot;, JOptionPane.INFORMATION_MESSAGE,null);\n}\nSystem.exit(0);\n}\n}\n</code></pre>\n<p>and the output went on like this. .</p>\n<pre><code>3\nYou have chosen and initialized 3!\n\nAttempting to Connect to RomanNumerals Class\n\nException in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 1\n    at java.base/java.lang.StringLatin1.charAt(StringLatin1.java:48)\n    at java.base/java.lang.String.charAt(String.java:1512)\n    at RomanNumerals.Numeral(RomanNumerals.java:9)\n    at Main.main(Main.java:27)\nCommand execution failed.```\nI'm still new here and can't figure out on why am I getting this error after initiating 3 as in the RomanNumerals class. . \n</code></pre>\n"},{"tags":["java","jackson","yaml"],"comments":[{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1634671877,"post_id":69618623,"comment_id":123087154,"body_markdown":"In the second line, `!&lt;java.util.ImmutableCollections$List12&gt;` is wrong since an `ActionInstance` object is expected. More importantly, Jackson is a high-level abstraction and therefore should never generate YAML tags (as that is not a JSON feature) so the question arises what you&#39;re doing to get this output. Please show the code generating this YAML output.","body":"In the second line, <code>!&lt;java.util.ImmutableCollections$List12&gt;</code> is wrong since an <code>ActionInstance</code> object is expected. More importantly, Jackson is a high-level abstraction and therefore should never generate YAML tags (as that is not a JSON feature) so the question arises what you&#39;re doing to get this output. Please show the code generating this YAML output."}],"answers":[{"tags":[],"owner":{"account_id":237719,"reputation":1310,"user_id":506114,"accept_rate":65,"display_name":"Walter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635532477,"creation_date":1635532477,"answer_id":69773398,"question_id":69618623,"body_markdown":"The solution was quite simple:\r\n\r\nactions: !&lt;java.util.ArrayList&gt;\r\n- arguments:\r\n  - 90.00\r\n  action: !&lt;com.walterjwhite.stackoverflow.Action&gt; Left","title":"Unable to deserialize Object Array via Jackson Yaml","body":"<p>The solution was quite simple:</p>\n<p>actions: !&lt;java.util.ArrayList&gt;</p>\n<ul>\n<li>arguments:\n<ul>\n<li>90.00\naction: !&lt;com.walterjwhite.stackoverflow.Action&gt; Left</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":237719,"reputation":1310,"user_id":506114,"accept_rate":65,"display_name":"Walter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69773398,"answer_count":1,"score":0,"last_activity_date":1635532477,"creation_date":1634570586,"question_id":69618623,"body_markdown":"I am attempting to deserialize a YAML configuration file which maps a particular action (enum) to arguments (String[]).  In order to have a starting point for the YAML, I first built the object structure in Java and then serialized it.\r\n\r\nReading that output back in and deserializing it also results in the exception below which is unexpected because that is straight from the horse&#39;s mouth.\r\n\r\n\r\nMy Java structure:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString(doNotUseGetters = true)\r\n    @Data\r\n    public class Session {\r\n      @EqualsAndHashCode.Exclude protected List&lt;ActionInstance&gt; actions;\r\n    }\r\n    \r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString(doNotUseGetters = true)\r\n    @Data\r\n    public class ActionInstance {\r\n      protected Action action;\r\n      protected String[] arguments;\r\n    }\r\n    \r\n    public enum Action {\r\n      Left,\r\n      Right,\r\n      Up,\r\n      Down;\r\n    }\r\n\r\nYAML (this is taken directly from the serialized output from Jackson, reading it back causes the exception below):\r\n\r\n    actions: !&lt;java.util.ImmutableCollections$List12&gt;\r\n    - !&lt;java.util.ImmutableCollections$List12&gt;\r\n      arguments:\r\n      - 90.00\r\n      action: Left\r\n\r\n\r\nJackson Service to deserialize:\r\n\r\n    objectMapper.readValue(inputStream, Session.class)\r\n\r\n\r\nException:\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException\r\n    Unexpected token (VALUE_STRING), expected START_ARRAY: need JSON Array to contain As.WRAPPER_ARRAY type information for class Action\r\n\r\nEDIT #1:\r\n\r\n    final Session export = new Session();\r\n            export.setActions(\r\n                List.of(\r\n                    new ActionInstance(Action.Left, new String[] {&quot;90.00&quot;})));\r\n            final ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            serializationService.serialize(export, baos);\r\n\r\nThe Jackson implementation I have is roughly this:\r\n\r\n    outputStream.write(objectMapper.writeValueAsBytes(data));\r\n\r\n\r\nObjectMapperProvider:\r\n\r\n    public class ObjectMapperProvider implements Provider&lt;ObjectMapper&gt; {\r\n      protected final ObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());\r\n      protected final JavaTimeModule javaTimeModule = new JavaTimeModule();\r\n    \r\n      @Inject\r\n      public ObjectMapperProvider() {\r\n        // Hack time module to allow &#39;Z&#39; at the end of string (i.e. javascript json&#39;s)\r\n        javaTimeModule.addDeserializer(\r\n            LocalDateTime.class, new LocalDateTimeDeserializer(DateTimeFormatter.ISO_DATE_TIME));\r\n        objectMapper.registerModule(javaTimeModule);\r\n        objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n    \r\n        objectMapper.activateDefaultTyping(objectMapper.getPolymorphicTypeValidator());","title":"Unable to deserialize Object Array via Jackson Yaml","body":"<p>I am attempting to deserialize a YAML configuration file which maps a particular action (enum) to arguments (String[]).  In order to have a starting point for the YAML, I first built the object structure in Java and then serialized it.</p>\n<p>Reading that output back in and deserializing it also results in the exception below which is unexpected because that is straight from the horse's mouth.</p>\n<p>My Java structure:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@ToString(doNotUseGetters = true)\n@Data\npublic class Session {\n  @EqualsAndHashCode.Exclude protected List&lt;ActionInstance&gt; actions;\n}\n\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString(doNotUseGetters = true)\n@Data\npublic class ActionInstance {\n  protected Action action;\n  protected String[] arguments;\n}\n\npublic enum Action {\n  Left,\n  Right,\n  Up,\n  Down;\n}\n</code></pre>\n<p>YAML (this is taken directly from the serialized output from Jackson, reading it back causes the exception below):</p>\n<pre><code>actions: !&lt;java.util.ImmutableCollections$List12&gt;\n- !&lt;java.util.ImmutableCollections$List12&gt;\n  arguments:\n  - 90.00\n  action: Left\n</code></pre>\n<p>Jackson Service to deserialize:</p>\n<pre><code>objectMapper.readValue(inputStream, Session.class)\n</code></pre>\n<p>Exception:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException\nUnexpected token (VALUE_STRING), expected START_ARRAY: need JSON Array to contain As.WRAPPER_ARRAY type information for class Action\n</code></pre>\n<p>EDIT #1:</p>\n<pre><code>final Session export = new Session();\n        export.setActions(\n            List.of(\n                new ActionInstance(Action.Left, new String[] {&quot;90.00&quot;})));\n        final ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        serializationService.serialize(export, baos);\n</code></pre>\n<p>The Jackson implementation I have is roughly this:</p>\n<pre><code>outputStream.write(objectMapper.writeValueAsBytes(data));\n</code></pre>\n<p>ObjectMapperProvider:</p>\n<pre><code>public class ObjectMapperProvider implements Provider&lt;ObjectMapper&gt; {\n  protected final ObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());\n  protected final JavaTimeModule javaTimeModule = new JavaTimeModule();\n\n  @Inject\n  public ObjectMapperProvider() {\n    // Hack time module to allow 'Z' at the end of string (i.e. javascript json's)\n    javaTimeModule.addDeserializer(\n        LocalDateTime.class, new LocalDateTimeDeserializer(DateTimeFormatter.ISO_DATE_TIME));\n    objectMapper.registerModule(javaTimeModule);\n    objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n\n    objectMapper.activateDefaultTyping(objectMapper.getPolymorphicTypeValidator());\n</code></pre>\n"},{"tags":["java","jsr310"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":3,"creation_date":1422383064,"post_id":28177370,"comment_id":44723826,"body_markdown":"Take a look at the [DateTimeFormatter](http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) class.  It even has examples of how to convert to and from `String`s.","body":"Take a look at the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> class.  It even has examples of how to convert to and from <code>String</code>s."},{"owner":{"account_id":2277518,"reputation":2956,"user_id":2003420,"display_name":"El Bert"},"score":2,"creation_date":1422383078,"post_id":28177370,"comment_id":44723830,"body_markdown":"You should show some code, what you have tried so far and what&#39;s not working so people can help you.","body":"You should show some code, what you have tried so far and what&#39;s not working so people can help you."},{"owner":{"account_id":3656330,"reputation":2835,"user_id":3047258,"accept_rate":100,"display_name":"Jasko"},"score":0,"creation_date":1422383358,"post_id":28177370,"comment_id":44723997,"body_markdown":"I tried to do that but because of this annoying &quot;it does not meet our quality standards&quot; thing  I  finally gave up,it took me 15 minutes just to post this because i had to correct &quot;i&quot; with &quot;I&quot;.","body":"I tried to do that but because of this annoying &quot;it does not meet our quality standards&quot; thing  I  finally gave up,it took me 15 minutes just to post this because i had to correct &quot;i&quot; with &quot;I&quot;."}],"answers":[{"tags":[],"owner":{"account_id":5381119,"reputation":266,"user_id":4286300,"accept_rate":100,"display_name":"nom"},"down_vote_count":19,"up_vote_count":1,"is_accepted":false,"score":-18,"last_activity_date":1422383349,"creation_date":1422383349,"answer_id":28177493,"question_id":28177370,"body_markdown":"A pretty nice way to do this is to use `SimpleDateFormat` I&#39;ll show you how:\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;d MMMM YYYY&quot;);\r\n    Date d = new Date();\r\n    sdf.format(d);\r\nI see that you have the date in a variable:\r\n\r\n    sdf.format(variable_name);\r\nCheers.","title":"How to format LocalDate to string?","body":"<p>A pretty nice way to do this is to use <code>SimpleDateFormat</code> I'll show you how:</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"d MMMM YYYY\");\nDate d = new Date();\nsdf.format(d);\n</code></pre>\n\n<p>I see that you have the date in a variable:</p>\n\n<pre><code>sdf.format(variable_name);\n</code></pre>\n\n<p>Cheers.</p>\n"},{"tags":[],"owner":{"account_id":5120989,"reputation":6044,"user_id":4104555,"display_name":"ProgrammersBlock"},"down_vote_count":0,"up_vote_count":459,"is_accepted":true,"score":459,"last_activity_date":1422385784,"creation_date":1422385427,"answer_id":28178034,"question_id":28177370,"body_markdown":"SimpleDateFormat will not work if he is starting with LocalDate which is new in Java 8.  From what I can see, you will have to use DateTimeFormatter, http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html.\r\n\r\n    LocalDate localDate = LocalDate.now();//For reference\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd LLLL yyyy&quot;);\r\n    String formattedString = localDate.format(formatter);\r\n\r\nThat should print 05 May 1988.  To get the period after the day and before the month, you might have to use &quot;dd&#39;.LLLL yyyy&quot;\r\n\r\n\r\n","title":"How to format LocalDate to string?","body":"<p>SimpleDateFormat will not work if he is starting with LocalDate which is new in Java 8.  From what I can see, you will have to use DateTimeFormatter, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html</a>.</p>\n\n<pre><code>LocalDate localDate = LocalDate.now();//For reference\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"dd LLLL yyyy\");\nString formattedString = localDate.format(formatter);\n</code></pre>\n\n<p>That should print 05 May 1988.  To get the period after the day and before the month, you might have to use \"dd'.LLLL yyyy\"</p>\n"},{"tags":[],"owner":{"account_id":11176477,"reputation":79,"user_id":8201905,"display_name":"pete"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1519584054,"creation_date":1519584054,"answer_id":48977053,"question_id":28177370,"body_markdown":"  With the help of ProgrammersBlock posts I came up with this.  My needs were slightly different.  I needed to take a string and return it as a LocalDate object.  I was handed code that was using the older Calendar and SimpleDateFormat.  I wanted to make it a little more current.  This is what I came up with.\r\n\r\n        import java.time.LocalDate;\r\n        import java.time.format.DateTimeFormatter;\r\n\r\n\r\n        void ExampleFormatDate() {\r\n\r\n        LocalDate formattedDate = null;  //Declare LocalDate variable to receive the formatted date.\r\n        DateTimeFormatter dateTimeFormatter;  //Declare date formatter\r\n        String rawDate = &quot;2000-01-01&quot;;  //Test string that holds a date to format and parse.\r\n\r\n        dateTimeFormatter = DateTimeFormatter.ISO_LOCAL_DATE;\r\n\r\n        //formattedDate.parse(String string) wraps the String.format(String string, DateTimeFormatter format) method.\r\n        //First, the rawDate string is formatted according to DateTimeFormatter.  Second, that formatted string is parsed into\r\n        //the LocalDate formattedDate object.\r\n        formattedDate = formattedDate.parse(String.format(rawDate, dateTimeFormatter));\r\n        \r\n    }\r\n\r\nHopefully this will help someone, if anyone sees a better way of doing this task please add your input.","title":"How to format LocalDate to string?","body":"<p>With the help of ProgrammersBlock posts I came up with this.  My needs were slightly different.  I needed to take a string and return it as a LocalDate object.  I was handed code that was using the older Calendar and SimpleDateFormat.  I wanted to make it a little more current.  This is what I came up with.</p>\n\n<pre><code>    import java.time.LocalDate;\n    import java.time.format.DateTimeFormatter;\n\n\n    void ExampleFormatDate() {\n\n    LocalDate formattedDate = null;  //Declare LocalDate variable to receive the formatted date.\n    DateTimeFormatter dateTimeFormatter;  //Declare date formatter\n    String rawDate = \"2000-01-01\";  //Test string that holds a date to format and parse.\n\n    dateTimeFormatter = DateTimeFormatter.ISO_LOCAL_DATE;\n\n    //formattedDate.parse(String string) wraps the String.format(String string, DateTimeFormatter format) method.\n    //First, the rawDate string is formatted according to DateTimeFormatter.  Second, that formatted string is parsed into\n    //the LocalDate formattedDate object.\n    formattedDate = formattedDate.parse(String.format(rawDate, dateTimeFormatter));\n\n}\n</code></pre>\n\n<p>Hopefully this will help someone, if anyone sees a better way of doing this task please add your input.</p>\n"},{"tags":[],"owner":{"account_id":7089178,"reputation":1027,"user_id":5424998,"display_name":"karthik r"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1549619392,"creation_date":1533753693,"answer_id":51753616,"question_id":28177370,"body_markdown":"    System.out.println(LocalDate.now().format(DateTimeFormatter.ofPattern(&quot;dd.MMMM yyyy&quot;)));\r\n\r\n_The above answer shows it for today_","title":"How to format LocalDate to string?","body":"<pre><code>System.out.println(LocalDate.now().format(DateTimeFormatter.ofPattern(\"dd.MMMM yyyy\")));\n</code></pre>\n\n<p><em>The above answer shows it for today</em></p>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":106,"is_accepted":false,"score":106,"last_activity_date":1549268350,"creation_date":1537713536,"answer_id":52467175,"question_id":28177370,"body_markdown":"Could be short as:\r\n\r\n\r\n    LocalDate.now().format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));","title":"How to format LocalDate to string?","body":"<p>Could be short as:</p>\n\n<pre><code>LocalDate.now().format(DateTimeFormatter.ofPattern(\"dd/MM/yyyy\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1438909,"reputation":1075,"user_id":1359643,"display_name":"Inoy"},"down_vote_count":9,"up_vote_count":4,"is_accepted":false,"score":-5,"last_activity_date":1610999766,"creation_date":1562970367,"answer_id":57014642,"question_id":28177370,"body_markdown":"**There is a built-in way to format LocalDate** in **Joda library**\r\n\r\n    import org.joda.time.LocalDate;\r\n\r\n    LocalDate localDate = LocalDate.now();\r\n    String dateFormat = &quot;MM/dd/yyyy&quot;;\r\n    localDate.toString(dateFormat);\r\n\r\nIn case you don&#39;t have it already - add this to the build.gradle:\r\n\r\n    implementation &#39;joda-time:joda-time:2.9.5&#39;\r\n\r\n\r\nHappy coding! :)","title":"How to format LocalDate to string?","body":"<p><strong>There is a built-in way to format LocalDate</strong> in <strong>Joda library</strong></p>\n<pre><code>import org.joda.time.LocalDate;\n\nLocalDate localDate = LocalDate.now();\nString dateFormat = &quot;MM/dd/yyyy&quot;;\nlocalDate.toString(dateFormat);\n</code></pre>\n<p>In case you don't have it already - add this to the build.gradle:</p>\n<pre><code>implementation 'joda-time:joda-time:2.9.5'\n</code></pre>\n<p>Happy coding! :)</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1620767787,"creation_date":1620767787,"answer_id":67494463,"question_id":28177370,"body_markdown":"# *java.time*\r\n\r\n***Unfortunately, all existing answers have missed a crucial thing, `Locale`.***\r\n\r\nA date-time parsing/formatting type (e.g. `DateTimeFormatter` of the modern API or `SimpleDateFormat` of the legacy API) is `Locale`-sensitive. The symbols used in its pattern print the text based on the `Locale` used with them. In absence of a `Locale`, it uses the default `Locale` of the JVM. Check [this answer](https://stackoverflow.com/a/65544056/10819573) to learn more about it.\r\n\r\nThe text in the expected output, `05.May 1988` is in English and thus, the existing solutions will produce the expected result only as a result of mere coincidence (when the default `Locale` of the JVM an English `Locale`).\r\n\r\n**Solution using `java.time`, the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html)&lt;sup&gt;*&lt;/sup&gt;:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tLocalDate date = LocalDate.of(1988, 5, 5);\r\n    \t\tfinal DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd.MMMM uuuu&quot;, Locale.ENGLISH);\r\n    \t\tString output = dtf.format(date);\r\n    \t\tSystem.out.println(output);\r\n    \t}\r\n    }\r\n    \r\n**Output:**\r\n\r\n    05.May 1988\r\n\r\nHere, you can use `yyyy` instead of `uuuu` but [I prefer](https://stackoverflow.com/a/65928023/10819573) `u` to `y`.\r\n\r\nLearn more about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n","title":"How to format LocalDate to string?","body":"<h1><em>java.time</em></h1>\n<p><em><strong>Unfortunately, all existing answers have missed a crucial thing, <code>Locale</code>.</strong></em></p>\n<p>A date-time parsing/formatting type (e.g. <code>DateTimeFormatter</code> of the modern API or <code>SimpleDateFormat</code> of the legacy API) is <code>Locale</code>-sensitive. The symbols used in its pattern print the text based on the <code>Locale</code> used with them. In absence of a <code>Locale</code>, it uses the default <code>Locale</code> of the JVM. Check <a href=\"https://stackoverflow.com/a/65544056/10819573\">this answer</a> to learn more about it.</p>\n<p>The text in the expected output, <code>05.May 1988</code> is in English and thus, the existing solutions will produce the expected result only as a result of mere coincidence (when the default <code>Locale</code> of the JVM an English <code>Locale</code>).</p>\n<p><strong>Solution using <code>java.time</code>, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"noreferrer\">modern date-time API</a><sup>*</sup>:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        LocalDate date = LocalDate.of(1988, 5, 5);\n        final DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd.MMMM uuuu&quot;, Locale.ENGLISH);\n        String output = dtf.format(date);\n        System.out.println(output);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>05.May 1988\n</code></pre>\n<p>Here, you can use <code>yyyy</code> instead of <code>uuuu</code> but <a href=\"https://stackoverflow.com/a/65928023/10819573\">I prefer</a> <code>u</code> to <code>y</code>.</p>\n<p>Learn more about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"}],"owner":{"account_id":3656330,"reputation":2835,"user_id":3047258,"accept_rate":100,"display_name":"Jasko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":505994,"favorite_count":0,"down_vote_count":4,"up_vote_count":267,"accepted_answer_id":28178034,"answer_count":7,"score":263,"last_activity_date":1635531960,"creation_date":1422382912,"question_id":28177370,"body_markdown":"I have a `LocalDate` variable called `date`, when I print it displays 1988-05-05 I need to convert this to be printed as 05.May 1988. How to do this?","title":"How to format LocalDate to string?","body":"<p>I have a <code>LocalDate</code> variable called <code>date</code>, when I print it displays 1988-05-05 I need to convert this to be printed as 05.May 1988. How to do this?</p>\n"},{"tags":["java","regex","templates"],"comments":[{"owner":{"account_id":877196,"reputation":8245,"user_id":118469,"display_name":"laginimaineb"},"score":0,"creation_date":1244307043,"post_id":959731,"comment_id":768763,"body_markdown":"One thing to note, though, is that StringBuffer is the same as StringBuilder just synchronized. However, since in this example you don&#39;t need to synchronize the building of the String you might be better off using StringBuilder (even though acquiring locks is nearly a zero-cost operation).","body":"One thing to note, though, is that StringBuffer is the same as StringBuilder just synchronized. However, since in this example you don&#39;t need to synchronize the building of the String you might be better off using StringBuilder (even though acquiring locks is nearly a zero-cost operation)."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":1,"creation_date":1244338758,"post_id":959731,"comment_id":769688,"body_markdown":"Unfortunately, you have to use StringBuffer in this case; it&#39;s what the appendXXX() methods expect. They&#39;ve been around since Java 4, and StringBuilder wasn&#39;t added until Java 5. As you said though, it&#39;s no big deal, just annoying.","body":"Unfortunately, you have to use StringBuffer in this case; it&#39;s what the appendXXX() methods expect. They&#39;ve been around since Java 4, and StringBuilder wasn&#39;t added until Java 5. As you said though, it&#39;s no big deal, just annoying."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":4,"creation_date":1244348434,"post_id":959731,"comment_id":769892,"body_markdown":"One more thing: appendReplacement(), like the replaceXXX() methods, looks for capture-group references like $1, $2, etc., and replaces them with the text from the associated capture groups. If your replacement text might contain dollar signs or backslashes (which are used to escape dollar signs), you could have a problem. The easiest way to deal with that is to break the append operation into two steps as I&#39;ve done in the code above.","body":"One more thing: appendReplacement(), like the replaceXXX() methods, looks for capture-group references like $1, $2, etc., and replaces them with the text from the associated capture groups. If your replacement text might contain dollar signs or backslashes (which are used to escape dollar signs), you could have a problem. The easiest way to deal with that is to break the append operation into two steps as I&#39;ve done in the code above."},{"owner":{"account_id":28530,"reputation":4817,"user_id":76295,"accept_rate":68,"display_name":"Mark"},"score":0,"creation_date":1244411135,"post_id":959731,"comment_id":771558,"body_markdown":"Alan - very impressed you spotted that.  I didn&#39;t think such a simple problem would be so difficult to solve!","body":"Alan - very impressed you spotted that.  I didn&#39;t think such a simple problem would be so difficult to solve!"},{"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1254413455,"post_id":959731,"comment_id":1358076,"body_markdown":"use http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#quoteReplacement%28java.lang.String%29","body":"use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#quoteReplacement%28java.lang.String%29\" rel=\"nofollow noreferrer\">java.sun.com/javase/6/docs/api/java/util/regex/&hellip;</a>"},{"owner":{"account_id":165768,"reputation":3642,"user_id":389489,"accept_rate":78,"display_name":"Somu"},"score":0,"creation_date":1346928840,"post_id":959731,"comment_id":16499372,"body_markdown":"FYI - Spring&#39;s UriTemplate.expand(Object...) uses exactly the above code except the fix added by @AlanMoore . http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/util/UriTemplate.html#expand(java.lang.Object...)","body":"FYI - Spring&#39;s UriTemplate.expand(Object...) uses exactly the above code except the fix added by @AlanMoore . <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/util/UriTemplate.html#expand(java.lang.Object...)\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/3.0.x/javadoc-api/org/&hellip;</a>"},{"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"score":0,"creation_date":1511360092,"post_id":959731,"comment_id":81827950,"body_markdown":"Wow, that&#39;s very, very cool. A clean, minimal, efficient and complete solution. Thanks y&#39;all. One of the few examples where regexp DO make sense.","body":"Wow, that&#39;s very, very cool. A clean, minimal, efficient and complete solution. Thanks y&#39;all. One of the few examples where regexp DO make sense."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1516123174,"post_id":959731,"comment_id":83557849,"body_markdown":"See `java.text.MessageFormat.format(&quot;Foo {} {}&quot;, &quot;bar&quot;, 1);`","body":"See <code>java.text.MessageFormat.format(&quot;Foo {} {}&quot;, &quot;bar&quot;, 1);</code>"},{"owner":{"account_id":4966019,"reputation":413,"user_id":3995317,"display_name":"Erik Lievaart"},"score":1,"creation_date":1616570247,"post_id":959731,"comment_id":118040391,"body_markdown":"note: overloaded methods with StringBuilder were added to Matcher in java9. From Java9 onward, you&#39;ll want to use StringBuilder instead of StringBuffer.","body":"note: overloaded methods with StringBuilder were added to Matcher in java9. From Java9 onward, you&#39;ll want to use StringBuilder instead of StringBuffer."}],"answers":[{"tags":[],"owner":{"account_id":8642,"reputation":9789,"user_id":15661,"display_name":"hallidave"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1244298839,"creation_date":1244297254,"answer_id":959748,"question_id":959731,"body_markdown":"You could try using a templating library like Apache Velocity.\r\n\r\nhttp://velocity.apache.org/\r\n\r\nHere is an example:\r\n\r\n    import org.apache.velocity.VelocityContext;\r\n    import org.apache.velocity.app.Velocity;\r\n    \r\n    import java.io.StringWriter;\r\n    \r\n    public class TemplateExample {\r\n        public static void main(String args[]) throws Exception {\r\n            Velocity.init();\r\n    \r\n            VelocityContext context = new VelocityContext();\r\n            context.put(&quot;name&quot;, &quot;Mark&quot;);\r\n            context.put(&quot;invoiceNumber&quot;, &quot;42123&quot;);\r\n            context.put(&quot;dueDate&quot;, &quot;June 6, 2009&quot;);\r\n    \r\n            String template = &quot;Hello $name. Please find attached invoice&quot; +\r\n                              &quot; $invoiceNumber which is due on $dueDate.&quot;;\r\n            StringWriter writer = new StringWriter();\r\n            Velocity.evaluate(context, writer, &quot;TemplateName&quot;, template);\r\n    \r\n            System.out.println(writer);\r\n        }\r\n    }\r\n\r\nThe output would be:\r\n\r\n&lt;pre&gt;Hello Mark. Please find attached invoice 42123 which is due on June 6, 2009.&lt;/pre&gt;","title":"How to replace a set of tokens in a Java String?","body":"<p>You could try using a templating library like Apache Velocity.</p>\n\n<p><a href=\"http://velocity.apache.org/\" rel=\"noreferrer\">http://velocity.apache.org/</a></p>\n\n<p>Here is an example:</p>\n\n<pre><code>import org.apache.velocity.VelocityContext;\nimport org.apache.velocity.app.Velocity;\n\nimport java.io.StringWriter;\n\npublic class TemplateExample {\n    public static void main(String args[]) throws Exception {\n        Velocity.init();\n\n        VelocityContext context = new VelocityContext();\n        context.put(\"name\", \"Mark\");\n        context.put(\"invoiceNumber\", \"42123\");\n        context.put(\"dueDate\", \"June 6, 2009\");\n\n        String template = \"Hello $name. Please find attached invoice\" +\n                          \" $invoiceNumber which is due on $dueDate.\";\n        StringWriter writer = new StringWriter();\n        Velocity.evaluate(context, writer, \"TemplateName\", template);\n\n        System.out.println(writer);\n    }\n}\n</code></pre>\n\n<p>The output would be:</p>\n\n<pre>Hello Mark. Please find attached invoice 42123 which is due on June 6, 2009.</pre>\n"},{"tags":[],"owner":{"account_id":36251,"reputation":10399,"user_id":103260,"accept_rate":56,"display_name":"Ricardo Marimon"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1299253346,"creation_date":1244297370,"answer_id":959754,"question_id":959731,"body_markdown":"It depends of where the actual data that you want to replace is located.  You might have a Map like this:\r\n\r\n    Map&lt;String, String&gt; values = new HashMap&lt;String, String&gt;();\r\n\r\ncontaining all the data that can be replaced.  Then you can iterate over the map and change everything in the String as follows:\r\n\r\n    String s = &quot;Your String with [Fields]&quot;;\r\n    for (Map.Entry&lt;String, String&gt; e : values.entrySet()) {\r\n      s = s.replaceAll(&quot;\\\\[&quot; + e.getKey() + &quot;\\\\]&quot;, e.getValue());\r\n    }\r\n\r\nYou could also iterate over the String and find the elements in the map.  But that is a little  bit more complicated because you need to parse the String searching for the [].  You could do it with a regular expression using Pattern and Matcher.\r\n","title":"How to replace a set of tokens in a Java String?","body":"<p>It depends of where the actual data that you want to replace is located.  You might have a Map like this:</p>\n\n<pre><code>Map&lt;String, String&gt; values = new HashMap&lt;String, String&gt;();\n</code></pre>\n\n<p>containing all the data that can be replaced.  Then you can iterate over the map and change everything in the String as follows:</p>\n\n<pre><code>String s = \"Your String with [Fields]\";\nfor (Map.Entry&lt;String, String&gt; e : values.entrySet()) {\n  s = s.replaceAll(\"\\\\[\" + e.getKey() + \"\\\\]\", e.getValue());\n}\n</code></pre>\n\n<p>You could also iterate over the String and find the elements in the map.  But that is a little  bit more complicated because you need to parse the String searching for the [].  You could do it with a regular expression using Pattern and Matcher.</p>\n"},{"tags":[],"owner":{"account_id":3396,"reputation":7487,"user_id":4900,"accept_rate":83,"display_name":"Bruno Ranschaert"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1300031603,"creation_date":1244297530,"answer_id":959761,"question_id":959731,"body_markdown":"    String.format(&quot;Hello %s Please find attached %s which is due on %s&quot;, name, invoice, date)\r\n\r\n ","title":"How to replace a set of tokens in a Java String?","body":"<pre><code>String.format(\"Hello %s Please find attached %s which is due on %s\", name, invoice, date)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27671,"reputation":15568,"user_id":73274,"accept_rate":100,"display_name":"Paul Morie"},"down_vote_count":0,"up_vote_count":117,"is_accepted":false,"score":117,"last_activity_date":1244298814,"creation_date":1244297609,"answer_id":959766,"question_id":959731,"body_markdown":"I really don&#39;t think you need to use a templating engine or anything like that for this.  You can use the [`String.format`][1] method, like so:\r\n\r\n    String template = &quot;Hello %s Please find attached %s which is due on %s&quot;;\r\n    \r\n    String message = String.format(template, name, invoiceNumber, dueDate);\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html#format(java.lang.String,%20java.lang.Object...)","title":"How to replace a set of tokens in a Java String?","body":"<p>I really don't think you need to use a templating engine or anything like that for this.  You can use the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html#format(java.lang.String,%20java.lang.Object...)\" rel=\"noreferrer\"><code>String.format</code></a> method, like so:</p>\n\n<pre><code>String template = \"Hello %s Please find attached %s which is due on %s\";\n\nString message = String.format(template, name, invoiceNumber, dueDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":877196,"reputation":8245,"user_id":118469,"display_name":"laginimaineb"},"down_vote_count":3,"up_vote_count":77,"is_accepted":true,"score":74,"last_activity_date":1244298202,"creation_date":1244297814,"answer_id":959776,"question_id":959731,"body_markdown":"The most efficient way would be using a matcher to continually find the expressions and replace them, then append the text to a string builder:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;\\\\[(.+?)\\\\]&quot;);\r\n    Matcher matcher = pattern.matcher(text);\r\n    HashMap&lt;String,String&gt; replacements = new HashMap&lt;String,String&gt;();\r\n    //populate the replacements map ...\r\n    StringBuilder builder = new StringBuilder();\r\n    int i = 0;\r\n    while (matcher.find()) {\r\n        String replacement = replacements.get(matcher.group(1));\r\n        builder.append(text.substring(i, matcher.start()));\r\n        if (replacement == null)\r\n            builder.append(matcher.group(0));\r\n        else\r\n            builder.append(replacement);\r\n        i = matcher.end();\r\n    }\r\n    builder.append(text.substring(i, text.length()));\r\n    return builder.toString();","title":"How to replace a set of tokens in a Java String?","body":"<p>The most efficient way would be using a matcher to continually find the expressions and replace them, then append the text to a string builder:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"\\\\[(.+?)\\\\]\");\nMatcher matcher = pattern.matcher(text);\nHashMap&lt;String,String&gt; replacements = new HashMap&lt;String,String&gt;();\n//populate the replacements map ...\nStringBuilder builder = new StringBuilder();\nint i = 0;\nwhile (matcher.find()) {\n    String replacement = replacements.get(matcher.group(1));\n    builder.append(text.substring(i, matcher.start()));\n    if (replacement == null)\n        builder.append(matcher.group(0));\n    else\n        builder.append(replacement);\n    i = matcher.end();\n}\nbuilder.append(text.substring(i, text.length()));\nreturn builder.toString();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"A. Knauf"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1244308540,"creation_date":1244300551,"answer_id":959880,"question_id":959731,"body_markdown":"Unfortunately the comfortable method String.format mentioned above is only available starting with Java 1.5 (which should be pretty standard nowadays, but you never know). Instead of that you might also use Java&#39;s [class MessageFormat][2] for replacing the placeholders.\r\n\r\nIt supports placeholders in the form &#39;{number}&#39;, so your message would look like &quot;Hello {0} Please find attached {1} which is due on {2}&quot;. These Strings can easily be externalized using ResourceBundles (e. g. for localization with multiple locales). The replacing would be done using the static&#39;format&#39; method of class MessageFormat:\r\n\r\n    String msg = &quot;Hello {0} Please find attached {1} which is due on {2}&quot;;\r\n    String[] values = {\r\n      &quot;John Doe&quot;, &quot;invoice #123&quot;, &quot;2009-06-30&quot;\r\n    };\r\n    System.out.println(MessageFormat.format(msg, values));\r\n\r\n\r\n\r\n\r\n\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/text/MessageFormat.html","title":"How to replace a set of tokens in a Java String?","body":"<p>Unfortunately the comfortable method String.format mentioned above is only available starting with Java 1.5 (which should be pretty standard nowadays, but you never know). Instead of that you might also use Java's <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/text/MessageFormat.html\" rel=\"noreferrer\">class MessageFormat</a> for replacing the placeholders.</p>\n\n<p>It supports placeholders in the form '{number}', so your message would look like \"Hello {0} Please find attached {1} which is due on {2}\". These Strings can easily be externalized using ResourceBundles (e. g. for localization with multiple locales). The replacing would be done using the static'format' method of class MessageFormat:</p>\n\n<pre><code>String msg = \"Hello {0} Please find attached {1} which is due on {2}\";\nString[] values = {\n  \"John Doe\", \"invoice #123\", \"2009-06-30\"\n};\nSystem.out.println(MessageFormat.format(msg, values));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26926,"reputation":461,"user_id":70510,"display_name":"Francois Gravel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1244301690,"creation_date":1244301690,"answer_id":959915,"question_id":959731,"body_markdown":"In the past, I&#39;ve solved this kind of problem with [StringTemplate][1] and [Groovy Templates][2].  \r\n\r\nUltimately, the decision of using a templating engine or not should be based on the following factors:\r\n\r\n - Will you have many of these templates in the application?\r\n - Do you need the ability to modify the templates without restarting the application?\r\n - Who will be maintaining these templates?  A Java programmer or a business analyst involved on the project?\r\n - Will you need to the ability to put logic in your templates, like conditional text based on values in the variables? \r\n - Will you need the ability to include other templates in a template?\r\n\r\nIf any of the above applies to your project, I would consider using a templating engine, most of which provide this functionality, and more.\r\n\r\n[2]: http://groovy.codehaus.org/Groovy+Templates\r\n[1]: http://www.stringtemplate.org/","title":"How to replace a set of tokens in a Java String?","body":"<p>In the past, I've solved this kind of problem with <a href=\"http://www.stringtemplate.org/\" rel=\"nofollow noreferrer\">StringTemplate</a> and <a href=\"http://groovy.codehaus.org/Groovy+Templates\" rel=\"nofollow noreferrer\">Groovy Templates</a>.  </p>\n\n<p>Ultimately, the decision of using a templating engine or not should be based on the following factors:</p>\n\n<ul>\n<li>Will you have many of these templates in the application?</li>\n<li>Do you need the ability to modify the templates without restarting the application?</li>\n<li>Who will be maintaining these templates?  A Java programmer or a business analyst involved on the project?</li>\n<li>Will you need to the ability to put logic in your templates, like conditional text based on values in the variables? </li>\n<li>Will you need the ability to include other templates in a template?</li>\n</ul>\n\n<p>If any of the above applies to your project, I would consider using a templating engine, most of which provide this functionality, and more.</p>\n"},{"tags":[],"owner":{"account_id":78886,"reputation":710,"user_id":224166,"accept_rate":58,"display_name":"Marcel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1286197172,"creation_date":1286197172,"answer_id":3855442,"question_id":959731,"body_markdown":"http://github.com/niesfisch/tokenreplacer","title":"How to replace a set of tokens in a Java String?","body":"<p><a href=\"http://github.com/niesfisch/tokenreplacer\" rel=\"nofollow\">http://github.com/niesfisch/tokenreplacer</a></p>\n"},{"tags":[],"owner":{"account_id":691481,"reputation":1,"user_id":564109,"display_name":"mtwom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1294239840,"creation_date":1294239840,"answer_id":4605520,"question_id":959731,"body_markdown":"I used\r\n\r\n    String template = &quot;Hello %s Please find attached %s which is due on %s&quot;;\r\n    \r\n    String message = String.format(template, name, invoiceNumber, dueDate);\r\n\r\n","title":"How to replace a set of tokens in a Java String?","body":"<p>I used</p>\n\n<pre><code>String template = \"Hello %s Please find attached %s which is due on %s\";\n\nString message = String.format(template, name, invoiceNumber, dueDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":927725,"reputation":2281,"user_id":958160,"display_name":"Li Ying"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1476121608,"creation_date":1316658723,"answer_id":7508926,"question_id":959731,"body_markdown":"You can use template library for complex template replacement.\r\n\r\nFreeMarker is a very good choice.\r\n\r\nhttp://freemarker.sourceforge.net/\r\n\r\n\r\nBut for simple task, there is a simple utility class can help you.\r\n\r\n[`org.apache.commons.lang3.text.StrSubstitutor`][1]\r\n\r\nIt is very powerful, customizable, and easy to use.\r\n\r\n&gt; This class takes a piece of text and substitutes all the variables\r\n&gt; within it. The default definition of a variable is ${variableName}.\r\n&gt; The prefix and suffix can be changed via constructors and set methods.\r\n&gt; \r\n&gt; Variable values are typically resolved from a map, but could also be\r\n&gt; resolved from system properties, or by supplying a custom variable\r\n&gt; resolver.\r\n\r\nFor example, if you want to substitute system environment variable into a template string,\r\nhere is the code:\r\n\r\n    public class SysEnvSubstitutor {\r\n    \tpublic static final String replace(final String source) {\r\n    \t\tStrSubstitutor strSubstitutor = new StrSubstitutor(\r\n    \t\t\t\tnew StrLookup&lt;Object&gt;() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic String lookup(final String key) {\r\n    \t\t\t\t\t\treturn System.getenv(key);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\treturn strSubstitutor.replace(source);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/text/StrSubstitutor.html","title":"How to replace a set of tokens in a Java String?","body":"<p>You can use template library for complex template replacement.</p>\n\n<p>FreeMarker is a very good choice.</p>\n\n<p><a href=\"http://freemarker.sourceforge.net/\" rel=\"noreferrer\">http://freemarker.sourceforge.net/</a></p>\n\n<p>But for simple task, there is a simple utility class can help you.</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/text/StrSubstitutor.html\" rel=\"noreferrer\"><code>org.apache.commons.lang3.text.StrSubstitutor</code></a></p>\n\n<p>It is very powerful, customizable, and easy to use.</p>\n\n<blockquote>\n  <p>This class takes a piece of text and substitutes all the variables\n  within it. The default definition of a variable is ${variableName}.\n  The prefix and suffix can be changed via constructors and set methods.</p>\n  \n  <p>Variable values are typically resolved from a map, but could also be\n  resolved from system properties, or by supplying a custom variable\n  resolver.</p>\n</blockquote>\n\n<p>For example, if you want to substitute system environment variable into a template string,\nhere is the code:</p>\n\n<pre><code>public class SysEnvSubstitutor {\n    public static final String replace(final String source) {\n        StrSubstitutor strSubstitutor = new StrSubstitutor(\n                new StrLookup&lt;Object&gt;() {\n                    @Override\n                    public String lookup(final String key) {\n                        return System.getenv(key);\n                    }\n                });\n        return strSubstitutor.replace(source);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1920904,"reputation":977,"user_id":1732450,"display_name":"mihu86"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1370970787,"creation_date":1366288489,"answer_id":16083135,"question_id":959731,"body_markdown":"My solution for replacing ${variable} style tokens (inspired by the answers here and by the Spring UriTemplate):\r\n\r\n    public static String substituteVariables(String template, Map&lt;String, String&gt; variables) {\r\n        Pattern pattern = Pattern.compile(&quot;\\\\$\\\\{(.+?)\\\\}&quot;);\r\n        Matcher matcher = pattern.matcher(template);\r\n        // StringBuilder cannot be used here because Matcher expects StringBuffer\r\n        StringBuffer buffer = new StringBuffer();\r\n        while (matcher.find()) {\r\n            if (variables.containsKey(matcher.group(1))) {\r\n                String replacement = variables.get(matcher.group(1));\r\n                // quote to work properly with $ and {,} signs\r\n                matcher.appendReplacement(buffer, replacement != null ? Matcher.quoteReplacement(replacement) : &quot;null&quot;);\r\n            }\r\n        }\r\n        matcher.appendTail(buffer);\r\n        return buffer.toString();\r\n    }","title":"How to replace a set of tokens in a Java String?","body":"<p>My solution for replacing ${variable} style tokens (inspired by the answers here and by the Spring UriTemplate):</p>\n\n<pre><code>public static String substituteVariables(String template, Map&lt;String, String&gt; variables) {\n    Pattern pattern = Pattern.compile(\"\\\\$\\\\{(.+?)\\\\}\");\n    Matcher matcher = pattern.matcher(template);\n    // StringBuilder cannot be used here because Matcher expects StringBuffer\n    StringBuffer buffer = new StringBuffer();\n    while (matcher.find()) {\n        if (variables.containsKey(matcher.group(1))) {\n            String replacement = variables.get(matcher.group(1));\n            // quote to work properly with $ and {,} signs\n            matcher.appendReplacement(buffer, replacement != null ? Matcher.quoteReplacement(replacement) : \"null\");\n        }\n    }\n    matcher.appendTail(buffer);\n    return buffer.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3390138,"reputation":201,"user_id":2845137,"display_name":"user2845137"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1380860711,"creation_date":1380859559,"answer_id":19173034,"question_id":959731,"body_markdown":"    System.out.println(MessageFormat.format(&quot;Hello {0}! You have {1} messages&quot;, &quot;Join&quot;,10L));\r\n\r\n**Output:**\r\nHello Join! You have 10 messages&quot;\r\n","title":"How to replace a set of tokens in a Java String?","body":"<pre><code>System.out.println(MessageFormat.format(\"Hello {0}! You have {1} messages\", \"Join\",10L));\n</code></pre>\n\n<p><strong>Output:</strong>\nHello Join! You have 10 messages\"</p>\n"},{"tags":[],"owner":{"account_id":2660107,"reputation":4547,"user_id":2300013,"accept_rate":100,"display_name":"AR1"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484908380,"creation_date":1484908380,"answer_id":41761483,"question_id":959731,"body_markdown":"With Apache Commons Library, you can simply use [Stringutils.replaceEach][1]:\r\n\r\n    public static String replaceEach(String text,\r\n                                 String[] searchList,\r\n                                 String[] replacementList)\r\n\r\nFrom the [documentation][1]:\r\n\r\n&gt; Replaces all occurrences of Strings within another String.\r\n&gt; \r\n&gt; A null reference passed to this method is a no-op, or if any &quot;search\r\n&gt; string&quot; or &quot;string to replace&quot; is null, that replace will be ignored.\r\n&gt; This will not repeat. For repeating replaces, call the overloaded\r\n&gt; method.\r\n\r\n \r\n\r\n     StringUtils.replaceEach(null, *, *)        = null\r\n    \r\n      StringUtils.replaceEach(&quot;&quot;, *, *)          = &quot;&quot;\r\n    \r\n      StringUtils.replaceEach(&quot;aba&quot;, null, null) = &quot;aba&quot;\r\n    \r\n      StringUtils.replaceEach(&quot;aba&quot;, new String[0], null) = &quot;aba&quot;\r\n    \r\n      StringUtils.replaceEach(&quot;aba&quot;, null, new String[0]) = &quot;aba&quot;\r\n    \r\n      StringUtils.replaceEach(&quot;aba&quot;, new String[]{&quot;a&quot;}, null)  = &quot;aba&quot;\r\n    \r\n      StringUtils.replaceEach(&quot;aba&quot;, new String[]{&quot;a&quot;}, new String[]{&quot;&quot;})  = &quot;b&quot;\r\n    \r\n      StringUtils.replaceEach(&quot;aba&quot;, new String[]{null}, new String[]{&quot;a&quot;})  = &quot;aba&quot;\r\n    \r\n      StringUtils.replaceEach(&quot;abcde&quot;, new String[]{&quot;ab&quot;, &quot;d&quot;}, new String[]{&quot;w&quot;, &quot;t&quot;})  = &quot;wcte&quot;\r\n      (example of how it does not repeat)\r\n      \r\n    StringUtils.replaceEach(&quot;abcde&quot;, new String[]{&quot;ab&quot;, &quot;d&quot;}, new String[]{&quot;d&quot;, &quot;t&quot;})  = &quot;dcte&quot;\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceEach-java.lang.String-java.lang.String:A-java.lang.String:A-","title":"How to replace a set of tokens in a Java String?","body":"<p>With Apache Commons Library, you can simply use <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceEach-java.lang.String-java.lang.String:A-java.lang.String:A-\" rel=\"nofollow noreferrer\">Stringutils.replaceEach</a>:</p>\n\n<pre><code>public static String replaceEach(String text,\n                             String[] searchList,\n                             String[] replacementList)\n</code></pre>\n\n<p>From the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceEach-java.lang.String-java.lang.String:A-java.lang.String:A-\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Replaces all occurrences of Strings within another String.</p>\n  \n  <p>A null reference passed to this method is a no-op, or if any \"search\n  string\" or \"string to replace\" is null, that replace will be ignored.\n  This will not repeat. For repeating replaces, call the overloaded\n  method.</p>\n</blockquote>\n\n<pre><code> StringUtils.replaceEach(null, *, *)        = null\n\n  StringUtils.replaceEach(\"\", *, *)          = \"\"\n\n  StringUtils.replaceEach(\"aba\", null, null) = \"aba\"\n\n  StringUtils.replaceEach(\"aba\", new String[0], null) = \"aba\"\n\n  StringUtils.replaceEach(\"aba\", null, new String[0]) = \"aba\"\n\n  StringUtils.replaceEach(\"aba\", new String[]{\"a\"}, null)  = \"aba\"\n\n  StringUtils.replaceEach(\"aba\", new String[]{\"a\"}, new String[]{\"\"})  = \"b\"\n\n  StringUtils.replaceEach(\"aba\", new String[]{null}, new String[]{\"a\"})  = \"aba\"\n\n  StringUtils.replaceEach(\"abcde\", new String[]{\"ab\", \"d\"}, new String[]{\"w\", \"t\"})  = \"wcte\"\n  (example of how it does not repeat)\n\nStringUtils.replaceEach(\"abcde\", new String[]{\"ab\", \"d\"}, new String[]{\"d\", \"t\"})  = \"dcte\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":927725,"reputation":2281,"user_id":958160,"display_name":"Li Ying"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497584435,"creation_date":1497584435,"answer_id":44580414,"question_id":959731,"body_markdown":"FYI\r\n\r\nIn the new language Kotlin,\r\nyou can use &quot;String Templates&quot; in your source code directly, \r\nno 3rd party library or template engine need to do the variable replacement.\r\n\r\nIt is a feature of the language itself.\r\n\r\nSee:\r\nhttps://kotlinlang.org/docs/reference/basic-types.html#string-templates\r\n\r\n","title":"How to replace a set of tokens in a Java String?","body":"<p>FYI</p>\n\n<p>In the new language Kotlin,\nyou can use \"String Templates\" in your source code directly, \nno 3rd party library or template engine need to do the variable replacement.</p>\n\n<p>It is a feature of the language itself.</p>\n\n<p>See:\n<a href=\"https://kotlinlang.org/docs/reference/basic-types.html#string-templates\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/basic-types.html#string-templates</a></p>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574082298,"creation_date":1572287596,"answer_id":58596552,"question_id":959731,"body_markdown":"The following replaces variables of the form `&lt;&lt;VAR&gt;&gt;`, with values looked up from a Map. You can [test it online here](https://repl.it/repls/JoyfulLumberingRecursion)\r\n\r\nFor example, with the following input string\r\n\r\n    BMI=(&lt;&lt;Weight&gt;&gt;/(&lt;&lt;Height&gt;&gt;*&lt;&lt;Height&gt;&gt;)) * 70\r\n    Hi there &lt;&lt;Weight&gt;&gt; was here\r\n\r\nand the following variable values\r\n\r\n    Weight, 42\r\n    Height, HEIGHT 51\r\n\r\noutputs the following\r\n\r\n    BMI=(42/(HEIGHT 51*HEIGHT 51)) * 70\r\n    \r\n    Hi there 42 was here\r\n\r\nHere&#39;s the code\r\n\r\n\r\n      static Pattern pattern = Pattern.compile(&quot;&lt;&lt;([a-z][a-z0-9]*)&gt;&gt;&quot;, Pattern.CASE_INSENSITIVE);\r\n    \r\n      public static String replaceVarsWithValues(String message, Map&lt;String,String&gt; varValues) {\r\n        try {\r\n          StringBuffer newStr = new StringBuffer(message);\r\n          int lenDiff = 0;\r\n          Matcher m = pattern.matcher(message);\r\n          while (m.find()) {\r\n            String fullText = m.group(0);\r\n            String keyName = m.group(1);\r\n            String newValue = varValues.get(keyName)+&quot;&quot;;\r\n            String replacementText = newValue;\r\n            newStr = newStr.replace(m.start() - lenDiff, m.end() - lenDiff, replacementText);\r\n            lenDiff += fullText.length() - replacementText.length();\r\n          }\r\n          return newStr.toString();\r\n        } catch (Exception e) {\r\n          return message;\r\n        }\r\n      }\r\n    \r\n    \r\n      public static void main(String args[]) throws Exception {\r\n          String testString = &quot;BMI=(&lt;&lt;Weight&gt;&gt;/(&lt;&lt;Height&gt;&gt;*&lt;&lt;Height&gt;&gt;)) * 70\\n\\nHi there &lt;&lt;Weight&gt;&gt; was here&quot;;\r\n          HashMap&lt;String,String&gt; values = new HashMap&lt;&gt;();\r\n          values.put(&quot;Weight&quot;, &quot;42&quot;);\r\n          values.put(&quot;Height&quot;, &quot;HEIGHT 51&quot;);\r\n          System.out.println(replaceVarsWithValues(testString, values));\r\n      }\r\n\r\n\r\nand although not requested, you can use a similar approach to replace variables in a string with properties from your application.properties file, though this may already be being done:\r\n\r\n```  \r\nprivate static Pattern patternMatchForProperties =\r\n      Pattern.compile(&quot;[$][{]([.a-z0-9_]*)[}]&quot;, Pattern.CASE_INSENSITIVE);\r\n\r\nprotected String replaceVarsWithProperties(String message) {\r\n    try {\r\n      StringBuffer newStr = new StringBuffer(message);\r\n      int lenDiff = 0;\r\n      Matcher m = patternMatchForProperties.matcher(message);\r\n      while (m.find()) {\r\n        String fullText = m.group(0);\r\n        String keyName = m.group(1);\r\n        String newValue = System.getProperty(keyName);\r\n        String replacementText = newValue;\r\n        newStr = newStr.replace(m.start() - lenDiff, m.end() - lenDiff, replacementText);\r\n        lenDiff += fullText.length() - replacementText.length();\r\n      }\r\n      return newStr.toString();\r\n    } catch (Exception e) {\r\n      return message;\r\n    }\r\n  }\r\n```\r\n\r\n","title":"How to replace a set of tokens in a Java String?","body":"<p>The following replaces variables of the form <code>&lt;&lt;VAR&gt;&gt;</code>, with values looked up from a Map. You can <a href=\"https://repl.it/repls/JoyfulLumberingRecursion\" rel=\"nofollow noreferrer\">test it online here</a></p>\n\n<p>For example, with the following input string</p>\n\n<pre><code>BMI=(&lt;&lt;Weight&gt;&gt;/(&lt;&lt;Height&gt;&gt;*&lt;&lt;Height&gt;&gt;)) * 70\nHi there &lt;&lt;Weight&gt;&gt; was here\n</code></pre>\n\n<p>and the following variable values</p>\n\n<pre><code>Weight, 42\nHeight, HEIGHT 51\n</code></pre>\n\n<p>outputs the following</p>\n\n<pre><code>BMI=(42/(HEIGHT 51*HEIGHT 51)) * 70\n\nHi there 42 was here\n</code></pre>\n\n<p>Here's the code</p>\n\n<pre><code>  static Pattern pattern = Pattern.compile(\"&lt;&lt;([a-z][a-z0-9]*)&gt;&gt;\", Pattern.CASE_INSENSITIVE);\n\n  public static String replaceVarsWithValues(String message, Map&lt;String,String&gt; varValues) {\n    try {\n      StringBuffer newStr = new StringBuffer(message);\n      int lenDiff = 0;\n      Matcher m = pattern.matcher(message);\n      while (m.find()) {\n        String fullText = m.group(0);\n        String keyName = m.group(1);\n        String newValue = varValues.get(keyName)+\"\";\n        String replacementText = newValue;\n        newStr = newStr.replace(m.start() - lenDiff, m.end() - lenDiff, replacementText);\n        lenDiff += fullText.length() - replacementText.length();\n      }\n      return newStr.toString();\n    } catch (Exception e) {\n      return message;\n    }\n  }\n\n\n  public static void main(String args[]) throws Exception {\n      String testString = \"BMI=(&lt;&lt;Weight&gt;&gt;/(&lt;&lt;Height&gt;&gt;*&lt;&lt;Height&gt;&gt;)) * 70\\n\\nHi there &lt;&lt;Weight&gt;&gt; was here\";\n      HashMap&lt;String,String&gt; values = new HashMap&lt;&gt;();\n      values.put(\"Weight\", \"42\");\n      values.put(\"Height\", \"HEIGHT 51\");\n      System.out.println(replaceVarsWithValues(testString, values));\n  }\n</code></pre>\n\n<p>and although not requested, you can use a similar approach to replace variables in a string with properties from your application.properties file, though this may already be being done:</p>\n\n<pre><code>private static Pattern patternMatchForProperties =\n      Pattern.compile(\"[$][{]([.a-z0-9_]*)[}]\", Pattern.CASE_INSENSITIVE);\n\nprotected String replaceVarsWithProperties(String message) {\n    try {\n      StringBuffer newStr = new StringBuffer(message);\n      int lenDiff = 0;\n      Matcher m = patternMatchForProperties.matcher(message);\n      while (m.find()) {\n        String fullText = m.group(0);\n        String keyName = m.group(1);\n        String newValue = System.getProperty(keyName);\n        String replacementText = newValue;\n        newStr = newStr.replace(m.start() - lenDiff, m.end() - lenDiff, replacementText);\n        lenDiff += fullText.length() - replacementText.length();\n      }\n      return newStr.toString();\n    } catch (Exception e) {\n      return message;\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257549,"reputation":4988,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635531954,"creation_date":1629842183,"answer_id":68914529,"question_id":959731,"body_markdown":"You can use Apache Commons [StringSubstitutor][1]:\r\n\r\nFor example:\r\n\r\n     // Build map\r\n     Map&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\r\n     valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\n     valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\n     String templateString = &quot;The ${animal} jumped over the ${target}.&quot;;\r\n    \r\n     // Build StringSubstitutor\r\n     StringSubstitutor sub = new StringSubstitutor(valuesMap);\r\n    \r\n     // Replace\r\n     String resolvedString = sub.replace(templateString);\r\n\r\n \r\nyielding:\r\n\r\n     &quot;The quick brown fox jumped over the lazy dog.&quot;\r\n\r\nYou can also customize the prefix and suffix delimiters (`${` and `}` respectively in the example above) by using:\r\n\r\n  * [setVariablePrefix][2]\r\n  * [setVariableSuffix][3]\r\n\r\nYou can also specify a default value using syntax like below:\r\n\r\n    String templateString = &quot;The ${animal:giraffe} jumped over the ${target}.&quot;;\r\n\r\nwhich would yield `&quot;The giraffe jumped over the lazy dog.&quot;` when no `animal` parameter was supplied.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html\r\n  [2]: https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html#setValueDelimiter-java.lang.String-\r\n  [3]: https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html#setVariablePrefix-java.lang.String-","title":"How to replace a set of tokens in a Java String?","body":"<p>You can use Apache Commons <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html\" rel=\"nofollow noreferrer\">StringSubstitutor</a>:</p>\n<p>For example:</p>\n<pre><code> // Build map\n Map&lt;String, String&gt; valuesMap = new HashMap&lt;&gt;();\n valuesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\n valuesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\n String templateString = &quot;The ${animal} jumped over the ${target}.&quot;;\n\n // Build StringSubstitutor\n StringSubstitutor sub = new StringSubstitutor(valuesMap);\n\n // Replace\n String resolvedString = sub.replace(templateString);\n</code></pre>\n<p>yielding:</p>\n<pre><code> &quot;The quick brown fox jumped over the lazy dog.&quot;\n</code></pre>\n<p>You can also customize the prefix and suffix delimiters (<code>${</code> and <code>}</code> respectively in the example above) by using:</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html#setValueDelimiter-java.lang.String-\" rel=\"nofollow noreferrer\">setVariablePrefix</a></li>\n<li><a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringSubstitutor.html#setVariablePrefix-java.lang.String-\" rel=\"nofollow noreferrer\">setVariableSuffix</a></li>\n</ul>\n<p>You can also specify a default value using syntax like below:</p>\n<pre><code>String templateString = &quot;The ${animal:giraffe} jumped over the ${target}.&quot;;\n</code></pre>\n<p>which would yield <code>&quot;The giraffe jumped over the lazy dog.&quot;</code> when no <code>animal</code> parameter was supplied.</p>\n"}],"owner":{"account_id":28530,"reputation":4817,"user_id":76295,"accept_rate":68,"display_name":"Mark"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180809,"favorite_count":0,"down_vote_count":0,"up_vote_count":119,"accepted_answer_id":959776,"answer_count":16,"score":119,"last_activity_date":1635531954,"creation_date":1244296828,"question_id":959731,"body_markdown":"I have the following template String: `&quot;Hello [Name] Please find attached [Invoice Number] which is due on [Due Date]&quot;`.\r\n\r\nI also have String variables for name, invoice number and due date - what&#39;s the best way to replace the tokens in the template with the variables?  \r\n\r\n(Note that if a variable happens to contain a token it should NOT be replaced).\r\n\r\n----------\r\n\r\n**EDIT**\r\n\r\nWith thanks to @laginimaineb and @alan-moore, **here&#39;s my solution:**\r\n\r\n    public static String replaceTokens(String text, \r\n                                       Map&lt;String, String&gt; replacements) {\r\n        Pattern pattern = Pattern.compile(&quot;\\\\[(.+?)\\\\]&quot;);\r\n        Matcher matcher = pattern.matcher(text);\r\n        StringBuffer buffer = new StringBuffer();\r\n\r\n        while (matcher.find()) {\r\n            String replacement = replacements.get(matcher.group(1));\r\n            if (replacement != null) {\r\n                // matcher.appendReplacement(buffer, replacement);\r\n                // see comment \r\n                matcher.appendReplacement(buffer, &quot;&quot;);\r\n                buffer.append(replacement);\r\n            }\r\n        }\r\n        matcher.appendTail(buffer);\r\n        return buffer.toString();\r\n    }","title":"How to replace a set of tokens in a Java String?","body":"<p>I have the following template String: <code>\"Hello [Name] Please find attached [Invoice Number] which is due on [Due Date]\"</code>.</p>\n\n<p>I also have String variables for name, invoice number and due date - what's the best way to replace the tokens in the template with the variables?  </p>\n\n<p>(Note that if a variable happens to contain a token it should NOT be replaced).</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>With thanks to @laginimaineb and @alan-moore, <strong>here's my solution:</strong></p>\n\n<pre><code>public static String replaceTokens(String text, \n                                   Map&lt;String, String&gt; replacements) {\n    Pattern pattern = Pattern.compile(\"\\\\[(.+?)\\\\]\");\n    Matcher matcher = pattern.matcher(text);\n    StringBuffer buffer = new StringBuffer();\n\n    while (matcher.find()) {\n        String replacement = replacements.get(matcher.group(1));\n        if (replacement != null) {\n            // matcher.appendReplacement(buffer, replacement);\n            // see comment \n            matcher.appendReplacement(buffer, \"\");\n            buffer.append(replacement);\n        }\n    }\n    matcher.appendTail(buffer);\n    return buffer.toString();\n}\n</code></pre>\n"},{"tags":["java","design-patterns","functional-programming","dry"],"comments":[{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1635626116,"post_id":69773059,"comment_id":123347849,"body_markdown":"`ValidCommand` looks incorrect - `aLong` and `aString` are never used, and `playlistId` and `requestUserId` are never declared. Also, it doesn&#39;t make sense to store the arguments to the predicate in the command (if that&#39;s what the intent is).","body":"<code>ValidCommand</code> looks incorrect - <code>aLong</code> and <code>aString</code> are never used, and <code>playlistId</code> and <code>requestUserId</code> are never declared. Also, it doesn&#39;t make sense to store the arguments to the predicate in the command (if that&#39;s what the intent is)."}],"answers":[{"tags":[],"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635531653,"creation_date":1635531653,"answer_id":69773258,"question_id":69773059,"body_markdown":"What about creating a utility function:\r\n\r\n    private void validate(Long aLong, String aString) {\r\n        if (!condition(aLong, aString)){\r\n            throw new CustomException();\r\n        }\r\n    }\r\n\r\nand then adjusting your code to use it like:\r\n\r\n    public ClassA method1 (arguments...){\r\n        validate(aLong, aString);\r\n        return doSomething(arguments...);\r\n    }\r\n","title":"How to wrap a command inside if-else statements with same condition used in many places","body":"<p>What about creating a utility function:</p>\n<pre><code>private void validate(Long aLong, String aString) {\n    if (!condition(aLong, aString)){\n        throw new CustomException();\n    }\n}\n</code></pre>\n<p>and then adjusting your code to use it like:</p>\n<pre><code>public ClassA method1 (arguments...){\n    validate(aLong, aString);\n    return doSomething(arguments...);\n}\n</code></pre>\n"}],"owner":{"account_id":6004030,"reputation":31,"user_id":4716476,"display_name":"tsiskoS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635531653,"creation_date":1635530480,"question_id":69773059,"body_markdown":"I have a class with many public methods. Each method executes a single task when a single condition is met. The conditions in all methods are exactly the same as seen below:\r\n\r\n```\r\npublic class MyClass{\r\n\t\r\n\tpublic ClassA method1 (arguments...){\r\n\r\n\t\tif(condition(aLong, aString)){\r\n\t\t\treturn doSomething(arguments...)\r\n\t\t}else{\r\n\t\t\tthrow new CustomException();\r\n\t\t}\r\n\r\n\t}\r\n\r\n    public void method2 (arguments...){\r\n\r\n\t\tif(condition(aLong, aString)){\r\n\t\t\tdoSomethingElse(arguments...)\r\n\t\t}else{\r\n\t\t\tthrow new CustomException();\r\n\t\t}\r\n\r\n\t}\r\n\r\n    public List&lt;ClassB&gt; method3 (arguments...){\r\n\r\n\t\tif(condition(aLong, aString)){\r\n\t\t\treturn doSomethingDifferent(arguments...)\r\n\t\t}else{\r\n\t\t\tthrow new CustomException();\r\n\t\t}\r\n\t}\r\n\r\n    private boolean condition(Long aLong, String aString){\r\n        // some code\r\n        return true;\r\n    }\r\n}\r\n\r\n```\r\nI wanted to get rid of the repeating if...else condition by using the command pattern, so i created a class like below to wrap the actual execution inside an if else statement.\r\n\r\n```\r\npublic abstract class ValidCommand&lt;T extends Serializable&gt; {\r\n\r\n    private BiPredicate&lt;Long,String&gt; predicate;\r\n    private Long aLong;\r\n    private String aString\r\n    \r\n    public ValidCommand(BiPredicate&lt;Long,String&gt; predicate,Long aLong, String aString){\r\n        this.predicate = predicate;        \r\n        this.aLong = aLong;\r\n        this.aString = aString;\r\n    }\r\n\r\n    public T execute(){\r\n        if(predicate.test(playlistId, requestUserId)){\r\n            return onExecution();\r\n        }else{\r\n            throw new CustomException();\r\n        }\r\n    }\r\n\r\n    protected abstract T onExecution();\r\n\r\n}\r\n```\r\nand I refactored the class with the methods as below:\r\n\r\n```\r\npublic class MyClass{\r\n\r\n    private BiPredicate&lt;Long,String&gt; predicate = (a,b) -&gt; condition(a,b);\r\n    \r\n    public ClassA method1(arguments...){\r\n\r\n\t\tValidCommand&lt;ClassA&gt; validCommand= new ValidCommand(predicate,aLong,aString){\r\n\t\t\t@Override\r\n\t\t\tprotected Serializable onExecution() {\r\n\t\t\t\treturn doSomething();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn validCommand.execute();\r\n\t}\r\n    .\r\n    .\r\n    .\r\n \r\n}\r\n```\r\n\r\nMy question is if there is a better way of doing this in Java and if is worth bothering in terms of code readability and DRY principles. Note that the number of methods inside MyClass may increase and probably all of them will share the same condition.","title":"How to wrap a command inside if-else statements with same condition used in many places","body":"<p>I have a class with many public methods. Each method executes a single task when a single condition is met. The conditions in all methods are exactly the same as seen below:</p>\n<pre><code>public class MyClass{\n    \n    public ClassA method1 (arguments...){\n\n        if(condition(aLong, aString)){\n            return doSomething(arguments...)\n        }else{\n            throw new CustomException();\n        }\n\n    }\n\n    public void method2 (arguments...){\n\n        if(condition(aLong, aString)){\n            doSomethingElse(arguments...)\n        }else{\n            throw new CustomException();\n        }\n\n    }\n\n    public List&lt;ClassB&gt; method3 (arguments...){\n\n        if(condition(aLong, aString)){\n            return doSomethingDifferent(arguments...)\n        }else{\n            throw new CustomException();\n        }\n    }\n\n    private boolean condition(Long aLong, String aString){\n        // some code\n        return true;\n    }\n}\n\n</code></pre>\n<p>I wanted to get rid of the repeating if...else condition by using the command pattern, so i created a class like below to wrap the actual execution inside an if else statement.</p>\n<pre><code>public abstract class ValidCommand&lt;T extends Serializable&gt; {\n\n    private BiPredicate&lt;Long,String&gt; predicate;\n    private Long aLong;\n    private String aString\n    \n    public ValidCommand(BiPredicate&lt;Long,String&gt; predicate,Long aLong, String aString){\n        this.predicate = predicate;        \n        this.aLong = aLong;\n        this.aString = aString;\n    }\n\n    public T execute(){\n        if(predicate.test(playlistId, requestUserId)){\n            return onExecution();\n        }else{\n            throw new CustomException();\n        }\n    }\n\n    protected abstract T onExecution();\n\n}\n</code></pre>\n<p>and I refactored the class with the methods as below:</p>\n<pre><code>public class MyClass{\n\n    private BiPredicate&lt;Long,String&gt; predicate = (a,b) -&gt; condition(a,b);\n    \n    public ClassA method1(arguments...){\n\n        ValidCommand&lt;ClassA&gt; validCommand= new ValidCommand(predicate,aLong,aString){\n            @Override\n            protected Serializable onExecution() {\n                return doSomething();\n            }\n        };\n\n        return validCommand.execute();\n    }\n    .\n    .\n    .\n \n}\n</code></pre>\n<p>My question is if there is a better way of doing this in Java and if is worth bothering in terms of code readability and DRY principles. Note that the number of methods inside MyClass may increase and probably all of them will share the same condition.</p>\n"},{"tags":["java","rest","http","oauth"],"answers":[{"tags":[],"owner":{"account_id":12799317,"reputation":123,"user_id":9261127,"display_name":"okno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524515158,"creation_date":1524515158,"answer_id":49989426,"question_id":49989063,"body_markdown":"I think you forgot to encode your auth parameter  (&#39;oauth-key&#39;, &#39;oauth-secret&#39;) in base 64. Just like you did in python. \r\n\r\nI don&#39;t know what oauth server you are using but i am pretty sure it returns Json so you might have to change your HttpResonse generics to ```HttpResponse&lt;JsonNode&gt;```. \r\n \r\n\r\n","title":"Covert Python Http request to Java","body":"<p>I think you forgot to encode your auth parameter  ('oauth-key', 'oauth-secret') in base 64. Just like you did in python. </p>\n\n<p>I don't know what oauth server you are using but i am pretty sure it returns Json so you might have to change your HttpResonse generics to <code>HttpResponse&lt;JsonNode&gt;</code>. </p>\n"},{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635530747,"creation_date":1524516015,"answer_id":49989608,"question_id":49989063,"body_markdown":"The username and password are not supposed to be part of the JSON body. It is not in the Python code. The username and password are part of the `auth` parameter. What this does is create an `Authorization` header. Based on this `HTTPBasicAuth`, it seems that [Basic Authentication][1] is used. What this means is that the value of the `Authorization` header should be `\r\n`&quot;Basic base64(username:password)&quot;`, where `base64` is a generic function that will base 64 encode the string `&quot;&lt;username&gt;:&lt;password&gt;&quot;`, the username and password, delimited with a colon.\r\n\r\nWith Java 8, you can use the [Base64][2] class to encode the value. So you would do\r\n\r\n    String credentials = &quot;ouath-key:oauth-secret&quot;;\r\n    String base64 = Base64.getEncoder().encodeAsString(credentials.getBytes(StandardCharsets.UTF_8));\r\n    HttpResponse&lt;String&gt; response = Unirest.post(&quot;http://35.192.98.23:8080/oauth/token&quot;)\r\n                      .header(&quot;content-type&quot;, &quot;application/json&quot;)\r\n                      .header(&quot;Authorization&quot;, &quot;Basic &quot; + base64)\r\n                      ...\r\n\r\n\r\n\r\n\r\n[1]: https://en.wikipedia.org/wiki/Basic_access_authentication\r\n[2]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html","title":"Covert Python Http request to Java","body":"<p>The username and password are not supposed to be part of the JSON body. It is not in the Python code. The username and password are part of the <code>auth</code> parameter. What this does is create an <code>Authorization</code> header. Based on this <code>HTTPBasicAuth</code>, it seems that <a href=\"https://en.wikipedia.org/wiki/Basic_access_authentication\" rel=\"nofollow noreferrer\">Basic Authentication</a> is used. What this means is that the value of the <code>Authorization</code> header should be <code> </code>&quot;Basic base64(username:password)&quot;<code>, where </code>base64<code>is a generic function that will base 64 encode the string</code>&quot;:&quot;`, the username and password, delimited with a colon.</p>\n<p>With Java 8, you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">Base64</a> class to encode the value. So you would do</p>\n<pre><code>String credentials = &quot;ouath-key:oauth-secret&quot;;\nString base64 = Base64.getEncoder().encodeAsString(credentials.getBytes(StandardCharsets.UTF_8));\nHttpResponse&lt;String&gt; response = Unirest.post(&quot;http://35.192.98.23:8080/oauth/token&quot;)\n                  .header(&quot;content-type&quot;, &quot;application/json&quot;)\n                  .header(&quot;Authorization&quot;, &quot;Basic &quot; + base64)\n                  ...\n</code></pre>\n"}],"owner":{"account_id":2421862,"reputation":1343,"user_id":5157998,"accept_rate":59,"display_name":"rishi007bansod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49989608,"answer_count":2,"score":1,"last_activity_date":1635530747,"creation_date":1524513547,"question_id":49989063,"body_markdown":"I want to convert following Python code snippet of Http request to equivalent Java code,\r\n\r\n    import requests\r\n    from requests.auth import HTTPBasicAuth\r\n    from numpy import array\r\n    try:\r\n        from commands import getoutput # python 2\r\n    except ImportError:\r\n        from subprocess import getoutput # python 3\r\n    \r\n    \r\n    SELDON_API_IP=&quot;35.192.98.23&quot;\r\n    \r\n    def get_token():\r\n        payload = {&#39;grant_type&#39;: &#39;client_credentials&#39;}\r\n        response = requests.post(\r\n                    &quot;http://{}:8080/oauth/token&quot;.format(SELDON_API_IP),\r\n                    auth=HTTPBasicAuth(&#39;oauth-key&#39;, &#39;oauth-secret&#39;),\r\n                    data=payload)\r\n        token =  response.json()[&quot;access_token&quot;]\r\n        return token\r\n    \r\n    def rest_request():\r\n        token = get_token()\r\n        headers = {&#39;Authorization&#39;: &#39;Bearer &#39;+token}\r\n        payload = {&#39;meta&#39;:{},&#39;data&#39;:{&#39;ndarray&#39;:[[101]]}}\r\n        response = requests.post(\r\n                    &quot;http://{}:8080/api/v0.1/predictions&quot;.format(SELDON_API_IP),\r\n                    headers=headers,\r\n                    json=payload)\r\n        print(response.text)\r\n    \r\n    rest_request()\r\n\r\nI tried converting `get_token()` part using unirest Java\r\n\r\n    HttpResponse&lt;String&gt; response = Unirest.post(&quot;http://35.192.98.23:8080/oauth/token&quot;)\r\n                      .header(&quot;content-type&quot;, &quot;application/json&quot;)\r\n                      .body(&quot;{\\&quot;grant_type\\&quot;:\\&quot;client_credentials\\&quot;,\\&quot;username\\&quot;: \\&quot;oauth-key\\&quot;,\\&quot;password\\&quot;: \\&quot;oauth-secret\\&quot;}&quot;)\r\n                      .asString();\r\n\r\nBut in this Java code I am getting error &quot;Full Authentication Required&quot;. How can I convert this complete Python snippet to Java code(with or without unirest, anything is fine)?\r\n\r\n\r\n ","title":"Covert Python Http request to Java","body":"<p>I want to convert following Python code snippet of Http request to equivalent Java code,</p>\n\n<pre><code>import requests\nfrom requests.auth import HTTPBasicAuth\nfrom numpy import array\ntry:\n    from commands import getoutput # python 2\nexcept ImportError:\n    from subprocess import getoutput # python 3\n\n\nSELDON_API_IP=\"35.192.98.23\"\n\ndef get_token():\n    payload = {'grant_type': 'client_credentials'}\n    response = requests.post(\n                \"http://{}:8080/oauth/token\".format(SELDON_API_IP),\n                auth=HTTPBasicAuth('oauth-key', 'oauth-secret'),\n                data=payload)\n    token =  response.json()[\"access_token\"]\n    return token\n\ndef rest_request():\n    token = get_token()\n    headers = {'Authorization': 'Bearer '+token}\n    payload = {'meta':{},'data':{'ndarray':[[101]]}}\n    response = requests.post(\n                \"http://{}:8080/api/v0.1/predictions\".format(SELDON_API_IP),\n                headers=headers,\n                json=payload)\n    print(response.text)\n\nrest_request()\n</code></pre>\n\n<p>I tried converting <code>get_token()</code> part using unirest Java</p>\n\n<pre><code>HttpResponse&lt;String&gt; response = Unirest.post(\"http://35.192.98.23:8080/oauth/token\")\n                  .header(\"content-type\", \"application/json\")\n                  .body(\"{\\\"grant_type\\\":\\\"client_credentials\\\",\\\"username\\\": \\\"oauth-key\\\",\\\"password\\\": \\\"oauth-secret\\\"}\")\n                  .asString();\n</code></pre>\n\n<p>But in this Java code I am getting error \"Full Authentication Required\". How can I convert this complete Python snippet to Java code(with or without unirest, anything is fine)?</p>\n"},{"tags":["java","android","android-studio","android-emulator"],"answers":[{"tags":[],"owner":{"account_id":10702580,"reputation":3643,"user_id":7877391,"display_name":"c-an"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625412251,"creation_date":1625412251,"answer_id":68246199,"question_id":50521351,"body_markdown":"This caused because of the RAM size is small in my case.\r\n\r\n1. Open AVD Manager\r\n2. Select the device &gt; Show Advanced Settings &gt; Change the RAM.\r\n\r\nIf you can&#39;t edit the setting, then create new device.\r\n\r\nrelated:\r\n\r\nhttps://stackoverflow.com/questions/40068344/how-can-i-change-the-ram-amount-that-the-android-emulator-is-using\r\nhttps://stackoverflow.com/questions/63371056/the-system-ui-isnt-responding-in-android-emulator-flutter","title":"Android Studio- ADV &quot;System UI isn&#39;t responding&quot;","body":"<p>This caused because of the RAM size is small in my case.</p>\n<ol>\n<li>Open AVD Manager</li>\n<li>Select the device &gt; Show Advanced Settings &gt; Change the RAM.</li>\n</ol>\n<p>If you can't edit the setting, then create new device.</p>\n<p>related:</p>\n<p><a href=\"https://stackoverflow.com/questions/40068344/how-can-i-change-the-ram-amount-that-the-android-emulator-is-using\">How can I change the ram amount that the android emulator is using?</a>\n<a href=\"https://stackoverflow.com/questions/63371056/the-system-ui-isnt-responding-in-android-emulator-flutter\">The system ui isn&#39;t responding in android emulator (Flutter)</a></p>\n"}],"owner":{"account_id":13585926,"reputation":13,"user_id":9800652,"display_name":"Huzaifa Sufi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":829,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635530311,"creation_date":1527220950,"question_id":50521351,"body_markdown":"So I&#39;m a beginner in Android Studio. I have created a Nexus S as an ADV. Every time I launch that device, it says &quot;System UI isn&#39;t responding&quot;. I get 2 options; close app, wait.\r\n\r\nWhen I click close, nothing happens but when I click wait, it just goes on as if nothing happened.\r\n\r\nI was just wondering what I can do to get rid of this problem?\r\nAlso does increasing the RAM on the device make it any faster? Can I do anything to make it faster?\r\n\r\nThanks","title":"Android Studio- ADV &quot;System UI isn&#39;t responding&quot;","body":"<p>So I'm a beginner in Android Studio. I have created a Nexus S as an ADV. Every time I launch that device, it says \"System UI isn't responding\". I get 2 options; close app, wait.</p>\n\n<p>When I click close, nothing happens but when I click wait, it just goes on as if nothing happened.</p>\n\n<p>I was just wondering what I can do to get rid of this problem?\nAlso does increasing the RAM on the device make it any faster? Can I do anything to make it faster?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","swing","date","jdatechooser"],"comments":[{"owner":{"account_id":22099306,"reputation":37,"user_id":16356018,"display_name":"Thevinu"},"score":0,"creation_date":1635404247,"post_id":69749298,"comment_id":123289640,"body_markdown":"checkboxes allow a more distinctive look in the event there are multiple choices to select. and yes I am referring to JDateChooser. If you have a way to do it with radio buttons I&#39;m happy to know that to","body":"checkboxes allow a more distinctive look in the event there are multiple choices to select. and yes I am referring to JDateChooser. If you have a way to do it with radio buttons I&#39;m happy to know that to"},{"owner":{"account_id":22099306,"reputation":37,"user_id":16356018,"display_name":"Thevinu"},"score":0,"creation_date":1635405764,"post_id":69749298,"comment_id":123290187,"body_markdown":"the output will be all the dates in the format &quot;MMM dd, yyyy&quot; to be written in the console.","body":"the output will be all the dates in the format &quot;MMM dd, yyyy&quot; to be written in the console."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1635405890,"post_id":69749298,"comment_id":123290231,"body_markdown":"[Edit] your question and add that the output will be written to the console. Don&#39;t add question details in a comment.","body":"<a href=\"https://stackoverflow.com/posts/69749298/edit\">Edit</a> your question and add that the output will be written to the console. Don&#39;t add question details in a comment."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635530079,"creation_date":1635403699,"answer_id":69749414,"question_id":69749298,"body_markdown":"Obviously schoolwork, so I’ll be brief, enough to point you in the right direction while letting you actually do your own assignment yourself.\r\n\r\nSeems obvious that you would use checkbox widgets for the days of the week, not a [combo box](https://en.wikipedia.org/wiki/Combo_box).\r\n\r\nUse `LocalDate` class for the date. Use the `plusDays` method to move from one date to another. Test each using `getDayOfWeek` to match against `DayOfWeek` objects. Use `EnumSet` and its `contains` method for that check. \r\n\r\nUse an `ArrayList&lt; LocalDate &gt;` to collect the dates you want to remember.\r\n\r\nMake the finished list unmodifiable with a call to `List.copyOf`.\r\n\r\nReport the values of the collected `LocalDate` objects by using `DateTimeFormatter`. To automatically localize, use `.ofLocalizedDate`.\r\n\r\n----------\r\n\r\n\r\nIn advanced Java, we might do something like this untested code.\r\n\r\n    List&lt; LocalDate &gt; dates = \r\n        LocalDate.of( 2021 , 10 , 1 )\r\n        .datesUntil( LocalDate.of( 2021 , 10 , 8 ) )\r\n        .filter( \r\n            localDate -&gt; EnumSet.of( DayOfWeek.TUESDAY , DayOfWeek.THURSDAY ).contains( localDate.getDayOfWeek() )\r\n        )\r\n        .toList() \r\n    ;\r\n\r\n","title":"Get all specific week days within the range of two date choosers and 7 checkboxes","body":"<p>Obviously schoolwork, so I’ll be brief, enough to point you in the right direction while letting you actually do your own assignment yourself.</p>\n<p>Seems obvious that you would use checkbox widgets for the days of the week, not a <a href=\"https://en.wikipedia.org/wiki/Combo_box\" rel=\"nofollow noreferrer\">combo box</a>.</p>\n<p>Use <code>LocalDate</code> class for the date. Use the <code>plusDays</code> method to move from one date to another. Test each using <code>getDayOfWeek</code> to match against <code>DayOfWeek</code> objects. Use <code>EnumSet</code> and its <code>contains</code> method for that check.</p>\n<p>Use an <code>ArrayList&lt; LocalDate &gt;</code> to collect the dates you want to remember.</p>\n<p>Make the finished list unmodifiable with a call to <code>List.copyOf</code>.</p>\n<p>Report the values of the collected <code>LocalDate</code> objects by using <code>DateTimeFormatter</code>. To automatically localize, use <code>.ofLocalizedDate</code>.</p>\n<hr />\n<p>In advanced Java, we might do something like this untested code.</p>\n<pre><code>List&lt; LocalDate &gt; dates = \n    LocalDate.of( 2021 , 10 , 1 )\n    .datesUntil( LocalDate.of( 2021 , 10 , 8 ) )\n    .filter( \n        localDate -&gt; EnumSet.of( DayOfWeek.TUESDAY , DayOfWeek.THURSDAY ).contains( localDate.getDayOfWeek() )\n    )\n    .toList() \n;\n</code></pre>\n"}],"owner":{"account_id":22099306,"reputation":37,"user_id":16356018,"display_name":"Thevinu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69749414,"answer_count":1,"score":0,"last_activity_date":1635530079,"creation_date":1635403035,"question_id":69749298,"body_markdown":"I have 2 [JDateChooser][1] controls and 7 `JCheckBox` controls.\r\nThe date choosers will set a range between two dates, and the 7 checkboxes will filter the dates.\r\n\r\nThe 7 checkboxes are:\r\nMonday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday\r\n\r\n**For example:**\r\n\r\n- I select Oct 01, 2021, from the first date chooser. \r\n- I select Oct 08, 2021, from the second date chooser.\r\n- I select Monday and Tuesday from the checkboxes.\r\n\r\nThe output will be all Mondays and Tuesdays in the dates range Oct 01, 2021 - Oct 08, 2021.\r\n\r\nI searched everywhere but no answer and I don&#39;t even know where to begin.\r\n\r\n\r\n  [1]: https://toedter.com/jcalendar/","title":"Get all specific week days within the range of two date choosers and 7 checkboxes","body":"<p>I have 2 <a href=\"https://toedter.com/jcalendar/\" rel=\"nofollow noreferrer\">JDateChooser</a> controls and 7 <code>JCheckBox</code> controls.\nThe date choosers will set a range between two dates, and the 7 checkboxes will filter the dates.</p>\n<p>The 7 checkboxes are:\nMonday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday</p>\n<p><strong>For example:</strong></p>\n<ul>\n<li>I select Oct 01, 2021, from the first date chooser.</li>\n<li>I select Oct 08, 2021, from the second date chooser.</li>\n<li>I select Monday and Tuesday from the checkboxes.</li>\n</ul>\n<p>The output will be all Mondays and Tuesdays in the dates range Oct 01, 2021 - Oct 08, 2021.</p>\n<p>I searched everywhere but no answer and I don't even know where to begin.</p>\n"},{"tags":["java","spring","rest","option-type"],"answers":[{"tags":[],"owner":{"account_id":11901466,"reputation":121,"user_id":8709340,"display_name":"Adarsh Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635438066,"creation_date":1635437752,"answer_id":69757597,"question_id":69757551,"body_markdown":"If you want to send a message to the client about the non-existence of such id, you have to handle such edge cases.\r\nprobably you can use Optional and handle if optional.isPresent() returns false, you can send a customized message and let your client know that no data exist with such id.\r\n\r\nYou can use a wrapper class to achieve this.\r\n\r\n    class ErrorResponse {\r\n      private String status;\r\n      private int statusCode;\r\n      private String message;\r\n    \r\n      public ErrorResponse(String status, int statusCode, String message){\r\n          this.status = status;\r\n          -----\r\n          -----\r\n       }\r\n    }\r\n\r\nSet this feilds and return this class object as a response.","title":"Best use of Optionals in RestAPI Spring application","body":"<p>If you want to send a message to the client about the non-existence of such id, you have to handle such edge cases.\nprobably you can use Optional and handle if optional.isPresent() returns false, you can send a customized message and let your client know that no data exist with such id.</p>\n<p>You can use a wrapper class to achieve this.</p>\n<pre><code>class ErrorResponse {\n  private String status;\n  private int statusCode;\n  private String message;\n\n  public ErrorResponse(String status, int statusCode, String message){\n      this.status = status;\n      -----\n      -----\n   }\n}\n</code></pre>\n<p>Set this feilds and return this class object as a response.</p>\n"},{"tags":[],"owner":{"account_id":14845249,"reputation":140,"user_id":10720730,"display_name":"Danish"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1635529677,"creation_date":1635439049,"answer_id":69757917,"question_id":69757551,"body_markdown":"Most followed practice I have followed or seen people doing is you should handle it in service and use wrapper class for response. By this way you will achieve two things i.e. you will have a constant Response object that you can use in all of your application and also you can use exceptions etc very easily with that. You should always handle any sought of business logic in service layer as MVC states. I am posting an example here so that you can understand better what I am trying to say here. \r\n\r\nController: \r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public Response getFilm(@PathVariable int id) {\r\n        return filmService.getFilm(id);\r\n    }\r\n\r\nService: \r\n```java\r\npublic Response getFilm(int id){\r\n  Optional&lt;Film&gt; film = repo.findById(id);\r\n  return film.map(f -&gt; Response.builder().status(200).data(f).message(&quot;request  successful&quot;))\r\n             .orElseGet(() -&gt; Response.builder().status(422).data(null).message(&quot;Film with given id not found&quot;);\r\n\r\n}\r\n```\r\nand Response class with be like as suggested by @Adrash as well\r\n\r\n    class Response {\r\n      private int status;\r\n      private Object data;\r\n      private String message;\r\n       \r\n      //you can use lombok or IDE  generate getter setters to generate getters setters\r\n     }\r\n\r\n**Note: I have used lombok builder method to create response object in service layer.**\r\n\r\n\r\n\r\n","title":"Best use of Optionals in RestAPI Spring application","body":"<p>Most followed practice I have followed or seen people doing is you should handle it in service and use wrapper class for response. By this way you will achieve two things i.e. you will have a constant Response object that you can use in all of your application and also you can use exceptions etc very easily with that. You should always handle any sought of business logic in service layer as MVC states. I am posting an example here so that you can understand better what I am trying to say here.</p>\n<p>Controller:</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\npublic Response getFilm(@PathVariable int id) {\n    return filmService.getFilm(id);\n}\n</code></pre>\n<p>Service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Response getFilm(int id){\n  Optional&lt;Film&gt; film = repo.findById(id);\n  return film.map(f -&gt; Response.builder().status(200).data(f).message(&quot;request  successful&quot;))\n             .orElseGet(() -&gt; Response.builder().status(422).data(null).message(&quot;Film with given id not found&quot;);\n\n}\n</code></pre>\n<p>and Response class with be like as suggested by @Adrash as well</p>\n<pre><code>class Response {\n  private int status;\n  private Object data;\n  private String message;\n   \n  //you can use lombok or IDE  generate getter setters to generate getters setters\n }\n</code></pre>\n<p><strong>Note: I have used lombok builder method to create response object in service layer.</strong></p>\n"},{"tags":[],"owner":{"display_name":"user17275084"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635463048,"creation_date":1635463048,"answer_id":69761969,"question_id":69757551,"body_markdown":"You have to follow the standards, so you should not write the code in controller, instead you should write the code in services and also, you can wrap your response in a class provide it a appropriate custom message so that it makes sense to the client. as @Adarsh mentioned above the Wrapper class you can create exactly same and it would solve your problem. and follow the standards as mentioned by @Danish.","title":"Best use of Optionals in RestAPI Spring application","body":"<p>You have to follow the standards, so you should not write the code in controller, instead you should write the code in services and also, you can wrap your response in a class provide it a appropriate custom message so that it makes sense to the client. as @Adarsh mentioned above the Wrapper class you can create exactly same and it would solve your problem. and follow the standards as mentioned by @Danish.</p>\n"}],"owner":{"account_id":14996835,"reputation":51,"user_id":10825918,"display_name":"Tovarisch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4094,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69757917,"answer_count":3,"score":2,"last_activity_date":1635529677,"creation_date":1635437528,"question_id":69757551,"body_markdown":"I am kind of confused about the way I should design repository -&gt; service -&gt; controller communication using Optionals in my RestAPI Spring app. \r\nFor instance, client wants to find film by id, but film is not present and repository returns empty Optional. I have two ways of dealing with it:\r\n\r\n1) Service method returns Optional value or throws Exception which can be handled in Controller using ControllerAdvice.\r\n\r\n2) Service returns Optional and Controller deals with it (return value if present or handle exception, or maybe just do something else).\r\n\r\nI know that using exceptions for such simple situations is not best practice, probably you may suggest other ways of letting client know that id is wrong.\r\n\r\nMethod in RestController currently:\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public FilmGetDto getFilm(@PathVariable int id) {\r\n        return filmService.getFilm(id);\r\n    }\r\n\r\n","title":"Best use of Optionals in RestAPI Spring application","body":"<p>I am kind of confused about the way I should design repository -&gt; service -&gt; controller communication using Optionals in my RestAPI Spring app.\nFor instance, client wants to find film by id, but film is not present and repository returns empty Optional. I have two ways of dealing with it:</p>\n<ol>\n<li><p>Service method returns Optional value or throws Exception which can be handled in Controller using ControllerAdvice.</p>\n</li>\n<li><p>Service returns Optional and Controller deals with it (return value if present or handle exception, or maybe just do something else).</p>\n</li>\n</ol>\n<p>I know that using exceptions for such simple situations is not best practice, probably you may suggest other ways of letting client know that id is wrong.</p>\n<p>Method in RestController currently:</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\npublic FilmGetDto getFilm(@PathVariable int id) {\n    return filmService.getFilm(id);\n}\n</code></pre>\n"},{"tags":["java","multithreading","timer"],"comments":[{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":0,"creation_date":1635511821,"post_id":69769064,"comment_id":123324860,"body_markdown":"Do you run timer function each time a click occurs in a button for example ?","body":"Do you run timer function each time a click occurs in a button for example ?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1635512272,"post_id":69769064,"comment_id":123325065,"body_markdown":"Don’t spawn threads uncontrolled. Use an executorservice","body":"Don’t spawn threads uncontrolled. Use an executorservice"},{"owner":{"account_id":19653667,"reputation":21,"user_id":14386840,"display_name":"angryduck"},"score":0,"creation_date":1635512674,"post_id":69769064,"comment_id":123325252,"body_markdown":"Yes, that&#39;s right. When clicked, the function runs and operates normally after 10 seconds.","body":"Yes, that&#39;s right. When clicked, the function runs and operates normally after 10 seconds."}],"answers":[{"tags":[],"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635513379,"creation_date":1635512891,"answer_id":69769431,"question_id":69769064,"body_markdown":"Using Thread is not a good idea for your use case, use `TimerTask` and `java.util.Timer`\r\n```\r\n// class wide variables\r\nTimerTask timerTask;\r\nTimer timer = new Timer(&quot;myTimer&quot;);\r\nint limitTimer = 10;\r\n\r\npublic TimerTask createTask() {\r\n    limitTimer = 10;\r\n    return new TimerTask() {\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;Time&gt;&gt; &quot; + limitTime);\r\n            limitTime--;\r\n            if (limitTime &lt;= 0) {\r\n                cancel();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nvoid click() {\r\n   if (timerTask != null) {\r\n      timerTask.cancel();\r\n   }\r\n\r\n   timerTask = createTask();\r\n   timer.scheduleAtFixedRate(timerTask, 0, 1000);\r\n}\r\n```\r\n\r\nWhen invoking click method, it&#39;ll cancel the old timer and starts a new one.\r\n\r\n**Note**: `limitTimer` variable is not thread safe, so if you update it somewhere else, it can lead to strange behavior.","title":"How do you handle duplicate calls of Java threads?","body":"<p>Using Thread is not a good idea for your use case, use <code>TimerTask</code> and <code>java.util.Timer</code></p>\n<pre><code>// class wide variables\nTimerTask timerTask;\nTimer timer = new Timer(&quot;myTimer&quot;);\nint limitTimer = 10;\n\npublic TimerTask createTask() {\n    limitTimer = 10;\n    return new TimerTask() {\n        @Override\n        public void run() {\n            System.out.println(&quot;Time&gt;&gt; &quot; + limitTime);\n            limitTime--;\n            if (limitTime &lt;= 0) {\n                cancel();\n            }\n        }\n    }\n}\n\nvoid click() {\n   if (timerTask != null) {\n      timerTask.cancel();\n   }\n\n   timerTask = createTask();\n   timer.scheduleAtFixedRate(timerTask, 0, 1000);\n}\n</code></pre>\n<p>When invoking click method, it'll cancel the old timer and starts a new one.</p>\n<p><strong>Note</strong>: <code>limitTimer</code> variable is not thread safe, so if you update it somewhere else, it can lead to strange behavior.</p>\n"}],"owner":{"account_id":19653667,"reputation":21,"user_id":14386840,"display_name":"angryduck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69769431,"answer_count":1,"score":1,"last_activity_date":1635529546,"creation_date":1635511306,"question_id":69769064,"body_markdown":"    private int limitTime = 10;\r\n\tvoid timer() {\r\n\t\tlimitTime = 10;\r\n\t\tThread thread = new Thread() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\t\r\n\t\t\t\tstop = false;\r\n\t\t\t\twhile(!stop) {\r\n\t\t\t\t\tSystem.out.println(&quot;Time &gt;&gt; &quot; + limitTime);\r\n\t\t\t\t\t//Platform.runLater(()-&gt;{\r\n\t\t\t\t\t\tlbLimitTime.setText(Integer.toString(limitTime));\r\n\t\t\t\t\t\tlimitTime -= 1;\r\n\t\t\t\t\t//});\t\r\n\t\t\t\t\t\tif(limitTime &lt; 1) stop = true;\r\n\t\t\t\t\ttry { Thread.sleep(1000); } catch (InterruptedException e) {}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t};\r\n\t\tthread.setDaemon(true);\r\n\t\tthread.start();\t\r\n\t}\r\n\r\nWe are creating **GUI** programs using **JavaFX**.\r\n\r\nI try to set a timer for 10 seconds every time I click.\r\n\r\nIf the timer function is duplicated by clicking 10 seconds before, the time goes twice as fast.\r\n\r\nWhat part do you think I don&#39;t understand?\r\n\r\nThe timer function is called whenever a click occurs.\r\n\r\nWhen a click occurs, I want to initialize the existing timer and flow normally for 1 second.","title":"How do you handle duplicate calls of Java threads?","body":"<pre><code>private int limitTime = 10;\nvoid timer() {\n    limitTime = 10;\n    Thread thread = new Thread() {\n        @Override\n        public void run() { \n            stop = false;\n            while(!stop) {\n                System.out.println(&quot;Time &gt;&gt; &quot; + limitTime);\n                //Platform.runLater(()-&gt;{\n                    lbLimitTime.setText(Integer.toString(limitTime));\n                    limitTime -= 1;\n                //});   \n                    if(limitTime &lt; 1) stop = true;\n                try { Thread.sleep(1000); } catch (InterruptedException e) {}\n            }\n        };\n    };\n    thread.setDaemon(true);\n    thread.start(); \n}\n</code></pre>\n<p>We are creating <strong>GUI</strong> programs using <strong>JavaFX</strong>.</p>\n<p>I try to set a timer for 10 seconds every time I click.</p>\n<p>If the timer function is duplicated by clicking 10 seconds before, the time goes twice as fast.</p>\n<p>What part do you think I don't understand?</p>\n<p>The timer function is called whenever a click occurs.</p>\n<p>When a click occurs, I want to initialize the existing timer and flow normally for 1 second.</p>\n"},{"tags":["java","android","gradle","android-studio"],"comments":[{"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"score":0,"creation_date":1377812325,"post_id":18520875,"comment_id":27237072,"body_markdown":"how do you compile ? using command line or built-in command ? Can you post the dependencies section of build.gradle ?","body":"how do you compile ? using command line or built-in command ? Can you post the dependencies section of build.gradle ?"},{"owner":{"account_id":1759084,"reputation":6013,"user_id":1606657,"accept_rate":80,"display_name":"wasp256"},"score":0,"creation_date":1377849783,"post_id":18520875,"comment_id":27247687,"body_markdown":"Updated the gradle file, and I&#39;m compiling with the build-in command","body":"Updated the gradle file, and I&#39;m compiling with the build-in command"}],"answers":[{"tags":[],"owner":{"account_id":203374,"reputation":47785,"user_id":450989,"display_name":"Grzegorz Żur"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1377850639,"creation_date":1377850324,"answer_id":18528035,"question_id":18520875,"body_markdown":"Change your dependencies like that\r\n\r\n    dependencies {\r\n       compile &#39;com.android.support:support-v4:13.0.+&#39;\r\n       compile &#39;org.beanshell:bsh:2.0b4&#39;\r\n    }\r\n\r\nYou can now remove manually downloaded dependencies in `libs` directory.\r\n\r\nWhat you did was adding libraries to Android Studio project only. You should always add them to Gradle build files as only this is interpreted by Android Build Tools.\r\n\r\nThere is also new version of build tools 18.0.1, you can install them and change version in you `build.gradle`. As far as I know they can handle `aar` dependencies better.","title":"Adding external .jar to androidstudio project","body":"<p>Change your dependencies like that</p>\n\n<pre><code>dependencies {\n   compile 'com.android.support:support-v4:13.0.+'\n   compile 'org.beanshell:bsh:2.0b4'\n}\n</code></pre>\n\n<p>You can now remove manually downloaded dependencies in <code>libs</code> directory.</p>\n\n<p>What you did was adding libraries to Android Studio project only. You should always add them to Gradle build files as only this is interpreted by Android Build Tools.</p>\n\n<p>There is also new version of build tools 18.0.1, you can install them and change version in you <code>build.gradle</code>. As far as I know they can handle <code>aar</code> dependencies better.</p>\n"},{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1635529415,"creation_date":1393400551,"answer_id":22034898,"question_id":18520875,"body_markdown":"Try this...\r\n\r\n 1. Create libs folder under your application folder.\r\n 2. Add .jar files to libs folder.\r\n 3. Then add .jar files to app&#39;s build.gradle dependency.\r\n 4. Finally Sync project with Gradle files.\r\n\r\n\r\n \r\n**1.Create libs folder:**\r\n\r\n![enter image description here][1]\r\n\r\n\r\n**2.Add .jar to libs folder:**\r\n\r\n![enter image description here][2]\r\n\r\n\r\n**3.Edit app&#39;s build.gradle dependency:**\r\n    \r\n\r\n - Open app/build.gradle\r\n\r\n\r\n\r\n![enter image description here][3]\r\n\r\n\r\n**4.Sync project with Gradle files:**\r\n\r\n - Finally add .jar files to your application.\r\n\r\n![enter image description here][4]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zFSgq.png\r\n  [2]: http://i.stack.imgur.com/CB7K4.png\r\n  [3]: http://i.stack.imgur.com/zbZPz.png\r\n  [4]: http://i.stack.imgur.com/4q29M.png","title":"Adding external .jar to androidstudio project","body":"<p>Try this...</p>\n<ol>\n<li>Create libs folder under your application folder.</li>\n<li>Add .jar files to libs folder.</li>\n<li>Then add .jar files to app's build.gradle dependency.</li>\n<li>Finally Sync project with Gradle files.</li>\n</ol>\n<p><strong>1.Create libs folder:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/zFSgq.png\" alt=\"enter image description here\" /></p>\n<p><strong>2.Add .jar to libs folder:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/CB7K4.png\" alt=\"enter image description here\" /></p>\n<p><strong>3.Edit app's build.gradle dependency:</strong></p>\n<ul>\n<li>Open app/build.gradle</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/zbZPz.png\" alt=\"enter image description here\" /></p>\n<p><strong>4.Sync project with Gradle files:</strong></p>\n<ul>\n<li>Finally add .jar files to your application.</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/4q29M.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":1759084,"reputation":6013,"user_id":1606657,"accept_rate":80,"display_name":"wasp256"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10539,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":18528035,"answer_count":2,"score":4,"last_activity_date":1635529415,"creation_date":1377810004,"question_id":18520875,"body_markdown":"I&#39;ve added the external library `bsh-2.0b4.jar` to an android project in android-studio by going into `Project structure -&gt; Modules -&gt; myProject -&gt; Tab-Dependencies -&gt; + Sign` and then add the .jar file.\r\nI also tried to copy the file into the /libs directory and then rightclick in studio and `add as library...` (both methods independently!!). I inserted the following code as a test\r\n\r\n      import bsh.Interpreter;\r\n      ...\r\n      Interpreter interpreter = new Interpreter();\r\n      interpreter.eval(&quot;result = (7+21*6)/(32-27)&quot;);\r\n      return interpreter.get(&quot;result&quot;).toString();\r\n\r\nI compile with the buildin button in android.\r\nThe build.gradle looks like:\r\n\r\n      buildscript {\r\n        repositories {\r\n          mavenCentral()\r\n        }\r\n        dependencies {\r\n         classpath &#39;com.android.tools.build:gradle:0.5.+&#39;\r\n        }\r\n      }\r\n      apply plugin: &#39;android&#39;\r\n\r\n      repositories {\r\n        mavenCentral()\r\n      }\r\n\r\n      android {\r\n         compileSdkVersion 17\r\n         buildToolsVersion &quot;17.0.0&quot;\r\n\r\n         defaultConfig {\r\n            minSdkVersion 9\r\n            targetSdkVersion 17\r\n         }\r\n      }\r\n\r\n      dependencies {\r\n         compile &#39;com.android.support:support-v4:13.0.+&#39;\r\n      }\r\n\r\n\r\nBut when I compile everything I receive the error\r\n\r\n\r\n      Gradle: error: package bsh does not exist\r\n      Gradle: error: cannot find symbol class Interpreter\r\n\r\nCan anyone help me pls?\r\n      ","title":"Adding external .jar to androidstudio project","body":"<p>I've added the external library <code>bsh-2.0b4.jar</code> to an android project in android-studio by going into <code>Project structure -&gt; Modules -&gt; myProject -&gt; Tab-Dependencies -&gt; + Sign</code> and then add the .jar file.\nI also tried to copy the file into the /libs directory and then rightclick in studio and <code>add as library...</code> (both methods independently!!). I inserted the following code as a test</p>\n\n<pre><code>  import bsh.Interpreter;\n  ...\n  Interpreter interpreter = new Interpreter();\n  interpreter.eval(\"result = (7+21*6)/(32-27)\");\n  return interpreter.get(\"result\").toString();\n</code></pre>\n\n<p>I compile with the buildin button in android.\nThe build.gradle looks like:</p>\n\n<pre><code>  buildscript {\n    repositories {\n      mavenCentral()\n    }\n    dependencies {\n     classpath 'com.android.tools.build:gradle:0.5.+'\n    }\n  }\n  apply plugin: 'android'\n\n  repositories {\n    mavenCentral()\n  }\n\n  android {\n     compileSdkVersion 17\n     buildToolsVersion \"17.0.0\"\n\n     defaultConfig {\n        minSdkVersion 9\n        targetSdkVersion 17\n     }\n  }\n\n  dependencies {\n     compile 'com.android.support:support-v4:13.0.+'\n  }\n</code></pre>\n\n<p>But when I compile everything I receive the error</p>\n\n<pre><code>  Gradle: error: package bsh does not exist\n  Gradle: error: cannot find symbol class Interpreter\n</code></pre>\n\n<p>Can anyone help me pls?</p>\n"},{"tags":["java","android","webview"],"comments":[{"owner":{"account_id":415074,"reputation":14411,"user_id":789657,"accept_rate":84,"display_name":"Simon"},"score":2,"creation_date":1394295746,"post_id":22271693,"comment_id":33831078,"body_markdown":"`lid==&quot;1&quot;` - you cannot compare `String` contents using the equality operator.  `==` tests whether two objects are the same object.  Use `equals()` instead (and consider doing some basic Java tutorials).  Through string interning, `lid==&quot;1&quot;` **might** be true sometimes, but you have no control over that.  BTW, if you learned how to use the debugger, you would find that in seconds.","body":"<code>lid==&quot;1&quot;</code> - you cannot compare <code>String</code> contents using the equality operator.  <code>==</code> tests whether two objects are the same object.  Use <code>equals()</code> instead (and consider doing some basic Java tutorials).  Through string interning, <code>lid==&quot;1&quot;</code> <b>might</b> be true sometimes, but you have no control over that.  BTW, if you learned how to use the debugger, you would find that in seconds."}],"answers":[{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394297948,"creation_date":1394297948,"answer_id":22272270,"question_id":22271693,"body_markdown":"I guess, You had been called the same URL value like (&quot;a url&quot;). If yes, try to load different URLs in the web view. \r\n\r\nIf not, do the following changes in your code,\r\n\r\n - Put break points to debug your code where you get EditText value.\r\n\r\n    String lid = idbox.getText().toString(); //check lid is **null** or **not** \r\n\r\n  \r\n    \r\n - Change the if condition like this,\r\n\r\n    if(lid.equalsIgnoreCase(&quot;1&quot;))\r\n       {\r\n       //task for rendering web page\r\n       }\r\n\r\n - Check your custom view client class.\r\n\r\n","title":"Can you please help me with this code?","body":"<p>I guess, You had been called the same URL value like (\"a url\"). If yes, try to load different URLs in the web view. </p>\n\n<p>If not, do the following changes in your code,</p>\n\n<ul>\n<li><p>Put break points to debug your code where you get EditText value.</p>\n\n<p>String lid = idbox.getText().toString(); //check lid is <strong>null</strong> or <strong>not</strong> </p></li>\n<li><p>Change the if condition like this,</p>\n\n<p>if(lid.equalsIgnoreCase(\"1\"))\n   {\n   //task for rendering web page\n   }</p></li>\n<li><p>Check your custom view client class.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635529362,"creation_date":1394303732,"answer_id":22273411,"question_id":22271693,"body_markdown":"Never mind, **You written onClick() method definition is wrongly!** \r\n\r\nI confused because,\r\n\r\n - Have you been adding the onclick(**android:onClick=&quot;onClick&quot;**) function for button in xml. \r\n\r\n   In spite of I did some bit changes in your code,\r\n\r\n**activity_main.xml:**\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot; &gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:weightSum=&quot;2&quot; &gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/urlValue&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;2dp&quot;\r\n            android:layout_weight=&quot;1.5&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/urlBtn&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;2dp&quot;\r\n            android:layout_weight=&quot;0.5&quot; \r\n            android:text=&quot;load&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; &gt;\r\n\r\n        &lt;WebView\r\n            android:id=&quot;@+id/webView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n**MainActivity.java:**\r\n\r\n    public class MainActivity extends Activity {\r\n    \r\n    private EditText getUrlValue;\r\n    private Button loadUrl;\r\n    private WebView webView;\r\n    String loadId = &quot;&quot;;\r\n    String URL_ONE = &quot;a_url&quot;;\r\n    String URL_TWO = &quot;b_url&quot;;\r\n    String URL_THREE = &quot;c_url&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        \r\n        getUrlValue = (EditText)findViewById(R.id.urlValue);\r\n        loadUrl = (Button)findViewById(R.id.urlBtn);\r\n        webView = (WebView)findViewById(R.id.webView);\r\n        \r\n        //initial view for webView\r\n        getUrlValue.setText(&quot;1&quot;); //here web page will load first url= &quot;a url&quot;\r\n        \r\n        webView.setWebViewClient(new OurViewClient());\r\n        \r\n        //onClick Event for load url button\r\n        loadUrl.setOnClickListener(new View.OnClickListener() {\r\n            \r\n            @Override\r\n            public void onClick(View v) {\r\n            \r\n                loadId = getUrlValue.getText().toString();\r\n                if(loadId.equalsIgnoreCase(&quot;1&quot;)){\r\n                    try{\r\n                        \r\n                        webView.loadUrl(URL_ONE);\r\n                        }catch (Exception e){\r\n                            e.printStackTrace();\r\n                        }\r\n                }\r\n                else if(loadId.equalsIgnoreCase(&quot;2&quot;)){\r\n                    try{\r\n                        webView.loadUrl(URL_TWO);\r\n                        }catch (Exception e){\r\n                            e.printStackTrace();\r\n                        }\r\n                    \r\n                }\r\n                else{\r\n                    try{\r\n                        webView.loadUrl(URL_THREE);\r\n                        }catch (Exception e){\r\n                            e.printStackTrace();\r\n                        }\r\n               }\r\n            }\r\n           });\r\n            \r\n        }\r\n     }\r\n\r\n - remember to add internet permission in the manifest xml file.","title":"Can you please help me with this code?","body":"<p>Never mind, <strong>You written onClick() method definition is wrongly!</strong></p>\n<p>I confused because,</p>\n<ul>\n<li><p>Have you been adding the onclick(<strong>android:onClick=&quot;onClick&quot;</strong>) function for button in xml.</p>\n<p>In spite of I did some bit changes in your code,</p>\n</li>\n</ul>\n<p><strong>activity_main.xml:</strong></p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:orientation=&quot;vertical&quot;\ntools:context=&quot;.MainActivity&quot; &gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:weightSum=&quot;2&quot; &gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/urlValue&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;2dp&quot;\n        android:layout_weight=&quot;1.5&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/urlBtn&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;2dp&quot;\n        android:layout_weight=&quot;0.5&quot; \n        android:text=&quot;load&quot;/&gt;\n&lt;/LinearLayout&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; &gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/webView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>MainActivity.java:</strong></p>\n<pre><code>public class MainActivity extends Activity {\n\nprivate EditText getUrlValue;\nprivate Button loadUrl;\nprivate WebView webView;\nString loadId = &quot;&quot;;\nString URL_ONE = &quot;a_url&quot;;\nString URL_TWO = &quot;b_url&quot;;\nString URL_THREE = &quot;c_url&quot;;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    \n    getUrlValue = (EditText)findViewById(R.id.urlValue);\n    loadUrl = (Button)findViewById(R.id.urlBtn);\n    webView = (WebView)findViewById(R.id.webView);\n    \n    //initial view for webView\n    getUrlValue.setText(&quot;1&quot;); //here web page will load first url= &quot;a url&quot;\n    \n    webView.setWebViewClient(new OurViewClient());\n    \n    //onClick Event for load url button\n    loadUrl.setOnClickListener(new View.OnClickListener() {\n        \n        @Override\n        public void onClick(View v) {\n        \n            loadId = getUrlValue.getText().toString();\n            if(loadId.equalsIgnoreCase(&quot;1&quot;)){\n                try{\n                    \n                    webView.loadUrl(URL_ONE);\n                    }catch (Exception e){\n                        e.printStackTrace();\n                    }\n            }\n            else if(loadId.equalsIgnoreCase(&quot;2&quot;)){\n                try{\n                    webView.loadUrl(URL_TWO);\n                    }catch (Exception e){\n                        e.printStackTrace();\n                    }\n                \n            }\n            else{\n                try{\n                    webView.loadUrl(URL_THREE);\n                    }catch (Exception e){\n                        e.printStackTrace();\n                    }\n           }\n        }\n       });\n        \n    }\n }\n</code></pre>\n<ul>\n<li>remember to add internet permission in the manifest xml file.</li>\n</ul>\n"}],"owner":{"account_id":4138749,"reputation":1,"user_id":3394718,"display_name":"user3394718"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635529362,"creation_date":1394294896,"question_id":22271693,"body_markdown":"\r\nThe problem: When I Type a ID and press the button, it will not load the ID&#39;s webpage...\r\n\r\n&quot;a url&quot; is the website page i&#39;m trying to create, (Hidden for number of reasons)\r\n\r\nIt should be working, it loads the first site, but when I try to call for the IDs, the WebView does not change... Can someone please help me? -Thanks, JG1\r\n\r\n\r\nMy code: \r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        wv.setWebViewClient(new OurViewClient());\r\n        wv.getSettings().setJavaScriptEnabled(true);\r\n        try {\r\n            String url = &quot;a url&quot;;\r\n            wv.loadUrl(url);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        String lid = &quot;0&quot;;\r\n\r\n        //Clicking button changes to the color\r\n\r\n    }\r\n\r\n    final EditText idbox = (EditText) findViewById(R.id.editText1);\r\n    final Button idbutton = (Button) findViewById(R.id.idbtn);\r\n    final WebView wv = (WebView) findViewById(R.id.webView1);\r\n\r\n    public void onClick(View v) {\r\n        idbutton.setOnClickListener(new OnClickListener() {\r\n            public void onClick(View v) {\r\n                String lid = idbox.getText().toString();\r\n                if (lid == &quot;1&quot;) {\r\n                    wv.setWebViewClient(new OurViewClient());\r\n                    try {\r\n                        String urla = &quot;a url&quot;;\r\n                        wv.loadUrl(urla);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                if (lid == &quot;2&quot;) {\r\n                    wv.setWebViewClient(new OurViewClient());\r\n                    try {\r\n                        String urlb = &quot;a url&quot;;\r\n                        wv.loadUrl(urlb);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                if (lid == &quot;3&quot;) {\r\n                    wv.setWebViewClient(new OurViewClient());\r\n                    try {\r\n                        String urlc = &quot;a url&quot;;\r\n                        wv.loadUrl(urlc);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }","title":"Can you please help me with this code?","body":"<p>The problem: When I Type a ID and press the button, it will not load the ID's webpage...</p>\n\n<p>\"a url\" is the website page i'm trying to create, (Hidden for number of reasons)</p>\n\n<p>It should be working, it loads the first site, but when I try to call for the IDs, the WebView does not change... Can someone please help me? -Thanks, JG1</p>\n\n<p>My code: </p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    requestWindowFeature(Window.FEATURE_NO_TITLE);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    wv.setWebViewClient(new OurViewClient());\n    wv.getSettings().setJavaScriptEnabled(true);\n    try {\n        String url = \"a url\";\n        wv.loadUrl(url);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    String lid = \"0\";\n\n    //Clicking button changes to the color\n\n}\n\nfinal EditText idbox = (EditText) findViewById(R.id.editText1);\nfinal Button idbutton = (Button) findViewById(R.id.idbtn);\nfinal WebView wv = (WebView) findViewById(R.id.webView1);\n\npublic void onClick(View v) {\n    idbutton.setOnClickListener(new OnClickListener() {\n        public void onClick(View v) {\n            String lid = idbox.getText().toString();\n            if (lid == \"1\") {\n                wv.setWebViewClient(new OurViewClient());\n                try {\n                    String urla = \"a url\";\n                    wv.loadUrl(urla);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n            if (lid == \"2\") {\n                wv.setWebViewClient(new OurViewClient());\n                try {\n                    String urlb = \"a url\";\n                    wv.loadUrl(urlb);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n            if (lid == \"3\") {\n                wv.setWebViewClient(new OurViewClient());\n                try {\n                    String urlc = \"a url\";\n                    wv.loadUrl(urlc);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1635467164,"post_id":69761451,"comment_id":123313089,"body_markdown":"PDF has nothing to do with this. They aren&#39;t special.","body":"PDF has nothing to do with this. They aren&#39;t special."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1635467269,"post_id":69761451,"comment_id":123313109,"body_markdown":"You&#39;ve probably messed up. The code as pasted wouldn&#39;t compile (I notice a missing closing paren on the `.putNextEntry` line). Question not answerable if the code that causes the problem isn&#39;t actually in your question.","body":"You&#39;ve probably messed up. The code as pasted wouldn&#39;t compile (I notice a missing closing paren on the <code>.putNextEntry</code> line). Question not answerable if the code that causes the problem isn&#39;t actually in your question."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1635468653,"post_id":69761451,"comment_id":123313339,"body_markdown":"Instead of writing your own loop for copying a file, use [Files.copy](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#copy(java.nio.file.Path,java.io.OutputStream)).  I don’t know for certain whether that’s the cause of your problem, but using Files.copy can at least reduce the possible culprits.","body":"Instead of writing your own loop for copying a file, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#copy(java.nio.file.Path,java.io.OutputStream)\" rel=\"nofollow noreferrer\">Files.copy</a>.  I don’t know for certain whether that’s the cause of your problem, but using Files.copy can at least reduce the possible culprits."}],"answers":[{"tags":[],"owner":{"account_id":335360,"reputation":149,"user_id":662417,"accept_rate":78,"display_name":"user662417"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635528572,"creation_date":1635528572,"answer_id":69772749,"question_id":69761451,"body_markdown":"This issue is resolved now. In the previous loop where I was creating the pdf files, the output stream was not closed and hence it was causing issue.","title":"Zipping pdf files and downloading is giving corrupted file in java","body":"<p>This issue is resolved now. In the previous loop where I was creating the pdf files, the output stream was not closed and hence it was causing issue.</p>\n"}],"owner":{"account_id":335360,"reputation":149,"user_id":662417,"accept_rate":78,"display_name":"user662417"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69772749,"answer_count":1,"score":-1,"last_activity_date":1635528572,"creation_date":1635458549,"question_id":69761451,"body_markdown":"I have tried this code for other files like .txt and excel files and they all are working fine. Same code if I use for pdf files, it will not show any error but when the file is downloaded, the zip folder will be corrupted. Is there any separate reading and writing process for pdf files? \r\n\r\n                       //create byte buffer\r\n                        byte[] buffer = new byte[1024];\r\n                        ZipOutputStream zout = new \r\n                        ZipOutputStream(response.getOutputStream());\r\n                        Files[] files = new File(location).listFiles();\r\n                        for(File pdfFile: files)\r\n                                {\r\n                                       FileInputStream fin = new FileInputStream(pdfFile);\r\n                                       zout.putNextEntry(new ZipEntry(pdfFile);\r\n                                       int length;\r\n                                       while((length = fin.read(buffer)) &gt; 0)\r\n                                        {\r\n                                           zout.write(buffer, 0, length);\r\n                                        }\r\n                                zout.closeEntry();\r\n                                fin.close();\r\n                                }\r\n                     zout.close();\r\n                        \r\n                ","title":"Zipping pdf files and downloading is giving corrupted file in java","body":"<p>I have tried this code for other files like .txt and excel files and they all are working fine. Same code if I use for pdf files, it will not show any error but when the file is downloaded, the zip folder will be corrupted. Is there any separate reading and writing process for pdf files?</p>\n<pre><code>                   //create byte buffer\n                    byte[] buffer = new byte[1024];\n                    ZipOutputStream zout = new \n                    ZipOutputStream(response.getOutputStream());\n                    Files[] files = new File(location).listFiles();\n                    for(File pdfFile: files)\n                            {\n                                   FileInputStream fin = new FileInputStream(pdfFile);\n                                   zout.putNextEntry(new ZipEntry(pdfFile);\n                                   int length;\n                                   while((length = fin.read(buffer)) &gt; 0)\n                                    {\n                                       zout.write(buffer, 0, length);\n                                    }\n                            zout.closeEntry();\n                            fin.close();\n                            }\n                 zout.close();\n                    \n            \n</code></pre>\n"},{"tags":["java","android","epoch"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1332027491,"creation_date":1332025870,"answer_id":9754618,"question_id":9754600,"body_markdown":"You&#39;d create a `Date` from the `long` - that&#39;s easy:\r\n\r\n    Date date = new Date(epochTime);\r\n\r\nNote that `epochTime` here ought to be in milliseconds since the epoch - if you&#39;ve got *seconds* since the epoch, multiply by 1000.\r\n\r\nThen you&#39;d create a `SimpleDateFormat` specifying the relevant pattern, culture and time zone. For example:\r\n\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.US);\r\n    format.setTimeZone(...);\r\n\r\nThen use that to format the date to a string:\r\n\r\n    String text = format.format(date);","title":"Converting Epoch time to date string","body":"<p>You'd create a <code>Date</code> from the <code>long</code> - that's easy:</p>\n\n<pre><code>Date date = new Date(epochTime);\n</code></pre>\n\n<p>Note that <code>epochTime</code> here ought to be in milliseconds since the epoch - if you've got <em>seconds</em> since the epoch, multiply by 1000.</p>\n\n<p>Then you'd create a <code>SimpleDateFormat</code> specifying the relevant pattern, culture and time zone. For example:</p>\n\n<pre><code>SimpleDateFormat format = new SimpleDateFormat(\"dd/MM/yyyy\", Locale.US);\nformat.setTimeZone(...);\n</code></pre>\n\n<p>Then use that to format the date to a string:</p>\n\n<pre><code>String text = format.format(date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":552891,"reputation":3634,"user_id":878519,"accept_rate":90,"display_name":"Reinard"},"down_vote_count":2,"up_vote_count":46,"is_accepted":true,"score":44,"last_activity_date":1410942987,"creation_date":1332025939,"answer_id":9754625,"question_id":9754600,"body_markdown":"Look into [SimpleDateFormat][1]\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    sdf.format(new Date(myTimeAsLong));\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html?is-external=true","title":"Converting Epoch time to date string","body":"<p>Look into <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html?is-external=true\">SimpleDateFormat</a></p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"dd/MM/yyyy\");\nsdf.format(new Date(myTimeAsLong));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":266938,"reputation":1228,"user_id":554801,"accept_rate":100,"display_name":"Ajibola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386177560,"creation_date":1332026824,"answer_id":9754710,"question_id":9754600,"body_markdown":"You need to be aware that epoch time in java is in milliseconds, while what you are converting may be in seconds. Ensure that both sides of the conversions are in milliseconds, and then you can fetch the date parameters from the Date object.","title":"Converting Epoch time to date string","body":"<p>You need to be aware that epoch time in java is in milliseconds, while what you are converting may be in seconds. Ensure that both sides of the conversions are in milliseconds, and then you can fetch the date parameters from the Date object.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414538664,"creation_date":1404197788,"answer_id":24504143,"question_id":9754600,"body_markdown":"# Joda-Time\r\n\r\nIf by epoch time you meant a count of milliseconds since first moment of 1970 in UTC, then here is some example code using the Joda-Time library…\r\n\r\n    DateTimeZone timeZone = DateTimeZone.forID( &quot;Europe/Paris&quot; );\r\n    DateTime dateTime = new DateTime( yourMilliseconds, timeZone );\r\n    String output = DateTimeFormat.forStyle( &quot;S-&quot; ).withLocale( Locale.CANADA_FRENCH ).print( dateTime );\r\n\r\n# Other Epochs\r\n\r\nThat definition of epoch is common because of its use within Unix. But be aware that at least a [couple dozen epoch definitions][1] are used by various computer systems.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Epoch_(reference_date)#Notable_epoch_dates_in_computing","title":"Converting Epoch time to date string","body":"<h1>Joda-Time</h1>\n\n<p>If by epoch time you meant a count of milliseconds since first moment of 1970 in UTC, then here is some example code using the Joda-Time library…</p>\n\n<pre><code>DateTimeZone timeZone = DateTimeZone.forID( \"Europe/Paris\" );\nDateTime dateTime = new DateTime( yourMilliseconds, timeZone );\nString output = DateTimeFormat.forStyle( \"S-\" ).withLocale( Locale.CANADA_FRENCH ).print( dateTime );\n</code></pre>\n\n<h1>Other Epochs</h1>\n\n<p>That definition of epoch is common because of its use within Unix. But be aware that at least a <a href=\"https://en.wikipedia.org/wiki/Epoch_(reference_date)#Notable_epoch_dates_in_computing\" rel=\"nofollow\">couple dozen epoch definitions</a> are used by various computer systems.</p>\n"},{"tags":[],"owner":{"account_id":393010,"reputation":4140,"user_id":754625,"accept_rate":44,"display_name":"Damith Ganegoda"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1457504493,"creation_date":1406178658,"answer_id":24925567,"question_id":9754600,"body_markdown":"    Date date = new Date(String); \r\nthis is deprecated.\r\n\r\nsolution\r\n\r\n      Date date = new Date(1406178443 * 1000L);\r\n      DateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n      format.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n      String formatted = format.format(date);\r\n\r\nmake sure multiply by 1000L","title":"Converting Epoch time to date string","body":"<pre><code>Date date = new Date(String); \n</code></pre>\n\n<p>this is deprecated.</p>\n\n<p>solution</p>\n\n<pre><code>  Date date = new Date(1406178443 * 1000L);\n  DateFormat format = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.SSS\");\n  format.setTimeZone(TimeZone.getTimeZone(\"Etc/UTC\"));\n  String formatted = format.format(date);\n</code></pre>\n\n<p>make sure multiply by 1000L</p>\n"},{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1635528557,"creation_date":1414513418,"answer_id":26613416,"question_id":9754600,"body_markdown":"Try this...\r\n\r\nsample Epoch timestamp is 1414492391238\r\n\r\n**Method:**\r\n\r\n    public static String GetHumanReadableDate(long epochSec, String dateFormatStr) {\r\n\t\tDate date = new Date(epochSec * 1000);\r\n\t\tSimpleDateFormat format = new SimpleDateFormat(dateFormatStr,\r\n\t\t\t\tLocale.getDefault());\r\n\t\treturn format.format(date);\r\n\t}\r\n\r\n**Usability:**\r\n\r\n    long timestamp = Long.parseLong(engTime) / 1000;\r\n\tString engTime_ = GetHumanReadableDate(timestamp, &quot;dd-MM-yyyy HH:mm:ss aa&quot;);\r\n\r\n**Result:**\r\n\r\n 28-10-2014 16:03:11 pm","title":"Converting Epoch time to date string","body":"<p>Try this...</p>\n<p>sample Epoch timestamp is 1414492391238</p>\n<p><strong>Method:</strong></p>\n<pre><code>public static String GetHumanReadableDate(long epochSec, String dateFormatStr) {\n    Date date = new Date(epochSec * 1000);\n    SimpleDateFormat format = new SimpleDateFormat(dateFormatStr,\n            Locale.getDefault());\n    return format.format(date);\n}\n</code></pre>\n<p><strong>Usability:</strong></p>\n<pre><code>long timestamp = Long.parseLong(engTime) / 1000;\nString engTime_ = GetHumanReadableDate(timestamp, &quot;dd-MM-yyyy HH:mm:ss aa&quot;);\n</code></pre>\n<p><strong>Result:</strong></p>\n<p>28-10-2014 16:03:11 pm</p>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613493641,"creation_date":1458515845,"answer_id":36120833,"question_id":9754600,"body_markdown":"If the method should be portable, better use the default (local time) `TimeZone.getDefault()`:\r\n    \r\n    String epochToIso8601(long time) {\r\n        String format = &quot;yyyy-MM-dd HH:mm:ss&quot;;\r\n        SimpleDateFormat sdf = new SimpleDateFormat(format, Locale.getDefault());\r\n        sdf.setTimeZone(TimeZone.getDefault());\r\n        return sdf.format(new Date(time * 1000));\r\n\t}","title":"Converting Epoch time to date string","body":"<p>If the method should be portable, better use the default (local time) <code>TimeZone.getDefault()</code>:</p>\n<pre><code>String epochToIso8601(long time) {\n    String format = &quot;yyyy-MM-dd HH:mm:ss&quot;;\n    SimpleDateFormat sdf = new SimpleDateFormat(format, Locale.getDefault());\n    sdf.setTimeZone(TimeZone.getDefault());\n    return sdf.format(new Date(time * 1000));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8485787,"reputation":4528,"user_id":6363952,"accept_rate":50,"display_name":"Charitha Goonewardena"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476129368,"creation_date":1476129368,"answer_id":39965806,"question_id":9754600,"body_markdown":"try this\r\n\r\n    Date date = new Date(1476126532838L);\r\n    DateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);\r\n    format.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n    String formatted = format.format(date);\r\n    format.setTimeZone(TimeZone.getTimeZone(&quot;Asia/Colombo&quot;));//your zone\r\n    formatted = format.format(date);\r\n    System.out.println(formatted);","title":"Converting Epoch time to date string","body":"<p>try this</p>\n\n<pre><code>Date date = new Date(1476126532838L);\nDateFormat format = new SimpleDateFormat(\"dd/MM/yyyy HH:mm:ss\");\nformat.setTimeZone(TimeZone.getTimeZone(\"Etc/UTC\"));\nString formatted = format.format(date);\nformat.setTimeZone(TimeZone.getTimeZone(\"Asia/Colombo\"));//your zone\nformatted = format.format(date);\nSystem.out.println(formatted);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550049716,"creation_date":1550049716,"answer_id":54666535,"question_id":9754600,"body_markdown":"Time for someone to provide the modern answer (valid and recommended since 2014).\r\n\r\n## java.time\r\n\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter\r\n\t\t\t\t.ofLocalizedDateTime(FormatStyle.LONG).withLocale(Locale.US);\r\n\t\t\r\n\t\tString facebookTime = &quot;1548410106047&quot;;\r\n\t\tlong fbt = Long.parseLong(facebookTime);\r\n\t\tZonedDateTime dateTime = Instant.ofEpochMilli(fbt).atZone(ZoneId.of(&quot;America/Indiana/Knox&quot;));\r\n\t\tSystem.out.println(dateTime.format(formatter));\r\n\r\nThe output is:\r\n\r\n&gt; January 25, 2019 at 3:55:06 AM CST\r\n\r\nIf you wanted only the date and in a shorter format, use for example\r\n\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter\r\n\t\t\t\t.ofLocalizedDate(FormatStyle.SHORT).withLocale(Locale.US);\r\n\r\n&gt; 1/25/19\r\n\r\nNote how the snippet allows you to specify time zone, language (locale) and how long or short of a format you want.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - My example string was taken from [this duplicate question](https://stackoverflow.com/questions/54664956/converting-the-timestamp-from-facebook-data-after-downloading-messages-in-json-f)","title":"Converting Epoch time to date string","body":"<p>Time for someone to provide the modern answer (valid and recommended since 2014).</p>\n\n<h2>java.time</h2>\n\n<pre><code>    DateTimeFormatter formatter = DateTimeFormatter\n            .ofLocalizedDateTime(FormatStyle.LONG).withLocale(Locale.US);\n\n    String facebookTime = \"1548410106047\";\n    long fbt = Long.parseLong(facebookTime);\n    ZonedDateTime dateTime = Instant.ofEpochMilli(fbt).atZone(ZoneId.of(\"America/Indiana/Knox\"));\n    System.out.println(dateTime.format(formatter));\n</code></pre>\n\n<p>The output is:</p>\n\n<blockquote>\n  <p>January 25, 2019 at 3:55:06 AM CST</p>\n</blockquote>\n\n<p>If you wanted only the date and in a shorter format, use for example</p>\n\n<pre><code>    DateTimeFormatter formatter = DateTimeFormatter\n            .ofLocalizedDate(FormatStyle.SHORT).withLocale(Locale.US);\n</code></pre>\n\n<blockquote>\n  <p>1/25/19</p>\n</blockquote>\n\n<p>Note how the snippet allows you to specify time zone, language (locale) and how long or short of a format you want.</p>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li>My example string was taken from <a href=\"https://stackoverflow.com/questions/54664956/converting-the-timestamp-from-facebook-data-after-downloading-messages-in-json-f\">this duplicate question</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15779260,"reputation":1,"user_id":11386170,"display_name":"Ali Musa"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1555718214,"creation_date":1555715587,"answer_id":55768800,"question_id":9754600,"body_markdown":"ArLiteDTMConv Utility help converting EPOUCH-UNIX Date-Time values, Form EPOUCH-UNIX-To-Date-format and Vise-Versa. You can set the result to a variable and then use the variable in your script or when passing as parameter or introduce in any DB criteria for both Window and Linux. (Download a zip file on this link)\r\n\r\n  [1]: https://communities.bmc.com/docs/DOC-111256","title":"Converting Epoch time to date string","body":"<p>ArLiteDTMConv Utility help converting EPOUCH-UNIX Date-Time values, Form EPOUCH-UNIX-To-Date-format and Vise-Versa. You can set the result to a variable and then use the variable in your script or when passing as parameter or introduce in any DB criteria for both Window and Linux. (Download a zip file on this link)</p>\n"}],"owner":{"account_id":1291932,"reputation":797,"user_id":1243862,"accept_rate":61,"display_name":"nexus490"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113366,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":9754625,"answer_count":10,"score":33,"last_activity_date":1635528557,"creation_date":1332025705,"question_id":9754600,"body_markdown":"I have seen this question asked multiple times and none of the answers seem to be what i need.\r\n\r\nI have a long type variable which has an epoch time stored in it.\r\n\r\nWhat i want to do is convert it to a String\r\n\r\nfor example if the epoch time stored was for today the final string would read:\r\n\r\n17/03/2012\r\n\r\nHow would i to this?","title":"Converting Epoch time to date string","body":"<p>I have seen this question asked multiple times and none of the answers seem to be what i need.</p>\n\n<p>I have a long type variable which has an epoch time stored in it.</p>\n\n<p>What i want to do is convert it to a String</p>\n\n<p>for example if the epoch time stored was for today the final string would read:</p>\n\n<p>17/03/2012</p>\n\n<p>How would i to this?</p>\n"},{"tags":["java","android","xml","android-edittext"],"comments":[{"owner":{"account_id":5781946,"reputation":5687,"user_id":4562287,"accept_rate":43,"display_name":"Vivek Mishra"},"score":0,"creation_date":1517461042,"post_id":48555599,"comment_id":84107305,"body_markdown":"your question is about edit text while you have posted code for textview ?","body":"your question is about edit text while you have posted code for textview ?"},{"owner":{"account_id":12558546,"reputation":127,"user_id":9137241,"accept_rate":45,"display_name":"EquiWare"},"score":0,"creation_date":1517461111,"post_id":48555599,"comment_id":84107326,"body_markdown":"i realized that afterwards","body":"i realized that afterwards"}],"answers":[{"tags":[],"owner":{"account_id":12558546,"reputation":127,"user_id":9137241,"accept_rate":45,"display_name":"EquiWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1517461177,"creation_date":1517461084,"answer_id":48555630,"question_id":48555599,"body_markdown":"The padding in the background was stopping me from doing this so in `android:paddingLeft = 10dp` is the correct not in the layoutXML file rather the background","title":"EditText with permanent indent at start","body":"<p>The padding in the background was stopping me from doing this so in <code>android:paddingLeft = 10dp</code> is the correct not in the layoutXML file rather the background</p>\n"},{"tags":[],"owner":{"account_id":2557547,"reputation":6925,"user_id":2219208,"accept_rate":8,"display_name":"Lakhwinder Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517461808,"creation_date":1517461808,"answer_id":48555758,"question_id":48555599,"body_markdown":"Remove padding from background.xml\r\n\r\nuse `paddingLeft=&quot;10dp&quot;`\r\n\r\nin Edittext","title":"EditText with permanent indent at start","body":"<p>Remove padding from background.xml</p>\n\n<p>use <code>paddingLeft=\"10dp\"</code></p>\n\n<p>in Edittext</p>\n"},{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635528534,"creation_date":1517462903,"answer_id":48555916,"question_id":48555599,"body_markdown":"Try this...\r\n\r\nno need to set fixed height and width for edittext here.\r\n\r\n**.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n      &lt;android.support.constraint.ConstraintLayout\r\n      xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n      xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n      xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;match_parent&quot;\r\n      tools:context=&quot;com.silambarasan.test.MainActivity&quot;\r\n      &gt;\r\n\r\n      &lt;EditText \r\n        android:id=&quot;@+id/w_SearchBarFullScreen&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;32dp&quot;\r\n        android:layout_marginStart=&quot;32dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:background=&quot;@drawable/web_search_bar&quot;\r\n        android:elevation=&quot;5dp&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:imeOptions=&quot;actionSearch&quot;\r\n        android:inputType=&quot;text&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:singleLine=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        /&gt;\r\n     &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n**web_search_bar.xml (Drawable)**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n      &lt;solid android:color=&quot;#fff&quot; /&gt;\r\n      &lt;stroke\r\n         android:width=&quot;3dp&quot;\r\n         android:color=&quot;#e0e0e0&quot; /&gt;\r\n      &lt;corners\r\n         android:radius=&quot;15dp&quot;/&gt;\r\n      &lt;padding\r\n         android:left=&quot;15dp&quot;\r\n         android:top=&quot;15dp&quot;\r\n         android:right=&quot;15dp&quot;\r\n         android:bottom=&quot;15dp&quot; /&gt;\r\n    &lt;/shape&gt;\r\n\r\n**Result**:\r\n\r\n[![edittext][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I3BL1.png","title":"EditText with permanent indent at start","body":"<p>Try this...</p>\n<p>no need to set fixed height and width for edittext here.</p>\n<p><strong>.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n  &lt;android.support.constraint.ConstraintLayout\n  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n  xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n  xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n  android:layout_width=&quot;match_parent&quot;\n  android:layout_height=&quot;match_parent&quot;\n  tools:context=&quot;com.silambarasan.test.MainActivity&quot;\n  &gt;\n\n  &lt;EditText \n    android:id=&quot;@+id/w_SearchBarFullScreen&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginBottom=&quot;8dp&quot;\n    android:layout_marginEnd=&quot;32dp&quot;\n    android:layout_marginStart=&quot;32dp&quot;\n    android:layout_marginTop=&quot;8dp&quot;\n    android:background=&quot;@drawable/web_search_bar&quot;\n    android:elevation=&quot;5dp&quot;\n    android:focusable=&quot;true&quot;\n    android:imeOptions=&quot;actionSearch&quot;\n    android:inputType=&quot;text&quot;\n    android:maxLines=&quot;1&quot;\n    android:singleLine=&quot;true&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    /&gt;\n &lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n<p><strong>web_search_bar.xml (Drawable)</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n  &lt;solid android:color=&quot;#fff&quot; /&gt;\n  &lt;stroke\n     android:width=&quot;3dp&quot;\n     android:color=&quot;#e0e0e0&quot; /&gt;\n  &lt;corners\n     android:radius=&quot;15dp&quot;/&gt;\n  &lt;padding\n     android:left=&quot;15dp&quot;\n     android:top=&quot;15dp&quot;\n     android:right=&quot;15dp&quot;\n     android:bottom=&quot;15dp&quot; /&gt;\n&lt;/shape&gt;\n</code></pre>\n<p><strong>Result</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/I3BL1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I3BL1.png\" alt=\"edittext\" /></a></p>\n"}],"owner":{"account_id":12558546,"reputation":127,"user_id":9137241,"accept_rate":45,"display_name":"EquiWare"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":718,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":48555630,"answer_count":3,"score":0,"last_activity_date":1635528534,"creation_date":1517460928,"question_id":48555599,"body_markdown":"My EditText has a background that makes it round and with a stroke of 3dp, I am trying to have a permanent indent implemented so that the text doesn&#39;t start in the stroke of the background. All ive come across is android: paddingStart/paddingEnd and I can not seem to get it to work. Is there any other way of achieving this programmatically or no? I would want it about 1dp past the stroke or maybe 3dp but I can&#39;t find a way to achieve this.\r\n\r\n\r\nxml\r\n\r\n        \r\n    &lt;EditText android:id=&quot;@+id/w_SearchBarFullScreen&quot;\r\n          xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; \r\n          android:layout_width=&quot;355dp&quot;\r\n          android:layout_height=&quot;40dp&quot;\r\n          android:layout_marginBottom=&quot;8dp&quot;\r\n          android:layout_marginTop=&quot;8dp&quot;\r\n          android:background=&quot;@drawable/web_search_bar&quot;\r\n          android:imeOptions=&quot;actionSearch&quot;\r\n          android:inputType=&quot;text&quot;\r\n          android:maxLines=&quot;1&quot;\r\n          android:singleLine=&quot;true&quot;\r\n          android:text=&quot;    &quot;\r\n          android:elevation=&quot;5dp&quot;\r\n          android:focusable=&quot;true&quot;/&gt;\r\n\r\nbackground xml\r\n\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;solid android:color=&quot;#fff&quot; /&gt;\r\n\r\n    &lt;stroke\r\n        android:width=&quot;3dp&quot;\r\n        android:color=&quot;#e0e0e0&quot; /&gt;\r\n    &lt;corners\r\n        android:radius=&quot;15dp&quot;/&gt;\r\n\r\n    &lt;padding\r\n        android:left=&quot;0dp&quot;\r\n        android:top=&quot;0dp&quot;\r\n        android:right=&quot;0dp&quot;\r\n        android:bottom=&quot;0dp&quot; /&gt;\r\n    &lt;/shape&gt;","title":"EditText with permanent indent at start","body":"<p>My EditText has a background that makes it round and with a stroke of 3dp, I am trying to have a permanent indent implemented so that the text doesn't start in the stroke of the background. All ive come across is android: paddingStart/paddingEnd and I can not seem to get it to work. Is there any other way of achieving this programmatically or no? I would want it about 1dp past the stroke or maybe 3dp but I can't find a way to achieve this.</p>\n\n<p>xml</p>\n\n<pre><code>&lt;EditText android:id=\"@+id/w_SearchBarFullScreen\"\n      xmlns:android=\"http://schemas.android.com/apk/res/android\" \n      android:layout_width=\"355dp\"\n      android:layout_height=\"40dp\"\n      android:layout_marginBottom=\"8dp\"\n      android:layout_marginTop=\"8dp\"\n      android:background=\"@drawable/web_search_bar\"\n      android:imeOptions=\"actionSearch\"\n      android:inputType=\"text\"\n      android:maxLines=\"1\"\n      android:singleLine=\"true\"\n      android:text=\"    \"\n      android:elevation=\"5dp\"\n      android:focusable=\"true\"/&gt;\n</code></pre>\n\n<p>background xml</p>\n\n<pre><code>&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;solid android:color=\"#fff\" /&gt;\n\n&lt;stroke\n    android:width=\"3dp\"\n    android:color=\"#e0e0e0\" /&gt;\n&lt;corners\n    android:radius=\"15dp\"/&gt;\n\n&lt;padding\n    android:left=\"0dp\"\n    android:top=\"0dp\"\n    android:right=\"0dp\"\n    android:bottom=\"0dp\" /&gt;\n&lt;/shape&gt;\n</code></pre>\n"},{"tags":["java","spring","kotlin","ldap","spring-ldap"],"comments":[{"owner":{"account_id":7442080,"reputation":304,"user_id":5659556,"display_name":"ParkerM"},"score":0,"creation_date":1642701266,"post_id":69770628,"comment_id":125147796,"body_markdown":"It would be helpful if you could post a stack trace of the thrown Exception.","body":"It would be helpful if you could post a stack trace of the thrown Exception."}],"answers":[{"tags":[],"owner":{"account_id":23050052,"reputation":84,"user_id":17167030,"display_name":"Vinayak Kamati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635528395,"creation_date":1635528395,"answer_id":69772711,"question_id":69770628,"body_markdown":"Check once your property name is the same or not as mentioned here. ` isTestOnBorrow = true`\r\n\r\n ```\r\n&lt;property name=&quot;testOnBorrow&quot; value=&quot;true&quot; /&gt;\r\n&lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot; /&gt;\r\n\r\n```","title":"how to set up dirContextValidator?","body":"<p>Check once your property name is the same or not as mentioned here. <code> isTestOnBorrow = true</code></p>\n<pre><code>&lt;property name=&quot;testOnBorrow&quot; value=&quot;true&quot; /&gt;\n&lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot; /&gt;\n\n</code></pre>\n"}],"owner":{"account_id":18295321,"reputation":101,"user_id":17280903,"display_name":"Venot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635528395,"creation_date":1635517925,"question_id":69770628,"body_markdown":"https://docs.spring.io/spring-ldap/docs/1.3.2.RELEASE/reference/html/pooling.html\r\n\r\n    open fun create(): LdapTemplate {\r\n            return LdapTemplate(PooledContextSource(\r\n                PoolConfig().apply {\r\n                    maxTotalPerKey = 10\r\n                    isTestOnBorrow = true\r\n                    isTestWhileIdle = true\r\n                    minEvictableIdleTimeMillis = timeToMillis\r\n                })\r\n                .apply {\r\n                    contextSource = ldapContextSourceFactory.create()\r\n                })\r\n                .apply {\r\n                    setIgnorePartialResultException(true)\r\n                    afterPropertiesSet()\r\n                }\r\n        }\r\n\r\nif add this \r\n\r\n    isTestOnBorrow = true\r\n    isTestWhileIdle = true  \r\n\r\ndoesn’t work\r\n\r\n    Failed to borrow DirContext from pool.; nested exception is java.util.NoSuchElementException: Unable to validate object\r\n\r\nhow to set up dirContextValidator ?\r\n","title":"how to set up dirContextValidator?","body":"<p><a href=\"https://docs.spring.io/spring-ldap/docs/1.3.2.RELEASE/reference/html/pooling.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-ldap/docs/1.3.2.RELEASE/reference/html/pooling.html</a></p>\n<pre><code>open fun create(): LdapTemplate {\n        return LdapTemplate(PooledContextSource(\n            PoolConfig().apply {\n                maxTotalPerKey = 10\n                isTestOnBorrow = true\n                isTestWhileIdle = true\n                minEvictableIdleTimeMillis = timeToMillis\n            })\n            .apply {\n                contextSource = ldapContextSourceFactory.create()\n            })\n            .apply {\n                setIgnorePartialResultException(true)\n                afterPropertiesSet()\n            }\n    }\n</code></pre>\n<p>if add this</p>\n<pre><code>isTestOnBorrow = true\nisTestWhileIdle = true  \n</code></pre>\n<p>doesn’t work</p>\n<pre><code>Failed to borrow DirContext from pool.; nested exception is java.util.NoSuchElementException: Unable to validate object\n</code></pre>\n<p>how to set up dirContextValidator ?</p>\n"},{"tags":["java","import","business-objects","business-objects-sdk"],"answers":[{"tags":[],"owner":{"account_id":1777799,"reputation":6787,"user_id":1621233,"accept_rate":25,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635506117,"creation_date":1635506117,"answer_id":69767947,"question_id":69764440,"body_markdown":"You&#39;ll need `rebean.wi.adapter.jar` and `cecore.jar`.  They are located in the following directory with BO client or server software is installed:\r\n`C:\\Program Files (x86)\\SAP BusinessObjects\\SAP BusinessObjects Enterprise XI 4.0\\java\\lib`\r\n\r\nNote that these are not available publicly -- you will need to install the software.","title":"where to get java SDK for BusinessObjects","body":"<p>You'll need <code>rebean.wi.adapter.jar</code> and <code>cecore.jar</code>.  They are located in the following directory with BO client or server software is installed:\n<code>C:\\Program Files (x86)\\SAP BusinessObjects\\SAP BusinessObjects Enterprise XI 4.0\\java\\lib</code></p>\n<p>Note that these are not available publicly -- you will need to install the software.</p>\n"}],"owner":{"account_id":22253733,"reputation":1,"user_id":16486208,"display_name":"Vita Yeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635528249,"creation_date":1635488305,"question_id":69764440,"body_markdown":"I want to import the packages, for example: \r\n\r\n    import java.io.PrintWriter;\r\n    import java.text.DateFormat;\r\n    import java.util.Date;\r\n\r\nthese packages have already existed so it doesn&#39;t pop up any error messages.\r\nWhen I want to import others packages:\r\n\r\n    import com.businessobjects.rebean.wi.DocumentInstance;\r\n    import com.businessobjects.rebean.wi.Prompt;\r\n    import com.businessobjects.rebean.wi.Prompts;\r\n    import com.businessobjects.rebean.wi.ReportEngine;\r\n    import com.businessobjects.rebean.wi.ReportEngines;\r\n    import com.crystaldecisions.enterprise.ocaframework.ServiceNames;\r\n    import com.crystaldecisions.sdk.exception.SDKException;\r\n    import com.crystaldecisions.sdk.framework.CrystalEnterprise;\r\n    import com.crystaldecisions.sdk.framework.IEnterpriseSession;\r\n    import com.crystaldecisions.sdk.framework.ISessionMgr;\r\n    import com.crystaldecisions.sdk.occa.infostore.IInfoObject;\r\n    import com.crystaldecisions.sdk.occa.infostore.IInfoObjects;\r\n    import com.crystaldecisions.sdk.occa.infostore.IInfoStore;\r\n    import com.crystaldecisions.sdk.plugin.desktop.folder.IFolder;\r\n\r\n\r\n\r\nIt will say &quot;the import cannot be resolved&quot;, but where I can get the jar files to resolve these problems?\r\n\r\nI tried to search these jar files in the java lib folder but was not able to get them.\r\n\r\nCan anyone tell the exact folder path for these jar files, if it is there?\r\nOr where can I download those packages.....\r\nI found the website (https://help.sap.com/doc/javadocs_bip_42/4.2/en-US/bip/en/com/crystaldecisions/sdk/exception/package-summary.html) but I still don&#39;t know how to import it......","title":"where to get java SDK for BusinessObjects","body":"<p>I want to import the packages, for example:</p>\n<pre><code>import java.io.PrintWriter;\nimport java.text.DateFormat;\nimport java.util.Date;\n</code></pre>\n<p>these packages have already existed so it doesn't pop up any error messages.\nWhen I want to import others packages:</p>\n<pre><code>import com.businessobjects.rebean.wi.DocumentInstance;\nimport com.businessobjects.rebean.wi.Prompt;\nimport com.businessobjects.rebean.wi.Prompts;\nimport com.businessobjects.rebean.wi.ReportEngine;\nimport com.businessobjects.rebean.wi.ReportEngines;\nimport com.crystaldecisions.enterprise.ocaframework.ServiceNames;\nimport com.crystaldecisions.sdk.exception.SDKException;\nimport com.crystaldecisions.sdk.framework.CrystalEnterprise;\nimport com.crystaldecisions.sdk.framework.IEnterpriseSession;\nimport com.crystaldecisions.sdk.framework.ISessionMgr;\nimport com.crystaldecisions.sdk.occa.infostore.IInfoObject;\nimport com.crystaldecisions.sdk.occa.infostore.IInfoObjects;\nimport com.crystaldecisions.sdk.occa.infostore.IInfoStore;\nimport com.crystaldecisions.sdk.plugin.desktop.folder.IFolder;\n</code></pre>\n<p>It will say &quot;the import cannot be resolved&quot;, but where I can get the jar files to resolve these problems?</p>\n<p>I tried to search these jar files in the java lib folder but was not able to get them.</p>\n<p>Can anyone tell the exact folder path for these jar files, if it is there?\nOr where can I download those packages.....\nI found the website (<a href=\"https://help.sap.com/doc/javadocs_bip_42/4.2/en-US/bip/en/com/crystaldecisions/sdk/exception/package-summary.html\" rel=\"nofollow noreferrer\">https://help.sap.com/doc/javadocs_bip_42/4.2/en-US/bip/en/com/crystaldecisions/sdk/exception/package-summary.html</a>) but I still don't know how to import it......</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1648419,"reputation":5309,"user_id":1519469,"display_name":"HelloWorld123456789"},"score":0,"creation_date":1635525394,"post_id":69772175,"comment_id":123330666,"body_markdown":"Please provide more details and some *code* to show what you have done so far.","body":"Please provide more details and some <i>code</i> to show what you have done so far."},{"owner":{"account_id":19469485,"reputation":1,"user_id":14242152,"display_name":"is89r"},"score":0,"creation_date":1635525906,"post_id":69772175,"comment_id":123330840,"body_markdown":"Done @HelloWorld123456789","body":"Done @HelloWorld123456789"},{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1635526086,"post_id":69772175,"comment_id":123330891,"body_markdown":"&quot;I need to create method at BookingSystem class which called addHotel&quot;.  Your code already has such a method and is implemented.  What is your specific issue?","body":"&quot;I need to create method at BookingSystem class which called addHotel&quot;.  Your code already has such a method and is implemented.  What is your specific issue?"},{"owner":{"account_id":19469485,"reputation":1,"user_id":14242152,"display_name":"is89r"},"score":0,"creation_date":1635526393,"post_id":69772175,"comment_id":123330990,"body_markdown":"How to add Hotel to Hotel Class .. Also I want to check from you if it correct or not? (the addHotel); @Andy","body":"How to add Hotel to Hotel Class .. Also I want to check from you if it correct or not? (the addHotel); @Andy"},{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1635526651,"post_id":69772175,"comment_id":123331084,"body_markdown":"Your `addHotel` seems incomplete in that it creates an instance but *does not set any fields* so you&#39;ll have to figure out how you want to set the fields (you prompt for name but don&#39;t set it).  Also your application only needs one scanner (since there is only one stdin) so this usually results in errors along the way.","body":"Your <code>addHotel</code> seems incomplete in that it creates an instance but <i>does not set any fields</i> so you&#39;ll have to figure out how you want to set the fields (you prompt for name but don&#39;t set it).  Also your application only needs one scanner (since there is only one stdin) so this usually results in errors along the way."},{"owner":{"account_id":19469485,"reputation":1,"user_id":14242152,"display_name":"is89r"},"score":0,"creation_date":1635526906,"post_id":69772175,"comment_id":123331159,"body_markdown":"Yeah it is incomplete, I need to know How to complete that, Also thanks I think I understand NOW A LITTLE BIT. @Andy","body":"Yeah it is incomplete, I need to know How to complete that, Also thanks I think I understand NOW A LITTLE BIT. @Andy"},{"owner":{"account_id":19469485,"reputation":1,"user_id":14242152,"display_name":"is89r"},"score":0,"creation_date":1635527122,"post_id":69772175,"comment_id":123331242,"body_markdown":"Okay, It is Okay","body":"Okay, It is Okay"}],"answers":[{"tags":[],"owner":{"display_name":"user2711811"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635528236,"creation_date":1635527888,"answer_id":69772627,"question_id":69772175,"body_markdown":"(Your question is more suitable to https://softwareengineering.stackexchange.com/ - recommend asking it there...)\r\n\r\nGeneral speaking it wouldn&#39;t  make sense to have a `Hotel` without a name, location or number of rooms so I&#39;d recommend adding a constructor with minimal required information:\r\n\r\n    public Hotel (String name, String location, int rooms) {\r\n        this.name = name;\r\n        this.location = location;\r\n        this.noOfRooms = rooms;\r\n    }\r\n\r\n`bookingDate` makes no sense as a single property of a hotel but rather a property of each booked room so you have a design issue - this is not addressed here.\r\n\r\nAgain, `roomPrice` usually varies by room so in a robust solution this would be a property of a room not a hotel - not addressed here.\r\n\r\nWhy is there a `noOfRooms` and a `numberOfRooms` list.  In fact, the `numberOfRooms` list doesn&#39;t make sense as a list.  I&#39;d just keep the `noOfRooms` and get rid of `numberOfRooms`.\r\n\r\nAn implied property, `nbrOfAvailableRooms` can be derived from `noOfRooms - bookedRooms.size();`\r\n\r\nI would assume your `bookedRooms` is a list of room numbers which are booked but that&#39;s not possible to tell from your implementation.  You should focus on what you want `Book` to do.\r\n\r\nThe `Book` interface method is not documented but it looks like it should simply take an available asset (room) and consider it booked.  It should return a boolean success not a String - especially not `null`.\r\n\r\n**I recommend writing (in pseudo code) what you want a `Book` implementation to do - include that in question.  That is the core issue you are having.**\r\n\r\n","title":"What is the relationship between two classes they are tied to a Third class?","body":"<p>(Your question is more suitable to <a href=\"https://softwareengineering.stackexchange.com/\">https://softwareengineering.stackexchange.com/</a> - recommend asking it there...)</p>\n<p>General speaking it wouldn't  make sense to have a <code>Hotel</code> without a name, location or number of rooms so I'd recommend adding a constructor with minimal required information:</p>\n<pre><code>public Hotel (String name, String location, int rooms) {\n    this.name = name;\n    this.location = location;\n    this.noOfRooms = rooms;\n}\n</code></pre>\n<p><code>bookingDate</code> makes no sense as a single property of a hotel but rather a property of each booked room so you have a design issue - this is not addressed here.</p>\n<p>Again, <code>roomPrice</code> usually varies by room so in a robust solution this would be a property of a room not a hotel - not addressed here.</p>\n<p>Why is there a <code>noOfRooms</code> and a <code>numberOfRooms</code> list.  In fact, the <code>numberOfRooms</code> list doesn't make sense as a list.  I'd just keep the <code>noOfRooms</code> and get rid of <code>numberOfRooms</code>.</p>\n<p>An implied property, <code>nbrOfAvailableRooms</code> can be derived from <code>noOfRooms - bookedRooms.size();</code></p>\n<p>I would assume your <code>bookedRooms</code> is a list of room numbers which are booked but that's not possible to tell from your implementation.  You should focus on what you want <code>Book</code> to do.</p>\n<p>The <code>Book</code> interface method is not documented but it looks like it should simply take an available asset (room) and consider it booked.  It should return a boolean success not a String - especially not <code>null</code>.</p>\n<p><strong>I recommend writing (in pseudo code) what you want a <code>Book</code> implementation to do - include that in question.  That is the core issue you are having.</strong></p>\n"}],"owner":{"account_id":19469485,"reputation":1,"user_id":14242152,"display_name":"is89r"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635528236,"creation_date":1635525121,"question_id":69772175,"body_markdown":"Getting stuck with my Travail System Project, Confusing a little bit about understanding that if there Classes called Bookable, Hotel and BookingSystem. \r\nHotel class is implements Bookable. Furthermore, BookingSystem Class is composition from Bookable, So, I need to create method at BookingSystem class which called addHotel. \r\nwhat I must do about it to make a relationship between Hotel Class and BookingSystem Class. \r\nThanks In Advance. \r\nIsraa \r\n\r\n\r\n\r\n\r\n\r\nHotal Class: \r\n\r\n\r\n\r\n    public class Hotel implements Bookable {\r\n\tprivate String name, location;\r\n\tprivate int noOfRooms;\r\n\tprivate double roomPrice;\r\n\tprivate Date bookingDate;\r\n\tprivate ArrayList&lt;Integer&gt; bookedRooms = new ArrayList&lt;Integer&gt;();\r\n    private ArrayList&lt;Integer&gt; numberOfrooms = new ArrayList&lt;Integer&gt;();\r\n\tpublic Hotel() {\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getLocation() {\r\n\t\treturn location;\r\n\t}\r\n\r\n\tpublic void setLocation(String location) {\r\n\t\tthis.location = location;\r\n\t}\r\n\r\n\tpublic int getNoOfRooms() {\r\n\t\treturn noOfRooms;\r\n\t}\r\n\r\n\tpublic void setNoOfRooms(int noOfRooms) {\r\n\t\tthis.noOfRooms = noOfRooms;\r\n\t}\r\n\r\n\tpublic double getRoomPrice() {\r\n\t\treturn roomPrice;\r\n\t}\r\n\r\n\tpublic void setRoomPrice(double roomPrice) {\r\n\t\tthis.roomPrice = roomPrice;\r\n\t}\r\n\r\n\tpublic Date getBookingDate() {\r\n\t\treturn bookingDate;\r\n\t}\r\n\r\n\tpublic void setBookingDate(Date bookingDate) {\r\n\t\tthis.bookingDate = bookingDate;\r\n\t}\r\n\r\n\tpublic ArrayList&lt;Integer&gt; getBookedRooms() {\r\n\t\treturn bookedRooms;\r\n\t}\r\n\r\n\tpublic void setBookedRooms(ArrayList&lt;Integer&gt; bookedRooms) {\r\n\t\tthis.bookedRooms = bookedRooms;\r\n\t}\r\n\tpublic String Book() {\r\n        \r\n\t\tif ( numberOfrooms.size() != (bookedRooms.size())) {\r\n\t\t\tfor (int i = 0; i &lt; bookedRooms.size(); i++) {\r\n\t\t\t\tint oldVal = bookedRooms.get(i);\r\n\t\t\t\tint newVal = oldVal + 1;\r\n\t\t\t\tbookedRooms.add(bookedRooms.set(i, newVal));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n    }\r\n\r\n Bookable class: \r\n\r\n\r\n\r\n\r\n\r\n     public interface Bookable {\r\n     public String Book();\r\n     }\r\n\r\nBookingSytsem Class:\r\n\r\n     public class BookingSystem {\r\n\tprivate ArrayList&lt;Customer&gt; customer = new ArrayList&lt;Customer&gt;();\r\n\tprivate ArrayList&lt;Bookable&gt; bookable = new ArrayList&lt;Bookable&gt;();\r\n\tprivate ArrayList&lt;Operation&gt; operation = new ArrayList&lt;Operation&gt;();\r\n\r\n\tpublic BookingSystem() {\r\n\t}\r\n\r\n\t// **\r\n\tpublic void addCustomer(String name, int id) {\r\n\t\tCustomer customers = new Customer(id, name);\r\n\t\tcustomer.add(customers);\r\n\t\tSystem.out.println(&quot;new customer &quot; + customers.getName() + &quot; added&quot;);\r\n\t}\r\n\r\n\t// **\r\n\tpublic void deleteCustomer(String name, int id) {\r\n\t\tCustomer customers = new Customer(id, name);\r\n\t\tif (customer.contains(name)) {\r\n\t\t\tcustomer.remove(name);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Customer &quot; + customers.getName() + &quot; deleted&quot;);\r\n\t}\r\n\r\n\tpublic Customer findCustomer(int id) {\r\n\t\tfor (Customer c : customer) {\r\n\t\t\tif (c.getId() == id) {\r\n\t\t\t\treturn c;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic void addHotel() {\r\n\t\tHotel H1 = new Hotel();\r\n\t\tScanner name = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Please Enter the name of Hotel: &quot;);\r\n\t\tString n1 = name.nextLine();\r\n\t\tbookable.add(H1);\r\n\t\tSystem.out.println(&quot;The Hotel &quot; + name + &quot;added&quot;);\r\n\t}\r\n\r\n\tpublic void makeABooking(Customer c, Bookable b) {\r\n\t\tScanner input =new Scanner(System.in);\r\n        System.out.println(&quot;Please Enter your name: &quot;);\r\n        String name = input.nextLine();\r\n        System.out.println(&quot;Please Enter your ID: &quot;);\r\n        int ID = input.nextInt();\r\n        while(true) {\r\n        \t if(ID == -1 &amp;&amp; ID == 0) {\r\n             \tSystem.out.println(&quot;Invalid ID. Enter again: &quot;);\r\n             \t  name = input.nextLine();\r\n                 System.out.println(&quot;Please Enter your ID: &quot;);\r\n                 ID = input.nextInt();\r\n             } \t \r\n        }\r\n\t}\r\n    }","title":"What is the relationship between two classes they are tied to a Third class?","body":"<p>Getting stuck with my Travail System Project, Confusing a little bit about understanding that if there Classes called Bookable, Hotel and BookingSystem.\nHotel class is implements Bookable. Furthermore, BookingSystem Class is composition from Bookable, So, I need to create method at BookingSystem class which called addHotel.\nwhat I must do about it to make a relationship between Hotel Class and BookingSystem Class.\nThanks In Advance.\nIsraa</p>\n<p>Hotal Class:</p>\n<pre><code>public class Hotel implements Bookable {\nprivate String name, location;\nprivate int noOfRooms;\nprivate double roomPrice;\nprivate Date bookingDate;\nprivate ArrayList&lt;Integer&gt; bookedRooms = new ArrayList&lt;Integer&gt;();\nprivate ArrayList&lt;Integer&gt; numberOfrooms = new ArrayList&lt;Integer&gt;();\npublic Hotel() {\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getLocation() {\n    return location;\n}\n\npublic void setLocation(String location) {\n    this.location = location;\n}\n\npublic int getNoOfRooms() {\n    return noOfRooms;\n}\n\npublic void setNoOfRooms(int noOfRooms) {\n    this.noOfRooms = noOfRooms;\n}\n\npublic double getRoomPrice() {\n    return roomPrice;\n}\n\npublic void setRoomPrice(double roomPrice) {\n    this.roomPrice = roomPrice;\n}\n\npublic Date getBookingDate() {\n    return bookingDate;\n}\n\npublic void setBookingDate(Date bookingDate) {\n    this.bookingDate = bookingDate;\n}\n\npublic ArrayList&lt;Integer&gt; getBookedRooms() {\n    return bookedRooms;\n}\n\npublic void setBookedRooms(ArrayList&lt;Integer&gt; bookedRooms) {\n    this.bookedRooms = bookedRooms;\n}\npublic String Book() {\n    \n    if ( numberOfrooms.size() != (bookedRooms.size())) {\n        for (int i = 0; i &lt; bookedRooms.size(); i++) {\n            int oldVal = bookedRooms.get(i);\n            int newVal = oldVal + 1;\n            bookedRooms.add(bookedRooms.set(i, newVal));\n        }\n    }\n    return null;\n}\n}\n</code></pre>\n<p>Bookable class:</p>\n<pre><code> public interface Bookable {\n public String Book();\n }\n</code></pre>\n<p>BookingSytsem Class:</p>\n<pre><code> public class BookingSystem {\nprivate ArrayList&lt;Customer&gt; customer = new ArrayList&lt;Customer&gt;();\nprivate ArrayList&lt;Bookable&gt; bookable = new ArrayList&lt;Bookable&gt;();\nprivate ArrayList&lt;Operation&gt; operation = new ArrayList&lt;Operation&gt;();\n\npublic BookingSystem() {\n}\n\n// **\npublic void addCustomer(String name, int id) {\n    Customer customers = new Customer(id, name);\n    customer.add(customers);\n    System.out.println(&quot;new customer &quot; + customers.getName() + &quot; added&quot;);\n}\n\n// **\npublic void deleteCustomer(String name, int id) {\n    Customer customers = new Customer(id, name);\n    if (customer.contains(name)) {\n        customer.remove(name);\n    }\n    System.out.println(&quot;Customer &quot; + customers.getName() + &quot; deleted&quot;);\n}\n\npublic Customer findCustomer(int id) {\n    for (Customer c : customer) {\n        if (c.getId() == id) {\n            return c;\n        }\n    }\n    return null;\n}\n\npublic void addHotel() {\n    Hotel H1 = new Hotel();\n    Scanner name = new Scanner(System.in);\n    System.out.println(&quot;Please Enter the name of Hotel: &quot;);\n    String n1 = name.nextLine();\n    bookable.add(H1);\n    System.out.println(&quot;The Hotel &quot; + name + &quot;added&quot;);\n}\n\npublic void makeABooking(Customer c, Bookable b) {\n    Scanner input =new Scanner(System.in);\n    System.out.println(&quot;Please Enter your name: &quot;);\n    String name = input.nextLine();\n    System.out.println(&quot;Please Enter your ID: &quot;);\n    int ID = input.nextInt();\n    while(true) {\n         if(ID == -1 &amp;&amp; ID == 0) {\n            System.out.println(&quot;Invalid ID. Enter again: &quot;);\n              name = input.nextLine();\n             System.out.println(&quot;Please Enter your ID: &quot;);\n             ID = input.nextInt();\n         }   \n    }\n}\n}\n</code></pre>\n"},{"tags":["java","android","multithreading","android-intent"],"comments":[{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":1,"creation_date":1394810813,"post_id":22408780,"comment_id":34071938,"body_markdown":"&quot;having timer thread&quot; I bet you do not need your own thread. try   `postRunableDelayed`","body":"&quot;having timer thread&quot; I bet you do not need your own thread. try   <code>postRunableDelayed</code>"}],"answers":[{"tags":[],"owner":{"account_id":3685312,"reputation":1255,"user_id":3069183,"accept_rate":29,"display_name":"Lucian Novac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394809740,"creation_date":1394809740,"answer_id":22408805,"question_id":22408780,"body_markdown":"just call `finish()` when you make the intent from A to B","title":"How to destroy previous activity when you jumped to next activity","body":"<p>just call <code>finish()</code> when you make the intent from A to B</p>\n"},{"tags":[],"owner":{"account_id":3098140,"reputation":847,"user_id":2622936,"accept_rate":48,"display_name":"Andr&#225;s Kov&#225;cs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1394811057,"creation_date":1394811057,"answer_id":22409363,"question_id":22408780,"body_markdown":" You have to clear the activity backstack.\r\n\r\n    intent = new Intent(this, Activity.class);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n    StartActivity(intent);","title":"How to destroy previous activity when you jumped to next activity","body":"<p>You have to clear the activity backstack.</p>\n\n<pre><code>intent = new Intent(this, Activity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nStartActivity(intent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635528126,"creation_date":1394813249,"answer_id":22410227,"question_id":22408780,"body_markdown":"Try this...\r\n\r\n**MainActivity.java:**\r\n\r\n    public class MainActivity extends Activity {\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\tnew Waiting(5);\r\n\t}\r\n\r\n\tpublic class Waiting {\r\n\t\tTimer timer;\r\n\r\n\t\tpublic Waiting(int seconds) {\r\n\t\t\ttimer = new Timer();\r\n\t\t\ttimer.schedule(new WaitingTask(), seconds * 1000);\r\n\t\t}\r\n\r\n\t\tclass WaitingTask extends TimerTask {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tSystem.out.println(&quot;Hi, I&#39;m waiting here!&quot;);\r\n\r\n\t\t\t\tIntent intent = new Intent(MainActivity.this,\r\n\t\t\t\t\t\tMainActivity1.class);\r\n\t\t\t\tMainActivity.this.finish();\r\n\t\t\t\tstartActivity(intent);\r\n\t\t\t\ttimer.cancel();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n     }\r\n\r\n**MainActivity1.java**\r\n\r\n    public class MainActivity1 extends Activity {\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main_activity1);\r\n\t  }\r\n\r\n    }","title":"How to destroy previous activity when you jumped to next activity","body":"<p>Try this...</p>\n<p><strong>MainActivity.java:</strong></p>\n<pre><code>public class MainActivity extends Activity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    new Waiting(5);\n}\n\npublic class Waiting {\n    Timer timer;\n\n    public Waiting(int seconds) {\n        timer = new Timer();\n        timer.schedule(new WaitingTask(), seconds * 1000);\n    }\n\n    class WaitingTask extends TimerTask {\n\n        @Override\n        public void run() {\n            System.out.println(&quot;Hi, I'm waiting here!&quot;);\n\n            Intent intent = new Intent(MainActivity.this,\n                    MainActivity1.class);\n            MainActivity.this.finish();\n            startActivity(intent);\n            timer.cancel();\n        }\n\n    }\n}\n }\n</code></pre>\n<p><strong>MainActivity1.java</strong></p>\n<pre><code>public class MainActivity1 extends Activity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main_activity1);\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2895151,"reputation":133,"user_id":2483098,"accept_rate":62,"display_name":"Roshaan Nayyar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22409363,"answer_count":3,"score":0,"last_activity_date":1635528126,"creation_date":1394809670,"question_id":22408780,"body_markdown":"I have activity A, having timer thread. after 5 sec it jumps to activity B via intent. how to destroy activity A when you are on activity B so that back button don&#39;t let you go back to activity A.","title":"How to destroy previous activity when you jumped to next activity","body":"<p>I have activity A, having timer thread. after 5 sec it jumps to activity B via intent. how to destroy activity A when you are on activity B so that back button don't let you go back to activity A.</p>\n"},{"tags":["java","android","android-fragments","android-activity","android-fragmentactivity"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1499837003,"post_id":45049002,"comment_id":77071734,"body_markdown":"Where is the Fragment instance in your Activity code? Why can&#39;t you just call methods on that Fragment? Remove the ViewPager for now. it&#39;s only complicated things","body":"Where is the Fragment instance in your Activity code? Why can&#39;t you just call methods on that Fragment? Remove the ViewPager for now. it&#39;s only complicated things"},{"owner":{"account_id":450762,"reputation":5576,"user_id":3831557,"display_name":"Rajen Raiyarela"},"score":1,"creation_date":1499837091,"post_id":45049002,"comment_id":77071764,"body_markdown":"You can create a public method in your fragment and call that using fragment instance you created.","body":"You can create a public method in your fragment and call that using fragment instance you created."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1499837109,"post_id":45049002,"comment_id":77071772,"body_markdown":"By the way, `Main2Activity extends Fragment`, is not an Activity. Please fix your class naming conventions if you want others to understand the code","body":"By the way, <code>Main2Activity extends Fragment</code>, is not an Activity. Please fix your class naming conventions if you want others to understand the code"},{"owner":{"account_id":9842095,"reputation":1057,"user_id":7290822,"display_name":"sumit"},"score":0,"creation_date":1499837302,"post_id":45049002,"comment_id":77071851,"body_markdown":"why are you complicating things for this simple task just use an interface and pass the id for respective button click and accordingly change the color inside your fragment","body":"why are you complicating things for this simple task just use an interface and pass the id for respective button click and accordingly change the color inside your fragment"},{"owner":{"account_id":11199429,"reputation":399,"user_id":8217014,"accept_rate":69,"display_name":"Pam"},"score":0,"creation_date":1499837339,"post_id":45049002,"comment_id":77071867,"body_markdown":"@cricket_007 Just added the Fragment instance... or at least what I think it is. Sorry, just started learning about Fragments, still a little confused of everything","body":"@cricket_007 Just added the Fragment instance... or at least what I think it is. Sorry, just started learning about Fragments, still a little confused of everything"},{"owner":{"account_id":11199429,"reputation":399,"user_id":8217014,"accept_rate":69,"display_name":"Pam"},"score":0,"creation_date":1499837370,"post_id":45049002,"comment_id":77071877,"body_markdown":"@RajenRaiyarela do you have a link to how I can do that by any chance?","body":"@RajenRaiyarela do you have a link to how I can do that by any chance?"},{"owner":{"account_id":6867709,"reputation":343,"user_id":5279468,"display_name":"Sagar Pujari"},"score":0,"creation_date":1499837410,"post_id":45049002,"comment_id":77071890,"body_markdown":"Create a setter method for dataPasser in Main2Activity and call that method from MainActivity and pass context to that.","body":"Create a setter method for dataPasser in Main2Activity and call that method from MainActivity and pass context to that."},{"owner":{"account_id":11199429,"reputation":399,"user_id":8217014,"accept_rate":69,"display_name":"Pam"},"score":0,"creation_date":1499837476,"post_id":45049002,"comment_id":77071917,"body_markdown":"@sumit I&#39;ve tried that but then I get a cyclic inheritance error. I&#39;m probably not doing it right though","body":"@sumit I&#39;ve tried that but then I get a cyclic inheritance error. I&#39;m probably not doing it right though"},{"owner":{"account_id":11199429,"reputation":399,"user_id":8217014,"accept_rate":69,"display_name":"Pam"},"score":0,"creation_date":1499837550,"post_id":45049002,"comment_id":77071944,"body_markdown":"@SagarPujari do you have an an example by any chance? That sounds like it could work. Thanks","body":"@SagarPujari do you have an an example by any chance? That sounds like it could work. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":450762,"reputation":5576,"user_id":3831557,"display_name":"Rajen Raiyarela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499838893,"creation_date":1499838053,"answer_id":45049260,"question_id":45049002,"body_markdown":"Issue in your code is OnDataPass instance has to be created in your Activity and not Fragment as you want to pass data from Activity to Fragment and not Fragment to Activity. \r\n\r\nSo sample code block for Activity and Fragment classes will be like this.\r\n\r\n    public class MainActivity extends AppCompatActivity implements MyFragment.OnDataPass{\r\n    \r\n              MyFragment fragmentInstance;\r\n        \r\n              \r\n        \r\n              @Override\r\n              protected void onCreate(Bundle savedInstanceState) {\r\n                  super.onCreate(savedInstanceState);\r\n                  setContentView(R.layout.activity_main);\r\n        \r\n                  fragmentInstance = new MyFragment();\r\n              }\r\n        \r\n              private void loadMyFragment(){\r\n                 fragmentInstance = new MyFragment();\r\n                 //code to load fragment\r\n        \r\n              }\r\n    \r\n    \t  public void passData(String data) {\r\n    \t     if (fragmentInstance != null) fragmentInstance.dataFromActivity(data);\r\n    \t  }\r\n    \r\n    \t  @Override\r\n              public void onDataPass(String data){\r\n                 //handle data and do the needful. Instead of String you can even use bundle here.\r\n              }\r\n        }\r\n\r\nSo as i mentioned in my comment, have created a public method named `dataFromActivity` which you can call from Activity class to pass data from your Activity to Fragment.\r\n\r\n    public class MyFragment extends Fragment {\r\n           OnDataPass dataPasser;\r\n    \r\n           public interface OnDataPass {\r\n        \t    void onDataPass(String data);\r\n           }\r\n    \r\n    \t@Override\r\n    \tpublic void onAttach(Context a) {\r\n    \t    super.onAttach(a);\r\n    \t    dataPasser = (OnDataPass) a;\r\n    \t}\r\n    \r\n    \t@Override\r\n        \tpublic void onDetach() {\r\n                super.onDetach();\r\n    \r\n                dataPasser = null;\r\n    \t}\r\n    \r\n    \tpublic void passData(String data) {\r\n    \t    if (dataPasser != null) dataPasser.onDataPass(data);\r\n    \t}\r\n    \r\n            //method called from Activity\r\n            public void dataFromActivity(String data){\r\n                //handle data and do the needful. Instead of String you can even use bundle here.\r\n            }\r\n        }\r\n\r\nFragment will user `OnDataPass` interface to send data from Fragment to Activity.","title":"Java Android - Send data from activity to fragment","body":"<p>Issue in your code is OnDataPass instance has to be created in your Activity and not Fragment as you want to pass data from Activity to Fragment and not Fragment to Activity. </p>\n\n<p>So sample code block for Activity and Fragment classes will be like this.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements MyFragment.OnDataPass{\n\n          MyFragment fragmentInstance;\n\n\n\n          @Override\n          protected void onCreate(Bundle savedInstanceState) {\n              super.onCreate(savedInstanceState);\n              setContentView(R.layout.activity_main);\n\n              fragmentInstance = new MyFragment();\n          }\n\n          private void loadMyFragment(){\n             fragmentInstance = new MyFragment();\n             //code to load fragment\n\n          }\n\n      public void passData(String data) {\n         if (fragmentInstance != null) fragmentInstance.dataFromActivity(data);\n      }\n\n      @Override\n          public void onDataPass(String data){\n             //handle data and do the needful. Instead of String you can even use bundle here.\n          }\n    }\n</code></pre>\n\n<p>So as i mentioned in my comment, have created a public method named <code>dataFromActivity</code> which you can call from Activity class to pass data from your Activity to Fragment.</p>\n\n<pre><code>public class MyFragment extends Fragment {\n       OnDataPass dataPasser;\n\n       public interface OnDataPass {\n            void onDataPass(String data);\n       }\n\n    @Override\n    public void onAttach(Context a) {\n        super.onAttach(a);\n        dataPasser = (OnDataPass) a;\n    }\n\n    @Override\n        public void onDetach() {\n            super.onDetach();\n\n            dataPasser = null;\n    }\n\n    public void passData(String data) {\n        if (dataPasser != null) dataPasser.onDataPass(data);\n    }\n\n        //method called from Activity\n        public void dataFromActivity(String data){\n            //handle data and do the needful. Instead of String you can even use bundle here.\n        }\n    }\n</code></pre>\n\n<p>Fragment will user <code>OnDataPass</code> interface to send data from Fragment to Activity.</p>\n"},{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635527979,"creation_date":1499839103,"answer_id":45049512,"question_id":45049002,"body_markdown":"Try this.....\r\n\r\n**Main2Activity.java**\r\n\r\n     public class Main2Activity extends Fragment implements View.OnClickListener  {\r\n     .......\r\n\r\n\t   //method to change button background at run time.\r\n\t   public void changeButtonColor(View view){\r\n\t\t  switch(view.getId()){\r\n\t\t  case R.id.btnTESTa:\r\n\t\t\t  btnTESTa.setBackgroundColor(Color.RED)\r\n               i = 1;\r\n\t\t\t  break;\r\n\t\t  case R.id. btnTESTb:\r\n\t\t\t  btnTESTb.setBackgroundColor(Color.GREEN)\r\n               i = 2;\r\n\t\t\t  break;\r\n\t\t  case R.id. btnTESTc:\r\n\t\t\t  btnTESTc.setBackgroundColor(Color.BLUE)\r\n               i = 3;\r\n\t\t\t  break;\r\n\t\t  }\r\n\t   }\r\n     ........\r\n     }\r\n**MainActivity.java**\r\n\r\n     public class MainActivity extends AppCompatActivity implements Main2Activity.OnDataPass{\r\n\r\n      .........\r\n\r\n\t  private Main2Activity fragment2;\r\n\t  private Main3Activity fragment3;\r\n\t  private Main4Activity fragment4;\r\n\r\n\t  public void onClickBtn1(View v){\r\n   \t   \t  fragment2.changeButtonColor(v);\r\n\t  }\r\n\r\n\t  public void onClickBtn2(View v){\r\n   \t   \t  fragment3.changeButtonColor(v);\r\n\t  }\r\n\r\n\t  public void onClickBtn3(View v){\r\n   \t      fragment4.changeButtonColor(v);\r\n\t  }\r\n\r\n\t  public void onClickBtn4(View v){\r\n   \t\t   //fragment transaction code here\r\n\t  }\r\n\r\n \t  private void setupViewPager(ViewPager viewPager) {\r\n   \t \t  .......\r\n\t\t  fragment2 = new Main2Activity();\r\n\t\t  fragment3 = new Main3Activity();\r\n\t\t  fragment4 = new Main4Activity();\r\n\r\n    \t\tadapter.addFragment(fragment2, &quot;TAB1&quot;);\r\n    \t\tadapter.addFragment(fragment3, &quot;TAB2&quot;);\r\n    \t\tadapter.addFragment(fragment4, &quot;TAB3&quot;);\r\n    \t\t.......\r\n\t   }\r\n       .......\r\n     }","title":"Java Android - Send data from activity to fragment","body":"<p>Try this.....</p>\n<p><strong>Main2Activity.java</strong></p>\n<pre><code> public class Main2Activity extends Fragment implements View.OnClickListener  {\n .......\n\n   //method to change button background at run time.\n   public void changeButtonColor(View view){\n      switch(view.getId()){\n      case R.id.btnTESTa:\n          btnTESTa.setBackgroundColor(Color.RED)\n           i = 1;\n          break;\n      case R.id. btnTESTb:\n          btnTESTb.setBackgroundColor(Color.GREEN)\n           i = 2;\n          break;\n      case R.id. btnTESTc:\n          btnTESTc.setBackgroundColor(Color.BLUE)\n           i = 3;\n          break;\n      }\n   }\n ........\n }\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code> public class MainActivity extends AppCompatActivity implements Main2Activity.OnDataPass{\n\n  .........\n\n  private Main2Activity fragment2;\n  private Main3Activity fragment3;\n  private Main4Activity fragment4;\n\n  public void onClickBtn1(View v){\n      fragment2.changeButtonColor(v);\n  }\n\n  public void onClickBtn2(View v){\n      fragment3.changeButtonColor(v);\n  }\n\n  public void onClickBtn3(View v){\n      fragment4.changeButtonColor(v);\n  }\n\n  public void onClickBtn4(View v){\n       //fragment transaction code here\n  }\n\n  private void setupViewPager(ViewPager viewPager) {\n      .......\n      fragment2 = new Main2Activity();\n      fragment3 = new Main3Activity();\n      fragment4 = new Main4Activity();\n\n        adapter.addFragment(fragment2, &quot;TAB1&quot;);\n        adapter.addFragment(fragment3, &quot;TAB2&quot;);\n        adapter.addFragment(fragment4, &quot;TAB3&quot;);\n        .......\n   }\n   .......\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6867709,"reputation":343,"user_id":5279468,"display_name":"Sagar Pujari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499839429,"creation_date":1499839429,"answer_id":45049612,"question_id":45049002,"body_markdown":"Add setter method in Main2Activity as below\r\n \r\n     public void setDataPasser(OnDataPass dataPasser) {\r\n        this.dataPasser = dataPasser;\r\n    }\r\n\r\nThen call this setter method in MainActivity.\r\nThen update the following method in your MainActivity:\r\n\r\n    private void setupViewPager(ViewPager viewPager) {\r\n    SectionsPageAdapter adapter = new SectionsPageAdapter(getSupportFragmentManager());\r\n    Main2Activity fragment = new Main2Activity();\r\n    fragment.setListener(this);\r\n    adapter.addFragment(fragment, &quot;TAB1&quot;);\r\n    viewPager.setAdapter(adapter);","title":"Java Android - Send data from activity to fragment","body":"<p>Add setter method in Main2Activity as below</p>\n\n<pre><code> public void setDataPasser(OnDataPass dataPasser) {\n    this.dataPasser = dataPasser;\n}\n</code></pre>\n\n<p>Then call this setter method in MainActivity.\nThen update the following method in your MainActivity:</p>\n\n<pre><code>private void setupViewPager(ViewPager viewPager) {\nSectionsPageAdapter adapter = new SectionsPageAdapter(getSupportFragmentManager());\nMain2Activity fragment = new Main2Activity();\nfragment.setListener(this);\nadapter.addFragment(fragment, \"TAB1\");\nviewPager.setAdapter(adapter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5620925,"reputation":812,"user_id":4450805,"accept_rate":78,"display_name":"pamobo0609"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500324118,"creation_date":1500324118,"answer_id":45153331,"question_id":45049002,"body_markdown":"There are several ways to communicate between `activities` and `fragments`, however, the usage you give them is based on the requirements for your app. &lt;br&gt;&lt;/br&gt;\r\nIf the data is needed for `Fragment` initialization, you can pass it using the `newInstance` method of every `fragment` as parameter or parameters.&lt;br&gt;&lt;/br&gt;\r\nIf you need to pass data in `runtime`, you need to use an `interface`, which is going to initialize in the `onAttach` method of every fragment using the activity `Context` and going null every time he fragment gets destroyed.&lt;br&gt;&lt;/br&gt;\r\nTo summarize on the second option, you need to:&lt;br&gt;&lt;/br&gt;\r\n\r\n 1. Declare an `interface`, most likely inside the `fragment` you&#39;re working on.\r\n 2. Declare a global variable of the `interface`&#39;s type.\r\n 3. Initialize the variable in the `onAttach` method of the fragment.\r\n 4. Nullify the variable in the `onDestroy` method.\r\n 5. Call the interface methods in the buttons you want.\r\n 6. Implement the `interface` in the `activity` and handle the callback methods.","title":"Java Android - Send data from activity to fragment","body":"<p>There are several ways to communicate between <code>activities</code> and <code>fragments</code>, however, the usage you give them is based on the requirements for your app. <br>\nIf the data is needed for <code>Fragment</code> initialization, you can pass it using the <code>newInstance</code> method of every <code>fragment</code> as parameter or parameters.<br>\nIf you need to pass data in <code>runtime</code>, you need to use an <code>interface</code>, which is going to initialize in the <code>onAttach</code> method of every fragment using the activity <code>Context</code> and going null every time he fragment gets destroyed.<br>\nTo summarize on the second option, you need to:<br></p>\n\n<ol>\n<li>Declare an <code>interface</code>, most likely inside the <code>fragment</code> you're working on.</li>\n<li>Declare a global variable of the <code>interface</code>'s type.</li>\n<li>Initialize the variable in the <code>onAttach</code> method of the fragment.</li>\n<li>Nullify the variable in the <code>onDestroy</code> method.</li>\n<li>Call the interface methods in the buttons you want.</li>\n<li>Implement the <code>interface</code> in the <code>activity</code> and handle the callback methods.</li>\n</ol>\n"}],"owner":{"account_id":11199429,"reputation":399,"user_id":8217014,"accept_rate":69,"display_name":"Pam"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1635527979,"creation_date":1499836817,"question_id":45049002,"body_markdown":"I&#39;ve been trying to figure out how to pass data from `Activity` to a `Fragment` for the past day and haven&#39;t gotten very far. I know how to pass data from `Fragment` to `Activity` though. I don&#39;t think I can use a bundle for my situation because my `Fragment` will have already been created and will need to continue to listen to `Activity` for any changes. I&#39;ve also tried creating an interface but I get some cyclic error. It was very easy for me to pass data from `Fragment` to Activity, I feel like I&#39;m overthinking how to pass data back from `Activity` to `Fragment`.\r\n\r\n[![image description here][1]][1]\r\n\r\n\r\nThis is a simple version of what I&#39;m trying to do. `Activity` is on top and the bottom buttons are from the `Fragment` layout. \r\n\r\nWhen I click on BTN1 from `MainActivity`, I would like button TESTBTN 1A to change to the color red and store i = 1. Then button TESTBTN 1B will change to green and i = 2. And button TESTBTN 1C will change to blue and i = 3. When NEXT FRAGMENT is clicked, it will take the `Fragment` to the next one (and hopefully not lose the button color changes).\r\n\r\n**Here&#39;s the main part of my `MainActivity`**\r\n        \r\n    public class MainActivity extends AppCompatActivity implements Main2Activity.OnDataPass{\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mSectionsPageAdapter = new SectionsPageAdapter(getSupportFragmentManager());\r\n        mViewPager = (ViewPager) findViewById(R.id.container);\r\n        setupViewPager(mViewPager);\r\n    }\r\n\r\n\r\n    public void onClickBtn1(View v){\r\n        //need to send data over to fragment1 to be stored and to change color\r\n    }\r\n\r\n    public void onClickBtn2(View v){\r\n        //need to send data over to fragment1 to be stored and to change color\r\n    }\r\n\r\n    public void onClickBtn3(View v){\r\n        //need to send data over to fragment1 to be stored and to change color\r\n    }\r\n\r\n    public void onClickBtn4(View v){\r\n        //go to next fragment\r\n    }\r\n\r\n    //used for when fragment passes data to activity\r\n    @Override\r\n    public void onDataPass(String data) {\r\n        Log.d(&quot;LOG&quot;, &quot;passed data: &quot; + data);\r\n    }\r\n\r\n    private void setupViewPager(ViewPager viewPager) {\r\n        SectionsPageAdapter adapter = new SectionsPageAdapter(getSupportFragmentManager());\r\n        adapter.addFragment(new Main2Activity(), &quot;TAB1&quot;);\r\n        adapter.addFragment(new Main3Activity(), &quot;TAB2&quot;);\r\n        adapter.addFragment(new Main4Activity(), &quot;TAB3&quot;);\r\n        viewPager.setAdapter(adapter);\r\n\r\n\r\n**and here is my `Fragment`**\r\n   \r\n    public class Main2Activity extends Fragment implements View.OnClickListener  {\r\n    int i;\r\n    Button btnTESTa, btnTESTb, btnTESTc;     \r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,  Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.activity_main2,container,false);\r\n        btnTESTa = view.findViewById(R.id.btnTESTa);\r\n        btnTESTb = view.findViewById(R.id.btnTESTb);\r\n        btnTESTc = view.findViewById(R.id.btnTESTc);\r\n\r\n        btnTESTa.setOnClickListener(this);\r\n        btnTESTb.setOnClickListener(this);\r\n        btnTESTc.setOnClickListener(this);\r\n\r\n        return view;\r\n    }\r\n\r\n    //NEED TO CREATE A WAY TO LISTEN FOR DATA SENT OVER FROM ACTIVITY TO CHANGE BUTTON COLORS AND STORE INT I VALUE\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        switch (v.getId()) {\r\n            case R.id.btnTESTa:\r\n                i = 0;\r\n                break;\r\n            case R.id.btnTESTb:\r\n                i = 1;\r\n                break;\r\n            case R.id.btnTESTc:\r\n                i = 2;\r\n                break;\r\n        }\r\n\r\n        passData(String.valueOf(i));\r\n    }\r\n\r\n    //used to pass data over from fragment to activity\r\n    OnDataPass dataPasser;\r\n\r\n    public interface OnDataPass {\r\n        void onDataPass(String data);\r\n    }\r\n\r\n    @Override\r\n    public void onAttach(Context a) {\r\n        super.onAttach(a);\r\n        dataPasser = (OnDataPass) a;\r\n    }\r\n\r\n    public void passData(String data) {\r\n        dataPasser.onDataPass(data);\r\n    }\r\n\r\n\r\nAnd here is my SectionsPageAdapter\r\n    public class SectionsPageAdapter extends FragmentPagerAdapter {\r\n\r\n    private final List&lt;Fragment&gt; mFragmentList = new ArrayList&lt;&gt;();\r\n    private final List&lt;String&gt; mFragmentTitleList = new ArrayList&lt;&gt;();\r\n\r\n    public void addFragment(Fragment fragment, String title) {\r\n        mFragmentList.add(fragment);\r\n        mFragmentTitleList.add(title);\r\n    }\r\n\r\n    public SectionsPageAdapter(FragmentManager fm) {\r\n        super(fm);\r\n    }\r\n\r\n    @Override\r\n    public CharSequence getPageTitle(int position) {\r\n        return mFragmentTitleList.get(position);\r\n    }\r\n\r\n    @Override\r\n    public Fragment getItem(int position) {\r\n        return mFragmentList.get(position);\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return mFragmentList.size();\r\n    }\r\n\r\n\r\n\r\nAny help on how I can achieve sending data from my `Activity` to `Fragment` to change the button color is greatly appreciated, thanks!\r\n  [1]: https://i.stack.imgur.com/ngeEL.png","title":"Java Android - Send data from activity to fragment","body":"<p>I've been trying to figure out how to pass data from <code>Activity</code> to a <code>Fragment</code> for the past day and haven't gotten very far. I know how to pass data from <code>Fragment</code> to <code>Activity</code> though. I don't think I can use a bundle for my situation because my <code>Fragment</code> will have already been created and will need to continue to listen to <code>Activity</code> for any changes. I've also tried creating an interface but I get some cyclic error. It was very easy for me to pass data from <code>Fragment</code> to Activity, I feel like I'm overthinking how to pass data back from <code>Activity</code> to <code>Fragment</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ngeEL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ngeEL.png\" alt=\"image description here\"></a></p>\n\n<p>This is a simple version of what I'm trying to do. <code>Activity</code> is on top and the bottom buttons are from the <code>Fragment</code> layout. </p>\n\n<p>When I click on BTN1 from <code>MainActivity</code>, I would like button TESTBTN 1A to change to the color red and store i = 1. Then button TESTBTN 1B will change to green and i = 2. And button TESTBTN 1C will change to blue and i = 3. When NEXT FRAGMENT is clicked, it will take the <code>Fragment</code> to the next one (and hopefully not lose the button color changes).</p>\n\n<p><strong>Here's the main part of my <code>MainActivity</code></strong></p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements Main2Activity.OnDataPass{\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mSectionsPageAdapter = new SectionsPageAdapter(getSupportFragmentManager());\n    mViewPager = (ViewPager) findViewById(R.id.container);\n    setupViewPager(mViewPager);\n}\n\n\npublic void onClickBtn1(View v){\n    //need to send data over to fragment1 to be stored and to change color\n}\n\npublic void onClickBtn2(View v){\n    //need to send data over to fragment1 to be stored and to change color\n}\n\npublic void onClickBtn3(View v){\n    //need to send data over to fragment1 to be stored and to change color\n}\n\npublic void onClickBtn4(View v){\n    //go to next fragment\n}\n\n//used for when fragment passes data to activity\n@Override\npublic void onDataPass(String data) {\n    Log.d(\"LOG\", \"passed data: \" + data);\n}\n\nprivate void setupViewPager(ViewPager viewPager) {\n    SectionsPageAdapter adapter = new SectionsPageAdapter(getSupportFragmentManager());\n    adapter.addFragment(new Main2Activity(), \"TAB1\");\n    adapter.addFragment(new Main3Activity(), \"TAB2\");\n    adapter.addFragment(new Main4Activity(), \"TAB3\");\n    viewPager.setAdapter(adapter);\n</code></pre>\n\n<p><strong>and here is my <code>Fragment</code></strong></p>\n\n<pre><code>public class Main2Activity extends Fragment implements View.OnClickListener  {\nint i;\nButton btnTESTa, btnTESTb, btnTESTc;     \n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,  Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.activity_main2,container,false);\n    btnTESTa = view.findViewById(R.id.btnTESTa);\n    btnTESTb = view.findViewById(R.id.btnTESTb);\n    btnTESTc = view.findViewById(R.id.btnTESTc);\n\n    btnTESTa.setOnClickListener(this);\n    btnTESTb.setOnClickListener(this);\n    btnTESTc.setOnClickListener(this);\n\n    return view;\n}\n\n//NEED TO CREATE A WAY TO LISTEN FOR DATA SENT OVER FROM ACTIVITY TO CHANGE BUTTON COLORS AND STORE INT I VALUE\n\n@Override\npublic void onClick(View v) {\n    switch (v.getId()) {\n        case R.id.btnTESTa:\n            i = 0;\n            break;\n        case R.id.btnTESTb:\n            i = 1;\n            break;\n        case R.id.btnTESTc:\n            i = 2;\n            break;\n    }\n\n    passData(String.valueOf(i));\n}\n\n//used to pass data over from fragment to activity\nOnDataPass dataPasser;\n\npublic interface OnDataPass {\n    void onDataPass(String data);\n}\n\n@Override\npublic void onAttach(Context a) {\n    super.onAttach(a);\n    dataPasser = (OnDataPass) a;\n}\n\npublic void passData(String data) {\n    dataPasser.onDataPass(data);\n}\n</code></pre>\n\n<p>And here is my SectionsPageAdapter\n    public class SectionsPageAdapter extends FragmentPagerAdapter {</p>\n\n<pre><code>private final List&lt;Fragment&gt; mFragmentList = new ArrayList&lt;&gt;();\nprivate final List&lt;String&gt; mFragmentTitleList = new ArrayList&lt;&gt;();\n\npublic void addFragment(Fragment fragment, String title) {\n    mFragmentList.add(fragment);\n    mFragmentTitleList.add(title);\n}\n\npublic SectionsPageAdapter(FragmentManager fm) {\n    super(fm);\n}\n\n@Override\npublic CharSequence getPageTitle(int position) {\n    return mFragmentTitleList.get(position);\n}\n\n@Override\npublic Fragment getItem(int position) {\n    return mFragmentList.get(position);\n}\n\n@Override\npublic int getCount() {\n    return mFragmentList.size();\n}\n</code></pre>\n\n<p>Any help on how I can achieve sending data from my <code>Activity</code> to <code>Fragment</code> to change the button color is greatly appreciated, thanks!</p>\n"},{"tags":["java","unit-testing","junit","resteasy"],"comments":[{"owner":{"account_id":1906088,"reputation":2053,"user_id":1720938,"accept_rate":68,"display_name":"hamid"},"score":0,"creation_date":1635501590,"post_id":69766849,"comment_id":123321134,"body_markdown":"so you want to unit test, for example, when `id` is passed as null?","body":"so you want to unit test, for example, when <code>id</code> is passed as null?"},{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":0,"creation_date":1635511774,"post_id":69766849,"comment_id":123324844,"body_markdown":"I want to test that id is marked as required / Notnull","body":"I want to test that id is marked as required / Notnull"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1635524042,"post_id":69766849,"comment_id":123330153,"body_markdown":"What is your runtime container? Or have you looked at Arquillian?","body":"What is your runtime container? Or have you looked at Arquillian?"},{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":0,"creation_date":1635527612,"post_id":69766849,"comment_id":123331382,"body_markdown":"@JamesR.Perkins I am looking for way to do this without test container like arquillian. But I am afraid that is not possible.","body":"@JamesR.Perkins I am looking for way to do this without test container like arquillian. But I am afraid that is not possible."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1635533360,"post_id":69766849,"comment_id":123333140,"body_markdown":"You either need a container or a mock container to really test it. You could use a standalone container like a `VertxJaxrsServer` or the `NettyJaxrsServer`. These are part of RESTEasy.","body":"You either need a container or a mock container to really test it. You could use a standalone container like a <code>VertxJaxrsServer</code> or the <code>NettyJaxrsServer</code>. These are part of RESTEasy."}],"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635527669,"creation_date":1635500963,"question_id":69766849,"body_markdown":"I have the following `javax.ws.rs` endpoint interface. \r\n\r\n    @POST\r\n    @Path(&quot;{id}&quot;)\r\n    Response save(\r\n    \t\t@PathParam(&quot;id&quot;) @NotNull String id,\r\n    \t\t@HeaderParam(&quot;header&quot;) @NotNull String header,\r\n    \t\t@NotNull @Valid SomeFancyBody body);\r\n\r\nNow I need a unit test that checks that pathparam, header and body are marked as `NotNull` / `Valid`.\r\n\r\nI dont like to mock the endpoint or generate it in my unit tests and call this endpoint with wrong data. I trust the library that implements the ws.rs api (RestEasy) and I am sure that if I define this correctly `@NotNull` and `@Valid` will do its job.\r\n\r\nSo does anyone have any idea how to test this elegantly and easily?\r\n\r\nEdit: Runtime - Java 8, Wildfly","title":"What is the most simple way to test endpoint definition and required params","body":"<p>I have the following <code>javax.ws.rs</code> endpoint interface.</p>\n<pre><code>@POST\n@Path(&quot;{id}&quot;)\nResponse save(\n        @PathParam(&quot;id&quot;) @NotNull String id,\n        @HeaderParam(&quot;header&quot;) @NotNull String header,\n        @NotNull @Valid SomeFancyBody body);\n</code></pre>\n<p>Now I need a unit test that checks that pathparam, header and body are marked as <code>NotNull</code> / <code>Valid</code>.</p>\n<p>I dont like to mock the endpoint or generate it in my unit tests and call this endpoint with wrong data. I trust the library that implements the ws.rs api (RestEasy) and I am sure that if I define this correctly <code>@NotNull</code> and <code>@Valid</code> will do its job.</p>\n<p>So does anyone have any idea how to test this elegantly and easily?</p>\n<p>Edit: Runtime - Java 8, Wildfly</p>\n"},{"tags":["java","android","arraylist"],"comments":[{"owner":{"account_id":27913,"reputation":5642,"user_id":74098,"accept_rate":69,"display_name":"Cshah"},"score":1,"creation_date":1260436637,"post_id":1879700,"comment_id":20211160,"body_markdown":"Why dont you use a [set](http://java.sun.com/javase/6/docs/api/java/util/Set.html) then ?","body":"Why dont you use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">set</a> then ?"}],"answers":[{"tags":[],"owner":{"account_id":45406,"reputation":128657,"user_id":133802,"accept_rate":82,"display_name":"David Hedlund"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1357542793,"creation_date":1260436442,"answer_id":1879710,"question_id":1879700,"body_markdown":"I think a real neat solution for enforcing unique array lists is [this one][1], if it&#39;s not too much code for what you&#39;re trying to achieve.\r\n\r\n    public class UniqueOverridingList extends ArrayList {\r\n    \r\n        public enum LAST_RESULT {\r\n            ADD, OVERRIDE, NOTHING;\r\n        }\r\n    \r\n        private LAST_RESULT lastResult;\r\n    \r\n        public boolean add(T obj) {\r\n            for (int i = 0; i &lt; size(); i++) {\r\n                if (obj.equals(get(i))) {\r\n                    set(i, obj);\r\n                    lastResult = LAST_RESULT.OVERRIDE;\r\n                    return true;\r\n                }\r\n            }\r\n            boolean b = super.add(obj);\r\n            if (b) {\r\n                lastResult = LAST_RESULT.ADD;\r\n            } else {\r\n                lastResult = LAST_RESULT.NOTHING;\r\n            }\r\n            return b;\r\n        }\r\n    \r\n        public boolean addAll(Collection c) {\r\n            boolean result = true;\r\n            for (T t : c) {\r\n                if (!add(t)) {\r\n                    result = false;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public LAST_RESULT getLastResult() {\r\n            return lastResult;\r\n        }\r\n    \r\n    }\r\n\r\n  [1]: http://weblog.dangertree.net/2007/06/09/unique-arraylist/","title":"How to remove Duplicate value from arraylist in Android","body":"<p>I think a real neat solution for enforcing unique array lists is <a href=\"http://weblog.dangertree.net/2007/06/09/unique-arraylist/\" rel=\"nofollow noreferrer\">this one</a>, if it's not too much code for what you're trying to achieve.</p>\n\n<pre><code>public class UniqueOverridingList extends ArrayList {\n\n    public enum LAST_RESULT {\n        ADD, OVERRIDE, NOTHING;\n    }\n\n    private LAST_RESULT lastResult;\n\n    public boolean add(T obj) {\n        for (int i = 0; i &lt; size(); i++) {\n            if (obj.equals(get(i))) {\n                set(i, obj);\n                lastResult = LAST_RESULT.OVERRIDE;\n                return true;\n            }\n        }\n        boolean b = super.add(obj);\n        if (b) {\n            lastResult = LAST_RESULT.ADD;\n        } else {\n            lastResult = LAST_RESULT.NOTHING;\n        }\n        return b;\n    }\n\n    public boolean addAll(Collection c) {\n        boolean result = true;\n        for (T t : c) {\n            if (!add(t)) {\n                result = false;\n            }\n        }\n        return result;\n    }\n\n    public LAST_RESULT getLastResult() {\n        return lastResult;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50124,"reputation":3055,"user_id":149395,"accept_rate":75,"display_name":"Scharrels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1260438117,"creation_date":1260438117,"answer_id":1879868,"question_id":1879700,"body_markdown":"The class David Hedlund suggested can be made a lot shorter:\r\n\r\n    public class UniqueArrayList extends ArrayList {\r\n        /**\r\n         * Only add the object if there is not\r\n         * another copy of it in the list\r\n         */\r\n        public boolean add(T obj) {\r\n            if(this.contains(obj))\r\n               return false;\r\n            return super.add(obj);\r\n        }\r\n    \r\n        public boolean addAll(Collection c) {\r\n            boolean result = false;\r\n            for (T t : c) {\r\n                if (add(t)) {\r\n                    result = true;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\nThe `addAll` operation is modified too. The [documentation][1] states:\r\n\r\n&gt; Returns: true if this list changed as a result of the call.\r\n\r\nI modified the method to reflect this behaviour. There&#39;s still one problem. The documentation of the addAll() method also states:\r\n\r\n&gt;Appends all of the elements in the specified collection to the end of this list, in the order that they are returned by the specified collection&#39;s iterator.\r\n\r\nThe order might be broken by using this method. A possible workaround for this problem might be not supporting the `addAll` method.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html#add%28java.lang.Object%29","title":"How to remove Duplicate value from arraylist in Android","body":"<p>The class David Hedlund suggested can be made a lot shorter:</p>\n\n<pre><code>public class UniqueArrayList extends ArrayList {\n    /**\n     * Only add the object if there is not\n     * another copy of it in the list\n     */\n    public boolean add(T obj) {\n        if(this.contains(obj))\n           return false;\n        return super.add(obj);\n    }\n\n    public boolean addAll(Collection c) {\n        boolean result = false;\n        for (T t : c) {\n            if (add(t)) {\n                result = true;\n            }\n        }\n        return result;\n    }\n}\n</code></pre>\n\n<p>The <code>addAll</code> operation is modified too. The <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html#add%28java.lang.Object%29\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n\n<blockquote>\n  <p>Returns: true if this list changed as a result of the call.</p>\n</blockquote>\n\n<p>I modified the method to reflect this behaviour. There's still one problem. The documentation of the addAll() method also states:</p>\n\n<blockquote>\n  <p>Appends all of the elements in the specified collection to the end of this list, in the order that they are returned by the specified collection's iterator.</p>\n</blockquote>\n\n<p>The order might be broken by using this method. A possible workaround for this problem might be not supporting the <code>addAll</code> method.</p>\n"},{"tags":[],"owner":{"account_id":2256304,"reputation":361,"user_id":1987424,"display_name":"Freyr"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1525429198,"creation_date":1358432776,"answer_id":14381212,"question_id":1879700,"body_markdown":"Try below code,\r\n\r\n    ArrayList&lt;String&gt; values=new ArrayList&lt;String&gt;();\r\n    String newValue;\r\n    \r\n    // repeated additions:\r\n    if (!values.contains(newValue)) {values.add(newValue);}\r\n\r\n","title":"How to remove Duplicate value from arraylist in Android","body":"<p>Try below code,</p>\n\n<pre><code>ArrayList&lt;String&gt; values=new ArrayList&lt;String&gt;();\nString newValue;\n\n// repeated additions:\nif (!values.contains(newValue)) {values.add(newValue);}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3766062,"reputation":5113,"user_id":3129572,"display_name":"Vaishali Sutariya"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1525429214,"creation_date":1404735418,"answer_id":24610428,"question_id":1879700,"body_markdown":"                \r\n    HashSet hs = new HashSet();\r\n\r\n\ths.addAll(demoArrayList); // demoArrayList= name of arrayList from which u want to remove duplicates \r\n\r\n\tdemoArrayList.clear();\r\n\tdemoArrayList.addAll(hs);","title":"How to remove Duplicate value from arraylist in Android","body":"<pre><code>HashSet hs = new HashSet();\n\nhs.addAll(demoArrayList); // demoArrayList= name of arrayList from which u want to remove duplicates \n\ndemoArrayList.clear();\ndemoArrayList.addAll(hs);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2010628,"reputation":9406,"user_id":1799145,"display_name":"Silambarasan Poonguti"},"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1635527586,"creation_date":1425982032,"answer_id":28960839,"question_id":1879700,"body_markdown":"Try this...\r\n\r\n        ArrayList&lt;String&gt; values=new ArrayList&lt;String&gt;();\r\n\t\tHashSet&lt;String&gt; hashSet = new HashSet&lt;String&gt;();\r\n\t\thashSet.addAll(values);\r\n\t\tvalues.clear();\r\n\t\tvalues.addAll(hashSet);","title":"How to remove Duplicate value from arraylist in Android","body":"<p>Try this...</p>\n<pre><code>    ArrayList&lt;String&gt; values=new ArrayList&lt;String&gt;();\n    HashSet&lt;String&gt; hashSet = new HashSet&lt;String&gt;();\n    hashSet.addAll(values);\n    values.clear();\n    values.addAll(hashSet);\n</code></pre>\n"}],"owner":{"account_id":576928,"reputation":769,"user_id":227958,"display_name":"Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79045,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"closed_date":1467986485,"answer_count":5,"score":38,"last_activity_date":1635527586,"creation_date":1260436253,"question_id":1879700,"body_markdown":"    ArrayList&lt;String&gt; values=new ArrayList&lt;String&gt;();\r\n    values.add(&quot;s&quot;);\r\n    values.add(&quot;n&quot;);\r\n    values.add(&quot;a&quot;);\r\n    values.add(&quot;s&quot;);\r\n\r\nIn this Array, I want to remove repeated values.\r\n\r\n\r\n","title":"How to remove Duplicate value from arraylist in Android","body":"<pre><code>ArrayList&lt;String&gt; values=new ArrayList&lt;String&gt;();\nvalues.add(\"s\");\nvalues.add(\"n\");\nvalues.add(\"a\");\nvalues.add(\"s\");\n</code></pre>\n\n<p>In this Array, I want to remove repeated values.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15976711,"reputation":168,"user_id":11529410,"display_name":"seqre"},"score":0,"creation_date":1635519587,"post_id":69770939,"comment_id":123328374,"body_markdown":"Why do you have `while(true)` in `formatPercentage`? It&#39;s not needed","body":"Why do you have <code>while(true)</code> in <code>formatPercentage</code>? It&#39;s not needed"},{"owner":{"account_id":15088681,"reputation":1230,"user_id":10889184,"display_name":"B.Simsek"},"score":0,"creation_date":1635519724,"post_id":69770939,"comment_id":123328414,"body_markdown":"i have change it.","body":"i have change it."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1635519753,"post_id":69770939,"comment_id":123328427,"body_markdown":"Reading [Differences between System.out.println() and return in Java](https://stackoverflow.com/questions/25456472/differences-between-system-out-println-and-return-in-java) might help you, as your methods both print stuff themself as well as returning values that you then print again. You should rather decide on one of those (either have your methods print and not return, or have them not print and instead return).","body":"Reading <a href=\"https://stackoverflow.com/questions/25456472/differences-between-system-out-println-and-return-in-java\">Differences between System.out.println() and return in Java</a> might help you, as your methods both print stuff themself as well as returning values that you then print again. You should rather decide on one of those (either have your methods print and not return, or have them not print and instead return)."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635525277,"creation_date":1635525277,"answer_id":69772201,"question_id":69770939,"body_markdown":"Try this:\r\n\r\n    public class ProgressBar {\r\n    \tprivate int length;\r\n    \tprivate int maxSteps;\r\n    \tprivate int step;\r\n    \tprivate char symbol;\r\n\r\n    \tpublic ProgressBar(int length, int maxSteps, char symbol) {\r\n    \t\tthis.length = length;\r\n    \t\tthis.maxSteps = maxSteps;\r\n    \t\tthis.symbol = symbol;\r\n    \t}\r\n    \t\r\n    \tpublic void increment() {\r\n    \t\tincrement(1);\r\n    \t}\r\n    \t\r\n    \tpublic void increment(int numSteps) {\r\n    \t\tstep+=numSteps;\r\n    \t\tprint();\r\n    \t}\r\n    \t\r\n    \tprivate void print() {\r\n    \t\tfloat percentage = (float)step/(float)maxSteps;\r\n    \t\tint numSymbols = (int) Math.floor((double)length*percentage);\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; Math.min(numSymbols, length); i++) {\r\n    \t\t\tbuilder.append(symbol);\r\n    \t\t}\r\n    \t\tfor (int i = Math.min(length, numSymbols); i &lt; length; i++) {\r\n    \t\t\tbuilder.append(&#39; &#39;);\r\n    \t\t}\r\n    \t\tbuilder.append(String.format(&quot;[%s ]&quot;, symbol));\r\n    \t\t\r\n    \t\tif (numSymbols &gt;= length) {\r\n    \t\t\tbuilder.append(&quot; done&quot;);\r\n    \t\t} else {\r\n    \t\t\tbuilder.append(String.format(&quot;%d %%&quot;, (int)(percentage*100)));\r\n    \t\t}\r\n    \t\tSystem.out.println(builder.toString());\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String [] args) {\r\n    \t\tProgressBar bar = new ProgressBar(10, 50, &#39;=&#39;);\r\n    \t\tbar.increment(10);\r\n    \t\tbar.increment(15);\r\n    \t\tbar.increment(20);\r\n    \t\tbar.increment(5);\r\n    \t\tSystem.out.println(&quot;Now exceeding max..&quot;);\r\n    \t\tbar.increment(10);\r\n    \t\tbar.increment(5);\r\n    \t}\r\n    }","title":"Progressbar come outside bracket","body":"<p>Try this:</p>\n<pre><code>public class ProgressBar {\n    private int length;\n    private int maxSteps;\n    private int step;\n    private char symbol;\n\n    public ProgressBar(int length, int maxSteps, char symbol) {\n        this.length = length;\n        this.maxSteps = maxSteps;\n        this.symbol = symbol;\n    }\n    \n    public void increment() {\n        increment(1);\n    }\n    \n    public void increment(int numSteps) {\n        step+=numSteps;\n        print();\n    }\n    \n    private void print() {\n        float percentage = (float)step/(float)maxSteps;\n        int numSymbols = (int) Math.floor((double)length*percentage);\n        StringBuilder builder = new StringBuilder();\n        \n        for (int i = 0; i &lt; Math.min(numSymbols, length); i++) {\n            builder.append(symbol);\n        }\n        for (int i = Math.min(length, numSymbols); i &lt; length; i++) {\n            builder.append(' ');\n        }\n        builder.append(String.format(&quot;[%s ]&quot;, symbol));\n        \n        if (numSymbols &gt;= length) {\n            builder.append(&quot; done&quot;);\n        } else {\n            builder.append(String.format(&quot;%d %%&quot;, (int)(percentage*100)));\n        }\n        System.out.println(builder.toString());\n    }\n    \n    public static void main(String [] args) {\n        ProgressBar bar = new ProgressBar(10, 50, '=');\n        bar.increment(10);\n        bar.increment(15);\n        bar.increment(20);\n        bar.increment(5);\n        System.out.println(&quot;Now exceeding max..&quot;);\n        bar.increment(10);\n        bar.increment(5);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635527414,"creation_date":1635527414,"answer_id":69772552,"question_id":69770939,"body_markdown":"Change your `repeatString` method to the following:  Don&#39;t print anything here, just build up the string and return it.\r\n```\r\npublic static String repeatString(int number, String str) {\r\n\t\tString pad = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; number; i++) {\r\n\t\t\tpad += str;\r\n\t\t}\r\n\t\treturn pad;\r\n}","title":"Progressbar come outside bracket","body":"<p>Change your <code>repeatString</code> method to the following:  Don't print anything here, just build up the string and return it.</p>\n<pre><code>public static String repeatString(int number, String str) {\n        String pad = &quot;&quot;;\n        for (int i = 0; i &lt; number; i++) {\n            pad += str;\n        }\n        return pad;\n}\n</code></pre>\n"}],"owner":{"account_id":15088681,"reputation":1230,"user_id":10889184,"display_name":"B.Simsek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69772552,"answer_count":2,"score":0,"last_activity_date":1635527497,"creation_date":1635519332,"question_id":69770939,"body_markdown":"i am making a progress bar for my school assignment. But when i run my code my progress bar come outside my bracket, but the = most be inside the bracket.\r\n\r\n      public static String repeatString(int number, String str) {\r\n            for (int i = 0; i &lt; number; i++) {\r\n                System.out.print(str);            \r\n            }\r\n            return str;\r\n        }\r\n    \r\n        public static String formatPercentage(int percentage) {\r\n        if (percentage == 100) {\r\n            return &quot;done&quot;;\r\n        }\r\n        else{\r\n            return percentage + &quot;%&quot;;\r\n        }\r\n            \r\n        }\r\n    \r\n        public static String formatBar(int percentage, int length) {\r\n            int amount = percentage * length/ 100;\r\n            int size = length - amount;\r\n            return &quot;[&quot; + repeatString(amount, &quot;=&quot;) + repeatString(size, &quot; &quot;) + &quot;] &quot; + formatPercentage(percentage);\r\n        }\r\n\r\n\r\nthis is the result: \r\n\r\n              [= ] 5%\r\n    ==        [= ] 20%\r\n    =======   [= ] 70%\r\n    ==========[= ] done\r\n    ==============      [= ] 70%","title":"Progressbar come outside bracket","body":"<p>i am making a progress bar for my school assignment. But when i run my code my progress bar come outside my bracket, but the = most be inside the bracket.</p>\n<pre><code>  public static String repeatString(int number, String str) {\n        for (int i = 0; i &lt; number; i++) {\n            System.out.print(str);            \n        }\n        return str;\n    }\n\n    public static String formatPercentage(int percentage) {\n    if (percentage == 100) {\n        return &quot;done&quot;;\n    }\n    else{\n        return percentage + &quot;%&quot;;\n    }\n        \n    }\n\n    public static String formatBar(int percentage, int length) {\n        int amount = percentage * length/ 100;\n        int size = length - amount;\n        return &quot;[&quot; + repeatString(amount, &quot;=&quot;) + repeatString(size, &quot; &quot;) + &quot;] &quot; + formatPercentage(percentage);\n    }\n</code></pre>\n<p>this is the result:</p>\n<pre><code>          [= ] 5%\n==        [= ] 20%\n=======   [= ] 70%\n==========[= ] done\n==============      [= ] 70%\n</code></pre>\n"},{"tags":["java","forkjoinpool","java-17","openjdk-17"],"comments":[{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":0,"creation_date":1635525680,"post_id":69768534,"comment_id":123330774,"body_markdown":"This parallel stream hack was never an intended feature. You can parallelize network calls easily by submitting tasks to an ExecutorService.","body":"This parallel stream hack was never an intended feature. You can parallelize network calls easily by submitting tasks to an ExecutorService."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1635528526,"post_id":69768534,"comment_id":123331648,"body_markdown":"@MikeFHay yes and no. If a developer decides not to assume that a parallel stream will use the pool of the current worker thread when the caller happens to be in such a worker thread, we can consider this feature a surprising behavior which can break the program in the way described in this question. If it’s not an intended feature that developers can use, it’s still a source of bugs that developers have to deal with. The JDK developers had enough time from JDK&#160;8 to JDK&#160;17 to remove this surprising behavior and didn’t. Deliberately.","body":"@MikeFHay yes and no. If a developer decides not to assume that a parallel stream will use the pool of the current worker thread when the caller happens to be in such a worker thread, we can consider this feature a surprising behavior which can break the program in the way described in this question. If it’s not an intended feature that developers can use, it’s still a source of bugs that developers have to deal with. The JDK developers had enough time from JDK 8 to JDK 17 to remove this surprising behavior and didn’t. Deliberately."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1635527131,"creation_date":1635525454,"answer_id":69772222,"question_id":69768534,"body_markdown":"You have submitted one task, but that uses `parallelStream()` internally which then runs each http on different threads of the same fork join pool.\r\n\r\nThere is a difference in the way JDK16 and 17 deal with the situation that the all the available threads in the pool are in use - this is where the `saturated` parameter becomes relevent. \r\n\r\nWhen `threads &gt; urls.size()` the pool is never saturated, but in your second case `threads == urls.size()` so all the threads are in use. Replace `null` in the constructor of the `ForkJoinPool` by a `saturate` variable to see when saturate test condition is triggered:\r\n\r\n    Predicate&lt;? super ForkJoinPool&gt; saturate = pool -&gt; {\r\n        boolean allow = false;\r\n        System.out.println(Thread.currentThread().getName()+&quot; saturate:&quot;+allow);\r\n        return allow;\r\n    };\r\n\r\nOn JDK16 `saturate` predicate gets called several times but continues, whereas on JDK17 the processing stops on first call if it returns false. If you switch `allow = true` then JDK17 won&#39;t send `RejectedExecutionException` when the number of in-progress requests is the same as the threads in use for the `parallelStream()`, and will continue processing further requests when other requests are completed.\r\n\r\n\r\n    \r\n\r\n","title":"Why does Java 17 throw a RejectedExecutionException when adding tasks to a ForkJoinPool?","body":"<p>You have submitted one task, but that uses <code>parallelStream()</code> internally which then runs each http on different threads of the same fork join pool.</p>\n<p>There is a difference in the way JDK16 and 17 deal with the situation that the all the available threads in the pool are in use - this is where the <code>saturated</code> parameter becomes relevent.</p>\n<p>When <code>threads &gt; urls.size()</code> the pool is never saturated, but in your second case <code>threads == urls.size()</code> so all the threads are in use. Replace <code>null</code> in the constructor of the <code>ForkJoinPool</code> by a <code>saturate</code> variable to see when saturate test condition is triggered:</p>\n<pre><code>Predicate&lt;? super ForkJoinPool&gt; saturate = pool -&gt; {\n    boolean allow = false;\n    System.out.println(Thread.currentThread().getName()+&quot; saturate:&quot;+allow);\n    return allow;\n};\n</code></pre>\n<p>On JDK16 <code>saturate</code> predicate gets called several times but continues, whereas on JDK17 the processing stops on first call if it returns false. If you switch <code>allow = true</code> then JDK17 won't send <code>RejectedExecutionException</code> when the number of in-progress requests is the same as the threads in use for the <code>parallelStream()</code>, and will continue processing further requests when other requests are completed.</p>\n"}],"owner":{"account_id":243605,"reputation":6605,"user_id":515902,"accept_rate":64,"display_name":"TTT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2018,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":69772222,"answer_count":1,"score":6,"last_activity_date":1635527131,"creation_date":1635508927,"question_id":69768534,"body_markdown":"I used Java 16 to make requests to an API over HTTP. To speed this up overall, I&#39;ve loaded this onto a custom `ForkJoinPool`. I&#39;ve compiled a reproducing example below.\r\n\r\nSince moving to Java 17 (openjdk build 17.0.1+12-39), this throws a RejectedExecutionException:\r\n\r\n```banana\r\nCaused by: java.util.concurrent.RejectedExecutionException: Thread limit exceeded replacing blocked worker\r\n\tat java.base/java.util.concurrent.ForkJoinPool.tryCompensate(ForkJoinPool.java:1819)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.compensatedBlock(ForkJoinPool.java:3446)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3432)\r\n\tat java.base/java.util.concurrent.CompletableFuture.waitingGet(CompletableFuture.java:1898)\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2072)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:553)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:119)\r\n\tat Test.lambda$retrieveMany$1(Test.java:30)\r\n```\r\n\r\nWhy does this happen? Did something change regarding ForkJoinPool that I&#39;m unaware of?\r\n\r\n**Code**\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse.BodyHandlers;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.ForkJoinPool;\r\n\r\nimport static java.util.concurrent.TimeUnit.MINUTES;\r\nimport static java.util.stream.Collectors.toList;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\r\n        final List&lt;String&gt; urls = List.of(&quot;https://stackoverflow.com&quot;, &quot;https://stackoverflow.com&quot;, &quot;https://stackoverflow.com&quot;);\r\n\r\n        // This succeeds on JDK 16, 17\r\n        retrieveMany(urls, 4);\r\n\r\n        // This fails on JDK 17, but succeeds on 16\r\n        retrieveMany(urls, 3);\r\n    }\r\n\r\n    private static List&lt;String&gt; retrieveMany(List&lt;String&gt; urls, int threads) throws InterruptedException, ExecutionException {\r\n        return new ForkJoinPool(threads, ForkJoinPool.defaultForkJoinWorkerThreadFactory, (t, e) -&gt; {}, true, 0, threads, 1, null, 1, MINUTES)\r\n                .submit(() -&gt; urls.parallelStream()\r\n                        .map(url -&gt; {\r\n                            try {\r\n                                return HttpClient.newBuilder().build().send(HttpRequest.newBuilder(URI.create(url)).build(), BodyHandlers.ofString()).body();\r\n                            } catch (IOException | InterruptedException aE) { }\r\n                            return null;\r\n                        })\r\n                        .collect(toList()))\r\n                .get();\r\n    }\r\n\r\n}\r\n```","title":"Why does Java 17 throw a RejectedExecutionException when adding tasks to a ForkJoinPool?","body":"<p>I used Java 16 to make requests to an API over HTTP. To speed this up overall, I've loaded this onto a custom <code>ForkJoinPool</code>. I've compiled a reproducing example below.</p>\n<p>Since moving to Java 17 (openjdk build 17.0.1+12-39), this throws a RejectedExecutionException:</p>\n<pre><code>Caused by: java.util.concurrent.RejectedExecutionException: Thread limit exceeded replacing blocked worker\n    at java.base/java.util.concurrent.ForkJoinPool.tryCompensate(ForkJoinPool.java:1819)\n    at java.base/java.util.concurrent.ForkJoinPool.compensatedBlock(ForkJoinPool.java:3446)\n    at java.base/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3432)\n    at java.base/java.util.concurrent.CompletableFuture.waitingGet(CompletableFuture.java:1898)\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2072)\n    at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:553)\n    at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:119)\n    at Test.lambda$retrieveMany$1(Test.java:30)\n</code></pre>\n<p>Why does this happen? Did something change regarding ForkJoinPool that I'm unaware of?</p>\n<p><strong>Code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse.BodyHandlers;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ForkJoinPool;\n\nimport static java.util.concurrent.TimeUnit.MINUTES;\nimport static java.util.stream.Collectors.toList;\n\npublic class Test {\n\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n        final List&lt;String&gt; urls = List.of(&quot;https://stackoverflow.com&quot;, &quot;https://stackoverflow.com&quot;, &quot;https://stackoverflow.com&quot;);\n\n        // This succeeds on JDK 16, 17\n        retrieveMany(urls, 4);\n\n        // This fails on JDK 17, but succeeds on 16\n        retrieveMany(urls, 3);\n    }\n\n    private static List&lt;String&gt; retrieveMany(List&lt;String&gt; urls, int threads) throws InterruptedException, ExecutionException {\n        return new ForkJoinPool(threads, ForkJoinPool.defaultForkJoinWorkerThreadFactory, (t, e) -&gt; {}, true, 0, threads, 1, null, 1, MINUTES)\n                .submit(() -&gt; urls.parallelStream()\n                        .map(url -&gt; {\n                            try {\n                                return HttpClient.newBuilder().build().send(HttpRequest.newBuilder(URI.create(url)).build(), BodyHandlers.ofString()).body();\n                            } catch (IOException | InterruptedException aE) { }\n                            return null;\n                        })\n                        .collect(toList()))\n                .get();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","localdatetime"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1636353477,"post_id":69770270,"comment_id":123524058,"body_markdown":"A question: [Get first and last day of month using threeten, LocalDate](https://stackoverflow.com/q/22223786/10819573).","body":"A question: <a href=\"https://stackoverflow.com/q/22223786/10819573\">Get first and last day of month using threeten, LocalDate</a>."}],"answers":[{"tags":[],"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1635516574,"creation_date":1635516574,"answer_id":69770347,"question_id":69770270,"body_markdown":"Use [YearMonth.atEndOfMonth][1]\r\n\r\n```java\r\nLocalDate date = LocalDate.now();\r\nYearMonth month = YearMonth.from(date);\r\nLocalDate end = month.atEndOfMonth();\r\n```\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html#atEndOfMonth--","title":"Get the month last date","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html#atEndOfMonth--\" rel=\"noreferrer\">YearMonth.atEndOfMonth</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate date = LocalDate.now();\nYearMonth month = YearMonth.from(date);\nLocalDate end = month.atEndOfMonth();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1635516794,"creation_date":1635516794,"answer_id":69770396,"question_id":69770270,"body_markdown":"```java\r\nimport java.time.LocalDateTime;\r\nimport java.time.temporal.TemporalAdjusters;\r\n\r\npublic class Main {\r\n    public static void main(String args[]) {\r\n      LocalDateTime a = LocalDateTime.of(2021, 10, 29, 0, 0);\r\n      LocalDateTime b = a.with(TemporalAdjusters.lastDayOfMonth());\r\n      \r\n      System.out.println(a);\r\n      System.out.println(b);\r\n    }\r\n}\r\n```","title":"Get the month last date","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDateTime;\nimport java.time.temporal.TemporalAdjusters;\n\npublic class Main {\n    public static void main(String args[]) {\n      LocalDateTime a = LocalDateTime.of(2021, 10, 29, 0, 0);\n      LocalDateTime b = a.with(TemporalAdjusters.lastDayOfMonth());\n      \n      System.out.println(a);\n      System.out.println(b);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635527101,"creation_date":1635526666,"answer_id":69772424,"question_id":69770270,"body_markdown":"You asked:\r\n\r\n&gt; How do I add the endTime of day to the localDateTime. I see an option called LocalTime.MAX but it adds trailing .99999\r\n\r\nDo not use `LocalDateTime` if you are tracking moments, specific points on the timeline. That class lacks the context of a time zone or offset-from-UTC. For moments, use `Instant`, `OffsetDateTime`, or `ZonedDateTime`. \r\n\r\nRepresent an entire month with [`YearMonth`][1].\r\n\r\nYou should not try to nail down the last moment of the month. That last moment is infinitely divisible. Generally, the best way to define a span of time is the Half-Open approach rather than Fully-Closed. In Half-Open, the beginning is *inclusive* while the ending is *exclusive*. \r\n\r\nSo a day starts with first moment of the day and runs up to, but does not include, the first moment of the *next* day. A month starts with the first moment of the first day of the month and runs up to, but does not include, the first moment of the first of the *next* month.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    \r\n    YearMonth currentMonth = YearMonth.now( z ) ;\r\n    YearMonth followingMonth = currentMonth.plusMonths( 1 ) ;\r\n    \r\n    ZonedDateTime start = currentMonth.atDay( 1 ).atStartOfDay( z ) ;\r\n    ZonedDateTime end = followingMonth.atDay( 1 ).atStartOfDay( z ) ;\r\n\r\nTo represent that span of time, add the [*ThreeTen-Extra*][2] library to your project. Use the [`Interval`][3] class with its handy comparison methods such as `abuts`, `overlaps`, and `contains`. \r\n\r\n\r\n    org.threeten.extra.Interval interval = Interval.of( start.toInstant() , end.toInstant() ) ; \r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html\r\n  [2]: https://www.threeten.org/threeten-extra/\r\n  [3]: https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html","title":"Get the month last date","body":"<p>You asked:</p>\n<blockquote>\n<p>How do I add the endTime of day to the localDateTime. I see an option called LocalTime.MAX but it adds trailing .99999</p>\n</blockquote>\n<p>Do not use <code>LocalDateTime</code> if you are tracking moments, specific points on the timeline. That class lacks the context of a time zone or offset-from-UTC. For moments, use <code>Instant</code>, <code>OffsetDateTime</code>, or <code>ZonedDateTime</code>.</p>\n<p>Represent an entire month with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a>.</p>\n<p>You should not try to nail down the last moment of the month. That last moment is infinitely divisible. Generally, the best way to define a span of time is the Half-Open approach rather than Fully-Closed. In Half-Open, the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>.</p>\n<p>So a day starts with first moment of the day and runs up to, but does not include, the first moment of the <em>next</em> day. A month starts with the first moment of the first day of the month and runs up to, but does not include, the first moment of the first of the <em>next</em> month.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\n\nYearMonth currentMonth = YearMonth.now( z ) ;\nYearMonth followingMonth = currentMonth.plusMonths( 1 ) ;\n\nZonedDateTime start = currentMonth.atDay( 1 ).atStartOfDay( z ) ;\nZonedDateTime end = followingMonth.atDay( 1 ).atStartOfDay( z ) ;\n</code></pre>\n<p>To represent that span of time, add the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> library to your project. Use the <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a> class with its handy comparison methods such as <code>abuts</code>, <code>overlaps</code>, and <code>contains</code>.</p>\n<pre><code>org.threeten.extra.Interval interval = Interval.of( start.toInstant() , end.toInstant() ) ; \n</code></pre>\n"}],"owner":{"account_id":22288920,"reputation":157,"user_id":16516119,"display_name":"joseph"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":738,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69770396,"answer_count":3,"score":3,"last_activity_date":1635527101,"creation_date":1635516234,"question_id":69770270,"body_markdown":"I have a LocalDateTime object I want to get the last date of the month. So if the localDateTime points to today&#39;s date of 29th October. I want to convert it to 31st October &lt;br&gt; Is there a clean and easy way to do it?\r\n&lt;br&gt;\r\nMy Thoughts: &lt;br&gt;\r\nOne way would be to get the month and then make a switch statement. But that would be the long and tedious approach. Not sure if there is an inbuilt method &lt;br&gt; to do the same","title":"Get the month last date","body":"<p>I have a LocalDateTime object I want to get the last date of the month. So if the localDateTime points to today's date of 29th October. I want to convert it to 31st October <br> Is there a clean and easy way to do it?\n<br>\nMy Thoughts: <br>\nOne way would be to get the month and then make a switch statement. But that would be the long and tedious approach. Not sure if there is an inbuilt method <br> to do the same</p>\n"},{"tags":["java","firebase","spring-boot","react-native","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":5557748,"reputation":3715,"user_id":4408508,"display_name":"Suraj Malviya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635526833,"creation_date":1555510543,"answer_id":55729670,"question_id":55728501,"body_markdown":"Firebase admin APIs and SDK gives you the analytical tools present in firebase console itself in `Reports Tab` and also the ability to extract and export the message delivery data in BigQuery to further use it. Once you get the data, you can process it as per your use case.\r\n\r\nYou can further study about the message delivery stuff [here][1].\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/cloud-messaging/understand-delivery","title":"How to know if a notification from FCM not reach the target device?","body":"<p>Firebase admin APIs and SDK gives you the analytical tools present in firebase console itself in <code>Reports Tab</code> and also the ability to extract and export the message delivery data in BigQuery to further use it. Once you get the data, you can process it as per your use case.</p>\n<p>You can further study about the message delivery stuff <a href=\"https://firebase.google.com/docs/cloud-messaging/understand-delivery\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":13069725,"reputation":783,"user_id":9443693,"display_name":"Nguyen Hoang Vu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635526833,"creation_date":1555507182,"question_id":55728501,"body_markdown":"I want to know if a notification from FCM reach a target device or not, so I can send an sms instead. How can I do that?\r\nI&#39;m building a cross OS app with react native, and I&#39;m using FCM to send notification, but there is a problem, if the device is not online, the notification will not reach it. There is constraint in time, so I want to send an sms instead. Is there any approach for this situation?","title":"How to know if a notification from FCM not reach the target device?","body":"<p>I want to know if a notification from FCM reach a target device or not, so I can send an sms instead. How can I do that?\nI'm building a cross OS app with react native, and I'm using FCM to send notification, but there is a problem, if the device is not online, the notification will not reach it. There is constraint in time, so I want to send an sms instead. Is there any approach for this situation?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6471354,"reputation":1382,"user_id":5011400,"accept_rate":78,"display_name":"Yati Sawhney"},"score":4,"creation_date":1525878881,"post_id":50256720,"comment_id":87531304,"body_markdown":"No this will return you an empty list even if nothing gets filtered","body":"No this will return you an empty list even if nothing gets filtered"},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":1,"creation_date":1688135217,"post_id":50256720,"comment_id":135037557,"body_markdown":"I tested all Collectors returned by `java.util.stream.Collectors.toXXX` and they will all return an empty collection (not `null`) if provided an empty stream.","body":"I tested all Collectors returned by <code>java.util.stream.Collectors.toXXX</code> and they will all return an empty collection (not <code>null</code>) if provided an empty stream."}],"answers":[{"tags":[],"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"down_vote_count":2,"up_vote_count":73,"is_accepted":true,"score":71,"last_activity_date":1576260960,"creation_date":1525878897,"answer_id":50256753,"question_id":50256720,"body_markdown":"`Collector.toList()` will return an **empty** List for you.\r\n\r\nHere is the implementation:\r\n\r\n    public static &lt;T&gt;\r\n    Collector&lt;T, ?, List&lt;T&gt;&gt; toList() {\r\n        return new CollectorImpl&lt;&gt;((Supplier&lt;List&lt;T&gt;&gt;) ArrayList::new, List::add,\r\n                                   (left, right) -&gt; { left.addAll(right); return left; },\r\n                                   CH_ID);\r\n    }\r\n\r\nAs you can see `ArrayList::new` is being used as a container for your items.\r\n\r\n\r\nFrom JavaDoc of [Collector](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html):\r\n\r\n&gt; A mutable reduction operation that\r\n&gt; **accumulates input elements into a mutable result container**, optionally\r\n&gt; transforming the accumulated result into a final representation after\r\n&gt; all input elements have been processed. Reduction operations can be\r\n&gt; performed either sequentially or in parallel.\r\n&gt; \r\n&gt; A Collector is specified by four functions that work together to\r\n&gt; accumulate entries into a mutable result container, and optionally\r\n&gt; perform a final transform on the result. They are:\r\n&gt; \r\n&gt; - **creation of a new result container (supplier())** \r\n\r\n&gt; - incorporating a new data element into a result container (accumulator()) \r\n&gt; - combining two result containers into one (combiner()) \r\n&gt; - performing an optional final transform on the container (finisher())\r\n\r\n\r\nAnd\r\n\r\n&gt; A sequential implementation of a reduction using a collector would\r\n&gt; **create a single result container using the supplier function**, and\r\n&gt; invoke the accumulator function once for each input element. A\r\n&gt; parallel implementation would partition the input, **create a result**\r\n&gt; **container for each partition**, accumulate the contents of each\r\n&gt; partition into a subresult for that partition, and then use the\r\n&gt; combiner function to merge the subresults into a combined result.\r\n\r\nSo as long as you don&#39;t do weird things like combine function return `null`, the `Collector` always return at least a `mutable container` using your provided `supplier` function. \r\n\r\nAnd I think it&#39;s very counter-intuitive if an implementation would ever return `null` container.","title":"Can Java&#39;s Stream.collect() return null?","body":"<p><code>Collector.toList()</code> will return an <strong>empty</strong> List for you.</p>\n\n<p>Here is the implementation:</p>\n\n<pre><code>public static &lt;T&gt;\nCollector&lt;T, ?, List&lt;T&gt;&gt; toList() {\n    return new CollectorImpl&lt;&gt;((Supplier&lt;List&lt;T&gt;&gt;) ArrayList::new, List::add,\n                               (left, right) -&gt; { left.addAll(right); return left; },\n                               CH_ID);\n}\n</code></pre>\n\n<p>As you can see <code>ArrayList::new</code> is being used as a container for your items.</p>\n\n<p>From JavaDoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html\" rel=\"noreferrer\">Collector</a>:</p>\n\n<blockquote>\n  <p>A mutable reduction operation that\n  <strong>accumulates input elements into a mutable result container</strong>, optionally\n  transforming the accumulated result into a final representation after\n  all input elements have been processed. Reduction operations can be\n  performed either sequentially or in parallel.</p>\n  \n  <p>A Collector is specified by four functions that work together to\n  accumulate entries into a mutable result container, and optionally\n  perform a final transform on the result. They are:</p>\n  \n  <ul>\n  <li><p><strong>creation of a new result container (supplier())</strong> </p></li>\n  <li><p>incorporating a new data element into a result container (accumulator()) </p></li>\n  <li>combining two result containers into one (combiner()) </li>\n  <li>performing an optional final transform on the container (finisher())</li>\n  </ul>\n</blockquote>\n\n<p>And</p>\n\n<blockquote>\n  <p>A sequential implementation of a reduction using a collector would\n  <strong>create a single result container using the supplier function</strong>, and\n  invoke the accumulator function once for each input element. A\n  parallel implementation would partition the input, <strong>create a result</strong>\n  <strong>container for each partition</strong>, accumulate the contents of each\n  partition into a subresult for that partition, and then use the\n  combiner function to merge the subresults into a combined result.</p>\n</blockquote>\n\n<p>So as long as you don't do weird things like combine function return <code>null</code>, the <code>Collector</code> always return at least a <code>mutable container</code> using your provided <code>supplier</code> function. </p>\n\n<p>And I think it's very counter-intuitive if an implementation would ever return <code>null</code> container.</p>\n"},{"tags":[],"owner":{"account_id":6190535,"reputation":338,"user_id":4823365,"display_name":"Jan Ossowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525879004,"creation_date":1525879004,"answer_id":50256788,"question_id":50256720,"body_markdown":"This is collector-dependant. The one You&#39;re using (Collectors.toList()) returns an empty list.","title":"Can Java&#39;s Stream.collect() return null?","body":"<p>This is collector-dependant. The one You're using (Collectors.toList()) returns an empty list.</p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1525879852,"creation_date":1525879852,"answer_id":50257061,"question_id":50256720,"body_markdown":"This is not dependent on `Stream.collect`, but on the individual [`Collector`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html). `Collectors.toList()` will return an empty `ArrayList`.\r\n\r\nThat said, there&#39;s no reason someone couldn&#39;t use a weird `Collector` to return null in certain circumstances:\r\n\r\n    .collect(\r\n        Collector.of(\r\n            ArrayList::new,\r\n            ArrayList::add,\r\n            (a, b) -&gt; {\r\n                a.addAll(b);\r\n                return a;\r\n            },\r\n            a -&gt; a.isEmpty() ? null : a  // finisher replaces empty list with null\r\n        )\r\n    );\r\n\r\nSo the `Collector` is the thing you need to remember to check. I believe all of the [`Collectors` available out-of-the-box](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html) will return empty collections, as you&#39;d expect.","title":"Can Java&#39;s Stream.collect() return null?","body":"<p>This is not dependent on <code>Stream.collect</code>, but on the individual <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html\" rel=\"noreferrer\"><code>Collector</code></a>. <code>Collectors.toList()</code> will return an empty <code>ArrayList</code>.</p>\n\n<p>That said, there's no reason someone couldn't use a weird <code>Collector</code> to return null in certain circumstances:</p>\n\n<pre><code>.collect(\n    Collector.of(\n        ArrayList::new,\n        ArrayList::add,\n        (a, b) -&gt; {\n            a.addAll(b);\n            return a;\n        },\n        a -&gt; a.isEmpty() ? null : a  // finisher replaces empty list with null\n    )\n);\n</code></pre>\n\n<p>So the <code>Collector</code> is the thing you need to remember to check. I believe all of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"noreferrer\"><code>Collectors</code> available out-of-the-box</a> will return empty collections, as you'd expect.</p>\n"},{"tags":[],"owner":{"account_id":63444,"reputation":7018,"user_id":187808,"accept_rate":100,"display_name":"Tamas Rev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1525880927,"creation_date":1525880927,"answer_id":50257396,"question_id":50256720,"body_markdown":"I think this part of the documentation says that it cannot be null:\r\n\r\n&gt; Returns a Collector that accumulates the input elements into a **ne**w\r\n&gt; **List**.\r\n\r\n**Highlights** added by me. I think this **new List** means that something that isn&#39;t null.\r\n\r\nI started to check `ReferencePipeline.collect()` to check whether it&#39;s true for the actual implementation. Unfortunately, it was a futile attempt. There are so many cases here, like is it parallel? is it after a `forEach`? etc.","title":"Can Java&#39;s Stream.collect() return null?","body":"<p>I think this part of the documentation says that it cannot be null:</p>\n\n<blockquote>\n  <p>Returns a Collector that accumulates the input elements into a <strong>ne</strong>w\n  <strong>List</strong>.</p>\n</blockquote>\n\n<p><strong>Highlights</strong> added by me. I think this <strong>new List</strong> means that something that isn't null.</p>\n\n<p>I started to check <code>ReferencePipeline.collect()</code> to check whether it's true for the actual implementation. Unfortunately, it was a futile attempt. There are so many cases here, like is it parallel? is it after a <code>forEach</code>? etc.</p>\n"},{"tags":[],"owner":{"account_id":14060187,"reputation":29,"user_id":10156461,"display_name":"Romio Ranjan Sahoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599408198,"creation_date":1599317575,"answer_id":63755244,"question_id":50256720,"body_markdown":"No collect will never return null, in order to check use `isEmpty()` instead of null","title":"Can Java&#39;s Stream.collect() return null?","body":"<p>No collect will never return null, in order to check use <code>isEmpty()</code> instead of null</p>\n"},{"tags":[],"owner":{"account_id":262364,"reputation":2977,"user_id":547185,"accept_rate":43,"display_name":"AHHP"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1607261366,"creation_date":1607261366,"answer_id":65168618,"question_id":50256720,"body_markdown":"You could use `Collectors::collectingAndThen` to pass collect() result to a `Function&lt;T,R&gt;`. Return value of the `Function&lt;T,R&gt;` will be return value of collect().\r\n```java\r\nList&lt;String&gt; filteredList = inputList.stream()\r\n .filter(c -&gt; c.isActive())\r\n .collect(Collectors.collectingAndThen(Collectors.toList(), c -&gt; !c.isEmpty()?c:null));","title":"Can Java&#39;s Stream.collect() return null?","body":"<p>You could use <code>Collectors::collectingAndThen</code> to pass collect() result to a <code>Function&lt;T,R&gt;</code>. Return value of the <code>Function&lt;T,R&gt;</code> will be return value of collect().</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; filteredList = inputList.stream()\n .filter(c -&gt; c.isActive())\n .collect(Collectors.collectingAndThen(Collectors.toList(), c -&gt; !c.isEmpty()?c:null));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23184525,"reputation":11,"user_id":17281859,"display_name":"user17281859"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635526383,"creation_date":1635526383,"answer_id":69772380,"question_id":50256720,"body_markdown":"I believe the following code is a good implementation if you really need to return null when the list is empty (assuming the type of the variable `c` is `MyObj`):\r\n\r\n```\r\nimport static java.util.stream.Collectors.collectingAndThen;\r\nimport static java.util.stream.Collectors.toList;\r\n\r\n...\r\n\r\n  List&lt;String&gt; filteredList = inputList.stream()\r\n    .filter(MyObj::isActive)\r\n    .collect(collectingAndThen(toList(), Stream::of)\r\n    .filter(List::isEmpty)\r\n    .findAny()\r\n    .orElse(null);\r\n```","title":"Can Java&#39;s Stream.collect() return null?","body":"<p>I believe the following code is a good implementation if you really need to return null when the list is empty (assuming the type of the variable <code>c</code> is <code>MyObj</code>):</p>\n<pre><code>import static java.util.stream.Collectors.collectingAndThen;\nimport static java.util.stream.Collectors.toList;\n\n...\n\n  List&lt;String&gt; filteredList = inputList.stream()\n    .filter(MyObj::isActive)\n    .collect(collectingAndThen(toList(), Stream::of)\n    .filter(List::isEmpty)\n    .findAny()\n    .orElse(null);\n</code></pre>\n"}],"owner":{"account_id":15978,"reputation":9755,"user_id":34372,"accept_rate":62,"display_name":"Dean Schulze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71591,"favorite_count":0,"down_vote_count":1,"up_vote_count":56,"accepted_answer_id":50256753,"answer_count":7,"score":55,"last_activity_date":1635526383,"creation_date":1525878777,"question_id":50256720,"body_markdown":"The JavaDoc for Stream.collect() says that it returns &quot;the result of the reduction&quot;.  That doesn&#39;t tell me if code like this can return null for `filteredList`:\r\n\r\n    List&lt;String&gt; filteredList = inputList.stream()\r\n        .filter(c -&gt; c.isActive())\r\n        .collect(Collectors.toList());\r\n\r\nI would expect that if it could return null then it would return an `Optional`, but it doesn&#39;t say that either.\r\n\r\nIs it documented anywhere whether `Stream.collect()` can return null?","title":"Can Java&#39;s Stream.collect() return null?","body":"<p>The JavaDoc for Stream.collect() says that it returns &quot;the result of the reduction&quot;.  That doesn't tell me if code like this can return null for <code>filteredList</code>:</p>\n<pre><code>List&lt;String&gt; filteredList = inputList.stream()\n    .filter(c -&gt; c.isActive())\n    .collect(Collectors.toList());\n</code></pre>\n<p>I would expect that if it could return null then it would return an <code>Optional</code>, but it doesn't say that either.</p>\n<p>Is it documented anywhere whether <code>Stream.collect()</code> can return null?</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":119946,"reputation":4761,"user_id":312041,"display_name":"tym32167"},"score":3,"creation_date":1635524553,"post_id":69772051,"comment_id":123330352,"body_markdown":"why dont use enum for that purpose?","body":"why dont use enum for that purpose?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1635524617,"post_id":69772051,"comment_id":123330374,"body_markdown":"No, there is not possible besides using reflection or manually mapping all options.","body":"No, there is not possible besides using reflection or manually mapping all options."},{"owner":{"account_id":2818342,"reputation":299866,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1635524722,"post_id":69772051,"comment_id":123330410,"body_markdown":"Why not use an actual enum?","body":"Why not use an actual enum?"}],"answers":[{"tags":[],"owner":{"account_id":1425811,"reputation":10732,"user_id":1349366,"display_name":"Aivean"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635526164,"creation_date":1635525797,"answer_id":69772288,"question_id":69772051,"body_markdown":"Technically, there is, using reflection:\r\n\r\n```java\r\n    String getConstantName(int value) {\r\n        // use reflection to check all fields of NUMS\r\n        for (Field f : NUMS.class.getFields()) {\r\n            try {\r\n                if (f.getInt(null) == value) {\r\n                    return f.getName();\r\n                }\r\n            } catch (IllegalAccessException e) {\r\n                // ignore\r\n            }\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n```\r\n\r\nBut this is just for education purposes, please don&#39;t use approaches like this in real code. As other people suggested, just use an `enum`.","title":"How to get member name from Interface that acts at Enum, Java","body":"<p>Technically, there is, using reflection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String getConstantName(int value) {\n        // use reflection to check all fields of NUMS\n        for (Field f : NUMS.class.getFields()) {\n            try {\n                if (f.getInt(null) == value) {\n                    return f.getName();\n                }\n            } catch (IllegalAccessException e) {\n                // ignore\n            }\n        }\n        return &quot;&quot;;\n    }\n</code></pre>\n<p>But this is just for education purposes, please don't use approaches like this in real code. As other people suggested, just use an <code>enum</code>.</p>\n"}],"owner":{"account_id":13653414,"reputation":176,"user_id":9850636,"display_name":"BOB123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69772288,"answer_count":1,"score":0,"last_activity_date":1635526164,"creation_date":1635524472,"question_id":69772051,"body_markdown":"Say I&#39;m having the following Interface :\r\n\r\n    public interface NUMS {\r\n      public static final int ZERO = 0;\r\n      public static final int ONE = 1;\r\n      public static final int TWO = 2;\r\n     }\r\n\r\nThen I have a function that returns int between 0-2.\r\nIs there any option to get the member name that the number represents in the Interface?\r\n\r\nex:\r\n\r\nfunctions return 1, I want to map it back to ONE, without using Map/Array.\r\n\r\n\r\n\r\nThanks!\r\n","title":"How to get member name from Interface that acts at Enum, Java","body":"<p>Say I'm having the following Interface :</p>\n<pre><code>public interface NUMS {\n  public static final int ZERO = 0;\n  public static final int ONE = 1;\n  public static final int TWO = 2;\n }\n</code></pre>\n<p>Then I have a function that returns int between 0-2.\nIs there any option to get the member name that the number represents in the Interface?</p>\n<p>ex:</p>\n<p>functions return 1, I want to map it back to ONE, without using Map/Array.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-mvc","foreach","nullpointerexception"],"comments":[{"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"score":0,"creation_date":1635524041,"post_id":69771726,"comment_id":123330152,"body_markdown":"There is no reason this piece of Expression language would throw a NullPointerException. Are you sure there isn&#39;t another EL statement that could throw it?","body":"There is no reason this piece of Expression language would throw a NullPointerException. Are you sure there isn&#39;t another EL statement that could throw it?"},{"owner":{"account_id":23139822,"reputation":1,"user_id":17243491,"display_name":"Oscar"},"score":0,"creation_date":1635525376,"post_id":69771726,"comment_id":123330656,"body_markdown":"Yes, I am sure, I did debug and test, I dont&#180;n know why, but any jstl tag don&#180;t work.","body":"Yes, I am sure, I did debug and test, I dont&#180;n know why, but any jstl tag don&#180;t work."}],"owner":{"account_id":23139822,"reputation":1,"user_id":17243491,"display_name":"Oscar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635526158,"creation_date":1635522896,"question_id":69771726,"body_markdown":"I am using spring 5.3.7, and in my JSP  I added the line below \r\n\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\r\n\r\nWhen I start my application, Its responde the error below\r\n\r\n&gt; [10/29/21 10:23:38:455 CDT] 000000c8 ServletWrappe E\r\n&gt; com.ibm.ws.webcontainer.servlet.ServletWrapper service SRVE0068E: An\r\n&gt; exception was thrown by one of the service methods of the servlet\r\n&gt; [/WEB-INF/jsp/private/inicio.jsp] in application [MyApplication].\r\n&gt; Exception created : [java.lang.NullPointerException \tat\r\n&gt; org.apache.jasper.el.JspValueExpression.getValue(JspValueExpression.java:106)\r\n&gt; \tat com.ibm._jsp._main._jspx_meth_c_forEach_0(_main.java:1225) \tat\r\n&gt; com.ibm._jsp._main._jspService(_main.java:358).\r\n\r\nThe object response has data, I validated it, but for testing I add the line below, but the error continues.\r\n\r\n    &lt;c:forEach var = &quot;i&quot; items=&quot;1,4,5,6,7,8,9&quot;&gt; \r\n    \r\n      Item &lt;c:out value = &quot;No. ${i}&quot;/&gt;&lt;p&gt; \r\n    \r\n    &lt;/c:forEach&gt;\r\n\r\nAlso, I have below dependency in my pom.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNote. This issue is only with JSTL Tags, if I remove the code of JSTL, my application start without problems.\r\n\r\nI hope someone can help me, thanks for reading.","title":"JSTL Library Tags Error, NullPointerException","body":"<p>I am using spring 5.3.7, and in my JSP  I added the line below</p>\n<pre><code>&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot;%&gt;\n</code></pre>\n<p>When I start my application, Its responde the error below</p>\n<blockquote>\n<p>[10/29/21 10:23:38:455 CDT] 000000c8 ServletWrappe E\ncom.ibm.ws.webcontainer.servlet.ServletWrapper service SRVE0068E: An\nexception was thrown by one of the service methods of the servlet\n[/WEB-INF/jsp/private/inicio.jsp] in application [MyApplication].\nException created : [java.lang.NullPointerException   at\norg.apache.jasper.el.JspValueExpression.getValue(JspValueExpression.java:106)\nat com.ibm._jsp._main._jspx_meth_c_forEach_0(_main.java:1225)   at\ncom.ibm._jsp._main._jspService(_main.java:358).</p>\n</blockquote>\n<p>The object response has data, I validated it, but for testing I add the line below, but the error continues.</p>\n<pre><code>&lt;c:forEach var = &quot;i&quot; items=&quot;1,4,5,6,7,8,9&quot;&gt; \n\n  Item &lt;c:out value = &quot;No. ${i}&quot;/&gt;&lt;p&gt; \n\n&lt;/c:forEach&gt;\n</code></pre>\n<p>Also, I have below dependency in my pom.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n  &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note. This issue is only with JSTL Tags, if I remove the code of JSTL, my application start without problems.</p>\n<p>I hope someone can help me, thanks for reading.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635340204,"creation_date":1635340204,"answer_id":69739313,"question_id":69739146,"body_markdown":"Use MaterialButton instead of Button. MaterialButton is a subtype of Button that supports additional features. The Button that is in your XML layout is actually a MaterialButton if you&#39;re using a Material Components theme. The theme automatically swaps out Buttons for MaterialButtons when your XML is inflated. So, when dynamically creating buttons in your Java code, you must use MaterialButton if you want it to match the original.\r\n\r\nAlso, when using MaterialButton, never call `setBackground()` because this causes undefined behavior. It likely will prevent the ripple effect from occurring as well.\r\n\r\nAlternatively, you can define your Button in its own XML file, even with the layout params it needs for LinearLayout. Then inflate the XML each time you need another button.\r\n\r\n```\r\nfor(String text : readFromSharedPreferences) {\r\n    Button btn = requireContext().getLayoutInflater()\r\n        .inflate(R.layout.my_button, layout, true); // true adds it to layout\r\n    btn.setText(text);\r\n    btn.setTag(text);\r\n}\r\n```","title":"Adding basic click animation to dynamic buttons","body":"<p>Use MaterialButton instead of Button. MaterialButton is a subtype of Button that supports additional features. The Button that is in your XML layout is actually a MaterialButton if you're using a Material Components theme. The theme automatically swaps out Buttons for MaterialButtons when your XML is inflated. So, when dynamically creating buttons in your Java code, you must use MaterialButton if you want it to match the original.</p>\n<p>Also, when using MaterialButton, never call <code>setBackground()</code> because this causes undefined behavior. It likely will prevent the ripple effect from occurring as well.</p>\n<p>Alternatively, you can define your Button in its own XML file, even with the layout params it needs for LinearLayout. Then inflate the XML each time you need another button.</p>\n<pre><code>for(String text : readFromSharedPreferences) {\n    Button btn = requireContext().getLayoutInflater()\n        .inflate(R.layout.my_button, layout, true); // true adds it to layout\n    btn.setText(text);\n    btn.setTag(text);\n}\n</code></pre>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635526112,"creation_date":1635339470,"question_id":69739146,"body_markdown":"I have a simple button that looks like:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:tag=&quot;general&quot;\r\n    android:id=&quot;@+id/root&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:background=&quot;#343535&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.fragments.GeneralFragment&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/hello&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:gravity=&quot;center_vertical&quot;\r\n        android:onClick=&quot;onClick&quot;\r\n        android:text=&quot;@string/hello&quot; /&gt;\r\n```\r\n\r\nInstead of static, these buttons should now be dynamic\r\n\r\n```java  \r\nButton button = (Button) layout.getChildAt(0);\r\nfor(String text : readFromSharedPreferences) {\r\n        // Set the layout\r\n        Button btn = new Button(this.getContext());\r\n        btn.setTextAlignment(View.TEXT_ALIGNMENT_TEXT_START);\r\n        btn.setText(text);\r\n        btn.setTag(text);\r\n        btn.setLayoutParams(button.getLayoutParams());\r\n        btn.setBackground(button.getBackground());\r\n        layout.addView(btn);\r\n```\r\nThe static button has an animation when I click on it. That looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut the dynamic button has no animation. So when I click on it, nothing happens. That looks like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow can I add this animation to my dynamic buttons?\r\n\r\nUpdate\r\n------\r\nI have figured out that my loop contains an on-touch listener. That looks like this:\r\n```java\r\nbtn.setOnTouchListener(new OnSwipeTouchListener(getContext()) {\r\n    // No code in here\r\n});\r\n```\r\nIf I remove that listener (even if it contains no code), the animation works great but I would like to keep it, because of my swipe function that is placed into it.\r\n\r\nThat is my whole code:\r\n\r\n```java\r\n// Swiping to link\r\nbtn.setOnTouchListener(new OnSwipeTouchListener(getContext()) {\r\n    @Override\r\n    public void onSwipeLeft() {\r\n        super.onSwipeLeft();\r\n\r\n        // Alert to ask\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\r\n        builder.setTitle(&quot;Delete&quot;);\r\n        builder.setMessage(&quot;Do you want to delete?&quot;);\r\n        // Delete\r\n        builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {\r\n            // Set the SharedPreferences as String\r\n            ArrayList&lt;String&gt; currentSharedPreferences = readFromSharedPreferences(getContext());\r\n            currentSharedPreferences.remove(btn.getTag().toString());\r\n            Gson gson = new Gson();\r\n            String currentSharedPreferencesAsText = gson.toJson(currentSharedPreferences);\r\n\r\n            // Update the SharedPreference k-text\r\n            SharedPreferences mPrefs = getContext().getSharedPreferences(&quot;k-texts&quot;, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor prefsEditor = mPrefs.edit();\r\n            prefsEditor.putString(&quot;k-text&quot;, currentSharedPreferencesAsText);\r\n            prefsEditor.apply();\r\n\r\n            // Start the animation\r\n            btn.animate()\r\n                    .translationX(-btn.getWidth())\r\n                    .alpha(0.0f)\r\n                    .setDuration(300)\r\n                    .setListener(new AnimatorListenerAdapter() {\r\n                        @Override\r\n                        public void onAnimationEnd(Animator animation) {\r\n                            super.onAnimationEnd(animation);\r\n                            btn.clearAnimation();\r\n                            btn.setVisibility(View.GONE);\r\n                            Snackbar.make(view, &quot;Entry deleted.&quot;, Snackbar.LENGTH_LONG).setAction(&quot;Delete&quot;, null).show();\r\n                        }\r\n                    });\r\n        });\r\n        // Cancel\r\n        builder.setNegativeButton(&quot;No&quot;, (dialog, which) -&gt; {\r\n            // Silence is golden\r\n        });\r\n\r\n        builder.show();\r\n    }\r\n\r\n    @Override\r\n    public void onClick() {\r\n        MainActivity mainActivity = new MainActivity();\r\n        Tts tts = new Tts(getContext(), _mediaPlayer, mainActivity.barTop, mainActivity.barBottom);\r\n        try {\r\n            tts.say(btn.getTag().toString());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n});\r\n```\r\nWell I could use \r\n```java\r\n@Override\r\npublic boolean onTouch(View view, MotionEvent motionEvent) {\r\n    return false;\r\n}\r\n```\r\nThen the animation will work but `onClick()` wouldn&#39;t work anymore.\r\n\r\nAnother update\r\n--------------\r\nI had a similar problem on another view. There my **static button** was not having a click effect. Then I have just simply added `android:foreground=&quot;?attr/selectableItemBackground&quot;` and it worked! The same way I have just tried with my dynamic button. So I have added `btn.setForeground(button.getForeground());` but that doesn&#39;t do anything.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Su87W.gif\r\n  [2]: https://i.stack.imgur.com/iNIPR.gif","title":"Adding basic click animation to dynamic buttons","body":"<p>I have a simple button that looks like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:tag=&quot;general&quot;\n    android:id=&quot;@+id/root&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;#343535&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.fragments.GeneralFragment&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/hello&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:gravity=&quot;center_vertical&quot;\n        android:onClick=&quot;onClick&quot;\n        android:text=&quot;@string/hello&quot; /&gt;\n</code></pre>\n<p>Instead of static, these buttons should now be dynamic</p>\n<pre class=\"lang-java prettyprint-override\"><code>Button button = (Button) layout.getChildAt(0);\nfor(String text : readFromSharedPreferences) {\n        // Set the layout\n        Button btn = new Button(this.getContext());\n        btn.setTextAlignment(View.TEXT_ALIGNMENT_TEXT_START);\n        btn.setText(text);\n        btn.setTag(text);\n        btn.setLayoutParams(button.getLayoutParams());\n        btn.setBackground(button.getBackground());\n        layout.addView(btn);\n</code></pre>\n<p>The static button has an animation when I click on it. That looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Su87W.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Su87W.gif\" alt=\"enter image description here\" /></a></p>\n<p>But the dynamic button has no animation. So when I click on it, nothing happens. That looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/iNIPR.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iNIPR.gif\" alt=\"enter image description here\" /></a></p>\n<p>How can I add this animation to my dynamic buttons?</p>\n<h2>Update</h2>\n<p>I have figured out that my loop contains an on-touch listener. That looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>btn.setOnTouchListener(new OnSwipeTouchListener(getContext()) {\n    // No code in here\n});\n</code></pre>\n<p>If I remove that listener (even if it contains no code), the animation works great but I would like to keep it, because of my swipe function that is placed into it.</p>\n<p>That is my whole code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Swiping to link\nbtn.setOnTouchListener(new OnSwipeTouchListener(getContext()) {\n    @Override\n    public void onSwipeLeft() {\n        super.onSwipeLeft();\n\n        // Alert to ask\n        AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\n        builder.setTitle(&quot;Delete&quot;);\n        builder.setMessage(&quot;Do you want to delete?&quot;);\n        // Delete\n        builder.setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {\n            // Set the SharedPreferences as String\n            ArrayList&lt;String&gt; currentSharedPreferences = readFromSharedPreferences(getContext());\n            currentSharedPreferences.remove(btn.getTag().toString());\n            Gson gson = new Gson();\n            String currentSharedPreferencesAsText = gson.toJson(currentSharedPreferences);\n\n            // Update the SharedPreference k-text\n            SharedPreferences mPrefs = getContext().getSharedPreferences(&quot;k-texts&quot;, Context.MODE_PRIVATE);\n            SharedPreferences.Editor prefsEditor = mPrefs.edit();\n            prefsEditor.putString(&quot;k-text&quot;, currentSharedPreferencesAsText);\n            prefsEditor.apply();\n\n            // Start the animation\n            btn.animate()\n                    .translationX(-btn.getWidth())\n                    .alpha(0.0f)\n                    .setDuration(300)\n                    .setListener(new AnimatorListenerAdapter() {\n                        @Override\n                        public void onAnimationEnd(Animator animation) {\n                            super.onAnimationEnd(animation);\n                            btn.clearAnimation();\n                            btn.setVisibility(View.GONE);\n                            Snackbar.make(view, &quot;Entry deleted.&quot;, Snackbar.LENGTH_LONG).setAction(&quot;Delete&quot;, null).show();\n                        }\n                    });\n        });\n        // Cancel\n        builder.setNegativeButton(&quot;No&quot;, (dialog, which) -&gt; {\n            // Silence is golden\n        });\n\n        builder.show();\n    }\n\n    @Override\n    public void onClick() {\n        MainActivity mainActivity = new MainActivity();\n        Tts tts = new Tts(getContext(), _mediaPlayer, mainActivity.barTop, mainActivity.barBottom);\n        try {\n            tts.say(btn.getTag().toString());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n});\n</code></pre>\n<p>Well I could use</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean onTouch(View view, MotionEvent motionEvent) {\n    return false;\n}\n</code></pre>\n<p>Then the animation will work but <code>onClick()</code> wouldn't work anymore.</p>\n<h2>Another update</h2>\n<p>I had a similar problem on another view. There my <strong>static button</strong> was not having a click effect. Then I have just simply added <code>android:foreground=&quot;?attr/selectableItemBackground&quot;</code> and it worked! The same way I have just tried with my dynamic button. So I have added <code>btn.setForeground(button.getForeground());</code> but that doesn't do anything.</p>\n"},{"tags":["java","eclipse-rcp","nattable"],"answers":[{"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635505913,"creation_date":1635505913,"answer_id":69767902,"question_id":69767252,"body_markdown":"First, of course with that code the horizontal scrollbar is not coming, you did not set the style bit to include a horizontal scrollbar. You should leave the default style bits in place and let NatTable do the necessary actions.\r\n\r\nSecond, you are not providing enough information on your setup. Are you using percentage sized columns? What are you triggering to delete a row? Is it a custom command or the NatTable default command?\r\n\r\nWhat I know is that there is an issue with percentage sizing and setting the scrollbar invisible because that does not trigger a resize on the Composite. Feel free to create a ticket so I can have a look at this.","title":"Table resizing and occupy the space left by vertical scrollbar","body":"<p>First, of course with that code the horizontal scrollbar is not coming, you did not set the style bit to include a horizontal scrollbar. You should leave the default style bits in place and let NatTable do the necessary actions.</p>\n<p>Second, you are not providing enough information on your setup. Are you using percentage sized columns? What are you triggering to delete a row? Is it a custom command or the NatTable default command?</p>\n<p>What I know is that there is an issue with percentage sizing and setting the scrollbar invisible because that does not trigger a resize on the Composite. Feel free to create a ticket so I can have a look at this.</p>\n"}],"owner":{"account_id":22581587,"reputation":7,"user_id":16766157,"display_name":"Ashray M V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69767902,"answer_count":1,"score":0,"last_activity_date":1635525475,"creation_date":1635502699,"question_id":69767252,"body_markdown":"I want the table to resize and occupy the space left by vertical scrollbar when I delete the rows.\r\n\r\nThis is the table with vertical scrollbar:\r\n\r\n![][1]\r\n\r\nAnd when I delete the rows, then I get this the table without vertical scrollbar:\r\n\r\n![][2].\r\n\r\nI tried using \r\n```\r\nnatTable natTable = new NatTable(panel, SWT.NO_BACKGROUND | SWT.NO_REDRAW_RESIZE | SWT.DOUBLE_BUFFERED | SWT.V_SCROLL);\r\n```\r\nand was working fine but the horizontal scrollbar was not coming even after I tried to set it from the viewportlayer.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NMe8C.png\r\n  [2]: https://i.stack.imgur.com/vD2F7.png","title":"Table resizing and occupy the space left by vertical scrollbar","body":"<p>I want the table to resize and occupy the space left by vertical scrollbar when I delete the rows.</p>\n<p>This is the table with vertical scrollbar:</p>\n<p><img src=\"https://i.stack.imgur.com/NMe8C.png\" alt=\"\" /></p>\n<p>And when I delete the rows, then I get this the table without vertical scrollbar:</p>\n<p><img src=\"https://i.stack.imgur.com/vD2F7.png\" alt=\"\" />.</p>\n<p>I tried using</p>\n<pre><code>natTable natTable = new NatTable(panel, SWT.NO_BACKGROUND | SWT.NO_REDRAW_RESIZE | SWT.DOUBLE_BUFFERED | SWT.V_SCROLL);\n</code></pre>\n<p>and was working fine but the horizontal scrollbar was not coming even after I tried to set it from the viewportlayer.</p>\n"},{"tags":["java","android","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635345854,"creation_date":1635345854,"answer_id":69740786,"question_id":69740689,"body_markdown":"You need the closing `&lt;/manifest&gt;` tag under the `&lt;/application&gt;`:\r\n\r\n       (...)\r\n       &lt;/application&gt;\r\n    &lt;/manifest&gt;","title":"XML document structures must start and end within the same entity?","body":"<p>You need the closing <code>&lt;/manifest&gt;</code> tag under the <code>&lt;/application&gt;</code>:</p>\n<pre><code>   (...)\n   &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22109886,"reputation":208,"user_id":16364947,"display_name":"AshishVE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635348674,"creation_date":1635348674,"answer_id":69741493,"question_id":69740689,"body_markdown":"Close the manifest tag after application tag. \r\n\r\n`&lt;/application&gt;&lt;/manifest&gt;`\r\n\r\n    android:icon=&quot;@drawable/ic_launcher&quot;  // check in drawable folder under res whether the default image ic_launcher is present or not. That is the default icon for your application. \r\n\r\n","title":"XML document structures must start and end within the same entity?","body":"<p>Close the manifest tag after application tag.</p>\n<p><code>&lt;/application&gt;&lt;/manifest&gt;</code></p>\n<pre><code>android:icon=&quot;@drawable/ic_launcher&quot;  // check in drawable folder under res whether the default image ic_launcher is present or not. That is the default icon for your application. \n</code></pre>\n"},{"tags":[],"owner":{"account_id":16043004,"reputation":1,"user_id":11578944,"display_name":"MatthewC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635525280,"creation_date":1635525280,"answer_id":69772202,"question_id":69740689,"body_markdown":"You are missing `&lt;/manifest&gt;` on the last line. It&#39;s also likely that `android:icon=&quot;@drawable/ic_launcher&quot;` should be changed to `android:icon=&quot;@mipmap/ic_launcher&quot;`. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;com.example.4&quot; &gt;\r\n    \r\n        &lt;application\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n    \r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;","title":"XML document structures must start and end within the same entity?","body":"<p>You are missing <code>&lt;/manifest&gt;</code> on the last line. It's also likely that <code>android:icon=&quot;@drawable/ic_launcher&quot;</code> should be changed to <code>android:icon=&quot;@mipmap/ic_launcher&quot;</code>.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.4&quot; &gt;\n\n    &lt;application\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:theme=&quot;@style/AppTheme&quot; &gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"}],"owner":{"account_id":22842350,"reputation":1,"user_id":16989141,"display_name":"Mohammed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1635525280,"creation_date":1635345515,"question_id":69740689,"body_markdown":"What is the problem? \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.4&quot; &gt;\r\n\r\n    &lt;application\r\n        android:icon=&quot;@drawable/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot; &gt;\r\n        &lt;receiver android:name=&quot;.MainActivity&quot;\r\n            tools:ignore=&quot;IntentFilterExportedReceiver&quot;&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;&gt;\r\n\r\n                &lt;/action&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n    &lt;/application&gt;\r\n```","title":"XML document structures must start and end within the same entity?","body":"<p>What is the problem?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.4&quot; &gt;\n\n    &lt;application\n        android:icon=&quot;@drawable/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:theme=&quot;@style/AppTheme&quot; &gt;\n        &lt;receiver android:name=&quot;.MainActivity&quot;\n            tools:ignore=&quot;IntentFilterExportedReceiver&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;&gt;\n\n                &lt;/action&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n</code></pre>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":3,"creation_date":1306384918,"post_id":6133737,"comment_id":7119169,"body_markdown":"Please describe your `TableModel`.","body":"Please describe your <code>TableModel</code>."}],"answers":[{"tags":[],"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1306385145,"creation_date":1306385145,"answer_id":6133788,"question_id":6133737,"body_markdown":"If you&#39;re using DefaultTableModel, set [column count][1] to zero.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/swing/table/DefaultTableModel.html#setColumnCount%28int%29","title":"How to remove all columns from JTable?","body":"<p>If you're using DefaultTableModel, set <a href=\"http://download.oracle.com/javase/6/docs/api/javax/swing/table/DefaultTableModel.html#setColumnCount%28int%29\">column count</a> to zero.</p>\n"},{"tags":[],"owner":{"account_id":7786675,"reputation":610,"user_id":5891226,"accept_rate":20,"display_name":"Chetan Bhagat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1472882612,"creation_date":1472882612,"answer_id":39303772,"question_id":6133737,"body_markdown":"&gt;Faster Way::Dynamic Remove all the Column on JTable\r\n\r\n    //JTable variable name is jTable1_info....\r\n\tmodel_info=(DefaultTableModel)jTable1_info.getModel();\r\n\t//Clear all the column name on jtable jpanel-4\r\n    model_info.setColumnCount(0);\r\nBefore code on this Example\r\n     \r\n    //import the DefaultTableModel\r\n\timport javax.swing.table.DefaultTableModel;\r\n\t\r\n\tpublic final class homepage extends javax.swing.JFrame implements ActionListener\r\n\t{\r\n\t\tDefaultTableModel model_info;\r\n\t\tpublic homepage() throws InterruptedException\r\n\t\t{\r\n\t\t\tinitComponents();\r\n\t\t\tcreate_column();//call method create jtable column names                \r\n\t\t}\r\n\t}\r\n\tprivate void create_column()\r\n\t{\r\n\t\tmodel_info=(DefaultTableModel)jTable1_info.getModel();\r\n\t\tmodel_info.addColumn(&quot;Column_Name&quot;);\r\n\t\tmodel_info.addColumn(&quot;Column_type&quot;);\r\n\t\tmodel_info.addColumn(&quot;Column_size&quot;);        \r\n\t}\r\n\r\n","title":"How to remove all columns from JTable?","body":"<blockquote>\n  <p>Faster Way::Dynamic Remove all the Column on JTable</p>\n</blockquote>\n\n<pre><code>//JTable variable name is jTable1_info....\nmodel_info=(DefaultTableModel)jTable1_info.getModel();\n//Clear all the column name on jtable jpanel-4\nmodel_info.setColumnCount(0);\n</code></pre>\n\n<p>Before code on this Example</p>\n\n<pre><code>//import the DefaultTableModel\nimport javax.swing.table.DefaultTableModel;\n\npublic final class homepage extends javax.swing.JFrame implements ActionListener\n{\n    DefaultTableModel model_info;\n    public homepage() throws InterruptedException\n    {\n        initComponents();\n        create_column();//call method create jtable column names                \n    }\n}\nprivate void create_column()\n{\n    model_info=(DefaultTableModel)jTable1_info.getModel();\n    model_info.addColumn(\"Column_Name\");\n    model_info.addColumn(\"Column_type\");\n    model_info.addColumn(\"Column_size\");        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5782237,"reputation":11,"user_id":4562498,"display_name":"Adoliu Alexandru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584717107,"creation_date":1584625532,"answer_id":60758525,"question_id":6133737,"body_markdown":"            TableColumnModel cm = jTableThatUCreated.getColumnModel();\r\n            while (cm.getColumnCount()!=0) {                \r\n                TableColumn column = cm.getColumn(0);\r\n                cm.removeColumn(column);\r\n            }\r\n\r\nJava 7 doesnt setColumnNumber(0) as previous answers.","title":"How to remove all columns from JTable?","body":"<pre><code>        TableColumnModel cm = jTableThatUCreated.getColumnModel();\n        while (cm.getColumnCount()!=0) {                \n            TableColumn column = cm.getColumn(0);\n            cm.removeColumn(column);\n        }\n</code></pre>\n\n<p>Java 7 doesnt setColumnNumber(0) as previous answers.</p>\n"},{"tags":[],"owner":{"account_id":20600216,"reputation":1,"user_id":15121640,"display_name":"Phước Sang Huỳnh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635524815,"creation_date":1635502939,"answer_id":69767305,"question_id":6133737,"body_markdown":"this is my solution:\r\n\r\n    dtf = (DefaultTableModel) table.getModel();\r\n    for (int i = table.getRowCount()-1; i &gt;=0 ; i--) {\r\n        dtf.removeRow(i);\r\n    }\r\n    table.setModel(dtf);","title":"How to remove all columns from JTable?","body":"<p>this is my solution:</p>\n<pre><code>dtf = (DefaultTableModel) table.getModel();\nfor (int i = table.getRowCount()-1; i &gt;=0 ; i--) {\n    dtf.removeRow(i);\n}\ntable.setModel(dtf);\n</code></pre>\n"}],"owner":{"account_id":230823,"reputation":4731,"user_id":494657,"accept_rate":88,"display_name":"BILL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6734,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39303772,"answer_count":4,"score":5,"last_activity_date":1635524815,"creation_date":1306384605,"question_id":6133737,"body_markdown":"How to remove all columns? Thanks.","title":"How to remove all columns from JTable?","body":"<p>How to remove all columns? Thanks.</p>\n"},{"tags":["java","cdi"],"comments":[{"owner":{"account_id":5965676,"reputation":629,"user_id":4689521,"display_name":"M4V3N"},"score":0,"creation_date":1635506755,"post_id":69767665,"comment_id":123322969,"body_markdown":"yes, it&#39;s javax.sql.DataSource and no, I am not using Spring","body":"yes, it&#39;s javax.sql.DataSource and no, I am not using Spring"}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635524519,"creation_date":1635524519,"answer_id":69772062,"question_id":69767665,"body_markdown":"First things first your library needs a datasource, let&#39;s declare the dependency:\r\n\r\n```java\r\npublic class MyLibraryDao {\r\n   @Inject\r\n   protected DataSource dataSource;\r\n}\r\n```\r\n\r\nNow the rest of the application that is using the library is responsible to provide a datasource to CDI; a simple way is:\r\n\r\n```java\r\n// Example; your implementation may vary\r\npublic class AppDatasourceProducer {\r\n    private static final DS_NAME = &quot;MY_APP_DS_NAME&quot;;\r\n\r\n    @Resource(name = &quot;default&quot;, lookup = DS_NAME , type = DataSource.class)\r\n    protected DataSource dataSource;\r\n\r\n    @Produces\r\n    @ApplicationScoped\r\n    public DataSource getDatasource() {\r\n        return dataSource;\r\n    }\r\n}\r\n```\r\n\r\nWhat&#39;s changed? Now **your application** is responsible for knowing the datasource name **AND** providing the datasource itself. The example above can work in JEE environments that honor the `@Resource` annotation. Using a different implementation for the provider would work in e.g. a desktop environment (standalone application), making your library reusable.\r\n\r\nThe exact datasource name may be fixed, just like in the example, or read from configuration, e.g. from system properties (like mentioned in a comment); e.g.:\r\n\r\n```java\r\n// Example 2, DS name from system properties\r\n@ApplicationScoped\r\npublic class AppDatasourceProducer {\r\n    protected DataSource dataSource;\r\n\r\n    @PostConstruct\r\n    void init() throws Exception {\r\n        String dsName = System.getProperty(&quot;XXXXX&quot;);\r\n        InitialContext ic = new InitialContext();\r\n        dataSource = (DataSource) ic.lookup(dsName);\r\n    }\r\n\r\n    @Produces\r\n    @ApplicationScoped\r\n    public DataSource getDatasource() {\r\n        return dataSource;\r\n    }\r\n}\r\n```\r\n\r\nGoing further:\r\n\r\n1) An application that uses your library may be using several datasources, for whatever reason. You may want to provide a qualifier to specify the datasource to be used by your app.\r\n2) I used field injection in `MyLibraryDao` for simplicity. If you change to constructor injection then, at least `MyLibraryDao`, will be usable in non-CDI environments as well, i.e. if you have obtained a `DataSource` somehow, you can now do `new MyLibraryDao(datasource)`. Even more reusability.","title":"how to pass a datasource to a library?","body":"<p>First things first your library needs a datasource, let's declare the dependency:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyLibraryDao {\n   @Inject\n   protected DataSource dataSource;\n}\n</code></pre>\n<p>Now the rest of the application that is using the library is responsible to provide a datasource to CDI; a simple way is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Example; your implementation may vary\npublic class AppDatasourceProducer {\n    private static final DS_NAME = &quot;MY_APP_DS_NAME&quot;;\n\n    @Resource(name = &quot;default&quot;, lookup = DS_NAME , type = DataSource.class)\n    protected DataSource dataSource;\n\n    @Produces\n    @ApplicationScoped\n    public DataSource getDatasource() {\n        return dataSource;\n    }\n}\n</code></pre>\n<p>What's changed? Now <strong>your application</strong> is responsible for knowing the datasource name <strong>AND</strong> providing the datasource itself. The example above can work in JEE environments that honor the <code>@Resource</code> annotation. Using a different implementation for the provider would work in e.g. a desktop environment (standalone application), making your library reusable.</p>\n<p>The exact datasource name may be fixed, just like in the example, or read from configuration, e.g. from system properties (like mentioned in a comment); e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Example 2, DS name from system properties\n@ApplicationScoped\npublic class AppDatasourceProducer {\n    protected DataSource dataSource;\n\n    @PostConstruct\n    void init() throws Exception {\n        String dsName = System.getProperty(&quot;XXXXX&quot;);\n        InitialContext ic = new InitialContext();\n        dataSource = (DataSource) ic.lookup(dsName);\n    }\n\n    @Produces\n    @ApplicationScoped\n    public DataSource getDatasource() {\n        return dataSource;\n    }\n}\n</code></pre>\n<p>Going further:</p>\n<ol>\n<li>An application that uses your library may be using several datasources, for whatever reason. You may want to provide a qualifier to specify the datasource to be used by your app.</li>\n<li>I used field injection in <code>MyLibraryDao</code> for simplicity. If you change to constructor injection then, at least <code>MyLibraryDao</code>, will be usable in non-CDI environments as well, i.e. if you have obtained a <code>DataSource</code> somehow, you can now do <code>new MyLibraryDao(datasource)</code>. Even more reusability.</li>\n</ol>\n"}],"owner":{"account_id":5965676,"reputation":629,"user_id":4689521,"display_name":"M4V3N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69772062,"answer_count":1,"score":1,"last_activity_date":1635524519,"creation_date":1635504807,"question_id":69767665,"body_markdown":"I am writing a library which retrieves data from a specific data schema. This library holds a Datasource object which can be anything. Right now I have defined the name of the datasource within the library which I would like to avoid.\r\n\r\n    import javax.sql.DataSource\r\n\r\n    public class MyLibraryDao.java {\r\n       private static final DS_NAME = &quot;MY_DS_NAME&quot;;\r\n\r\n       @Resource(name = &quot;default&quot;, lookup = DS_NAME , type = DataSource.class)\r\n       protected DataSource dataSource;\r\n    }\r\n \r\nThe DAO class is not directly exposed to the client. There is a service layer inbetween:\r\n\r\n    import javax.inject.Inject;\r\n    import javax.enterprise.context.ApplicationScoped;\r\n    import javax.enterprise.inject.Model;\r\n    \r\n    @ApplicationScoped\r\n    @Model\r\n    public class MyLibraryService {\r\n    \r\n        @Inject\r\n        MyLibraryDao dao;\r\n    }\r\n\r\nNow, how would I pass the datasource object to the library?\r\n\r\nI assume I need to create a constructor in the DAO with takes a DataSource but what about the service? \r\nThe library will be used in a CDI environment.\r\n\r\n","title":"how to pass a datasource to a library?","body":"<p>I am writing a library which retrieves data from a specific data schema. This library holds a Datasource object which can be anything. Right now I have defined the name of the datasource within the library which I would like to avoid.</p>\n<pre><code>import javax.sql.DataSource\n\npublic class MyLibraryDao.java {\n   private static final DS_NAME = &quot;MY_DS_NAME&quot;;\n\n   @Resource(name = &quot;default&quot;, lookup = DS_NAME , type = DataSource.class)\n   protected DataSource dataSource;\n}\n</code></pre>\n<p>The DAO class is not directly exposed to the client. There is a service layer inbetween:</p>\n<pre><code>import javax.inject.Inject;\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.enterprise.inject.Model;\n\n@ApplicationScoped\n@Model\npublic class MyLibraryService {\n\n    @Inject\n    MyLibraryDao dao;\n}\n</code></pre>\n<p>Now, how would I pass the datasource object to the library?</p>\n<p>I assume I need to create a constructor in the DAO with takes a DataSource but what about the service?\nThe library will be used in a CDI environment.</p>\n"},{"tags":["java","android-studio","google-play","google-play-console"],"answers":[{"tags":[],"owner":{"account_id":2921308,"reputation":7300,"user_id":2503495,"accept_rate":75,"display_name":"Kuya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635524376,"creation_date":1615363916,"answer_id":66560727,"question_id":65515535,"body_markdown":"The SDK version is the API version. Example OS version 6.0 is API version 23\r\n\r\nSo if you only want your app to run on OS version 6.0+ then set your `minSdkVersion` in build.gradle (module) file to 23 (see line 10)\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 30\r\n        buildToolsVersion &quot;29.0.3&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;your.package.name&quot;\r\n            minSdkVersion 23\r\n            targetSdkVersion 30\r\n            multiDexEnabled true\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n\r\nThis is the important one. Setting it in the manifest.xml file is okay, but this is the one that really matters.\r\n\r\n\r\n**EDIT:**&lt;br&gt;\r\nAlso, specifying `minSdkVersion` and `targetSdkVersion` in the manifest.xml file is not necessary; however, if you are going to specify it, you need to make sure that your manifest.xml file and gradle.build file have the same settings.\r\n\r\n    &lt;uses-sdk android:minSdkVersion=&quot;23&quot; android:targetSdkVersion=&quot;30&quot; /&gt;","title":"Questions on rolling-out app on Google Play Console which includes questions on `aewt` and `UID` and SDK, API versions","body":"<p>The SDK version is the API version. Example OS version 6.0 is API version 23</p>\n<p>So if you only want your app to run on OS version 6.0+ then set your <code>minSdkVersion</code> in build.gradle (module) file to 23 (see line 10)</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;29.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;your.package.name&quot;\n        minSdkVersion 23\n        targetSdkVersion 30\n        multiDexEnabled true\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n</code></pre>\n<p>This is the important one. Setting it in the manifest.xml file is okay, but this is the one that really matters.</p>\n<p><strong>EDIT:</strong><br>\nAlso, specifying <code>minSdkVersion</code> and <code>targetSdkVersion</code> in the manifest.xml file is not necessary; however, if you are going to specify it, you need to make sure that your manifest.xml file and gradle.build file have the same settings.</p>\n<pre><code>&lt;uses-sdk android:minSdkVersion=&quot;23&quot; android:targetSdkVersion=&quot;30&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":19646989,"reputation":71,"user_id":14381788,"display_name":"Steve Ben-Ari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635524376,"creation_date":1609377232,"question_id":65515535,"body_markdown":"Dear Android developers geniuses,\r\n\r\nI need help with rolling-out my app in the Google Play Console. I’ve stumbled on a chain of problems that appears to be like a catch 22 situation. I’ve started rolling-out my app using Internal testing and soon I discover when I got the pre-launch report, that my app triggered two errors, which I was told will prevent me from continuing the rollout until they’ve been fixed. The two errors are the:\r\n\r\n    `java.lang.SecurityException: Calling from not trusted UID!`\r\n\r\nand\r\n\r\n    `java.lang.NoClassDefFoundError: aewt` \r\n\r\nI’ve done my research here on this platform and elsewhere, and I found a few possible solutions which I tried to fix. I then rebuild another bundle and uploaded it to the internal testing but to no avail, these problems persist.\r\nI followed this link for attempting to solve the problem `aewt` [https://stackoverflow.com/questions/64706041/fatal-exception-firebase-messaging-intent-handle-java-lang-noclassdeffounder\r\n][1]\r\nAnd this to solve the `UID!` problem\r\n[https://stackoverflow.com/questions/51360801/calling-from-not-trusted-uid][2]\r\n\r\nNone worked.\r\n\r\nIt then dawned on me that these problems appear on the old version of Android from android 5 and below. So I’ve decided to limit the usage of my app to android 6.0 and above. Little did I know that this will turn out to be a perplexing task as well. And I’m confused as hell. \r\n\r\nI followed the instructions on here: [https://developer.android.com/training/basics/supporting-devices/platforms] and added the suggested codes to my app. But here again, it didn’t work and I was able to run my app on the emulators that run Android version 5.0 and below. \r\n\r\nThe first code that I used was this:\r\n\r\n    `&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; ...&gt;\r\n    &lt;uses-sdk android:minSdkVersion=&quot;6&quot; android:targetSdkVersion=&quot;15&quot; /&gt;\r\n        ...\r\n    &lt;/manifest&gt;`.\r\n\r\nHowever, I couldn’t figure out what is the SDK version. Was it the OS version? Or the API version? Or maybe another set of numbers which I couldn’t find a reference to on the web. I know that this issue is been covered lengthy on this platform but I still couldn’t find the right answer. Anyway, I’ve tried every logical possibility on this using a combination of OS versions and then API versions but none of them seems to prevent my app from running on the old Android version.\r\n\r\nI’ve also added this code to the MainActivity:\r\n\r\n    `private void setUpActionBar() {\r\n       // Make sure we&#39;re running on Marshmallow or higher to use ActionBar APIs\r\n       if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n           ActionBar actionBar = getActionBar();\r\n           actionBar.setDisplayHomeAsUpEnabled(true);\r\n       }\r\n    }`\r\n\r\nBut still, my app was happy to run on older OS’s\r\n\r\nHere is a recap of my problems. I get error messages on rolling out my app which appears to be unsolvable which prevents me from continuing from rolling out my app. An attempt to limits the distribution of my app to OS 6.0 and higher has failed too. \r\n \r\nWhat shall I do now?\r\n\r\n 1. Try to roll-out my app on the production track and hope for the best?\r\n 2. Is the SDK number the OS number or the API or neither?\r\n 3. Is there another method in which I can tell Android not to get installed on an older versions? Please Help!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/64706041/fatal-exception-firebase-messaging-intent-handle-java-lang-noclassdeffounder\r\n  [2]: https://stackoverflow.com/questions/51360801/calling-from-not-trusted-uid","title":"Questions on rolling-out app on Google Play Console which includes questions on `aewt` and `UID` and SDK, API versions","body":"<p>Dear Android developers geniuses,</p>\n<p>I need help with rolling-out my app in the Google Play Console. I’ve stumbled on a chain of problems that appears to be like a catch 22 situation. I’ve started rolling-out my app using Internal testing and soon I discover when I got the pre-launch report, that my app triggered two errors, which I was told will prevent me from continuing the rollout until they’ve been fixed. The two errors are the:</p>\n<pre><code>`java.lang.SecurityException: Calling from not trusted UID!`\n</code></pre>\n<p>and</p>\n<pre><code>`java.lang.NoClassDefFoundError: aewt` \n</code></pre>\n<p>I’ve done my research here on this platform and elsewhere, and I found a few possible solutions which I tried to fix. I then rebuild another bundle and uploaded it to the internal testing but to no avail, these problems persist.\nI followed this link for attempting to solve the problem <code>aewt</code> <a href=\"https://stackoverflow.com/questions/64706041/fatal-exception-firebase-messaging-intent-handle-java-lang-noclassdeffounder\">https://stackoverflow.com/questions/64706041/fatal-exception-firebase-messaging-intent-handle-java-lang-noclassdeffounder\n</a>\nAnd this to solve the <code>UID!</code> problem\n<a href=\"https://stackoverflow.com/questions/51360801/calling-from-not-trusted-uid\">Calling from not trusted UID</a></p>\n<p>None worked.</p>\n<p>It then dawned on me that these problems appear on the old version of Android from android 5 and below. So I’ve decided to limit the usage of my app to android 6.0 and above. Little did I know that this will turn out to be a perplexing task as well. And I’m confused as hell.</p>\n<p>I followed the instructions on here: [https://developer.android.com/training/basics/supporting-devices/platforms] and added the suggested codes to my app. But here again, it didn’t work and I was able to run my app on the emulators that run Android version 5.0 and below.</p>\n<p>The first code that I used was this:</p>\n<pre><code>`&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; ...&gt;\n&lt;uses-sdk android:minSdkVersion=&quot;6&quot; android:targetSdkVersion=&quot;15&quot; /&gt;\n    ...\n&lt;/manifest&gt;`.\n</code></pre>\n<p>However, I couldn’t figure out what is the SDK version. Was it the OS version? Or the API version? Or maybe another set of numbers which I couldn’t find a reference to on the web. I know that this issue is been covered lengthy on this platform but I still couldn’t find the right answer. Anyway, I’ve tried every logical possibility on this using a combination of OS versions and then API versions but none of them seems to prevent my app from running on the old Android version.</p>\n<p>I’ve also added this code to the MainActivity:</p>\n<pre><code>`private void setUpActionBar() {\n   // Make sure we're running on Marshmallow or higher to use ActionBar APIs\n   if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n       ActionBar actionBar = getActionBar();\n       actionBar.setDisplayHomeAsUpEnabled(true);\n   }\n}`\n</code></pre>\n<p>But still, my app was happy to run on older OS’s</p>\n<p>Here is a recap of my problems. I get error messages on rolling out my app which appears to be unsolvable which prevents me from continuing from rolling out my app. An attempt to limits the distribution of my app to OS 6.0 and higher has failed too.</p>\n<p>What shall I do now?</p>\n<ol>\n<li>Try to roll-out my app on the production track and hope for the best?</li>\n<li>Is the SDK number the OS number or the API or neither?</li>\n<li>Is there another method in which I can tell Android not to get installed on an older versions? Please Help!</li>\n</ol>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":6159748,"reputation":646,"user_id":4801727,"accept_rate":44,"display_name":"Vivek Singh"},"score":0,"creation_date":1507094120,"post_id":46557448,"comment_id":80068716,"body_markdown":"Have you tried the gui interface to load the war files","body":"Have you tried the gui interface to load the war files"},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507094261,"post_id":46557448,"comment_id":80068768,"body_markdown":"@VivekSingh, what makes the difference?","body":"@VivekSingh, what makes the difference?"},{"owner":{"account_id":6159748,"reputation":646,"user_id":4801727,"accept_rate":44,"display_name":"Vivek Singh"},"score":0,"creation_date":1507094391,"post_id":46557448,"comment_id":80068822,"body_markdown":"@Yakoob Sometimes tomcat not able to load the war files automatically so you have to do it manually using GUI web interface. It happens several times to me.","body":"@Yakoob Sometimes tomcat not able to load the war files automatically so you have to do it manually using GUI web interface. It happens several times to me."},{"owner":{"account_id":6159748,"reputation":646,"user_id":4801727,"accept_rate":44,"display_name":"Vivek Singh"},"score":0,"creation_date":1507094514,"post_id":46557448,"comment_id":80068868,"body_markdown":"@Yakoob I hope you know how to configure the tomcat manager and set the rules.","body":"@Yakoob I hope you know how to configure the tomcat manager and set the rules."},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507094577,"post_id":46557448,"comment_id":80068891,"body_markdown":"@VivekSingh, I added role for GUI and deployed again. But now the project itself is not running","body":"@VivekSingh, I added role for GUI and deployed again. But now the project itself is not running"},{"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"score":0,"creation_date":1507094641,"post_id":46557448,"comment_id":80068916,"body_markdown":"do you have tomcat set up to explode out the war file?\nwhen you navigate back into webapps do you see a directory with your project exploded out?","body":"do you have tomcat set up to explode out the war file? when you navigate back into webapps do you see a directory with your project exploded out?"},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507094737,"post_id":46557448,"comment_id":80068955,"body_markdown":"@shinjw, I did not get your point. I see a directory of the project in my local system under wtpwebapps. But not in the server machine","body":"@shinjw, I did not get your point. I see a directory of the project in my local system under wtpwebapps. But not in the server machine"},{"owner":{"account_id":6159748,"reputation":646,"user_id":4801727,"accept_rate":44,"display_name":"Vivek Singh"},"score":0,"creation_date":1507094938,"post_id":46557448,"comment_id":80069007,"body_markdown":"@Yakoob There might be some issue with the tomcat configuration. Can you share server and tomcat-user.xml file. It might be helpfull to understand the issue more clearly.","body":"@Yakoob There might be some issue with the tomcat configuration. Can you share server and tomcat-user.xml file. It might be helpfull to understand the issue more clearly."},{"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"score":0,"creation_date":1507094956,"post_id":46557448,"comment_id":80069012,"body_markdown":"when you deploy an application by dropping in war file into the webapps directory... you&#39;d need to make sure that your exploded project is cleaned *deleted*\n\nin other words when you&#39;re doing a manual deployment you would need to make sure that webapps is clean (with the exception of ROOT if you&#39;re using the web gui)","body":"when you deploy an application by dropping in war file into the webapps directory... you&#39;d need to make sure that your exploded project is cleaned <i>deleted</i>  in other words when you&#39;re doing a manual deployment you would need to make sure that webapps is clean (with the exception of ROOT if you&#39;re using the web gui)"},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507095080,"post_id":46557448,"comment_id":80069057,"body_markdown":"@shinjw, it works when I delete the directory of the project under webapps. Then I place the new WAR file and deploy again. New changes are appearing now.","body":"@shinjw, it works when I delete the directory of the project under webapps. Then I place the new WAR file and deploy again. New changes are appearing now."},{"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"score":0,"creation_date":1507095161,"post_id":46557448,"comment_id":80069085,"body_markdown":"just to confirm. did it work on the target machine?","body":"just to confirm. did it work on the target machine?"},{"owner":{"account_id":4708838,"reputation":3351,"user_id":3810024,"accept_rate":94,"display_name":"shinjw"},"score":0,"creation_date":1507095183,"post_id":46557448,"comment_id":80069094,"body_markdown":"Possible duplicate of [How to deploy a war file in Tomcat 7](https://stackoverflow.com/questions/5109112/how-to-deploy-a-war-file-in-tomcat-7)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/5109112/how-to-deploy-a-war-file-in-tomcat-7\">How to deploy a war file in Tomcat 7</a>"},{"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"score":0,"creation_date":1507095501,"post_id":46557448,"comment_id":80069198,"body_markdown":"@shinjw, yes it works in target machine.","body":"@shinjw, yes it works in target machine."}],"answers":[{"tags":[],"owner":{"account_id":6481666,"reputation":65,"user_id":5018455,"display_name":"Joginder Kumar"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1507094580,"creation_date":1507094580,"answer_id":46557530,"question_id":46557448,"body_markdown":"you should clear the log and temp files of tomcat","title":"Server tomcat not deploying latest WAR changes","body":"<p>you should clear the log and temp files of tomcat</p>\n"},{"tags":[],"owner":{"account_id":1284041,"reputation":3613,"user_id":1237490,"accept_rate":100,"display_name":"Jaydeep Rajput"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1507097317,"creation_date":1507095012,"answer_id":46557614,"question_id":46557448,"body_markdown":"Try checking the autoDeploy flag in server.xml. Below is the description for this flag.\r\n\r\n    &lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\r\n\r\n**autoDeploy**\r\n\r\nThis flag value indicates if Tomcat should check periodically for new or updated web applications while Tomcat is running. If true, Tomcat periodically checks the appBase and xmlBase directories and deploys any new web applications or context XML descriptors found. Updated web applications or context XML descriptors will trigger a reload of the web application. The flag&#39;s value defaults to true.","title":"Server tomcat not deploying latest WAR changes","body":"<p>Try checking the autoDeploy flag in server.xml. Below is the description for this flag.</p>\n\n<pre><code>&lt;Host name=\"localhost\"  appBase=\"webapps\" unpackWARs=\"true\" autoDeploy=\"true\"&gt;\n</code></pre>\n\n<p><strong>autoDeploy</strong></p>\n\n<p>This flag value indicates if Tomcat should check periodically for new or updated web applications while Tomcat is running. If true, Tomcat periodically checks the appBase and xmlBase directories and deploys any new web applications or context XML descriptors found. Updated web applications or context XML descriptors will trigger a reload of the web application. The flag's value defaults to true.</p>\n"},{"tags":[],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1507095961,"creation_date":1507095961,"answer_id":46557795,"question_id":46557448,"body_markdown":"Manual deploy:\r\nTo deploy or redeploy a war file is simply dropping your war file into the `$CATALINA_HOME/webapps` directory of a Tomcat instance. If the server is running, the deployment will start instantly as Tomcat unpacks the archive.\r\n\r\nIf Tomcat is not running, then the server will deploy the project the next time it is started.\r\n\r\nSometimes you need to stop Tomcat and delete everything from `$CATALINA_HOME/temp`, `$CATALINA_HOME/logs` directories and delete the war and the related unpacked folder from `$CATALINA_HOME/webapps` directory. After that just copy your war to the right place and start Tomcat.\r\n\r\nIf the deployment is finished without error then you can see the following message in the tomcat log:\r\n\r\n    OK - Deployed application at context path /myapp\r\n\r\nOtherwise an error message will appear which describes what was the error.\r\n\r\nWe need to see the Tomcat logfile if you need more help. ","title":"Server tomcat not deploying latest WAR changes","body":"<p>Manual deploy:\nTo deploy or redeploy a war file is simply dropping your war file into the <code>$CATALINA_HOME/webapps</code> directory of a Tomcat instance. If the server is running, the deployment will start instantly as Tomcat unpacks the archive.</p>\n\n<p>If Tomcat is not running, then the server will deploy the project the next time it is started.</p>\n\n<p>Sometimes you need to stop Tomcat and delete everything from <code>$CATALINA_HOME/temp</code>, <code>$CATALINA_HOME/logs</code> directories and delete the war and the related unpacked folder from <code>$CATALINA_HOME/webapps</code> directory. After that just copy your war to the right place and start Tomcat.</p>\n\n<p>If the deployment is finished without error then you can see the following message in the tomcat log:</p>\n\n<pre><code>OK - Deployed application at context path /myapp\n</code></pre>\n\n<p>Otherwise an error message will appear which describes what was the error.</p>\n\n<p>We need to see the Tomcat logfile if you need more help. </p>\n"},{"tags":[],"owner":{"account_id":13283000,"reputation":1,"user_id":9589961,"display_name":"sreelakshmi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635524323,"creation_date":1634465951,"answer_id":69603314,"question_id":46557448,"body_markdown":"1)Please check your war file size. Then update it in the =apache-tomcat-9.0.53\\webapps\\manager\\WEB-INF\\web.xml file.\r\n\r\n2)Remove dependency &quot;javax.validation&quot; from POM file\r\n\r\n3)Add dependency org.glassfish.web\r\n        \r\n4)Check your log files. and modify dependencies accordingly.","title":"Server tomcat not deploying latest WAR changes","body":"<p>1)Please check your war file size. Then update it in the =apache-tomcat-9.0.53\\webapps\\manager\\WEB-INF\\web.xml file.</p>\n<p>2)Remove dependency &quot;javax.validation&quot; from POM file</p>\n<p>3)Add dependency org.glassfish.web</p>\n<p>4)Check your log files. and modify dependencies accordingly.</p>\n"}],"owner":{"account_id":11905406,"reputation":559,"user_id":8712106,"accept_rate":56,"display_name":"Yakhoob"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5586,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1635524323,"creation_date":1507094015,"question_id":46557448,"body_markdown":"I&#39;m new to deployment process. Kindly advice me. \r\n\r\nI have created a WAR file in my development machine. Then in the server machine, I have installed Tomcat which is clean and new. Then I copied the WAR file and placed it under webapps. Then I started the server, it worked. \r\n\r\nLater I made few changes in the code and created WAR file and deployed the same in webapps folder. But it is not taking the latest changes.\r\n\r\nI did in the following way\r\n\r\n    1. Stopped tomcat instance by shutdown.bat\r\n    2. Placed the new WAR file in webapps.\r\n    3. Started the tomcat instance by startup.bat\r\n\r\nStill no changes are reflecting? What could be the reason?   ","title":"Server tomcat not deploying latest WAR changes","body":"<p>I'm new to deployment process. Kindly advice me. </p>\n\n<p>I have created a WAR file in my development machine. Then in the server machine, I have installed Tomcat which is clean and new. Then I copied the WAR file and placed it under webapps. Then I started the server, it worked. </p>\n\n<p>Later I made few changes in the code and created WAR file and deployed the same in webapps folder. But it is not taking the latest changes.</p>\n\n<p>I did in the following way</p>\n\n<pre><code>1. Stopped tomcat instance by shutdown.bat\n2. Placed the new WAR file in webapps.\n3. Started the tomcat instance by startup.bat\n</code></pre>\n\n<p>Still no changes are reflecting? What could be the reason?   </p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8093,"page":1899,"page_size":100}
