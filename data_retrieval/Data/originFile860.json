{"items":[{"tags":["java","mysql","spring","spring-boot","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":27025205,"reputation":1,"user_id":20582584,"display_name":"Vache Yepremyan"},"score":0,"creation_date":1669390696,"post_id":74557478,"comment_id":131637777,"body_markdown":"403 forbidden again","body":"403 forbidden again"}],"tags":[],"owner":{"account_id":16770162,"reputation":116,"user_id":12122787,"display_name":"Parker"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669277244,"creation_date":1669277244,"answer_id":74557478,"question_id":74548111,"body_markdown":"because post method not return User, it&#39;s `void` method \r\n\r\n    @PostMapping\r\n    public User createUser(@RequestBody User user){\r\n       return userService.createUser(user);\r\n    }","title":"i cant post user to db, get method give me data from db, but post or delete dosen`t working","body":"<p>because post method not return User, it's <code>void</code> method</p>\n<pre><code>@PostMapping\npublic User createUser(@RequestBody User user){\n   return userService.createUser(user);\n}\n</code></pre>\n"}],"owner":{"account_id":27025205,"reputation":1,"user_id":20582584,"display_name":"Vache Yepremyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669277244,"creation_date":1669212460,"question_id":74548111,"body_markdown":"[Suagger](https://i.stack.imgur.com/VlnLo.png)\r\n[executing result](https://i.stack.imgur.com/Kr7Tf.png)\r\n\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/users&quot;)\r\n    public class UserController{\r\n    private final UserService userService;\r\n    @Autowired\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n    @PostMapping\r\n    public void createUser(@RequestBody User user){\r\n    userService.createUser(user);\r\n}\r\n}\r\n```\r\nthis is my controller and post method for user entity\r\n\r\n\r\n","title":"i cant post user to db, get method give me data from db, but post or delete dosen`t working","body":"<p><a href=\"https://i.stack.imgur.com/VlnLo.png\" rel=\"nofollow noreferrer\">Suagger</a>\n<a href=\"https://i.stack.imgur.com/Kr7Tf.png\" rel=\"nofollow noreferrer\">executing result</a></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/users&quot;)\n    public class UserController{\n    private final UserService userService;\n    @Autowired\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n    @PostMapping\n    public void createUser(@RequestBody User user){\n    userService.createUser(user);\n}\n}\n</code></pre>\n<p>this is my controller and post method for user entity</p>\n"},{"tags":["java","spring-boot","spring-mvc","heroku"],"comments":[{"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"score":0,"creation_date":1573058196,"post_id":58677802,"comment_id":103759558,"body_markdown":"is this a web app (that is, does it handle HTTP requests)?","body":"is this a web app (that is, does it handle HTTP requests)?"},{"owner":{"account_id":16854244,"reputation":181,"user_id":12186425,"display_name":"Harry Manoharan"},"score":0,"creation_date":1573058473,"post_id":58677802,"comment_id":103759749,"body_markdown":"Yes this restful service is based for a web app.","body":"Yes this restful service is based for a web app."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1573255464,"post_id":58677802,"comment_id":103835793,"body_markdown":"did you check mysql configuration against https://devcenter.heroku.com/articles/cleardb#provisioning-the-shared-mysql-add-on","body":"did you check mysql configuration against <a href=\"https://devcenter.heroku.com/articles/cleardb#provisioning-the-shared-mysql-add-on\" rel=\"nofollow noreferrer\">devcenter.heroku.com/articles/&hellip;</a>"},{"owner":{"account_id":16854244,"reputation":181,"user_id":12186425,"display_name":"Harry Manoharan"},"score":0,"creation_date":1573300448,"post_id":58677802,"comment_id":103842489,"body_markdown":"Ya . configurations seems fine. the app was working fine for a long time. i didn&#39;t change a single line of code.","body":"Ya . configurations seems fine. the app was working fine for a long time. i didn&#39;t change a single line of code."}],"answers":[{"comments":[{"owner":{"account_id":16854244,"reputation":181,"user_id":12186425,"display_name":"Harry Manoharan"},"score":0,"creation_date":1573413161,"post_id":58791822,"comment_id":103865771,"body_markdown":"`java -Dserver.port=$PORT $JAVA_OPTS -jar target/demo-0.0.1-SNAPSHOT.jar**`","body":"<code>java -Dserver.port=$PORT $JAVA_OPTS -jar target&#47;demo-0.0.1-SNAPSHOT.jar**</code>"},{"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"score":0,"creation_date":1573592234,"post_id":58791822,"comment_id":103929703,"body_markdown":"what about HOST? make sure it&#39;s 0.0.0.0 and not localhost","body":"what about HOST? make sure it&#39;s 0.0.0.0 and not localhost"}],"tags":[],"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573411324,"creation_date":1573411324,"answer_id":58791822,"question_id":58677802,"body_markdown":"Make sure you&#39;re passing `--server.port=$PORT` as described in the Heroku docs on [Setting the HTTP Port for Java Applications](https://devcenter.heroku.com/articles/setting-the-http-port-for-java-applications)","title":"Spring Boot application crashes on Heroku code=H10","body":"<p>Make sure you're passing <code>--server.port=$PORT</code> as described in the Heroku docs on <a href=\"https://devcenter.heroku.com/articles/setting-the-http-port-for-java-applications\" rel=\"nofollow noreferrer\">Setting the HTTP Port for Java Applications</a></p>\n"},{"tags":[],"owner":{"account_id":15560640,"reputation":57,"user_id":11225851,"display_name":"Prasun Saurabh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632750826,"creation_date":1632750826,"answer_id":69347900,"question_id":58677802,"body_markdown":"I faced same error a while back and even after adding port as specified in the last answer but without any luck. After going through Heroku documentation,I added Procfile in my project and it worked. Check the documentation below-\r\n\r\nhttps://devcenter.heroku.com/articles/deploying-gradle-apps-on-heroku#the-procfile\r\n","title":"Spring Boot application crashes on Heroku code=H10","body":"<p>I faced same error a while back and even after adding port as specified in the last answer but without any luck. After going through Heroku documentation,I added Procfile in my project and it worked. Check the documentation below-</p>\n<p><a href=\"https://devcenter.heroku.com/articles/deploying-gradle-apps-on-heroku#the-procfile\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/deploying-gradle-apps-on-heroku#the-procfile</a></p>\n"},{"tags":[],"owner":{"account_id":11310450,"reputation":1,"user_id":9023066,"display_name":"Hisyam Zayd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643796142,"creation_date":1643796142,"answer_id":70953631,"question_id":58677802,"body_markdown":"Sorry if I&#39;m a bit too late. I have tried adding procfile, adding a port number in application.properties or application.yml as Heroku website tells, made a new project with Spring Web dependencies alone - none of all this is works. Then when I change from **Gradle to Maven**, its works... No need to add anything.","title":"Spring Boot application crashes on Heroku code=H10","body":"<p>Sorry if I'm a bit too late. I have tried adding procfile, adding a port number in application.properties or application.yml as Heroku website tells, made a new project with Spring Web dependencies alone - none of all this is works. Then when I change from <strong>Gradle to Maven</strong>, its works... No need to add anything.</p>\n"},{"tags":[],"owner":{"account_id":13164132,"reputation":95,"user_id":9795960,"display_name":"SuperSpamTube"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660119110,"creation_date":1660119110,"answer_id":73302884,"question_id":58677802,"body_markdown":"\r\nI&#39;ve had the same problem twice. The app runs stably for months and then suddenly this H10 error. For me it is enough if I click on&quot;More&quot; in the top right menu in Heroku and &quot;restart all dynos&quot;.\r\n\r\nI hope this helps one or the other. I was almost in despair at the time too. If you have a paid account, this probably occurs less often.","title":"Spring Boot application crashes on Heroku code=H10","body":"<p>I've had the same problem twice. The app runs stably for months and then suddenly this H10 error. For me it is enough if I click on&quot;More&quot; in the top right menu in Heroku and &quot;restart all dynos&quot;.</p>\n<p>I hope this helps one or the other. I was almost in despair at the time too. If you have a paid account, this probably occurs less often.</p>\n"},{"tags":[],"owner":{"account_id":27032533,"reputation":1,"user_id":20588674,"display_name":"timolor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669277040,"creation_date":1669277040,"answer_id":74557451,"question_id":58677802,"body_markdown":"I experienced a similar issue.\r\nIn my own case, the port was hardcoded to a fixed value. \r\n&lt;br/&gt;\r\nIn your `application.properties` file make sure that \r\n`server.port` is not hardcoded to a port.\r\n&lt;br/&gt;Replace \r\n`server.port=8080` with `server.port=${PORT:8080}`.\r\n\r\n\r\nHere it will default to `8080` if the port was not specified","title":"Spring Boot application crashes on Heroku code=H10","body":"<p>I experienced a similar issue.\nIn my own case, the port was hardcoded to a fixed value.\n<br/>\nIn your <code>application.properties</code> file make sure that\n<code>server.port</code> is not hardcoded to a port.\n<br/>Replace\n<code>server.port=8080</code> with <code>server.port=${PORT:8080}</code>.</p>\n<p>Here it will default to <code>8080</code> if the port was not specified</p>\n"}],"owner":{"account_id":16854244,"reputation":181,"user_id":12186425,"display_name":"Harry Manoharan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5704,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1669277040,"creation_date":1572761100,"question_id":58677802,"body_markdown":"I have deployed a springboot application on heroku app. The application worked fine for quite a long time.\r\nBut now suddenly i get an error Code=&quot;H10&quot; and the app crashes. The build is successfull when deploying to heroku and also the application works locally as well.\r\n\r\nThe application is in the git repository : https://github.com/hmanoharan-12/saloncityservice\r\n\r\nI get the error when i send a request to the API. \r\neg:- ```https://saloncityservice.herokuapp.com/getuser```\r\n\r\nError in Logs :\r\n```2019-11-03T05:56:00.133634+00:00 app[web.1]: at org.springframework.boot.SpringApplication.run(SpringApplication.java:1204) ~[spring-boot-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\r\n2019-11-03T05:56:00.133635+00:00 app[web.1]: at com.webservice.restfulservice.ServiceApplication.main(ServiceApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\r\n2019-11-03T05:56:00.133637+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_222-heroku]\r\n2019-11-03T05:56:00.133638+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_222-heroku]\r\n2019-11-03T05:56:00.13364+00:00 app[web.1]: at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222-heroku]\r\n2019-11-03T05:56:00.133641+00:00 app[web.1]: at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222-heroku]\r\n2019-11-03T05:56:00.133642+00:00 app[web.1]: at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n2019-11-03T05:56:00.133643+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n2019-11-03T05:56:00.133645+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:51) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n2019-11-03T05:56:00.133646+00:00 app[web.1]: at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n2019-11-03T05:56:00.133651+00:00 app[web.1]: Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n2019-11-03T05:56:00.133653+00:00 app[web.1]:\r\n2019-11-03T05:56:00.133654+00:00 app[web.1]: The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n2019-11-03T05:56:00.133656+00:00 app[web.1]: at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_222-heroku]\r\n2019-11-03T05:56:00.133657+00:00 app[web.1]: at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_222-heroku]\r\n2019-11-03T05:56:00.133658+00:00 app[web.1]: at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_222-heroku]\r\n2019-11-03T05:56:00.13366+00:00 app[web.1]: at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_222-heroku]\r\n2019-11-03T05:56:00.133661+00:00 app[web.1]: at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\r\n2019-11-03T05:56:00.133663+00:00 app[web.1]: at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\r\n2019-11-03T05:56:00.133664+00:00 app[web.1]: at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\r\n2019-11-03T05:56:00.133666+00:00 app[web.1]: at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\r\n2019-11-03T05:56:00.133667+00:00 app[web.1]: at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\r\n2019-11-03T05:56:00.133668+00:00 app[web.1]: at com.mysql.cj.NativeSession.connect(NativeSession.java:150) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\r\n2019-11-03T05:56:00.13367+00:00 app[web.1]: at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:947) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\r\n2019-11-03T05:56:00.133671+00:00 app[web.1]: at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:817) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\r\n2019-11-03T05:56:00.133673+00:00 app[web.1]: ... 61 common frames omitted\r\n2019-11-03T05:56:00.133675+00:00 app[web.1]: Caused by: java.net.SocketTimeoutException: connect timed out\r\n2019-11-03T05:56:00.133676+00:00 app[web.1]: at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_222-heroku]\r\n2019-11-03T05:56:00.133678+00:00 app[web.1]: at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_222-heroku]\r\n2019-11-03T05:56:00.133679+00:00 app[web.1]: at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_222-heroku]\r\n2019-11-03T05:56:00.13368+00:00 app[web.1]: at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_222-heroku]\r\n2019-11-03T05:56:00.133682+00:00 app[web.1]: at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_222-heroku]\r\n2019-11-03T05:56:00.133683+00:00 app[web.1]: at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_222-heroku]\r\n2019-11-03T05:56:00.133684+00:00 app[web.1]: at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\r\n2019-11-03T05:56:00.13369+00:00 app[web.1]: at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\r\n2019-11-03T05:56:00.133694+00:00 app[web.1]: ... 64 common frames omitted\r\n2019-11-03T05:56:00.133695+00:00 app[web.1]:\r\n2019-11-03T05:56:00.213001+00:00 app[web.1]: 2019-11-03 05:56:00.212  INFO 4 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\r\n2019-11-03T05:56:00.213005+00:00 app[web.1]: name: default\r\n2019-11-03T05:56:00.213006+00:00 app[web.1]: ...]\r\n2019-11-03T05:56:00.327049+00:00 app[web.1]: 2019-11-03 05:56:00.326  INFO 4 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.11.Final}\r\n2019-11-03T05:56:00.329135+00:00 app[web.1]: 2019-11-03 05:56:00.328  INFO 4 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n2019-11-03T05:56:00.586215+00:00 app[web.1]: 2019-11-03 05:56:00.585  INFO 4 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\r\n2019-11-03T05:56:00.990198+00:00 app[web.1]: 2019-11-03 05:56:00.989  INFO 4 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2019-11-03T05:56:18.877745+00:00 heroku[web.1]: Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 90 seconds of launch\r\n2019-11-03T05:56:18.910371+00:00 heroku[web.1]: Stopping process with SIGKILL\r\n2019-11-03T05:56:19.00654+00:00 heroku[web.1]: Process exited with status 137\r\n2019-11-03T05:56:19.052964+00:00 heroku[web.1]: State changed from starting to crashed\r\n2019-11-03T05:56:47.774128+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/getuser&quot; host=saloncityservice.herokuapp.com request_id=d15a28c2-0725-45de-a2e9-b41f9e3469d0 fwd=&quot;123.231.87.83&quot; dyno= connect= service= status=503 bytes= protocol=https```","title":"Spring Boot application crashes on Heroku code=H10","body":"<p>I have deployed a springboot application on heroku app. The application worked fine for quite a long time.\nBut now suddenly i get an error Code=\"H10\" and the app crashes. The build is successfull when deploying to heroku and also the application works locally as well.</p>\n\n<p>The application is in the git repository : <a href=\"https://github.com/hmanoharan-12/saloncityservice\" rel=\"nofollow noreferrer\">https://github.com/hmanoharan-12/saloncityservice</a></p>\n\n<p>I get the error when i send a request to the API. \neg:- <code>https://saloncityservice.herokuapp.com/getuser</code></p>\n\n<p>Error in Logs :</p>\n\n<pre><code>2019-11-03T05:56:00.133635+00:00 app[web.1]: at com.webservice.restfulservice.ServiceApplication.main(ServiceApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\n2019-11-03T05:56:00.133637+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_222-heroku]\n2019-11-03T05:56:00.133638+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_222-heroku]\n2019-11-03T05:56:00.13364+00:00 app[web.1]: at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222-heroku]\n2019-11-03T05:56:00.133641+00:00 app[web.1]: at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222-heroku]\n2019-11-03T05:56:00.133642+00:00 app[web.1]: at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n2019-11-03T05:56:00.133643+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n2019-11-03T05:56:00.133645+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:51) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n2019-11-03T05:56:00.133646+00:00 app[web.1]: at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52) ~[demo-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n2019-11-03T05:56:00.133651+00:00 app[web.1]: Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n2019-11-03T05:56:00.133653+00:00 app[web.1]:\n2019-11-03T05:56:00.133654+00:00 app[web.1]: The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n2019-11-03T05:56:00.133656+00:00 app[web.1]: at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_222-heroku]\n2019-11-03T05:56:00.133657+00:00 app[web.1]: at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_222-heroku]\n2019-11-03T05:56:00.133658+00:00 app[web.1]: at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_222-heroku]\n2019-11-03T05:56:00.13366+00:00 app[web.1]: at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_222-heroku]\n2019-11-03T05:56:00.133661+00:00 app[web.1]: at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\n2019-11-03T05:56:00.133663+00:00 app[web.1]: at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\n2019-11-03T05:56:00.133664+00:00 app[web.1]: at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\n2019-11-03T05:56:00.133666+00:00 app[web.1]: at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\n2019-11-03T05:56:00.133667+00:00 app[web.1]: at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:91) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\n2019-11-03T05:56:00.133668+00:00 app[web.1]: at com.mysql.cj.NativeSession.connect(NativeSession.java:150) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\n2019-11-03T05:56:00.13367+00:00 app[web.1]: at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:947) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\n2019-11-03T05:56:00.133671+00:00 app[web.1]: at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:817) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\n2019-11-03T05:56:00.133673+00:00 app[web.1]: ... 61 common frames omitted\n2019-11-03T05:56:00.133675+00:00 app[web.1]: Caused by: java.net.SocketTimeoutException: connect timed out\n2019-11-03T05:56:00.133676+00:00 app[web.1]: at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_222-heroku]\n2019-11-03T05:56:00.133678+00:00 app[web.1]: at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_222-heroku]\n2019-11-03T05:56:00.133679+00:00 app[web.1]: at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_222-heroku]\n2019-11-03T05:56:00.13368+00:00 app[web.1]: at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_222-heroku]\n2019-11-03T05:56:00.133682+00:00 app[web.1]: at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_222-heroku]\n2019-11-03T05:56:00.133683+00:00 app[web.1]: at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_222-heroku]\n2019-11-03T05:56:00.133684+00:00 app[web.1]: at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:155) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\n2019-11-03T05:56:00.13369+00:00 app[web.1]: at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:65) ~[mysql-connector-java-8.0.17.jar!/:8.0.17]\n2019-11-03T05:56:00.133694+00:00 app[web.1]: ... 64 common frames omitted\n2019-11-03T05:56:00.133695+00:00 app[web.1]:\n2019-11-03T05:56:00.213001+00:00 app[web.1]: 2019-11-03 05:56:00.212  INFO 4 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\n2019-11-03T05:56:00.213005+00:00 app[web.1]: name: default\n2019-11-03T05:56:00.213006+00:00 app[web.1]: ...]\n2019-11-03T05:56:00.327049+00:00 app[web.1]: 2019-11-03 05:56:00.326  INFO 4 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.11.Final}\n2019-11-03T05:56:00.329135+00:00 app[web.1]: 2019-11-03 05:56:00.328  INFO 4 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2019-11-03T05:56:00.586215+00:00 app[web.1]: 2019-11-03 05:56:00.585  INFO 4 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\n2019-11-03T05:56:00.990198+00:00 app[web.1]: 2019-11-03 05:56:00.989  INFO 4 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2019-11-03T05:56:18.877745+00:00 heroku[web.1]: Error R10 (Boot timeout) -&gt; Web process failed to bind to $PORT within 90 seconds of launch\n2019-11-03T05:56:18.910371+00:00 heroku[web.1]: Stopping process with SIGKILL\n2019-11-03T05:56:19.00654+00:00 heroku[web.1]: Process exited with status 137\n2019-11-03T05:56:19.052964+00:00 heroku[web.1]: State changed from starting to crashed\n2019-11-03T05:56:47.774128+00:00 heroku[router]: at=error code=H10 desc=\"App crashed\" method=GET path=\"/getuser\" host=saloncityservice.herokuapp.com request_id=d15a28c2-0725-45de-a2e9-b41f9e3469d0 fwd=\"123.231.87.83\" dyno= connect= service= status=503 bytes= protocol=https```\n</code></pre>\n"},{"tags":["java","spring","byte"],"comments":[{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":0,"creation_date":1669272529,"post_id":74556545,"comment_id":131607866,"body_markdown":"What&#39;s the code of `charToByte`?","body":"What&#39;s the code of <code>charToByte</code>?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1669274487,"post_id":74556545,"comment_id":131608327,"body_markdown":"`getBytes().length` prints the size of the array, not the bytes occupied in memory.","body":"<code>getBytes().length</code> prints the size of the array, not the bytes occupied in memory."}],"answers":[{"tags":[],"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669274621,"creation_date":1669274621,"answer_id":74556995,"question_id":74556545,"body_markdown":"From Oracle docs:\r\n\r\n&gt; char: The char data type is a single 16-bit Unicode character. It has\r\n&gt; a minimum value of &#39;\\u0000&#39; (or 0) and a maximum value of &#39;\\uffff&#39; (or\r\n&gt; 65,535 inclusive).\r\n\r\nso long story short, char is a 2-byte encoding as it&#39;s using Unicode (but I assume that this might change from 1 implementation of JVM to another)\r\n\r\nOn the other hand, String can be stored in many encoding including UTF-8 (which is 1 byte), so depending on the JVM and how you created the string","title":"What&#39;s the number of bytes does `char` occupied in JAVA","body":"<p>From Oracle docs:</p>\n<blockquote>\n<p>char: The char data type is a single 16-bit Unicode character. It has\na minimum value of '\\u0000' (or 0) and a maximum value of '\\uffff' (or\n65,535 inclusive).</p>\n</blockquote>\n<p>so long story short, char is a 2-byte encoding as it's using Unicode (but I assume that this might change from 1 implementation of JVM to another)</p>\n<p>On the other hand, String can be stored in many encoding including UTF-8 (which is 1 byte), so depending on the JVM and how you created the string</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669277037,"creation_date":1669277037,"answer_id":74557449,"question_id":74556545,"body_markdown":"### The basics on String\r\n\r\n`String` holds text as Unicode, and hence can combine Greek, Arabic and Korean in a single String.\r\n\r\nThe type `char` holds **2** bytes, in the Unicode transfer format UTF-16. Many characters, symbols, Unicode _code points_ will fit in 1 `char`, but sometimes a pair of `char`s is needed.\r\n\r\n### The conversion between _text_ (`String`) and _binary data_ (`byte]}`)\r\n\r\nThe binary data is always encoded in some `Charset`. And there always is a conversion between them.\r\n\r\n    Charset charset = Charset.defaultCharset();\r\n    byte[] b =  s.getBytes(cjarset);\r\n    String s = new String(b, charset);\r\n\r\n#### The number of bytes a String occupies\r\n\r\nThe string `&quot;ruĝa&quot;` contains 4 _code points_, symbols, glyphs.\r\nIt is stored in meory as 4 `char`s of 2 bytes = 8 bytes (plus a small object implementing size).\r\n\r\nIt can be stored in binary data for some charset:\r\n- in Latin-1 as &quot;ru�a&quot; or &quot;ru?a&quot; (limited feiled conversion)\r\n- in full UTF-32 as 4x4 = 16 bytes\r\n- in Latin-3 as &quot;ruĝa&quot; = 4 bytes\r\n- in UTF-8 as &quot;ruĝa&quot; = 8 bytes\r\n\r\nHowever recently `String` may use instead of a `char` array a `byte` array, with a Charset, so it can save on memory. That relies on the actual content being a single byte encoding. You should not count on this, say for dynamic strings.\r\n\r\n### Answer\r\n\r\n    public static int bytesInMemory(String s) {\r\n        return s.getBytes(StandardCharsets.UTF_16).length;\r\n    }\r\n\r\nMost code points, symbols, 2 bytes, some 4 bytes each.\r\n\r\nAnd note that `&#233;` might be 2 or 4 bytes: one code point or two code points (basic letter `e` and zero width accent). Vietnamese can even have two accents per letter, so 3 code points.","title":"What&#39;s the number of bytes does `char` occupied in JAVA","body":"<h3>The basics on String</h3>\n<p><code>String</code> holds text as Unicode, and hence can combine Greek, Arabic and Korean in a single String.</p>\n<p>The type <code>char</code> holds <strong>2</strong> bytes, in the Unicode transfer format UTF-16. Many characters, symbols, Unicode <em>code points</em> will fit in 1 <code>char</code>, but sometimes a pair of <code>char</code>s is needed.</p>\n<h3>The conversion between <em>text</em> (<code>String</code>) and <em>binary data</em> (<code>byte]}</code>)</h3>\n<p>The binary data is always encoded in some <code>Charset</code>. And there always is a conversion between them.</p>\n<pre><code>Charset charset = Charset.defaultCharset();\nbyte[] b =  s.getBytes(cjarset);\nString s = new String(b, charset);\n</code></pre>\n<h4>The number of bytes a String occupies</h4>\n<p>The string <code>&quot;ruĝa&quot;</code> contains 4 <em>code points</em>, symbols, glyphs.\nIt is stored in meory as 4 <code>char</code>s of 2 bytes = 8 bytes (plus a small object implementing size).</p>\n<p>It can be stored in binary data for some charset:</p>\n<ul>\n<li>in Latin-1 as &quot;ru�a&quot; or &quot;ru?a&quot; (limited feiled conversion)</li>\n<li>in full UTF-32 as 4x4 = 16 bytes</li>\n<li>in Latin-3 as &quot;ruĝa&quot; = 4 bytes</li>\n<li>in UTF-8 as &quot;ruĝa&quot; = 8 bytes</li>\n</ul>\n<p>However recently <code>String</code> may use instead of a <code>char</code> array a <code>byte</code> array, with a Charset, so it can save on memory. That relies on the actual content being a single byte encoding. You should not count on this, say for dynamic strings.</p>\n<h3>Answer</h3>\n<pre><code>public static int bytesInMemory(String s) {\n    return s.getBytes(StandardCharsets.UTF_16).length;\n}\n</code></pre>\n<p>Most code points, symbols, 2 bytes, some 4 bytes each.</p>\n<p>And note that <code>é</code> might be 2 or 4 bytes: one code point or two code points (basic letter <code>e</code> and zero width accent). Vietnamese can even have two accents per letter, so 3 code points.</p>\n"}],"owner":{"account_id":22425862,"reputation":15,"user_id":16632481,"display_name":"周嘉晔"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74557449,"answer_count":2,"score":1,"last_activity_date":1669277037,"creation_date":1669271925,"question_id":74556545,"body_markdown":"When I use JAVA 8,String is saved with char[],so if i write like follow\r\nString test = &quot;a&quot;;\r\ni think `a` is one element in char[],\r\nas we know,char occupied 2byte in JAVA,so i think test.getBytes().length may be 2 but 1\r\n\r\n```\r\nString test = &quot;a&quot;;\r\nSystem.out.println(test.getBytes().length);\r\nchar c = &#39;c&#39;;\r\nSystem.out.println(charToByte(c).length);\r\n```\r\nresult is\r\n---\r\n1\r\n2\r\n---\r\nletter occupied 1byte as we know,but `a` is saved as one element in char[],char occupied 2byte\r\nso i wonder where did i misunderstand\r\n\r\n","title":"What&#39;s the number of bytes does `char` occupied in JAVA","body":"<p>When I use JAVA 8,String is saved with char[],so if i write like follow\nString test = &quot;a&quot;;\ni think <code>a</code> is one element in char[],\nas we know,char occupied 2byte in JAVA,so i think test.getBytes().length may be 2 but 1</p>\n<pre><code>String test = &quot;a&quot;;\nSystem.out.println(test.getBytes().length);\nchar c = 'c';\nSystem.out.println(charToByte(c).length);\n</code></pre>\n<h2>result is</h2>\n<h2>1\n2</h2>\n<p>letter occupied 1byte as we know,but <code>a</code> is saved as one element in char[],char occupied 2byte\nso i wonder where did i misunderstand</p>\n"},{"tags":["java","spring-security-oauth2","private-key","authorization-server","spring-resource-server"],"answers":[{"tags":[],"owner":{"account_id":20862207,"reputation":31,"user_id":15324143,"display_name":"Xan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669276886,"creation_date":1669276886,"answer_id":74557418,"question_id":74543691,"body_markdown":"I found the answer after reading the book how to work with asymmetric keys, we generate a token based on public and private keys in the `auth-server`, and we have an address for the public key `/oauth2/jwks` with which the `resource-server` checks whether this jwt is really generated by `auth-server`","title":"Spring Security Authorization Server","body":"<p>I found the answer after reading the book how to work with asymmetric keys, we generate a token based on public and private keys in the <code>auth-server</code>, and we have an address for the public key <code>/oauth2/jwks</code> with which the <code>resource-server</code> checks whether this jwt is really generated by <code>auth-server</code></p>\n"}],"owner":{"account_id":20862207,"reputation":31,"user_id":15324143,"display_name":"Xan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74557418,"answer_count":1,"score":0,"last_activity_date":1669276886,"creation_date":1669191828,"question_id":74543691,"body_markdown":"my question about new ```Spring-Security-Authorization-Server```, i create auth-server and resource-server, and generating public and private keys in auth-server. I set jwkSetUri in resource-server, can&#39;t understand how resource-server checks token. Who understood how the verification principle works, how should I implement it correctly?\r\n\r\nMy purpose get correct implementation of new auth server and resource server.","title":"Spring Security Authorization Server","body":"<p>my question about new <code>Spring-Security-Authorization-Server</code>, i create auth-server and resource-server, and generating public and private keys in auth-server. I set jwkSetUri in resource-server, can't understand how resource-server checks token. Who understood how the verification principle works, how should I implement it correctly?</p>\n<p>My purpose get correct implementation of new auth server and resource server.</p>\n"},{"tags":["java","android","flutter","webview"],"comments":[{"owner":{"account_id":3759958,"reputation":1216,"user_id":3125277,"display_name":"Argee"},"score":1,"creation_date":1598871321,"post_id":63667594,"comment_id":112588180,"body_markdown":"please insert the code snippet, that is causing the error","body":"please insert the code snippet, that is causing the error"},{"owner":{"account_id":12057644,"reputation":1537,"user_id":8817821,"display_name":"Mehrdad"},"score":0,"creation_date":1598934271,"post_id":63667594,"comment_id":112609348,"body_markdown":"question has been edited","body":"question has been edited"},{"owner":{"account_id":2370379,"reputation":2150,"user_id":2075134,"accept_rate":78,"display_name":"MrDumb"},"score":0,"creation_date":1619504720,"post_id":63667594,"comment_id":118918761,"body_markdown":"have you found any solution ?","body":"have you found any solution ?"}],"answers":[{"tags":[],"owner":{"account_id":22493980,"reputation":229,"user_id":16691310,"display_name":"Nghien Nghien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669276716,"creation_date":1669276716,"answer_id":74557387,"question_id":63667594,"body_markdown":"I meet this error with the `webview_flutter` plugin version is `2.0.4` (beta).\r\n\r\nI used this version for about 2 years and don&#39;t have any issues. Now, when I meet this issue, I upgraded this plugin to version `2.5.0` and the issue was gone.\r\n\r\nMaybe the version you used too old, I think you should upgrade it up to &lt;3.0 version bcz from 3.0 version is BREAKING CHANGE :D","title":"i get ERROR:ssl_client_socket_impl.cc(946) error from webview in flutter","body":"<p>I meet this error with the <code>webview_flutter</code> plugin version is <code>2.0.4</code> (beta).</p>\n<p>I used this version for about 2 years and don't have any issues. Now, when I meet this issue, I upgraded this plugin to version <code>2.5.0</code> and the issue was gone.</p>\n<p>Maybe the version you used too old, I think you should upgrade it up to &lt;3.0 version bcz from 3.0 version is BREAKING CHANGE :D</p>\n"}],"owner":{"account_id":12057644,"reputation":1537,"user_id":8817821,"display_name":"Mehrdad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":962,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669276716,"creation_date":1598863574,"question_id":63667594,"body_markdown":"I want to use webview in my project in flutter.\r\ni called a url in webview and i see a white page. in log i see this error:\r\n\r\n    E/chromium( 5310): [ERROR:ssl_client_socket_impl.cc(946)] handshake failed; returned -1, SSL error code 1, net_error -202\r\n\r\nI didn&#39;t have any error for other domain\r\n\r\nnotice:\r\n1- I have this problem in android only.\r\n2- I used the android project with java and get this problem too.\r\n\r\nCode:\r\n\r\n    import &#39;package:webview_flutter/webview_flutter.dart&#39; as web;Scaffold(\r\n          \r\n\r\n    appBar: new AppBar(\r\n                title: InkWell(\r\n                  child: isLoading == true\r\n                      ? Loading(\r\n                          indicator: BallPulseIndicator(),\r\n                          size: 100,\r\n                          color: Colors.white,\r\n                        )\r\n                      : Text(&quot;اپلیکیشن آرایشگاه&quot;),\r\n                  onTap: () {\r\n                    _webViewControllerFuture.loadUrl(&quot;domain&quot;);\r\n                  },\r\n                ),\r\n              ),\r\n              body: Builder(builder: (BuildContext context) {\r\n                return SafeArea(\r\n                  child: web.WebView(\r\n                    key: key,\r\n                    onWebViewCreated: (WebViewController webViewController) {\r\n                      _webViewControllerFuture = webViewController;\r\n                    },\r\n                    debuggingEnabled: true,\r\n                    initialUrl: &#39;https://domain&#39;,\r\n                    javascriptMode: web.JavascriptMode.unrestricted,\r\n                    onPageStarted: (String url) {\r\n                      if (url == &quot;https://domain&quot;)\r\n                        scan();\r\n                      else if (!_isBack)\r\n                        setState(() {\r\n                          isLoading = true;\r\n                        });\r\n                    },\r\n                    onPageFinished: (String url) {\r\n                      _isBack = false;\r\n                      setState(() {\r\n                        isLoading = false;\r\n                      });\r\n                    },\r\n                    gestureNavigationEnabled: true,\r\n                  ),\r\n                );\r\n              }),\r\n            );\r\n\r\n","title":"i get ERROR:ssl_client_socket_impl.cc(946) error from webview in flutter","body":"<p>I want to use webview in my project in flutter.\ni called a url in webview and i see a white page. in log i see this error:</p>\n<pre><code>E/chromium( 5310): [ERROR:ssl_client_socket_impl.cc(946)] handshake failed; returned -1, SSL error code 1, net_error -202\n</code></pre>\n<p>I didn't have any error for other domain</p>\n<p>notice:\n1- I have this problem in android only.\n2- I used the android project with java and get this problem too.</p>\n<p>Code:</p>\n<pre><code>import 'package:webview_flutter/webview_flutter.dart' as web;Scaffold(\n      \n\nappBar: new AppBar(\n            title: InkWell(\n              child: isLoading == true\n                  ? Loading(\n                      indicator: BallPulseIndicator(),\n                      size: 100,\n                      color: Colors.white,\n                    )\n                  : Text(&quot;اپلیکیشن آرایشگاه&quot;),\n              onTap: () {\n                _webViewControllerFuture.loadUrl(&quot;domain&quot;);\n              },\n            ),\n          ),\n          body: Builder(builder: (BuildContext context) {\n            return SafeArea(\n              child: web.WebView(\n                key: key,\n                onWebViewCreated: (WebViewController webViewController) {\n                  _webViewControllerFuture = webViewController;\n                },\n                debuggingEnabled: true,\n                initialUrl: 'https://domain',\n                javascriptMode: web.JavascriptMode.unrestricted,\n                onPageStarted: (String url) {\n                  if (url == &quot;https://domain&quot;)\n                    scan();\n                  else if (!_isBack)\n                    setState(() {\n                      isLoading = true;\n                    });\n                },\n                onPageFinished: (String url) {\n                  _isBack = false;\n                  setState(() {\n                    isLoading = false;\n                  });\n                },\n                gestureNavigationEnabled: true,\n              ),\n            );\n          }),\n        );\n</code></pre>\n"},{"tags":["java","android","class","static"],"answers":[{"comments":[{"owner":{"account_id":26995422,"reputation":3,"user_id":20557611,"display_name":"SelnWind12"},"score":0,"creation_date":1669235497,"post_id":74551530,"comment_id":131601307,"body_markdown":"Thanks! Can I ask you one last question? If i want my `getLastKnownLocation()` static class function to return the `Location` object, I cannot do that inside the `addOnSuccessListener` as it says: `unexpected return value`. How can I return a value there?","body":"Thanks! Can I ask you one last question? If i want my <code>getLastKnownLocation()</code> static class function to return the <code>Location</code> object, I cannot do that inside the <code>addOnSuccessListener</code> as it says: <code>unexpected return value</code>. How can I return a value there?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1669235940,"post_id":74551530,"comment_id":131601401,"body_markdown":"@SelnWind12: That is not possible. Your `static` `getLastKnownLocation()` method needs to take some sort of listener object that you can call from `onSuccess()`. Alternatively, if you are using things like RxJava, I think there are adapter libraries that can convert the `Task` that you get back from `fusedLocationClient.getLastLocation()` into something like an RxJava `Single`.","body":"@SelnWind12: That is not possible. Your <code>static</code> <code>getLastKnownLocation()</code> method needs to take some sort of listener object that you can call from <code>onSuccess()</code>. Alternatively, if you are using things like RxJava, I think there are adapter libraries that can convert the <code>Task</code> that you get back from <code>fusedLocationClient.getLastLocation()</code> into something like an RxJava <code>Single</code>."},{"owner":{"account_id":26995422,"reputation":3,"user_id":20557611,"display_name":"SelnWind12"},"score":0,"creation_date":1669237169,"post_id":74551530,"comment_id":131601723,"body_markdown":"Thank you very much for your answer. So I could attach a listener the the `onSuccess()` function to return a parameter into my static class function `getLastKnownLocation`? Thanks again!","body":"Thank you very much for your answer. So I could attach a listener the the <code>onSuccess()</code> function to return a parameter into my static class function <code>getLastKnownLocation</code>? Thanks again!"}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669228330,"creation_date":1669228330,"answer_id":74551530,"question_id":74551458,"body_markdown":"According to [the `Task` JavaDocs](https://developers.google.com/android/reference/com/google/android/gms/tasks/Task), there are three forms of `addOnSuccessListener()`. You could consider using [the one that does not take an `Activity` as the first parameter](https://developers.google.com/android/reference/com/google/android/gms/tasks/Task?hl=en#addOnSuccessListener(com.google.android.gms.tasks.OnSuccessListener%3C?%20super%20TResult%3E)).\r\n","title":"How to avoid using Listener on Android - Java","body":"<p>According to <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Task\" rel=\"nofollow noreferrer\">the <code>Task</code> JavaDocs</a>, there are three forms of <code>addOnSuccessListener()</code>. You could consider using <a href=\"https://developers.google.com/android/reference/com/google/android/gms/tasks/Task?hl=en#addOnSuccessListener(com.google.android.gms.tasks.OnSuccessListener%3C?%20super%20TResult%3E)\" rel=\"nofollow noreferrer\">the one that does not take an <code>Activity</code> as the first parameter</a>.</p>\n"},{"tags":[],"owner":{"account_id":26484179,"reputation":1,"user_id":20123024,"display_name":"Jo&#227;o Ferreira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669229300,"creation_date":1669228459,"answer_id":74551548,"question_id":74551458,"body_markdown":"you can change the code to export this listener, example:\r\n\r\n    public Task&lt;Location&gt; getLastKnownLocation() {\r\n        FusedLocationProviderClient fusedLocationClient = LocationServices.\r\n                getFusedLocationProviderClient(App.getContext());\r\n    \r\n        return fusedLocationClient.getLastLocation()\r\n\r\nAnd when you call getLastKnownLocation, should do:\r\n\r\n    getLastKnownLocation().addOnSuccessListener(....).addOnFailureListener(...)\r\n\r\n","title":"How to avoid using Listener on Android - Java","body":"<p>you can change the code to export this listener, example:</p>\n<pre><code>public Task&lt;Location&gt; getLastKnownLocation() {\n    FusedLocationProviderClient fusedLocationClient = LocationServices.\n            getFusedLocationProviderClient(App.getContext());\n\n    return fusedLocationClient.getLastLocation()\n</code></pre>\n<p>And when you call getLastKnownLocation, should do:</p>\n<pre><code>getLastKnownLocation().addOnSuccessListener(....).addOnFailureListener(...)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1669276611,"post_id":74557031,"comment_id":131609016,"body_markdown":"For Kotlin, I believe can rely on `Coroutines` to achieve the same result.","body":"For Kotlin, I believe can rely on <code>Coroutines</code> to achieve the same result."}],"tags":[],"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669276651,"creation_date":1669274873,"answer_id":74557031,"question_id":74551458,"body_markdown":"Just want to share some idea about how to make `getLastKnownLocation()` to return `Location` object directly in Java, that the OP asked in the comment section in the recommened answer.\r\n\r\n---\r\nI will use `AlertDialog` and `onDismissListener` as an example here.\r\n\r\nLet&#39;s say after a dialog has been dismissed, it needs to return a value back to the caller:\r\n\r\n\r\n```\r\npublic void showDialog() {\r\n   boolean readyToDoNextStep = false;\r\n\r\n   AlertDialog ad = new AlertDialog.Builder(context)\r\n                            .setTitle(&quot;title&quot;)\r\n                            .setMessage(&quot;message&quot;)\r\n                            .setOnDismissListener(dialog -&gt; {\r\n                                readyToDoNextStep = true; // &lt;= update flag and return to caller!                    \r\n                             });\r\n}\r\n\r\n``` \r\n\r\nThe first way I will use is to pass an Interface to it (which is still not the OP wants :) )\r\n```\r\npublic interface DismissCallback {\r\n   void isReady(boolean flag);\r\n}\r\n\r\npublic void showDialog(DismissCallback cb) {\r\n   boolean readyToDoNextStep = false;\r\n\r\n   AlertDialog ad = new AlertDialog.Builder(context)\r\n                            .setTitle(&quot;title&quot;)\r\n                            .setMessage(&quot;message&quot;)\r\n                            .setOnDismissListener(dialog -&gt; {\r\n                                readyToDoNextStep = true;\r\n                                cb.isReady(readyToDoNextStep); // &lt;= call callback method                    \r\n                             });\r\n}\r\n\r\npublic void main() {\r\n   showDialog((flag) -&gt; { //flag == true here  });\r\n}\r\n\r\n```\r\n\r\nThe second way is to use `Future` and `thread synchronization`.\r\nThe idea is to use `thread synchronization` to collect the result from the listener and then return the results to `Future`.\r\n\r\nThe calling will be as simple as boolean `shallGoToNextStep = showDialog(context)` but you can see that the implementation will be more complicated. Especially I am using an UI component and its listener as an example so I need be-aware which thread I am at.\r\n\r\n```\r\n// For thread synchronization\r\npublic static class ReadyCallback {\r\n     boolean complete = false;\r\n     Boolean readyToDoNextStep = false;\r\n}\r\n\r\n\r\n// Return boolean directly here\r\n// This shall be run on worker thread or else the main thread will be loop to dead\r\n    public boolean showDialog(Context context) {\r\n        ReadyCallback cb = new ReadyCallback();\r\n        Future&lt;Boolean&gt; future = Executors.newCachedThreadPool().submit(() -&gt; {\r\n            ContextCompat.getMainExecutor(context).execute(() -&gt; {\r\n                AlertDialog ad = new AlertDialog.Builder(context)\r\n                        .setTitle(&quot;title&quot;)\r\n                        .setMessage(&quot;message&quot;)\r\n                        .setOnDismissListener(dialog -&gt; {\r\n                            cb.complete = true;\r\n                            cb.readyToDoNextStep = true;\r\n                            synchronized (cb) {\r\n                                cb.notifyAll();\r\n                            }\r\n                        }).create();\r\n                ad.show();\r\n            });\r\n\r\n            // while loop - until cb.complete is marked to true\r\n            while (!cb.complete) {\r\n                synchronized (cb) {\r\n                    cb.wait();\r\n                }\r\n            }\r\n\r\n            // return status\r\n            return cb.readyToDoNextStep;\r\n        });\r\n\r\n        try {\r\n            return future.get();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n\r\n```","title":"How to avoid using Listener on Android - Java","body":"<p>Just want to share some idea about how to make <code>getLastKnownLocation()</code> to return <code>Location</code> object directly in Java, that the OP asked in the comment section in the recommened answer.</p>\n<hr />\n<p>I will use <code>AlertDialog</code> and <code>onDismissListener</code> as an example here.</p>\n<p>Let's say after a dialog has been dismissed, it needs to return a value back to the caller:</p>\n<pre><code>public void showDialog() {\n   boolean readyToDoNextStep = false;\n\n   AlertDialog ad = new AlertDialog.Builder(context)\n                            .setTitle(&quot;title&quot;)\n                            .setMessage(&quot;message&quot;)\n                            .setOnDismissListener(dialog -&gt; {\n                                readyToDoNextStep = true; // &lt;= update flag and return to caller!                    \n                             });\n}\n\n</code></pre>\n<p>The first way I will use is to pass an Interface to it (which is still not the OP wants :) )</p>\n<pre><code>public interface DismissCallback {\n   void isReady(boolean flag);\n}\n\npublic void showDialog(DismissCallback cb) {\n   boolean readyToDoNextStep = false;\n\n   AlertDialog ad = new AlertDialog.Builder(context)\n                            .setTitle(&quot;title&quot;)\n                            .setMessage(&quot;message&quot;)\n                            .setOnDismissListener(dialog -&gt; {\n                                readyToDoNextStep = true;\n                                cb.isReady(readyToDoNextStep); // &lt;= call callback method                    \n                             });\n}\n\npublic void main() {\n   showDialog((flag) -&gt; { //flag == true here  });\n}\n\n</code></pre>\n<p>The second way is to use <code>Future</code> and <code>thread synchronization</code>.\nThe idea is to use <code>thread synchronization</code> to collect the result from the listener and then return the results to <code>Future</code>.</p>\n<p>The calling will be as simple as boolean <code>shallGoToNextStep = showDialog(context)</code> but you can see that the implementation will be more complicated. Especially I am using an UI component and its listener as an example so I need be-aware which thread I am at.</p>\n<pre><code>// For thread synchronization\npublic static class ReadyCallback {\n     boolean complete = false;\n     Boolean readyToDoNextStep = false;\n}\n\n\n// Return boolean directly here\n// This shall be run on worker thread or else the main thread will be loop to dead\n    public boolean showDialog(Context context) {\n        ReadyCallback cb = new ReadyCallback();\n        Future&lt;Boolean&gt; future = Executors.newCachedThreadPool().submit(() -&gt; {\n            ContextCompat.getMainExecutor(context).execute(() -&gt; {\n                AlertDialog ad = new AlertDialog.Builder(context)\n                        .setTitle(&quot;title&quot;)\n                        .setMessage(&quot;message&quot;)\n                        .setOnDismissListener(dialog -&gt; {\n                            cb.complete = true;\n                            cb.readyToDoNextStep = true;\n                            synchronized (cb) {\n                                cb.notifyAll();\n                            }\n                        }).create();\n                ad.show();\n            });\n\n            // while loop - until cb.complete is marked to true\n            while (!cb.complete) {\n                synchronized (cb) {\n                    cb.wait();\n                }\n            }\n\n            // return status\n            return cb.readyToDoNextStep;\n        });\n\n        try {\n            return future.get();\n        } catch (Exception e) {\n            e.printStackTrace();\n            return false;\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":26995422,"reputation":3,"user_id":20557611,"display_name":"SelnWind12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74551530,"answer_count":3,"score":0,"last_activity_date":1669276651,"creation_date":1669227852,"question_id":74551458,"body_markdown":"I&#39;m trying to get the `last user&#39;s position` but I&#39;m in a static context.\r\n\r\nHere&#39;s the code\r\n\r\n```\r\npublic void getLastKnownLocation() {\r\n    FusedLocationProviderClient fusedLocationClient = LocationServices.\r\n            getFusedLocationProviderClient(App.getContext());\r\n\r\n    fusedLocationClient.getLastLocation()\r\n            .addOnSuccessListener(**activity_needed_here**, new OnSuccessListener&lt;Location&gt;() {\r\n                @Override\r\n                public void onSuccess(Location location) {\r\n                    // Got last known location. In some rare situations this can be null.\r\n                    if (location != null) {\r\n                        System.out.println(&quot;Speed is &quot; + location.getSpeed());\r\n                    }\r\n                }\r\n            });\r\n```\r\n\r\n\r\nThe problem is that I&#39;m in a static context and I cannot have an activity here to call. I can, however, access the `app context`.\r\n\r\nHow can I avoid using the `addOnSuccessListener` or how can I implement this in a static context?","title":"How to avoid using Listener on Android - Java","body":"<p>I'm trying to get the <code>last user's position</code> but I'm in a static context.</p>\n<p>Here's the code</p>\n<pre><code>public void getLastKnownLocation() {\n    FusedLocationProviderClient fusedLocationClient = LocationServices.\n            getFusedLocationProviderClient(App.getContext());\n\n    fusedLocationClient.getLastLocation()\n            .addOnSuccessListener(**activity_needed_here**, new OnSuccessListener&lt;Location&gt;() {\n                @Override\n                public void onSuccess(Location location) {\n                    // Got last known location. In some rare situations this can be null.\n                    if (location != null) {\n                        System.out.println(&quot;Speed is &quot; + location.getSpeed());\n                    }\n                }\n            });\n</code></pre>\n<p>The problem is that I'm in a static context and I cannot have an activity here to call. I can, however, access the <code>app context</code>.</p>\n<p>How can I avoid using the <code>addOnSuccessListener</code> or how can I implement this in a static context?</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1629274990,"post_id":68828586,"comment_id":121640692,"body_markdown":"Which indicates that your entitymanager setup is wrong. Also please remove `@Repository` from `UserRepository` it is useless as Spring Data uses other means to detect repositories.","body":"Which indicates that your entitymanager setup is wrong. Also please remove <code>@Repository</code> from <code>UserRepository</code> it is useless as Spring Data uses other means to detect repositories."},{"owner":{"account_id":14698535,"reputation":46,"user_id":10615254,"display_name":"Fatih Aykut"},"score":0,"creation_date":1629275933,"post_id":68828586,"comment_id":121641076,"body_markdown":"Actually this was very helpful i looked my JpaConfig file and edited setPackagesToScan method to this\n`factory.setPackagesToScan(new String[] {&quot;com.aykut.modal&quot;});` \nThanks!","body":"Actually this was very helpful i looked my JpaConfig file and edited setPackagesToScan method to this <code>factory.setPackagesToScan(new String[] {&quot;com.aykut.modal&quot;});</code>  Thanks!"},{"owner":{"account_id":3561836,"reputation":1206,"user_id":3408806,"display_name":"nobjta_9x_tq"},"score":0,"creation_date":1649184139,"post_id":68828586,"comment_id":126810309,"body_markdown":"Maybe when you using Persistence tool of Inteliji for generate entity, but also checked to &#39;generate persistence.xml file&#39; =&gt; this file will make your project error, please checking and delete this file.","body":"Maybe when you using Persistence tool of Inteliji for generate entity, but also checked to &#39;generate persistence.xml file&#39; =&gt; this file will make your project error, please checking and delete this file."}],"answers":[{"tags":[],"owner":{"account_id":19529368,"reputation":1,"user_id":14289530,"display_name":"Brandon Hauser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669276599,"creation_date":1669276599,"answer_id":74557368,"question_id":68828586,"body_markdown":"I had a similar error happen repeatedly until I found that I had imported `jakarta.persistence.Entity` instead of `javax.persistence.Entity`.  Once I changed it to javax everything worked.","title":"Spring Not a Managed Type class","body":"<p>I had a similar error happen repeatedly until I found that I had imported <code>jakarta.persistence.Entity</code> instead of <code>javax.persistence.Entity</code>.  Once I changed it to javax everything worked.</p>\n"}],"owner":{"account_id":14698535,"reputation":46,"user_id":10615254,"display_name":"Fatih Aykut"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2203,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1669276599,"creation_date":1629273659,"question_id":68828586,"body_markdown":"Note: I`m not using spring boot\r\n\r\nAll the errors in here\r\n\r\n&gt; Error creating bean with name &#39;writeData&#39;: Unsatisfied dependency\r\n&gt; expressed through field &#39;userRepository&#39;; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;userRepository&#39; defined in\r\n&gt; com.aykut.repository.UserRepository defined in @EnableJpaRepositories\r\n&gt; declared on SpringConfig: Invocation of init method failed; nested\r\n&gt; exception is java.lang.IllegalArgumentException: Not a managed type:\r\n&gt; class com.aykut.modal.User\r\n&gt; \r\n&gt; Error creating bean with name &#39;userRepository&#39; defined in com.aykut.repository.UserRepository defined in @EnableJpaRepositories\r\n&gt; declared on SpringConfig: Invocation of init method failed; nested\r\n&gt; exception is java.lang.IllegalArgumentException: Not a managed type:\r\n&gt; class com.aykut.modal.User\r\n&gt; \r\n&gt; Not a managed type: class com.aykut.modal.User\r\n\r\n[![Project tree][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ducWP.png\r\n\r\nUser class\r\n\r\n    @Entity\r\n    public class User {\r\n    \t@Id\r\n        Integer id;\r\n        String name;\r\n        String surname;\r\n    \r\n        public User(Integer id, String name, String surname) {\r\n            this.id = id;\r\n            this.name = name;\r\n            this.surname = surname;\r\n        }\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getSurname() {\r\n            return surname;\r\n        }\r\n    \r\n        public void setSurname(String surname) {\r\n            this.surname = surname;\r\n        }\r\n    }\r\n\r\nSpring config class\r\n\r\n    @Configuration\r\n    @EnableJpaAuditing\r\n    @EnableJpaRepositories(basePackages = {\r\n            &quot;com.aykut.repository&quot;\r\n    })\r\n    @ComponentScan(basePackages = { &quot;com.aykut&quot;})\r\n    public class SpringConfig {\r\n    }\r\n\r\nUser Repository class\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n    \r\n    }\r\n\r\n\r\nI am just trying to write data to my Postgres database using the spring batch. \r\n","title":"Spring Not a Managed Type class","body":"<p>Note: I`m not using spring boot</p>\n<p>All the errors in here</p>\n<blockquote>\n<p>Error creating bean with name 'writeData': Unsatisfied dependency\nexpressed through field 'userRepository'; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'userRepository' defined in\ncom.aykut.repository.UserRepository defined in @EnableJpaRepositories\ndeclared on SpringConfig: Invocation of init method failed; nested\nexception is java.lang.IllegalArgumentException: Not a managed type:\nclass com.aykut.modal.User</p>\n<p>Error creating bean with name 'userRepository' defined in com.aykut.repository.UserRepository defined in @EnableJpaRepositories\ndeclared on SpringConfig: Invocation of init method failed; nested\nexception is java.lang.IllegalArgumentException: Not a managed type:\nclass com.aykut.modal.User</p>\n<p>Not a managed type: class com.aykut.modal.User</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/ducWP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ducWP.png\" alt=\"Project tree\" /></a></p>\n<p>User class</p>\n<pre><code>@Entity\npublic class User {\n    @Id\n    Integer id;\n    String name;\n    String surname;\n\n    public User(Integer id, String name, String surname) {\n        this.id = id;\n        this.name = name;\n        this.surname = surname;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getSurname() {\n        return surname;\n    }\n\n    public void setSurname(String surname) {\n        this.surname = surname;\n    }\n}\n</code></pre>\n<p>Spring config class</p>\n<pre><code>@Configuration\n@EnableJpaAuditing\n@EnableJpaRepositories(basePackages = {\n        &quot;com.aykut.repository&quot;\n})\n@ComponentScan(basePackages = { &quot;com.aykut&quot;})\npublic class SpringConfig {\n}\n</code></pre>\n<p>User Repository class</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n}\n</code></pre>\n<p>I am just trying to write data to my Postgres database using the spring batch.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669271482,"post_id":74556392,"comment_id":131607636,"body_markdown":"What does `Handler` do with that `Class` instance?","body":"What does <code>Handler</code> do with that <code>Class</code> instance?"},{"owner":{"account_id":10976578,"reputation":433,"user_id":8448397,"display_name":"Tacodiva"},"score":0,"creation_date":1669271655,"post_id":74556392,"comment_id":131607667,"body_markdown":"@tgdavies Shouldn&#39;t really matter to the question, but it&#39;s looking for some annotations and some meta-info like the package","body":"@tgdavies Shouldn&#39;t really matter to the question, but it&#39;s looking for some annotations and some meta-info like the package"}],"answers":[{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669273202,"creation_date":1669272797,"answer_id":74556683,"question_id":74556392,"body_markdown":"You can solve the problem by casting the class object to type `Class&lt;List&lt;?&gt;&gt;` in the `MyHandler` constructor:\r\n\r\n```\r\nMyHandler() {\r\n    super((Class&lt;List&lt;?&gt;&gt;) (Object) List.class); \r\n}\r\n```\r\n\r\n### The problem\r\n\r\nThe problem is that there is no simple way in Java to express a class literal of type `Class&lt;List&lt;?&gt;&gt;`. `List.class` has type `Class&lt;List&gt;`.\r\n\r\nI think there are situations where it would not be safe to the second type to the first one, but in your code there is probable no problem at all.\r\n\r\nIf, for example, your code uses `clazz` to check the runtime type of objects using `isAssignableFrom` you might get it trouble.\r\n\r\n### Type token\r\n\r\nIf you use some type-token implementation instead of a `java.lang.Class`, for example the one in Guava, you will be able to express a literal of the exact right type:\r\n\r\n```\r\nabstract class Handler&lt;T&gt; {\r\n\tHandler(TypeToken&lt;T&gt; clazz) {\r\n\t    // ...\r\n\t}\r\n\r\n    abstract void handle(T object);\r\n}\r\n\r\nclass MyHandler extends Handler&lt;List&lt;?&gt;&gt; {\r\n\tMyHandler() {\r\n\t    super(new TypeToken&lt;List&lt;?&gt;&gt;() {}); \r\n\t}\r\n\r\n    void handle(List&lt;?&gt; object) {\r\n        // ...\r\n    }\r\n}\r\n```","title":"How to avoid using a raw type as a generic parameter when Class&lt;T&gt; is needed","body":"<p>You can solve the problem by casting the class object to type <code>Class&lt;List&lt;?&gt;&gt;</code> in the <code>MyHandler</code> constructor:</p>\n<pre><code>MyHandler() {\n    super((Class&lt;List&lt;?&gt;&gt;) (Object) List.class); \n}\n</code></pre>\n<h3>The problem</h3>\n<p>The problem is that there is no simple way in Java to express a class literal of type <code>Class&lt;List&lt;?&gt;&gt;</code>. <code>List.class</code> has type <code>Class&lt;List&gt;</code>.</p>\n<p>I think there are situations where it would not be safe to the second type to the first one, but in your code there is probable no problem at all.</p>\n<p>If, for example, your code uses <code>clazz</code> to check the runtime type of objects using <code>isAssignableFrom</code> you might get it trouble.</p>\n<h3>Type token</h3>\n<p>If you use some type-token implementation instead of a <code>java.lang.Class</code>, for example the one in Guava, you will be able to express a literal of the exact right type:</p>\n<pre><code>abstract class Handler&lt;T&gt; {\n    Handler(TypeToken&lt;T&gt; clazz) {\n        // ...\n    }\n\n    abstract void handle(T object);\n}\n\nclass MyHandler extends Handler&lt;List&lt;?&gt;&gt; {\n    MyHandler() {\n        super(new TypeToken&lt;List&lt;?&gt;&gt;() {}); \n    }\n\n    void handle(List&lt;?&gt; object) {\n        // ...\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1669273727,"post_id":74556701,"comment_id":131608135,"body_markdown":"Cool trick! An implicit super-constructor call with an empty var-args array! Might be a little too tricky, tough...","body":"Cool trick! An implicit super-constructor call with an empty var-args array! Might be a little too tricky, tough..."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1669273805,"post_id":74556701,"comment_id":131608163,"body_markdown":"And you ARE pretty good at English.","body":"And you ARE pretty good at English."},{"owner":{"account_id":10976578,"reputation":433,"user_id":8448397,"display_name":"Tacodiva"},"score":0,"creation_date":1669275157,"post_id":74556701,"comment_id":131608516,"body_markdown":"I think Lii&#39;s answer is more appropriate for he problem, but still a +1 this is a really cool trick","body":"I think Lii&#39;s answer is more appropriate for he problem, but still a +1 this is a really cool trick"}],"tags":[],"owner":{"display_name":"user17233545"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669276444,"creation_date":1669272919,"answer_id":74556701,"question_id":74556392,"body_markdown":"You don&#39;t need to pass a class object to the `Handler` constructor.\r\n\r\n    abstract class Handler&lt;T&gt; {\r\n        final Class&lt;T&gt; clazz;\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        Handler(T... dummy) {\r\n            if (dummy == null || dummy.length &gt; 0)\r\n                throw new IllegalArgumentException(&quot;Do not specify the &#39;dummy&#39; argument&quot;);\r\n            clazz = (Class&lt;T&gt;) dummy.getClass().componentType();\r\n            System.out.println(&quot;Handler clazz=&quot; + clazz);\r\n        }\r\n\r\n        abstract void handle(T object);\r\n\r\n    }\r\n\r\n    class MyHandler extends Handler&lt;List&lt;Integer&gt;&gt; {\r\n        void handle(List&lt;Integer&gt; object) {\r\n            // ...\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    MyHandler mh = new MyHandler();\r\n\r\noutput\r\n\r\n    Handler clazz=interface java.util.List\r\n\r\nYou can also implement anonymous inner classes.\r\n\r\n    Handler&lt;String&gt; h = new Handler&lt;&gt;() {\r\n        @Override\r\n        void handle(String object) {\r\n            // TODO Auto-generated method stub\r\n        }\r\n    };\r\n\r\noutput\r\n\r\n    Handler clazz=class java.lang.String\r\n\r\n","title":"How to avoid using a raw type as a generic parameter when Class&lt;T&gt; is needed","body":"<p>You don't need to pass a class object to the <code>Handler</code> constructor.</p>\n<pre><code>abstract class Handler&lt;T&gt; {\n    final Class&lt;T&gt; clazz;\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    Handler(T... dummy) {\n        if (dummy == null || dummy.length &gt; 0)\n            throw new IllegalArgumentException(&quot;Do not specify the 'dummy' argument&quot;);\n        clazz = (Class&lt;T&gt;) dummy.getClass().componentType();\n        System.out.println(&quot;Handler clazz=&quot; + clazz);\n    }\n\n    abstract void handle(T object);\n\n}\n\nclass MyHandler extends Handler&lt;List&lt;Integer&gt;&gt; {\n    void handle(List&lt;Integer&gt; object) {\n        // ...\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>MyHandler mh = new MyHandler();\n</code></pre>\n<p>output</p>\n<pre><code>Handler clazz=interface java.util.List\n</code></pre>\n<p>You can also implement anonymous inner classes.</p>\n<pre><code>Handler&lt;String&gt; h = new Handler&lt;&gt;() {\n    @Override\n    void handle(String object) {\n        // TODO Auto-generated method stub\n    }\n};\n</code></pre>\n<p>output</p>\n<pre><code>Handler clazz=class java.lang.String\n</code></pre>\n"}],"owner":{"account_id":10976578,"reputation":433,"user_id":8448397,"display_name":"Tacodiva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74556683,"answer_count":2,"score":1,"last_activity_date":1669276444,"creation_date":1669270820,"question_id":74556392,"body_markdown":"I have an abstract class that looks like this:\r\n```java\r\nabstract class Handler&lt;T&gt; {\r\n\r\n    Handler(Class&lt;T&gt; clazz) {\r\n        // ...\r\n    }\r\n\r\n    abstract void handle(T object);\r\n\r\n}\r\n```\r\nI&#39;m trying to extent it, where `T` is a type with a wildcard generic parameter (for the sake of the example, say `List&lt;?&gt;`). What I want to be able to do is something like:\r\n```java\r\nclass MyHandler extends Handler&lt;List&lt;?&gt;&gt; {\r\n    MyHandler() {\r\n        super(List.class); \r\n     // ^ Compiler error: The constructor Handler&lt;List&lt;?&gt;&gt;(Class&lt;List&gt;) is undefined\r\n     // super(List&lt;?&gt;.class); is also a compiler error\r\n    }\r\n\r\n    void handle(List&lt;?&gt; object) {\r\n        // ...\r\n    }\r\n}\r\n```\r\nAs far as I can tell the above is totally safe, so I&#39;m not sure why the compiler doesn&#39;t allow it. My current solution involves the use of raw types, unsafe casting and suppression of the warnings and seems like it can&#39;t be solution the language intends me to use:\r\n```java\r\nclass MyHandler extends Handler&lt;List&gt; { // Warning: List is a raw type\r\n    MyHandler() {\r\n        super(List.class); \r\n    }\r\n\r\n    void handle(List objectRaw) { // Warning: List is a raw type\r\n        List&lt;?&gt; object = (List&lt;?&gt;) objectRaw;\r\n        // ...\r\n    }\r\n}\r\n```\r\nThis needs to be a singleton so I can&#39;t add generic parameters to ``MyHandler``. How do I avoid all these bad practices (raw types and the cast)? Theres no reason this should be unsafe and I&#39;m having a hard time believing there&#39;s no way to do this in Java.","title":"How to avoid using a raw type as a generic parameter when Class&lt;T&gt; is needed","body":"<p>I have an abstract class that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Handler&lt;T&gt; {\n\n    Handler(Class&lt;T&gt; clazz) {\n        // ...\n    }\n\n    abstract void handle(T object);\n\n}\n</code></pre>\n<p>I'm trying to extent it, where <code>T</code> is a type with a wildcard generic parameter (for the sake of the example, say <code>List&lt;?&gt;</code>). What I want to be able to do is something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyHandler extends Handler&lt;List&lt;?&gt;&gt; {\n    MyHandler() {\n        super(List.class); \n     // ^ Compiler error: The constructor Handler&lt;List&lt;?&gt;&gt;(Class&lt;List&gt;) is undefined\n     // super(List&lt;?&gt;.class); is also a compiler error\n    }\n\n    void handle(List&lt;?&gt; object) {\n        // ...\n    }\n}\n</code></pre>\n<p>As far as I can tell the above is totally safe, so I'm not sure why the compiler doesn't allow it. My current solution involves the use of raw types, unsafe casting and suppression of the warnings and seems like it can't be solution the language intends me to use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyHandler extends Handler&lt;List&gt; { // Warning: List is a raw type\n    MyHandler() {\n        super(List.class); \n    }\n\n    void handle(List objectRaw) { // Warning: List is a raw type\n        List&lt;?&gt; object = (List&lt;?&gt;) objectRaw;\n        // ...\n    }\n}\n</code></pre>\n<p>This needs to be a singleton so I can't add generic parameters to <code>MyHandler</code>. How do I avoid all these bad practices (raw types and the cast)? Theres no reason this should be unsafe and I'm having a hard time believing there's no way to do this in Java.</p>\n"},{"tags":["java","spring","hibernate","bean-validation"],"comments":[{"owner":{"display_name":"user8558216"},"score":0,"creation_date":1525369125,"post_id":50160778,"comment_id":87339702,"body_markdown":"FYI This is is NOT the JPA API. It is the Bean Validation API.","body":"FYI This is is NOT the JPA API. It is the Bean Validation API."},{"owner":{"account_id":4802848,"reputation":2464,"user_id":3878948,"accept_rate":86,"display_name":"Rishabh Agarwal"},"score":0,"creation_date":1633717493,"post_id":50160778,"comment_id":122843361,"body_markdown":"@Size works with String type only","body":"@Size works with String type only"},{"owner":{"account_id":254507,"reputation":6148,"user_id":533967,"accept_rate":91,"display_name":"Anders Metnik"},"score":1,"creation_date":1637069823,"post_id":50160778,"comment_id":123722777,"body_markdown":"@RishabhAgarwal also works for collections etc.","body":"@RishabhAgarwal also works for collections etc."}],"answers":[{"tags":[],"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1525368663,"creation_date":1525368663,"answer_id":50160839,"question_id":50160778,"body_markdown":"`@Size` is not used to validate min/max.\r\n\r\nIt&#39;s used to validate size of collections, length of strings, etc.\r\n\r\nIn this case you should use `@Min`, `@Max` instead.\r\n\r\nRefer here for complete document: https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Size.html","title":"No validator could be found for constraint &#39;javax.validation.constraints.Size&#39;","body":"<p><code>@Size</code> is not used to validate min/max.</p>\n\n<p>It's used to validate size of collections, length of strings, etc.</p>\n\n<p>In this case you should use <code>@Min</code>, <code>@Max</code> instead.</p>\n\n<p>Refer here for complete document: <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Size.html\" rel=\"noreferrer\">https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Size.html</a></p>\n"},{"comments":[{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":2,"creation_date":1585042842,"post_id":50160843,"comment_id":107621119,"body_markdown":"Note that @Range is found in `org.hibernate.validator.constraints`, and not in `javax.validation.constraints`","body":"Note that @Range is found in <code>org.hibernate.validator.constraints</code>, and not in <code>javax.validation.constraints</code>"}],"tags":[],"owner":{"account_id":6512774,"reputation":7115,"user_id":5039498,"display_name":"Amit Bera"},"comment_count":1,"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1525368998,"creation_date":1525368678,"answer_id":50160843,"question_id":50160778,"body_markdown":"`@Size` is a Bean Validation annotation that validates that the associated `String` has a value whose `length` is bounded by the `minimum and maximum` values. And as your `exception` says it does not apply to `Integer` type.\r\n\r\nUse: `@Range`\r\n\r\n    @Column(name= &quot;discount_percentage&quot;)\r\n    @Range(min=0, max=90)\r\n    private Integer discountPercentage = 0;\r\n\r\nOr you cloud also use only `@Max or @Min` and that will work too. For more info please take a look on [this][1] link.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/validator/3.1/reference/en/html_single/","title":"No validator could be found for constraint &#39;javax.validation.constraints.Size&#39;","body":"<p><code>@Size</code> is a Bean Validation annotation that validates that the associated <code>String</code> has a value whose <code>length</code> is bounded by the <code>minimum and maximum</code> values. And as your <code>exception</code> says it does not apply to <code>Integer</code> type.</p>\n\n<p>Use: <code>@Range</code></p>\n\n<pre><code>@Column(name= \"discount_percentage\")\n@Range(min=0, max=90)\nprivate Integer discountPercentage = 0;\n</code></pre>\n\n<p>Or you cloud also use only <code>@Max or @Min</code> and that will work too. For more info please take a look on <a href=\"https://docs.jboss.org/hibernate/validator/3.1/reference/en/html_single/\" rel=\"noreferrer\">this</a> link.</p>\n"},{"tags":[],"owner":{"account_id":437584,"reputation":915,"user_id":825363,"accept_rate":18,"display_name":"Shashank.gupta40"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669276430,"creation_date":1669276430,"answer_id":74557331,"question_id":50160778,"body_markdown":"I have observed this pattern when, the **parameter** type does not match with validator. as here `List&lt;String&gt;` is not matiching `List&lt;Long&gt;`\r\n\r\nEx Validator: \r\n\r\n    public class MaxValidation implements ConstraintValidator&lt;MaxParameterSize, List&lt;String&gt;&gt; {\r\n      ....\r\n     }\r\n\r\nAnnotation Use :\r\n\r\n        public Response abc(@NotNull @MaxParameterSize(10) List&lt;Long&gt; parcelIds { \r\n        ....\r\n        }","title":"No validator could be found for constraint &#39;javax.validation.constraints.Size&#39;","body":"<p>I have observed this pattern when, the <strong>parameter</strong> type does not match with validator. as here <code>List&lt;String&gt;</code> is not matiching <code>List&lt;Long&gt;</code></p>\n<p>Ex Validator:</p>\n<pre><code>public class MaxValidation implements ConstraintValidator&lt;MaxParameterSize, List&lt;String&gt;&gt; {\n  ....\n }\n</code></pre>\n<p>Annotation Use :</p>\n<pre><code>    public Response abc(@NotNull @MaxParameterSize(10) List&lt;Long&gt; parcelIds { \n    ....\n    }\n</code></pre>\n"}],"owner":{"account_id":8469739,"reputation":445,"user_id":6352807,"display_name":"Lucas. D"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58038,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":50160843,"answer_count":3,"score":26,"last_activity_date":1669276430,"creation_date":1525368412,"question_id":50160778,"body_markdown":"I have the following error\r\n\r\n&gt; javax.validation.UnexpectedTypeException: HV000030: No validator could\r\n&gt; be found for constraint &#39;javax.validation.constraints.Size&#39; validating\r\n&gt; type &#39;java.lang.Integer&#39;. Check configuration for &#39;discounted&#39;\r\n\r\nMy code is:\r\n\r\n    @Column(name= &quot;discount_percentage&quot;)\r\n    @Size(min=0, max=90)\r\n    @Min(0)\r\n    @Max(90)\r\n    private Integer discountPercentage = 0;\r\n\r\nI set it to 0 because i was getting a NullPointerException when loading my view.\r\nAnd is Integer because i was reading in others question, and some people says that sometimes there are problems when using @Size with primitive types. \r\n\r\nWhat should i do? Thanks in advance.","title":"No validator could be found for constraint &#39;javax.validation.constraints.Size&#39;","body":"<p>I have the following error</p>\n\n<blockquote>\n  <p>javax.validation.UnexpectedTypeException: HV000030: No validator could\n  be found for constraint 'javax.validation.constraints.Size' validating\n  type 'java.lang.Integer'. Check configuration for 'discounted'</p>\n</blockquote>\n\n<p>My code is:</p>\n\n<pre><code>@Column(name= \"discount_percentage\")\n@Size(min=0, max=90)\n@Min(0)\n@Max(90)\nprivate Integer discountPercentage = 0;\n</code></pre>\n\n<p>I set it to 0 because i was getting a NullPointerException when loading my view.\nAnd is Integer because i was reading in others question, and some people says that sometimes there are problems when using @Size with primitive types. </p>\n\n<p>What should i do? Thanks in advance.</p>\n"},{"tags":["java","constructor"],"answers":[{"tags":[],"owner":{"account_id":13465,"reputation":7411,"user_id":27067,"accept_rate":100,"display_name":"iny"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1224871001,"creation_date":1224870663,"answer_id":234610,"question_id":234600,"body_markdown":"You can get other constructors with &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getConstructor(java.lang.Class...)&quot;&gt;getConstructor(...)&lt;/a&gt;.","title":"Can I use Class.newInstance() with constructor arguments?","body":"<p>You can get other constructors with <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#getConstructor(java.lang.Class...)\" rel=\"noreferrer\">getConstructor(...)</a>.</p>\n"},{"comments":[{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":20,"creation_date":1311468779,"post_id":234614,"comment_id":8078899,"body_markdown":"Answer doesn&#39;t say how you pass the args, or show an example.  It&#39;s just a guess.","body":"Answer doesn&#39;t say how you pass the args, or show an example.  It&#39;s just a guess."},{"owner":{"account_id":3074064,"reputation":1473,"user_id":2603925,"accept_rate":76,"display_name":"Luke Skywalker"},"score":3,"creation_date":1408461558,"post_id":234614,"comment_id":39593053,"body_markdown":"Should it be getDeclaredConstructor (singular) ?","body":"Should it be getDeclaredConstructor (singular) ?"},{"owner":{"account_id":1186264,"reputation":556,"user_id":1160163,"accept_rate":71,"display_name":"sbnarra"},"score":2,"creation_date":1422435544,"post_id":234614,"comment_id":44744483,"body_markdown":"@ryvantage is doesn&#39;t make it look like a static method as it&#39;s all being called on the &quot;myObject&quot; instance. It&#39;s just a daisy chain of method calls.Also not sure why this answer was useful to 55 people as it&#39;s wrong and the right one is below!","body":"@ryvantage is doesn&#39;t make it look like a static method as it&#39;s all being called on the &quot;myObject&quot; instance. It&#39;s just a daisy chain of method calls.Also not sure why this answer was useful to 55 people as it&#39;s wrong and the right one is below!"}],"tags":[],"owner":{"account_id":14956,"reputation":30470,"user_id":31141,"accept_rate":79,"display_name":"Marko"},"comment_count":3,"down_vote_count":12,"up_vote_count":103,"is_accepted":false,"score":91,"last_activity_date":1406488082,"creation_date":1224870713,"answer_id":234614,"question_id":234600,"body_markdown":"    myObject.getClass().getDeclaredConstructors(types list).newInstance(args list);\r\n\r\nEdit: according to the comments seems like pointing class and method names is not enough for some users. For more info take a look at the documentation for [getting constuctor][1] and [invoking it][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getDeclaredConstructor%28java.lang.Class...%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Constructor.html#newInstance%28java.lang.Object...%29","title":"Can I use Class.newInstance() with constructor arguments?","body":"<pre><code>myObject.getClass().getDeclaredConstructors(types list).newInstance(args list);\n</code></pre>\n\n<p>Edit: according to the comments seems like pointing class and method names is not enough for some users. For more info take a look at the documentation for <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getDeclaredConstructor%28java.lang.Class...%29\" rel=\"noreferrer\">getting constuctor</a> and <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Constructor.html#newInstance%28java.lang.Object...%29\" rel=\"noreferrer\">invoking it</a>.</p>\n"},{"comments":[{"owner":{"account_id":3114339,"reputation":479,"user_id":2635462,"accept_rate":88,"display_name":"clum"},"score":27,"creation_date":1432276287,"post_id":234617,"comment_id":48868139,"body_markdown":"Just clarifying - `getDeclaredConstructor` is not a static method, you have to call it on the instance of the Class for your specific class.","body":"Just clarifying - <code>getDeclaredConstructor</code> is not a static method, you have to call it on the instance of the Class for your specific class."},{"owner":{"account_id":328785,"reputation":701,"user_id":651934,"accept_rate":70,"display_name":"Jim"},"score":1,"creation_date":1469704384,"post_id":234617,"comment_id":64652552,"body_markdown":"Seems like the answer is &quot;no&quot; for Java 1.1","body":"Seems like the answer is &quot;no&quot; for Java 1.1"},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1496135000,"post_id":234617,"comment_id":75523772,"body_markdown":"I have public constructor with List&lt;String&gt; parameters. Can&#39;t get it by getDeclaredConstructor, but with getConstructor works fine. Do you know why?","body":"I have public constructor with List&lt;String&gt; parameters. Can&#39;t get it by getDeclaredConstructor, but with getConstructor works fine. Do you know why?"},{"owner":{"account_id":11341402,"reputation":975,"user_id":8315348,"display_name":"Andrew Puglionesi"},"score":0,"creation_date":1541115225,"post_id":234617,"comment_id":93116743,"body_markdown":"It should be noted that this requires you to catch a whole slew of exceptions. When I realized there were at least 4, I just threw it in a try/catch block. Also, the arguments to getDeclaredConstructor() are the classes of the constructor parameters","body":"It should be noted that this requires you to catch a whole slew of exceptions. When I realized there were at least 4, I just threw it in a try/catch block. Also, the arguments to getDeclaredConstructor() are the classes of the constructor parameters"}],"tags":[],"owner":{"account_id":1079,"reputation":27949,"user_id":1432,"accept_rate":66,"display_name":"jsight"},"comment_count":4,"down_vote_count":4,"up_vote_count":239,"is_accepted":false,"score":235,"last_activity_date":1561846388,"creation_date":1224870746,"answer_id":234617,"question_id":234600,"body_markdown":"    MyClass.class.getDeclaredConstructor(String.class).newInstance(&quot;HERESMYARG&quot;);\r\n\r\nor\r\n\r\n    obj.getClass().getDeclaredConstructor(String.class).newInstance(&quot;HERESMYARG&quot;);\r\n","title":"Can I use Class.newInstance() with constructor arguments?","body":"<pre><code>MyClass.class.getDeclaredConstructor(String.class).newInstance(\"HERESMYARG\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>obj.getClass().getDeclaredConstructor(String.class).newInstance(\"HERESMYARG\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1224881031,"creation_date":1224881031,"answer_id":235196,"question_id":234600,"body_markdown":"Do not use `Class.newInstance()`; see this thread: [Why is Class.newInstance() evil?](https://stackoverflow.com/questions/195321/why-is-classnewinstance-evil)\r\n\r\nLike other answers say, use `Constructor.newInstance()` instead.","title":"Can I use Class.newInstance() with constructor arguments?","body":"<p>Do not use <code>Class.newInstance()</code>; see this thread: <a href=\"https://stackoverflow.com/questions/195321/why-is-classnewinstance-evil\">Why is Class.newInstance() evil?</a></p>\n\n<p>Like other answers say, use <code>Constructor.newInstance()</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1372776990,"creation_date":1372776990,"answer_id":17428883,"question_id":234600,"body_markdown":"You can use the `getDeclaredConstructor` method of Class. It expects an array of classes. Here is a tested and working example:\r\n\r\n    public static JFrame createJFrame(Class c, String name, Component parentComponent)\r\n    {\r\n        try\r\n        {\r\n            JFrame frame = (JFrame)c.getDeclaredConstructor(new Class[] {String.class}).newInstance(&quot;name&quot;);\r\n            if (parentComponent != null)\r\n            {\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            }\r\n            else\r\n            {\r\n                frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            }\r\n            frame.setLocationRelativeTo(parentComponent);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n        catch (InstantiationException instantiationException)\r\n        {\r\n            ExceptionHandler.handleException(instantiationException, parentComponent, Language.messages.get(Language.InstantiationExceptionKey), c.getName());\r\n        }\r\n        catch(NoSuchMethodException noSuchMethodException)\r\n        {\r\n            //ExceptionHandler.handleException(noSuchMethodException, parentComponent, Language.NoSuchMethodExceptionKey, &quot;NamedConstructor&quot;);\r\n            ExceptionHandler.handleException(noSuchMethodException, parentComponent, Language.messages.get(Language.NoSuchMethodExceptionKey), &quot;(Constructor or a JFrame method)&quot;);\r\n        }\r\n        catch (IllegalAccessException illegalAccessException)\r\n        {\r\n            ExceptionHandler.handleException(illegalAccessException, parentComponent, Language.messages.get(Language.IllegalAccessExceptionKey));\r\n        }\r\n        catch (InvocationTargetException invocationTargetException)\r\n        {\r\n            ExceptionHandler.handleException(invocationTargetException, parentComponent, Language.messages.get(Language.InvocationTargetExceptionKey));\r\n        }\r\n        finally\r\n        {\r\n            return null;\r\n        }\r\n    }\r\n","title":"Can I use Class.newInstance() with constructor arguments?","body":"<p>You can use the <code>getDeclaredConstructor</code> method of Class. It expects an array of classes. Here is a tested and working example:</p>\n\n<pre><code>public static JFrame createJFrame(Class c, String name, Component parentComponent)\n{\n    try\n    {\n        JFrame frame = (JFrame)c.getDeclaredConstructor(new Class[] {String.class}).newInstance(\"name\");\n        if (parentComponent != null)\n        {\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        }\n        else\n        {\n            frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        }\n        frame.setLocationRelativeTo(parentComponent);\n        frame.pack();\n        frame.setVisible(true);\n    }\n    catch (InstantiationException instantiationException)\n    {\n        ExceptionHandler.handleException(instantiationException, parentComponent, Language.messages.get(Language.InstantiationExceptionKey), c.getName());\n    }\n    catch(NoSuchMethodException noSuchMethodException)\n    {\n        //ExceptionHandler.handleException(noSuchMethodException, parentComponent, Language.NoSuchMethodExceptionKey, \"NamedConstructor\");\n        ExceptionHandler.handleException(noSuchMethodException, parentComponent, Language.messages.get(Language.NoSuchMethodExceptionKey), \"(Constructor or a JFrame method)\");\n    }\n    catch (IllegalAccessException illegalAccessException)\n    {\n        ExceptionHandler.handleException(illegalAccessException, parentComponent, Language.messages.get(Language.IllegalAccessExceptionKey));\n    }\n    catch (InvocationTargetException invocationTargetException)\n    {\n        ExceptionHandler.handleException(invocationTargetException, parentComponent, Language.messages.get(Language.InvocationTargetExceptionKey));\n    }\n    finally\n    {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262368,"reputation":416,"user_id":547190,"display_name":"Spyros Doulgeridis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398339064,"creation_date":1398339064,"answer_id":23267674,"question_id":234600,"body_markdown":"I think this is exactly what you want \r\nhttp://da2i.univ-lille1.fr/doc/tutorial-java/reflect/object/arg.html\r\n\r\nAlthough it seems a dead thread, someone might find it useful\r\n","title":"Can I use Class.newInstance() with constructor arguments?","body":"<p>I think this is exactly what you want \n<a href=\"http://da2i.univ-lille1.fr/doc/tutorial-java/reflect/object/arg.html\" rel=\"nofollow\">http://da2i.univ-lille1.fr/doc/tutorial-java/reflect/object/arg.html</a></p>\n\n<p>Although it seems a dead thread, someone might find it useful</p>\n"},{"tags":[],"owner":{"account_id":103388,"reputation":58275,"user_id":276949,"accept_rate":87,"display_name":"Martin Konecny"},"comment_count":0,"down_vote_count":0,"up_vote_count":85,"is_accepted":false,"score":85,"last_activity_date":1439005310,"creation_date":1402254907,"answer_id":24109870,"question_id":234600,"body_markdown":"Assuming you have the following constructor\r\n\r\n    class MyClass {\r\n        public MyClass(Long l, String s, int i) {\r\n    \r\n        }\r\n    }\r\n\r\nYou will need to show you intend to use this constructor like so:\r\n\r\n    Class classToLoad = MyClass.class;\r\n\t     \r\n    Class[] cArg = new Class[3]; //Our constructor has 3 arguments\r\n    cArg[0] = Long.class; //First argument is of *object* type Long\r\n    cArg[1] = String.class; //Second argument is of *object* type String\r\n    cArg[2] = int.class; //Third argument is of *primitive* type int\r\n\r\n    Long l = new Long(88);\r\n    String s = &quot;text&quot;;\r\n    int i = 5;\r\n\r\n    classToLoad.getDeclaredConstructor(cArg).newInstance(l, s, i);","title":"Can I use Class.newInstance() with constructor arguments?","body":"<p>Assuming you have the following constructor</p>\n\n<pre><code>class MyClass {\n    public MyClass(Long l, String s, int i) {\n\n    }\n}\n</code></pre>\n\n<p>You will need to show you intend to use this constructor like so:</p>\n\n<pre><code>Class classToLoad = MyClass.class;\n\nClass[] cArg = new Class[3]; //Our constructor has 3 arguments\ncArg[0] = Long.class; //First argument is of *object* type Long\ncArg[1] = String.class; //Second argument is of *object* type String\ncArg[2] = int.class; //Third argument is of *primitive* type int\n\nLong l = new Long(88);\nString s = \"text\";\nint i = 5;\n\nclassToLoad.getDeclaredConstructor(cArg).newInstance(l, s, i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1477737627,"creation_date":1477737627,"answer_id":40318262,"question_id":234600,"body_markdown":"Follow below steps to call parameterized consturctor.\r\n\r\n1. Get `Constructor` with parameter types by passing types in  `Class[]`\r\n   for `getDeclaredConstructor` method of `Class`\r\n2. Create constructor instance by passing values in `Object[]` for   \r\n   `newInstance` method of `Constructor`\r\n\r\nExample code:\r\n\r\n    import java.lang.reflect.*;\r\n    \r\n    class NewInstanceWithReflection{\r\n    \tpublic NewInstanceWithReflection(){\r\n    \t\tSystem.out.println(&quot;Default constructor&quot;);\r\n    \t}\r\n    \tpublic NewInstanceWithReflection( String a){\r\n    \t\tSystem.out.println(&quot;Constructor :String =&gt; &quot;+a);\r\n    \t}\r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\t\r\n    \t\tNewInstanceWithReflection object = (NewInstanceWithReflection)Class.forName(&quot;NewInstanceWithReflection&quot;).newInstance();\r\n    \t\tConstructor constructor = NewInstanceWithReflection.class.getDeclaredConstructor( new Class[] {String.class});\r\n    \t\tNewInstanceWithReflection object1 = (NewInstanceWithReflection)constructor.newInstance(new Object[]{&quot;StackOverFlow&quot;});\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\noutput:\r\n\r\n    java NewInstanceWithReflection\r\n    Default constructor\r\n    Constructor :String =&gt; StackOverFlow","title":"Can I use Class.newInstance() with constructor arguments?","body":"<p>Follow below steps to call parameterized consturctor.</p>\n\n<ol>\n<li>Get <code>Constructor</code> with parameter types by passing types in  <code>Class[]</code>\nfor <code>getDeclaredConstructor</code> method of <code>Class</code></li>\n<li>Create constructor instance by passing values in <code>Object[]</code> for<br>\n<code>newInstance</code> method of <code>Constructor</code></li>\n</ol>\n\n<p>Example code:</p>\n\n<pre><code>import java.lang.reflect.*;\n\nclass NewInstanceWithReflection{\n    public NewInstanceWithReflection(){\n        System.out.println(\"Default constructor\");\n    }\n    public NewInstanceWithReflection( String a){\n        System.out.println(\"Constructor :String =&gt; \"+a);\n    }\n    public static void main(String args[]) throws Exception {\n\n        NewInstanceWithReflection object = (NewInstanceWithReflection)Class.forName(\"NewInstanceWithReflection\").newInstance();\n        Constructor constructor = NewInstanceWithReflection.class.getDeclaredConstructor( new Class[] {String.class});\n        NewInstanceWithReflection object1 = (NewInstanceWithReflection)constructor.newInstance(new Object[]{\"StackOverFlow\"});\n\n    }\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>java NewInstanceWithReflection\nDefault constructor\nConstructor :String =&gt; StackOverFlow\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1909411,"reputation":6847,"user_id":1723626,"accept_rate":70,"display_name":"Optimus Prime"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669276175,"creation_date":1669276175,"answer_id":74557289,"question_id":234600,"body_markdown":"This is how I created an instance of `Class clazz` using a dynamic constructor args list.\r\n\r\n    final Constructor constructor = clazz.getConstructors()[0];\r\n    final int constructorArgsCount = constructor.getParameterCount();\r\n    if (constructorArgsCount &gt; 0) {\r\n        final Object[] constructorArgs = new Object[constructorArgsCount];\r\n        int i = 0;\r\n        for (Class parameterClass : constructor.getParameterTypes()) {\r\n            Object dummyParameterValue = getDummyValue(Class.forName(parameterClass.getTypeName()), null);\r\n            constructorArgs[i++] = dummyParameterValue;\r\n        }\r\n        instance = constructor.newInstance(constructorArgs);\r\n    } else {\r\n        instance = clazz.newInstance();\r\n    }\r\n\r\nThis is what `getDummyValue()` method looks like,\r\n\r\n    private static Object getDummyValue(final Class clazz, final Field field) throws Exception {\r\n        if (int.class.equals(clazz) || Integer.class.equals(clazz)) {\r\n            return DUMMY_INT;\r\n        } else if (String.class.equals(clazz)) {\r\n            return DUMMY_STRING;\r\n        } else if (boolean.class.equals(clazz) || Boolean.class.equals(clazz)) {\r\n            return DUMMY_BOOL;\r\n        } else if (List.class.equals(clazz)) {\r\n            Class fieldClassGeneric = Class.forName(((ParameterizedType) field.getGenericType()).getActualTypeArguments()[0].getTypeName());\r\n            return List.of(getDummyValue(fieldClassGeneric, null));\r\n        } else if (USER_DEFINED_CLASSES.contains(clazz.getSimpleName())) {\r\n            return createClassInstance(clazz);\r\n        } else {\r\n             throw new Exception(&quot;Dummy value for class type not defined - &quot; + clazz.getName();\r\n        }\r\n    }\r\n","title":"Can I use Class.newInstance() with constructor arguments?","body":"<p>This is how I created an instance of <code>Class clazz</code> using a dynamic constructor args list.</p>\n<pre><code>final Constructor constructor = clazz.getConstructors()[0];\nfinal int constructorArgsCount = constructor.getParameterCount();\nif (constructorArgsCount &gt; 0) {\n    final Object[] constructorArgs = new Object[constructorArgsCount];\n    int i = 0;\n    for (Class parameterClass : constructor.getParameterTypes()) {\n        Object dummyParameterValue = getDummyValue(Class.forName(parameterClass.getTypeName()), null);\n        constructorArgs[i++] = dummyParameterValue;\n    }\n    instance = constructor.newInstance(constructorArgs);\n} else {\n    instance = clazz.newInstance();\n}\n</code></pre>\n<p>This is what <code>getDummyValue()</code> method looks like,</p>\n<pre><code>private static Object getDummyValue(final Class clazz, final Field field) throws Exception {\n    if (int.class.equals(clazz) || Integer.class.equals(clazz)) {\n        return DUMMY_INT;\n    } else if (String.class.equals(clazz)) {\n        return DUMMY_STRING;\n    } else if (boolean.class.equals(clazz) || Boolean.class.equals(clazz)) {\n        return DUMMY_BOOL;\n    } else if (List.class.equals(clazz)) {\n        Class fieldClassGeneric = Class.forName(((ParameterizedType) field.getGenericType()).getActualTypeArguments()[0].getTypeName());\n        return List.of(getDummyValue(fieldClassGeneric, null));\n    } else if (USER_DEFINED_CLASSES.contains(clazz.getSimpleName())) {\n        return createClassInstance(clazz);\n    } else {\n         throw new Exception(&quot;Dummy value for class type not defined - &quot; + clazz.getName();\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"omar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172167,"favorite_count":0,"down_vote_count":0,"up_vote_count":269,"answer_count":9,"score":269,"last_activity_date":1669276175,"creation_date":1224870539,"question_id":234600,"body_markdown":"I would like to use `Class.newInstance()` but the class I am instantiating does not have a nullary constructor. Therefore I need to be able to pass in constructor arguments. Is there a way to do this?","title":"Can I use Class.newInstance() with constructor arguments?","body":"<p>I would like to use <code>Class.newInstance()</code> but the class I am instantiating does not have a nullary constructor. Therefore I need to be able to pass in constructor arguments. Is there a way to do this?</p>\n"},{"tags":["java","android","firebase"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669276139,"creation_date":1669276139,"answer_id":74557279,"question_id":74557218,"body_markdown":"answer is in your stacktrace: `ExpenseModel does not define a no-argument constructor` - just add no-args constructor to your model\r\n\r\n    public class ExpenseModel {\r\n\r\n        // data declarations\r\n\r\n        public ExpenseModel() {\r\n            // optionally super call if class extending another\r\n            // and some initial dummy setup if needed...\r\n        }\r\n\r\nedit: checked your github - just add\r\n\r\n    public ExpenseModel() {}\r\n\r\nabove \r\n\r\n    public ExpenseModel(String expenseId) {\r\n\r\nin `ExpenseModel` class","title":"Crashing Android Application while retriving data from firebase database android studio","body":"<p>answer is in your stacktrace: <code>ExpenseModel does not define a no-argument constructor</code> - just add no-args constructor to your model</p>\n<pre><code>public class ExpenseModel {\n\n    // data declarations\n\n    public ExpenseModel() {\n        // optionally super call if class extending another\n        // and some initial dummy setup if needed...\n    }\n</code></pre>\n<p>edit: checked your github - just add</p>\n<pre><code>public ExpenseModel() {}\n</code></pre>\n<p>above</p>\n<pre><code>public ExpenseModel(String expenseId) {\n</code></pre>\n<p>in <code>ExpenseModel</code> class</p>\n"}],"owner":{"account_id":17506534,"reputation":1,"user_id":12695631,"display_name":"Shubham sahane Official"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669286562,"answer_count":1,"score":0,"last_activity_date":1669276139,"creation_date":1669275783,"question_id":74557218,"body_markdown":"[Github Repository](https://github.com/SilentVirus27/Expense.Manager)\r\n\r\nError image Shown as above: \r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.expensemanager, PID: 10677\r\n    java.lang.RuntimeException: Could not deserialize object. Class com.example.expensemanager.ExpenseModel does not define a no-argument constructor. If you are using ProGuard, make sure these constructors are not stripped\r\n        at com.google.firebase.firestore.util.CustomClassMapper.deserializeError(com.google.firebase:firebase-firestore@@21.4.0:563)\r\n        at com.google.firebase.firestore.util.CustomClassMapper.access$200(com.google.firebase:firebase-firestore@@21.4.0:54)\r\n        at com.google.firebase.firestore.util.CustomClassMapper$BeanMapper.deserialize(com.google.firebase:firebase-firestore@@21.4.0:749)\r\n        at com.google.firebase.firestore.util.CustomClassMapper$BeanMapper.deserialize(com.google.firebase:firebase-firestore@@21.4.0:741)\r\n        at com.google.firebase.firestore.util.CustomClassMapper.convertBean(com.google.firebase:firebase-firestore@@21.4.0:542)\r\n        at com.google.firebase.firestore.util.CustomClassMapper.deserializeToClass(com.google.firebase:firebase-firestore@@21.4.0:253)\r\n        at com.google.firebase.firestore.util.CustomClassMapper.convertToCustomClass(com.google.firebase:firebase-firestore@@21.4.0:100)\r\n        at com.google.firebase.firestore.DocumentSnapshot.toObject(com.google.firebase:firebase-firestore@@21.4.0:210)\r\n        at com.google.firebase.firestore.QueryDocumentSnapshot.toObject(com.google.firebase:firebase-firestore@@21.4.0:116)\r\n        at com.google.firebase.firestore.DocumentSnapshot.toObject(com.google.firebase:firebase-firestore@@21.4.0:188)\r\n        at com.google.firebase.firestore.QueryDocumentSnapshot.toObject(com.google.firebase:firebase-firestore@@21.4.0:97)\r\n        **at com.example.expensemanager.MainActivity$5.onSuccess(MainActivity.java:107)\r\n        at com.example.expensemanager.MainActivity$5.onSuccess(MainActivity.java:101)**\r\n        at com.google.android.gms.tasks.zzn.run(Unknown Source:4)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n```\r\n\r\nAs Above showing error in 107,101 line :\r\n \r\nAll other require code available to diagnose the code are in git repository in given link.\r\nwhen i comment out getData() app cant crash data sent to firebase database properly,\r\nissue occur when retriving data from database (just to note im using firebase  Anonymous authentication).\r\n\r\n\r\n\r\n\r\nits an Expense manager with firebase database \r\n1. Anonymous login (Work Fine)\r\n2.Add Expense,Incomes (Work fine)\r\n3.Get data from Database (Crash App)\r\nerror as shown above\r\nwhole repository link provided","title":"Crashing Android Application while retriving data from firebase database android studio","body":"<p><a href=\"https://github.com/SilentVirus27/Expense.Manager\" rel=\"nofollow noreferrer\">Github Repository</a></p>\n<p>Error image Shown as above:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.expensemanager, PID: 10677\n    java.lang.RuntimeException: Could not deserialize object. Class com.example.expensemanager.ExpenseModel does not define a no-argument constructor. If you are using ProGuard, make sure these constructors are not stripped\n        at com.google.firebase.firestore.util.CustomClassMapper.deserializeError(com.google.firebase:firebase-firestore@@21.4.0:563)\n        at com.google.firebase.firestore.util.CustomClassMapper.access$200(com.google.firebase:firebase-firestore@@21.4.0:54)\n        at com.google.firebase.firestore.util.CustomClassMapper$BeanMapper.deserialize(com.google.firebase:firebase-firestore@@21.4.0:749)\n        at com.google.firebase.firestore.util.CustomClassMapper$BeanMapper.deserialize(com.google.firebase:firebase-firestore@@21.4.0:741)\n        at com.google.firebase.firestore.util.CustomClassMapper.convertBean(com.google.firebase:firebase-firestore@@21.4.0:542)\n        at com.google.firebase.firestore.util.CustomClassMapper.deserializeToClass(com.google.firebase:firebase-firestore@@21.4.0:253)\n        at com.google.firebase.firestore.util.CustomClassMapper.convertToCustomClass(com.google.firebase:firebase-firestore@@21.4.0:100)\n        at com.google.firebase.firestore.DocumentSnapshot.toObject(com.google.firebase:firebase-firestore@@21.4.0:210)\n        at com.google.firebase.firestore.QueryDocumentSnapshot.toObject(com.google.firebase:firebase-firestore@@21.4.0:116)\n        at com.google.firebase.firestore.DocumentSnapshot.toObject(com.google.firebase:firebase-firestore@@21.4.0:188)\n        at com.google.firebase.firestore.QueryDocumentSnapshot.toObject(com.google.firebase:firebase-firestore@@21.4.0:97)\n        **at com.example.expensemanager.MainActivity$5.onSuccess(MainActivity.java:107)\n        at com.example.expensemanager.MainActivity$5.onSuccess(MainActivity.java:101)**\n        at com.google.android.gms.tasks.zzn.run(Unknown Source:4)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>As Above showing error in 107,101 line :</p>\n<p>All other require code available to diagnose the code are in git repository in given link.\nwhen i comment out getData() app cant crash data sent to firebase database properly,\nissue occur when retriving data from database (just to note im using firebase  Anonymous authentication).</p>\n<p>its an Expense manager with firebase database</p>\n<ol>\n<li>Anonymous login (Work Fine)\n2.Add Expense,Incomes (Work fine)\n3.Get data from Database (Crash App)\nerror as shown above\nwhole repository link provided</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1669275622,"post_id":74557163,"comment_id":131608669,"body_markdown":"an else block won&#39;t work, because it doesn&#39;t guarantee your for loop will be executed","body":"an else block won&#39;t work, because it doesn&#39;t guarantee your for loop will be executed"},{"owner":{"account_id":196869,"reputation":402550,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":2,"creation_date":1669275654,"post_id":74557163,"comment_id":131608679,"body_markdown":"You can remove the `Isprime` variable completely, and instead `return false` directly from inside the loop, and have `return true` after the loop.","body":"You can remove the <code>Isprime</code> variable completely, and instead <code>return false</code> directly from inside the loop, and have <code>return true</code> after the loop."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1669275685,"post_id":74557163,"comment_id":131608689,"body_markdown":"Just `return false` in the loop instead of setting a variable and breaking. And `return true` after the loop. No need for the variable at all.","body":"Just <code>return false</code> in the loop instead of setting a variable and breaking. And <code>return true</code> after the loop. No need for the variable at all."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1669277748,"post_id":74557163,"comment_id":131609376,"body_markdown":"This is not how you check for primality. This code will always return `true` for any odd values. Your loop variable `i` is never used inside the block. You probably wanted to do `if(n%i == 0)`","body":"This is not how you check for primality. This code will always return <code>true</code> for any odd values. Your loop variable <code>i</code> is never used inside the block. You probably wanted to do <code>if(n%i == 0)</code>"}],"answers":[{"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1669275981,"post_id":74557246,"comment_id":131608780,"body_markdown":"Please look at your answer and think about whether it would help readers in its current state: Is the code readable? Are you trying to help readers understand what you did and why?","body":"Please look at your answer and think about whether it would help readers in its current state: Is the code readable? Are you trying to help readers understand what you did and why?"},{"owner":{"account_id":196869,"reputation":402550,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":1,"creation_date":1669276121,"post_id":74557246,"comment_id":131608831,"body_markdown":"Please take some time to read about [how to write good answers](https://stackoverflow.com/help/how-to-answer). What changes did you make to the code? Why did you make those changes? How does the changes solve the OP&#39;s problems? And what *is* the problem with the OP&#39;s code?","body":"Please take some time to read about <a href=\"https://stackoverflow.com/help/how-to-answer\">how to write good answers</a>. What changes did you make to the code? Why did you make those changes? How does the changes solve the OP&#39;s problems? And what <i>is</i> the problem with the OP&#39;s code?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669482748,"post_id":74557246,"comment_id":131652555,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74557246/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22952858,"reputation":1,"user_id":20244403,"display_name":"RISHABH BHUTANI"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1669275930,"creation_date":1669275930,"answer_id":74557246,"question_id":74557163,"body_markdown":"\r\npublic class prime \r\n{\r\n    public static boolean Isprime(int n)\r\n    {\r\n        for(int i=2;i&lt;n;i++)\r\n        {\r\n            if(n%2==0)\r\n            {\r\n                return false;\r\n        \r\n            }\r\n        }\r\n        return true;      \r\n    }\r\n    public static void main(String args[])\r\n    {\r\n        System.out.println(Isprime(6));\r\n\r\n    }\r\n    \r\n}\r\n","title":"Return type function in java","body":"<p>public class prime\n{\npublic static boolean Isprime(int n)\n{\nfor(int i=2;i&lt;n;i++)\n{\nif(n%2==0)\n{\nreturn false;</p>\n<pre><code>        }\n    }\n    return true;      \n}\npublic static void main(String args[])\n{\n    System.out.println(Isprime(6));\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":22952858,"reputation":1,"user_id":20244403,"display_name":"RISHABH BHUTANI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669275930,"creation_date":1669275530,"question_id":74557163,"body_markdown":"```\r\npublic class prime \r\n{\r\n    public static boolean Isprime(int n)\r\n    {\r\n        boolean Isprime = true;\r\n        for(int i=2;i&lt;n;i++)\r\n        {\r\n            if(n%2==0)\r\n            {\r\n                Isprime = false;\r\n                break;\r\n            }\r\n        }\r\n        return Isprime;      \r\n    }\r\n    public static void main(String args[])\r\n    {\r\n        System.out.println(Isprime(5));\r\n\r\n    }\r\n    \r\n}\r\n\r\n```\r\ncan we make a boolean return type function in this case without initializing the Isprime variable?\r\n\r\n\r\nif i make an else statement with returning true (so that there will be no need to initialize the variable) i can do return Isprime after the for loop, but it&#39;s giving me an error because i didn&#39;t initialize the isprime variable\r\n","title":"Return type function in java","body":"<pre><code>public class prime \n{\n    public static boolean Isprime(int n)\n    {\n        boolean Isprime = true;\n        for(int i=2;i&lt;n;i++)\n        {\n            if(n%2==0)\n            {\n                Isprime = false;\n                break;\n            }\n        }\n        return Isprime;      \n    }\n    public static void main(String args[])\n    {\n        System.out.println(Isprime(5));\n\n    }\n    \n}\n\n</code></pre>\n<p>can we make a boolean return type function in this case without initializing the Isprime variable?</p>\n<p>if i make an else statement with returning true (so that there will be no need to initialize the variable) i can do return Isprime after the for loop, but it's giving me an error because i didn't initialize the isprime variable</p>\n"},{"tags":["java","android","react-native","gradle","apk"],"answers":[{"tags":[],"owner":{"account_id":9781741,"reputation":125,"user_id":7249503,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669275853,"creation_date":1669275853,"answer_id":74557231,"question_id":74557148,"body_markdown":"It could be that the parenthesis that you added in the output filename are confusing the compiler or the system you&#39;re running it on does not allow the parenthesis as a valid character for a path.\r\n\r\nTherefore, I would first try to change the filename (maybe using dashes instead of parenthesis?) before anything else.","title":"Error when generating release build, Execution failed for task &#39;:app:packageRelease&#39;","body":"<p>It could be that the parenthesis that you added in the output filename are confusing the compiler or the system you're running it on does not allow the parenthesis as a valid character for a path.</p>\n<p>Therefore, I would first try to change the filename (maybe using dashes instead of parenthesis?) before anything else.</p>\n"}],"owner":{"account_id":22321603,"reputation":415,"user_id":16544164,"display_name":"Zero0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669275853,"creation_date":1669275472,"question_id":74557148,"body_markdown":"In order to reduce application&#39;s size, we made the following changes in in android/app/build.gradle:\r\n\r\n    def enableSeparateBuildPerCPUArchitecture = false =&gt; true\r\n    def enableProguardInReleaseBuilds = false =&gt; true\r\n\r\nbut when trying to generate the signed apk, we are encoutenring this error:\r\n\r\n    * What went wrong:\r\nExecution failed for task &#39;:app:packageRelease&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n   &gt; java.io.IOException: Failed to create path-project/android/app/build/outputs/apk/release/app1.0.5(65)-release.apk&#39;\r\n\r\nwe tried adding \r\n\r\n    org.gradle.jvmargs=-Xmx4608m\r\nto gradle.properties but it&#39;s not working.\r\n\r\n\r\nWe are having the following content in android/build.gradle\r\n\r\n    buildscript {\r\n    ext {\r\n        buildToolsVersion = &quot;30.0.2&quot;\r\n        minSdkVersion = 21\r\n        compileSdkVersion = 30\r\n        targetSdkVersion = 30\r\n        firebaseMessagingVersion = &quot;+&quot;\r\n        googlePlayServicesVersion = &quot;+&quot;\r\n        playServicesVersion = &quot;17.0.0&quot;\r\n        androidMapsUtilsVersion = &quot;2.2.5&quot;\r\n    }\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;com.android.tools.build:gradle:4.0.1&quot;)\r\n        classpath &#39;com.google.gms:google-services:4.3.8&#39;\r\n    }\r\n}\r\n\r\nand the following content in android/app/build.gradle\r\n\r\n   \r\n\r\n     esplits {\r\n            abi {\r\n                reset()\r\n                enable enableSeparateBuildPerCPUArchitecture\r\n                universalApk false  // If true, also generate a universal APK\r\n                include &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\r\n            }\r\n        }\r\n\r\n    buildTypes {\r\n            debug {\r\n                signingConfig signingConfigs.debug\r\n            }\r\n            release {\r\n                signingConfig signingConfigs.debug\r\n                minifyEnabled enableProguardInReleaseBuilds\r\n                proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n            }\r\n            applicationVariants.all { variant -&gt;\r\n                variant.outputs.all {\r\n                    outputFileName = &quot;tcard${variant.versionName}(${variant.versionCode})-${variant.name}.apk&quot;\r\n                }\r\n            }\r\n        }\r\n\r\n    applicationVariants.all { variant -&gt;\r\n            variant.outputs.each { output -&gt;\r\n                // For each separate APK per architecture, set a unique version code as described here:\r\n                // https://developer.android.com/studio/build/configure-apk-splits.html\r\n                def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\r\n                def abi = output.getFilter(OutputFile.ABI)\r\n                if (abi != null) {  // null for the universal-debug, universal-release variants\r\n                    output.versionCodeOverride =\r\n                            versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\r\n                }\r\n    \r\n            }\r\n\r\n    packagingOptions {\r\n            pickFirst &#39;lib/x86/libc++_shared.so&#39;\r\n            pickFirst &#39;lib/x86_64/libjsc.so&#39;\r\n            pickFirst &#39;lib/arm64-v8a/libjsc.so&#39;\r\n            pickFirst &#39;lib/arm64-v8a/libc++_shared.so&#39;\r\n            pickFirst &#39;lib/x86_64/libc++_shared.so&#39;\r\n            pickFirst &#39;lib/armeabi-v7a/libc++_shared.so&#39;\r\n        }","title":"Error when generating release build, Execution failed for task &#39;:app:packageRelease&#39;","body":"<p>In order to reduce application's size, we made the following changes in in android/app/build.gradle:</p>\n<pre><code>def enableSeparateBuildPerCPUArchitecture = false =&gt; true\ndef enableProguardInReleaseBuilds = false =&gt; true\n</code></pre>\n<p>but when trying to generate the signed apk, we are encoutenring this error:</p>\n<pre><code>* What went wrong:\n</code></pre>\n<p>Execution failed for task ':app:packageRelease'.</p>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\njava.io.IOException: Failed to create path-project/android/app/build/outputs/apk/release/app1.0.5(65)-release.apk'</p>\n</blockquote>\n<p>we tried adding</p>\n<pre><code>org.gradle.jvmargs=-Xmx4608m\n</code></pre>\n<p>to gradle.properties but it's not working.</p>\n<p>We are having the following content in android/build.gradle</p>\n<pre><code>buildscript {\next {\n    buildToolsVersion = &quot;30.0.2&quot;\n    minSdkVersion = 21\n    compileSdkVersion = 30\n    targetSdkVersion = 30\n    firebaseMessagingVersion = &quot;+&quot;\n    googlePlayServicesVersion = &quot;+&quot;\n    playServicesVersion = &quot;17.0.0&quot;\n    androidMapsUtilsVersion = &quot;2.2.5&quot;\n}\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath(&quot;com.android.tools.build:gradle:4.0.1&quot;)\n    classpath 'com.google.gms:google-services:4.3.8'\n}\n</code></pre>\n<p>}</p>\n<p>and the following content in android/app/build.gradle</p>\n<pre><code> esplits {\n        abi {\n            reset()\n            enable enableSeparateBuildPerCPUArchitecture\n            universalApk false  // If true, also generate a universal APK\n            include &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\n        }\n    }\n\nbuildTypes {\n        debug {\n            signingConfig signingConfigs.debug\n        }\n        release {\n            signingConfig signingConfigs.debug\n            minifyEnabled enableProguardInReleaseBuilds\n            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\n        }\n        applicationVariants.all { variant -&gt;\n            variant.outputs.all {\n                outputFileName = &quot;tcard${variant.versionName}(${variant.versionCode})-${variant.name}.apk&quot;\n            }\n        }\n    }\n\napplicationVariants.all { variant -&gt;\n        variant.outputs.each { output -&gt;\n            // For each separate APK per architecture, set a unique version code as described here:\n            // https://developer.android.com/studio/build/configure-apk-splits.html\n            def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\n            def abi = output.getFilter(OutputFile.ABI)\n            if (abi != null) {  // null for the universal-debug, universal-release variants\n                output.versionCodeOverride =\n                        versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\n            }\n\n        }\n\npackagingOptions {\n        pickFirst 'lib/x86/libc++_shared.so'\n        pickFirst 'lib/x86_64/libjsc.so'\n        pickFirst 'lib/arm64-v8a/libjsc.so'\n        pickFirst 'lib/arm64-v8a/libc++_shared.so'\n        pickFirst 'lib/x86_64/libc++_shared.so'\n        pickFirst 'lib/armeabi-v7a/libc++_shared.so'\n    }\n</code></pre>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1329977103,"post_id":9407922,"comment_id":11889501,"body_markdown":"Please include the code that is doing the fetching and decoding, and explain how you are displaying the problematic characters.","body":"Please include the code that is doing the fetching and decoding, and explain how you are displaying the problematic characters."},{"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"score":0,"creation_date":1329977784,"post_id":9407922,"comment_id":11889648,"body_markdown":"I am using the following code to fetch the content  :         Object content = message.getContent();\nif (message.isMimeType(&quot;text/html&quot;)\t\t\t\t\t|| message.isMimeType(&quot;text/plain&quot;))                        {\n\tAl = (String) content;\n\n}                                                                   Once content is downloaded, the following code is used for UTF-8 encoding:                                         \nbyte[] utf8Bytes = s.getBytes(&quot;UTF-8&quot;);\ns = new String(utf8Bytes, &quot;UTF-8&quot;);","body":"I am using the following code to fetch the content  :         Object content = message.getContent(); if (message.isMimeType(&quot;text/html&quot;)\t\t\t\t\t|| message.isMimeType(&quot;text/plain&quot;))                        { \tAl = (String) content;  }                                                                   Once content is downloaded, the following code is used for UTF-8 encoding:                                          byte[] utf8Bytes = s.getBytes(&quot;UTF-8&quot;); s = new String(utf8Bytes, &quot;UTF-8&quot;);"},{"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"score":0,"creation_date":1329978113,"post_id":9407922,"comment_id":11889720,"body_markdown":"About displaying the content, I am trying to display it on the browser window at present since I am testing my code now.   This issue happens only when i send mail from a Gmail Id to another gmail Id.  When I send mail from Thunderbird or any other mail client to another Gmail Id, it works perfectly and displaying the arabic content","body":"About displaying the content, I am trying to display it on the browser window at present since I am testing my code now.   This issue happens only when i send mail from a Gmail Id to another gmail Id.  When I send mail from Thunderbird or any other mail client to another Gmail Id, it works perfectly and displaying the arabic content"},{"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"score":0,"creation_date":1329979961,"post_id":9407922,"comment_id":11890163,"body_markdown":"Are you saying you encounter the problem only when sending email using Gmail&#39;s web mail? What if you send your email using Thunderbird throw Gmail?","body":"Are you saying you encounter the problem only when sending email using Gmail&#39;s web mail? What if you send your email using Thunderbird throw Gmail?"},{"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"score":0,"creation_date":1329980526,"post_id":9407922,"comment_id":11890296,"body_markdown":"Yes, When i send mail from Gmail to Gmail, then content is displayed in ??? format.  The default character set for this mail is windows-1256.  When i send mail from another email account using Thunderbird to the same Gmail id, then the content is displaying properly. The character set for this mail is ISO-8859-1.","body":"Yes, When i send mail from Gmail to Gmail, then content is displayed in ??? format.  The default character set for this mail is windows-1256.  When i send mail from another email account using Thunderbird to the same Gmail id, then the content is displaying properly. The character set for this mail is ISO-8859-1."}],"answers":[{"comments":[{"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"score":0,"creation_date":1330063305,"post_id":9414254,"comment_id":11917336,"body_markdown":"Hi, I tried to execute the code.  But getting Exception   javax.mail.IllegalWriteException: IMAPMessage is read-only.","body":"Hi, I tried to execute the code.  But getting Exception   javax.mail.IllegalWriteException: IMAPMessage is read-only."},{"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"score":0,"creation_date":1330065555,"post_id":9414254,"comment_id":11917824,"body_markdown":"Message mails=null;\n\t\t\ttry {\n\t\t\t\t\tmails = folder.getMessage(i);\n\t\t\t\t} catch (MessagingException e1) {\t\t\t\t\t\n\t\t\t\t\te1.printStackTrace();\n\t\t\t\t}\n\t\t\t\ttry {              \t\t\t\n            \t\tmails.setContent(headers, &quot;text/plain; charset=utf-8&quot;);\n            \t\tmails.saveChanges();              \t\t\t\t \n              \t} catch (Exception e) {\n                \tSystem.out.println(e);\n                }","body":"Message mails=null; \t\t\ttry { \t\t\t\t\tmails = folder.getMessage(i); \t\t\t\t} catch (MessagingException e1) {\t\t\t\t\t \t\t\t\t\te1.printStackTrace(); \t\t\t\t} \t\t\t\ttry {              \t\t\t             \t\tmails.setContent(headers, &quot;text/plain; charset=utf-8&quot;);             \t\tmails.saveChanges();              \t\t\t\t                \t} catch (Exception e) {                 \tSystem.out.println(e);                 }"},{"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"score":0,"creation_date":1330065740,"post_id":9414254,"comment_id":11917864,"body_markdown":"And for connecting to gmail server   public void getgmailConecction() {\n\t\ttry {\n\t\t\tProperties props = System.getProperties();\n\t\t\tprops.setProperty(&quot;charset&quot;,&quot;utf-8&quot;);\n\t\t\tprops.setProperty(&quot;mail.mime.decodeparameters&quot;, &quot;true&quot;);\n\t\t\tprops.setProperty(&quot;mail.mime.encodeparameters&quot;, &quot;true&quot;);\n\t\t\tsession = Session.getInstance(props, null);\n\t\t\tthis.setSession(session);\n\t\t\tSetSessionDebug(session);\n\t\t\tgmailStore = session.getStore(gmailProtocol);\n\t\t\tgmailStore.connect(gmailHost, gmailPort, gmailUser, gmailPassword);\n\t\t} catch (Exception Ex) {\n\t\t\tSystem.out.println(Ex);\t\t\t\n\t\t}\n\t}","body":"And for connecting to gmail server   public void getgmailConecction() { \t\ttry { \t\t\tProperties props = System.getProperties(); \t\t\tprops.setProperty(&quot;charset&quot;,&quot;utf-8&quot;); \t\t\tprops.setProperty(&quot;mail.mime.decodeparameters&quot;, &quot;true&quot;); \t\t\tprops.setProperty(&quot;mail.mime.encodeparameters&quot;, &quot;true&quot;); \t\t\tsession = Session.getInstance(props, null); \t\t\tthis.setSession(session); \t\t\tSetSessionDebug(session); \t\t\tgmailStore = session.getStore(gmailProtocol); \t\t\tgmailStore.connect(gmailHost, gmailPort, gmailUser, gmailPassword); \t\t} catch (Exception Ex) { \t\t\tSystem.out.println(Ex);\t\t\t \t\t} \t}"},{"owner":{"account_id":1260794,"reputation":692,"user_id":1219137,"display_name":"yael alfasi"},"score":0,"creation_date":1330070313,"post_id":9414254,"comment_id":11918883,"body_markdown":"try to use this instead: MimeMessage message = new MimeMessage(mailSession);","body":"try to use this instead: MimeMessage message = new MimeMessage(mailSession);"},{"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"score":0,"creation_date":1330080230,"post_id":9414254,"comment_id":11921939,"body_markdown":"still no hope... When i send mail from my personal mail using thunder bird client to Gmail, it downloads and displays correctly.  Only when i send mail which contains arabic content from Gmail to Gmail is the issue.","body":"still no hope... When i send mail from my personal mail using thunder bird client to Gmail, it downloads and displays correctly.  Only when i send mail which contains arabic content from Gmail to Gmail is the issue."},{"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"score":0,"creation_date":1330094270,"post_id":9414254,"comment_id":11926810,"body_markdown":"The code which you posted is to send the mail using Gmail. But my problem is with reading the mail content using Javamail.  This code is working fine for me for sending the mail.  But i am getting error when i try to read the content using javamail.","body":"The code which you posted is to send the mail using Gmail. But my problem is with reading the mail content using Javamail.  This code is working fine for me for sending the mail.  But i am getting error when i try to read the content using javamail."},{"owner":{"account_id":1260794,"reputation":692,"user_id":1219137,"display_name":"yael alfasi"},"score":0,"creation_date":1330102860,"post_id":9414254,"comment_id":11930418,"body_markdown":"so if you open your gmail you can see the emails ok there ?","body":"so if you open your gmail you can see the emails ok there ?"},{"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"score":0,"creation_date":1330321950,"post_id":9414254,"comment_id":11969259,"body_markdown":"Yes.. When i access Gmail directly, I am able to read the messages.","body":"Yes.. When i access Gmail directly, I am able to read the messages."},{"owner":{"account_id":1260794,"reputation":692,"user_id":1219137,"display_name":"yael alfasi"},"score":0,"creation_date":1330373766,"post_id":9414254,"comment_id":11985586,"body_markdown":"try this:if (content instanceof Multipart) {\n                    Multipart c = ((Multipart)content);\n                    BodyPart p = c.getBodyPart(0);\n                    messageText = IOUtils.toString(p.getInputStream(), &quot;UTF-8&quot;); }","body":"try this:if (content instanceof Multipart) {                     Multipart c = ((Multipart)content);                     BodyPart p = c.getBodyPart(0);                     messageText = IOUtils.toString(p.getInputStream(), &quot;UTF-8&quot;); }"},{"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"score":0,"creation_date":1330403252,"post_id":9414254,"comment_id":11992900,"body_markdown":"Hi Yael... Still not working... am getting the content as ???? ????????? ????????","body":"Hi Yael... Still not working... am getting the content as ???? ????????? ????????"},{"owner":{"account_id":1260794,"reputation":692,"user_id":1219137,"display_name":"yael alfasi"},"score":0,"creation_date":1330420882,"post_id":9414254,"comment_id":11996802,"body_markdown":"the connection code: Properties props = System.getProperties();\n            props.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);\n            props.setProperty(&quot;charset&quot;,&quot;utf-8&quot;);\n            props.setProperty(&quot;mail.imap.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n            props.setProperty(&quot;mail.imap.socketFactory.fallback&quot;, &quot;false&quot;); Session session = Session.getDefaultInstance(props, null);\n            store = session.getStore(&quot;imaps&quot;);\n            store.connect(&quot;imap.gmail.com&quot;, &quot;user&quot;, &quot;pw&quot;);","body":"the connection code: Properties props = System.getProperties();             props.setProperty(&quot;mail.store.protocol&quot;, &quot;imaps&quot;);             props.setProperty(&quot;charset&quot;,&quot;utf-8&quot;);             props.setProperty(&quot;mail.imap.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);             props.setProperty(&quot;mail.imap.socketFactory.fallback&quot;, &quot;false&quot;); Session session = Session.getDefaultInstance(props, null);             store = session.getStore(&quot;imaps&quot;);             store.connect(&quot;imap.gmail.com&quot;, &quot;user&quot;, &quot;pw&quot;);"},{"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"score":0,"creation_date":1330424940,"post_id":9414254,"comment_id":11998061,"body_markdown":"Hi Yael, I think there is no problem with the connection properties.  All other mails are getting downloaded properly and even the arabic content mail which i send from my office mail using Thunderbird client to the same Gmail id for testing.  The problem happens only when i send mails from Gmail to Gmail with Arabic  or any other language content except English","body":"Hi Yael, I think there is no problem with the connection properties.  All other mails are getting downloaded properly and even the arabic content mail which i send from my office mail using Thunderbird client to the same Gmail id for testing.  The problem happens only when i send mails from Gmail to Gmail with Arabic  or any other language content except English"},{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":0,"creation_date":1330426291,"post_id":9414254,"comment_id":11998493,"body_markdown":"@Timson If you&#39;ve got a working solution that differs from the answer above, you should post it as a new answer rather than editing this one. If you merely want to post code to discuss, edit your question. Thanks and welcome to SO","body":"@Timson If you&#39;ve got a working solution that differs from the answer above, you should post it as a new answer rather than editing this one. If you merely want to post code to discuss, edit your question. Thanks and welcome to SO"},{"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"score":0,"creation_date":1330427825,"post_id":9414254,"comment_id":11998939,"body_markdown":"I&#39;m Sorry for that.  It was not an answer.  Just tried to update the code which i am using at present and which giving me the error","body":"I&#39;m Sorry for that.  It was not an answer.  Just tried to update the code which i am using at present and which giving me the error"},{"owner":{"account_id":1260794,"reputation":692,"user_id":1219137,"display_name":"yael alfasi"},"score":0,"creation_date":1330432553,"post_id":9414254,"comment_id":12000554,"body_markdown":"the whole code will be very useful, if needed open another question and post a comment here to direct to there","body":"the whole code will be very useful, if needed open another question and post a comment here to direct to there"},{"owner":{"account_id":1260794,"reputation":692,"user_id":1219137,"display_name":"yael alfasi"},"score":0,"creation_date":1330495927,"post_id":9414254,"comment_id":12020339,"body_markdown":"cng to this IOUtils.toString(p.getInputStream(), &quot;UTF-8&quot;); u just have p.getInputStream();","body":"cng to this IOUtils.toString(p.getInputStream(), &quot;UTF-8&quot;); u just have p.getInputStream();"},{"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"score":0,"creation_date":1330497497,"post_id":9414254,"comment_id":12020686,"body_markdown":"Yes, i have tried my code with IOUtils from commons.  But it was not working for me.  The code which i posted is my original code.","body":"Yes, i have tried my code with IOUtils from commons.  But it was not working for me.  The code which i posted is my original code."},{"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"score":0,"creation_date":1330508102,"post_id":9414254,"comment_id":12023470,"body_markdown":"I my code,  Content += bodyPart.getContent().toString() fetch the mail content and stores it in a string. This code works fine if the mail content is in English.  If the content is in some other languages like Arabic and if it is send from one Gmail Id to another Gmail Id, this code is not working.  If i send the mail from my office email using Thunder bird client to the same Gmail id, this code works fine.","body":"I my code,  Content += bodyPart.getContent().toString() fetch the mail content and stores it in a string. This code works fine if the mail content is in English.  If the content is in some other languages like Arabic and if it is send from one Gmail Id to another Gmail Id, this code is not working.  If i send the mail from my office email using Thunder bird client to the same Gmail id, this code works fine."},{"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"score":0,"creation_date":1330576846,"post_id":9414254,"comment_id":12045040,"body_markdown":"When is use IOUtils instead of bodyPart.getContent().toString(), I am getting the content as same as  ??? format.","body":"When is use IOUtils instead of bodyPart.getContent().toString(), I am getting the content as same as  ??? format."}],"tags":[],"owner":{"account_id":1260794,"reputation":692,"user_id":1219137,"display_name":"yael alfasi"},"comment_count":19,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1330092591,"creation_date":1330004655,"answer_id":9414254,"question_id":9407922,"body_markdown":" this is working for me: &lt;br/&gt;\r\n\r\n    public boolean sendEmail(String sender, String recipient, String subject, String body)\r\n        {\r\n            try\r\n            {\r\n                // set properties of mail server\r\n                Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider());\r\n    \r\n                Properties props = new Properties();\r\n                props.setProperty(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n                props.setProperty(&quot;mail.host&quot;, &quot;smtp.gmail.com&quot;);\r\n                props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n                props.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);\r\n                props.setProperty(&quot;charset&quot;,&quot;utf-8&quot;);\r\n                props.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);\r\n                props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n                props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n                props.setProperty(&quot;mail.smtp.quitwait&quot;, &quot;false&quot;);\r\n    \r\n                // connect to mail server\r\n                javax.mail.Session session = javax.mail.Session.getDefaultInstance(props,\r\n                        new javax.mail.Authenticator()\r\n                {\r\n                    protected PasswordAuthentication getPasswordAuthentication()\r\n                    { return new PasswordAuthentication(gmailUser,gmailPassword);\t}  \r\n                });\r\n    \r\n                // create email\r\n                MimeMessage message = new MimeMessage(session);\r\n                message.setSender(new InternetAddress(sender));\r\n                message.setSubject(subject, &quot;UTF-8&quot;);\r\n                message.setContent(body, &quot;text/plain; charset=utf-8&quot;);\r\n                message.setRecipient(Message.RecipientType.TO, new InternetAddress(recipient));\r\n    \r\n                // send email\r\n                Transport.send(message);\r\n    \r\n                return true;\r\n           }\r\n           catch (Exception e)\r\n           {\r\n              System.out.println(&quot;Exception thown &quot;+e.getMessage());\r\n              return false;\r\n           }","title":"Arabic Content issue in reading mails using javamail API","body":"<p>this is working for me: <br/></p>\n\n<pre><code>public boolean sendEmail(String sender, String recipient, String subject, String body)\n    {\n        try\n        {\n            // set properties of mail server\n            Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider());\n\n            Properties props = new Properties();\n            props.setProperty(\"mail.transport.protocol\", \"smtp\");\n            props.setProperty(\"mail.host\", \"smtp.gmail.com\");\n            props.put(\"mail.smtp.auth\", \"true\");\n            props.put(\"mail.smtp.port\", \"465\");\n            props.setProperty(\"charset\",\"utf-8\");\n            props.put(\"mail.smtp.socketFactory.port\", \"465\");\n            props.put(\"mail.smtp.socketFactory.class\", \"javax.net.ssl.SSLSocketFactory\");\n            props.put(\"mail.smtp.socketFactory.fallback\", \"false\");\n            props.setProperty(\"mail.smtp.quitwait\", \"false\");\n\n            // connect to mail server\n            javax.mail.Session session = javax.mail.Session.getDefaultInstance(props,\n                    new javax.mail.Authenticator()\n            {\n                protected PasswordAuthentication getPasswordAuthentication()\n                { return new PasswordAuthentication(gmailUser,gmailPassword);   }  \n            });\n\n            // create email\n            MimeMessage message = new MimeMessage(session);\n            message.setSender(new InternetAddress(sender));\n            message.setSubject(subject, \"UTF-8\");\n            message.setContent(body, \"text/plain; charset=utf-8\");\n            message.setRecipient(Message.RecipientType.TO, new InternetAddress(recipient));\n\n            // send email\n            Transport.send(message);\n\n            return true;\n       }\n       catch (Exception e)\n       {\n          System.out.println(\"Exception thown \"+e.getMessage());\n          return false;\n       }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":416135,"reputation":417,"user_id":791347,"display_name":"pedrocgsousa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342014140,"creation_date":1342014140,"answer_id":11433982,"question_id":9407922,"body_markdown":"you can use something linke this:\r\n\r\n    protected static String readContent(Part part) throws IOException, MessagingException {\r\n        return new String(part.getContent().toString().getBytes(), readCharset(part.getContentType()));\r\n    }\r\n\r\n    /**\r\n     * Read charset from ContentType of javax.mail.internet.Part (MimePart, BodyPart, etc).\r\n     * eg: &quot;text/plain; charset=iso-8859-1&quot;\r\n     * The result: Charset ISO-8859-1\r\n     *\r\n     * @param contentType content-type like &quot;text/plain; charset=iso-8859-1&quot;\r\n     * @return Charset\r\n     */\r\n    protected static Charset readCharset(String contentType) {\r\n        Charset charset = Charset.defaultCharset();\r\n        if (StringUtils.hasText(contentType)) {\r\n            String[] _split = contentType.split(&quot;charset=&quot;);\r\n            if (_split != null &amp;&amp; _split.length == 2) {\r\n                String _c = _split[1];\r\n                try {\r\n                    charset = Charset.forName(_c);\r\n                } catch (Exception ex) {\r\n                    log.error(&quot;Invalid content-type charset: &quot; + contentType);\r\n                }\r\n            }\r\n        }\r\n\r\n        return charset;\r\n    }\r\n\r\nIt&#39;s not the best solution, but it works.\r\n\r\nRegards,\r\nPedro Sousa","title":"Arabic Content issue in reading mails using javamail API","body":"<p>you can use something linke this:</p>\n\n<pre><code>protected static String readContent(Part part) throws IOException, MessagingException {\n    return new String(part.getContent().toString().getBytes(), readCharset(part.getContentType()));\n}\n\n/**\n * Read charset from ContentType of javax.mail.internet.Part (MimePart, BodyPart, etc).\n * eg: \"text/plain; charset=iso-8859-1\"\n * The result: Charset ISO-8859-1\n *\n * @param contentType content-type like \"text/plain; charset=iso-8859-1\"\n * @return Charset\n */\nprotected static Charset readCharset(String contentType) {\n    Charset charset = Charset.defaultCharset();\n    if (StringUtils.hasText(contentType)) {\n        String[] _split = contentType.split(\"charset=\");\n        if (_split != null &amp;&amp; _split.length == 2) {\n            String _c = _split[1];\n            try {\n                charset = Charset.forName(_c);\n            } catch (Exception ex) {\n                log.error(\"Invalid content-type charset: \" + contentType);\n            }\n        }\n    }\n\n    return charset;\n}\n</code></pre>\n\n<p>It's not the best solution, but it works.</p>\n\n<p>Regards,\nPedro Sousa</p>\n"},{"tags":[],"owner":{"account_id":17414711,"reputation":95,"user_id":12621291,"display_name":"Anchal Ajay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600185887,"creation_date":1600185887,"answer_id":63905777,"question_id":9407922,"body_markdown":"message.setContent(content+&quot;&quot;,&quot;text/html; charset=utf-8&quot;);\r\n\r\n\r\nyou need to add this line, for arabic.","title":"Arabic Content issue in reading mails using javamail API","body":"<p>message.setContent(content+&quot;&quot;,&quot;text/html; charset=utf-8&quot;);</p>\n<p>you need to add this line, for arabic.</p>\n"},{"tags":[],"owner":{"account_id":12513712,"reputation":1,"user_id":9107840,"display_name":"Thananjeyan Rajendran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669275766,"creation_date":1668932888,"answer_id":74506629,"question_id":9407922,"body_markdown":"the one which worked for me,\r\n\r\n    String utf8EncodedString = new String(bytes, StandardCharsets.UTF_8);","title":"Arabic Content issue in reading mails using javamail API","body":"<p>the one which worked for me,</p>\n<pre><code>String utf8EncodedString = new String(bytes, StandardCharsets.UTF_8);\n</code></pre>\n"}],"owner":{"account_id":1192151,"reputation":1337,"user_id":1164665,"accept_rate":58,"display_name":"Timson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3506,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1669275766,"creation_date":1329976517,"question_id":9407922,"body_markdown":"I am using Javamail API to read mails from Gmail server.  I am sending a mail with Arabic content from a gmail id to another Gmail id. The Charset encoding type of the mail is windows-1256.  When i download the mail using Javamail I am getting content in &quot;??????&quot; format instead of Arabic Characters. I am converting the downloaded content to UTF-8 format but still not getting the proper display.  \r\n\r\nThanks in advance,\r\n\r\nTim\r\n\r\n**Update:**&lt;br&gt;\r\nI am using the following code to fetch the content : \r\n\r\n    Object content = message.getContent(); \r\n    if (message.isMimeType(&quot;text/html&quot;)\t \r\n          || message.isMimeType(&quot;text/plain&quot;)) { \r\n          Al = (String) content; \r\n    } \r\n\r\nOnce content is downloaded, the following code is used for UTF-8 encoding: \r\n\r\n    byte[] utf8Bytes = s.getBytes(&quot;UTF-8&quot;); \r\n    s = new String(utf8Bytes, &quot;UTF-8&quot;); \r\n\r\n\r\n**Update : Complete code that I am using for reading the mail contents at present**&lt;br&gt;\r\n\r\n    String gmailMultipartMailDownload(Multipart multipart, String Uids)\r\n\t\t\tthrows SocketException, UnsupportedDataTypeException, UnsupportedEncodingException {\r\n\t\tString Content = new String(&quot;&quot;);\t\t\r\n\t\ttry {\r\n\t\t\tint numParts = multipart.getCount();\t\t\t\r\n\t\t\tfor (int k = 0; k &lt; numParts; k++)\r\n\t\t\t{\r\n\t\t\t\tBodyPart bodyPart = multipart.getBodyPart(k);\r\n\t\t\t\tObject tmp = null;\r\n\t\t\t\ttry \r\n\t\t\t\t{\r\n\t\t\t\t\ttmp = bodyPart.getContent();\r\n\t\t\t\t} \r\n\t\t\t\tcatch (UnsupportedDataTypeException UEE)\r\n\t\t\t\t{\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tInputStream is = bodyPart.getInputStream();\r\n\t\t\t\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n\t\t\t\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\t\t\t\tString line = null;\r\n\r\n\t\t\t\t\t\twhile ((line = br.readLine()) != null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tsb.append(line + &quot;\\n&quot;);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbr.close();\r\n\t\t\t\t\t\treturn sb.toString();\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t} catch (MessagingException e) {\t\t\t\t\t\t\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (UnsupportedEncodingException UEE) {\r\n\t\t\t\t\tUEE.printStackTrace();\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tInputStream is = bodyPart.getInputStream();\r\n\t\t\t\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n\t\t\t\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t\t\t\t\tString line = null;\r\n\r\n\t\t\t\t\t\twhile ((line = br.readLine()) != null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tsb.append(line + &quot;\\n&quot;);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbr.close();\r\n\t\t\t\t\t\treturn sb.toString();\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t} catch (MessagingException e) {\t\t\t\t\t\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t\t\r\n\t\t\t\tString disposition = bodyPart.getDisposition();\r\n\t\t\t\t\r\n\t\t\t\tif (tmp instanceof InputStream) {\t\t\t\t\t\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tif( super.Downloadfiles(bodyPart, hashCode, attnumcount,this.getgmailattachmentfolder()))\r\n\t\t\t\t\t\t{\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//Download Attachments\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}catch (FileNotFoundException err) {\t\t\t\t\t \r\n\t\t\t\t\t\treturn Content;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch(IOException fex){\t\t\t\t\t \r\n\t\t\t\t\t\tfex.printStackTrace();\r\n\t\t\t\t\t \treturn Content;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (disposition != null\r\n\t\t\t\t\t\t&amp;&amp; (disposition.equals(BodyPart.ATTACHMENT) || disposition.equals(BodyPart.INLINE) || disposition.equals(&quot;ATTACHMENT&quot;))) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t try{\r\n\t\t\t\t\t\t if( super.Downloadfiles(bodyPart, hashCode, attnumcount,this.getgmailattachmentfolder()))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t//Download Attachments\r\n\t\t\t\t\t}\r\n\t\t\t\t\t }catch (FileNotFoundException err) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t System.out.println(err.getMessage());\r\n\t\t\t\t\t return Content;\r\n\t\t\t\t\t }\r\n\t\t\t\t\t catch(IOException fex){\t\t \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t fex.printStackTrace();\r\n\t\t\t\t\t return Content;}\r\n\t\t\t\t} else if (bodyPart.isMimeType(&quot;multipart/*&quot;)) {\r\n\t\t\t\t\tMultipart mp = (Multipart) bodyPart.getContent();\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tContent += gmailMultipartMailDownload(mp, Uids);\r\n\r\n\t\t\t\t} else if (bodyPart.isMimeType(&quot;text/html&quot;)) {\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tContent += bodyPart.getContent().toString();\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcatch (Exception Ex) {\t\t\r\n\t\t\tSystem.out.println(&quot;Content object  error is  &quot;+Ex);\t\t\t\r\n\t\t\treturn Content;\t\t\t\r\n\t\t} finally {\r\n\t\t\treturn Content;\r\n\t\t}\r\n\t}\r\n\r\n","title":"Arabic Content issue in reading mails using javamail API","body":"<p>I am using Javamail API to read mails from Gmail server.  I am sending a mail with Arabic content from a gmail id to another Gmail id. The Charset encoding type of the mail is windows-1256.  When i download the mail using Javamail I am getting content in \"??????\" format instead of Arabic Characters. I am converting the downloaded content to UTF-8 format but still not getting the proper display.  </p>\n\n<p>Thanks in advance,</p>\n\n<p>Tim</p>\n\n<p><strong>Update:</strong><br>\nI am using the following code to fetch the content : </p>\n\n<pre><code>Object content = message.getContent(); \nif (message.isMimeType(\"text/html\")  \n      || message.isMimeType(\"text/plain\")) { \n      Al = (String) content; \n} \n</code></pre>\n\n<p>Once content is downloaded, the following code is used for UTF-8 encoding: </p>\n\n<pre><code>byte[] utf8Bytes = s.getBytes(\"UTF-8\"); \ns = new String(utf8Bytes, \"UTF-8\"); \n</code></pre>\n\n<p><strong>Update : Complete code that I am using for reading the mail contents at present</strong><br></p>\n\n<pre><code>String gmailMultipartMailDownload(Multipart multipart, String Uids)\n        throws SocketException, UnsupportedDataTypeException, UnsupportedEncodingException {\n    String Content = new String(\"\");        \n    try {\n        int numParts = multipart.getCount();            \n        for (int k = 0; k &lt; numParts; k++)\n        {\n            BodyPart bodyPart = multipart.getBodyPart(k);\n            Object tmp = null;\n            try \n            {\n                tmp = bodyPart.getContent();\n            } \n            catch (UnsupportedDataTypeException UEE)\n            {\n                try {\n                    InputStream is = bodyPart.getInputStream();\n                    BufferedReader br = new BufferedReader(new InputStreamReader(is));\n                    StringBuilder sb = new StringBuilder();\n                    String line = null;\n\n                    while ((line = br.readLine()) != null)\n                    {\n                        sb.append(line + \"\\n\");\n                    }\n\n                    br.close();\n                    return sb.toString();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                } catch (MessagingException e) {                        \n                    e.printStackTrace();\n                }\n            } catch (UnsupportedEncodingException UEE) {\n                UEE.printStackTrace();\n                try {\n                    InputStream is = bodyPart.getInputStream();\n                    BufferedReader br = new BufferedReader(new InputStreamReader(is));\n                    StringBuilder sb = new StringBuilder();\n                    String line = null;\n\n                    while ((line = br.readLine()) != null)\n                    {\n                        sb.append(line + \"\\n\");\n                    }\n\n                    br.close();\n                    return sb.toString();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                } catch (MessagingException e) {                    \n                    e.printStackTrace();\n                }\n            }   \n\n            String disposition = bodyPart.getDisposition();\n\n            if (tmp instanceof InputStream) {                   \n                try{\n                    if( super.Downloadfiles(bodyPart, hashCode, attnumcount,this.getgmailattachmentfolder()))\n                    {                       \n                        //Download Attachments\n                    }\n                }catch (FileNotFoundException err) {                     \n                    return Content;\n                }\n                catch(IOException fex){                  \n                    fex.printStackTrace();\n                    return Content;\n                }\n            }\n            else if (disposition != null\n                    &amp;&amp; (disposition.equals(BodyPart.ATTACHMENT) || disposition.equals(BodyPart.INLINE) || disposition.equals(\"ATTACHMENT\"))) {\n\n                 try{\n                     if( super.Downloadfiles(bodyPart, hashCode, attnumcount,this.getgmailattachmentfolder()))\n                {\n\n                        //Download Attachments\n                }\n                 }catch (FileNotFoundException err) {\n\n                 System.out.println(err.getMessage());\n                 return Content;\n                 }\n                 catch(IOException fex){         \n\n                 fex.printStackTrace();\n                 return Content;}\n            } else if (bodyPart.isMimeType(\"multipart/*\")) {\n                Multipart mp = (Multipart) bodyPart.getContent();               \n\n                Content += gmailMultipartMailDownload(mp, Uids);\n\n            } else if (bodyPart.isMimeType(\"text/html\")) {                  \n\n                Content += bodyPart.getContent().toString();                    \n            }\n        }\n    }\n\n    catch (Exception Ex) {      \n        System.out.println(\"Content object  error is  \"+Ex);            \n        return Content;         \n    } finally {\n        return Content;\n    }\n}\n</code></pre>\n"},{"tags":["java","windows","neo4j","timeout","startup"],"comments":[{"owner":{"account_id":3202350,"reputation":1863,"user_id":2704179,"accept_rate":57,"display_name":"ceej"},"score":0,"creation_date":1428650837,"post_id":29552805,"comment_id":47261987,"body_markdown":"Did you run it without any of your adjustments, i.e. a vanilla instance, to ascertain if it is an environment issue or your changes?","body":"Did you run it without any of your adjustments, i.e. a vanilla instance, to ascertain if it is an environment issue or your changes?"},{"owner":{"account_id":376992,"reputation":41434,"user_id":728812,"display_name":"Michael Hunger"},"score":0,"creation_date":1428687097,"post_id":29552805,"comment_id":47284215,"body_markdown":"Did you use a already existing database? Or a blank directory for data/graph.db ?","body":"Did you use a already existing database? Or a blank directory for data/graph.db ?"},{"owner":{"account_id":376992,"reputation":41434,"user_id":728812,"display_name":"Michael Hunger"},"score":0,"creation_date":1428687422,"post_id":29552805,"comment_id":47284418,"body_markdown":"Did you use a previous database? What about access rights to the directory? `C:\\Users\\Fereshteh\\Desktop\\neo4j-enterprise-2.2.0-windows\\neo4j-enterprise-2.2.0\\data\\graph.db\\messages`","body":"Did you use a previous database? What about access rights to the directory? <code>C:\\Users\\Fereshteh\\Desktop\\neo4j-enterprise-2.2.0-windows\\ne&zwnj;&#8203;o4j-enterprise-2.2.0&zwnj;&#8203;\\data\\graph.db\\messa&zwnj;&#8203;ges</code>"}],"answers":[{"tags":[],"owner":{"account_id":7019078,"reputation":91,"user_id":5379273,"display_name":"Benjamin Raethlein"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456773830,"creation_date":1456773830,"answer_id":35707856,"question_id":29552805,"body_markdown":"I had the same error today. In my case, it was because the files in the database directory were corrupted (I unzipped an existing graph which failed on first try). After I unzipped the existing graph database correctly - and the database files were fine - it worked. So, maybe your database directory is also corrupted.","title":"neo4j keeps giving erros and is not running,can you help me with its errors?","body":"<p>I had the same error today. In my case, it was because the files in the database directory were corrupted (I unzipped an existing graph which failed on first try). After I unzipped the existing graph database correctly - and the database files were fine - it worked. So, maybe your database directory is also corrupted.</p>\n"},{"tags":[],"owner":{"account_id":8560681,"reputation":72,"user_id":6414816,"display_name":"Bender"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669275676,"creation_date":1669275676,"answer_id":74557198,"question_id":29552805,"body_markdown":"Move the neo4j folder to another directory -&gt; \\Program&#39;*thisblankisbad*&#39;Files\\ &lt;- was the cause for me. I was trying to reinstall the service on Windows with \r\n\r\n    neo4j install-service\r\nand neo4j threw: \r\n\r\n    neo4j Error: mainclass org.neo4j.server.startup.Neo4jCommand could not be found or loaded cause: java.lang.ClassNotFoundException: org.neo4j.server.startup.Neo4jCommand\r\n\r\nafter i moved the neo4j folder to another directory (NO BLANKS!!!) it was fine \r\nwindows 10, neo4j v4.4.9","title":"neo4j keeps giving erros and is not running,can you help me with its errors?","body":"<p>Move the neo4j folder to another directory -&gt; \\Program'<em>thisblankisbad</em>'Files\\ &lt;- was the cause for me. I was trying to reinstall the service on Windows with</p>\n<pre><code>neo4j install-service\n</code></pre>\n<p>and neo4j threw:</p>\n<pre><code>neo4j Error: mainclass org.neo4j.server.startup.Neo4jCommand could not be found or loaded cause: java.lang.ClassNotFoundException: org.neo4j.server.startup.Neo4jCommand\n</code></pre>\n<p>after i moved the neo4j folder to another directory (NO BLANKS!!!) it was fine\nwindows 10, neo4j v4.4.9</p>\n"}],"owner":{"account_id":2049469,"reputation":33,"user_id":1828759,"accept_rate":50,"display_name":"user1828759"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669275676,"creation_date":1428636349,"question_id":29552805,"body_markdown":"I downloaded neo4j.zip from its site and extract it.\r\nI downloaded and installed jdk 7, I have two folders in :\r\n\r\n    C:\\Program Files\\Java\\jdk1.7.0_75\r\n\r\nand \r\n\r\n    C:\\Program Files\\Java\\jre7\r\n\r\nAnd I clicked on New and made a variable named JAVA_HOME and its value is\r\n\r\n    C:\\Program Files\\Java\\jdk1.7.0_75\r\n\r\nI have added \r\n\r\n    org.neo4j.server.startup_timeout=0\r\n\r\nline to my  neo4j-server.properties file because of timeout error and\r\nI have changed the port number in  neo4j-server.properties file from 7474 to 80 and 8085, this is my  neo4j-server.properties now:\r\n\r\n    ################################################################\r\n    # Neo4j\r\n    #\r\n    # neo4j-server.properties - runtime operational settings\r\n    #\r\n    ################################################################\r\n    \r\n    #***************************************************************\r\n    # Server configuration\r\n    #***************************************************************\r\n    \r\n    # location of the database directory\r\n    org.neo4j.server.database.location=data/graph.db\r\n    \r\n    # Low-level graph engine tuning file\r\n    org.neo4j.server.db.tuning.properties=conf/neo4j.properties\r\n    \r\n    # Database mode\r\n    # Allowed values:\r\n    # HA - High Availability\r\n    # SINGLE - Single mode, default.\r\n    # To run in High Availability mode, configure the neo4j.properties config file, then uncomment this line:\r\n    #org.neo4j.server.database.mode=HA\r\n    \r\n    # Let the webserver only listen on the specified IP. Default is localhost (only\r\n    # accept local connections). Uncomment to allow any connection. Please see the\r\n    # security section in the neo4j manual before modifying this.\r\n    #org.neo4j.server.webserver.address=0.0.0.0\r\n    \r\n    # Require (or disable the requirement of) auth to access Neo4j\r\n    dbms.security.auth_enabled=true\r\n    \r\n    #\r\n    # HTTP Connector\r\n    #\r\n    \r\n    # http port (for all data, administrative, and UI access)\r\n    org.neo4j.server.webserver.port=8085\r\n    \r\n    #\r\n    # HTTPS Connector\r\n    #\r\n    \r\n    # Turn https-support on/off\r\n    org.neo4j.server.webserver.https.enabled=true\r\n    \r\n    # https port (for all data, administrative, and UI access)\r\n    org.neo4j.server.webserver.https.port=7473\r\n    \r\n    # Certificate location (auto generated if the file does not exist)\r\n    org.neo4j.server.webserver.https.cert.location=conf/ssl/snakeoil.cert\r\n    \r\n    # Private key location (auto generated if the file does not exist)\r\n    org.neo4j.server.webserver.https.key.location=conf/ssl/snakeoil.key\r\n    \r\n    # Internally generated keystore (don&#39;t try to put your own\r\n    # keystore there, it will get deleted when the server starts)\r\n    org.neo4j.server.webserver.https.keystore.location=data/keystore\r\n    \r\n    # Comma separated list of JAX-RS packages containing JAX-RS resources, one\r\n    # package name for each mountpoint. The listed package names will be loaded\r\n    # under the mountpoints specified. Uncomment this line to mount the\r\n    # org.neo4j.examples.server.unmanaged.HelloWorldResource.java from\r\n    # neo4j-server-examples under /examples/unmanaged, resulting in a final URL of\r\n    # http://localhost:7474/examples/unmanaged/helloworld/{nodeId}\r\n    #org.neo4j.server.thirdparty_jaxrs_classes=org.neo4j.examples.server.unmanaged=/examples/unmanaged\r\n    \r\n    \r\n    #*****************************************************************\r\n    # HTTP logging configuration\r\n    #*****************************************************************\r\n    \r\n    # HTTP logging is disabled. HTTP logging can be enabled by setting this\r\n    # property to &#39;true&#39;.\r\n    org.neo4j.server.http.log.enabled=false\r\n    \r\n    # Logging policy file that governs how HTTP log output is presented and\r\n    # archived. Note: changing the rollover and retention policy is sensible, but\r\n    # changing the output format is less so, since it is configured to use the\r\n    # ubiquitous common log format\r\n    org.neo4j.server.http.log.config=conf/neo4j-http-logging.xml\r\n    \r\n    #*****************************************************************\r\n    # Administration client configuration\r\n    #*****************************************************************\r\n    \r\n    # location of the servers round-robin database directory. possible values:\r\n    # - absolute path like /var/rrd\r\n    # - path relative to the server working directory like data/rrd\r\n    # - commented out, will default to the database data directory.\r\n    org.neo4j.server.webadmin.rrdb.location=data/rrd\r\n    org.neo4j.server.startup_timeout=0\r\n\r\nbut again when I run Neo4j.bat by double clicking on it, cmd window will open and java window will open and will close after some seconds and cmd window will close after it and \r\n\r\n    http://localhost:8085/browser/\r\n\r\nis unavailable.\r\n\r\nThis is my error from \r\n\r\n    C:\\Users\\Fereshteh\\Desktop\\neo4j-enterprise-2.2.0-windows\\neo4j-enterprise-2.2.0\\data\\graph.db\\messages\r\n\r\n    2015-04-10 01:56:42.689+0000 ERROR [o.n.s.e.EnterpriseBootstrapper]: Failed to start Neo Server on port [8085]\r\n    org.neo4j.server.ServerStartupException: Starting Neo4j Server failed: Wanted record LOG_VERSION, but this record wasn&#39;t read since the neostore didn&#39;t contain it\r\n    \tat org.neo4j.server.AbstractNeoServer.start(AbstractNeoServer.java:255) ~[neo4j-server-2.2.0.jar:2.2.0]\r\n    \tat org.neo4j.server.Bootstrapper.start(Bootstrapper.java:117) [neo4j-server-2.2.0.jar:2.2.0]\r\n    \tat org.neo4j.server.Bootstrapper.main(Bootstrapper.java:69) [neo4j-server-2.2.0.jar:2.2.0]\r\n    Caused by: java.lang.IllegalStateException: Wanted record LOG_VERSION, but this record wasn&#39;t read since the neostore didn&#39;t contain it\r\n    \tat org.neo4j.kernel.impl.store.record.NeoStoreUtil.getValue(NeoStoreUtil.java:127) ~[neo4j-kernel-2.2.0.jar:2.2.0]\r\n    \tat org.neo4j.kernel.impl.store.record.NeoStoreUtil.getLogVersion(NeoStoreUtil.java:150) ~[neo4j-kernel-2.2.0.jar:2.2.0]\r\n    \tat org.neo4j.kernel.impl.recovery.StoreRecoverer.recoveryNeededAt(StoreRecoverer.java:57) ~[neo4j-kernel-2.2.0.jar:2.2.0]\r\n    \tat org.neo4j.server.preflight.PerformRecoveryIfNecessary.run(PerformRecoveryIfNecessary.java:62) ~[neo4j-server-2.2.0.jar:2.2.0]\r\n    \tat org.neo4j.server.preflight.PreFlightTasks.run(PreFlightTasks.java:71) ~[neo4j-server-2.2.0.jar:2.2.0]\r\n    \tat org.neo4j.server.AbstractNeoServer.runPreflightTasks(AbstractNeoServer.java:387) ~[neo4j-server-2.2.0.jar:2.2.0]\r\n    \tat org.neo4j.server.AbstractNeoServer.start(AbstractNeoServer.java:195) ~[neo4j-server-2.2.0.jar:2.2.0]\r\n\r\nAnd in my `C:\\Users\\Fereshteh\\Desktop\\neo4j-enterprise-2.2.0-windows\\neo4j-enterprise-2.2.0\\data\\log`\r\nI have just README and windows-wrapper.0.0.txt and windows-wrapper.0.0.log.lck\r\n\r\nwhat should I do to be able to run Neo4j and work with it?\r\nI have windows 7 x86\r\nthanks in advance.","title":"neo4j keeps giving erros and is not running,can you help me with its errors?","body":"<p>I downloaded neo4j.zip from its site and extract it.\nI downloaded and installed jdk 7, I have two folders in :</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.7.0_75\n</code></pre>\n\n<p>and </p>\n\n<pre><code>C:\\Program Files\\Java\\jre7\n</code></pre>\n\n<p>And I clicked on New and made a variable named JAVA_HOME and its value is</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.7.0_75\n</code></pre>\n\n<p>I have added </p>\n\n<pre><code>org.neo4j.server.startup_timeout=0\n</code></pre>\n\n<p>line to my  neo4j-server.properties file because of timeout error and\nI have changed the port number in  neo4j-server.properties file from 7474 to 80 and 8085, this is my  neo4j-server.properties now:</p>\n\n<pre><code>################################################################\n# Neo4j\n#\n# neo4j-server.properties - runtime operational settings\n#\n################################################################\n\n#***************************************************************\n# Server configuration\n#***************************************************************\n\n# location of the database directory\norg.neo4j.server.database.location=data/graph.db\n\n# Low-level graph engine tuning file\norg.neo4j.server.db.tuning.properties=conf/neo4j.properties\n\n# Database mode\n# Allowed values:\n# HA - High Availability\n# SINGLE - Single mode, default.\n# To run in High Availability mode, configure the neo4j.properties config file, then uncomment this line:\n#org.neo4j.server.database.mode=HA\n\n# Let the webserver only listen on the specified IP. Default is localhost (only\n# accept local connections). Uncomment to allow any connection. Please see the\n# security section in the neo4j manual before modifying this.\n#org.neo4j.server.webserver.address=0.0.0.0\n\n# Require (or disable the requirement of) auth to access Neo4j\ndbms.security.auth_enabled=true\n\n#\n# HTTP Connector\n#\n\n# http port (for all data, administrative, and UI access)\norg.neo4j.server.webserver.port=8085\n\n#\n# HTTPS Connector\n#\n\n# Turn https-support on/off\norg.neo4j.server.webserver.https.enabled=true\n\n# https port (for all data, administrative, and UI access)\norg.neo4j.server.webserver.https.port=7473\n\n# Certificate location (auto generated if the file does not exist)\norg.neo4j.server.webserver.https.cert.location=conf/ssl/snakeoil.cert\n\n# Private key location (auto generated if the file does not exist)\norg.neo4j.server.webserver.https.key.location=conf/ssl/snakeoil.key\n\n# Internally generated keystore (don't try to put your own\n# keystore there, it will get deleted when the server starts)\norg.neo4j.server.webserver.https.keystore.location=data/keystore\n\n# Comma separated list of JAX-RS packages containing JAX-RS resources, one\n# package name for each mountpoint. The listed package names will be loaded\n# under the mountpoints specified. Uncomment this line to mount the\n# org.neo4j.examples.server.unmanaged.HelloWorldResource.java from\n# neo4j-server-examples under /examples/unmanaged, resulting in a final URL of\n# http://localhost:7474/examples/unmanaged/helloworld/{nodeId}\n#org.neo4j.server.thirdparty_jaxrs_classes=org.neo4j.examples.server.unmanaged=/examples/unmanaged\n\n\n#*****************************************************************\n# HTTP logging configuration\n#*****************************************************************\n\n# HTTP logging is disabled. HTTP logging can be enabled by setting this\n# property to 'true'.\norg.neo4j.server.http.log.enabled=false\n\n# Logging policy file that governs how HTTP log output is presented and\n# archived. Note: changing the rollover and retention policy is sensible, but\n# changing the output format is less so, since it is configured to use the\n# ubiquitous common log format\norg.neo4j.server.http.log.config=conf/neo4j-http-logging.xml\n\n#*****************************************************************\n# Administration client configuration\n#*****************************************************************\n\n# location of the servers round-robin database directory. possible values:\n# - absolute path like /var/rrd\n# - path relative to the server working directory like data/rrd\n# - commented out, will default to the database data directory.\norg.neo4j.server.webadmin.rrdb.location=data/rrd\norg.neo4j.server.startup_timeout=0\n</code></pre>\n\n<p>but again when I run Neo4j.bat by double clicking on it, cmd window will open and java window will open and will close after some seconds and cmd window will close after it and </p>\n\n<pre><code>http://localhost:8085/browser/\n</code></pre>\n\n<p>is unavailable.</p>\n\n<p>This is my error from </p>\n\n<pre><code>C:\\Users\\Fereshteh\\Desktop\\neo4j-enterprise-2.2.0-windows\\neo4j-enterprise-2.2.0\\data\\graph.db\\messages\n\n2015-04-10 01:56:42.689+0000 ERROR [o.n.s.e.EnterpriseBootstrapper]: Failed to start Neo Server on port [8085]\norg.neo4j.server.ServerStartupException: Starting Neo4j Server failed: Wanted record LOG_VERSION, but this record wasn't read since the neostore didn't contain it\n    at org.neo4j.server.AbstractNeoServer.start(AbstractNeoServer.java:255) ~[neo4j-server-2.2.0.jar:2.2.0]\n    at org.neo4j.server.Bootstrapper.start(Bootstrapper.java:117) [neo4j-server-2.2.0.jar:2.2.0]\n    at org.neo4j.server.Bootstrapper.main(Bootstrapper.java:69) [neo4j-server-2.2.0.jar:2.2.0]\nCaused by: java.lang.IllegalStateException: Wanted record LOG_VERSION, but this record wasn't read since the neostore didn't contain it\n    at org.neo4j.kernel.impl.store.record.NeoStoreUtil.getValue(NeoStoreUtil.java:127) ~[neo4j-kernel-2.2.0.jar:2.2.0]\n    at org.neo4j.kernel.impl.store.record.NeoStoreUtil.getLogVersion(NeoStoreUtil.java:150) ~[neo4j-kernel-2.2.0.jar:2.2.0]\n    at org.neo4j.kernel.impl.recovery.StoreRecoverer.recoveryNeededAt(StoreRecoverer.java:57) ~[neo4j-kernel-2.2.0.jar:2.2.0]\n    at org.neo4j.server.preflight.PerformRecoveryIfNecessary.run(PerformRecoveryIfNecessary.java:62) ~[neo4j-server-2.2.0.jar:2.2.0]\n    at org.neo4j.server.preflight.PreFlightTasks.run(PreFlightTasks.java:71) ~[neo4j-server-2.2.0.jar:2.2.0]\n    at org.neo4j.server.AbstractNeoServer.runPreflightTasks(AbstractNeoServer.java:387) ~[neo4j-server-2.2.0.jar:2.2.0]\n    at org.neo4j.server.AbstractNeoServer.start(AbstractNeoServer.java:195) ~[neo4j-server-2.2.0.jar:2.2.0]\n</code></pre>\n\n<p>And in my <code>C:\\Users\\Fereshteh\\Desktop\\neo4j-enterprise-2.2.0-windows\\neo4j-enterprise-2.2.0\\data\\log</code>\nI have just README and windows-wrapper.0.0.txt and windows-wrapper.0.0.log.lck</p>\n\n<p>what should I do to be able to run Neo4j and work with it?\nI have windows 7 x86\nthanks in advance.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1669240156,"post_id":74553002,"comment_id":131602471,"body_markdown":"You have to configure the source and target compiler version in the `maven-compiler-plugin` in your pom.xml. If for example the source version is set to 11 then it doesn&#39;t matter which JDK you use, the compiled will only accept Java 11 language.","body":"You have to configure the source and target compiler version in the <code>maven-compiler-plugin</code> in your pom.xml. If for example the source version is set to 11 then it doesn&#39;t matter which JDK you use, the compiled will only accept Java 11 language."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669275295,"creation_date":1669275295,"answer_id":74557110,"question_id":74553002,"body_markdown":"The easiest way to configure to use JDK 11 or even higher is first to use a most recent version of the maven-compiler-plugin:\r\n\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.10.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            ..\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n\r\nYou can now configure the used language level (needed JDk minimum) either via properties like this (definition of the encoding just as an example what should be defined as well). The `&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;` defines it via the `--release` option of the JDK compiler. This means you have to use at minimum JDK 11. If you like to use Language level 17 you simply change that to 17.\r\n\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n      &lt;/properties&gt;\r\n\r\nAn alternative is to use the configuration directly to the maven-compiler-plugin like this:\r\n\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.10.1&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n               &lt;release&gt;11&lt;/release&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            ..\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n","title":"Java maven not using the correct jdk. How can I specifiy or change which jdk it uses?","body":"<p>The easiest way to configure to use JDK 11 or even higher is first to use a most recent version of the maven-compiler-plugin:</p>\n\n<pre><code>  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.10.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        ..\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>You can now configure the used language level (needed JDk minimum) either via properties like this (definition of the encoding just as an example what should be defined as well). The <code>&lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;</code> defines it via the <code>--release</code> option of the JDK compiler. This means you have to use at minimum JDK 11. If you like to use Language level 17 you simply change that to 17.</p>\n\n<pre><code>  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>An alternative is to use the configuration directly to the maven-compiler-plugin like this:</p>\n<pre><code>  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.10.1&lt;/version&gt;\n          &lt;configuration&gt;\n           &lt;release&gt;11&lt;/release&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        ..\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":26616012,"reputation":1,"user_id":20235423,"display_name":"Zach Fornero"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669275295,"creation_date":1669237637,"question_id":74553002,"body_markdown":"My project requires me to use the var keyword which was added in java 13 however it keeps saying var cannot be resolved to type. I am using visual studio code as my IDE if that is of any importance \r\n\r\nMy current jdk is openjdk 17.0.5 2022-10-18. My JAVA_HOME environment is up to date so its not that. So any fixes would be helpful. ","title":"Java maven not using the correct jdk. How can I specifiy or change which jdk it uses?","body":"<p>My project requires me to use the var keyword which was added in java 13 however it keeps saying var cannot be resolved to type. I am using visual studio code as my IDE if that is of any importance</p>\n<p>My current jdk is openjdk 17.0.5 2022-10-18. My JAVA_HOME environment is up to date so its not that. So any fixes would be helpful.</p>\n"},{"tags":["java","oop"],"answers":[{"comments":[{"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"score":3,"creation_date":1429803032,"post_id":29827926,"comment_id":47782329,"body_markdown":"Wonder why I always thought the .java had to match the class name.","body":"Wonder why I always thought the .java had to match the class name."},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":3,"creation_date":1429803657,"post_id":29827926,"comment_id":47782825,"body_markdown":"@djechlin In the case of public non-inner classes it does. It&#39;s also the common convention.","body":"@djechlin In the case of public non-inner classes it does. It&#39;s also the common convention."}],"tags":[],"owner":{"account_id":5741072,"reputation":2824,"user_id":4533771,"display_name":"Dhanuka"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1432725492,"creation_date":1429802855,"answer_id":29827926,"question_id":29827900,"body_markdown":"Yes, save your java file by `.java` then compile it by `javac` `.java` and run by java `yourclassname` \r\n\r\n        class X {\r\n            public static void main(String args[]) {\r\n                System.out.println(&quot;Hello World&quot;);\r\n            }\r\n        }\r\n\r\nto compile - `javac .java`\r\n\r\nto execute - `java X`","title":"Is Empty .java file name working?","body":"<p>Yes, save your java file by <code>.java</code> then compile it by <code>javac</code> <code>.java</code> and run by java <code>yourclassname</code> </p>\n\n<pre><code>    class X {\n        public static void main(String args[]) {\n            System.out.println(\"Hello World\");\n        }\n    }\n</code></pre>\n\n<p>to compile - <code>javac .java</code></p>\n\n<p>to execute - <code>java X</code></p>\n"},{"tags":[],"owner":{"account_id":5631240,"reputation":1711,"user_id":4700005,"accept_rate":56,"display_name":"skr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429803180,"creation_date":1429803180,"answer_id":29828063,"question_id":29827900,"body_markdown":"Yes You can have  .java file withought nay name . you have to compile it by `javac .java`(it compile successfuly) and run it by `java clasnname`.(so you must provide a class name)","title":"Is Empty .java file name working?","body":"<p>Yes You can have  .java file withought nay name . you have to compile it by <code>javac .java</code>(it compile successfuly) and run it by <code>java clasnname</code>.(so you must provide a class name)</p>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429803392,"creation_date":1429803392,"answer_id":29828147,"question_id":29827900,"body_markdown":"*Yes*, but **don&#39;t do this often**.\r\n\r\nYou can&#39;t create any classes in that file that are `public` or `private`, so any class that made use of any class defined here would have to be in the same package.\r\n\r\n","title":"Is Empty .java file name working?","body":"<p><em>Yes</em>, but <strong>don't do this often</strong>.</p>\n\n<p>You can't create any classes in that file that are <code>public</code> or <code>private</code>, so any class that made use of any class defined here would have to be in the same package.</p>\n"},{"tags":[],"owner":{"account_id":6287746,"reputation":505,"user_id":4886349,"accept_rate":86,"display_name":"Chandu D"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433060238,"creation_date":1432966475,"answer_id":30542973,"question_id":29827900,"body_markdown":"Yes it&#39;s working because java compiler doesn&#39;t consider it saves file name or not except our class having public specified we can save any name or empty but when ever trying to execute we must use our class name because, jvm creates byte code `ourclassname.class` so we using\r\n\r\n    java className\r\n\r\n","title":"Is Empty .java file name working?","body":"<p>Yes it's working because java compiler doesn't consider it saves file name or not except our class having public specified we can save any name or empty but when ever trying to execute we must use our class name because, jvm creates byte code <code>ourclassname.class</code> so we using</p>\n\n<pre><code>java className\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1069576,"reputation":775,"user_id":1069186,"accept_rate":63,"display_name":"Coder17"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511203336,"creation_date":1511203336,"answer_id":47398952,"question_id":29827900,"body_markdown":"at anytime you can have only one public class in the file and if you use public class then that class name should be the file name.","title":"Is Empty .java file name working?","body":"<p>at anytime you can have only one public class in the file and if you use public class then that class name should be the file name.</p>\n"},{"tags":[],"owner":{"account_id":15419993,"reputation":35,"user_id":11124295,"display_name":"Chetan Khandave"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669274801,"creation_date":1551346802,"answer_id":54922497,"question_id":29827900,"body_markdown":"Yes Empty .java file name works, but class must not be public, it means that it must be default.\r\nIf class is public then following error occour:\r\n\r\nD:\\Testjavac&gt;javac .java\r\n\r\n.java:1: error: class Empty is public, should be declared in a file named Empty.\r\njava\r\npublic class Empty\r\n       ^\r\n1 error","title":"Is Empty .java file name working?","body":"<p>Yes Empty .java file name works, but class must not be public, it means that it must be default.\nIf class is public then following error occour:</p>\n<p>D:\\Testjavac&gt;javac .java</p>\n<p>.java:1: error: class Empty is public, should be declared in a file named Empty.\njava\npublic class Empty\n^\n1 error</p>\n"}],"owner":{"display_name":"user4824970"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5538,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":29827926,"answer_count":6,"score":8,"last_activity_date":1669274801,"creation_date":1429802785,"question_id":29827900,"body_markdown":"I started to learn Java couple days ago. And I have this burning question. Is `empty .java` file name a valid source file name? \r\n\r\n    .java","title":"Is Empty .java file name working?","body":"<p>I started to learn Java couple days ago. And I have this burning question. Is <code>empty .java</code> file name a valid source file name? </p>\n\n<pre><code>.java\n</code></pre>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":1307735,"reputation":2256,"user_id":1256347,"accept_rate":84,"display_name":"Saaru Lindest&#248;kke"},"score":2,"creation_date":1669223721,"post_id":74550560,"comment_id":131597838,"body_markdown":"Does this answer your question? [Optimise PostgreSQL for fast testing](https://stackoverflow.com/questions/9407442/optimise-postgresql-for-fast-testing)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9407442/optimise-postgresql-for-fast-testing\">Optimise PostgreSQL for fast testing</a>"},{"owner":{"display_name":"user330315"},"score":5,"creation_date":1669224630,"post_id":74550560,"comment_id":131598181,"body_markdown":"Maybe: https://www.postgresql.org/docs/current/pgprewarm.html","body":"Maybe: <a href=\"https://www.postgresql.org/docs/current/pgprewarm.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/current/pgprewarm.html</a>"},{"owner":{"account_id":1985027,"reputation":672,"user_id":1780517,"display_name":"Vahe Harutyunyan"},"score":0,"creation_date":1669229969,"post_id":74550560,"comment_id":131599879,"body_markdown":"Thank @a_horse_with_no_name , I just tested it and does bring much improvement.","body":"Thank @a_horse_with_no_name , I just tested it and does bring much improvement."}],"answers":[{"comments":[{"owner":{"account_id":1985027,"reputation":672,"user_id":1780517,"display_name":"Vahe Harutyunyan"},"score":0,"creation_date":1669280998,"post_id":74557017,"comment_id":131610439,"body_markdown":"Thanks @laurenz-albe I think this is just network lag, query is just select by id.","body":"Thanks @laurenz-albe I think this is just network lag, query is just select by id."},{"owner":{"account_id":1985027,"reputation":672,"user_id":1780517,"display_name":"Vahe Harutyunyan"},"score":0,"creation_date":1669281462,"post_id":74557017,"comment_id":131610603,"body_markdown":"I will try to compare this with redis, I think it will give similar numbers. Basically I want to have redis like performance for small tables in postgres","body":"I will try to compare this with redis, I think it will give similar numbers. Basically I want to have redis like performance for small tables in postgres"},{"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1669286194,"post_id":74557017,"comment_id":131612373,"body_markdown":"Then run queries that return more than a single row at a time.","body":"Then run queries that return more than a single row at a time."}],"tags":[],"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669274799,"creation_date":1669274799,"answer_id":74557017,"question_id":74550560,"body_markdown":"PostgreSQL caches data in RAM automatically. All you have to do is set `shared_buffers` to be at least as big as your database is, then all data have to be read only once and will stay cached in RAM.\r\n\r\nIf you want to reduce the initial slowness caused by reading the data, set `shared_preload_libraries = &#39;pg_prewarm,pg_stat_statements&#39;`.\r\n\r\nI suspect that the excessive slowness you report is not slowness of the database, but network lag or inefficient queries. `pg_stat_statements` will help profile your database workload.","title":"How do I tell Postgres to load small tables into memory?","body":"<p>PostgreSQL caches data in RAM automatically. All you have to do is set <code>shared_buffers</code> to be at least as big as your database is, then all data have to be read only once and will stay cached in RAM.</p>\n<p>If you want to reduce the initial slowness caused by reading the data, set <code>shared_preload_libraries = 'pg_prewarm,pg_stat_statements'</code>.</p>\n<p>I suspect that the excessive slowness you report is not slowness of the database, but network lag or inefficient queries. <code>pg_stat_statements</code> will help profile your database workload.</p>\n"}],"owner":{"account_id":1985027,"reputation":672,"user_id":1780517,"display_name":"Vahe Harutyunyan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74557017,"answer_count":1,"score":0,"last_activity_date":1669274799,"creation_date":1669223051,"question_id":74550560,"body_markdown":"Let&#39;s say I have a small postgres database (&lt; 500mb) ,\r\nand I have app which is very read intensive 99% of requests are reads. \r\nIs there a way to tell Postgres to load all tables into RAM so it can do selects faster.? \r\nI think Oracle and SQL server have that kind of functionality. \r\n\r\nI have done some test on my local machine, I have table with 500 records, Java HashMap Took 2ms, sql select took 12000 ms, \r\nObviously java HashMap is faster because it is within same process but is there a way to speedup sql queries for small tables in postgres ? Thanks\r\n\r\n     for (int i = 0; i &lt; 100_000; i++) {\r\n       //1) select * from someTable where id = 10\r\n       // 2) get from Java HashMap by key\r\n     }","title":"How do I tell Postgres to load small tables into memory?","body":"<p>Let's say I have a small postgres database (&lt; 500mb) ,\nand I have app which is very read intensive 99% of requests are reads.\nIs there a way to tell Postgres to load all tables into RAM so it can do selects faster.?\nI think Oracle and SQL server have that kind of functionality.</p>\n<p>I have done some test on my local machine, I have table with 500 records, Java HashMap Took 2ms, sql select took 12000 ms,\nObviously java HashMap is faster because it is within same process but is there a way to speedup sql queries for small tables in postgres ? Thanks</p>\n<pre><code> for (int i = 0; i &lt; 100_000; i++) {\n   //1) select * from someTable where id = 10\n   // 2) get from Java HashMap by key\n }\n</code></pre>\n"},{"tags":["java","junit","mocking","mockito","powermock"],"answers":[{"comments":[{"owner":{"account_id":9181424,"reputation":164,"user_id":6825083,"display_name":"Harmeet Kaur"},"score":0,"creation_date":1669274079,"post_id":74556786,"comment_id":131608227,"body_markdown":"Can you give an example when you say, you can set in @BeforeEach method","body":"Can you give an example when you say, you can set in @BeforeEach method"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1669274689,"post_id":74556786,"comment_id":131608380,"body_markdown":"Note that  JUnit creates a new instance of each test class before executing each test method - which gives you some freedom where you init object under test and its collaborators. In this trivial exampe, you coudld init everything within test method.","body":"Note that  JUnit creates a new instance of each test class before executing each test method - which gives you some freedom where you init object under test and its collaborators. In this trivial exampe, you coudld init everything within test method."}],"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669274735,"creation_date":1669273395,"answer_id":74556786,"question_id":74556534,"body_markdown":"`@InjectMocks` does not:\r\n- inject static fields.\r\n- inject fields to collaborating classes `A`\r\n\r\nAs your static field `A.b` is public, you can easily set it in a `@BeforeEach` method.\r\n\r\n```lang-java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ParentTest {\r\n\r\n    Parent parent = new Parent();\r\n\r\n    @Mock\r\n    A.B writer;\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n        A.b = writer;\r\n    }\r\n\r\n    @Test\r\n    public void dummy_test() {\r\n        parent.record(&quot;Text&quot;);\r\n    }\r\n\r\n}\r\n```","title":"How to mock a nested static class in java?","body":"<p><code>@InjectMocks</code> does not:</p>\n<ul>\n<li>inject static fields.</li>\n<li>inject fields to collaborating classes <code>A</code></li>\n</ul>\n<p>As your static field <code>A.b</code> is public, you can easily set it in a <code>@BeforeEach</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class ParentTest {\n\n    Parent parent = new Parent();\n\n    @Mock\n    A.B writer;\n\n    @BeforeEach\n    void setup() {\n        A.b = writer;\n    }\n\n    @Test\n    public void dummy_test() {\n        parent.record(&quot;Text&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":9181424,"reputation":164,"user_id":6825083,"display_name":"Harmeet Kaur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74556786,"answer_count":1,"score":1,"last_activity_date":1669274735,"creation_date":1669271870,"question_id":74556534,"body_markdown":"I&#39;m trying to mock a nested static class but getting a NullPointerException. Is there any way we can do this.\r\n\r\nSample code:\r\n**Parent Class**\r\n\r\n     class Parent {\r\n    \r\n            void record(String str) {\r\n              **//Getting a NPE at this line when running test case**\r\n                A.B.append(string);\r\n            }\r\n        }\r\n\r\n**Nested class**\r\n\r\n     class A {\r\n            public static B b;\r\n    \r\n            public static class B {\r\n                public void append(String str) {\r\n                  //perform some task\r\n                }\r\n            }\r\n        }\r\n\r\n**Test class**\r\n\r\n        @ExtendWith(MockitoExtension.class)\r\n        public class ParentTest {\r\n    \r\n            @InjectMock\r\n            Parent parent;\r\n    \r\n            @Test\r\n            public void dummy_test() {\r\n                A.B writer = mock(A.B.class);\r\n                doNothing().when(writer).append(any());\r\n                parent.record(&quot;Text&quot;);\r\n            }\r\n    \r\n        }\r\n","title":"How to mock a nested static class in java?","body":"<p>I'm trying to mock a nested static class but getting a NullPointerException. Is there any way we can do this.</p>\n<p>Sample code:\n<strong>Parent Class</strong></p>\n<pre><code> class Parent {\n\n        void record(String str) {\n          **//Getting a NPE at this line when running test case**\n            A.B.append(string);\n        }\n    }\n</code></pre>\n<p><strong>Nested class</strong></p>\n<pre><code> class A {\n        public static B b;\n\n        public static class B {\n            public void append(String str) {\n              //perform some task\n            }\n        }\n    }\n</code></pre>\n<p><strong>Test class</strong></p>\n<pre><code>    @ExtendWith(MockitoExtension.class)\n    public class ParentTest {\n\n        @InjectMock\n        Parent parent;\n\n        @Test\n        public void dummy_test() {\n            A.B writer = mock(A.B.class);\n            doNothing().when(writer).append(any());\n            parent.record(&quot;Text&quot;);\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669159907,"creation_date":1669159907,"answer_id":74540159,"question_id":74540056,"body_markdown":"If I understand your question, the simplest thing I can think of is to add a unique constraint to your table for account_number. Like,\r\n\r\n    ALTER TABLE Account ADD CONSTRAINT account_number_uniq UNIQUE (accountNumber)\r\n","title":"How can I check if accountNumber (non primary key) already exists in my database?","body":"<p>If I understand your question, the simplest thing I can think of is to add a unique constraint to your table for account_number. Like,</p>\n<pre><code>ALTER TABLE Account ADD CONSTRAINT account_number_uniq UNIQUE (accountNumber)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9524880,"reputation":458,"user_id":7078384,"accept_rate":75,"display_name":"Fredy Fischer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669274727,"creation_date":1669274727,"answer_id":74557005,"question_id":74540056,"body_markdown":"If you want to avoid an exception, you need to check if this number is already here and if not add it.\r\nProbably somehow like this:\r\n\r\n    String accountQuery = &quot;insert into Account (accountNumber,currentBalance,type,personId) values (?,?,?,?);&quot;;\r\n    PreparedStatement accountPs = null;\r\n    String checkQuery = &quot;select count(*) noAccounts from Account where accountNumber = ?&quot;;\r\n    PreparedStatement accountCheck = null;\r\n    ResultSet checker = null;\r\n\r\n    try {\r\n        accountCheck = conn.prepareStatement(checkQuery);\r\n        accountCheck.setInt(1,accountHolder.getAccountNumber());\r\n        checker = accountCheck.executeQuery();\r\n        checker.next();  \r\n        if ( checker.getInt(1) == 0 ) {\r\n\r\n           // These are my prepare Statements for my queries\r\n          accountPs = conn.prepareStatement(accountQuery);\r\n          accountPs.setInt(1, accountHolder.getAccountNumber());\r\n          accountPs.setDouble(2, accountHolder.getCurrentBalance());\r\n          accountPs.setString(3, accountHolder.getType());\r\n          accountPs.setInt(4, personId.getPersonId());\r\n    \r\n          accountPs.executeUpdate();\r\n        }\r\n        checker.close();\r\n        accountCheck.close();\r\n        accountPs.close();\r\n        conn.close();\r\n    }","title":"How can I check if accountNumber (non primary key) already exists in my database?","body":"<p>If you want to avoid an exception, you need to check if this number is already here and if not add it.\nProbably somehow like this:</p>\n<pre><code>String accountQuery = &quot;insert into Account (accountNumber,currentBalance,type,personId) values (?,?,?,?);&quot;;\nPreparedStatement accountPs = null;\nString checkQuery = &quot;select count(*) noAccounts from Account where accountNumber = ?&quot;;\nPreparedStatement accountCheck = null;\nResultSet checker = null;\n\ntry {\n    accountCheck = conn.prepareStatement(checkQuery);\n    accountCheck.setInt(1,accountHolder.getAccountNumber());\n    checker = accountCheck.executeQuery();\n    checker.next();  \n    if ( checker.getInt(1) == 0 ) {\n\n       // These are my prepare Statements for my queries\n      accountPs = conn.prepareStatement(accountQuery);\n      accountPs.setInt(1, accountHolder.getAccountNumber());\n      accountPs.setDouble(2, accountHolder.getCurrentBalance());\n      accountPs.setString(3, accountHolder.getType());\n      accountPs.setInt(4, personId.getPersonId());\n\n      accountPs.executeUpdate();\n    }\n    checker.close();\n    accountCheck.close();\n    accountPs.close();\n    conn.close();\n}\n</code></pre>\n"}],"owner":{"account_id":26968703,"reputation":19,"user_id":20535068,"display_name":"joshua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669274727,"creation_date":1669158926,"question_id":74540056,"body_markdown":"```java\r\nString accountQuery = &quot;insert into Account (accountNumber,currentBalance,type,personId) values (?,?,?,?);&quot;;\r\nPreparedStatement accountPs = null;\r\ntry {\r\n\r\n\t// These are my prepare Statements for my queries\r\n\taccountPs = conn.prepareStatement(accountQuery);\r\n//\taccountPs.setInt(1, personId.getPersonId());\r\n\taccountPs.setInt(1, accountHolder.getAccountNumber());\r\n\taccountPs.setDouble(2, accountHolder.getCurrentBalance());\r\n\taccountPs.setString(3, accountHolder.getType());\r\n\taccountPs.setInt(4, personId.getPersonId());\r\n\t\r\n\taccountPs.executeUpdate();\r\n\taccountPs.close();\r\n\tconn.close();\r\n}\r\n```\r\nHow can I check if accountNumber (non primary key) already exists in my database? Whenever I run my program more than once, it&#39;ll populate my tables with repeated data because accountNumber isn&#39;t a primary key and because my accountId is an auto_increment. Note I cannot change any of the contents of the table. \r\n\r\n```sql\r\ncreate table Account(\r\n  accountId int primary key not null auto_increment,\r\n  accountNumber int not null,\r\n  currentBalance double not null,\r\n  type varchar(1) not null,\r\n  personId int not null,\r\n  foreign key(personId) references Person(personId)\r\n);\r\n``` \r\n","title":"How can I check if accountNumber (non primary key) already exists in my database?","body":"<pre class=\"lang-java prettyprint-override\"><code>String accountQuery = &quot;insert into Account (accountNumber,currentBalance,type,personId) values (?,?,?,?);&quot;;\nPreparedStatement accountPs = null;\ntry {\n\n    // These are my prepare Statements for my queries\n    accountPs = conn.prepareStatement(accountQuery);\n//  accountPs.setInt(1, personId.getPersonId());\n    accountPs.setInt(1, accountHolder.getAccountNumber());\n    accountPs.setDouble(2, accountHolder.getCurrentBalance());\n    accountPs.setString(3, accountHolder.getType());\n    accountPs.setInt(4, personId.getPersonId());\n    \n    accountPs.executeUpdate();\n    accountPs.close();\n    conn.close();\n}\n</code></pre>\n<p>How can I check if accountNumber (non primary key) already exists in my database? Whenever I run my program more than once, it'll populate my tables with repeated data because accountNumber isn't a primary key and because my accountId is an auto_increment. Note I cannot change any of the contents of the table.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table Account(\n  accountId int primary key not null auto_increment,\n  accountNumber int not null,\n  currentBalance double not null,\n  type varchar(1) not null,\n  personId int not null,\n  foreign key(personId) references Person(personId)\n);\n</code></pre>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669274430,"creation_date":1669274430,"answer_id":74556957,"question_id":74556700,"body_markdown":"Right click and use the context menu &quot;Adjust Font Size...&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3aFpW.png","title":"How to change font-size of Java doc inside Intellij IDEA?","body":"<p>Right click and use the context menu &quot;Adjust Font Size...&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/3aFpW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3aFpW.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74556957,"answer_count":1,"score":2,"last_activity_date":1669274430,"creation_date":1669272903,"question_id":74556700,"body_markdown":"I am using IntelliJ IDEA 2022.2.4 (Ultimate Edition) in Windows 10 x64, JDK 19. How to change font-size of Java doc inside Intellij IDEA?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fBDia.png","title":"How to change font-size of Java doc inside Intellij IDEA?","body":"<p>I am using IntelliJ IDEA 2022.2.4 (Ultimate Edition) in Windows 10 x64, JDK 19. How to change font-size of Java doc inside Intellij IDEA?\n<a href=\"https://i.stack.imgur.com/fBDia.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fBDia.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","web","browser","microsoft-edge"],"answers":[{"comments":[{"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"score":0,"creation_date":1669201965,"post_id":74541339,"comment_id":131589514,"body_markdown":"Then How CCleaner and other similar applications disables and enables the browser extensions ?","body":"Then How CCleaner and other similar applications disables and enables the browser extensions ?"},{"owner":{"account_id":25983853,"reputation":1595,"user_id":19697081,"display_name":"Kendrick Li"},"score":0,"creation_date":1669274048,"post_id":74541339,"comment_id":131608224,"body_markdown":"@vijaykumar, I&#39;ve done some investigations and updated my answer. Please check it.","body":"@vijaykumar, I&#39;ve done some investigations and updated my answer. Please check it."},{"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"score":0,"creation_date":1669373436,"post_id":74541339,"comment_id":131632310,"body_markdown":"Thanks Li let me try this will let you know about the results.","body":"Thanks Li let me try this will let you know about the results."},{"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"score":0,"creation_date":1669373936,"post_id":74541339,"comment_id":131632469,"body_markdown":"Thanks a million Li it worked and I also tried to update the preference file while Google Chrome was open and to my surprise that also worked but to see the effect i just closed and opened the chrome and extension was disabled.","body":"Thanks a million Li it worked and I also tried to update the preference file while Google Chrome was open and to my surprise that also worked but to see the effect i just closed and opened the chrome and extension was disabled."}],"tags":[],"owner":{"account_id":25983853,"reputation":1595,"user_id":19697081,"display_name":"Kendrick Li"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669274003,"creation_date":1669172914,"answer_id":74541339,"question_id":74533112,"body_markdown":"I&#39;m afraid you are not able to enable/disable extensions using Java. Extensions are part of user preferences and browser UI so you can&#39;t disable them via a button in the application. If you need to disable any extension, you can create an extension to disable another extension.\r\n\r\n**Update**: After some investigations, I&#39;ve figured out how third-party applications disable browser extensions. Take CCleaner as an example. If you need to disable/enable an extension, you need to close the browser first. That is because CCleaner simply overwrites the `Preference` file in your profile folder and adds/deletes `&quot;disable_reasons&quot;: 1`, which turns off/on the extension. You can manually do the same, but it only works with the browser closed. If that is what you want, you&#39;ve got it.\r\n\r\n**Example**\r\n\r\nExtension turned off:\r\n\r\n    &quot;settings&quot;: {\r\n           &quot;TargetExtensionID&quot;: {\r\n                &quot;disable_reasons&quot;: 1\r\n    }\r\nExtension turned on:\r\n\r\n    &quot;settings&quot;: {\r\n           &quot;TargetExtensionID&quot;: {\r\n\r\n    }","title":"How to enable /disable internet browser extensions using java","body":"<p>I'm afraid you are not able to enable/disable extensions using Java. Extensions are part of user preferences and browser UI so you can't disable them via a button in the application. If you need to disable any extension, you can create an extension to disable another extension.</p>\n<p><strong>Update</strong>: After some investigations, I've figured out how third-party applications disable browser extensions. Take CCleaner as an example. If you need to disable/enable an extension, you need to close the browser first. That is because CCleaner simply overwrites the <code>Preference</code> file in your profile folder and adds/deletes <code>&quot;disable_reasons&quot;: 1</code>, which turns off/on the extension. You can manually do the same, but it only works with the browser closed. If that is what you want, you've got it.</p>\n<p><strong>Example</strong></p>\n<p>Extension turned off:</p>\n<pre><code>&quot;settings&quot;: {\n       &quot;TargetExtensionID&quot;: {\n            &quot;disable_reasons&quot;: 1\n}\n</code></pre>\n<p>Extension turned on:</p>\n<pre><code>&quot;settings&quot;: {\n       &quot;TargetExtensionID&quot;: {\n\n}\n</code></pre>\n"}],"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74541339,"answer_count":1,"score":-1,"last_activity_date":1669274003,"creation_date":1669122394,"question_id":74533112,"body_markdown":"I am writing a program where I need to make a button to enable and disable the browser extensions from application only. Need your help in that.\r\n\r\nI am able to get the list of extensions from the browsers manifest. Json file but I am not aware how to enable and disable those extensions. ","title":"How to enable /disable internet browser extensions using java","body":"<p>I am writing a program where I need to make a button to enable and disable the browser extensions from application only. Need your help in that.</p>\n<p>I am able to get the list of extensions from the browsers manifest. Json file but I am not aware how to enable and disable those extensions.</p>\n"},{"tags":["java","spring-boot","junit","redis","mockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1669230972,"post_id":74546025,"comment_id":131600141,"body_markdown":"Are you using an inline mock maker?","body":"Are you using an inline mock maker?"},{"owner":{"account_id":3033104,"reputation":1296,"user_id":2571728,"accept_rate":60,"display_name":"mpartan"},"score":0,"creation_date":1669273640,"post_id":74546025,"comment_id":131608110,"body_markdown":"No, I&#39;m not using inline mock maker.","body":"No, I&#39;m not using inline mock maker."}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669273972,"creation_date":1669273972,"answer_id":74556879,"question_id":74546025,"body_markdown":"You are not mocking `public final Mono&lt;Long&gt; delete(K... keys)` as it is a final method and you are not using inline mock maker (as discussed in comments).\r\n\r\nAs a consequence, real method is called.\r\n\r\nArgumentMatcher factory methods, such as `any()`\r\n- register a metcher in Mockitos internal state\r\n- return null\r\n\r\nCombine that with a real method being called - you get errors on assertions made by the real method.\r\n\r\nSee: [Mocking final types, enums and final methods](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#39)","title":"Mockito and matching varargs properly with overloaded methods with Spring Redis","body":"<p>You are not mocking <code>public final Mono&lt;Long&gt; delete(K... keys)</code> as it is a final method and you are not using inline mock maker (as discussed in comments).</p>\n<p>As a consequence, real method is called.</p>\n<p>ArgumentMatcher factory methods, such as <code>any()</code></p>\n<ul>\n<li>register a metcher in Mockitos internal state</li>\n<li>return null</li>\n</ul>\n<p>Combine that with a real method being called - you get errors on assertions made by the real method.</p>\n<p>See: <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#39\" rel=\"nofollow noreferrer\">Mocking final types, enums and final methods</a></p>\n"}],"owner":{"account_id":3033104,"reputation":1296,"user_id":2571728,"accept_rate":60,"display_name":"mpartan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74556879,"answer_count":1,"score":0,"last_activity_date":1669273972,"creation_date":1669202741,"question_id":74546025,"body_markdown":"I have following method in my service.\r\n\r\n    private final ReactiveRedisTemplate&lt;String, String&gt; reactiveRedisTemplate;\r\n    public Mono&lt;Boolean&gt; deleteObject(String... keys) {\r\n        return reactiveRedisTemplate.delete(keys).map(c -&gt; c &gt; 0);\r\n    }\r\n\r\nReactiveRedisTemplate has two internal implementations for delete with different signatures.\r\n\r\n    @SafeVarargs\r\n    public final Mono&lt;Long&gt; delete(K... keys) {\r\n        Assert.notNull(keys, &quot;Keys must not be null!&quot;);\r\n        Assert.notEmpty(keys, &quot;Keys must not be empty!&quot;);\r\n        Assert.noNullElements(keys, &quot;Keys must not contain null elements!&quot;);\r\n        if (keys.length == 1) {\r\n        ...\r\n\r\n\r\n    public Mono&lt;Long&gt; delete(Publisher&lt;K&gt; keys) {\r\n        Assert.notNull(keys, &quot;Keys must not be null!&quot;);\r\n        return this.doCreateFlux((connection) -&gt; {\r\n\r\n\r\nNow, when I have the following\r\n\r\n    var key = &quot;key&quot;;\r\n    when(reactiveRedisTemplate.delete(key)).thenReturn(Mono.just(1L));\r\n    StepVerifier.create(service.removeObject(key))\r\n                .expectNextMatches(c -&gt; c)\r\n                .verifyComplete();\r\n    verify(this.reactiveRedisTemplate, times(1)).delete(key);\r\n\r\nI&#39;m getting error NullPointerException, so it looks like the varargs doesn&#39;t match. With ArgumentMatcher, following is received:\r\n\r\n    when(reactiveRedisTemplate.delete(ArgumentMatchers.&lt;String&gt;any())).thenReturn(Mono.just(1L));\r\n    =&gt; java.lang.IllegalArgumentException: Keys must not contain null elements!\r\n   \r\n    when(reactiveRedisTemplate.delete(eq(new String[] { key }))).thenReturn(Mono.just(1L));\r\n    =&gt; java.lang.IllegalArgumentException: Keys must not be null!\r\n\r\n    when(reactiveRedisTemplate.delete(anyString())).thenReturn(Mono.just(1L));\r\n    =&gt; java.lang.NullPointerException (doesn&#39;t seem to match)\r\n\r\nlastly a custom matcher: \r\n\r\n    public class StringVarargsMatcher implements VarargMatcher, ArgumentMatcher&lt;String[]&gt; {\r\n        private String[] expectedValues;\r\n    \r\n        public StringVarargsMatcher(String... expectedValues) {\r\n            Arrays.sort(expectedValues);\r\n            this.expectedValues = expectedValues;\r\n        }\r\n    \r\n        @Override\r\n        public boolean matches(String[] strings) {\r\n            Arrays.sort(strings);\r\n            return Arrays.equals(strings, expectedValues);\r\n        }\r\n    }\r\n    when(reactiveRedisTemplate.delete(argThat(new StringVarargsMatcher(key)))).thenReturn(Mono.just(1L));\r\n    =&gt; java.lang.IllegalArgumentException: Keys must not be null!\r\n\r\n\r\nIs there any way to overcome this so I could mock delete from ReactiveRedisTemplate and get a unit test done here?","title":"Mockito and matching varargs properly with overloaded methods with Spring Redis","body":"<p>I have following method in my service.</p>\n<pre><code>private final ReactiveRedisTemplate&lt;String, String&gt; reactiveRedisTemplate;\npublic Mono&lt;Boolean&gt; deleteObject(String... keys) {\n    return reactiveRedisTemplate.delete(keys).map(c -&gt; c &gt; 0);\n}\n</code></pre>\n<p>ReactiveRedisTemplate has two internal implementations for delete with different signatures.</p>\n<pre><code>@SafeVarargs\npublic final Mono&lt;Long&gt; delete(K... keys) {\n    Assert.notNull(keys, &quot;Keys must not be null!&quot;);\n    Assert.notEmpty(keys, &quot;Keys must not be empty!&quot;);\n    Assert.noNullElements(keys, &quot;Keys must not contain null elements!&quot;);\n    if (keys.length == 1) {\n    ...\n\n\npublic Mono&lt;Long&gt; delete(Publisher&lt;K&gt; keys) {\n    Assert.notNull(keys, &quot;Keys must not be null!&quot;);\n    return this.doCreateFlux((connection) -&gt; {\n</code></pre>\n<p>Now, when I have the following</p>\n<pre><code>var key = &quot;key&quot;;\nwhen(reactiveRedisTemplate.delete(key)).thenReturn(Mono.just(1L));\nStepVerifier.create(service.removeObject(key))\n            .expectNextMatches(c -&gt; c)\n            .verifyComplete();\nverify(this.reactiveRedisTemplate, times(1)).delete(key);\n</code></pre>\n<p>I'm getting error NullPointerException, so it looks like the varargs doesn't match. With ArgumentMatcher, following is received:</p>\n<pre><code>when(reactiveRedisTemplate.delete(ArgumentMatchers.&lt;String&gt;any())).thenReturn(Mono.just(1L));\n=&gt; java.lang.IllegalArgumentException: Keys must not contain null elements!\n\nwhen(reactiveRedisTemplate.delete(eq(new String[] { key }))).thenReturn(Mono.just(1L));\n=&gt; java.lang.IllegalArgumentException: Keys must not be null!\n\nwhen(reactiveRedisTemplate.delete(anyString())).thenReturn(Mono.just(1L));\n=&gt; java.lang.NullPointerException (doesn't seem to match)\n</code></pre>\n<p>lastly a custom matcher:</p>\n<pre><code>public class StringVarargsMatcher implements VarargMatcher, ArgumentMatcher&lt;String[]&gt; {\n    private String[] expectedValues;\n\n    public StringVarargsMatcher(String... expectedValues) {\n        Arrays.sort(expectedValues);\n        this.expectedValues = expectedValues;\n    }\n\n    @Override\n    public boolean matches(String[] strings) {\n        Arrays.sort(strings);\n        return Arrays.equals(strings, expectedValues);\n    }\n}\nwhen(reactiveRedisTemplate.delete(argThat(new StringVarargsMatcher(key)))).thenReturn(Mono.just(1L));\n=&gt; java.lang.IllegalArgumentException: Keys must not be null!\n</code></pre>\n<p>Is there any way to overcome this so I could mock delete from ReactiveRedisTemplate and get a unit test done here?</p>\n"},{"tags":["java","http","url","network-programming"],"answers":[{"comments":[{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":1,"creation_date":1295696347,"post_id":4767573,"comment_id":5275573,"body_markdown":"The second question was with reference to the underlying socket state, i&#39;ve deliberately posted an incomplete snippet with regards to full runtime code safety. I really want to know if there&#39;s a danger of a socket left in CLOSE_WAIT or ESTABLISED by closing the socket before all content is read,","body":"The second question was with reference to the underlying socket state, i&#39;ve deliberately posted an incomplete snippet with regards to full runtime code safety. I really want to know if there&#39;s a danger of a socket left in CLOSE_WAIT or ESTABLISED by closing the socket before all content is read,"},{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":1,"creation_date":1408383789,"post_id":4767573,"comment_id":39558797,"body_markdown":"Or `IOUtils.closeQuietly(is)`","body":"Or <code>IOUtils.closeQuietly(is)</code>"},{"owner":{"account_id":3314090,"reputation":832,"user_id":2786832,"display_name":"zeugor"},"score":0,"creation_date":1588760533,"post_id":4767573,"comment_id":109020261,"body_markdown":"Currently, IOUtils.closeQuietly @Deprecated","body":"Currently, IOUtils.closeQuietly @Deprecated"}],"tags":[],"owner":{"account_id":217137,"reputation":37872,"user_id":472792,"accept_rate":50,"display_name":"Arjan Tijms"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295696195,"creation_date":1295696195,"answer_id":4767573,"question_id":4767553,"body_markdown":"&gt;When using HttpURLConnection does the InputStream need to be closed if we do not &#39;get&#39; and use it?\r\n\r\nYes, it always needs to be closed.\r\n\r\n&gt;i.e. is this safe?\r\n\r\nNot 100%, you run the risk of getting a NPE. Safer is:\r\n\r\n    InputStream is = null;\r\n    try {\r\n        is = conn.getInputStream()\r\n        // read from is\r\n    } finally {\r\n        if (is != null) {\r\n            is.close();\r\n        }\r\n    }","title":"Safe use of HttpURLConnection","body":"<blockquote>\n  <p>When using HttpURLConnection does the InputStream need to be closed if we do not 'get' and use it?</p>\n</blockquote>\n\n<p>Yes, it always needs to be closed.</p>\n\n<blockquote>\n  <p>i.e. is this safe?</p>\n</blockquote>\n\n<p>Not 100%, you run the risk of getting a NPE. Safer is:</p>\n\n<pre><code>InputStream is = null;\ntry {\n    is = conn.getInputStream()\n    // read from is\n} finally {\n    if (is != null) {\n        is.close();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":0,"creation_date":1295696485,"post_id":4767595,"comment_id":5275579,"body_markdown":"Very interesting. This question is actually background for a problem I have where I&#39;m seeing LOTS of CLOSE_WAIT sockets to the same IP, but because of caching (I don&#39;t call URLConnection.disconnect() explicitly) I expect there to be only one, which should be reused.","body":"Very interesting. This question is actually background for a problem I have where I&#39;m seeing LOTS of CLOSE_WAIT sockets to the same IP, but because of caching (I don&#39;t call URLConnection.disconnect() explicitly) I expect there to be only one, which should be reused."},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":4,"creation_date":1295697050,"post_id":4767595,"comment_id":5275630,"body_markdown":"@Joel:By calling the `HttpUrlConnection.disconnect()` the underlying tcp socket is closed. By closing the input stream, the underlying tcp socket is pooled for later reuse.The only caveat is that the whole response (OR the whole error response) should be read from the input stream in order for the tcp connection to be cached. This has always been adviced regardless you actually need the whole data from the stream. Check the post in my answer","body":"@Joel:By calling the <code>HttpUrlConnection.disconnect()</code> the underlying tcp socket is closed. By closing the input stream, the underlying tcp socket is pooled for later reuse.The only caveat is that the whole response (OR the whole error response) should be read from the input stream in order for the tcp connection to be cached. This has always been adviced regardless you actually need the whole data from the stream. Check the post in my answer"},{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":0,"creation_date":1295697741,"post_id":4767595,"comment_id":5275694,"body_markdown":"What if you don&#39;t read ANY data, as per my first example - I&#39;m guessing you still need to close the IS, but will it still not be cached if no data is read but it&#39;s still closed.","body":"What if you don&#39;t read ANY data, as per my first example - I&#39;m guessing you still need to close the IS, but will it still not be cached if no data is read but it&#39;s still closed."},{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":2,"creation_date":1295698678,"post_id":4767595,"comment_id":5275786,"body_markdown":"Good article, thanks. A couple of things I&#39;m still not clear on. 1) How long is a cached connection kept for before it is discarded? I could not see a &quot;discard after 60s inactivity&quot; type setting.  2) It wasn&#39;t clear to me what state the connection would be left in after calling close but not before reading all the content - it says it will not be available for re-use/caching, which is fine - but will the underlying socket actually be closed?","body":"Good article, thanks. A couple of things I&#39;m still not clear on. 1) How long is a cached connection kept for before it is discarded? I could not see a &quot;discard after 60s inactivity&quot; type setting.  2) It wasn&#39;t clear to me what state the connection would be left in after calling close but not before reading all the content - it says it will not be available for re-use/caching, which is fine - but will the underlying socket actually be closed?"},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":1,"creation_date":1295699506,"post_id":4767595,"comment_id":5275854,"body_markdown":"@Joel:Your question is related to the HTTP protocol.The connection MUST remain alive for the timeframe specified by the server in the HTTP response (server sends in HTTP header the max number of requests this connection can be used or the max time-period to keep the connection open).The http client must honor this and this is also the behavior of HttpURLConnection.If server sends no such info in the response, the connection is closed really soon (I think arround after few seconds of inactivity) not to waste resources.","body":"@Joel:Your question is related to the HTTP protocol.The connection MUST remain alive for the timeframe specified by the server in the HTTP response (server sends in HTTP header the max number of requests this connection can be used or the max time-period to keep the connection open).The http client must honor this and this is also the behavior of HttpURLConnection.If server sends no such info in the response, the connection is closed really soon (I think arround after few seconds of inactivity) not to waste resources."},{"owner":{"account_id":48020,"reputation":33723,"user_id":142446,"display_name":"Brett Kail"},"score":0,"creation_date":1454454135,"post_id":4767595,"comment_id":58049397,"body_markdown":"Additionally, you need to catch IOException and close getErrorStream() if it returns non-null as stated in that &quot;keep-alive in java6&quot; link.","body":"Additionally, you need to catch IOException and close getErrorStream() if it returns non-null as stated in that &quot;keep-alive in java6&quot; link."},{"owner":{"account_id":15126171,"reputation":165,"user_id":10915388,"display_name":"aaron.chu"},"score":0,"creation_date":1605015945,"post_id":4767595,"comment_id":114519227,"body_markdown":"Good article, thanks! But one thing I&#39;m not clear. Since closing the input stream does not close the socket(tcp connection), can I ignore the close? For example, after I read the response, I just dont do anything, neither IS.close nor HttpUrlConnection.disconnect","body":"Good article, thanks! But one thing I&#39;m not clear. Since closing the input stream does not close the socket(tcp connection), can I ignore the close? For example, after I read the response, I just dont do anything, neither IS.close nor HttpUrlConnection.disconnect"}],"tags":[],"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"comment_count":7,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1456853024,"creation_date":1295696400,"answer_id":4767595,"question_id":4767553,"body_markdown":"&gt; is it safe to close an InputStream\r\n&gt; before all of it&#39;s content has been\r\n&gt; read  \r\n\r\nYou need to read all of the data in the input stream before you close it so that the underlying TCP connection gets cached. I have read that it should not be required in latest Java, but it was always mandated to read the whole response for connection re-use.\r\n\r\nCheck this post: [keep-alive in java6][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/technotes/guides/net/http-keepalive.html","title":"Safe use of HttpURLConnection","body":"<blockquote>\n  <p>is it safe to close an InputStream\n  before all of it's content has been\n  read  </p>\n</blockquote>\n\n<p>You need to read all of the data in the input stream before you close it so that the underlying TCP connection gets cached. I have read that it should not be required in latest Java, but it was always mandated to read the whole response for connection re-use.</p>\n\n<p>Check this post: <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/net/http-keepalive.html\" rel=\"noreferrer\">keep-alive in java6</a></p>\n"},{"comments":[{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":1,"creation_date":1295704045,"post_id":4767973,"comment_id":5276280,"body_markdown":"Thanks. Assuming the connection is not in use do you know for how long it is cached before being closed, and is there any way to control this timeout period?","body":"Thanks. Assuming the connection is not in use do you know for how long it is cached before being closed, and is there any way to control this timeout period?"}],"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1295701843,"creation_date":1295701843,"answer_id":4767973,"question_id":4767553,"body_markdown":"If you really want to make sure that the connection is close you should call `conn.disconnect()`.\r\n\r\nThe open connections you observed are because of the HTTP 1.1 connection keep alive feature (also known as [HTTP Persistent Connections][1]). \r\nIf the server supports HTTP 1.1 and does not send a `Connection: close` in the response header Java does not immediately close the underlaying TCP connection when you close the input stream. Instead it keeps it open and tries to reuse it for the next HTTP request to the same server.\r\n\r\nIf you don&#39;t want this behaviour at all you can set the system property `http.keepAlive` to false:\r\n\r\n    System.setProperty(&quot;http.keepAlive&quot;,&quot;false&quot;);\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/guide/net/http-keepalive.html","title":"Safe use of HttpURLConnection","body":"<p>If you really want to make sure that the connection is close you should call <code>conn.disconnect()</code>.</p>\n\n<p>The open connections you observed are because of the HTTP 1.1 connection keep alive feature (also known as <a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/net/http-keepalive.html\">HTTP Persistent Connections</a>). \nIf the server supports HTTP 1.1 and does not send a <code>Connection: close</code> in the response header Java does not immediately close the underlaying TCP connection when you close the input stream. Instead it keeps it open and tries to reuse it for the next HTTP request to the same server.</p>\n\n<p>If you don't want this behaviour at all you can set the system property <code>http.keepAlive</code> to false:</p>\n\n<pre><code>System.setProperty(\"http.keepAlive\",\"false\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"score":3,"creation_date":1333659360,"post_id":7586691,"comment_id":12837620,"body_markdown":"Nice research on a poorly documented subject.  Thank you for sharing.","body":"Nice research on a poorly documented subject.  Thank you for sharing."}],"tags":[],"owner":{"account_id":481212,"reputation":6556,"user_id":894885,"accept_rate":88,"display_name":"Samuel Edwin Ward"},"comment_count":1,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1367441922,"creation_date":1317228473,"answer_id":7586691,"question_id":4767553,"body_markdown":"Here is some information regarding the keep-alive cache.  All of this information pertains Java 6, but is probably also accurate for many prior and later versions.\r\n\r\nFrom what I can tell, the code boils down to:\r\n\r\n 1. If the remote server sends a &quot;Keep-Alive&quot; header with a &quot;timeout&quot; value that can be parsed as a positive integer, that number of seconds is used for the timeout.\r\n 2. If the remote server sends a &quot;Keep-Alive&quot; header but it doesn&#39;t have a &quot;timeout&quot; value that can be parsed as a positive integer **and** &quot;usingProxy&quot; is true, then the timeout is 60 seconds.\r\n 3. In all other cases, the timeout is 5 seconds.\r\n\r\nThis logic is split between two places: around line 725 of [sun.net.www.http.HttpClient][1] (in the &quot;parseHTTPHeader&quot; method), and around line 120 of [sun.net.www.http.KeepAliveCache][2] (in the &quot;put&quot; method).\r\n\r\n\r\n----------\r\n\r\nSo, there are two ways to control the timeout period:\r\n\r\n 1. Control the remote server and configure it to send a Keep-Alive header with the proper timeout field\r\n 2. Modify the JDK source code and build your own.\r\n\r\nOne would think that it would be possible to change the apparently arbitrary five-second default without recompiling internal JDK classes, but it isn&#39;t.  A [bug](https://bugs.java.com/bugdatabase/view_bug?bug_id=6238070) was filed in 2005 requesting this ability, but Sun refused to provide it.\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/b139627f7bc3/src/share/classes/sun/net/www/http/HttpClient.java &quot;sun.net.www.http.HttpClient&quot;\r\n  [2]: http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/b139627f7bc3/src/share/classes/sun/net/www/http/KeepAliveCache.java &quot;sun.net.www.http.KeepAliveCache&quot;","title":"Safe use of HttpURLConnection","body":"<p>Here is some information regarding the keep-alive cache.  All of this information pertains Java 6, but is probably also accurate for many prior and later versions.</p>\n<p>From what I can tell, the code boils down to:</p>\n<ol>\n<li>If the remote server sends a &quot;Keep-Alive&quot; header with a &quot;timeout&quot; value that can be parsed as a positive integer, that number of seconds is used for the timeout.</li>\n<li>If the remote server sends a &quot;Keep-Alive&quot; header but it doesn't have a &quot;timeout&quot; value that can be parsed as a positive integer <strong>and</strong> &quot;usingProxy&quot; is true, then the timeout is 60 seconds.</li>\n<li>In all other cases, the timeout is 5 seconds.</li>\n</ol>\n<p>This logic is split between two places: around line 725 of <a href=\"http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/b139627f7bc3/src/share/classes/sun/net/www/http/HttpClient.java\" rel=\"nofollow noreferrer\" title=\"sun.net.www.http.HttpClient\">sun.net.www.http.HttpClient</a> (in the &quot;parseHTTPHeader&quot; method), and around line 120 of <a href=\"http://hg.openjdk.java.net/jdk6/jdk6/jdk/file/b139627f7bc3/src/share/classes/sun/net/www/http/KeepAliveCache.java\" rel=\"nofollow noreferrer\" title=\"sun.net.www.http.KeepAliveCache\">sun.net.www.http.KeepAliveCache</a> (in the &quot;put&quot; method).</p>\n<hr />\n<p>So, there are two ways to control the timeout period:</p>\n<ol>\n<li>Control the remote server and configure it to send a Keep-Alive header with the proper timeout field</li>\n<li>Modify the JDK source code and build your own.</li>\n</ol>\n<p>One would think that it would be possible to change the apparently arbitrary five-second default without recompiling internal JDK classes, but it isn't.  A <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6238070\" rel=\"nofollow noreferrer\">bug</a> was filed in 2005 requesting this ability, but Sun refused to provide it.</p>\n"},{"tags":[],"owner":{"account_id":433195,"reputation":1111,"user_id":818400,"display_name":"Anderson Mao"},"comment_count":0,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1559696272,"creation_date":1342577775,"answer_id":11533423,"question_id":4767553,"body_markdown":"According to http://docs.oracle.com/javase/6/docs/technotes/guides/net/http-keepalive.html\r\nand OpenJDK source code.\r\n\r\n(When `keepAlive == true`)\r\n\r\nIf client called &lt;code&gt;HttpURLConnection.getInputSteam().**close**()&lt;/code&gt;, the later call to &lt;code&gt;HttpURLConnection.**disconnect**()&lt;/code&gt; will **NOT close** the `Socket`. i.e. The `Socket` is reused (cached)\r\n\r\nIf client does not call `close()`, call `disconnect()` will close the `InputStream` and close the `Socket`.\r\n\r\nSo in order to reuse the `Socket`, just call &lt;code&gt;InputStream.**close**()&lt;/code&gt;. Do not call &lt;code&gt;HttpURLConnection.**disconnect**()&lt;/code&gt;.","title":"Safe use of HttpURLConnection","body":"<p>According to <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/net/http-keepalive.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/6/docs/technotes/guides/net/http-keepalive.html</a>\nand OpenJDK source code.</p>\n\n<p>(When <code>keepAlive == true</code>)</p>\n\n<p>If client called <code>HttpURLConnection.getInputSteam().<strong>close</strong>()</code>, the later call to <code>HttpURLConnection.<strong>disconnect</strong>()</code> will <strong>NOT close</strong> the <code>Socket</code>. i.e. The <code>Socket</code> is reused (cached)</p>\n\n<p>If client does not call <code>close()</code>, call <code>disconnect()</code> will close the <code>InputStream</code> and close the <code>Socket</code>.</p>\n\n<p>So in order to reuse the <code>Socket</code>, just call <code>InputStream.<strong>close</strong>()</code>. Do not call <code>HttpURLConnection.<strong>disconnect</strong>()</code>.</p>\n"},{"comments":[{"owner":{"account_id":1940905,"reputation":853,"user_id":1747140,"display_name":"FelixJongleur42"},"score":1,"creation_date":1460717711,"post_id":34622777,"comment_id":60883760,"body_markdown":"Not quite sure about that - that last source code (JDK 8u74) reads    `public InputStream getErrorStream() {\n        return null;\n    }`","body":"Not quite sure about that - that last source code (JDK 8u74) reads    <code>public InputStream getErrorStream() {         return null;     }</code>"},{"owner":{"account_id":6397178,"reputation":3688,"user_id":4961126,"display_name":"HAXM"},"score":0,"creation_date":1540893275,"post_id":34622777,"comment_id":93021645,"body_markdown":"what about the `finally` block. you can use the finally to close the stream instead of `catch`","body":"what about the <code>finally</code> block. you can use the finally to close the stream instead of <code>catch</code>"},{"owner":{"account_id":1509886,"reputation":2831,"user_id":1412279,"display_name":"bebbo"},"score":0,"creation_date":1669273811,"post_id":34622777,"comment_id":131608165,"body_markdown":"The ErrorStream is just a buffer plus uses the InputStream. Closing the InputStream is sufficient.","body":"The ErrorStream is just a buffer plus uses the InputStream. Closing the InputStream is sufficient."}],"tags":[],"owner":{"account_id":105507,"reputation":470,"user_id":281508,"display_name":"Vlad Lifliand"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1554854477,"creation_date":1452034636,"answer_id":34622777,"question_id":4767553,"body_markdown":"You also have to close error stream if the HTTP request fails (anything but 200):\r\n\r\n    try {\r\n      ...\r\n    }\r\n    catch (IOException e) {\r\n      connection.getErrorStream().close();\r\n    }\r\n\r\nIf you don&#39;t do it, all requests that don&#39;t return 200 (e.g. timeout) will leak one socket.","title":"Safe use of HttpURLConnection","body":"<p>You also have to close error stream if the HTTP request fails (anything but 200):</p>\n\n<pre><code>try {\n  ...\n}\ncatch (IOException e) {\n  connection.getErrorStream().close();\n}\n</code></pre>\n\n<p>If you don't do it, all requests that don't return 200 (e.g. timeout) will leak one socket.</p>\n"},{"tags":[],"owner":{"account_id":1509886,"reputation":2831,"user_id":1412279,"display_name":"bebbo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669273909,"creation_date":1603437158,"answer_id":64495517,"question_id":4767553,"body_markdown":"Since Java 7 the recommended way is\r\n\r\n    try (InputStream is = conn.getInputStream()) {\r\n        // read from is\r\n        // ...\r\n    }\r\n\r\nas for all other classes implementing `Closable`. `close()` is called at the end of the `try {...}` block.\r\n\r\nClosing the input stream also means you are done with reading. Otherwise the connection hangs around until the finalizer closes the stream.\r\n\r\nSame applies to the output stream, if you are sending data.\r\n\r\nThere is no need to get an close the ErrorStream. Even if it implements the InputStream interface: It&#39;s using the InputStream in combination with a buffer. Closing the InputStream is sufficient.","title":"Safe use of HttpURLConnection","body":"<p>Since Java 7 the recommended way is</p>\n<pre><code>try (InputStream is = conn.getInputStream()) {\n    // read from is\n    // ...\n}\n</code></pre>\n<p>as for all other classes implementing <code>Closable</code>. <code>close()</code> is called at the end of the <code>try {...}</code> block.</p>\n<p>Closing the input stream also means you are done with reading. Otherwise the connection hangs around until the finalizer closes the stream.</p>\n<p>Same applies to the output stream, if you are sending data.</p>\n<p>There is no need to get an close the ErrorStream. Even if it implements the InputStream interface: It's using the InputStream in combination with a buffer. Closing the InputStream is sufficient.</p>\n"}],"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118311,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":4767595,"answer_count":7,"score":62,"last_activity_date":1669273909,"creation_date":1295695868,"question_id":4767553,"body_markdown":"When using HttpURLConnection does the InputStream need to be closed if we do not &#39;get&#39; and use it?\r\n\r\ni.e. is this safe?\r\n\r\n    HttpURLConnection conn = (HttpURLConnection) uri.getURI().toURL().openConnection();\r\n    conn.connect();\r\n    // check for content type I don&#39;t care about\r\n    if (conn.getContentType.equals(&quot;image/gif&quot;) return; \r\n    // get stream and read from it\r\n    InputStream is = conn.getInputStream();\r\n    try {\r\n        // read from is\r\n    } finally {\r\n        is.close();\r\n    }\r\n\t\t\t\t\r\n\r\nSecondly, is it safe to close an InputStream ***before all of it&#39;s content has been fully read***?\r\n\r\nIs there a risk of leaving the underlying socket in ESTABLISHED or even CLOSE_WAIT state?","title":"Safe use of HttpURLConnection","body":"<p>When using HttpURLConnection does the InputStream need to be closed if we do not 'get' and use it?</p>\n\n<p>i.e. is this safe?</p>\n\n<pre><code>HttpURLConnection conn = (HttpURLConnection) uri.getURI().toURL().openConnection();\nconn.connect();\n// check for content type I don't care about\nif (conn.getContentType.equals(\"image/gif\") return; \n// get stream and read from it\nInputStream is = conn.getInputStream();\ntry {\n    // read from is\n} finally {\n    is.close();\n}\n</code></pre>\n\n<p>Secondly, is it safe to close an InputStream <strong><em>before all of it's content has been fully read</em></strong>?</p>\n\n<p>Is there a risk of leaving the underlying socket in ESTABLISHED or even CLOSE_WAIT state?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":1,"creation_date":1669267735,"post_id":74555971,"comment_id":131606872,"body_markdown":"`return !res1.equals(res2);`","body":"<code>return !res1.equals(res2);</code>"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":4,"creation_date":1669268251,"post_id":74555971,"comment_id":131606969,"body_markdown":"At this point you should consider primitive datatype `int` and use == to compare. I don‘t see any benefit in using Integer and .equals to do a mathematical comparison.\n\n`(a + b) != (c + d)`","body":"At this point you should consider primitive datatype <code>int</code> and use == to compare. I don‘t see any benefit in using Integer and .equals to do a mathematical comparison.  <code>(a + b) != (c + d)</code>"}],"answers":[{"tags":[],"owner":{"account_id":17601943,"reputation":91,"user_id":12771724,"display_name":"Enes Birisik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669273760,"creation_date":1669273760,"answer_id":74556845,"question_id":74555971,"body_markdown":"\r\n    public static boolean isResult(Integer a, Integer b, Integer c, Integer d) {\r\n        \r\n        if (!Optional.of(a+b).equals(Optional.of(c+d))){\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nYou can use Optional İf you don&#39;t want to use res1 and res2 ","title":"Replace = with equals in java","body":"<pre><code>public static boolean isResult(Integer a, Integer b, Integer c, Integer d) {\n    \n    if (!Optional.of(a+b).equals(Optional.of(c+d))){\n        return false;\n    }\n    return true;\n}\n</code></pre>\n<p>You can use Optional İf you don't want to use res1 and res2</p>\n"}],"owner":{"account_id":19254791,"reputation":5,"user_id":14071966,"display_name":"KrishnaJK4567"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74556845,"answer_count":1,"score":-2,"last_activity_date":1669273760,"creation_date":1669267609,"question_id":74555971,"body_markdown":"I am new to Java. I want to replace = with equals for Integer object\r\n\r\n          public boolean isResult(Integer a, Integer b, Integer c, Integer d){\r\n            return a + b!= c + d\r\n\r\nI tried \r\n\r\n     Integer res1 = a + b\r\n     Integer res 2 = c + d\r\n\r\n    if(!res1.equals(res2)){\r\n        return;\r\n     }\r\n\r\nIs there a way to minimize the code rather than again assigning to an object.","title":"Replace = with equals in java","body":"<p>I am new to Java. I want to replace = with equals for Integer object</p>\n<pre><code>      public boolean isResult(Integer a, Integer b, Integer c, Integer d){\n        return a + b!= c + d\n</code></pre>\n<p>I tried</p>\n<pre><code> Integer res1 = a + b\n Integer res 2 = c + d\n\nif(!res1.equals(res2)){\n    return;\n }\n</code></pre>\n<p>Is there a way to minimize the code rather than again assigning to an object.</p>\n"},{"tags":["java","postgresql","spring-boot","enums","entity"],"answers":[{"tags":[],"owner":{"account_id":14255669,"reputation":330,"user_id":10297961,"display_name":"Tan Sang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669261136,"creation_date":1669261136,"answer_id":74555346,"question_id":74555289,"body_markdown":"Your `role_name` is an integer because you didn&#39;t create it to be a string.\r\n\r\nIf you want your enum value in your database to be a string you have to add this annotation to your field\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column\r\n    private RoleName roleName;\r\n\r\ncheck this link for more information:\r\nhttps://www.baeldung.com/jpa-persisting-enums-in-jpa","title":"Does spring boot takes enums as an integer","body":"<p>Your <code>role_name</code> is an integer because you didn't create it to be a string.</p>\n<p>If you want your enum value in your database to be a string you have to add this annotation to your field</p>\n<pre><code>@Enumerated(EnumType.STRING)\n@Column\nprivate RoleName roleName;\n</code></pre>\n<p>check this link for more information:\n<a href=\"https://www.baeldung.com/jpa-persisting-enums-in-jpa\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-persisting-enums-in-jpa</a></p>\n"},{"tags":[],"owner":{"account_id":12086498,"reputation":58,"user_id":11673880,"display_name":"Ankit Dabhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669273672,"creation_date":1669273084,"answer_id":74556723,"question_id":74555289,"body_markdown":"Changing below three steps to resolve \r\n\r\n**Change your database** \r\n\r\n    ALTER TABLE role MODIFY COLUMN role_name ENUM(&#39;ROLE_USER&#39;,&#39;ROLE_ADMIN&#39;,&#39;ROLE_DIRECTOR&#39;);\r\n\r\n**and then try to insert into database** \r\n\r\n    INSERT INTO role(id, role_name)   \r\n    VALUES (1,&#39;ROLE_USER&#39;),(2, &#39;ROLE_ADMIN&#39;, 3),(3, &#39;ROLE_DIRECTOR&#39;);\r\n\r\n**and last but not the least, change your entity column** \r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name=&quot;role_name&quot;)\r\n    private RoleName roleName;\r\n\r\n","title":"Does spring boot takes enums as an integer","body":"<p>Changing below three steps to resolve</p>\n<p><strong>Change your database</strong></p>\n<pre><code>ALTER TABLE role MODIFY COLUMN role_name ENUM('ROLE_USER','ROLE_ADMIN','ROLE_DIRECTOR');\n</code></pre>\n<p><strong>and then try to insert into database</strong></p>\n<pre><code>INSERT INTO role(id, role_name)   \nVALUES (1,'ROLE_USER'),(2, 'ROLE_ADMIN', 3),(3, 'ROLE_DIRECTOR');\n</code></pre>\n<p><strong>and last but not the least, change your entity column</strong></p>\n<pre><code>@Enumerated(EnumType.STRING)\n@Column(name=&quot;role_name&quot;)\nprivate RoleName roleName;\n</code></pre>\n"}],"owner":{"account_id":24860398,"reputation":21,"user_id":18736248,"display_name":"Dadaboy Masharipov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669273672,"creation_date":1669260459,"question_id":74555289,"body_markdown":"This is my Entity Role class\r\n```\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class Role implements GrantedAuthority {\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer id;\r\n\r\n    @Column()\r\n    private RoleName roleName;\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return roleName.name();\r\n    }\r\n}\r\n\r\n```\r\nAnd this is my RoleName class\r\n\r\n```\r\n\r\npublic enum RoleName {\r\n    ROLE_USER,\r\n    ROLE_ADMIN,\r\n    ROLE_DIRECTOR\r\n}\r\n\r\n```\r\nIf I look at the database I see that type of role_name column is integer????\r\nAnd when I&#39;m writhing a query\r\n\r\n```\r\ninsert into role(id, role_name)\r\nvalues(1, &#39;ROLE_USER&#39;),\r\n      (2, &#39;ROLE_ADMIN&#39;),\r\n      (3, &#39;ROLE_DIRECTOR&#39;);\r\n```\r\nit&#39;s giving me error message &quot;invalid syntax for type integer: &quot;ROLE_USER&quot;\r\nCan you help me how I can solve this issue and why role_name column is an integer when I give its type enum\r\nThis is an error message\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/C:/Users/dadab/IdeaProjects/app-email-auditing/target/classes/data.sql]: insert into role(id, role_name) values(1, &#39;ROLE_USER&#39;), (2, &#39;ROLE_ADMIN&#39;), (3, &#39;ROLE_DIRECTOR&#39;); nested exception is org.postgresql.util.PSQLException: ОШИБКА: неверный синтаксис для типа integer: &quot;ROLE_USER&quot;\r\n  Позиция: 43\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat com.example.appemailauditing.AppEmailAuditingApplication.main(AppEmailAuditingApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/C:/Users/dadab/IdeaProjects/app-email-auditing/target/classes/data.sql]: insert into role(id, role_name) values(1, &#39;ROLE_USER&#39;), (2, &#39;ROLE_ADMIN&#39;), (3, &#39;ROLE_DIRECTOR&#39;); nested exception is org.postgresql.util.PSQLException: ОШИБКА: неверный синтаксис для типа integer: &quot;ROLE_USER&quot;\r\n  Позиция: 43\r\n\tat org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282) ~[spring-jdbc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54) ~[spring-jdbc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:90) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:145) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:107) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:101) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:65) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 18 common frames omitted\r\nCaused by: org.postgresql.util.PSQLException: ОШИБКА: неверный синтаксис для типа integer: &quot;ROLE_USER&quot;\r\n  Позиция: 43\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.7.jar:42.3.7]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.7.jar:42.3.7]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.7.jar:42.3.7]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.7.jar:42.3.7]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.7.jar:42.3.7]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.7.jar:42.3.7]\r\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.7.jar:42.3.7]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.7.jar:42.3.7]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.7.jar:42.3.7]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-5.3.23.jar:5.3.23]\r\n\t... 28 common frames omitted\r\n\r\n```\r\n\r\n\r\nI have tried giving query with double quote\r\n\r\n```\r\ninsert into role(id, role_name)\r\nvalues(1, &quot;ROLE_USER&quot;),\r\n      (2, &quot;ROLE_ADMIN&quot;),\r\n      (3, &quot;ROLE_DIRECTOR&quot;);\r\n```\r\nbut it gave another error message &quot; column &#39;ROLE_USER&#39; does not exist &quot;\r\n\r\nI&#39;m expectiong a reson why role_name is integer and how to give a column typa an enum","title":"Does spring boot takes enums as an integer","body":"<p>This is my Entity Role class</p>\n<pre><code>@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class Role implements GrantedAuthority {\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    @Column()\n    private RoleName roleName;\n\n    @Override\n    public String getAuthority() {\n        return roleName.name();\n    }\n}\n\n</code></pre>\n<p>And this is my RoleName class</p>\n<pre><code>\npublic enum RoleName {\n    ROLE_USER,\n    ROLE_ADMIN,\n    ROLE_DIRECTOR\n}\n\n</code></pre>\n<p>If I look at the database I see that type of role_name column is integer????\nAnd when I'm writhing a query</p>\n<pre><code>insert into role(id, role_name)\nvalues(1, 'ROLE_USER'),\n      (2, 'ROLE_ADMIN'),\n      (3, 'ROLE_DIRECTOR');\n</code></pre>\n<p>it's giving me error message &quot;invalid syntax for type integer: &quot;ROLE_USER&quot;\nCan you help me how I can solve this issue and why role_name column is an integer when I give its type enum\nThis is an error message</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/C:/Users/dadab/IdeaProjects/app-email-auditing/target/classes/data.sql]: insert into role(id, role_name) values(1, 'ROLE_USER'), (2, 'ROLE_ADMIN'), (3, 'ROLE_DIRECTOR'); nested exception is org.postgresql.util.PSQLException: ОШИБКА: неверный синтаксис для типа integer: &quot;ROLE_USER&quot;\n  Позиция: 43\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\n    at com.example.appemailauditing.AppEmailAuditingApplication.main(AppEmailAuditingApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/C:/Users/dadab/IdeaProjects/app-email-auditing/target/classes/data.sql]: insert into role(id, role_name) values(1, 'ROLE_USER'), (2, 'ROLE_ADMIN'), (3, 'ROLE_DIRECTOR'); nested exception is org.postgresql.util.PSQLException: ОШИБКА: неверный синтаксис для типа integer: &quot;ROLE_USER&quot;\n  Позиция: 43\n    at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282) ~[spring-jdbc-5.3.23.jar:5.3.23]\n    at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.23.jar:5.3.23]\n    at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54) ~[spring-jdbc-5.3.23.jar:5.3.23]\n    at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:90) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:145) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:107) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:101) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:65) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 18 common frames omitted\nCaused by: org.postgresql.util.PSQLException: ОШИБКА: неверный синтаксис для типа integer: &quot;ROLE_USER&quot;\n  Позиция: 43\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.7.jar:42.3.7]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-5.3.23.jar:5.3.23]\n    ... 28 common frames omitted\n\n</code></pre>\n<p>I have tried giving query with double quote</p>\n<pre><code>insert into role(id, role_name)\nvalues(1, &quot;ROLE_USER&quot;),\n      (2, &quot;ROLE_ADMIN&quot;),\n      (3, &quot;ROLE_DIRECTOR&quot;);\n</code></pre>\n<p>but it gave another error message &quot; column 'ROLE_USER' does not exist &quot;</p>\n<p>I'm expectiong a reson why role_name is integer and how to give a column typa an enum</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":19055,"reputation":77531,"user_id":44309,"display_name":"High Performance Mark"},"score":4,"creation_date":1669272427,"post_id":74556598,"comment_id":131607840,"body_markdown":"You&#39;ve encountered *integer overflow*, the topic of numerous questions and answers on this site, and covered in a myriad of textbooks and websites.  Let your search engine be your friend.","body":"You&#39;ve encountered <i>integer overflow</i>, the topic of numerous questions and answers on this site, and covered in a myriad of textbooks and websites.  Let your search engine be your friend."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1669274752,"post_id":74556598,"comment_id":131608399,"body_markdown":"`Math.multiplyExact( 1101101101 , 10 )` throws an exception if you overflow.","body":"<code>Math.multiplyExact( 1101101101 , 10 )</code> throws an exception if you overflow."}],"answers":[{"tags":[],"owner":{"account_id":7586685,"reputation":41,"user_id":5755531,"display_name":"Abirami Balasubramaniyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669272734,"creation_date":1669272734,"answer_id":74556673,"question_id":74556598,"body_markdown":"&gt; Below code might solve your problem .\r\n\r\n     public static void main(String[] args) {\r\n\r\n        Long longVal = 1101101101l;\r\n        System.out.println(longVal*10);\r\n    }\r\n\r\n","title":"Multiplication gives wrong output in java","body":"<blockquote>\n<p>Below code might solve your problem .</p>\n</blockquote>\n<pre><code> public static void main(String[] args) {\n\n    Long longVal = 1101101101l;\n    System.out.println(longVal*10);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14255669,"reputation":330,"user_id":10297961,"display_name":"Tan Sang"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669273015,"creation_date":1669273015,"answer_id":74556714,"question_id":74556598,"body_markdown":"Any number written literally like `1101101101` or `10` is considered an Integer by default in java. And Integer in java represents any whole number from -2147483648 to 2147483647. your argument makes the output exceed the said range, your IDE probably raise a warning that said `Numeric overflow in expression`, maybe you didn&#39;t notice that.\r\n\r\n\r\n\r\n ","title":"Multiplication gives wrong output in java","body":"<p>Any number written literally like <code>1101101101</code> or <code>10</code> is considered an Integer by default in java. And Integer in java represents any whole number from -2147483648 to 2147483647. your argument makes the output exceed the said range, your IDE probably raise a warning that said <code>Numeric overflow in expression</code>, maybe you didn't notice that.</p>\n"}],"owner":{"account_id":15062340,"reputation":312,"user_id":10870644,"display_name":"Pradeep Simba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669273888,"answer_count":2,"score":0,"last_activity_date":1669273015,"creation_date":1669272260,"question_id":74556598,"body_markdown":"\r\n\r\n**Code**\r\n\r\n        public class main {\r\n        \r\n            public static void main(String[] args) {\r\n                System.out.println(1101101101*10);\r\n            }\r\n        \r\n        }\r\n**OUTPUT**\r\n\r\n    -1873890878\r\n\r\n\r\n[![calci][1]][1]\r\n\r\nI do the same thing in python it gives the output.\r\n\r\n         Microsoft Windows [Version 10.0.19044.2251]\r\n        (c) Microsoft Corporation. All rights reserved.\r\n\r\n        C:\\Users\\pradeep&gt;python\r\n        Python 3.10.8 (tags/v3.10.8:aaaf517, Oct 11 2022, 16:50:30) [MSC v.1933 64 bit (AMD64)] on win32\r\n        Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n        &gt;&gt;&gt; 1101101101*10\r\n        11011011010\r\n        \r\n\r\nHow can I solve this in java ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IpxpT.png\r\n  [2]: https://i.stack.imgur.com/TPIOK.png","title":"Multiplication gives wrong output in java","body":"<p><strong>Code</strong></p>\n<pre><code>    public class main {\n    \n        public static void main(String[] args) {\n            System.out.println(1101101101*10);\n        }\n    \n    }\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<pre><code>-1873890878\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IpxpT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IpxpT.png\" alt=\"calci\" /></a></p>\n<p>I do the same thing in python it gives the output.</p>\n<pre><code>     Microsoft Windows [Version 10.0.19044.2251]\n    (c) Microsoft Corporation. All rights reserved.\n\n    C:\\Users\\pradeep&gt;python\n    Python 3.10.8 (tags/v3.10.8:aaaf517, Oct 11 2022, 16:50:30) [MSC v.1933 64 bit (AMD64)] on win32\n    Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n    &gt;&gt;&gt; 1101101101*10\n    11011011010\n    \n</code></pre>\n<p>How can I solve this in java ?</p>\n"},{"tags":["java","spring-boot","authentication","spring-security","microservices"],"answers":[{"comments":[{"owner":{"account_id":4551988,"reputation":35,"user_id":6142164,"display_name":"drapo"},"score":0,"creation_date":1669289551,"post_id":74556562,"comment_id":131613525,"body_markdown":"Thanks, that makes sense but then how send costumer data? or how to.validate that customer data that was sent is proper for given authenticated user. I don&#39;t know how should I track user data within request.","body":"Thanks, that makes sense but then how send costumer data? or how to.validate that customer data that was sent is proper for given authenticated user. I don&#39;t know how should I track user data within request."}],"tags":[],"owner":{"account_id":16770162,"reputation":116,"user_id":12122787,"display_name":"Parker"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669271986,"creation_date":1669271986,"answer_id":74556562,"question_id":74553790,"body_markdown":"you should be separate `user` and `customer`. The authentication server should only manage the role, permission, ... of `user`. And in the `Order Service`, you have a entity called `customer`, the `customer` will linking with `user` table in authentication server, `order` and more entity in `Order Service` like `transaction`, `invoice`, ... \r\nBecause a `user` can access to many service, but not mean the info of user in each service is the same. Like you can using a google account to login many forums (with google login)  but not mean in each forum you have the same `nickname`","title":"Spring Microservices - sending user data linked to created entity","body":"<p>you should be separate <code>user</code> and <code>customer</code>. The authentication server should only manage the role, permission, ... of <code>user</code>. And in the <code>Order Service</code>, you have a entity called <code>customer</code>, the <code>customer</code> will linking with <code>user</code> table in authentication server, <code>order</code> and more entity in <code>Order Service</code> like <code>transaction</code>, <code>invoice</code>, ...\nBecause a <code>user</code> can access to many service, but not mean the info of user in each service is the same. Like you can using a google account to login many forums (with google login)  but not mean in each forum you have the same <code>nickname</code></p>\n"}],"owner":{"account_id":4551988,"reputation":35,"user_id":6142164,"display_name":"drapo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669271986,"creation_date":1669243815,"question_id":74553790,"body_markdown":"Lets say I have order microservice with Order entity that has relation to user.\r\nFor example:\r\n\r\n    class Order {\r\n       int orderId;\r\n       List&lt;Items&gt; items;\r\n       int **userId**;\r\n    }\r\nIn my case I have/want to have API Gateway microservice that is responsible for authentication and redirecting requests to proper microservice. \r\nIt is going to be something like that:\r\n[![enter image description here][1]][1]\r\nHow this user data should be provided when sending request to create such entity? **Entity should be linked only with authenticated user that made this request**?\r\n\r\nShould it be sent in the request body with other data for that entity or should user data be retrieved from the authentication data sent to server - for example from jwt token?\r\n\r\nI would appreciate for some resources to read, this might be a stupid question but I am just starting with microservices and I have a hard time imagining how it should work.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zEpER.png","title":"Spring Microservices - sending user data linked to created entity","body":"<p>Lets say I have order microservice with Order entity that has relation to user.\nFor example:</p>\n<pre><code>class Order {\n   int orderId;\n   List&lt;Items&gt; items;\n   int **userId**;\n}\n</code></pre>\n<p>In my case I have/want to have API Gateway microservice that is responsible for authentication and redirecting requests to proper microservice.\nIt is going to be something like that:\n<a href=\"https://i.stack.imgur.com/zEpER.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zEpER.png\" alt=\"enter image description here\" /></a>\nHow this user data should be provided when sending request to create such entity? <strong>Entity should be linked only with authenticated user that made this request</strong>?</p>\n<p>Should it be sent in the request body with other data for that entity or should user data be retrieved from the authentication data sent to server - for example from jwt token?</p>\n<p>I would appreciate for some resources to read, this might be a stupid question but I am just starting with microservices and I have a hard time imagining how it should work.</p>\n"},{"tags":["java","eclipse","class","object","oop"],"comments":[{"owner":{"account_id":14255669,"reputation":330,"user_id":10297961,"display_name":"Tan Sang"},"score":0,"creation_date":1669271170,"post_id":74556348,"comment_id":131607569,"body_markdown":"just run your code and everything seem fine with no error, did you miss anything?","body":"just run your code and everything seem fine with no error, did you miss anything?"},{"owner":{"account_id":25660167,"reputation":89,"user_id":19426256,"display_name":"Drishti Jain"},"score":1,"creation_date":1669271293,"post_id":74556348,"comment_id":131607598,"body_markdown":"As per error message somewhere ```void revision.A.m()``` is called. Can&#39;t see in this code. Please make sure the file you are running and the code you post are the same and complete.","body":"As per error message somewhere <code>void revision.A.m()</code> is called. Can&#39;t see in this code. Please make sure the file you are running and the code you post are the same and complete."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1669271825,"post_id":74556348,"comment_id":131607709,"body_markdown":"&quot;The type A is already defined&quot; should give you a hint what is going wrong: You have a class named `A` somewhere else in the package.","body":"&quot;The type A is already defined&quot; should give you a hint what is going wrong: You have a class named <code>A</code> somewhere else in the package."},{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1669272921,"post_id":74556348,"comment_id":131607942,"body_markdown":"The problem most likely  is not in the code but in how you compile and run it. Can you provide more information about how you do that?","body":"The problem most likely  is not in the code but in how you compile and run it. Can you provide more information about how you do that?"}],"answers":[{"tags":[],"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669271595,"creation_date":1669271595,"answer_id":74556493,"question_id":74556348,"body_markdown":"your code seems to be ok with no exception, but it will print:\r\n\r\n    \r\n\r\n&gt; child\r\n\r\n&gt; child\r\n\r\nyou extends `Prac2` from `A`, that means `A` is the super class and if you want to get access to both methods, you should create instances from `A`:\r\n\r\n    class Prac2 extends A {\r\n        public void m() {\r\n            System.out.println(&quot;child&quot;);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            A obj1 = new A() ;\r\n            A obj2 = new Prac2() ;\r\n\r\n            obj1.m();\r\n            obj2.m();\r\n\r\n        }\r\n\r\n    }\r\n\r\n    class A {\r\n        public void m() {\r\n            System.out.println(&quot;parent&quot;) ;\r\n        }\r\n    }\r\n\r\n\r\n\r\nthe output will be:\r\n\r\n    \r\n\r\n&gt; parent\r\n\r\n&gt; child","title":"Java Code Can&#39;t understand why it give the error?","body":"<p>your code seems to be ok with no exception, but it will print:</p>\n<blockquote>\n<p>child</p>\n</blockquote>\n<blockquote>\n<p>child</p>\n</blockquote>\n<p>you extends <code>Prac2</code> from <code>A</code>, that means <code>A</code> is the super class and if you want to get access to both methods, you should create instances from <code>A</code>:</p>\n<pre><code>class Prac2 extends A {\n    public void m() {\n        System.out.println(&quot;child&quot;);\n    }\n\n    public static void main(String[] args) {\n        A obj1 = new A() ;\n        A obj2 = new Prac2() ;\n\n        obj1.m();\n        obj2.m();\n\n    }\n\n}\n\nclass A {\n    public void m() {\n        System.out.println(&quot;parent&quot;) ;\n    }\n}\n</code></pre>\n<p>the output will be:</p>\n<blockquote>\n<p>parent</p>\n</blockquote>\n<blockquote>\n<p>child</p>\n</blockquote>\n"}],"owner":{"account_id":21606041,"reputation":5,"user_id":15933478,"display_name":"Tejveer naruka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74556493,"answer_count":1,"score":0,"last_activity_date":1669271595,"creation_date":1669270492,"question_id":74556348,"body_markdown":"Here I make two classes A And prac2 and I just want to print the method from the both of class . But I got the error type of Class A is already defined . So I can&#39;t undestand why the error comes\r\n```\r\npackage revision;\r\n\r\n\r\npublic class Prac2 extends A {\r\n    public void m() {\r\n    \tSystem.out.println(&quot;child&quot;);\r\n    }\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tA obj1 = new Prac2() ;\r\n\t\tPrac2 obj2 = new Prac2() ;\r\n\r\n\t\tobj1.m();\r\n\t\tobj2.m();\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\nclass A {\r\n\tpublic void m() {\r\n\t\tSystem.out.println(&quot;parent&quot;) ;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;void revision.A.m()&#39;\r\n\tat revision.Prac2.main(Prac2.java:13)\r\n```\r\n\r\n```\r\nThe type A is already defined\r\n```\r\n","title":"Java Code Can&#39;t understand why it give the error?","body":"<p>Here I make two classes A And prac2 and I just want to print the method from the both of class . But I got the error type of Class A is already defined . So I can't undestand why the error comes</p>\n<pre><code>package revision;\n\n\npublic class Prac2 extends A {\n    public void m() {\n        System.out.println(&quot;child&quot;);\n    }\n    \n    public static void main(String[] args) {\n        A obj1 = new Prac2() ;\n        Prac2 obj2 = new Prac2() ;\n\n        obj1.m();\n        obj2.m();\n        \n    }\n\n}\n\nclass A {\n    public void m() {\n        System.out.println(&quot;parent&quot;) ;\n    }\n}\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'void revision.A.m()'\n    at revision.Prac2.main(Prac2.java:13)\n</code></pre>\n<pre><code>The type A is already defined\n</code></pre>\n"},{"tags":["java","json","spring-boot","rest"],"comments":[{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1669187969,"post_id":74542939,"comment_id":131584950,"body_markdown":"Do you have a link to the API documentation of cloudhealthtech.com?","body":"Do you have a link to the API documentation of cloudhealthtech.com?"},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1669188087,"post_id":74542939,"comment_id":131584979,"body_markdown":"Yes, I have. This is the link https://apidocs.cloudhealthtech.com/","body":"Yes, I have. This is the link <a href=\"https://apidocs.cloudhealthtech.com/\" rel=\"nofollow noreferrer\">apidocs.cloudhealthtech.com</a>"},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1669188470,"post_id":74542939,"comment_id":131585081,"body_markdown":"On the first glance your request looks correct.","body":"On the first glance your request looks correct."},{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1669188856,"post_id":74542939,"comment_id":131585183,"body_markdown":"Okay, then according to you what would be the reason behind 403 error?","body":"Okay, then according to you what would be the reason behind 403 error?"}],"answers":[{"comments":[{"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"score":0,"creation_date":1669188124,"post_id":74543044,"comment_id":131584988,"body_markdown":"What else should I add in header to the rest call?","body":"What else should I add in header to the rest call?"},{"owner":{"account_id":10851238,"reputation":1,"user_id":7978923,"display_name":"Mick"},"score":0,"creation_date":1669189819,"post_id":74543044,"comment_id":131585413,"body_markdown":"http.setRequestProperty(HttpHeaders.AUTHORIZATION, String.format(&quot;Bearer %s&quot;, apiKey));\nheader could be something else than Authorization.","body":"http.setRequestProperty(HttpHeaders.AUTHORIZATION, String.format(&quot;Bearer %s&quot;, apiKey)); header could be something else than Authorization."}],"tags":[],"owner":{"account_id":10851238,"reputation":1,"user_id":7978923,"display_name":"Mick"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669190252,"creation_date":1669188015,"answer_id":74543044,"question_id":74542939,"body_markdown":"Are you sure you are giving the proper header to the rest call ? \r\n\r\nOne thing is ok, is that your API answer you, so it&#39;s working but not well.\r\n\r\nYou probably should also check logs in your responded API if you could.\r\nCould it be for exemple : \r\n\r\n    ApiClient apiClient = new ApiClient();\r\n    apiClient.setBasePath(&quot;BASE_URL&quot;);\r\n    apiClient.setApiKeyPrefix(&quot;App&quot;);\r\n    apiClient.setApiKey(&quot;API_KEY&quot;);\r\n    return apiClient;","title":"How to consume or call another Rest API in Spring Boot application?","body":"<p>Are you sure you are giving the proper header to the rest call ?</p>\n<p>One thing is ok, is that your API answer you, so it's working but not well.</p>\n<p>You probably should also check logs in your responded API if you could.\nCould it be for exemple :</p>\n<pre><code>ApiClient apiClient = new ApiClient();\napiClient.setBasePath(&quot;BASE_URL&quot;);\napiClient.setApiKeyPrefix(&quot;App&quot;);\napiClient.setApiKey(&quot;API_KEY&quot;);\nreturn apiClient;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669189451,"creation_date":1669189451,"answer_id":74543260,"question_id":74542939,"body_markdown":"    HttpURLConnection c = (HttpURLConnection) new URL(&quot;https://chapi.cloudhealthtech.com/olap_reports&quot;).openConnection();\r\n    c.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    c.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer abc-xyz-example-apikey-e215d82537ba&quot;);\r\n    try {\r\n      System.out.println(c.getResponseCode() + &quot;: &quot; + new String(c.getInputStream().readAllBytes()));\r\n    } catch(Exception e) {\r\n      System.out.println(c.getResponseCode() + &quot;: &quot; + new String(c.getErrorStream().readAllBytes()));\r\n    }\r\n\r\nI am getting:\r\n\r\n    403: {&quot;error&quot;:&quot;Unrecognized API key&quot;}\r\n\r\nWhich is better than &#39;missing&#39; API key. Maybe try with this example and change one thing at a time.\r\n\r\nHave a look at this: https://stackoverflow.com/questions/21101250/sending-get-request-with-authentication-headers-using-resttemplate\r\n\r\nYou need to pass the request headers in a spring specific way.\r\n","title":"How to consume or call another Rest API in Spring Boot application?","body":"<pre><code>HttpURLConnection c = (HttpURLConnection) new URL(&quot;https://chapi.cloudhealthtech.com/olap_reports&quot;).openConnection();\nc.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\nc.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer abc-xyz-example-apikey-e215d82537ba&quot;);\ntry {\n  System.out.println(c.getResponseCode() + &quot;: &quot; + new String(c.getInputStream().readAllBytes()));\n} catch(Exception e) {\n  System.out.println(c.getResponseCode() + &quot;: &quot; + new String(c.getErrorStream().readAllBytes()));\n}\n</code></pre>\n<p>I am getting:</p>\n<pre><code>403: {&quot;error&quot;:&quot;Unrecognized API key&quot;}\n</code></pre>\n<p>Which is better than 'missing' API key. Maybe try with this example and change one thing at a time.</p>\n<p>Have a look at this: <a href=\"https://stackoverflow.com/questions/21101250/sending-get-request-with-authentication-headers-using-resttemplate\">Sending GET request with Authentication headers using restTemplate</a></p>\n<p>You need to pass the request headers in a spring specific way.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669480127,"post_id":74556436,"comment_id":131651998,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74556436/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669271144,"creation_date":1669271144,"answer_id":74556436,"question_id":74542939,"body_markdown":"I tried this way and got the desired result.\r\n\r\n    public ResponseEntity&lt;Object&gt; getCloudHealthReports() throws IOException{\r\n    \t\tResponseEntity&lt;String&gt; responseEntity = null;\r\n    \t\ttry {\r\n    \t\t\tfinal String uri = &quot;https://chapi.cloudhealthtech.com/olap_reports&quot;;\r\n    \t\t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t\t\tHttpHeaders header = new HttpHeaders();\r\n    \t\t\theader.set(HttpHeaders.AUTHORIZATION, &quot;Bearer API-KEY&quot;);\r\n    \t\t\t\r\n    \t\t\tHttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;String&gt;(&quot;body&quot;,header);\r\n    \t\t\tresponseEntity = restTemplate.exchange(uri, HttpMethod.GET, requestEntity, String.class);\r\n    \t\t\t\r\n    \t\t\tString response = responseEntity.getBody();\r\n    \t\t\t\r\n    \t\t\treturn new ResponseEntity&lt;Object&gt;(response, HttpStatus.OK);\r\n    \t\t\t\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\t\r\n    \t\t\treturn new ResponseEntity&lt;Object&gt;(&quot;Please try again later&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t\t}\r\n    \t}","title":"How to consume or call another Rest API in Spring Boot application?","body":"<p>I tried this way and got the desired result.</p>\n<pre><code>public ResponseEntity&lt;Object&gt; getCloudHealthReports() throws IOException{\n        ResponseEntity&lt;String&gt; responseEntity = null;\n        try {\n            final String uri = &quot;https://chapi.cloudhealthtech.com/olap_reports&quot;;\n            RestTemplate restTemplate = new RestTemplate();\n            HttpHeaders header = new HttpHeaders();\n            header.set(HttpHeaders.AUTHORIZATION, &quot;Bearer API-KEY&quot;);\n            \n            HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;String&gt;(&quot;body&quot;,header);\n            responseEntity = restTemplate.exchange(uri, HttpMethod.GET, requestEntity, String.class);\n            \n            String response = responseEntity.getBody();\n            \n            return new ResponseEntity&lt;Object&gt;(response, HttpStatus.OK);\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n            \n            return new ResponseEntity&lt;Object&gt;(&quot;Please try again later&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":26662139,"reputation":45,"user_id":20274796,"display_name":"rsharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2998,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669271144,"creation_date":1669187248,"question_id":74542939,"body_markdown":"I am trying to call an external Rest API endpoints in my Spring Boot application. I have an API key that I generated before using it in my rest application. Whenever I am trying to hit GET request, showing me **missing API Key 403 forbidden error**.\r\n\r\n```\r\norg.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden: &quot;{&quot;error&quot;:&quot;Missing API key&quot;}&quot;\r\n\tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n\tat org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:361)\r\n\tat com.rakhi.restapidemo.controller.CloudHealthAccessController.getCloudHealthReports(CloudHealthAccessController.java:43)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n```\r\n\r\nI tried writing this code to get desired output. Unfortunately not able to do so.\r\n```\r\n@RequestMapping(value = {&quot;/reports&quot;}, method = {RequestMethod.GET, RequestMethod.POST}, produces = {MediaType.APPLICATION_JSON_VALUE})\r\n\tpublic ResponseEntity&lt;Object&gt; getCloudHealthReports(){\r\n\t\tlogger.info(&quot;Inside get cloud health reporting function..!!!!&quot;);\r\n\t\ttry {\r\n\t\t\tString apiKey = &quot;abc-xyz-example-apikey-e215d82537ba&quot;;\r\n\t\t\tfinal String uri = &quot;https://chapi.cloudhealthtech.com/olap_reports&quot;;\r\n\t\t    RestTemplate restTemplate = new RestTemplate();\r\n\t\t    \r\n\t\t    URL url = new URL(uri);\r\n\t\t    HttpURLConnection http = (HttpURLConnection)url.openConnection();\r\n\t\t    \r\n\t\t    http.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\t    http.setRequestProperty(HttpHeaders.AUTHORIZATION, String.format(&quot;Bearer %s&quot;, apiKey));\r\n\t\t    \r\n\t\t    ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(uri, String.class);\r\n\t\t    \r\n\t\t    return new ResponseEntity&lt;&gt;(response.getHeaders(), HttpStatus.OK);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn new ResponseEntity&lt;&gt;(&quot;Error! Please try again later&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t}\r\n\t}\r\n```\r\n","title":"How to consume or call another Rest API in Spring Boot application?","body":"<p>I am trying to call an external Rest API endpoints in my Spring Boot application. I have an API key that I generated before using it in my rest application. Whenever I am trying to hit GET request, showing me <strong>missing API Key 403 forbidden error</strong>.</p>\n<pre><code>org.springframework.web.client.HttpClientErrorException$Forbidden: 403 Forbidden: &quot;{&quot;error&quot;:&quot;Missing API key&quot;}&quot;\n    at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:109)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\n    at org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:361)\n    at com.rakhi.restapidemo.controller.CloudHealthAccessController.getCloudHealthReports(CloudHealthAccessController.java:43)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p>I tried writing this code to get desired output. Unfortunately not able to do so.</p>\n<pre><code>@RequestMapping(value = {&quot;/reports&quot;}, method = {RequestMethod.GET, RequestMethod.POST}, produces = {MediaType.APPLICATION_JSON_VALUE})\n    public ResponseEntity&lt;Object&gt; getCloudHealthReports(){\n        logger.info(&quot;Inside get cloud health reporting function..!!!!&quot;);\n        try {\n            String apiKey = &quot;abc-xyz-example-apikey-e215d82537ba&quot;;\n            final String uri = &quot;https://chapi.cloudhealthtech.com/olap_reports&quot;;\n            RestTemplate restTemplate = new RestTemplate();\n            \n            URL url = new URL(uri);\n            HttpURLConnection http = (HttpURLConnection)url.openConnection();\n            \n            http.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n            http.setRequestProperty(HttpHeaders.AUTHORIZATION, String.format(&quot;Bearer %s&quot;, apiKey));\n            \n            ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(uri, String.class);\n            \n            return new ResponseEntity&lt;&gt;(response.getHeaders(), HttpStatus.OK);\n            \n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n            e.printStackTrace();\n            return new ResponseEntity&lt;&gt;(&quot;Error! Please try again later&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","postgresql","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1625484781,"post_id":68254080,"comment_id":120631529,"body_markdown":"This won&#39;t work, as it is an internal method call.","body":"This won&#39;t work, as it is an internal method call."},{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":0,"creation_date":1625484782,"post_id":68254080,"comment_id":120631530,"body_markdown":"Currently, `@Transactional` on `saveState` is ignored. To make your `saveState` transaction work, you need to use AspectJ or inject your service in itself. More info in answers to this question https://stackoverflow.com/questions/3423972/spring-transaction-method-call-by-the-method-within-the-same-class-does-not-wo","body":"Currently, <code>@Transactional</code> on <code>saveState</code> is ignored. To make your <code>saveState</code> transaction work, you need to use AspectJ or inject your service in itself. More info in answers to this question <a href=\"https://stackoverflow.com/questions/3423972/spring-transaction-method-call-by-the-method-within-the-same-class-does-not-wo\" title=\"spring transaction method call by the method within the same class does not wo\">stackoverflow.com/questions/3423972/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5968065,"reputation":14213,"user_id":4691279,"accept_rate":58,"display_name":"hagrawal7777"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669270175,"creation_date":1669270175,"answer_id":74556311,"question_id":68254080,"body_markdown":"This is not working because you are having your second `@Transactional` method in the same class. **Remember that `@Transactional` only works if the call goes through the proxy.** Just move this `saveState` to another class and I am sure it is going to work because the rest of your code is perfectly correct.","title":"Spring Autonomous Transaction - Execute secondary then throw primary","body":"<p>This is not working because you are having your second <code>@Transactional</code> method in the same class. <strong>Remember that <code>@Transactional</code> only works if the call goes through the proxy.</strong> Just move this <code>saveState</code> to another class and I am sure it is going to work because the rest of your code is perfectly correct.</p>\n"}],"owner":{"account_id":3918931,"reputation":620,"user_id":3242022,"display_name":"downvoteit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669270175,"creation_date":1625478929,"question_id":68254080,"body_markdown":"I am having trouble with Spring Transactions. I need my **catch block to persist some state** on a **forked/autonomous transaction** then throw an exception to rollback whatever there was done on the primary transaction.\r\n\r\n  \r\n\r\n      @Transactional(\r\n          propagation = Propagation.REQUIRED,\r\n          isolation = Isolation.READ_COMMITTED,\r\n          rollbackFor = {Exception.class})\r\n      public void createApplication() {\r\n        try {\r\n          saveState(0);\r\n        } catch(Exception e) {\r\n          saveState(1);\r\n    \r\n          throw e;\r\n        }\r\n      }\r\n    \r\n      @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n      public void saveState(Integet stateId) {\r\n        ...\r\n      }\r\n\r\nThe issue with this setup is that everything gets rollbacked (as mentioned in https://stackoverflow.com/questions/64273779/how-to-partially-rollback-data-in-spring-boot-errors-to-be-persited). Is there a way to fork transactions in Spring or this way is fundamentally incorrect?\r\n\r\nI&#39;ve also tried pairing **Propagation.REQUIRED** with **Propagation.NESTED** without avail.\r\n\r\n\r\n","title":"Spring Autonomous Transaction - Execute secondary then throw primary","body":"<p>I am having trouble with Spring Transactions. I need my <strong>catch block to persist some state</strong> on a <strong>forked/autonomous transaction</strong> then throw an exception to rollback whatever there was done on the primary transaction.</p>\n<pre><code>  @Transactional(\n      propagation = Propagation.REQUIRED,\n      isolation = Isolation.READ_COMMITTED,\n      rollbackFor = {Exception.class})\n  public void createApplication() {\n    try {\n      saveState(0);\n    } catch(Exception e) {\n      saveState(1);\n\n      throw e;\n    }\n  }\n\n  @Transactional(propagation = Propagation.REQUIRES_NEW)\n  public void saveState(Integet stateId) {\n    ...\n  }\n</code></pre>\n<p>The issue with this setup is that everything gets rollbacked (as mentioned in <a href=\"https://stackoverflow.com/questions/64273779/how-to-partially-rollback-data-in-spring-boot-errors-to-be-persited\">How to partially rollback data in spring boot, errors to be persited</a>). Is there a way to fork transactions in Spring or this way is fundamentally incorrect?</p>\n<p>I've also tried pairing <strong>Propagation.REQUIRED</strong> with <strong>Propagation.NESTED</strong> without avail.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":25389,"reputation":14608,"user_id":65230,"accept_rate":84,"display_name":"Ascalonian"},"score":0,"creation_date":1662268605,"post_id":73596765,"comment_id":129964401,"body_markdown":"Your SpringApplication class seems to be missing the `@EntityScan` in it pointing to your `Item` class","body":"Your SpringApplication class seems to be missing the <code>@EntityScan</code> in it pointing to your <code>Item</code> class"},{"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"score":0,"creation_date":1662270733,"post_id":73596765,"comment_id":129964606,"body_markdown":"Shouldn&#39;t the Repository be annotated with `@Repository`?","body":"Shouldn&#39;t the Repository be annotated with <code>@Repository</code>?"},{"owner":{"account_id":7933114,"reputation":1322,"user_id":5990192,"accept_rate":11,"display_name":"CherryBelle"},"score":0,"creation_date":1662277051,"post_id":73596765,"comment_id":129965477,"body_markdown":"@Ascalonian it doesn&#39;t affect","body":"@Ascalonian it doesn&#39;t affect"},{"owner":{"account_id":7933114,"reputation":1322,"user_id":5990192,"accept_rate":11,"display_name":"CherryBelle"},"score":0,"creation_date":1662277140,"post_id":73596765,"comment_id":129965493,"body_markdown":"@AnadiMisra I don&#39;t think it&#39;s necessary. The link on my question says it&#39;s not needed. In other projects, I never use `@Repository` and it works","body":"@AnadiMisra I don&#39;t think it&#39;s necessary. The link on my question says it&#39;s not needed. In other projects, I never use <code>@Repository</code> and it works"}],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662277775,"creation_date":1662277775,"answer_id":73597656,"question_id":73596765,"body_markdown":"You are looking for repositories in this package\r\n```\r\n@EnableJpaRepositories(\r\n    basePackages = &quot;com.domain.spring.example.model&quot;\r\n```\r\nbut your repository is in this package\r\n```\r\ncom.domain.spring.example.respository\r\n```","title":"Spring Boot Entity and Repository Not Working Without Annotation","body":"<p>You are looking for repositories in this package</p>\n<pre><code>@EnableJpaRepositories(\n    basePackages = &quot;com.domain.spring.example.model&quot;\n</code></pre>\n<p>but your repository is in this package</p>\n<pre><code>com.domain.spring.example.respository\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7933114,"reputation":1322,"user_id":5990192,"accept_rate":11,"display_name":"CherryBelle"},"score":0,"creation_date":1662279413,"post_id":73597791,"comment_id":129965835,"body_markdown":"I still got the same error without the `@EnableJpaRepositories` annotation. The error is `Not a managed type: class com.domain.spring.example.model.Item`","body":"I still got the same error without the <code>@EnableJpaRepositories</code> annotation. The error is <code>Not a managed type: class com.domain.spring.example.model.Item</code>"},{"owner":{"account_id":7933114,"reputation":1322,"user_id":5990192,"accept_rate":11,"display_name":"CherryBelle"},"score":0,"creation_date":1662280225,"post_id":73597791,"comment_id":129965952,"body_markdown":"I updated my question detail. It seems there can be another problem since the defined route is not recognized as well.","body":"I updated my question detail. It seems there can be another problem since the defined route is not recognized as well."},{"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"score":0,"creation_date":1662287100,"post_id":73597791,"comment_id":129967157,"body_markdown":"Here&#39;s what I use `@RequiredArgsConstructor(onConstructor_ = {@Autowired})`","body":"Here&#39;s what I use <code>@RequiredArgsConstructor(onConstructor_ = {@Autowired})</code>"}],"tags":[],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662279188,"creation_date":1662279188,"answer_id":73597791,"question_id":73596765,"body_markdown":"Two things here:\r\n\r\n\r\n    @EnableJpaRepositories(\r\n        basePackages = &quot;com.domain.spring.example.respository&quot;,\r\n        entityManagerFactoryRef = &quot;entityManagerFactory&quot;\r\n    )\r\n\r\nalso since you&#39;re using SpringBoot Application, it&#39;s auto wiring should take care of instantiating repositories provided the class annotated with `@SpringBootApplication` is in a top level package, which you have, so I think you should try without the `@EnableJpaRepositories` too.","title":"Spring Boot Entity and Repository Not Working Without Annotation","body":"<p>Two things here:</p>\n<pre><code>@EnableJpaRepositories(\n    basePackages = &quot;com.domain.spring.example.respository&quot;,\n    entityManagerFactoryRef = &quot;entityManagerFactory&quot;\n)\n</code></pre>\n<p>also since you're using SpringBoot Application, it's auto wiring should take care of instantiating repositories provided the class annotated with <code>@SpringBootApplication</code> is in a top level package, which you have, so I think you should try without the <code>@EnableJpaRepositories</code> too.</p>\n"},{"tags":[],"owner":{"account_id":15090575,"reputation":11,"user_id":10890593,"display_name":"ashima adya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669270167,"creation_date":1669270167,"answer_id":74556309,"question_id":73596765,"body_markdown":"I was facing the same issue. In my case issue was with dependency, I was using spring depency \r\n\r\n&gt; spring-data-jpa\r\n\r\ninstead of \r\n\r\n&gt; spring-boot-starter-data-jpa\r\n\r\nChanging spring-data-jpa tp spring-boot-starter-data-jpa worked for me","title":"Spring Boot Entity and Repository Not Working Without Annotation","body":"<p>I was facing the same issue. In my case issue was with dependency, I was using spring depency</p>\n<blockquote>\n<p>spring-data-jpa</p>\n</blockquote>\n<p>instead of</p>\n<blockquote>\n<p>spring-boot-starter-data-jpa</p>\n</blockquote>\n<p>Changing spring-data-jpa tp spring-boot-starter-data-jpa worked for me</p>\n"}],"owner":{"account_id":7933114,"reputation":1322,"user_id":5990192,"accept_rate":11,"display_name":"CherryBelle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2011,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669270167,"creation_date":1662265268,"question_id":73596765,"body_markdown":"I read this stackoverflow post which says that we don&#39;t need to use `@EnableJpaRepository` or `@EntityScan`\r\nhttps://stackoverflow.com/questions/45730111/spring-data-repository-works-without-annotations\r\n\r\nI&#39;m not sure what&#39;s wrong. But my Spring Boot application is only able to start with `@EnableJpaRepository` and `@ComponentScan`.\r\n\r\n*MyApplication.java*\r\n```\r\npackage com.domain.spring.example;\r\n\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(&quot;com.domain.spring.example.repository&quot;)\r\n@EnableJpaRepositories(\r\n    basePackages = &quot;com.domain.spring.example.model&quot;,\r\n    entityManagerFactoryRef = &quot;entityManagerFactory&quot;\r\n)\r\npublic class MyApplication {\r\n\r\n  public static void main(String[] args) {\r\n    new SpringApplicationBuilder(MyApplication.class).run(args);\r\n  }\r\n}\r\n```\r\n\r\n*Item.java*\r\n```\r\npackage com.domain.spring.example.model;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.Id;\r\nimport java.math.BigDecimal;\r\nimport java.util.UUID;\r\n\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.experimental.SuperBuilder;\r\nimport org.hibernate.annotations.GenericGenerator;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@SuperBuilder\r\n@Table(name = &quot;items&quot;)\r\npublic class Item {\r\n\r\n  @Id\r\n  @GeneratedValue(generator = &quot;UUID&quot;)\r\n  @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n  private UUID id;\r\n\r\n  private String name;\r\n\r\n  private BigDecimal price;\r\n}\r\n\r\n```\r\n\r\n*ItemRepository.java*\r\n```\r\npackage com.domain.spring.example.respository;\r\n\r\nimport com.domain.spring.example.model.Item;\r\nimport java.util.UUID;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface ItemRepository extends JpaRepository&lt;Item, UUID&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\n*ItemService.java*\r\n```\r\npackage com.domain.spring.example.service;\r\n\r\nimport com.domain.spring.example.respository.ItemRepository;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ItemService {\r\n\r\n  private final ItemRepository itemRepository;\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n*build.gradle*\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.8.RELEASE&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.6.4&#39;\r\n}\r\n\r\ngroup &#39;com.domain&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nconfigurations {\r\n    testIntegrationImplementation.extendsFrom implementation\r\n    testIntegrationRuntimeOnly.extendsFrom runtimeOnly\r\n}\r\n\r\ndependencies {\r\n\r\n    annotationProcessor group: &#39;org.hibernate&#39;, name: &#39;hibernate-jpamodelgen&#39;\r\n    annotationProcessor group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.22&#39;\r\n    testAnnotationProcessor group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.22&#39;\r\n\r\n    implementation group: &#39;com.vladmihalcea&#39;, name: &#39;hibernate-types-52&#39;, version: &#39;2.14.0&#39;\r\n    implementation group: &#39;jakarta.persistence&#39;, name: &#39;jakarta.persistence-api&#39;, version: &#39;3.1.0-RC2&#39;\r\n    implementation group: &#39;javax.persistence&#39;, name: &#39;javax.persistence-api&#39;, version: &#39;2.2&#39;\r\n    implementation group: &#39;javax.validation&#39;, name: &#39;validation-api&#39;, version: &#39;2.0.1.Final&#39;\r\n    implementation group: &#39;org.hibernate&#39;, name: &#39;hibernate-core&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-actuator&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-jpa&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-webflux&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-validation&#39;\r\n    implementation group: &#39;org.springframework.cloud&#39;, name: &#39;spring-cloud-starter-netflix-eureka-client&#39;, version: &#39;3.1.1&#39;\r\n//    implementation group: &#39;org.springframework.data&#39;, name: &#39;spring-data-jpa&#39;\r\n    implementation group: &#39;org.springframework.data&#39;, name: &#39;spring-data-redis&#39;\r\n    implementation group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.22&#39;\r\n    implementation group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;\r\n\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.9.0&#39;\r\n    testImplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-test&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.9.0&#39;\r\n\r\n    testIntegrationImplementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-test&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\n*application.properties*\r\n```\r\n# Eureka\r\neureka.client.enabled=false\r\neureka.client.fetch-registry=true\r\neureka.client.register-with-eureka=true\r\neureka.client.service-url.defaultZone=http://localhost:4001/eureka/\r\neureka.instance.prefer-ip-address=true\r\n\r\nspring.datasource.platform=postgres\r\nspring.datasource.url=jdbc:postgresql://localhost/example\r\nspring.datasource.username=postgres\r\nspring.datasource.password=123\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto=create\r\nspring.jpa.properties.hibernate.check_nullability=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.jdbc.batch_size=100\r\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false\r\n\r\n# Logging\r\nlogging.level.org.springframework.web=DEBUG\r\nlogging.level.org.springframework.boot.autoconfigure.web.reactive.error.AbstractErrorWebExceptionHandler=OFF\r\nlogging.level.org.springframework.web.HttpLogging=OFF\r\n\r\n```\r\n\r\nWithout the `@EnableJpaRepositories` annotation in `MyApplication.java`. I get the following error\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.domain.spring.example.model.Item\r\n```\r\n\r\nWithout the `@ComponenctScan` annotation in `MyApplication.java`. I get the following error\r\n```\r\nParameter 0 of constructor in com.domain.spring.example.service.ItemService required a bean of type &#39;com.domain.spring.example.respository.ItemRepository&#39; that could not be found.\r\n```\r\n\r\nIn addition, the `ddl-auto=create` property doesn&#39;t work as well.\r\nHow to fix it so that I can use the default Spring JPA without adding annotations?\r\n\r\n**Update**:\r\nI think there can be any problem somewhere that prevents Spring to correctly scan repositories, entities, and also routes. This simple route returns 404 when I hit GET `/v1/test`\r\n```\r\npackage com.domain.spring.example.controller;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport reactor.core.publisher.Mono;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/v1&quot;)\r\n@RequiredArgsConstructor\r\npublic class MyController {\r\n\r\n  @GetMapping(&quot;/test&quot;)\r\n  public Mono&lt;String&gt; test() {\r\n    return Mono.just(&quot;test&quot;);\r\n  }\r\n}\r\n\r\n```","title":"Spring Boot Entity and Repository Not Working Without Annotation","body":"<p>I read this stackoverflow post which says that we don't need to use <code>@EnableJpaRepository</code> or <code>@EntityScan</code>\n<a href=\"https://stackoverflow.com/questions/45730111/spring-data-repository-works-without-annotations\">Spring data repository works without annotations</a></p>\n<p>I'm not sure what's wrong. But my Spring Boot application is only able to start with <code>@EnableJpaRepository</code> and <code>@ComponentScan</code>.</p>\n<p><em>MyApplication.java</em></p>\n<pre><code>package com.domain.spring.example;\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@ComponentScan(&quot;com.domain.spring.example.repository&quot;)\n@EnableJpaRepositories(\n    basePackages = &quot;com.domain.spring.example.model&quot;,\n    entityManagerFactoryRef = &quot;entityManagerFactory&quot;\n)\npublic class MyApplication {\n\n  public static void main(String[] args) {\n    new SpringApplicationBuilder(MyApplication.class).run(args);\n  }\n}\n</code></pre>\n<p><em>Item.java</em></p>\n<pre><code>package com.domain.spring.example.model;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\nimport java.math.BigDecimal;\nimport java.util.UUID;\n\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.experimental.SuperBuilder;\nimport org.hibernate.annotations.GenericGenerator;\n\n@Entity\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@SuperBuilder\n@Table(name = &quot;items&quot;)\npublic class Item {\n\n  @Id\n  @GeneratedValue(generator = &quot;UUID&quot;)\n  @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n  private UUID id;\n\n  private String name;\n\n  private BigDecimal price;\n}\n\n</code></pre>\n<p><em>ItemRepository.java</em></p>\n<pre><code>package com.domain.spring.example.respository;\n\nimport com.domain.spring.example.model.Item;\nimport java.util.UUID;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface ItemRepository extends JpaRepository&lt;Item, UUID&gt; {\n\n}\n\n</code></pre>\n<p><em>ItemService.java</em></p>\n<pre><code>package com.domain.spring.example.service;\n\nimport com.domain.spring.example.respository.ItemRepository;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.stereotype.Service;\n\n@Service\n@RequiredArgsConstructor\npublic class ItemService {\n\n  private final ItemRepository itemRepository;\n\n\n}\n\n</code></pre>\n<p><em>build.gradle</em></p>\n<pre><code>plugins {\n    id 'java'\n    id 'io.spring.dependency-management' version '1.0.8.RELEASE'\n    id 'org.springframework.boot' version '2.6.4'\n}\n\ngroup 'com.domain'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\nconfigurations {\n    testIntegrationImplementation.extendsFrom implementation\n    testIntegrationRuntimeOnly.extendsFrom runtimeOnly\n}\n\ndependencies {\n\n    annotationProcessor group: 'org.hibernate', name: 'hibernate-jpamodelgen'\n    annotationProcessor group: 'org.projectlombok', name: 'lombok', version: '1.18.22'\n    testAnnotationProcessor group: 'org.projectlombok', name: 'lombok', version: '1.18.22'\n\n    implementation group: 'com.vladmihalcea', name: 'hibernate-types-52', version: '2.14.0'\n    implementation group: 'jakarta.persistence', name: 'jakarta.persistence-api', version: '3.1.0-RC2'\n    implementation group: 'javax.persistence', name: 'javax.persistence-api', version: '2.2'\n    implementation group: 'javax.validation', name: 'validation-api', version: '2.0.1.Final'\n    implementation group: 'org.hibernate', name: 'hibernate-core'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-actuator'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-webflux'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-validation'\n    implementation group: 'org.springframework.cloud', name: 'spring-cloud-starter-netflix-eureka-client', version: '3.1.1'\n//    implementation group: 'org.springframework.data', name: 'spring-data-jpa'\n    implementation group: 'org.springframework.data', name: 'spring-data-redis'\n    implementation group: 'org.projectlombok', name: 'lombok', version: '1.18.22'\n    implementation group: 'org.postgresql', name: 'postgresql'\n\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.9.0'\n    testImplementation group: 'org.springframework.boot', name: 'spring-boot-starter-test'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.9.0'\n\n    testIntegrationImplementation group: 'org.springframework.boot', name: 'spring-boot-starter-test'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><em>application.properties</em></p>\n<pre><code># Eureka\neureka.client.enabled=false\neureka.client.fetch-registry=true\neureka.client.register-with-eureka=true\neureka.client.service-url.defaultZone=http://localhost:4001/eureka/\neureka.instance.prefer-ip-address=true\n\nspring.datasource.platform=postgres\nspring.datasource.url=jdbc:postgresql://localhost/example\nspring.datasource.username=postgres\nspring.datasource.password=123\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.properties.hibernate.check_nullability=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.jdbc.batch_size=100\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false\n\n# Logging\nlogging.level.org.springframework.web=DEBUG\nlogging.level.org.springframework.boot.autoconfigure.web.reactive.error.AbstractErrorWebExceptionHandler=OFF\nlogging.level.org.springframework.web.HttpLogging=OFF\n\n</code></pre>\n<p>Without the <code>@EnableJpaRepositories</code> annotation in <code>MyApplication.java</code>. I get the following error</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Not a managed type: class com.domain.spring.example.model.Item\n</code></pre>\n<p>Without the <code>@ComponenctScan</code> annotation in <code>MyApplication.java</code>. I get the following error</p>\n<pre><code>Parameter 0 of constructor in com.domain.spring.example.service.ItemService required a bean of type 'com.domain.spring.example.respository.ItemRepository' that could not be found.\n</code></pre>\n<p>In addition, the <code>ddl-auto=create</code> property doesn't work as well.\nHow to fix it so that I can use the default Spring JPA without adding annotations?</p>\n<p><strong>Update</strong>:\nI think there can be any problem somewhere that prevents Spring to correctly scan repositories, entities, and also routes. This simple route returns 404 when I hit GET <code>/v1/test</code></p>\n<pre><code>package com.domain.spring.example.controller;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport reactor.core.publisher.Mono;\n\n@RestController\n@RequestMapping(&quot;/v1&quot;)\n@RequiredArgsConstructor\npublic class MyController {\n\n  @GetMapping(&quot;/test&quot;)\n  public Mono&lt;String&gt; test() {\n    return Mono.just(&quot;test&quot;);\n  }\n}\n\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1668943824,"post_id":74506611,"comment_id":131524388,"body_markdown":"Which container is producing the error?  (If you delete the Java container entirely, do you get the same error?)  Are there more `volumes:` attached to the database container that you haven&#39;t shown?","body":"Which container is producing the error?  (If you delete the Java container entirely, do you get the same error?)  Are there more <code>volumes:</code> attached to the database container that you haven&#39;t shown?"},{"owner":{"account_id":5284837,"reputation":40522,"user_id":9401096,"display_name":"Zeitounator"},"score":0,"creation_date":1668947662,"post_id":74506611,"comment_id":131525049,"body_markdown":"The error message is from your mysql container and I suspect you&#39;re not showing all your mounts/builds as this is impossible to reproduce on a stock mysql:8.0 container.","body":"The error message is from your mysql container and I suspect you&#39;re not showing all your mounts/builds as this is impossible to reproduce on a stock mysql:8.0 container."}],"answers":[{"tags":[],"owner":{"account_id":3563018,"reputation":303,"user_id":2975389,"accept_rate":7,"display_name":"Lakshitha Gihan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669270164,"creation_date":1669270164,"answer_id":74556307,"question_id":74506611,"body_markdown":"The problem is in my-sql image which is defined in the docker compose file. Change it to below mentioned image and it&#39;s working fine.\r\n\r\n    image: mysql/mysql-server:8.0.27","title":"Cannot access &#39;/docker-entrypoint-initdb.d/&#39;: Operation not permitted Spring Boot + My SQL + Docker","body":"<p>The problem is in my-sql image which is defined in the docker compose file. Change it to below mentioned image and it's working fine.</p>\n<pre><code>image: mysql/mysql-server:8.0.27\n</code></pre>\n"}],"owner":{"account_id":3563018,"reputation":303,"user_id":2975389,"accept_rate":7,"display_name":"Lakshitha Gihan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74556307,"answer_count":1,"score":1,"last_activity_date":1669270164,"creation_date":1668932630,"question_id":74506611,"body_markdown":"Below mentioned the docker-compos.yml file docker file.\r\n\r\n**docker-compose.yml**\r\n\r\n   \r\n\r\n     version: &quot;3.0&quot;\r\n     services:\r\n      api_service:\r\n        build: .\r\n        restart: always\r\n        ports:\r\n          - 8090:8090\r\n        depends_on:\r\n          - mysql_db\r\n        links:\r\n          - mysql_db:app_db\r\n      mysql_db:\r\n        image: &quot;mysql:8.0&quot;\r\n        restart: always\r\n        ports:\r\n          - 3306:3306\r\n        environment:\r\n          MYSQL_DATABASE: test_db\r\n          MYSQL_USER: user\r\n          MYSQL_PASSWORD: password\r\n          MYSQL_ROOT_PASSWORD: password\r\n\r\n**Dockerfile**\r\n\r\n    FROM openjdk:11\r\n    \r\n    EXPOSE 8090\r\n    \r\n    RUN mkdir app\r\n    \r\n    ADD target/test-service-composite-1.0.0.RELEASE.jar /app/test-service-composite.jar\r\n    \r\n    ADD config/application.yml /app/application.yml\r\n    \r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app/test-service-composite.jar&quot;,&quot;--spring.config.location=/app/application.yml&quot;]\r\n\r\n**application.yml**\r\n\r\n    app:\r\n      name: test-service\r\n    \r\n    server:\r\n      port: 8090\r\n    \r\n    spring:\r\n      datasource:\r\n        url: jdbc:mysql://app_db:3306/test_db\r\n        username: user\r\n        password: password\r\n        initialization-mode: always\r\n      jpa:\r\n        properties:\r\n          hibernate:\r\n            dialect: org.hibernate.dialect.MySQL8Dialect\r\n        hibernate:\r\n          ddl-auto: create\r\n\r\nWhen I execute the docker-compose up command and service is up without any error. But after start the service below message is appear.\r\n\r\n&gt; ls: cannot access &#39;/docker-entrypoint-initdb.d/&#39;: Operation not permitted\r\n\r\nWhen I execute the container, below error is appear.\r\n\r\n&gt; Error response from daemon: Container 11b14cdf51369878501c76085e8fd21316e8a7c26a3ff140196d8674b52c3262 is restarting, wait until the container is running\r\n\r\nI checked the docker log and same &#39;Operation not permitted&#39; issue is appeared.\r\n\r\nPlease help me to solve this issue. Any help or workaround is really appreciate.","title":"Cannot access &#39;/docker-entrypoint-initdb.d/&#39;: Operation not permitted Spring Boot + My SQL + Docker","body":"<p>Below mentioned the docker-compos.yml file docker file.</p>\n<p><strong>docker-compose.yml</strong></p>\n<pre><code> version: &quot;3.0&quot;\n services:\n  api_service:\n    build: .\n    restart: always\n    ports:\n      - 8090:8090\n    depends_on:\n      - mysql_db\n    links:\n      - mysql_db:app_db\n  mysql_db:\n    image: &quot;mysql:8.0&quot;\n    restart: always\n    ports:\n      - 3306:3306\n    environment:\n      MYSQL_DATABASE: test_db\n      MYSQL_USER: user\n      MYSQL_PASSWORD: password\n      MYSQL_ROOT_PASSWORD: password\n</code></pre>\n<p><strong>Dockerfile</strong></p>\n<pre><code>FROM openjdk:11\n\nEXPOSE 8090\n\nRUN mkdir app\n\nADD target/test-service-composite-1.0.0.RELEASE.jar /app/test-service-composite.jar\n\nADD config/application.yml /app/application.yml\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app/test-service-composite.jar&quot;,&quot;--spring.config.location=/app/application.yml&quot;]\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre><code>app:\n  name: test-service\n\nserver:\n  port: 8090\n\nspring:\n  datasource:\n    url: jdbc:mysql://app_db:3306/test_db\n    username: user\n    password: password\n    initialization-mode: always\n  jpa:\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL8Dialect\n    hibernate:\n      ddl-auto: create\n</code></pre>\n<p>When I execute the docker-compose up command and service is up without any error. But after start the service below message is appear.</p>\n<blockquote>\n<p>ls: cannot access '/docker-entrypoint-initdb.d/': Operation not permitted</p>\n</blockquote>\n<p>When I execute the container, below error is appear.</p>\n<blockquote>\n<p>Error response from daemon: Container 11b14cdf51369878501c76085e8fd21316e8a7c26a3ff140196d8674b52c3262 is restarting, wait until the container is running</p>\n</blockquote>\n<p>I checked the docker log and same 'Operation not permitted' issue is appeared.</p>\n<p>Please help me to solve this issue. Any help or workaround is really appreciate.</p>\n"},{"tags":["java","mysql","sql","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1669052771,"post_id":74522900,"comment_id":131550634,"body_markdown":"Please read full answer as I have clearly mentioned there","body":"Please read full answer as I have clearly mentioned there"},{"owner":{"account_id":26972759,"reputation":33,"user_id":20538516,"display_name":"Tony"},"score":1,"creation_date":1669053054,"post_id":74522900,"comment_id":131550732,"body_markdown":"thank you, this will be our last resort if we will not be able to fix the issue since this is only for school project. I tried and it works, thank you.","body":"thank you, this will be our last resort if we will not be able to fix the issue since this is only for school project. I tried and it works, thank you."},{"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1669053187,"post_id":74522900,"comment_id":131550761,"body_markdown":"Thanks Tony, but have a look at prepared statements in java.","body":"Thanks Tony, but have a look at prepared statements in java."}],"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1669052496,"creation_date":1669052496,"answer_id":74522900,"question_id":74522789,"body_markdown":"You can pass the I&#39;d parameter like below as this is very basic.\r\n\r\n    String sql = &quot;DELETE FROM user_interests WHERE user_id = &quot; + id\r\n\r\nThis will work fine but it has a risk of SQL injection so you should set the parameters using prepared statements.","title":"How to pass a parameter in SQL statement in Springboot","body":"<p>You can pass the I'd parameter like below as this is very basic.</p>\n<pre><code>String sql = &quot;DELETE FROM user_interests WHERE user_id = &quot; + id\n</code></pre>\n<p>This will work fine but it has a risk of SQL injection so you should set the parameters using prepared statements.</p>\n"},{"tags":[],"owner":{"account_id":14305319,"reputation":1,"user_id":10333428,"display_name":"Nirmit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669269731,"creation_date":1669269731,"answer_id":74556240,"question_id":74522789,"body_markdown":"    String sql = &quot;DELETE FROM user_interests WHERE user_id = &#39;&quot;+parameterName+&quot;&#39;&quot;;\r\n\r\nYou can pass the parameter in sql query like this","title":"How to pass a parameter in SQL statement in Springboot","body":"<pre><code>String sql = &quot;DELETE FROM user_interests WHERE user_id = '&quot;+parameterName+&quot;'&quot;;\n</code></pre>\n<p>You can pass the parameter in sql query like this</p>\n"}],"owner":{"account_id":26972759,"reputation":33,"user_id":20538516,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74522900,"answer_count":2,"score":2,"last_activity_date":1669269731,"creation_date":1669051936,"question_id":74522789,"body_markdown":"I have this code snippet which will delete all rows in the `user_interests` table. I have a parameter of `int id` which is user id. I want to pass this parameter to my SQL statement. I have tried using `&quot;.... user_id = @id&quot;` but it wont work when I run it on Postman. I also tried using static value for is `&quot;... user_id = 1&quot;` and it is working fine.\r\n```\r\npublic boolean deleteInterest(int id) {\r\n\t\tboolean isDeleted = false;\r\n\t\tString sql = &quot;DELETE FROM user_interests WHERE user_id = @id&quot; ;\r\n\t\t\r\n\t\tif(userRepository.findById(id) != null) {\r\n\t\t\tdbTemplate.execute(sql);\r\n\t\t\tisDeleted = true;\r\n\t\t}\r\n\t\t\r\n\t\treturn isDeleted;\r\n\t}\r\n```\r\n\r\n\r\nHow can I pass the id parameter to my sql statement?","title":"How to pass a parameter in SQL statement in Springboot","body":"<p>I have this code snippet which will delete all rows in the <code>user_interests</code> table. I have a parameter of <code>int id</code> which is user id. I want to pass this parameter to my SQL statement. I have tried using <code>&quot;.... user_id = @id&quot;</code> but it wont work when I run it on Postman. I also tried using static value for is <code>&quot;... user_id = 1&quot;</code> and it is working fine.</p>\n<pre><code>public boolean deleteInterest(int id) {\n        boolean isDeleted = false;\n        String sql = &quot;DELETE FROM user_interests WHERE user_id = @id&quot; ;\n        \n        if(userRepository.findById(id) != null) {\n            dbTemplate.execute(sql);\n            isDeleted = true;\n        }\n        \n        return isDeleted;\n    }\n</code></pre>\n<p>How can I pass the id parameter to my sql statement?</p>\n"},{"tags":["java","google-play-services","javac",".class-file"],"answers":[{"tags":[],"owner":{"account_id":27029506,"reputation":1,"user_id":20586125,"display_name":"Alexander Jenkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669265566,"creation_date":1669265566,"answer_id":74555774,"question_id":74554385,"body_markdown":"I found a work around - I built the android project using the .java class and grabbed the .class files from **app\\build\\intermediates\\javac\\debug\\classes\\module-name**, and used those to create my .jar file.","title":"&#39;package does not exist&#39; using javac to convert .java class with google play services imports","body":"<p>I found a work around - I built the android project using the .java class and grabbed the .class files from <strong>app\\build\\intermediates\\javac\\debug\\classes\\module-name</strong>, and used those to create my .jar file.</p>\n"}],"owner":{"account_id":27029506,"reputation":1,"user_id":20586125,"display_name":"Alexander Jenkins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669269476,"creation_date":1669249835,"question_id":74554385,"body_markdown":"I have a .java class which uses imports from google play services. I want to put this class in a .jar to package with my project, but using `javac filename.java` in the terminal gives me a bunch of errors e.g.\r\n\r\n`androidSCAR.java:3: error: package android.content does not exist\r\nimport android.content.Context;`\r\n\r\nHow do I include these imports while creating a .class?\r\n\r\nThe .java file is in an android studio project which all works fine\r\n\r\nminimal example code:\r\n\r\nmyClass.java file:\r\n```\r\nimport android.content.Context;\r\n\r\npublic class myClass\r\n{\r\n\r\nprivate static Context context;\r\n\r\n}\r\n\r\n```\r\n\r\nRun `javac myClass.java` in terminal\r\n\r\nResults:\r\n```\r\ntest.java:1: error: package android.content does not exist\r\nimport android.content.Context;\r\n                      ^\r\ntest.java:6: error: cannot find symbol\r\nprivate static Context context;\r\n               ^\r\n  symbol:   class Context\r\n  location: class myClass\r\n```\r\n\r\n","title":"&#39;package does not exist&#39; using javac to convert .java class with google play services imports","body":"<p>I have a .java class which uses imports from google play services. I want to put this class in a .jar to package with my project, but using <code>javac filename.java</code> in the terminal gives me a bunch of errors e.g.</p>\n<p><code>androidSCAR.java:3: error: package android.content does not exist import android.content.Context;</code></p>\n<p>How do I include these imports while creating a .class?</p>\n<p>The .java file is in an android studio project which all works fine</p>\n<p>minimal example code:</p>\n<p>myClass.java file:</p>\n<pre><code>import android.content.Context;\n\npublic class myClass\n{\n\nprivate static Context context;\n\n}\n\n</code></pre>\n<p>Run <code>javac myClass.java</code> in terminal</p>\n<p>Results:</p>\n<pre><code>test.java:1: error: package android.content does not exist\nimport android.content.Context;\n                      ^\ntest.java:6: error: cannot find symbol\nprivate static Context context;\n               ^\n  symbol:   class Context\n  location: class myClass\n</code></pre>\n"},{"tags":["java","intellij-idea","resources"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1669292685,"post_id":74548294,"comment_id":131614523,"body_markdown":"You best option would be to set up the complete application to use Gradle and configure dependencies using Gradle as project dependencies. Since build the library module by Gradle but build and run the application not using Gradle - it uses different paths for resources.","body":"You best option would be to set up the complete application to use Gradle and configure dependencies using Gradle as project dependencies. Since build the library module by Gradle but build and run the application not using Gradle - it uses different paths for resources."}],"answers":[{"comments":[{"owner":{"account_id":27024879,"reputation":1,"user_id":20582307,"display_name":"wafl22"},"score":0,"creation_date":1669269638,"post_id":74551340,"comment_id":131607242,"body_markdown":"Actually I want to achieve this using Intellij IDEA, and in the run configuration I could manually add the path to the resource to CP, but then I&#39;m not able to share with others bc it&#39;s stored as an absolute Path :(","body":"Actually I want to achieve this using Intellij IDEA, and in the run configuration I could manually add the path to the resource to CP, but then I&#39;m not able to share with others bc it&#39;s stored as an absolute Path :("}],"tags":[],"owner":{"account_id":5066911,"reputation":1131,"user_id":4066802,"display_name":"lprakashv"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669227128,"creation_date":1669227128,"answer_id":74551340,"question_id":74548294,"body_markdown":"If the parent application which uses your library (which requires some resource files) is a non-gradle/non-maven project being built/compiled/run using plain java commands.\r\n\r\nYou can try to supply the resource folder externally as a classpath (using `-cp` option) in the `java` commands\r\n\r\n```bash\r\njava -cp /path/to/resource application.jar\r\n```\r\n\r\nAnother option would be to ask for the resource file explicitly in the library APIs (methods, class constructors etc.) which needed to be supplied by the user of the library (parent application). This will eliminate runtime crashes on missing files at a pre-defined path.","title":"Intellij resource not found from Gradle Project","body":"<p>If the parent application which uses your library (which requires some resource files) is a non-gradle/non-maven project being built/compiled/run using plain java commands.</p>\n<p>You can try to supply the resource folder externally as a classpath (using <code>-cp</code> option) in the <code>java</code> commands</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -cp /path/to/resource application.jar\n</code></pre>\n<p>Another option would be to ask for the resource file explicitly in the library APIs (methods, class constructors etc.) which needed to be supplied by the user of the library (parent application). This will eliminate runtime crashes on missing files at a pre-defined path.</p>\n"}],"owner":{"account_id":27024879,"reputation":1,"user_id":20582307,"display_name":"wafl22"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669269458,"creation_date":1669213255,"question_id":74548294,"body_markdown":"I&#39;m having a library (which is built with Gradle 7.4) with a structure like this:\r\n\r\n```\r\n|\r\n|- src\r\n| -  main\r\n| - - java\r\n| - - resources\r\n```\r\nIn this library, I have a class which loads a resource file like this:\r\n\r\n    var resource=this.getClass().getResource(&quot;sample.properties&quot;);\r\n\r\nMy sample.properties file is placed under src/main/resources\r\n\r\nWhen building the library, Gradle is placing the compiled classes under build/classes/java/main and resources under build/resources/main.\r\n\r\nNow, I have a Application, which is a non-Gradle project and has a module dependency to my Library.\r\nMy Application uses the Library, which then loads the resource file.\r\nNow, when I run my Application, the debugger states that it looks for the resource file under build/classes/java/main/mypackage/sample.properties.\r\n\r\nBut, as stated before, the resource is under build/resources/main.  \r\nThe resource afterwards is null.  \r\n**My Question:** How can my Library load my resource file accordingly?\r\n\r\n**Update 24.11:** I forgot to mention that this worked with Eclipse (because it copies classes and resources to the same dir) but not with Intellij and now I&#39;m trying to fix this with Intellij IDEA.","title":"Intellij resource not found from Gradle Project","body":"<p>I'm having a library (which is built with Gradle 7.4) with a structure like this:</p>\n<pre><code>|\n|- src\n| -  main\n| - - java\n| - - resources\n</code></pre>\n<p>In this library, I have a class which loads a resource file like this:</p>\n<pre><code>var resource=this.getClass().getResource(&quot;sample.properties&quot;);\n</code></pre>\n<p>My sample.properties file is placed under src/main/resources</p>\n<p>When building the library, Gradle is placing the compiled classes under build/classes/java/main and resources under build/resources/main.</p>\n<p>Now, I have a Application, which is a non-Gradle project and has a module dependency to my Library.\nMy Application uses the Library, which then loads the resource file.\nNow, when I run my Application, the debugger states that it looks for the resource file under build/classes/java/main/mypackage/sample.properties.</p>\n<p>But, as stated before, the resource is under build/resources/main.<br />\nThe resource afterwards is null.<br />\n<strong>My Question:</strong> How can my Library load my resource file accordingly?</p>\n<p><strong>Update 24.11:</strong> I forgot to mention that this worked with Eclipse (because it copies classes and resources to the same dir) but not with Intellij and now I'm trying to fix this with Intellij IDEA.</p>\n"},{"tags":["java","spring","spring-boot","logging","logback"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1669270397,"post_id":74556198,"comment_id":131607393,"body_markdown":"Not unless you have a specific logger for that. It is not so much you set logging for a class orp ackage that is a result of the class/package being part of the logger category. The category can be anything.","body":"Not unless you have a specific logger for that. It is not so much you set logging for a class orp ackage that is a result of the class/package being part of the logger category. The category can be anything."},{"owner":{"account_id":12570681,"reputation":161,"user_id":9144876,"display_name":"Zhili"},"score":0,"creation_date":1669272200,"post_id":74556198,"comment_id":131607795,"body_markdown":"May be you can design your own appender implementation, and config it in your logback.xml.","body":"May be you can design your own appender implementation, and config it in your logback.xml."}],"owner":{"account_id":8284765,"reputation":158,"user_id":6228210,"display_name":"Richard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669269436,"creation_date":1669269436,"question_id":74556198,"body_markdown":"We can set logging level for specific class or package in Spring boot in properties file like this:\r\n\r\n\r\n```\r\nlogging.level.com.alibaba.druid=info\r\n\r\n```\r\n\r\nbut is it possible for us to set logging level for specific method?\r\n\r\nI searched around but couldn&#39;t find much useful information.\r\n\r\n\r\nI would expect a configuration work like this:\r\n```\r\nlogging.level.com.alibaba.druid.className#methodName=info\r\n\r\n```\r\n","title":"Spring boot: Set logging level for specific method in specific class","body":"<p>We can set logging level for specific class or package in Spring boot in properties file like this:</p>\n<pre><code>logging.level.com.alibaba.druid=info\n\n</code></pre>\n<p>but is it possible for us to set logging level for specific method?</p>\n<p>I searched around but couldn't find much useful information.</p>\n<p>I would expect a configuration work like this:</p>\n<pre><code>logging.level.com.alibaba.druid.className#methodName=info\n\n</code></pre>\n"},{"tags":["java","multithreading","asynchronous"],"comments":[{"owner":{"account_id":3596675,"reputation":3616,"user_id":3001150,"accept_rate":57,"display_name":"Raildex"},"score":3,"creation_date":1626970598,"post_id":68488172,"comment_id":121039675,"body_markdown":"There is `CompletableFuture::anyOf` https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#anyOf-java.util.concurrent.CompletableFuture...-","body":"There is <code>CompletableFuture::anyOf</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#anyOf-java.util.concurrent.CompletableFuture...-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a>"},{"owner":{"account_id":10076264,"reputation":1,"user_id":7448285,"display_name":"Rayan"},"score":0,"creation_date":1626982711,"post_id":68488172,"comment_id":121043690,"body_markdown":"Thanks, that seems valid!","body":"Thanks, that seems valid!"}],"answers":[{"tags":[],"owner":{"account_id":14924122,"reputation":1,"user_id":10775528,"display_name":"Prethiv .N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669269404,"creation_date":1669269365,"answer_id":74556190,"question_id":68488172,"body_markdown":"    import java.util.concurrent.*;\r\n\r\nclass HelloWorld {\r\n\r\n    public static String awaitRace(CompletableFuture&lt;String&gt; promise1,CompletableFuture&lt;String&gt; promise2)throws Exception{\r\n\r\n        while(true){\r\n\r\n            if(promise1.isDone()){\r\n\r\n                promise2.cancel(true);\r\n\r\n                return promise1.get();\r\n\r\n            }\r\n\r\n            if(promise2.isDone()){\r\n\r\n                promise1.cancel(true);\r\n\r\n                return promise2.get();\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n       \r\n\r\n        \r\n\r\n        CompletableFuture&lt;String&gt; promise1 = new CompletableFuture&lt;String&gt;();\r\n\r\n       \r\n\r\n        promise1 = promise1.supplyAsync(()-&gt;{\r\n\r\n          \r\n\r\n           for(int i=0;i&lt;100;i++){\r\n\r\n               System.out.print(&quot;HEAVY_1&quot;);\r\n\r\n           }\r\n\r\n          \r\n\r\n           return &quot;Result1&quot;;\r\n\r\n        });\r\n\r\n       \r\n\r\n        CompletableFuture&lt;String&gt; promise2 = new CompletableFuture&lt;String&gt;();\r\n\r\n       \r\n\r\n        promise2 = promise2.supplyAsync(()-&gt;{\r\n\r\n            for(int i=0;i&lt;100;i++){\r\n\r\n              System.out.print(&quot;HEAVY_2&quot;);\r\n\r\n           }\r\n\r\n          \r\n\r\n           return &quot;Result2&quot;;\r\n\r\n        });\r\n\r\n        try{\r\n\r\n        String result = awaitRace(promise1,promise2);\r\n\r\n        System.out.println(&quot;First Completed  :&quot;+result);\r\n\r\n        }\r\n\r\n        catch(Exception e){\r\n\r\n            System.out.println(e);\r\n\r\n        }\r\n\r\n       \r\n\r\n        \r\n\r\n        System.out.println(&quot;Hello, World!&quot;);\r\n\r\n    }\r\n\r\nThis is my own implementation apart from this we have anyOf from completable future itself","title":"Is there an equivalent to Promise.race() in Java?","body":"<pre><code>import java.util.concurrent.*;\n</code></pre>\n<p>class HelloWorld {</p>\n<pre><code>public static String awaitRace(CompletableFuture&lt;String&gt; promise1,CompletableFuture&lt;String&gt; promise2)throws Exception{\n\n    while(true){\n\n        if(promise1.isDone()){\n\n            promise2.cancel(true);\n\n            return promise1.get();\n\n        }\n\n        if(promise2.isDone()){\n\n            promise1.cancel(true);\n\n            return promise2.get();\n\n        }\n\n    }\n\n}\n\npublic static void main(String[] args) {\n\n   \n\n    \n\n    CompletableFuture&lt;String&gt; promise1 = new CompletableFuture&lt;String&gt;();\n\n   \n\n    promise1 = promise1.supplyAsync(()-&gt;{\n\n      \n\n       for(int i=0;i&lt;100;i++){\n\n           System.out.print(&quot;HEAVY_1&quot;);\n\n       }\n\n      \n\n       return &quot;Result1&quot;;\n\n    });\n\n   \n\n    CompletableFuture&lt;String&gt; promise2 = new CompletableFuture&lt;String&gt;();\n\n   \n\n    promise2 = promise2.supplyAsync(()-&gt;{\n\n        for(int i=0;i&lt;100;i++){\n\n          System.out.print(&quot;HEAVY_2&quot;);\n\n       }\n\n      \n\n       return &quot;Result2&quot;;\n\n    });\n\n    try{\n\n    String result = awaitRace(promise1,promise2);\n\n    System.out.println(&quot;First Completed  :&quot;+result);\n\n    }\n\n    catch(Exception e){\n\n        System.out.println(e);\n\n    }\n\n   \n\n    \n\n    System.out.println(&quot;Hello, World!&quot;);\n\n}\n</code></pre>\n<p>This is my own implementation apart from this we have anyOf from completable future itself</p>\n"}],"owner":{"account_id":10076264,"reputation":1,"user_id":7448285,"display_name":"Rayan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669269404,"creation_date":1626970278,"question_id":68488172,"body_markdown":"I&#39;m facing this problem where I want to run two functions at once, use the result of whichever one that completes first, and discard the other one immediately. \r\n\r\nWhat would the best practice be to accomplish this in Java?","title":"Is there an equivalent to Promise.race() in Java?","body":"<p>I'm facing this problem where I want to run two functions at once, use the result of whichever one that completes first, and discard the other one immediately.</p>\n<p>What would the best practice be to accomplish this in Java?</p>\n"},{"tags":["java","visual-studio-code","javaimports"],"answers":[{"comments":[{"owner":{"account_id":22063671,"reputation":21,"user_id":16325891,"display_name":"Abhisek Pandey"},"score":0,"creation_date":1669206905,"post_id":74546699,"comment_id":131591202,"body_markdown":"these are .class file that  have defined methods and i need then to use as other class that have been defined by user so that when the application is deployed they dont have to do any change just run the application","body":"these are .class file that  have defined methods and i need then to use as other class that have been defined by user so that when the application is deployed they dont have to do any change just run the application"}],"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669206018,"creation_date":1669206018,"answer_id":74546699,"question_id":74546563,"body_markdown":"Putting the libraries in your current working directory does not work for Java, you need to add them to the classpath.\r\n\r\nIf you&#39;re using maven, that manages the classpath for you.\r\n\r\nIf not, you can manage it in VS Code by executing the **Java: Configure Classpath** command from the Command Palette (Ctrl+Shift+P).","title":"VS Code - The import &quot;#####&quot; cannot be resolved","body":"<p>Putting the libraries in your current working directory does not work for Java, you need to add them to the classpath.</p>\n<p>If you're using maven, that manages the classpath for you.</p>\n<p>If not, you can manage it in VS Code by executing the <strong>Java: Configure Classpath</strong> command from the Command Palette (Ctrl+Shift+P).</p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669269113,"creation_date":1669269113,"answer_id":74556153,"question_id":74546563,"body_markdown":"You can add dependencies via *Referenced libraries* under the **JAVA PROJECTS** panel.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOr use `java.project.referencedLibraries` setting in **settings.json**.\r\n\r\n*For example:*\r\n\r\n```json\r\n&quot;java.project.referencedLibraries&quot;: [\r\n    &quot;library/**/*.jar&quot;,\r\n    &quot;/home/username/lib/foo.jar&quot;\r\n]\r\n```\r\nDetails can be found in [configure-classpath][2] and [manage-dependencies][3].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UVV7v.png\r\n  [2]: https://code.visualstudio.com/docs/java/java-project#_configure-classpath-for-unmanaged-folders\r\n  [3]: https://code.visualstudio.com/docs/java/java-project#_manage-dependencies-for-unmanaged-folder","title":"VS Code - The import &quot;#####&quot; cannot be resolved","body":"<p>You can add dependencies via <em>Referenced libraries</em> under the <strong>JAVA PROJECTS</strong> panel.</p>\n<p><a href=\"https://i.stack.imgur.com/UVV7v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UVV7v.png\" alt=\"enter image description here\" /></a></p>\n<p>Or use <code>java.project.referencedLibraries</code> setting in <strong>settings.json</strong>.</p>\n<p><em>For example:</em></p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.project.referencedLibraries&quot;: [\n    &quot;library/**/*.jar&quot;,\n    &quot;/home/username/lib/foo.jar&quot;\n]\n</code></pre>\n<p>Details can be found in <a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-classpath-for-unmanaged-folders\" rel=\"nofollow noreferrer\">configure-classpath</a> and <a href=\"https://code.visualstudio.com/docs/java/java-project#_manage-dependencies-for-unmanaged-folder\" rel=\"nofollow noreferrer\">manage-dependencies</a>.</p>\n"}],"owner":{"account_id":22063671,"reputation":21,"user_id":16325891,"display_name":"Abhisek Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1537,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669269113,"creation_date":1669205355,"question_id":74546563,"body_markdown":"So, i am running a java project which have many library that are available in the current working directory but VS code seems to not recognize these library and giving out error &quot;The import ###### cannot be resolved&quot; ex: The import org.apache.pdfbox.pdmodel.PDDocument cannot be resolved&quot;\r\n\r\nhere is the image that might help you to know more about it\r\n[This is the package that i am working on :](https://i.stack.imgur.com/ki9O3.png)\r\nHere the org/apache is the library contain the class file that are need to be imported and FileArrangement.java is the file having the import statements\r\n\r\n[Error i have been receiving](https://i.stack.imgur.com/TSkTX.png)\r\nthis is what VS code is been showing \r\n\r\ni really need your help because i really don&#39;t have any idea how to correct this\r\n\r\nI have checked other projects and they are also showing the same result although the import statements for java classes like . java.util.ArrayList doesn&#39;t show any kind of error and i have tried to clean java in VS code it also didn&#39;t work\r\n\r\ni just need to correct this error of VS code to import the classes that i need \r\n[No error on java.util package](https://i.stack.imgur.com/0FgMA.png)","title":"VS Code - The import &quot;#####&quot; cannot be resolved","body":"<p>So, i am running a java project which have many library that are available in the current working directory but VS code seems to not recognize these library and giving out error &quot;The import ###### cannot be resolved&quot; ex: The import org.apache.pdfbox.pdmodel.PDDocument cannot be resolved&quot;</p>\n<p>here is the image that might help you to know more about it\n<a href=\"https://i.stack.imgur.com/ki9O3.png\" rel=\"nofollow noreferrer\">This is the package that i am working on :</a>\nHere the org/apache is the library contain the class file that are need to be imported and FileArrangement.java is the file having the import statements</p>\n<p><a href=\"https://i.stack.imgur.com/TSkTX.png\" rel=\"nofollow noreferrer\">Error i have been receiving</a>\nthis is what VS code is been showing</p>\n<p>i really need your help because i really don't have any idea how to correct this</p>\n<p>I have checked other projects and they are also showing the same result although the import statements for java classes like . java.util.ArrayList doesn't show any kind of error and i have tried to clean java in VS code it also didn't work</p>\n<p>i just need to correct this error of VS code to import the classes that i need\n<a href=\"https://i.stack.imgur.com/0FgMA.png\" rel=\"nofollow noreferrer\">No error on java.util package</a></p>\n"},{"tags":["java","android","datepicker","date-range"],"owner":{"account_id":6336030,"reputation":2246,"user_id":4919402,"accept_rate":24,"display_name":"kartheeki j"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669269014,"creation_date":1669269014,"question_id":74556146,"body_markdown":"I am using dateRangePicker but I am facing the below error when I click.\r\n \r\n\r\n    android.view.InflateException: Binary XML file line #23 in com.dev:layout/mtrl_picker_dialog: Binary XML file line #17 in com.dev:layout/mtrl_picker_header_title_text: Error inflating class TextView\r\n        Caused by: android.view.InflateException: Binary XML file line #17 in com.dev:layout/mtrl_picker_header_title_text: Error inflating class TextView\r\n        Caused by: java.lang.UnsupportedOperationException: Failed to resolve attribute at index 5: TypedValue{t=0x2/d=0x7f0400bd a=6}\r\n            at android.content.res.TypedArray.getColorStateList(TypedArray.java:596)\r\n            at android.widget.TextView.readTextAppearance(TextView.java:3961)\r\n            at android.widget.TextView.&lt;init&gt;(TextView.java:1064)\r\n            at android.widget.TextView.&lt;init&gt;(TextView.java:968)\r\n            at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:100)\r\n            at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:95)\r\n            at androidx.appcompat.app.AppCompatViewInflater.createTextView(AppCompatViewInflater.java:194)\r\n            at androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:115)\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.createView(AppCompatDelegateImpl.java:1551)\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.onCreateView(AppCompatDelegateImpl.java:1602)\r\n            at android.view.LayoutInflater$FactoryMerger.onCreateView(LayoutInflater.java:242)\r\n            at android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1061)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:997)\r\n            at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1233)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:1119)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:1126)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:1126)\r\n            at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1231)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:1119)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:682)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:534)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:481)\r\n            at com.google.android.material.datepicker.MaterialDatePicker.onCreateView(MaterialDatePicker.java:209)\r\n            at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2963)\r\n            at androidx.fragment.app.DialogFragment.performCreateView(DialogFragment.java:489)\r\n            at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:518)\r\n            at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\r\n            at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\r\n            at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2100)\r\n            at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:2002)\r\n            at androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:524)\r\n            at android.os.Handler.handleCallback(Handler.java:883)\r\n            at android.os.Handler.dispatchMessage(Handler.java:100)\r\n            at android.os.Looper.loop(Looper.java:214)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n\r\nonclick:\r\n\r\n     MaterialDatePicker.Builder&lt;Pair&lt;Long, Long&gt;&gt; builder = MaterialDatePicker.Builder.dateRangePicker();\r\n    \r\n                    CalendarConstraints.Builder constraintsBuilder = new CalendarConstraints.Builder();\r\n                    builder.setCalendarConstraints(constraintsBuilder.build());\r\n    \r\n                    MaterialDatePicker&lt;?&gt; picker = builder.build();\r\n    \r\n                    picker.show(getFragmentManager(), picker.toString());\r\n\r\nadded in AppTheme:\r\n\r\n     &lt;item name=&quot;materialCalendarStyle&quot;&gt;@style/Widget.MaterialComponents.MaterialCalendar&lt;/item&gt;\r\n            &lt;item name=&quot;materialCalendarFullscreenTheme&quot;&gt;@style/ThemeOverlay.MaterialComponents.MaterialCalendar.Fullscreen&lt;/item&gt;\r\n            &lt;item name=&quot;materialCalendarTheme&quot;&gt;@style/ThemeOverlay.MaterialComponents.MaterialCalendar&lt;/item&gt;\r\n            &lt;item name=&quot;colorSurface&quot;&gt;#FFFFFF&lt;/item&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"java.lang.UnsupportedOperationException: Failed to resolve attribute at index 5 daterangepicker android","body":"<p>I am using dateRangePicker but I am facing the below error when I click.</p>\n<pre><code>android.view.InflateException: Binary XML file line #23 in com.dev:layout/mtrl_picker_dialog: Binary XML file line #17 in com.dev:layout/mtrl_picker_header_title_text: Error inflating class TextView\n    Caused by: android.view.InflateException: Binary XML file line #17 in com.dev:layout/mtrl_picker_header_title_text: Error inflating class TextView\n    Caused by: java.lang.UnsupportedOperationException: Failed to resolve attribute at index 5: TypedValue{t=0x2/d=0x7f0400bd a=6}\n        at android.content.res.TypedArray.getColorStateList(TypedArray.java:596)\n        at android.widget.TextView.readTextAppearance(TextView.java:3961)\n        at android.widget.TextView.&lt;init&gt;(TextView.java:1064)\n        at android.widget.TextView.&lt;init&gt;(TextView.java:968)\n        at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:100)\n        at androidx.appcompat.widget.AppCompatTextView.&lt;init&gt;(AppCompatTextView.java:95)\n        at androidx.appcompat.app.AppCompatViewInflater.createTextView(AppCompatViewInflater.java:194)\n        at androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:115)\n        at androidx.appcompat.app.AppCompatDelegateImpl.createView(AppCompatDelegateImpl.java:1551)\n        at androidx.appcompat.app.AppCompatDelegateImpl.onCreateView(AppCompatDelegateImpl.java:1602)\n        at android.view.LayoutInflater$FactoryMerger.onCreateView(LayoutInflater.java:242)\n        at android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1061)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:997)\n        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1233)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1119)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1126)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1126)\n        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1231)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1119)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1084)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:682)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:534)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:481)\n        at com.google.android.material.datepicker.MaterialDatePicker.onCreateView(MaterialDatePicker.java:209)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2963)\n        at androidx.fragment.app.DialogFragment.performCreateView(DialogFragment.java:489)\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:518)\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2100)\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:2002)\n        at androidx.fragment.app.FragmentManager$5.run(FragmentManager.java:524)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n<p>onclick:</p>\n<pre><code> MaterialDatePicker.Builder&lt;Pair&lt;Long, Long&gt;&gt; builder = MaterialDatePicker.Builder.dateRangePicker();\n\n                CalendarConstraints.Builder constraintsBuilder = new CalendarConstraints.Builder();\n                builder.setCalendarConstraints(constraintsBuilder.build());\n\n                MaterialDatePicker&lt;?&gt; picker = builder.build();\n\n                picker.show(getFragmentManager(), picker.toString());\n</code></pre>\n<p>added in AppTheme:</p>\n<pre><code> &lt;item name=&quot;materialCalendarStyle&quot;&gt;@style/Widget.MaterialComponents.MaterialCalendar&lt;/item&gt;\n        &lt;item name=&quot;materialCalendarFullscreenTheme&quot;&gt;@style/ThemeOverlay.MaterialComponents.MaterialCalendar.Fullscreen&lt;/item&gt;\n        &lt;item name=&quot;materialCalendarTheme&quot;&gt;@style/ThemeOverlay.MaterialComponents.MaterialCalendar&lt;/item&gt;\n        &lt;item name=&quot;colorSurface&quot;&gt;#FFFFFF&lt;/item&gt;\n</code></pre>\n"},{"tags":["java","android","navigation-drawer"],"answers":[{"tags":[],"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1579136645,"creation_date":1579136645,"answer_id":59761704,"question_id":59761473,"body_markdown":"The line\r\n\r\n    NavigationUI.setupWithNavController(navigationView, navController);\r\n\r\nCalls `setNavigationItemSelectedListener` internally to connect destinations to menu items (i.e., when you click on the `R.id.nav_settings` MenuItem, it&#39;ll replace the Fragment in your NavHostFragment with the one with `android:id=&quot;@+id/nav_settings&quot;` set). This listener overrides the `OnNavigationItemSelectedListener` view you&#39;ve set, which is why your custom logic doesn&#39;t run.\r\n\r\nIf you want to combine both sets of functionality together, you need to call `navigationView.setNavigationItemSelectedListener(this);` **after** `setupWithNavController` and trigger the default behavior with [`NavigationUI.onNavDestinationSelected()`][1]:\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_driver_home);\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        DrawerLayout drawer = findViewById(R.id.drawer_layout);\r\n        NavigationView navigationView = findViewById(R.id.nav_view);\r\n        // Passing each menu ID as a set of Ids because each\r\n        // menu should be considered as top level destinations.\r\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\r\n                R.id.nav_home, R.id.nav_history, R.id.nav_settings,\r\n                R.id.nav_help, R.id.nav_signout)\r\n                .setDrawerLayout(drawer)\r\n                .build();\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n        NavigationUI.setupWithNavController(navigationView, navController);\r\n        // This line needs to be after setupWithNavController()\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n        switch (menuItem.getItemId()){\r\n            case R.id.nav_history:\r\n                Toast.makeText(this, &quot;fsdfuxc&quot;, Toast.LENGTH_LONG).show();\r\n                break;\r\n            case R.id.nav_signout:\r\n                signOut();\r\n                break;\r\n            default:\r\n                // Trigger the default action of replacing the current\r\n                // screen with the one matching the MenuItem&#39;s ID\r\n                NavigationUI.onNavDestinationSelected(menuItem, navController);\r\n        }\r\n\r\n        DrawerLayout drawer = (DrawerLayout)findViewById(R.id.drawer_layout);\r\n        drawer.closeDrawer(GravityCompat.START);\r\n        return true;\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/navigation/ui/NavigationUI.html#onNavDestinationSelected(android.view.MenuItem,%20androidx.navigation.NavController)","title":"Navigation view items will not respond when pressed","body":"<p>The line</p>\n\n<pre><code>NavigationUI.setupWithNavController(navigationView, navController);\n</code></pre>\n\n<p>Calls <code>setNavigationItemSelectedListener</code> internally to connect destinations to menu items (i.e., when you click on the <code>R.id.nav_settings</code> MenuItem, it'll replace the Fragment in your NavHostFragment with the one with <code>android:id=\"@+id/nav_settings\"</code> set). This listener overrides the <code>OnNavigationItemSelectedListener</code> view you've set, which is why your custom logic doesn't run.</p>\n\n<p>If you want to combine both sets of functionality together, you need to call <code>navigationView.setNavigationItemSelectedListener(this);</code> <strong>after</strong> <code>setupWithNavController</code> and trigger the default behavior with <a href=\"https://developer.android.com/reference/androidx/navigation/ui/NavigationUI.html#onNavDestinationSelected(android.view.MenuItem,%20androidx.navigation.NavController)\" rel=\"noreferrer\"><code>NavigationUI.onNavDestinationSelected()</code></a>:</p>\n\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_driver_home);\n    Toolbar toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n\n    DrawerLayout drawer = findViewById(R.id.drawer_layout);\n    NavigationView navigationView = findViewById(R.id.nav_view);\n    // Passing each menu ID as a set of Ids because each\n    // menu should be considered as top level destinations.\n    mAppBarConfiguration = new AppBarConfiguration.Builder(\n            R.id.nav_home, R.id.nav_history, R.id.nav_settings,\n            R.id.nav_help, R.id.nav_signout)\n            .setDrawerLayout(drawer)\n            .build();\n    NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\n    NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n    NavigationUI.setupWithNavController(navigationView, navController);\n    // This line needs to be after setupWithNavController()\n    navigationView.setNavigationItemSelectedListener(this);\n\n}\n\n@Override\npublic boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n    NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\n    switch (menuItem.getItemId()){\n        case R.id.nav_history:\n            Toast.makeText(this, \"fsdfuxc\", Toast.LENGTH_LONG).show();\n            break;\n        case R.id.nav_signout:\n            signOut();\n            break;\n        default:\n            // Trigger the default action of replacing the current\n            // screen with the one matching the MenuItem's ID\n            NavigationUI.onNavDestinationSelected(menuItem, navController);\n    }\n\n    DrawerLayout drawer = (DrawerLayout)findViewById(R.id.drawer_layout);\n    drawer.closeDrawer(GravityCompat.START);\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669268953,"creation_date":1595910236,"answer_id":63126999,"question_id":59761473,"body_markdown":"Just a small sample based on the accepted answer but inside the fragment, without overriding the annotation and using Kotlin.\r\n\r\n     bottomNav.setOnNavigationItemSelectedListener {\r\n\r\n            when (it.itemId) {\r\n                R.id.share -&gt; {\r\n                    shareViaWhatsApp()\r\n                }\r\n                else -&gt; {\r\n                    NavigationUI.onNavDestinationSelected(it, navController!!)\r\n                }\r\n            }\r\n\r\n            true\r\n\r\n        }\r\n","title":"Navigation view items will not respond when pressed","body":"<p>Just a small sample based on the accepted answer but inside the fragment, without overriding the annotation and using Kotlin.</p>\n<pre><code> bottomNav.setOnNavigationItemSelectedListener {\n\n        when (it.itemId) {\n            R.id.share -&gt; {\n                shareViaWhatsApp()\n            }\n            else -&gt; {\n                NavigationUI.onNavDestinationSelected(it, navController!!)\n            }\n        }\n\n        true\n\n    }\n</code></pre>\n"}],"owner":{"account_id":15580189,"reputation":1500,"user_id":11240214,"display_name":"Stradtdog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":946,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":59761704,"answer_count":2,"score":5,"last_activity_date":1669268953,"creation_date":1579134661,"question_id":59761473,"body_markdown":"I am working on an app with a side Navigation drawer. The drawer opens fine, however the text that supposedly can be &quot;clickable&quot; does not seem to respond. The animation shows that there is feedback to when the drawer is tapped (you can hear the sound) however nothing results of it. I have tried to place toast messages to see if the button registers an action, but when pressed, no toast appears. \r\nThe code goes as follows (I have implemented NavigationView.OnNavigationItemSelectedListener):\r\n```\r\n protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_driver_home);\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n        DrawerLayout drawer = findViewById(R.id.drawer_layout);\r\n        NavigationView navigationView = findViewById(R.id.nav_view);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n        // Passing each menu ID as a set of Ids because each\r\n        // menu should be considered as top level destinations.\r\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\r\n                R.id.nav_home, R.id.nav_history, R.id.nav_settings,\r\n                R.id.nav_help, R.id.nav_signout)\r\n                .setDrawerLayout(drawer)\r\n                .build();\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\r\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n        NavigationUI.setupWithNavController(navigationView, navController);\r\n```\r\nAnd then I implemented the method:\r\n```\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n        switch (menuItem.getItemId()){\r\n            case R.id.nav_history:\r\n    Toast.makeText(this, &quot;fsdfuxc&quot;, Toast.LENGTH_LONG).show();\r\n                break;\r\n            case R.id.nav_help:\r\n\r\n                break;\r\n            case R.id.nav_settings:\r\n\r\n                break;\r\n            case R.id.nav_signout:\r\n                signOut();\r\n                break;\r\n        }\r\n\r\n        DrawerLayout drawer = (DrawerLayout)findViewById(R.id.drawer_layout);\r\n        drawer.closeDrawer(GravityCompat.START);\r\n        return true;\r\n    }\r\n```\r\nThank you","title":"Navigation view items will not respond when pressed","body":"<p>I am working on an app with a side Navigation drawer. The drawer opens fine, however the text that supposedly can be \"clickable\" does not seem to respond. The animation shows that there is feedback to when the drawer is tapped (you can hear the sound) however nothing results of it. I have tried to place toast messages to see if the button registers an action, but when pressed, no toast appears. \nThe code goes as follows (I have implemented NavigationView.OnNavigationItemSelectedListener):</p>\n\n<pre><code> protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_driver_home);\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n        DrawerLayout drawer = findViewById(R.id.drawer_layout);\n        NavigationView navigationView = findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.nav_home, R.id.nav_history, R.id.nav_settings,\n                R.id.nav_help, R.id.nav_signout)\n                .setDrawerLayout(drawer)\n                .build();\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);\n        NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n        NavigationUI.setupWithNavController(navigationView, navController);\n</code></pre>\n\n<p>And then I implemented the method:</p>\n\n<pre><code>    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n        switch (menuItem.getItemId()){\n            case R.id.nav_history:\n    Toast.makeText(this, \"fsdfuxc\", Toast.LENGTH_LONG).show();\n                break;\n            case R.id.nav_help:\n\n                break;\n            case R.id.nav_settings:\n\n                break;\n            case R.id.nav_signout:\n                signOut();\n                break;\n        }\n\n        DrawerLayout drawer = (DrawerLayout)findViewById(R.id.drawer_layout);\n        drawer.closeDrawer(GravityCompat.START);\n        return true;\n    }\n</code></pre>\n\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","environment-variables","substitution","properties-file"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668499013,"post_id":74442188,"comment_id":131413319,"body_markdown":"Why should it work? Resolving parameters needs to be backed into the component/configuration itself. If that doesn&#39;t support it, like it appears to be, it won&#39;t work. I suspect it just loads `password.properties` without even consulting it through Spring.","body":"Why should it work? Resolving parameters needs to be backed into the component/configuration itself. If that doesn&#39;t support it, like it appears to be, it won&#39;t work. I suspect it just loads <code>password.properties</code> without even consulting it through Spring."}],"answers":[{"comments":[{"owner":{"account_id":25878872,"reputation":1,"user_id":19608343,"display_name":"Varad raikar"},"score":0,"creation_date":1668526667,"post_id":74443597,"comment_id":131424067,"body_markdown":"that didn&#39;t work either","body":"that didn&#39;t work either"},{"owner":{"account_id":14070869,"reputation":71,"user_id":10164385,"display_name":"Ngo Tuoc"},"score":0,"creation_date":1668590139,"post_id":74443597,"comment_id":131440008,"body_markdown":"@Varadraikar you can try change config to spring.config.import=classpath:/ to access all file in resource folder","body":"@Varadraikar you can try change config to spring.config.import=classpath:/ to access all file in resource folder"}],"tags":[],"owner":{"account_id":14070869,"reputation":71,"user_id":10164385,"display_name":"Ngo Tuoc"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668505931,"creation_date":1668505931,"answer_id":74443597,"question_id":74442188,"body_markdown":"correct this props: api.username=${api.username}\r\n\r\nrun : java -jar your-jar-file --api.username=your-value","title":"Property substitution in password.properties not working","body":"<p>correct this props: api.username=${api.username}</p>\n<p>run : java -jar your-jar-file --api.username=your-value</p>\n"},{"tags":[],"owner":{"account_id":25878872,"reputation":1,"user_id":19608343,"display_name":"Varad raikar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669268575,"creation_date":1669268575,"answer_id":74556081,"question_id":74442188,"body_markdown":"thanks for your inputs\r\n\r\nI learned that the properties file is read during servlet initialization and hence there is no way substitution can be done. The secrets should be either hardcoded or use functionality provided by Vault {in my case}. Vault can create passwords.properties file on the fly using secrets stored inside Vault.","title":"Property substitution in password.properties not working","body":"<p>thanks for your inputs</p>\n<p>I learned that the properties file is read during servlet initialization and hence there is no way substitution can be done. The secrets should be either hardcoded or use functionality provided by Vault {in my case}. Vault can create passwords.properties file on the fly using secrets stored inside Vault.</p>\n"}],"owner":{"account_id":25878872,"reputation":1,"user_id":19608343,"display_name":"Varad raikar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1669268575,"creation_date":1668498780,"question_id":74442188,"body_markdown":"I&#39;m working on a springboot application which has security.xml used by AuthFilter[Org level authentication filter]. This xml looks in passwords.properties for username, password, etc. Sharing sample ex below.\r\n\r\nsecurity.xml -\r\n````\r\n&lt;api-username&gt;${api.username}&lt;/api-username&gt;\r\n````\r\n\r\npasswords.properties -\r\n````\r\napi.username=abc\r\n````\r\n\r\nThis works fine if the values are hardcoded in passwords.properties. But if I have to pass the values from env vars, property substitution isn&#39;t happening. \r\n\r\npasswords.properties :\r\n````\r\napi.username=$${api.username}\r\n````\r\n\r\nenv vars :\r\n````\r\napi.username=abc\r\n````\r\n\r\nI&#39;m stuck here. Could someone let me know a way to achieve this.\r\n\r\nI added below in my application.properties to make spring understand that the passwords.properties is a config file. \r\n````\r\nspring.config.import=classpath:passwords.properties\r\n````\r\n\r\nmaking this change too didn&#39;t help\r\n\r\n=================\r\n\r\nUpdate\r\n\r\nLooks like this XML is read during servlet initialization.\r\nWill property substitution work in this case?\r\n\r\n=================","title":"Property substitution in password.properties not working","body":"<p>I'm working on a springboot application which has security.xml used by AuthFilter[Org level authentication filter]. This xml looks in passwords.properties for username, password, etc. Sharing sample ex below.</p>\n<p>security.xml -</p>\n<pre><code>&lt;api-username&gt;${api.username}&lt;/api-username&gt;\n</code></pre>\n<p>passwords.properties -</p>\n<pre><code>api.username=abc\n</code></pre>\n<p>This works fine if the values are hardcoded in passwords.properties. But if I have to pass the values from env vars, property substitution isn't happening.</p>\n<p>passwords.properties :</p>\n<pre><code>api.username=$${api.username}\n</code></pre>\n<p>env vars :</p>\n<pre><code>api.username=abc\n</code></pre>\n<p>I'm stuck here. Could someone let me know a way to achieve this.</p>\n<p>I added below in my application.properties to make spring understand that the passwords.properties is a config file.</p>\n<pre><code>spring.config.import=classpath:passwords.properties\n</code></pre>\n<p>making this change too didn't help</p>\n<p>=================</p>\n<p>Update</p>\n<p>Looks like this XML is read during servlet initialization.\nWill property substitution work in this case?</p>\n<p>=================</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1669195424,"post_id":74544325,"comment_id":131587113,"body_markdown":"Provide adapter code and layout..","body":"Provide adapter code and layout.."}],"answers":[{"comments":[{"owner":{"account_id":17606915,"reputation":1,"user_id":12775786,"display_name":"Piyush Tiwari"},"score":0,"creation_date":1669267443,"post_id":74544507,"comment_id":131606823,"body_markdown":"I don&#39;t want to refresh the adapter class I&#39;m just showing the data from the API, and in that, I am showing 1 image and its description and to separate these two I have added a view","body":"I don&#39;t want to refresh the adapter class I&#39;m just showing the data from the API, and in that, I am showing 1 image and its description and to separate these two I have added a view"},{"owner":{"account_id":23270105,"reputation":1,"user_id":17355076,"display_name":"lauytao fing"},"score":0,"creation_date":1669347655,"post_id":74544507,"comment_id":131626731,"body_markdown":"ImageView ? this height no value ,you can write height a value","body":"ImageView ? this height no value ,you can write height a value"}],"tags":[],"owner":{"account_id":23270105,"reputation":1,"user_id":17355076,"display_name":"lauytao fing"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669195900,"creation_date":1669195900,"answer_id":74544507,"question_id":74544325,"body_markdown":"RecyclerView ? Item changed ? item UI changed ?use adapter notifyItemChanged \r\n[enter image description here][1]\r\n\r\nAdapter notify Api Pic\r\n\r\n  [1]: https://i.stack.imgur.com/IJ1pN.jpg","title":"view is not visible in adapter&#39;s item file","body":"<p>RecyclerView ? Item changed ? item UI changed ?use adapter notifyItemChanged\n<a href=\"https://i.stack.imgur.com/IJ1pN.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Adapter notify Api Pic</p>\n"}],"owner":{"account_id":17606915,"reputation":1,"user_id":12775786,"display_name":"Piyush Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669267839,"creation_date":1669195070,"question_id":74544325,"body_markdown":"I have added a view between imageView and textView in adapter&#39;s item file, it is visible in layout file but it is not showing up in runtime.\r\n\r\nI have increased its width size and margins but no results. I also used layout inspector in 3D mode but the view line was no visible in that too.[this is my XML item file and the view with id viewOne is not visible][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rqih5.png","title":"view is not visible in adapter&#39;s item file","body":"<p>I have added a view between imageView and textView in adapter's item file, it is visible in layout file but it is not showing up in runtime.</p>\n<p>I have increased its width size and margins but no results. I also used layout inspector in 3D mode but the view line was no visible in that too.<a href=\"https://i.stack.imgur.com/rqih5.png\" rel=\"nofollow noreferrer\">this is my XML item file and the view with id viewOne is not visible</a></p>\n"},{"tags":["java","enums","guava","multimap"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1669255624,"post_id":74554862,"comment_id":131605159,"body_markdown":"You can&#39;t declare a variable in one method and reference it in another. You&#39;ll need to create a field or pass it as an argument.","body":"You can&#39;t declare a variable in one method and reference it in another. You&#39;ll need to create a field or pass it as an argument."},{"owner":{"account_id":24709581,"reputation":13,"user_id":18599934,"display_name":"Jun"},"score":0,"creation_date":1669256905,"post_id":74554862,"comment_id":131605325,"body_markdown":"I&#39;m not sure what you mean by that. Are you saying that I can&#39;t use a returned value from method &quot;getPartOfSpeech&quot; and print it out in method &quot;iterate&quot;?","body":"I&#39;m not sure what you mean by that. Are you saying that I can&#39;t use a returned value from method &quot;getPartOfSpeech&quot; and print it out in method &quot;iterate&quot;?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1669257742,"post_id":74554862,"comment_id":131605432,"body_markdown":"You&#39;re not returning anything from `iterate()`. It&#39;s `void`.","body":"You&#39;re not returning anything from <code>iterate()</code>. It&#39;s <code>void</code>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1669257789,"post_id":74554862,"comment_id":131605443,"body_markdown":"Side note: it doesn&#39;t look like `&lt;K,V&gt;` are doing anything.","body":"Side note: it doesn&#39;t look like <code>&lt;K,V&gt;</code> are doing anything."},{"owner":{"account_id":24709581,"reputation":13,"user_id":18599934,"display_name":"Jun"},"score":0,"creation_date":1669266606,"post_id":74554862,"comment_id":131606688,"body_markdown":"`getPartOfSpeech` returns the value. It&#39;s `string`.","body":"<code>getPartOfSpeech</code> returns the value. It&#39;s <code>string</code>."},{"owner":{"account_id":24709581,"reputation":13,"user_id":18599934,"display_name":"Jun"},"score":0,"creation_date":1669266630,"post_id":74554862,"comment_id":131606694,"body_markdown":"I deleted &#39;&lt;K,V&gt;&#39;, and it doesn&#39;t show any change. Thank you","body":"I deleted &#39;&lt;K,V&gt;&#39;, and it doesn&#39;t show any change. Thank you"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1669275449,"post_id":74554862,"comment_id":131608615,"body_markdown":"Like I said, it was a side note. `getPartOfSpeech()` returns a value to the `iterate` method, but it&#39;s called with `partOfSpeechDict`, a variable that doesn&#39;t exist in `iterate()`.","body":"Like I said, it was a side note. <code>getPartOfSpeech()</code> returns a value to the <code>iterate</code> method, but it&#39;s called with <code>partOfSpeechDict</code>, a variable that doesn&#39;t exist in <code>iterate()</code>."},{"owner":{"account_id":24709581,"reputation":13,"user_id":18599934,"display_name":"Jun"},"score":0,"creation_date":1669278731,"post_id":74554862,"comment_id":131609679,"body_markdown":"Right. I added it as a parameter in `iterate()`&#39; method. Thank you.","body":"Right. I added it as a parameter in <code>iterate()</code>&#39; method. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":14255669,"reputation":330,"user_id":10297961,"display_name":"Tan Sang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669259197,"creation_date":1669256757,"answer_id":74554957,"question_id":74554862,"body_markdown":"You declare your `partOfSpeechDict` in `main` method and then call it in `iterate` method, which is not able to because of the variable scope inside a method. you can not create a variable in this method and then use it in another method out of nothing like that\r\n\r\nIf you want to use the `partOfSpeechDict` map in your `iterate` method, add it to the parameters just like you did it with the `dictionary` map\r\n\r\n    public static void iterate(ListMultimap&lt;String, String&gt; alMultimap, \r\n                                     ListMultimap&lt;String,String&gt; partOfSpeechDict, // include your map here to use it\r\n                                     String str) {\r\n        for(Map.Entry&lt;String,String&gt; entry : alMultimap.entries()) {\r\n            if(str.equalsIgnoreCase(entry.getKey())) {\r\n                char[]charArray = entry.getKey().toCharArray();\r\n                for(int i=1;i&lt;charArray.length;i++)\r\n                    charArray[i]=Character.toLowerCase(charArray[i]);\r\n                String str2 = new String(charArray);\r\n                System.out.print(&quot;\\t&quot;+str2+&quot; [&quot;+getPartOfSpeech(partOfSpeechDict, str2)+&quot;] : &quot;+entry.getValue()+&quot;\\n&quot;);\r\n            }\r\n        }\r\n    }","title":"Why can&#39;t IDE find the map I declared already in Guava Multimap using Enum?","body":"<p>You declare your <code>partOfSpeechDict</code> in <code>main</code> method and then call it in <code>iterate</code> method, which is not able to because of the variable scope inside a method. you can not create a variable in this method and then use it in another method out of nothing like that</p>\n<p>If you want to use the <code>partOfSpeechDict</code> map in your <code>iterate</code> method, add it to the parameters just like you did it with the <code>dictionary</code> map</p>\n<pre><code>public static void iterate(ListMultimap&lt;String, String&gt; alMultimap, \n                                 ListMultimap&lt;String,String&gt; partOfSpeechDict, // include your map here to use it\n                                 String str) {\n    for(Map.Entry&lt;String,String&gt; entry : alMultimap.entries()) {\n        if(str.equalsIgnoreCase(entry.getKey())) {\n            char[]charArray = entry.getKey().toCharArray();\n            for(int i=1;i&lt;charArray.length;i++)\n                charArray[i]=Character.toLowerCase(charArray[i]);\n            String str2 = new String(charArray);\n            System.out.print(&quot;\\t&quot;+str2+&quot; [&quot;+getPartOfSpeech(partOfSpeechDict, str2)+&quot;] : &quot;+entry.getValue()+&quot;\\n&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24709581,"reputation":13,"user_id":18599934,"display_name":"Jun"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1669257483,"accepted_answer_id":74554957,"answer_count":1,"score":-1,"last_activity_date":1669266738,"creation_date":1669255486,"question_id":74554862,"body_markdown":"English is not my first language. Sorry in advance if there&#39;s something unclear.\r\n\r\nI&#39;m working on a college assignment using Enum and Google Guava Multimap. In my previous assignment(which is almost the same as the one I&#39;m working on), I wrote down a bunch of words. Word for key, and definition for value. I used a scanner to type in the string value and check if there was anything matched in the enum. In the current assignment, I have to add &#39;part of the speech&#39;. But, I&#39;m not sure what/how to do that.\r\n\r\n```\r\npublic class Test1\r\n{\r\n    private enum Entry\r\n    {\r\n        BOOK(&quot;Book&quot;,&quot;noun&quot;, &quot;A written work published in printed or electric form.&quot;),\r\n        BOOK2(&quot;Book&quot;,&quot;verb&quot;,&quot;To arrange for someone to have a seat on a plane.&quot;),\r\n        BOOKABLE(&quot;Bookable&quot;,&quot;adjective&quot;,&quot;Can be ordered in advance.&quot;),\r\n        BOOKCASE(&quot;Bookcase&quot;,&quot;noun&quot;,&quot;A piece of furniture with shelves.&quot;),\r\n        BOOKBINDER(&quot;Bol okBinder&quot;,&quot;noun&quot;,&quot;A person who fastens the pages of books.&quot;),\r\n        CSC2201(&quot;CSC220&quot;,&quot;noun&quot;,&quot;Data Structures.&quot;),\r\n        CSC2202(&quot;CSC220&quot;,&quot;adjective&quot;,&quot;Ready to create complex data structures.&quot;),\r\n        CSC2203(&quot;CSC220&quot;,&quot;verb&quot;,&quot;To create data structures.&quot;);\r\n        private String key;\r\n        private String partOfSpeech;\r\n        private String definition;\r\n        private Entry() {}\r\n        Entry(String key, String partOfSpeech, String definition)\r\n        {\r\n            this.key = key;\r\n            this.partOfSpeech = partOfSpeech;\r\n            this.definition = definition;\r\n        }\r\n        public String getKey()\r\n        {\r\n            return this.key.toUpperCase();\r\n        }\r\n        public String getPartOfSpeech()\r\n        {\r\n            return this.partOfSpeech;\r\n        }\r\n        public String getDefinition()\r\n        {\r\n            return this.definition;\r\n        }\r\n        public String toString()\r\n        {\r\n            return this.key+&quot; [&quot;+ this.partOfSpeech+&quot;] :  &quot;+this.definition;\r\n        }\r\n    }\r\n    public static void main(String[]args)\r\n    {\r\n        ListMultimap&lt;String, String&gt; dictionary = ArrayListMultimap.create();\r\n        dictionary.put(Entry.BOOK.getKey(),Entry.BOOK.getDefinition());\r\n        dictionary.put(Entry.BOOK2.getKey(), Entry.BOOK2.getDefinition());\r\n        dictionary.put(Entry.BOOKABLE.getKey(), Entry.BOOKABLE.getDefinition());\r\n        dictionary.put(Entry.BOOKCASE.getKey(), Entry.BOOKCASE.getDefinition());\r\n        dictionary.put(Entry.BOOKBINDER.getKey(), Entry.BOOKBINDER.getDefinition());\r\n        dictionary.put(Entry.CSC2201.getKey(), Entry.CSC2201.getDefinition());\r\n        dictionary.put(Entry.CSC2202.getKey(), Entry.CSC2202.getDefinition());\r\n        dictionary.put(Entry.CSC2203.getKey(), Entry.CSC2203.getDefinition());\r\n\r\n        ListMultimap&lt;String,String&gt; partOfSpeechDict = ArrayListMultimap.create();\r\n        partOfSpeechDict.put(Entry.BOOK.getKey(),Entry.BOOK.getPartOfSpeech());\r\n        partOfSpeechDict.put(Entry.BOOK2.getKey(), Entry.BOOK2.getPartOfSpeech());\r\n        partOfSpeechDict.put(Entry.BOOKABLE.getKey(), Entry.BOOKABLE.getPartOfSpeech());\r\n        partOfSpeechDict.put(Entry.BOOKCASE.getKey(), Entry.BOOKCASE.getPartOfSpeech());\r\n          partOfSpeechDict.put(Entry.BOOKBINDER.getKey(),Entry.BOOKBINDER.getPartOfSpeech());\r\n        partOfSpeechDict.put(Entry.CSC2201.getKey(), Entry.CSC2201.getPartOfSpeech());\r\n        partOfSpeechDict.put(Entry.CSC2202.getKey(), Entry.CSC2202.getPartOfSpeech());\r\n        partOfSpeechDict.put(Entry.CSC2203.getKey(), Entry.CSC2203.getPartOfSpeech());\r\n\r\n        System.out.println(&quot;- DICTIONARY JAVA Standard -----&quot;);\r\n        System.out.println(&quot;-----      powered by Google Guava -&quot;);\r\n        String searchKey = &quot;null&quot;;\r\n        String endCode = &quot;!q&quot;;\r\n        do\r\n        {\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.print(&quot;Search:  &quot;);\r\n            searchKey = scan.nextLine();\r\n            searchKey = searchKey.toUpperCase();\r\n            if(dictionary.containsKey(searchKey))\r\n            {\r\n                char[]charArray = searchKey.toCharArray();\r\n                for(int i=1;i&lt;charArray.length;i++)\r\n                    charArray[i]=Character.toLowerCase(charArray[i]);\r\n                String str = new String(charArray);\r\n                System.out.println(&quot;   |&quot;);\r\n                iterate(dictionary,str);\r\n                System.out.println(&quot;   |&quot;);\r\n            }\r\n            else if(searchKey.equalsIgnoreCase(endCode))\r\n            {\r\n                break;\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;   |&quot;);;\r\n                System.out.println(&quot;\\t&lt;Not found&gt;&quot;);\r\n                System.out.println(&quot;   |&quot;);\r\n            }\r\n        }while(!searchKey.equalsIgnoreCase(endCode));\r\n        System.out.println(&quot;\\n-----THANK YOU-----&quot;);\r\n    }\r\n    public static &lt;K,V&gt; void iterate(ListMultimap&lt;String, String&gt; alMultimap,String str)\r\n    {\r\n        for(Map.Entry&lt;String,String&gt; entry : alMultimap.entries())\r\n        {\r\n            if(str.equalsIgnoreCase(entry.getKey()))\r\n            {\r\n                char[]charArray = entry.getKey().toCharArray();\r\n                for(int i=1;i&lt;charArray.length;i++)\r\n                    charArray[i]=Character.toLowerCase(charArray[i]);\r\n                String str2 = new String(charArray);\r\n                System.out.print(&quot;\\t&quot;+str2+&quot; [&quot;+getPartOfSpeech(partOfSpeechDict, str2)+&quot;] : &quot;+entry.getValue()+&quot;\\n&quot;);\r\n//IDE said that error is java : cannot find symbol(partOfSpeechDict). However, I made it.\r\n            }\r\n        }\r\n    }\r\n    public static &lt;K,V&gt; String getPartOfSpeech(ListMultimap&lt;String, String&gt; alMultimap,String str)\r\n    {\r\n        for(Map.Entry&lt;String,String&gt; entry : alMultimap.entries())\r\n        {\r\n            if(str.equalsIgnoreCase(entry.getKey()))\r\n            {\r\n                return entry.getValue();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n\r\nTo handle the problem, I made two ListMutimap\\&lt;String, String\\&gt; name = ArrayListMultimap.create(). Both of their keys are words, but the first map&#39;s value is a definition, and the second map&#39;s value is part-of-speech. I&#39;m trying to use the method &#39;getPartOfSpeech&#39; to get only the value(partOfSpeech) from the second map. Then add that value into the printing line in &#39;iterate&#39;, so it will print out the name, partOfSpeech, and definition. However, IDE said it can&#39;t find a symbol: &quot;partOfSpeechDict&quot;.\r\n\r\nWhat did I do wrong? Can I not make two maps using Guava Multimap? Please let me know.\r\n\r\nThank you.\r\n\r\nI also uploaded about error message, but stackOverflow said there&#39;s a related question and decreased my reputation, so I deleted it TT :(","title":"Why can&#39;t IDE find the map I declared already in Guava Multimap using Enum?","body":"<p>English is not my first language. Sorry in advance if there's something unclear.</p>\n<p>I'm working on a college assignment using Enum and Google Guava Multimap. In my previous assignment(which is almost the same as the one I'm working on), I wrote down a bunch of words. Word for key, and definition for value. I used a scanner to type in the string value and check if there was anything matched in the enum. In the current assignment, I have to add 'part of the speech'. But, I'm not sure what/how to do that.</p>\n<pre><code>public class Test1\n{\n    private enum Entry\n    {\n        BOOK(&quot;Book&quot;,&quot;noun&quot;, &quot;A written work published in printed or electric form.&quot;),\n        BOOK2(&quot;Book&quot;,&quot;verb&quot;,&quot;To arrange for someone to have a seat on a plane.&quot;),\n        BOOKABLE(&quot;Bookable&quot;,&quot;adjective&quot;,&quot;Can be ordered in advance.&quot;),\n        BOOKCASE(&quot;Bookcase&quot;,&quot;noun&quot;,&quot;A piece of furniture with shelves.&quot;),\n        BOOKBINDER(&quot;Bol okBinder&quot;,&quot;noun&quot;,&quot;A person who fastens the pages of books.&quot;),\n        CSC2201(&quot;CSC220&quot;,&quot;noun&quot;,&quot;Data Structures.&quot;),\n        CSC2202(&quot;CSC220&quot;,&quot;adjective&quot;,&quot;Ready to create complex data structures.&quot;),\n        CSC2203(&quot;CSC220&quot;,&quot;verb&quot;,&quot;To create data structures.&quot;);\n        private String key;\n        private String partOfSpeech;\n        private String definition;\n        private Entry() {}\n        Entry(String key, String partOfSpeech, String definition)\n        {\n            this.key = key;\n            this.partOfSpeech = partOfSpeech;\n            this.definition = definition;\n        }\n        public String getKey()\n        {\n            return this.key.toUpperCase();\n        }\n        public String getPartOfSpeech()\n        {\n            return this.partOfSpeech;\n        }\n        public String getDefinition()\n        {\n            return this.definition;\n        }\n        public String toString()\n        {\n            return this.key+&quot; [&quot;+ this.partOfSpeech+&quot;] :  &quot;+this.definition;\n        }\n    }\n    public static void main(String[]args)\n    {\n        ListMultimap&lt;String, String&gt; dictionary = ArrayListMultimap.create();\n        dictionary.put(Entry.BOOK.getKey(),Entry.BOOK.getDefinition());\n        dictionary.put(Entry.BOOK2.getKey(), Entry.BOOK2.getDefinition());\n        dictionary.put(Entry.BOOKABLE.getKey(), Entry.BOOKABLE.getDefinition());\n        dictionary.put(Entry.BOOKCASE.getKey(), Entry.BOOKCASE.getDefinition());\n        dictionary.put(Entry.BOOKBINDER.getKey(), Entry.BOOKBINDER.getDefinition());\n        dictionary.put(Entry.CSC2201.getKey(), Entry.CSC2201.getDefinition());\n        dictionary.put(Entry.CSC2202.getKey(), Entry.CSC2202.getDefinition());\n        dictionary.put(Entry.CSC2203.getKey(), Entry.CSC2203.getDefinition());\n\n        ListMultimap&lt;String,String&gt; partOfSpeechDict = ArrayListMultimap.create();\n        partOfSpeechDict.put(Entry.BOOK.getKey(),Entry.BOOK.getPartOfSpeech());\n        partOfSpeechDict.put(Entry.BOOK2.getKey(), Entry.BOOK2.getPartOfSpeech());\n        partOfSpeechDict.put(Entry.BOOKABLE.getKey(), Entry.BOOKABLE.getPartOfSpeech());\n        partOfSpeechDict.put(Entry.BOOKCASE.getKey(), Entry.BOOKCASE.getPartOfSpeech());\n          partOfSpeechDict.put(Entry.BOOKBINDER.getKey(),Entry.BOOKBINDER.getPartOfSpeech());\n        partOfSpeechDict.put(Entry.CSC2201.getKey(), Entry.CSC2201.getPartOfSpeech());\n        partOfSpeechDict.put(Entry.CSC2202.getKey(), Entry.CSC2202.getPartOfSpeech());\n        partOfSpeechDict.put(Entry.CSC2203.getKey(), Entry.CSC2203.getPartOfSpeech());\n\n        System.out.println(&quot;- DICTIONARY JAVA Standard -----&quot;);\n        System.out.println(&quot;-----      powered by Google Guava -&quot;);\n        String searchKey = &quot;null&quot;;\n        String endCode = &quot;!q&quot;;\n        do\n        {\n            Scanner scan = new Scanner(System.in);\n            System.out.print(&quot;Search:  &quot;);\n            searchKey = scan.nextLine();\n            searchKey = searchKey.toUpperCase();\n            if(dictionary.containsKey(searchKey))\n            {\n                char[]charArray = searchKey.toCharArray();\n                for(int i=1;i&lt;charArray.length;i++)\n                    charArray[i]=Character.toLowerCase(charArray[i]);\n                String str = new String(charArray);\n                System.out.println(&quot;   |&quot;);\n                iterate(dictionary,str);\n                System.out.println(&quot;   |&quot;);\n            }\n            else if(searchKey.equalsIgnoreCase(endCode))\n            {\n                break;\n            }\n            else\n            {\n                System.out.println(&quot;   |&quot;);;\n                System.out.println(&quot;\\t&lt;Not found&gt;&quot;);\n                System.out.println(&quot;   |&quot;);\n            }\n        }while(!searchKey.equalsIgnoreCase(endCode));\n        System.out.println(&quot;\\n-----THANK YOU-----&quot;);\n    }\n    public static &lt;K,V&gt; void iterate(ListMultimap&lt;String, String&gt; alMultimap,String str)\n    {\n        for(Map.Entry&lt;String,String&gt; entry : alMultimap.entries())\n        {\n            if(str.equalsIgnoreCase(entry.getKey()))\n            {\n                char[]charArray = entry.getKey().toCharArray();\n                for(int i=1;i&lt;charArray.length;i++)\n                    charArray[i]=Character.toLowerCase(charArray[i]);\n                String str2 = new String(charArray);\n                System.out.print(&quot;\\t&quot;+str2+&quot; [&quot;+getPartOfSpeech(partOfSpeechDict, str2)+&quot;] : &quot;+entry.getValue()+&quot;\\n&quot;);\n//IDE said that error is java : cannot find symbol(partOfSpeechDict). However, I made it.\n            }\n        }\n    }\n    public static &lt;K,V&gt; String getPartOfSpeech(ListMultimap&lt;String, String&gt; alMultimap,String str)\n    {\n        for(Map.Entry&lt;String,String&gt; entry : alMultimap.entries())\n        {\n            if(str.equalsIgnoreCase(entry.getKey()))\n            {\n                return entry.getValue();\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>To handle the problem, I made two ListMutimap&lt;String, String&gt; name = ArrayListMultimap.create(). Both of their keys are words, but the first map's value is a definition, and the second map's value is part-of-speech. I'm trying to use the method 'getPartOfSpeech' to get only the value(partOfSpeech) from the second map. Then add that value into the printing line in 'iterate', so it will print out the name, partOfSpeech, and definition. However, IDE said it can't find a symbol: &quot;partOfSpeechDict&quot;.</p>\n<p>What did I do wrong? Can I not make two maps using Guava Multimap? Please let me know.</p>\n<p>Thank you.</p>\n<p>I also uploaded about error message, but stackOverflow said there's a related question and decreased my reputation, so I deleted it TT :(</p>\n"},{"tags":["java","hibernate","jpa","jakarta-ee","identifying-relationship"],"answers":[{"comments":[{"owner":{"account_id":170189,"reputation":13749,"user_id":396732,"accept_rate":73,"display_name":"Kawu"},"score":0,"creation_date":1281091736,"post_id":3419000,"comment_id":3563269,"body_markdown":"This source\n\nhttp://weblogs.java.net/blog/felipegaucho/archive/2009/10/24/jpa-join-table-additional-state\n\nstates that using @ManyToOne and @Id works with JPA 1.x. Who&#39;s correct now?","body":"This source  <a href=\"http://weblogs.java.net/blog/felipegaucho/archive/2009/10/24/jpa-join-table-additional-state\" rel=\"nofollow noreferrer\">weblogs.java.net/blog/felipegaucho/archive/2009/10/24/&hellip;</a>  states that using @ManyToOne and @Id works with JPA 1.x. Who&#39;s correct now?"},{"owner":{"account_id":170189,"reputation":13749,"user_id":396732,"accept_rate":73,"display_name":"Kawu"},"score":0,"creation_date":1281100233,"post_id":3419000,"comment_id":3564277,"body_markdown":"OK. Thanks for clearing that up. I am right that the bad example a referred to uses @IdClass wrongly? Shouldn&#39;t the @Id annotations be placed at the separate (redundant/duplicate) columns in the entity class to be correct? (ven though I know that using @IdClass is not recommended anymore)","body":"OK. Thanks for clearing that up. I am right that the bad example a referred to uses @IdClass wrongly? Shouldn&#39;t the @Id annotations be placed at the separate (redundant/duplicate) columns in the entity class to be correct? (ven though I know that using @IdClass is not recommended anymore)"},{"owner":{"account_id":170189,"reputation":13749,"user_id":396732,"accept_rate":73,"display_name":"Kawu"},"score":0,"creation_date":1281100360,"post_id":3419000,"comment_id":3564297,"body_markdown":"I mean, there should be two properties in the class: @Id @Column private String institution; and @Id @Column private String competition; just to specify the PK right?","body":"I mean, there should be two properties in the class: @Id @Column private String institution; and @Id @Column private String competition; just to specify the PK right?"},{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1281101203,"post_id":3419000,"comment_id":3564441,"body_markdown":"@Kawu I&#39;m sorry but honestly, it&#39;s too hard to discuss this in a small comment box. I&#39;m not even sure I understood what you&#39;re talking about. If you have another specific question, I suggest to either pick a JPA implementation and to experiment a bit or to post a *new* question with a full example (and the JPA version). This would make things much easier.","body":"@Kawu I&#39;m sorry but honestly, it&#39;s too hard to discuss this in a small comment box. I&#39;m not even sure I understood what you&#39;re talking about. If you have another specific question, I suggest to either pick a JPA implementation and to experiment a bit or to post a <i>new</i> question with a full example (and the JPA version). This would make things much easier."}],"tags":[],"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":4,"down_vote_count":1,"up_vote_count":62,"is_accepted":true,"score":61,"last_activity_date":1303979040,"creation_date":1281040998,"answer_id":3419000,"question_id":3417097,"body_markdown":"&gt; What happens if I promote the column to be a/the PK, too (a.k.a. identifying relationship)? As the column is now the PK, I must tag it with @Id (...).\r\n\r\nThis enhanced support of **derived identifiers** is actually part of the [new stuff in JPA 2.0][1] (see the section **2.4.1 Primary Keys Corresponding to Derived Identities** in the JPA 2.0 specification), JPA 1.0 doesn&#39;t allow `Id` on a `OneToOne` or `ManyToOne`. With JPA 1.0, you&#39;d have to use `PrimaryKeyJoinColumn` and also define a `Basic` `Id` mapping for the foreign key column.\r\n\r\n&gt; Now the question is: are @Id + @JoinColumn the same as just @PrimaryKeyJoinColumn?\r\n\r\nYou can obtain a similar result but using an `Id` on `OneToOne` or `ManyToOne` is **much simpler** and is the preferred way to map derived identifiers with JPA 2.0. `PrimaryKeyJoinColumn` might still be used in a **JOINED** inheritance strategy. Below the relevant section from the JPA 2.0 specification:\r\n\r\n&gt; ### 11.1.40 PrimaryKeyJoinColumn Annotation\r\n&gt; \r\n&gt; The `PrimaryKeyJoinColumn` annotation\r\n&gt; specifies a primary key column that is\r\n&gt; used as a foreign key to join to\r\n&gt; another table.\r\n&gt; \r\n&gt; The `PrimaryKeyJoinColumn` annotation\r\n&gt; is used to join the primary table of\r\n&gt; an entity subclass in the `JOINED`\r\n&gt; mapping strategy to the primary table\r\n&gt; of its superclass; it is used within a\r\n&gt; `SecondaryTable` annotation to join a\r\n&gt; secondary table to a primary table;\r\n&gt; and it may be used in a `OneToOne`\r\n&gt; mapping in which the primary key of\r\n&gt; the referencing entity is used as a\r\n&gt; foreign key to the referenced\r\n&gt; entity&lt;sup&gt;\\[108\\]&lt;/sup&gt;.\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; If no `PrimaryKeyJoinColumn`\r\n&gt; annotation is specified for a subclass\r\n&gt; in the JOINED mapping strategy, the\r\n&gt; foreign key columns are assumed to\r\n&gt; have the same names as the primary key\r\n&gt; columns of the primary table of the\r\n&gt; superclass.\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; **Example:** Customer and ValuedCustomer subclass\r\n&gt; \r\n&gt;     @Entity\r\n&gt;     @Table(name=&quot;CUST&quot;)\r\n&gt;     @Inheritance(strategy=JOINED)\r\n&gt;     @DiscriminatorValue(&quot;CUST&quot;)\r\n&gt;     public class Customer { ... }\r\n&gt; \r\n&gt;     @Entity\r\n&gt;     @Table(name=&quot;VCUST&quot;)\r\n&gt;     @DiscriminatorValue(&quot;VCUST&quot;)\r\n&gt;     @PrimaryKeyJoinColumn(name=&quot;CUST_ID&quot;)\r\n&gt;     public class ValuedCustomer extends Customer { ... }\r\n&gt; \r\n&gt; &lt;sub&gt;[108] **The derived id mechanisms\r\n&gt; described in section 2.4.1.1 are now\r\n&gt; to be preferred over\r\n&gt; `PrimaryKeyJoinColumn` for the\r\n&gt; OneToOne mapping case.**&lt;/sub&gt;\r\n\r\n### See also\r\n\r\n- [Primary Keys through OneToOne Relationships][2]\r\n\r\n----\r\n\r\n&gt; This source http://weblogs.java.net/blog/felipegaucho/archive/2009/10/24/jpa-join-table-additional-state states that using @ManyToOne and @Id works with JPA 1.x. Who&#39;s correct now?\r\n\r\nThe author is using a pre release **JPA 2.0** compliant version of EclipseLink (version [2.0.0-M7][3] at the time of the article) to write an article about JPA 1.0(!). This article is misleading, the author is using something that is **NOT** part of JPA 1.0.\r\n\r\nFor the record, support of `Id` on `OneToOne` and `ManyToOne` has been added in EclipseLink 1.1 (see [this message][4] from [James Sutherland][5], EclipseLink comitter and main contributor of the [Java Persistence][6] wiki book). But let me insist, this is **NOT** part of JPA 1.0.\r\n\r\n  [1]: https://stackoverflow.com/questions/2435253/a-concise-clear-list-of-what-is-new-in-jpa2/2440516#2440516\r\n  [2]: http://en.wikibooks.org/wiki/Java_Persistence/Identity_and_Sequencing#Primary_Keys_through_OneToOne_and_ManyToOne_Relationships\r\n  [3]: http://kenai.com/projects/puj/sources/arena/revision/188\r\n  [4]: http://www.eclipse.org/forums/index.php?t=msg&amp;S=76391a8b637ac8124704d1775fce0fea&amp;th=124643&amp;goto=381663#msg_381663\r\n  [5]: http://wiki.eclipse.org/User:James.sutherland.oracle.com\r\n  [6]: http://en.wikibooks.org/wiki/Java_Persistence","title":"JPA: difference between @JoinColumn and @PrimaryKeyJoinColumn?","body":"<blockquote>\n  <p>What happens if I promote the column to be a/the PK, too (a.k.a. identifying relationship)? As the column is now the PK, I must tag it with @Id (...).</p>\n</blockquote>\n\n<p>This enhanced support of <strong>derived identifiers</strong> is actually part of the <a href=\"https://stackoverflow.com/questions/2435253/a-concise-clear-list-of-what-is-new-in-jpa2/2440516#2440516\">new stuff in JPA 2.0</a> (see the section <strong>2.4.1 Primary Keys Corresponding to Derived Identities</strong> in the JPA 2.0 specification), JPA 1.0 doesn't allow <code>Id</code> on a <code>OneToOne</code> or <code>ManyToOne</code>. With JPA 1.0, you'd have to use <code>PrimaryKeyJoinColumn</code> and also define a <code>Basic</code> <code>Id</code> mapping for the foreign key column.</p>\n\n<blockquote>\n  <p>Now the question is: are @Id + @JoinColumn the same as just @PrimaryKeyJoinColumn?</p>\n</blockquote>\n\n<p>You can obtain a similar result but using an <code>Id</code> on <code>OneToOne</code> or <code>ManyToOne</code> is <strong>much simpler</strong> and is the preferred way to map derived identifiers with JPA 2.0. <code>PrimaryKeyJoinColumn</code> might still be used in a <strong>JOINED</strong> inheritance strategy. Below the relevant section from the JPA 2.0 specification:</p>\n\n<blockquote>\n  <h3>11.1.40 PrimaryKeyJoinColumn Annotation</h3>\n  \n  <p>The <code>PrimaryKeyJoinColumn</code> annotation\n  specifies a primary key column that is\n  used as a foreign key to join to\n  another table.</p>\n  \n  <p>The <code>PrimaryKeyJoinColumn</code> annotation\n  is used to join the primary table of\n  an entity subclass in the <code>JOINED</code>\n  mapping strategy to the primary table\n  of its superclass; it is used within a\n  <code>SecondaryTable</code> annotation to join a\n  secondary table to a primary table;\n  and it may be used in a <code>OneToOne</code>\n  mapping in which the primary key of\n  the referencing entity is used as a\n  foreign key to the referenced\n  entity<sup>[108]</sup>.</p>\n  \n  <p>...</p>\n  \n  <p>If no <code>PrimaryKeyJoinColumn</code>\n  annotation is specified for a subclass\n  in the JOINED mapping strategy, the\n  foreign key columns are assumed to\n  have the same names as the primary key\n  columns of the primary table of the\n  superclass.</p>\n  \n  <p>...</p>\n  \n  <p><strong>Example:</strong> Customer and ValuedCustomer subclass</p>\n\n<pre><code>@Entity\n@Table(name=\"CUST\")\n@Inheritance(strategy=JOINED)\n@DiscriminatorValue(\"CUST\")\npublic class Customer { ... }\n\n@Entity\n@Table(name=\"VCUST\")\n@DiscriminatorValue(\"VCUST\")\n@PrimaryKeyJoinColumn(name=\"CUST_ID\")\npublic class ValuedCustomer extends Customer { ... }\n</code></pre>\n  \n  <p><sub>[108] <strong>The derived id mechanisms\n  described in section 2.4.1.1 are now\n  to be preferred over\n  <code>PrimaryKeyJoinColumn</code> for the\n  OneToOne mapping case.</strong></sub></p>\n</blockquote>\n\n<h3>See also</h3>\n\n<ul>\n<li><a href=\"http://en.wikibooks.org/wiki/Java_Persistence/Identity_and_Sequencing#Primary_Keys_through_OneToOne_and_ManyToOne_Relationships\" rel=\"noreferrer\">Primary Keys through OneToOne Relationships</a></li>\n</ul>\n\n<hr>\n\n<blockquote>\n  <p>This source <a href=\"http://weblogs.java.net/blog/felipegaucho/archive/2009/10/24/jpa-join-table-additional-state\" rel=\"noreferrer\">http://weblogs.java.net/blog/felipegaucho/archive/2009/10/24/jpa-join-table-additional-state</a> states that using @ManyToOne and @Id works with JPA 1.x. Who's correct now?</p>\n</blockquote>\n\n<p>The author is using a pre release <strong>JPA 2.0</strong> compliant version of EclipseLink (version <a href=\"http://kenai.com/projects/puj/sources/arena/revision/188\" rel=\"noreferrer\">2.0.0-M7</a> at the time of the article) to write an article about JPA 1.0(!). This article is misleading, the author is using something that is <strong>NOT</strong> part of JPA 1.0.</p>\n\n<p>For the record, support of <code>Id</code> on <code>OneToOne</code> and <code>ManyToOne</code> has been added in EclipseLink 1.1 (see <a href=\"http://www.eclipse.org/forums/index.php?t=msg&amp;S=76391a8b637ac8124704d1775fce0fea&amp;th=124643&amp;goto=381663#msg_381663\" rel=\"noreferrer\">this message</a> from <a href=\"http://wiki.eclipse.org/User:James.sutherland.oracle.com\" rel=\"noreferrer\">James Sutherland</a>, EclipseLink comitter and main contributor of the <a href=\"http://en.wikibooks.org/wiki/Java_Persistence\" rel=\"noreferrer\">Java Persistence</a> wiki book). But let me insist, this is <strong>NOT</strong> part of JPA 1.0.</p>\n"},{"comments":[{"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"score":5,"creation_date":1558403358,"post_id":48779183,"comment_id":99079960,"body_markdown":"@yusher, `PrimaryKeyJoinColumn` use same primary key value to join two tables, and `JoinColumn`, the primary key of main table will become foreign key in another table.","body":"@yusher, <code>PrimaryKeyJoinColumn</code> use same primary key value to join two tables, and <code>JoinColumn</code>, the primary key of main table will become foreign key in another table."},{"owner":{"account_id":13784590,"reputation":65,"user_id":12085910,"display_name":"s.sofiane"},"score":0,"creation_date":1701351970,"post_id":48779183,"comment_id":136766724,"body_markdown":"can you show how you implement it ?","body":"can you show how you implement it ?"}],"tags":[],"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"comment_count":2,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1518578997,"creation_date":1518578997,"answer_id":48779183,"question_id":3417097,"body_markdown":"I normally differentiate these two via this diagram:\r\n\r\nUse `PrimaryKeyJoinColumn`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nUse `JoinColumn`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SupE9.png\r\n  [2]: https://i.stack.imgur.com/0NQKN.png","title":"JPA: difference between @JoinColumn and @PrimaryKeyJoinColumn?","body":"<p>I normally differentiate these two via this diagram:</p>\n\n<p>Use <code>PrimaryKeyJoinColumn</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/SupE9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SupE9.png\" alt=\"enter image description here\"></a></p>\n\n<p>Use <code>JoinColumn</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/0NQKN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0NQKN.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6766899,"reputation":54,"user_id":5211635,"display_name":"Philip Read"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567007649,"creation_date":1567007649,"answer_id":57696163,"question_id":3417097,"body_markdown":"I know this is an old post, but a good time to use `PrimaryKeyColumn` would be if you wanted a unidirectional relationship or had multiple tables all sharing the same id. \r\n\r\nIn general this is a bad idea and it would be better to use foreign key relationships with `JoinColumn`. \r\n\r\nHaving said that, if you are working on an older database that used a system like this then that would be a good time to use it.","title":"JPA: difference between @JoinColumn and @PrimaryKeyJoinColumn?","body":"<p>I know this is an old post, but a good time to use <code>PrimaryKeyColumn</code> would be if you wanted a unidirectional relationship or had multiple tables all sharing the same id. </p>\n\n<p>In general this is a bad idea and it would be better to use foreign key relationships with <code>JoinColumn</code>. </p>\n\n<p>Having said that, if you are working on an older database that used a system like this then that would be a good time to use it.</p>\n"},{"tags":[],"owner":{"account_id":18077303,"reputation":229,"user_id":13140192,"display_name":"YAO ALEX DIDIER AKOUA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669266374,"creation_date":1657786905,"answer_id":72977412,"question_id":3417097,"body_markdown":"You use @JoinColumn when you want to manage (change the column name, set nullable and so on) the foreign key column in the target entity table. Here, the Address table will contains User table id like foreign key but the column it&#39;s will be name **user_id** (the second scheme of @Sam YC)\r\n\r\n    \r\n    @Entity\r\n    public class Address implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private String id;\r\n\r\n    private String city;\r\n\r\n    @OneToOne(optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;, updatable = false)\r\n    private User user;\r\n    }\r\n\r\nYou use @PrimaryKeyJoinColumn, when you want to use the primary key of the referencing entity like the target entity primary key. Here the Address know the referencing User but Address table hasn&#39;t foreign key column, because it&#39;s has the same `id` than User Id (the first scheme of @Sam YC)\r\n\r\n    @Entity\r\n    public class Address implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;foreignKeyGenerator&quot;)\r\n    @GenericGenerator(\r\n            name = &quot;foreignKeyGenerator&quot;,\r\n            strategy = &quot;foreign&quot;,\r\n            parameters = @org.hibernate.annotations.Parameter(\r\n                    name = &quot;property&quot;, value = &quot;userT&quot;\r\n            )\r\n    )\r\n    private String id;\r\n    private String city;\r\n\r\n    @OneToOne(optional = false)\r\n    @PrimaryKeyJoinColumn\r\n    private User userT;\r\n    }","title":"JPA: difference between @JoinColumn and @PrimaryKeyJoinColumn?","body":"<p>You use @JoinColumn when you want to manage (change the column name, set nullable and so on) the foreign key column in the target entity table. Here, the Address table will contains User table id like foreign key but the column it's will be name <strong>user_id</strong> (the second scheme of @Sam YC)</p>\n<pre><code>@Entity\npublic class Address implements Serializable {\n\n@Id\n@GeneratedValue\nprivate String id;\n\nprivate String city;\n\n@OneToOne(optional = false)\n@JoinColumn(name = &quot;user_id&quot;, updatable = false)\nprivate User user;\n}\n</code></pre>\n<p>You use @PrimaryKeyJoinColumn, when you want to use the primary key of the referencing entity like the target entity primary key. Here the Address know the referencing User but Address table hasn't foreign key column, because it's has the same <code>id</code> than User Id (the first scheme of @Sam YC)</p>\n<pre><code>@Entity\npublic class Address implements Serializable {\n\n@Id\n@GeneratedValue(generator = &quot;foreignKeyGenerator&quot;)\n@GenericGenerator(\n        name = &quot;foreignKeyGenerator&quot;,\n        strategy = &quot;foreign&quot;,\n        parameters = @org.hibernate.annotations.Parameter(\n                name = &quot;property&quot;, value = &quot;userT&quot;\n        )\n)\nprivate String id;\nprivate String city;\n\n@OneToOne(optional = false)\n@PrimaryKeyJoinColumn\nprivate User userT;\n}\n</code></pre>\n"}],"owner":{"account_id":170189,"reputation":13749,"user_id":396732,"accept_rate":73,"display_name":"Kawu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127173,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":3419000,"answer_count":4,"score":95,"last_activity_date":1669266374,"creation_date":1281026940,"question_id":3417097,"body_markdown":"What&#39;s the exact difference between `@JoinColumn` and `@PrimaryKeyJoinColumn`?\r\n\r\nYou use `@JoinColumn` for columns that are part of a foreign key. A typical column could look like (e.g. in a join table with additional attributes):\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;...&quot;)\r\n    private OtherClass oc;\r\n\r\nWhat happens if I promote the column to be a/the PK, too (a.k.a. identifying relationship)? As the column is now the PK, I must tag it with `@Id`:\r\n\r\n    @Id\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;...&quot;)\r\n    private OtherClass oc;\r\n\r\nNow the question is:\r\n\r\nAre `@Id` + `@JoinColumn` the same as just `@PrimaryKeyJoinColumn`?:\r\n\r\n    @ManyToOne\r\n    @PrimaryKeyJoinColumn(name = &quot;...&quot;)\r\n    private OtherClass oc;\r\n\r\nIf not, what&#39;s `@PrimaryKeyJoinColumn` there for?","title":"JPA: difference between @JoinColumn and @PrimaryKeyJoinColumn?","body":"<p>What's the exact difference between <code>@JoinColumn</code> and <code>@PrimaryKeyJoinColumn</code>?</p>\n\n<p>You use <code>@JoinColumn</code> for columns that are part of a foreign key. A typical column could look like (e.g. in a join table with additional attributes):</p>\n\n<pre><code>@ManyToOne\n@JoinColumn(name = \"...\")\nprivate OtherClass oc;\n</code></pre>\n\n<p>What happens if I promote the column to be a/the PK, too (a.k.a. identifying relationship)? As the column is now the PK, I must tag it with <code>@Id</code>:</p>\n\n<pre><code>@Id\n@ManyToOne\n@JoinColumn(name = \"...\")\nprivate OtherClass oc;\n</code></pre>\n\n<p>Now the question is:</p>\n\n<p>Are <code>@Id</code> + <code>@JoinColumn</code> the same as just <code>@PrimaryKeyJoinColumn</code>?:</p>\n\n<pre><code>@ManyToOne\n@PrimaryKeyJoinColumn(name = \"...\")\nprivate OtherClass oc;\n</code></pre>\n\n<p>If not, what's <code>@PrimaryKeyJoinColumn</code> there for?</p>\n"},{"tags":["java","spring-boot","post"],"answers":[{"tags":[],"owner":{"account_id":16319704,"reputation":1245,"user_id":11785852,"display_name":"Ruchira Nawarathna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669265309,"creation_date":1669265309,"answer_id":74555748,"question_id":74555464,"body_markdown":"There are few solutions you can follow. \r\n\r\n**1. Use string as request body and convert to json**\r\n\r\n        @PostMapping(value=&quot;/register&quot;)\r\n        public Map&lt;String, Object&gt; registerSingleConnection(@RequestBody String param){\r\n            System.out.println(param);\r\n            JSONObject json = new JSONObject(param);  // convert to json\r\n            return json.toMap();\r\n        }\r\n\r\n**2. Use Map as request body**\r\n\r\n        @PostMapping(value=&quot;/register&quot;)\r\n        public Map&lt;String, Object&gt; registerSingleConnection(@RequestBody Map&lt;String, Object&gt; param){\r\n            System.out.println(param);\r\n            return param;\r\n        }\r\n\r\n**3. Use a custom type as request body**\r\n        \r\n        public class Request {\r\n            private String id;\r\n            private String val;\r\n\r\n            public Request(String id, String val) {\r\n                this.id = id;\r\n                this.val = val;\r\n            }\r\n\r\n            public JSONObject toJSON() {\r\n\r\n                JSONObject json = new JSONObject();\r\n                json.put(&quot;id&quot;, id);\r\n                json.put(&quot;val&quot;, val);\r\n\r\n                return json;\r\n            }\r\n        }\r\n\r\n\r\n        @PostMapping(value=&quot;/register&quot;)\r\n        public Map&lt;String, Object&gt; registerSingleConnection(@RequestBody Request param){\r\n            JSONObject json = param.toJSON();\r\n            return json.toMap();\r\n        }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iQTTM.png","title":"Why Springboot @requestbody parameter always receives empty?","body":"<p>There are few solutions you can follow.</p>\n<p><strong>1. Use string as request body and convert to json</strong></p>\n<pre><code>    @PostMapping(value=&quot;/register&quot;)\n    public Map&lt;String, Object&gt; registerSingleConnection(@RequestBody String param){\n        System.out.println(param);\n        JSONObject json = new JSONObject(param);  // convert to json\n        return json.toMap();\n    }\n</code></pre>\n<p><strong>2. Use Map as request body</strong></p>\n<pre><code>    @PostMapping(value=&quot;/register&quot;)\n    public Map&lt;String, Object&gt; registerSingleConnection(@RequestBody Map&lt;String, Object&gt; param){\n        System.out.println(param);\n        return param;\n    }\n</code></pre>\n<p><strong>3. Use a custom type as request body</strong></p>\n<pre><code>    public class Request {\n        private String id;\n        private String val;\n\n        public Request(String id, String val) {\n            this.id = id;\n            this.val = val;\n        }\n\n        public JSONObject toJSON() {\n\n            JSONObject json = new JSONObject();\n            json.put(&quot;id&quot;, id);\n            json.put(&quot;val&quot;, val);\n\n            return json;\n        }\n    }\n\n\n    @PostMapping(value=&quot;/register&quot;)\n    public Map&lt;String, Object&gt; registerSingleConnection(@RequestBody Request param){\n        JSONObject json = param.toJSON();\n        return json.toMap();\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/iQTTM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iQTTM.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15831121,"reputation":1091,"user_id":11422407,"display_name":"leo0807"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669265309,"creation_date":1669262168,"question_id":74555464,"body_markdown":"all. I currently met an unexpected situation. I completed my API, and I hope to have a test by Postman; however, I do not know why I always get an empty bracket `{}`. How can I fix it?\r\n\r\n```\r\n@PostMapping(value=&quot;/register&quot;)\r\npublic Status registerSingleConnection(@RequestBody JSONObject param){\r\n    System.out.printlin(param); // para always be {}\r\n    ....\r\n}\r\n```\r\nThis is what I tried in `generated-requests.http`:\r\n```\r\nPOST http://127.0.0.1:8082/register\r\nContent-Type: application/json\r\n{\r\n    &quot;id&quot;: &quot;1&quot;,\r\n    &quot;val&quot;: &quot;999&quot;\r\n}\r\n```\r\n\r\n","title":"Why Springboot @requestbody parameter always receives empty?","body":"<p>all. I currently met an unexpected situation. I completed my API, and I hope to have a test by Postman; however, I do not know why I always get an empty bracket <code>{}</code>. How can I fix it?</p>\n<pre><code>@PostMapping(value=&quot;/register&quot;)\npublic Status registerSingleConnection(@RequestBody JSONObject param){\n    System.out.printlin(param); // para always be {}\n    ....\n}\n</code></pre>\n<p>This is what I tried in <code>generated-requests.http</code>:</p>\n<pre><code>POST http://127.0.0.1:8082/register\nContent-Type: application/json\n{\n    &quot;id&quot;: &quot;1&quot;,\n    &quot;val&quot;: &quot;999&quot;\n}\n</code></pre>\n"},{"tags":["java","tomcat","tomcat9"],"answers":[{"tags":[],"owner":{"account_id":26518992,"reputation":1059,"user_id":20153035,"display_name":"Fastnlight"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667238921,"creation_date":1667238921,"answer_id":74267324,"question_id":74267287,"body_markdown":"You can set Java properties in Tomcat 9 by adding them to the &lt;code&gt;JAVA_OPTS&lt;/code&gt; environment variable.\r\nFor example, to set the &lt;code&gt;java.util.logging.config.file&lt;/code&gt; property, you can add the following line to &lt;code&gt;bin/setenv.sh&lt;/code&gt; (or &lt;code&gt;bin/setenv.bat&lt;/code&gt; on Windows):\r\n```bash\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Djava.util.logging.config.file=/path/to/logging.properties&quot;\r\n```\r\n","title":"How to set JAVA properties in Tomcat 9?","body":"<p>You can set Java properties in Tomcat 9 by adding them to the <code>JAVA_OPTS</code> environment variable.\nFor example, to set the <code>java.util.logging.config.file</code> property, you can add the following line to <code>bin/setenv.sh</code> (or <code>bin/setenv.bat</code> on Windows):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>JAVA_OPTS=&quot;$JAVA_OPTS -Djava.util.logging.config.file=/path/to/logging.properties&quot;\n</code></pre>\n"}],"owner":{"account_id":316994,"reputation":14065,"user_id":633440,"accept_rate":50,"display_name":"Karl Hill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74267324,"answer_count":1,"score":0,"last_activity_date":1669264708,"creation_date":1667238746,"question_id":74267287,"body_markdown":"How do I set Java properties in Tomcat 9? I believe that I used to be able to use tomcat.conf to set and load properties? Is this still the case?","title":"How to set JAVA properties in Tomcat 9?","body":"<p>How do I set Java properties in Tomcat 9? I believe that I used to be able to use tomcat.conf to set and load properties? Is this still the case?</p>\n"},{"tags":["java","android","android-studio","intellij-idea"],"comments":[{"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"score":0,"creation_date":1669266946,"post_id":74555675,"comment_id":131606740,"body_markdown":"You should be able to use &quot;this&quot;. Note that &quot;this&quot; won&#39;t work in a lambda, though, in which case you will need to use an intermediate object to store a reference to the lambda such as AtomicReference or an array.","body":"You should be able to use &quot;this&quot;. Note that &quot;this&quot; won&#39;t work in a lambda, though, in which case you will need to use an intermediate object to store a reference to the lambda such as AtomicReference or an array."}],"owner":{"account_id":25769767,"reputation":11,"user_id":19518787,"display_name":"BugMaker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669264589,"creation_date":1669264589,"question_id":74555675,"body_markdown":"Just like this:\r\n\r\n```\r\nAdListener adListener = new AdListener() {\r\n    @Override\r\n    public void onAdLoaded() {\r\n        unRegisterCallback(adListener);\r\n    }\r\n};\r\n```\r\n\r\nAt this point IDEA will prompt: &quot;Variable &#39;adListener&#39; might not have been initialized&quot;\r\n\r\nHow to resolve?\r\n\r\n\r\n\r\nI haven&#39;t encountered this kind of problem before, so I can&#39;t find a suitable solution.","title":"How to use itself in Java interface callback?","body":"<p>Just like this:</p>\n<pre><code>AdListener adListener = new AdListener() {\n    @Override\n    public void onAdLoaded() {\n        unRegisterCallback(adListener);\n    }\n};\n</code></pre>\n<p>At this point IDEA will prompt: &quot;Variable 'adListener' might not have been initialized&quot;</p>\n<p>How to resolve?</p>\n<p>I haven't encountered this kind of problem before, so I can't find a suitable solution.</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":7227100,"reputation":2697,"user_id":5515287,"display_name":"Mustafa Poya"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669263655,"creation_date":1669263655,"answer_id":74555584,"question_id":74555583,"body_markdown":"To copy the content of a String variable to the system Clipboard you can use \r\n\r\n```\r\nimport javafx.scene.input.Clipboard;\r\nimport javafx.scene.input.ClipboardContent;\r\n```\r\nclasses for `JavaFX` applications and for example:\r\n\r\n```\r\nClipboard clipboard = Clipboard.getSystemClipboard();\r\nClipboardContent content = new ClipboardContent();\r\ncontent.putString(&quot;Hello World&quot;);\r\nclipboard.setContent(content);\r\n```","title":"JavaFX copy to clipboard","body":"<p>To copy the content of a String variable to the system Clipboard you can use</p>\n<pre><code>import javafx.scene.input.Clipboard;\nimport javafx.scene.input.ClipboardContent;\n</code></pre>\n<p>classes for <code>JavaFX</code> applications and for example:</p>\n<pre><code>Clipboard clipboard = Clipboard.getSystemClipboard();\nClipboardContent content = new ClipboardContent();\ncontent.putString(&quot;Hello World&quot;);\nclipboard.setContent(content);\n</code></pre>\n"}],"owner":{"account_id":7227100,"reputation":2697,"user_id":5515287,"display_name":"Mustafa Poya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74555584,"answer_count":1,"score":0,"last_activity_date":1669263655,"creation_date":1669263655,"question_id":74555583,"body_markdown":"In `Swing` you can use `java.awt.Toolkit` and `java.awt.datatransfer.Clipboard` classes to copy the text value in the system clipboard and I&#39;m looking for a solution to copy the value of a `String` variable to the system clipboard using `JavaFX`?","title":"JavaFX copy to clipboard","body":"<p>In <code>Swing</code> you can use <code>java.awt.Toolkit</code> and <code>java.awt.datatransfer.Clipboard</code> classes to copy the text value in the system clipboard and I'm looking for a solution to copy the value of a <code>String</code> variable to the system clipboard using <code>JavaFX</code>?</p>\n"},{"tags":["java","linux","console-application"],"comments":[{"owner":{"account_id":2220534,"reputation":276,"user_id":2128554,"accept_rate":62,"display_name":"learner"},"score":0,"creation_date":1669261301,"post_id":74555335,"comment_id":131605918,"body_markdown":"I hope you have a script and &quot;a&quot; is just an argument to the script?","body":"I hope you have a script and &quot;a&quot; is just an argument to the script?"},{"owner":{"account_id":2428490,"reputation":13936,"user_id":2119941,"display_name":"Hrvoje"},"score":0,"creation_date":1669261466,"post_id":74555335,"comment_id":131605951,"body_markdown":"@learner could be bult like that. That&#39;s not a problem.","body":"@learner could be bult like that. That&#39;s not a problem."}],"answers":[{"comments":[{"owner":{"account_id":2428490,"reputation":13936,"user_id":2119941,"display_name":"Hrvoje"},"score":0,"creation_date":1669262278,"post_id":74555418,"comment_id":131606067,"body_markdown":"This console app runs on Linux. So were do I enter it&#39;s proccess name in your solution? It is here - `final Process process = Runtime.getRuntime().exec(args);`","body":"This console app runs on Linux. So were do I enter it&#39;s proccess name in your solution? It is here - <code>final Process process = Runtime.getRuntime().exec(args);</code>"},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1669266579,"post_id":74555418,"comment_id":131606684,"body_markdown":"Yes, you can write `Runtime.getRuntime().exec(&quot;htop&quot;);` or `Runtime.getRuntime().exec(&quot;/path/to/app -test&quot;);` or `Runtime.getRuntime().exec(&quot;/path/to/app&quot;, &quot;-test&quot;);` for example. In my example, I simply forward the command line arguments that the .jar / java app was started with, to the target app. So `java -jar ProcessAccess.jar /path/to/app -param1 -param2 etc` becomes `/path/to/app -param1 -param2 etc`.","body":"Yes, you can write <code>Runtime.getRuntime().exec(&quot;htop&quot;);</code> or <code>Runtime.getRuntime().exec(&quot;&#47;path&#47;to&#47;app -test&quot;);</code> or <code>Runtime.getRuntime().exec(&quot;&#47;path&#47;to&#47;app&quot;, &quot;-test&quot;);</code> for example. In my example, I simply forward the command line arguments that the .jar / java app was started with, to the target app. So <code>java -jar ProcessAccess.jar &#47;path&#47;to&#47;app -param1 -param2 etc</code> becomes <code>&#47;path&#47;to&#47;app -param1 -param2 etc</code>."},{"owner":{"account_id":2428490,"reputation":13936,"user_id":2119941,"display_name":"Hrvoje"},"score":0,"creation_date":1669301379,"post_id":74555418,"comment_id":131617526,"body_markdown":"I&#39;m able to run client app through Java based on your example, and it seems that it works ok but after typing command (&quot;a&quot;) nothing happens. Any ideas?","body":"I&#39;m able to run client app through Java based on your example, and it seems that it works ok but after typing command (&quot;a&quot;) nothing happens. Any ideas?"},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1669306619,"post_id":74555418,"comment_id":131619301,"body_markdown":"1) Maybe you have to wait until the app is started and actually waits for the input. Read the `in` channel until the app has printed the prompt for entering the input, then write &#39;a&#39; (and probably a lineSeparator) to the app. 2) Did you catch the output? 3) Maybe your method (the one I posted) finishes before the app returns any data. So read _in_ and _err_ in a (pseudo) multithreaded way, and in total wait until the app has reacted or finished (read in or err or use `process.waitFor()`) 4) for further details you should open another question and give A LOT MORE details, ...","body":"1) Maybe you have to wait until the app is started and actually waits for the input. Read the <code>in</code> channel until the app has printed the prompt for entering the input, then write &#39;a&#39; (and probably a lineSeparator) to the app. 2) Did you catch the output? 3) Maybe your method (the one I posted) finishes before the app returns any data. So read <i>in</i> and <i>err</i> in a (pseudo) multithreaded way, and in total wait until the app has reacted or finished (read in or err or use <code>process.waitFor()</code>) 4) for further details you should open another question and give A LOT MORE details, ..."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1669306631,"post_id":74555418,"comment_id":131619307,"body_markdown":"ESPECIALLY details on the app you&#39;re trying to control.","body":"ESPECIALLY details on the app you&#39;re trying to control."}],"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669261725,"creation_date":1669261725,"answer_id":74555418,"question_id":74555335,"body_markdown":"Try this:\r\n\r\n    package stackoverflow;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    \r\n    public class ProcessAccess {\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) throws IOException {\r\n    \t\tfinal Process process = Runtime.getRuntime().exec(args);\r\n    \r\n    \t\t// write text to os\r\n    \t\tfinal OutputStream os = process.getOutputStream();\r\n    \t\tos.write(&quot;a&quot;.getBytes());\r\n    \r\n    \t\t// maybe needs newline to simulate enter key, \\n may be enough for windows\r\n    \t\t// use any of the following 2\r\n    \t\tfinal String lineSeparator1 = System.lineSeparator();\r\n    \t\tfinal String lineSeparator2 = System.getProperty(&quot;line.separator&quot;);\r\n    \r\n    \t\tos.write(lineSeparator1.getBytes());\r\n    \r\n    \t\tos.flush(); // may not be needed, check out process.getOutputStream()&#39;s documentation\r\n    \r\n    \r\n    \t\t// quick and dirty reading of app output, you can do that a lot better\r\n    \t\tfinal InputStream is = process.getInputStream();\r\n    \t\twhile (true) {\r\n    \t\t\tfinal int b = is.read();\r\n    \t\t\tif (b == -1) break;\r\n    \r\n    \t\t\tSystem.out.print((char) b);\r\n    \t\t}\r\n    \r\n    \t\t// same quick+dirty. remember you might need to use multi-threading or pseudo-parallel read if you depend on output of either in or err channel\r\n    \t\tfinal InputStream es = process.getErrorStream();\r\n    \t\twhile (true) {\r\n    \t\t\tfinal int b = es.read();\r\n    \t\t\tif (b == -1) break;\r\n    \r\n    \t\t\tSystem.out.print((char) b);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n","title":"How to trigger console app on Linux from Java app","body":"<p>Try this:</p>\n<pre><code>package stackoverflow;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\npublic class ProcessAccess {\n\n\n\n    public static void main(final String[] args) throws IOException {\n        final Process process = Runtime.getRuntime().exec(args);\n\n        // write text to os\n        final OutputStream os = process.getOutputStream();\n        os.write(&quot;a&quot;.getBytes());\n\n        // maybe needs newline to simulate enter key, \\n may be enough for windows\n        // use any of the following 2\n        final String lineSeparator1 = System.lineSeparator();\n        final String lineSeparator2 = System.getProperty(&quot;line.separator&quot;);\n\n        os.write(lineSeparator1.getBytes());\n\n        os.flush(); // may not be needed, check out process.getOutputStream()'s documentation\n\n\n        // quick and dirty reading of app output, you can do that a lot better\n        final InputStream is = process.getInputStream();\n        while (true) {\n            final int b = is.read();\n            if (b == -1) break;\n\n            System.out.print((char) b);\n        }\n\n        // same quick+dirty. remember you might need to use multi-threading or pseudo-parallel read if you depend on output of either in or err channel\n        final InputStream es = process.getErrorStream();\n        while (true) {\n            final int b = es.read();\n            if (b == -1) break;\n\n            System.out.print((char) b);\n        }\n    }\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":2428490,"reputation":13936,"user_id":2119941,"display_name":"Hrvoje"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74555418,"answer_count":1,"score":1,"last_activity_date":1669261725,"creation_date":1669261024,"question_id":74555335,"body_markdown":"I have console app in Ubuntu that receives as input just letter `&quot;a&quot;`.\r\n\r\nSo when user types `&quot;a&quot;` in console - this triggers some other process. \r\n\r\nNow I have Java app that would need to trigger this console app by passing `&quot;a&quot;` to it. \r\n\r\nWhat would be best way to implement that? I just need few pointers. \r\n\r\nTried to find similar soulutons but no luck. \r\n","title":"How to trigger console app on Linux from Java app","body":"<p>I have console app in Ubuntu that receives as input just letter <code>&quot;a&quot;</code>.</p>\n<p>So when user types <code>&quot;a&quot;</code> in console - this triggers some other process.</p>\n<p>Now I have Java app that would need to trigger this console app by passing <code>&quot;a&quot;</code> to it.</p>\n<p>What would be best way to implement that? I just need few pointers.</p>\n<p>Tried to find similar soulutons but no luck.</p>\n"},{"tags":["java","spring-boot","serialization","timestamp","localdatetime"],"comments":[{"owner":{"account_id":19014896,"reputation":45,"user_id":13880088,"display_name":"vince"},"score":0,"creation_date":1643620315,"post_id":70923462,"comment_id":125379411,"body_markdown":"I forgot to say, I tried also to add jackson-datatype-jsr310 dependency","body":"I forgot to say, I tried also to add jackson-datatype-jsr310 dependency"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1643620686,"post_id":70923462,"comment_id":125379533,"body_markdown":"`LocalDateTime` is only a date plus a time of day, it does not represent a moment in time because it has no time zone or offset from UTC. It cannot be converted to epoch millis without attaching a zone or an offset. I would try an `Instant`, an `OffsetDateTime` or a `ZonedDateTime` in your case. By the way, please show code that is more relevant to your problem and add some example values (input, desired, actual).","body":"<code>LocalDateTime</code> is only a date plus a time of day, it does not represent a moment in time because it has no time zone or offset from UTC. It cannot be converted to epoch millis without attaching a zone or an offset. I would try an <code>Instant</code>, an <code>OffsetDateTime</code> or a <code>ZonedDateTime</code> in your case. By the way, please show code that is more relevant to your problem and add some example values (input, desired, actual)."},{"owner":{"account_id":19014896,"reputation":45,"user_id":13880088,"display_name":"vince"},"score":0,"creation_date":1643621373,"post_id":70923462,"comment_id":125379792,"body_markdown":"@deHaar Thanks for your fast answer, I edited my post and I think understand I should modify something when I get value for the variable ldt but I don&#39;t see how.","body":"@deHaar Thanks for your fast answer, I edited my post and I think understand I should modify something when I get value for the variable ldt but I don&#39;t see how."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1643622237,"post_id":70923462,"comment_id":125380099,"body_markdown":"I think you just need an `Instant`, would be sufficient if you just want the epoch millis. Ok, it depends on the code that produces your output `&quot;lastIndexDate&quot;: …`, can you show that, too?","body":"I think you just need an <code>Instant</code>, would be sufficient if you just want the epoch millis. Ok, it depends on the code that produces your output <code>&quot;lastIndexDate&quot;: …</code>, can you show that, too?"},{"owner":{"account_id":19014896,"reputation":45,"user_id":13880088,"display_name":"vince"},"score":0,"creation_date":1643622429,"post_id":70923462,"comment_id":125380164,"body_markdown":"@deHaar yes please see the getFirstLocalDateTime method, this is from which I get the output","body":"@deHaar yes please see the getFirstLocalDateTime method, this is from which I get the output"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1643622792,"post_id":70923462,"comment_id":125380281,"body_markdown":"The actual value you posted is an array of the single parts of a `LocalDateTime` (`[ 2022, 1, 4, 2, 2, 2, 655000000 ]` means `[year, month of year, day of month, hour of day, minute of hour, second of minute, fractions of second]`) which cannot be converted to epoch milliseconds without further adjustment. Your desired output is a moment in time (an `Instant`) as `long`, which leads to the conclusion that `LocalDateTime` is not the data type your method should return. Can you change it to return `Instant` and adjust dependencies accordingly?","body":"The actual value you posted is an array of the single parts of a <code>LocalDateTime</code> (<code>[ 2022, 1, 4, 2, 2, 2, 655000000 ]</code> means <code>[year, month of year, day of month, hour of day, minute of hour, second of minute, fractions of second]</code>) which cannot be converted to epoch milliseconds without further adjustment. Your desired output is a moment in time (an <code>Instant</code>) as <code>long</code>, which leads to the conclusion that <code>LocalDateTime</code> is not the data type your method should return. Can you change it to return <code>Instant</code> and adjust dependencies accordingly?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1643622961,"post_id":70923462,"comment_id":125380338,"body_markdown":"You could start with `private Instant getFirstSomething(…) …` and `return ((Date) doc.getFirstValue(key)).toInstant();`. Maybe find out if you can skip the intermediate casting to `Date` later.","body":"You could start with <code>private Instant getFirstSomething(…) …</code> and <code>return ((Date) doc.getFirstValue(key)).toInstant();</code>. Maybe find out if you can skip the intermediate casting to <code>Date</code> later."}],"answers":[{"tags":[],"owner":{"account_id":19014896,"reputation":45,"user_id":13880088,"display_name":"vince"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643631321,"creation_date":1643631321,"answer_id":70925811,"question_id":70923462,"body_markdown":"Thanks to @deHaar who gave me some hints I&#39;ve found how to proceed.\r\n\r\nI created a custom serializer :\r\n\r\n```\r\npublic class LocalDateTimeSerialize extends StdSerializer&lt;LocalDateTime&gt; {\r\n\r\n    public LocalDateTimeSerialize(Class&lt;LocalDateTime&gt; t) {\r\n        super(t);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(LocalDateTime localDateTime, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n        Long l = localDateTime.toInstant(OffsetDateTime.now().getOffset())\r\n                .toEpochMilli();\r\n        jsonGenerator.writeString(l.toString());\r\n    }\r\n}\r\n```\r\n\r\nI change my extendMessageConverters to use this custom serializer in my objectMapper :\r\n\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.registerModule(new JavaTimeModule()\r\n                .addSerializer(LocalDateTime.class, new LocalDateTimeSerialize(LocalDateTime.class)));\r\n```","title":"LocalDateTime not displaying as timestamps (ie as a long) java 8 spring boot 2.2.0","body":"<p>Thanks to @deHaar who gave me some hints I've found how to proceed.</p>\n<p>I created a custom serializer :</p>\n<pre><code>public class LocalDateTimeSerialize extends StdSerializer&lt;LocalDateTime&gt; {\n\n    public LocalDateTimeSerialize(Class&lt;LocalDateTime&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(LocalDateTime localDateTime, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n        Long l = localDateTime.toInstant(OffsetDateTime.now().getOffset())\n                .toEpochMilli();\n        jsonGenerator.writeString(l.toString());\n    }\n}\n</code></pre>\n<p>I change my extendMessageConverters to use this custom serializer in my objectMapper :</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(new JavaTimeModule()\n                .addSerializer(LocalDateTime.class, new LocalDateTimeSerialize(LocalDateTime.class)));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19014896,"reputation":45,"user_id":13880088,"display_name":"vince"},"score":0,"creation_date":1669407868,"post_id":74555413,"comment_id":131641939,"body_markdown":"I tried both, I&#39;ve mentioned it in the tried list.","body":"I tried both, I&#39;ve mentioned it in the tried list."}],"tags":[],"owner":{"account_id":3355404,"reputation":41,"user_id":2818478,"display_name":"Maxxxx"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669261658,"creation_date":1669261658,"answer_id":74555413,"question_id":70923462,"body_markdown":"I&#39;d rather set this config so you don&#39;t have to create a custom serializer:\r\n\r\n    spring:\r\n        jackson:\r\n            serialization:\r\n              write-dates-as-timestamps: true\r\n\r\nThat or set it in your mapper:\r\n\r\n \r\n\r\n       @Bean\r\n        public MappingJackson2HttpMessageConverter jsonConverter() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.registerModule(new JavaTimeModule());\r\n            mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, true);\r\n            mapper.configure(SerializationFeature.INDENT_OUTPUT, true);\r\n            mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, true);\r\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n            return new MappingJackson2HttpMessageConverter(mapper);\r\n        }","title":"LocalDateTime not displaying as timestamps (ie as a long) java 8 spring boot 2.2.0","body":"<p>I'd rather set this config so you don't have to create a custom serializer:</p>\n<pre><code>spring:\n    jackson:\n        serialization:\n          write-dates-as-timestamps: true\n</code></pre>\n<p>That or set it in your mapper:</p>\n<pre><code>   @Bean\n    public MappingJackson2HttpMessageConverter jsonConverter() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new JavaTimeModule());\n        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, true);\n        mapper.configure(SerializationFeature.INDENT_OUTPUT, true);\n        mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, true);\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n        return new MappingJackson2HttpMessageConverter(mapper);\n    }\n</code></pre>\n"}],"owner":{"account_id":19014896,"reputation":45,"user_id":13880088,"display_name":"vince"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1049,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70925811,"answer_count":2,"score":0,"last_activity_date":1669261658,"creation_date":1643620148,"question_id":70923462,"body_markdown":"After visiting all pages about it where I found and tried many many ideas, none worked for me so I write this post.\r\nMy API in java 8 spring boot 2.2.0 have beans that are generated from xsd files. I recently changes the Date type to LocalDateTime (because deprecation so it&#39;s time to change). \r\nThe problem is, before, Date were display in a timestamp format (as a long) and now LocalDateTime are display in an array and I don&#39;t want it.\r\n\r\nWhat I tried to solve:\r\n- I had a WebMvc annotation on a confiuration class, removed it, not solved the issue.\r\n- I added WRITE_DATES_AS_TIMESTAMPS: true in my application.yml (tried many formats on this properties)\r\n- I have a configuration class for message converters where I tried to manually force timestamps.\r\n- I wanted to add a Json annotation in my beans but as it generate from xsd, I don&#39;t know if it is possible. it is ?\r\n\r\nHere is a snippet of the configuration class for message converters :\r\n```\r\n@Configuration\r\n   public class MVCConfigure implements WebMvcConfigurer {\r\n    @Autowired\r\n    private ObjectMapper jacksonObjectMapper;\r\n\r\n    @Override\r\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n\r\n        converters.removeIf(c -&gt; c instanceof MappingJackson2HttpMessageConverter);\r\n\r\n        jacksonObjectMapper.enable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n        converters.add(httpMessageConverterV1V2);\r\n````\r\n\r\nNothing of theses solutions worked and I still get an array for my LocalDateTime (and I want a long).\r\n\r\nHere is how I get the LocalDateTime :\r\n```\r\nprivate LocalDateTime getFirstLocalDateTime(final SolrDocument doc, final String key) {\r\n\t\tLocalDateTime ldt = null;\r\n\t\tDate solrDate = (Date) doc.getFirstValue(key);\r\n\t\tif(solrDate != null){\r\n\t\t\tldt = solrDate.toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();\r\n\t\t}\r\n\t\treturn ldt;\r\n\t}\r\n```\r\n\r\nps : The reason I use Date to get the Date from SolrDoc is because I can&#39;t cast to LocalDateTime directly\r\n\r\nactual value :\r\n&quot;lastIndexedDate&quot;: [\r\n                2022,\r\n                1,\r\n                4,\r\n                2,\r\n                2,\r\n                2,\r\n                655000000\r\n            ]\r\n\r\ndesire value :\r\n&quot;lastIndexedDate&quot;: 1641261722655\r\n\r\n\r\nSo, it is possible to get what I want ?\r\n","title":"LocalDateTime not displaying as timestamps (ie as a long) java 8 spring boot 2.2.0","body":"<p>After visiting all pages about it where I found and tried many many ideas, none worked for me so I write this post.\nMy API in java 8 spring boot 2.2.0 have beans that are generated from xsd files. I recently changes the Date type to LocalDateTime (because deprecation so it's time to change).\nThe problem is, before, Date were display in a timestamp format (as a long) and now LocalDateTime are display in an array and I don't want it.</p>\n<p>What I tried to solve:</p>\n<ul>\n<li>I had a WebMvc annotation on a confiuration class, removed it, not solved the issue.</li>\n<li>I added WRITE_DATES_AS_TIMESTAMPS: true in my application.yml (tried many formats on this properties)</li>\n<li>I have a configuration class for message converters where I tried to manually force timestamps.</li>\n<li>I wanted to add a Json annotation in my beans but as it generate from xsd, I don't know if it is possible. it is ?</li>\n</ul>\n<p>Here is a snippet of the configuration class for message converters :</p>\n<pre><code>@Configuration\n   public class MVCConfigure implements WebMvcConfigurer {\n    @Autowired\n    private ObjectMapper jacksonObjectMapper;\n\n    @Override\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n\n        converters.removeIf(c -&gt; c instanceof MappingJackson2HttpMessageConverter);\n\n        jacksonObjectMapper.enable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n        converters.add(httpMessageConverterV1V2);\n</code></pre>\n<p>Nothing of theses solutions worked and I still get an array for my LocalDateTime (and I want a long).</p>\n<p>Here is how I get the LocalDateTime :</p>\n<pre><code>private LocalDateTime getFirstLocalDateTime(final SolrDocument doc, final String key) {\n        LocalDateTime ldt = null;\n        Date solrDate = (Date) doc.getFirstValue(key);\n        if(solrDate != null){\n            ldt = solrDate.toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();\n        }\n        return ldt;\n    }\n</code></pre>\n<p>ps : The reason I use Date to get the Date from SolrDoc is because I can't cast to LocalDateTime directly</p>\n<p>actual value :\n&quot;lastIndexedDate&quot;: [\n2022,\n1,\n4,\n2,\n2,\n2,\n655000000\n]</p>\n<p>desire value :\n&quot;lastIndexedDate&quot;: 1641261722655</p>\n<p>So, it is possible to get what I want ?</p>\n"},{"tags":["java","reactjs","api","frontend","backend"],"comments":[{"owner":{"account_id":3240296,"reputation":25463,"user_id":2733506,"accept_rate":94,"display_name":"John Ruddell"},"score":0,"creation_date":1669258878,"post_id":74555136,"comment_id":131605612,"body_markdown":"if you need to store credentials then that should be done from the backend or else anyone can view these credentials with a simple network inspection in the browser.","body":"if you need to store credentials then that should be done from the backend or else anyone can view these credentials with a simple network inspection in the browser."},{"owner":{"account_id":21443956,"reputation":1,"user_id":15797889,"display_name":"A Guly"},"score":0,"creation_date":1669258988,"post_id":74555136,"comment_id":131605625,"body_markdown":"yeah, I know. but I was wondering if there is any way around to do it still from front end, because it would make it work faster. And in general I&#39;m curious how the news websites actually do it. Thank you btw!","body":"yeah, I know. but I was wondering if there is any way around to do it still from front end, because it would make it work faster. And in general I&#39;m curious how the news websites actually do it. Thank you btw!"},{"owner":{"account_id":3240296,"reputation":25463,"user_id":2733506,"accept_rate":94,"display_name":"John Ruddell"},"score":0,"creation_date":1669259177,"post_id":74555136,"comment_id":131605649,"body_markdown":"use a proxy api, let the backend handle the auth and forwarding the request, the client can pass whatever params and stuff are needed. But dont do something that will expose your secrets for the sake of negligible speed improvements.","body":"use a proxy api, let the backend handle the auth and forwarding the request, the client can pass whatever params and stuff are needed. But dont do something that will expose your secrets for the sake of negligible speed improvements."},{"owner":{"account_id":21443956,"reputation":1,"user_id":15797889,"display_name":"A Guly"},"score":0,"creation_date":1669259357,"post_id":74555136,"comment_id":131605677,"body_markdown":"Will try to do that. And thank you for quick responses","body":"Will try to do that. And thank you for quick responses"},{"owner":{"account_id":3240296,"reputation":25463,"user_id":2733506,"accept_rate":94,"display_name":"John Ruddell"},"score":0,"creation_date":1669259390,"post_id":74555136,"comment_id":131605683,"body_markdown":"I suspect news sites use backends for all of their content, maybe even server side rendering, secrets can&#39;t live in the client (compiled code or runtime requests) as those can be easily inspected and stolen. Whats awesome is you can go to a site and inspect the page. look at what they are doing and get ideas if you&#39;re stuck, give it a shot :)","body":"I suspect news sites use backends for all of their content, maybe even server side rendering, secrets can&#39;t live in the client (compiled code or runtime requests) as those can be easily inspected and stolen. Whats awesome is you can go to a site and inspect the page. look at what they are doing and get ideas if you&#39;re stuck, give it a shot :)"},{"owner":{"account_id":3240296,"reputation":25463,"user_id":2733506,"accept_rate":94,"display_name":"John Ruddell"},"score":0,"creation_date":1669259471,"post_id":74555136,"comment_id":131605701,"body_markdown":"Sure thing :) hope that is helpful","body":"Sure thing :) hope that is helpful"}],"owner":{"account_id":21443956,"reputation":1,"user_id":15797889,"display_name":"A Guly"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669258786,"creation_date":1669258786,"question_id":74555136,"body_markdown":"I&#39;m building a news feed website where I will post the news from another api. The api requires my credentials to connect, so is it better to place the api requests in backend or there is a way to do it securely through front end. \r\n\r\nRight now I have backend components only for user data, not for news (Java and Spring MVC)\r\nFront end is with React JS. Thank you in advance\r\n\r\nI would want to place it in the front end since it will be faster","title":"Where to place API calls to third party","body":"<p>I'm building a news feed website where I will post the news from another api. The api requires my credentials to connect, so is it better to place the api requests in backend or there is a way to do it securely through front end.</p>\n<p>Right now I have backend components only for user data, not for news (Java and Spring MVC)\nFront end is with React JS. Thank you in advance</p>\n<p>I would want to place it in the front end since it will be faster</p>\n"},{"tags":["java","salesforce","runtime-error","dataloader","azul-zulu"],"owner":{"account_id":25756665,"reputation":1,"user_id":19508217,"display_name":"Navin Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669256576,"creation_date":1657262632,"question_id":72907609,"body_markdown":"the error is as Follows:\r\n\r\nWARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\r\n2022-07-08 12:10:35,625 INFO  [main] controller.Controller initLog (Controller.java:472) - The log has been initialized\r\nUnable to find SWT jar for Windows 10 : x86\r\n\r\n\r\n[salesforce dataloader running error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vHvmp.png","title":"Dataloader for Salesforce while running it, I get the following error, if anyone can please explain what&#39;s wrong?","body":"<p>the error is as Follows:</p>\n<p>WARNING: sun.reflect.Reflection.getCallerClass is not supported. This will impact performance.\n2022-07-08 12:10:35,625 INFO  [main] controller.Controller initLog (Controller.java:472) - The log has been initialized\nUnable to find SWT jar for Windows 10 : x86</p>\n<p><a href=\"https://i.stack.imgur.com/vHvmp.png\" rel=\"nofollow noreferrer\">salesforce dataloader running error</a></p>\n"},{"tags":["java","windows","usb","libusb","usb4java"],"answers":[{"tags":[],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1570140015,"creation_date":1570140015,"answer_id":58227427,"question_id":57241363,"body_markdown":"I know that this is 2 years old, but i&#39;ve had similar issue and this was one of the first questions that i ran into looking for solution, which took me hours.\r\n\r\nSo, basically, windows doesn&#39;t let to read/write keyboard devices directly, to do so, you have to override it&#39;s driver (That&#39;s why you&#39;re getting `Input/Output error`, and it&#39;s written in the [hid4java&#39;s FAQ][1]).\r\n\r\n**First** way to override device driver is described in [libusb wiki][2].\r\nAs far as i know you would have to install a new driver every time you connect the device to a new USB port, which is why i recommend you to read further.\r\n\r\n**Second** way is what you&#39;ve already mentioned, which is using [UsbDk][3] (*Usb Drivers Development Kit for Windows*). It makes the device accessible for you by detaching the kernel driver and reattaching it back after you&#39;re done playing with it.\r\n\r\nIn order to use it, you need to do two things:\r\n\r\n 1. Set the `org.usb4java.javax.useUSBDK = true` in you *javax.usb.properties* file as stated in the [manual][4] (this can also be done manually in *low-level usb4java*, see [OPTION_USE_USBDK][5] and [setOption(Context, int)][6]).\r\n 2. Download and install [UsbDk][3] on your system (simplest way is to download x64 or x86 version msi installer which has GUI and is fully automated), which is sadly not in the manual (maybe it&#39;s obvious for some people, but took me amount of time that i am not proud of to realize).\r\n\r\nIm guessing that the lack of second step is why OP has been getting an exception.\r\n\r\nHope that this will help someone, knowing all this two days ago would save me a lot of headache.\r\n\r\n  [1]: http://usb4java.org/faq.html\r\n  [2]: https://github.com/libusb/libusb/wiki/Windows#How_to_use_libusb_on_Windows\r\n  [3]: https://github.com/daynix/UsbDk/releases\r\n  [4]: http://usb4java.org/configuration.html\r\n  [5]: http://usb4java.org/apidocs/org/usb4java/LibUsb.html#OPTION_USE_USBDK\r\n  [6]: http://usb4java.org/apidocs/org/usb4java/LibUsb.html#setOption-org.usb4java.Context-int-","title":"Java usb4java reading from usb device on windows 10 platform","body":"<p>I know that this is 2 years old, but i've had similar issue and this was one of the first questions that i ran into looking for solution, which took me hours.</p>\n\n<p>So, basically, windows doesn't let to read/write keyboard devices directly, to do so, you have to override it's driver (That's why you're getting <code>Input/Output error</code>, and it's written in the <a href=\"http://usb4java.org/faq.html\" rel=\"nofollow noreferrer\">hid4java's FAQ</a>).</p>\n\n<p><strong>First</strong> way to override device driver is described in <a href=\"https://github.com/libusb/libusb/wiki/Windows#How_to_use_libusb_on_Windows\" rel=\"nofollow noreferrer\">libusb wiki</a>.\nAs far as i know you would have to install a new driver every time you connect the device to a new USB port, which is why i recommend you to read further.</p>\n\n<p><strong>Second</strong> way is what you've already mentioned, which is using <a href=\"https://github.com/daynix/UsbDk/releases\" rel=\"nofollow noreferrer\">UsbDk</a> (<em>Usb Drivers Development Kit for Windows</em>). It makes the device accessible for you by detaching the kernel driver and reattaching it back after you're done playing with it.</p>\n\n<p>In order to use it, you need to do two things:</p>\n\n<ol>\n<li>Set the <code>org.usb4java.javax.useUSBDK = true</code> in you <em>javax.usb.properties</em> file as stated in the <a href=\"http://usb4java.org/configuration.html\" rel=\"nofollow noreferrer\">manual</a> (this can also be done manually in <em>low-level usb4java</em>, see <a href=\"http://usb4java.org/apidocs/org/usb4java/LibUsb.html#OPTION_USE_USBDK\" rel=\"nofollow noreferrer\">OPTION_USE_USBDK</a> and <a href=\"http://usb4java.org/apidocs/org/usb4java/LibUsb.html#setOption-org.usb4java.Context-int-\" rel=\"nofollow noreferrer\">setOption(Context, int)</a>).</li>\n<li>Download and install <a href=\"https://github.com/daynix/UsbDk/releases\" rel=\"nofollow noreferrer\">UsbDk</a> on your system (simplest way is to download x64 or x86 version msi installer which has GUI and is fully automated), which is sadly not in the manual (maybe it's obvious for some people, but took me amount of time that i am not proud of to realize).</li>\n</ol>\n\n<p>Im guessing that the lack of second step is why OP has been getting an exception.</p>\n\n<p>Hope that this will help someone, knowing all this two days ago would save me a lot of headache.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1669479248,"post_id":74554930,"comment_id":131651795,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74554930/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":12156007,"reputation":1,"user_id":8874942,"display_name":"Peter Paul"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669256472,"creation_date":1669256472,"answer_id":74554930,"question_id":57241363,"body_markdown":"RFID readers operate in keyboard emulation mode by default.\r\nYou can normally get a tool from the manufacturer&#39;s website to configure the RFID reader.\r\nThis will allow you to change the reader to HID mode.\r\nThis should resolve your issues.\r\nSorry for the late response but I hope it helps others.","title":"Java usb4java reading from usb device on windows 10 platform","body":"<p>RFID readers operate in keyboard emulation mode by default.\nYou can normally get a tool from the manufacturer's website to configure the RFID reader.\nThis will allow you to change the reader to HID mode.\nThis should resolve your issues.\nSorry for the late response but I hope it helps others.</p>\n"}],"owner":{"account_id":4092618,"reputation":5227,"user_id":3360241,"accept_rate":91,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4456,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58227427,"answer_count":2,"score":3,"last_activity_date":1669256472,"creation_date":1564320555,"question_id":57241363,"body_markdown":"I am trying to read a message from RFID reader connected via USB to windows 10pro machine with [usb4java] library.\r\n\r\nI have managed to claim the interface, opened pipe and registered listener for the data, however the listener is never triggered. The reader acts as keyboard and whatever it reads ends up in active application, such as IDE i have open, instead of in **listener**.\r\n\r\n    UsbInterface usbInterface = activeInteface(device);\r\n    // there is only one endpoint in the list\r\n    UsbEndpoint endpoint = (UsbEndpoint)usbInterface.getUsbEndpoints().get(0);\r\n    UsbPipe pipe = endpoint.getUsbPipe();\r\n    try {\r\n         usbInterface.claim();\r\n         // true\r\n         System.out.println(&quot;claimed usb interface: &quot; + usbInterface.isClaimed());\r\n         pipe.open();\r\n         // true\r\n         System.out.println(&quot;pipe open: &quot; + pipe.isOpen());\r\n         pipe.addUsbPipeListener(new MessageListener());\r\n         // true\r\n         System.out.println(&quot;pipe active: &quot; + pipe.isActive());\r\n         // keep main thread alive, async call should be done from another thread i guess\r\n         Thread.sleep(15000);\r\n        }\r\n       catch (Exception any) {System.out.println(any);}\r\n     }\r\n\r\nAnd the listener:\r\n\r\n    private static class MessageListener implements UsbPipeListener {\r\n\r\n        @Override\r\n        public void errorEventOccurred(UsbPipeErrorEvent event) {\r\n            System.out.println(event.toString() + &quot; , &quot; +event.getUsbException());\r\n        }\r\n\r\n        @Override\r\n        public void dataEventOccurred(UsbPipeDataEvent event) {\r\n            // this code block never triggers\r\n            System.out.println(&quot;listener ...);\r\n            int actualLength = event.getActualLength();\r\n            System.out.println(&quot;length: &quot; + actualLength);\r\n            byte[] data = event.getData();\r\n            System.out.println(&quot;data length &quot; + data.length);\r\n        }\r\n    }\r\n\r\ni have also tried synchronous read instead of asynchronous in the block above, like this:\r\n\r\n    byte[] buffer = new data[8];\r\n    // this fails on its own, don&#39;t even need to read something with RFID reader\r\n    int received = pipe.syncSubmit(buffer);\r\n\r\nfails with:\r\n\r\n    USB error1: Transfer error on interrupt endpoint: Input/Output error\r\n\r\nThere is some windows specific property that library supports: `org.usb4java.javax.useUSBDK = true` \r\nbut this fails when i try to set it with an exception.\r\n\r\nI have 0 experience with USB devices so not sure how to proceed from here.  Is there something wrong with the code, do i need USBDK or device does not support libUSB driver ? Sadly this is not my device and i don&#39;t have access to documentation of the device so cannot be sure if it is device driver issue.\r\n\r\n[usb4java]:http://usb4java.org/quickstart/javax-usb.html","title":"Java usb4java reading from usb device on windows 10 platform","body":"<p>I am trying to read a message from RFID reader connected via USB to windows 10pro machine with <a href=\"http://usb4java.org/quickstart/javax-usb.html\" rel=\"nofollow noreferrer\">usb4java</a> library.</p>\n\n<p>I have managed to claim the interface, opened pipe and registered listener for the data, however the listener is never triggered. The reader acts as keyboard and whatever it reads ends up in active application, such as IDE i have open, instead of in <strong>listener</strong>.</p>\n\n<pre><code>UsbInterface usbInterface = activeInteface(device);\n// there is only one endpoint in the list\nUsbEndpoint endpoint = (UsbEndpoint)usbInterface.getUsbEndpoints().get(0);\nUsbPipe pipe = endpoint.getUsbPipe();\ntry {\n     usbInterface.claim();\n     // true\n     System.out.println(\"claimed usb interface: \" + usbInterface.isClaimed());\n     pipe.open();\n     // true\n     System.out.println(\"pipe open: \" + pipe.isOpen());\n     pipe.addUsbPipeListener(new MessageListener());\n     // true\n     System.out.println(\"pipe active: \" + pipe.isActive());\n     // keep main thread alive, async call should be done from another thread i guess\n     Thread.sleep(15000);\n    }\n   catch (Exception any) {System.out.println(any);}\n }\n</code></pre>\n\n<p>And the listener:</p>\n\n<pre><code>private static class MessageListener implements UsbPipeListener {\n\n    @Override\n    public void errorEventOccurred(UsbPipeErrorEvent event) {\n        System.out.println(event.toString() + \" , \" +event.getUsbException());\n    }\n\n    @Override\n    public void dataEventOccurred(UsbPipeDataEvent event) {\n        // this code block never triggers\n        System.out.println(\"listener ...);\n        int actualLength = event.getActualLength();\n        System.out.println(\"length: \" + actualLength);\n        byte[] data = event.getData();\n        System.out.println(\"data length \" + data.length);\n    }\n}\n</code></pre>\n\n<p>i have also tried synchronous read instead of asynchronous in the block above, like this:</p>\n\n<pre><code>byte[] buffer = new data[8];\n// this fails on its own, don't even need to read something with RFID reader\nint received = pipe.syncSubmit(buffer);\n</code></pre>\n\n<p>fails with:</p>\n\n<pre><code>USB error1: Transfer error on interrupt endpoint: Input/Output error\n</code></pre>\n\n<p>There is some windows specific property that library supports: <code>org.usb4java.javax.useUSBDK = true</code> \nbut this fails when i try to set it with an exception.</p>\n\n<p>I have 0 experience with USB devices so not sure how to proceed from here.  Is there something wrong with the code, do i need USBDK or device does not support libUSB driver ? Sadly this is not my device and i don't have access to documentation of the device so cannot be sure if it is device driver issue.</p>\n"},{"tags":["java","jersey","embedded-jetty","weld"],"answers":[{"tags":[],"owner":{"account_id":13342410,"reputation":33,"user_id":9630238,"display_name":"Francesco Rosso"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669215514,"creation_date":1669215514,"answer_id":74548839,"question_id":74547814,"body_markdown":"I&#39;ve just tryed with Grizzly and it works like a charm.\r\n\r\nHere gradle conf file:\r\n\r\n    plugins {\r\n        id &#39;application&#39;\r\n        id &#39;java&#39;\r\n        id &#39;eclipse&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        // Use JUnit Jupiter for testing.\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter:5.7.2&#39;\r\n    \r\n        // This dependency is used by the application.\r\n    \timplementation &#39;org.slf4j:slf4j-api:2.0.4&#39;\r\n    \timplementation &#39;ch.qos.logback:logback-classic:1.4.5&#39;\r\n    \r\n        implementation &#39;jakarta.enterprise:jakarta.enterprise.cdi-api:3.0.1&#39;\r\n        implementation &#39;jakarta.ws.rs:jakarta.ws.rs-api:3.0.1&#39;\r\n    \r\n        implementation &#39;org.jboss.weld.se:weld-se-core:5.1.0.Final&#39;\r\n        implementation &#39;org.jboss.weld.servlet:weld-servlet-core:5.1.0.Final&#39;\r\n    \r\n        implementation &#39;org.glassfish.grizzly:grizzly-http-server:4.0.0&#39;\r\n    \r\n        implementation &#39;org.glassfish.jersey.core:jersey-server:3.1.0&#39;\r\n        implementation &#39;org.glassfish.jersey.containers:jersey-container-grizzly2-http:3.1.0&#39;\r\n        implementation &#39;org.glassfish.jersey.ext.cdi:jersey-weld2-se:3.1.0&#39;\r\n        implementation &#39;org.glassfish.jersey.inject:jersey-hk2:3.1.0&#39;\r\n        implementation &#39;org.glassfish.jersey.media:jersey-media-json-jackson:3.1.0&#39;\r\n    \r\n        implementation &#39;com.fasterxml.jackson.core:jackson-core:2.12.7&#39;\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.12.7&#39;\r\n    }\r\n    \r\n    application {\r\n        // Define the main class for the application.\r\n        mainClass = &#39;it.gym.StartApp&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        // Use JUnit Platform for unit tests.\r\n        useJUnitPlatform()\r\n    }\r\n\r\nAnd the main class:\r\n\r\n    package it.gym;\r\n    \r\n    import java.net.URI;\r\n    \r\n    import org.glassfish.grizzly.http.server.HttpServer;\r\n    import org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpServerFactory;\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n    import org.jboss.weld.environment.se.Weld;\r\n    \r\n    public class StartApp {\r\n    \r\n        public static void main(String[] args) {\r\n            Weld weld = new Weld();\r\n            weld.initialize();\r\n    \r\n            ResourceConfig resourceConfig = new ResourceConfig();\r\n    \t\tresourceConfig.packages(&quot;it.gym&quot;);\r\n    \r\n            final HttpServer server = GrizzlyHttpServerFactory.createHttpServer(URI.create(&quot;http://localhost:9000/&quot;),\r\n                    resourceConfig);\r\n    \r\n            try {\r\n                Thread.sleep(1000 * 1000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            server.shutdownNow();\r\n            weld.shutdown();\r\n        }\r\n    }\r\n","title":"Jetty embedded + Jersey + Weld","body":"<p>I've just tryed with Grizzly and it works like a charm.</p>\n<p>Here gradle conf file:</p>\n<pre><code>plugins {\n    id 'application'\n    id 'java'\n    id 'eclipse'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // Use JUnit Jupiter for testing.\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.7.2'\n\n    // This dependency is used by the application.\n    implementation 'org.slf4j:slf4j-api:2.0.4'\n    implementation 'ch.qos.logback:logback-classic:1.4.5'\n\n    implementation 'jakarta.enterprise:jakarta.enterprise.cdi-api:3.0.1'\n    implementation 'jakarta.ws.rs:jakarta.ws.rs-api:3.0.1'\n\n    implementation 'org.jboss.weld.se:weld-se-core:5.1.0.Final'\n    implementation 'org.jboss.weld.servlet:weld-servlet-core:5.1.0.Final'\n\n    implementation 'org.glassfish.grizzly:grizzly-http-server:4.0.0'\n\n    implementation 'org.glassfish.jersey.core:jersey-server:3.1.0'\n    implementation 'org.glassfish.jersey.containers:jersey-container-grizzly2-http:3.1.0'\n    implementation 'org.glassfish.jersey.ext.cdi:jersey-weld2-se:3.1.0'\n    implementation 'org.glassfish.jersey.inject:jersey-hk2:3.1.0'\n    implementation 'org.glassfish.jersey.media:jersey-media-json-jackson:3.1.0'\n\n    implementation 'com.fasterxml.jackson.core:jackson-core:2.12.7'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.12.7'\n}\n\napplication {\n    // Define the main class for the application.\n    mainClass = 'it.gym.StartApp'\n}\n\ntasks.named('test') {\n    // Use JUnit Platform for unit tests.\n    useJUnitPlatform()\n}\n</code></pre>\n<p>And the main class:</p>\n<pre><code>package it.gym;\n\nimport java.net.URI;\n\nimport org.glassfish.grizzly.http.server.HttpServer;\nimport org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpServerFactory;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.jboss.weld.environment.se.Weld;\n\npublic class StartApp {\n\n    public static void main(String[] args) {\n        Weld weld = new Weld();\n        weld.initialize();\n\n        ResourceConfig resourceConfig = new ResourceConfig();\n        resourceConfig.packages(&quot;it.gym&quot;);\n\n        final HttpServer server = GrizzlyHttpServerFactory.createHttpServer(URI.create(&quot;http://localhost:9000/&quot;),\n                resourceConfig);\n\n        try {\n            Thread.sleep(1000 * 1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        server.shutdownNow();\n        weld.shutdown();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669256291,"creation_date":1669256291,"answer_id":74554923,"question_id":74547814,"body_markdown":"Jetty team here.\r\n\r\nI went ahead and added an example project for it at\r\n\r\nhttps://github.com/jetty-project/embedded-jetty-jersey-weld\r\n\r\nSee the `jetty-11.0.x` branch for your version.\r\n\r\n_Yeah, we use maven. There&#39;s 3 committers to maven also as committers to Jetty._\r\n\r\nHere&#39;s the highlights.\r\n\r\nFirst, you&#39;ll need the correct dependencies, this is all you need.\r\n\r\n```\r\n    implementation &#39;org.slf4j:slf4j-api:2.0.4&#39;\r\n    implementation &#39;ch.qos.logback:logback-classic:1.4.5&#39;\r\n\r\n    implementation &#39;org.eclipse.jetty:jetty-servlet:11.0.12&#39;\r\n    implementation &#39;org.eclipse.jetty:jetty-cdi:11.0.12&#39;\r\n    \r\n    implementation &#39;org.jboss.weld.servlet:weld-servlet-core:4.0.3.Final&#39;\r\n\r\n    implementation &#39;org.glassfish.jersey.containers:jersey-container-servlet-core:3.0.4&#39;\r\n    implementation &#39;org.glassfish.jersey.media:jersey-cdi2-se:3.0.4&#39;\r\n    implementation &#39;org.glassfish.jersey.media:jersey-media-json-jackson:3.0.4&#39;\r\n```\r\n\r\nWe rely on transitive dependencies to pull in what other dependencies we need.\r\n\r\nThen you&#39;ll want to wire up `jetty-cdi` to the weld implementation.\r\n\r\nReplace ...\r\n\r\n``` java\r\ncontext.addEventListener(Listener.using(weld));\r\ncontext.setAttribute(\r\n   WeldServletLifecycle.BEAN_MANAGER_ATTRIBUTE_NAME,\r\n   container.getBeanManager());\r\n```\r\n\r\n... with ...\r\n\r\n``` java\r\nimport org.eclipse.jetty.cdi.CdiServletContainerInitializer;\r\nimport org.eclipse.jetty.cdi.CdiDecoratingListener;\r\nimport org.jboss.weld.environment.servlet.EnhancedListener;\r\n\r\ncontext.setInitParameter(\r\n    CdiServletContainerInitializer.CDI_INTEGRATION_ATTRIBUTE, \r\n    CdiDecoratingListener.MODE);\r\ncontext.addServletContainerInitializer(new CdiServletContainerInitializer());\r\ncontext.addServletContainerInitializer(new EnhancedListener());\r\n```\r\n\r\nThis is the weld recommended technique to wire things up with Jetty.","title":"Jetty embedded + Jersey + Weld","body":"<p>Jetty team here.</p>\n<p>I went ahead and added an example project for it at</p>\n<p><a href=\"https://github.com/jetty-project/embedded-jetty-jersey-weld\" rel=\"nofollow noreferrer\">https://github.com/jetty-project/embedded-jetty-jersey-weld</a></p>\n<p>See the <code>jetty-11.0.x</code> branch for your version.</p>\n<p><em>Yeah, we use maven. There's 3 committers to maven also as committers to Jetty.</em></p>\n<p>Here's the highlights.</p>\n<p>First, you'll need the correct dependencies, this is all you need.</p>\n<pre><code>    implementation 'org.slf4j:slf4j-api:2.0.4'\n    implementation 'ch.qos.logback:logback-classic:1.4.5'\n\n    implementation 'org.eclipse.jetty:jetty-servlet:11.0.12'\n    implementation 'org.eclipse.jetty:jetty-cdi:11.0.12'\n    \n    implementation 'org.jboss.weld.servlet:weld-servlet-core:4.0.3.Final'\n\n    implementation 'org.glassfish.jersey.containers:jersey-container-servlet-core:3.0.4'\n    implementation 'org.glassfish.jersey.media:jersey-cdi2-se:3.0.4'\n    implementation 'org.glassfish.jersey.media:jersey-media-json-jackson:3.0.4'\n</code></pre>\n<p>We rely on transitive dependencies to pull in what other dependencies we need.</p>\n<p>Then you'll want to wire up <code>jetty-cdi</code> to the weld implementation.</p>\n<p>Replace ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>context.addEventListener(Listener.using(weld));\ncontext.setAttribute(\n   WeldServletLifecycle.BEAN_MANAGER_ATTRIBUTE_NAME,\n   container.getBeanManager());\n</code></pre>\n<p>... with ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.eclipse.jetty.cdi.CdiServletContainerInitializer;\nimport org.eclipse.jetty.cdi.CdiDecoratingListener;\nimport org.jboss.weld.environment.servlet.EnhancedListener;\n\ncontext.setInitParameter(\n    CdiServletContainerInitializer.CDI_INTEGRATION_ATTRIBUTE, \n    CdiDecoratingListener.MODE);\ncontext.addServletContainerInitializer(new CdiServletContainerInitializer());\ncontext.addServletContainerInitializer(new EnhancedListener());\n</code></pre>\n<p>This is the weld recommended technique to wire things up with Jetty.</p>\n"}],"owner":{"account_id":13342410,"reputation":33,"user_id":9630238,"display_name":"Francesco Rosso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669256291,"creation_date":1669211111,"question_id":74547814,"body_markdown":"I&#39;m trying to implement (into Java SE) a standalone embedded web server, exposing REST application with CDI support.\r\n\r\nI followed up a simple tutorial at this link https://techunity.de/blog/integrate-a-rest-service-into-a-standalone-java-application/, but I don&#39;t want to use OpenAPI, just simple JAX-RS resource classes.\r\n\r\nI set up Gradle as follow, with all required dependencies:\r\n```\r\nplugins {\r\n    id &#39;application&#39;\r\n    id &#39;java&#39;\r\n    id &#39;eclipse&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // Use JUnit Jupiter for testing.\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.7.2&#39;\r\n\r\n    // This dependency is used by the application.\r\n\timplementation &#39;org.slf4j:slf4j-api:2.0.4&#39;\r\n\timplementation &#39;ch.qos.logback:logback-classic:1.4.5&#39;\r\n\r\n    implementation &#39;jakarta.enterprise:jakarta.enterprise.cdi-api:3.0.1&#39;\r\n    implementation &#39;jakarta.ws.rs:jakarta.ws.rs-api:3.0.1&#39;\r\n\r\n    implementation &#39;org.jboss.weld.se:weld-se-core:5.1.0.Final&#39;\r\n    implementation &#39;org.jboss.weld.servlet:weld-servlet-core:5.1.0.Final&#39;\r\n\r\n    implementation &#39;org.eclipse.jetty:jetty-server:11.0.12&#39;\r\n    implementation &#39;org.eclipse.jetty:jetty-servlet:11.0.12&#39;\r\n\r\n    implementation &#39;org.glassfish.jersey.core:jersey-server:3.1.0&#39;\r\n    implementation &#39;org.glassfish.jersey.containers:jersey-container-servlet-core:3.1.0&#39;\r\n    implementation &#39;org.glassfish.jersey.ext.cdi:jersey-cdi1x:3.1.0&#39;\r\n    implementation &#39;org.glassfish.jersey.ext.cdi:jersey-cdi1x-servlet:3.1.0&#39;\r\n    implementation &#39;org.glassfish.jersey.ext.cdi:jersey-weld2-se:3.1.0&#39;\r\n    implementation &#39;org.glassfish.jersey.inject:jersey-hk2:3.1.0&#39;\r\n    implementation &#39;org.glassfish.jersey.media:jersey-media-json-jackson:3.1.0&#39;\r\n\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-core:2.12.7&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.12.7&#39;\r\n}\r\n\r\napplication {\r\n    // Define the main class for the application.\r\n    mainClass = &#39;it.gym.StartApp&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    // Use JUnit Platform for unit tests.\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nThen I created the main class:\r\n```\r\npackage it.gym;\r\n\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.eclipse.jetty.servlet.ServletContextHandler;\r\nimport org.eclipse.jetty.servlet.ServletHolder;\r\nimport org.glassfish.jersey.servlet.ServletContainer;\r\nimport org.jboss.weld.environment.se.Weld;\r\nimport org.jboss.weld.environment.se.WeldContainer;\r\nimport org.jboss.weld.environment.servlet.Listener;\r\nimport org.jboss.weld.environment.servlet.WeldServletLifecycle;\r\n\r\npublic class StartApp {\r\n\r\n    public static void main(String[] args) {\r\n        Weld weld = new Weld();\r\n        WeldContainer container = weld.initialize();\r\n\r\n        final Server server = new Server(9000);\r\n        final ServletContextHandler context = new ServletContextHandler(\r\n                ServletContextHandler.SESSIONS);\r\n        context.setContextPath(&quot;/&quot;);\r\n\r\n        context.addEventListener(Listener.using(weld));\r\n        context.setAttribute(\r\n                WeldServletLifecycle.BEAN_MANAGER_ATTRIBUTE_NAME,\r\n                container.getBeanManager());\r\n\r\n        final ServletHolder servletHolder = new ServletHolder(\r\n                ServletContainer.class);\r\n        servletHolder.setInitOrder(1);\r\n        servletHolder.setInitParameter(\r\n                &quot;jersey.config.server.provider.packages&quot;,\r\n                &quot;it.gym&quot;);\r\n\r\n        context.addServlet(servletHolder, &quot;/rest/*&quot;);\r\n\r\n        server.setHandler(context);\r\n\r\n        try {\r\n            server.start();\r\n            server.join();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd then I created a resource class and a bean class:\r\n```\r\npackage it.gym.rest;\r\n\r\nimport java.util.List;\r\n\r\nimport it.gym.dao.GymDAO;\r\nimport jakarta.enterprise.context.RequestScoped;\r\nimport jakarta.inject.Inject;\r\nimport jakarta.ws.rs.GET;\r\nimport jakarta.ws.rs.Path;\r\nimport jakarta.ws.rs.core.Response;\r\nimport jakarta.ws.rs.core.Response.Status;\r\n\r\n@Path(&quot;/&quot;)\r\n@RequestScoped\r\npublic class GymEndpoint {\r\n\r\n    @Inject\r\n    private GymDAO gymDAO;\r\n    \r\n    @GET\r\n    @Path(&quot;/test&quot;)\r\n    public Response test() {\r\n        List&lt;String&gt; entity = gymDAO.getDevices();\r\n        return Response.status(Status.OK).entity(entity).build();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage it.gym.dao;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport jakarta.enterprise.context.RequestScoped;\r\n\r\n@RequestScoped\r\npublic class GymDAO {\r\n\r\n    public GymDAO() {\r\n\r\n    }\r\n    \r\n    public List&lt;String&gt; getDevices() {\r\n        return new ArrayList&lt;&gt;();\r\n    }\r\n}\r\n```\r\n\r\nWhen I start the server I get the following error. It seems not to find the GymDAO class as a CDI class, ignoring the @RequestScoped annotation. Can anyone figure out what I&#39;m missing?\r\n```\r\njakarta.servlet.ServletException: org.glassfish.jersey.servlet.ServletContainer-15eebbff==org.glassfish.jersey.servlet.ServletContainer@60d52d52{jsp=null,order=1,inst=true,async=true,src=EMBEDDED:null,STARTED}\r\n        at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:651)\r\n        at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415)\r\n        at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$2(ServletHandler.java:725)\r\n        at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\r\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\r\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n        at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n        at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:749)\r\n        at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:392)\r\n        at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:901)\r\n        at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\r\n        at org.eclipse.jetty.server.Server.start(Server.java:470)\r\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\r\n        at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\r\n        at org.eclipse.jetty.server.Server.doStart(Server.java:415)\r\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\r\n        at it.gym.StartApp.main(StartApp.java:40)\r\nCaused by: org.jboss.weld.exceptions.IllegalArgumentException: WELD-001408: Unsatisfied dependencies for type GymDAO with qualifiers @Default\r\n  at injection point [BackedAnnotatedField] @Inject private it.gym.rest.GymEndpoint.gymDAO\r\n  at it.gym.rest.GymEndpoint.gymDAO(GymEndpoint.java:0)\r\n\r\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:83)\r\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:70)\r\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:51)\r\n        at org.glassfish.jersey.ext.cdi1x.internal.AbstractCdiBeanSupplier$2.&lt;init&gt;(AbstractCdiBeanSupplier.java:83)\r\n        at org.glassfish.jersey.ext.cdi1x.internal.AbstractCdiBeanSupplier.&lt;init&gt;(AbstractCdiBeanSupplier.java:79)\r\n        at org.glassfish.jersey.ext.cdi1x.internal.GenericCdiBeanSupplier.&lt;init&gt;(GenericCdiBeanSupplier.java:37)\r\n        at org.glassfish.jersey.ext.cdi1x.internal.CdiComponentProvider.bind(CdiComponentProvider.java:225)\r\n        at org.glassfish.jersey.ext.cdi1x.internal.CdiComponentProvider.bind(CdiComponentProvider.java:182)\r\n        at org.glassfish.jersey.ext.cdi1x.internal.CdiServerComponentProvider.bind(CdiServerComponentProvider.java:50)\r\n        at org.glassfish.jersey.server.ResourceModelConfigurator.bindWithComponentProvider(ResourceModelConfigurator.java:193)\r\n        at org.glassfish.jersey.server.ResourceModelConfigurator.bindProvidersAndResources(ResourceModelConfigurator.java:150)\r\n        at org.glassfish.jersey.server.ResourceModelConfigurator.init(ResourceModelConfigurator.java:63)\r\n        at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:359)\r\n        at org.glassfish.jersey.server.ApplicationHandler.lambda$initialize$1(ApplicationHandler.java:310)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n        at org.glassfish.jersey.internal.Errors.processWithException(Errors.java:232)\r\n        at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:309)\r\n        at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:274)\r\n        at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\r\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\r\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:338)\r\n        at jakarta.servlet.GenericServlet.init(GenericServlet.java:178)\r\n        at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:633)\r\n        ... 20 more\r\nCaused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type GymDAO with qualifiers @Default\r\n  at injection point [BackedAnnotatedField] @Inject private it.gym.rest.GymEndpoint.gymDAO\r\n  at it.gym.rest.GymEndpoint.gymDAO(GymEndpoint.java:0)\r\n\r\n        at org.jboss.weld.bootstrap.Validator.validateInjectionPointForDeploymentProblems(Validator.java:367)\r\n        at org.jboss.weld.bootstrap.Validator.validateInjectionPoint(Validator.java:285)\r\n        at org.jboss.weld.bootstrap.Validator.validateProducer(Validator.java:414)\r\n        at org.jboss.weld.injection.producer.InjectionTargetService.validateProducer(InjectionTargetService.java:36)\r\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.validate(InjectionTargetFactoryImpl.java:153)\r\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:81)\r\n        ... 43 more\r\n14:27:02.984 [Thread-0] INFO org.jboss.weld.Bootstrap - WELD-ENV-002001: Weld SE container 944b54c2-e094-44a2-ba2b-0ae8d247d9aa shut down\r\nWeld SE container 944b54c2-e094-44a2-ba2b-0ae8d247d9aa shut down by shutdown hook\r\n```","title":"Jetty embedded + Jersey + Weld","body":"<p>I'm trying to implement (into Java SE) a standalone embedded web server, exposing REST application with CDI support.</p>\n<p>I followed up a simple tutorial at this link <a href=\"https://techunity.de/blog/integrate-a-rest-service-into-a-standalone-java-application/\" rel=\"nofollow noreferrer\">https://techunity.de/blog/integrate-a-rest-service-into-a-standalone-java-application/</a>, but I don't want to use OpenAPI, just simple JAX-RS resource classes.</p>\n<p>I set up Gradle as follow, with all required dependencies:</p>\n<pre><code>plugins {\n    id 'application'\n    id 'java'\n    id 'eclipse'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // Use JUnit Jupiter for testing.\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.7.2'\n\n    // This dependency is used by the application.\n    implementation 'org.slf4j:slf4j-api:2.0.4'\n    implementation 'ch.qos.logback:logback-classic:1.4.5'\n\n    implementation 'jakarta.enterprise:jakarta.enterprise.cdi-api:3.0.1'\n    implementation 'jakarta.ws.rs:jakarta.ws.rs-api:3.0.1'\n\n    implementation 'org.jboss.weld.se:weld-se-core:5.1.0.Final'\n    implementation 'org.jboss.weld.servlet:weld-servlet-core:5.1.0.Final'\n\n    implementation 'org.eclipse.jetty:jetty-server:11.0.12'\n    implementation 'org.eclipse.jetty:jetty-servlet:11.0.12'\n\n    implementation 'org.glassfish.jersey.core:jersey-server:3.1.0'\n    implementation 'org.glassfish.jersey.containers:jersey-container-servlet-core:3.1.0'\n    implementation 'org.glassfish.jersey.ext.cdi:jersey-cdi1x:3.1.0'\n    implementation 'org.glassfish.jersey.ext.cdi:jersey-cdi1x-servlet:3.1.0'\n    implementation 'org.glassfish.jersey.ext.cdi:jersey-weld2-se:3.1.0'\n    implementation 'org.glassfish.jersey.inject:jersey-hk2:3.1.0'\n    implementation 'org.glassfish.jersey.media:jersey-media-json-jackson:3.1.0'\n\n    implementation 'com.fasterxml.jackson.core:jackson-core:2.12.7'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.12.7'\n}\n\napplication {\n    // Define the main class for the application.\n    mainClass = 'it.gym.StartApp'\n}\n\ntasks.named('test') {\n    // Use JUnit Platform for unit tests.\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>Then I created the main class:</p>\n<pre><code>package it.gym;\n\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.servlet.ServletContextHandler;\nimport org.eclipse.jetty.servlet.ServletHolder;\nimport org.glassfish.jersey.servlet.ServletContainer;\nimport org.jboss.weld.environment.se.Weld;\nimport org.jboss.weld.environment.se.WeldContainer;\nimport org.jboss.weld.environment.servlet.Listener;\nimport org.jboss.weld.environment.servlet.WeldServletLifecycle;\n\npublic class StartApp {\n\n    public static void main(String[] args) {\n        Weld weld = new Weld();\n        WeldContainer container = weld.initialize();\n\n        final Server server = new Server(9000);\n        final ServletContextHandler context = new ServletContextHandler(\n                ServletContextHandler.SESSIONS);\n        context.setContextPath(&quot;/&quot;);\n\n        context.addEventListener(Listener.using(weld));\n        context.setAttribute(\n                WeldServletLifecycle.BEAN_MANAGER_ATTRIBUTE_NAME,\n                container.getBeanManager());\n\n        final ServletHolder servletHolder = new ServletHolder(\n                ServletContainer.class);\n        servletHolder.setInitOrder(1);\n        servletHolder.setInitParameter(\n                &quot;jersey.config.server.provider.packages&quot;,\n                &quot;it.gym&quot;);\n\n        context.addServlet(servletHolder, &quot;/rest/*&quot;);\n\n        server.setHandler(context);\n\n        try {\n            server.start();\n            server.join();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>And then I created a resource class and a bean class:</p>\n<pre><code>package it.gym.rest;\n\nimport java.util.List;\n\nimport it.gym.dao.GymDAO;\nimport jakarta.enterprise.context.RequestScoped;\nimport jakarta.inject.Inject;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.core.Response;\nimport jakarta.ws.rs.core.Response.Status;\n\n@Path(&quot;/&quot;)\n@RequestScoped\npublic class GymEndpoint {\n\n    @Inject\n    private GymDAO gymDAO;\n    \n    @GET\n    @Path(&quot;/test&quot;)\n    public Response test() {\n        List&lt;String&gt; entity = gymDAO.getDevices();\n        return Response.status(Status.OK).entity(entity).build();\n    }\n}\n</code></pre>\n<pre><code>package it.gym.dao;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport jakarta.enterprise.context.RequestScoped;\n\n@RequestScoped\npublic class GymDAO {\n\n    public GymDAO() {\n\n    }\n    \n    public List&lt;String&gt; getDevices() {\n        return new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n<p>When I start the server I get the following error. It seems not to find the GymDAO class as a CDI class, ignoring the @RequestScoped annotation. Can anyone figure out what I'm missing?</p>\n<pre><code>jakarta.servlet.ServletException: org.glassfish.jersey.servlet.ServletContainer-15eebbff==org.glassfish.jersey.servlet.ServletContainer@60d52d52{jsp=null,order=1,inst=true,async=true,src=EMBEDDED:null,STARTED}\n        at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:651)\n        at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415)\n        at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$2(ServletHandler.java:725)\n        at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n        at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n        at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n        at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:749)\n        at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:392)\n        at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:901)\n        at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:306)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:171)\n        at org.eclipse.jetty.server.Server.start(Server.java:470)\n        at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n        at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:89)\n        at org.eclipse.jetty.server.Server.doStart(Server.java:415)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:93)\n        at it.gym.StartApp.main(StartApp.java:40)\nCaused by: org.jboss.weld.exceptions.IllegalArgumentException: WELD-001408: Unsatisfied dependencies for type GymDAO with qualifiers @Default\n  at injection point [BackedAnnotatedField] @Inject private it.gym.rest.GymEndpoint.gymDAO\n  at it.gym.rest.GymEndpoint.gymDAO(GymEndpoint.java:0)\n\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:83)\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:70)\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:51)\n        at org.glassfish.jersey.ext.cdi1x.internal.AbstractCdiBeanSupplier$2.&lt;init&gt;(AbstractCdiBeanSupplier.java:83)\n        at org.glassfish.jersey.ext.cdi1x.internal.AbstractCdiBeanSupplier.&lt;init&gt;(AbstractCdiBeanSupplier.java:79)\n        at org.glassfish.jersey.ext.cdi1x.internal.GenericCdiBeanSupplier.&lt;init&gt;(GenericCdiBeanSupplier.java:37)\n        at org.glassfish.jersey.ext.cdi1x.internal.CdiComponentProvider.bind(CdiComponentProvider.java:225)\n        at org.glassfish.jersey.ext.cdi1x.internal.CdiComponentProvider.bind(CdiComponentProvider.java:182)\n        at org.glassfish.jersey.ext.cdi1x.internal.CdiServerComponentProvider.bind(CdiServerComponentProvider.java:50)\n        at org.glassfish.jersey.server.ResourceModelConfigurator.bindWithComponentProvider(ResourceModelConfigurator.java:193)\n        at org.glassfish.jersey.server.ResourceModelConfigurator.bindProvidersAndResources(ResourceModelConfigurator.java:150)\n        at org.glassfish.jersey.server.ResourceModelConfigurator.init(ResourceModelConfigurator.java:63)\n        at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:359)\n        at org.glassfish.jersey.server.ApplicationHandler.lambda$initialize$1(ApplicationHandler.java:310)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n        at org.glassfish.jersey.internal.Errors.processWithException(Errors.java:232)\n        at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:309)\n        at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:274)\n        at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:154)\n        at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:338)\n        at jakarta.servlet.GenericServlet.init(GenericServlet.java:178)\n        at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:633)\n        ... 20 more\nCaused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type GymDAO with qualifiers @Default\n  at injection point [BackedAnnotatedField] @Inject private it.gym.rest.GymEndpoint.gymDAO\n  at it.gym.rest.GymEndpoint.gymDAO(GymEndpoint.java:0)\n\n        at org.jboss.weld.bootstrap.Validator.validateInjectionPointForDeploymentProblems(Validator.java:367)\n        at org.jboss.weld.bootstrap.Validator.validateInjectionPoint(Validator.java:285)\n        at org.jboss.weld.bootstrap.Validator.validateProducer(Validator.java:414)\n        at org.jboss.weld.injection.producer.InjectionTargetService.validateProducer(InjectionTargetService.java:36)\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.validate(InjectionTargetFactoryImpl.java:153)\n        at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:81)\n        ... 43 more\n14:27:02.984 [Thread-0] INFO org.jboss.weld.Bootstrap - WELD-ENV-002001: Weld SE container 944b54c2-e094-44a2-ba2b-0ae8d247d9aa shut down\nWeld SE container 944b54c2-e094-44a2-ba2b-0ae8d247d9aa shut down by shutdown hook\n</code></pre>\n"},{"tags":["java","visual-studio-code","vscode-extensions","java-11"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669256185,"creation_date":1669256185,"answer_id":74554914,"question_id":74553272,"body_markdown":"Add the following configuration to the **settings.json** to specify the jdk path\r\n\r\n```json\r\n    // Here is the Windows system as an example\r\n    &quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n            &quot;path&quot;: &quot;C:\\\\Users\\\\Admin\\\\AppData\\\\Local\\\\Programs\\\\Eclipse Adoptium\\\\jdk-17.0.3.7-hotspot&quot;,\r\n            &quot;default&quot;: true\r\n        },\r\n    ],\r\n```\r\n\r\nMore information can be found [here][1].\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects","title":"Cannot run java file in VS code in Zorin OS","body":"<p>Add the following configuration to the <strong>settings.json</strong> to specify the jdk path</p>\n<pre class=\"lang-json prettyprint-override\"><code>    // Here is the Windows system as an example\n    &quot;java.configuration.runtimes&quot;: [\n        {\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\n            &quot;path&quot;: &quot;C:\\\\Users\\\\Admin\\\\AppData\\\\Local\\\\Programs\\\\Eclipse Adoptium\\\\jdk-17.0.3.7-hotspot&quot;,\n            &quot;default&quot;: true\n        },\n    ],\n</code></pre>\n<p>More information can be found <a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":27028890,"reputation":23,"user_id":20585637,"display_name":"Anupam Bakshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74554914,"answer_count":1,"score":1,"last_activity_date":1669256185,"creation_date":1669239622,"question_id":74553272,"body_markdown":"When I run Java -version command it shows: \r\n\r\n\r\n```\r\nopenjdk version &quot;17.0.5&quot; 2022-10-18\r\nOpenJDK Runtime Environment Temurin-17.0.5+8 (build 17.0.5+8)\r\nOpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing)\r\n```\r\n\r\nStill, when I open VS code, It shows me this [VS code Window error message](https://i.stack.imgur.com/p84St.png)\r\n\r\nHow to resolve this ??\r\n\r\n\r\n\r\n\r\nI tried installing Multiple JDKs and still the error continues, I tried to look into extensions settings but can&#39;t get what to do \r\n\r\nAlso when i try to configure java runtime with command pallet it shows me this: \r\n\r\n[Vs code window with error](https://i.stack.imgur.com/gdXnt.png)","title":"Cannot run java file in VS code in Zorin OS","body":"<p>When I run Java -version command it shows:</p>\n<pre><code>openjdk version &quot;17.0.5&quot; 2022-10-18\nOpenJDK Runtime Environment Temurin-17.0.5+8 (build 17.0.5+8)\nOpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing)\n</code></pre>\n<p>Still, when I open VS code, It shows me this <a href=\"https://i.stack.imgur.com/p84St.png\" rel=\"nofollow noreferrer\">VS code Window error message</a></p>\n<p>How to resolve this ??</p>\n<p>I tried installing Multiple JDKs and still the error continues, I tried to look into extensions settings but can't get what to do</p>\n<p>Also when i try to configure java runtime with command pallet it shows me this:</p>\n<p><a href=\"https://i.stack.imgur.com/gdXnt.png\" rel=\"nofollow noreferrer\">Vs code window with error</a></p>\n"},{"tags":["java","datetime","exception"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":3,"creation_date":1669252660,"post_id":74554609,"comment_id":131604752,"body_markdown":"I notice you&#39;re catching all exceptions - are you sure it&#39;s an `InvalidDateException` that&#39;s getting thrown? In general `catch(Exception E)` is a dangerous line of code to write, because it can obfuscate unexpected errors","body":"I notice you&#39;re catching all exceptions - are you sure it&#39;s an <code>InvalidDateException</code> that&#39;s getting thrown? In general <code>catch(Exception E)</code> is a dangerous line of code to write, because it can obfuscate unexpected errors"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1669252732,"post_id":74554609,"comment_id":131604764,"body_markdown":"Yeap, just comment out the try/catch block and let it explode, see what is the error :) and if you don&#39;t figure out post the stack trace here in your question","body":"Yeap, just comment out the try/catch block and let it explode, see what is the error :) and if you don&#39;t figure out post the stack trace here in your question"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1669252837,"post_id":74554609,"comment_id":131604775,"body_markdown":"Could you, please, include the sample runs as text in the question body? You may edit the question to do that.","body":"Could you, please, include the sample runs as text in the question body? You may edit the question to do that."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1669253217,"post_id":74554609,"comment_id":131604843,"body_markdown":"Make your life easier: `List&lt;Integer&gt; m31 = List.of(1,3,5,7,8,10,12);` then you can `if (m31.contains(m))`","body":"Make your life easier: <code>List&lt;Integer&gt; m31 = List.of(1,3,5,7,8,10,12);</code> then you can <code>if (m31.contains(m))</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1669254200,"post_id":74554609,"comment_id":131604971,"body_markdown":"Since `m31` and `m30` have elements in ascending order, can `Arrays.binarySearch(m31, m) &gt;= 0` be substituted for `Arrays.asList(m31).contains(m)` ?","body":"Since <code>m31</code> and <code>m30</code> have elements in ascending order, can <code>Arrays.binarySearch(m31, m) &gt;= 0</code> be substituted for <code>Arrays.asList(m31).contains(m)</code> ?"},{"owner":{"account_id":25178936,"reputation":3,"user_id":19020677,"display_name":"02 Ankesh Agarwal"},"score":0,"creation_date":1669259375,"post_id":74554609,"comment_id":131605680,"body_markdown":"there was another instance that came across when I was making changes: &quot; 12 13 2000&quot; this would&#39;ve returned true as no condition was placed in else if(y%4==0 &amp;&amp; d&lt;=29) thus the appropriate change for it was else if(m==2 &amp;&amp; y%4==0 &amp;&amp; d&lt;=29) same for else if(y%4!=0 &amp;&amp; d&lt;=28) =&gt; else if(m==2 &amp;&amp; y%4!=0 &amp;&amp; d&lt;=28)","body":"there was another instance that came across when I was making changes: &quot; 12 13 2000&quot; this would&#39;ve returned true as no condition was placed in else if(y%4==0 &amp;&amp; d&lt;=29) thus the appropriate change for it was else if(m==2 &amp;&amp; y%4==0 &amp;&amp; d&lt;=29) same for else if(y%4!=0 &amp;&amp; d&lt;=28) =&gt; else if(m==2 &amp;&amp; y%4!=0 &amp;&amp; d&lt;=28)"}],"answers":[{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1669253417,"creation_date":1669253011,"answer_id":74554672,"question_id":74554609,"body_markdown":"`Arrays.asList(m31)` is a list of one array, not an array converted to a list. (I hate it too.)\r\n\r\nI&#39;m not entirely clear why, but `List&lt;T&gt;::contains` takes an `Object`, not a `T`, so this type checked. Really seems like it shouldn&#39;t have.\r\n\r\nIt&#39;s a type inferenence thing, I think - if you just declare your arrays as `Integer[]` rather than `int[]` it works.\r\n\r\nSee https://stackoverflow.com/questions/2607289/converting-array-to-list-in-java for more info.","title":"The code is not working for some instances while its working fine for others","body":"<p><code>Arrays.asList(m31)</code> is a list of one array, not an array converted to a list. (I hate it too.)</p>\n<p>I'm not entirely clear why, but <code>List&lt;T&gt;::contains</code> takes an <code>Object</code>, not a <code>T</code>, so this type checked. Really seems like it shouldn't have.</p>\n<p>It's a type inferenence thing, I think - if you just declare your arrays as <code>Integer[]</code> rather than <code>int[]</code> it works.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/2607289/converting-array-to-list-in-java\">Converting array to list in Java</a> for more info.</p>\n"}],"owner":{"account_id":25178936,"reputation":3,"user_id":19020677,"display_name":"02 Ankesh Agarwal"},"comment_count":6,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1669256054,"answer_count":1,"score":-3,"last_activity_date":1669256113,"creation_date":1669252252,"question_id":74554609,"body_markdown":"The question is as follows: Define a class MyDate (day, month, year) with methods to accept and display a MyDate object. Accept date as dd, mm, yyyy. Throw user defined exception &quot;InvalidDateException&quot; if the date is invalid. Examples of invalid dates: \r\n\r\n    12 15 2015\r\n    31 6 1990\r\n    29 2 2001\r\n\r\nI wrote the following code but its not working in some instances. Please assist!\r\n\r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.Arrays;\r\nimport java.io.*;\r\n\r\nclass InvalidDateException extends Exception\r\n{}\r\n\r\nclass MyDate \r\n{\r\n\tint day,month,year;\r\n    \r\n    void accept()\r\n    {   \r\n        try\r\n        {  \r\n            Scanner S= new Scanner(System.in);\r\n    \t\tint d,m,y;\r\n            System.out.println(&quot;\\nEnter day \\nExample: 12 25 30  =&gt;&quot;);\r\n            d=S.nextInt();\r\n            System.out.println(&quot;\\nEnter month \\nExample: 2 6 12  =&gt;&quot;);\r\n            m=S.nextInt();\r\n            System.out.println(&quot;\\nEnter year \\nExample: 2012 2025 1930  =&gt;&quot;);\r\n            y=S.nextInt();\r\n            //display();                                 for testing porposes\r\n            //System.out.println(valid(d,m,y));          for testing porposes\r\n    \t\tif(valid(d,m,y))\r\n    \t\t{\r\n    \t\t\tday=d;\r\n    \t\t\tmonth=m;\r\n    \t\t\tyear=y;\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t    throw new InvalidDateException();\r\n    \t\t}\r\n\t     }\r\n\t    catch(Exception e)\r\n        {\r\n            System.out.println(&quot;InvalidDateException&quot;);\r\n        }\r\n    }\r\n    \r\n    boolean valid(int d,int m,int y)\r\n    {\r\n\t\tint []m31=new int[]{1,3,5,7,8,10,12};\r\n\t\tint []m30=new int[]{4,6,9,11};\r\n                //System.out.println(&quot;\\n\\t\\t&quot;+d+m+y);            for testing porposes\r\n\t\tif(Arrays.asList(m31).contains(m) &amp;&amp; d&lt;=31)\r\n\t\t{\r\n\t\t\t\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse if(Arrays.asList(m30).contains(m) &amp;&amp; d&lt;=30)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse if(y%4==0 &amp;&amp; d&lt;=29)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse if(y%4!=0 &amp;&amp; d&lt;=28)\r\n\t\t{\r\n\t\t    return true;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tvoid display()\r\n\t{\r\n\t    System.out.println(&quot;DAY-MONTH-YEAR :: &quot;+day+&quot;-&quot;+month+&quot;-&quot;+year);\r\n\t}\r\n    \r\n}\r\n\r\n\r\nclass Main\r\n{\r\n    public static void main(String args[])\r\n    {\r\n        MyDate date= new MyDate();\r\n        date.accept();\r\n        date.display();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nWhile I have resolved the other issues, the program seems to not work for days above 29.\r\n\r\n[Its showing valid if day is below 30](https://i.stack.imgur.com/JUxv3.jpg)\r\n\r\n[And invalid for day above 29 changing month or year has no affect](https://i.stack.imgur.com/3WWX4.jpg)","title":"The code is not working for some instances while its working fine for others","body":"<p>The question is as follows: Define a class MyDate (day, month, year) with methods to accept and display a MyDate object. Accept date as dd, mm, yyyy. Throw user defined exception &quot;InvalidDateException&quot; if the date is invalid. Examples of invalid dates:</p>\n<pre><code>12 15 2015\n31 6 1990\n29 2 2001\n</code></pre>\n<p>I wrote the following code but its not working in some instances. Please assist!</p>\n<pre><code>import java.util.*;\nimport java.util.Arrays;\nimport java.io.*;\n\nclass InvalidDateException extends Exception\n{}\n\nclass MyDate \n{\n    int day,month,year;\n    \n    void accept()\n    {   \n        try\n        {  \n            Scanner S= new Scanner(System.in);\n            int d,m,y;\n            System.out.println(&quot;\\nEnter day \\nExample: 12 25 30  =&gt;&quot;);\n            d=S.nextInt();\n            System.out.println(&quot;\\nEnter month \\nExample: 2 6 12  =&gt;&quot;);\n            m=S.nextInt();\n            System.out.println(&quot;\\nEnter year \\nExample: 2012 2025 1930  =&gt;&quot;);\n            y=S.nextInt();\n            //display();                                 for testing porposes\n            //System.out.println(valid(d,m,y));          for testing porposes\n            if(valid(d,m,y))\n            {\n                day=d;\n                month=m;\n                year=y;\n            }\n            else\n            {\n                throw new InvalidDateException();\n            }\n         }\n        catch(Exception e)\n        {\n            System.out.println(&quot;InvalidDateException&quot;);\n        }\n    }\n    \n    boolean valid(int d,int m,int y)\n    {\n        int []m31=new int[]{1,3,5,7,8,10,12};\n        int []m30=new int[]{4,6,9,11};\n                //System.out.println(&quot;\\n\\t\\t&quot;+d+m+y);            for testing porposes\n        if(Arrays.asList(m31).contains(m) &amp;&amp; d&lt;=31)\n        {\n            \n            return true;\n        }\n        else if(Arrays.asList(m30).contains(m) &amp;&amp; d&lt;=30)\n        {\n            return true;\n        }\n        else if(y%4==0 &amp;&amp; d&lt;=29)\n        {\n            return true;\n        }\n        else if(y%4!=0 &amp;&amp; d&lt;=28)\n        {\n            return true;\n        }\n        else\n        {\n            return false;\n        }\n        \n        \n        \n        \n    }\n    \n    void display()\n    {\n        System.out.println(&quot;DAY-MONTH-YEAR :: &quot;+day+&quot;-&quot;+month+&quot;-&quot;+year);\n    }\n    \n}\n\n\nclass Main\n{\n    public static void main(String args[])\n    {\n        MyDate date= new MyDate();\n        date.accept();\n        date.display();\n    }\n}\n\n</code></pre>\n<p>While I have resolved the other issues, the program seems to not work for days above 29.</p>\n<p><a href=\"https://i.stack.imgur.com/JUxv3.jpg\" rel=\"nofollow noreferrer\">Its showing valid if day is below 30</a></p>\n<p><a href=\"https://i.stack.imgur.com/3WWX4.jpg\" rel=\"nofollow noreferrer\">And invalid for day above 29 changing month or year has no affect</a></p>\n"},{"tags":["java","wicket"],"comments":[{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":2,"creation_date":1512676631,"post_id":47700614,"comment_id":82365685,"body_markdown":"This should be fixed in Wicket itself. Please file a bug report!","body":"This should be fixed in Wicket itself. Please file a bug report!"},{"owner":{"account_id":6655850,"reputation":463,"user_id":5136448,"accept_rate":50,"display_name":"User51610"},"score":1,"creation_date":1512749545,"post_id":47700614,"comment_id":82396518,"body_markdown":"I may have to dig deeper in to this, because I created a Wicket quickstart that does the same thing, but I get no exception. The function is the same, image setup is the same, imports are the same, file system location is the same. Not sure what&#39;s going on, but it&#39;ll be hard to duplicate if putting in a quickstart doesn&#39;t result in the behavior I&#39;m seeing in my own project.","body":"I may have to dig deeper in to this, because I created a Wicket quickstart that does the same thing, but I get no exception. The function is the same, image setup is the same, imports are the same, file system location is the same. Not sure what&#39;s going on, but it&#39;ll be hard to duplicate if putting in a quickstart doesn&#39;t result in the behavior I&#39;m seeing in my own project."},{"owner":{"account_id":12203943,"reputation":493,"user_id":8907549,"display_name":"melanzane"},"score":0,"creation_date":1513086979,"post_id":47700614,"comment_id":82509587,"body_markdown":"Have you tried declaring an instance variable `private transient Path path `?","body":"Have you tried declaring an instance variable <code>private transient Path path </code>?"},{"owner":{"account_id":6655850,"reputation":463,"user_id":5136448,"accept_rate":50,"display_name":"User51610"},"score":0,"creation_date":1513115272,"post_id":47700614,"comment_id":82525495,"body_markdown":"@melanzane I tried that, but no go. I&#39;m mainly wondering at this point why it happens in my application but not in a quickstart. I put the exact same stuff in the quickstart as in my full application, but just the parts relevant to that page. I don&#39;t know what extra thing would cause Wicket to give that exception on a library class.","body":"@melanzane I tried that, but no go. I&#39;m mainly wondering at this point why it happens in my application but not in a quickstart. I put the exact same stuff in the quickstart as in my full application, but just the parts relevant to that page. I don&#39;t know what extra thing would cause Wicket to give that exception on a library class."}],"owner":{"account_id":6655850,"reputation":463,"user_id":5136448,"accept_rate":50,"display_name":"User51610"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1669255927,"creation_date":1512667837,"question_id":47700614,"body_markdown":"I am using Wicket 7.9.0.\r\n\r\nI have an image on a page that is loaded from the filesystem, using the first example shown [here][1] \r\n\r\nMy specific code is:\r\n\r\n    private FileSystemResourceReference getImageReference(String name, String fullPath) {\r\n\t\ttry {\r\n\t\t\tPath path = FileSystemResourceReference.getPath(URI.create(&quot;file://&quot; + fullPath));\r\n\t\t\treturn new FileSystemResourceReference(name, path);\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOG.error(e, e);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\nWhen I go to the page once deployed, I get an exception in the log when the page loads, which centers on this:\r\n\r\n    Field hierarchy is:\r\n      2 [class=com.stuff.MyPage, path=2]\r\n        private java.lang.Object org.apache.wicket.MarkupContainer.children [class=java.util.ArrayList]\r\n          private java.lang.Object org.apache.wicket.MarkupContainer.children[write:21][write:24] [class=org.apache.wicket.markup.html.WebMarkupContainer, path=2:imageContainer]\r\n            private java.lang.Object org.apache.wicket.MarkupContainer.children [class=java.util.ArrayList]\r\n              private java.lang.Object org.apache.wicket.MarkupContainer.children[write:1] [class=org.apache.wicket.markup.html.image.Image, path=2:imageContainer:myImage]\r\n                private final org.apache.wicket.markup.html.image.resource.LocalizedImageResource org.apache.wicket.markup.html.image.Image.localizedImageResource [class=org.apache.wicket.markup.html.image.resource.LocalizedImageResource]\r\n                  private org.apache.wicket.request.resource.ResourceReference org.apache.wicket.markup.html.image.resource.LocalizedImageResource.resourceReference [class=org.apache.wicket.resource.FileSystemResourceReference]\r\n                    private java.nio.file.Path org.apache.wicket.resource.FileSystemResourceReference.path [class=sun.nio.fs.UnixPath] &lt;----- field that is causing the problem\r\n\r\nIf it was my own class, it&#39;d be easy enough to fix by adding `implements java.io.Serializable`, but I&#39;m not sure what to do in this case. The page seems to work just fine (*seems to*, so far), but the log gets real ugly.\r\n\r\n  [1]: https://ci.apache.org/projects/wicket/apidocs/7.x/org/apache/wicket/resource/FileSystemResourceReference.html\r\n","title":"Error serializing object in Wicket","body":"<p>I am using Wicket 7.9.0.</p>\n\n<p>I have an image on a page that is loaded from the filesystem, using the first example shown <a href=\"https://ci.apache.org/projects/wicket/apidocs/7.x/org/apache/wicket/resource/FileSystemResourceReference.html\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<p>My specific code is:</p>\n\n<pre><code>private FileSystemResourceReference getImageReference(String name, String fullPath) {\n    try {\n        Path path = FileSystemResourceReference.getPath(URI.create(\"file://\" + fullPath));\n        return new FileSystemResourceReference(name, path);\n    } catch (Exception e) {\n        LOG.error(e, e);\n        return null;\n    }\n}\n</code></pre>\n\n<p>When I go to the page once deployed, I get an exception in the log when the page loads, which centers on this:</p>\n\n<pre><code>Field hierarchy is:\n  2 [class=com.stuff.MyPage, path=2]\n    private java.lang.Object org.apache.wicket.MarkupContainer.children [class=java.util.ArrayList]\n      private java.lang.Object org.apache.wicket.MarkupContainer.children[write:21][write:24] [class=org.apache.wicket.markup.html.WebMarkupContainer, path=2:imageContainer]\n        private java.lang.Object org.apache.wicket.MarkupContainer.children [class=java.util.ArrayList]\n          private java.lang.Object org.apache.wicket.MarkupContainer.children[write:1] [class=org.apache.wicket.markup.html.image.Image, path=2:imageContainer:myImage]\n            private final org.apache.wicket.markup.html.image.resource.LocalizedImageResource org.apache.wicket.markup.html.image.Image.localizedImageResource [class=org.apache.wicket.markup.html.image.resource.LocalizedImageResource]\n              private org.apache.wicket.request.resource.ResourceReference org.apache.wicket.markup.html.image.resource.LocalizedImageResource.resourceReference [class=org.apache.wicket.resource.FileSystemResourceReference]\n                private java.nio.file.Path org.apache.wicket.resource.FileSystemResourceReference.path [class=sun.nio.fs.UnixPath] &lt;----- field that is causing the problem\n</code></pre>\n\n<p>If it was my own class, it'd be easy enough to fix by adding <code>implements java.io.Serializable</code>, but I'm not sure what to do in this case. The page seems to work just fine (<em>seems to</em>, so far), but the log gets real ugly.</p>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1669246418,"post_id":74554033,"comment_id":131603723,"body_markdown":"There are several options (including &quot;DuplicatesStrategy.EXCLUDE&quot;, and &quot;try a different version of Gradle&quot;) here: https://stackoverflow.com/q/67265308/421195, and here: https://youtrack.jetbrains.com/issue/KT-46165.  Q: Do you happen to be using Android Studio (or IntelliJ)?","body":"There are several options (including &quot;DuplicatesStrategy.EXCLUDE&quot;, and &quot;try a different version of Gradle&quot;) here: <a href=\"https://stackoverflow.com/q/67265308/421195\">stackoverflow.com/q/67265308/421195</a>, and here: <a href=\"https://youtrack.jetbrains.com/issue/KT-46165\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-46165</a>.  Q: Do you happen to be using Android Studio (or IntelliJ)?"},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669246661,"post_id":74554033,"comment_id":131603767,"body_markdown":"@paulsm4 I am using IntelliJ 2022.2.3 version","body":"@paulsm4 I am using IntelliJ 2022.2.3 version"},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669246945,"post_id":74554033,"comment_id":131603805,"body_markdown":"@paulsm4 All the solutions with withType&lt;Jar&gt; are throwing error: Caused by: groovy.lang.MissingPropertyException: Could not get unknown property &#39;withType&#39; for task set of type org.gradle.api.internal.tasks.DefaultTaskContainer.","body":"@paulsm4 All the solutions with withType&lt;Jar&gt; are throwing error: Caused by: groovy.lang.MissingPropertyException: Could not get unknown property &#39;withType&#39; for task set of type org.gradle.api.internal.tasks.DefaultTaskContainer."},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669247153,"post_id":74554033,"comment_id":131603833,"body_markdown":"Thank you @paulsm4 for pointing to the thread. Managed to solve it using this, did a little bit of modification for Jar part though:\ntasks.withType(Jar) {\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.example.backendapp.BackendAppApplication&quot;\n    }\n}","body":"Thank you @paulsm4 for pointing to the thread. Managed to solve it using this, did a little bit of modification for Jar part though: tasks.withType(Jar) {     duplicatesStrategy = DuplicatesStrategy.EXCLUDE      manifest {         attributes[&quot;Main-Class&quot;] = &quot;com.example.backendapp.BackendAppApplication&quot;     } }"}],"answers":[{"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1669248637,"post_id":74554162,"comment_id":131604165,"body_markdown":"Glad you got it working.  It&#39;s worth mentioning the alternate (Kotlin?) syntax of `tasks.withType&lt;Jar&gt;() {...}`","body":"Glad you got it working.  It&#39;s worth mentioning the alternate (Kotlin?) syntax of <code>tasks.withType&lt;Jar&gt;() {...}</code>"}],"tags":[],"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669247516,"creation_date":1669247516,"answer_id":74554162,"question_id":74554033,"body_markdown":"This can be solved by adding this to build.gradle:\r\n\r\n    tasks.withType(Jar) {\r\n       duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n       manifest {\r\n          attributes[&quot;Main-Class&quot;] = &quot;com.example.backendapp.BackendAppApplication&quot;\r\n       }\r\n    }","title":"Entry META-INF/MANIFEST.MF is a duplicate but no duplicate handling strategy has been set","body":"<p>This can be solved by adding this to build.gradle:</p>\n<pre><code>tasks.withType(Jar) {\n   duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n   manifest {\n      attributes[&quot;Main-Class&quot;] = &quot;com.example.backendapp.BackendAppApplication&quot;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4701,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1669255641,"creation_date":1669246224,"question_id":74554033,"body_markdown":"I am trying to build a spring web application with some API endpoints. Everytime I try to run &quot;gradle build&quot;, getting error:\r\n\r\n    Entry META-INF/MANIFEST.MF is a duplicate but no duplicate handling strategy has been set.\r\n\r\nFollowing is the output for build --scan:\r\n\r\n    3:23:01 pm: Executing &#39;build --scan&#39;...\r\n    \r\n    &gt; Task :compileJava\r\n    &gt; Task :processResources UP-TO-DATE\r\n    &gt; Task :classes\r\n    &gt; Task :bootJarMainClassName\r\n    &gt; Task :bootJar FAILED\r\n    4 actionable tasks: 3 executed, 1 up-to-date\r\n    \r\n    Publishing a build scan to scans.gradle.com requires accepting the Gradle Terms of Service defined at https://gradle.com/terms-of-service. Do you accept these terms? [yes, no] \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:bootJar&#39;.\r\n    &gt; Entry META-INF/MANIFEST.MF is a duplicate but no duplicate handling strategy has been set. Please refer to https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy for details.\r\n\r\nbuild.gradle:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    jar {\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n        manifest {\r\n            attributes(\r\n                    &#39;Main-Class&#39;: &#39;com.example.backendapp.BackendAppApplication&#39;\r\n            )\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nSolutions I tried till now:\r\n 1. Add &quot;duplicatesStrategy = DuplicatesStrategy.EXCLUDE&quot; inside jar\r\n 2. Downgrade gradle version from 7.5.1 to 7.2","title":"Entry META-INF/MANIFEST.MF is a duplicate but no duplicate handling strategy has been set","body":"<p>I am trying to build a spring web application with some API endpoints. Everytime I try to run &quot;gradle build&quot;, getting error:</p>\n<pre><code>Entry META-INF/MANIFEST.MF is a duplicate but no duplicate handling strategy has been set.\n</code></pre>\n<p>Following is the output for build --scan:</p>\n<pre><code>3:23:01 pm: Executing 'build --scan'...\n\n&gt; Task :compileJava\n&gt; Task :processResources UP-TO-DATE\n&gt; Task :classes\n&gt; Task :bootJarMainClassName\n&gt; Task :bootJar FAILED\n4 actionable tasks: 3 executed, 1 up-to-date\n\nPublishing a build scan to scans.gradle.com requires accepting the Gradle Terms of Service defined at https://gradle.com/terms-of-service. Do you accept these terms? [yes, no] \nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':bootJar'.\n&gt; Entry META-INF/MANIFEST.MF is a duplicate but no duplicate handling strategy has been set. Please refer to https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy for details.\n</code></pre>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.5'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\njar {\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    manifest {\n        attributes(\n                'Main-Class': 'com.example.backendapp.BackendAppApplication'\n        )\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Solutions I tried till now:</p>\n<ol>\n<li>Add &quot;duplicatesStrategy = DuplicatesStrategy.EXCLUDE&quot; inside jar</li>\n<li>Downgrade gradle version from 7.5.1 to 7.2</li>\n</ol>\n"},{"tags":["java","spring-boot","jar","manifest","executable-jar"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669254571,"post_id":74554668,"comment_id":131605018,"body_markdown":"Have a look at the jar file. Does it have the manifest in it? Make sure you&#39;re building via gradle.","body":"Have a look at the jar file. Does it have the manifest in it? Make sure you&#39;re building via gradle."},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1669254968,"post_id":74554668,"comment_id":131605072,"body_markdown":"Please provide the content of your gradle.build file. You are missing spring-boot-gradle-plugin.","body":"Please provide the content of your gradle.build file. You are missing spring-boot-gradle-plugin."},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669255219,"post_id":74554668,"comment_id":131605106,"body_markdown":"@tgdavies I tried the command &quot;jar tf backend-app.jar &gt; log.txt&quot; and I do see manifest file in it:\nMETA-INF/MANIFEST.MF\ncom/\ncom/example/\ncom/example/backendapp/\ncom/example/backendapp/BackendAppApplication.class\ncom/example/backendapp/controller/\ncom/example/backendapp/controller/FileController.class\ncom/example/backendapp/model/\ncom/example/backendapp/model/FileUploadRequest.class\nMETA-INF/\norg/\n...","body":"@tgdavies I tried the command &quot;jar tf backend-app.jar &gt; log.txt&quot; and I do see manifest file in it: META-INF/MANIFEST.MF com/ com/example/ com/example/backendapp/ com/example/backendapp/BackendAppApplication.class com/example/backendapp/controller/ com/example/backendapp/controller/FileController.class com/example/backendapp/model/ com/example/backendapp/model/FileUploadRequest.class META-INF/ org/ ..."},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669255258,"post_id":74554668,"comment_id":131605113,"body_markdown":"@tgdavies yes, before creating this I ran the command: gradle clean build","body":"@tgdavies yes, before creating this I ran the command: gradle clean build"},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669255287,"post_id":74554668,"comment_id":131605121,"body_markdown":"@DhavalGajjar in the plugins section?\nplugins {\n    id &#39;java&#39;\n    id &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\n}","body":"@DhavalGajjar in the plugins section? plugins {     id &#39;java&#39;     id &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;     id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39; }"},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669255617,"post_id":74554668,"comment_id":131605156,"body_markdown":"@DhavalGajjar Added my build.gradle in question as well. Can you please have a look at it?","body":"@DhavalGajjar Added my build.gradle in question as well. Can you please have a look at it?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669270661,"post_id":74554668,"comment_id":131607450,"body_markdown":"How did you create the jar? I suspect the export from Intellij instead of using your Gradle build.","body":"How did you create the jar? I suspect the export from Intellij instead of using your Gradle build."},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669279545,"post_id":74554668,"comment_id":131609927,"body_markdown":"@M. Deinum I ran the command &quot;gradle build clean&quot; as well tried through Build &gt; Build Artifacts &gt; Build option","body":"@M. Deinum I ran the command &quot;gradle build clean&quot; as well tried through Build &gt; Build Artifacts &gt; Build option"},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669279603,"post_id":74554668,"comment_id":131609947,"body_markdown":"I did not find a solution on how to solve this, but I created another project and downgraded my Java version to Java 11. On gradle build, the jar is getting created properly as well as I am able to run the jar file successfully.","body":"I did not find a solution on how to solve this, but I created another project and downgraded my Java version to Java 11. On gradle build, the jar is getting created properly as well as I am able to run the jar file successfully."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669279671,"post_id":74554668,"comment_id":131609968,"body_markdown":"ehrm `gradle build clean`? You first build and then ditch everything? I would also expect the jar to be in `build/libs` not in the out directory. The out directory is from intellij, the `build/libs` is from gradle.","body":"ehrm <code>gradle build clean</code>? You first build and then ditch everything? I would also expect the jar to be in <code>build&#47;libs</code> not in the out directory. The out directory is from intellij, the <code>build&#47;libs</code> is from gradle."},{"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"score":0,"creation_date":1669280678,"post_id":74554668,"comment_id":131610329,"body_markdown":"jar was present in build/libs folder as well @M.Deinum. I tried running jars from both folder locations. Both gave me same errors.","body":"jar was present in build/libs folder as well @M.Deinum. I tried running jars from both folder locations. Both gave me same errors."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669280982,"post_id":74554668,"comment_id":131610432,"body_markdown":"You shouldn&#39;t need the modification of the jar type in your gradle file, Spring Boot plugin will generate the manifest automatically. So I would remove the part of modifying the manifest (I never needed the task etc. if you really want the spring boot plugin allows setting the main class through a property no need to modify that yourself through the manifest task).","body":"You shouldn&#39;t need the modification of the jar type in your gradle file, Spring Boot plugin will generate the manifest automatically. So I would remove the part of modifying the manifest (I never needed the task etc. if you really want the spring boot plugin allows setting the main class through a property no need to modify that yourself through the manifest task)."}],"owner":{"account_id":4937549,"reputation":463,"user_id":3975251,"accept_rate":40,"display_name":"DR93"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669255588,"creation_date":1669252964,"question_id":74554668,"body_markdown":"I am writing a simple spring web application. Following is my main SpringBootApplication class:\r\n\r\n    package com.example.backendapp;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class BackendAppApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(BackendAppApplication.class, args);\r\n        }\r\n    }\r\n\r\nI would like to create jar and then later use it in Dockerfile.\r\n\r\nTo create a jar I followed the steps on IntelliJ: Build &gt; Build Artifacts &gt; backend-app.jar &gt; Build \r\n\r\nThis creates the jar as well under the out folder:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qjgF7.png\r\n\r\nI am trying to run the jar from terminal using the command:\r\n\r\n    java -jar out/artifacts/backend_app_jar/backend-app.jar\r\n\r\nBut it keeps on giving me following error:\r\n\r\n    no main manifest attribute, in out/artifacts/backend_app_jar/backend-app.jar\r\n\r\nI checked following files:\r\n 1. build/resources/main/META-INF/MANIFEST.MF and it has following details:\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: com.example.backendapp.BackendAppApplication\r\n\r\n 2. out/production/resources/META-INF/MANIFEST.MF and it has following details:\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: com.example.backendapp.BackendAppApplication\r\n\r\nIn build.gradle I have:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    tasks.withType(Jar) {\r\n        duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    \r\n        manifest {\r\n            attributes[&quot;Main-Class&quot;] = &quot;com.example.backendapp.BackendAppApplication&quot;\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nWhat is the correct way to create a jar in IntelliJ? Our my MANIFEST.MF files missing something that is required?\r\n","title":"no main manifest attribute, in path/backend-app.jar","body":"<p>I am writing a simple spring web application. Following is my main SpringBootApplication class:</p>\n<pre><code>package com.example.backendapp;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class BackendAppApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(BackendAppApplication.class, args);\n    }\n}\n</code></pre>\n<p>I would like to create jar and then later use it in Dockerfile.</p>\n<p>To create a jar I followed the steps on IntelliJ: Build &gt; Build Artifacts &gt; backend-app.jar &gt; Build</p>\n<p>This creates the jar as well under the out folder:\n<a href=\"https://i.stack.imgur.com/qjgF7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qjgF7.png\" alt=\"enter image description here\" /></a></p>\n<p>I am trying to run the jar from terminal using the command:</p>\n<pre><code>java -jar out/artifacts/backend_app_jar/backend-app.jar\n</code></pre>\n<p>But it keeps on giving me following error:</p>\n<pre><code>no main manifest attribute, in out/artifacts/backend_app_jar/backend-app.jar\n</code></pre>\n<p>I checked following files:</p>\n<ol>\n<li><p>build/resources/main/META-INF/MANIFEST.MF and it has following details:</p>\n<p>Manifest-Version: 1.0\nMain-Class: com.example.backendapp.BackendAppApplication</p>\n</li>\n<li><p>out/production/resources/META-INF/MANIFEST.MF and it has following details:</p>\n<p>Manifest-Version: 1.0\nMain-Class: com.example.backendapp.BackendAppApplication</p>\n</li>\n</ol>\n<p>In build.gradle I have:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.5'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\ntasks.withType(Jar) {\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.example.backendapp.BackendAppApplication&quot;\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>What is the correct way to create a jar in IntelliJ? Our my MANIFEST.MF files missing something that is required?</p>\n"},{"tags":["java","testing","jython","robotframework","atdd"],"answers":[{"comments":[{"owner":{"account_id":4248295,"reputation":1209,"user_id":3476247,"accept_rate":71,"display_name":"bsferreira"},"score":0,"creation_date":1408275798,"post_id":25346057,"comment_id":39521219,"body_markdown":"If I don&#39;t want to create another keyword, you&#39;re saying i should only have this:                            *** Settings ***\nLibrary           robot.MyTest\n\n*** Test Cases ***\nTest1\n    Get Value\n\n*** Keywords ***","body":"If I don&#39;t want to create another keyword, you&#39;re saying i should only have this:                            *** Settings *** Library           robot.MyTest  *** Test Cases *** Test1     Get Value  *** Keywords ***"},{"owner":{"account_id":4815,"reputation":374354,"user_id":7432,"accept_rate":94,"display_name":"Bryan Oakley"},"score":0,"creation_date":1408276994,"post_id":25346057,"comment_id":39521430,"body_markdown":"@Lucas: I&#39;m saying if you&#39;re going go create a new keyword, don&#39;t give it the same name as an existing keyword. If `robot.myTest` already defines a keyword named `Get Value`, there&#39;s no need to also create a keyword in the test case file with the same name.","body":"@Lucas: I&#39;m saying if you&#39;re going go create a new keyword, don&#39;t give it the same name as an existing keyword. If <code>robot.myTest</code> already defines a keyword named <code>Get Value</code>, there&#39;s no need to also create a keyword in the test case file with the same name."},{"owner":{"account_id":4248295,"reputation":1209,"user_id":3476247,"accept_rate":71,"display_name":"bsferreira"},"score":0,"creation_date":1408282510,"post_id":25346057,"comment_id":39522713,"body_markdown":"Thanks for trying to help. The thing is, I don&#39;t want to create another. I just want to use the one on MyTest class, but when I try to use it, ride throws this exception: **FAIL : No keyword with name &#39;Get Value&#39; found**. That&#39;s why I tried to create in Keywords sections. I also get this error: **Importing test library &#39;robot.MyTest&#39; failed: ImportError: No module named robot**","body":"Thanks for trying to help. The thing is, I don&#39;t want to create another. I just want to use the one on MyTest class, but when I try to use it, ride throws this exception: <b>FAIL : No keyword with name &#39;Get Value&#39; found</b>. That&#39;s why I tried to create in Keywords sections. I also get this error: <b>Importing test library &#39;robot.MyTest&#39; failed: ImportError: No module named robot</b>"},{"owner":{"account_id":4815,"reputation":374354,"user_id":7432,"accept_rate":94,"display_name":"Bryan Oakley"},"score":2,"creation_date":1408285272,"post_id":25346057,"comment_id":39523400,"body_markdown":"@Lucas: then you have a different problem than the one you asked here.  While I successfully answered this question, it sounds like your real problem is that you can&#39;t import your library. You should ask about that as a separate question.","body":"@Lucas: then you have a different problem than the one you asked here.  While I successfully answered this question, it sounds like your real problem is that you can&#39;t import your library. You should ask about that as a separate question."},{"owner":{"account_id":4248295,"reputation":1209,"user_id":3476247,"accept_rate":71,"display_name":"bsferreira"},"score":0,"creation_date":1408308796,"post_id":25346057,"comment_id":39529545,"body_markdown":"You&#39;re right, kudos. I just need to find a way to import a complete jar with all classes.. I&#39;m only able to use keywords if a declare the java class (e.g. Library robot.MyTest \\r\\n Library robot.MyTest2 \\r\\n etc).","body":"You&#39;re right, kudos. I just need to find a way to import a complete jar with all classes.. I&#39;m only able to use keywords if a declare the java class (e.g. Library robot.MyTest \\r\\n Library robot.MyTest2 \\r\\n etc)."}],"tags":[],"owner":{"account_id":4815,"reputation":374354,"user_id":7432,"accept_rate":94,"display_name":"Bryan Oakley"},"comment_count":5,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1408245778,"creation_date":1408245778,"answer_id":25346057,"question_id":25345168,"body_markdown":"Your test calls the keyword `Get Value`, which calls the keyword `Get Value`. You&#39;ve created an infinite recursion. `Get Value` calls `Get Value` which calls `Get Value` which calls `Get Value` which calls ...\r\n\r\nThe best solution is the simplest one: don&#39;t create a keyword that calls itself. If there is already a keyword with a given name, don&#39;t create another one with the same name. While you can make it work having two with the same name, it will make your test cases harder to understand.\r\n\r\nIf you have another keyword called `Get Value` and you simply must have two keywords with the same name, you can give the fully qualified name so robot doesn&#39;t call the same keyword again. For example, if your `Get Value` is trying to call the `Get Value` from `robot.myTest`, call it like this:\r\n\r\n    *** Keywords ***\r\n    Get Value\r\n        robot.myTest.Get Value\r\n\r\n","title":"RobotFramework: Maximum limit of started keywords exceeded","body":"<p>Your test calls the keyword <code>Get Value</code>, which calls the keyword <code>Get Value</code>. You've created an infinite recursion. <code>Get Value</code> calls <code>Get Value</code> which calls <code>Get Value</code> which calls <code>Get Value</code> which calls ...</p>\n\n<p>The best solution is the simplest one: don't create a keyword that calls itself. If there is already a keyword with a given name, don't create another one with the same name. While you can make it work having two with the same name, it will make your test cases harder to understand.</p>\n\n<p>If you have another keyword called <code>Get Value</code> and you simply must have two keywords with the same name, you can give the fully qualified name so robot doesn't call the same keyword again. For example, if your <code>Get Value</code> is trying to call the <code>Get Value</code> from <code>robot.myTest</code>, call it like this:</p>\n\n<pre><code>*** Keywords ***\nGet Value\n    robot.myTest.Get Value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2062426,"reputation":1515,"user_id":1838678,"display_name":"Sun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669253311,"creation_date":1669253311,"answer_id":74554689,"question_id":25345168,"body_markdown":"The error message could have been better scripted as \r\n\r\n&gt; &quot;stack overflow due to recursive calling of keyword&quot;\r\n\r\nCheck and fix the keyword to avoid the recursion.","title":"RobotFramework: Maximum limit of started keywords exceeded","body":"<p>The error message could have been better scripted as</p>\n<blockquote>\n<p>&quot;stack overflow due to recursive calling of keyword&quot;</p>\n</blockquote>\n<p>Check and fix the keyword to avoid the recursion.</p>\n"}],"owner":{"account_id":4248295,"reputation":1209,"user_id":3476247,"accept_rate":71,"display_name":"bsferreira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15911,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":25346057,"answer_count":2,"score":2,"last_activity_date":1669253311,"creation_date":1408234193,"question_id":25345168,"body_markdown":"I&#39;m new to RobotFramework and I&#39;m trying to do a simple test. Print an &quot;Hello world&quot; using Log keyword and get a value from a java class (I&#39;m using jybot on Ride):\r\n\r\n    *** Settings ***\r\n    Library           robot.MyTest\r\n    \r\n    *** Test Cases ***\r\n    Test1\r\n        Log    Hello World    INFO\r\n        Get Value\r\n    \r\n    *** Keywords ***\r\n    Get Value\r\n        Get Value\r\n\r\nBut when I run it, the test won&#39;t pass and it will give me this error:\r\n\r\n    Starting test: MyTest.Test1\r\n    20140817 01:00:15.683 :  INFO : Hello world\r\n    20140817 01:00:15.798 :  FAIL : Maximum limit of started keywords exceeded.\r\n    Ending test:   MyTest.Test1\r\n\r\nI&#39;ve searched about it but I still have no clue on this.","title":"RobotFramework: Maximum limit of started keywords exceeded","body":"<p>I'm new to RobotFramework and I'm trying to do a simple test. Print an \"Hello world\" using Log keyword and get a value from a java class (I'm using jybot on Ride):</p>\n\n<pre><code>*** Settings ***\nLibrary           robot.MyTest\n\n*** Test Cases ***\nTest1\n    Log    Hello World    INFO\n    Get Value\n\n*** Keywords ***\nGet Value\n    Get Value\n</code></pre>\n\n<p>But when I run it, the test won't pass and it will give me this error:</p>\n\n<pre><code>Starting test: MyTest.Test1\n20140817 01:00:15.683 :  INFO : Hello world\n20140817 01:00:15.798 :  FAIL : Maximum limit of started keywords exceeded.\nEnding test:   MyTest.Test1\n</code></pre>\n\n<p>I've searched about it but I still have no clue on this.</p>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy","accelerometer"],"answers":[{"tags":[],"owner":{"account_id":4997723,"reputation":62,"user_id":4017666,"display_name":"Ansersion"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550714287,"creation_date":1550714287,"answer_id":54798063,"question_id":54796760,"body_markdown":"First, you need to get the SDKs from the manufacturers. And use the SDKs to make your APP compatible with the smartwatches with different brand. It&#39;s really a giant and trivial work because you are not sure whether the manufacturers are willing to cooperate with you. ","title":"Receive accelerometer and gyroscope signals from smartwatch using BLE","body":"<p>First, you need to get the SDKs from the manufacturers. And use the SDKs to make your APP compatible with the smartwatches with different brand. It's really a giant and trivial work because you are not sure whether the manufacturers are willing to cooperate with you. </p>\n"},{"tags":[],"owner":{"account_id":281477,"reputation":686,"user_id":9085253,"display_name":"Martijn van Welie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550729893,"creation_date":1550729893,"answer_id":54800472,"question_id":54796760,"body_markdown":"Manufacturers of smartwatches generally don’t publish their bluetooth protocol. So even if it is theoretically possible, it is very hard to do it.\r\n\r\nHowever, Some people reverse engineer the protocols and find ways to do it. Here is an article about how to get raw accelerometer and heartrate data from a MiBand device:\r\n\r\nhttps://medium.com/machine-learning-world/how-i-hacked-xiaomi-miband-2-to-control-it-from-linux-a5bd2f36d3ad","title":"Receive accelerometer and gyroscope signals from smartwatch using BLE","body":"<p>Manufacturers of smartwatches generally don’t publish their bluetooth protocol. So even if it is theoretically possible, it is very hard to do it.</p>\n\n<p>However, Some people reverse engineer the protocols and find ways to do it. Here is an article about how to get raw accelerometer and heartrate data from a MiBand device:</p>\n\n<p><a href=\"https://medium.com/machine-learning-world/how-i-hacked-xiaomi-miband-2-to-control-it-from-linux-a5bd2f36d3ad\" rel=\"nofollow noreferrer\">https://medium.com/machine-learning-world/how-i-hacked-xiaomi-miband-2-to-control-it-from-linux-a5bd2f36d3ad</a></p>\n"},{"comments":[{"owner":{"account_id":6410870,"reputation":1742,"user_id":4970679,"display_name":"ahuemmer"},"score":0,"creation_date":1669704931,"post_id":74554457,"comment_id":131696979,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/33257672)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/33257672\">From Review</a>"}],"tags":[],"owner":{"account_id":18798677,"reputation":51,"user_id":13709544,"display_name":"chickysnail"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669250597,"creation_date":1669250597,"answer_id":74554457,"question_id":54796760,"body_markdown":"I found an [app][1], that can connect to mi fit and offers additional tools for xiaomi bands. In the &quot;Tools&quot; section you can extract the accelerometer data, however there is no option for gyroscope\r\n\r\nP.S. Sorry, the site is in Russian, hope you can figure it out ;)\r\n\r\n  [1]: https://4pda.to/forum/index.php?showtopic=672707","title":"Receive accelerometer and gyroscope signals from smartwatch using BLE","body":"<p>I found an <a href=\"https://4pda.to/forum/index.php?showtopic=672707\" rel=\"nofollow noreferrer\">app</a>, that can connect to mi fit and offers additional tools for xiaomi bands. In the &quot;Tools&quot; section you can extract the accelerometer data, however there is no option for gyroscope</p>\n<p>P.S. Sorry, the site is in Russian, hope you can figure it out ;)</p>\n"}],"owner":{"account_id":15376193,"reputation":21,"user_id":11092826,"display_name":"User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2250,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1669250597,"creation_date":1550704514,"question_id":54796760,"body_markdown":"I&#39;m trying to develop an android app that should connect itself with a general smartwatch (miband, polar, etc.). In particular, I want to receive\r\naccelerometer and gyroscope signals using Bluetooth.\r\nI already read many articles about BLE but I didn&#39;t find any additional information about these signals. Does anyone know if it&#39;s possible to receive general signals like these? Is the solution feasible with any type of device?\r\nThanks for your help","title":"Receive accelerometer and gyroscope signals from smartwatch using BLE","body":"<p>I'm trying to develop an android app that should connect itself with a general smartwatch (miband, polar, etc.). In particular, I want to receive\naccelerometer and gyroscope signals using Bluetooth.\nI already read many articles about BLE but I didn't find any additional information about these signals. Does anyone know if it's possible to receive general signals like these? Is the solution feasible with any type of device?\nThanks for your help</p>\n"},{"tags":["java","string"],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1669204170,"post_id":74546289,"comment_id":131590262,"body_markdown":"It&#39;s even easier: `str = str.replaceAll(&quot;^0&quot;, &quot;&quot;);`","body":"It&#39;s even easier: <code>str = str.replaceAll(&quot;^0&quot;, &quot;&quot;);</code>"}],"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669203974,"creation_date":1669203974,"answer_id":74546289,"question_id":74546243,"body_markdown":"You have made things complicated,just use `String.startsWith()` and ` `String.substring()`` can do it\r\n\r\n    public class StringTest {\r\n    \r\n        public static void main(String[] args) {\r\n            String str = &quot;8650&quot;;\r\n            str = &quot;0650&quot;;\r\n            if (str.startsWith(&quot;0&quot;)) {\r\n                str = str.substring(1);\r\n            }\r\n            System.out.println(str);\r\n        }\r\n    }","title":"Is there anyway to delete a specified character in a string?","body":"<p>You have made things complicated,just use <code>String.startsWith()</code> and <code> </code>String.substring()`` can do it</p>\n<pre><code>public class StringTest {\n\n    public static void main(String[] args) {\n        String str = &quot;8650&quot;;\n        str = &quot;0650&quot;;\n        if (str.startsWith(&quot;0&quot;)) {\n            str = str.substring(1);\n        }\n        System.out.println(str);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7586685,"reputation":41,"user_id":5755531,"display_name":"Abirami Balasubramaniyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669204479,"creation_date":1669204479,"answer_id":74546393,"question_id":74546243,"body_markdown":"&gt; Below code might help you.\r\n\r\n        public static void main(String[] args) {\r\n\r\n        String val = &quot;10456&quot;;\r\n        val = (val.charAt(0) == &#39;0&#39;) ? val.substring(1, val.length()) : val;\r\n        System.out.println(val);\r\n    }\r\n\r\n\r\n\r\n ","title":"Is there anyway to delete a specified character in a string?","body":"<blockquote>\n<p>Below code might help you.</p>\n</blockquote>\n<pre><code>    public static void main(String[] args) {\n\n    String val = &quot;10456&quot;;\n    val = (val.charAt(0) == '0') ? val.substring(1, val.length()) : val;\n    System.out.println(val);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17849762,"reputation":104,"user_id":12965752,"display_name":"Bhushan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669250288,"creation_date":1669208515,"answer_id":74547250,"question_id":74546243,"body_markdown":"It will remove all leading zero.\r\n    \r\n    public static void main(String[] args) {\r\n        String str = &quot;000650&quot;;\r\n        str = str.replaceFirst(&quot;^0*&quot;, &quot;&quot;);\r\n        System.out.println(str); // output 650 it will remove all leading zero\r\n    }\r\n    ","title":"Is there anyway to delete a specified character in a string?","body":"<p>It will remove all leading zero.</p>\n<pre><code>public static void main(String[] args) {\n    String str = &quot;000650&quot;;\n    str = str.replaceFirst(&quot;^0*&quot;, &quot;&quot;);\n    System.out.println(str); // output 650 it will remove all leading zero\n}\n</code></pre>\n"}],"owner":{"account_id":27023871,"reputation":1,"user_id":20581459,"display_name":"Charlotte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669250288,"creation_date":1669203727,"question_id":74546243,"body_markdown":"This is my code \r\n\r\n```\r\npublic class StringTest {\r\n\t\r\n\tpublic static void main(String []args) {\r\n\t\t    String str= &quot;8650&quot;;\r\n\t        StringBuilder build = new StringBuilder(str);\r\n\t        char index = str.charAt(0);\r\n\t        System.out.println(index+&quot;&quot;);\r\n\t        int indexStr= build.indexOf(index+&quot;&quot;);\r\n\t        System.out.println(indexStr);\r\n\r\n\t        for( int i = 0; i &lt; str.length(); i++) {\r\n\t\t\tif(indexStr == 0) \t \r\n\t\t\tbuild.deleteCharAt(indexStr);\r\n\t        }\r\n\t\t   System.out.println(build);\r\n\t}\r\n}\r\n```\r\nI want to delete th&#233; first number if it’s 0\r\n\r\nSo if I have 8650 it will print 8650, instead if I have 0650 it will print 650.\r\n\r\n","title":"Is there anyway to delete a specified character in a string?","body":"<p>This is my code</p>\n<pre><code>public class StringTest {\n    \n    public static void main(String []args) {\n            String str= &quot;8650&quot;;\n            StringBuilder build = new StringBuilder(str);\n            char index = str.charAt(0);\n            System.out.println(index+&quot;&quot;);\n            int indexStr= build.indexOf(index+&quot;&quot;);\n            System.out.println(indexStr);\n\n            for( int i = 0; i &lt; str.length(); i++) {\n            if(indexStr == 0)    \n            build.deleteCharAt(indexStr);\n            }\n           System.out.println(build);\n    }\n}\n</code></pre>\n<p>I want to delete thé first number if it’s 0</p>\n<p>So if I have 8650 it will print 8650, instead if I have 0650 it will print 650.</p>\n"},{"tags":["java","spring-boot","docker","file-upload","docker-volume"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1669179096,"post_id":74541736,"comment_id":131583210,"body_markdown":"Your docker config maps the directory `masterclass-photos` on your host to `/var/lib/public/images` in the docker container.  For the container to write a file that you&#39;ll then see on your host, it has to write to `/var/lib/public/images`, or some subdir of that dir.  I don&#39;t see that you&#39;re doing that.  I see that you refer to `masterclass-photos` in your code, but if that code is running in the container, that name has nothing to do with the fact that a directory with that name on the host is mapped to `/var/lib/public/images`.  You need to be writing to `/var/lib/public/images`.","body":"Your docker config maps the directory <code>masterclass-photos</code> on your host to <code>&#47;var&#47;lib&#47;public&#47;images</code> in the docker container.  For the container to write a file that you&#39;ll then see on your host, it has to write to <code>&#47;var&#47;lib&#47;public&#47;images</code>, or some subdir of that dir.  I don&#39;t see that you&#39;re doing that.  I see that you refer to <code>masterclass-photos</code> in your code, but if that code is running in the container, that name has nothing to do with the fact that a directory with that name on the host is mapped to <code>&#47;var&#47;lib&#47;public&#47;images</code>.  You need to be writing to <code>&#47;var&#47;lib&#47;public&#47;images</code>."},{"owner":{"account_id":22957308,"reputation":39,"user_id":17655569,"display_name":"Zakhar Borisov"},"score":0,"creation_date":1669182393,"post_id":74541736,"comment_id":131583774,"body_markdown":"Should I make some changes like this? \n@Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        exposeDirectory(&quot;/var/lib/public/imagess&quot;, registry);\n    }","body":"Should I make some changes like this?  @Override     public void addResourceHandlers(ResourceHandlerRegistry registry) {         exposeDirectory(&quot;/var/lib/public/imagess&quot;, registry);     }"}],"owner":{"account_id":22957308,"reputation":39,"user_id":17655569,"display_name":"Zakhar Borisov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669250031,"creation_date":1669176933,"question_id":74541736,"body_markdown":"I have an apllication where user can upload photos to server (in localhost without Docker it works without problems, I can open images via link in borwser without autentication, authorization).\r\nWhen I&#39;m starting my application on Docker, when user try to upload photo to server, the photo uploaded only in container to folder `masterclass-photos`. And the folder `/var/lib/public/images` where I expecting to see a photo - is empty.\r\n\r\n**How to configure docker to have access to photos just like when running on localhost?**\r\n\r\nProject structure. Folders `masterclass-photos` and `motherforum-data` are created by docker.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAlso I have a logs:\r\n\r\n    2022-11-23 12:18:31 java.net.UnknownHostException: masterclass-photos\r\n    2022-11-23 12:18:31     at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567) ~[na:na]\r\n    2022-11-23 12:18:31     at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\r\n    2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.doConnect(FtpClient.java:1045) ~[na:na]\r\n    2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.tryConnect(FtpClient.java:1010) ~[na:na]\r\n    2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.connect(FtpClient.java:1102) ~[na:na]\r\n    2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.connect(FtpClient.java:1088) ~[na:na]\r\n    ...\r\n    ...\r\n    a lot of line of stacktrace\r\n    ru.rcitsakha.motherforum.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:73) ~[classes!/:1.0-SNAPSHOT]\r\n    ...\r\n    ...\r\n    a lot of line of stacktrace \r\n\r\n\r\nCustomAuthorizationFilter class, which are figured in logs\r\n\r\n    package ru.rcitsakha.motherforum.filter;\r\n    \r\n    import com.auth0.jwt.JWT;\r\n    import com.auth0.jwt.JWTVerifier;\r\n    import com.auth0.jwt.algorithms.Algorithm;\r\n    import com.auth0.jwt.interfaces.DecodedJWT;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import static java.util.Arrays.stream;\r\n    import static org.springframework.http.HttpHeaders.AUTHORIZATION;\r\n    import static org.springframework.http.HttpStatus.FORBIDDEN;\r\n    import static org.springframework.http.MediaType.APPLICATION_JSON_VALUE;\r\n    \r\n    @Slf4j\r\n    public class CustomAuthorizationFilter extends OncePerRequestFilter {\r\n        private String jwtSecret;\r\n    \r\n        public void setJwtSecret(String jwtSecret) {\r\n            this.jwtSecret = jwtSecret;\r\n        }\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request,\r\n                                        HttpServletResponse response,\r\n                                        FilterChain filterChain) throws ServletException, IOException {\r\n    \r\n            if (request.getServletPath().equals(&quot;/api/login&quot;) || request.getServletPath().equals(&quot;/api/token/refresh/**&quot;)) {\r\n                filterChain.doFilter(request, response);\r\n            } else {\r\n                String authorizationHeader = request.getHeader(AUTHORIZATION);\r\n                if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n                    try {\r\n                        String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\r\n                        Algorithm algorithm = Algorithm.HMAC256(jwtSecret.getBytes()); // should be same with authenticationFilter\r\n                        JWTVerifier verifier = JWT.require(algorithm).build();\r\n                        DecodedJWT decodedJWT = verifier.verify(token);\r\n                        String username = decodedJWT.getSubject();\r\n                        String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\r\n                        Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n                        stream(roles).forEach(role -&gt; {\r\n                            authorities.add(new SimpleGrantedAuthority(role));\r\n                        });\r\n                        UsernamePasswordAuthenticationToken authenticationToken =\r\n                                new UsernamePasswordAuthenticationToken(username, null, authorities);\r\n                        SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n                        filterChain.doFilter(request, response);\r\n                    } catch (Exception exception) {\r\n                        log.error(&quot;Error logging in: {}&quot;, exception.getMessage());\r\n                        response.setHeader(&quot;error&quot;, exception.getMessage());\r\n                        response.setStatus(FORBIDDEN.value());\r\n    \r\n                        Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\r\n                        error.put(&quot;error_message&quot;, exception.getMessage());\r\n                        response.setContentType(APPLICATION_JSON_VALUE);\r\n                        new ObjectMapper().writeValue(response.getOutputStream(), error);\r\n                    }\r\n                } else {\r\n                    filterChain.doFilter(request, response); // line 73 from logs\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\ndocker-compose.yml\r\n\r\n    services:\r\n      postgres:\r\n        image: &#39;postgres:15&#39;\r\n        container_name: &#39;java-postgres&#39;\r\n        env_file:\r\n          - config/.envfile\r\n        volumes:\r\n          - ./motherforum-data:/var/lib/postgresql/data\r\n    \r\n    \r\n      app:\r\n        build: ./\r\n        container_name: &#39;java-app&#39;\r\n        environment:\r\n          - &#39;PORT=8080&#39;\r\n          - &#39;SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/motherforumdb&#39;\r\n        ports:\r\n          - 8080:8080\r\n        depends_on:\r\n          - postgres\r\n        volumes:\r\n          - ./masterclass-photos:/var/lib/public/images\r\n\r\nDockerfile\r\n\r\n    FROM openjdk:17\r\n    ADD /target/mother-forum-1.0-SNAPSHOT.jar backend.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/backend.jar&quot;]\r\n\r\nHere I setting resource handler\r\n\r\n    package ru.rcitsakha.motherforum.config;\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    @Configuration\r\n    public class MvcConfig implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            exposeDirectory(&quot;masterclass-photos&quot;, registry);\r\n        }\r\n    \r\n        private void exposeDirectory(String dirName, ResourceHandlerRegistry registry) {\r\n            Path uploadDir = Paths.get(dirName);\r\n            String uploadPath = uploadDir.toFile().getAbsolutePath();\r\n    \r\n            if (dirName.startsWith(&quot;../&quot;)) {\r\n                dirName = dirName.replace(&quot;../&quot;, &quot;&quot;);\r\n            }\r\n    \r\n            registry.addResourceHandler(&quot;/&quot; + dirName + &quot;/**&quot;)\r\n                    .addResourceLocations(&quot;file:/&quot; + uploadPath + &quot;/&quot;);\r\n        }\r\n    }\r\n\r\n\r\nPostman request (), where in JSON body we can see the link of image. This endpoint don&#39;t require JWT because of `http.authorizeHttpRequests().antMatchers(&quot;/api/login/**&quot;, &quot;/token/refresh&quot;, &quot;api/motherforum/**&quot;).permitAll();`\r\n\r\n[![][2]][2]\r\n\r\nFolder `masterclass-photos/3` don&#39;t creating on server file system. But it is created inside container.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAnd the folder `/var/lib/public/images`, where I expect see the foto is empty\r\n\r\n[![enter image description here][4]][4]\r\n\r\nMount of my java application container\r\n\r\n     &quot;Mounts&quot;: [\r\n                {\r\n                    &quot;Type&quot;: &quot;bind&quot;,\r\n                    &quot;Source&quot;: &quot;C:\\\\ProdApps\\\\mother-forum\\\\masterclass-photos&quot;,\r\n                    &quot;Destination&quot;: &quot;/var/lib/public/images&quot;,\r\n                    &quot;Mode&quot;: &quot;rw&quot;,\r\n                    &quot;RW&quot;: true,\r\n                    &quot;Propagation&quot;: &quot;rprivate&quot;\r\n                }\r\n            ] \r\n\r\nMasterClass class, which contains path to photos. Maybe I need change here the method `getPhotosImagePath()` ?\r\n\r\n    package ru.rcitsakha.motherforum.model;\r\n    \r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import lombok.*;\r\n    \r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Pattern;\r\n    import java.util.ArrayList;\r\n    import java.util.HashSet;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;masterclass&quot;)\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    public class MasterClass {\r\n    \r\n        private static final String DATE_TIME_FORMATTER = &quot;dd.MM.yyyy HH:mm&quot;;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        private String title;\r\n    \r\n        @Column(length = 2000)\r\n        private String description;\r\n    \r\n        private String address;\r\n    \r\n        private String dateTime;\r\n    \r\n        private boolean isExpired;\r\n    \r\n        @ManyToMany(fetch = FetchType.LAZY,\r\n                cascade = {\r\n                        CascadeType.PERSIST,\r\n                        CascadeType.MERGE\r\n                })\r\n        @JoinTable(\r\n                name = &quot;masterclass_mother&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;masterclass_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;mother_id&quot;)\r\n        )\r\n        @ToString.Exclude\r\n        @JsonIgnore\r\n        private Set&lt;Mother&gt; mothers = new HashSet&lt;&gt;();\r\n    \r\n        public void addMother(Mother mother) {\r\n            this.mothers.add(mother);\r\n            mother.getMasterClasses().add(this);\r\n        }\r\n    \r\n        @Column(length = 128)\r\n        @ElementCollection\r\n        private List&lt;String&gt; photos = new ArrayList&lt;&gt;();\r\n    \r\n        public void removeMother(long motherId) {\r\n            Mother mother = this.mothers.stream()\r\n                    .filter(m -&gt; m.getId() == motherId)\r\n                    .findFirst()\r\n                    .orElse(null);\r\n    \r\n            if (mother != null) {\r\n                this.mothers.remove(mother);\r\n                mother.getMasterClasses().remove(this);\r\n            }\r\n        }\r\n    \r\n        public void copy(MasterClass masterClass) {\r\n            this.title = masterClass.title;\r\n            this.description = masterClass.description;\r\n            this.address = masterClass.address;\r\n            this.dateTime = masterClass.dateTime;\r\n            this.isExpired = masterClass.isExpired;\r\n        }\r\n    \r\n        @Transient\r\n        public List&lt;String&gt; getPhotosImagePath() {\r\n            if (photos == null) {\r\n                return null;\r\n            }\r\n            return photos.stream()\r\n                    .map(photoFileName -&gt; &quot;/masterclass-photos/&quot; + id + &quot;/&quot; + photoFileName)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/CkTVF.png\r\n  [2]: https://i.stack.imgur.com/b8dUD.png\r\n  [3]: https://i.stack.imgur.com/FbAX2.png\r\n  [4]: https://i.stack.imgur.com/UOirY.png","title":"How to configure Docker volumes in SpringBoot application","body":"<p>I have an apllication where user can upload photos to server (in localhost without Docker it works without problems, I can open images via link in borwser without autentication, authorization).\nWhen I'm starting my application on Docker, when user try to upload photo to server, the photo uploaded only in container to folder <code>masterclass-photos</code>. And the folder <code>/var/lib/public/images</code> where I expecting to see a photo - is empty.</p>\n<p><strong>How to configure docker to have access to photos just like when running on localhost?</strong></p>\n<p>Project structure. Folders <code>masterclass-photos</code> and <code>motherforum-data</code> are created by docker.\n<a href=\"https://i.stack.imgur.com/CkTVF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CkTVF.png\" alt=\"enter image description here\" /></a></p>\n<p>Also I have a logs:</p>\n<pre><code>2022-11-23 12:18:31 java.net.UnknownHostException: masterclass-photos\n2022-11-23 12:18:31     at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567) ~[na:na]\n2022-11-23 12:18:31     at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\n2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.doConnect(FtpClient.java:1045) ~[na:na]\n2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.tryConnect(FtpClient.java:1010) ~[na:na]\n2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.connect(FtpClient.java:1102) ~[na:na]\n2022-11-23 12:18:31     at java.base/sun.net.ftp.impl.FtpClient.connect(FtpClient.java:1088) ~[na:na]\n...\n...\na lot of line of stacktrace\nru.rcitsakha.motherforum.filter.CustomAuthorizationFilter.doFilterInternal(CustomAuthorizationFilter.java:73) ~[classes!/:1.0-SNAPSHOT]\n...\n...\na lot of line of stacktrace \n</code></pre>\n<p>CustomAuthorizationFilter class, which are figured in logs</p>\n<pre><code>package ru.rcitsakha.motherforum.filter;\n\nimport com.auth0.jwt.JWT;\nimport com.auth0.jwt.JWTVerifier;\nimport com.auth0.jwt.algorithms.Algorithm;\nimport com.auth0.jwt.interfaces.DecodedJWT;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport static java.util.Arrays.stream;\nimport static org.springframework.http.HttpHeaders.AUTHORIZATION;\nimport static org.springframework.http.HttpStatus.FORBIDDEN;\nimport static org.springframework.http.MediaType.APPLICATION_JSON_VALUE;\n\n@Slf4j\npublic class CustomAuthorizationFilter extends OncePerRequestFilter {\n    private String jwtSecret;\n\n    public void setJwtSecret(String jwtSecret) {\n        this.jwtSecret = jwtSecret;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request,\n                                    HttpServletResponse response,\n                                    FilterChain filterChain) throws ServletException, IOException {\n\n        if (request.getServletPath().equals(&quot;/api/login&quot;) || request.getServletPath().equals(&quot;/api/token/refresh/**&quot;)) {\n            filterChain.doFilter(request, response);\n        } else {\n            String authorizationHeader = request.getHeader(AUTHORIZATION);\n            if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n                try {\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\n                    Algorithm algorithm = Algorithm.HMAC256(jwtSecret.getBytes()); // should be same with authenticationFilter\n                    JWTVerifier verifier = JWT.require(algorithm).build();\n                    DecodedJWT decodedJWT = verifier.verify(token);\n                    String username = decodedJWT.getSubject();\n                    String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\n                    Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n                    stream(roles).forEach(role -&gt; {\n                        authorities.add(new SimpleGrantedAuthority(role));\n                    });\n                    UsernamePasswordAuthenticationToken authenticationToken =\n                            new UsernamePasswordAuthenticationToken(username, null, authorities);\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n                    filterChain.doFilter(request, response);\n                } catch (Exception exception) {\n                    log.error(&quot;Error logging in: {}&quot;, exception.getMessage());\n                    response.setHeader(&quot;error&quot;, exception.getMessage());\n                    response.setStatus(FORBIDDEN.value());\n\n                    Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\n                    error.put(&quot;error_message&quot;, exception.getMessage());\n                    response.setContentType(APPLICATION_JSON_VALUE);\n                    new ObjectMapper().writeValue(response.getOutputStream(), error);\n                }\n            } else {\n                filterChain.doFilter(request, response); // line 73 from logs\n            }\n        }\n    }\n}\n</code></pre>\n<p>docker-compose.yml</p>\n<pre><code>services:\n  postgres:\n    image: 'postgres:15'\n    container_name: 'java-postgres'\n    env_file:\n      - config/.envfile\n    volumes:\n      - ./motherforum-data:/var/lib/postgresql/data\n\n\n  app:\n    build: ./\n    container_name: 'java-app'\n    environment:\n      - 'PORT=8080'\n      - 'SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/motherforumdb'\n    ports:\n      - 8080:8080\n    depends_on:\n      - postgres\n    volumes:\n      - ./masterclass-photos:/var/lib/public/images\n</code></pre>\n<p>Dockerfile</p>\n<pre><code>FROM openjdk:17\nADD /target/mother-forum-1.0-SNAPSHOT.jar backend.jar\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/backend.jar&quot;]\n</code></pre>\n<p>Here I setting resource handler</p>\n<pre><code>package ru.rcitsakha.motherforum.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\n@Configuration\npublic class MvcConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        exposeDirectory(&quot;masterclass-photos&quot;, registry);\n    }\n\n    private void exposeDirectory(String dirName, ResourceHandlerRegistry registry) {\n        Path uploadDir = Paths.get(dirName);\n        String uploadPath = uploadDir.toFile().getAbsolutePath();\n\n        if (dirName.startsWith(&quot;../&quot;)) {\n            dirName = dirName.replace(&quot;../&quot;, &quot;&quot;);\n        }\n\n        registry.addResourceHandler(&quot;/&quot; + dirName + &quot;/**&quot;)\n                .addResourceLocations(&quot;file:/&quot; + uploadPath + &quot;/&quot;);\n    }\n}\n</code></pre>\n<p>Postman request (), where in JSON body we can see the link of image. This endpoint don't require JWT because of <code>http.authorizeHttpRequests().antMatchers(&quot;/api/login/**&quot;, &quot;/token/refresh&quot;, &quot;api/motherforum/**&quot;).permitAll();</code></p>\n<p><a href=\"https://i.stack.imgur.com/b8dUD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b8dUD.png\" alt=\"\" /></a></p>\n<p>Folder <code>masterclass-photos/3</code> don't creating on server file system. But it is created inside container.</p>\n<p><a href=\"https://i.stack.imgur.com/FbAX2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FbAX2.png\" alt=\"enter image description here\" /></a></p>\n<p>And the folder <code>/var/lib/public/images</code>, where I expect see the foto is empty</p>\n<p><a href=\"https://i.stack.imgur.com/UOirY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UOirY.png\" alt=\"enter image description here\" /></a></p>\n<p>Mount of my java application container</p>\n<pre><code> &quot;Mounts&quot;: [\n            {\n                &quot;Type&quot;: &quot;bind&quot;,\n                &quot;Source&quot;: &quot;C:\\\\ProdApps\\\\mother-forum\\\\masterclass-photos&quot;,\n                &quot;Destination&quot;: &quot;/var/lib/public/images&quot;,\n                &quot;Mode&quot;: &quot;rw&quot;,\n                &quot;RW&quot;: true,\n                &quot;Propagation&quot;: &quot;rprivate&quot;\n            }\n        ] \n</code></pre>\n<p>MasterClass class, which contains path to photos. Maybe I need change here the method <code>getPhotosImagePath()</code> ?</p>\n<pre><code>package ru.rcitsakha.motherforum.model;\n\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport lombok.*;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Pattern;\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\n@Entity\n@Table(name = &quot;masterclass&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@ToString\npublic class MasterClass {\n\n    private static final String DATE_TIME_FORMATTER = &quot;dd.MM.yyyy HH:mm&quot;;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    private String title;\n\n    @Column(length = 2000)\n    private String description;\n\n    private String address;\n\n    private String dateTime;\n\n    private boolean isExpired;\n\n    @ManyToMany(fetch = FetchType.LAZY,\n            cascade = {\n                    CascadeType.PERSIST,\n                    CascadeType.MERGE\n            })\n    @JoinTable(\n            name = &quot;masterclass_mother&quot;,\n            joinColumns = @JoinColumn(name = &quot;masterclass_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;mother_id&quot;)\n    )\n    @ToString.Exclude\n    @JsonIgnore\n    private Set&lt;Mother&gt; mothers = new HashSet&lt;&gt;();\n\n    public void addMother(Mother mother) {\n        this.mothers.add(mother);\n        mother.getMasterClasses().add(this);\n    }\n\n    @Column(length = 128)\n    @ElementCollection\n    private List&lt;String&gt; photos = new ArrayList&lt;&gt;();\n\n    public void removeMother(long motherId) {\n        Mother mother = this.mothers.stream()\n                .filter(m -&gt; m.getId() == motherId)\n                .findFirst()\n                .orElse(null);\n\n        if (mother != null) {\n            this.mothers.remove(mother);\n            mother.getMasterClasses().remove(this);\n        }\n    }\n\n    public void copy(MasterClass masterClass) {\n        this.title = masterClass.title;\n        this.description = masterClass.description;\n        this.address = masterClass.address;\n        this.dateTime = masterClass.dateTime;\n        this.isExpired = masterClass.isExpired;\n    }\n\n    @Transient\n    public List&lt;String&gt; getPhotosImagePath() {\n        if (photos == null) {\n            return null;\n        }\n        return photos.stream()\n                .map(photoFileName -&gt; &quot;/masterclass-photos/&quot; + id + &quot;/&quot; + photoFileName)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n"},{"tags":["java","netbeans","ide"],"comments":[{"owner":{"account_id":2666382,"reputation":745,"user_id":2304741,"accept_rate":75,"display_name":"Sandeep Singh"},"score":0,"creation_date":1519120828,"post_id":48882424,"comment_id":84769056,"body_markdown":"I think you are looking for [this](https://stackoverflow.com/questions/3251202/how-to-open-the-projects-panel-in-netbeans) perhaps.","body":"I think you are looking for <a href=\"https://stackoverflow.com/questions/3251202/how-to-open-the-projects-panel-in-netbeans\">this</a> perhaps."},{"owner":{"account_id":1413412,"reputation":215,"user_id":1339574,"accept_rate":60,"display_name":"Qasim"},"score":0,"creation_date":1519120899,"post_id":48882424,"comment_id":84769094,"body_markdown":"Already tried this. @SandeepRandhawa","body":"Already tried this. @SandeepRandhawa"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1519142993,"post_id":48882424,"comment_id":84784119,"body_markdown":"A few thoughts: [1] Instead of **cmd 1** use **Window -&gt; Projects** to open the **Projects** window. [2] Create a new project. That should open the **Projects** window if it is not already open. [3] If you still don&#39;t have a **Projects** window then open the NetBeans log file using **View -&gt; IDE Log** and look for any relevant error messages.","body":"A few thoughts: [1] Instead of <b>cmd 1</b> use <b>Window -&gt; Projects</b> to open the <b>Projects</b> window. [2] Create a new project. That should open the <b>Projects</b> window if it is not already open. [3] If you still don&#39;t have a <b>Projects</b> window then open the NetBeans log file using <b>View -&gt; IDE Log</b> and look for any relevant error messages."}],"answers":[{"tags":[],"owner":{"account_id":13591130,"reputation":81,"user_id":9804398,"display_name":"rocko"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1526539889,"creation_date":1526539889,"answer_id":50385094,"question_id":48882424,"body_markdown":"Have you tried running it with java 8? If you&#39;re using java 9 or 10, you don&#39;t get a Projects window because NB 8.2 isn&#39;t compatible with them.\r\n\r\nThere&#39;s more info at https://stackoverflow.com/questions/49502600/how-can-i-install-netbeans-with-jdk-10.","title":"Netbeans IDE Project Window not visible","body":"<p>Have you tried running it with java 8? If you're using java 9 or 10, you don't get a Projects window because NB 8.2 isn't compatible with them.</p>\n\n<p>There's more info at <a href=\"https://stackoverflow.com/questions/49502600/how-can-i-install-netbeans-with-jdk-10\">How can I install Netbeans with JDK 10</a>.</p>\n"},{"tags":[],"owner":{"account_id":4727658,"reputation":1200,"user_id":3824100,"accept_rate":100,"display_name":"fury.slay"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1529494691,"creation_date":1529494691,"answer_id":50947338,"question_id":48882424,"body_markdown":"This is a known issue in Netbeans 8.2. It happened to me when I upgraded my Ubuntu from 16.04 to 18.04. The root cause is that the java version was upgraded to 11 along with the OS.\r\n\r\nYou can fix this by doing one of the following:\r\n\r\n - Change the default jdk/jre version in the OS to `java 8`.\r\n - Change the jdk version to 8 in Netbeans by changing its configuration (etc/netbeans.conf). The configuration name is `netbeans_jdkhome`","title":"Netbeans IDE Project Window not visible","body":"<p>This is a known issue in Netbeans 8.2. It happened to me when I upgraded my Ubuntu from 16.04 to 18.04. The root cause is that the java version was upgraded to 11 along with the OS.</p>\n\n<p>You can fix this by doing one of the following:</p>\n\n<ul>\n<li>Change the default jdk/jre version in the OS to <code>java 8</code>.</li>\n<li>Change the jdk version to 8 in Netbeans by changing its configuration (etc/netbeans.conf). The configuration name is <code>netbeans_jdkhome</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10981554,"reputation":1,"user_id":8201058,"display_name":"naturallucky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600583249,"creation_date":1600582841,"answer_id":63976114,"question_id":48882424,"body_markdown":"like @rocko say, (I don&#39;t have &#39;add comment&#39; right yet, so answer this frame )\r\nI encounter same problem in NB 12.0 .\r\n\r\n\r\n**DEAL)   ...my action**\r\n\r\nI changed JDK1.8 → JDK 11 setting in netbeans/etc/netbeans.conf\r\nAfter launch NB,  then open new project. \r\nProject tree appeared and usable again.\r\n\r\n    #netbeans_jdkhome=&quot;C:\\xxx\\jdk1.8.0_242&quot;\r\n    netbeans_jdkhome=&quot;C:\\xxx\\jdk11.0.3_7&quot;\r\n\r\nEnvironment\r\n\r\n - win10  \r\n - corretto\r\n \r\n\r\n","title":"Netbeans IDE Project Window not visible","body":"<p>like @rocko say, (I don't have 'add comment' right yet, so answer this frame )\nI encounter same problem in NB 12.0 .</p>\n<p><strong>DEAL)   ...my action</strong></p>\n<p>I changed JDK1.8 → JDK 11 setting in netbeans/etc/netbeans.conf\nAfter launch NB,  then open new project.\nProject tree appeared and usable again.</p>\n<pre><code>#netbeans_jdkhome=&quot;C:\\xxx\\jdk1.8.0_242&quot;\nnetbeans_jdkhome=&quot;C:\\xxx\\jdk11.0.3_7&quot;\n</code></pre>\n<p>Environment</p>\n<ul>\n<li>win10</li>\n<li>corretto</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7115642,"reputation":168,"user_id":5442050,"display_name":"Kiryamwibo Yenusu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669249865,"creation_date":1669236221,"answer_id":74552781,"question_id":48882424,"body_markdown":"To see projects or files when they disappear on NetBeans, just follow the steps in the image below.\r\n\r\n\r\n![sample_image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uvZSh.png","title":"Netbeans IDE Project Window not visible","body":"<p>To see projects or files when they disappear on NetBeans, just follow the steps in the image below.</p>\n<p><img src=\"https://i.stack.imgur.com/uvZSh.png\" alt=\"sample_image\" /></p>\n"}],"owner":{"account_id":1413412,"reputation":215,"user_id":1339574,"accept_rate":60,"display_name":"Qasim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19330,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1669249865,"creation_date":1519120735,"question_id":48882424,"body_markdown":"The project window within Netbeans IDE is not being displayed. I tried bunch of different things, but the `Project` window does not open at all.\r\n\r\nThings I already tried:\r\n\r\n - Tried with multiple version of Netbeans and JDE, currently using Netbeans IDE 8.2 on MAC.\r\n - Tried to reset windows using `Reset Windows`, `cmd 1`, open existing project,\r\n   create new project. But still the project window does not open within\r\n   Netbeans IDE.\r\n\r\nI made a clean install on MAC with different version of Netbeans, but the issue remains in all. Any suggestion would be helpful.  ","title":"Netbeans IDE Project Window not visible","body":"<p>The project window within Netbeans IDE is not being displayed. I tried bunch of different things, but the <code>Project</code> window does not open at all.</p>\n\n<p>Things I already tried:</p>\n\n<ul>\n<li>Tried with multiple version of Netbeans and JDE, currently using Netbeans IDE 8.2 on MAC.</li>\n<li>Tried to reset windows using <code>Reset Windows</code>, <code>cmd 1</code>, open existing project,\ncreate new project. But still the project window does not open within\nNetbeans IDE.</li>\n</ul>\n\n<p>I made a clean install on MAC with different version of Netbeans, but the issue remains in all. Any suggestion would be helpful.  </p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1669247990,"post_id":74554191,"comment_id":131604001,"body_markdown":"I don&#39;t see a `List&lt;Item&gt; itemList`  in `Room`, have you added that yet?","body":"I don&#39;t see a <code>List&lt;Item&gt; itemList</code>  in <code>Room</code>, have you added that yet?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1669248070,"post_id":74554191,"comment_id":131604012,"body_markdown":"It seems to me you&#39;re confusing things that exist in source code, like &quot;names of variables&quot;, with things that exist at run time, like &quot;the particular text contained in a string right now&quot;.","body":"It seems to me you&#39;re confusing things that exist in source code, like &quot;names of variables&quot;, with things that exist at run time, like &quot;the particular text contained in a string right now&quot;."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1669248100,"post_id":74554191,"comment_id":131604023,"body_markdown":"`getListName` returns a simple String that you assigned at the `Room`&#39;s creation. Create another method like `getItemList` that returns the item list as a String.","body":"<code>getListName</code> returns a simple String that you assigned at the <code>Room</code>&#39;s creation. Create another method like <code>getItemList</code> that returns the item list as a String."},{"owner":{"account_id":16843783,"reputation":19,"user_id":12178509,"display_name":"bruh"},"score":0,"creation_date":1669248212,"post_id":74554191,"comment_id":131604057,"body_markdown":"yh thats the problem, i cant figure out how to use the returned name of the list to then print out the item list","body":"yh thats the problem, i cant figure out how to use the returned name of the list to then print out the item list"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669249079,"creation_date":1669249079,"answer_id":74554324,"question_id":74554191,"body_markdown":"You create a `ArrayList&lt;Item&gt; assemblyHallList`, then you create\r\n\r\n    Room assemblyHall = new Room(&quot;in the assembly hall&quot;, &quot;assemblyHallList&quot;);\r\n\r\nAnd now you expect that room to have some reference to the List.\r\n\r\nThat&#39;s not how this works. The Room now has the `String` value &quot;assemblyHallList&quot; in the `listName` field. But there is no reference to the List. And since `assemblyHallList` is a local variable in your `createRooms` method, there&#39;s no way of resolving it.\r\n\r\nThe Solution is this: Don&#39;t assign the name of the List variable to the Room (why would that work?), instead assign the List itself:\r\n\r\n    List&lt;Item&gt; assemblyHallList = ...;\r\n    Room assemblyHall = new Room(&quot;in the assembly hall&quot;, assemblyHallList);\r\n\r\nOf course you need to change the type of the constructor&#39;s parameter and Room&#39;s  `listName` field to `List&lt;Item&gt;`.\r\n\r\n\r\n\r\n","title":"How to print an arrayList using a variable containing the arrayList name","body":"<p>You create a <code>ArrayList&lt;Item&gt; assemblyHallList</code>, then you create</p>\n<pre><code>Room assemblyHall = new Room(&quot;in the assembly hall&quot;, &quot;assemblyHallList&quot;);\n</code></pre>\n<p>And now you expect that room to have some reference to the List.</p>\n<p>That's not how this works. The Room now has the <code>String</code> value &quot;assemblyHallList&quot; in the <code>listName</code> field. But there is no reference to the List. And since <code>assemblyHallList</code> is a local variable in your <code>createRooms</code> method, there's no way of resolving it.</p>\n<p>The Solution is this: Don't assign the name of the List variable to the Room (why would that work?), instead assign the List itself:</p>\n<pre><code>List&lt;Item&gt; assemblyHallList = ...;\nRoom assemblyHall = new Room(&quot;in the assembly hall&quot;, assemblyHallList);\n</code></pre>\n<p>Of course you need to change the type of the constructor's parameter and Room's  <code>listName</code> field to <code>List&lt;Item&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":20044142,"reputation":65,"user_id":14694240,"display_name":"Metahuman Flash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669249638,"creation_date":1669249638,"answer_id":74554361,"question_id":74554191,"body_markdown":"To answer your question, you can&#39;t just directly access a variable from a string containing its name. Technically, you could make a `static Hashmap&lt;String, ArrayList&lt;Item&gt;&gt;` to keep track of all the lists and access them by their name.\r\n\r\nHowever, I don&#39;t see why you couldn&#39;t just make the list itself part of the constructor and then store the list as an instance variable of the Room.\r\n\r\nSomething like this would work better:\r\n```java\r\nArrayList&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\nitems.add(new Item(&quot;Piece of paper&quot;, true, 1));\r\nRoom room = new Room(&quot;best room&quot;, items);\r\n```\r\n```java\r\npublic class Room  {\r\n    private String description;\r\n    private ArrayList&lt;Item&gt; items;\r\n    private HashMap&lt;String, Room&gt; exits;\r\n\r\n    public Room(String description, ArrayList&lt;Item&gt; items) \r\n    {\r\n        this.description = description;\r\n        this.items = items;\r\n        exits = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    // Other members not shown\r\n}\r\n```\r\n","title":"How to print an arrayList using a variable containing the arrayList name","body":"<p>To answer your question, you can't just directly access a variable from a string containing its name. Technically, you could make a <code>static Hashmap&lt;String, ArrayList&lt;Item&gt;&gt;</code> to keep track of all the lists and access them by their name.</p>\n<p>However, I don't see why you couldn't just make the list itself part of the constructor and then store the list as an instance variable of the Room.</p>\n<p>Something like this would work better:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Item&gt; items = new ArrayList&lt;&gt;();\nitems.add(new Item(&quot;Piece of paper&quot;, true, 1));\nRoom room = new Room(&quot;best room&quot;, items);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Room  {\n    private String description;\n    private ArrayList&lt;Item&gt; items;\n    private HashMap&lt;String, Room&gt; exits;\n\n    public Room(String description, ArrayList&lt;Item&gt; items) \n    {\n        this.description = description;\n        this.items = items;\n        exits = new HashMap&lt;&gt;();\n    }\n\n    // Other members not shown\n}\n</code></pre>\n"}],"owner":{"account_id":16843783,"reputation":19,"user_id":12178509,"display_name":"bruh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74554361,"answer_count":2,"score":-1,"last_activity_date":1669249638,"creation_date":1669247773,"question_id":74554191,"body_markdown":"I know this sounds a bit stupid but I am extending a text-based game and I&#39;m trying to figure out a way to print out the items that are in the room. I have made an arrayList for the room and added and &quot;Item&quot; into it by using a separate class called Item. \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    public class Item\r\n    {\r\n        private String itemName;\r\n        private Boolean pickUp;\r\n        private Integer itemWeight;\r\n    \r\n        /**\r\n         * Constructor for objects of class Items\r\n         */\r\n        public Item(String itemName, Boolean pickUp, Integer itemWeight)\r\n        {\r\n            this.itemName = itemName;\r\n            this.pickUp = pickUp;\r\n            this.itemWeight = itemWeight;\r\n        }\r\n    \r\n        /**\r\n         * Returns the name of the item\r\n         */\r\n        public String getItemName()\r\n        {\r\n            return itemName;\r\n        }\r\n        \r\n        /**\r\n         * Returns the pickUp ability of the item\r\n         */\r\n        public Boolean getPickUp()\r\n        {\r\n            return pickUp;\r\n        }\r\n        \r\n        /**\r\n         * Returns the weight of the item\r\n         */\r\n        public Integer getItemWeight()\r\n        {\r\n            return itemWeight;\r\n        }\r\n    }\r\n\r\nThe part I&#39;m stuck on now is printing those elements out when entering the room. Theres a function in the code that keeps track of the current room and I am trying to use that function to then print out the elements of that corresponding rooms arrayList. Each room in the game is an object from the &quot;Room&quot; class.\r\n\r\n    public class Room  {\r\n        private String description;\r\n        private String listName;\r\n        private HashMap&lt;String, Room&gt; exits;        // stores exits of this room.\r\n   \r\n        public Room(String description, String listName) \r\n        {\r\n            this.description = description;\r\n            this.listName = listName;\r\n            exits = new HashMap&lt;&gt;();\r\n        }\r\n\r\n        public String getListName()\r\n        {\r\n            return listName;\r\n        }\r\n        private void createRooms()\r\n        {\r\n            Room playground, assemblyHall, groundHallway, lunchHall, ITRoom, groundToilets, headteacherOffice, footballCage, stairs, groundClassroom, firstFloorClassroom, exitGate;\r\n          \r\n            // create the rooms\r\n            assemblyHall = new Room(&quot;in the assembly hall&quot;, &quot;assemblyHallList&quot;);\r\n            playground = new Room(&quot;in the main playground of the school&quot;, &quot;playgroundList&quot;);\r\n            .......\r\n            currentRoom = assemblyHall;\r\n            ArrayList&lt;Item&gt; assemblyHallList = new ArrayList&lt;Item&gt;();\r\n            assemblyHallList.add(new Item(&quot;Piece of paper&quot;, true, 1));\r\n\r\nThese last 2 lines are an example of what I will be doing for every room with more items. I feel like I am going about this the wrong way but this was the only idea I had. The problem I have is printing out the elements when I enter a room as I would need to call on the method to get the name of the arrayList then use that name to then access the list and print out the elements in it but I have no idea how to use the string to accesss the array as I would have to use\r\n\r\n    currentRoom.getListName()\r\n\r\nto get the name of the list but when I try to print it out it prints the name itself, not the elements. Any help is appreciated and I can send more parts of the class if needed. Didn&#39;t include it all as its very big and a lot of it is irrelevant to my problem\r\n\r\n\r\n\r\n","title":"How to print an arrayList using a variable containing the arrayList name","body":"<p>I know this sounds a bit stupid but I am extending a text-based game and I'm trying to figure out a way to print out the items that are in the room. I have made an arrayList for the room and added and &quot;Item&quot; into it by using a separate class called Item.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\npublic class Item\n{\n    private String itemName;\n    private Boolean pickUp;\n    private Integer itemWeight;\n\n    /**\n     * Constructor for objects of class Items\n     */\n    public Item(String itemName, Boolean pickUp, Integer itemWeight)\n    {\n        this.itemName = itemName;\n        this.pickUp = pickUp;\n        this.itemWeight = itemWeight;\n    }\n\n    /**\n     * Returns the name of the item\n     */\n    public String getItemName()\n    {\n        return itemName;\n    }\n    \n    /**\n     * Returns the pickUp ability of the item\n     */\n    public Boolean getPickUp()\n    {\n        return pickUp;\n    }\n    \n    /**\n     * Returns the weight of the item\n     */\n    public Integer getItemWeight()\n    {\n        return itemWeight;\n    }\n}\n</code></pre>\n<p>The part I'm stuck on now is printing those elements out when entering the room. Theres a function in the code that keeps track of the current room and I am trying to use that function to then print out the elements of that corresponding rooms arrayList. Each room in the game is an object from the &quot;Room&quot; class.</p>\n<pre><code>public class Room  {\n    private String description;\n    private String listName;\n    private HashMap&lt;String, Room&gt; exits;        // stores exits of this room.\n\n    public Room(String description, String listName) \n    {\n        this.description = description;\n        this.listName = listName;\n        exits = new HashMap&lt;&gt;();\n    }\n\n    public String getListName()\n    {\n        return listName;\n    }\n    private void createRooms()\n    {\n        Room playground, assemblyHall, groundHallway, lunchHall, ITRoom, groundToilets, headteacherOffice, footballCage, stairs, groundClassroom, firstFloorClassroom, exitGate;\n      \n        // create the rooms\n        assemblyHall = new Room(&quot;in the assembly hall&quot;, &quot;assemblyHallList&quot;);\n        playground = new Room(&quot;in the main playground of the school&quot;, &quot;playgroundList&quot;);\n        .......\n        currentRoom = assemblyHall;\n        ArrayList&lt;Item&gt; assemblyHallList = new ArrayList&lt;Item&gt;();\n        assemblyHallList.add(new Item(&quot;Piece of paper&quot;, true, 1));\n</code></pre>\n<p>These last 2 lines are an example of what I will be doing for every room with more items. I feel like I am going about this the wrong way but this was the only idea I had. The problem I have is printing out the elements when I enter a room as I would need to call on the method to get the name of the arrayList then use that name to then access the list and print out the elements in it but I have no idea how to use the string to accesss the array as I would have to use</p>\n<pre><code>currentRoom.getListName()\n</code></pre>\n<p>to get the name of the list but when I try to print it out it prints the name itself, not the elements. Any help is appreciated and I can send more parts of the class if needed. Didn't include it all as its very big and a lot of it is irrelevant to my problem</p>\n"},{"tags":["java","apache","maven","tomcat","dspace"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1643884855,"post_id":70962740,"comment_id":125460055,"body_markdown":"Does this answer your question? [Servlet 5.0 JAR throws compile error on javax.servlet.\\* but Servlet 4.0 JAR does not](https://stackoverflow.com/questions/64387472/servlet-5-0-jar-throws-compile-error-on-javax-servlet-but-servlet-4-0-jar-does) (it doesn&#39;t look like this, but the dspace installation instructions list tomcat 7 and 8. You should use Tomcat 8.5 or 9, but likely Tomcat 10 won&#39;t work due to the change from JavaEE to JakartaEE.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64387472/servlet-5-0-jar-throws-compile-error-on-javax-servlet-but-servlet-4-0-jar-does\">Servlet 5.0 JAR throws compile error on javax.servlet.* but Servlet 4.0 JAR does not</a> (it doesn&#39;t look like this, but the dspace installation instructions list tomcat 7 and 8. You should use Tomcat 8.5 or 9, but likely Tomcat 10 won&#39;t work due to the change from JavaEE to JakartaEE."}],"answers":[{"comments":[{"owner":{"account_id":20897347,"reputation":11,"user_id":15351215,"display_name":"Julio Lerma"},"score":0,"creation_date":1644125333,"post_id":71000153,"comment_id":125520125,"body_markdown":"I am still without entering the links:\nhttp://localhost:8080/xmlui\nor \nhttp://localhost:8080/dspace \n\nI don&#39;t know why, I also tried using the dspace.xml or xmlui.xml and copy the files on dspace\\webapps and pasted them in Tomcat 10.0\\webapps\n\nIf could help, I can comment on the logfiles, so you could tell me which one could help.\nThank you for your time!","body":"I am still without entering the links: <a href=\"http://localhost:8080/xmlui\" rel=\"nofollow noreferrer\">localhost:8080/xmlui</a> or  <a href=\"http://localhost:8080/dspace\" rel=\"nofollow noreferrer\">localhost:8080/dspace</a>   I don&#39;t know why, I also tried using the dspace.xml or xmlui.xml and copy the files on dspace\\webapps and pasted them in Tomcat 10.0\\webapps  If could help, I can comment on the logfiles, so you could tell me which one could help. Thank you for your time!"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1644151757,"post_id":71000153,"comment_id":125524535,"body_markdown":"It seems you never had a look at the logfiles yourself. Do that, and check https://tomcat.apache.org/tomcat-9.0-doc/introduction.html#Directories_and_Files","body":"It seems you never had a look at the logfiles yourself. Do that, and check <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/introduction.html#Directories_and_Files\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-9.0-doc/&hellip;</a>"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644080183,"creation_date":1644080183,"answer_id":71000153,"question_id":70962740,"body_markdown":"What you can see from the error message in the browser is that Tomcat itself is running and reachable, however the web application you were trying to reach was not accessible on that URL.\r\n\r\nA better view on what is going on is likely in the Tomcat logfiles which you did not publish.\r\n\r\nSo now I am assuming that nothing went wrong during deployment of the web application. Then I am still wondering whether the URL `http://localhost:8080/dspace` is the correct one to use. \r\n\r\nWould you like to try `http://localhost:8080/xmlui`?","title":"Tomcat send me the message HTTP Status 404 - Not Found","body":"<p>What you can see from the error message in the browser is that Tomcat itself is running and reachable, however the web application you were trying to reach was not accessible on that URL.</p>\n<p>A better view on what is going on is likely in the Tomcat logfiles which you did not publish.</p>\n<p>So now I am assuming that nothing went wrong during deployment of the web application. Then I am still wondering whether the URL <code>http://localhost:8080/dspace</code> is the correct one to use.</p>\n<p>Would you like to try <code>http://localhost:8080/xmlui</code>?</p>\n"}],"owner":{"account_id":20897347,"reputation":11,"user_id":15351215,"display_name":"Julio Lerma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669247723,"creation_date":1643835372,"question_id":70962740,"body_markdown":"I&#39;m on windows 10, using tomcat, I stalled dspace, and many libraries [enter image description here][1]\r\nthey are located on the folder,dspace\\webapps\r\n\r\nso acorded to the documentation, point 9 and 10: `https://wiki.lyrasis.org/display/DSDOC6x/Installing+DSpace`\r\n\r\nI create a dspace.xml on Tomcat 10.0\\conf\\Catalina\\localhost, that have the next code:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&#39;1.0&#39;?&gt;\r\n    &lt;Context\r\n        docBase=&quot;C:/dspace/webapps/xmlui&quot;\r\n        reloadable=&quot;true&quot;\r\n        cachingAllowed=&quot;false&quot;/&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSo, when I start Apache Tomcat, and enter to the direction: http://localhost:8080\r\nI have the next view correctly:\r\n\r\n[enter image description here][2] \r\n\r\nBut if I try to enter to http://localhost:8080/dspace\r\n\r\nI have a 404 page, sorry for the language, it must be in spanish.\r\n[enter image description here][3]\r\n\r\nThat is the problem, I tried to do the option b, copy and paste directly the folders from space to Tomcat webapps, but still having the same error.\r\n\r\nI&#39;m thinking thatthere is no problem with Tomcat, because if I add a Root.xml y can not enter to http://localhost:8080, naturally because is empty.\r\n\r\n  [1]: https://i.stack.imgur.com/Kxowz.png\r\n  [2]: https://i.stack.imgur.com/wOTX8.png\r\n  [3]: https://i.stack.imgur.com/3D9Gd.png","title":"Tomcat send me the message HTTP Status 404 - Not Found","body":"<p>I'm on windows 10, using tomcat, I stalled dspace, and many libraries <a href=\"https://i.stack.imgur.com/Kxowz.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nthey are located on the folder,dspace\\webapps</p>\n<p>so acorded to the documentation, point 9 and 10: <code>https://wiki.lyrasis.org/display/DSDOC6x/Installing+DSpace</code></p>\n<p>I create a dspace.xml on Tomcat 10.0\\conf\\Catalina\\localhost, that have the next code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version='1.0'?&gt;\n&lt;Context\n    docBase=\"C:/dspace/webapps/xmlui\"\n    reloadable=\"true\"\n    cachingAllowed=\"false\"/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>So, when I start Apache Tomcat, and enter to the direction: http://localhost:8080\nI have the next view correctly:</p>\n<p><a href=\"https://i.stack.imgur.com/wOTX8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>But if I try to enter to http://localhost:8080/dspace</p>\n<p>I have a 404 page, sorry for the language, it must be in spanish.\n<a href=\"https://i.stack.imgur.com/3D9Gd.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>That is the problem, I tried to do the option b, copy and paste directly the folders from space to Tomcat webapps, but still having the same error.</p>\n<p>I'm thinking thatthere is no problem with Tomcat, because if I add a Root.xml y can not enter to http://localhost:8080, naturally because is empty.</p>\n"},{"tags":["java","android","bottomnavigationview","android-navigationview","android-bottomnav"],"answers":[{"tags":[],"owner":{"account_id":2294849,"reputation":332016,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669245031,"creation_date":1669245031,"answer_id":74553920,"question_id":74056701,"body_markdown":"Use a M3 theme in your app:\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.Material3.DayNight&quot;&gt;\r\n\r\nThen in your layout:\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottomNav_view&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:theme=&quot;@style/ThemeOverlay.App.BottomNavigationView&quot;\r\n\r\nwith:\r\n    \r\n    &lt;style name=&quot;ThemeOverlay.App.BottomNavigationView&quot; parent=&quot;&quot;&gt;\r\n        &lt;item name=&quot;colorSurface&quot;&gt;#d1e4ff&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryContainer&quot;&gt;#0061a3&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Kuptb.png\r\n  [2]: https://i.stack.imgur.com/xDKPR.png","title":"Create an oval shape around Bottom Navigation Bar Icon - Android","body":"<p>Use a M3 theme in your app:</p>\n<pre><code>&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.Material3.DayNight&quot;&gt;\n</code></pre>\n<p>Then in your layout:</p>\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottomNav_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:theme=&quot;@style/ThemeOverlay.App.BottomNavigationView&quot;\n</code></pre>\n<p>with:</p>\n<pre><code>&lt;style name=&quot;ThemeOverlay.App.BottomNavigationView&quot; parent=&quot;&quot;&gt;\n    &lt;item name=&quot;colorSurface&quot;&gt;#d1e4ff&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryContainer&quot;&gt;#0061a3&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Kuptb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kuptb.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/xDKPR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xDKPR.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6202157,"reputation":4947,"user_id":4831534,"accept_rate":70,"display_name":"Michael Okoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74553920,"answer_count":1,"score":1,"last_activity_date":1669245031,"creation_date":1665668109,"question_id":74056701,"body_markdown":"I am trying to create an oval shape around my bottom navigation icon when selected as seen in the screenshot\r\n\r\n![](https://i.stack.imgur.com/k1blq.png)\r\n\r\nbottom_nav_layout.xml\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottomNav_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;56dp&quot;\r\n        android:elevation=&quot;0dp&quot;\r\n        android:paddingLeft=&quot;10dp&quot;\r\n        android:paddingRight=&quot;10dp&quot;\r\n        android:theme=&quot;@style/Widget.BottomNavigationView&quot;\r\n        app:itemIconSize=&quot;20dp&quot;\r\n        app:itemIconTint=&quot;@color/bottom_nav_color&quot;\r\n        app:itemTextColor=&quot;@color/bottom_nav_color&quot;\r\n        app:labelVisibilityMode=&quot;labeled&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n\r\n\r\nbottom_nav_color.xml\r\n\r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n      &lt;item android:state_checked=&quot;true&quot; android:color=&quot;#3375BB&quot; /&gt;\r\n      &lt;item android:state_checked=&quot;false&quot; android:color=&quot;#68788D&quot;/&gt;\r\n     &lt;/selector&gt;\r\n\r\nbottom_nav_menu.xml\r\n\r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n      &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item\r\n         android:id=&quot;@+id/navigation_home&quot;\r\n         android:icon=&quot;@drawable/ic_trustwallet&quot;\r\n         android:title=&quot;Wallet&quot; /&gt;\r\n       &lt;item\r\n        android:id=&quot;@+id/navigation_discover&quot;\r\n        android:icon=&quot;@drawable/ic_discover&quot;\r\n        android:title=&quot;Discover&quot; /&gt;\r\n      &lt;item\r\n        android:id=&quot;@+id/navigation_browser&quot;\r\n        android:icon=&quot;@drawable/ic_browser&quot;\r\n        android:title=&quot;Browser&quot; /&gt;\r\n      &lt;item\r\n        android:id=&quot;@+id/navigation_settings&quot;\r\n        android:icon=&quot;@drawable/ic_paper_settings&quot;\r\n        android:title=&quot;Settings&quot; /&gt;\r\n\r\n\r\n      &lt;/menu&gt;","title":"Create an oval shape around Bottom Navigation Bar Icon - Android","body":"<p>I am trying to create an oval shape around my bottom navigation icon when selected as seen in the screenshot</p>\n<p><img src=\"https://i.stack.imgur.com/k1blq.png\" alt=\"\" /></p>\n<p>bottom_nav_layout.xml</p>\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=&quot;@+id/bottomNav_view&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;56dp&quot;\n    android:elevation=&quot;0dp&quot;\n    android:paddingLeft=&quot;10dp&quot;\n    android:paddingRight=&quot;10dp&quot;\n    android:theme=&quot;@style/Widget.BottomNavigationView&quot;\n    app:itemIconSize=&quot;20dp&quot;\n    app:itemIconTint=&quot;@color/bottom_nav_color&quot;\n    app:itemTextColor=&quot;@color/bottom_nav_color&quot;\n    app:labelVisibilityMode=&quot;labeled&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n</code></pre>\n<p>bottom_nav_color.xml</p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n  &lt;item android:state_checked=&quot;true&quot; android:color=&quot;#3375BB&quot; /&gt;\n  &lt;item android:state_checked=&quot;false&quot; android:color=&quot;#68788D&quot;/&gt;\n &lt;/selector&gt;\n</code></pre>\n<p>bottom_nav_menu.xml</p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n  &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n     android:id=&quot;@+id/navigation_home&quot;\n     android:icon=&quot;@drawable/ic_trustwallet&quot;\n     android:title=&quot;Wallet&quot; /&gt;\n   &lt;item\n    android:id=&quot;@+id/navigation_discover&quot;\n    android:icon=&quot;@drawable/ic_discover&quot;\n    android:title=&quot;Discover&quot; /&gt;\n  &lt;item\n    android:id=&quot;@+id/navigation_browser&quot;\n    android:icon=&quot;@drawable/ic_browser&quot;\n    android:title=&quot;Browser&quot; /&gt;\n  &lt;item\n    android:id=&quot;@+id/navigation_settings&quot;\n    android:icon=&quot;@drawable/ic_paper_settings&quot;\n    android:title=&quot;Settings&quot; /&gt;\n\n\n  &lt;/menu&gt;\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":26895750,"reputation":296,"user_id":20473701,"display_name":"Lorenz Hetterich"},"score":2,"creation_date":1669176659,"post_id":74541660,"comment_id":131582862,"body_markdown":"I would actually try something like this: https://regex101.com/r/2VrGqZ/1 (and match it against the entire input)","body":"I would actually try something like this: <a href=\"https://regex101.com/r/2VrGqZ/1\" rel=\"nofollow noreferrer\">regex101.com/r/2VrGqZ/1</a> (and match it against the entire input)"},{"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"score":0,"creation_date":1669177011,"post_id":74541660,"comment_id":131582918,"body_markdown":"@LorenzHetterich Thanks for the sharing, yes, it&#39;s absolutely can be a workable solution. But I just curious if there is what I called NOT previous 1st capture. Let&#39;s leave the thread here to see if others can contribute on this part.","body":"@LorenzHetterich Thanks for the sharing, yes, it&#39;s absolutely can be a workable solution. But I just curious if there is what I called NOT previous 1st capture. Let&#39;s leave the thread here to see if others can contribute on this part."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":2,"creation_date":1669177410,"post_id":74541660,"comment_id":131582970,"body_markdown":"Is this for validation from start to end? It sounds like you wanted e.g. [`^([&#39;&quot;])(?:(?!\\1).)*\\1$`](https://regex101.com/r/YRqBvb/1) ([explanation at RexEgg](https://www.rexegg.com/regex-quantifiers.html#tempered_greed)). But *alternating* between the options and using a [negated character class](https://www.regular-expressions.info/charclass.html#negated) inside would be much more efficient: [`^(?:&quot;[^&quot;]*&quot;|&#39;[^&#39;]*&#39;)$`](https://regex101.com/r/mr4W7m/1) (watch steps counter)","body":"Is this for validation from start to end? It sounds like you wanted e.g. <a href=\"https://regex101.com/r/YRqBvb/1\" rel=\"nofollow noreferrer\"><code>^([&#39;&quot;])(?:(?!\\1).)*\\1$</code></a> (<a href=\"https://www.rexegg.com/regex-quantifiers.html#tempered_greed\" rel=\"nofollow noreferrer\">explanation at RexEgg</a>). But <i>alternating</i> between the options and using a <a href=\"https://www.regular-expressions.info/charclass.html#negated\" rel=\"nofollow noreferrer\">negated character class</a> inside would be much more efficient: <a href=\"https://regex101.com/r/mr4W7m/1\" rel=\"nofollow noreferrer\"><code>^(?:&quot;[^&quot;]*&quot;|&#39;[^&#39;]*&#39;)$</code></a> (watch steps counter)"},{"owner":{"account_id":26895750,"reputation":296,"user_id":20473701,"display_name":"Lorenz Hetterich"},"score":1,"creation_date":1669177665,"post_id":74541660,"comment_id":131583009,"body_markdown":"@Eugene yes, what you are looking for actually (kind of) exists. The &quot;negative lookahead&quot; `?!`, example here: https://regex101.com/r/5nUDze/1 . However, it is quite weird since it does not match any characters (just stops the match, if the pattern does not match). So it basically is treated as zero-length (thus, the `.` right after)","body":"@Eugene yes, what you are looking for actually (kind of) exists. The &quot;negative lookahead&quot; <code>?!</code>, example here: <a href=\"https://regex101.com/r/5nUDze/1\" rel=\"nofollow noreferrer\">regex101.com/r/5nUDze/1</a> . However, it is quite weird since it does not match any characters (just stops the match, if the pattern does not match). So it basically is treated as zero-length (thus, the <code>.</code> right after)"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":1,"creation_date":1669178942,"post_id":74541660,"comment_id":131583187,"body_markdown":"Last but probably not least you could further capture and check if there are not two more of the same type ahead: [`^([&#39;&quot;])(?!(?:.*?\\1){2}).*`](https://regex101.com/r/NKIMNE/1) but I would go with [@LorenzHetterich&#39;s first comment](https://stackoverflow.com/questions/74541660/how-to-exclude-previous-captured-group#comment131582862_74541660) :)","body":"Last but probably not least you could further capture and check if there are not two more of the same type ahead: <a href=\"https://regex101.com/r/NKIMNE/1\" rel=\"nofollow noreferrer\"><code>^([&#39;&quot;])(?!(?:.*?\\1){2}).*</code></a> but I would go with <a href=\"https://stackoverflow.com/questions/74541660/how-to-exclude-previous-captured-group#comment131582862_74541660\">@LorenzHetterich&#39;s first comment</a> :)"},{"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"score":0,"creation_date":1669179693,"post_id":74541660,"comment_id":131583301,"body_markdown":"Thanks for both of you&#39;s further explanation. Please summarize them to an answer if you want and I will mark it as accepted.","body":"Thanks for both of you&#39;s further explanation. Please summarize them to an answer if you want and I will mark it as accepted."}],"answers":[{"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669244144,"creation_date":1669182685,"answer_id":74542318,"question_id":74541660,"body_markdown":"The **most efficient** method for this is probably a simple *alternation*, like already mentioned by [@LorenzHetterich in his first comment][1]. Easy to read, a short pattern and it gets the job done.\r\n\r\n    ^(?:&quot;[^&quot;]*&quot;|&#39;[^&#39;]*&#39;)$\r\n\r\n[See this demo at regex101][2]\r\n\r\nThis just [alternates][3] between either pairs of quotes [without][4] [any][5] of the same quote-type inside.\r\n\r\n---\r\n\r\nThe technique to *exclude a capture* between certain parts, that you were outlining is known as [tempered greedy token][6]. Best to use it if there are no other options available (*not* for this task).\r\n\r\n    ^([&#39;&quot;])(?:(?!\\1).)*\\1$\r\n\r\n[Another demo at regex101][7]\r\n\r\nThe *greedy* dot gets *tempered* by [what was captured][8] in the *first group* and won&#39;t skip over.\r\n\r\nSimilar to this solution but much *more efficient*:  \r\n• [Unrolled star alternation solution][9]: [`^([&#39;&quot;])[^&quot;&#39;]*+(?:(?!\\1)[&#39;&quot;][^&quot;&#39;]*)*\\1$`][10] (efficient)  \r\n• [Explicit greedy alternation solution][11]: [`^([&#39;&quot;])(?:[^&quot;&#39;]++|(?!\\1)[&quot;&#39;])*\\1$`][12] (a bit slower)  \r\nEspecially for the latter use of a [possessive quantifier][13] is crucial to [avoid runaway issues][14].\r\n\r\n---\r\n\r\nJust for having it mentioned, another option is using a negative *lookahead* to check after capturing the first match if there are *not* two more ahead. Also not highly efficient but sometimes useful.\r\n\r\n    ^([&#39;&quot;])(?!(?:.*?\\1){2}).*\r\n\r\n[One more demo at regex101][15]\r\n\r\n---\r\n\r\n*FYI:* If the pattern is used with Java [`matches()`][16], the `^` *start* and `$` *end* [anchors][17] are not needed.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74541660/how-to-exclude-previous-captured-group#comment131582862_74541660\r\n  [2]: https://regex101.com/r/mr4W7m/1\r\n  [3]: https://www.regular-expressions.info/alternation.html\r\n  [4]: https://www.regular-expressions.info/charclass.html#negated\r\n  [5]: https://www.regular-expressions.info/repeat.html\r\n  [6]: https://www.rexegg.com/regex-quantifiers.html#tempered_greed\r\n  [7]: https://regex101.com/r/YRqBvb/1\r\n  [8]: https://www.regular-expressions.info/backref.html\r\n  [9]: https://www.rexegg.com/regex-quantifiers.html#unrolled_staralt\r\n  [10]: https://regex101.com/r/YRqBvb/2\r\n  [11]: https://www.rexegg.com/regex-quantifiers.html#explicit_greed\r\n  [12]: https://regex101.com/r/YRqBvb/3\r\n  [13]: https://www.regular-expressions.info/possessive.html\r\n  [14]: https://www.regular-expressions.info/catastrophic.html\r\n  [15]: https://regex101.com/r/NKIMNE/1\r\n  [16]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#matches()\r\n  [17]: https://www.regular-expressions.info/anchors.html","title":"How to exclude previous captured group","body":"<p>The <strong>most efficient</strong> method for this is probably a simple <em>alternation</em>, like already mentioned by <a href=\"https://stackoverflow.com/questions/74541660/how-to-exclude-previous-captured-group#comment131582862_74541660\">@LorenzHetterich in his first comment</a>. Easy to read, a short pattern and it gets the job done.</p>\n<pre><code>^(?:&quot;[^&quot;]*&quot;|'[^']*')$\n</code></pre>\n<p><a href=\"https://regex101.com/r/mr4W7m/1\" rel=\"nofollow noreferrer\">See this demo at regex101</a></p>\n<p>This just <a href=\"https://www.regular-expressions.info/alternation.html\" rel=\"nofollow noreferrer\">alternates</a> between either pairs of quotes <a href=\"https://www.regular-expressions.info/charclass.html#negated\" rel=\"nofollow noreferrer\">without</a> <a href=\"https://www.regular-expressions.info/repeat.html\" rel=\"nofollow noreferrer\">any</a> of the same quote-type inside.</p>\n<hr />\n<p>The technique to <em>exclude a capture</em> between certain parts, that you were outlining is known as <a href=\"https://www.rexegg.com/regex-quantifiers.html#tempered_greed\" rel=\"nofollow noreferrer\">tempered greedy token</a>. Best to use it if there are no other options available (<em>not</em> for this task).</p>\n<pre><code>^(['&quot;])(?:(?!\\1).)*\\1$\n</code></pre>\n<p><a href=\"https://regex101.com/r/YRqBvb/1\" rel=\"nofollow noreferrer\">Another demo at regex101</a></p>\n<p>The <em>greedy</em> dot gets <em>tempered</em> by <a href=\"https://www.regular-expressions.info/backref.html\" rel=\"nofollow noreferrer\">what was captured</a> in the <em>first group</em> and won't skip over.</p>\n<p>Similar to this solution but much <em>more efficient</em>:<br />\n• <a href=\"https://www.rexegg.com/regex-quantifiers.html#unrolled_staralt\" rel=\"nofollow noreferrer\">Unrolled star alternation solution</a>: <a href=\"https://regex101.com/r/YRqBvb/2\" rel=\"nofollow noreferrer\"><code>^(['&quot;])[^&quot;']*+(?:(?!\\1)['&quot;][^&quot;']*)*\\1$</code></a> (efficient)<br />\n• <a href=\"https://www.rexegg.com/regex-quantifiers.html#explicit_greed\" rel=\"nofollow noreferrer\">Explicit greedy alternation solution</a>: <a href=\"https://regex101.com/r/YRqBvb/3\" rel=\"nofollow noreferrer\"><code>^(['&quot;])(?:[^&quot;']++|(?!\\1)[&quot;'])*\\1$</code></a> (a bit slower)<br />\nEspecially for the latter use of a <a href=\"https://www.regular-expressions.info/possessive.html\" rel=\"nofollow noreferrer\">possessive quantifier</a> is crucial to <a href=\"https://www.regular-expressions.info/catastrophic.html\" rel=\"nofollow noreferrer\">avoid runaway issues</a>.</p>\n<hr />\n<p>Just for having it mentioned, another option is using a negative <em>lookahead</em> to check after capturing the first match if there are <em>not</em> two more ahead. Also not highly efficient but sometimes useful.</p>\n<pre><code>^(['&quot;])(?!(?:.*?\\1){2}).*\n</code></pre>\n<p><a href=\"https://regex101.com/r/NKIMNE/1\" rel=\"nofollow noreferrer\">One more demo at regex101</a></p>\n<hr />\n<p><em>FYI:</em> If the pattern is used with Java <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#matches()\" rel=\"nofollow noreferrer\"><code>matches()</code></a>, the <code>^</code> <em>start</em> and <code>$</code> <em>end</em> <a href=\"https://www.regular-expressions.info/anchors.html\" rel=\"nofollow noreferrer\">anchors</a> are not needed.</p>\n"}],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74542318,"answer_count":1,"score":1,"last_activity_date":1669244144,"creation_date":1669176203,"question_id":74541660,"body_markdown":"Here is my requirement, I want to recognize a valid String definition in compiler design, the string should either start and end with double quote (`&quot;hello world&quot;`), or start and end with single quote(`&#39;hello world&#39;`). \r\n\r\nI used `([&#39;&quot;]).*\\1` to achieve the goal, the `\\1` here is to reference previous first captured group, namely first single or double quote, as explanation from [regex 101][1],\r\n```\r\n\\1 matches the same text as most recently matched by the 1st capturing group\r\n```\r\n\r\nIt works so far so good. \r\nThen I got new requirement, which is to treat an inner single quote in external single quotes as invalid vase, and same to double quotes situation. Which means both `&#39;hello &#39; world&#39;` and `&quot;hello &quot; world&quot;` are invalid case.\r\n\r\nI think the solution should not be hard if we can represent **not** previous 1st captured group, something like `([&#39;&quot;])(?:NOT\\1)*\\1`. \r\n\r\nThe `(?:)` here is used as a non capturing group, to make sure `\\1` represents to first quote always. But the key is how to replace NOT with correct regex symbol. It&#39;s not like my previous experience about exclusion, like `[^abcd]` to exclude `abcd`, but to exclude the previous capture group and the symbol `^` doesn&#39;t work that way. \r\n\r\n  [1]: https://regex101.com/","title":"How to exclude previous captured group","body":"<p>Here is my requirement, I want to recognize a valid String definition in compiler design, the string should either start and end with double quote (<code>&quot;hello world&quot;</code>), or start and end with single quote(<code>'hello world'</code>).</p>\n<p>I used <code>(['&quot;]).*\\1</code> to achieve the goal, the <code>\\1</code> here is to reference previous first captured group, namely first single or double quote, as explanation from <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex 101</a>,</p>\n<pre><code>\\1 matches the same text as most recently matched by the 1st capturing group\n</code></pre>\n<p>It works so far so good.\nThen I got new requirement, which is to treat an inner single quote in external single quotes as invalid vase, and same to double quotes situation. Which means both <code>'hello ' world'</code> and <code>&quot;hello &quot; world&quot;</code> are invalid case.</p>\n<p>I think the solution should not be hard if we can represent <strong>not</strong> previous 1st captured group, something like <code>(['&quot;])(?:NOT\\1)*\\1</code>.</p>\n<p>The <code>(?:)</code> here is used as a non capturing group, to make sure <code>\\1</code> represents to first quote always. But the key is how to replace NOT with correct regex symbol. It's not like my previous experience about exclusion, like <code>[^abcd]</code> to exclude <code>abcd</code>, but to exclude the previous capture group and the symbol <code>^</code> doesn't work that way.</p>\n"},{"tags":["java","sql","mysql"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669264460,"post_id":2731443,"comment_id":131606376,"body_markdown":"Modern comment: Since JDBC 4.2 you should no longer use `java.sql.Time` but `java.time.LocalTime`. See [the answer by Basil Bourque](https://stackoverflow.com/a/74553729/5772882).","body":"Modern comment: Since JDBC 4.2 you should no longer use <code>java.sql.Time</code> but <code>java.time.LocalTime</code>. See <a href=\"https://stackoverflow.com/a/74553729/5772882\">the answer by Basil Bourque</a>."}],"answers":[{"tags":[],"owner":{"account_id":111724,"reputation":2030,"user_id":294980,"accept_rate":100,"display_name":"Javier Parra"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1596119199,"creation_date":1272473352,"answer_id":2731475,"question_id":2731443,"body_markdown":"You can use this code:\r\n\r\n    java.sql.Time.parse(&quot;String&quot;);\r\n\r\nBut that&#39;s deprecated, and replaced by [DateFormat](https://docs.oracle.com/javase/1.5.0/docs/api/java/text/DateFormat.html) Parse.","title":"cast a String to sql time","body":"<p>You can use this code:</p>\n<pre><code>java.sql.Time.parse(&quot;String&quot;);\n</code></pre>\n<p>But that's deprecated, and replaced by <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/text/DateFormat.html\" rel=\"nofollow noreferrer\">DateFormat</a> Parse.</p>\n"},{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1272473554,"creation_date":1272473554,"answer_id":2731506,"question_id":2731443,"body_markdown":"It depends entirely on the format of your `String`, so I would use a `SimpleDateFormat` to parse the string into a `java.util.Date`; then you can extract the millisecond time value from that Date and pass it into a `java.sql.Time()`. Like this:\r\n\r\n    String s = /* your date string here */;\r\n    SimpleDateFormat sdf = new SimpleDateFormat(/* your date format string here */);\r\n    long ms = sdf.parse(s).getTime();\r\n    Time t = new Time(ms);","title":"cast a String to sql time","body":"<p>It depends entirely on the format of your <code>String</code>, so I would use a <code>SimpleDateFormat</code> to parse the string into a <code>java.util.Date</code>; then you can extract the millisecond time value from that Date and pass it into a <code>java.sql.Time()</code>. Like this:</p>\n\n<pre><code>String s = /* your date string here */;\nSimpleDateFormat sdf = new SimpleDateFormat(/* your date format string here */);\nlong ms = sdf.parse(s).getTime();\nTime t = new Time(ms);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1098958,"reputation":101,"user_id":1091860,"display_name":"Berry"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1323574782,"creation_date":1323570797,"answer_id":8461549,"question_id":2731443,"body_markdown":"    java.sql.Time.valueOf(&quot;String&quot;);","title":"cast a String to sql time","body":"<pre><code>java.sql.Time.valueOf(\"String\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1669243290,"creation_date":1669243290,"answer_id":74553729,"question_id":2731443,"body_markdown":"# Update: `java.time.LocalTime`\r\n\r\nThe Question and other Answers use terribly flawed date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\nTo represent a time-only value, without a date, and without a time zone or offset-from-UTC, use [`java.time.LocalTime`][1] class. \r\n\r\nTo parse text in standard ISO 8601 format:\r\n\r\n    LocalTime t = LocalTime.parse( &quot;15:30&quot; ) ;\r\n\r\nWrite to database with [JDBC][2] 4.2 and later:\r\n\r\n    myPreparedStatement.setObject( … , t ) ;\r\n\r\nRead from database:\r\n\r\n    LocalTime t = myResultSet.getObject( … , LocalTime.class ) ;\r\n\r\nSearch Stack Overflow to learn more. Date-time matters have been addressed extensively. And see [tutorial by Oracle][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html\r\n  [2]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [3]: https://docs.oracle.com/javase/tutorial/datetime/TOC.html","title":"cast a String to sql time","body":"<h1>Update: <code>java.time.LocalTime</code></h1>\n<p>The Question and other Answers use terribly flawed date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>To represent a time-only value, without a date, and without a time zone or offset-from-UTC, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalTime</code></a> class.</p>\n<p>To parse text in standard ISO 8601 format:</p>\n<pre><code>LocalTime t = LocalTime.parse( &quot;15:30&quot; ) ;\n</code></pre>\n<p>Write to database with <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a> 4.2 and later:</p>\n<pre><code>myPreparedStatement.setObject( … , t ) ;\n</code></pre>\n<p>Read from database:</p>\n<pre><code>LocalTime t = myResultSet.getObject( … , LocalTime.class ) ;\n</code></pre>\n<p>Search Stack Overflow to learn more. Date-time matters have been addressed extensively. And see <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">tutorial by Oracle</a>.</p>\n"}],"owner":{"account_id":111610,"reputation":4001,"user_id":294750,"accept_rate":67,"display_name":"kawtousse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23533,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":2731506,"answer_count":4,"score":7,"last_activity_date":1669243290,"creation_date":1272473091,"question_id":2731443,"body_markdown":"How we cast a string into time type with mysql in java\r\nSo String-------&gt;java.sql.time\r\n\r\nthanks.","title":"cast a String to sql time","body":"<p>How we cast a string into time type with mysql in java\nSo String------->java.sql.time</p>\n\n<p>thanks.</p>\n"},{"tags":["java","printing"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1669242596,"post_id":74553618,"comment_id":131603014,"body_markdown":"`System.out.println()` appends a platform-specific line separator. If you are running this on windows, the separator is `\\r\\n`, which will make your test fail.","body":"<code>System.out.println()</code> appends a platform-specific line separator. If you are running this on windows, the separator is <code>\\r\\n</code>, which will make your test fail."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1669242707,"post_id":74553618,"comment_id":131603043,"body_markdown":"You could use a `ByteArrayOutputStream` instead of a file.","body":"You could use a <code>ByteArrayOutputStream</code> instead of a file."},{"owner":{"account_id":19682850,"reputation":349,"user_id":14409562,"display_name":"a_confused_student"},"score":0,"creation_date":1669243598,"post_id":74553618,"comment_id":131603233,"body_markdown":"@f1sh thankyou verymuch in certain scenarios it works but other not, as like in the example given. Where it is multiple println. For a single println it works but with ```&quot;Unknown command Dark_visual\\r\\n&quot; + &quot;Unknown command  Portrait_application\\r\\n&quot;``` it didn&#39;t","body":"@f1sh thankyou verymuch in certain scenarios it works but other not, as like in the example given. Where it is multiple println. For a single println it works but with <code>&quot;Unknown command Dark_visual\\r\\n&quot; + &quot;Unknown command  Portrait_application\\r\\n&quot;</code> it didn&#39;t"},{"owner":{"account_id":19682850,"reputation":349,"user_id":14409562,"display_name":"a_confused_student"},"score":0,"creation_date":1669243633,"post_id":74553618,"comment_id":131603241,"body_markdown":"@DawoodibnKareem as a means to store the file?","body":"@DawoodibnKareem as a means to store the file?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1669244965,"post_id":74553618,"comment_id":131603457,"body_markdown":"There doesn&#39;t need to be a file.  You can create a `ByteArrayOutputStream`, hook it up to `System.out`, then run all your `System.out.println` commands.  At the end, you can retrieve the contents of the `ByteArrayOutputStream` either as a `byte[]` or as a `String`, and check what&#39;s there.","body":"There doesn&#39;t need to be a file.  You can create a <code>ByteArrayOutputStream</code>, hook it up to <code>System.out</code>, then run all your <code>System.out.println</code> commands.  At the end, you can retrieve the contents of the <code>ByteArrayOutputStream</code> either as a <code>byte[]</code> or as a <code>String</code>, and check what&#39;s there."},{"owner":{"account_id":19682850,"reputation":349,"user_id":14409562,"display_name":"a_confused_student"},"score":0,"creation_date":1669245632,"post_id":74553618,"comment_id":131603584,"body_markdown":"@f1sh after inspection it does work with adding ```\\r\\n``` i simply added it one too many times","body":"@f1sh after inspection it does work with adding <code>\\r\\n</code> i simply added it one too many times"}],"owner":{"account_id":19682850,"reputation":349,"user_id":14409562,"display_name":"a_confused_student"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669242436,"creation_date":1669242436,"question_id":74553618,"body_markdown":"to read a program&#39;s println output of a program I redirected the output of all ```system.out.println()``` into a file. This is done as such. \r\n\r\n```\r\n        File file = new File(fileName);\r\n        PrintStream stream = new PrintStream(file);\r\n        System.setOut(stream);\r\n```\r\n\r\n\r\nFrom that file I transform it into a string using \r\n\r\n```\r\n  public static String getFileOutput(String fileName) throws IOException {\r\n        Path filePath = Path.of(fileName);\r\n\r\n        String content = Files.readString(filePath);\r\n        return content;\r\n  }\r\n```\r\n\r\nwhen trying to compare with a string that seems to be exactly the same, I use \r\n```\r\nreceived.equals(expected)\r\n```\r\nand example of the output would be \r\n```\r\nassert test failed\r\nreceived: Unknown command Dark_visual\r\nUnknown command  Portrait_application\r\n\r\nexpected: Unknown command Dark_visual\r\nUnknown command  Portrait_application\r\n```\r\nwhich comes from the the snippet\r\n\r\n```\r\n        if(received.equals(expected)){\r\n            System.out.println(&quot;assert test passed&quot;);\r\n            SetupContext.deleteFile(filename);\r\n        }else{\r\n            System.out.println(&quot;assert test failed&quot;);\r\n            System.out.println(&quot;received: &quot;+ received);\r\n            System.out.println(&quot;expected: &quot;+ expected);\r\n\r\n        }\r\n```\r\n\r\n\r\nThe string I was comparing to was \r\n\r\n```\r\n&quot;Unknown command Dark_visual\\n&quot; + &quot;Unknown command  Portrait_application\\n&quot;\r\n```\r\n\r\nMy question would be, is there a way to get a more in-depth representation of what is in the file, that might contain hidden characters such as ```\\n``` in order to be able to write the correct expected string? \r\n","title":"how to get output from println and correctly compare with another String in java","body":"<p>to read a program's println output of a program I redirected the output of all <code>system.out.println()</code> into a file. This is done as such.</p>\n<pre><code>        File file = new File(fileName);\n        PrintStream stream = new PrintStream(file);\n        System.setOut(stream);\n</code></pre>\n<p>From that file I transform it into a string using</p>\n<pre><code>  public static String getFileOutput(String fileName) throws IOException {\n        Path filePath = Path.of(fileName);\n\n        String content = Files.readString(filePath);\n        return content;\n  }\n</code></pre>\n<p>when trying to compare with a string that seems to be exactly the same, I use</p>\n<pre><code>received.equals(expected)\n</code></pre>\n<p>and example of the output would be</p>\n<pre><code>assert test failed\nreceived: Unknown command Dark_visual\nUnknown command  Portrait_application\n\nexpected: Unknown command Dark_visual\nUnknown command  Portrait_application\n</code></pre>\n<p>which comes from the the snippet</p>\n<pre><code>        if(received.equals(expected)){\n            System.out.println(&quot;assert test passed&quot;);\n            SetupContext.deleteFile(filename);\n        }else{\n            System.out.println(&quot;assert test failed&quot;);\n            System.out.println(&quot;received: &quot;+ received);\n            System.out.println(&quot;expected: &quot;+ expected);\n\n        }\n</code></pre>\n<p>The string I was comparing to was</p>\n<pre><code>&quot;Unknown command Dark_visual\\n&quot; + &quot;Unknown command  Portrait_application\\n&quot;\n</code></pre>\n<p>My question would be, is there a way to get a more in-depth representation of what is in the file, that might contain hidden characters such as <code>\\n</code> in order to be able to write the correct expected string?</p>\n"},{"tags":["java","jsp","servlets","usebean"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1669242318,"post_id":74553589,"comment_id":131602962,"body_markdown":"Does `myPack.Myclass` exist in your project/classpath? Do you need to import it as well? Have you taken a look at the documentation of `useBean`?","body":"Does <code>myPack.Myclass</code> exist in your project/classpath? Do you need to import it as well? Have you taken a look at the documentation of <code>useBean</code>?"},{"owner":{"account_id":23877989,"reputation":1,"user_id":17878980,"display_name":"Moses Henen"},"score":0,"creation_date":1669242664,"post_id":74553589,"comment_id":131603032,"body_markdown":"Yes i have, this is my project structure: myproject/myPack/Myclass","body":"Yes i have, this is my project structure: myproject/myPack/Myclass"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669269832,"post_id":74553589,"comment_id":131607277,"body_markdown":"Does MyClass have a no-arguments constructor? And - is there any more information available except „invalid bean class“?","body":"Does MyClass have a no-arguments constructor? And - is there any more information available except „invalid bean class“?"},{"owner":{"account_id":23877989,"reputation":1,"user_id":17878980,"display_name":"Moses Henen"},"score":0,"creation_date":1669301056,"post_id":74553589,"comment_id":131617409,"body_markdown":"It have a no argument constructor but when I run the code it returns a HTTP 500 status saying the value of the used bean class attribute is invalid, the type of the error is exception report, description is: The server encountered an internal error that prevented it from fulfilling this request, that&#39;s the only thing it report.","body":"It have a no argument constructor but when I run the code it returns a HTTP 500 status saying the value of the used bean class attribute is invalid, the type of the error is exception report, description is: The server encountered an internal error that prevented it from fulfilling this request, that&#39;s the only thing it report."}],"owner":{"account_id":23877989,"reputation":1,"user_id":17878980,"display_name":"Moses Henen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669242231,"creation_date":1669242231,"question_id":74553589,"body_markdown":"When trying to use a java bean in the jsp useBean attribute it&#39;s always generating errors like &quot;invalid bean class&quot;\r\n\r\nFor example:\r\n&lt;jsp:useBean id=&quot;myID&quot; class=&quot;myPack.Myclass&quot; /&gt;\r\nBut it still throws invalid class value Exception.","title":"Why java useBean saying invalid class value?","body":"<p>When trying to use a java bean in the jsp useBean attribute it's always generating errors like &quot;invalid bean class&quot;</p>\n<p>For example:\n&lt;jsp:useBean id=&quot;myID&quot; class=&quot;myPack.Myclass&quot; /&gt;\nBut it still throws invalid class value Exception.</p>\n"},{"tags":["java","sorting","jsf","primefaces","primefaces-datatable"],"answers":[{"tags":[],"owner":{"account_id":2494754,"reputation":106,"user_id":2171494,"display_name":"MrChris"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669242015,"creation_date":1669242015,"answer_id":74553568,"question_id":74552212,"body_markdown":"Of course after I post this, I think I figured it out.\r\n\r\nIt looks like there is a method in DataTable called **getActiveSortMeta** which appears to hold the columns that are being sorted. The key in the map is the field being sorted. My DataTable only allows the sorting of one column at a time, so the map only contains one entry.\r\n\r\n\r\nHere is my example code:\r\n\r\n    public void sortedColumnSelected(AjaxBehaviorEvent event) {\r\n      if (null != event.getSource()) {\r\n         DataTable table = (DataTable) event.getSource();\r\n         \r\n         /* This map should contain the column that is being sorted. Since only\r\n          * one column can be sorted at a time, there should only be one. */\r\n         Map &lt;String, SortMeta&gt; sortMap = table.getActiveSortMeta();\r\n    \r\n         if (MapUtils.isNotEmpty(sortMap)) {\r\n         \r\n            String fieldName = sortMap.keySet().iterator().next();\r\n    \r\n            SortMeta meta = sortMap.get(fieldName);\r\n            String sortOrder = meta.getOrder().name();\r\n    \r\n            /* set the sort order so the report can display correctly. */\r\n            setSortAscending(sortOrder.equals(&quot;ASCENDING&quot;));\r\n    \r\n            if (fieldName.equals(&quot;name&quot;)) {\r\n              //do something\r\n            } else if (fieldName.equals(&quot;age&quot;)) {\r\n              //do something else\r\n            }\r\n\r\nHope this helps someone else. If you know of a different way of doing this, I&#39;d love to hear about it.\r\n\r\nThanks all!\r\n\r\n","title":"Primefaces 10+ Datatable how to get sorted column from SortEvent?","body":"<p>Of course after I post this, I think I figured it out.</p>\n<p>It looks like there is a method in DataTable called <strong>getActiveSortMeta</strong> which appears to hold the columns that are being sorted. The key in the map is the field being sorted. My DataTable only allows the sorting of one column at a time, so the map only contains one entry.</p>\n<p>Here is my example code:</p>\n<pre><code>public void sortedColumnSelected(AjaxBehaviorEvent event) {\n  if (null != event.getSource()) {\n     DataTable table = (DataTable) event.getSource();\n     \n     /* This map should contain the column that is being sorted. Since only\n      * one column can be sorted at a time, there should only be one. */\n     Map &lt;String, SortMeta&gt; sortMap = table.getActiveSortMeta();\n\n     if (MapUtils.isNotEmpty(sortMap)) {\n     \n        String fieldName = sortMap.keySet().iterator().next();\n\n        SortMeta meta = sortMap.get(fieldName);\n        String sortOrder = meta.getOrder().name();\n\n        /* set the sort order so the report can display correctly. */\n        setSortAscending(sortOrder.equals(&quot;ASCENDING&quot;));\n\n        if (fieldName.equals(&quot;name&quot;)) {\n          //do something\n        } else if (fieldName.equals(&quot;age&quot;)) {\n          //do something else\n        }\n</code></pre>\n<p>Hope this helps someone else. If you know of a different way of doing this, I'd love to hear about it.</p>\n<p>Thanks all!</p>\n"}],"owner":{"account_id":2494754,"reputation":106,"user_id":2171494,"display_name":"MrChris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74553568,"answer_count":1,"score":1,"last_activity_date":1669242044,"creation_date":1669232506,"question_id":74552212,"body_markdown":"We are currently using Primefaces version 8 and I am working on migrating us to version 12. \r\n\r\nIn the migration guide [8.0 -&gt; 10.0.0][1], under DataTable, Breaking changes says this:\r\n\r\n&gt; SortEvent: sorted datatable value is no longer passed to this event,\r\n&gt; instead get the sorted value through your managed bean (e.g\r\n&gt; YourBean#list used as value expression)\r\n\r\nFor the life of me I cannot figure out how to pass the column being sorted as a value expression.\r\n\r\nHere is what we currently have working using Primefaces 8 (simplified):\r\n\r\n    &lt;p:dataTable id=&quot;searchResultsTable&quot; \r\n        value=&quot;#{nameBackingBean.queryResults}&quot;\r\n        var=&quot;searchResultsRow&quot; widgetVar=&quot;tableWidget&quot;\r\n        sortBy=&quot;#{searchResultsRow.name}&quot; sortOrder=&quot;ascending&quot;&gt;\r\n        \r\n        &lt;p:ajax event=&quot;sort&quot; listener=&quot;#{nameBackingBean.sortedColumnSelected}&quot; /&gt;\r\n        \r\n        &lt;!-- Name --&gt;\r\n        &lt;p:column headerText=&quot;Name&quot;\r\n            sortBy=&quot;#{searchResultsRow.name}&quot;&gt;\r\n            &lt;h:outputText id=&quot;nameValue&quot;\r\n                value=&quot;#{searchResultsRow.name}&quot; /&gt;\r\n        &lt;/p:column&gt;\r\n        \r\n        &lt;!-- Age --&gt;\r\n        &lt;p:column headerText=&quot;Age&quot;\r\n            sortBy=&quot;#{searchResultsRow.age}&quot;&gt;\r\n            &lt;h:outputText id=&quot;ageValue&quot;\r\n                value=&quot;#{searchResultsRow.age}&quot; /&gt;\r\n        &lt;/p:column&gt;\r\n        \r\n        ...\r\n\r\nAnd here is the java backing bean method that is called when a sort is performed:\r\n\r\n      public void sortedColumnSelected(AjaxBehaviorEvent event){\r\n          if (null != event.getSource()){\r\n             DataTable table = (DataTable) event.getSource();\r\n             if(table != null &amp;&amp; table.getSortColumn() != null){\r\n                String headerText = table.getSortColumn().getHeaderText();\r\n                String sortOrder = table.getSortOrder();\r\n                \r\n                if(headerText.equals(&quot;Name&quot;)){\r\n                   //we do something\r\n                }else if (headerText.equals(&quot;Age&quot;)){\r\n                   //we do something else\r\n                ...\r\n\r\nThe getSortColumn method is no longer available after Primefaces 8, so I am assuming I have to use some EL expression to figure out which column was sorted (based off of the sentence e.g. YourBean#list used as a value expression) and pass the value in like this...\r\n\r\n    &lt;p:ajax event=&quot;sort&quot; listener=&quot;#{nameBackingBean.sortedColumnSelected(el expression telling me what column was sorted)}&quot; /&gt;\r\n\r\nIf anyone knows how to format the value expression to tell me which column was sorted, I would really appreciate it!\r\n\r\n\r\n  [1]: https://primefaces.github.io/primefaces/8_0/#/../migrationguide/10_0_0","title":"Primefaces 10+ Datatable how to get sorted column from SortEvent?","body":"<p>We are currently using Primefaces version 8 and I am working on migrating us to version 12.</p>\n<p>In the migration guide <a href=\"https://primefaces.github.io/primefaces/8_0/#/../migrationguide/10_0_0\" rel=\"nofollow noreferrer\">8.0 -&gt; 10.0.0</a>, under DataTable, Breaking changes says this:</p>\n<blockquote>\n<p>SortEvent: sorted datatable value is no longer passed to this event,\ninstead get the sorted value through your managed bean (e.g\nYourBean#list used as value expression)</p>\n</blockquote>\n<p>For the life of me I cannot figure out how to pass the column being sorted as a value expression.</p>\n<p>Here is what we currently have working using Primefaces 8 (simplified):</p>\n<pre><code>&lt;p:dataTable id=&quot;searchResultsTable&quot; \n    value=&quot;#{nameBackingBean.queryResults}&quot;\n    var=&quot;searchResultsRow&quot; widgetVar=&quot;tableWidget&quot;\n    sortBy=&quot;#{searchResultsRow.name}&quot; sortOrder=&quot;ascending&quot;&gt;\n    \n    &lt;p:ajax event=&quot;sort&quot; listener=&quot;#{nameBackingBean.sortedColumnSelected}&quot; /&gt;\n    \n    &lt;!-- Name --&gt;\n    &lt;p:column headerText=&quot;Name&quot;\n        sortBy=&quot;#{searchResultsRow.name}&quot;&gt;\n        &lt;h:outputText id=&quot;nameValue&quot;\n            value=&quot;#{searchResultsRow.name}&quot; /&gt;\n    &lt;/p:column&gt;\n    \n    &lt;!-- Age --&gt;\n    &lt;p:column headerText=&quot;Age&quot;\n        sortBy=&quot;#{searchResultsRow.age}&quot;&gt;\n        &lt;h:outputText id=&quot;ageValue&quot;\n            value=&quot;#{searchResultsRow.age}&quot; /&gt;\n    &lt;/p:column&gt;\n    \n    ...\n</code></pre>\n<p>And here is the java backing bean method that is called when a sort is performed:</p>\n<pre><code>  public void sortedColumnSelected(AjaxBehaviorEvent event){\n      if (null != event.getSource()){\n         DataTable table = (DataTable) event.getSource();\n         if(table != null &amp;&amp; table.getSortColumn() != null){\n            String headerText = table.getSortColumn().getHeaderText();\n            String sortOrder = table.getSortOrder();\n            \n            if(headerText.equals(&quot;Name&quot;)){\n               //we do something\n            }else if (headerText.equals(&quot;Age&quot;)){\n               //we do something else\n            ...\n</code></pre>\n<p>The getSortColumn method is no longer available after Primefaces 8, so I am assuming I have to use some EL expression to figure out which column was sorted (based off of the sentence e.g. YourBean#list used as a value expression) and pass the value in like this...</p>\n<pre><code>&lt;p:ajax event=&quot;sort&quot; listener=&quot;#{nameBackingBean.sortedColumnSelected(el expression telling me what column was sorted)}&quot; /&gt;\n</code></pre>\n<p>If anyone knows how to format the value expression to tell me which column was sorted, I would really appreciate it!</p>\n"},{"tags":["java","amazon-dynamodb","aws-java-sdk-2.x","aws-java-sdk-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669241932,"creation_date":1669241932,"answer_id":74553561,"question_id":74551798,"body_markdown":"GROUP BY or SUM or any other type of math metric is not supported by DynamoDB and is considered somewhat of an anti-pattern. \r\n\r\nWith that said, there is 2 ways to achieve your use-case needs. \r\n\r\n 1. You can execute a `Query` operation and set the `Select` parameter to `COUNT` [DOCS](https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Query.html#DDB-Query-request-Select). This will return the count of all the items which match a given simulationId, however, this will require the `Query` to read all of the items which relate to that simulationId, only returning the count. It will also require you to use a lower level client I believe.\r\n 2. The second option is the most favourable, use DynamoDB Streams and a Lambda function to keep an &quot;aggregate&quot; record for you simulationId. Meaning for every item you add or remove, you increment or decrement the aggregate record. This will allow you to get the sum of all records in an efficient and cost-effective way. \r\n\r\n|      PK      |      SK    | Agg\r\n|---------------------|------------------|------------------|\r\n|          simulation_id_1         |         aggregate       | 3\r\n|          simulation_id_1         |         type1       |\r\n|          simulation_id_1         |         type2       |\r\n|          simulation_id_1         |         type3       |\r\n|          simulation_id_2         |         aggregate      | 1\r\n|          simulation_id_2         |         type1      |","title":"GROUP BY-Like query in DynamoDB with DynamoDbEnhancedClient","body":"<p>GROUP BY or SUM or any other type of math metric is not supported by DynamoDB and is considered somewhat of an anti-pattern.</p>\n<p>With that said, there is 2 ways to achieve your use-case needs.</p>\n<ol>\n<li>You can execute a <code>Query</code> operation and set the <code>Select</code> parameter to <code>COUNT</code> <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Query.html#DDB-Query-request-Select\" rel=\"nofollow noreferrer\">DOCS</a>. This will return the count of all the items which match a given simulationId, however, this will require the <code>Query</code> to read all of the items which relate to that simulationId, only returning the count. It will also require you to use a lower level client I believe.</li>\n<li>The second option is the most favourable, use DynamoDB Streams and a Lambda function to keep an &quot;aggregate&quot; record for you simulationId. Meaning for every item you add or remove, you increment or decrement the aggregate record. This will allow you to get the sum of all records in an efficient and cost-effective way.</li>\n</ol>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>PK</th>\n<th>SK</th>\n<th>Agg</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>simulation_id_1</td>\n<td>aggregate</td>\n<td>3</td>\n</tr>\n<tr>\n<td>simulation_id_1</td>\n<td>type1</td>\n<td></td>\n</tr>\n<tr>\n<td>simulation_id_1</td>\n<td>type2</td>\n<td></td>\n</tr>\n<tr>\n<td>simulation_id_1</td>\n<td>type3</td>\n<td></td>\n</tr>\n<tr>\n<td>simulation_id_2</td>\n<td>aggregate</td>\n<td>1</td>\n</tr>\n<tr>\n<td>simulation_id_2</td>\n<td>type1</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":8261770,"reputation":834,"user_id":6212879,"accept_rate":88,"display_name":"Nano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74553561,"answer_count":1,"score":0,"last_activity_date":1669241932,"creation_date":1669229949,"question_id":74551798,"body_markdown":"I&#39;m trying to write a Query in DynamoDB with logic similar to a GROUP BY in SQL. Let&#39;s consider the following table with partition key `simulation_id`:\r\n\r\n```\r\nSimulation (Table):\r\n   simulation_id_1 - type_1 - ...\r\n   simulation_id_1 - type_1 - ...\r\n\r\n   simulation_id_1 - type_2 - ...\r\n   simulation_id_1 - type_2 - ...\r\n   simulation_id_1 - type_2 - ...\r\n\r\n   simulation_id_2 - type_2 - ...\r\n   simulation_id_2 - type_2 - ...\r\n   simulation_id_2 - type_2 - ...\r\n   simulation_id_2 - type_2 - ...\r\n\r\n   simulation_id_2 - type_3 - ...\r\n```\r\n\r\nThe result would be:\r\n\r\n```\r\n\r\nsimulation_id_1 - type_1 - 2 (count of entries)\r\nsimulation_id_1 - type_2 - 3\r\nsimulation_id_2 - type_2 - 4\r\nsimulation_id_2 - type_3 - 1\r\n\r\n```\r\n\r\nWhat is the best way for achieving that using DynamoDbEnhancedClient?","title":"GROUP BY-Like query in DynamoDB with DynamoDbEnhancedClient","body":"<p>I'm trying to write a Query in DynamoDB with logic similar to a GROUP BY in SQL. Let's consider the following table with partition key <code>simulation_id</code>:</p>\n<pre><code>Simulation (Table):\n   simulation_id_1 - type_1 - ...\n   simulation_id_1 - type_1 - ...\n\n   simulation_id_1 - type_2 - ...\n   simulation_id_1 - type_2 - ...\n   simulation_id_1 - type_2 - ...\n\n   simulation_id_2 - type_2 - ...\n   simulation_id_2 - type_2 - ...\n   simulation_id_2 - type_2 - ...\n   simulation_id_2 - type_2 - ...\n\n   simulation_id_2 - type_3 - ...\n</code></pre>\n<p>The result would be:</p>\n<pre><code>\nsimulation_id_1 - type_1 - 2 (count of entries)\nsimulation_id_1 - type_2 - 3\nsimulation_id_2 - type_2 - 4\nsimulation_id_2 - type_3 - 1\n\n</code></pre>\n<p>What is the best way for achieving that using DynamoDbEnhancedClient?</p>\n"},{"tags":["java","json","serialization","jackson"],"answers":[{"comments":[{"owner":{"account_id":73891,"reputation":53530,"user_id":212555,"accept_rate":88,"display_name":"Brendan Long"},"score":0,"creation_date":1669655631,"post_id":74553443,"comment_id":131686660,"body_markdown":"Unfortunately, this seems to output standard JSON. For this API, I need to send JSON encoded into a string field (`&quot;APNS&quot;: &quot;{\\&quot;aps\\&quot;: etc}&quot;`).","body":"Unfortunately, this seems to output standard JSON. For this API, I need to send JSON encoded into a string field (<code>&quot;APNS&quot;: &quot;{\\&quot;aps\\&quot;: etc}&quot;</code>)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669659355,"post_id":74553443,"comment_id":131687874,"body_markdown":"@BrendanLong Not sure if I understood correctly, you meant that escaped double quotes `\\&quot;` (that are on the right) need to be preserved as `\\&quot;`?","body":"@BrendanLong Not sure if I understood correctly, you meant that escaped double quotes <code>\\&quot;</code> (that are on the right) need to be preserved as <code>\\&quot;</code>?"},{"owner":{"account_id":73891,"reputation":53530,"user_id":212555,"accept_rate":88,"display_name":"Brendan Long"},"score":0,"creation_date":1669749989,"post_id":74553443,"comment_id":131712524,"body_markdown":"I want the contents of the APNS field to be a string (JSON encoded with the proper escapes), not an object.","body":"I want the contents of the APNS field to be a string (JSON encoded with the proper escapes), not an object."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669241815,"creation_date":1669240863,"answer_id":74553443,"question_id":74552979,"body_markdown":"&gt; I looked into using @JsonSerialize(as =  String.class, using = SomeSerializer.class)\r\n\r\nOne of the options is to create a custom serializer by extending [`JsonSerializer`][serializer] and override it&#39;s `serialize()` method.\r\n\r\nOne of the arguments of `serialize()` is a `JsonGenerator`, which as it&#39;s name suggests allow to generate JSON. You can with go with `JsonGenerator` on pretty low level by specifying manually start/end of a JSON-object (JSON-array), writing field-names, etc., or you can feed a nested object into the `JsonGenerator` as is, depending on whether its default shape satisfies your needs or not.\r\n\r\nThat&#39;s how it might look like (*I wasn&#39;t touching &quot;GCM&quot; and &quot;ADM&quot; properties from your JSON because it&#39;s unclear where they should come from*).\r\n\r\n    @JsonSerialize(using = SNSNotificationSerializer.class)\r\n    record SNSNotification(\r\n        @JsonProperty(&quot;default&quot;) String defaultMessage,\r\n        @JsonProperty(&quot;APNS&quot;) APNS apns\r\n    ) {}\r\n    \r\n    public class SNSNotificationSerializer extends JsonSerializer&lt;SNSNotification&gt; {\r\n        @Override\r\n        public void serialize(SNSNotification value,\r\n                              JsonGenerator gen,\r\n                              SerializerProvider serializers) throws IOException {\r\n            \r\n            gen.writeStartObject();     // {\r\n            gen.writeStringField(&quot;default&quot;, value.defaultMessage()); // &quot;default&quot;: &quot; &quot;,\r\n            gen.writeFieldName(&quot;APNS&quot;); // &quot;APNS&quot; :\r\n            gen.writeStartObject();     // {\r\n            gen.writeFieldName(&quot;aps&quot;);  // &quot;aps&quot; :\r\n            gen.writeStartObject();     // {\r\n            gen.writeStringField(&quot;alert&quot;, value.apns().aps().alert()); // &quot;alert&quot; : &quot; &quot;,\r\n            gen.writeStringField(&quot;url&quot;, &quot;www.amazon.com&quot;);             // &quot;url&quot;:&quot;www.amazon.com&quot;\r\n            gen.writeEndObject();       // }\r\n            gen.writeEndObject();       // }\r\n            gen.writeEndObject();       // }\r\n        }\r\n    }\r\n\r\n*Usage example:*\r\n\r\n```java\r\nSNSNotification snsNotification = new SNSNotification(\r\n    &quot;This is the default message which must be present when publishing a message to a topic. The default message will only be used if a message is not present for one of the notification platforms.&quot;,\r\n    new APNS(new APS(&quot;Check out these awesome deals!&quot;))\r\n);\r\n        \r\nObjectMapper mapper = new ObjectMapper();\r\n        \r\nString json = mapper\r\n    .writerWithDefaultPrettyPrinter()\r\n    .writeValueAsString(snsNotification);\r\n    \r\nSystem.out.println(json);\r\n```\r\n\r\n*Output:*\r\n\r\n```none\r\n{\r\n  &quot;default&quot; : &quot;This is the default message which must be present when publishing a message to a topic. The default message will only be used if a message is not present for one of the notification platforms.&quot;,\r\n  &quot;APNS&quot; : {\r\n    &quot;aps&quot; : {\r\n      &quot;alert&quot; : &quot;Check out these awesome deals!&quot;,\r\n      &quot;url&quot; : &quot;www.amazon.com&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n   [serializer]: https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonSerializer.html","title":"Annotation to serialize Jackson field as a JSON string (instead of object)","body":"<blockquote>\n<p>I looked into using @JsonSerialize(as =  String.class, using = SomeSerializer.class)</p>\n</blockquote>\n<p>One of the options is to create a custom serializer by extending <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/JsonSerializer.html\" rel=\"nofollow noreferrer\"><code>JsonSerializer</code></a> and override it's <code>serialize()</code> method.</p>\n<p>One of the arguments of <code>serialize()</code> is a <code>JsonGenerator</code>, which as it's name suggests allow to generate JSON. You can with go with <code>JsonGenerator</code> on pretty low level by specifying manually start/end of a JSON-object (JSON-array), writing field-names, etc., or you can feed a nested object into the <code>JsonGenerator</code> as is, depending on whether its default shape satisfies your needs or not.</p>\n<p>That's how it might look like (<em>I wasn't touching &quot;GCM&quot; and &quot;ADM&quot; properties from your JSON because it's unclear where they should come from</em>).</p>\n<pre><code>@JsonSerialize(using = SNSNotificationSerializer.class)\nrecord SNSNotification(\n    @JsonProperty(&quot;default&quot;) String defaultMessage,\n    @JsonProperty(&quot;APNS&quot;) APNS apns\n) {}\n\npublic class SNSNotificationSerializer extends JsonSerializer&lt;SNSNotification&gt; {\n    @Override\n    public void serialize(SNSNotification value,\n                          JsonGenerator gen,\n                          SerializerProvider serializers) throws IOException {\n        \n        gen.writeStartObject();     // {\n        gen.writeStringField(&quot;default&quot;, value.defaultMessage()); // &quot;default&quot;: &quot; &quot;,\n        gen.writeFieldName(&quot;APNS&quot;); // &quot;APNS&quot; :\n        gen.writeStartObject();     // {\n        gen.writeFieldName(&quot;aps&quot;);  // &quot;aps&quot; :\n        gen.writeStartObject();     // {\n        gen.writeStringField(&quot;alert&quot;, value.apns().aps().alert()); // &quot;alert&quot; : &quot; &quot;,\n        gen.writeStringField(&quot;url&quot;, &quot;www.amazon.com&quot;);             // &quot;url&quot;:&quot;www.amazon.com&quot;\n        gen.writeEndObject();       // }\n        gen.writeEndObject();       // }\n        gen.writeEndObject();       // }\n    }\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>SNSNotification snsNotification = new SNSNotification(\n    &quot;This is the default message which must be present when publishing a message to a topic. The default message will only be used if a message is not present for one of the notification platforms.&quot;,\n    new APNS(new APS(&quot;Check out these awesome deals!&quot;))\n);\n        \nObjectMapper mapper = new ObjectMapper();\n        \nString json = mapper\n    .writerWithDefaultPrettyPrinter()\n    .writeValueAsString(snsNotification);\n    \nSystem.out.println(json);\n</code></pre>\n<p><em>Output:</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>{\n  &quot;default&quot; : &quot;This is the default message which must be present when publishing a message to a topic. The default message will only be used if a message is not present for one of the notification platforms.&quot;,\n  &quot;APNS&quot; : {\n    &quot;aps&quot; : {\n      &quot;alert&quot; : &quot;Check out these awesome deals!&quot;,\n      &quot;url&quot; : &quot;www.amazon.com&quot;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":73891,"reputation":53530,"user_id":212555,"accept_rate":88,"display_name":"Brendan Long"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669241828,"creation_date":1669237452,"question_id":74552979,"body_markdown":"I&#39;m working with [Amazon SNS push notifications](https://docs.aws.amazon.com/sns/latest/dg/sns-send-custom-platform-specific-payloads-mobile-devices.html#mobile-push-send-multiplatform) and they require me to send a payload like:\r\n\r\n```json\r\n{ \r\n  &quot;default&quot;: &quot;This is the default message which must be present when publishing a message to a topic. The default message will only be used if a message is not present for \r\none of the notification platforms.&quot;,     \r\n  &quot;APNS&quot;: &quot;{\\&quot;aps\\&quot;:{\\&quot;alert\\&quot;: \\&quot;Check out these awesome deals!\\&quot;,\\&quot;url\\&quot;:\\&quot;www.amazon.com\\&quot;} }&quot;,\r\n  &quot;GCM&quot;: &quot;{\\&quot;data\\&quot;:{\\&quot;message\\&quot;:\\&quot;Check out these awesome deals!\\&quot;,\\&quot;url\\&quot;:\\&quot;www.amazon.com\\&quot;}}&quot;,\r\n  &quot;ADM&quot;: &quot;{\\&quot;data\\&quot;:{\\&quot;message\\&quot;:\\&quot;Check out these awesome deals!\\&quot;,\\&quot;url\\&quot;:\\&quot;www.amazon.com\\&quot;}}&quot; \r\n} \r\n```\r\n\r\nI have some classes that look like:\r\n\r\n```java\r\nrecord APS(String alert) {}\r\nrecord APNS(APS aps) {}\r\nrecord SNSNotification(\r\n  @JsonProperty(&quot;default&quot;) String defaultMessage,\r\n  @JsonProperty(&quot;APNS&quot;) APNS apns\r\n) {}\r\n```\r\n\r\nBut when I serialize them I get non-insane JSON:\r\n\r\n```json\r\n{\r\n  &quot;default&quot;: &quot;...&quot;,\r\n  &quot;APNS&quot;: { &quot;alert&quot;: &quot;...&quot; }\r\n}\r\n```\r\n\r\nI looked into using `@JsonSerialize(as =  String.class, using = SomeSerializer.class)` but I&#39;m not sure what class to plug in there? `BeanSerializer` didn&#39;t like that I&#39;m using a record and nothing else really made sense.\r\n\r\nIs there a simple way to do this without pre-serializing the fields?","title":"Annotation to serialize Jackson field as a JSON string (instead of object)","body":"<p>I'm working with <a href=\"https://docs.aws.amazon.com/sns/latest/dg/sns-send-custom-platform-specific-payloads-mobile-devices.html#mobile-push-send-multiplatform\" rel=\"nofollow noreferrer\">Amazon SNS push notifications</a> and they require me to send a payload like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ \n  &quot;default&quot;: &quot;This is the default message which must be present when publishing a message to a topic. The default message will only be used if a message is not present for \none of the notification platforms.&quot;,     \n  &quot;APNS&quot;: &quot;{\\&quot;aps\\&quot;:{\\&quot;alert\\&quot;: \\&quot;Check out these awesome deals!\\&quot;,\\&quot;url\\&quot;:\\&quot;www.amazon.com\\&quot;} }&quot;,\n  &quot;GCM&quot;: &quot;{\\&quot;data\\&quot;:{\\&quot;message\\&quot;:\\&quot;Check out these awesome deals!\\&quot;,\\&quot;url\\&quot;:\\&quot;www.amazon.com\\&quot;}}&quot;,\n  &quot;ADM&quot;: &quot;{\\&quot;data\\&quot;:{\\&quot;message\\&quot;:\\&quot;Check out these awesome deals!\\&quot;,\\&quot;url\\&quot;:\\&quot;www.amazon.com\\&quot;}}&quot; \n} \n</code></pre>\n<p>I have some classes that look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record APS(String alert) {}\nrecord APNS(APS aps) {}\nrecord SNSNotification(\n  @JsonProperty(&quot;default&quot;) String defaultMessage,\n  @JsonProperty(&quot;APNS&quot;) APNS apns\n) {}\n</code></pre>\n<p>But when I serialize them I get non-insane JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;default&quot;: &quot;...&quot;,\n  &quot;APNS&quot;: { &quot;alert&quot;: &quot;...&quot; }\n}\n</code></pre>\n<p>I looked into using <code>@JsonSerialize(as =  String.class, using = SomeSerializer.class)</code> but I'm not sure what class to plug in there? <code>BeanSerializer</code> didn't like that I'm using a record and nothing else really made sense.</p>\n<p>Is there a simple way to do this without pre-serializing the fields?</p>\n"},{"tags":["java","spring","jdbctemplate"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1530640667,"post_id":51160468,"comment_id":89304362,"body_markdown":"*&quot;What can I do to handle this type of situation?&quot;* `if` statement!!","body":"<i>&quot;What can I do to handle this type of situation?&quot;</i> <code>if</code> statement!!"},{"owner":{"account_id":12899087,"reputation":585,"user_id":9328545,"accept_rate":75,"display_name":"Robin"},"score":3,"creation_date":1530640749,"post_id":51160468,"comment_id":89304413,"body_markdown":"@Andreas yes genius i know that. Read the last sentence.","body":"@Andreas yes genius i know that. Read the last sentence."},{"owner":{"account_id":11382286,"reputation":1591,"user_id":8344882,"display_name":"gagan singh"},"score":2,"creation_date":1530641130,"post_id":51160468,"comment_id":89304588,"body_markdown":"not passing null requestType to Object[] array is simple. How do you dynamically remove the where condition `AND requestType = ?` ?","body":"not passing null requestType to Object[] array is simple. How do you dynamically remove the where condition <code>AND requestType = ?</code> ?"},{"owner":{"account_id":8652429,"reputation":938,"user_id":6477644,"display_name":"Maxim Kasyanov"},"score":0,"creation_date":1530641277,"post_id":51160468,"comment_id":89304649,"body_markdown":"When i face with dynamic sql, i create list and add param to the list in if statement and pass list as parameters for jdbctemplate.","body":"When i face with dynamic sql, i create list and add param to the list in if statement and pass list as parameters for jdbctemplate."},{"owner":{"account_id":12899087,"reputation":585,"user_id":9328545,"accept_rate":75,"display_name":"Robin"},"score":0,"creation_date":1530641391,"post_id":51160468,"comment_id":89304705,"body_markdown":"@Maxim thats exactly what i was doing but it turned out to be too messy. Was wondering if there was a more cleaner way to do it.","body":"@Maxim thats exactly what i was doing but it turned out to be too messy. Was wondering if there was a more cleaner way to do it."},{"owner":{"account_id":9928255,"reputation":1591,"user_id":7349101,"display_name":"Shaunak Patel"},"score":0,"creation_date":1530641423,"post_id":51160468,"comment_id":89304718,"body_markdown":"is it springboot application?","body":"is it springboot application?"},{"owner":{"account_id":12899087,"reputation":585,"user_id":9328545,"accept_rate":75,"display_name":"Robin"},"score":0,"creation_date":1530641453,"post_id":51160468,"comment_id":89304736,"body_markdown":"@ShaunakPatel yes, it&#39;s a spring boot applicaiton","body":"@ShaunakPatel yes, it&#39;s a spring boot applicaiton"},{"owner":{"account_id":9928255,"reputation":1591,"user_id":7349101,"display_name":"Shaunak Patel"},"score":0,"creation_date":1530641605,"post_id":51160468,"comment_id":89304806,"body_markdown":"Can I assume all parameters you are using are belongs to same entity(or related entity)?","body":"Can I assume all parameters you are using are belongs to same entity(or related entity)?"},{"owner":{"account_id":8652429,"reputation":938,"user_id":6477644,"display_name":"Maxim Kasyanov"},"score":0,"creation_date":1530641663,"post_id":51160468,"comment_id":89304840,"body_markdown":"@Robin I agree with you. For this case i wrote addition function in SQL class from Mybatis. If are you interesting in this class, i could upload code to github","body":"@Robin I agree with you. For this case i wrote addition function in SQL class from Mybatis. If are you interesting in this class, i could upload code to github"},{"owner":{"account_id":12899087,"reputation":585,"user_id":9328545,"accept_rate":75,"display_name":"Robin"},"score":0,"creation_date":1530641680,"post_id":51160468,"comment_id":89304857,"body_markdown":"@ShaunakPatel yes, all the parameters i am using is related across to all the entities. All entities will have request type, custid, number, etc.","body":"@ShaunakPatel yes, all the parameters i am using is related across to all the entities. All entities will have request type, custid, number, etc."}],"answers":[{"comments":[{"owner":{"account_id":12899087,"reputation":585,"user_id":9328545,"accept_rate":75,"display_name":"Robin"},"score":0,"creation_date":1530641500,"post_id":51160628,"comment_id":89304760,"body_markdown":"Hmm i see, I was using NamedParameter before but not for this type of situation . K will try this and will report back.","body":"Hmm i see, I was using NamedParameter before but not for this type of situation . K will try this and will report back."},{"owner":{"account_id":11382286,"reputation":1591,"user_id":8344882,"display_name":"gagan singh"},"score":0,"creation_date":1530642465,"post_id":51160628,"comment_id":89305243,"body_markdown":"@Robin when you do pass name as null, do you want to check for &quot;name is null&quot; or you do not want to filter by name? what is your requirement? So in the example above for the latter case query should be without a where condition.","body":"@Robin when you do pass name as null, do you want to check for &quot;name is null&quot; or you do not want to filter by name? what is your requirement? So in the example above for the latter case query should be without a where condition."},{"owner":{"account_id":12899087,"reputation":585,"user_id":9328545,"accept_rate":75,"display_name":"Robin"},"score":0,"creation_date":1530644003,"post_id":51160628,"comment_id":89305915,"body_markdown":"@gagansingh Correct, if the name is null then it shouldn&#39;t do any filtering for name. The where statement for &#39;name&#39; should not happen","body":"@gagansingh Correct, if the name is null then it shouldn&#39;t do any filtering for name. The where statement for &#39;name&#39; should not happen"},{"owner":{"account_id":11382286,"reputation":1591,"user_id":8344882,"display_name":"gagan singh"},"score":0,"creation_date":1530644221,"post_id":51160628,"comment_id":89306034,"body_markdown":"then this answer will not work. You will have to generate sql dynamically if you stick with jdbc template. If you switch to something like jpa or hibernate, you can use criteria queries which are suited for this kind of usecase.","body":"then this answer will not work. You will have to generate sql dynamically if you stick with jdbc template. If you switch to something like jpa or hibernate, you can use criteria queries which are suited for this kind of usecase."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1530644595,"post_id":51160628,"comment_id":89306190,"body_markdown":"@gagansingh What do you mean *&quot;this answer will not work&quot;*? Of course it will, you just change the SQL to exclude the conditions you don&#39;t want, in a similar way to how the `name` condition is dynamically changed right now.","body":"@gagansingh What do you mean <i>&quot;this answer will not work&quot;</i>? Of course it will, you just change the SQL to exclude the conditions you don&#39;t want, in a similar way to how the <code>name</code> condition is dynamically changed right now."},{"owner":{"account_id":11382286,"reputation":1591,"user_id":8344882,"display_name":"gagan singh"},"score":0,"creation_date":1530645146,"post_id":51160628,"comment_id":89306392,"body_markdown":"@Andreas if you have more than one parameter, you not only have to make the filter conditional, even WHERE and AND has to become conditional. I will paste a sample in the next comment with param name and custId","body":"@Andreas if you have more than one parameter, you not only have to make the filter conditional, even WHERE and AND has to become conditional. I will paste a sample in the next comment with param name and custId"},{"owner":{"account_id":11382286,"reputation":1591,"user_id":8344882,"display_name":"gagan singh"},"score":0,"creation_date":1530645177,"post_id":51160628,"comment_id":89306400,"body_markdown":"`String sql = &quot;SELECT foo, bar  FROM FooBar &quot; + (name != null || custId != null ? &quot; WHERE &quot; : &quot;&quot;) + (name == null ? &quot;&quot; : &quot;name= :name&quot;) + (name != null &amp;&amp; custId != null ? &quot; AND &quot; : &quot;&quot;) + (custId == null ? &quot;&quot; : &quot;custId= :custId&quot;);`","body":"<code>String sql = &quot;SELECT foo, bar  FROM FooBar &quot; + (name != null || custId != null ? &quot; WHERE &quot; : &quot;&quot;) + (name == null ? &quot;&quot; : &quot;name= :name&quot;) + (name != null &amp;&amp; custId != null ? &quot; AND &quot; : &quot;&quot;) + (custId == null ? &quot;&quot; : &quot;custId= :custId&quot;);</code>"},{"owner":{"account_id":11382286,"reputation":1591,"user_id":8344882,"display_name":"gagan singh"},"score":0,"creation_date":1530645247,"post_id":51160628,"comment_id":89306428,"body_markdown":"As you can see that it will work but this approach is not readable.","body":"As you can see that it will work but this approach is not readable."},{"owner":{"account_id":11382286,"reputation":1591,"user_id":8344882,"display_name":"gagan singh"},"score":0,"creation_date":1530645531,"post_id":51160628,"comment_id":89306541,"body_markdown":"@Andreas much better dynamic sql. just ensure that query does not end with WHERE when all the params are null or 0.","body":"@Andreas much better dynamic sql. just ensure that query does not end with WHERE when all the params are null or 0."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1530648542,"post_id":51160628,"comment_id":89307701,"body_markdown":"@gagansingh Perhaps you should look at the updated answer, where I already covered all that, before all your comments.","body":"@gagansingh Perhaps you should look at the updated answer, where I already covered all that, before all your comments."},{"owner":{"account_id":11382286,"reputation":1591,"user_id":8344882,"display_name":"gagan singh"},"score":0,"creation_date":1530685364,"post_id":51160628,"comment_id":89317092,"body_markdown":"@Andreas I looked at your update and that&#39;s when I mentioned that this is a much better approach but it also has a flaw. See my last comment. find out the sql for `query(null,null,0)`. Even in the earlier comments, I mentioned that we would need to generate a dynamic query and you proposed a good way of doing the same.","body":"@Andreas I looked at your update and that&#39;s when I mentioned that this is a much better approach but it also has a flaw. See my last comment. find out the sql for <code>query(null,null,0)</code>. Even in the earlier comments, I mentioned that we would need to generate a dynamic query and you proposed a good way of doing the same."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1530705219,"post_id":51160628,"comment_id":89328795,"body_markdown":"@gagansingh Even the first example is a dynamic query, so saying we &quot;need to generate a dynamic query&quot; when it&#39;s been a dynamic query the entire time is ... weird? confusing? redundant? ---- The entire reason I used `StringJoiner` is so `WHERE` and `AND` would be conditional, without all those ternary conditional operators. Sure, I missed calling `setEmptyValue(&quot;&quot;)` to suppress the `WHERE`, so you last comment was right, but all the others were off, since I think the code is very readable.","body":"@gagansingh Even the first example is a dynamic query, so saying we &quot;need to generate a dynamic query&quot; when it&#39;s been a dynamic query the entire time is ... weird? confusing? redundant? ---- The entire reason I used <code>StringJoiner</code> is so <code>WHERE</code> and <code>AND</code> would be conditional, without all those ternary conditional operators. Sure, I missed calling <code>setEmptyValue(&quot;&quot;)</code> to suppress the <code>WHERE</code>, so you last comment was right, but all the others were off, since I think the code is very readable."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":12,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1530705051,"creation_date":1530641216,"answer_id":51160628,"question_id":51160468,"body_markdown":"One option is to use [`NamedParameterJdbcTemplate`][1], so the parameter &quot;list&quot; (now a `Map`) doesn&#39;t need to be modified, only the SQL does:\r\n\r\n    List&lt;RealTimeDTO&gt; query(String name) {\r\n        NamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\r\n\r\n        String sql = &quot;SELECT foo, bar&quot; +\r\n                      &quot; FROM FooBar&quot; +\r\n                     &quot; WHERE name&quot; + (name == null ? &quot; IS NULL&quot; : &quot;= :name&quot;);\r\n        Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n        params.put(&quot;name&quot;, name);\r\n        return jdbcTemplate.query(sql, params, new CCCRowMapper());\r\n    }\r\n\r\n**UPDATE**\r\n\r\nIf you have many conditions that may need to be skipped, and all conditions might be eliminated, then use a `StringJoiner` to build the `WHERE` clause:\r\n\r\n    List&lt;RealTimeDTO&gt; query(String name, String phone, int age) {\r\n        NamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\r\n\r\n        StringJoiner where = new StringJoiner(&quot; AND &quot;, &quot; WHERE &quot;, &quot;&quot;).setEmptyValue(&quot;&quot;);\r\n        if (name != null)\r\n            where.add(&quot;name = :name&quot;);\r\n        if (phone != null)\r\n            where.add(&quot;phone = :phone&quot;);\r\n        if (age != 0)\r\n            where.add(&quot;age = :age&quot;);\r\n        String sql = &quot;SELECT foo, bar&quot; +\r\n                      &quot; FROM FooBar&quot; +\r\n                      where;\r\n        Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n        params.put(&quot;name&quot;, name);\r\n        params.put(&quot;phone&quot;, phone);\r\n        params.put(&quot;age&quot;, age);\r\n        return jdbcTemplate.query(sql, params, new CCCRowMapper());\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html","title":"JDBCTemplate optional parameters","body":"<p>One option is to use <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html\" rel=\"noreferrer\"><code>NamedParameterJdbcTemplate</code></a>, so the parameter \"list\" (now a <code>Map</code>) doesn't need to be modified, only the SQL does:</p>\n\n<pre><code>List&lt;RealTimeDTO&gt; query(String name) {\n    NamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\n\n    String sql = \"SELECT foo, bar\" +\n                  \" FROM FooBar\" +\n                 \" WHERE name\" + (name == null ? \" IS NULL\" : \"= :name\");\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n    params.put(\"name\", name);\n    return jdbcTemplate.query(sql, params, new CCCRowMapper());\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If you have many conditions that may need to be skipped, and all conditions might be eliminated, then use a <code>StringJoiner</code> to build the <code>WHERE</code> clause:</p>\n\n<pre><code>List&lt;RealTimeDTO&gt; query(String name, String phone, int age) {\n    NamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\n\n    StringJoiner where = new StringJoiner(\" AND \", \" WHERE \", \"\").setEmptyValue(\"\");\n    if (name != null)\n        where.add(\"name = :name\");\n    if (phone != null)\n        where.add(\"phone = :phone\");\n    if (age != 0)\n        where.add(\"age = :age\");\n    String sql = \"SELECT foo, bar\" +\n                  \" FROM FooBar\" +\n                  where;\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n    params.put(\"name\", name);\n    params.put(\"phone\", phone);\n    params.put(\"age\", age);\n    return jdbcTemplate.query(sql, params, new CCCRowMapper());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"score":0,"creation_date":1574459565,"post_id":58956843,"comment_id":104254761,"body_markdown":"it has e error for some type of data (instead of varchar(name))","body":"it has e error for some type of data (instead of varchar(name))"},{"owner":{"account_id":2652739,"reputation":533,"user_id":2294031,"display_name":"domids"},"score":0,"creation_date":1574555842,"post_id":58956843,"comment_id":104274736,"body_markdown":"What do you mean? What has a error for &quot;some type of data&quot;?","body":"What do you mean? What has a error for &quot;some type of data&quot;?"},{"owner":{"account_id":277571,"reputation":1676,"user_id":571653,"accept_rate":68,"display_name":"abhihello123"},"score":0,"creation_date":1624805649,"post_id":58956843,"comment_id":120452289,"body_markdown":"This does not give correct result, if the parameter has null in db but your checking for a value still the row is selected. The selected answer will only give correct result.","body":"This does not give correct result, if the parameter has null in db but your checking for a value still the row is selected. The selected answer will only give correct result."}],"tags":[],"owner":{"account_id":2652739,"reputation":533,"user_id":2294031,"display_name":"domids"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574331422,"creation_date":1574260563,"answer_id":58956843,"question_id":51160468,"body_markdown":"You can use a static SQL by checking the condition like `? IS NULL OR name = ?`. But you have to pass the argument twice AND pass the argument type (`at.sql.Types`) twice.\r\n\r\n    String sql = &quot;SELECT foo, bar&quot; +\r\n                  &quot; FROM FooBar&quot; +\r\n                 &quot; WHERE (? IS NULL OR name = ?) &quot;;\r\n    jdbcTemplate.query(sql, new Object[]{name, name}, new int[]{Types.VARCHAR, Types.VARCHAR}, new CCCRowMapper());\r\n\r\nIMO not really better than using conditions.\r\n","title":"JDBCTemplate optional parameters","body":"<p>You can use a static SQL by checking the condition like <code>? IS NULL OR name = ?</code>. But you have to pass the argument twice AND pass the argument type (<code>at.sql.Types</code>) twice.</p>\n\n<pre><code>String sql = \"SELECT foo, bar\" +\n              \" FROM FooBar\" +\n             \" WHERE (? IS NULL OR name = ?) \";\njdbcTemplate.query(sql, new Object[]{name, name}, new int[]{Types.VARCHAR, Types.VARCHAR}, new CCCRowMapper());\n</code></pre>\n\n<p>IMO not really better than using conditions.</p>\n"},{"tags":[],"owner":{"account_id":174556,"reputation":8751,"user_id":403999,"display_name":"Juan Rojas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669240306,"creation_date":1669239938,"answer_id":74553318,"question_id":51160468,"body_markdown":"I&#39;d like to add NamedParameter to @Snozzlebert&#39; answer with the next example.\r\n\r\nYou have to specify the parameters&#39; type if you want to pass null values otherwise you will get a NullPointerException.\r\n\r\n    @Autowired\r\n    NamedParameterJdbcTemplate namedJdbcTemplate;\r\n\r\n\r\n\r\n    MapSqlParameterSource parameters = new MapSqlParameterSource();\r\n    parameters.addValue(&quot;name&quot;, name, Types.VARCHAR);\r\n    parameters.addValue(&quot;phone&quot;, null, Types.VARCHAR);\r\n    parameters.addValue(&quot;age&quot;, null, Types.SMALLINT);\r\n\r\n    List&lt;RealTimeDTO&gt; list = namedJdbcTemplate.query(\r\n            &quot;SELECT foo, bar\\n&quot; +\r\n              &quot; FROM FooBar\\n&quot; +\r\n             &quot; WHERE (:name IS NULL OR name = :name) AND \\n&quot; +\r\n             &quot; (:phone IS NULL OR phone = :phone) AND \\n&quot; +\r\n             &quot; (:age IS NULL OR age = :age)&quot; +,\r\n            parameters,\r\n            new RealTimeDTOMapper());\r\n\r\n","title":"JDBCTemplate optional parameters","body":"<p>I'd like to add NamedParameter to @Snozzlebert' answer with the next example.</p>\n<p>You have to specify the parameters' type if you want to pass null values otherwise you will get a NullPointerException.</p>\n<pre><code>@Autowired\nNamedParameterJdbcTemplate namedJdbcTemplate;\n\n\n\nMapSqlParameterSource parameters = new MapSqlParameterSource();\nparameters.addValue(&quot;name&quot;, name, Types.VARCHAR);\nparameters.addValue(&quot;phone&quot;, null, Types.VARCHAR);\nparameters.addValue(&quot;age&quot;, null, Types.SMALLINT);\n\nList&lt;RealTimeDTO&gt; list = namedJdbcTemplate.query(\n        &quot;SELECT foo, bar\\n&quot; +\n          &quot; FROM FooBar\\n&quot; +\n         &quot; WHERE (:name IS NULL OR name = :name) AND \\n&quot; +\n         &quot; (:phone IS NULL OR phone = :phone) AND \\n&quot; +\n         &quot; (:age IS NULL OR age = :age)&quot; +,\n        parameters,\n        new RealTimeDTOMapper());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669241814,"creation_date":1669241435,"answer_id":74553517,"question_id":51160468,"body_markdown":"To improve an existing answer, Keep a static query with only bind parameters. Don&#39;t &#39;build&#39; a sql to avoid the pitfall of caching issues and sql injection.\r\n\r\n\r\n    List&lt;RealTimeDTO&gt; query(String name, String phone, int age) {\r\n        NamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\r\n    \r\n        String sql = &quot;SELECT foo, bar FROM FooBar&quot; +\r\n                     &quot; WHERE (:name IS NULL OR name = :name)&quot; +\r\n                     &quot; AND (:phone IS NULL OR phone = :phone)&quot; +\r\n                     &quot; AND (:age = 0 OR age = :age)&quot;;\r\n        params.put(&quot;name&quot;, name);\r\n        params.put(&quot;phone&quot;, phone);\r\n        params.put(&quot;age&quot;, age);\r\n        return jdbcTemplate.query(sql, params, new CCCRowMapper());\r\n    }\r\n\r\n\r\n","title":"JDBCTemplate optional parameters","body":"<p>To improve an existing answer, Keep a static query with only bind parameters. Don't 'build' a sql to avoid the pitfall of caching issues and sql injection.</p>\n<pre><code>List&lt;RealTimeDTO&gt; query(String name, String phone, int age) {\n    NamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\n\n    String sql = &quot;SELECT foo, bar FROM FooBar&quot; +\n                 &quot; WHERE (:name IS NULL OR name = :name)&quot; +\n                 &quot; AND (:phone IS NULL OR phone = :phone)&quot; +\n                 &quot; AND (:age = 0 OR age = :age)&quot;;\n    params.put(&quot;name&quot;, name);\n    params.put(&quot;phone&quot;, phone);\n    params.put(&quot;age&quot;, age);\n    return jdbcTemplate.query(sql, params, new CCCRowMapper());\n}\n</code></pre>\n"}],"owner":{"account_id":12899087,"reputation":585,"user_id":9328545,"accept_rate":75,"display_name":"Robin"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19581,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":51160628,"answer_count":4,"score":8,"last_activity_date":1669241814,"creation_date":1530640527,"question_id":51160468,"body_markdown":"I am using spring JDBCTemplate.\r\n\r\n---\r\n\r\nI have a scenario, where the parameters that need to be passed into my query function, are conditional/optional. For example, I have the following code:\r\n\r\n    List&lt;RealTimeDTO&gt; result = jdbcTemplate.query(sql, new Object[] {custId, \r\n    number, requestType, startDate, endDate}, new CCCRowMapper());\r\n\r\nIn the code, I passed in `custId, number, requestType, etc.` However, `requestType` is an optional parameter that may come back as `null` or `empty` so I don&#39;t want it to be passed into the `Object[]` if it is either `null` or `empty`. \r\n\r\nWhat can I do to handle this type of situation? \r\n\r\nI could introduce logic where I only pass in the parameters I want into the `Object[]`, however, I was wondering if there is an already built in functionality that handles this instead of me reinventing the wheel.\r\n\r\n\r\n","title":"JDBCTemplate optional parameters","body":"<p>I am using spring JDBCTemplate.</p>\n\n<hr>\n\n<p>I have a scenario, where the parameters that need to be passed into my query function, are conditional/optional. For example, I have the following code:</p>\n\n<pre><code>List&lt;RealTimeDTO&gt; result = jdbcTemplate.query(sql, new Object[] {custId, \nnumber, requestType, startDate, endDate}, new CCCRowMapper());\n</code></pre>\n\n<p>In the code, I passed in <code>custId, number, requestType, etc.</code> However, <code>requestType</code> is an optional parameter that may come back as <code>null</code> or <code>empty</code> so I don't want it to be passed into the <code>Object[]</code> if it is either <code>null</code> or <code>empty</code>. </p>\n\n<p>What can I do to handle this type of situation? </p>\n\n<p>I could introduce logic where I only pass in the parameters I want into the <code>Object[]</code>, however, I was wondering if there is an already built in functionality that handles this instead of me reinventing the wheel.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":9849782,"reputation":345,"user_id":7296184,"display_name":"getjackx"},"score":0,"creation_date":1493126339,"post_id":43611525,"comment_id":74272432,"body_markdown":"Edit Fix: try [this page](https://docs.gradle.org/3.4.1/dsl/org.gradle.api.tasks.JavaExec.html). Old comment: Just guessing but isn&#39;t that what you want a plugin? The properties you use may not be available in a task. Would you bother to include more details of your build.gradle to give us information about the plugins you use?","body":"Edit Fix: try <a href=\"https://docs.gradle.org/3.4.1/dsl/org.gradle.api.tasks.JavaExec.html\" rel=\"nofollow noreferrer\">this page</a>. Old comment: Just guessing but isn&#39;t that what you want a plugin? The properties you use may not be available in a task. Would you bother to include more details of your build.gradle to give us information about the plugins you use?"}],"answers":[{"tags":[],"owner":{"account_id":27720,"reputation":13164,"user_id":73446,"accept_rate":80,"display_name":"gregwhitaker"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493223052,"creation_date":1493223052,"answer_id":43639451,"question_id":43611525,"body_markdown":"You need to use the `main` property on the `JavaExec` task.  The `mainClassName` property does not exist.\r\n\r\n    task resources_cleaner_bl(type: JavaExec) {\r\n        classpath sourceSets.main.runtimeClasspath\r\n        systemProperties[&#39;cleanTarget&#39;] = &#39;bl&#39;\r\n        main = &quot;com.w.routing.automation.runners.cleaner.ResourcesCleanerRunner&quot;\r\n    }\r\n\r\nhttps://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html","title":"gradle &quot;No main class specified&quot; even though main class exists","body":"<p>You need to use the <code>main</code> property on the <code>JavaExec</code> task.  The <code>mainClassName</code> property does not exist.</p>\n\n<pre><code>task resources_cleaner_bl(type: JavaExec) {\n    classpath sourceSets.main.runtimeClasspath\n    systemProperties['cleanTarget'] = 'bl'\n    main = \"com.w.routing.automation.runners.cleaner.ResourcesCleanerRunner\"\n}\n</code></pre>\n\n<p><a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html</a></p>\n"},{"tags":[],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1575463668,"creation_date":1575463668,"answer_id":59176426,"question_id":43611525,"body_markdown":"There are several ways to do it , please see the below code.\r\n\r\n   \r\n\r\n     //To run the class name from command line using gradle run\r\n    mainClassName = &#39;com.sam.home.HelloWorld&#39;\r\n    \r\n    //To create a runnable jar  in GradleJavaProject\\build\\libs then java -jar GradleJavaProject.jar\r\n    jar {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;com.sam.home.HelloWorld&#39;\r\n        }\r\n    }\r\n    \r\n    //Alternatively you can run it as a task too gradle -q  runWithJavaExec\r\n    task runWithJavaExec(type: JavaExec) {\r\n        group = &quot;Execution&quot;\r\n        description = &quot;Run the main class with JavaExecTask&quot;\r\n        classpath = sourceSets.main.runtimeClasspath\r\n        main = &#39;com.sam.home.HelloWorld&#39;\r\n    }","title":"gradle &quot;No main class specified&quot; even though main class exists","body":"<p>There are several ways to do it , please see the below code.</p>\n\n<pre><code> //To run the class name from command line using gradle run\nmainClassName = 'com.sam.home.HelloWorld'\n\n//To create a runnable jar  in GradleJavaProject\\build\\libs then java -jar GradleJavaProject.jar\njar {\n    manifest {\n        attributes 'Main-Class': 'com.sam.home.HelloWorld'\n    }\n}\n\n//Alternatively you can run it as a task too gradle -q  runWithJavaExec\ntask runWithJavaExec(type: JavaExec) {\n    group = \"Execution\"\n    description = \"Run the main class with JavaExecTask\"\n    classpath = sourceSets.main.runtimeClasspath\n    main = 'com.sam.home.HelloWorld'\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1639943970,"post_id":61919570,"comment_id":124471772,"body_markdown":"This can still happen despite having that line. At least with Java 17 + Gradle 7.3.","body":"This can still happen despite having that line. At least with Java 17 + Gradle 7.3."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1639944276,"post_id":61919570,"comment_id":124471850,"body_markdown":"Ah - here we go... despite having only executed the main application project (which runs fine), I had a utility subproject which didn&#39;t have mainClassName specified (it doesn&#39;t need one really). So I guess a subproject can be a source of this too, despite the main project providing a mainClassName.","body":"Ah - here we go... despite having only executed the main application project (which runs fine), I had a utility subproject which didn&#39;t have mainClassName specified (it doesn&#39;t need one really). So I guess a subproject can be a source of this too, despite the main project providing a mainClassName."}],"tags":[],"owner":{"account_id":12114036,"reputation":471,"user_id":9950567,"display_name":"Sham Fiorin"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611169524,"creation_date":1589996819,"answer_id":61919570,"question_id":43611525,"body_markdown":"On `build.gradle`, add the line\r\n\r\n    mainClassName = &#39;com.sam.home.HelloWorld&#39;\r\n\r\nDefine the main class and it&#39;s all that you need for this problem.","title":"gradle &quot;No main class specified&quot; even though main class exists","body":"<p>On <code>build.gradle</code>, add the line</p>\n<pre><code>mainClassName = 'com.sam.home.HelloWorld'\n</code></pre>\n<p>Define the main class and it's all that you need for this problem.</p>\n"},{"tags":[],"owner":{"account_id":16443277,"reputation":186,"user_id":11878891,"display_name":"belmel ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669241055,"creation_date":1669240691,"answer_id":74553417,"question_id":43611525,"body_markdown":"in app/build.gradle \r\n   \r\n\r\n     application {\r\n            mainClass = &#39;demo.App&#39; \r\n        }\r\nto Define the main class for the application.\r\n\r\n[Building Java Applications Sample gradle official website ][1]\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/samples/sample_building_java_applications.html","title":"gradle &quot;No main class specified&quot; even though main class exists","body":"<p>in app/build.gradle</p>\n<pre><code> application {\n        mainClass = 'demo.App' \n    }\n</code></pre>\n<p>to Define the main class for the application.</p>\n<p><a href=\"https://docs.gradle.org/current/samples/sample_building_java_applications.html\" rel=\"nofollow noreferrer\">Building Java Applications Sample gradle official website </a></p>\n"}],"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20234,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1669241055,"creation_date":1493125490,"question_id":43611525,"body_markdown":"I try to run this gradle task:\r\n\r\n    task resources_cleaner_bl(type: JavaExec) {\r\n        classpath sourceSets.main.runtimeClasspath\r\n        systemProperties[&#39;cleanTarget&#39;] = &#39;bl&#39;\r\n        mainClassName = &quot;com.w.routing.automation.runners.cleaner.ResourcesCleanerRunner&quot;\r\n    }\r\n\r\nwith this Java code:\r\n\r\n    package com.w.routing.automation.runners.cleaner;\r\n    \r\n    public class ResourcesCleanerRunner {\r\n    \r\n    \r\n        private static IResourcesCleaner resourcesCleaner;\r\n        private static Injector injector;\r\n    \r\n    \r\n        public static void main(String args[]) {\r\n            init();\r\n            String cleanTarget = System.getProperty(&quot;cleanTarget&quot;);\r\n            switch (cleanTarget) {\r\n\r\nbut i get this error:\r\n\r\n\r\n \r\n\r\n    15:48:06.532 [ERROR] [org.gradle.BuildExceptionReporter] FAILURE: Build failed with an exception.\r\n    15:48:06.533 [ERROR] [org.gradle.BuildExceptionReporter] \r\n    15:48:06.549 [ERROR] [org.gradle.BuildExceptionReporter] * What went wrong:\r\n    15:48:06.549 [ERROR] [org.gradle.BuildExceptionReporter] Execution failed for task &#39;:resources_cleaner_bl&#39;.\r\n    15:48:06.549 [ERROR] [org.gradle.BuildExceptionReporter] &gt; No main class specified\r\n    15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter] \r\n    15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter] * Exception is:\r\n    15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter] org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:resources_cleaner_bl&#39;.\r\n    15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\r\n    15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\r\n    15:48:06.551 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\r\n    15:48:06.551 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\r\n    15:48:06.551 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n    15:48:06.552 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\r\n    15:48:06.552 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n    15:48:06.553 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\r\n    15:48:06.553 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n    15:48:06.553 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)\r\n    15:48:06.577 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)\r\n    15:48:06.577 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:66)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\r\n    15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\r\n    15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n    15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\r\n    15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:154)\r\n    15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.Factories$1.create(Factories.java:22)\r\n    15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n    15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)\r\n    15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82)\r\n    15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:94)\r\n    15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\r\n    15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)\r\n    15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)\r\n    15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:75)\r\n    15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:45)\r\n    15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:51)\r\n    15:48:06.582 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:28)\r\n    15:48:06.582 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:43)\r\n    15:48:06.582 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:170)\r\n    15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:127)\r\n    15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:56)\r\n    15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: java.lang.IllegalStateException: No main class specified\r\n    15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.process.internal.JavaExecHandleBuilder.build(JavaExecHandleBuilder.java:212)\r\n    15:48:06.585 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:28)\r\n    15:48:06.585 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.tasks.JavaExec.exec(JavaExec.java:74)\r\n    15:48:06.585 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\r\n\r\n\r\nwhat am i missing as i have the main class with the right namespace?","title":"gradle &quot;No main class specified&quot; even though main class exists","body":"<p>I try to run this gradle task:</p>\n\n<pre><code>task resources_cleaner_bl(type: JavaExec) {\n    classpath sourceSets.main.runtimeClasspath\n    systemProperties['cleanTarget'] = 'bl'\n    mainClassName = \"com.w.routing.automation.runners.cleaner.ResourcesCleanerRunner\"\n}\n</code></pre>\n\n<p>with this Java code:</p>\n\n<pre><code>package com.w.routing.automation.runners.cleaner;\n\npublic class ResourcesCleanerRunner {\n\n\n    private static IResourcesCleaner resourcesCleaner;\n    private static Injector injector;\n\n\n    public static void main(String args[]) {\n        init();\n        String cleanTarget = System.getProperty(\"cleanTarget\");\n        switch (cleanTarget) {\n</code></pre>\n\n<p>but i get this error:</p>\n\n<pre><code>15:48:06.532 [ERROR] [org.gradle.BuildExceptionReporter] FAILURE: Build failed with an exception.\n15:48:06.533 [ERROR] [org.gradle.BuildExceptionReporter] \n15:48:06.549 [ERROR] [org.gradle.BuildExceptionReporter] * What went wrong:\n15:48:06.549 [ERROR] [org.gradle.BuildExceptionReporter] Execution failed for task ':resources_cleaner_bl'.\n15:48:06.549 [ERROR] [org.gradle.BuildExceptionReporter] &gt; No main class specified\n15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter] \n15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter] * Exception is:\n15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter] org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':resources_cleaner_bl'.\n15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\n15:48:06.550 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\n15:48:06.551 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\n15:48:06.551 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n15:48:06.551 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n15:48:06.552 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\n15:48:06.552 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n15:48:06.553 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\n15:48:06.553 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n15:48:06.553 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)\n15:48:06.577 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)\n15:48:06.577 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:66)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n15:48:06.578 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:154)\n15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.Factories$1.create(Factories.java:22)\n15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:52)\n15:48:06.579 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82)\n15:48:06.580 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:94)\n15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)\n15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)\n15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:75)\n15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:45)\n15:48:06.581 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:51)\n15:48:06.582 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:28)\n15:48:06.582 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:43)\n15:48:06.582 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:170)\n15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:127)\n15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:56)\n15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter] Caused by: java.lang.IllegalStateException: No main class specified\n15:48:06.584 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.process.internal.JavaExecHandleBuilder.build(JavaExecHandleBuilder.java:212)\n15:48:06.585 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:28)\n15:48:06.585 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.api.tasks.JavaExec.exec(JavaExec.java:74)\n15:48:06.585 [ERROR] [org.gradle.BuildExceptionReporter]        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\n</code></pre>\n\n<p>what am i missing as i have the main class with the right namespace?</p>\n"},{"tags":["java","spring","spring-boot","mapstruct"],"answers":[{"comments":[{"owner":{"account_id":392882,"reputation":2045,"user_id":754426,"accept_rate":92,"display_name":"Aliti"},"score":0,"creation_date":1607610079,"post_id":65229820,"comment_id":115331128,"body_markdown":"Thanks for the quick reply; the thing is the AdapterClass is not generated","body":"Thanks for the quick reply; the thing is the AdapterClass is not generated"},{"owner":{"account_id":4094217,"reputation":3104,"user_id":3361467,"display_name":"Ray"},"score":0,"creation_date":1607612667,"post_id":65229820,"comment_id":115332522,"body_markdown":"You need the MapStruct processor itself _and_ the extensions project as annotation processor dependency. How to achieve that depends on your particular configuration (Maven/Gradle); but in essence, wherever you currently add the processor, you must add the extensions in the same fashion.","body":"You need the MapStruct processor itself <i>and</i> the extensions project as annotation processor dependency. How to achieve that depends on your particular configuration (Maven/Gradle); but in essence, wherever you currently add the processor, you must add the extensions in the same fashion."},{"owner":{"account_id":11098274,"reputation":835,"user_id":8147680,"display_name":"Nitin Nanda"},"score":0,"creation_date":1607612972,"post_id":65229820,"comment_id":115332587,"body_markdown":"do we also need to add the annotation processor to the maven-compiler-plugin section? I have tried with and without that as well. Added the @SpringMapperConfig to the MapperSpringConfig and specified the package and className but even then the adapter class is not created.","body":"do we also need to add the annotation processor to the maven-compiler-plugin section? I have tried with and without that as well. Added the @SpringMapperConfig to the MapperSpringConfig and specified the package and className but even then the adapter class is not created."},{"owner":{"account_id":62273,"reputation":679,"user_id":185124,"display_name":"danielshiplett"},"score":1,"creation_date":1610226980,"post_id":65229820,"comment_id":116067950,"body_markdown":"I too had issues with getting it working based on the documentation.  In the end, I was missing an @ComponentScan(&quot;org.mapstruct.extensions.spring&quot;).  Perhaps a complete and concrete and discrete example in Maven would help as well because the examples are all Gradle and use relative project annotationProcesser directives which aren&#39;t very similar to how a 3rd party Maven user would handle things.","body":"I too had issues with getting it working based on the documentation.  In the end, I was missing an @ComponentScan(&quot;org.mapstruct.extensions.spring&quot;).  Perhaps a complete and concrete and discrete example in Maven would help as well because the examples are all Gradle and use relative project annotationProcesser directives which aren&#39;t very similar to how a 3rd party Maven user would handle things."},{"owner":{"account_id":4094217,"reputation":3104,"user_id":3361467,"display_name":"Ray"},"score":0,"creation_date":1610347485,"post_id":65229820,"comment_id":116093787,"body_markdown":"We&#39;ve added some documentation to the latest master. Please feel free to add things you think are missing and open a PR.","body":"We&#39;ve added some documentation to the latest master. Please feel free to add things you think are missing and open a PR."}],"tags":[],"owner":{"account_id":4094217,"reputation":3104,"user_id":3361467,"display_name":"Ray"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607583601,"creation_date":1607583601,"answer_id":65229820,"question_id":65225133,"body_markdown":"First of all: Thank you for using this little side project. :-)\r\n\r\nRegarding your question: Yes, this is exactly what the Spring extensions project does at the moment: It generates the adapter class. So in your `MapperSpringConfig`&#39;s `uses` attribute, you can point at the generated class. (BTW, you don&#39;t have to create a separate Config class, you may just as well rely on the individual Mapper&#39;s `uses`. This was only for illustrational purpose.)\r\n\r\nWithout any special configuration for the extensions project itself, the adapter class will be generated with this name: `org.mapstruct.extensions.spring.converter.ConversionServiceAdapter`.\r\n\r\nIf you wish to change this, add a `@SpringMapperConfig` annotation - see [this example][1].\r\n\r\nAnd now, as the project&#39;s maintainer, please let me apologize for the unclear usage. I&#39;m still on the documentation, but this is actually the main reason why I&#39;ve assigned a version number of `0.0.1`. The extensions works as it&#39;s supposed to. If you encounter any issues, please feel free to contact us on one of the usual channels.\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct-spring-extensions/blob/master/examples/packagename-and-classname/src/main/java/org/mapstruct/extensions/spring/example/packageandclass/MapperSpringConfig.java","title":"How to create ConversionServiceAdapter - MapStruct Spring Extension","body":"<p>First of all: Thank you for using this little side project. :-)</p>\n<p>Regarding your question: Yes, this is exactly what the Spring extensions project does at the moment: It generates the adapter class. So in your <code>MapperSpringConfig</code>'s <code>uses</code> attribute, you can point at the generated class. (BTW, you don't have to create a separate Config class, you may just as well rely on the individual Mapper's <code>uses</code>. This was only for illustrational purpose.)</p>\n<p>Without any special configuration for the extensions project itself, the adapter class will be generated with this name: <code>org.mapstruct.extensions.spring.converter.ConversionServiceAdapter</code>.</p>\n<p>If you wish to change this, add a <code>@SpringMapperConfig</code> annotation - see <a href=\"https://github.com/mapstruct/mapstruct-spring-extensions/blob/master/examples/packagename-and-classname/src/main/java/org/mapstruct/extensions/spring/example/packageandclass/MapperSpringConfig.java\" rel=\"nofollow noreferrer\">this example</a>.</p>\n<p>And now, as the project's maintainer, please let me apologize for the unclear usage. I'm still on the documentation, but this is actually the main reason why I've assigned a version number of <code>0.0.1</code>. The extensions works as it's supposed to. If you encounter any issues, please feel free to contact us on one of the usual channels.</p>\n"},{"tags":[],"owner":{"account_id":1979652,"reputation":7771,"user_id":2161118,"display_name":"S34N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669240320,"creation_date":1669240320,"answer_id":74553372,"question_id":65225133,"body_markdown":"This can be achieved in the following link, as of March 2021:\r\n[Spring Extension Unit Test with Mapstruct][1]\r\n\r\nSummary:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration(\r\n        classes = {ConversionServiceAdapterIntegrationTest.AdditionalBeanConfiguration.class})\r\n    public class ConversionServiceAdapterIntegrationTest {\r\n    ....\r\n     @ComponentScan(basePackages = {&quot;org.mapstruct.extensions.spring&quot;, &quot;io.net.mapper&quot;})\r\n    @TestComponent\r\n      static class AdditionalBeanConfiguration {\r\n        @Bean\r\n        ConfigurableConversionService getConversionService() {\r\n          return new DefaultConversionService();\r\n        }\r\n\r\n      }\r\n        }\r\n\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct-spring-extensions/blob/main/examples/packagename-and-classname/src/test/java/org/mapstruct/extensions/spring/example/ConversionServiceAdapterIntegrationTest.java","title":"How to create ConversionServiceAdapter - MapStruct Spring Extension","body":"<p>This can be achieved in the following link, as of March 2021:\n<a href=\"https://github.com/mapstruct/mapstruct-spring-extensions/blob/main/examples/packagename-and-classname/src/test/java/org/mapstruct/extensions/spring/example/ConversionServiceAdapterIntegrationTest.java\" rel=\"nofollow noreferrer\">Spring Extension Unit Test with Mapstruct</a></p>\n<p>Summary:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(\n    classes = {ConversionServiceAdapterIntegrationTest.AdditionalBeanConfiguration.class})\npublic class ConversionServiceAdapterIntegrationTest {\n....\n @ComponentScan(basePackages = {&quot;org.mapstruct.extensions.spring&quot;, &quot;io.net.mapper&quot;})\n@TestComponent\n  static class AdditionalBeanConfiguration {\n    @Bean\n    ConfigurableConversionService getConversionService() {\n      return new DefaultConversionService();\n    }\n\n  }\n    }\n</code></pre>\n"}],"owner":{"account_id":11098274,"reputation":835,"user_id":8147680,"display_name":"Nitin Nanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2023,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669240320,"creation_date":1607549079,"question_id":65225133,"body_markdown":"I am trying to use the build 0.0.1 of the MapStruct Spring Extensions. I am not able to get how the ConversionServiceAdapter class will be created? On the [official website][1] it is mentioned\r\n\r\n`````\r\nannotations and extensions defined in this project will generate a class acting as bridge between MapStruct’s conventions and Spring’s ConversionService API\r\n`````\r\nWhat is the class they are talking about? Is it the ConversionServiceAdapter?\r\nFollowing are my classes\r\n`````\r\n@Getter\r\n@Setter\r\n@FieldNameConstants\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\npublic class Car {\r\n\r\n  private String name;\r\n  private String model;\r\n  private LocalDate year;\r\n\r\n  Company company;\r\n}\r\n`````\r\n`````\r\n@Getter\r\n@Setter\r\n@FieldNameConstants\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\npublic class Company {\r\n\r\n  private String companyName;\r\n\r\n  private Address address;\r\n}\r\n\r\n`````\r\nAssume that the CarDto and CompanyDto structure is the same. \r\n\r\n`````\r\n@Mapper(config = MapperSpringConfig.class)\r\npublic interface CarMapper extends Converter&lt;Car, CarDto&gt; {\r\n\r\n  CarDto convert(Car car); \r\n}\r\n`````\r\n`````\r\n@MapperConfig(componentModel = &quot;spring&quot;, uses = ConversionServiceAdapter.class)\r\npublic interface MapperSpringConfig {\r\n\r\n}\r\n`````\r\nNow should I be creating a ConversionServiceAdapter class myself like this or it has to be generated somehow by the Mapstruct spring extensions. If it is to be created by the extension, should I put `uses = ConversionServiceAdapter.class` in the `@MapperConfig` above? How does it work?\r\n`````\r\n@Component\r\npublic class ConversionServiceAdapter {\r\n\r\n  @Autowired\r\n  private ConversionService conversionService;\r\n\r\n  public CarDto mapCarToCarDto(final Car source) {\r\n    return conversionService.convert(source, CarDto.class);\r\n  }\r\n\r\n  public CompanyDto mapCompanyToCompanyDto(final Company source) {\r\n    return conversionService.convert(source, CompanyDto.class);\r\n  }\r\n}\r\n\r\n`````\r\nI could not find any documentation or release notes on the website. There is a link to the examples on the [github][2] but they are not enough and do not explain clearly how to use it.\r\n\r\nPlease ask for any details that you need from my side.\r\n\r\n\r\n  [1]: https://mapstruct.org/news/2020-12-03-mapstruct-spring-extensions-0-0-1-released/\r\n  [2]: https://github.com/mapstruct/mapstruct-spring-extensions/tree/master/examples","title":"How to create ConversionServiceAdapter - MapStruct Spring Extension","body":"<p>I am trying to use the build 0.0.1 of the MapStruct Spring Extensions. I am not able to get how the ConversionServiceAdapter class will be created? On the <a href=\"https://mapstruct.org/news/2020-12-03-mapstruct-spring-extensions-0-0-1-released/\" rel=\"nofollow noreferrer\">official website</a> it is mentioned</p>\n<pre><code>annotations and extensions defined in this project will generate a class acting as bridge between MapStruct’s conventions and Spring’s ConversionService API\n</code></pre>\n<p>What is the class they are talking about? Is it the ConversionServiceAdapter?\nFollowing are my classes</p>\n<pre><code>@Getter\n@Setter\n@FieldNameConstants\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class Car {\n\n  private String name;\n  private String model;\n  private LocalDate year;\n\n  Company company;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@FieldNameConstants\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class Company {\n\n  private String companyName;\n\n  private Address address;\n}\n\n</code></pre>\n<p>Assume that the CarDto and CompanyDto structure is the same.</p>\n<pre><code>@Mapper(config = MapperSpringConfig.class)\npublic interface CarMapper extends Converter&lt;Car, CarDto&gt; {\n\n  CarDto convert(Car car); \n}\n</code></pre>\n<pre><code>@MapperConfig(componentModel = &quot;spring&quot;, uses = ConversionServiceAdapter.class)\npublic interface MapperSpringConfig {\n\n}\n</code></pre>\n<p>Now should I be creating a ConversionServiceAdapter class myself like this or it has to be generated somehow by the Mapstruct spring extensions. If it is to be created by the extension, should I put <code>uses = ConversionServiceAdapter.class</code> in the <code>@MapperConfig</code> above? How does it work?</p>\n<pre><code>@Component\npublic class ConversionServiceAdapter {\n\n  @Autowired\n  private ConversionService conversionService;\n\n  public CarDto mapCarToCarDto(final Car source) {\n    return conversionService.convert(source, CarDto.class);\n  }\n\n  public CompanyDto mapCompanyToCompanyDto(final Company source) {\n    return conversionService.convert(source, CompanyDto.class);\n  }\n}\n\n</code></pre>\n<p>I could not find any documentation or release notes on the website. There is a link to the examples on the <a href=\"https://github.com/mapstruct/mapstruct-spring-extensions/tree/master/examples\" rel=\"nofollow noreferrer\">github</a> but they are not enough and do not explain clearly how to use it.</p>\n<p>Please ask for any details that you need from my side.</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":1,"creation_date":1397062003,"post_id":22968914,"comment_id":35071890,"body_markdown":"If you want a random num between say 50-100 you just use `50 + random.nextInt(51)`.","body":"If you want a random num between say 50-100 you just use <code>50 + random.nextInt(51)</code>."},{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1397063869,"post_id":22968914,"comment_id":35073142,"body_markdown":"I&#39;m supposed to generate a random `long` for a file size with a given limit of bytes (usually between a few `MB` and a few `GB`), so all the functions are expecting a `long`.","body":"I&#39;m supposed to generate a random <code>long</code> for a file size with a given limit of bytes (usually between a few <code>MB</code> and a few <code>GB</code>), so all the functions are expecting a <code>long</code>."},{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1397063933,"post_id":22968914,"comment_id":35073186,"body_markdown":"@user902383 : You actually cannot do `min + Random.nextLong(max-min);`, because there is no method `nextLong` accepting parameters.","body":"@user902383 : You actually cannot do <code>min + Random.nextLong(max-min);</code>, because there is no method <code>nextLong</code> accepting parameters."},{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1397065481,"post_id":22968914,"comment_id":35074207,"body_markdown":"This answer was also quite useful: http://stackoverflow.com/questions/22968914/how-to-generate-a-random-long-between-x-and-y-in-java/22969061?noredirect=1#comment35073731_22969061.","body":"This answer was also quite useful: <a href=\"http://stackoverflow.com/questions/22968914/how-to-generate-a-random-long-between-x-and-y-in-java/22969061?noredirect=1#comment35073731_22969061\" title=\"how to generate a random long between x and y in java\">stackoverflow.com/questions/22968914/&hellip;</a>."},{"owner":{"account_id":555716,"reputation":12977,"user_id":2192494,"display_name":"Lee Daniel Crocker"},"score":0,"creation_date":1397067434,"post_id":22968914,"comment_id":35075437,"body_markdown":"A Java double has only 52 bits of precision, so if the range of longs you need is larger than 2**52, you&#39;ll either have to settle for not getting all the possible values in the range, or else do the range-limiting yourself after calling nextLong() (or perhaps nextDouble() twice). How best to do that depends on your application&#39;s needs. A library function might not be ideal.","body":"A Java double has only 52 bits of precision, so if the range of longs you need is larger than 2**52, you&#39;ll either have to settle for not getting all the possible values in the range, or else do the range-limiting yourself after calling nextLong() (or perhaps nextDouble() twice). How best to do that depends on your application&#39;s needs. A library function might not be ideal."}],"answers":[{"comments":[{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1397064388,"post_id":22969061,"comment_id":35073485,"body_markdown":"I would prefer to use the Java 8 method, but I&#39;m limited to 1.7.0_xx. Would you mind illustrating it for numbers from `0...1000000`, maybe?","body":"I would prefer to use the Java 8 method, but I&#39;m limited to 1.7.0_xx. Would you mind illustrating it for numbers from <code>0...1000000</code>, maybe?"},{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":0,"creation_date":1397064499,"post_id":22969061,"comment_id":35073558,"body_markdown":"Uh, to get a random long between 0 and 1000000 (exclusive), you would just do this: Math.random()*1000000L;","body":"Uh, to get a random long between 0 and 1000000 (exclusive), you would just do this: Math.random()*1000000L;"},{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":0,"creation_date":1397064777,"post_id":22969061,"comment_id":35073731,"body_markdown":"No. No I do not. You could use random.nextDouble()*1000000L if you really wanted to.","body":"No. No I do not. You could use random.nextDouble()*1000000L if you really wanted to."},{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1397065030,"post_id":22969061,"comment_id":35073902,"body_markdown":"Well, what you&#39;ve shown above is actually for a `double`, hence my confusion. Am I missing something...?","body":"Well, what you&#39;ve shown above is actually for a <code>double</code>, hence my confusion. Am I missing something...?"},{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":0,"creation_date":1397065315,"post_id":22969061,"comment_id":35074080,"body_markdown":"The only thing you&#39;re missing is the cast, which I omitted to conserve comment space: long myRandomLong = (long)(random.nextDouble()*1000000L ); Or put another way, long myrandomLong = (long)(0 + random.nextDouble()*(1000000L-0+1)); would make it inclusive (0 is your lower bound, 1000000 is your upper bound inclusive), and is exactly the formula in my answer.","body":"The only thing you&#39;re missing is the cast, which I omitted to conserve comment space: long myRandomLong = (long)(random.nextDouble()*1000000L ); Or put another way, long myrandomLong = (long)(0 + random.nextDouble()*(1000000L-0+1)); would make it inclusive (0 is your lower bound, 1000000 is your upper bound inclusive), and is exactly the formula in my answer."},{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1397065448,"post_id":22969061,"comment_id":35074180,"body_markdown":"Right, I thought there would be another way that would give you `long`-s straight away, or was at least under that impression.","body":"Right, I thought there would be another way that would give you <code>long</code>-s straight away, or was at least under that impression."},{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":0,"creation_date":1397065536,"post_id":22969061,"comment_id":35074238,"body_markdown":"The above formula is pretty straightforward, so I don&#39;t think it really needs a place in the API. If you use it often, then put it in a utility method.","body":"The above formula is pretty straightforward, so I don&#39;t think it really needs a place in the API. If you use it often, then put it in a utility method."},{"owner":{"account_id":555716,"reputation":12977,"user_id":2192494,"display_name":"Lee Daniel Crocker"},"score":0,"creation_date":1397067538,"post_id":22969061,"comment_id":35075507,"body_markdown":"This formula will, unfortuneately, only give you 52 bits of randomness, so if your long range is greater than 2**52, you&#39;ll lost some precision.","body":"This formula will, unfortuneately, only give you 52 bits of randomness, so if your long range is greater than 2**52, you&#39;ll lost some precision."},{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":0,"creation_date":1397067645,"post_id":22969061,"comment_id":35075575,"body_markdown":"@LeeDanielCrocker what is the alternative?","body":"@LeeDanielCrocker what is the alternative?"}],"tags":[],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"comment_count":9,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1397062324,"creation_date":1397062324,"answer_id":22969061,"question_id":22968914,"body_markdown":"As others have said, you can just use the lower + random * (upper-lower+1) formula. It should be pretty obvious why that works, but if not, try working through a few examples. Also, if you have a formula to get an int between two numbers, that same formula will work with longs. What happened when you tried?\r\n\r\nHowever, if you really want an out-of-the-box way to do this, Java 8 adds a method to the Random class that gives you random long values in a range: http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#longs-long-long-long-","title":"How to generate a random long between X and Y in Java?","body":"<p>As others have said, you can just use the lower + random * (upper-lower+1) formula. It should be pretty obvious why that works, but if not, try working through a few examples. Also, if you have a formula to get an int between two numbers, that same formula will work with longs. What happened when you tried?</p>\n\n<p>However, if you really want an out-of-the-box way to do this, Java 8 adds a method to the Random class that gives you random long values in a range: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#longs-long-long-long-\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#longs-long-long-long-</a></p>\n"},{"tags":[],"owner":{"account_id":555716,"reputation":12977,"user_id":2192494,"display_name":"Lee Daniel Crocker"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1397068400,"creation_date":1397068400,"answer_id":22971121,"question_id":22968914,"body_markdown":"My Java&#39;s a little rusty, but here&#39;s an adaptation of some C code of mine that should produce a long value within the given limits, perfectly uniform, and with full 64-bit precision.\r\n\r\n    long longInRange(long min, long max) {\r\n        long v, range = max - min;\r\n        long mask = range;\r\n\r\n        mask != mask &gt;&gt; 1;\r\n        mask != mask &gt;&gt; 2;\r\n        mask != mask &gt;&gt; 4;\r\n        mask != mask &gt;&gt; 8;\r\n        mask != mask &gt;&gt; 16;\r\n        mask != mask &gt;&gt; 32;\r\n\r\n        do {\r\n            v = m &amp; random.nextLong();\r\n        } while (v &gt;= range);\r\n\r\n        return v + min;\r\n    }\r\n","title":"How to generate a random long between X and Y in Java?","body":"<p>My Java's a little rusty, but here's an adaptation of some C code of mine that should produce a long value within the given limits, perfectly uniform, and with full 64-bit precision.</p>\n\n<pre><code>long longInRange(long min, long max) {\n    long v, range = max - min;\n    long mask = range;\n\n    mask != mask &gt;&gt; 1;\n    mask != mask &gt;&gt; 2;\n    mask != mask &gt;&gt; 4;\n    mask != mask &gt;&gt; 8;\n    mask != mask &gt;&gt; 16;\n    mask != mask &gt;&gt; 32;\n\n    do {\n        v = m &amp; random.nextLong();\n    } while (v &gt;= range);\n\n    return v + min;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22938461,"reputation":538,"user_id":17071589,"display_name":"abdella"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669240253,"creation_date":1669240253,"answer_id":74553361,"question_id":22968914,"body_markdown":"Here is to generate a random long between min and max.\r\n\r\n```\r\n    long leftLimit = 1L;\r\n    long rightLimit = 10L;\r\n    long generatedLong = leftLimit + (long) (Math.random() * (rightLimit - leftLimit));\r\n```\r\nclick [here][1] for detail.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-generate-random-long-float-integer-double","title":"How to generate a random long between X and Y in Java?","body":"<p>Here is to generate a random long between min and max.</p>\n<pre><code>    long leftLimit = 1L;\n    long rightLimit = 10L;\n    long generatedLong = leftLimit + (long) (Math.random() * (rightLimit - leftLimit));\n</code></pre>\n<p>click <a href=\"https://www.baeldung.com/java-generate-random-long-float-integer-double\" rel=\"nofollow noreferrer\">here</a> for detail.</p>\n"}],"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3515,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":22969061,"answer_count":3,"score":5,"last_activity_date":1669240253,"creation_date":1397061903,"question_id":22968914,"body_markdown":"Excuse me, if this is plain obvious, but I don&#39;t quite get it. Why doesn&#39;t the `Random` class simply have a `Random.nextInt(min, max)` or `Random.nextLong(min, max)` method? What&#39;s the deal with this cryptic and overly unintuitive way of doing things?\r\n\r\nI&#39;ve seen examples of how to get a random `int` between `1` and `100`, for example, but I can&#39;t figure out how one would do this for a `long` instead. Could somebody please illustrate this and maybe explain the need to have this done in such a confusing way...?","title":"How to generate a random long between X and Y in Java?","body":"<p>Excuse me, if this is plain obvious, but I don't quite get it. Why doesn't the <code>Random</code> class simply have a <code>Random.nextInt(min, max)</code> or <code>Random.nextLong(min, max)</code> method? What's the deal with this cryptic and overly unintuitive way of doing things?</p>\n\n<p>I've seen examples of how to get a random <code>int</code> between <code>1</code> and <code>100</code>, for example, but I can't figure out how one would do this for a <code>long</code> instead. Could somebody please illustrate this and maybe explain the need to have this done in such a confusing way...?</p>\n"},{"tags":["java","hash","equals","hashcode"],"comments":[{"owner":{"account_id":1765312,"reputation":463,"user_id":2335486,"accept_rate":29,"display_name":"Diablo"},"score":3,"creation_date":1458215150,"post_id":113511,"comment_id":59765784,"body_markdown":"with Java 7+, I guess `Objects.hashCode(collection)` should be a perfect solution!","body":"with Java 7+, I guess <code>Objects.hashCode(collection)</code> should be a perfect solution!"},{"owner":{"account_id":3622644,"reputation":1216,"user_id":3248882,"display_name":"cbreezier"},"score":3,"creation_date":1461044155,"post_id":113511,"comment_id":61005885,"body_markdown":"@Diablo I don&#39;t think that answers the question at all - that method simply returns `collection.hashCode()` (http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/Objects.java#l95)","body":"@Diablo I don&#39;t think that answers the question at all - that method simply returns <code>collection.hashCode()</code> (<a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/Objects.java#l95\" rel=\"nofollow noreferrer\">hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/sha&zwnj;&#8203;re/&hellip;</a>)"}],"answers":[{"comments":[{"owner":{"account_id":1748947,"reputation":1890,"user_id":1598508,"accept_rate":100,"display_name":"Krzysztof Jabłoński"},"score":1,"creation_date":1367303695,"post_id":113530,"comment_id":23323388,"body_markdown":"Like SquareCog have already noticed. If hashcode is generated once from concatenation of two strings it is extremely easy to generate masses of collisions: `(&quot;abc&quot;+&quot;&quot;==&quot;ab&quot;+&quot;c&quot;==&quot;a&quot;+&quot;bc&quot;==&quot;&quot;+&quot;abc&quot;)`. It is severe flaw. It would be better to evaluate hashcode for both fields and then calculate linear combination of them (preferably using primes as coefficients).","body":"Like SquareCog have already noticed. If hashcode is generated once from concatenation of two strings it is extremely easy to generate masses of collisions: <code>(&quot;abc&quot;+&quot;&quot;==&quot;ab&quot;+&quot;c&quot;==&quot;a&quot;+&quot;bc&quot;==&quot;&quot;+&quot;abc&quot;)</code>. It is severe flaw. It would be better to evaluate hashcode for both fields and then calculate linear combination of them (preferably using primes as coefficients)."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1512933949,"post_id":113530,"comment_id":82445276,"body_markdown":"@KrzysztofJabłoński Right. Moreover, swapping `foo` and `bar` produces a needless collision, too.","body":"@KrzysztofJabłoński Right. Moreover, swapping <code>foo</code> and <code>bar</code> produces a needless collision, too."}],"tags":[],"owner":{"account_id":855,"reputation":3955,"user_id":1119,"accept_rate":100,"display_name":"Chris Carruthers"},"comment_count":2,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1222068511,"creation_date":1222066854,"answer_id":113530,"question_id":113511,"body_markdown":"For a simple class it is often easiest to implement hashCode() based on the class fields which are checked by the equals() implementation.\r\n\r\n    public class Zam {\r\n        private String foo;\r\n        private String bar;\r\n        private String somethingElse;\r\n\r\n        public boolean equals(Object obj) {\r\n            if (this == obj) {\r\n                return true;\r\n            }\r\n        \r\n            if (obj == null) {\r\n                return false;\r\n            }\r\n            \r\n            if (getClass() != obj.getClass()) {\r\n                return false;\r\n            }\r\n        \r\n            Zam otherObj = (Zam)obj;\r\n        \r\n            if ((getFoo() == null &amp;&amp; otherObj.getFoo() == null) || (getFoo() != null &amp;&amp; getFoo().equals(otherObj.getFoo()))) {\r\n                if ((getBar() == null &amp;&amp; otherObj. getBar() == null) || (getBar() != null &amp;&amp; getBar().equals(otherObj. getBar()))) {\r\n                    return true;\r\n                }\r\n            }\r\n        \r\n            return false;\r\n        }\r\n\r\n        public int hashCode() {\r\n            return (getFoo() + getBar()).hashCode();\r\n        }\r\n\r\n        public String getFoo() {\r\n            return foo;\r\n        }\r\n\r\n        public String getBar() {\r\n            return bar;\r\n        }\r\n    }\r\n\r\nThe most important thing is to keep hashCode() and equals() consistent: if equals() returns true for two objects, then hashCode() should return the same value. If equals() returns false, then hashCode() should return different values.","title":"Best implementation for hashCode method for a collection","body":"<p>For a simple class it is often easiest to implement hashCode() based on the class fields which are checked by the equals() implementation.</p>\n\n<pre><code>public class Zam {\n    private String foo;\n    private String bar;\n    private String somethingElse;\n\n    public boolean equals(Object obj) {\n        if (this == obj) {\n            return true;\n        }\n\n        if (obj == null) {\n            return false;\n        }\n\n        if (getClass() != obj.getClass()) {\n            return false;\n        }\n\n        Zam otherObj = (Zam)obj;\n\n        if ((getFoo() == null &amp;&amp; otherObj.getFoo() == null) || (getFoo() != null &amp;&amp; getFoo().equals(otherObj.getFoo()))) {\n            if ((getBar() == null &amp;&amp; otherObj. getBar() == null) || (getBar() != null &amp;&amp; getBar().equals(otherObj. getBar()))) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    public int hashCode() {\n        return (getFoo() + getBar()).hashCode();\n    }\n\n    public String getFoo() {\n        return foo;\n    }\n\n    public String getBar() {\n        return bar;\n    }\n}\n</code></pre>\n\n<p>The most important thing is to keep hashCode() and equals() consistent: if equals() returns true for two objects, then hashCode() should return the same value. If equals() returns false, then hashCode() should return different values.</p>\n"},{"comments":[{"owner":{"account_id":8780,"reputation":19486,"user_id":15962,"display_name":"SquareCog"},"score":3,"creation_date":1222091599,"post_id":113548,"comment_id":23636,"body_markdown":"the bug is in the long answer by about8.blogspot.com -- getting the hashcode from a concatenation of strings leaves you with a hash function that is the same for any combination of strings that add up to the same string.","body":"the bug is in the long answer by about8.blogspot.com -- getting the hashcode from a concatenation of strings leaves you with a hash function that is the same for any combination of strings that add up to the same string."},{"owner":{"account_id":1372,"reputation":11302,"user_id":1830,"display_name":"Huppie"},"score":1,"creation_date":1222105244,"post_id":113548,"comment_id":24293,"body_markdown":"So this is meta-discussion and not related to the question at all? ;-)","body":"So this is meta-discussion and not related to the question at all? ;-)"},{"owner":{"account_id":8780,"reputation":19486,"user_id":15962,"display_name":"SquareCog"},"score":1,"creation_date":1222121582,"post_id":113548,"comment_id":25065,"body_markdown":"It&#39;s a correction to a proposed answer that has a fairly significant flaw.","body":"It&#39;s a correction to a proposed answer that has a fairly significant flaw."},{"owner":{"account_id":2702639,"reputation":4757,"user_id":2333021,"accept_rate":70,"display_name":"Christopher Rucinski"},"score":0,"creation_date":1442318286,"post_id":113548,"comment_id":53024497,"body_markdown":"This is a very limited implementation","body":"This is a very limited implementation"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1512933480,"post_id":113548,"comment_id":82445112,"body_markdown":"Your implementation avoid the problem and introduces another one; Swapping `foo` and `bar` leads to the same `hashCode`. Your `toString` AFAIK does not compile, and if it does, then it&#39;s terrible inefficient. Something like `109 * getFoo().hashCode() + 57 * getBar().hashCode()` is faster, simpler and produces no needless collisions.","body":"Your implementation avoid the problem and introduces another one; Swapping <code>foo</code> and <code>bar</code> leads to the same <code>hashCode</code>. Your <code>toString</code> AFAIK does not compile, and if it does, then it&#39;s terrible inefficient. Something like <code>109 * getFoo().hashCode() + 57 * getBar().hashCode()</code> is faster, simpler and produces no needless collisions."}],"tags":[],"owner":{"account_id":8780,"reputation":19486,"user_id":15962,"display_name":"SquareCog"},"comment_count":5,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1222067176,"creation_date":1222067176,"answer_id":113548,"question_id":113511,"body_markdown":"@about8 : there is a pretty serious bug there.  \r\n\r\n    Zam obj1 = new Zam(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;);\r\n    Zam obj2 = new Zam(&quot;fo&quot;, &quot;obar&quot;, &quot;baz&quot;);\r\n\r\nsame hashcode\r\n\r\nyou probably want something like\r\n\r\n    public int hashCode() {\r\n        return (getFoo().hashCode() + getBar().hashCode()).toString().hashCode();\r\n\r\n(can you get hashCode directly from int in Java these days? I think it does some autocasting.. if that&#39;s the case, skip the toString, it&#39;s ugly.)","title":"Best implementation for hashCode method for a collection","body":"<p>@about8 : there is a pretty serious bug there.  </p>\n\n<pre><code>Zam obj1 = new Zam(\"foo\", \"bar\", \"baz\");\nZam obj2 = new Zam(\"fo\", \"obar\", \"baz\");\n</code></pre>\n\n<p>same hashcode</p>\n\n<p>you probably want something like</p>\n\n<pre><code>public int hashCode() {\n    return (getFoo().hashCode() + getBar().hashCode()).toString().hashCode();\n</code></pre>\n\n<p>(can you get hashCode directly from int in Java these days? I think it does some autocasting.. if that's the case, skip the toString, it's ugly.)</p>\n"},{"tags":[],"owner":{"account_id":956,"reputation":12920,"user_id":1265,"accept_rate":82,"display_name":"Grey Panther"},"comment_count":0,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1222067290,"creation_date":1222067290,"answer_id":113556,"question_id":113511,"body_markdown":"First make sure that equals is implemented correctly. From [an IBM DeveloperWorks article][1]:\r\n\r\n&gt; - Symmetry: For two references, a and b, a.equals(b) if and only if b.equals(a)\r\n&gt; - Reflexivity: For all non-null references, a.equals(a)\r\n&gt; - Transitivity: If a.equals(b) and b.equals(c), then a.equals(c) \r\n\r\nThen make sure that their relation with hashCode respects the contact (from the same article):\r\n\r\n&gt; - Consistency with hashCode(): Two equal objects must have the same hashCode() value\r\n\r\nFinally a good hash function should strive to approach the [ideal hash function][2].\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/j-jtp05273.html#N10184\r\n  [2]: http://en.wikipedia.org/wiki/Hash_function#Properties","title":"Best implementation for hashCode method for a collection","body":"<p>First make sure that equals is implemented correctly. From <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp05273.html#N10184\" rel=\"noreferrer\">an IBM DeveloperWorks article</a>:</p>\n\n<blockquote>\n  <ul>\n  <li>Symmetry: For two references, a and b, a.equals(b) if and only if b.equals(a)</li>\n  <li>Reflexivity: For all non-null references, a.equals(a)</li>\n  <li>Transitivity: If a.equals(b) and b.equals(c), then a.equals(c) </li>\n  </ul>\n</blockquote>\n\n<p>Then make sure that their relation with hashCode respects the contact (from the same article):</p>\n\n<blockquote>\n  <ul>\n  <li>Consistency with hashCode(): Two equal objects must have the same hashCode() value</li>\n  </ul>\n</blockquote>\n\n<p>Finally a good hash function should strive to approach the <a href=\"http://en.wikipedia.org/wiki/Hash_function#Properties\" rel=\"noreferrer\">ideal hash function</a>.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1222067292,"creation_date":1222067292,"answer_id":113557,"question_id":113511,"body_markdown":"Just a quick note for completing other more detailed answer (in term of code):\r\n\r\nIf I consider the question [how-do-i-create-a-hash-table-in-java][1] and especially the [jGuru FAQ entry][2], I believe some other criteria upon which a hash code could be judged are:\r\n\r\n- synchronization (does the algo support concurrent access or not) ?\r\n- fail safe iteration (does the algo detect a collection which changes during iteration)\r\n- null value (does the hash code support null value in the collection)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29324/how-do-i-create-a-hash-table-in-java\r\n  [2]: http://www.jguru.com/faq/view.jsp?EID=430247","title":"Best implementation for hashCode method for a collection","body":"<p>Just a quick note for completing other more detailed answer (in term of code):</p>\n\n<p>If I consider the question <a href=\"https://stackoverflow.com/questions/29324/how-do-i-create-a-hash-table-in-java\">how-do-i-create-a-hash-table-in-java</a> and especially the <a href=\"http://www.jguru.com/faq/view.jsp?EID=430247\" rel=\"nofollow noreferrer\">jGuru FAQ entry</a>, I believe some other criteria upon which a hash code could be judged are:</p>\n\n<ul>\n<li>synchronization (does the algo support concurrent access or not) ?</li>\n<li>fail safe iteration (does the algo detect a collection which changes during iteration)</li>\n<li>null value (does the hash code support null value in the collection)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222067738,"creation_date":1222067738,"answer_id":113581,"question_id":113511,"body_markdown":"As you specifically asked for collections, I&#39;d like to add an aspect that the other answers haven&#39;t mentioned yet: A HashMap doesn&#39;t expect their keys to change their hashcode once they are added to the collection. Would defeat the whole purpose...","title":"Best implementation for hashCode method for a collection","body":"<p>As you specifically asked for collections, I'd like to add an aspect that the other answers haven't mentioned yet: A HashMap doesn't expect their keys to change their hashcode once they are added to the collection. Would defeat the whole purpose...</p>\n"},{"tags":[],"owner":{"account_id":1710,"reputation":18740,"user_id":2309,"accept_rate":79,"display_name":"Mario Orteg&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1222067806,"creation_date":1222067806,"answer_id":113583,"question_id":113511,"body_markdown":"If I understand your question correctly, you have a custom collection class (i.e. a new class that extends from the Collection interface) and you want to implement the hashCode() method.\r\n\r\nIf your collection class extends AbstractList, then you don&#39;t have to worry about it, there is already an implementation of equals() and hashCode() that works by iterating through all the objects and adding their hashCodes() together.\r\n\r\n       public int hashCode() {\r\n          int hashCode = 1;\r\n          Iterator i = iterator();\r\n          while (i.hasNext()) {\r\n            Object obj = i.next();\r\n            hashCode = 31*hashCode + (obj==null ? 0 : obj.hashCode());\r\n          }\r\n\t  return hashCode;\r\n       }\r\n\r\nNow if what you want is the best way to calculate the hash code for a specific class, I normally use the ^ (bitwise exclusive or) operator to process all fields that I use in the equals method:\r\n\r\n    public int hashCode(){\r\n       return intMember ^ (stringField != null ? stringField.hashCode() : 0);\r\n    }\r\n\r\n","title":"Best implementation for hashCode method for a collection","body":"<p>If I understand your question correctly, you have a custom collection class (i.e. a new class that extends from the Collection interface) and you want to implement the hashCode() method.</p>\n\n<p>If your collection class extends AbstractList, then you don't have to worry about it, there is already an implementation of equals() and hashCode() that works by iterating through all the objects and adding their hashCodes() together.</p>\n\n<pre><code>   public int hashCode() {\n      int hashCode = 1;\n      Iterator i = iterator();\n      while (i.hasNext()) {\n        Object obj = i.next();\n        hashCode = 31*hashCode + (obj==null ? 0 : obj.hashCode());\n      }\n  return hashCode;\n   }\n</code></pre>\n\n<p>Now if what you want is the best way to calculate the hash code for a specific class, I normally use the ^ (bitwise exclusive or) operator to process all fields that I use in the equals method:</p>\n\n<pre><code>public int hashCode(){\n   return intMember ^ (stringField != null ? stringField.hashCode() : 0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9396,"reputation":14580,"user_id":17335,"display_name":"Chii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222068026,"creation_date":1222068026,"answer_id":113595,"question_id":113511,"body_markdown":"any hashing method that evenly distributes the hash value over the possible range is a good implementation. See effective java ( http://books.google.com.au/books?id=ZZOiqZQIbRMC&amp;dq=effective+java&amp;pg=PP1&amp;ots=UZMZ2siN25&amp;sig=kR0n73DHJOn-D77qGj0wOxAxiZw&amp;hl=en&amp;sa=X&amp;oi=book_result&amp;resnum=1&amp;ct=result ) , there is a good tip in there for hashcode implementation (item 9 i think...). ","title":"Best implementation for hashCode method for a collection","body":"<p>any hashing method that evenly distributes the hash value over the possible range is a good implementation. See effective java ( <a href=\"http://books.google.com.au/books?id=ZZOiqZQIbRMC&amp;dq=effective+java&amp;pg=PP1&amp;ots=UZMZ2siN25&amp;sig=kR0n73DHJOn-D77qGj0wOxAxiZw&amp;hl=en&amp;sa=X&amp;oi=book_result&amp;resnum=1&amp;ct=result\" rel=\"nofollow noreferrer\">http://books.google.com.au/books?id=ZZOiqZQIbRMC&amp;dq=effective+java&amp;pg=PP1&amp;ots=UZMZ2siN25&amp;sig=kR0n73DHJOn-D77qGj0wOxAxiZw&amp;hl=en&amp;sa=X&amp;oi=book_result&amp;resnum=1&amp;ct=result</a> ) , there is a good tip in there for hashcode implementation (item 9 i think...). </p>\n"},{"comments":[{"owner":{"account_id":3140,"reputation":1822,"user_id":4464,"accept_rate":60,"display_name":"runaros"},"score":1,"creation_date":1222073434,"post_id":113600,"comment_id":23067,"body_markdown":"Interesting answer. Are there some link to a mathematical proof for why this formula works?","body":"Interesting answer. Are there some link to a mathematical proof for why this formula works?"},{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":52,"creation_date":1222104330,"post_id":113600,"comment_id":24247,"body_markdown":"Yeah I&#39;m particularly curious about where the number 37 comes from.","body":"Yeah I&#39;m particularly curious about where the number 37 comes from."},{"owner":{"account_id":2955,"reputation":34912,"user_id":4194,"accept_rate":75,"display_name":"dmeister"},"score":11,"creation_date":1222127721,"post_id":113600,"comment_id":25262,"body_markdown":"I&#39;m not aware of any proof.\n\nThe number of 37 is arbitrary, but it should be prime. Why? I&#39;m not really sure but it has to do with modulo arthritics and properties of prime numbers which lead to go distributions.","body":"I&#39;m not aware of any proof.  The number of 37 is arbitrary, but it should be prime. Why? I&#39;m not really sure but it has to do with modulo arthritics and properties of prime numbers which lead to go distributions."},{"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"score":1,"creation_date":1286200625,"post_id":113600,"comment_id":4099208,"body_markdown":"Thank you for detailed answer. Could you please tell me, which reference/guidelines you used to create this set of advices? Also I wonder, why multiply by 37? What is the magic in 37? Why multiply is better then right shift (`result = result &lt;&lt; 16 + c`)?","body":"Thank you for detailed answer. Could you please tell me, which reference/guidelines you used to create this set of advices? Also I wonder, why multiply by 37? What is the magic in 37? Why multiply is better then right shift (<code>result = result &lt;&lt; 16 + c</code>)?"},{"owner":{"account_id":2955,"reputation":34912,"user_id":4194,"accept_rate":75,"display_name":"dmeister"},"score":20,"creation_date":1286203189,"post_id":113600,"comment_id":4099671,"body_markdown":"I used item 8 of Josh Bloch&#39;s &quot;Effective Java&quot; book.","body":"I used item 8 of Josh Bloch&#39;s &quot;Effective Java&quot; book."},{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":43,"creation_date":1360936727,"post_id":113600,"comment_id":20891421,"body_markdown":"@dma_k The reason for using prime numbers and the method described in this answer is to ensure that the **computed hashcode will be unique**. When using non-prime numbers, you cannot guarantee this. It does not matter which prime nummer you choose, there is nothing magical about the number 37 (too bad 42 isn&#39;t a prime number, eh?)","body":"@dma_k The reason for using prime numbers and the method described in this answer is to ensure that the <b>computed hashcode will be unique</b>. When using non-prime numbers, you cannot guarantee this. It does not matter which prime nummer you choose, there is nothing magical about the number 37 (too bad 42 isn&#39;t a prime number, eh?)"},{"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"score":38,"creation_date":1360937309,"post_id":113600,"comment_id":20891719,"body_markdown":"@SimonAndr&#233;Forsberg Well, computed hash code cannot be always unique :) Is a hashcode. However I got the idea: the prime number has only one multiplier, while non-prime has at least two. That creates an extra combination for multiplication operator to result the same hash, i.e. cause collision.","body":"@SimonAndr&#233;Forsberg Well, computed hash code cannot be always unique :) Is a hashcode. However I got the idea: the prime number has only one multiplier, while non-prime has at least two. That creates an extra combination for multiplication operator to result the same hash, i.e. cause collision."},{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":0,"creation_date":1360943208,"post_id":113600,"comment_id":20895101,"body_markdown":"@dma_k Yes, that&#39;s what I meant :) Of course it cannot be unique at all times (otherwise comparing hashCode would be enough to determine .equals), using prime numbers just reduces the collisions.","body":"@dma_k Yes, that&#39;s what I meant :) Of course it cannot be unique at all times (otherwise comparing hashCode would be enough to determine .equals), using prime numbers just reduces the collisions."},{"owner":{"account_id":2388379,"reputation":5178,"user_id":2088822,"accept_rate":93,"display_name":"afsantos"},"score":3,"creation_date":1363608085,"post_id":113600,"comment_id":21903702,"body_markdown":"Any particular reason for `true` mapping to `0` and `false` to `1`, and not the other way around?","body":"Any particular reason for <code>true</code> mapping to <code>0</code> and <code>false</code> to <code>1</code>, and not the other way around?"},{"owner":{"account_id":2955,"reputation":34912,"user_id":4194,"accept_rate":75,"display_name":"dmeister"},"score":2,"creation_date":1363617919,"post_id":113600,"comment_id":21909509,"body_markdown":"@afsantos: I can&#39;t think of any. The code from the book is more a general guideline as a law and by no means the only correct way to do it.","body":"@afsantos: I can&#39;t think of any. The code from the book is more a general guideline as a law and by no means the only correct way to do it."},{"owner":{"account_id":166441,"reputation":2222,"user_id":390562,"accept_rate":86,"display_name":"Timo"},"score":0,"creation_date":1384243661,"post_id":113600,"comment_id":29646887,"body_markdown":"I edited the post but this minimum number of characters is really annoying when doing minor mark-up adjustments :( If accepted, could somebody please remove EDITED near bullet 1? Thanks.","body":"I edited the post but this minimum number of characters is really annoying when doing minor mark-up adjustments :( If accepted, could somebody please remove EDITED near bullet 1? Thanks."},{"owner":{"account_id":105481,"reputation":6059,"user_id":281460,"accept_rate":74,"display_name":"jwir3"},"score":2,"creation_date":1390856852,"post_id":113600,"comment_id":32264869,"body_markdown":"+1 Excellent explanation, and I really like that you gave the source (i.e. Bloch&#39;s book, not the source code) in the event someone wants more information.","body":"+1 Excellent explanation, and I really like that you gave the source (i.e. Bloch&#39;s book, not the source code) in the event someone wants more information."},{"owner":{"account_id":54976,"reputation":14415,"user_id":164553,"accept_rate":100,"display_name":"Brigham"},"score":0,"creation_date":1409075966,"post_id":113600,"comment_id":39826223,"body_markdown":"If the field `f` is an array, you also have the option of using the `java.util.Arrays.hashCode` methods to compute that field&#39;s hash value.","body":"If the field <code>f</code> is an array, you also have the option of using the <code>java.util.Arrays.hashCode</code> methods to compute that field&#39;s hash value."},{"owner":{"account_id":1016846,"reputation":16857,"user_id":1028230,"accept_rate":78,"display_name":"ruffin"},"score":19,"creation_date":1437510457,"post_id":113600,"comment_id":51056484,"body_markdown":"I think [Bloch multiplies by 31, not 37](http://stackoverflow.com/a/5155015/1028230), for [its ease of optimization](http://stackoverflow.com/questions/5154970/how-do-i-create-a-hashcode-in-net-c-for-a-string-that-is-safe-to-store-in-a/5155015?noredirect=1#comment51056393_5155015).","body":"I think <a href=\"http://stackoverflow.com/a/5155015/1028230\">Bloch multiplies by 31, not 37</a>, for <a href=\"http://stackoverflow.com/questions/5154970/how-do-i-create-a-hashcode-in-net-c-for-a-string-that-is-safe-to-store-in-a/5155015?noredirect=1#comment51056393_5155015\">its ease of optimization</a>."},{"owner":{"account_id":4845455,"reputation":3888,"user_id":3909198,"accept_rate":86,"display_name":"inquisitive"},"score":0,"creation_date":1442813803,"post_id":113600,"comment_id":53220162,"body_markdown":"What if the field is a string? It definitely is an object but what should be the implementation of hte hashcode","body":"What if the field is a string? It definitely is an object but what should be the implementation of hte hashcode"},{"owner":{"account_id":1125475,"reputation":1242,"user_id":1112856,"accept_rate":29,"display_name":"Pankaj"},"score":0,"creation_date":1455278284,"post_id":113600,"comment_id":58429893,"body_markdown":"How to calculate in the case of String Member type of object","body":"How to calculate in the case of String Member type of object"},{"owner":{"account_id":2724845,"reputation":769,"user_id":2464041,"display_name":"Cope"},"score":1,"creation_date":1457091801,"post_id":113600,"comment_id":59260051,"body_markdown":"One of the main goals of a hash function is that it should be inexpensive to evaluate. I just wrote a hash function for a formal parameter data structure in a compiler. The equality test of course must check every parameter name and type, after ensuring structural isometry. But as for &quot;For every field f tested in the equals() method&quot;, one could well find the hash lookup nearly as expensive as a linear search. You need only to create a trivial hash function that yields a broad distribution of results across usage patterns. Empirical measurement and experimentation, rather than guessing, helps.","body":"One of the main goals of a hash function is that it should be inexpensive to evaluate. I just wrote a hash function for a formal parameter data structure in a compiler. The equality test of course must check every parameter name and type, after ensuring structural isometry. But as for &quot;For every field f tested in the equals() method&quot;, one could well find the hash lookup nearly as expensive as a linear search. You need only to create a trivial hash function that yields a broad distribution of results across usage patterns. Empirical measurement and experimentation, rather than guessing, helps."},{"owner":{"account_id":2955,"reputation":34912,"user_id":4194,"accept_rate":75,"display_name":"dmeister"},"score":0,"creation_date":1457137287,"post_id":113600,"comment_id":59286131,"body_markdown":"@Cope: I disagree that the main goal of a hash function is speed. While there are certain special cases for other hashCode implementations, this is a very good start. Certainly it is a correct implementation. Most &quot;smart&quot; ones are just plain wrong.","body":"@Cope: I disagree that the main goal of a hash function is speed. While there are certain special cases for other hashCode implementations, this is a very good start. Certainly it is a correct implementation. Most &quot;smart&quot; ones are just plain wrong."},{"owner":{"account_id":2724845,"reputation":769,"user_id":2464041,"display_name":"Cope"},"score":2,"creation_date":1457256000,"post_id":113600,"comment_id":59317126,"body_markdown":"Hej @dmeister — I stand my ground. It&#39;s very simple. 1. The primary goal of a hash function (in data structures, rather than, e.g., in encryption) is speed — to avoid the cost of a linear search. 2. There is a tradeoff between the cost of computing the hash and the cost of a linear search, and on multi-field structures even just searching on the right key can be enough to adequately lower the cost. 3. For large data structures (like my formal parameters) the number of computations would be in the dozens if you measure &quot;every field.&quot; 4. There is no universal answer — so you must measure.","body":"Hej @dmeister — I stand my ground. It&#39;s very simple. 1. The primary goal of a hash function (in data structures, rather than, e.g., in encryption) is speed — to avoid the cost of a linear search. 2. There is a tradeoff between the cost of computing the hash and the cost of a linear search, and on multi-field structures even just searching on the right key can be enough to adequately lower the cost. 3. For large data structures (like my formal parameters) the number of computations would be in the dozens if you measure &quot;every field.&quot; 4. There is no universal answer — so you must measure."},{"owner":{"account_id":910639,"reputation":4709,"user_id":944592,"accept_rate":74,"display_name":"yakya"},"score":1,"creation_date":1457889590,"post_id":113600,"comment_id":59600824,"body_markdown":"I saw that 37 elsewhere for calculating string hash code algorithm and judged that there are 26 letters and 10 numbers plus space character which comes up with 37 lol","body":"I saw that 37 elsewhere for calculating string hash code algorithm and judged that there are 26 letters and 10 numbers plus space character which comes up with 37 lol"},{"owner":{"account_id":3521775,"reputation":943,"user_id":2943857,"display_name":"Abhishek Singh"},"score":1,"creation_date":1516164143,"post_id":113600,"comment_id":83572446,"body_markdown":"Could someone please explain what this line is doing in case of long?           f ^ (f &gt;&gt;&gt; 32)","body":"Could someone please explain what this line is doing in case of long?           f ^ (f &gt;&gt;&gt; 32)"},{"owner":{"account_id":5506123,"reputation":4004,"user_id":4373927,"accept_rate":94,"display_name":"John R Perry"},"score":0,"creation_date":1521949410,"post_id":113600,"comment_id":85947244,"body_markdown":"In the third version of Effective Java, the content of **Item 8** has nothing to do with hashcode so maybe remove the mention of the item.","body":"In the third version of Effective Java, the content of <b>Item 8</b> has nothing to do with hashcode so maybe remove the mention of the item."},{"owner":{"account_id":2955,"reputation":34912,"user_id":4194,"accept_rate":75,"display_name":"dmeister"},"score":0,"creation_date":1522685962,"post_id":113600,"comment_id":86236134,"body_markdown":"I think Item 8 was based on the second edition. The third edition has a page at the end how the different items map from edition to edition.","body":"I think Item 8 was based on the second edition. The third edition has a page at the end how the different items map from edition to edition."},{"owner":{"account_id":4211568,"reputation":111,"user_id":6865804,"display_name":"kristjan"},"score":1,"creation_date":1528292953,"post_id":113600,"comment_id":88452573,"body_markdown":"With good hashing, the probability for hash collision should be 2^-32, but with 37, you can easily run into collisions. For example, for an object with two ints (x, y), the hashcodes for (1, -37), (0, 0), (-1, 37) would all evaluate to 0. So in real life (with small values much more likely than large), the probability is nowhere near 2^-32. Better use a prime like 912376189.","body":"With good hashing, the probability for hash collision should be 2^-32, but with 37, you can easily run into collisions. For example, for an object with two ints (x, y), the hashcodes for (1, -37), (0, 0), (-1, 37) would all evaluate to 0. So in real life (with small values much more likely than large), the probability is nowhere near 2^-32. Better use a prime like 912376189."},{"owner":{"account_id":94069,"reputation":26407,"user_id":2557128,"accept_rate":67,"display_name":"NetMage"},"score":0,"creation_date":1558053448,"post_id":113600,"comment_id":98982576,"body_markdown":"This function handles `double` like .Net, and my recent testing shows that it is very poor when your doubles are not truly random, but really integers, or have only one or two decimal places. The re-hash function from `HashMap` helps, but still isn&#39;t as good as just using the HashCode for `int` on the value in this case.","body":"This function handles <code>double</code> like .Net, and my recent testing shows that it is very poor when your doubles are not truly random, but really integers, or have only one or two decimal places. The re-hash function from <code>HashMap</code> helps, but still isn&#39;t as good as just using the HashCode for <code>int</code> on the value in this case."},{"owner":{"account_id":12938660,"reputation":565,"user_id":9355196,"display_name":"jashgopani"},"score":0,"creation_date":1616065384,"post_id":113600,"comment_id":117889026,"body_markdown":"@demister Can you explain the logic of the long data type hash code `(int)(f ^ (f &gt;&gt;&gt; 32))`","body":"@demister Can you explain the logic of the long data type hash code <code>(int)(f ^ (f &gt;&gt;&gt; 32))</code>"},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":0,"creation_date":1629472661,"post_id":113600,"comment_id":121703932,"body_markdown":"@Kip It is common practice to use powers of 2 to assign hash buckets; because it makes the modulus operation very fast, effectively turning it into a binary AND operation  %4 -&gt; AND( 0x0003).  To get a decent distribution in the new space from a well distributed input, one wants to multiply the input by a coprime, of which 37 is coprime to all powers of 2.  Other numbers would work, but you want one small enough to work with char, and large enough to overflow the limit quickly.  37 shifts the input by one, three, and six places, helping the input bits spread out more. 37, 31, 27 etc also work.","body":"@Kip It is common practice to use powers of 2 to assign hash buckets; because it makes the modulus operation very fast, effectively turning it into a binary AND operation  %4 -&gt; AND( 0x0003).  To get a decent distribution in the new space from a well distributed input, one wants to multiply the input by a coprime, of which 37 is coprime to all powers of 2.  Other numbers would work, but you want one small enough to work with char, and large enough to overflow the limit quickly.  37 shifts the input by one, three, and six places, helping the input bits spread out more. 37, 31, 27 etc also work."},{"owner":{"account_id":146317,"reputation":1317,"user_id":356691,"accept_rate":100,"display_name":"Stijn Leenknegt"},"score":0,"creation_date":1643826305,"post_id":113600,"comment_id":125444864,"body_markdown":"Another tip I found out the hard way. Don&#39;t use fields in hashCode() that change during the lifetime of the object. I use a WeakHashMap and there was an entry but after a while it returned NULL because one of the field changed. So the hashCode() was also changed, and the HashMap couldn&#39;t find the object anymore.","body":"Another tip I found out the hard way. Don&#39;t use fields in hashCode() that change during the lifetime of the object. I use a WeakHashMap and there was an entry but after a while it returned NULL because one of the field changed. So the hashCode() was also changed, and the HashMap couldn&#39;t find the object anymore."},{"owner":{"account_id":19016739,"reputation":743,"user_id":13881506,"display_name":"joseville"},"score":0,"creation_date":1657731699,"post_id":113600,"comment_id":128882362,"body_markdown":"@StijnLeenknegt mutable objects are generally not accepted as keys into hashmaps for this reason. If the object is mutated, then the hash will change, which is a no-no. In a sense, when you mutate the object it ceases to be the original object. At that point, you might be better off comparing the objects based on their id/address rather than based on their fields/attributes.","body":"@StijnLeenknegt mutable objects are generally not accepted as keys into hashmaps for this reason. If the object is mutated, then the hash will change, which is a no-no. In a sense, when you mutate the object it ceases to be the original object. At that point, you might be better off comparing the objects based on their id/address rather than based on their fields/attributes."}],"tags":[],"owner":{"account_id":2955,"reputation":34912,"user_id":4194,"accept_rate":75,"display_name":"dmeister"},"comment_count":29,"down_vote_count":0,"up_vote_count":469,"is_accepted":true,"score":469,"last_activity_date":1522685992,"creation_date":1222068133,"answer_id":113600,"question_id":113511,"body_markdown":"The best implementation? That is a hard question because it depends on the usage pattern.\r\n\r\nA for nearly all cases reasonable good implementation was proposed in _Josh Bloch_&#39;s  **_Effective Java_** in Item 8 (second edition). The best thing is to look it up there because the author explains there why the approach is good.\r\n\r\n###A short version\r\n\r\n1. Create a `int result` and assign a **non-zero** value.\r\n\r\n2. For _every field_ `f` tested in the `equals()` method, calculate a hash code `c` by:\r\n\r\n* If the field f is a `boolean`: \r\ncalculate `(f ? 0 : 1)`;\r\n* If the field f is a `byte`, `char`, `short` or `int`: calculate `(int)f`;\r\n* If the field f is a `long`: calculate `(int)(f ^ (f &gt;&gt;&gt; 32))`;\r\n* If the field f is a `float`: calculate `Float.floatToIntBits(f)`;\r\n* If the field f is a `double`: calculate `Double.doubleToLongBits(f)` and handle the return value like every long value;\r\n* If the field f is an _object_: Use the result of the `hashCode()` method or 0 if `f == null`;\r\n* If the field f is an _array_: see every field as separate element and calculate the hash value in a _recursive fashion_ and combine the values as described next.\r\n\r\n3. Combine the hash value `c` with `result`:\r\n\r\n        result = 37 * result + c\r\n\r\n4. Return `result`\r\n\r\nThis should result in a proper distribution of hash values for most use situations.","title":"Best implementation for hashCode method for a collection","body":"<p>The best implementation? That is a hard question because it depends on the usage pattern.</p>\n\n<p>A for nearly all cases reasonable good implementation was proposed in <em>Josh Bloch</em>'s  <strong><em>Effective Java</em></strong> in Item 8 (second edition). The best thing is to look it up there because the author explains there why the approach is good.</p>\n\n<h3>A short version</h3>\n\n<ol>\n<li><p>Create a <code>int result</code> and assign a <strong>non-zero</strong> value.</p></li>\n<li><p>For <em>every field</em> <code>f</code> tested in the <code>equals()</code> method, calculate a hash code <code>c</code> by:</p>\n\n<ul>\n<li>If the field f is a <code>boolean</code>: \ncalculate <code>(f ? 0 : 1)</code>;</li>\n<li>If the field f is a <code>byte</code>, <code>char</code>, <code>short</code> or <code>int</code>: calculate <code>(int)f</code>;</li>\n<li>If the field f is a <code>long</code>: calculate <code>(int)(f ^ (f &gt;&gt;&gt; 32))</code>;</li>\n<li>If the field f is a <code>float</code>: calculate <code>Float.floatToIntBits(f)</code>;</li>\n<li>If the field f is a <code>double</code>: calculate <code>Double.doubleToLongBits(f)</code> and handle the return value like every long value;</li>\n<li>If the field f is an <em>object</em>: Use the result of the <code>hashCode()</code> method or 0 if <code>f == null</code>;</li>\n<li>If the field f is an <em>array</em>: see every field as separate element and calculate the hash value in a <em>recursive fashion</em> and combine the values as described next.</li>\n</ul></li>\n<li><p>Combine the hash value <code>c</code> with <code>result</code>:</p>\n\n<pre><code>result = 37 * result + c\n</code></pre></li>\n<li><p>Return <code>result</code></p></li>\n</ol>\n\n<p>This should result in a proper distribution of hash values for most use situations.</p>\n"},{"comments":[{"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"score":1,"creation_date":1328319351,"post_id":113815,"comment_id":11485850,"body_markdown":"The downside of this API is you pay the cost of object construction every time you call equals and hashcode (unless your object is immutable and you precompute the hash), which can be a lot in certain cases.","body":"The downside of this API is you pay the cost of object construction every time you call equals and hashcode (unless your object is immutable and you precompute the hash), which can be a lot in certain cases."},{"owner":{"account_id":1765312,"reputation":463,"user_id":2335486,"accept_rate":29,"display_name":"Diablo"},"score":0,"creation_date":1458214003,"post_id":113815,"comment_id":59764958,"body_markdown":"this was my favorite approach, until recently. I have ran into StackOverFlowError while using a criteria for SharedKey OneToOne association. \nMore over, `Objects` class provides `hash(Object ..args)` &amp; `equals()` methods from Java7 on. These are recommended for any applications using jdk 1.7+","body":"this was my favorite approach, until recently. I have ran into StackOverFlowError while using a criteria for SharedKey OneToOne association.  More over, <code>Objects</code> class provides <code>hash(Object ..args)</code> &amp; <code>equals()</code> methods from Java7 on. These are recommended for any applications using jdk 1.7+"},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1512933163,"post_id":113815,"comment_id":82444999,"body_markdown":"@Diablo I guess, your problem was a cycle in the object graph and then you&#39;re out of luck with most implementation as you need to ignore some reference or to break the cycle (mandating an `IdentityHashMap`). FWIW I use an id-based hashCode and equals for all entities.","body":"@Diablo I guess, your problem was a cycle in the object graph and then you&#39;re out of luck with most implementation as you need to ignore some reference or to break the cycle (mandating an <code>IdentityHashMap</code>). FWIW I use an id-based hashCode and equals for all entities."}],"tags":[],"owner":{"account_id":9900,"reputation":247,"user_id":18467,"display_name":"Rudi Adianto"},"comment_count":3,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1431019840,"creation_date":1222072540,"answer_id":113815,"question_id":113511,"body_markdown":"There&#39;s a good implementation of the _Effective Java_&#39;s `hashcode()` and `equals()` logic in [Apache Commons Lang](https://commons.apache.org/proper/commons-lang/). Checkout [HashCodeBuilder][1] and [EqualsBuilder][2].\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\r\n  [2]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html","title":"Best implementation for hashCode method for a collection","body":"<p>There's a good implementation of the <em>Effective Java</em>'s <code>hashcode()</code> and <code>equals()</code> logic in <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Apache Commons Lang</a>. Checkout <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\" rel=\"nofollow noreferrer\">HashCodeBuilder</a> and <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html\" rel=\"nofollow noreferrer\">EqualsBuilder</a>.</p>\n"},{"comments":[{"owner":{"account_id":1748947,"reputation":1890,"user_id":1598508,"accept_rate":100,"display_name":"Krzysztof Jabłoński"},"score":5,"creation_date":1367225140,"post_id":113852,"comment_id":23290655,"body_markdown":"If `(A != B) and (A.hashcode() == B.hashcode())`, that&#39;s what we call hash function collision. It&#39;s because hash function&#39;s codomain is always finite, while it&#39;s domain is usually not. The bigger the codomain is, the less often the collision should occur. Good hash function&#39;s should return different hashes for different objects with greatest possibility achievable given particular codomain size. It can rarely be fully guaranteed though.","body":"If <code>(A != B) and (A.hashcode() == B.hashcode())</code>, that&#39;s what we call hash function collision. It&#39;s because hash function&#39;s codomain is always finite, while it&#39;s domain is usually not. The bigger the codomain is, the less often the collision should occur. Good hash function&#39;s should return different hashes for different objects with greatest possibility achievable given particular codomain size. It can rarely be fully guaranteed though."},{"owner":{"account_id":2702639,"reputation":4757,"user_id":2333021,"accept_rate":70,"display_name":"Christopher Rucinski"},"score":0,"creation_date":1442318112,"post_id":113852,"comment_id":53024387,"body_markdown":"This should just be a comment to the above post to Grey. Good information but it does not really answer the question","body":"This should just be a comment to the above post to Grey. Good information but it does not really answer the question"},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1464980661,"post_id":113852,"comment_id":62725970,"body_markdown":"Good comments but be careful about using the term &#39;different objects&#39; ... because equals() and thus the hashCode() implementation are not necessarily about different objects in an OO context but are usually more about their domain model representations (e.g., two people can be considered the same if they share a country code and country ID - though these may be two different &#39;objects&#39; in a JVM - they are considered &#39;equal&#39; and having a given hashCode)...","body":"Good comments but be careful about using the term &#39;different objects&#39; ... because equals() and thus the hashCode() implementation are not necessarily about different objects in an OO context but are usually more about their domain model representations (e.g., two people can be considered the same if they share a country code and country ID - though these may be two different &#39;objects&#39; in a JVM - they are considered &#39;equal&#39; and having a given hashCode)..."}],"tags":[],"owner":{"display_name":"panzupa"},"comment_count":3,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1504187377,"creation_date":1222073264,"answer_id":113852,"question_id":113511,"body_markdown":"about8.blogspot.com, you said \r\n\r\n&gt; if equals() returns true for two objects, then hashCode() should return the same value. If equals() returns false, then hashCode() should return different values\r\n\r\nI cannot agree with you. If two objects have the same hashcode it doesn&#39;t have to mean that they are equal. \r\n\r\nIf A equals B then A.hashcode must be equal to B.hascode\r\n\r\nbut\r\n\r\nif A.hashcode equals B.hascode it does not mean that A must equals B","title":"Best implementation for hashCode method for a collection","body":"<p>about8.blogspot.com, you said </p>\n\n<blockquote>\n  <p>if equals() returns true for two objects, then hashCode() should return the same value. If equals() returns false, then hashCode() should return different values</p>\n</blockquote>\n\n<p>I cannot agree with you. If two objects have the same hashcode it doesn't have to mean that they are equal. </p>\n\n<p>If A equals B then A.hashcode must be equal to B.hascode</p>\n\n<p>but</p>\n\n<p>if A.hashcode equals B.hascode it does not mean that A must equals B</p>\n"},{"tags":[],"owner":{"display_name":"panzupa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431019699,"creation_date":1222073502,"answer_id":113867,"question_id":113511,"body_markdown":"I prefer using utility methods fromm _Google Collections lib from class Objects_ that helps me to keep my code clean. Very often `equals` and `hashcode` methods are made from IDE&#39;s template, so their are not clean to read. ","title":"Best implementation for hashCode method for a collection","body":"<p>I prefer using utility methods fromm <em>Google Collections lib from class Objects</em> that helps me to keep my code clean. Very often <code>equals</code> and <code>hashcode</code> methods are made from IDE's template, so their are not clean to read. </p>\n"},{"comments":[{"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"score":1,"creation_date":1328319097,"post_id":114123,"comment_id":11485803,"body_markdown":"If you are going to use this be aware that reflection is expensive. I honestly wouldn&#39;t use this for anything besides throw away code.","body":"If you are going to use this be aware that reflection is expensive. I honestly wouldn&#39;t use this for anything besides throw away code."}],"tags":[],"owner":{"account_id":8532,"reputation":13117,"user_id":15452,"accept_rate":57,"display_name":"Vihung"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1431019952,"creation_date":1222078572,"answer_id":114123,"question_id":113511,"body_markdown":"Use the reflection methods on Apache Commons [EqualsBuilder](https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/builder/EqualsBuilder.html) and [HashCodeBuilder](https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/builder/HashCodeBuilder.html).","title":"Best implementation for hashCode method for a collection","body":"<p>Use the reflection methods on Apache Commons <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/builder/EqualsBuilder.html\" rel=\"nofollow noreferrer\">EqualsBuilder</a> and <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/builder/HashCodeBuilder.html\" rel=\"nofollow noreferrer\">HashCodeBuilder</a>.</p>\n"},{"tags":[],"owner":{"account_id":1744,"reputation":919,"user_id":2367,"display_name":"Johannes K. Lehnert"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1431019617,"creation_date":1222087822,"answer_id":114672,"question_id":113511,"body_markdown":"If you use eclipse, you can generate `equals()` and `hashCode()` using:\r\n\r\n&gt; Source -&gt; Generate hashCode() and equals(). \r\n\r\nUsing this function you can decide _which fields_ you want to use for equality and hash code calculation, and Eclipse generates the corresponding methods.","title":"Best implementation for hashCode method for a collection","body":"<p>If you use eclipse, you can generate <code>equals()</code> and <code>hashCode()</code> using:</p>\n\n<blockquote>\n  <p>Source -> Generate hashCode() and equals(). </p>\n</blockquote>\n\n<p>Using this function you can decide <em>which fields</em> you want to use for equality and hash code calculation, and Eclipse generates the corresponding methods.</p>\n"},{"comments":[{"owner":{"account_id":30047,"reputation":3185,"user_id":81658,"accept_rate":90,"display_name":"Quantum7"},"score":4,"creation_date":1302136267,"post_id":327264,"comment_id":6342373,"body_markdown":"+1 A good practical solution. dmeister&#39;s solution is more comprehensive, but I tend to forget to handle nulls when I try to write hashcodes myself.","body":"+1 A good practical solution. dmeister&#39;s solution is more comprehensive, but I tend to forget to handle nulls when I try to write hashcodes myself."},{"owner":{"account_id":105481,"reputation":6059,"user_id":281460,"accept_rate":74,"display_name":"jwir3"},"score":2,"creation_date":1390856711,"post_id":327264,"comment_id":32264783,"body_markdown":"+1 Agree with Quantum7, but I would say it&#39;s also really good to understand what the Eclipse-generated implementation is doing, and where it gets its implementation details from.","body":"+1 Agree with Quantum7, but I would say it&#39;s also really good to understand what the Eclipse-generated implementation is doing, and where it gets its implementation details from."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":18,"creation_date":1464980342,"post_id":327264,"comment_id":62725814,"body_markdown":"Sorry but answers involving &quot;functionality provided by [some IDE]&quot; are not really relevant in the context of the programming language in general. There are dozens of IDEs and this does not answer the question... namely because this is more about algorithmic determination and directly associated to equals() implementation - something an IDE will know nothing about.","body":"Sorry but answers involving &quot;functionality provided by [some IDE]&quot; are not really relevant in the context of the programming language in general. There are dozens of IDEs and this does not answer the question... namely because this is more about algorithmic determination and directly associated to equals() implementation - something an IDE will know nothing about."}],"tags":[],"owner":{"account_id":18028,"reputation":39206,"user_id":40933,"accept_rate":63,"display_name":"Warrior"},"comment_count":3,"down_vote_count":8,"up_vote_count":67,"is_accepted":false,"score":59,"last_activity_date":1227940241,"creation_date":1227940241,"answer_id":327264,"question_id":113511,"body_markdown":"It is better to use the functionality provided by Eclipse which does a pretty good job and you can put your efforts and energy in developing the business logic.","title":"Best implementation for hashCode method for a collection","body":"<p>It is better to use the functionality provided by Eclipse which does a pretty good job and you can put your efforts and energy in developing the business logic.</p>\n"},{"comments":[{"owner":{"account_id":2368363,"reputation":92154,"user_id":2073595,"display_name":"dano"},"score":1,"creation_date":1507665130,"post_id":12711577,"comment_id":80298037,"body_markdown":"This is a question about Java, not C++.","body":"This is a question about Java, not C++."}],"tags":[],"owner":{"account_id":78017,"reputation":15474,"user_id":222329,"accept_rate":87,"display_name":"Edward Loper"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1349277493,"creation_date":1349277493,"answer_id":12711577,"question_id":113511,"body_markdown":"When combining hash values, I usually use the combining method that&#39;s used in the boost c++ library, namely:\r\n\r\n    seed ^= hasher(v) + 0x9e3779b9 + (seed&lt;&lt;6) + (seed&gt;&gt;2);\r\n\r\nThis does a fairly good job of ensuring an even distribution.  For some discussion of how this formula works, see the StackOverflow post: https://stackoverflow.com/questions/4948780/magic-numbers-in-boosthash-combine\r\n\r\nThere&#39;s a good discussion of different hash functions at: http://burtleburtle.net/bob/hash/doobs.html","title":"Best implementation for hashCode method for a collection","body":"<p>When combining hash values, I usually use the combining method that's used in the boost c++ library, namely:</p>\n\n<pre><code>seed ^= hasher(v) + 0x9e3779b9 + (seed&lt;&lt;6) + (seed&gt;&gt;2);\n</code></pre>\n\n<p>This does a fairly good job of ensuring an even distribution.  For some discussion of how this formula works, see the StackOverflow post: <a href=\"https://stackoverflow.com/questions/4948780/magic-numbers-in-boosthash-combine\">Magic number in boost::hash_combine</a></p>\n\n<p>There's a good discussion of different hash functions at: <a href=\"http://burtleburtle.net/bob/hash/doobs.html\" rel=\"nofollow noreferrer\">http://burtleburtle.net/bob/hash/doobs.html</a></p>\n"},{"comments":[{"owner":{"account_id":167666,"reputation":8848,"user_id":392626,"accept_rate":50,"display_name":"Kissaki"},"score":9,"creation_date":1390915432,"post_id":18066516,"comment_id":32290814,"body_markdown":"Unless one has a good reason not to use these, one should definitely use these in any case. (Formulating it stronger, as it IMHO should be formulated.) The typical arguments for using standard implementations/libraries apply (best practices, well tested, less error prone, etc).","body":"Unless one has a good reason not to use these, one should definitely use these in any case. (Formulating it stronger, as it IMHO should be formulated.) The typical arguments for using standard implementations/libraries apply (best practices, well tested, less error prone, etc)."},{"owner":{"account_id":288786,"reputation":1246,"user_id":589407,"display_name":"justin.hughey"},"score":0,"creation_date":1394469352,"post_id":18066516,"comment_id":33892779,"body_markdown":"The case to not use a library implementation is when you have implemented a custom Object#equals(Object obj) method.  See the Object#hashcode() JavaDoc, &quot;If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.&quot;  Using either of these library implementations will generate a&quot;pseudo&quot; memory address hash code which may violate the described requirement.","body":"The case to not use a library implementation is when you have implemented a custom Object#equals(Object obj) method.  See the Object#hashcode() JavaDoc, &quot;If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.&quot;  Using either of these library implementations will generate a&quot;pseudo&quot; memory address hash code which may violate the described requirement."},{"owner":{"account_id":17101,"reputation":9861,"user_id":37941,"accept_rate":70,"display_name":"bacar"},"score":8,"creation_date":1394496387,"post_id":18066516,"comment_id":33907444,"body_markdown":"@justin.hughey you seem to be confused. The only case you should override `hashCode` is if you have a custom `equals`, and that is precisely what these library methods are designed for.     The documentation is quite clear on their behaviour in relation to `equals`. A library implementation does not claim to absolve you from knowing what the characteristics of a correct `hashCode` implementation are - these libraries make it *easier* for you to implement such a conforming implementation for the majority of cases where `equals` is overriden.","body":"@justin.hughey you seem to be confused. The only case you should override <code>hashCode</code> is if you have a custom <code>equals</code>, and that is precisely what these library methods are designed for.     The documentation is quite clear on their behaviour in relation to <code>equals</code>. A library implementation does not claim to absolve you from knowing what the characteristics of a correct <code>hashCode</code> implementation are - these libraries make it <i>easier</i> for you to implement such a conforming implementation for the majority of cases where <code>equals</code> is overriden."},{"owner":{"account_id":288786,"reputation":1246,"user_id":589407,"display_name":"justin.hughey"},"score":0,"creation_date":1394541759,"post_id":18066516,"comment_id":33927956,"body_markdown":"You&#39;re absolutely right.  Thank you for pointing that out, I don&#39;t know where I was coming from on that one. :)","body":"You&#39;re absolutely right.  Thank you for pointing that out, I don&#39;t know where I was coming from on that one. :)"},{"owner":{"account_id":2539750,"reputation":2180,"user_id":2205809,"display_name":"Andrew Kelly"},"score":7,"creation_date":1423114209,"post_id":18066516,"comment_id":45019548,"body_markdown":"For any Android developers looking at the java.util.Objects class, it was only introduced in API 19, so make sure you&#39;re running on KitKat or above otherwise you&#39;ll get NoClassDefFoundError.","body":"For any Android developers looking at the java.util.Objects class, it was only introduced in API 19, so make sure you&#39;re running on KitKat or above otherwise you&#39;ll get NoClassDefFoundError."},{"owner":{"account_id":3703160,"reputation":1232,"user_id":3082311,"accept_rate":83,"display_name":"Malte Skoruppa"},"score":3,"creation_date":1446663630,"post_id":18066516,"comment_id":54841324,"body_markdown":"Best answer IMO, although by way of example I would rather have chosen the JDK7 `java.util.Objects.hash(...)` method than the guava `com.google.common.base.Objects.hashCode(...)` method. I think most people would choose the standard library over an extra dependency.","body":"Best answer IMO, although by way of example I would rather have chosen the JDK7 <code>java.util.Objects.hash(...)</code> method than the guava <code>com.google.common.base.Objects.hashCode(...)</code> method. I think most people would choose the standard library over an extra dependency."},{"owner":{"account_id":2749918,"reputation":1609,"user_id":2369544,"display_name":"starikoff"},"score":2,"creation_date":1450698505,"post_id":18066516,"comment_id":56531126,"body_markdown":"If there are two arguments or more and if any of them is an array, the result might be not what you expect because `hashCode()` for an array is just its `java.lang.System.identityHashCode(...)`.","body":"If there are two arguments or more and if any of them is an array, the result might be not what you expect because <code>hashCode()</code> for an array is just its <code>java.lang.System.identityHashCode(...)</code>."},{"owner":{"account_id":17101,"reputation":9861,"user_id":37941,"accept_rate":70,"display_name":"bacar"},"score":0,"creation_date":1450704691,"post_id":18066516,"comment_id":56534857,"body_markdown":"@starikoff Yes - the helper methods do not absolve you from having to understand what you&#39;re doing. They just help you to avoid certain mistakes and duplicate code.","body":"@starikoff Yes - the helper methods do not absolve you from having to understand what you&#39;re doing. They just help you to avoid certain mistakes and duplicate code."},{"owner":{"account_id":2749918,"reputation":1609,"user_id":2369544,"display_name":"starikoff"},"score":0,"creation_date":1450707476,"post_id":18066516,"comment_id":56536561,"body_markdown":"@bacar Of course. I just left my comment so that whoever learns about these methods from this post learns about their limitations as well.","body":"@bacar Of course. I just left my comment so that whoever learns about these methods from this post learns about their limitations as well."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1464980460,"post_id":18066516,"comment_id":62725868,"body_markdown":"The comments about association of overriding equals() are correct. hashCode() is not implemented in a vacuum and must be directly related to how equals() is implemented per the documentation (two objects can have the same hashCode but NOT be equal - yet two equal objects MUST have the same hashCode).","body":"The comments about association of overriding equals() are correct. hashCode() is not implemented in a vacuum and must be directly related to how equals() is implemented per the documentation (two objects can have the same hashCode but NOT be equal - yet two equal objects MUST have the same hashCode)."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1512929000,"post_id":18066516,"comment_id":82443672,"body_markdown":"@Kissaki On the opposite: Using the standard implementation [leads to standard collisions](https://stackoverflow.com/a/47741808/581205).","body":"@Kissaki On the opposite: Using the standard implementation <a href=\"https://stackoverflow.com/a/47741808/581205\">leads to standard collisions</a>."},{"owner":{"account_id":112888,"reputation":411,"user_id":297603,"display_name":"mkuech"},"score":1,"creation_date":1585346105,"post_id":18066516,"comment_id":107736977,"body_markdown":"@AndrewKelly It&#39;s been a few years but for anyone else who comes across this and is still supporting &lt; 19, now there&#39;s `ObjectsCompat.hash(...)` and its implementation is just `Arrays.hashCode(...)` for  API &lt; 19, which appears to be the exact same implementation in `Objects.hash(...)`. Android Studio has a code generator for this that will insert `Objects.hash(...)` though no matter what your `minSdkVersion` is so devs should be aware they can just replace that with `ObjectsCompat` and they&#39;ll be fine.","body":"@AndrewKelly It&#39;s been a few years but for anyone else who comes across this and is still supporting &lt; 19, now there&#39;s <code>ObjectsCompat.hash(...)</code> and its implementation is just <code>Arrays.hashCode(...)</code> for  API &lt; 19, which appears to be the exact same implementation in <code>Objects.hash(...)</code>. Android Studio has a code generator for this that will insert <code>Objects.hash(...)</code> though no matter what your <code>minSdkVersion</code> is so devs should be aware they can just replace that with <code>ObjectsCompat</code> and they&#39;ll be fine."},{"owner":{"account_id":2539750,"reputation":2180,"user_id":2205809,"display_name":"Andrew Kelly"},"score":1,"creation_date":1585520241,"post_id":18066516,"comment_id":107782007,"body_markdown":"Objects.hashCode() is one of the APIs that is now desugared by D8 automatically in Android Studio 4+, so you can use the original API on targets earlier than API 19 (no need for the ObjectsCompat). For a full list of desugared APIs, check this file. https://jakewharton.com/static/files/d8_api_desugar_list.txt","body":"Objects.hashCode() is one of the APIs that is now desugared by D8 automatically in Android Studio 4+, so you can use the original API on targets earlier than API 19 (no need for the ObjectsCompat). For a full list of desugared APIs, check this file. <a href=\"https://jakewharton.com/static/files/d8_api_desugar_list.txt\" rel=\"nofollow noreferrer\">jakewharton.com/static/files/d8_api_desugar_list.txt</a>"}],"tags":[],"owner":{"account_id":17101,"reputation":9861,"user_id":37941,"accept_rate":70,"display_name":"bacar"},"comment_count":13,"down_vote_count":3,"up_vote_count":159,"is_accepted":false,"score":156,"last_activity_date":1669239855,"creation_date":1375732186,"answer_id":18066516,"question_id":113511,"body_markdown":"If you&#39;re happy with the Effective Java implementation recommended by dmeister, you can use a library call instead of rolling your own:\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(this.firstName, this.lastName);\r\n    }\r\n\r\nThis requires either Guava (`com.google.common.base.Objects.hashCode`) or the standard library in Java 7 (`java.util.Objects.hash`) but works the same way.","title":"Best implementation for hashCode method for a collection","body":"<p>If you're happy with the Effective Java implementation recommended by dmeister, you can use a library call instead of rolling your own:</p>\n<pre><code>@Override\npublic int hashCode() {\n    return Objects.hash(this.firstName, this.lastName);\n}\n</code></pre>\n<p>This requires either Guava (<code>com.google.common.base.Objects.hashCode</code>) or the standard library in Java 7 (<code>java.util.Objects.hash</code>) but works the same way.</p>\n"},{"comments":[{"owner":{"account_id":2702639,"reputation":4757,"user_id":2333021,"accept_rate":70,"display_name":"Christopher Rucinski"},"score":1,"creation_date":1500369260,"post_id":31220250,"comment_id":77293005,"body_markdown":"Android Documentation now does not include the above code anymore, so here is a cached version from the [Wayback Machine - Android Documentation (Feb 07, 2015)](http://web.archive.org/web/20150207205800/https://developer.android.com/reference/java/lang/Object.html)","body":"Android Documentation now does not include the above code anymore, so here is a cached version from the <a href=\"http://web.archive.org/web/20150207205800/https://developer.android.com/reference/java/lang/Object.html\" rel=\"nofollow noreferrer\">Wayback Machine - Android Documentation (Feb 07, 2015)</a>"}],"tags":[],"owner":{"account_id":2702639,"reputation":4757,"user_id":2333021,"accept_rate":70,"display_name":"Christopher Rucinski"},"comment_count":1,"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1501945302,"creation_date":1436010324,"answer_id":31220250,"question_id":113511,"body_markdown":"Although this is linked to [`Android` documentation (Wayback Machine)][3] and [My own code on Github][4], it will work for Java in general. My answer is an extension of [dmeister&#39;s Answer][2] with just code that is much easier to read and understand.\r\n\r\n    @Override \r\n    public int hashCode() {\r\n\r\n        // Start with a non-zero constant. Prime is preferred\r\n        int result = 17;\r\n\r\n        // Include a hash for each field.\r\n\r\n        // Primatives\r\n\r\n        result = 31 * result + (booleanField ? 1 : 0);                   // 1 bit   &#187; 32-bit\r\n\r\n        result = 31 * result + byteField;                                // 8 bits  &#187; 32-bit \r\n        result = 31 * result + charField;                                // 16 bits &#187; 32-bit\r\n        result = 31 * result + shortField;                               // 16 bits &#187; 32-bit\r\n        result = 31 * result + intField;                                 // 32 bits &#187; 32-bit\r\n\r\n        result = 31 * result + (int)(longField ^ (longField &gt;&gt;&gt; 32));    // 64 bits &#187; 32-bit\r\n\r\n        result = 31 * result + Float.floatToIntBits(floatField);         // 32 bits &#187; 32-bit\r\n\r\n        long doubleFieldBits = Double.doubleToLongBits(doubleField);     // 64 bits (double) &#187; 64-bit (long) &#187; 32-bit (int)\r\n        result = 31 * result + (int)(doubleFieldBits ^ (doubleFieldBits &gt;&gt;&gt; 32));\r\n\r\n        // Objects\r\n\r\n        result = 31 * result + Arrays.hashCode(arrayField);              // var bits &#187; 32-bit\r\n        \r\n        result = 31 * result + referenceField.hashCode();                // var bits &#187; 32-bit (non-nullable)   \r\n        result = 31 * result +                                           // var bits &#187; 32-bit (nullable)   \r\n            (nullableReferenceField == null\r\n                ? 0\r\n                : nullableReferenceField.hashCode());\r\n\r\n        return result;\r\n    \r\n    }\r\n\r\n**EDIT**\r\n\r\nTypically, when you override `hashcode(...)`, you also want to override `equals(...)`. So for those that will or has already implemented `equals`, here is a good reference [from my Github][4]...\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n\r\n        // Optimization (not required).\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n\r\n        // Return false if the other object has the wrong type, interface, or is null.\r\n        if (!(o instanceof MyType)) {\r\n            return false;\r\n        }\r\n\r\n        MyType lhs = (MyType) o; // lhs means &quot;left hand side&quot;\r\n\r\n                // Primitive fields\r\n        return     booleanField == lhs.booleanField\r\n                &amp;&amp; byteField    == lhs.byteField\r\n                &amp;&amp; charField    == lhs.charField\r\n                &amp;&amp; shortField   == lhs.shortField\r\n                &amp;&amp; intField     == lhs.intField\r\n                &amp;&amp; longField    == lhs.longField\r\n                &amp;&amp; floatField   == lhs.floatField\r\n                &amp;&amp; doubleField  == lhs.doubleField\r\n\r\n                // Arrays\r\n\r\n                &amp;&amp; Arrays.equals(arrayField, lhs.arrayField)\r\n\r\n                // Objects\r\n\r\n                &amp;&amp; referenceField.equals(lhs.referenceField)\r\n                &amp;&amp; (nullableReferenceField == null\r\n                            ? lhs.nullableReferenceField == null\r\n                            : nullableReferenceField.equals(lhs.nullableReferenceField));\r\n    }\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/lang/Object.html\r\n  [2]: https://stackoverflow.com/a/113600/2333021\r\n  [3]: http://web.archive.org/web/20150207205800/https://developer.android.com/reference/java/lang/Object.html\r\n  [4]: https://github.com/ciscorucinski/HashcodeAndEqual/blob/master/src/io/github/ciscorucinski/hashcodeandequal/MyType.java","title":"Best implementation for hashCode method for a collection","body":"<p>Although this is linked to <a href=\"http://web.archive.org/web/20150207205800/https://developer.android.com/reference/java/lang/Object.html\" rel=\"noreferrer\"><code>Android</code> documentation (Wayback Machine)</a> and <a href=\"https://github.com/ciscorucinski/HashcodeAndEqual/blob/master/src/io/github/ciscorucinski/hashcodeandequal/MyType.java\" rel=\"noreferrer\">My own code on Github</a>, it will work for Java in general. My answer is an extension of <a href=\"https://stackoverflow.com/a/113600/2333021\">dmeister's Answer</a> with just code that is much easier to read and understand.</p>\n\n<pre><code>@Override \npublic int hashCode() {\n\n    // Start with a non-zero constant. Prime is preferred\n    int result = 17;\n\n    // Include a hash for each field.\n\n    // Primatives\n\n    result = 31 * result + (booleanField ? 1 : 0);                   // 1 bit   » 32-bit\n\n    result = 31 * result + byteField;                                // 8 bits  » 32-bit \n    result = 31 * result + charField;                                // 16 bits » 32-bit\n    result = 31 * result + shortField;                               // 16 bits » 32-bit\n    result = 31 * result + intField;                                 // 32 bits » 32-bit\n\n    result = 31 * result + (int)(longField ^ (longField &gt;&gt;&gt; 32));    // 64 bits » 32-bit\n\n    result = 31 * result + Float.floatToIntBits(floatField);         // 32 bits » 32-bit\n\n    long doubleFieldBits = Double.doubleToLongBits(doubleField);     // 64 bits (double) » 64-bit (long) » 32-bit (int)\n    result = 31 * result + (int)(doubleFieldBits ^ (doubleFieldBits &gt;&gt;&gt; 32));\n\n    // Objects\n\n    result = 31 * result + Arrays.hashCode(arrayField);              // var bits » 32-bit\n\n    result = 31 * result + referenceField.hashCode();                // var bits » 32-bit (non-nullable)   \n    result = 31 * result +                                           // var bits » 32-bit (nullable)   \n        (nullableReferenceField == null\n            ? 0\n            : nullableReferenceField.hashCode());\n\n    return result;\n\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Typically, when you override <code>hashcode(...)</code>, you also want to override <code>equals(...)</code>. So for those that will or has already implemented <code>equals</code>, here is a good reference <a href=\"https://github.com/ciscorucinski/HashcodeAndEqual/blob/master/src/io/github/ciscorucinski/hashcodeandequal/MyType.java\" rel=\"noreferrer\">from my Github</a>...</p>\n\n<pre><code>@Override\npublic boolean equals(Object o) {\n\n    // Optimization (not required).\n    if (this == o) {\n        return true;\n    }\n\n    // Return false if the other object has the wrong type, interface, or is null.\n    if (!(o instanceof MyType)) {\n        return false;\n    }\n\n    MyType lhs = (MyType) o; // lhs means \"left hand side\"\n\n            // Primitive fields\n    return     booleanField == lhs.booleanField\n            &amp;&amp; byteField    == lhs.byteField\n            &amp;&amp; charField    == lhs.charField\n            &amp;&amp; shortField   == lhs.shortField\n            &amp;&amp; intField     == lhs.intField\n            &amp;&amp; longField    == lhs.longField\n            &amp;&amp; floatField   == lhs.floatField\n            &amp;&amp; doubleField  == lhs.doubleField\n\n            // Arrays\n\n            &amp;&amp; Arrays.equals(arrayField, lhs.arrayField)\n\n            // Objects\n\n            &amp;&amp; referenceField.equals(lhs.referenceField)\n            &amp;&amp; (nullableReferenceField == null\n                        ? lhs.nullableReferenceField == null\n                        : nullableReferenceField.equals(lhs.nullableReferenceField));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2749918,"reputation":1609,"user_id":2369544,"display_name":"starikoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1450699702,"creation_date":1450699702,"answer_id":34395373,"question_id":113511,"body_markdown":"I use a tiny wrapper around [`Arrays.deepHashCode(...)`][1] because it handles arrays supplied as parameters correctly\r\n\r\n    public static int hash(final Object... objects) {\r\n        return Arrays.deepHashCode(objects);\r\n    }\r\n  [1]:http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#deepHashCode(java.lang.Object[])","title":"Best implementation for hashCode method for a collection","body":"<p>I use a tiny wrapper around <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#deepHashCode(java.lang.Object[])\" rel=\"nofollow\"><code>Arrays.deepHashCode(...)</code></a> because it handles arrays supplied as parameters correctly</p>\n\n<pre><code>public static int hash(final Object... objects) {\n    return Arrays.deepHashCode(objects);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70642,"reputation":12820,"user_id":204665,"accept_rate":92,"display_name":"Roman Nikitchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483103931,"creation_date":1483103931,"answer_id":41396936,"question_id":113511,"body_markdown":"Here is another JDK 1.7+ approach demonstration with superclass logics accounted. I see it as pretty convinient with Object class hashCode() accounted, pure JDK dependency and no extra manual work. Please note `Objects.hash()` is null tolerant.\r\n\r\nI have not include any `equals()` implementation but in reality you will of course need it.\r\n\r\n\r\n    import java.util.Objects;\r\n    \r\n    public class Demo {\r\n    \r\n        public static class A {\r\n    \r\n            private final String param1;\r\n    \r\n            public A(final String param1) {\r\n                this.param1 = param1;\r\n            }\r\n    \r\n            @Override\r\n            public int hashCode() {\r\n                return Objects.hash(\r\n                    super.hashCode(),\r\n                    this.param1);\r\n            }\r\n    \r\n        }\r\n    \r\n        public static class B extends A {\r\n    \r\n            private final String param2;\r\n            private final String param3;\r\n    \r\n            public B(\r\n                final String param1,\r\n                final String param2,\r\n                final String param3) {\r\n    \r\n                super(param1);\r\n                this.param2 = param2;\r\n                this.param3 = param3;\r\n            }\r\n    \r\n            @Override\r\n            public final int hashCode() {\r\n                return Objects.hash(\r\n                    super.hashCode(),\r\n                    this.param2,\r\n                    this.param3);\r\n            }\r\n        }\r\n    \r\n        public static void main(String [] args) {\r\n    \r\n            A a = new A(&quot;A&quot;);\r\n            B b = new B(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n    \r\n            System.out.println(&quot;A: &quot; + a.hashCode());\r\n            System.out.println(&quot;B: &quot; + b.hashCode());\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Best implementation for hashCode method for a collection","body":"<p>Here is another JDK 1.7+ approach demonstration with superclass logics accounted. I see it as pretty convinient with Object class hashCode() accounted, pure JDK dependency and no extra manual work. Please note <code>Objects.hash()</code> is null tolerant.</p>\n\n<p>I have not include any <code>equals()</code> implementation but in reality you will of course need it.</p>\n\n<pre><code>import java.util.Objects;\n\npublic class Demo {\n\n    public static class A {\n\n        private final String param1;\n\n        public A(final String param1) {\n            this.param1 = param1;\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(\n                super.hashCode(),\n                this.param1);\n        }\n\n    }\n\n    public static class B extends A {\n\n        private final String param2;\n        private final String param3;\n\n        public B(\n            final String param1,\n            final String param2,\n            final String param3) {\n\n            super(param1);\n            this.param2 = param2;\n            this.param3 = param3;\n        }\n\n        @Override\n        public final int hashCode() {\n            return Objects.hash(\n                super.hashCode(),\n                this.param2,\n                this.param3);\n        }\n    }\n\n    public static void main(String [] args) {\n\n        A a = new A(\"A\");\n        B b = new B(\"A\", \"B\", \"C\");\n\n        System.out.println(\"A: \" + a.hashCode());\n        System.out.println(\"B: \" + b.hashCode());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512928925,"creation_date":1512928925,"answer_id":47741808,"question_id":113511,"body_markdown":"The standard implementation is weak and using it leads to unnecessary collisions. Imagine a\r\n\r\n    class ListPair {\r\n        List&lt;Integer&gt; first;\r\n        List&lt;Integer&gt; second;\r\n\r\n        ListPair(List&lt;Integer&gt; first, List&lt;Integer&gt; second) {\r\n            this.first = first;\r\n            this.second = second;\r\n        }\r\n\r\n        public int hashCode() {\r\n            return Objects.hashCode(first, second);\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\nNow,\r\n\r\n    new ListPair(List.of(a), List.of(b, c))\r\n\r\nand\r\n\r\n    new ListPair(List.of(b), List.of(a, c))\r\n\r\nhave the same `hashCode`, namely `31*(a+b) + c` as the multiplier used for `List.hashCode` gets reused here. Obviously, collisions are unavoidable, but producing needless collisions is just... needless.\r\n\r\nThere&#39;s nothing substantially smart about using `31`. The multiplier must be odd in order to avoid losing information (any even multiplier loses at least the most significant bit, multiples of four lose two, etc.). Any odd multiplier is usable. Small multipliers may lead to faster computation (the JIT can use shifts and additions), but given that multiplication has latency of only three cycles on modern Intel/AMD, this hardly matters. Small multipliers also leads to more collision for small inputs, which may be a problem sometimes.\r\n\r\nUsing a prime is pointless as primes have no meaning in the ring Z/(2**32).\r\n\r\nSo, I&#39;d recommend using a randomly chosen big odd number (feel free to take a prime). As i86/amd64 CPUs can use a shorter instruction for operands fitting in a single signed byte, there is a tiny speed advantage for multipliers like 109. For minimizing collisions, take something like 0x58a54cf5.\r\n\r\nUsing different multipliers in different places is helpful, but probably not enough to justify the additional work.","title":"Best implementation for hashCode method for a collection","body":"<p>The standard implementation is weak and using it leads to unnecessary collisions. Imagine a</p>\n\n<pre><code>class ListPair {\n    List&lt;Integer&gt; first;\n    List&lt;Integer&gt; second;\n\n    ListPair(List&lt;Integer&gt; first, List&lt;Integer&gt; second) {\n        this.first = first;\n        this.second = second;\n    }\n\n    public int hashCode() {\n        return Objects.hashCode(first, second);\n    }\n\n    ...\n}\n</code></pre>\n\n<p>Now,</p>\n\n<pre><code>new ListPair(List.of(a), List.of(b, c))\n</code></pre>\n\n<p>and</p>\n\n<pre><code>new ListPair(List.of(b), List.of(a, c))\n</code></pre>\n\n<p>have the same <code>hashCode</code>, namely <code>31*(a+b) + c</code> as the multiplier used for <code>List.hashCode</code> gets reused here. Obviously, collisions are unavoidable, but producing needless collisions is just... needless.</p>\n\n<p>There's nothing substantially smart about using <code>31</code>. The multiplier must be odd in order to avoid losing information (any even multiplier loses at least the most significant bit, multiples of four lose two, etc.). Any odd multiplier is usable. Small multipliers may lead to faster computation (the JIT can use shifts and additions), but given that multiplication has latency of only three cycles on modern Intel/AMD, this hardly matters. Small multipliers also leads to more collision for small inputs, which may be a problem sometimes.</p>\n\n<p>Using a prime is pointless as primes have no meaning in the ring Z/(2**32).</p>\n\n<p>So, I'd recommend using a randomly chosen big odd number (feel free to take a prime). As i86/amd64 CPUs can use a shorter instruction for operands fitting in a single signed byte, there is a tiny speed advantage for multipliers like 109. For minimizing collisions, take something like 0x58a54cf5.</p>\n\n<p>Using different multipliers in different places is helpful, but probably not enough to justify the additional work.</p>\n"}],"owner":{"account_id":6612,"reputation":27777,"user_id":11193,"accept_rate":100,"display_name":"Omnipotent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278353,"favorite_count":0,"down_vote_count":0,"up_vote_count":325,"accepted_answer_id":113600,"answer_count":20,"score":325,"last_activity_date":1669239855,"creation_date":1222066415,"question_id":113511,"body_markdown":"How do we decide on the best implementation of `hashCode()` method for a collection (assuming that equals method has been overridden correctly) ?","title":"Best implementation for hashCode method for a collection","body":"<p>How do we decide on the best implementation of <code>hashCode()</code> method for a collection (assuming that equals method has been overridden correctly) ?</p>\n"},{"tags":["java","android","reflection"],"comments":[{"owner":{"account_id":916536,"reputation":1199,"user_id":949224,"display_name":"dr_g"},"score":0,"creation_date":1544804665,"post_id":53782978,"comment_id":94418348,"body_markdown":"If you changed the class you are looking for to something that is definitely loaded in when you are executing the Java program in the console, e.g. java.lang.String, I think you will find the program returns successfully. The JRE is not giving you the android packages.","body":"If you changed the class you are looking for to something that is definitely loaded in when you are executing the Java program in the console, e.g. java.lang.String, I think you will find the program returns successfully. The JRE is not giving you the android packages."},{"owner":{"account_id":8473672,"reputation":69,"user_id":6355525,"display_name":"CmpScience Learner"},"score":0,"creation_date":1544827266,"post_id":53782978,"comment_id":94427166,"body_markdown":"Yes I know, this is why I wanted to know if there is a way to access Android classes","body":"Yes I know, this is why I wanted to know if there is a way to access Android classes"},{"owner":{"account_id":916536,"reputation":1199,"user_id":949224,"display_name":"dr_g"},"score":0,"creation_date":1545073619,"post_id":53782978,"comment_id":94491628,"body_markdown":"Ah the question didn&#39;t explain that. As you edited the question, hopefully my answer below helps","body":"Ah the question didn&#39;t explain that. As you edited the question, hopefully my answer below helps"}],"answers":[{"comments":[{"owner":{"account_id":8473672,"reputation":69,"user_id":6355525,"display_name":"CmpScience Learner"},"score":0,"creation_date":1544806549,"post_id":53783567,"comment_id":94419283,"body_markdown":"When I ran my code, I got Toast doesn&#39;t exists on all packages.\nSo I tried running your code and I still get the same ouput - class doesnt exists.\nDo you run it from command line \\ terminal? is there something special you mentioned in your system variables?","body":"When I ran my code, I got Toast doesn&#39;t exists on all packages. So I tried running your code and I still get the same ouput - class doesnt exists. Do you run it from command line \\ terminal? is there something special you mentioned in your system variables?"},{"owner":{"account_id":5015882,"reputation":1519,"user_id":4030765,"accept_rate":25,"display_name":"Patric"},"score":0,"creation_date":1544806654,"post_id":53783567,"comment_id":94419337,"body_markdown":"Hmm that is odd... I ran it in an empty new project in Android Studio. I did not do anything special, just create an new Android Project and that&#39;s it.","body":"Hmm that is odd... I ran it in an empty new project in Android Studio. I did not do anything special, just create an new Android Project and that&#39;s it."},{"owner":{"account_id":8473672,"reputation":69,"user_id":6355525,"display_name":"CmpScience Learner"},"score":0,"creation_date":1544806686,"post_id":53783567,"comment_id":94419351,"body_markdown":"Maybe this is it. I am not trying to run it from Android Studios, I am trying to run it using regular Java code. ( because I am using this code without the android studios )","body":"Maybe this is it. I am not trying to run it from Android Studios, I am trying to run it using regular Java code. ( because I am using this code without the android studios )"},{"owner":{"account_id":291848,"reputation":2085,"user_id":594253,"accept_rate":50,"display_name":"John Weidner"},"score":0,"creation_date":1544814595,"post_id":53783567,"comment_id":94422649,"body_markdown":"Classes like Toast are part of the Android runtime libraries that are not going to be available to standard java applications.","body":"Classes like Toast are part of the Android runtime libraries that are not going to be available to standard java applications."},{"owner":{"account_id":8473672,"reputation":69,"user_id":6355525,"display_name":"CmpScience Learner"},"score":0,"creation_date":1544827319,"post_id":53783567,"comment_id":94427180,"body_markdown":"Interesting. Is there any way to download and add some configuration that it will be supported ?","body":"Interesting. Is there any way to download and add some configuration that it will be supported ?"},{"owner":{"account_id":5015882,"reputation":1519,"user_id":4030765,"accept_rate":25,"display_name":"Patric"},"score":0,"creation_date":1544897708,"post_id":53783567,"comment_id":94441586,"body_markdown":"Then you just need to download the Android SDK, add it to your project ressources and you should be good to go.","body":"Then you just need to download the Android SDK, add it to your project ressources and you should be good to go."}],"tags":[],"owner":{"account_id":5015882,"reputation":1519,"user_id":4030765,"accept_rate":25,"display_name":"Patric"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544805016,"creation_date":1544805016,"answer_id":53783567,"question_id":53782978,"body_markdown":"When I execute your code, I get get this output:\r\n\r\n    class java.lang.Toast doesnt exists\r\n    class Exists\r\n\r\nSince you iterate over all packages, you get an output for every package, no matter if your class exists or not, and you only stop when you find a match.\r\n\r\nI think what you are trying to achieve is to always get only 1 output: either the class exists, or it doesn&#39;t. You could do that by creating a method `classExists()` and then using the java stream API to find if any of your packages contains your class `Toast`:\r\n\r\n\r\n    public void myMethod() {\r\n        List&lt;String&gt; packages = Arrays.asList(\r\n                &quot;java.lang.&quot;,\r\n                &quot;android.widget.&quot;,\r\n                &quot;android.util.&quot;,\r\n                &quot;android.app.&quot;,\r\n                &quot;android.view.&quot;,\r\n                &quot;android.content.&quot;\r\n        );\r\n        String className = &quot;Toast&quot;;\r\n        if (packages.stream().anyMatch(pkg -&gt; classExists(pkg + className))) {\r\n            System.out.println(&quot;class exists&quot;);\r\n        } else {\r\n            System.out.println(&quot;class doesnt exist&quot;);\r\n        }\r\n    }\r\n\r\n    boolean classExists(String fullClassName) {\r\n        try {\r\n            Class.forName(fullClassName);\r\n            return true;\r\n        } catch (ClassNotFoundException e) {\r\n            return false;\r\n        }\r\n    }","title":"Java reflection - Android classes not found","body":"<p>When I execute your code, I get get this output:</p>\n\n<pre><code>class java.lang.Toast doesnt exists\nclass Exists\n</code></pre>\n\n<p>Since you iterate over all packages, you get an output for every package, no matter if your class exists or not, and you only stop when you find a match.</p>\n\n<p>I think what you are trying to achieve is to always get only 1 output: either the class exists, or it doesn't. You could do that by creating a method <code>classExists()</code> and then using the java stream API to find if any of your packages contains your class <code>Toast</code>:</p>\n\n<pre><code>public void myMethod() {\n    List&lt;String&gt; packages = Arrays.asList(\n            \"java.lang.\",\n            \"android.widget.\",\n            \"android.util.\",\n            \"android.app.\",\n            \"android.view.\",\n            \"android.content.\"\n    );\n    String className = \"Toast\";\n    if (packages.stream().anyMatch(pkg -&gt; classExists(pkg + className))) {\n        System.out.println(\"class exists\");\n    } else {\n        System.out.println(\"class doesnt exist\");\n    }\n}\n\nboolean classExists(String fullClassName) {\n    try {\n        Class.forName(fullClassName);\n        return true;\n    } catch (ClassNotFoundException e) {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":916536,"reputation":1199,"user_id":949224,"display_name":"dr_g"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1545073449,"creation_date":1545073449,"answer_id":53821542,"question_id":53782978,"body_markdown":"Because you are executing this on the command line there is no reason the Android packages/classes should be available to the runtime unless it is explicitly included. The output of your program makes sense - unless you provide the correct Android libraries to the program then there is not going to be  a match when you try to resolve a particular Android class such as `Toast`. \r\n\r\nThe answer is essentially using Java&#39;s classpath effectively. By default, without stating an argument, it is the working directory &#39;.&#39;. \r\n\r\nAdd to it using -classpath as an argument. Compile naively:\r\n\r\n    javac YourReflectionTest.java\r\n\r\nas you know the program finds no matches.\r\n\r\nIf you do this javac will also succeed\r\n\r\n    javac -classpath &quot;.;/opt/android-sdk/platforms/android-21/android.jar&quot; YourReflectionTest.java\r\n\r\nIf you run the program, and try\r\n\r\n    java YourReflectionTest\r\n\r\nIt will still produce the same result. Why? At run-time, there are still no Android classes loaded. You are by default only going to get the java system libraries included in your installation of JDK.\r\n\r\nBut, if you provide an appropriate path at runtime, then suddenly all the magic happens: \r\n\r\n    java -classpath &quot;.;/opt/android-sdk/platforms/android-21/android.jar&quot; YourReflectionTest\r\n\r\nNote, Android API level 21 is just an example here and any could be used depending on which features you&#39;re trying to test.\r\n ","title":"Java reflection - Android classes not found","body":"<p>Because you are executing this on the command line there is no reason the Android packages/classes should be available to the runtime unless it is explicitly included. The output of your program makes sense - unless you provide the correct Android libraries to the program then there is not going to be  a match when you try to resolve a particular Android class such as <code>Toast</code>. </p>\n\n<p>The answer is essentially using Java's classpath effectively. By default, without stating an argument, it is the working directory '.'. </p>\n\n<p>Add to it using -classpath as an argument. Compile naively:</p>\n\n<pre><code>javac YourReflectionTest.java\n</code></pre>\n\n<p>as you know the program finds no matches.</p>\n\n<p>If you do this javac will also succeed</p>\n\n<pre><code>javac -classpath \".;/opt/android-sdk/platforms/android-21/android.jar\" YourReflectionTest.java\n</code></pre>\n\n<p>If you run the program, and try</p>\n\n<pre><code>java YourReflectionTest\n</code></pre>\n\n<p>It will still produce the same result. Why? At run-time, there are still no Android classes loaded. You are by default only going to get the java system libraries included in your installation of JDK.</p>\n\n<p>But, if you provide an appropriate path at runtime, then suddenly all the magic happens: </p>\n\n<pre><code>java -classpath \".;/opt/android-sdk/platforms/android-21/android.jar\" YourReflectionTest\n</code></pre>\n\n<p>Note, Android API level 21 is just an example here and any could be used depending on which features you're trying to test.</p>\n"},{"tags":[],"owner":{"account_id":4803608,"reputation":1574,"user_id":3879456,"accept_rate":40,"display_name":"zeeali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669239672,"creation_date":1669239672,"answer_id":74553281,"question_id":53782978,"body_markdown":"A simple method using reflection to check if a class exists or not:\r\n\r\n    private boolean doesClassExist(String name) {\r\n        try {\r\n            Class c = Class.forName(name);\r\n            if (c != null) {\r\n                return true;\r\n            }\r\n        } catch (ClassNotFoundException e) {\r\n            // Class not found\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n    \r\nUse Case:\r\n\r\n    boolean classExists = doesClassExist(&quot;android.widget.Toast&quot;);","title":"Java reflection - Android classes not found","body":"<p>A simple method using reflection to check if a class exists or not:</p>\n<pre><code>private boolean doesClassExist(String name) {\n    try {\n        Class c = Class.forName(name);\n        if (c != null) {\n            return true;\n        }\n    } catch (ClassNotFoundException e) {\n        // Class not found\n        e.printStackTrace();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return false;\n}\n</code></pre>\n<p>Use Case:</p>\n<pre><code>boolean classExists = doesClassExist(&quot;android.widget.Toast&quot;);\n</code></pre>\n"}],"owner":{"account_id":8473672,"reputation":69,"user_id":6355525,"display_name":"CmpScience Learner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53821542,"answer_count":3,"score":2,"last_activity_date":1669239672,"creation_date":1544802733,"question_id":53782978,"body_markdown":"I am trying to run reflection to check if some android class exists in Java ( such as Toast ). I am running it from my Command line using this code:\r\n\r\n    String [] packages = new String[] {&quot;java.lang.&quot;,\r\n        &quot;android.widget.&quot;,\r\n        &quot;android.util.&quot;,\r\n        &quot;android.app.&quot;,\r\n        &quot;android.view.&quot;,\r\n        &quot;android.content.&quot;};\r\n    for (int i = 0; i &lt; packages.length; i++){\r\n        String package_name = packages[i];\r\n        try {\r\n            Class&lt;?&gt; clazz = Class.forName(package_name + &quot;Toast&quot;);\r\n            System.out.println(&quot;class Exists&quot;);\r\n            return clazz;\r\n        }\r\n        catch (ClassNotFoundException e){\r\n            System.out.println(&quot;class &quot; + package_name + &quot;Toast doesnt exists&quot;);\r\n        }\r\n    }\r\nHowever, I get the output:\r\nclass android.widget.Toast doesn&#39;t exists ( but I know it does this is where the class is at)\r\nany ideas?\r\n\r\n---------------------------------\r\n\r\nEDIT : I am trying to write a Java class that is not running from Android Studios, but compiles and runs using javac from cmd line.","title":"Java reflection - Android classes not found","body":"<p>I am trying to run reflection to check if some android class exists in Java ( such as Toast ). I am running it from my Command line using this code:</p>\n\n<pre><code>String [] packages = new String[] {\"java.lang.\",\n    \"android.widget.\",\n    \"android.util.\",\n    \"android.app.\",\n    \"android.view.\",\n    \"android.content.\"};\nfor (int i = 0; i &lt; packages.length; i++){\n    String package_name = packages[i];\n    try {\n        Class&lt;?&gt; clazz = Class.forName(package_name + \"Toast\");\n        System.out.println(\"class Exists\");\n        return clazz;\n    }\n    catch (ClassNotFoundException e){\n        System.out.println(\"class \" + package_name + \"Toast doesnt exists\");\n    }\n}\n</code></pre>\n\n<p>However, I get the output:\nclass android.widget.Toast doesn't exists ( but I know it does this is where the class is at)\nany ideas?</p>\n\n<hr>\n\n<p>EDIT : I am trying to write a Java class that is not running from Android Studios, but compiles and runs using javac from cmd line.</p>\n"},{"tags":["java","android","flutter","kotlin"],"comments":[{"owner":{"account_id":20662432,"reputation":1076,"user_id":15170120,"display_name":"TarHalda"},"score":0,"creation_date":1669237593,"post_id":74552788,"comment_id":131601843,"body_markdown":"Why is the list set as `late`?","body":"Why is the list set as <code>late</code>?"},{"owner":{"account_id":27018736,"reputation":25,"user_id":20577090,"display_name":"Ali J"},"score":1,"creation_date":1669238092,"post_id":74552788,"comment_id":131601951,"body_markdown":"Because otherwise setState() won&#39;t work. The list gets created before everything else so setState gets confused. Late forces it to make the list at runtime.","body":"Because otherwise setState() won&#39;t work. The list gets created before everything else so setState gets confused. Late forces it to make the list at runtime."}],"answers":[{"tags":[],"owner":{"account_id":20084284,"reputation":8619,"user_id":14726230,"display_name":"Peter Koltai"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669239012,"creation_date":1669238650,"answer_id":74553154,"question_id":74552788,"body_markdown":"`setState` will re-run the `build` method, so if you declare `_widgetOptions` outside the `build` method, it&#39;s content won&#39;t change. `setState` on `_selectedIndex` will work because it just selects one item in `_widgetOptions`.\r\n\r\nSo remove `late final` and move the declaration of `_widgetOptions` into the build method:\r\n\r\n```\r\nimport &#39;package:flutter/material.dart&#39;;\r\n\r\nvoid main() =&gt; runApp(const MyApp());\r\n\r\nclass MyApp extends StatelessWidget {\r\n  const MyApp({super.key});\r\n\r\n  static const String _title = &#39;Flutter Code Sample&#39;;\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return const MaterialApp(\r\n      title: _title,\r\n      home: MyStatefulWidget(),\r\n    );\r\n  }\r\n}\r\n\r\nclass MyStatefulWidget extends StatefulWidget {\r\n  const MyStatefulWidget({super.key});\r\n\r\n  @override\r\n  State&lt;MyStatefulWidget&gt; createState() =&gt; _MyStatefulWidgetState();\r\n}\r\n\r\nclass _MyStatefulWidgetState extends State&lt;MyStatefulWidget&gt; {\r\n  int _selectedIndex = 0;\r\n  static const TextStyle optionStyle =\r\n      TextStyle(fontSize: 30, fontWeight: FontWeight.bold);\r\n\r\n  int _volume = 0;\r\n\r\n  void changeVolume() {\r\n    _volume += 1;\r\n  }\r\n\r\n  void _onItemTapped(int index) {\r\n    setState(() {\r\n      _selectedIndex = index;\r\n    });\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    List&lt;Widget&gt; _widgetOptions = &lt;Widget&gt;[\r\n      Row(\r\n        children: &lt;Widget&gt;[\r\n          IconButton(\r\n            icon: const Icon(Icons.volume_up),\r\n            tooltip: &#39;Increase volume by 1&#39;,\r\n            onPressed: () {\r\n              setState(() {\r\n                changeVolume();\r\n              });\r\n            },\r\n          ),\r\n          Expanded(\r\n            child: Text(&#39;Volume : $_volume&#39;),\r\n          ),\r\n          Expanded(\r\n            child: FittedBox(\r\n              child: FlutterLogo(),\r\n            ),\r\n          ),\r\n        ],\r\n      ),\r\n      Text(&#39;Volume  : $_volume&#39;),\r\n      Text(\r\n        &#39;Index 2: School&#39;,\r\n        style: optionStyle,\r\n      ),\r\n    ];\r\n\r\n    return Scaffold(\r\n      appBar: AppBar(\r\n        title: const Text(&#39;BottomNavigationBar Sample&#39;),\r\n      ),\r\n      body: Center(\r\n        child: _widgetOptions.elementAt(_selectedIndex),\r\n      ),\r\n      bottomNavigationBar: BottomNavigationBar(\r\n        items: const &lt;BottomNavigationBarItem&gt;[\r\n          BottomNavigationBarItem(\r\n            icon: Icon(Icons.home),\r\n            label: &#39;Home&#39;,\r\n          ),\r\n          BottomNavigationBarItem(\r\n            icon: Icon(Icons.business),\r\n            label: &#39;Business&#39;,\r\n          ),\r\n          BottomNavigationBarItem(\r\n            icon: Icon(Icons.school),\r\n            label: &#39;School&#39;,\r\n          ),\r\n        ],\r\n        currentIndex: _selectedIndex,\r\n        selectedItemColor: Colors.amber[800],\r\n        onTap: _onItemTapped,\r\n      ),\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nOf course you can optimize it but the above code works in DartPad as expected.\r\n\r\n(By the way, `late` marks a member variable that has no value assigned to it when you declare, but you make sure it will have a value before any part of your code accesses it. So in fact it has no real meaning when you assign a non-null value to the variable.)\r\n","title":"setState is not updating the UI even though the variable isn&#39;t declared in the build method","body":"<p><code>setState</code> will re-run the <code>build</code> method, so if you declare <code>_widgetOptions</code> outside the <code>build</code> method, it's content won't change. <code>setState</code> on <code>_selectedIndex</code> will work because it just selects one item in <code>_widgetOptions</code>.</p>\n<p>So remove <code>late final</code> and move the declaration of <code>_widgetOptions</code> into the build method:</p>\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(const MyApp());\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  static const String _title = 'Flutter Code Sample';\n\n  @override\n  Widget build(BuildContext context) {\n    return const MaterialApp(\n      title: _title,\n      home: MyStatefulWidget(),\n    );\n  }\n}\n\nclass MyStatefulWidget extends StatefulWidget {\n  const MyStatefulWidget({super.key});\n\n  @override\n  State&lt;MyStatefulWidget&gt; createState() =&gt; _MyStatefulWidgetState();\n}\n\nclass _MyStatefulWidgetState extends State&lt;MyStatefulWidget&gt; {\n  int _selectedIndex = 0;\n  static const TextStyle optionStyle =\n      TextStyle(fontSize: 30, fontWeight: FontWeight.bold);\n\n  int _volume = 0;\n\n  void changeVolume() {\n    _volume += 1;\n  }\n\n  void _onItemTapped(int index) {\n    setState(() {\n      _selectedIndex = index;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    List&lt;Widget&gt; _widgetOptions = &lt;Widget&gt;[\n      Row(\n        children: &lt;Widget&gt;[\n          IconButton(\n            icon: const Icon(Icons.volume_up),\n            tooltip: 'Increase volume by 1',\n            onPressed: () {\n              setState(() {\n                changeVolume();\n              });\n            },\n          ),\n          Expanded(\n            child: Text('Volume : $_volume'),\n          ),\n          Expanded(\n            child: FittedBox(\n              child: FlutterLogo(),\n            ),\n          ),\n        ],\n      ),\n      Text('Volume  : $_volume'),\n      Text(\n        'Index 2: School',\n        style: optionStyle,\n      ),\n    ];\n\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('BottomNavigationBar Sample'),\n      ),\n      body: Center(\n        child: _widgetOptions.elementAt(_selectedIndex),\n      ),\n      bottomNavigationBar: BottomNavigationBar(\n        items: const &lt;BottomNavigationBarItem&gt;[\n          BottomNavigationBarItem(\n            icon: Icon(Icons.home),\n            label: 'Home',\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.business),\n            label: 'Business',\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.school),\n            label: 'School',\n          ),\n        ],\n        currentIndex: _selectedIndex,\n        selectedItemColor: Colors.amber[800],\n        onTap: _onItemTapped,\n      ),\n    );\n  }\n}\n</code></pre>\n<p>Of course you can optimize it but the above code works in DartPad as expected.</p>\n<p>(By the way, <code>late</code> marks a member variable that has no value assigned to it when you declare, but you make sure it will have a value before any part of your code accesses it. So in fact it has no real meaning when you assign a non-null value to the variable.)</p>\n"}],"owner":{"account_id":27018736,"reputation":25,"user_id":20577090,"display_name":"Ali J"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74553154,"answer_count":1,"score":2,"last_activity_date":1669239012,"creation_date":1669236318,"question_id":74552788,"body_markdown":"The setState function isn&#39;t updating the text in the List&lt;Widget&gt; even though the variable isn&#39;t declared in the build method.\r\n\r\nI&#39;m trying to make the text change in the first and second tab of the bottomNavigationBar.\r\n\r\nHere is the code:\r\n\r\n\r\n\r\n```\r\nimport &#39;package:flutter/material.dart&#39;;\r\n\r\nvoid main() =&gt; runApp(const MyApp());\r\n\r\nclass MyApp extends StatelessWidget {\r\n  const MyApp({super.key});\r\n\r\n  static const String _title = &#39;Flutter Code Sample&#39;;\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return const MaterialApp(\r\n      title: _title,\r\n      home: MyStatefulWidget(),\r\n    );\r\n  }\r\n}\r\n\r\nclass MyStatefulWidget extends StatefulWidget {\r\n  const MyStatefulWidget({super.key});\r\n\r\n  @override\r\n  State&lt;MyStatefulWidget&gt; createState() =&gt; _MyStatefulWidgetState();\r\n}\r\n\r\n\r\nclass _MyStatefulWidgetState extends State&lt;MyStatefulWidget&gt; {\r\n  int _selectedIndex = 0;\r\n  static const TextStyle optionStyle =\r\n  TextStyle(fontSize: 30, fontWeight: FontWeight.bold);\r\n\r\n  int _volume = 0;\r\n\r\n  void changeVolume(){\r\n    _volume += 1;\r\n  }\r\n\r\n  late final List&lt;Widget&gt; _widgetOptions = &lt;Widget&gt;[\r\n    Row(\r\n      children: &lt;Widget&gt;[\r\n        IconButton(\r\n          icon: const Icon(Icons.volume_up),\r\n          tooltip: &#39;Increase volume by 1&#39;,\r\n          onPressed: (){\r\n            setState(() {\r\n              changeVolume();\r\n            });\r\n          },\r\n        ),\r\n        Expanded(\r\n          child: Text(&#39;Volume : $_volume&#39;),\r\n        ),\r\n        Expanded(\r\n          child: FittedBox(\r\n            child: FlutterLogo(),\r\n          ),\r\n        ),\r\n      ],\r\n    ),\r\n    Text(&#39;Volume  : $_volume&#39;),\r\n    Text(\r\n      &#39;Index 2: School&#39;,\r\n      style: optionStyle,\r\n    ),\r\n  ];\r\n\r\n  void _onItemTapped(int index) {\r\n    setState(() {\r\n      _selectedIndex = index;\r\n    });\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n\r\n\r\n    return Scaffold(\r\n      appBar: AppBar(\r\n        title: const Text(&#39;BottomNavigationBar Sample&#39;),\r\n      ),\r\n      body: Center(\r\n        child: _widgetOptions.elementAt(_selectedIndex),\r\n      ),\r\n      bottomNavigationBar: BottomNavigationBar(\r\n        items: const &lt;BottomNavigationBarItem&gt;[\r\n          BottomNavigationBarItem(\r\n            icon: Icon(Icons.home),\r\n            label: &#39;Home&#39;,\r\n          ),\r\n          BottomNavigationBarItem(\r\n            icon: Icon(Icons.business),\r\n            label: &#39;Business&#39;,\r\n          ),\r\n          BottomNavigationBarItem(\r\n            icon: Icon(Icons.school),\r\n            label: &#39;School&#39;,\r\n          ),\r\n        ],\r\n        currentIndex: _selectedIndex,\r\n        selectedItemColor: Colors.amber[800],\r\n        onTap: _onItemTapped,\r\n      ),\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nMost of the times this problem comes up on this site it is because someone declared the variable in the build method but I&#39;m not doing that here, so I&#39;m not sure why the text isn&#39;t updating.\r\n","title":"setState is not updating the UI even though the variable isn&#39;t declared in the build method","body":"<p>The setState function isn't updating the text in the List even though the variable isn't declared in the build method.</p>\n<p>I'm trying to make the text change in the first and second tab of the bottomNavigationBar.</p>\n<p>Here is the code:</p>\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(const MyApp());\n\nclass MyApp extends StatelessWidget {\n  const MyApp({super.key});\n\n  static const String _title = 'Flutter Code Sample';\n\n  @override\n  Widget build(BuildContext context) {\n    return const MaterialApp(\n      title: _title,\n      home: MyStatefulWidget(),\n    );\n  }\n}\n\nclass MyStatefulWidget extends StatefulWidget {\n  const MyStatefulWidget({super.key});\n\n  @override\n  State&lt;MyStatefulWidget&gt; createState() =&gt; _MyStatefulWidgetState();\n}\n\n\nclass _MyStatefulWidgetState extends State&lt;MyStatefulWidget&gt; {\n  int _selectedIndex = 0;\n  static const TextStyle optionStyle =\n  TextStyle(fontSize: 30, fontWeight: FontWeight.bold);\n\n  int _volume = 0;\n\n  void changeVolume(){\n    _volume += 1;\n  }\n\n  late final List&lt;Widget&gt; _widgetOptions = &lt;Widget&gt;[\n    Row(\n      children: &lt;Widget&gt;[\n        IconButton(\n          icon: const Icon(Icons.volume_up),\n          tooltip: 'Increase volume by 1',\n          onPressed: (){\n            setState(() {\n              changeVolume();\n            });\n          },\n        ),\n        Expanded(\n          child: Text('Volume : $_volume'),\n        ),\n        Expanded(\n          child: FittedBox(\n            child: FlutterLogo(),\n          ),\n        ),\n      ],\n    ),\n    Text('Volume  : $_volume'),\n    Text(\n      'Index 2: School',\n      style: optionStyle,\n    ),\n  ];\n\n  void _onItemTapped(int index) {\n    setState(() {\n      _selectedIndex = index;\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n\n\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('BottomNavigationBar Sample'),\n      ),\n      body: Center(\n        child: _widgetOptions.elementAt(_selectedIndex),\n      ),\n      bottomNavigationBar: BottomNavigationBar(\n        items: const &lt;BottomNavigationBarItem&gt;[\n          BottomNavigationBarItem(\n            icon: Icon(Icons.home),\n            label: 'Home',\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.business),\n            label: 'Business',\n          ),\n          BottomNavigationBarItem(\n            icon: Icon(Icons.school),\n            label: 'School',\n          ),\n        ],\n        currentIndex: _selectedIndex,\n        selectedItemColor: Colors.amber[800],\n        onTap: _onItemTapped,\n      ),\n    );\n  }\n}\n</code></pre>\n<p>Most of the times this problem comes up on this site it is because someone declared the variable in the build method but I'm not doing that here, so I'm not sure why the text isn't updating.</p>\n"},{"tags":["java","intellij-idea","artifact"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1491470579,"post_id":43244946,"comment_id":73570852,"body_markdown":"Please share the [Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve).","body":"Please share the <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."}],"answers":[{"comments":[{"owner":{"account_id":3598530,"reputation":2727,"user_id":3002465,"accept_rate":75,"display_name":"Zeb"},"score":0,"creation_date":1531209646,"post_id":43251205,"comment_id":89498188,"body_markdown":"I closed IntelliJ Idea then re-imported the project and choose as artifact war-exploded by following above step. And the issue is resolved.","body":"I closed IntelliJ Idea then re-imported the project and choose as artifact war-exploded by following above step. And the issue is resolved."},{"owner":{"account_id":8719608,"reputation":25664,"user_id":6523163,"accept_rate":72,"display_name":"aircraft"},"score":0,"creation_date":1572067606,"post_id":43251205,"comment_id":103454315,"body_markdown":"I&#39;m pleased this can help you.","body":"I&#39;m pleased this can help you."},{"owner":{"account_id":876746,"reputation":75,"user_id":97100,"display_name":"Obaid"},"score":0,"creation_date":1591073171,"post_id":43251205,"comment_id":109909623,"body_markdown":"This solved my problem as well. Somehow during clean up for project directories the tomcat server configuration had removed building the artifact during server startup. I had to enable it using the edit feature and the server started deploying the correct war file during startup.","body":"This solved my problem as well. Somehow during clean up for project directories the tomcat server configuration had removed building the artifact during server startup. I had to enable it using the edit feature and the server started deploying the correct war file during startup."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667190679,"post_id":43251205,"comment_id":131104037,"body_markdown":"I do not have a secondary menu attached to the *Web Application: Exploded* item.","body":"I do not have a secondary menu attached to the <i>Web Application: Exploded</i> item."}],"tags":[],"owner":{"account_id":8719608,"reputation":25664,"user_id":6523163,"accept_rate":72,"display_name":"aircraft"},"comment_count":4,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1491471191,"creation_date":1491471191,"answer_id":43251205,"question_id":43244946,"body_markdown":"The issue maybe you did not create the correct Artifact.\r\nThe correct steps are:\r\n\r\n  When you create the Artifact, you should like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you in the step3 choose the Empty, you maybe will get the error of title.\r\n\r\nThen in Tomcat Configurations, you can deploy the Artifact like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd check it:\r\n[![enter image description here][3]][3]\r\n\r\nRestart your Tomcat.\r\n\r\n  [1]: https://i.stack.imgur.com/kqnnU.png\r\n  [2]: https://i.stack.imgur.com/fnFDj.png\r\n  [3]: https://i.stack.imgur.com/c560S.png","title":"com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException","body":"<p>The issue maybe you did not create the correct Artifact.\nThe correct steps are:</p>\n\n<p>When you create the Artifact, you should like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kqnnU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kqnnU.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you in the step3 choose the Empty, you maybe will get the error of title.</p>\n\n<p>Then in Tomcat Configurations, you can deploy the Artifact like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fnFDj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fnFDj.png\" alt=\"enter image description here\"></a></p>\n\n<p>And check it:\n<a href=\"https://i.stack.imgur.com/c560S.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/c560S.png\" alt=\"enter image description here\"></a></p>\n\n<p>Restart your Tomcat.</p>\n"},{"tags":[],"owner":{"account_id":10976325,"reputation":2127,"user_id":8293585,"display_name":"CodeWorld"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1612205347,"creation_date":1503927401,"answer_id":45920405,"question_id":43244946,"body_markdown":"**I also suffered with this issue...** _This occurs because_\r\n\r\nTomcat doesn&#39;t find your project folder(application folder) to deploy. So \r\n\r\n - Click on &quot;Edit configuration&quot; button, top right in intellij\r\n - Configure Tomcat by clicking &#39;**+**&#39; symbol on left top and selecting &quot;**Tomcat server**&quot; then **local**.\r\n - Give &quot;**Name**&quot; to your project as per need.\r\n - Now in first tab &quot;**Server**&quot;...\r\n - Set path to local tomcat directory in your system.\r\n - Better change &quot;Http port&quot; 8080 to 808* (8086, 8087, 8088...)\r\n - Go to second tab &quot;**Deployment**&quot;\r\n - Under &quot;Deploy at the server startup&quot; Click on **+** symbol and select **artifact**. Now artifact having *same name as your project-name* should be listed in it.\r\nThen click OK\r\n\r\n**And unfortunately if above steps aren&#39;t helpful**\r\n\r\n - Go to the **Deployment** tab, click on edit button(pencil). It will open a new window called  \r\n&quot;Project Structure&quot;.  \r\n - Give &quot;Name&quot; and specify &quot;Type&quot; as **Web Application: Exploded**\r\n - Under **Output directory** give the location of your project folder like  \r\n(D:\\Workspace\\Project_Folder). \r\n\r\n\r\n\r\n ","title":"com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException","body":"<p><strong>I also suffered with this issue...</strong> <em>This occurs because</em></p>\n<p>Tomcat doesn't find your project folder(application folder) to deploy. So</p>\n<ul>\n<li>Click on &quot;Edit configuration&quot; button, top right in intellij</li>\n<li>Configure Tomcat by clicking '<strong>+</strong>' symbol on left top and selecting &quot;<strong>Tomcat server</strong>&quot; then <strong>local</strong>.</li>\n<li>Give &quot;<strong>Name</strong>&quot; to your project as per need.</li>\n<li>Now in first tab &quot;<strong>Server</strong>&quot;...</li>\n<li>Set path to local tomcat directory in your system.</li>\n<li>Better change &quot;Http port&quot; 8080 to 808* (8086, 8087, 8088...)</li>\n<li>Go to second tab &quot;<strong>Deployment</strong>&quot;</li>\n<li>Under &quot;Deploy at the server startup&quot; Click on <strong>+</strong> symbol and select <strong>artifact</strong>. Now artifact having <em>same name as your project-name</em> should be listed in it.\nThen click OK</li>\n</ul>\n<p><strong>And unfortunately if above steps aren't helpful</strong></p>\n<ul>\n<li>Go to the <strong>Deployment</strong> tab, click on edit button(pencil). It will open a new window called<br />\n&quot;Project Structure&quot;.</li>\n<li>Give &quot;Name&quot; and specify &quot;Type&quot; as <strong>Web Application: Exploded</strong></li>\n<li>Under <strong>Output directory</strong> give the location of your project folder like<br />\n(D:\\Workspace\\Project_Folder).</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":168033,"reputation":513,"user_id":7106420,"accept_rate":75,"display_name":"Shawn"},"score":3,"creation_date":1527879072,"post_id":50155631,"comment_id":88309728,"body_markdown":"This is a good answer that worked for me. For some reason Intellij tries to look in an `/out` folder that doesn&#39;t exist.","body":"This is a good answer that worked for me. For some reason Intellij tries to look in an <code>&#47;out</code> folder that doesn&#39;t exist."}],"tags":[],"owner":{"account_id":390867,"reputation":3923,"user_id":751200,"accept_rate":56,"display_name":"kolobok"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1525352078,"creation_date":1525352078,"answer_id":50155631,"question_id":43244946,"body_markdown":"Select your artifact (*File -&gt; Project Structure -&gt; Artifacts*) and make sure **Output directory** points to correct directory (for example, *path_to_webapp\\target*).\r\n\r\nThat&#39;s how I solved this problem.","title":"com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException","body":"<p>Select your artifact (<em>File -> Project Structure -> Artifacts</em>) and make sure <strong>Output directory</strong> points to correct directory (for example, <em>path_to_webapp\\target</em>).</p>\n\n<p>That's how I solved this problem.</p>\n"},{"comments":[{"owner":{"account_id":6195247,"reputation":9876,"user_id":4826740,"accept_rate":92,"display_name":"maxshuty"},"score":0,"creation_date":1692124194,"post_id":51295868,"comment_id":135580995,"body_markdown":"&quot;Open the &quot;Maven Projects&quot; tab/window and clicking the &quot;Reimport All Maven Projects&quot; in the upper left corner&quot; - this is how to actually do this answer","body":"&quot;Open the &quot;Maven Projects&quot; tab/window and clicking the &quot;Reimport All Maven Projects&quot; in the upper left corner&quot; - this is how to actually do this answer"}],"tags":[],"owner":{"account_id":11701188,"reputation":41,"user_id":8566180,"display_name":"sagra"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531355973,"creation_date":1531355973,"answer_id":51295868,"question_id":43244946,"body_markdown":"Re-importing maven projects resolved the issue for me","title":"com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException","body":"<p>Re-importing maven projects resolved the issue for me</p>\n"},{"tags":[],"owner":{"account_id":10108118,"reputation":123,"user_id":7470032,"display_name":"I V"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542966126,"creation_date":1542964816,"answer_id":53443744,"question_id":43244946,"body_markdown":"I faced with the same problem. In my case, it was a flag  in Gradle&#39;s settings. I switched it on and forgot to set it back to off: \r\n\r\n![flag][1]\r\n\r\nTo check it go to **&quot;Build, Execution, Deployment&quot; -&gt; &quot;Build Tools&quot; -&gt; &quot;Gradle&quot; -&gt; &quot;Runner&quot;**. The flag &quot;**Delegate IDE build/run actions to gradle**&quot; must be unchecked.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x0bd6.png","title":"com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException","body":"<p>I faced with the same problem. In my case, it was a flag  in Gradle's settings. I switched it on and forgot to set it back to off: </p>\n\n<p><img src=\"https://i.stack.imgur.com/x0bd6.png\" alt=\"flag\"></p>\n\n<p>To check it go to <strong>\"Build, Execution, Deployment\" -> \"Build Tools\" -> \"Gradle\" -> \"Runner\"</strong>. The flag \"<strong>Delegate IDE build/run actions to gradle</strong>\" must be unchecked.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1669483586,"post_id":74553206,"comment_id":131652738,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74553206/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15800151,"reputation":1,"user_id":11400897,"display_name":"Vladimir M"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669238990,"creation_date":1669238990,"answer_id":74553206,"question_id":43244946,"body_markdown":"In my case, I&#39;ve resolved this problem by manually created folders in project root &quot;out/artifacts/artifactName&quot;","title":"com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException","body":"<p>In my case, I've resolved this problem by manually created folders in project root &quot;out/artifacts/artifactName&quot;</p>\n"}],"owner":{"account_id":10368178,"reputation":3402,"user_id":7646621,"accept_rate":63,"display_name":"qg_java_17137"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23058,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":6,"score":14,"last_activity_date":1669238990,"creation_date":1491447865,"question_id":43244946,"body_markdown":"When I run tomcat in IntelliJ IDEA, I get this below error, I have searched the StackOverflow, find nothing about my exception.\r\n\r\n&gt; [2017-04-06 10:57:30,875] Artifact elecMaven-explored: Artifact is being deployed, please wait...  \r\n[2017-04-06 10:57:30,888] Artifact elecMaven-explored: Error during artifact deployment. See server log for details.  \r\n[2017-04-06 10:57:30,889] Artifact elecMaven-explored: com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException: /Users/luowensheng/Desktop/TestIOS/itheima1128elecMaven/classes/artifacts/elecMaven_explored not found for the web module.\r\n\r\nBut my artifact is really exists:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, where is the issue?\r\n\r\n---\r\n\r\nI have tried:\r\n\r\nadd the below code to web.xml:\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;kmRootKey&lt;/param-name&gt;\r\n        &lt;param-value&gt;km.root&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\nBut seems useless.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/715wB.jpg","title":"com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException","body":"<p>When I run tomcat in IntelliJ IDEA, I get this below error, I have searched the StackOverflow, find nothing about my exception.</p>\n\n<blockquote>\n  <p>[2017-04-06 10:57:30,875] Artifact elecMaven-explored: Artifact is being deployed, please wait...<br>\n  [2017-04-06 10:57:30,888] Artifact elecMaven-explored: Error during artifact deployment. See server log for details.<br>\n  [2017-04-06 10:57:30,889] Artifact elecMaven-explored: com.intellij.javaee.oss.admin.jmx.JmxAdminException: com.intellij.execution.ExecutionException: /Users/luowensheng/Desktop/TestIOS/itheima1128elecMaven/classes/artifacts/elecMaven_explored not found for the web module.</p>\n</blockquote>\n\n<p>But my artifact is really exists:</p>\n\n<p><a href=\"https://i.stack.imgur.com/715wB.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/715wB.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>So, where is the issue?</p>\n\n<hr>\n\n<p>I have tried:</p>\n\n<p>add the below code to web.xml:</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;kmRootKey&lt;/param-name&gt;\n    &lt;param-value&gt;km.root&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n\n<p>But seems useless.</p>\n"},{"tags":["java","swing","paint","paintcomponent","repaint"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669232671,"post_id":74552191,"comment_id":131600574,"body_markdown":"Use `javax.swing.Timer`","body":"Use <code>javax.swing.Timer</code>"},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1669235406,"post_id":74552191,"comment_id":131601284,"body_markdown":"You never add the GamePanel component to the JFrame as correctly mentioned in the current answer. They incorrectly suggested calling paintComponent directly though","body":"You never add the GamePanel component to the JFrame as correctly mentioned in the current answer. They incorrectly suggested calling paintComponent directly though"}],"answers":[{"comments":[{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":4,"creation_date":1669235211,"post_id":74552470,"comment_id":131601229,"body_markdown":"Why are you calling paintComponent directly? This should never be done.","body":"Why are you calling paintComponent directly? This should never be done."},{"owner":{"account_id":13022813,"reputation":722,"user_id":9411636,"display_name":"Kaneda"},"score":1,"creation_date":1669235719,"post_id":74552470,"comment_id":131601351,"body_markdown":"really my bad, doesnt got that paintcomponent was an override, i`m used to the annotation, i will remake my anwser","body":"really my bad, doesnt got that paintcomponent was an override, i`m used to the annotation, i will remake my anwser"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1669236664,"post_id":74552470,"comment_id":131601582,"body_markdown":"Don&#39;t call `getGraphics` ever - this is NOT how painting is done in Swing - you don&#39;t control the paint process, the `RepaintManager` does - Swing is also not thread safe and you should never update the UI or any state the UI relies on from out the context of the Event Dispatching Thread - this is just making a bad situation worse","body":"Don&#39;t call <code>getGraphics</code> ever - this is NOT how painting is done in Swing - you don&#39;t control the paint process, the <code>RepaintManager</code> does - Swing is also not thread safe and you should never update the UI or any state the UI relies on from out the context of the Event Dispatching Thread - this is just making a bad situation worse"}],"tags":[],"owner":{"account_id":13022813,"reputation":722,"user_id":9411636,"display_name":"Kaneda"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669237205,"creation_date":1669234240,"answer_id":74552470,"question_id":74552191,"body_markdown":"Here is the specific rectangle problem with your code, I will not mention other things because is not in the question, you are not adding GameWindow itself as component of your JFrame, and you are not calling your paintComponent method anywhere, I put it on update and it worked fine, but I&#39;m afraid that your code will block and you will not able to move the window and interact with it since you are always calling update/repaint over and over again inside your while statement. \r\n\r\nedit.: As the guy in the comment said, we must not call paintcomponent directly, so I fixed.\r\n\r\n    void setWindow() {\r\n        JFrame window = new JFrame();\r\n\r\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        window.setResizable(false);\r\n\r\n        window.setTitle(&quot;Avontuur&quot;);\r\n        window.add(GameWindow.this);\r\n        window.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\r\n        window.getContentPane().setBackground(Color.black);\r\n\r\n        ImageIcon icon = new ImageIcon(&quot;C:\\\\Users\\\\Rick\\\\Desktop\\\\Star.png&quot;);\r\n        window.setIconImage(icon.getImage());\r\n        window.pack();\r\n\r\n        window.setLocationRelativeTo(null);\r\n        window.setVisible(true);\r\n\r\n        startAnimation();\r\n    }\r\n\r\n","title":"Why is the repaint() method not calling my paintComponent() method?","body":"<p>Here is the specific rectangle problem with your code, I will not mention other things because is not in the question, you are not adding GameWindow itself as component of your JFrame, and you are not calling your paintComponent method anywhere, I put it on update and it worked fine, but I'm afraid that your code will block and you will not able to move the window and interact with it since you are always calling update/repaint over and over again inside your while statement.</p>\n<p>edit.: As the guy in the comment said, we must not call paintcomponent directly, so I fixed.</p>\n<pre><code>void setWindow() {\n    JFrame window = new JFrame();\n\n    window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    window.setResizable(false);\n\n    window.setTitle(&quot;Avontuur&quot;);\n    window.add(GameWindow.this);\n    window.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\n    window.getContentPane().setBackground(Color.black);\n\n    ImageIcon icon = new ImageIcon(&quot;C:\\\\Users\\\\Rick\\\\Desktop\\\\Star.png&quot;);\n    window.setIconImage(icon.getImage());\n    window.pack();\n\n    window.setLocationRelativeTo(null);\n    window.setVisible(true);\n\n    startAnimation();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1669238530,"post_id":74552944,"comment_id":131602063,"body_markdown":"You don&#39;t dispose of a `Graphics` (or `Graphics2D`) instance you didn&#39;t create.","body":"You don&#39;t dispose of a <code>Graphics</code> (or <code>Graphics2D</code>) instance you didn&#39;t create."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1669238655,"post_id":74552944,"comment_id":131602100,"body_markdown":"@GilbertLeBlanc Copy&#39;n&#39;Paste - my bad","body":"@GilbertLeBlanc Copy&#39;n&#39;Paste - my bad"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669238676,"creation_date":1669237212,"answer_id":74552944,"question_id":74552191,"body_markdown":"Swing is single threaded - never block the Event Dispatching Thread with long running or blocking operations\r\n\r\nSwing is NOT thread safe - never update the UI or any state the UI relies on from outside the context of the Event Dispatching Thread.\r\n\r\nSee [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more details.\r\n\r\nSwing makes use of a passive rendering engine - you don&#39;t control the painting process and you need to work within in it&#39;s intended design/workflow, see [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more details.\r\n\r\nSo, what&#39;s the solution?  In it&#39;s simplest form, use a [Swing `Timer`](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html), for example...\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new GamePane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GamePane extends JPanel {\r\n            final int ORIGINAL_TILE_SIZE = 16;\r\n            final int SCALE = 3;\r\n            final int TILE_SIZE = ORIGINAL_TILE_SIZE * SCALE;\r\n\r\n            final int MAX_SCREEN_COLUMNS = 16;\r\n            final int MAX_SCREEN_ROWS = 12;\r\n            final int SCREEN_WIDTH = TILE_SIZE * MAX_SCREEN_COLUMNS;\r\n            final int SCREEN_HEIGHT = TILE_SIZE * MAX_SCREEN_ROWS;\r\n\r\n            private Timer timer;\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT);\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                if (timer != null) {\r\n                    timer.stop();\r\n                }\r\n\r\n                timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        update();\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                super.removeNotify();\r\n                if (timer != null) {\r\n                    timer.stop();\r\n                }\r\n\r\n            }\r\n\r\n            public void update() {\r\n                System.out.println(&quot;Updatey update&quot;);\r\n                repaint();\r\n            }\r\n\r\n            public void paintComponent(final Graphics g) {\r\n                super.paintComponent(g);\r\n\r\n                System.out.println(&quot;Painty paint paint&quot;);\r\n\r\n                Graphics2D g2 = (Graphics2D) g.create();\r\n\r\n                g2.setColor(Color.white);\r\n                g2.fillRect(100, 100, TILE_SIZE, TILE_SIZE);\r\n                g2.dispose();\r\n            }\r\n        }\r\n    }\r\n\r\nYou should now see a bunch of text been printed to the console.\r\n\r\nAlso - you might not, I&#39;ve made some structural changes to your code, there is not reason for a `JPanel` based class to create it&#39;s own window (or if you really wanted to do this, I&#39;d create a `static` method to do it, but then I&#39;d be questioning why).\r\n\r\nOh, and also what DontKnowMuchBut Getting Better said in the comments!\r\n","title":"Why is the repaint() method not calling my paintComponent() method?","body":"<p>Swing is single threaded - never block the Event Dispatching Thread with long running or blocking operations</p>\n<p>Swing is NOT thread safe - never update the UI or any state the UI relies on from outside the context of the Event Dispatching Thread.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> for more details.</p>\n<p>Swing makes use of a passive rendering engine - you don't control the painting process and you need to work within in it's intended design/workflow, see <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for more details.</p>\n<p>So, what's the solution?  In it's simplest form, use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing <code>Timer</code></a>, for example...</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new GamePane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class GamePane extends JPanel {\n        final int ORIGINAL_TILE_SIZE = 16;\n        final int SCALE = 3;\n        final int TILE_SIZE = ORIGINAL_TILE_SIZE * SCALE;\n\n        final int MAX_SCREEN_COLUMNS = 16;\n        final int MAX_SCREEN_ROWS = 12;\n        final int SCREEN_WIDTH = TILE_SIZE * MAX_SCREEN_COLUMNS;\n        final int SCREEN_HEIGHT = TILE_SIZE * MAX_SCREEN_ROWS;\n\n        private Timer timer;\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT);\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            if (timer != null) {\n                timer.stop();\n            }\n\n            timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    update();\n                }\n            });\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            if (timer != null) {\n                timer.stop();\n            }\n\n        }\n\n        public void update() {\n            System.out.println(&quot;Updatey update&quot;);\n            repaint();\n        }\n\n        public void paintComponent(final Graphics g) {\n            super.paintComponent(g);\n\n            System.out.println(&quot;Painty paint paint&quot;);\n\n            Graphics2D g2 = (Graphics2D) g.create();\n\n            g2.setColor(Color.white);\n            g2.fillRect(100, 100, TILE_SIZE, TILE_SIZE);\n            g2.dispose();\n        }\n    }\n}\n</code></pre>\n<p>You should now see a bunch of text been printed to the console.</p>\n<p>Also - you might not, I've made some structural changes to your code, there is not reason for a <code>JPanel</code> based class to create it's own window (or if you really wanted to do this, I'd create a <code>static</code> method to do it, but then I'd be questioning why).</p>\n<p>Oh, and also what DontKnowMuchBut Getting Better said in the comments!</p>\n"}],"owner":{"account_id":27026352,"reputation":1,"user_id":20583558,"display_name":"Rickvdp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1669238676,"creation_date":1669232335,"question_id":74552191,"body_markdown":"I was trying to copy a repaint() and a paintComponent() method from a tutorial. After I copied the two methods my paintComponent did not get called and so the rectangle is not being showed. Here is my code:\r\n\r\n```\r\npublic class Main {\r\n\tGameWindow gw;\r\n\t\r\n\tMain() {\r\n\t\tgw = new GameWindow();\r\n\t}\r\n\t\r\n\tvoid start() {\r\n\t\tgw.setWindow();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew Main().start();\r\n\t}\r\n}\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\npublic class GameWindow extends JPanel implements Runnable {\r\n\tfinal int ORIGINAL_TILE_SIZE = 16;\r\n\tfinal int SCALE = 3;\r\n\tfinal int TILE_SIZE = ORIGINAL_TILE_SIZE * SCALE;\r\n\r\n\tfinal int MAX_SCREEN_COLUMNS = 16;\r\n\tfinal int MAX_SCREEN_ROWS = 12;\r\n\tfinal int SCREEN_WIDTH = TILE_SIZE * MAX_SCREEN_COLUMNS;\r\n\tfinal int SCREEN_HEIGHT = TILE_SIZE * MAX_SCREEN_ROWS;\r\n\r\n\tThread animation;\r\n\r\n\tvoid setWindow() {\r\n\t\tJFrame window = new JFrame();\r\n\r\n\t\twindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\twindow.setResizable(false);\r\n\r\n\t\twindow.setTitle(&quot;Avontuur&quot;);\r\n\t\twindow.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\r\n\t\twindow.getContentPane().setBackground(Color.black);\r\n\r\n\t\tImageIcon icon = new ImageIcon(&quot;C:\\\\Users\\\\Rick\\\\Desktop\\\\Star.png&quot;);\r\n\t\twindow.setIconImage(icon.getImage());\r\n\t\twindow.pack();\r\n\r\n\t\twindow.setLocationRelativeTo(null);\r\n\t\twindow.setVisible(true);\r\n\r\n\t\tstartAnimation();\r\n\t}\r\n\r\n\tvoid startAnimation() {\r\n\t\tanimation = new Thread(this);\r\n\t\tanimation.start();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\twhile (animation != null) {\r\n\t\t\tupdate();\r\n\r\n\t\t\trepaint();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void update() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void paintComponent(final Graphics g) {\r\n\t\t\r\n\t\tsuper.paintComponent(g);\r\n\t\t\r\n\t\tGraphics2D g2 = (Graphics2D)g;\r\n\t\t\r\n\t\tg2.setColor(Color.white);\r\n\t\tg2.fillRect(100, 100, TILE_SIZE, TILE_SIZE);\r\n\t\tg2.dispose();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nI already tried some solutions from stackOverflow, but they did not work or they were not relevant to my problem. Now the code above is what I tried myself using the video, but after using a println in the method I saw it was not getting called. I expected it to work after watching the tutorial, but it didn&#39;t. Does anyone know how I can fix this? Thanks in advance!","title":"Why is the repaint() method not calling my paintComponent() method?","body":"<p>I was trying to copy a repaint() and a paintComponent() method from a tutorial. After I copied the two methods my paintComponent did not get called and so the rectangle is not being showed. Here is my code:</p>\n<pre><code>public class Main {\n    GameWindow gw;\n    \n    Main() {\n        gw = new GameWindow();\n    }\n    \n    void start() {\n        gw.setWindow();\n    }\n\n    public static void main(String[] args) {\n        new Main().start();\n    }\n}\n\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class GameWindow extends JPanel implements Runnable {\n    final int ORIGINAL_TILE_SIZE = 16;\n    final int SCALE = 3;\n    final int TILE_SIZE = ORIGINAL_TILE_SIZE * SCALE;\n\n    final int MAX_SCREEN_COLUMNS = 16;\n    final int MAX_SCREEN_ROWS = 12;\n    final int SCREEN_WIDTH = TILE_SIZE * MAX_SCREEN_COLUMNS;\n    final int SCREEN_HEIGHT = TILE_SIZE * MAX_SCREEN_ROWS;\n\n    Thread animation;\n\n    void setWindow() {\n        JFrame window = new JFrame();\n\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setResizable(false);\n\n        window.setTitle(&quot;Avontuur&quot;);\n        window.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\n        window.getContentPane().setBackground(Color.black);\n\n        ImageIcon icon = new ImageIcon(&quot;C:\\\\Users\\\\Rick\\\\Desktop\\\\Star.png&quot;);\n        window.setIconImage(icon.getImage());\n        window.pack();\n\n        window.setLocationRelativeTo(null);\n        window.setVisible(true);\n\n        startAnimation();\n    }\n\n    void startAnimation() {\n        animation = new Thread(this);\n        animation.start();\n    }\n\n    @Override\n    public void run() {\n        while (animation != null) {\n            update();\n\n            repaint();\n        }\n    }\n    \n    public void update() {\n        \n    }\n    \n    public void paintComponent(final Graphics g) {\n        \n        super.paintComponent(g);\n        \n        Graphics2D g2 = (Graphics2D)g;\n        \n        g2.setColor(Color.white);\n        g2.fillRect(100, 100, TILE_SIZE, TILE_SIZE);\n        g2.dispose();\n    }\n}\n</code></pre>\n<p>I already tried some solutions from stackOverflow, but they did not work or they were not relevant to my problem. Now the code above is what I tried myself using the video, but after using a println in the method I saw it was not getting called. I expected it to work after watching the tutorial, but it didn't. Does anyone know how I can fix this? Thanks in advance!</p>\n"},{"tags":["java","http","spring-cloud","spring-cloud-gateway"],"owner":{"account_id":21784076,"reputation":11,"user_id":16085406,"display_name":"Ippili Akarsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669238380,"creation_date":1669238073,"question_id":74553079,"body_markdown":"I have a microservice(user service) running at localhost:8080, a gateway on localhost:8765 and a routing configuration as\r\n\r\n```\r\n@Bean\r\npublic RouteLocator gatewayRouter(RouteLocatorBuilder routeLocatorBuilder){\r\n    return routeLocatorBuilder\r\n            .routes()\r\n            .route(predicateSpec -&gt; predicateSpec\r\n                            .path(&quot;/user-service/**&quot;)\r\n                            .filters(\r\n                                    gatewayFilterSpec -&gt; gatewayFilterSpec\r\n                                            .rewritePath(&quot;/user-service/(?&lt;segment&gt;.*)&quot;, &quot;/${segment}&quot;)\r\n                            )\r\n                            .uri(&quot;lb://USER-SERVICE&quot;)\r\n            )\r\n            .route(predicateSpec -&gt; predicateSpec\r\n                    .path(&quot;/location-service/**&quot;)\r\n                    .filters(\r\n                            gatewayFilterSpec -&gt; gatewayFilterSpec\r\n                                    .rewritePath(&quot;/location-service/(?&lt;segment&gt;.*)&quot;, &quot;/${segment}&quot;)\r\n                    )\r\n                    .uri(&quot;lb://LOCATION-SERVICE&quot;)\r\n            )\r\n            .build();\r\n}\r\n```\r\non localhost:8080/swagger-ui.html it redirects to http://localhost:8080/swagger-ui/index.html#/ and I am able to access the swagger all good till here but through API gateway when I make a request the redirect happens on the API gateway. Redirects to **http://localhost:8765/swagger-ui/index.html**\r\n\r\n[1st request and response headers](https://i.stack.imgur.com/AYeIc.png)\r\n[2nd request(redirect) headers](https://i.stack.imgur.com/SN3K4.png)\r\n\r\n\r\nhow to make the location response locate in user service or redirect in user service and return HTML as a response.","title":"Accessing Swagger through Spring API Gateway","body":"<p>I have a microservice(user service) running at localhost:8080, a gateway on localhost:8765 and a routing configuration as</p>\n<pre><code>@Bean\npublic RouteLocator gatewayRouter(RouteLocatorBuilder routeLocatorBuilder){\n    return routeLocatorBuilder\n            .routes()\n            .route(predicateSpec -&gt; predicateSpec\n                            .path(&quot;/user-service/**&quot;)\n                            .filters(\n                                    gatewayFilterSpec -&gt; gatewayFilterSpec\n                                            .rewritePath(&quot;/user-service/(?&lt;segment&gt;.*)&quot;, &quot;/${segment}&quot;)\n                            )\n                            .uri(&quot;lb://USER-SERVICE&quot;)\n            )\n            .route(predicateSpec -&gt; predicateSpec\n                    .path(&quot;/location-service/**&quot;)\n                    .filters(\n                            gatewayFilterSpec -&gt; gatewayFilterSpec\n                                    .rewritePath(&quot;/location-service/(?&lt;segment&gt;.*)&quot;, &quot;/${segment}&quot;)\n                    )\n                    .uri(&quot;lb://LOCATION-SERVICE&quot;)\n            )\n            .build();\n}\n</code></pre>\n<p>on localhost:8080/swagger-ui.html it redirects to http://localhost:8080/swagger-ui/index.html#/ and I am able to access the swagger all good till here but through API gateway when I make a request the redirect happens on the API gateway. Redirects to <strong>http://localhost:8765/swagger-ui/index.html</strong></p>\n<p><a href=\"https://i.stack.imgur.com/AYeIc.png\" rel=\"nofollow noreferrer\">1st request and response headers</a>\n<a href=\"https://i.stack.imgur.com/SN3K4.png\" rel=\"nofollow noreferrer\">2nd request(redirect) headers</a></p>\n<p>how to make the location response locate in user service or redirect in user service and return HTML as a response.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":3,"creation_date":1669111543,"post_id":74530613,"comment_id":131564076,"body_markdown":"Why do you have the mapping on the attribute and the getter? You must choose one","body":"Why do you have the mapping on the attribute and the getter? You must choose one"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1669111694,"post_id":74530613,"comment_id":131564133,"body_markdown":"`int` is a primitive and defaults to `0`.. Make it in `Integer` instead.","body":"<code>int</code> is a primitive and defaults to <code>0</code>.. Make it in <code>Integer</code> instead."},{"owner":{"account_id":13184602,"reputation":207,"user_id":9523051,"display_name":"Hamza Khadhri"},"score":0,"creation_date":1669112195,"post_id":74530613,"comment_id":131564306,"body_markdown":"Show the class wich contains  &#39;dealsRepository.save(dealModel);&#39;. \nHave you inject your dependency ?","body":"Show the class wich contains  &#39;dealsRepository.save(dealModel);&#39;.  Have you inject your dependency ?"},{"owner":{"account_id":26652306,"reputation":1,"user_id":20266417,"display_name":"john johny"},"score":0,"creation_date":1669116206,"post_id":74530613,"comment_id":131565767,"body_markdown":"@SimonMartinelli I tried keeping the mapping just on the attribute and just on the getter, but it still doesn&#39;t work. The ID will always be null\nM.Deinum I made the Id type Integer, but it still not helps\nHamzaKhadhri save method is a method from CrudRepository","body":"@SimonMartinelli I tried keeping the mapping just on the attribute and just on the getter, but it still doesn&#39;t work. The ID will always be null M.Deinum I made the Id type Integer, but it still not helps HamzaKhadhri save method is a method from CrudRepository"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1669120065,"post_id":74530613,"comment_id":131567042,"body_markdown":"I&#39;ve created an example project with your code and everything works fine. Check it out https://github.com/simasch-scratches/so-74530613","body":"I&#39;ve created an example project with your code and everything works fine. Check it out <a href=\"https://github.com/simasch-scratches/so-74530613\" rel=\"nofollow noreferrer\">github.com/simasch-scratches/so-74530613</a>"},{"owner":{"account_id":26652306,"reputation":1,"user_id":20266417,"display_name":"john johny"},"score":0,"creation_date":1669238413,"post_id":74530613,"comment_id":131602036,"body_markdown":"@SimonMartinelli I tried running the code from your branch but I can&#39;t see anything persisted to the DB","body":"@SimonMartinelli I tried running the code from your branch but I can&#39;t see anything persisted to the DB"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1669273149,"post_id":74530613,"comment_id":131607986,"body_markdown":"The app uses a in-memory database H2. After the application finished the data is lost","body":"The app uses a in-memory database H2. After the application finished the data is lost"},{"owner":{"account_id":26652306,"reputation":1,"user_id":20266417,"display_name":"john johny"},"score":0,"creation_date":1669312976,"post_id":74530613,"comment_id":131621059,"body_markdown":"@SimonMartinelli what would I have to add to be able to persist to a postgres DB? I was able to persist entries to the DB with a similar version of code I initially mentioned, but I copied the code to another laptop and made some changes and now it doesn&#39;t work and I don&#39;t understand what the problem is","body":"@SimonMartinelli what would I have to add to be able to persist to a postgres DB? I was able to persist entries to the DB with a similar version of code I initially mentioned, but I copied the code to another laptop and made some changes and now it doesn&#39;t work and I don&#39;t understand what the problem is"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1669360423,"post_id":74530613,"comment_id":131628570,"body_markdown":"You will have to add the database driver, start a database and configure the URL, username and password. https://mkyong.com/spring-boot/spring-boot-spring-data-jpa-postgresql/","body":"You will have to add the database driver, start a database and configure the URL, username and password. <a href=\"https://mkyong.com/spring-boot/spring-boot-spring-data-jpa-postgresql/\" rel=\"nofollow noreferrer\">mkyong.com/spring-boot/spring-boot-spring-data-jpa-postgresq&zwnj;&#8203;l</a>"}],"owner":{"account_id":26652306,"reputation":1,"user_id":20266417,"display_name":"john johny"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669238373,"creation_date":1669110781,"question_id":74530613,"body_markdown":"I am trying to persist an object to the DB, where the id of the object is auto generated. The issue is that for some reason the ID remains null(I also tried hardcoding a id in the constructor, but it is still seen as null). I tested inserting an object to the DB running a sql query and I can see the entry in the table.The model class is:`\r\n```\r\npackage com.dealFinder.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.ToString;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotBlank;\r\n\r\n@ToString\r\n\r\n@Entity\r\n@Table(name = &quot;deals&quot;)\r\npublic class DealModel { \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    @NotBlank(message = &quot;Title is mandatory&quot;)\r\n    private String title;\r\n    @NotBlank(message = &quot;Url is mandatory&quot;)\r\n    private String url;\r\n    private float price;\r\n\r\n    public DealModel(String title, String url, float price){\r\n//        this.id = 1;\r\n        this.title=title;\r\n        this.url = url;\r\n        this.price= price;\r\n    }\r\n\r\n    public DealModel(){}\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n\r\n\r\n    @Column(name = &quot;title&quot;, nullable = false)\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    @Column(name = &quot;url&quot;, nullable = false)\r\n    public String getUrl() {\r\n        return url;\r\n    }\r\n    public void setUrl(String url) {\r\n        this.url = url;\r\n    }\r\n\r\n    @Column(name = &quot;price&quot;, nullable = false)\r\n    public float getPrice() {\r\n        return price;\r\n    }\r\n    public void setPrice(float price) {\r\n        this.price = price;\r\n    }\r\n}\r\n\r\n```\r\nI create the object with `\r\n```\r\nmodel = new DealModel(title, productUrl, price);\r\n```\r\n` where title, productUrl and price are not null, and I persist it to the DB with `\r\n```\r\ndealsRepository.save(dealModel);\r\n```\r\n` where the dealRepository class is`\r\n```\r\n@Repository\r\npublic interface DealsRepository extends JpaRepository&lt;DealModel, Integer&gt; {\r\n}\r\n```\r\n` Not sure what wrong change I made recently, as it was working fine previously. \r\n\r\nI am trying to persist the delModel object to the DB. Running a manual query to insert a dealModel entry to the table works fine","title":"Can&#39;t persist object to DB","body":"<p>I am trying to persist an object to the DB, where the id of the object is auto generated. The issue is that for some reason the ID remains null(I also tried hardcoding a id in the constructor, but it is still seen as null). I tested inserting an object to the DB running a sql query and I can see the entry in the table.The model class is:`</p>\n<pre><code>package com.dealFinder.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.ToString;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\n\n@ToString\n\n@Entity\n@Table(name = &quot;deals&quot;)\npublic class DealModel { \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @NotBlank(message = &quot;Title is mandatory&quot;)\n    private String title;\n    @NotBlank(message = &quot;Url is mandatory&quot;)\n    private String url;\n    private float price;\n\n    public DealModel(String title, String url, float price){\n//        this.id = 1;\n        this.title=title;\n        this.url = url;\n        this.price= price;\n    }\n\n    public DealModel(){}\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n\n\n\n    @Column(name = &quot;title&quot;, nullable = false)\n    public String getTitle() {\n        return title;\n    }\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    @Column(name = &quot;url&quot;, nullable = false)\n    public String getUrl() {\n        return url;\n    }\n    public void setUrl(String url) {\n        this.url = url;\n    }\n\n    @Column(name = &quot;price&quot;, nullable = false)\n    public float getPrice() {\n        return price;\n    }\n    public void setPrice(float price) {\n        this.price = price;\n    }\n}\n\n</code></pre>\n<p>I create the object with `</p>\n<pre><code>model = new DealModel(title, productUrl, price);\n</code></pre>\n<p><code>where title, productUrl and price are not null, and I persist it to the DB with</code></p>\n<pre><code>dealsRepository.save(dealModel);\n</code></pre>\n<p><code> where the dealRepository class is</code></p>\n<pre><code>@Repository\npublic interface DealsRepository extends JpaRepository&lt;DealModel, Integer&gt; {\n}\n</code></pre>\n<p>` Not sure what wrong change I made recently, as it was working fine previously.</p>\n<p>I am trying to persist the delModel object to the DB. Running a manual query to insert a dealModel entry to the table works fine</p>\n"},{"tags":["java","spring-boot","web"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1669238838,"post_id":74553080,"comment_id":131602141,"body_markdown":"Session storage seems to be a poor way to handle it.  Usually things like this are broken up into multiple tables in your database - i.e. a consultation has a one to many with an analysis.  And there may be specific types of analysis.  What does your DB look like?","body":"Session storage seems to be a poor way to handle it.  Usually things like this are broken up into multiple tables in your database - i.e. a consultation has a one to many with an analysis.  And there may be specific types of analysis.  What does your DB look like?"},{"owner":{"account_id":23624669,"reputation":13,"user_id":17657397,"display_name":"biginner_sama"},"score":0,"creation_date":1669240945,"post_id":74553080,"comment_id":131602653,"body_markdown":"My databse contains a tables with patient and a tables of consultation with relation of one to many but the analysis must be all set in the same table which is consultation all along with other attributes","body":"My databse contains a tables with patient and a tables of consultation with relation of one to many but the analysis must be all set in the same table which is consultation all along with other attributes"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1669244488,"post_id":74553080,"comment_id":131603374,"body_markdown":"While that sounds like a questionable DB design your only hope is that there are alot of nullable columns so that you can store a bit of the consultation at a time.","body":"While that sounds like a questionable DB design your only hope is that there are alot of nullable columns so that you can store a bit of the consultation at a time."},{"owner":{"account_id":23624669,"reputation":13,"user_id":17657397,"display_name":"biginner_sama"},"score":0,"creation_date":1669287642,"post_id":74553080,"comment_id":131612895,"body_markdown":"That&#39;s the approach, but if you have other advice I more than happy to accept it. I working on this application alone so I have to do pretty much everything. DB design is a major part specially in fetching data in next step so I open to every suggestion.","body":"That&#39;s the approach, but if you have other advice I more than happy to accept it. I working on this application alone so I have to do pretty much everything. DB design is a major part specially in fetching data in next step so I open to every suggestion."}],"owner":{"account_id":23624669,"reputation":13,"user_id":17657397,"display_name":"biginner_sama"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669238081,"creation_date":1669238081,"question_id":74553080,"body_markdown":"I&#39;m making a decision aid application for doctors treating cancer patient.\r\nSo my application contains a module that handles consultations presented in several forms that the doctor is needed to fill to get the decision generated by the application.\r\nThe thing is, The patient is needed to do multiple medical analysis and the forms must have the feature to be filled on multiple times.\r\n\r\nI have a class called Consultation that have the full list of attributes that needed to be filled \r\nbut each form have only some of these attributes. The problem lays in the submission action. \r\n\r\nTo be more specific, the class have many constructors that enable the instantiation of an object with reduced number of attributes (I even don&#39;t know if that is the right approach)\r\n\r\nMy question is :\r\n\r\n 1. How can I save only portion of the data without actually make in them persistent(DataBase) knowing that the time between consultations can take weeks(I don&#39;t trust session to store data that long)?\r\n \r\n 2. If there is no way to implement the first question, how can I redirect only portion of the data to the database knowing that the consultation entity must have all the attributes filled or not?\r\n\r\nI already tried sessions storage but I think it can produce security issues for the application moreover I don&#39;t trust a session to store data for a long time.\r\nPassing to the database, I tried to set each form to a model but I didn&#39;t find a way to combine these model in one single table.\r\nI still a beginner in spring boot but I have an overall understanding of the architecture. ","title":"Storage (Session or persistent) in Spring boot","body":"<p>I'm making a decision aid application for doctors treating cancer patient.\nSo my application contains a module that handles consultations presented in several forms that the doctor is needed to fill to get the decision generated by the application.\nThe thing is, The patient is needed to do multiple medical analysis and the forms must have the feature to be filled on multiple times.</p>\n<p>I have a class called Consultation that have the full list of attributes that needed to be filled\nbut each form have only some of these attributes. The problem lays in the submission action.</p>\n<p>To be more specific, the class have many constructors that enable the instantiation of an object with reduced number of attributes (I even don't know if that is the right approach)</p>\n<p>My question is :</p>\n<ol>\n<li><p>How can I save only portion of the data without actually make in them persistent(DataBase) knowing that the time between consultations can take weeks(I don't trust session to store data that long)?</p>\n</li>\n<li><p>If there is no way to implement the first question, how can I redirect only portion of the data to the database knowing that the consultation entity must have all the attributes filled or not?</p>\n</li>\n</ol>\n<p>I already tried sessions storage but I think it can produce security issues for the application moreover I don't trust a session to store data for a long time.\nPassing to the database, I tried to set each form to a model but I didn't find a way to combine these model in one single table.\nI still a beginner in spring boot but I have an overall understanding of the architecture.</p>\n"},{"tags":["java","testing","mocking","bukkit"],"answers":[{"tags":[],"owner":{"account_id":21966448,"reputation":1,"user_id":16243618,"display_name":"Cooperr06"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669238023,"creation_date":1669235750,"answer_id":74552707,"question_id":74533739,"body_markdown":"So I finally managed to fix this error: it occured because of this dependency:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWatch this for updates: [https://github.com/MockBukkit/MockBukkit/issues/614][1]\r\n\r\n  [1]: https://github.com/MockBukkit/MockBukkit/issues/614","title":"MockBukkit#mock() throwing NPE","body":"<p>So I finally managed to fix this error: it occured because of this dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n    &lt;version&gt;2.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Watch this for updates: <a href=\"https://github.com/MockBukkit/MockBukkit/issues/614\" rel=\"nofollow noreferrer\">https://github.com/MockBukkit/MockBukkit/issues/614</a></p>\n"}],"owner":{"account_id":21966448,"reputation":1,"user_id":16243618,"display_name":"Cooperr06"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74552707,"answer_count":1,"score":0,"last_activity_date":1669238023,"creation_date":1669125207,"question_id":74533739,"body_markdown":"I&#39;m trying to test my Minecraft plugin with MockBukkit, but when I&#39;m trying to mock a server (via `MockBukkit#mock()`) a NPE is thrown:\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;org.eclipse.aether.RepositorySystem.newLocalRepositoryManager(org.eclipse.aether.RepositorySystemSession, org.eclipse.aether.repository.LocalRepository)&quot; because &quot;this.repository&quot; is null\r\n\r\n\tat org.bukkit.plugin.java.LibraryLoader.&lt;init&gt;(LibraryLoader.java:59)\r\n\tat org.bukkit.plugin.java.JavaPluginLoader.&lt;init&gt;(JavaPluginLoader.java:73)\r\n\tat be.seeseemelk.mockbukkit.plugin.PluginManagerMock.&lt;init&gt;(PluginManagerMock.java:90)\r\n\tat be.seeseemelk.mockbukkit.ServerMock.&lt;init&gt;(ServerMock.java:166)\r\n\tat be.seeseemelk.mockbukkit.MockBukkit.mock(MockBukkit.java:56)\r\n```\r\n\r\nHere you can find my pom.xml: [https://pastebin.com/TPjDRr9f](https://pastebin.com/TPjDRr9f)\r\nMy test contains just a method with the annotation `@BeforeAll` in which I mock via `MockBukkit#mock()`. This issue is also mentioned here [https://github.com/MockBukkit/MockBukkit/issues/614](https://github.com/MockBukkit/MockBukkit/issues/614), but this issue is currently in backlog, so I&#39;m trying to find a solution / workaround for this.\r\n\r\nI tried mocking the server in a test method with the annotation `@BeforeAll`:\r\n```java\r\n@BeforeAll\r\npublic void setUp() {\r\n    MockBukkit.mock();\r\n}\r\n```\r\n\r\nI expected the test to work.\r\n\r\nI actually got a NPE, which origin&#39;s located in the MockBukkit code.","title":"MockBukkit#mock() throwing NPE","body":"<p>I'm trying to test my Minecraft plugin with MockBukkit, but when I'm trying to mock a server (via <code>MockBukkit#mock()</code>) a NPE is thrown:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.eclipse.aether.RepositorySystem.newLocalRepositoryManager(org.eclipse.aether.RepositorySystemSession, org.eclipse.aether.repository.LocalRepository)&quot; because &quot;this.repository&quot; is null\n\n    at org.bukkit.plugin.java.LibraryLoader.&lt;init&gt;(LibraryLoader.java:59)\n    at org.bukkit.plugin.java.JavaPluginLoader.&lt;init&gt;(JavaPluginLoader.java:73)\n    at be.seeseemelk.mockbukkit.plugin.PluginManagerMock.&lt;init&gt;(PluginManagerMock.java:90)\n    at be.seeseemelk.mockbukkit.ServerMock.&lt;init&gt;(ServerMock.java:166)\n    at be.seeseemelk.mockbukkit.MockBukkit.mock(MockBukkit.java:56)\n</code></pre>\n<p>Here you can find my pom.xml: <a href=\"https://pastebin.com/TPjDRr9f\" rel=\"nofollow noreferrer\">https://pastebin.com/TPjDRr9f</a>\nMy test contains just a method with the annotation <code>@BeforeAll</code> in which I mock via <code>MockBukkit#mock()</code>. This issue is also mentioned here <a href=\"https://github.com/MockBukkit/MockBukkit/issues/614\" rel=\"nofollow noreferrer\">https://github.com/MockBukkit/MockBukkit/issues/614</a>, but this issue is currently in backlog, so I'm trying to find a solution / workaround for this.</p>\n<p>I tried mocking the server in a test method with the annotation <code>@BeforeAll</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeAll\npublic void setUp() {\n    MockBukkit.mock();\n}\n</code></pre>\n<p>I expected the test to work.</p>\n<p>I actually got a NPE, which origin's located in the MockBukkit code.</p>\n"},{"tags":["java","video","vlc","vlcj","adjustment"],"comments":[{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1668980111,"post_id":74507184,"comment_id":131532102,"body_markdown":"Please test with vlcj-player sample project. Are you using an &quot;embedded&quot; or &quot;callback&quot; media player? I just tested vlcj-player with the embedded media player and video adjustment works for me. For callback media players it seems you can&#39;t use video adjust.","body":"Please test with vlcj-player sample project. Are you using an &quot;embedded&quot; or &quot;callback&quot; media player? I just tested vlcj-player with the embedded media player and video adjustment works for me. For callback media players it seems you can&#39;t use video adjust."},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1668981432,"post_id":74507184,"comment_id":131532359,"body_markdown":"I am using EmbeddedMediaPlayer. It is working for some older mpeg videos and for avi containers it seems, but not for mp4. I&#39;ll try out the sample project and see if I can find any differences to my code. But it will take some time...","body":"I am using EmbeddedMediaPlayer. It is working for some older mpeg videos and for avi containers it seems, but not for mp4. I&#39;ll try out the sample project and see if I can find any differences to my code. But it will take some time..."},{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1669011672,"post_id":74507184,"comment_id":131536837,"body_markdown":"Strange, I tested mp4 and it was OK for me.","body":"Strange, I tested mp4 and it was OK for me."},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1669238116,"post_id":74507184,"comment_id":131601960,"body_markdown":"I have downloaded the vlcj sample application and I am seeing the same behavior there: video adjustments don&#39;t work for MP4 files. So I assume it&#39;s not related to my code. I have had a look into the native VLC logs and I can see error messages there (I have added them to my initial post). These messages are being logged repeatedly for videos having the issue. Have you ever come across something similar? I did some research but unfortunately I am really not into all this native VLC and codec stuff...","body":"I have downloaded the vlcj sample application and I am seeing the same behavior there: video adjustments don&#39;t work for MP4 files. So I assume it&#39;s not related to my code. I have had a look into the native VLC logs and I can see error messages there (I have added them to my initial post). These messages are being logged repeatedly for videos having the issue. Have you ever come across something similar? I did some research but unfortunately I am really not into all this native VLC and codec stuff..."},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1669652650,"post_id":74507184,"comment_id":131685550,"body_markdown":"No idea? The thing is: even if it is related to my local machine setup like some outdated graphics driver or if I am missing any codec or whatever, how is it possible that native VLC player can handle everything without any issues and vlcj cannot? Like I said, I am seeing the same issue with the vlcj sample application. Any hint would be highly appreciated","body":"No idea? The thing is: even if it is related to my local machine setup like some outdated graphics driver or if I am missing any codec or whatever, how is it possible that native VLC player can handle everything without any issues and vlcj cannot? Like I said, I am seeing the same issue with the vlcj sample application. Any hint would be highly appreciated"},{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":0,"creation_date":1669656443,"post_id":74507184,"comment_id":131686949,"body_markdown":"VLC does not use LibVLC. I just now tested vlcj-player on Linux, and Windows 10, VLC 3.0.17.4, and an MP4 file, video effects work just fine. You can try changing video output, see &quot;VLC -H&quot; and search for vout.","body":"VLC does not use LibVLC. I just now tested vlcj-player on Linux, and Windows 10, VLC 3.0.17.4, and an MP4 file, video effects work just fine. You can try changing video output, see &quot;VLC -H&quot; and search for vout."},{"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"score":0,"creation_date":1670004897,"post_id":74507184,"comment_id":131779814,"body_markdown":"I have tried out all possible video output options. No success unfortunately. Maybe it&#39;s related to my machine. I&#39;ll try to get my app running on another laptop and see if it works there","body":"I have tried out all possible video output options. No success unfortunately. Maybe it&#39;s related to my machine. I&#39;ll try to get my app running on another laptop and see if it works there"}],"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669237805,"creation_date":1668938887,"question_id":74507184,"body_markdown":"After migrating my Java application from `vlcj-3.12.1` to `vlcj-4.8.2`, video adjustments are no longer working. Means: changing the video&#39;s brightness, contrast, saturation, hue or gamma has no effect. I am enabling video adjustments **before** changing any of the mentioned values and I am calling these methods **after** playback has started and video output is available. I have searched through various discussions about similar issues but none of the proposed solutions has worked for me. I have also tried to call `setAdjustVideo(false)` right before setting it to `true` again - no difference. Example code for setting the brightness:\r\n\r\n    float myBrightness = 2.0f;\r\n    vlcPlayer.video().setAdjustVideo(true);\r\n    vlcPlayer.video().setBrightness(myBrightness);\r\n\r\nSurprisingly, it is working fine for all `.avi` files I have tested, so I initially thought the issue might somehow be related to the video codec. But when using the native VLC player, applying the settings works just fine for all videos and formats. So it must have to do something with either `vlcj` or my own code. Is there anything that needs to be taken care of that I am missing? Any additional setting or rule in `vlcj-4` compared to previous versions?&lt;br&gt;\r\n\r\nI am using `vlcj-4.8.2` in combination with `VLC 3.0.17.4` (latest version) on Windows 10 with `Java 17.0.5`. Thanks in advance!\r\n\r\n**Edit:** (added native VLC error logs):\r\n\r\n    main debug: looking for video converter module matching &quot;any&quot;: 48 candidates\r\n    d3d11_filters warning: no context available\r\n    d3d11_filters debug: D3D11 opaque without a texture\r\n    d3d11_filters warning: no context available\r\n    d3d11_filters debug: D3D11 opaque without a texture\r\n    chain error: Too high level of recursion (3)\r\n    chain error: Too high level of recursion (3)\r\n    main debug: no video converter modules matched\r\n    main error: Failed to create video converter\r\n    main debug: removing module &quot;swscale&quot;\r\n    main debug: Filter 000002080bf802a0 removed from chain\r\n    chain debug: Trying to use chroma I422 as middle man","title":"VLCJ-4: changing video settings has no effect","body":"<p>After migrating my Java application from <code>vlcj-3.12.1</code> to <code>vlcj-4.8.2</code>, video adjustments are no longer working. Means: changing the video's brightness, contrast, saturation, hue or gamma has no effect. I am enabling video adjustments <strong>before</strong> changing any of the mentioned values and I am calling these methods <strong>after</strong> playback has started and video output is available. I have searched through various discussions about similar issues but none of the proposed solutions has worked for me. I have also tried to call <code>setAdjustVideo(false)</code> right before setting it to <code>true</code> again - no difference. Example code for setting the brightness:</p>\n<pre><code>float myBrightness = 2.0f;\nvlcPlayer.video().setAdjustVideo(true);\nvlcPlayer.video().setBrightness(myBrightness);\n</code></pre>\n<p>Surprisingly, it is working fine for all <code>.avi</code> files I have tested, so I initially thought the issue might somehow be related to the video codec. But when using the native VLC player, applying the settings works just fine for all videos and formats. So it must have to do something with either <code>vlcj</code> or my own code. Is there anything that needs to be taken care of that I am missing? Any additional setting or rule in <code>vlcj-4</code> compared to previous versions?<br></p>\n<p>I am using <code>vlcj-4.8.2</code> in combination with <code>VLC 3.0.17.4</code> (latest version) on Windows 10 with <code>Java 17.0.5</code>. Thanks in advance!</p>\n<p><strong>Edit:</strong> (added native VLC error logs):</p>\n<pre><code>main debug: looking for video converter module matching &quot;any&quot;: 48 candidates\nd3d11_filters warning: no context available\nd3d11_filters debug: D3D11 opaque without a texture\nd3d11_filters warning: no context available\nd3d11_filters debug: D3D11 opaque without a texture\nchain error: Too high level of recursion (3)\nchain error: Too high level of recursion (3)\nmain debug: no video converter modules matched\nmain error: Failed to create video converter\nmain debug: removing module &quot;swscale&quot;\nmain debug: Filter 000002080bf802a0 removed from chain\nchain debug: Trying to use chroma I422 as middle man\n</code></pre>\n"},{"tags":["java","jar","classloader","maven-shade-plugin"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1669151706,"post_id":74538843,"comment_id":131578429,"body_markdown":"not really class loader related. Shaded means that the package name of some classes have been altered from like com.google.common to e.g. shaded.com.google.common so they can exist side by side to the &quot;same&quot; library. Are the dependency in your shaded jar included and shaded inside https://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html ?","body":"not really class loader related. Shaded means that the package name of some classes have been altered from like com.google.common to e.g. shaded.com.google.common so they can exist side by side to the &quot;same&quot; library. Are the dependency in your shaded jar included and shaded inside <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/includes-excludes.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin/examples/&hellip;</a> ?"},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1669153158,"post_id":74538843,"comment_id":131578833,"body_markdown":"I&#39;ve assumed so, but I&#39;ll need to give that a closer loo. This is useful direction BTW.","body":"I&#39;ve assumed so, but I&#39;ll need to give that a closer loo. This is useful direction BTW."},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1669223090,"post_id":74538843,"comment_id":131597588,"body_markdown":"Added examples of where `MemoizingSupplier` is defined in the war","body":"Added examples of where <code>MemoizingSupplier</code> is defined in the war"}],"answers":[{"comments":[{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1669312364,"post_id":74552998,"comment_id":131620913,"body_markdown":"`nautilus-es2-library-2.3.4.jar` is a shaded jar containing the `ElasticSearch 2.3.4` client code and its dependencies. My knowledge of shaded jars is limited but I thought the purpose was to bundle all dependencies within a single jar. I also assume, thought I have not confirmed, that `guava-30.1.1` would not be compatible with ES2.3.4.","body":"<code>nautilus-es2-library-2.3.4.jar</code> is a shaded jar containing the <code>ElasticSearch 2.3.4</code> client code and its dependencies. My knowledge of shaded jars is limited but I thought the purpose was to bundle all dependencies within a single jar. I also assume, thought I have not confirmed, that <code>guava-30.1.1</code> would not be compatible with ES2.3.4."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1669337284,"post_id":74552998,"comment_id":131625549,"body_markdown":"@ShaneGannon you can do 2 things with jars, simply bundle dependencies into a single big jar and shading (renaming/relocating) them while doing so. The latter requires changes to both the package name of the class that gets relocated as well to all the imports in all places that use that class. Can you modify / replace `nautilus-es2-library-2.3.4.jar` because it&#39;s not doing the shading part, it simply bundles guava. There&#39;s https://github.com/desp0916/es-shaded which might be a way to build your own shaded version of elasticsearch and that one defines relocations for guava in it&#39;s pom","body":"@ShaneGannon you can do 2 things with jars, simply bundle dependencies into a single big jar and shading (renaming/relocating) them while doing so. The latter requires changes to both the package name of the class that gets relocated as well to all the imports in all places that use that class. Can you modify / replace <code>nautilus-es2-library-2.3.4.jar</code> because it&#39;s not doing the shading part, it simply bundles guava. There&#39;s <a href=\"https://github.com/desp0916/es-shaded\" rel=\"nofollow noreferrer\">github.com/desp0916/es-shaded</a> which might be a way to build your own shaded version of elasticsearch and that one defines relocations for guava in it&#39;s pom"},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1669405472,"post_id":74552998,"comment_id":131641472,"body_markdown":"@zapl thank you, again, for the direction. `relocating` this specific jar in the shaded library is the solution. i.e. https://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html. Thank you for pointing this out. I was focusing too much on how the classes were loaded. I still don&#39;t have a good understanding of that, but this approach was the right solution.","body":"@zapl thank you, again, for the direction. <code>relocating</code> this specific jar in the shaded library is the solution. i.e. <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin/examples/&hellip;</a>. Thank you for pointing this out. I was focusing too much on how the classes were loaded. I still don&#39;t have a good understanding of that, but this approach was the right solution."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669237617,"creation_date":1669237617,"answer_id":74552998,"question_id":74538843,"body_markdown":"You have two copies of `com.google.common.base.Suppliers.MemoizingSupplier` on the classpath. Only one can be loaded, and in your case, it&#39;s the older version.\r\n\r\nYou shouldn&#39;t have multiple classes with the same name available to one classloader. What is nautilus-es2-library-2.3.4.jar and why does it bundle Guava rather than expressing it as a transitive dependency?","title":"How the class loader works in Java with a shaded jar","body":"<p>You have two copies of <code>com.google.common.base.Suppliers.MemoizingSupplier</code> on the classpath. Only one can be loaded, and in your case, it's the older version.</p>\n<p>You shouldn't have multiple classes with the same name available to one classloader. What is nautilus-es2-library-2.3.4.jar and why does it bundle Guava rather than expressing it as a transitive dependency?</p>\n"}],"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74552998,"answer_count":1,"score":0,"last_activity_date":1669237617,"creation_date":1669150431,"question_id":74538843,"body_markdown":"My experience with Java class loading is limited. With tools like Maven I have a rusty understanding of how they resolve dependency versions. But I&#39;ve hit a problem that&#39;s making me question how Java loads classes.\r\n\r\nMy scenario, I have a dependency on version `30.1.1-jre` of `com.google.guava`. I also have a shaded jar which has a dependency on Guava 18.0.\r\n\r\nIn my application I end up seeing the following exception\r\n\r\n&gt; java.lang.IncompatibleClassChangeError: Class com.google.common.base.Suppliers$MemoizingSupplier does not implement the requested interface java.util.function.Supplier\r\n\r\nwhich I cannot reproduce locally. Based on https://github.com/crabhi/celery-java/issues/9 it sounds like this error is produced when an older version of Guava is on the classpath.\r\n\r\nChecking the classes in the war I see\r\n\r\n```\r\nWEB-INF/lib/java-driver-shaded-guava-25.1-jre-graal-sub-1.jar.d/com/datastax/oss/driver/shaded/guava/common/base/Suppliers$MemoizingSupplier.class\r\n\r\nWEB-INF/lib/nautilus-es2-library-2.3.4.jar.d/com/google/common/base/Suppliers$MemoizingSupplier.class\r\n\r\nWEB-INF/lib/guava-30.1.1-jre.jar.d/com/google/common/base/Suppliers$MemoizingSupplier.class\r\n```\r\n\r\nThis makes me think the shaded jars are causing a problem.\r\n\r\nIs that possible? Are there any articles explaining how classes are loaded when shaded jars enter the picture?","title":"How the class loader works in Java with a shaded jar","body":"<p>My experience with Java class loading is limited. With tools like Maven I have a rusty understanding of how they resolve dependency versions. But I've hit a problem that's making me question how Java loads classes.</p>\n<p>My scenario, I have a dependency on version <code>30.1.1-jre</code> of <code>com.google.guava</code>. I also have a shaded jar which has a dependency on Guava 18.0.</p>\n<p>In my application I end up seeing the following exception</p>\n<blockquote>\n<p>java.lang.IncompatibleClassChangeError: Class com.google.common.base.Suppliers$MemoizingSupplier does not implement the requested interface java.util.function.Supplier</p>\n</blockquote>\n<p>which I cannot reproduce locally. Based on <a href=\"https://github.com/crabhi/celery-java/issues/9\" rel=\"nofollow noreferrer\">https://github.com/crabhi/celery-java/issues/9</a> it sounds like this error is produced when an older version of Guava is on the classpath.</p>\n<p>Checking the classes in the war I see</p>\n<pre><code>WEB-INF/lib/java-driver-shaded-guava-25.1-jre-graal-sub-1.jar.d/com/datastax/oss/driver/shaded/guava/common/base/Suppliers$MemoizingSupplier.class\n\nWEB-INF/lib/nautilus-es2-library-2.3.4.jar.d/com/google/common/base/Suppliers$MemoizingSupplier.class\n\nWEB-INF/lib/guava-30.1.1-jre.jar.d/com/google/common/base/Suppliers$MemoizingSupplier.class\n</code></pre>\n<p>This makes me think the shaded jars are causing a problem.</p>\n<p>Is that possible? Are there any articles explaining how classes are loaded when shaded jars enter the picture?</p>\n"},{"tags":["java","android","opengl-es","gpuimage"],"comments":[{"owner":{"account_id":5047443,"reputation":2588,"user_id":4052962,"accept_rate":100,"display_name":"Mikhail Spitsin"},"score":1,"creation_date":1468862314,"post_id":33358248,"comment_id":64290558,"body_markdown":"Sorry for my misunderstanding, but could you, please, provide what data do you have as input and what do you want to receive as output?","body":"Sorry for my misunderstanding, but could you, please, provide what data do you have as input and what do you want to receive as output?"},{"owner":{"account_id":2985836,"reputation":2698,"user_id":2534694,"accept_rate":32,"display_name":"Zen"},"score":1,"creation_date":1469621541,"post_id":33358248,"comment_id":64611388,"body_markdown":"Hi. I have a bitmap as the input and the final output should also be a bitmap","body":"Hi. I have a bitmap as the input and the final output should also be a bitmap"},{"owner":{"account_id":177768,"reputation":2670,"user_id":409315,"accept_rate":88,"display_name":"codetiger"},"score":1,"creation_date":1471260886,"post_id":33358248,"comment_id":65262386,"body_markdown":"What exactly are you trying to achieve? I tried reading your question ew times, but not able to understand the requirement.","body":"What exactly are you trying to achieve? I tried reading your question ew times, but not able to understand the requirement."}],"answers":[{"tags":[],"owner":{"account_id":3434675,"reputation":8159,"user_id":2878070,"accept_rate":80,"display_name":"Sergio"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473865030,"creation_date":1473865030,"answer_id":39493675,"question_id":33358248,"body_markdown":"Color matrix is the entity that defines new color component values for some pixel as linear functions of the current color components of the same pixel. I.e. the only input for color matrix conversion is the pixel, which colors should be transformed.  There is no way to involve another pixels to such conversion. Regardless if they are pixels from another image or even neighbors of transformed pixel - it is impossible.","title":"How do I &quot;subtract&quot; a color filter using GPUImageLibrary?","body":"<p>Color matrix is the entity that defines new color component values for some pixel as linear functions of the current color components of the same pixel. I.e. the only input for color matrix conversion is the pixel, which colors should be transformed.  There is no way to involve another pixels to such conversion. Regardless if they are pixels from another image or even neighbors of transformed pixel - it is impossible.</p>\n"},{"tags":[],"owner":{"account_id":7487496,"reputation":8511,"user_id":5690248,"accept_rate":100,"display_name":"The Dreams Wind"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669237455,"creation_date":1544748816,"answer_id":53772151,"question_id":33358248,"body_markdown":"### Disclaimer\r\n\r\nOriginally I answered [another question][1] from the same author and it seems was asked within the same problem. I decided not to mark this one as a duplicate, because the first question doesn&#39;t have context of using the `GPUImageLibrary`, which makes the things way simpler. However I don&#39;t want to overact, so if you need any additional details, please refer to [the original answer][2]. Here I&#39;ll merely outline the solution.\r\n\r\n---\r\n\r\nYou don&#39;t actually need to extend the `GPUImageSubtractBlendFilter` or any descendants of the `GPUImageTwoInputFilter`, because (as correctly was noted by [Sergio][3]) you should deal with only one instance of texture. Instead define your own fragment shader that will take a color filter, apply it and subtract the resulting\r\nvalue from original pixel:\r\n\r\n    precision mediump float;\r\n    struct ColorFilter {\r\n      mat4 factor;\r\n      vec4 shift;\r\n    };\r\n    uniform sampler2D inputImageTexture;\r\n    uniform ColorFilter uColorFilter;\r\n    varying vec2 textureCoordinate;\r\n    void main() {\r\n      vec4 originalColor = texture2D(inputImageTexture, textureCoordinate);\r\n      originalColor.rgb *= originalColor.a;\r\n      vec4 filteredColor = (originalColor * uColorFilter.factor) + uColorFilter.shift;\r\n      filteredColor.rgb *= filteredColor.a;\r\n      gl_FragColor = vec4(originalColor.rgb - filteredColor.rgb, originalColor.a);\r\n    }\r\n\r\nAnd now just attach your color filter matrix to the shader:\r\n\r\n    @Override\r\n    public void onInitialized() {\r\n        super.onInitialized();\r\n        attachColorFilter(getProgram());\r\n    }\r\n\r\n    // ========================================== //\r\n    // Private\r\n    // ========================================== //\r\n\r\n    private void attachColorFilter(int program) {\r\n        final float[] colorFilterFactor = new float[4 * 4];\r\n        final float[] colorFilterShift = new float[4];\r\n        for (int i = 0; i &lt; mColorFilter.length; i++) {\r\n            final float value = mColorFilter[i];\r\n            final int calculateIndex = i + 1;\r\n            if (calculateIndex % 5 == 0) {\r\n                colorFilterShift[calculateIndex / 5 - 1] = value / 255;\r\n            } else {\r\n                colorFilterFactor[i - calculateIndex / 5] = value;\r\n            }\r\n        }\r\n        final int colorFactorLocation = GLES20.glGetUniformLocation(program,\r\n                &quot;uColorFilter.factor&quot;);\r\n        setUniformMatrix4f(colorFactorLocation, colorFilterFactor);\r\n        final int colorShiftLocation = GLES20.glGetUniformLocation(program,\r\n                &quot;uColorFilter.shift&quot;);\r\n        setFloatVec4(colorShiftLocation, colorFilterShift);\r\n    }\r\n\r\nFeel free to use the [gist][4] with the working subclass. Just instantiate it and pass to the `GPUImageView`:\r\n\r\n    mBlendedImageView.setFilter(new ColorMatrixSubtractFilter(new float[] {\r\n        0.393f, 0.7689999f, 0.18899999f, 0, 0,\r\n        0.349f, 0.6859999f, 0.16799999f, 0, 0,\r\n        0.272f, 0.5339999f, 0.13099999f, 0, 0,\r\n        0,      0,         0,            1, 0\r\n    }));\r\n\r\nOn the right you can see the output of subtracted filter applied to the image on the left:\r\n\r\n[![Blended image][5]][5]\r\n\r\n  [1]: https://stackoverflow.com/questions/33358030\r\n  [2]: https://stackoverflow.com/a/53732051/5690248\r\n  [3]: https://stackoverflow.com/users/2878070\r\n  [4]: https://gist.github.com/TheDreamsWind/d724a0f7a56bf95894cfa4d46b9d4347\r\n  [5]: https://i.stack.imgur.com/EBILJ.png\r\n\r\n","title":"How do I &quot;subtract&quot; a color filter using GPUImageLibrary?","body":"<h3>Disclaimer</h3>\n<p>Originally I answered <a href=\"https://stackoverflow.com/questions/33358030\">another question</a> from the same author and it seems was asked within the same problem. I decided not to mark this one as a duplicate, because the first question doesn't have context of using the <code>GPUImageLibrary</code>, which makes the things way simpler. However I don't want to overact, so if you need any additional details, please refer to <a href=\"https://stackoverflow.com/a/53732051/5690248\">the original answer</a>. Here I'll merely outline the solution.</p>\n<hr />\n<p>You don't actually need to extend the <code>GPUImageSubtractBlendFilter</code> or any descendants of the <code>GPUImageTwoInputFilter</code>, because (as correctly was noted by <a href=\"https://stackoverflow.com/users/2878070\">Sergio</a>) you should deal with only one instance of texture. Instead define your own fragment shader that will take a color filter, apply it and subtract the resulting\nvalue from original pixel:</p>\n<pre><code>precision mediump float;\nstruct ColorFilter {\n  mat4 factor;\n  vec4 shift;\n};\nuniform sampler2D inputImageTexture;\nuniform ColorFilter uColorFilter;\nvarying vec2 textureCoordinate;\nvoid main() {\n  vec4 originalColor = texture2D(inputImageTexture, textureCoordinate);\n  originalColor.rgb *= originalColor.a;\n  vec4 filteredColor = (originalColor * uColorFilter.factor) + uColorFilter.shift;\n  filteredColor.rgb *= filteredColor.a;\n  gl_FragColor = vec4(originalColor.rgb - filteredColor.rgb, originalColor.a);\n}\n</code></pre>\n<p>And now just attach your color filter matrix to the shader:</p>\n<pre><code>@Override\npublic void onInitialized() {\n    super.onInitialized();\n    attachColorFilter(getProgram());\n}\n\n// ========================================== //\n// Private\n// ========================================== //\n\nprivate void attachColorFilter(int program) {\n    final float[] colorFilterFactor = new float[4 * 4];\n    final float[] colorFilterShift = new float[4];\n    for (int i = 0; i &lt; mColorFilter.length; i++) {\n        final float value = mColorFilter[i];\n        final int calculateIndex = i + 1;\n        if (calculateIndex % 5 == 0) {\n            colorFilterShift[calculateIndex / 5 - 1] = value / 255;\n        } else {\n            colorFilterFactor[i - calculateIndex / 5] = value;\n        }\n    }\n    final int colorFactorLocation = GLES20.glGetUniformLocation(program,\n            &quot;uColorFilter.factor&quot;);\n    setUniformMatrix4f(colorFactorLocation, colorFilterFactor);\n    final int colorShiftLocation = GLES20.glGetUniformLocation(program,\n            &quot;uColorFilter.shift&quot;);\n    setFloatVec4(colorShiftLocation, colorFilterShift);\n}\n</code></pre>\n<p>Feel free to use the <a href=\"https://gist.github.com/TheDreamsWind/d724a0f7a56bf95894cfa4d46b9d4347\" rel=\"nofollow noreferrer\">gist</a> with the working subclass. Just instantiate it and pass to the <code>GPUImageView</code>:</p>\n<pre><code>mBlendedImageView.setFilter(new ColorMatrixSubtractFilter(new float[] {\n    0.393f, 0.7689999f, 0.18899999f, 0, 0,\n    0.349f, 0.6859999f, 0.16799999f, 0, 0,\n    0.272f, 0.5339999f, 0.13099999f, 0, 0,\n    0,      0,         0,            1, 0\n}));\n</code></pre>\n<p>On the right you can see the output of subtracted filter applied to the image on the left:</p>\n<p><a href=\"https://i.stack.imgur.com/EBILJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EBILJ.png\" alt=\"Blended image\" /></a></p>\n"}],"owner":{"account_id":2985836,"reputation":2698,"user_id":2534694,"accept_rate":32,"display_name":"Zen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":943,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"answer_count":2,"score":46,"last_activity_date":1669237455,"creation_date":1445907431,"question_id":33358248,"body_markdown":"Currently the BlendModes (Subtract, Exclusion, etc.) use the LauncherImage as the mask. Can I apply these BlendModes to a ColorMatrix?\r\n\r\nI&#39;m using the [GPUImageLibrary][1]:\r\n\r\n    colorMatrix[\r\n        0.393, 0.7689999, 0.18899999, 0, 0,\r\n        0.349, 0.6859999, 0.16799999, 0, 0,\r\n        0.272, 0.5339999, 0.13099999, 0, 0,\r\n        0,     0,         0,          1, 0];\r\n\r\n**SubtractBlendFilter.java**\r\n\r\n    public class GPUImageSubtractBlendFilter extends GPUImageTwoInputFilter {\r\n        public static final String SUBTRACT_BLEND_FRAGMENT_SHADER = &quot;varying highp vec2 textureCoordinate;\\n&quot; +\r\n                &quot; varying highp vec2 textureCoordinate2;\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot; uniform sampler2D inputImageTexture;\\n&quot; +\r\n                &quot; uniform sampler2D inputImageTexture2;\\n&quot; +\r\n                &quot; \\n&quot; +\r\n                &quot; void main()\\n&quot; +\r\n                &quot; {\\n&quot; +\r\n                &quot;   lowp vec4 textureColor = texture2D(inputImageTexture, textureCoordinate);\\n&quot; +\r\n                &quot;   lowp vec4 textureColor2 = texture2D(inputImageTexture2, textureCoordinate2);\\n&quot; +\r\n                &quot;\\n&quot; +\r\n                &quot;   gl_FragColor = vec4(textureColor.rgb - textureColor2.rgb, textureColor.a);\\n&quot; +\r\n                &quot; }&quot;;\r\n\r\n        public GPUImageSubtractBlendFilter() {\r\n            super(SUBTRACT_BLEND_FRAGMENT_SHADER);\r\n        }\r\n    }\r\n\r\n**GPUIMageTwoInputFilter.java**\r\n\r\n    public class GPUImageTwoInputFilter extends GPUImageFilter {\r\n        private static final String VERTEX_SHADER = &quot;attribute vec4 position;\\n&quot; +\r\n                &quot;attribute vec4 inputTextureCoordinate;\\n&quot; +\r\n                &quot;attribute vec4 inputTextureCoordinate2;\\n&quot; +\r\n                &quot; \\n&quot; +\r\n                &quot;varying vec2 textureCoordinate;\\n&quot; +\r\n                &quot;varying vec2 textureCoordinate2;\\n&quot; +\r\n                &quot; \\n&quot; +\r\n                &quot;void main()\\n&quot; +\r\n                &quot;{\\n&quot; +\r\n                &quot;    gl_Position = position;\\n&quot; +\r\n                &quot;    textureCoordinate = inputTextureCoordinate.xy;\\n&quot; +\r\n                &quot;    textureCoordinate2 = inputTextureCoordinate2.xy;\\n&quot; +\r\n                &quot;}&quot;;\r\n\r\n        public int mFilterSecondTextureCoordinateAttribute;\r\n        public int mFilterInputTextureUniform2;\r\n        public int mFilterSourceTexture2 = OpenGlUtils.NO_TEXTURE;\r\n        private ByteBuffer mTexture2CoordinatesBuffer;\r\n        private Bitmap mBitmap;\r\n\r\n        public GPUImageTwoInputFilter(String fragmentShader) {\r\n            this(VERTEX_SHADER, fragmentShader);\r\n        }\r\n\r\n        public GPUImageTwoInputFilter(String vertexShader, String fragmentShader) {\r\n            super(vertexShader, fragmentShader);\r\n            setRotation(Rotation.NORMAL, false, false);\r\n        }\r\n\r\n        @Override\r\n        public void onInit() {\r\n            super.onInit();\r\n\r\n            mFilterSecondTextureCoordinateAttribute = GLES20.glGetAttribLocation(getProgram(), &quot;inputTextureCoordinate2&quot;);\r\n            mFilterInputTextureUniform2 = GLES20.glGetUniformLocation(getProgram(), &quot;inputImageTexture2&quot;); // This does assume a name of &quot;inputImageTexture2&quot; for second input texture in the fragment shader\r\n            GLES20.glEnableVertexAttribArray(mFilterSecondTextureCoordinateAttribute);\r\n\r\n            if (mBitmap != null&amp;&amp;!mBitmap.isRecycled()) {\r\n                setBitmap(mBitmap);\r\n            }\r\n        }\r\n\r\n        public void setBitmap(final Bitmap bitmap) {\r\n            if (bitmap != null &amp;&amp; bitmap.isRecycled()) {\r\n                return;\r\n            }\r\n            mBitmap = bitmap;\r\n            if (mBitmap == null) {\r\n                return;\r\n            }\r\n            runOnDraw(new Runnable() {\r\n                public void run() {\r\n                    if (mFilterSourceTexture2 == OpenGlUtils.NO_TEXTURE) {\r\n                        if (bitmap == null || bitmap.isRecycled()) {\r\n                            return;\r\n                        }\r\n                        GLES20.glActiveTexture(GLES20.GL_TEXTURE3);\r\n                        mFilterSourceTexture2 = OpenGlUtils.loadTexture(bitmap, OpenGlUtils.NO_TEXTURE, false);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public Bitmap getBitmap() {\r\n            return mBitmap;\r\n        }\r\n\r\n        public void recycleBitmap() {\r\n            if (mBitmap != null &amp;&amp; !mBitmap.isRecycled()) {\r\n                mBitmap.recycle();\r\n                mBitmap = null;\r\n            }\r\n        }\r\n\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            GLES20.glDeleteTextures(1, new int[]{\r\n                    mFilterSourceTexture2\r\n            }, 0);\r\n            mFilterSourceTexture2 = OpenGlUtils.NO_TEXTURE;\r\n        }\r\n\r\n        @Override\r\n        protected void onDrawArraysPre() {\r\n            GLES20.glEnableVertexAttribArray(mFilterSecondTextureCoordinateAttribute);\r\n            GLES20.glActiveTexture(GLES20.GL_TEXTURE3);\r\n            GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, mFilterSourceTexture2);\r\n            GLES20.glUniform1i(mFilterInputTextureUniform2, 3);\r\n\r\n            mTexture2CoordinatesBuffer.position(0);\r\n            GLES20.glVertexAttribPointer(mFilterSecondTextureCoordinateAttribute, 2, GLES20.GL_FLOAT, false, 0, mTexture2CoordinatesBuffer);\r\n        }\r\n\r\n        public void setRotation(final Rotation rotation, final boolean flipHorizontal, final boolean flipVertical) {\r\n            float[] buffer = TextureRotationUtil.getRotation(rotation, flipHorizontal, flipVertical);\r\n\r\n            ByteBuffer bBuffer = ByteBuffer.allocateDirect(32).order(ByteOrder.nativeOrder());\r\n            FloatBuffer fBuffer = bBuffer.asFloatBuffer();\r\n            fBuffer.put(buffer);\r\n            fBuffer.flip();\r\n\r\n            mTexture2CoordinatesBuffer = bBuffer;\r\n        }\r\n    }\r\n\r\nMy guess it involves changing something with `String SUBTRACT_BLEND_GRAGMENT_SHADER` &amp; `String VERTEX_SHADER`  .\r\n\r\n  [1]: https://github.com/CyberAgent/android-gpuimage/tree/master/library/src/jp/co/cyberagent/android/gpuimage\r\n\r\n","title":"How do I &quot;subtract&quot; a color filter using GPUImageLibrary?","body":"<p>Currently the BlendModes (Subtract, Exclusion, etc.) use the LauncherImage as the mask. Can I apply these BlendModes to a ColorMatrix?</p>\n\n<p>I'm using the <a href=\"https://github.com/CyberAgent/android-gpuimage/tree/master/library/src/jp/co/cyberagent/android/gpuimage\" rel=\"nofollow noreferrer\">GPUImageLibrary</a>:</p>\n\n<pre><code>colorMatrix[\n    0.393, 0.7689999, 0.18899999, 0, 0,\n    0.349, 0.6859999, 0.16799999, 0, 0,\n    0.272, 0.5339999, 0.13099999, 0, 0,\n    0,     0,         0,          1, 0];\n</code></pre>\n\n<p><strong>SubtractBlendFilter.java</strong></p>\n\n<pre><code>public class GPUImageSubtractBlendFilter extends GPUImageTwoInputFilter {\n    public static final String SUBTRACT_BLEND_FRAGMENT_SHADER = \"varying highp vec2 textureCoordinate;\\n\" +\n            \" varying highp vec2 textureCoordinate2;\\n\" +\n            \"\\n\" +\n            \" uniform sampler2D inputImageTexture;\\n\" +\n            \" uniform sampler2D inputImageTexture2;\\n\" +\n            \" \\n\" +\n            \" void main()\\n\" +\n            \" {\\n\" +\n            \"   lowp vec4 textureColor = texture2D(inputImageTexture, textureCoordinate);\\n\" +\n            \"   lowp vec4 textureColor2 = texture2D(inputImageTexture2, textureCoordinate2);\\n\" +\n            \"\\n\" +\n            \"   gl_FragColor = vec4(textureColor.rgb - textureColor2.rgb, textureColor.a);\\n\" +\n            \" }\";\n\n    public GPUImageSubtractBlendFilter() {\n        super(SUBTRACT_BLEND_FRAGMENT_SHADER);\n    }\n}\n</code></pre>\n\n<p><strong>GPUIMageTwoInputFilter.java</strong></p>\n\n<pre><code>public class GPUImageTwoInputFilter extends GPUImageFilter {\n    private static final String VERTEX_SHADER = \"attribute vec4 position;\\n\" +\n            \"attribute vec4 inputTextureCoordinate;\\n\" +\n            \"attribute vec4 inputTextureCoordinate2;\\n\" +\n            \" \\n\" +\n            \"varying vec2 textureCoordinate;\\n\" +\n            \"varying vec2 textureCoordinate2;\\n\" +\n            \" \\n\" +\n            \"void main()\\n\" +\n            \"{\\n\" +\n            \"    gl_Position = position;\\n\" +\n            \"    textureCoordinate = inputTextureCoordinate.xy;\\n\" +\n            \"    textureCoordinate2 = inputTextureCoordinate2.xy;\\n\" +\n            \"}\";\n\n    public int mFilterSecondTextureCoordinateAttribute;\n    public int mFilterInputTextureUniform2;\n    public int mFilterSourceTexture2 = OpenGlUtils.NO_TEXTURE;\n    private ByteBuffer mTexture2CoordinatesBuffer;\n    private Bitmap mBitmap;\n\n    public GPUImageTwoInputFilter(String fragmentShader) {\n        this(VERTEX_SHADER, fragmentShader);\n    }\n\n    public GPUImageTwoInputFilter(String vertexShader, String fragmentShader) {\n        super(vertexShader, fragmentShader);\n        setRotation(Rotation.NORMAL, false, false);\n    }\n\n    @Override\n    public void onInit() {\n        super.onInit();\n\n        mFilterSecondTextureCoordinateAttribute = GLES20.glGetAttribLocation(getProgram(), \"inputTextureCoordinate2\");\n        mFilterInputTextureUniform2 = GLES20.glGetUniformLocation(getProgram(), \"inputImageTexture2\"); // This does assume a name of \"inputImageTexture2\" for second input texture in the fragment shader\n        GLES20.glEnableVertexAttribArray(mFilterSecondTextureCoordinateAttribute);\n\n        if (mBitmap != null&amp;&amp;!mBitmap.isRecycled()) {\n            setBitmap(mBitmap);\n        }\n    }\n\n    public void setBitmap(final Bitmap bitmap) {\n        if (bitmap != null &amp;&amp; bitmap.isRecycled()) {\n            return;\n        }\n        mBitmap = bitmap;\n        if (mBitmap == null) {\n            return;\n        }\n        runOnDraw(new Runnable() {\n            public void run() {\n                if (mFilterSourceTexture2 == OpenGlUtils.NO_TEXTURE) {\n                    if (bitmap == null || bitmap.isRecycled()) {\n                        return;\n                    }\n                    GLES20.glActiveTexture(GLES20.GL_TEXTURE3);\n                    mFilterSourceTexture2 = OpenGlUtils.loadTexture(bitmap, OpenGlUtils.NO_TEXTURE, false);\n                }\n            }\n        });\n    }\n\n    public Bitmap getBitmap() {\n        return mBitmap;\n    }\n\n    public void recycleBitmap() {\n        if (mBitmap != null &amp;&amp; !mBitmap.isRecycled()) {\n            mBitmap.recycle();\n            mBitmap = null;\n        }\n    }\n\n    public void onDestroy() {\n        super.onDestroy();\n        GLES20.glDeleteTextures(1, new int[]{\n                mFilterSourceTexture2\n        }, 0);\n        mFilterSourceTexture2 = OpenGlUtils.NO_TEXTURE;\n    }\n\n    @Override\n    protected void onDrawArraysPre() {\n        GLES20.glEnableVertexAttribArray(mFilterSecondTextureCoordinateAttribute);\n        GLES20.glActiveTexture(GLES20.GL_TEXTURE3);\n        GLES20.glBindTexture(GLES20.GL_TEXTURE_2D, mFilterSourceTexture2);\n        GLES20.glUniform1i(mFilterInputTextureUniform2, 3);\n\n        mTexture2CoordinatesBuffer.position(0);\n        GLES20.glVertexAttribPointer(mFilterSecondTextureCoordinateAttribute, 2, GLES20.GL_FLOAT, false, 0, mTexture2CoordinatesBuffer);\n    }\n\n    public void setRotation(final Rotation rotation, final boolean flipHorizontal, final boolean flipVertical) {\n        float[] buffer = TextureRotationUtil.getRotation(rotation, flipHorizontal, flipVertical);\n\n        ByteBuffer bBuffer = ByteBuffer.allocateDirect(32).order(ByteOrder.nativeOrder());\n        FloatBuffer fBuffer = bBuffer.asFloatBuffer();\n        fBuffer.put(buffer);\n        fBuffer.flip();\n\n        mTexture2CoordinatesBuffer = bBuffer;\n    }\n}\n</code></pre>\n\n<p>My guess it involves changing something with <code>String SUBTRACT_BLEND_GRAGMENT_SHADER</code> &amp; <code>String VERTEX_SHADER</code>  .</p>\n"},{"tags":["java","pattern-matching","assert","instanceof"],"answers":[{"comments":[{"owner":{"account_id":4970502,"reputation":3,"user_id":20584740,"display_name":"werkderk"},"score":1,"creation_date":1669236516,"post_id":74552786,"comment_id":131601539,"body_markdown":"`-ea` is a run-time flag, right? That should not affect the compiler?","body":"<code>-ea</code> is a run-time flag, right? That should not affect the compiler?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1669236788,"post_id":74552786,"comment_id":131601628,"body_markdown":"Yes, @werkderk, `-ea` is a runtime flag.  So no, the compiler&#39;s behavior cannot anticipate the value provided.  But on the other hand, the compiled code must work when `-ea` is *not* provided, in which case the `instanceof` is not executed.  It follows that the scope of the pattern-matched identifier cannot extend outside the `assert` statement.","body":"Yes, @werkderk, <code>-ea</code> is a runtime flag.  So no, the compiler&#39;s behavior cannot anticipate the value provided.  But on the other hand, the compiled code must work when <code>-ea</code> is <i>not</i> provided, in which case the <code>instanceof</code> is not executed.  It follows that the scope of the pattern-matched identifier cannot extend outside the <code>assert</code> statement."},{"owner":{"account_id":4970502,"reputation":3,"user_id":20584740,"display_name":"werkderk"},"score":0,"creation_date":1669236993,"post_id":74552786,"comment_id":131601687,"body_markdown":"Thanks @JohnBollinger, makes sense. So in theory my convoluted _insideMessage()_ example should work, as the message expression is only evaluated if the assertion fails.\nBut nobody would write such an assert (hopefully!)","body":"Thanks @JohnBollinger, makes sense. So in theory my convoluted <i>insideMessage()</i> example should work, as the message expression is only evaluated if the assertion fails. But nobody would write such an assert (hopefully!)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678450890,"post_id":74552786,"comment_id":133539399,"body_markdown":"@werkderk first of all, assertions should not applied to parameters. Assertions are meant to check invariants the code is supposed to maintain and incoming parameters are the opposite of that. The standard idiom is an explicit check rejecting illegal arguments with an `IllegalArgumentException`. The instanceof pattern matching works smoothly with the idiomatic approach. It would be logical if your example in `insideMessage` worked but as discussed in [this Q&amp;A](https://stackoverflow.com/q/75679239/2711488) only constructs named by the JLS explicitly “should work”. And assert is not among them.","body":"@werkderk first of all, assertions should not applied to parameters. Assertions are meant to check invariants the code is supposed to maintain and incoming parameters are the opposite of that. The standard idiom is an explicit check rejecting illegal arguments with an <code>IllegalArgumentException</code>. The instanceof pattern matching works smoothly with the idiomatic approach. It would be logical if your example in <code>insideMessage</code> worked but as discussed in <a href=\"https://stackoverflow.com/q/75679239/2711488\">this Q&amp;A</a> only constructs named by the JLS explicitly “should work”. And assert is not among them."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669237341,"creation_date":1669236268,"answer_id":74552786,"question_id":74552755,"body_markdown":"`assert` statements are _only_ executed when assertions are enabled with `-ea`. Without `-ea`, the code is _not_ executed, therefore the variable is never assigned/does not exist (this is the default).\r\n\r\n    private static void afterAssert(Object obj) {\r\n        assert obj instanceof String;\r\n        ((String) str).length();\r\n    }\r\n\r\nBecause the compiler cannot know if the `assert` statement will be executed, it cannot rely on variables declared within the statement to be available outside of the statement (because the statement might never have been executed).","title":"Combining assert statement and instanceof pattern matching","body":"<p><code>assert</code> statements are <em>only</em> executed when assertions are enabled with <code>-ea</code>. Without <code>-ea</code>, the code is <em>not</em> executed, therefore the variable is never assigned/does not exist (this is the default).</p>\n<pre><code>private static void afterAssert(Object obj) {\n    assert obj instanceof String;\n    ((String) str).length();\n}\n</code></pre>\n<p>Because the compiler cannot know if the <code>assert</code> statement will be executed, it cannot rely on variables declared within the statement to be available outside of the statement (because the statement might never have been executed).</p>\n"}],"owner":{"account_id":4970502,"reputation":3,"user_id":20584740,"display_name":"werkderk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74552786,"answer_count":1,"score":0,"last_activity_date":1669237341,"creation_date":1669236114,"question_id":74552755,"body_markdown":"In Java 19, I&#39;m trying to use `instanceof` pattern matching inside an `assert` statement.\r\nI would expect the matched type would be available after the statement, but the Java compiler does not recognize the new variable.\r\n\r\nWe create a variable `Object obj`, and we cannot know whether it contains an `Integer` or a `String`.\r\nWe pass the variable to two test methods.\r\n\r\n\r\n```java\r\npublic class AssertPatternMatching {\r\n    public static void main(String[] args) {\r\n        Object obj = args.length == 0 ? Integer.valueOf(42) : &quot;Hello&quot;;\r\n\r\n        afterAssert(obj);\r\n        insideMessage(obj);\r\n    }\r\n```\r\n\r\nIn method `afterAssert()`, we assert that `obj` is a `String`, and bind the string to the new variable `str` via `instanceof` pattern matching.\r\nI would expect `str` to be known and usable in the next line.\r\nHowever, the compiler does not know symbol `str`.\r\n\r\n\r\n```java\r\n    private static void afterAssert(Object obj) {\r\n        assert obj instanceof String str;\r\n        str.length(); // javac: cannot find symbol variable str\r\n    }\r\n```\r\n\r\nIn method `insideMessage()`, we use a convoluted `assert` statement to check that `obj` is _not_ a `String`. If it would be, the assertion fails, and we can provide a message.\r\nAs the `instanceof` check is negated, pattern matched `str` variable _should_ be available for the error message.\r\nHowever, the compiler again does not know symbol `str`.\r\n\r\n```java\r\n    private static void insideMessage(Object obj) {\r\n        assert !(obj instanceof String str) : &quot;Is a string: &quot; + str.length();\r\n        // line above: javac: cannot find symbol variable str\r\n        obj.hashCode();\r\n    }\r\n```\r\n\r\nIt works if we replace `assert` statements with `if`:\r\n\r\n\r\n```java\r\nprivate static void afterAssertIf(Object obj) {\r\n    if(obj instanceof String str) {\r\n        str.length();\r\n    } else {\r\n        throw new AssertionError();\r\n    }\r\n}\r\n\r\nprivate static void insideMessageIf(Object obj) {\r\n    if (!(obj instanceof String str)) {\r\n        obj.hashCode();\r\n    } else {\r\n        throw new AssertionError(&quot;Is a string: &quot;+ str.length());\r\n    }\r\n}\r\n```\r\n\r\nThe _insideMessage()_ example is really an edge case, so I understand it&#39;s not supported.\r\nI would have expected _afterAssert()_ to work, however.\r\nIs this a deliberate design choice or a bug?\r\nIf deliberate, what&#39;s the rationale?\r\n\r\nComplete code at https://gist.github.com/enikao/57bb1b10ce3126494ec4baa2bc7db2df\r\n","title":"Combining assert statement and instanceof pattern matching","body":"<p>In Java 19, I'm trying to use <code>instanceof</code> pattern matching inside an <code>assert</code> statement.\nI would expect the matched type would be available after the statement, but the Java compiler does not recognize the new variable.</p>\n<p>We create a variable <code>Object obj</code>, and we cannot know whether it contains an <code>Integer</code> or a <code>String</code>.\nWe pass the variable to two test methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AssertPatternMatching {\n    public static void main(String[] args) {\n        Object obj = args.length == 0 ? Integer.valueOf(42) : &quot;Hello&quot;;\n\n        afterAssert(obj);\n        insideMessage(obj);\n    }\n</code></pre>\n<p>In method <code>afterAssert()</code>, we assert that <code>obj</code> is a <code>String</code>, and bind the string to the new variable <code>str</code> via <code>instanceof</code> pattern matching.\nI would expect <code>str</code> to be known and usable in the next line.\nHowever, the compiler does not know symbol <code>str</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static void afterAssert(Object obj) {\n        assert obj instanceof String str;\n        str.length(); // javac: cannot find symbol variable str\n    }\n</code></pre>\n<p>In method <code>insideMessage()</code>, we use a convoluted <code>assert</code> statement to check that <code>obj</code> is <em>not</em> a <code>String</code>. If it would be, the assertion fails, and we can provide a message.\nAs the <code>instanceof</code> check is negated, pattern matched <code>str</code> variable <em>should</em> be available for the error message.\nHowever, the compiler again does not know symbol <code>str</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static void insideMessage(Object obj) {\n        assert !(obj instanceof String str) : &quot;Is a string: &quot; + str.length();\n        // line above: javac: cannot find symbol variable str\n        obj.hashCode();\n    }\n</code></pre>\n<p>It works if we replace <code>assert</code> statements with <code>if</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void afterAssertIf(Object obj) {\n    if(obj instanceof String str) {\n        str.length();\n    } else {\n        throw new AssertionError();\n    }\n}\n\nprivate static void insideMessageIf(Object obj) {\n    if (!(obj instanceof String str)) {\n        obj.hashCode();\n    } else {\n        throw new AssertionError(&quot;Is a string: &quot;+ str.length());\n    }\n}\n</code></pre>\n<p>The <em>insideMessage()</em> example is really an edge case, so I understand it's not supported.\nI would have expected <em>afterAssert()</em> to work, however.\nIs this a deliberate design choice or a bug?\nIf deliberate, what's the rationale?</p>\n<p>Complete code at <a href=\"https://gist.github.com/enikao/57bb1b10ce3126494ec4baa2bc7db2df\" rel=\"nofollow noreferrer\">https://gist.github.com/enikao/57bb1b10ce3126494ec4baa2bc7db2df</a></p>\n"},{"tags":["java","multithreading","jdbc","concurrency"],"comments":[{"owner":{"account_id":274366,"reputation":1144,"user_id":566556,"display_name":"Knut Forkalsrud"},"score":0,"creation_date":1669240135,"post_id":74552943,"comment_id":131602464,"body_markdown":"You may be looking for `java.util.concurrent.CompletableFuture`","body":"You may be looking for <code>java.util.concurrent.CompletableFuture</code>"},{"owner":{"account_id":10899420,"reputation":652,"user_id":8832488,"display_name":"belhadj haythem"},"score":0,"creation_date":1669913312,"post_id":74552943,"comment_id":131756087,"body_markdown":"in my case , CompletableFuture is not running in parallel.","body":"in my case , CompletableFuture is not running in parallel."},{"owner":{"account_id":10899420,"reputation":652,"user_id":8832488,"display_name":"belhadj haythem"},"score":0,"creation_date":1669913337,"post_id":74552943,"comment_id":131756093,"body_markdown":"I meant that time processing with or without it its the same.","body":"I meant that time processing with or without it its the same."}],"owner":{"account_id":10899420,"reputation":652,"user_id":8832488,"display_name":"belhadj haythem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669237195,"creation_date":1669237195,"question_id":74552943,"body_markdown":"I&#39;m trying to use a multithreaded program that acts as below :\r\n{X1, X2, ..., Xn} are objects that will be in a list.\r\n\r\neach of the **X** objects, will need to call an **Y** function, and **Y** function will need to call **Z** function.\r\n\r\nExample : \r\n\r\n    void getX() { \r\n          ....\r\n     X.setY(getY());\r\n    }\r\n\r\n    Y getY() {\r\n      ...\r\n     Y.setZ(getZ())\r\n    }\r\n\r\n**What i want is to split my getX functions into several threads to be run in parallel, cause i&#39;m calling it multiple times (from a for loop).**\r\n\r\n**NB**: getX, getY and getZ are using JDBC connection to retrieve data from database.\r\n\r\nI did something like : \r\n\r\n    getX() {\r\n     List&lt;X&gt; list = new ArrayList&lt;&gt;();\r\n     Runnable task = () -&gt; {\r\n      X x = new X();\r\n      x.setY(getY())\r\n      list.add(x)\r\n     }\r\n     Thread thread = new Thread(task);\r\n     thread.start();\r\n    }\r\n\r\nI know i&#39;m doing it wrong as the values of Y and Z may not be filled as its concurrent.\r\nI&#39;m little confused for how to do it . Any suggestions please ?","title":"Using multithreading with JDBC connection java in multiple levels","body":"<p>I'm trying to use a multithreaded program that acts as below :\n{X1, X2, ..., Xn} are objects that will be in a list.</p>\n<p>each of the <strong>X</strong> objects, will need to call an <strong>Y</strong> function, and <strong>Y</strong> function will need to call <strong>Z</strong> function.</p>\n<p>Example :</p>\n<pre><code>void getX() { \n      ....\n X.setY(getY());\n}\n\nY getY() {\n  ...\n Y.setZ(getZ())\n}\n</code></pre>\n<p><strong>What i want is to split my getX functions into several threads to be run in parallel, cause i'm calling it multiple times (from a for loop).</strong></p>\n<p><strong>NB</strong>: getX, getY and getZ are using JDBC connection to retrieve data from database.</p>\n<p>I did something like :</p>\n<pre><code>getX() {\n List&lt;X&gt; list = new ArrayList&lt;&gt;();\n Runnable task = () -&gt; {\n  X x = new X();\n  x.setY(getY())\n  list.add(x)\n }\n Thread thread = new Thread(task);\n thread.start();\n}\n</code></pre>\n<p>I know i'm doing it wrong as the values of Y and Z may not be filled as its concurrent.\nI'm little confused for how to do it . Any suggestions please ?</p>\n"},{"tags":["java","mapstruct","protobuf-java"],"comments":[{"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"score":0,"creation_date":1669237468,"post_id":74552929,"comment_id":131601800,"body_markdown":"I&#39;d suggest to re-arrange the order of the annotation processors in your pom.xml so that MapStruct runs last, after Lombok and protobuf.","body":"I&#39;d suggest to re-arrange the order of the annotation processors in your pom.xml so that MapStruct runs last, after Lombok and protobuf."},{"owner":{"account_id":1216174,"reputation":1214,"user_id":1183729,"accept_rate":49,"display_name":"greengold"},"score":0,"creation_date":1669280374,"post_id":74552929,"comment_id":131610224,"body_markdown":"trying to rearrange that left and right, but doesn&#39;t seem to do anything.","body":"trying to rearrange that left and right, but doesn&#39;t seem to do anything."}],"owner":{"account_id":1216174,"reputation":1214,"user_id":1183729,"accept_rate":49,"display_name":"greengold"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669237096,"creation_date":1669237096,"question_id":74552929,"body_markdown":"I am mapping protobtuff generated classes to Lombok annotated DTOs.\r\n\r\nmy maven config:\r\n```\r\n&lt;properties&gt;\r\n        &lt;mapstruct.version&gt;1.5.1.Final&lt;/mapstruct.version&gt;\r\n        &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\r\n        &lt;protobuf-spi-impl.version&gt;1.41&lt;/protobuf-spi-impl.version&gt;\r\n&lt;/properties&gt;\r\n...\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.2.0&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;no.entur.mapstruct.spi&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;protobuf-spi-impl&lt;/artifactId&gt;\r\n                            &lt;version&gt;${protobuf-spi-impl.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                        &lt;version&gt;0.2.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;no.entur.mapstruct.spi&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;protobuf-spi-impl&lt;/artifactId&gt;\r\n                        &lt;version&gt;${protobuf-spi-impl.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\n...\r\n```\r\n\r\none of mapper interfaces:\r\n```\r\n@Mapper(\r\n        collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED,\r\n        componentModel = &quot;spring&quot;,\r\n        uses = {ProtobufStandardMappings.class}\r\n)\r\npublic interface BaseDataMapper {\r\n    BaseDataDto map(Common.BaseData baseData);\r\n\r\n    Common.BaseData map(BaseDataDto dto);\r\n}\r\n```\r\n\r\nand finally the error I&#39;m getting:\r\n```\r\nNo implementation was created for BaseDataMapper due to having a problem in the erroneous element com.google.type.Date. Hint: this often means that some other annotation processor was supposed to process the erroneous element. You can also enable MapStruct verbose mode by setting -Amapstruct.verbose=true as a compilation argument.\r\n```\r\n\r\nso why is that, what should I change?\r\nthanks","title":"mapstruct for protobuff classess with protobuf-spi-impl","body":"<p>I am mapping protobtuff generated classes to Lombok annotated DTOs.</p>\n<p>my maven config:</p>\n<pre><code>&lt;properties&gt;\n        &lt;mapstruct.version&gt;1.5.1.Final&lt;/mapstruct.version&gt;\n        &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\n        &lt;protobuf-spi-impl.version&gt;1.41&lt;/protobuf-spi-impl.version&gt;\n&lt;/properties&gt;\n...\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/path&gt;\n\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n\n                        &lt;path&gt;\n                            &lt;groupId&gt;no.entur.mapstruct.spi&lt;/groupId&gt;\n                            &lt;artifactId&gt;protobuf-spi-impl&lt;/artifactId&gt;\n                            &lt;version&gt;${protobuf-spi-impl.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${mapstruct.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;0.2.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;no.entur.mapstruct.spi&lt;/groupId&gt;\n                        &lt;artifactId&gt;protobuf-spi-impl&lt;/artifactId&gt;\n                        &lt;version&gt;${protobuf-spi-impl.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n\n...\n</code></pre>\n<p>one of mapper interfaces:</p>\n<pre><code>@Mapper(\n        collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED,\n        componentModel = &quot;spring&quot;,\n        uses = {ProtobufStandardMappings.class}\n)\npublic interface BaseDataMapper {\n    BaseDataDto map(Common.BaseData baseData);\n\n    Common.BaseData map(BaseDataDto dto);\n}\n</code></pre>\n<p>and finally the error I'm getting:</p>\n<pre><code>No implementation was created for BaseDataMapper due to having a problem in the erroneous element com.google.type.Date. Hint: this often means that some other annotation processor was supposed to process the erroneous element. You can also enable MapStruct verbose mode by setting -Amapstruct.verbose=true as a compilation argument.\n</code></pre>\n<p>so why is that, what should I change?\nthanks</p>\n"},{"tags":["java","spring","spring-boot","exceptionhandler"],"answers":[{"tags":[],"owner":{"account_id":9628035,"reputation":830,"user_id":7147006,"accept_rate":100,"display_name":"KevKosDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1535050328,"creation_date":1535050328,"answer_id":51992509,"question_id":51991992,"body_markdown":"Spring has a built in `ResponseEntityExceptionHandler` for `MethodArgumentNotValidException`. So you have two handlers for the same exception which is not allowed.\r\n\r\nYou can try to override `ResponseEntityExceptionHandler.handleMethodArgumentNotValid()`.","title":"Getting Ambiguous @ExceptionHandler method mapped for MethodArgumentNotValidException while startup of spring boot application","body":"<p>Spring has a built in <code>ResponseEntityExceptionHandler</code> for <code>MethodArgumentNotValidException</code>. So you have two handlers for the same exception which is not allowed.</p>\n\n<p>You can try to override <code>ResponseEntityExceptionHandler.handleMethodArgumentNotValid()</code>.</p>\n"},{"comments":[{"owner":{"account_id":20145110,"reputation":2014,"user_id":14773830,"display_name":"Rahul"},"score":0,"creation_date":1675364373,"post_id":51992525,"comment_id":132918769,"body_markdown":"The method is declared as final, how can you override it?","body":"The method is declared as final, how can you override it?"},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1675425309,"post_id":51992525,"comment_id":132931190,"body_markdown":"`ResponseEntityExceptionHandler#handleMethodArgumentNotValid` is protected and thus one can override it. Not sure about which `final` method you are referring to.","body":"<code>ResponseEntityExceptionHandler#handleMethodArgumentNotValid</code> is protected and thus one can override it. Not sure about which <code>final</code> method you are referring to."}],"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1535050397,"creation_date":1535050397,"answer_id":51992525,"question_id":51991992,"body_markdown":"The problem you experience here is to be expected. You&#39;re effectively extending Spring `ResponseEntityExceptionHandler` which by default already contains a declaration for `MethodArgumentNotValidException` in it&#39;s own `@ExceptionHandler` annotation.\r\n\r\nYou can easily check on this from the source of the class:\r\n\r\nhttps://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.java\r\n\r\nThis is why you see this bit of error in the logs:\r\n\r\n    java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]\r\n\r\nBased on all the above you should remove your own exception handler method and override the ones from it.","title":"Getting Ambiguous @ExceptionHandler method mapped for MethodArgumentNotValidException while startup of spring boot application","body":"<p>The problem you experience here is to be expected. You're effectively extending Spring <code>ResponseEntityExceptionHandler</code> which by default already contains a declaration for <code>MethodArgumentNotValidException</code> in it's own <code>@ExceptionHandler</code> annotation.</p>\n\n<p>You can easily check on this from the source of the class:</p>\n\n<p><a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.java\" rel=\"noreferrer\">https://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.java</a></p>\n\n<p>This is why you see this bit of error in the logs:</p>\n\n<pre><code>java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]\n</code></pre>\n\n<p>Based on all the above you should remove your own exception handler method and override the ones from it.</p>\n"},{"comments":[{"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"score":1,"creation_date":1614155293,"post_id":51993609,"comment_id":117296024,"body_markdown":"Response i greate, but why not just :\n\n\n\n    `@Override\n    protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n                                                                  HttpHeaders headers, HttpStatus status, WebRequest request) {\n        List&lt;String&gt; validationList = ex.getBindingResult().getFieldErrors()\n                .stream()\n                .map(fieldError -&gt; fieldError.getDefaultMessage())\n                .collect(Collectors.toList());\n        return new ResponseEntity&lt;&gt;(validationList, status);\n    }`","body":"Response i greate, but why not just :        <code>@Override     protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,                                                                   HttpHeaders headers, HttpStatus status, WebRequest request) {         List&lt;String&gt; validationList = ex.getBindingResult().getFieldErrors()                 .stream()                 .map(fieldError -&gt; fieldError.getDefaultMessage())                 .collect(Collectors.toList());         return new ResponseEntity&lt;&gt;(validationList, status);     }</code>"},{"owner":{"account_id":11805990,"reputation":840,"user_id":8638467,"display_name":"Sumit Monapara"},"score":0,"creation_date":1696284481,"post_id":51993609,"comment_id":136131083,"body_markdown":"`@Override` was working properly in Spring 2.0, but I tried to upgrade to Spring 3.0, and, I am not able to @Override this method anymore, is there any solution to that?","body":"<code>@Override</code> was working properly in Spring 2.0, but I tried to upgrade to Spring 3.0, and, I am not able to @Override this method anymore, is there any solution to that?"}],"tags":[],"owner":{"account_id":13546120,"reputation":992,"user_id":9772373,"display_name":"chaitanya Rudrabhatla"},"comment_count":2,"down_vote_count":1,"up_vote_count":75,"is_accepted":true,"score":74,"last_activity_date":1535055141,"creation_date":1535055141,"answer_id":51993609,"question_id":51991992,"body_markdown":"The ambiguity is because you have the same method -  @ExceptionHandler in both the classes - ResponseEntityExceptionHandler, MethodArgumentNotValidException. You need to write the overridden method as follows to get around this issue - \r\n\r\n       @Override\r\n       protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\r\n                     HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n              String errorMessage = ex.getBindingResult().getFieldErrors().get(0).getDefaultMessage();\r\n              List&lt;String&gt; validationList = ex.getBindingResult().getFieldErrors().stream().map(fieldError-&gt;fieldError.getDefaultMessage()).collect(Collectors.toList());\r\n              LOGGER.info(&quot;Validation error list : &quot;+validationList);\r\n              ApiErrorVO apiErrorVO = new ApiErrorVO(errorMessage);\r\n              apiErrorVO.setErrorList(validationList);\r\n              return new ResponseEntity&lt;&gt;(apiErrorVO, status);\r\n       }\r\n\r\n\r\n       \r\n       ","title":"Getting Ambiguous @ExceptionHandler method mapped for MethodArgumentNotValidException while startup of spring boot application","body":"<p>The ambiguity is because you have the same method -  @ExceptionHandler in both the classes - ResponseEntityExceptionHandler, MethodArgumentNotValidException. You need to write the overridden method as follows to get around this issue - </p>\n\n<pre><code>   @Override\n   protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex,\n                 HttpHeaders headers, HttpStatus status, WebRequest request) {\n          String errorMessage = ex.getBindingResult().getFieldErrors().get(0).getDefaultMessage();\n          List&lt;String&gt; validationList = ex.getBindingResult().getFieldErrors().stream().map(fieldError-&gt;fieldError.getDefaultMessage()).collect(Collectors.toList());\n          LOGGER.info(\"Validation error list : \"+validationList);\n          ApiErrorVO apiErrorVO = new ApiErrorVO(errorMessage);\n          apiErrorVO.setErrorList(validationList);\n          return new ResponseEntity&lt;&gt;(apiErrorVO, status);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19847496,"reputation":41,"user_id":14538782,"display_name":"smhylc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669235812,"creation_date":1669235812,"answer_id":74552716,"question_id":51991992,"body_markdown":"I found a solution to this problem! \r\n\r\nI changed the @ControllerAdvice annotation to @RestControllerAdvice for Rest controller. \r\n\r\nSpring boot and ControllerAdvice structures already contain MethodArgumentNotValidException. Then I override the MethodArgumentNotValidExcetion function that comes by default by calling override method via intellij idea / or a different ide. \r\n\r\nand it worked successfully! :)  Hope it helps you! :) \r\n\r\n\r\nExample \r\n\r\n\r\n    @Override\r\n\t@ResponseStatus\r\n\tprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\r\n\t\tfor (ObjectError methodArgumentNotValidException : ex.getBindingResult().getAllErrors()){\r\n\t\t\tlocalerrorEntitiesList.add(new ErrorEntity(methodArgumentNotValidException.getDefaultMessage(),methodArgumentNotValidException.getCode()));\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(new ErrorResponse(localerrorEntitiesList),HttpStatus.BAD_REQUEST);\r\n\t\t}catch (Exception e){\r\n\t\t\treturn new ResponseEntity&lt;&gt;(new ErrorResponse(localerrorEntitiesList),HttpStatus.BAD_REQUEST);\r\n\t\t}\r\n\r\n\t}\r\n\r\n","title":"Getting Ambiguous @ExceptionHandler method mapped for MethodArgumentNotValidException while startup of spring boot application","body":"<p>I found a solution to this problem!</p>\n<p>I changed the @ControllerAdvice annotation to @RestControllerAdvice for Rest controller.</p>\n<p>Spring boot and ControllerAdvice structures already contain MethodArgumentNotValidException. Then I override the MethodArgumentNotValidExcetion function that comes by default by calling override method via intellij idea / or a different ide.</p>\n<p>and it worked successfully! :)  Hope it helps you! :)</p>\n<p>Example</p>\n<pre><code>@Override\n@ResponseStatus\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n    for (ObjectError methodArgumentNotValidException : ex.getBindingResult().getAllErrors()){\n        localerrorEntitiesList.add(new ErrorEntity(methodArgumentNotValidException.getDefaultMessage(),methodArgumentNotValidException.getCode()));\n    }\n\n    try {\n        return new ResponseEntity&lt;&gt;(new ErrorResponse(localerrorEntitiesList),HttpStatus.BAD_REQUEST);\n    }catch (Exception e){\n        return new ResponseEntity&lt;&gt;(new ErrorResponse(localerrorEntitiesList),HttpStatus.BAD_REQUEST);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14206215,"reputation":443,"user_id":10262638,"display_name":"Shanmugam Thangavelu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45702,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":51993609,"answer_count":4,"score":44,"last_activity_date":1669235812,"creation_date":1535048258,"question_id":51991992,"body_markdown":"I have written custom exception handler class for one of my spring controllers to validate if email attribute from request param is in the proper format. So created a new class which extends `ResponseEntityExceptionHandler` class and wrote a method with `@ExceptionHandler`.\r\n\r\nBut during spring boot application startup, I am getting below exception which is stopping to run my project. Could someone help me to resolve this?\r\n\r\n**Exception during server startup:**\r\n\r\n&gt;org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;handlerExceptionResolver&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed;  \r\nnested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerExceptionResolver]: Factory method &#39;handlerExceptionResolver&#39; threw exception;  \r\nnested exception is java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]: {public com.TestVO com.handler.exception.TestExceptionHandler.methodArgumentNotValidException(org.springframework.web.bind.MethodArgumentNotValidException), public final org.springframework.http.ResponseEntity org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException(java.lang.Exception,org.springframework.web.context.request.WebRequest) throws java.lang.Exception}\r\n\r\n\r\n\r\nCustom Class to handle `MethodArgumentNotValidException`:\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \r\n    \t@ExceptionHandler(MethodArgumentNotValidException.class)\r\n    \t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    \t@ResponseBody\r\n    \tpublic ErrorVO processValidationError(MethodArgumentNotValidException ex) {\r\n    \t\tBindingResult result = ex.getBindingResult();\r\n    \t\tList&lt;FieldError&gt; fieldErrors = result.getFieldErrors();\r\n    \t\tFieldError fieldError = fieldErrors.get(0);\r\n    \t\tErrorVO dto = new ErrorVO(fieldError.getDefaultMessage());\r\n    \t\treturn dto;\r\n    \t}\r\n    }\r\n\r\n","title":"Getting Ambiguous @ExceptionHandler method mapped for MethodArgumentNotValidException while startup of spring boot application","body":"<p>I have written custom exception handler class for one of my spring controllers to validate if email attribute from request param is in the proper format. So created a new class which extends <code>ResponseEntityExceptionHandler</code> class and wrote a method with <code>@ExceptionHandler</code>.</p>\n\n<p>But during spring boot application startup, I am getting below exception which is stopping to run my project. Could someone help me to resolve this?</p>\n\n<p><strong>Exception during server startup:</strong></p>\n\n<blockquote>\n  <p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'handlerExceptionResolver' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed;<br>\n  nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerExceptionResolver]: Factory method 'handlerExceptionResolver' threw exception;<br>\n  nested exception is java.lang.IllegalStateException: Ambiguous @ExceptionHandler method mapped for [class org.springframework.web.bind.MethodArgumentNotValidException]: {public com.TestVO com.handler.exception.TestExceptionHandler.methodArgumentNotValidException(org.springframework.web.bind.MethodArgumentNotValidException), public final org.springframework.http.ResponseEntity org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler.handleException(java.lang.Exception,org.springframework.web.context.request.WebRequest) throws java.lang.Exception}</p>\n</blockquote>\n\n<p>Custom Class to handle <code>MethodArgumentNotValidException</code>:</p>\n\n<pre><code>@ControllerAdvice\npublic class ExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ResponseBody\n    public ErrorVO processValidationError(MethodArgumentNotValidException ex) {\n        BindingResult result = ex.getBindingResult();\n        List&lt;FieldError&gt; fieldErrors = result.getFieldErrors();\n        FieldError fieldError = fieldErrors.get(0);\n        ErrorVO dto = new ErrorVO(fieldError.getDefaultMessage());\n        return dto;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","classloader"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1669187286,"post_id":74542623,"comment_id":131584780,"body_markdown":"Where have you put your resources? Please show the project layout.","body":"Where have you put your resources? Please show the project layout."},{"owner":{"account_id":23876405,"reputation":61,"user_id":17877535,"display_name":"SwordOfSouls"},"score":0,"creation_date":1669190399,"post_id":74542623,"comment_id":131585558,"body_markdown":"@khmarbaise resources are in the default resource folder, &quot;Html&quot; is a folder placed in the resources folder which contains the files I want to access","body":"@khmarbaise resources are in the default resource folder, &quot;Html&quot; is a folder placed in the resources folder which contains the files I want to access"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1669191132,"post_id":74542623,"comment_id":131585780,"body_markdown":"Than you have to use `getClass().getResourceAsStream(&quot;/Html/...&quot;)` to access resources...","body":"Than you have to use <code>getClass().getResourceAsStream(&quot;&#47;Html&#47;...&quot;)</code> to access resources..."}],"answers":[{"tags":[],"owner":{"account_id":23876405,"reputation":61,"user_id":17877535,"display_name":"SwordOfSouls"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669235080,"creation_date":1669235080,"answer_id":74552602,"question_id":74542623,"body_markdown":"The solution was to use\r\n`/` instead of `File.separator`","title":"Maven class loader doesn&#39;t find any resources","body":"<p>The solution was to use\n<code>/</code> instead of <code>File.separator</code></p>\n"}],"owner":{"account_id":23876405,"reputation":61,"user_id":17877535,"display_name":"SwordOfSouls"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74552602,"answer_count":1,"score":0,"last_activity_date":1669235080,"creation_date":1669185059,"question_id":74542623,"body_markdown":"When using maven to package a jar (unsure if it&#39;s a maven issue) the java ClassLoader can&#39;t find any resources.\r\n\r\nJar structure -\r\n\r\n[![enter image description here](https://i.stack.imgur.com/SYQKt.png)](https://i.stack.imgur.com/SYQKt.png)\r\n\r\nValue of `test.class.getClassLoader().getResourceAsStream(&quot;&quot;)` (or any other existing directory) is empty. No folders or files or found.\r\n\r\nMaven Build Script:\r\n\r\n```\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;9&lt;/source&gt;\r\n          &lt;target&gt;9&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n              &lt;transformers&gt;\r\n                &lt;transformer implementation=\r\n                                     &quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                  &lt;mainClass&gt;org.swordofsouls.discord.chatexporter.test&lt;/mainClass&gt;\r\n                &lt;/transformer&gt;\r\n              &lt;/transformers&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```\r\n\r\nAny help would be greatly appreciated.\r\n\r\nThanks\r\n\r\nTried using different ClassLoaders. \r\n\r\nValue of `Thread.currentThread().getContextClassLoader()` is null.\r\n\r\nValue of `ClassLoader.getSystemClassLoader()` is null.","title":"Maven class loader doesn&#39;t find any resources","body":"<p>When using maven to package a jar (unsure if it's a maven issue) the java ClassLoader can't find any resources.</p>\n<p>Jar structure -</p>\n<p><a href=\"https://i.stack.imgur.com/SYQKt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SYQKt.png\" alt=\"enter image description here\" /></a></p>\n<p>Value of <code>test.class.getClassLoader().getResourceAsStream(&quot;&quot;)</code> (or any other existing directory) is empty. No folders or files or found.</p>\n<p>Maven Build Script:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;9&lt;/source&gt;\n          &lt;target&gt;9&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=\n                                     &quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                  &lt;mainClass&gt;org.swordofsouls.discord.chatexporter.test&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n<p>Thanks</p>\n<p>Tried using different ClassLoaders.</p>\n<p>Value of <code>Thread.currentThread().getContextClassLoader()</code> is null.</p>\n<p>Value of <code>ClassLoader.getSystemClassLoader()</code> is null.</p>\n"},{"tags":["java","java-8","bijection"],"comments":[{"owner":{"account_id":1536289,"reputation":1554,"user_id":1432247,"accept_rate":100,"display_name":"Adwait Kumar"},"score":1,"creation_date":1669126584,"post_id":74528027,"comment_id":131569535,"body_markdown":"Why is every bijection repeated twice in your expected output?","body":"Why is every bijection repeated twice in your expected output?"},{"owner":{"account_id":22238408,"reputation":23,"user_id":16473333,"display_name":"Saurav Sharma"},"score":0,"creation_date":1669126844,"post_id":74528027,"comment_id":131569653,"body_markdown":"I believe its becuase the other permutations change. The number of bijections from A -&gt; A is n!, I hope this helps","body":"I believe its becuase the other permutations change. The number of bijections from A -&gt; A is n!, I hope this helps"},{"owner":{"account_id":22238408,"reputation":23,"user_id":16473333,"display_name":"Saurav Sharma"},"score":0,"creation_date":1669126894,"post_id":74528027,"comment_id":131569672,"body_markdown":"I understand this question mathematically, however I am confused how to start this and implement this using functional programming","body":"I understand this question mathematically, however I am confused how to start this and implement this using functional programming"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1669129280,"post_id":74528027,"comment_id":131570725,"body_markdown":"It wouldn&#39;t be a `Set&lt;Function&lt;T, T&gt;&gt;`: no `T` is defined in `#main`. What you&#39;re asking is essentially the possible permutations of the set (in this case, `S_3`, so 6 permutations of `()`, `(12)`, `(23)`, `(13)`, `(123)`, and `(132)` in cyclic notation). There&#39;s a _lot_ of ways to achieve this, but it sounds like you&#39;d want to work with a `List` (more easily ordered) or `LinkedHashSet`, and then return the 6 new `LinkedHashSet`/`List` objects representing your permuted original `List`/`LinkedHashSet`. From there, iterate both simultaneously to print the bijections.","body":"It wouldn&#39;t be a <code>Set&lt;Function&lt;T, T&gt;&gt;</code>: no <code>T</code> is defined in <code>#main</code>. What you&#39;re asking is essentially the possible permutations of the set (in this case, <code>S_3</code>, so 6 permutations of <code>()</code>, <code>(12)</code>, <code>(23)</code>, <code>(13)</code>, <code>(123)</code>, and <code>(132)</code> in cyclic notation). There&#39;s a <i>lot</i> of ways to achieve this, but it sounds like you&#39;d want to work with a <code>List</code> (more easily ordered) or <code>LinkedHashSet</code>, and then return the 6 new <code>LinkedHashSet</code>/<code>List</code> objects representing your permuted original <code>List</code>/<code>LinkedHashSet</code>. From there, iterate both simultaneously to print the bijections."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669235143,"post_id":74528027,"comment_id":131601214,"body_markdown":"@Rogue `LinkedHashSet` is a good choice, used this suggestion in the [implementation](https://stackoverflow.com/a/74539531/17949945).","body":"@Rogue <code>LinkedHashSet</code> is a good choice, used this suggestion in the <a href=\"https://stackoverflow.com/a/74539531/17949945\">implementation</a>."}],"answers":[{"comments":[{"owner":{"account_id":22238408,"reputation":23,"user_id":16473333,"display_name":"Saurav Sharma"},"score":0,"creation_date":1669158900,"post_id":74539531,"comment_id":131580167,"body_markdown":"Thank you for the explanation. However, the no of bijections means the possible bijections from A -&gt; A. If A ={1,2,3} : (1--&gt;2; 2--&gt;1; 3--&gt;2) is one possible bijection. There are 5 other possible bijections like these","body":"Thank you for the explanation. However, the no of bijections means the possible bijections from A -&gt; A. If A ={1,2,3} : (1--&gt;2; 2--&gt;1; 3--&gt;2) is one possible bijection. There are 5 other possible bijections like these"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669159375,"post_id":74539531,"comment_id":131580265,"body_markdown":"@SauravSharma  Yes, `(1--&gt;2; 2--&gt;1; 3--&gt;2)` is a valid Bijection. Now I&#39;ve understood the example. I&#39;ll refine the answer.","body":"@SauravSharma  Yes, <code>(1--&gt;2; 2--&gt;1; 3--&gt;2)</code> is a valid Bijection. Now I&#39;ve understood the example. I&#39;ll refine the answer."},{"owner":{"account_id":22238408,"reputation":23,"user_id":16473333,"display_name":"Saurav Sharma"},"score":0,"creation_date":1669159994,"post_id":74539531,"comment_id":131580399,"body_markdown":"Nope its not mandatory, you can change the return type. But the refined method must work in accordance with the main method","body":"Nope its not mandatory, you can change the return type. But the refined method must work in accordance with the main method"},{"owner":{"account_id":22238408,"reputation":23,"user_id":16473333,"display_name":"Saurav Sharma"},"score":0,"creation_date":1669173410,"post_id":74539531,"comment_id":131582444,"body_markdown":"let me know if you need any other info","body":"let me know if you need any other info"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669234871,"creation_date":1669154938,"answer_id":74539531,"question_id":74528027,"body_markdown":"Bijection of the dataset to itself results in a set of Permutations of the given data.\r\n\r\nAnd each Bijection should meet the [definition][bijection]:\r\n\r\n&gt; For a pairing between `X` and `Y` (where `Y` need not be different\r\n&gt; from `X`) to be a **bijection**, four properties must hold:\r\n&gt; \r\n&gt; * each element of `X` must be paired with at least one element of `Y`,\r\n&gt; \r\n&gt;  * no element of `X` may be paired with more than one element of `Y`,\r\n&gt; \r\n&gt;  * each element of `Y` must be paired with at least one element of `X`,\r\n&gt; and\r\n&gt; \r\n&gt;  * no element of `Y` may be paired with more than one element of `X`.\r\n\r\nI.e. in a valid Bijection every element should be paired, a not none of the elements can be paired with more than one element.\r\n\r\nTo approach this a problem in a way that is easier to digest, we can describe Bijections as objects.\r\n\r\nLet&#39;s define the following classes:\r\n\r\n* `Bijection` - representing a Bijection of the given dataset to itself. Since Bijection consists of pairs of elements, an instance of `Bijection` holds a reference to a list of `Pair`s.\r\n\r\n* `Pair` - represent a pair of elements in a Bijection.\r\n\r\nWhile initializing a new instance of `Bijection` based on the given data (*see the method* `init()`) a `List` of `Pair`s is being created. To meet the definition shown above, the number of `Pair` is equal to the number of elements in the given dataset, and initially each `Pair` is being assigned with an element from the given dataset as its first element (`a`).\r\n\r\nDuring the process of generating permutations, each pair is being provided with the second element (`b`). To track the pair that needs to be changed, `Bijection` has a property `cursor`\r\n\r\nBoth `Bijection` and `Pair` expose method `copy()` to facilitate the process of generating permutations.\r\n\r\n    public class Bijection&lt;T&gt; {\r\n        private List&lt;Pair&lt;T&gt;&gt; pairs;\r\n        private int cursor;\r\n    \r\n        public Bijection(List&lt;Pair&lt;T&gt;&gt; pairs) {\r\n            this.pairs = pairs;\r\n        }\r\n    \r\n        public Bijection(List&lt;Pair&lt;T&gt;&gt; pairs, int cursor) {\r\n            this.pairs = pairs;\r\n            this.cursor = cursor;\r\n        }\r\n        \r\n        public static &lt;T&gt; Bijection&lt;T&gt; init(Collection&lt;T&gt; source) {\r\n            return new Bijection&lt;&gt;(\r\n                source.stream().map(Pair::init).toList()\r\n            );\r\n        }\r\n        \r\n        public void add(T b) {\r\n            if (cursor == pairs.size()) throw new IllegalStateException();\r\n            \r\n            pairs.get(cursor++).add(b);\r\n        }\r\n        \r\n        public Bijection&lt;T&gt; copy() {\r\n            \r\n            return pairs.stream()\r\n                .map(Pair::copy)\r\n                .collect(Collectors.collectingAndThen(\r\n                    Collectors.toList(),\r\n                    list -&gt; new Bijection&lt;&gt;(list, cursor)\r\n                ));\r\n        }\r\n        \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Bijection{ &quot; + pairs.stream().map(Pair::toString).collect(Collectors.joining(&quot;, &quot;)) + &quot; }&quot;;\r\n        }\r\n        \r\n        public static class Pair&lt;T&gt; {\r\n            private T a;\r\n            private T b;\r\n            \r\n            public Pair(T a, T b) {\r\n                this.a = a;\r\n                this.b = b;\r\n            }\r\n            \r\n            public static &lt;T&gt; Pair&lt;T&gt; init(T a) {\r\n                return new Pair&lt;&gt;(a, null);\r\n            }\r\n            \r\n            public void add(T b) {\r\n                this.b = b;\r\n            }\r\n            \r\n            public Pair&lt;T&gt; copy() {\r\n                return new Pair&lt;&gt;(a, b);\r\n            }\r\n            \r\n            @Override\r\n            public String toString() {\r\n                return &quot;Pair{&quot; + a + &quot; -&gt; &quot; + b + &#39;}&#39;;\r\n            }\r\n        }\r\n    }\r\n\r\nHere&#39;s the logic for generating all possible Bijections (*i.e. all Permutations of elements in the given dataset expressed as connected pairs*) encapsulated into a utility class.\r\n\r\nIt&#39;s a basic recursive implementation. The *Base case* of recursion is when provide source of data is empty, i.e. no elements left to use and Bijection (Permutation) gets added to the resulting list.\r\n\r\nAs the source of data for generating Permutations, I&#39;ll use a `LinkedHashSet` (as suggested by *@Rogue* in a [comment][comment]) because it facilitates removal of elements in constant time and guaranties consistent order of iteration.\r\n\r\n    public static class Bijections {\r\n        \r\n        private Bijections() {}\r\n        \r\n        public static &lt;T&gt; List&lt;Bijection&lt;T&gt;&gt; getBijections(Collection&lt;T&gt; source) {\r\n            Set&lt;T&gt; set = new LinkedHashSet&lt;&gt;(source);\r\n            List&lt;Bijection&lt;T&gt;&gt; bijections = new ArrayList&lt;&gt;();\r\n            \r\n            permute(set, Bijection.init(set), bijections);\r\n            \r\n            return bijections;\r\n        }\r\n        \r\n        public static &lt;T&gt; void permute(Set&lt;T&gt; source,\r\n                                       Bijection&lt;T&gt; bijection, // &lt;- current Bijection\r\n                                       List&lt;Bijection&lt;T&gt;&gt; bijections) {\r\n            \r\n            if (source.isEmpty()) {\r\n                bijections.add(bijection);\r\n                return;\r\n            }\r\n            \r\n            for (T next : source) {\r\n                // generate a new bijection based on the existing one and update it (the initial bijection doesn&#39;t change)\r\n                Bijection&lt;T&gt; bijectionToUpdate = bijection.copy();\r\n                bijectionToUpdate.add(next);\r\n                // create a copy of the source a remove the current element from the copy (since it has been already used)\r\n                Set&lt;T&gt; updatedSource = new LinkedHashSet&lt;&gt;(source);\r\n                updatedSource.remove(next);\r\n                // perform recursive call\r\n                permute(updatedSource, bijectionToUpdate, bijections);\r\n            }\r\n        }\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        Bijections.getBijections(List.of(1, 2, 3))\r\n            .forEach(System.out::println);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nBijection{ Pair{1 -&gt; 1}, Pair{2 -&gt; 2}, Pair{3 -&gt; 3} }\r\nBijection{ Pair{1 -&gt; 1}, Pair{2 -&gt; 3}, Pair{3 -&gt; 2} }\r\nBijection{ Pair{1 -&gt; 2}, Pair{2 -&gt; 1}, Pair{3 -&gt; 3} }\r\nBijection{ Pair{1 -&gt; 2}, Pair{2 -&gt; 3}, Pair{3 -&gt; 1} }\r\nBijection{ Pair{1 -&gt; 3}, Pair{2 -&gt; 1}, Pair{3 -&gt; 2} }\r\nBijection{ Pair{1 -&gt; 3}, Pair{2 -&gt; 2}, Pair{3 -&gt; 1} }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n   [bijection]: https://en.wikipedia.org/wiki/Bijection#Definition\r\n\r\n   [comment]: https://stackoverflow.com/questions/74528027/return-set-of-all-bijections-on-the-input-set/74539531?noredirect=1#comment131570725_74528027\r\n\r\n","title":"Return set of all bijections on the input set","body":"<p>Bijection of the dataset to itself results in a set of Permutations of the given data.</p>\n<p>And each Bijection should meet the <a href=\"https://en.wikipedia.org/wiki/Bijection#Definition\" rel=\"nofollow noreferrer\">definition</a>:</p>\n<blockquote>\n<p>For a pairing between <code>X</code> and <code>Y</code> (where <code>Y</code> need not be different\nfrom <code>X</code>) to be a <strong>bijection</strong>, four properties must hold:</p>\n<ul>\n<li><p>each element of <code>X</code> must be paired with at least one element of <code>Y</code>,</p>\n</li>\n<li><p>no element of <code>X</code> may be paired with more than one element of <code>Y</code>,</p>\n</li>\n<li><p>each element of <code>Y</code> must be paired with at least one element of <code>X</code>,\nand</p>\n</li>\n<li><p>no element of <code>Y</code> may be paired with more than one element of <code>X</code>.</p>\n</li>\n</ul>\n</blockquote>\n<p>I.e. in a valid Bijection every element should be paired, a not none of the elements can be paired with more than one element.</p>\n<p>To approach this a problem in a way that is easier to digest, we can describe Bijections as objects.</p>\n<p>Let's define the following classes:</p>\n<ul>\n<li><p><code>Bijection</code> - representing a Bijection of the given dataset to itself. Since Bijection consists of pairs of elements, an instance of <code>Bijection</code> holds a reference to a list of <code>Pair</code>s.</p>\n</li>\n<li><p><code>Pair</code> - represent a pair of elements in a Bijection.</p>\n</li>\n</ul>\n<p>While initializing a new instance of <code>Bijection</code> based on the given data (<em>see the method</em> <code>init()</code>) a <code>List</code> of <code>Pair</code>s is being created. To meet the definition shown above, the number of <code>Pair</code> is equal to the number of elements in the given dataset, and initially each <code>Pair</code> is being assigned with an element from the given dataset as its first element (<code>a</code>).</p>\n<p>During the process of generating permutations, each pair is being provided with the second element (<code>b</code>). To track the pair that needs to be changed, <code>Bijection</code> has a property <code>cursor</code></p>\n<p>Both <code>Bijection</code> and <code>Pair</code> expose method <code>copy()</code> to facilitate the process of generating permutations.</p>\n<pre><code>public class Bijection&lt;T&gt; {\n    private List&lt;Pair&lt;T&gt;&gt; pairs;\n    private int cursor;\n\n    public Bijection(List&lt;Pair&lt;T&gt;&gt; pairs) {\n        this.pairs = pairs;\n    }\n\n    public Bijection(List&lt;Pair&lt;T&gt;&gt; pairs, int cursor) {\n        this.pairs = pairs;\n        this.cursor = cursor;\n    }\n    \n    public static &lt;T&gt; Bijection&lt;T&gt; init(Collection&lt;T&gt; source) {\n        return new Bijection&lt;&gt;(\n            source.stream().map(Pair::init).toList()\n        );\n    }\n    \n    public void add(T b) {\n        if (cursor == pairs.size()) throw new IllegalStateException();\n        \n        pairs.get(cursor++).add(b);\n    }\n    \n    public Bijection&lt;T&gt; copy() {\n        \n        return pairs.stream()\n            .map(Pair::copy)\n            .collect(Collectors.collectingAndThen(\n                Collectors.toList(),\n                list -&gt; new Bijection&lt;&gt;(list, cursor)\n            ));\n    }\n    \n    @Override\n    public String toString() {\n        return &quot;Bijection{ &quot; + pairs.stream().map(Pair::toString).collect(Collectors.joining(&quot;, &quot;)) + &quot; }&quot;;\n    }\n    \n    public static class Pair&lt;T&gt; {\n        private T a;\n        private T b;\n        \n        public Pair(T a, T b) {\n            this.a = a;\n            this.b = b;\n        }\n        \n        public static &lt;T&gt; Pair&lt;T&gt; init(T a) {\n            return new Pair&lt;&gt;(a, null);\n        }\n        \n        public void add(T b) {\n            this.b = b;\n        }\n        \n        public Pair&lt;T&gt; copy() {\n            return new Pair&lt;&gt;(a, b);\n        }\n        \n        @Override\n        public String toString() {\n            return &quot;Pair{&quot; + a + &quot; -&gt; &quot; + b + '}';\n        }\n    }\n}\n</code></pre>\n<p>Here's the logic for generating all possible Bijections (<em>i.e. all Permutations of elements in the given dataset expressed as connected pairs</em>) encapsulated into a utility class.</p>\n<p>It's a basic recursive implementation. The <em>Base case</em> of recursion is when provide source of data is empty, i.e. no elements left to use and Bijection (Permutation) gets added to the resulting list.</p>\n<p>As the source of data for generating Permutations, I'll use a <code>LinkedHashSet</code> (as suggested by <em>@Rogue</em> in a <a href=\"https://stackoverflow.com/questions/74528027/return-set-of-all-bijections-on-the-input-set/74539531?noredirect=1#comment131570725_74528027\">comment</a>) because it facilitates removal of elements in constant time and guaranties consistent order of iteration.</p>\n<pre><code>public static class Bijections {\n    \n    private Bijections() {}\n    \n    public static &lt;T&gt; List&lt;Bijection&lt;T&gt;&gt; getBijections(Collection&lt;T&gt; source) {\n        Set&lt;T&gt; set = new LinkedHashSet&lt;&gt;(source);\n        List&lt;Bijection&lt;T&gt;&gt; bijections = new ArrayList&lt;&gt;();\n        \n        permute(set, Bijection.init(set), bijections);\n        \n        return bijections;\n    }\n    \n    public static &lt;T&gt; void permute(Set&lt;T&gt; source,\n                                   Bijection&lt;T&gt; bijection, // &lt;- current Bijection\n                                   List&lt;Bijection&lt;T&gt;&gt; bijections) {\n        \n        if (source.isEmpty()) {\n            bijections.add(bijection);\n            return;\n        }\n        \n        for (T next : source) {\n            // generate a new bijection based on the existing one and update it (the initial bijection doesn't change)\n            Bijection&lt;T&gt; bijectionToUpdate = bijection.copy();\n            bijectionToUpdate.add(next);\n            // create a copy of the source a remove the current element from the copy (since it has been already used)\n            Set&lt;T&gt; updatedSource = new LinkedHashSet&lt;&gt;(source);\n            updatedSource.remove(next);\n            // perform recursive call\n            permute(updatedSource, bijectionToUpdate, bijections);\n        }\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    Bijections.getBijections(List.of(1, 2, 3))\n        .forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Bijection{ Pair{1 -&gt; 1}, Pair{2 -&gt; 2}, Pair{3 -&gt; 3} }\nBijection{ Pair{1 -&gt; 1}, Pair{2 -&gt; 3}, Pair{3 -&gt; 2} }\nBijection{ Pair{1 -&gt; 2}, Pair{2 -&gt; 1}, Pair{3 -&gt; 3} }\nBijection{ Pair{1 -&gt; 2}, Pair{2 -&gt; 3}, Pair{3 -&gt; 1} }\nBijection{ Pair{1 -&gt; 3}, Pair{2 -&gt; 1}, Pair{3 -&gt; 2} }\nBijection{ Pair{1 -&gt; 3}, Pair{2 -&gt; 2}, Pair{3 -&gt; 1} }\n</code></pre>\n"}],"owner":{"account_id":22238408,"reputation":23,"user_id":16473333,"display_name":"Saurav Sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74539531,"answer_count":1,"score":1,"last_activity_date":1669234871,"creation_date":1669096297,"question_id":74528027,"body_markdown":"the method: `public static Set&lt;Function&lt;T,T&gt;&gt; bijectionsFinder(Set&lt;T&gt; d)`\r\n\r\nsay d= {1,2,3}. We are supposed to find all bijections from d -&gt; d and return a set of those bijections.\r\n\r\nIm not sure how to start.  \r\n\r\nMain method: \r\n\r\n    public static void main(String... args) {\r\n        Set&lt;Integer&gt; a_few = Stream.of(1, 2, 3).collect(Collectors.toSet());\r\n        Set&lt;Function&lt;T, T&gt;&gt; bijections = bijectionsOf(a_few);\r\n        bijections.forEach(aBijection -&gt; {\r\n           a_few.forEach(n -&gt; System.out.printf(&quot;%d --&gt; %d; &quot;, n, aBijection.apply(n)));\r\n           System.out.println();\r\n        });\r\n    }\r\n\r\nExpected output if d= {1,2,3} : \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Z9g5.png","title":"Return set of all bijections on the input set","body":"<p>the method: <code>public static Set&lt;Function&lt;T,T&gt;&gt; bijectionsFinder(Set&lt;T&gt; d)</code></p>\n<p>say d= {1,2,3}. We are supposed to find all bijections from d -&gt; d and return a set of those bijections.</p>\n<p>Im not sure how to start.</p>\n<p>Main method:</p>\n<pre><code>public static void main(String... args) {\n    Set&lt;Integer&gt; a_few = Stream.of(1, 2, 3).collect(Collectors.toSet());\n    Set&lt;Function&lt;T, T&gt;&gt; bijections = bijectionsOf(a_few);\n    bijections.forEach(aBijection -&gt; {\n       a_few.forEach(n -&gt; System.out.printf(&quot;%d --&gt; %d; &quot;, n, aBijection.apply(n)));\n       System.out.println();\n    });\n}\n</code></pre>\n<p>Expected output if d= {1,2,3} :</p>\n<p><a href=\"https://i.stack.imgur.com/7Z9g5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Z9g5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","unit-testing","mockito","jgit"],"comments":[{"owner":{"account_id":1657095,"reputation":3768,"user_id":1526347,"accept_rate":75,"display_name":"jingx"},"score":2,"creation_date":1516724450,"post_id":48406279,"comment_id":83801456,"body_markdown":"Why not just have a local repo included as part of your test data? You won&#39;t have to mock anything.","body":"Why not just have a local repo included as part of your test data? You won&#39;t have to mock anything."}],"answers":[{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1594211502,"creation_date":1518421357,"answer_id":48741591,"question_id":48406279,"body_markdown":"To avoid the `NullPointerException`, you would need to fully simulate the behaviour of a real `RevCommit`. To get its behaviour right in all aspects, you would end up re-building large parts of the actual `RevCommit` implementation in JGit.\r\n\r\nThis is why I recommend to run tests against a real repository. For said reasons, it is usually not advisable to mock types that you don&#39;t own (see https://github.com/mockito/mockito/wiki/How-to-write-good-tests). \r\n\r\nAnd with JGit it is very simple to create test-repositories:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class JGitTest {\r\n\r\n      @Rule\r\n      public TemporaryFolder tempFolder = new TemporaryFolder();\r\n      private Git git;\r\n    \r\n      @Before\r\n      public void setUp() throws GitAPIException {\r\n        git = Git.init().setDirectory(tempFolder.getRoot()).call();\r\n      }\r\n    \r\n      @After\r\n      public void tearDown() {\r\n        git.getRepository().close();\r\n      }\r\n    \r\n      @Test\r\n      public void testFirst() {\r\n        // with &#39;git&#39; you have access to a fully functional repository\r\n      }\r\n    }\r\n\r\nSee here for another example that initializes a repository and uses a `TemporaryFolder` to clean up: https://gist.github.com/rherrmann/5341e735ce197f306949fc58e9aed141\r\n","title":"RevCommit JGit mock","body":"<p>To avoid the <code>NullPointerException</code>, you would need to fully simulate the behaviour of a real <code>RevCommit</code>. To get its behaviour right in all aspects, you would end up re-building large parts of the actual <code>RevCommit</code> implementation in JGit.</p>\n<p>This is why I recommend to run tests against a real repository. For said reasons, it is usually not advisable to mock types that you don't own (see <a href=\"https://github.com/mockito/mockito/wiki/How-to-write-good-tests\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/wiki/How-to-write-good-tests</a>).</p>\n<p>And with JGit it is very simple to create test-repositories:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JGitTest {\n\n  @Rule\n  public TemporaryFolder tempFolder = new TemporaryFolder();\n  private Git git;\n\n  @Before\n  public void setUp() throws GitAPIException {\n    git = Git.init().setDirectory(tempFolder.getRoot()).call();\n  }\n\n  @After\n  public void tearDown() {\n    git.getRepository().close();\n  }\n\n  @Test\n  public void testFirst() {\n    // with 'git' you have access to a fully functional repository\n  }\n}\n</code></pre>\n<p>See here for another example that initializes a repository and uses a <code>TemporaryFolder</code> to clean up: <a href=\"https://gist.github.com/rherrmann/5341e735ce197f306949fc58e9aed141\" rel=\"nofollow noreferrer\">https://gist.github.com/rherrmann/5341e735ce197f306949fc58e9aed141</a></p>\n"},{"tags":[],"owner":{"account_id":9648852,"reputation":1,"user_id":7544659,"display_name":"den-codeman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669233926,"creation_date":1669233926,"answer_id":74552429,"question_id":48406279,"body_markdown":"I will add the answer [R&#252;diger Herrmann][1]. After following steps it started working for me:\r\n 1. Annotate class `@TestInstance(Lifecycle.PER_CLASS)`\r\n 2. `@Before` change on `@BeforeAll`\r\n 3. add `tempFolder.create();` to `setUp()` method\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2986905/r%C3%BCdiger-herrmann","title":"RevCommit JGit mock","body":"<p>I will add the answer <a href=\"https://stackoverflow.com/users/2986905/r%C3%BCdiger-herrmann\">Rüdiger Herrmann</a>. After following steps it started working for me:</p>\n<ol>\n<li>Annotate class <code>@TestInstance(Lifecycle.PER_CLASS)</code></li>\n<li><code>@Before</code> change on <code>@BeforeAll</code></li>\n<li>add <code>tempFolder.create();</code> to <code>setUp()</code> method</li>\n</ol>\n"}],"owner":{"account_id":12794123,"reputation":23,"user_id":9257705,"display_name":"jmcg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1796,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48741591,"answer_count":2,"score":2,"last_activity_date":1669233926,"creation_date":1516724183,"question_id":48406279,"body_markdown":"My question is about mocking a `RevCommit` object from the JGit library. \r\nWhen simply mocking an object of this type and defining it&#39;s behaviour, I get an error. For example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    RevCommit revCommitMock = mock(RevCommit.class);        \r\n    Mockito.when(revCommitMock.getShortMessage()).thenReturn(&quot;ExampleMessage&quot;);\r\n\r\nThis will result in a `NullPointerException`.\r\n\r\nProbably, the way to do it correctly is calling method:\r\n\r\n    parse(RevWalk rw, byte[] raw) \r\n\r\n on an instance of `RevCommit` object, but how to do it properly? I get `NullPointerException` parsing mocked object of type `RevWalk`. \r\nThanks for any help in advance.","title":"RevCommit JGit mock","body":"<p>My question is about mocking a <code>RevCommit</code> object from the JGit library. \nWhen simply mocking an object of this type and defining it's behaviour, I get an error. For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>RevCommit revCommitMock = mock(RevCommit.class);        \nMockito.when(revCommitMock.getShortMessage()).thenReturn(\"ExampleMessage\");\n</code></pre>\n\n<p>This will result in a <code>NullPointerException</code>.</p>\n\n<p>Probably, the way to do it correctly is calling method:</p>\n\n<pre><code>parse(RevWalk rw, byte[] raw) \n</code></pre>\n\n<p>on an instance of <code>RevCommit</code> object, but how to do it properly? I get <code>NullPointerException</code> parsing mocked object of type <code>RevWalk</code>. \nThanks for any help in advance.</p>\n"},{"tags":["java","httpurlconnection","cloudflare"],"answers":[{"tags":[],"owner":{"account_id":2134682,"reputation":57,"user_id":1894762,"display_name":"fab23"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650184004,"creation_date":1650184004,"answer_id":71900394,"question_id":60759904,"body_markdown":"It works very well and how it works is not fully disclosed since it is more a paid service then free one.\r\n\r\nCloudflare default challenge is 30 minutes and they stopped to serve captchas to identify real users by replacing with a more UX oriented method (browser evaluate an hash some seconds). Solved the 1st captcha Your browser will get a token (cf-something) which will make you able to query the underlying resource for half hour (if the site owner didn&#39;t lower it) then your scrape process must be faster than 30m. \r\nThe real question is: why some APi are not available for the services You want to scrape?","title":"Scraping Cloudflare Sites","body":"<p>It works very well and how it works is not fully disclosed since it is more a paid service then free one.</p>\n<p>Cloudflare default challenge is 30 minutes and they stopped to serve captchas to identify real users by replacing with a more UX oriented method (browser evaluate an hash some seconds). Solved the 1st captcha Your browser will get a token (cf-something) which will make you able to query the underlying resource for half hour (if the site owner didn't lower it) then your scrape process must be faster than 30m.\nThe real question is: why some APi are not available for the services You want to scrape?</p>\n"}],"owner":{"account_id":17517684,"reputation":103,"user_id":12704395,"display_name":"Aasil"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"closed_date":1669239537,"answer_count":1,"score":3,"last_activity_date":1669233505,"creation_date":1584630459,"question_id":60759904,"body_markdown":"so I am trying to read data from a bunch of sites, now most of these sites use cloudflare // cloudflare antibot, what this does is block my scrape attempts...\r\n\r\nI don&#39;t know much about how the cloudflare anti bot works but I was wondering if you could explain how I could do this without using a external library.\r\n\r\nThanks.","title":"Scraping Cloudflare Sites","body":"<p>so I am trying to read data from a bunch of sites, now most of these sites use cloudflare // cloudflare antibot, what this does is block my scrape attempts...</p>\n\n<p>I don't know much about how the cloudflare anti bot works but I was wondering if you could explain how I could do this without using a external library.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","internationalization"],"answers":[{"comments":[{"owner":{"account_id":10890055,"reputation":1246,"user_id":8006169,"display_name":"Deepak Kumar"},"score":0,"creation_date":1669361319,"post_id":74551963,"comment_id":131628762,"body_markdown":"It looks good, but I have one problem with this approach. I will have to create Locale and ResourceBundle objects each time I need to get a message. I am looking for something like Spring managed beans and I can inject the locale once at the beginning of each request and then fetch the localized message.\nNote: I need to fetch the localized message in many places in the code and I don&#39;t want to carry my locale object everywhere to fetch the locale-specific message.","body":"It looks good, but I have one problem with this approach. I will have to create Locale and ResourceBundle objects each time I need to get a message. I am looking for something like Spring managed beans and I can inject the locale once at the beginning of each request and then fetch the localized message. Note: I need to fetch the localized message in many places in the code and I don&#39;t want to carry my locale object everywhere to fetch the locale-specific message."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1669476541,"post_id":74551963,"comment_id":131651176,"body_markdown":"You only need to create once. Then you can cache the ResourceBundle objects in a Hashmap. You can create Beans, sure. That&#39;s also not unique to Kafka","body":"You only need to create once. Then you can cache the ResourceBundle objects in a Hashmap. You can create Beans, sure. That&#39;s also not unique to Kafka"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669233093,"creation_date":1669230993,"answer_id":74551963,"question_id":74551723,"body_markdown":"Nothing about the solution is really unique to Kafka. Use a `ResourceBundle`\r\n\r\n```\r\n// example values\r\nString language = kafkaRecord.getLanugage();\r\nString country = kafkaRecord.getCountry();\r\n\r\n// Get i18n file\r\nLocale l = new Locale(language, country);\r\nResourceBundle messages = ResourceBundle.getBundle(&quot;MessagesBundle&quot;, l);\r\n// Print the translated key\r\nSystem.out.println(messages.getString(kafkaRecord.getEntry()));\r\n```\r\n\r\nhttps://docs.oracle.com/javase/tutorial/i18n/intro/quick.html\r\n\r\nHowever, Kafka data typically isn&#39;t directly end-user facing, so the translation could probably be deferred to somewhere else, such as a GUI or a database query. ","title":"Implement i18n for standalone (Kafka consumer based) Spring boot application","body":"<p>Nothing about the solution is really unique to Kafka. Use a <code>ResourceBundle</code></p>\n<pre><code>// example values\nString language = kafkaRecord.getLanugage();\nString country = kafkaRecord.getCountry();\n\n// Get i18n file\nLocale l = new Locale(language, country);\nResourceBundle messages = ResourceBundle.getBundle(&quot;MessagesBundle&quot;, l);\n// Print the translated key\nSystem.out.println(messages.getString(kafkaRecord.getEntry()));\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/i18n/intro/quick.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/i18n/intro/quick.html</a></p>\n<p>However, Kafka data typically isn't directly end-user facing, so the translation could probably be deferred to somewhere else, such as a GUI or a database query.</p>\n"}],"owner":{"account_id":10890055,"reputation":1246,"user_id":8006169,"display_name":"Deepak Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669233093,"creation_date":1669229407,"question_id":74551723,"body_markdown":"I am working on an application which is having a Kafka topic as an input point and a 3rd-party API as an output point. I need to implement the i18n for this application.\r\nSo basically I receive the input from the Kafka topic where I also get the locale in the message body. Now based on that locale I need to get some messages stored in the resource bundle. I have created the below files in the resources folder.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI also added the spring property `spring.messages.basename = i18n/messages`. But I am stuck on how to change the locale for each Kafka message.\r\nWhat I want to do is, have a Kafka filter that gets triggered before the consumer. I want to set the spring locale in this Kafka filter class.\r\n\r\nI show many articles and all talk about setting the locale using the `LocaleResolver` and `LocaleChangeInterceptor`. But as I receive input from Kafka topic instead of the web request. So those would not work for me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4GNrJ.png","title":"Implement i18n for standalone (Kafka consumer based) Spring boot application","body":"<p>I am working on an application which is having a Kafka topic as an input point and a 3rd-party API as an output point. I need to implement the i18n for this application.\nSo basically I receive the input from the Kafka topic where I also get the locale in the message body. Now based on that locale I need to get some messages stored in the resource bundle. I have created the below files in the resources folder.</p>\n<p><a href=\"https://i.stack.imgur.com/4GNrJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4GNrJ.png\" alt=\"enter image description here\" /></a></p>\n<p>I also added the spring property <code>spring.messages.basename = i18n/messages</code>. But I am stuck on how to change the locale for each Kafka message.\nWhat I want to do is, have a Kafka filter that gets triggered before the consumer. I want to set the spring locale in this Kafka filter class.</p>\n<p>I show many articles and all talk about setting the locale using the <code>LocaleResolver</code> and <code>LocaleChangeInterceptor</code>. But as I receive input from Kafka topic instead of the web request. So those would not work for me.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9363,"page":860,"page_size":100}
