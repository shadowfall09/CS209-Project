{"items":[{"tags":["java","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1680607781,"post_id":75928645,"comment_id":133923462,"body_markdown":"can you share the log error","body":"can you share the log error"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1680608552,"post_id":75928645,"comment_id":133923663,"body_markdown":"Does this answer your question? [How can I get value from application.yaml in test environment](https://stackoverflow.com/questions/75875823/how-can-i-get-value-from-application-yaml-in-test-environment)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75875823/how-can-i-get-value-from-application-yaml-in-test-environment\">How can I get value from application.yaml in test environment</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680610439,"post_id":75928645,"comment_id":133924185,"body_markdown":"Your test is using Mockito and nothing Spring related so the `@Value` won&#39;t be replaced.","body":"Your test is using Mockito and nothing Spring related so the <code>@Value</code> won&#39;t be replaced."},{"owner":{"account_id":9210277,"reputation":201,"user_id":6843798,"display_name":"S.R.D"},"score":0,"creation_date":1680611185,"post_id":75928645,"comment_id":133924394,"body_markdown":"Hello See i have added error log for this line(link = uploadFileToS3(bucketName, Regions.US_WEST_2, uuid + &quot;.zip&quot;, file);) i am getting error .","body":"Hello See i have added error log for this line(link = uploadFileToS3(bucketName, Regions.US_WEST_2, uuid + &quot;.zip&quot;, file);) i am getting error ."}],"answers":[{"tags":[],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680608163,"creation_date":1680608163,"answer_id":75928886,"question_id":75928645,"body_markdown":"You can try adding @SpringBootTest  on your test calss AsyncPublisherServiceImplTest to force spring to load ApplicationContext\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @SpringBootTest \r\n    @MockitoSettings(strictness = Strictness.LENIENT)\r\n    public class AsyncPublisherServiceImplTest {\r\n    \r\n        @InjectMocks\r\n        private AsyncPublisherServiceImpl asyncPublisherServiceImpl;\r\n    \r\n        @Mock\r\n        private AsyncPublisherDao dao;\r\n        @Mock\r\n        private AsyncUtil asyncUtil;\r\n        @Mock\r\n        private ClientListenerService techpulseservice;\r\n    \r\n        @Test\r\n        void publish() {\r\n            String link = null;\r\n            PublisherRequest PublisherRequest = RequestUtils.getPublisherRequest();\r\n    \r\n            lenient().when(dao.isValidCount(ConstantsTest.UUID)).thenReturn(true);\r\n            File file = new File(AsyncUtil.sanitizePathandfilename(ConstantsTest.UUID + &quot;.zip&quot;));\r\n            assertNotNull(asyncPublisherServiceImpl.publish(PublisherRequest.getUuid(), ConstantsTest.UnitOfWorkId));\r\n        }\r\n    \r\n    }","title":"Facing difficulty while accessing properties.yml file data using Junit","body":"<p>You can try adding @SpringBootTest  on your test calss AsyncPublisherServiceImplTest to force spring to load ApplicationContext</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@SpringBootTest \n@MockitoSettings(strictness = Strictness.LENIENT)\npublic class AsyncPublisherServiceImplTest {\n\n    @InjectMocks\n    private AsyncPublisherServiceImpl asyncPublisherServiceImpl;\n\n    @Mock\n    private AsyncPublisherDao dao;\n    @Mock\n    private AsyncUtil asyncUtil;\n    @Mock\n    private ClientListenerService techpulseservice;\n\n    @Test\n    void publish() {\n        String link = null;\n        PublisherRequest PublisherRequest = RequestUtils.getPublisherRequest();\n\n        lenient().when(dao.isValidCount(ConstantsTest.UUID)).thenReturn(true);\n        File file = new File(AsyncUtil.sanitizePathandfilename(ConstantsTest.UUID + &quot;.zip&quot;));\n        assertNotNull(asyncPublisherServiceImpl.publish(PublisherRequest.getUuid(), ConstantsTest.UnitOfWorkId));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":9210277,"reputation":201,"user_id":6843798,"display_name":"S.R.D"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680611094,"creation_date":1680606615,"question_id":75928645,"body_markdown":"&gt; This is my test Class &quot;AsyncPublisherServiceImplTest&quot; and my mock class is &quot;AsyncPublisherServiceImpl&quot; while mocking i am getting null data for this properties **&quot;@Value(&quot;${aws.s3.bucketName}&quot;)\r\n\tprivate String bucketName;&quot;** , Could you please help me that how i could get value for this properties.\r\n&gt; \r\n&gt; getting null for bucketName here while passing  &quot;**link = uploadFileToS3(bucketName, Regions.US_WEST_2, uuid + &quot;.zip&quot;, file)**&quot;\r\n\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    @MockitoSettings(strictness = Strictness.LENIENT)\r\n    public class AsyncPublisherServiceImplTest {\r\n    \r\n    \t@InjectMocks\r\n    \tprivate AsyncPublisherServiceImpl asyncPublisherServiceImpl;\r\n    \r\n    \t@Mock\r\n    \tprivate AsyncPublisherDao dao;\r\n    \t@Mock\r\n    \tprivate AsyncUtil asyncUtil;\r\n    \t@Mock\r\n    \tprivate ClientListenerService techpulseservice;\r\n    \r\n    \t@Test\r\n    \tvoid publish() {\r\n    \t\tString link = null;\r\n    \t\tPublisherRequest PublisherRequest = RequestUtils.getPublisherRequest();\r\n    \r\n    \t\tlenient().when(dao.isValidCount(ConstantsTest.UUID)).thenReturn(true);\r\n    \t\tFile file = new File(AsyncUtil.sanitizePathandfilename(ConstantsTest.UUID + &quot;.zip&quot;));\r\n    \t\tassertNotNull(asyncPublisherServiceImpl.publish(PublisherRequest.getUuid(), ConstantsTest.UnitOfWorkId));\r\n    \t}\r\n    \r\n    }\r\n\r\n&gt; Mock class is &quot;AsyncPublisherServiceImpl&quot;\r\n\r\n    @Service\r\n    @Transactional\r\n    public class AsyncPublisherServiceImpl implements AsyncPublisherService {\r\n    \tLogger logger = LoggerFactory.getLogger(this.getClass().getName());\r\n    \t@Autowired\r\n    \tprivate AsyncPublisherDao dao;\r\n    \t@Autowired\r\n    \tprivate AsyncUtil asyncUtil;\r\n    \t@Autowired\r\n    \tprivate ClientListenerService techpulseservice;\r\n    \r\n    \t@Value(&quot;${aws.s3.bucketName}&quot;)\r\n    \tprivate String bucketName;\r\n    \r\n    \t@Override\r\n    \tpublic boolean publish(final String uuid, final String userName) {\r\n    \t\tboolean validCount = dao.isValidCount(uuid);\r\n    \r\n    \t\tif (validCount) {\r\n    \t\t\ttry {\r\n    \t\t\t\tdao.updateMainStatus(uuid, Status.Processed.name());\r\n    \t\t\t\tlogger.info(&quot;current state--&gt;&quot; + Status.Processed.name());\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\tthrow new StatusUpdateException(&quot;Exception while updating status in DB&quot;);\r\n    \t\t\t}\r\n    \t\t\tfinal List&lt;JsonNode&gt; response = dao.fetchResponse(uuid, Status.Completed.name());\r\n    \r\n    \t\t\tif (response != null) {\r\n    \t\t\t\t// create a zip file for all json response\r\n    \t\t\t\tObjectMapper om = new ObjectMapper();\r\n    \r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tlogger.info(&quot;response from db ---&gt;&quot; + om.writeValueAsString(response));\r\n    \t\t\t\t} catch (JsonProcessingException e1) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te1.printStackTrace();\r\n    \t\t\t\t\tthrow new InternalErrorException(&quot;Exception while processing Json&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tbyte[] bytestream = asyncUtil.generateZip(uuid, response);\r\n    \t\t\t\tlogger.info(&quot;bytestream---&gt;&quot; + bytestream.toString());\r\n    \t\t\t\tlogger.info(&quot;Zip file process started ---&gt;&quot; + uuid);\r\n    \t\t\t\t// upload file to s3 bucket\r\n    \t\t\t\tFile file = new File(AsyncUtil.sanitizePathandfilename(uuid + &quot;.zip&quot;));\r\n    \t\t\t\tString link = null;\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tFileUtils.writeByteArrayToFile(file, bytestream);\r\n    \t\t\t\t\tlogger.info(&quot;Zip file generated---&gt;&quot; + uuid);\r\n    \t\t\t\t\tlink = uploadFileToS3(bucketName, Regions.US_WEST_2, uuid + &quot;.zip&quot;, file);\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\tlogger.error(&quot;exception in generating zip file&quot; + e.getMessage());\r\n    \t\t\t\t\tthrow new CommonException(&quot;Exception while uploading file&quot;);\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\tlogger.error(&quot;exception in generating zip file&quot; + e.getMessage());\r\n    \t\t\t\t\tthrow new CommonException(&quot;Exception while uploading file&quot;);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tdao.updateLink(uuid, link);\r\n    \t\t\t\t// publish zip file to techpulse listner\r\n    \t\t\t\tlogger.info(&quot;file uploaded to S3 bucket--&gt;&quot; + uuid);\r\n    \t\t\t\ttry {\r\n    \r\n    \t\t\t\t\ttechpulseservice.callRemoteListenerService(uuid, userName, true, file);\r\n    \t\t\t\t} catch (FileNotFoundException e) {\r\n    \t\t\t\t\tlogger.error(&quot;Exception in calling tech pulse&quot; + e.getMessage());\r\n    \t\t\t\t\tthrow new CommonException(&quot;Exception while receiving file&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tdao.updateStatus(uuid, Status.Completed.name());\r\n    \t\t\tlogger.info(&quot;current child state--&gt;&quot; + Status.Completed.name());\r\n    \t\t}\r\n    \t\treturn validCount;\r\n    \t}\r\n\r\n&gt; YML\r\naws:\r\n  s3:\r\n    region: &quot;us-west-2&quot;\r\n    bucketName: &quot;hpmap-pro-development-os-asyncmulti&quot; \r\n&gt; Error Log\r\n\r\n    com.hp.it.psoit.asyncdelegator.exception.CommonException: Exception while uploading file\r\n    \tat com.hp.it.psoit.asyncdelegator.service.impl.AsyncPublisherServiceImpl.publish(AsyncPublisherServiceImpl.java:85)\r\n    \tat com.hp.it.psoit.asyncdelegator.service.impl.AsyncPublisherServiceImplTest.publish(AsyncPublisherServiceImplTest.java:66)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\r\n","title":"Facing difficulty while accessing properties.yml file data using Junit","body":"<blockquote>\n<p>This is my test Class &quot;AsyncPublisherServiceImplTest&quot; and my mock class is &quot;AsyncPublisherServiceImpl&quot; while mocking i am getting null data for this properties <strong>&quot;@Value(&quot;${aws.s3.bucketName}&quot;)\nprivate String bucketName;&quot;</strong> , Could you please help me that how i could get value for this properties.</p>\n<p>getting null for bucketName here while passing  &quot;<strong>link = uploadFileToS3(bucketName, Regions.US_WEST_2, uuid + &quot;.zip&quot;, file)</strong>&quot;</p>\n</blockquote>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@MockitoSettings(strictness = Strictness.LENIENT)\npublic class AsyncPublisherServiceImplTest {\n\n    @InjectMocks\n    private AsyncPublisherServiceImpl asyncPublisherServiceImpl;\n\n    @Mock\n    private AsyncPublisherDao dao;\n    @Mock\n    private AsyncUtil asyncUtil;\n    @Mock\n    private ClientListenerService techpulseservice;\n\n    @Test\n    void publish() {\n        String link = null;\n        PublisherRequest PublisherRequest = RequestUtils.getPublisherRequest();\n\n        lenient().when(dao.isValidCount(ConstantsTest.UUID)).thenReturn(true);\n        File file = new File(AsyncUtil.sanitizePathandfilename(ConstantsTest.UUID + &quot;.zip&quot;));\n        assertNotNull(asyncPublisherServiceImpl.publish(PublisherRequest.getUuid(), ConstantsTest.UnitOfWorkId));\n    }\n\n}\n</code></pre>\n<blockquote>\n<p>Mock class is &quot;AsyncPublisherServiceImpl&quot;</p>\n</blockquote>\n<pre><code>@Service\n@Transactional\npublic class AsyncPublisherServiceImpl implements AsyncPublisherService {\n    Logger logger = LoggerFactory.getLogger(this.getClass().getName());\n    @Autowired\n    private AsyncPublisherDao dao;\n    @Autowired\n    private AsyncUtil asyncUtil;\n    @Autowired\n    private ClientListenerService techpulseservice;\n\n    @Value(&quot;${aws.s3.bucketName}&quot;)\n    private String bucketName;\n\n    @Override\n    public boolean publish(final String uuid, final String userName) {\n        boolean validCount = dao.isValidCount(uuid);\n\n        if (validCount) {\n            try {\n                dao.updateMainStatus(uuid, Status.Processed.name());\n                logger.info(&quot;current state--&gt;&quot; + Status.Processed.name());\n            } catch (Exception e) {\n                e.printStackTrace();\n                throw new StatusUpdateException(&quot;Exception while updating status in DB&quot;);\n            }\n            final List&lt;JsonNode&gt; response = dao.fetchResponse(uuid, Status.Completed.name());\n\n            if (response != null) {\n                // create a zip file for all json response\n                ObjectMapper om = new ObjectMapper();\n\n                try {\n                    logger.info(&quot;response from db ---&gt;&quot; + om.writeValueAsString(response));\n                } catch (JsonProcessingException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                    throw new InternalErrorException(&quot;Exception while processing Json&quot;);\n                }\n                byte[] bytestream = asyncUtil.generateZip(uuid, response);\n                logger.info(&quot;bytestream---&gt;&quot; + bytestream.toString());\n                logger.info(&quot;Zip file process started ---&gt;&quot; + uuid);\n                // upload file to s3 bucket\n                File file = new File(AsyncUtil.sanitizePathandfilename(uuid + &quot;.zip&quot;));\n                String link = null;\n                try {\n                    FileUtils.writeByteArrayToFile(file, bytestream);\n                    logger.info(&quot;Zip file generated---&gt;&quot; + uuid);\n                    link = uploadFileToS3(bucketName, Regions.US_WEST_2, uuid + &quot;.zip&quot;, file);\n                } catch (IOException e) {\n                    logger.error(&quot;exception in generating zip file&quot; + e.getMessage());\n                    throw new CommonException(&quot;Exception while uploading file&quot;);\n                } catch (Exception e) {\n                    logger.error(&quot;exception in generating zip file&quot; + e.getMessage());\n                    throw new CommonException(&quot;Exception while uploading file&quot;);\n                }\n\n                dao.updateLink(uuid, link);\n                // publish zip file to techpulse listner\n                logger.info(&quot;file uploaded to S3 bucket--&gt;&quot; + uuid);\n                try {\n\n                    techpulseservice.callRemoteListenerService(uuid, userName, true, file);\n                } catch (FileNotFoundException e) {\n                    logger.error(&quot;Exception in calling tech pulse&quot; + e.getMessage());\n                    throw new CommonException(&quot;Exception while receiving file&quot;);\n                }\n            }\n            dao.updateStatus(uuid, Status.Completed.name());\n            logger.info(&quot;current child state--&gt;&quot; + Status.Completed.name());\n        }\n        return validCount;\n    }\n</code></pre>\n<blockquote>\n<p>YML\naws:\ns3:\nregion: &quot;us-west-2&quot;\nbucketName: &quot;hpmap-pro-development-os-asyncmulti&quot;\nError Log</p>\n</blockquote>\n<pre><code>com.hp.it.psoit.asyncdelegator.exception.CommonException: Exception while uploading file\n    at com.hp.it.psoit.asyncdelegator.service.impl.AsyncPublisherServiceImpl.publish(AsyncPublisherServiceImpl.java:85)\n    at com.hp.it.psoit.asyncdelegator.service.impl.AsyncPublisherServiceImplTest.publish(AsyncPublisherServiceImplTest.java:66)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-tool-suite"],"comments":[{"owner":{"account_id":12858978,"reputation":231,"user_id":9301392,"display_name":"AnushaSP07"},"score":0,"creation_date":1634058208,"post_id":50764343,"comment_id":122922617,"body_markdown":"try below steps it worked for me https://stackoverflow.com/a/59569901/9301392 thanks @user2125853","body":"try below steps it worked for me <a href=\"https://stackoverflow.com/a/59569901/9301392\">stackoverflow.com/a/59569901/9301392</a> thanks @user2125853"}],"answers":[{"tags":[],"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1528474513,"creation_date":1528474513,"answer_id":50764685,"question_id":50764343,"body_markdown":"The simplest solution is to install your corporate certificate into the `cacerts` keystore of the JDK.\r\n\r\n    &lt;JAVA_HOME&gt;/bin/keytool -import -alias CorpProxy -keystore &lt;JAVA_HOME&gt;/jre/lib/security/cacerts -file your_corp_cert.crt\r\n\r\nYou will be prompted for the keystore password which is `changeit` by default.\r\n","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>The simplest solution is to install your corporate certificate into the <code>cacerts</code> keystore of the JDK.</p>\n\n<pre><code>&lt;JAVA_HOME&gt;/bin/keytool -import -alias CorpProxy -keystore &lt;JAVA_HOME&gt;/jre/lib/security/cacerts -file your_corp_cert.crt\n</code></pre>\n\n<p>You will be prompted for the keystore password which is <code>changeit</code> by default.</p>\n"},{"tags":[],"owner":{"account_id":1764499,"reputation":2230,"user_id":3587640,"display_name":"Zack Dawood"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1539375288,"creation_date":1539206231,"answer_id":52748918,"question_id":50764343,"body_markdown":"Try **http** instead of **https** in the URL\r\nhttp://start.spring.io \r\n\r\nThe following error will be resolved\r\n&quot;**SunCertPathBuilderException: unable to find valid certification path to requested target**&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IV97i.png\r\n  [2]: https://i.stack.imgur.com/18y2p.png","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>Try <strong>http</strong> instead of <strong>https</strong> in the URL\n<a href=\"http://start.spring.io\" rel=\"noreferrer\">http://start.spring.io</a> </p>\n\n<p>The following error will be resolved\n\"<strong>SunCertPathBuilderException: unable to find valid certification path to requested target</strong>\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/IV97i.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/IV97i.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/18y2p.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/18y2p.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1614790,"reputation":499,"user_id":1492788,"display_name":"sundar.sat84"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1551954760,"creation_date":1551954760,"answer_id":55041619,"question_id":50764343,"body_markdown":"I encountered the same problem and tried this: Window -&gt; Preferences -&gt; Network Connections Change mode to Manual\r\n\r\nIt works fine now.","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>I encountered the same problem and tried this: Window -> Preferences -> Network Connections Change mode to Manual</p>\n\n<p>It works fine now.</p>\n"},{"tags":[],"owner":{"account_id":3270215,"reputation":81,"user_id":2753763,"display_name":"PruthvirajSinh Solanki"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1562737134,"creation_date":1562737134,"answer_id":56964015,"question_id":50764343,"body_markdown":"In the case if none of above work, try below steps. It works fine for me as I was also working under corporate network, had same issue. \r\n\r\n 1. Close STS tool if open.  \r\n 2. Locate STS.ini file (mostly where you have installed STS tool and have STS.exe) \r\n 3. Edit STS.ini. Add following two line at the bottom (Use your JDK location, below one is just a sample)\r\n \r\n\r\n    -Djavax.net.ssl.trustStore=C:\\Program Files\\Java\\jdk1.8.0_20\\jre\\lib\\security\\cacerts\r\n\r\n    -Djava.net.ssl.trustStorePassword=changeit\r\n\r\n 4. Save STS.ini and restart the STS.exe. \r\n\r\nIt works in my case. Thank you. \r\n\r\n","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>In the case if none of above work, try below steps. It works fine for me as I was also working under corporate network, had same issue. </p>\n\n<ol>\n<li>Close STS tool if open.  </li>\n<li>Locate STS.ini file (mostly where you have installed STS tool and have STS.exe) </li>\n<li><p>Edit STS.ini. Add following two line at the bottom (Use your JDK location, below one is just a sample)</p>\n\n<p>-Djavax.net.ssl.trustStore=C:\\Program Files\\Java\\jdk1.8.0_20\\jre\\lib\\security\\cacerts</p>\n\n<p>-Djava.net.ssl.trustStorePassword=changeit</p></li>\n<li><p>Save STS.ini and restart the STS.exe. </p></li>\n</ol>\n\n<p>It works in my case. Thank you. </p>\n"},{"tags":[],"owner":{"account_id":3338712,"reputation":11,"user_id":2805470,"display_name":"blpvivek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570130934,"creation_date":1570129167,"answer_id":58225350,"question_id":50764343,"body_markdown":"Adding below to eclipse.ini\r\n\r\n    -Djavax.net.ssl.trustStore=C:\\Program Files\\Java\\jdk1.8.0_20\\jre\\lib\\security\\cacerts\r\n    -Djava.net.ssl.trustStorePassword=changeit\r\n\r\nworked for me.","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>Adding below to eclipse.ini</p>\n\n<pre><code>-Djavax.net.ssl.trustStore=C:\\Program Files\\Java\\jdk1.8.0_20\\jre\\lib\\security\\cacerts\n-Djava.net.ssl.trustStorePassword=changeit\n</code></pre>\n\n<p>worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1578410313,"creation_date":1577998537,"answer_id":59569901,"question_id":50764343,"body_markdown":"It would seem like the http now gets redirected to https.  So changing https to http may not work.  I am barely familiar with digital certificates. However, I have simply listed what I had to do to get it to work for me.  This is perhaps what @Strelok has suggested.\r\n\r\nI am on Windows 10 and JDK 1.8.0_144 64bit.  I am also behind a corporate proxy.  I did the following to get it to work for me.  If you are in a similar situation it may work for you.\r\n\r\nExport the corporate certificate (There may be other easier ways of doing this)\r\n\r\n1. On Chrome, I went to https://start.spring.io\r\n2. On the location bar clicked on the &#39;Lock&#39; symbol next to https.\r\n3. Selected &#39;Certificate(Valid)&#39; on the ensuing pop-up.\r\n4. On the resulting dialog box, clicked on the &#39;Certificate Path&#39; tab, from under certificate path tree **selected the root node**, and then clicked on &#39;View Certificate&#39;\r\n5. On the resulting dialog box, clicked on the &#39;Details&#39; tab and then clicked on &#39;Copy to File&#39;\r\n6. This brings up the &#39;Export wizard&#39;, clicked on &#39;Next&#39;.\r\n7. Left the certificate format to default &#39;DER encoded..&#39;, clicked on &#39;Next&#39;.\r\n8. Provided file name (.cer extension) for the certificate.\r\n9. Clicked Finish.\r\n\r\nThe above steps exported a certificate to a file that I imported into truststore (cacerts). \r\n\r\nTo import\r\n\r\n - Opened a &#39;Command&#39; prompt as Administrator to import the certificate\r\n - Went to bin directory of Java installation (this step is not needed if jre/bin is in your path)\r\n - Ran the following:\r\n\r\n    C:\\Program Files\\Java\\jre1.8.0_144\\bin&gt;keytool -importcert -alias your-alias -keystore &quot;C:\\Program Files\\Java\\jre1.8.0_144\\lib\\security\\cacerts&quot; -storepass changeit -file C:\\certificate-file-location\\saved-certificate-file.cer\r\n\r\n(Substitute your java location, certificate file location and certificate file name as appropriate.  The &#39;storepass&#39; should be &#39;changeit&#39;.)\r\n\r\nRestarted STS\r\n\r\n\r\n\r\n","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>It would seem like the http now gets redirected to https.  So changing https to http may not work.  I am barely familiar with digital certificates. However, I have simply listed what I had to do to get it to work for me.  This is perhaps what @Strelok has suggested.</p>\n\n<p>I am on Windows 10 and JDK 1.8.0_144 64bit.  I am also behind a corporate proxy.  I did the following to get it to work for me.  If you are in a similar situation it may work for you.</p>\n\n<p>Export the corporate certificate (There may be other easier ways of doing this)</p>\n\n<ol>\n<li>On Chrome, I went to <a href=\"https://start.spring.io\" rel=\"noreferrer\">https://start.spring.io</a></li>\n<li>On the location bar clicked on the 'Lock' symbol next to https.</li>\n<li>Selected 'Certificate(Valid)' on the ensuing pop-up.</li>\n<li>On the resulting dialog box, clicked on the 'Certificate Path' tab, from under certificate path tree <strong>selected the root node</strong>, and then clicked on 'View Certificate'</li>\n<li>On the resulting dialog box, clicked on the 'Details' tab and then clicked on 'Copy to File'</li>\n<li>This brings up the 'Export wizard', clicked on 'Next'.</li>\n<li>Left the certificate format to default 'DER encoded..', clicked on 'Next'.</li>\n<li>Provided file name (.cer extension) for the certificate.</li>\n<li>Clicked Finish.</li>\n</ol>\n\n<p>The above steps exported a certificate to a file that I imported into truststore (cacerts). </p>\n\n<p>To import</p>\n\n<ul>\n<li>Opened a 'Command' prompt as Administrator to import the certificate</li>\n<li>Went to bin directory of Java installation (this step is not needed if jre/bin is in your path)</li>\n<li><p>Ran the following:</p>\n\n<p>C:\\Program Files\\Java\\jre1.8.0_144\\bin>keytool -importcert -alias your-alias -keystore \"C:\\Program Files\\Java\\jre1.8.0_144\\lib\\security\\cacerts\" -storepass changeit -file C:\\certificate-file-location\\saved-certificate-file.cer</p></li>\n</ul>\n\n<p>(Substitute your java location, certificate file location and certificate file name as appropriate.  The 'storepass' should be 'changeit'.)</p>\n\n<p>Restarted STS</p>\n"},{"tags":[],"owner":{"display_name":"user4739287"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587156770,"creation_date":1587156770,"answer_id":61280488,"question_id":50764343,"body_markdown":"I was able to resolve the issue following two steps.\r\n\r\n 1. Firstly I imported certificate present on https://start.spring.io into the jdk cacerts.\r\n 2. Atlast I added the path of TrustStore and trustStore password in SpringToolSuite4.ini file.\r\n\r\n    -Djavax.net.ssl.trustStore=C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\security\\cacerts\r\n\r\n    -Djava.net.ssl.trustStorePassword=changeit","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>I was able to resolve the issue following two steps.</p>\n\n<ol>\n<li>Firstly I imported certificate present on <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">https://start.spring.io</a> into the jdk cacerts.</li>\n<li><p>Atlast I added the path of TrustStore and trustStore password in SpringToolSuite4.ini file.</p>\n\n<p>-Djavax.net.ssl.trustStore=C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\security\\cacerts</p>\n\n<p>-Djava.net.ssl.trustStorePassword=changeit</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1082094,"reputation":79,"user_id":1078794,"display_name":"Jeevan Sunkersett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633278331,"creation_date":1633278331,"answer_id":69426750,"question_id":50764343,"body_markdown":"I solved the issue by importing the SSL certificate into the CACERTS file.\r\n\r\nHowever it should be noted, that Eclipse/ STS by default uses its own JRE (in its plugins folder) such as \r\n::\r\n\r\n(STS--RELEASE)\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.2.v20210721-1149\\jre\\lib\\security\\cacerts","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>I solved the issue by importing the SSL certificate into the CACERTS file.</p>\n<p>However it should be noted, that Eclipse/ STS by default uses its own JRE (in its plugins folder) such as\n::</p>\n<p>(STS--RELEASE)\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_16.0.2.v20210721-1149\\jre\\lib\\security\\cacerts</p>\n"},{"tags":[],"owner":{"account_id":14744,"reputation":13116,"user_id":30594,"accept_rate":82,"display_name":"Ramesh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649264859,"creation_date":1649264859,"answer_id":71770947,"question_id":50764343,"body_markdown":"In Corporate Network, you may not have admin rights to import to `cacerts` file. The below steps helps to use STS in corporate network without admin privileges\r\n\r\n1. Know your %userprofile% directory \r\n   - Start -&gt; Run \r\n   - type `%userprofile%` and hit enter\r\n   - This opens a folder for which you may have write access. Note the path\r\n\r\n2. Export the corporate proxy certificate\r\n   - On Chrome, go to https://start.spring.io\r\n   - On the location bar click on the &#39;Lock&#39; symbol next to https.\r\n   - Select &#39;Certificate(Valid)&#39; on the ensuing pop-up.\r\n   - On the resulting dialog box, click on the &#39;Certificate Path&#39; tab, from under certificate path tree select the root node, and then click on &#39;View Certificate&#39;\r\n   - On the resulting dialog box, click on the &#39;Details&#39; tab and then click on &#39;Copy to File&#39;\r\n   - This brings up the &#39;Export wizard&#39;, click on &#39;Next&#39;.\r\n   - Leave the certificate format to default &#39;DER encoded..&#39;, click on &#39;Next&#39;.\r\n   - Provide `CorpRootCA.cer` as file name for the certificate and save in `%userprofile%/cacerts` folder. You may have to create the `cacerts` folder in your `%userprofile%`\r\n   - Click Finish\r\n\r\n3. Identify the JRE Path used by STS\r\n   - Open STS\r\n   - Click Window -&gt; Preferences\r\n   - Click Java -&gt; Installed JRE[![Installed JRE Window][1]][1]\r\n   - Copy the location used by STS\r\n\r\n4. Copy cacerts file\r\n   - Goto the jre location from Installed JRE in explorer\r\n   - Goto `lib/security` and copy the `cacerts` file\r\n   - Goto `%userprofile%/cacerts` and paste it inside the director\r\n\r\n5. Adding corporate proxy certificate using keytool\r\n   - Goto the jre location from Installed JRE in explorer\r\n   - Type `cmd` in the url bar to open command prompt at the location\r\n   - `./bin/keytool -import -alias CorpProxy -keystore %userprofile%/cacerts/cacerts -file %userprofile%/cacerts/CorpRootCA.cer -storepass changeit`\r\n\r\n    The &#39;storepass&#39; should be &#39;changeit&#39; which is the default password. If changed use the correct storepass\r\n\r\n6. Making STS point to new certstore\r\n   - Open the folder which contains the SpringToolSuite executable\r\n   - There will be a configuration file with same file as executable. In my case it was `SpringToolSuite4.ini`. Open the file\r\n   - Append the below lines after changing the `%userprofile`to match the user&#39;s directory. Update `trustStorePassword` as required. `changeit` is the default value\r\n\r\n&gt;     -Djavax.net.ssl.trustStore=%userprofile%\\cacerts\\cacerts\r\n&gt;     -Djava.net.ssl.trustStorePassword=changeit\r\n\r\n7. Restart STS and it should no longer throw \r\n&gt; SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0elBe.png","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>In Corporate Network, you may not have admin rights to import to <code>cacerts</code> file. The below steps helps to use STS in corporate network without admin privileges</p>\n<ol>\n<li><p>Know your %userprofile% directory</p>\n<ul>\n<li>Start -&gt; Run</li>\n<li>type <code>%userprofile%</code> and hit enter</li>\n<li>This opens a folder for which you may have write access. Note the path</li>\n</ul>\n</li>\n<li><p>Export the corporate proxy certificate</p>\n<ul>\n<li>On Chrome, go to <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">https://start.spring.io</a></li>\n<li>On the location bar click on the 'Lock' symbol next to https.</li>\n<li>Select 'Certificate(Valid)' on the ensuing pop-up.</li>\n<li>On the resulting dialog box, click on the 'Certificate Path' tab, from under certificate path tree select the root node, and then click on 'View Certificate'</li>\n<li>On the resulting dialog box, click on the 'Details' tab and then click on 'Copy to File'</li>\n<li>This brings up the 'Export wizard', click on 'Next'.</li>\n<li>Leave the certificate format to default 'DER encoded..', click on 'Next'.</li>\n<li>Provide <code>CorpRootCA.cer</code> as file name for the certificate and save in <code>%userprofile%/cacerts</code> folder. You may have to create the <code>cacerts</code> folder in your <code>%userprofile%</code></li>\n<li>Click Finish</li>\n</ul>\n</li>\n<li><p>Identify the JRE Path used by STS</p>\n<ul>\n<li>Open STS</li>\n<li>Click Window -&gt; Preferences</li>\n<li>Click Java -&gt; Installed JRE<a href=\"https://i.stack.imgur.com/0elBe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0elBe.png\" alt=\"Installed JRE Window\" /></a></li>\n<li>Copy the location used by STS</li>\n</ul>\n</li>\n<li><p>Copy cacerts file</p>\n<ul>\n<li>Goto the jre location from Installed JRE in explorer</li>\n<li>Goto <code>lib/security</code> and copy the <code>cacerts</code> file</li>\n<li>Goto <code>%userprofile%/cacerts</code> and paste it inside the director</li>\n</ul>\n</li>\n<li><p>Adding corporate proxy certificate using keytool</p>\n<ul>\n<li>Goto the jre location from Installed JRE in explorer</li>\n<li>Type <code>cmd</code> in the url bar to open command prompt at the location</li>\n<li><code>./bin/keytool -import -alias CorpProxy -keystore %userprofile%/cacerts/cacerts -file %userprofile%/cacerts/CorpRootCA.cer -storepass changeit</code></li>\n</ul>\n<p>The 'storepass' should be 'changeit' which is the default password. If changed use the correct storepass</p>\n</li>\n<li><p>Making STS point to new certstore</p>\n<ul>\n<li>Open the folder which contains the SpringToolSuite executable</li>\n<li>There will be a configuration file with same file as executable. In my case it was <code>SpringToolSuite4.ini</code>. Open the file</li>\n<li>Append the below lines after changing the <code>%userprofile</code>to match the user's directory. Update <code>trustStorePassword</code> as required. <code>changeit</code> is the default value</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<pre><code>-Djavax.net.ssl.trustStore=%userprofile%\\cacerts\\cacerts\n-Djava.net.ssl.trustStorePassword=changeit\n</code></pre>\n</blockquote>\n<ol start=\"7\">\n<li>Restart STS and it should no longer throw</li>\n</ol>\n<blockquote>\n<p>SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1055208,"reputation":1237,"user_id":1058096,"display_name":"dtelaroli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659021097,"creation_date":1659021097,"answer_id":73155150,"question_id":50764343,"body_markdown":"For MacOS users:\r\n\r\n    # step 1\r\n    # execute the command to get the certificates\r\n    openssl s_client -showcerts -connect start.spring.io:443\r\n    \r\n    # copy the all certificates, stating in: Certificate chain (including this line)\r\n    # Ending in the last: -----END CERTIFICATE-----\r\n    \r\n    # step 2\r\n    # create the cert file with this content\r\n    mkdir $HOME/certs\r\n    touch $HOME/certs/root.crt\r\n    vim $HOME/certs/root.crt\r\n    # paste the cert content\r\n    \r\n    # step 3\r\n    # import the cert\r\n    $JAVA_HOME/bin/keytool -importcert -alias your-alias -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit -file $HOME/certs/root.crt\r\n\r\n","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>For MacOS users:</p>\n<pre><code># step 1\n# execute the command to get the certificates\nopenssl s_client -showcerts -connect start.spring.io:443\n\n# copy the all certificates, stating in: Certificate chain (including this line)\n# Ending in the last: -----END CERTIFICATE-----\n\n# step 2\n# create the cert file with this content\nmkdir $HOME/certs\ntouch $HOME/certs/root.crt\nvim $HOME/certs/root.crt\n# paste the cert content\n\n# step 3\n# import the cert\n$JAVA_HOME/bin/keytool -importcert -alias your-alias -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit -file $HOME/certs/root.crt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2465781,"reputation":1582,"user_id":2148913,"accept_rate":80,"display_name":"Ajeesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680610970,"creation_date":1680558858,"answer_id":75924036,"question_id":50764343,"body_markdown":"I was able to solve this issue by looking at error log view from eclipse and it was trying to download from GitHub website. Added certificate of GitHub URL using keystore and it worked.\r\n\r\n    keytool -import -alias cert4 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\Zscaler Root CA.crt&quot;\r\n\r\n    keytool -import -alias cert5 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\Zscaler Intermediate Root CA (zscaler.net).crt&quot;\r\n\r\n    keytool -import -alias cert6 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\Zscaler Intermediate Root CA (zscaler.net) (t)_.crt&quot;\r\n\r\n    keytool -import -alias cert7 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\github.com&quot;\r\n\r\n\r\n\r\nNote: As others suggested, add spring certificates too.","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>I was able to solve this issue by looking at error log view from eclipse and it was trying to download from GitHub website. Added certificate of GitHub URL using keystore and it worked.</p>\n<pre><code>keytool -import -alias cert4 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\Zscaler Root CA.crt&quot;\n\nkeytool -import -alias cert5 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\Zscaler Intermediate Root CA (zscaler.net).crt&quot;\n\nkeytool -import -alias cert6 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\Zscaler Intermediate Root CA (zscaler.net) (t)_.crt&quot;\n\nkeytool -import -alias cert7 -keystore &quot;C:\\Users\\A\\Downloads\\jdk-17.0.6+10\\lib\\security\\cacerts&quot; -storepass changeit -file &quot;C:\\Users\\A\\Downloads\\github.com&quot;\n</code></pre>\n<p>Note: As others suggested, add spring certificates too.</p>\n"}],"owner":{"account_id":6599105,"reputation":337,"user_id":5097958,"display_name":"shivam gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105703,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":52748918,"answer_count":11,"score":22,"last_activity_date":1680610970,"creation_date":1528473303,"question_id":50764343,"body_markdown":"I am working on STS and while creating a new spring-boot project, it shows following error:\r\n\r\n     SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nsince it access https://start.spring.io as a service URL.\r\n\r\nI am working in a corporate network and they have their own certificates and security rules. I looked into web but could not find any clear solution for STS. How should I add certification path in STS for  given URL.\r\nAny help is appreciated.","title":"Spring tool suite- SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>I am working on STS and while creating a new spring-boot project, it shows following error:</p>\n\n<pre><code> SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n\n<p>since it access <a href=\"https://start.spring.io\" rel=\"noreferrer\">https://start.spring.io</a> as a service URL.</p>\n\n<p>I am working in a corporate network and they have their own certificates and security rules. I looked into web but could not find any clear solution for STS. How should I add certification path in STS for  given URL.\nAny help is appreciated.</p>\n"},{"tags":["java","android","themes"],"comments":[{"owner":{"account_id":11258927,"reputation":81,"user_id":8257809,"display_name":"Eguti"},"score":1,"creation_date":1636124673,"post_id":69854936,"comment_id":123480753,"body_markdown":"When you want to add a new Resource file there is a Available qualifier that is called Night Mode, select it with the &quot;&gt;&gt;&quot; button and select Night inside the Night mode.","body":"When you want to add a new Resource file there is a Available qualifier that is called Night Mode, select it with the &quot;&gt;&gt;&quot; button and select Night inside the Night mode."},{"owner":{"account_id":5888596,"reputation":2185,"user_id":4635851,"accept_rate":74,"display_name":"Shahid Thaika"},"score":0,"creation_date":1636128449,"post_id":69854936,"comment_id":123482335,"body_markdown":"@Eguti I don&#39;t get that option. Is there something I need to do first, or is there a tutorial somewhere?","body":"@Eguti I don&#39;t get that option. Is there something I need to do first, or is there a tutorial somewhere?"},{"owner":{"account_id":5888596,"reputation":2185,"user_id":4635851,"accept_rate":74,"display_name":"Shahid Thaika"},"score":0,"creation_date":1636128675,"post_id":69854936,"comment_id":123482415,"body_markdown":"OK, I tried again, this time right clicking on the &#39;res&#39; folder. It created a values-night folder. Still doesn&#39;t show it combined in the special folder view that you get on a new project, but at least I was able to add it.","body":"OK, I tried again, this time right clicking on the &#39;res&#39; folder. It created a values-night folder. Still doesn&#39;t show it combined in the special folder view that you get on a new project, but at least I was able to add it."}],"answers":[{"tags":[],"owner":{"account_id":5888596,"reputation":2185,"user_id":4635851,"accept_rate":74,"display_name":"Shahid Thaika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636181486,"creation_date":1636181486,"answer_id":69862011,"question_id":69854936,"body_markdown":"I managed to fix this myself. I compared, and made similar, files in the root project directory between the files in my project and a new Android project.\r\n\r\n[![Files I edited][1]][1]\r\n\r\nI had also edited `.idea\\name` file.\r\n\r\nThen I just did Build-&gt;Clean Project, and closed and re-opened the project in Android Studio, and the issue was fixed with the smart folder organisations automatically done by the IDE.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7YRxI.png","title":"Android: Add themes to existing project","body":"<p>I managed to fix this myself. I compared, and made similar, files in the root project directory between the files in my project and a new Android project.</p>\n<p><a href=\"https://i.stack.imgur.com/7YRxI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7YRxI.png\" alt=\"Files I edited\" /></a></p>\n<p>I had also edited <code>.idea\\name</code> file.</p>\n<p>Then I just did Build-&gt;Clean Project, and closed and re-opened the project in Android Studio, and the issue was fixed with the smart folder organisations automatically done by the IDE.</p>\n"},{"tags":[],"owner":{"account_id":14523513,"reputation":43,"user_id":10490545,"display_name":"dt.k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680610484,"creation_date":1680610484,"answer_id":75929294,"question_id":69854936,"body_markdown":"While I was updating an old app to use the new theming methods, I did the following using the command line:\r\n\r\n1. Navigate to the `res/values/` directory for my app, and add a new file named `themes.xml`.\r\n2. Navigate back one directory, to the `res/` directory and add a new directory called `values-night`.\r\n3. Navigate into the newly created `res/values-night` directory and add a new file called `themes.xml`.\r\n\r\nNow when I went back into Android Studio, it had automatically created the special `themes/` directory within the `res/values/` directory, which contains the two files - one for the light theme, and one for the dark theme.\r\n\r\nYou also need to update the following line in your manifest file to point to your theme files, rather than the `style.xml` file.\r\n\r\nIn your `AndroidManifest.xml` file, change this line from this:\r\n\r\n    android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\nTo this:\r\n\r\n    android:theme=&quot;@style/Theme.YourAppName&quot;&gt;\r\n\r\n**Theme.YouAppName** is the name that you add to the `themes.xml` files, as the style name, e.g:\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.YourAppName&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/colorSecondary&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n","title":"Android: Add themes to existing project","body":"<p>While I was updating an old app to use the new theming methods, I did the following using the command line:</p>\n<ol>\n<li>Navigate to the <code>res/values/</code> directory for my app, and add a new file named <code>themes.xml</code>.</li>\n<li>Navigate back one directory, to the <code>res/</code> directory and add a new directory called <code>values-night</code>.</li>\n<li>Navigate into the newly created <code>res/values-night</code> directory and add a new file called <code>themes.xml</code>.</li>\n</ol>\n<p>Now when I went back into Android Studio, it had automatically created the special <code>themes/</code> directory within the <code>res/values/</code> directory, which contains the two files - one for the light theme, and one for the dark theme.</p>\n<p>You also need to update the following line in your manifest file to point to your theme files, rather than the <code>style.xml</code> file.</p>\n<p>In your <code>AndroidManifest.xml</code> file, change this line from this:</p>\n<pre><code>android:theme=&quot;@style/AppTheme&quot;&gt;\n</code></pre>\n<p>To this:</p>\n<pre><code>android:theme=&quot;@style/Theme.YourAppName&quot;&gt;\n</code></pre>\n<p><strong>Theme.YouAppName</strong> is the name that you add to the <code>themes.xml</code> files, as the style name, e.g:</p>\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Theme.YourAppName&quot; parent=&quot;Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n    &lt;!-- Primary brand color. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=&quot;colorSecondary&quot;&gt;@color/colorSecondary&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":5888596,"reputation":2185,"user_id":4635851,"accept_rate":74,"display_name":"Shahid Thaika"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69862011,"answer_count":2,"score":1,"last_activity_date":1680610484,"creation_date":1636123005,"question_id":69854936,"body_markdown":"I have a really old app that I am updating and want to use modern theming methods, probably Material Design 3.\r\n\r\nIf I create a new Android project, it creates some special folder to res/values folder, which has two files - one for light and one for dark.\r\n\r\n[![modern theme folder][1]][1]\r\n\r\nI am unable to figure out how to add this special folder to my existing project as it looks like this at the moment.\r\n\r\n[![old values folder][2]][2]\r\n\r\nI couldn&#39;t find a tutorial online, and when I try to add a folder and call it themes, it doesn&#39;t have the same icon.\r\n\r\nCan someone help me with this?\r\n\r\n  [1]: https://i.stack.imgur.com/TmQRd.png\r\n  [2]: https://i.stack.imgur.com/VuZbL.png","title":"Android: Add themes to existing project","body":"<p>I have a really old app that I am updating and want to use modern theming methods, probably Material Design 3.</p>\n<p>If I create a new Android project, it creates some special folder to res/values folder, which has two files - one for light and one for dark.</p>\n<p><a href=\"https://i.stack.imgur.com/TmQRd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TmQRd.png\" alt=\"modern theme folder\" /></a></p>\n<p>I am unable to figure out how to add this special folder to my existing project as it looks like this at the moment.</p>\n<p><a href=\"https://i.stack.imgur.com/VuZbL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VuZbL.png\" alt=\"old values folder\" /></a></p>\n<p>I couldn't find a tutorial online, and when I try to add a folder and call it themes, it doesn't have the same icon.</p>\n<p>Can someone help me with this?</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":5401410,"reputation":915,"user_id":4301235,"display_name":"WIlfinity"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1467801702,"creation_date":1467801702,"answer_id":38222056,"question_id":38197447,"body_markdown":"I also posted this question over on the [Gradle forums][1]. I have copy/pasted the solution below.\r\n\r\n----------\r\n\r\n&gt; Gradle will prefer an artifact with an pom/ivy descriptor over an\r\n&gt; artifact without. I think this is why gradle continues searching after\r\n&gt; it finds a match in the flatDir repository. This may or may not solve\r\n&gt; your problem, but you could use a [FileCollectionDependency][2] instead of\r\n&gt; a [ModuleDependency][3].\r\n&gt; \r\n&gt; Eg:\r\n\r\n    ext {\r\n       libs = &quot;${rootProject.projectDir}/libs&quot;\r\n       testLibs = &quot;${rootProject.projectDir}/test.libs&quot;\r\n    }\r\n    dependencies {\r\n       compile files(&quot;${libs}/activation.jar&quot;, &quot;${libs}/imap.jar&quot;)\r\n       compile files(&quot;${testLibs}/gson-2.2.4.jar&quot;)\r\n       ...\r\n    }\r\n\r\n\r\n  [1]: https://discuss.gradle.org/t/combining-resolving-two-repository-types-in-gradle/18344/2?u=wildempsey\r\n  [2]: https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/FileCollectionDependency.html\r\n  [3]: https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/ModuleDependency.html","title":"Combining/Resolving Two Repository Types in Gradle","body":"<p>I also posted this question over on the <a href=\"https://discuss.gradle.org/t/combining-resolving-two-repository-types-in-gradle/18344/2?u=wildempsey\" rel=\"nofollow\">Gradle forums</a>. I have copy/pasted the solution below.</p>\n\n<hr>\n\n<blockquote>\n  <p>Gradle will prefer an artifact with an pom/ivy descriptor over an\n  artifact without. I think this is why gradle continues searching after\n  it finds a match in the flatDir repository. This may or may not solve\n  your problem, but you could use a <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/FileCollectionDependency.html\" rel=\"nofollow\">FileCollectionDependency</a> instead of\n  a <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/ModuleDependency.html\" rel=\"nofollow\">ModuleDependency</a>.</p>\n  \n  <p>Eg:</p>\n</blockquote>\n\n<pre><code>ext {\n   libs = \"${rootProject.projectDir}/libs\"\n   testLibs = \"${rootProject.projectDir}/test.libs\"\n}\ndependencies {\n   compile files(\"${libs}/activation.jar\", \"${libs}/imap.jar\")\n   compile files(\"${testLibs}/gson-2.2.4.jar\")\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10451032,"reputation":67,"user_id":7704658,"display_name":"Ximo Dante"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680610369,"creation_date":1680610369,"answer_id":75929270,"question_id":38197447,"body_markdown":"Maybe (as shown in [documentation][1]) using:\r\n```\r\nrepositories {\r\n    flatDir {dirs &quot;${rootProject.projectDir}/libs&quot;,&quot;${rootProject.projectDir}/test.libs&quot;}\r\n}\r\n```\r\nIt works for me\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/declaring_repositories.html","title":"Combining/Resolving Two Repository Types in Gradle","body":"<p>Maybe (as shown in <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html\" rel=\"nofollow noreferrer\">documentation</a>) using:</p>\n<pre><code>repositories {\n    flatDir {dirs &quot;${rootProject.projectDir}/libs&quot;,&quot;${rootProject.projectDir}/test.libs&quot;}\n}\n</code></pre>\n<p>It works for me</p>\n"}],"owner":{"account_id":5401410,"reputation":915,"user_id":4301235,"display_name":"WIlfinity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38222056,"answer_count":2,"score":0,"last_activity_date":1680610369,"creation_date":1467703139,"question_id":38197447,"body_markdown":"In my Gradle project, I need to define two types of repositories: a flat directory and a Maven repository (a local Nexus server).\r\n\r\nI can get both working separately, but can&#39;t get them to play nicely together. Ideally, I would have Gradle look at the local directory first, then at the Maven repository.\r\n\r\n**Current Setup**\r\n\r\nI have defined the repositories in my `build.gradle` like this:\r\n\r\n    repositories {\r\n        flatDir dirs: &quot;${rootProject.projectDir}/libs&quot;\t\r\n        flatDir dirs: &quot;${rootProject.projectDir}/test.libs&quot;\r\n\r\n        maven {\r\n            credentials {\r\n                username nexus_username\r\n                password nexus_password\r\n            }\r\n            url &quot;http://nexus-server/nexus/content/groups/public&quot;\r\n        }\r\n    }\r\n\r\nIn the `libs` (and `test.libs`) directory, the jar file names may or may not have versioning (but when using a `flatDir` repository, I believe that is irrelevant):\r\n\r\n    libs\\activation.jar\r\n\tlibs\\imap.jar\r\n\t....\r\n\tlibs\\&lt;closed_source_framework&gt;.jar\r\n\t....\r\n\tlibs\\gson-2.2.4.jar\r\n\tlibs\\stax-utils.jar\r\n\t.....\r\n\t\r\nThe reason I can&#39;t use our local Nexus server for everything is because of `&lt;closed_source_framework&gt;.jar`; most of the dependancies in the `libs` folder come packaged with that distribution, and I can&#39;t reliably get the version information to pull them from Nexus.\r\n\r\nNow, one of the other teams is publishing their jars to the Nexus server and I&#39;d like to be able to pull their jars from Nexus, so I have (re)defined my dependencies in my `build.gradle`:\r\n\r\n\tdependencies {\r\n\r\n\t\t// Grab other-team jar files from Nexus server\r\n\t\tcompile &quot;other-team-group:other-team-jar-1:version&quot;\r\n\t\tcompile &quot;other-team-group:other-team-jar-2:version&quot;\r\n\t\tcompile &quot;other-team-group:other-team-jar-3:version&quot;\r\n\r\n\t\t// Grab everything else from &#39;flatDir&#39;\r\n\t\tcompile name: &#39;activation&#39;\r\n\t\tcompile name: &#39;imap&#39;\r\n\t\t...\r\n\t\tcompile name: &#39;gson-2.2.4&#39;\r\n\t\tcompile name: &#39;stax-utils&#39;\r\n\t\t.....\r\n\t\t\r\n\t}\r\n\r\n**The Problem**\r\n\r\nSo now comes my problem. I had expected Gradle would search the `repositories` in the order specified in my `build.gradle`; meaning that it would look to the local `libs` folder first and then go to Nexus if it can&#39;t find it locally. What I&#39;m seeing instead is that Gradle is looking at the Nexus server for the jar files already in the local `libs` folder. Obviously, this is slowing down my build (I have ~30 dependencies defined).\r\n\r\n**Some Info**\r\n\r\nOutput from `gradle properties` command, to show repository information:\r\n\r\n\t.....\r\n\trepositories: [org.gradle.api.internal.artifacts.repositories.DefaultFlatDirArtifactRepository_Decorated@18814b1b, org.gradle.api.internal.artifacts.repositories.DefaultMavenArtifactRepository_Decorated@6dff028]\r\n\t.....\r\n\r\nOutput from `gradle --info compileJava`, to show that Gradle is doing a lookup to Nexus:\r\n\r\n\t.....\r\n\t// Successfully find the other team jar files in Nexus, this is okay\r\n\tDownload http://nexus-server/nexus/content/groups/public/other-team-group/other-team-jar-1/version/other-team-jar-1-version.pom\r\n\tDownload http://nexus-server/nexus/content/groups/public/other-team-group/other-team-jar-2/version/other-team-jar-2-version.pom\r\n\tDownload http://nexus-server/nexus/content/groups/public/other-team-group/other-team-jar-3/version/other-team-jar-3-version.pom\r\n\t.....\r\n\t// Continues looking in Nexus for jar files that should be found in local libs folder\r\n\tResource missing. [HTTP GET: http://nexus-server/nexus/content/groups/public//activation//activation-.pom]\r\n\tResource missing. [HTTP HEAD: http://nexus-server/nexus/content/groups/public//activation//activation-.jar]\r\n\tResource missing. [HTTP GET: http://nexus-server/nexus/content/groups/public///imap//imap-.pom]\r\n\tResource missing. [HTTP HEAD: http://nexus-server/nexus/content/groups/public//imap//imap-.jar]\r\n\t.....\r\n\r\n**Bottom Line**\r\n\r\nHow can I get Gradle to stop looking at the Maven repository for jar files that I know it will only find locally?","title":"Combining/Resolving Two Repository Types in Gradle","body":"<p>In my Gradle project, I need to define two types of repositories: a flat directory and a Maven repository (a local Nexus server).</p>\n\n<p>I can get both working separately, but can't get them to play nicely together. Ideally, I would have Gradle look at the local directory first, then at the Maven repository.</p>\n\n<p><strong>Current Setup</strong></p>\n\n<p>I have defined the repositories in my <code>build.gradle</code> like this:</p>\n\n<pre><code>repositories {\n    flatDir dirs: \"${rootProject.projectDir}/libs\"  \n    flatDir dirs: \"${rootProject.projectDir}/test.libs\"\n\n    maven {\n        credentials {\n            username nexus_username\n            password nexus_password\n        }\n        url \"http://nexus-server/nexus/content/groups/public\"\n    }\n}\n</code></pre>\n\n<p>In the <code>libs</code> (and <code>test.libs</code>) directory, the jar file names may or may not have versioning (but when using a <code>flatDir</code> repository, I believe that is irrelevant):</p>\n\n<pre><code>libs\\activation.jar\nlibs\\imap.jar\n....\nlibs\\&lt;closed_source_framework&gt;.jar\n....\nlibs\\gson-2.2.4.jar\nlibs\\stax-utils.jar\n.....\n</code></pre>\n\n<p>The reason I can't use our local Nexus server for everything is because of <code>&lt;closed_source_framework&gt;.jar</code>; most of the dependancies in the <code>libs</code> folder come packaged with that distribution, and I can't reliably get the version information to pull them from Nexus.</p>\n\n<p>Now, one of the other teams is publishing their jars to the Nexus server and I'd like to be able to pull their jars from Nexus, so I have (re)defined my dependencies in my <code>build.gradle</code>:</p>\n\n<pre><code>dependencies {\n\n    // Grab other-team jar files from Nexus server\n    compile \"other-team-group:other-team-jar-1:version\"\n    compile \"other-team-group:other-team-jar-2:version\"\n    compile \"other-team-group:other-team-jar-3:version\"\n\n    // Grab everything else from 'flatDir'\n    compile name: 'activation'\n    compile name: 'imap'\n    ...\n    compile name: 'gson-2.2.4'\n    compile name: 'stax-utils'\n    .....\n\n}\n</code></pre>\n\n<p><strong>The Problem</strong></p>\n\n<p>So now comes my problem. I had expected Gradle would search the <code>repositories</code> in the order specified in my <code>build.gradle</code>; meaning that it would look to the local <code>libs</code> folder first and then go to Nexus if it can't find it locally. What I'm seeing instead is that Gradle is looking at the Nexus server for the jar files already in the local <code>libs</code> folder. Obviously, this is slowing down my build (I have ~30 dependencies defined).</p>\n\n<p><strong>Some Info</strong></p>\n\n<p>Output from <code>gradle properties</code> command, to show repository information:</p>\n\n<pre><code>.....\nrepositories: [org.gradle.api.internal.artifacts.repositories.DefaultFlatDirArtifactRepository_Decorated@18814b1b, org.gradle.api.internal.artifacts.repositories.DefaultMavenArtifactRepository_Decorated@6dff028]\n.....\n</code></pre>\n\n<p>Output from <code>gradle --info compileJava</code>, to show that Gradle is doing a lookup to Nexus:</p>\n\n<pre><code>.....\n// Successfully find the other team jar files in Nexus, this is okay\nDownload http://nexus-server/nexus/content/groups/public/other-team-group/other-team-jar-1/version/other-team-jar-1-version.pom\nDownload http://nexus-server/nexus/content/groups/public/other-team-group/other-team-jar-2/version/other-team-jar-2-version.pom\nDownload http://nexus-server/nexus/content/groups/public/other-team-group/other-team-jar-3/version/other-team-jar-3-version.pom\n.....\n// Continues looking in Nexus for jar files that should be found in local libs folder\nResource missing. [HTTP GET: http://nexus-server/nexus/content/groups/public//activation//activation-.pom]\nResource missing. [HTTP HEAD: http://nexus-server/nexus/content/groups/public//activation//activation-.jar]\nResource missing. [HTTP GET: http://nexus-server/nexus/content/groups/public///imap//imap-.pom]\nResource missing. [HTTP HEAD: http://nexus-server/nexus/content/groups/public//imap//imap-.jar]\n.....\n</code></pre>\n\n<p><strong>Bottom Line</strong></p>\n\n<p>How can I get Gradle to stop looking at the Maven repository for jar files that I know it will only find locally?</p>\n"},{"tags":["java","iterator"],"answers":[{"tags":[],"owner":{"account_id":96954,"reputation":5629,"user_id":263266,"accept_rate":90,"display_name":"rkg"},"down_vote_count":1,"up_vote_count":44,"is_accepted":true,"score":43,"last_activity_date":1299029011,"creation_date":1299029011,"answer_id":5162403,"question_id":5162383,"body_markdown":"\r\nThis is what you would want to do:\r\n\r\n    while (it.hasNext()) {\r\n    \t\t\tPerson p = it.next();\r\n                if (p.getLast().toLowerCase().equals(last)) {\r\n                    System.out.println(p);\r\n                }\r\n            }\r\n\r\n","title":"How do I refer to the current object in an iterator","body":"<p>This is what you would want to do:</p>\n\n<pre><code>while (it.hasNext()) {\n            Person p = it.next();\n            if (p.getLast().toLowerCase().equals(last)) {\n                System.out.println(p);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1299029269,"creation_date":1299029269,"answer_id":5162429,"question_id":5162383,"body_markdown":"Hold the reference of the object in a separate var:\r\n\r\n    Person current = it.next();\r\n    current.methodOne();\r\n    current.methodTwo();\r\n\r\nWhen you&#39;re done with the current value, re-assing it the next\r\n\r\n    ...\r\n    // done? \r\n    current = it.next();\r\n\r\n\r\nIn a loop looks like:\r\n\r\n    while( it.hasNext() ) { \r\n       Person current = it.next();\r\n       current.doA();\r\n       current.doB();\r\n       current.doC();\r\n     }\r\n\r\n","title":"How do I refer to the current object in an iterator","body":"<p>Hold the reference of the object in a separate var:</p>\n\n<pre><code>Person current = it.next();\ncurrent.methodOne();\ncurrent.methodTwo();\n</code></pre>\n\n<p>When you're done with the current value, re-assing it the next</p>\n\n<pre><code>...\n// done? \ncurrent = it.next();\n</code></pre>\n\n<p>In a loop looks like:</p>\n\n<pre><code>while( it.hasNext() ) { \n   Person current = it.next();\n   current.doA();\n   current.doB();\n   current.doC();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1670860910,"creation_date":1299031173,"answer_id":5162624,"question_id":5162383,"body_markdown":"&gt; How do I refer to the current object in an iterator\r\n\r\nFor the record, the `Iterator` API does not allow you to do this.  There is no notion of a &quot;current&quot; object.  The `Iterator.next()` method gives you the next object ... and moves on.  \r\n\r\n(The `ListIterator.previous()` and `ListIterator.next()` methods are analogous.  Note that in the `ListIterator` case, method behaviour is documented in terms of a cursor that denotes a position before / between / after elements in the sequence being iterated.)\r\n\r\nThe solution is to assign the result of calling `it.next()` to a temporary variable, as described by the accepted answer.\r\n\r\n----------------\r\n\r\nI don&#39;t know for sure why the designers didn&#39;t include the notion of a &quot;current&quot; object in the API, but I can think of a few reasons:\r\n\r\n - It would make a typical&lt;sup&gt;1&lt;/sup&gt; `Iterator` object bigger; i.e. an extra field to hold the current object.\r\n - It would mean 1 extra method for an `Iterator` class to implement.\r\n - The notion of a current object does not fit well with the &quot;cursor&quot; model documented in the `ListIterator` interface ... and implied by the current `Iterator` design.\r\n - There is the issue of the Iterator &quot;hanging onto&quot; the current object.  In some cases that will prevent from being GC&#39;ed.\r\n - The large majority of iterator use-cases don&#39;t require a current object.\r\n\r\nAlso, there are other ways to deal with this.\r\n\r\nSounds like a good call ...\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - This and other points don&#39;t apply equally to all implementations of the `Iterator` API.  Indeed, in some cases the implementation of `current()` will be simple.  But that is beside the point.  Unless you make the proposed `current()` method an *optional*&lt;sup&gt;2&lt;/sup&gt; method (like `remove()`) *every* iterator implementation ... and by extension, *every* `Map` and `Collection` class ... has to provide this functionality, and deal with the issues, one way or another.&lt;br&gt;\r\n2 - Optional methods come with their own problems.&lt;/sup&gt; ","title":"How do I refer to the current object in an iterator","body":"<blockquote>\n<p>How do I refer to the current object in an iterator</p>\n</blockquote>\n<p>For the record, the <code>Iterator</code> API does not allow you to do this.  There is no notion of a &quot;current&quot; object.  The <code>Iterator.next()</code> method gives you the next object ... and moves on.</p>\n<p>(The <code>ListIterator.previous()</code> and <code>ListIterator.next()</code> methods are analogous.  Note that in the <code>ListIterator</code> case, method behaviour is documented in terms of a cursor that denotes a position before / between / after elements in the sequence being iterated.)</p>\n<p>The solution is to assign the result of calling <code>it.next()</code> to a temporary variable, as described by the accepted answer.</p>\n<hr />\n<p>I don't know for sure why the designers didn't include the notion of a &quot;current&quot; object in the API, but I can think of a few reasons:</p>\n<ul>\n<li>It would make a typical<sup>1</sup> <code>Iterator</code> object bigger; i.e. an extra field to hold the current object.</li>\n<li>It would mean 1 extra method for an <code>Iterator</code> class to implement.</li>\n<li>The notion of a current object does not fit well with the &quot;cursor&quot; model documented in the <code>ListIterator</code> interface ... and implied by the current <code>Iterator</code> design.</li>\n<li>There is the issue of the Iterator &quot;hanging onto&quot; the current object.  In some cases that will prevent from being GC'ed.</li>\n<li>The large majority of iterator use-cases don't require a current object.</li>\n</ul>\n<p>Also, there are other ways to deal with this.</p>\n<p>Sounds like a good call ...</p>\n<hr />\n<p><sup>1 - This and other points don't apply equally to all implementations of the <code>Iterator</code> API.  Indeed, in some cases the implementation of <code>current()</code> will be simple.  But that is beside the point.  Unless you make the proposed <code>current()</code> method an <em>optional</em><sup>2</sup> method (like <code>remove()</code>) <em>every</em> iterator implementation ... and by extension, <em>every</em> <code>Map</code> and <code>Collection</code> class ... has to provide this functionality, and deal with the issues, one way or another.<br>\n2 - Optional methods come with their own problems.</sup></p>\n"},{"tags":[],"owner":{"account_id":2269620,"reputation":463,"user_id":1997399,"display_name":"Kunda"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1486024558,"creation_date":1485899625,"answer_id":41968185,"question_id":5162383,"body_markdown":"If you need an existing implementation, you can use the ones from [Google Guava][1] or [Apache Commons Collections][2].&lt;br&gt;\r\nThe other answers are easier for your simple problem, but if you need to pass the iterator around and keep track of the last item returned by next(), these would help.\r\n\r\nHere is an example using Guava with the OP&#39;s code (assumging `Person` indeed has a `String toLowerCase()` method):\r\n\r\n    import com.google.common.collect.PeekingIterator;\r\n    import static com.google.common.collect.Iterators.peekingIterator;\r\n\r\n    public void getDetails() {\r\n        PeekingIterator&lt;Person&gt; it = peekingIterator(this.getPersonSet().iterator());\r\n        System.out.println(&quot;Enter First Name&quot;);\r\n        String first = in.next().toLowerCase();\r\n        System.out.println(&quot;Enter Second Name&quot;);\r\n        String last = in.next().toLowerCase();\r\n\r\n        while (it.hasNext()) {\r\n            // note the usage of peek() instead of next()\r\n            if (it.peek().getLast().toLowerCase().equals(last)) {\r\n                Person p = it.next();\r\n                System.out.println(p);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: http://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Iterators.html#peekingIterator-java.util.Iterator-\r\n  [2]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/iterators/PeekingIterator.html","title":"How do I refer to the current object in an iterator","body":"<p>If you need an existing implementation, you can use the ones from <a href=\"http://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Iterators.html#peekingIterator-java.util.Iterator-\" rel=\"nofollow noreferrer\">Google Guava</a> or <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/iterators/PeekingIterator.html\" rel=\"nofollow noreferrer\">Apache Commons Collections</a>.<br>\nThe other answers are easier for your simple problem, but if you need to pass the iterator around and keep track of the last item returned by next(), these would help.</p>\n\n<p>Here is an example using Guava with the OP's code (assumging <code>Person</code> indeed has a <code>String toLowerCase()</code> method):</p>\n\n<pre><code>import com.google.common.collect.PeekingIterator;\nimport static com.google.common.collect.Iterators.peekingIterator;\n\npublic void getDetails() {\n    PeekingIterator&lt;Person&gt; it = peekingIterator(this.getPersonSet().iterator());\n    System.out.println(\"Enter First Name\");\n    String first = in.next().toLowerCase();\n    System.out.println(\"Enter Second Name\");\n    String last = in.next().toLowerCase();\n\n    while (it.hasNext()) {\n        // note the usage of peek() instead of next()\n        if (it.peek().getLast().toLowerCase().equals(last)) {\n            Person p = it.next();\n            System.out.println(p);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15855428,"reputation":1,"user_id":11439944,"display_name":"Shicheng Huang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556773621,"creation_date":1556773621,"answer_id":55945983,"question_id":5162383,"body_markdown":"the next() method returns the current object, like this:\r\n\r\n    private class IterSinglyLinked implements SimpleIterator&lt;T&gt; {\r\n\t\tElement curr = head;\t\t// next element to return\r\n\r\n\t\tpublic boolean hasNext() {\r\n\t\t\treturn curr != null;\r\n\t\t}\r\n\r\n\t\tpublic T next() throws Exception {\r\n\t\t\tif (curr == null) throw new Exception(&quot;no more elements&quot;);\r\n\t\t\tT data = curr.data;\r\n\t\t\tcurr = curr.next;\r\n\t\t\treturn data;\r\n\t\t}\r\n\t}\r\nIf it returns the next one rather than the current one, there will be no way to reach the very first one","title":"How do I refer to the current object in an iterator","body":"<p>the next() method returns the current object, like this:</p>\n\n<pre><code>private class IterSinglyLinked implements SimpleIterator&lt;T&gt; {\n    Element curr = head;        // next element to return\n\n    public boolean hasNext() {\n        return curr != null;\n    }\n\n    public T next() throws Exception {\n        if (curr == null) throw new Exception(\"no more elements\");\n        T data = curr.data;\n        curr = curr.next;\n        return data;\n    }\n}\n</code></pre>\n\n<p>If it returns the next one rather than the current one, there will be no way to reach the very first one</p>\n"},{"tags":[],"owner":{"account_id":10137430,"reputation":41,"user_id":7488363,"display_name":"Leela Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680610153,"creation_date":1680610153,"answer_id":75929239,"question_id":5162383,"body_markdown":"We can call iterator.next() to get the next element and make the iterator to point to previous step by iterator.previous();\r\n\r\n    if(it.hasNext()) {\r\n     val = it.next();\r\n     /* As this moves the iterator pointer, we gotta move the cursor back if we have to return the next element. */\r\n    it.prev();\r\n    }","title":"How do I refer to the current object in an iterator","body":"<p>We can call iterator.next() to get the next element and make the iterator to point to previous step by iterator.previous();</p>\n<pre><code>if(it.hasNext()) {\n val = it.next();\n /* As this moves the iterator pointer, we gotta move the cursor back if we have to return the next element. */\nit.prev();\n}\n</code></pre>\n"}],"owner":{"account_id":250906,"reputation":365,"user_id":527923,"display_name":"Robairto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107437,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":5162403,"answer_count":6,"score":34,"last_activity_date":1680610153,"creation_date":1299028768,"question_id":5162383,"body_markdown":"I am trying to implement a search method in a TreeSet. By using an iterator with a condtional I would like to be able to run through the set and print the object that matches the condition. However the way I am doing it at the moment is printing out the subsequent object rather than the current.\r\nThis is what I have so far:\r\n\r\n    public void getDetails() {\r\n    \t\tIterator&lt;Person&gt; it = this.getPersonSet().iterator();\r\n    \t\tSystem.out.println(&quot;Enter First Name&quot;);\r\n    \t\tString first = in.next().toLowerCase();\r\n    \t\tSystem.out.println(&quot;Enter Second Name&quot;);\r\n    \t\tString last = in.next().toLowerCase();\r\n    \r\n    \t\twhile (it.hasNext()) {\r\n    \t\t\tif (it.next().getLast().toLowerCase().equals(last)) {\r\n    \t\t\t\tPerson p = it.next();\r\n    \t\t\t\tSystem.out.println(p);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t   \r\n    \t}\r\n\r\nAny help would be great","title":"How do I refer to the current object in an iterator","body":"<p>I am trying to implement a search method in a TreeSet. By using an iterator with a condtional I would like to be able to run through the set and print the object that matches the condition. However the way I am doing it at the moment is printing out the subsequent object rather than the current.\nThis is what I have so far:</p>\n\n<pre><code>public void getDetails() {\n        Iterator&lt;Person&gt; it = this.getPersonSet().iterator();\n        System.out.println(\"Enter First Name\");\n        String first = in.next().toLowerCase();\n        System.out.println(\"Enter Second Name\");\n        String last = in.next().toLowerCase();\n\n        while (it.hasNext()) {\n            if (it.next().getLast().toLowerCase().equals(last)) {\n                Person p = it.next();\n                System.out.println(p);\n            }\n        }\n\n    }\n</code></pre>\n\n<p>Any help would be great</p>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1680272187,"post_id":75899549,"comment_id":133874997,"body_markdown":"Not everything has file extensions. For example, this Web page&#39;s URL does not have a file extension.","body":"Not everything has file extensions. For example, this Web page&#39;s URL does not have a file extension."},{"owner":{"account_id":12046182,"reputation":313,"user_id":8811098,"display_name":"Nadin Martini"},"score":0,"creation_date":1680609941,"post_id":75899549,"comment_id":133924032,"body_markdown":"yes thank you, all the mime types did not work and we can not add the types through intent.putExtra(Intent.EXTRA_MIME_TYPES, mimetypes)","body":"yes thank you, all the mime types did not work and we can not add the types through intent.putExtra(Intent.EXTRA_MIME_TYPES, mimetypes)"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1680611632,"post_id":75899549,"comment_id":133924518,"body_markdown":"&quot;I created the file chooser myself that retrieves the folders and the filtered files&quot; -- note that you will not be able to access many files that way, including most of the contents of `Documents/` and `Downloads/` on Android 11+.","body":"&quot;I created the file chooser myself that retrieves the folders and the filtered files&quot; -- note that you will not be able to access many files that way, including most of the contents of <code>Documents&#47;</code> and <code>Downloads&#47;</code> on Android 11+."},{"owner":{"account_id":12046182,"reputation":313,"user_id":8811098,"display_name":"Nadin Martini"},"score":0,"creation_date":1680613971,"post_id":75899549,"comment_id":133925137,"body_markdown":"I tested this on Android 11 emulator and it is fine","body":"I tested this on Android 11 emulator and it is fine"},{"owner":{"account_id":12046182,"reputation":313,"user_id":8811098,"display_name":"Nadin Martini"},"score":0,"creation_date":1680614821,"post_id":75899549,"comment_id":133925361,"body_markdown":"For these special file extensions it is working fine, tested on Android 11 and Android 13","body":"For these special file extensions it is working fine, tested on Android 11 and Android 13"}],"owner":{"account_id":12046182,"reputation":313,"user_id":8811098,"display_name":"Nadin Martini"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680609780,"creation_date":1680272005,"question_id":75899549,"body_markdown":"I am trying to filter the files to get **only specific files with suffixes .ml**, how can I achieve this:\r\n \r\nI tried:\r\n\r\n \r\n        MimeTypeMap map = MimeTypeMap.getSingleton();\r\n        String mimeType = map.getMimeTypeFromExtension(&quot;.ml&quot;);\r\n        intent.setDataAndType(uri, mimeType);///mimeType = null\r\n   \r\n\r\nTried this, also fails:   \r\n\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(&quot;*/*&quot;);\r\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE,false);\r\n        String[] mimeTypes = {&quot;application/ml&quot;};\r\n        intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\r\n        intent = Intent.createChooser(intent,&quot;Choose a file...&quot;);\r\n\r\n\r\nIt is obvious that these kind of files does not have mime types, is there any approach to filter the files based on suffixes with intent file chooser?\r\n\r\nIn other words, How to query files with specific extensions in URI object in Android for file chooser intent?\r\n\r\n\r\n\r\n\r\nIn this page I found a helpful solution to create a recursive approach to get the files and create a list view, but in this way we have got rid of the browsing and choosing the file and this will take time in phones that has a lot of folders,\r\n\r\n Is there any other way to still browsing files with file chooser In Android?\r\n\r\n[Android file chooser with specific file extensions][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27407157/android-file-chooser-with-specific-file-extensions\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n**SOLUTION:**\r\nInspired from **JASON G PETERSON** Solution in the link above, I created the file chooser myself that retrieves the folders and the filtered files and I let the user choose which folder he want to browse and navigate from through `onclicklister` on items in the `listveiw` and update a list view.\r\n\r\n\r\n\r\n    public ArrayList&lt;File&gt; startBrowse(File dir, String pattern) {\r\n        browseResult = new ArrayList&lt;&gt;();\r\n        browseResultNames = new ArrayList&lt;&gt;();\r\n    \r\n        File listFile[] = dir.listFiles();\r\n        if (listFile != null) {\r\n            for (int i = 0; i &lt; listFile.length; i++) {\r\n                ///if it is folder just add it\r\n                if (listFile[i].isDirectory()) {\r\n                        browseResult.add(listFile[i]);\r\n                        browseResultNames.add(listFile[i].getPath());\r\n                }\r\n                else {\r\n                    if (listFile[i].getName().endsWith(pattern)){\r\n                        browseResult.add(listFile[i]);\r\n                        browseResultNames.add(listFile[i].getPath());\r\n                    }\r\n                }\r\n                }\r\n            }\r\n        return browseResult;\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Android file chooser with specific file extensions .ML Java","body":"<p>I am trying to filter the files to get <strong>only specific files with suffixes .ml</strong>, how can I achieve this:</p>\n<p>I tried:</p>\n<pre><code>    MimeTypeMap map = MimeTypeMap.getSingleton();\n    String mimeType = map.getMimeTypeFromExtension(&quot;.ml&quot;);\n    intent.setDataAndType(uri, mimeType);///mimeType = null\n</code></pre>\n<p>Tried this, also fails:</p>\n<pre><code>    Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n    intent.setType(&quot;*/*&quot;);\n    intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE,false);\n    String[] mimeTypes = {&quot;application/ml&quot;};\n    intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);\n    intent = Intent.createChooser(intent,&quot;Choose a file...&quot;);\n</code></pre>\n<p>It is obvious that these kind of files does not have mime types, is there any approach to filter the files based on suffixes with intent file chooser?</p>\n<p>In other words, How to query files with specific extensions in URI object in Android for file chooser intent?</p>\n<p>In this page I found a helpful solution to create a recursive approach to get the files and create a list view, but in this way we have got rid of the browsing and choosing the file and this will take time in phones that has a lot of folders,</p>\n<p>Is there any other way to still browsing files with file chooser In Android?</p>\n<p><a href=\"https://stackoverflow.com/questions/27407157/android-file-chooser-with-specific-file-extensions\">Android file chooser with specific file extensions</a></p>\n<p><strong>SOLUTION:</strong>\nInspired from <strong>JASON G PETERSON</strong> Solution in the link above, I created the file chooser myself that retrieves the folders and the filtered files and I let the user choose which folder he want to browse and navigate from through <code>onclicklister</code> on items in the <code>listveiw</code> and update a list view.</p>\n<pre><code>public ArrayList&lt;File&gt; startBrowse(File dir, String pattern) {\n    browseResult = new ArrayList&lt;&gt;();\n    browseResultNames = new ArrayList&lt;&gt;();\n\n    File listFile[] = dir.listFiles();\n    if (listFile != null) {\n        for (int i = 0; i &lt; listFile.length; i++) {\n            ///if it is folder just add it\n            if (listFile[i].isDirectory()) {\n                    browseResult.add(listFile[i]);\n                    browseResultNames.add(listFile[i].getPath());\n            }\n            else {\n                if (listFile[i].getName().endsWith(pattern)){\n                    browseResult.add(listFile[i]);\n                    browseResultNames.add(listFile[i].getPath());\n                }\n            }\n            }\n        }\n    return browseResult;\n    }\n</code></pre>\n"},{"tags":["java","exception","karate","feature-file","catch-exception"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680609628,"creation_date":1680609628,"answer_id":75929120,"question_id":75928987,"body_markdown":"You can use a JS try-catch block with the `eval` keyword. Here is an example that also shows how to use `karate.fail()` if you still want to fail the test.\r\n\r\n    * eval\r\n    &quot;&quot;&quot;\r\n    try {\r\n      var TestUtil = Java.type(&quot;pkg.TestUtil&quot;);\r\n      TestUtil.execute();\r\n    } catch (e) {\r\n      karate.logger.error(&#39;failed:&#39;, e);\r\n      // do your custom cleanup or logging\r\n      karate.fail(&#39;failed because of: &#39; + e);\r\n    }\r\n    &quot;&quot;&quot;\r\n\r\nFor further reading: https://github.com/karatelabs/karate/issues/2242\r\n\r\nAnd also: https://stackoverflow.com/a/75903894/143475\r\n\r\nBesides this I have no suggestions, so if you want any improvements in Karate please consider contributing code.","title":"Is there a way to catch org.graalvm.polyglot.PolyglotException in karate, while a (Java) feature step is failing?","body":"<p>You can use a JS try-catch block with the <code>eval</code> keyword. Here is an example that also shows how to use <code>karate.fail()</code> if you still want to fail the test.</p>\n<pre><code>* eval\n&quot;&quot;&quot;\ntry {\n  var TestUtil = Java.type(&quot;pkg.TestUtil&quot;);\n  TestUtil.execute();\n} catch (e) {\n  karate.logger.error('failed:', e);\n  // do your custom cleanup or logging\n  karate.fail('failed because of: ' + e);\n}\n&quot;&quot;&quot;\n</code></pre>\n<p>For further reading: <a href=\"https://github.com/karatelabs/karate/issues/2242\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/issues/2242</a></p>\n<p>And also: <a href=\"https://stackoverflow.com/a/75903894/143475\">https://stackoverflow.com/a/75903894/143475</a></p>\n<p>Besides this I have no suggestions, so if you want any improvements in Karate please consider contributing code.</p>\n"}],"owner":{"account_id":28212130,"reputation":65,"user_id":21564194,"display_name":"Divya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75929120,"answer_count":1,"score":2,"last_activity_date":1680609628,"creation_date":1680608776,"question_id":75928987,"body_markdown":"While I&#39;m running karate feature files with java classes, the feature file step is failing with `org.graalvm.polyglot.PolyglotException` and do we have a way to handle those exceptions?\r\n\r\nSince there are couple of test cases which has java implementation and these are tested by karate features.\r\ni.e., let&#39;s assume a java class &amp; feature\r\n\r\nClass\r\n```\r\npublic class TestUtil{\r\n public static void execute(){\r\n  // this value might be null for some use cases &amp; unexpected\r\n  Long unexepectedVal = SomeInternalClass.getValue(); \r\n  SomeInternalImpl.processAndValidate(unexepectedVal.toString());\r\n }\r\n}\r\n```\r\n\r\nFeature \r\n```\r\nBackground:\r\n  * def TestUtil = Java.type(&quot;pkg&quot;)\r\nScenario:\r\n  * eval TestUtil.execute()\r\n```\r\nWhile executing the feature file some use cases, I may get `NPE/ConnectionTimeOutException/Other Runtime exceptions` and but during the failures I&#39;ve got `org.graalvm.polyglot.PolyglotException` as a root exception &amp; how can we **trace/print** the the **original exception** in **HTML report**?. \r\n\r\n\r\nTrying to catch the `org.graalvm.polyglot.PolyglotException` and trace the original exception.","title":"Is there a way to catch org.graalvm.polyglot.PolyglotException in karate, while a (Java) feature step is failing?","body":"<p>While I'm running karate feature files with java classes, the feature file step is failing with <code>org.graalvm.polyglot.PolyglotException</code> and do we have a way to handle those exceptions?</p>\n<p>Since there are couple of test cases which has java implementation and these are tested by karate features.\ni.e., let's assume a java class &amp; feature</p>\n<p>Class</p>\n<pre><code>public class TestUtil{\n public static void execute(){\n  // this value might be null for some use cases &amp; unexpected\n  Long unexepectedVal = SomeInternalClass.getValue(); \n  SomeInternalImpl.processAndValidate(unexepectedVal.toString());\n }\n}\n</code></pre>\n<p>Feature</p>\n<pre><code>Background:\n  * def TestUtil = Java.type(&quot;pkg&quot;)\nScenario:\n  * eval TestUtil.execute()\n</code></pre>\n<p>While executing the feature file some use cases, I may get <code>NPE/ConnectionTimeOutException/Other Runtime exceptions</code> and but during the failures I've got <code>org.graalvm.polyglot.PolyglotException</code> as a root exception &amp; how can we <strong>trace/print</strong> the the <strong>original exception</strong> in <strong>HTML report</strong>?.</p>\n<p>Trying to catch the <code>org.graalvm.polyglot.PolyglotException</code> and trace the original exception.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","chromium"],"comments":[{"owner":{"account_id":212394,"reputation":176424,"user_id":465183,"accept_rate":77,"display_name":"Gilles Qu&#233;not"},"score":0,"creation_date":1680607949,"post_id":75928833,"comment_id":133923510,"body_markdown":"Add tag of your language","body":"Add tag of your language"},{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1680608325,"post_id":75928833,"comment_id":133923610,"body_markdown":"Change `chromedriver` to `chromedriver.exe`. See if this works.","body":"Change <code>chromedriver</code> to <code>chromedriver.exe</code>. See if this works."},{"owner":{"account_id":15951239,"reputation":9,"user_id":11510535,"display_name":"armdthm"},"score":0,"creation_date":1680608445,"post_id":75928833,"comment_id":133923643,"body_markdown":"its a linux environment and the file is without the .exe","body":"its a linux environment and the file is without the .exe"},{"owner":{"account_id":212394,"reputation":176424,"user_id":465183,"accept_rate":77,"display_name":"Gilles Qu&#233;not"},"score":0,"creation_date":1680608586,"post_id":75928833,"comment_id":133923671,"body_markdown":"What is your **language**, looks not Python","body":"What is your <b>language</b>, looks not Python"},{"owner":{"account_id":15951239,"reputation":9,"user_id":11510535,"display_name":"armdthm"},"score":0,"creation_date":1680608910,"post_id":75928833,"comment_id":133923747,"body_markdown":"its scala/java.","body":"its scala/java."}],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680609454,"creation_date":1680609454,"answer_id":75929088,"question_id":75928833,"body_markdown":"Try adding following options also, these two stopped the error for me\r\n\r\n    val options = new ChromeOptions()\r\n    options.addArguments(&quot;--no-sandbox&quot;); // Bypass OS security model\r\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;)// overcome limited resource problems\r\n\r\nIf its still not working try adding\r\n\r\n     options.addArguments(&quot;--headless&quot;)","title":"chromedriver launches chromium but cant load the site","body":"<p>Try adding following options also, these two stopped the error for me</p>\n<pre><code>val options = new ChromeOptions()\noptions.addArguments(&quot;--no-sandbox&quot;); // Bypass OS security model\noptions.addArguments(&quot;--disable-dev-shm-usage&quot;)// overcome limited resource problems\n</code></pre>\n<p>If its still not working try adding</p>\n<pre><code> options.addArguments(&quot;--headless&quot;)\n</code></pre>\n"}],"owner":{"account_id":15951239,"reputation":9,"user_id":11510535,"display_name":"armdthm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680609585,"creation_date":1680607820,"question_id":75928833,"body_markdown":"i am trying to do basic stuff with selenium. when google chrome is installed, the below code works and does everything thats required but the same setup doesnt work with chromium. it launches the chromium browser but doesnt load the site. i have checked that the version of chromium and chrome driver also are same. and i can only use chromium for my project. this is scala code. \r\n\r\ncode:\r\n\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./chromedriver&quot;)\r\nval options = new ChromeOptions()\r\noptions.addArguments(&quot;--remote-allow-origins=*&quot;)\r\nval driver = new ChromeDriver(options)\r\nval link = &quot;https://www.google.com/&quot;\r\ndriver.get(link)\r\n\r\n```\r\nlogs:\r\n```\r\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 30314\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\n{&quot;message&quot;:&quot;Could not start a new session. Response code 500. Message: unknown error: DevToolsActivePort file doesn&#39;t exist \\nHost info: host: &#39;zxcv-boomslang&#39;, ip: &#39;127.0.1.1&#39;\\nBuild info: version: &#39;4.8.0&#39;, revision: &#39;267030adea&#39;\\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.19.0-38-generic&#39;, java.version: &#39;1.8.0_202&#39;\\nDriver info: org.openqa.selenium.chrome.ChromeDriver\\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}}]&quot;}\r\n\r\n```\r\n\r\n\r\ntried searching everywhere but cant find a solution.","title":"chromedriver launches chromium but cant load the site","body":"<p>i am trying to do basic stuff with selenium. when google chrome is installed, the below code works and does everything thats required but the same setup doesnt work with chromium. it launches the chromium browser but doesnt load the site. i have checked that the version of chromium and chrome driver also are same. and i can only use chromium for my project. this is scala code.</p>\n<p>code:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./chromedriver&quot;)\nval options = new ChromeOptions()\noptions.addArguments(&quot;--remote-allow-origins=*&quot;)\nval driver = new ChromeDriver(options)\nval link = &quot;https://www.google.com/&quot;\ndriver.get(link)\n\n</code></pre>\n<p>logs:</p>\n<pre><code>Starting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 30314\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n{&quot;message&quot;:&quot;Could not start a new session. Response code 500. Message: unknown error: DevToolsActivePort file doesn't exist \\nHost info: host: 'zxcv-boomslang', ip: '127.0.1.1'\\nBuild info: version: '4.8.0', revision: '267030adea'\\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.19.0-38-generic', java.version: '1.8.0_202'\\nDriver info: org.openqa.selenium.chrome.ChromeDriver\\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*], extensions: []}}}]&quot;}\n\n</code></pre>\n<p>tried searching everywhere but cant find a solution.</p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1680151375,"post_id":75884099,"comment_id":133849990,"body_markdown":"Check log cat and add the crash stacktrace with question .","body":"Check log cat and add the crash stacktrace with question ."}],"answers":[{"tags":[],"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680153163,"creation_date":1680153163,"answer_id":75884338,"question_id":75884099,"body_markdown":"In your `MainActivity` class, you are setting the view as:\r\n\r\n      setContentView(R.layout.activity_main);\r\n\r\nHowever, your layout file `activity_main.xml` does not contain a `WebView` widget and hence you are getting that error. \r\n\r\nPlease try moving/creating the `WebView` widget inside the `activity_main.xml` file in order to resolve the error.\r\n\r\nPlease let me know in case you need anything else.\r\n\r\nHope that helps.","title":"i cant link webview in main activity to content layout","body":"<p>In your <code>MainActivity</code> class, you are setting the view as:</p>\n<pre><code>  setContentView(R.layout.activity_main);\n</code></pre>\n<p>However, your layout file <code>activity_main.xml</code> does not contain a <code>WebView</code> widget and hence you are getting that error.</p>\n<p>Please try moving/creating the <code>WebView</code> widget inside the <code>activity_main.xml</code> file in order to resolve the error.</p>\n<p>Please let me know in case you need anything else.</p>\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":28164428,"reputation":1,"user_id":21523810,"display_name":"Pratik Gajera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680608957,"creation_date":1680156767,"answer_id":75884663,"question_id":75884099,"body_markdown":"In your activity_main.xml file you have to add include tag like this\r\n\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    tools:ignore=&quot;HardcodedText&quot;&gt;\r\n\r\n    &lt;include\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        layout=&quot;your content layout like this @layout/content&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        app:menu=&quot;@menu/navigation_menu&quot; /&gt;\r\n\r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt; \r\n\r\nthis include tag helps the MainActivity.java to find (R.id.webview) in the class and due to this include tag `android.view.InflateException` will resolve and your app run smoothly.\r\n\r\n\r\n","title":"i cant link webview in main activity to content layout","body":"<p>In your activity_main.xml file you have to add include tag like this</p>\n<pre><code>&lt;androidx.drawerlayout.widget.DrawerLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/drawer_layout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;\ntools:ignore=&quot;HardcodedText&quot;&gt;\n\n&lt;include\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    layout=&quot;your content layout like this @layout/content&quot; /&gt;\n\n&lt;com.google.android.material.navigation.NavigationView\n    android:id=&quot;@+id/nav_view&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_gravity=&quot;start&quot;\n    app:menu=&quot;@menu/navigation_menu&quot; /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt; \n</code></pre>\n<p>this include tag helps the MainActivity.java to find (R.id.webview) in the class and due to this include tag <code>android.view.InflateException</code> will resolve and your app run smoothly.</p>\n"},{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680156831,"creation_date":1680156831,"answer_id":75884671,"question_id":75884099,"body_markdown":"From your log stacktrace, it indicates there is a problem with your ```NavigationView```:\r\n&gt; java.lang.RuntimeException: Unable to start activity ComponentInfo{app.example.webview/app.example.webview.MainActivity}: android.view.InflateException: Binary XML file line #23: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView\r\n\r\nAnd the main cause should be:  \r\n&gt; Caused by: android.content.res.Resources$NotFoundException: Can&#39;t find ColorStateList from drawable resource ID #0x7f0700f6\r\n\r\nSo there should be something wrong with your ```@drawable/tab```:\r\n```xml\r\n&lt;com.google.android.material.navigation.NavigationView\r\n        ...\r\n        app:itemIconTint=&quot;@drawable/tab&quot;\r\n        app:itemTextColor=&quot;@drawable/tab&quot;\r\n        ... /&gt;\r\n```\r\nYou should check if the value of ```@drawable/tab``` is properly defined. ","title":"i cant link webview in main activity to content layout","body":"<p>From your log stacktrace, it indicates there is a problem with your <code>NavigationView</code>:</p>\n<blockquote>\n<p>java.lang.RuntimeException: Unable to start activity ComponentInfo{app.example.webview/app.example.webview.MainActivity}: android.view.InflateException: Binary XML file line #23: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView</p>\n</blockquote>\n<p>And the main cause should be:</p>\n<blockquote>\n<p>Caused by: android.content.res.Resources$NotFoundException: Can't find ColorStateList from drawable resource ID #0x7f0700f6</p>\n</blockquote>\n<p>So there should be something wrong with your <code>@drawable/tab</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.google.android.material.navigation.NavigationView\n        ...\n        app:itemIconTint=&quot;@drawable/tab&quot;\n        app:itemTextColor=&quot;@drawable/tab&quot;\n        ... /&gt;\n</code></pre>\n<p>You should check if the value of <code>@drawable/tab</code> is properly defined.</p>\n"}],"owner":{"account_id":19229764,"reputation":1,"user_id":14051847,"display_name":"omarhariri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680608957,"creation_date":1680150102,"question_id":75884099,"body_markdown":"here i try to add menu in my app screen , and when i run the app ,  its crash and show me this error :\r\n`@layout/activity_main` does not contain a declaration with id `webview`\r\n\r\nto understand my problem take a look to my code\r\n\r\n\r\nactivity layout \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:openDrawer=&quot;start&quot;&gt;\r\n\r\n\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        app:itemIconTint=&quot;@drawable/tab&quot;\r\n        app:itemTextColor=&quot;@drawable/tab&quot;\r\n        app:headerLayout=&quot;@layout/nav_header&quot;\r\n        app:menu=&quot;@menu/menu&quot; /&gt;\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n\r\n\r\n```\r\n\r\n\r\nand this content layout\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;WebView\r\n        tools:context=&quot;.MainActivity&quot;\r\n        android:id=&quot;@+id/webview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;1&quot;&gt;\r\n    &lt;/WebView&gt;\r\n\r\n    &lt;com.google.android.gms.ads.AdView\r\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/adView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        ads:adSize=&quot;SMART_BANNER&quot;\r\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;&gt;\r\n    &lt;/com.google.android.gms.ads.AdView&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n\r\npart of my code from main activity (because its so long) , the error show with this (R.id.webview)\r\n\r\n```\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    LinearLayout LinearLayoutView;\r\n    private WebView webView;\r\n    private AdView mAdView;\r\n    private InterstitialAd mInterstitialAd;\r\n    DrawerLayout drawer_layout;\r\n    NavigationView nav_view;\r\n    ActionBarDrawerToggle drawerToggle;\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n\r\n\r\n        drawer_layout = findViewById(R.id.drawer_layout);\r\n        nav_view = findViewById(R.id.nav_view);\r\n        drawerToggle = new ActionBarDrawerToggle(this,drawer_layout, R.string.open, R.string.close);\r\n        drawer_layout.addDrawerListener(drawerToggle);\r\n        drawerToggle.syncState();\r\n       getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        nav_view.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\r\n                switch (item.getItemId())\r\n                {\r\n\r\n                    case R.id.nav_item01:\r\n                    {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n\r\n                    case R.id.nav_item02:\r\n                    {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    case R.id.nav_item03:\r\n                    {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    case R.id.nav_item04:\r\n                    {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    case R.id.nav_item05:\r\n                    {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    case R.id.nav_item06:\r\n                    {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    case R.id.nav_item07:\r\n                    {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    case R.id.nav_share:\r\n                    {\r\n                    ShareApp();\r\n                    }\r\n                    case R.id.rateapp:\r\n                    {\r\n\r\n                        RateApp();\r\n                    }\r\n                    case R.id.moreapps:\r\n                    {\r\n\r\n                       MoreApps();\r\n                    }\r\n\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n\r\n\r\n            WebView webView = findViewById(R.id.webview);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.setWebViewClient(new WebViewClient());\r\nwebviewscreen();\r\n\r\n        WebSettings webSettings = webView.getSettings();\r\n\r\n\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webSettings.setSaveFormData(false);\r\n        webSettings.setSupportZoom(false);\r\n        webSettings.setGeolocationEnabled(true);\r\n        webSettings.setAllowFileAccess(true);\r\n        webSettings.setAllowFileAccessFromFileURLs(true);\r\n        webSettings.setAllowUniversalAccessFromFileURLs(true);\r\n        webSettings.setUseWideViewPort(true);\r\n        webSettings.setDomStorageEnabled(true);\r\n\r\n        webView.setHapticFeedbackEnabled(false);\r\n\r\n```\r\n\r\n\r\nerrors :\r\n\r\n```\r\n\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: app.example.webview, PID: 8114\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{app.example.webview/app.example.webview.MainActivity}: android.view.InflateException: Binary XML file line #23: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n     Caused by: android.view.InflateException: Binary XML file line #23: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView\r\n     Caused by: android.view.InflateException: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:775)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:197)\r\n        at app.example.webview**strong text**.MainActivity.onCreate(MainActivity.java:58)\r\n        at android.app.Activity.performCreate(Activity.java:7009)\r\n        at android.app.Activity.performCreate(Activity.java:7000)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2731)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n     Caused by: android.content.res.Resources$NotFoundException: Can&#39;t find ColorStateList from drawable resource ID #0x7f0700f6\r\n        at android.content.res.ResourcesImpl.loadColorStateList(ResourcesImpl.java:1013)\r\n        at android.content.res.Resources.getColorStateList(Resources.java:1021)\r\n        at androidx.core.content.res.ResourcesCompat$Api23Impl.getColorStateList(ResourcesCompat.java:688)\r\n        at androidx.core.content.res.ResourcesCompat.getColorStateList(ResourcesCompat.java:244)\r\n        at androidx.core.content.ContextCompat.getColorStateList(ContextCompat.java:558)\r\n        at androidx.appcompat.content.res.AppCompatResources.getColorStateList(AppCompatResources.java:48)\r\n        at androidx.appcompat.widget.TintTypedArray.getColorStateList(TintTypedArray.java:179)\r\n        at com.google.android.material.navigation.NavigationView.&lt;init&gt;(NavigationView.java:213)\r\nE/AndroidRuntime:     at com.google.android.material.navigation.NavigationView.&lt;init&gt;(NavigationView.java:141)\r\n        \t 26 more\r\n\r\n```\r\n\r\n\r\ni watch many videos and they do exactly what I do , and its work with them","title":"i cant link webview in main activity to content layout","body":"<p>here i try to add menu in my app screen , and when i run the app ,  its crash and show me this error :\n<code>@layout/activity_main</code> does not contain a declaration with id <code>webview</code></p>\n<p>to understand my problem take a look to my code</p>\n<p>activity layout</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n\n\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        app:itemIconTint=&quot;@drawable/tab&quot;\n        app:itemTextColor=&quot;@drawable/tab&quot;\n        app:headerLayout=&quot;@layout/nav_header&quot;\n        app:menu=&quot;@menu/menu&quot; /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n\n\n\n</code></pre>\n<p>and this content layout</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;WebView\n        tools:context=&quot;.MainActivity&quot;\n        android:id=&quot;@+id/webview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_weight=&quot;1&quot;&gt;\n    &lt;/WebView&gt;\n\n    &lt;com.google.android.gms.ads.AdView\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:id=&quot;@+id/adView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        ads:adSize=&quot;SMART_BANNER&quot;\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;&gt;\n    &lt;/com.google.android.gms.ads.AdView&gt;\n\n\n\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p>part of my code from main activity (because its so long) , the error show with this (R.id.webview)</p>\n<pre><code>\npublic class MainActivity extends AppCompatActivity {\n\n    LinearLayout LinearLayoutView;\n    private WebView webView;\n    private AdView mAdView;\n    private InterstitialAd mInterstitialAd;\n    DrawerLayout drawer_layout;\n    NavigationView nav_view;\n    ActionBarDrawerToggle drawerToggle;\n\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n\n\n        drawer_layout = findViewById(R.id.drawer_layout);\n        nav_view = findViewById(R.id.nav_view);\n        drawerToggle = new ActionBarDrawerToggle(this,drawer_layout, R.string.open, R.string.close);\n        drawer_layout.addDrawerListener(drawerToggle);\n        drawerToggle.syncState();\n       getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n        nav_view.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n\n                switch (item.getItemId())\n                {\n\n                    case R.id.nav_item01:\n                    {\n\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\n                    }\n\n                    case R.id.nav_item02:\n                    {\n\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\n                    }\n                    case R.id.nav_item03:\n                    {\n\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\n                    }\n                    case R.id.nav_item04:\n                    {\n\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\n                    }\n                    case R.id.nav_item05:\n                    {\n\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\n                    }\n                    case R.id.nav_item06:\n                    {\n\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\n                    }\n                    case R.id.nav_item07:\n                    {\n\n                        Toast.makeText(MainActivity.this, &quot;this nav item 1 &quot;, Toast.LENGTH_LONG).show();\n                    }\n                    case R.id.nav_share:\n                    {\n                    ShareApp();\n                    }\n                    case R.id.rateapp:\n                    {\n\n                        RateApp();\n                    }\n                    case R.id.moreapps:\n                    {\n\n                       MoreApps();\n                    }\n\n                }\n                return false;\n            }\n        });\n\n\n\n            WebView webView = findViewById(R.id.webview);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.setWebViewClient(new WebViewClient());\nwebviewscreen();\n\n        WebSettings webSettings = webView.getSettings();\n\n\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setSaveFormData(false);\n        webSettings.setSupportZoom(false);\n        webSettings.setGeolocationEnabled(true);\n        webSettings.setAllowFileAccess(true);\n        webSettings.setAllowFileAccessFromFileURLs(true);\n        webSettings.setAllowUniversalAccessFromFileURLs(true);\n        webSettings.setUseWideViewPort(true);\n        webSettings.setDomStorageEnabled(true);\n\n        webView.setHapticFeedbackEnabled(false);\n\n</code></pre>\n<p>errors :</p>\n<pre><code>\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: app.example.webview, PID: 8114\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{app.example.webview/app.example.webview.MainActivity}: android.view.InflateException: Binary XML file line #23: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n     Caused by: android.view.InflateException: Binary XML file line #23: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView\n     Caused by: android.view.InflateException: Binary XML file line #23: Error inflating class com.google.android.material.navigation.NavigationView\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:334)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:647)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:790)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:775)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:197)\n        at app.example.webview**strong text**.MainActivity.onCreate(MainActivity.java:58)\n        at android.app.Activity.performCreate(Activity.java:7009)\n        at android.app.Activity.performCreate(Activity.java:7000)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2731)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n     Caused by: android.content.res.Resources$NotFoundException: Can't find ColorStateList from drawable resource ID #0x7f0700f6\n        at android.content.res.ResourcesImpl.loadColorStateList(ResourcesImpl.java:1013)\n        at android.content.res.Resources.getColorStateList(Resources.java:1021)\n        at androidx.core.content.res.ResourcesCompat$Api23Impl.getColorStateList(ResourcesCompat.java:688)\n        at androidx.core.content.res.ResourcesCompat.getColorStateList(ResourcesCompat.java:244)\n        at androidx.core.content.ContextCompat.getColorStateList(ContextCompat.java:558)\n        at androidx.appcompat.content.res.AppCompatResources.getColorStateList(AppCompatResources.java:48)\n        at androidx.appcompat.widget.TintTypedArray.getColorStateList(TintTypedArray.java:179)\n        at com.google.android.material.navigation.NavigationView.&lt;init&gt;(NavigationView.java:213)\nE/AndroidRuntime:     at com.google.android.material.navigation.NavigationView.&lt;init&gt;(NavigationView.java:141)\n             26 more\n\n</code></pre>\n<p>i watch many videos and they do exactly what I do , and its work with them</p>\n"},{"tags":["java","android","android-intent","sharedpreferences","android-contentprovider"],"comments":[{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":1,"creation_date":1385463929,"post_id":20214963,"comment_id":30143752,"body_markdown":"use ContentProvider, you dont have to store the data in a sqlite db, you can use anything e.g. SharedPreferences","body":"use ContentProvider, you dont have to store the data in a sqlite db, you can use anything e.g. SharedPreferences"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1385467659,"post_id":20214963,"comment_id":30145964,"body_markdown":"Does the data need to be persistent? or can it just be stored in memory (and will be gone when both apps shutdown or the phone is rebooted)","body":"Does the data need to be persistent? or can it just be stored in memory (and will be gone when both apps shutdown or the phone is rebooted)"},{"owner":{"account_id":243016,"reputation":9390,"user_id":514919,"accept_rate":28,"display_name":"Pratik Mandrekar"},"score":1,"creation_date":1385468232,"post_id":20214963,"comment_id":30146318,"body_markdown":"The data needs to be persistent. But out of curiosity, what were you thinking of if it can be held in memory or in transient storage?","body":"The data needs to be persistent. But out of curiosity, what were you thinking of if it can be held in memory or in transient storage?"},{"owner":{"account_id":243016,"reputation":9390,"user_id":514919,"accept_rate":28,"display_name":"Pratik Mandrekar"},"score":0,"creation_date":1385470309,"post_id":20214963,"comment_id":30147551,"body_markdown":"@pskink - Any example how I can use SharedPreferences with a ContentProvider properly? AFAIK, the ContentResolver returns a cursor when we do a query in a normal situation.","body":"@pskink - Any example how I can use SharedPreferences with a ContentProvider properly? AFAIK, the ContentResolver returns a cursor when we do a query in a normal situation."},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":1,"creation_date":1385471299,"post_id":20214963,"comment_id":30148118,"body_markdown":"return a MatrixCuesor in ContentProvider.query() merhod","body":"return a MatrixCuesor in ContentProvider.query() merhod"}],"answers":[{"tags":[],"owner":{"account_id":418491,"reputation":1202,"user_id":795082,"accept_rate":100,"display_name":"Jakub Szczygie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385463894,"creation_date":1385463894,"answer_id":20215320,"question_id":20214963,"body_markdown":"You can set up Broadcast Reciever on one end to listen for particular intent type. And broadcast intents from first application with data held in extras. You can send whole objects via intent using parcerable approach. \r\n\r\nMore about parcerable approach can be found [here][1]\r\n\r\n\r\n  [1]: https://github.com/thecodepath/android_guides/wiki/Using-Parcelable","title":"Best practices for sharing data between android apps","body":"<p>You can set up Broadcast Reciever on one end to listen for particular intent type. And broadcast intents from first application with data held in extras. You can send whole objects via intent using parcerable approach. </p>\n\n<p>More about parcerable approach can be found <a href=\"https://github.com/thecodepath/android_guides/wiki/Using-Parcelable\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":243016,"reputation":9390,"user_id":514919,"accept_rate":28,"display_name":"Pratik Mandrekar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385489807,"creation_date":1385489807,"answer_id":20224851,"question_id":20214963,"body_markdown":"I created a small library that makes it simple to share `SharedPreferences` from one app to another in a `READ ONLY` fashion using `ContentProvider`.\r\n\r\nDescribed it here - https://github.com/ratpik/android-sharedpreferences-api/blob/master/README.md","title":"Best practices for sharing data between android apps","body":"<p>I created a small library that makes it simple to share <code>SharedPreferences</code> from one app to another in a <code>READ ONLY</code> fashion using <code>ContentProvider</code>.</p>\n\n<p>Described it here - <a href=\"https://github.com/ratpik/android-sharedpreferences-api/blob/master/README.md\" rel=\"nofollow\">https://github.com/ratpik/android-sharedpreferences-api/blob/master/README.md</a></p>\n"}],"owner":{"account_id":243016,"reputation":9390,"user_id":514919,"accept_rate":28,"display_name":"Pratik Mandrekar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680608910,"creation_date":1385462972,"question_id":20214963,"body_markdown":"I need to share data between two android apps that are on the same phone without using the internet. The data I want to share includes a several key value pairs of different data types. The options I am aware of are:\r\n\r\n 1. Using intents - [Send][1] and [Receive][2]. But the typical examples\r\n    for intents do not involve these use cases. Intents seems more\r\n    suited for sharing data of a particular mime type or launch apps (or\r\n    let users choose from) to handle the data being shared.\r\n    \r\n 2.   Sharing the [SharedPreferences][3]. However the MODE_WORLD_READABLE\r\n    or MODE_WORLD_WRITEABLE flags required for this have been deprecated\r\n    post API 17.\r\n    \r\n 3.   [Broadcast Receivers][4] - But I&#39;m not exactly listening to events.\r\n    I want to use a request/response cycle.\r\n    \r\n 4.   [Content Providers][5]. This is great except for the fact that I\r\n    need to store the data in a database in the app sharing the data. If I have key, value pairs\r\n    where the value can be of different data types, this makes the data\r\n    table a bit cumbersome. Is there a better way to do this with\r\n    content providers?\r\n  \r\n\r\nWhich is the best technique to adopt?\r\n\r\n  [1]: http://developer.android.com/training/sharing/send.html\r\n  [2]: http://developer.android.com/training/sharing/receive.html\r\n  [3]: http://chrisrisner.com/Accessing-the-Shared-Preferences-of-a-Different-Application-in-Android\r\n  [4]: http://www.vogella.com/articles/AndroidBroadcastReceiver/article.html\r\n  [5]: http://developer.android.com/guide/topics/providers/content-providers.html","title":"Best practices for sharing data between android apps","body":"<p>I need to share data between two android apps that are on the same phone without using the internet. The data I want to share includes a several key value pairs of different data types. The options I am aware of are:</p>\n\n<ol>\n<li><p>Using intents - <a href=\"http://developer.android.com/training/sharing/send.html\" rel=\"nofollow\">Send</a> and <a href=\"http://developer.android.com/training/sharing/receive.html\" rel=\"nofollow\">Receive</a>. But the typical examples\nfor intents do not involve these use cases. Intents seems more\nsuited for sharing data of a particular mime type or launch apps (or\nlet users choose from) to handle the data being shared.</p></li>\n<li><p>Sharing the <a href=\"http://chrisrisner.com/Accessing-the-Shared-Preferences-of-a-Different-Application-in-Android\" rel=\"nofollow\">SharedPreferences</a>. However the MODE_WORLD_READABLE\nor MODE_WORLD_WRITEABLE flags required for this have been deprecated\npost API 17.</p></li>\n<li><p><a href=\"http://www.vogella.com/articles/AndroidBroadcastReceiver/article.html\" rel=\"nofollow\">Broadcast Receivers</a> - But I'm not exactly listening to events.\nI want to use a request/response cycle.</p></li>\n<li><p><a href=\"http://developer.android.com/guide/topics/providers/content-providers.html\" rel=\"nofollow\">Content Providers</a>. This is great except for the fact that I\nneed to store the data in a database in the app sharing the data. If I have key, value pairs\nwhere the value can be of different data types, this makes the data\ntable a bit cumbersome. Is there a better way to do this with\ncontent providers?</p></li>\n</ol>\n\n<p>Which is the best technique to adopt?</p>\n"},{"tags":["java","eclipse","code-formatting","pretty-print","eclipse-formatter"],"comments":[{"owner":{"account_id":9608,"reputation":17506,"user_id":17832,"display_name":"JeeBee"},"score":1,"creation_date":1259599329,"post_id":1820908,"comment_id":1711184,"body_markdown":"We&#39;ve had this problem. Eclipse *should* have an option to always break a line in a String constructor where a + is, regardless of whether the next bit of string would fit on the line. But it doesn&#39;t. :-(","body":"We&#39;ve had this problem. Eclipse <i>should</i> have an option to always break a line in a String constructor where a + is, regardless of whether the next bit of string would fit on the line. But it doesn&#39;t. :-("},{"owner":{"account_id":90755,"reputation":5544,"user_id":249663,"display_name":"Guillaume"},"score":0,"creation_date":1277124569,"post_id":1820908,"comment_id":34581191,"body_markdown":"Apparently this feature was added in Eclipse 3.6M6: https://bugs.eclipse.org/bugs/show_bug.cgi?id=27079","body":"Apparently this feature was added in Eclipse 3.6M6: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=27079\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=27079</a>"},{"owner":{"account_id":2028324,"reputation":10542,"user_id":1812732,"accept_rate":72,"display_name":"John Henckel"},"score":0,"creation_date":1455305536,"post_id":1820908,"comment_id":58447500,"body_markdown":"Note: If you simply want to prevent eclipse from messing up your comments, then you can use // in front of each line. To comment out a block, highlight and press Ctrl+/.","body":"Note: If you simply want to prevent eclipse from messing up your comments, then you can use // in front of each line. To comment out a block, highlight and press Ctrl+/."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1584121253,"post_id":1820908,"comment_id":107349148,"body_markdown":"Note that now 10 years later, Java 14 will probably bring multi-line strings making this a thing of the past.","body":"Note that now 10 years later, Java 14 will probably bring multi-line strings making this a thing of the past."},{"owner":{"account_id":24731384,"reputation":103,"user_id":18619318,"display_name":"user18619318"},"score":1,"creation_date":1651647545,"post_id":1820908,"comment_id":127409998,"body_markdown":"Text blocks have been available since Java 15, and is suitable for SQL queries like this.  See http://openjdk.java.net/jeps/378","body":"Text blocks have been available since Java 15, and is suitable for SQL queries like this.  See <a href=\"http://openjdk.java.net/jeps/378\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/378</a>"}],"answers":[{"tags":[],"owner":{"account_id":50098,"reputation":32598,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"down_vote_count":14,"up_vote_count":10,"is_accepted":false,"score":-4,"last_activity_date":1259600103,"creation_date":1259599665,"answer_id":1820963,"question_id":1820908,"body_markdown":"This hack works:\r\n\r\n    String x = &quot;s&quot; + //Formatter Hack\r\n        &quot;a&quot; + //\r\n        &quot;c&quot; + //\r\n        &quot;d&quot;;\r\n\r\nI would suggest not to use the formatter. **Bad code should look bad not artificially good.** Good code takes time. You cannot cheat on quality. Formatting is part of source code quality.","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>This hack works:</p>\n\n<pre><code>String x = \"s\" + //Formatter Hack\n    \"a\" + //\n    \"c\" + //\n    \"d\";\n</code></pre>\n\n<p>I would suggest not to use the formatter. <strong>Bad code should look bad not artificially good.</strong> Good code takes time. You cannot cheat on quality. Formatting is part of source code quality.</p>\n"},{"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1259599709,"creation_date":1259599709,"answer_id":1820968,"question_id":1820908,"body_markdown":"AFAIK from Eclipse 3.5 M4 on the formatter has an option &quot;Never Join Lines&quot; which preserves user lines breaks. Maybe that does what you want.\r\n\r\nElse there is this ugly hack\r\n\r\n    String query = //\r\n        &quot;SELECT FOO, BAR, BAZ&quot; + //\r\n        &quot;  FROM ABC&quot;           + //\r\n        &quot; WHERE BAR &gt; 4&quot;;","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>AFAIK from Eclipse 3.5 M4 on the formatter has an option \"Never Join Lines\" which preserves user lines breaks. Maybe that does what you want.</p>\n\n<p>Else there is this ugly hack</p>\n\n<pre><code>String query = //\n    \"SELECT FOO, BAR, BAZ\" + //\n    \"  FROM ABC\"           + //\n    \" WHERE BAR &gt; 4\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1514586901,"creation_date":1259599814,"answer_id":1820978,"question_id":1820908,"body_markdown":"If you put the plus sign on the beginning of the line, it formats differently:\r\n\r\n    String query = \r\n        &quot;SELECT FOO, BAR, BAZ&quot; \r\n        +    &quot;  FROM ABC&quot;           \r\n        +    &quot; WHERE BAR &gt; 4&quot;;","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>If you put the plus sign on the beginning of the line, it formats differently:</p>\n\n<pre><code>String query = \n    \"SELECT FOO, BAR, BAZ\" \n    +    \"  FROM ABC\"           \n    +    \" WHERE BAR &gt; 4\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64019,"reputation":2986,"user_id":189203,"accept_rate":83,"display_name":"Guus"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1279279071,"creation_date":1279279071,"answer_id":3264240,"question_id":1820908,"body_markdown":"I&#39;m using fixed width string-parts (padded with whitespace) to avoid having the formatter mess up my SQL string indentation. This gives you mixed results, and won&#39;t work where whitespace is not ignored as it is in SQL, but can be helpful.\r\n\r\n\t\tfinal String sql = &quot;SELECT v.value FROM properties p               &quot;\r\n\t\t\t\t+ &quot;JOIN property_values v ON p.property_id = v.property_id &quot;\r\n\t\t\t\t+ &quot;WHERE p.product_id = ?                                  &quot;\r\n\t\t\t\t+ &quot;AND v.value        IS NOT NULL                          &quot;;\r\n\r\n","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>I'm using fixed width string-parts (padded with whitespace) to avoid having the formatter mess up my SQL string indentation. This gives you mixed results, and won't work where whitespace is not ignored as it is in SQL, but can be helpful.</p>\n\n<pre><code>    final String sql = \"SELECT v.value FROM properties p               \"\n            + \"JOIN property_values v ON p.property_id = v.property_id \"\n            + \"WHERE p.product_id = ?                                  \"\n            + \"AND v.value        IS NOT NULL                          \";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":55041,"reputation":11192,"user_id":164802,"display_name":"xpmatteo"},"down_vote_count":0,"up_vote_count":923,"is_accepted":true,"score":923,"last_activity_date":1460379965,"creation_date":1280326656,"answer_id":3353765,"question_id":1820908,"body_markdown":"Eclipse 3.6 allows you to turn off formatting by placing a special comment, like\r\n\r\n    // @formatter:off\r\n    ...\r\n    // @formatter:on\r\n\r\nThe on/off features have to be turned &quot;on&quot; in Eclipse preferences: &lt;kbd&gt;Java &lt;/kbd&gt;&lt;kbd&gt; &gt; &lt;/kbd&gt;&lt;kbd&gt;Code Style&lt;/kbd&gt;&lt;kbd&gt; &gt; &lt;/kbd&gt;&lt;kbd&gt;Formatter&lt;/kbd&gt;. Click on &lt;kbd&gt;Edit&lt;/kbd&gt;, &lt;kbd&gt;Off/On Tags&lt;/kbd&gt;, enable &lt;kbd&gt;Enable Off/On tags&lt;/kbd&gt;.\r\n\r\nIt&#39;s also possible to change the magic strings in the preferences  [check out the Eclipse 3.6 docs here][docs].\r\n\r\n[docs]:http://archive.eclipse.org/eclipse/downloads/drops/R-3.6-201006080911/eclipse-news-part2.html#JavaFormatter\r\n\r\n**More Information**\r\n\r\n&lt;kbd&gt;Java &lt;/kbd&gt;\r\n&lt;kbd&gt; &gt; &lt;/kbd&gt;\r\n&lt;kbd&gt;Code Style&lt;/kbd&gt;\r\n&lt;kbd&gt; &gt; &lt;/kbd&gt;\r\n&lt;kbd&gt;Formatter&lt;/kbd&gt;\r\n&lt;kbd&gt; &gt; &lt;/kbd&gt;\r\n&lt;kbd&gt;Edit&lt;/kbd&gt;\r\n&lt;kbd&gt; &gt; &lt;/kbd&gt;\r\n&lt;kbd&gt;Off/On Tags&lt;/kbd&gt;\r\n\r\nThis preference allows you to define one tag to disable and one tag to enable the formatter (see the Off/On Tags tab in your formatter profile):\r\n\r\n![enter image description here][1]\r\n\r\nYou also need to enable the flags from &lt;kbd&gt;Java Formatting&lt;/kbd&gt;\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GwcgT.png","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>Eclipse 3.6 allows you to turn off formatting by placing a special comment, like</p>\n\n<pre><code>// @formatter:off\n...\n// @formatter:on\n</code></pre>\n\n<p>The on/off features have to be turned \"on\" in Eclipse preferences: <kbd>Java </kbd><kbd> > </kbd><kbd>Code Style</kbd><kbd> > </kbd><kbd>Formatter</kbd>. Click on <kbd>Edit</kbd>, <kbd>Off/On Tags</kbd>, enable <kbd>Enable Off/On tags</kbd>.</p>\n\n<p>It's also possible to change the magic strings in the preferences  <a href=\"http://archive.eclipse.org/eclipse/downloads/drops/R-3.6-201006080911/eclipse-news-part2.html#JavaFormatter\" rel=\"noreferrer\">check out the Eclipse 3.6 docs here</a>.</p>\n\n<p><strong>More Information</strong></p>\n\n<p><kbd>Java </kbd>\n<kbd> > </kbd>\n<kbd>Code Style</kbd>\n<kbd> > </kbd>\n<kbd>Formatter</kbd>\n<kbd> > </kbd>\n<kbd>Edit</kbd>\n<kbd> > </kbd>\n<kbd>Off/On Tags</kbd></p>\n\n<p>This preference allows you to define one tag to disable and one tag to enable the formatter (see the Off/On Tags tab in your formatter profile):</p>\n\n<p><img src=\"https://i.stack.imgur.com/GwcgT.png\" alt=\"enter image description here\"></p>\n\n<p>You also need to enable the flags from <kbd>Java Formatting</kbd></p>\n"},{"tags":[],"owner":{"account_id":237114,"reputation":2821,"user_id":505069,"accept_rate":58,"display_name":"kmccoy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1302973848,"creation_date":1302973848,"answer_id":5688174,"question_id":1820908,"body_markdown":"Alternative method: In Eclipse 3.6, under &quot;Line Wrapping&quot; then &quot;General Settings&quot; there is an option to &quot;Never join already wrapped lines.&quot; This means the formatter will wrap long lines but not undo any wrapping you already have.","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>Alternative method: In Eclipse 3.6, under \"Line Wrapping\" then \"General Settings\" there is an option to \"Never join already wrapped lines.\" This means the formatter will wrap long lines but not undo any wrapping you already have.</p>\n"},{"tags":[],"owner":{"account_id":744541,"reputation":169,"user_id":899201,"display_name":"ZilWerks"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1450224655,"creation_date":1313604398,"answer_id":7097380,"question_id":1820908,"body_markdown":"You have to turn on the ability to add the formatter tags. In the menubar go to:\r\n\r\n&lt;kbd&gt; Windows     &lt;/kbd&gt;\r\n&lt;kbd&gt; &amp;rarr;      &lt;/kbd&gt;\r\n&lt;kbd&gt; Preferences &lt;/kbd&gt;\r\n&lt;kbd&gt; Java        &lt;/kbd&gt;\r\n&lt;kbd&gt; &amp;rarr;      &lt;/kbd&gt;\r\n&lt;kbd&gt; Code Style  &lt;/kbd&gt;\r\n&lt;kbd&gt; &amp;rarr;      &lt;/kbd&gt;\r\n&lt;kbd&gt; Formatter   &lt;/kbd&gt;\r\n\r\nPress the &lt;kbd&gt;Edit&lt;/kbd&gt; button. Choose the last tab. Notice the On/Off box and enable them with a checkbox.\r\n","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>You have to turn on the ability to add the formatter tags. In the menubar go to:</p>\n\n<p><kbd> Windows     </kbd>\n<kbd> &rarr;      </kbd>\n<kbd> Preferences </kbd>\n<kbd> Java        </kbd>\n<kbd> &rarr;      </kbd>\n<kbd> Code Style  </kbd>\n<kbd> &rarr;      </kbd>\n<kbd> Formatter   </kbd></p>\n\n<p>Press the <kbd>Edit</kbd> button. Choose the last tab. Notice the On/Off box and enable them with a checkbox.</p>\n"},{"tags":[],"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1345042930,"creation_date":1345042930,"answer_id":11971810,"question_id":1820908,"body_markdown":"@xpmatteo has the answer to disabling portions of code, but in addition to this, the default eclipse settings should be set to only format edited lines of code instead of the whole file.  \r\n\r\n    Preferences-&gt;Java-&gt;Editor-&gt;Save Actions-&gt;Format Source Code-&gt;Format Edited Lines\r\n\r\nThis would have prevented it from happening in the first place since your coworkers are reformatting code they didn&#39;t actually change.  This is a good practice to prevent mishaps that render diff on your source control useless (when an entire file is reformatted because of minor format setting differences).  \r\n\r\nIt would also prevent the reformatting if the on/off tags option was turned off.\r\n","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>@xpmatteo has the answer to disabling portions of code, but in addition to this, the default eclipse settings should be set to only format edited lines of code instead of the whole file.  </p>\n\n<pre><code>Preferences-&gt;Java-&gt;Editor-&gt;Save Actions-&gt;Format Source Code-&gt;Format Edited Lines\n</code></pre>\n\n<p>This would have prevented it from happening in the first place since your coworkers are reformatting code they didn't actually change.  This is a good practice to prevent mishaps that render diff on your source control useless (when an entire file is reformatted because of minor format setting differences).  </p>\n\n<p>It would also prevent the reformatting if the on/off tags option was turned off.</p>\n"},{"tags":[],"owner":{"account_id":43036,"reputation":16153,"user_id":125617,"accept_rate":74,"display_name":"Renaud"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1454530578,"creation_date":1397228508,"answer_id":23016146,"question_id":1820908,"body_markdown":"See [this answer on SO](https://stackoverflow.com/a/5466000/125617).\r\n\r\nThere is another solution that you can use to suppress the formatting of specific block comments. Use `/*-` (note the hyphen) at the beginning of the block comment, and the formatting won&#39;t be affected if you format the rest of the file.\r\n\r\n\r\n    /*-\r\n     * Here is a block comment with some very special\r\n     * formatting that I want indent(1) to ignore.\r\n     *\r\n     *    one\r\n     *        two\r\n     *            three\r\n     */\r\n\r\nSource: [Documentation at Oracle](http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-141999.html#680).","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>See <a href=\"https://stackoverflow.com/a/5466000/125617\">this answer on SO</a>.</p>\n\n<p>There is another solution that you can use to suppress the formatting of specific block comments. Use <code>/*-</code> (note the hyphen) at the beginning of the block comment, and the formatting won't be affected if you format the rest of the file.</p>\n\n<pre><code>/*-\n * Here is a block comment with some very special\n * formatting that I want indent(1) to ignore.\n *\n *    one\n *        two\n *            three\n */\n</code></pre>\n\n<p>Source: <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/codeconventions-141999.html#680\" rel=\"noreferrer\">Documentation at Oracle</a>.</p>\n"},{"tags":[],"owner":{"account_id":3831510,"reputation":1343,"user_id":3176955,"display_name":"ilinca"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1406817029,"creation_date":1406817029,"answer_id":25061557,"question_id":1820908,"body_markdown":"Instead of turning the formatting off, you can configure it not to join already wrapped lines. Similar to Jitter&#39;s response, here&#39;s for Eclipse STS: \r\n\r\nProperties    Java Code Style  Formatter  Enable project specific settings OR Configure Workspace Settings  Edit  Line Wrapping (tab)  check &quot;Never join already wrapped lines&quot; \r\n\r\nSave, apply.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/2QvvK.png","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>Instead of turning the formatting off, you can configure it not to join already wrapped lines. Similar to Jitter's response, here's for Eclipse STS: </p>\n\n<p>Properties    Java Code Style  Formatter  Enable project specific settings OR Configure Workspace Settings  Edit  Line Wrapping (tab)  check \"Never join already wrapped lines\" </p>\n\n<p>Save, apply.</p>\n\n<p><img src=\"https://i.stack.imgur.com/2QvvK.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":107117,"reputation":480,"user_id":973085,"display_name":"Evvo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1469239937,"creation_date":1469239937,"answer_id":38537485,"question_id":1820908,"body_markdown":"End each of the lines with a double slash &quot;//&quot;.  That will keep eclipse from moving them all onto the same line.","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>End each of the lines with a double slash \"//\".  That will keep eclipse from moving them all onto the same line.</p>\n"},{"tags":[],"owner":{"account_id":2887623,"reputation":3310,"user_id":2477084,"display_name":"Tomas Bjerre"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532632726,"creation_date":1496346337,"answer_id":44315907,"question_id":1820908,"body_markdown":"The phantom comments, adding `//` where you want new lines, are great!\r\n\r\n1. The @formatter: off adds a reference from the code to the editor. The code should, in my opinion, never have such references.\r\n\r\n2. The phantom comments (//) will work regardless of the formatting tool used. Regardless of Eclipse or InteliJ or whatever editor you use. This even works with the very nice [Google Java Format](https://github.com/google/google-java-format)\r\n\r\n3. The phantom comments (//) will work all over your application. If you also have Javascript and perhaps use something like [JSBeautifier](https://www.npmjs.com/package/grunt-jsbeautifier). You can have similar code style also in the Javascript.\r\n\r\n4. **Actually, you probably DO want formatting** right? You want to remove mixed tab/space and trailing spaces. You want to indent the lines according to the code standard. **What you DONT want is a long line.** That, and only that, is what the phantom comment gives you!","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>The phantom comments, adding <code>//</code> where you want new lines, are great!</p>\n\n<ol>\n<li><p>The @formatter: off adds a reference from the code to the editor. The code should, in my opinion, never have such references.</p></li>\n<li><p>The phantom comments (//) will work regardless of the formatting tool used. Regardless of Eclipse or InteliJ or whatever editor you use. This even works with the very nice <a href=\"https://github.com/google/google-java-format\" rel=\"nofollow noreferrer\">Google Java Format</a></p></li>\n<li><p>The phantom comments (//) will work all over your application. If you also have Javascript and perhaps use something like <a href=\"https://www.npmjs.com/package/grunt-jsbeautifier\" rel=\"nofollow noreferrer\">JSBeautifier</a>. You can have similar code style also in the Javascript.</p></li>\n<li><p><strong>Actually, you probably DO want formatting</strong> right? You want to remove mixed tab/space and trailing spaces. You want to indent the lines according to the code standard. <strong>What you DONT want is a long line.</strong> That, and only that, is what the phantom comment gives you!</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23473,"reputation":1161,"user_id":58848,"display_name":"Damien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603805517,"creation_date":1603805517,"answer_id":64555584,"question_id":1820908,"body_markdown":"Not so pretty but works with default settings and for the first line as well:\r\n\r\n    String query = &quot;&quot; +\r\n        &quot;SELECT FOO, BAR, BAZ&quot; +\r\n        &quot;  FROM ABC          &quot; +\r\n        &quot; WHERE BAR &gt; 4      &quot;;","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>Not so pretty but works with default settings and for the first line as well:</p>\n<pre><code>String query = &quot;&quot; +\n    &quot;SELECT FOO, BAR, BAZ&quot; +\n    &quot;  FROM ABC          &quot; +\n    &quot; WHERE BAR &gt; 4      &quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18889208,"reputation":11,"user_id":13779880,"display_name":"Sunny Bhardwaj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680608897,"creation_date":1680608897,"answer_id":75929009,"question_id":1820908,"body_markdown":"In VS Code\r\n\r\nSet the below property in you formatter xml settings\r\n\r\n    &lt;setting id=&quot;org.eclipse.jdt.core.formatter.use_on_off_tags&quot; value=&quot;true&quot;/&gt;\r\n\r\nThen in your Code use the below tags to switch on and off formatting\r\n\r\n                // @formatter:off\r\n                //Create Payment Transaction\r\n                payTxn = EN_PaymntTxn.builder()\r\n                        .orderId(paymReq.getOrderId())\r\n                        .paymentMode(paymReq.getPaymentMode())\r\n                        .amount(paymReq.getAmount())\r\n                        .paymentStatus(&quot;PAID&quot;)\r\n                        .referenceNumber(UUID.randomUUID().toString())\r\n                        .timestamp(Instant.now())\r\n                        .build();\r\n                // @formatter:on","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>In VS Code</p>\n<p>Set the below property in you formatter xml settings</p>\n<pre><code>&lt;setting id=&quot;org.eclipse.jdt.core.formatter.use_on_off_tags&quot; value=&quot;true&quot;/&gt;\n</code></pre>\n<p>Then in your Code use the below tags to switch on and off formatting</p>\n<pre><code>            // @formatter:off\n            //Create Payment Transaction\n            payTxn = EN_PaymntTxn.builder()\n                    .orderId(paymReq.getOrderId())\n                    .paymentMode(paymReq.getPaymentMode())\n                    .amount(paymReq.getAmount())\n                    .paymentStatus(&quot;PAID&quot;)\n                    .referenceNumber(UUID.randomUUID().toString())\n                    .timestamp(Instant.now())\n                    .build();\n            // @formatter:on\n</code></pre>\n"}],"owner":{"account_id":7913,"reputation":33220,"user_id":13940,"accept_rate":58,"display_name":"Greg Mattes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186742,"favorite_count":0,"down_vote_count":1,"up_vote_count":528,"accepted_answer_id":3353765,"answer_count":14,"score":527,"last_activity_date":1680608897,"creation_date":1259599116,"question_id":1820908,"body_markdown":"I&#39;ve got some Java code with SQL statements written as Java strings (please no OR/M flamewars, the embedded SQL is what it is - not my decision).\r\n\r\nI&#39;ve broken the SQL statements semantically into several concatenated strings over several lines of code for ease of maintenance. So instead of something like:\r\n\r\n    String query = &quot;SELECT FOO, BAR, BAZ FROM ABC WHERE BAR &gt; 4&quot;;\r\n\r\nI have something like:\r\n\r\n    String query =\r\n        &quot;SELECT FOO, BAR, BAZ&quot; +\r\n        &quot;  FROM ABC          &quot; +\r\n        &quot; WHERE BAR &gt; 4      &quot;;\r\n\r\nThis style makes the SQL much easier to read and maintain (IMHO), especially for larger queries. For example, I can put my editor into &quot;overwrite&quot; mode and modify the text in-place fairly easily.\r\n\r\n**Note that this issue generalizes beyond the particular example of SQL. Any code that is written with any vertical formatting, particularly tabular constructs, is susceptible to destruction by a pretty printer.**\r\n\r\nNow, some project members use the Eclipse editor and the semantic formatting is often destroyed when they format an entire source file.\r\n\r\n**Is there a way to instruct Eclipse to ignore certain lines of source with respect to formatting?**\r\n\r\nI&#39;m looking for something like a special comment that toggles the Eclipse formatter. Ideally, such a comment could be configurable to be whatever we choose, and other formatters could be programmed to respect it as well:\r\n\r\n    // STOP-ECLIPSE-FORMATTING\r\n    String query =\r\n        &quot;SELECT FOO, BAR, BAZ&quot; +\r\n        &quot;  FROM ABC          &quot; +\r\n        &quot; WHERE BAR &gt; 4      &quot;;\r\n    // START-ECLIPSE-FORMATTING\r\n\r\nObviously, one &quot;solution&quot; is to have our team members standardize on some external formatter like [Jalopy](http://www.triemax.com/products/jalopy/) or [JIndent](http://www.jindent.com/), but that&#39;s not what this question is about (also, not my decision on this project): I&#39;m specifically looking for a way to avoid the Eclipse formatter on an ad-hoc basis.\r\n\r\nIdeally, a solution will allow me to insert instructions for the Eclipse formatter **without requiring team members using Eclipse to do any IDE reconfiguration** (other than possibly choosing a formatter agnostic command comment: `STOP-ECLIPSE-FORMATTING` &amp;rarr; `STOP-FORMATTING`).\r\n","title":"How to turn off the Eclipse code formatter for certain sections of Java code?","body":"<p>I've got some Java code with SQL statements written as Java strings (please no OR/M flamewars, the embedded SQL is what it is - not my decision).</p>\n\n<p>I've broken the SQL statements semantically into several concatenated strings over several lines of code for ease of maintenance. So instead of something like:</p>\n\n<pre><code>String query = \"SELECT FOO, BAR, BAZ FROM ABC WHERE BAR &gt; 4\";\n</code></pre>\n\n<p>I have something like:</p>\n\n<pre><code>String query =\n    \"SELECT FOO, BAR, BAZ\" +\n    \"  FROM ABC          \" +\n    \" WHERE BAR &gt; 4      \";\n</code></pre>\n\n<p>This style makes the SQL much easier to read and maintain (IMHO), especially for larger queries. For example, I can put my editor into \"overwrite\" mode and modify the text in-place fairly easily.</p>\n\n<p><strong>Note that this issue generalizes beyond the particular example of SQL. Any code that is written with any vertical formatting, particularly tabular constructs, is susceptible to destruction by a pretty printer.</strong></p>\n\n<p>Now, some project members use the Eclipse editor and the semantic formatting is often destroyed when they format an entire source file.</p>\n\n<p><strong>Is there a way to instruct Eclipse to ignore certain lines of source with respect to formatting?</strong></p>\n\n<p>I'm looking for something like a special comment that toggles the Eclipse formatter. Ideally, such a comment could be configurable to be whatever we choose, and other formatters could be programmed to respect it as well:</p>\n\n<pre><code>// STOP-ECLIPSE-FORMATTING\nString query =\n    \"SELECT FOO, BAR, BAZ\" +\n    \"  FROM ABC          \" +\n    \" WHERE BAR &gt; 4      \";\n// START-ECLIPSE-FORMATTING\n</code></pre>\n\n<p>Obviously, one \"solution\" is to have our team members standardize on some external formatter like <a href=\"http://www.triemax.com/products/jalopy/\" rel=\"noreferrer\">Jalopy</a> or <a href=\"http://www.jindent.com/\" rel=\"noreferrer\">JIndent</a>, but that's not what this question is about (also, not my decision on this project): I'm specifically looking for a way to avoid the Eclipse formatter on an ad-hoc basis.</p>\n\n<p>Ideally, a solution will allow me to insert instructions for the Eclipse formatter <strong>without requiring team members using Eclipse to do any IDE reconfiguration</strong> (other than possibly choosing a formatter agnostic command comment: <code>STOP-ECLIPSE-FORMATTING</code> &rarr; <code>STOP-FORMATTING</code>).</p>\n"},{"tags":["java","tcp","strace"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1680169578,"post_id":75886506,"comment_id":133853700,"body_markdown":"Please show us the actual (Java) code that is sending and receiving these &quot;packets&quot;.  I suspect that the real problem is that you misunderstand the way that TCP handles (or more accurately **doesn&#39;t**) handle packets.","body":"Please show us the actual (Java) code that is sending and receiving these &quot;packets&quot;.  I suspect that the real problem is that you misunderstand the way that TCP handles (or more accurately <b>doesn&#39;t</b>) handle packets."},{"owner":{"account_id":3181483,"reputation":525,"user_id":2688068,"display_name":"supmethods"},"score":0,"creation_date":1680175102,"post_id":75886506,"comment_id":133855190,"body_markdown":"I&#39;ll have to ask the developers tomorrow for the source code. In the meantime, do you know why there are differences between ```tcpdump``` and ```strace```? When inspecting ```tcpdump```, it is one zero short.","body":"I&#39;ll have to ask the developers tomorrow for the source code. In the meantime, do you know why there are differences between <code>tcpdump</code> and <code>strace</code>? When inspecting <code>tcpdump</code>, it is one zero short."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1680252155,"post_id":75886506,"comment_id":133870046,"body_markdown":"That&#39;s easy.  There is not a one-to-one mapping between system calls and *network* packets sent.  Not at the sending end or the receiving end.  Because TCP doesn&#39;t provide any such guarantees.","body":"That&#39;s easy.  There is not a one-to-one mapping between system calls and <i>network</i> packets sent.  Not at the sending end or the receiving end.  Because TCP doesn&#39;t provide any such guarantees."}],"answers":[{"tags":[],"owner":{"account_id":400151,"reputation":8092,"user_id":765971,"accept_rate":80,"display_name":"SKi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680182352,"creation_date":1680181860,"answer_id":75888700,"question_id":75886506,"body_markdown":"Because the client seems to use one `sendto()` call for each byte of `000000174.A.EXAMP`, it is typical that 1st byte will be transferred in own IP packet. And rest of the bytes will be transferred after that.\r\n\r\nIt is result of &quot;Nagle&#39;s algorithm&quot; of TCP:\r\n\r\nWhen the 1st sendto() call is done, TCP can send the 1st byte immediately, because there is not unacknowledged data in the fly.\r\n\r\nWhen rest of sendto() calls are called, there is unacknowledged data in fly (the 1st byte), so the TCP stack will enqueue data in the buffer for while, before sending several buffered bytes by using a single IP packet.  \r\n\r\nPlease, Double check that you didn&#39;t miss/ignore the IP packet with the 1st byte.\r\n\r\n\r\nFor avoiding ineffective small IP packets, try to use one `sendto()` call instead of `sendto()` per a byte.","title":"strace and tcpdump - data sent in strace shows 000000174 but data in tcpdump shows 00000174 (one zero missing)","body":"<p>Because the client seems to use one <code>sendto()</code> call for each byte of <code>000000174.A.EXAMP</code>, it is typical that 1st byte will be transferred in own IP packet. And rest of the bytes will be transferred after that.</p>\n<p>It is result of &quot;Nagle's algorithm&quot; of TCP:</p>\n<p>When the 1st sendto() call is done, TCP can send the 1st byte immediately, because there is not unacknowledged data in the fly.</p>\n<p>When rest of sendto() calls are called, there is unacknowledged data in fly (the 1st byte), so the TCP stack will enqueue data in the buffer for while, before sending several buffered bytes by using a single IP packet.</p>\n<p>Please, Double check that you didn't miss/ignore the IP packet with the 1st byte.</p>\n<p>For avoiding ineffective small IP packets, try to use one <code>sendto()</code> call instead of <code>sendto()</code> per a byte.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680187649,"creation_date":1680187649,"answer_id":75889706,"question_id":75886506,"body_markdown":"As @Ski [explains][1], it is likely that the TCP packets are not preserving your application&#39;s implied message structure.  (We can&#39;t be sure, because you didn&#39;t show us any code, and your evidence is incomplete.)\r\n\r\nWhy?  Well, the TCP protocol and stream socket abstract don&#39;t make any guarantees that bytes will be assembled into network packets as you are apparently expectin.  Indeed, since you are apparently performing multiple `sendTo` calls to write a single application message, it possible that the sender side is launching a TCP packet before it has been given a complete message.  (It will depend on the sender&#39;s TCP stack&#39;s implementation, configuration parameters and also on network conditions.)\r\n\r\nBut the fix is more complicated than simply writing complete messages with a single `sendTo`.  That will help, but it is not a guaranteed fix. TCP doesn&#39;t know anything about the application message structure, and it doesn&#39;t guarantee to preserve it.\r\n\r\nThe real solution is to design your application protocol so that its message structure is inherent in the data.  For example:\r\n\r\n  - A message could consist of a fixed number of bytes.  \r\n\r\n  - A message could start with a specific start byte value, and end with another byte value.\r\n\r\n  - A message could start with a message length encoded as one or more bytes, and then be followed by that precise number of bytes.\r\n\r\nBut in all cases, the receiving application code cannot assume that `recvfrom` is delivering a single complete message.  Rather, it is responsible for correctly splitting the incoming stream of bytes into messages.  Yes ... it is more complicated ... but you can&#39;t &quot;punt&quot; the problem to the TCP stack.  TCP cannot do it for you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75888700/139985","title":"strace and tcpdump - data sent in strace shows 000000174 but data in tcpdump shows 00000174 (one zero missing)","body":"<p>As @Ski <a href=\"https://stackoverflow.com/a/75888700/139985\">explains</a>, it is likely that the TCP packets are not preserving your application's implied message structure.  (We can't be sure, because you didn't show us any code, and your evidence is incomplete.)</p>\n<p>Why?  Well, the TCP protocol and stream socket abstract don't make any guarantees that bytes will be assembled into network packets as you are apparently expectin.  Indeed, since you are apparently performing multiple <code>sendTo</code> calls to write a single application message, it possible that the sender side is launching a TCP packet before it has been given a complete message.  (It will depend on the sender's TCP stack's implementation, configuration parameters and also on network conditions.)</p>\n<p>But the fix is more complicated than simply writing complete messages with a single <code>sendTo</code>.  That will help, but it is not a guaranteed fix. TCP doesn't know anything about the application message structure, and it doesn't guarantee to preserve it.</p>\n<p>The real solution is to design your application protocol so that its message structure is inherent in the data.  For example:</p>\n<ul>\n<li><p>A message could consist of a fixed number of bytes.</p>\n</li>\n<li><p>A message could start with a specific start byte value, and end with another byte value.</p>\n</li>\n<li><p>A message could start with a message length encoded as one or more bytes, and then be followed by that precise number of bytes.</p>\n</li>\n</ul>\n<p>But in all cases, the receiving application code cannot assume that <code>recvfrom</code> is delivering a single complete message.  Rather, it is responsible for correctly splitting the incoming stream of bytes into messages.  Yes ... it is more complicated ... but you can't &quot;punt&quot; the problem to the TCP stack.  TCP cannot do it for you.</p>\n"}],"owner":{"account_id":3181483,"reputation":525,"user_id":2688068,"display_name":"supmethods"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680608849,"creation_date":1680169067,"question_id":75886506,"body_markdown":"I am trying to debug issue with an application that intermittently has problems. The applications communicates with one another via web sockets. \r\n\r\nThe client normally sends control code 000000174.A.EXAMP to the server end.\r\n\r\nI can see both the client and server both have the same control code when performing an ```strace```. Here is the strace snippet which shows the correct code being sent correctly.\r\n```\r\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;1&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;7&quot;, 1, 0, NULL, 0) = 1\r\n3651  23:13:51 sendto(117, &quot;4&quot;, 1, 0, NULL, 0) = 1\r\n```\r\n\r\nHere&#39;s the code on the server end\r\n```\r\n00:16:36 recvfrom(11, &quot;00000017&quot;, 8, 0, NULL, NULL) = 8\r\n```\r\n\r\nWhen the problem occurs, the server receives the code 00000174.A.EXAMP which is one zero short. At the moment, there is only a script on the server that logs the ```strace``` output to file and it creates three 5-minute logs and rotates logs keeping a maximum of three logs. Script stops on error detection on the server (when server has made no requests for some duration). \r\n\r\nMy question is with the packet trace I am getting from ```tcpdump```. Nearly all the packets captured has the data as 00000174.A.EXAMP which is one zero short. \r\n\r\nWhy is this different from the ```strace``` output which has six zeroes and the packet capture shows mostly five zeroes?\r\n\r\nOut of the several thousands of packets exchanged, several packets have missing characters when performing string search. Here&#39;s the different contents in the data packets captured through ```tcpdump``\r\n```\r\n00000174.A\r\n00000174.A.\r\n00000174.A.E\r\n00000174.A.EX\r\n00000174.A.EXA\r\n00000174.A.EXAM\r\n00000174.A.EXAMP (Most are coming out as with one zero missing)\r\n0000174.A.EXAMP\r\n000174.A.EXAMP\r\n00174.EXAMP\r\n```\r\n\r\nIP packets are 1500 bytes in size so I wouldn&#39;t expect the packet to be split in into multiple packets since the control data is very small. Why are data packets missing characters?\r\n\r\nThe java code that sends data is ```d3sOut.writeBytes(slen + outBuffer)```. At the other end is a C web socket.\r\n","title":"strace and tcpdump - data sent in strace shows 000000174 but data in tcpdump shows 00000174 (one zero missing)","body":"<p>I am trying to debug issue with an application that intermittently has problems. The applications communicates with one another via web sockets.</p>\n<p>The client normally sends control code 000000174.A.EXAMP to the server end.</p>\n<p>I can see both the client and server both have the same control code when performing an <code>strace</code>. Here is the strace snippet which shows the correct code being sent correctly.</p>\n<pre><code>3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;0&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;1&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;7&quot;, 1, 0, NULL, 0) = 1\n3651  23:13:51 sendto(117, &quot;4&quot;, 1, 0, NULL, 0) = 1\n</code></pre>\n<p>Here's the code on the server end</p>\n<pre><code>00:16:36 recvfrom(11, &quot;00000017&quot;, 8, 0, NULL, NULL) = 8\n</code></pre>\n<p>When the problem occurs, the server receives the code 00000174.A.EXAMP which is one zero short. At the moment, there is only a script on the server that logs the <code>strace</code> output to file and it creates three 5-minute logs and rotates logs keeping a maximum of three logs. Script stops on error detection on the server (when server has made no requests for some duration).</p>\n<p>My question is with the packet trace I am getting from <code>tcpdump</code>. Nearly all the packets captured has the data as 00000174.A.EXAMP which is one zero short.</p>\n<p>Why is this different from the <code>strace</code> output which has six zeroes and the packet capture shows mostly five zeroes?</p>\n<p>Out of the several thousands of packets exchanged, several packets have missing characters when performing string search. Here's the different contents in the data packets captured through ```tcpdump``</p>\n<pre><code>00000174.A\n00000174.A.\n00000174.A.E\n00000174.A.EX\n00000174.A.EXA\n00000174.A.EXAM\n00000174.A.EXAMP (Most are coming out as with one zero missing)\n0000174.A.EXAMP\n000174.A.EXAMP\n00174.EXAMP\n</code></pre>\n<p>IP packets are 1500 bytes in size so I wouldn't expect the packet to be split in into multiple packets since the control data is very small. Why are data packets missing characters?</p>\n<p>The java code that sends data is <code>d3sOut.writeBytes(slen + outBuffer)</code>. At the other end is a C web socket.</p>\n"},{"tags":["java","javafx","gpu","directx","nvidia"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1646536710,"post_id":71365052,"comment_id":126146588,"body_markdown":"I suggest you post and accept an Answer to your own Question.","body":"I suggest you post and accept an Answer to your own Question."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1646562487,"post_id":71365052,"comment_id":126149978,"body_markdown":"What makes you believe that such an outdated version of Java/FX would still support the latest graphics hardware? We are writing the year 2022 and Java 18 (not 8) is right on our door steps this month.","body":"What makes you believe that such an outdated version of Java/FX would still support the latest graphics hardware? We are writing the year 2022 and Java 18 (not 8) is right on our door steps this month."}],"answers":[{"tags":[],"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646803435,"creation_date":1646632515,"answer_id":71376934,"question_id":71365052,"body_markdown":"For those who are trying to solve a similar issue, it might be coming from the java.exe executable not using the gpu you want as a default device, you can change that in Windows&#39; settings.","title":"How to force gpu usage with JavaFX?","body":"<p>For those who are trying to solve a similar issue, it might be coming from the java.exe executable not using the gpu you want as a default device, you can change that in Windows' settings.</p>\n"},{"tags":[],"owner":{"account_id":17770016,"reputation":159,"user_id":12903860,"display_name":"Alessandro Parisi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680608530,"creation_date":1680608530,"answer_id":75928939,"question_id":71365052,"body_markdown":"I&#39;m adding this answer as I believe it can help others, and also as a reminder in case I&#39;m going to need this again someday.\r\n\r\n**Note:** this is for Linux, I don&#39;t know if it would work on other OSes too\r\n\r\nI have a laptop with the Intel iGPU and an NVIDIA dGPU, I use Linux (arch btw) and have `optimus-manager` set up to hybrid mode. In this configuration, JavaFX applications are not recognized to be offloaded to the dGPU and will use the iGPU instead.\r\nOn the internet there are some mentions to the `DRI_PRIME=1` config, but it is not enough.\r\n\r\nThese are all the environment variables needed to run JavaFX on the dGPU:\r\n```\r\nDRI_PRIME=1\r\n__NV_PRIME_RENDER_OFFLOAD=1\r\n__GLX_VENDOR_LIBRARY_NAME=nvidia\r\n```\r\n\r\nBonus: I&#39;m using IntelliJ IDEA to run my JavaFX applications, it&#39;s enough to add those options in the dedicated section in the `run` configurations like this:\r\n[![IntelliJ IDEA config][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mj8Be.png","title":"How to force gpu usage with JavaFX?","body":"<p>I'm adding this answer as I believe it can help others, and also as a reminder in case I'm going to need this again someday.</p>\n<p><strong>Note:</strong> this is for Linux, I don't know if it would work on other OSes too</p>\n<p>I have a laptop with the Intel iGPU and an NVIDIA dGPU, I use Linux (arch btw) and have <code>optimus-manager</code> set up to hybrid mode. In this configuration, JavaFX applications are not recognized to be offloaded to the dGPU and will use the iGPU instead.\nOn the internet there are some mentions to the <code>DRI_PRIME=1</code> config, but it is not enough.</p>\n<p>These are all the environment variables needed to run JavaFX on the dGPU:</p>\n<pre><code>DRI_PRIME=1\n__NV_PRIME_RENDER_OFFLOAD=1\n__GLX_VENDOR_LIBRARY_NAME=nvidia\n</code></pre>\n<p>Bonus: I'm using IntelliJ IDEA to run my JavaFX applications, it's enough to add those options in the dedicated section in the <code>run</code> configurations like this:\n<a href=\"https://i.stack.imgur.com/Mj8Be.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mj8Be.png\" alt=\"IntelliJ IDEA config\" /></a></p>\n"}],"owner":{"account_id":23690732,"reputation":81,"user_id":17715108,"display_name":"Eorix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1120,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71376934,"answer_count":2,"score":5,"last_activity_date":1680608530,"creation_date":1646506245,"question_id":71365052,"body_markdown":"I use JavaFX with Java 8 and i set this properties before launching my app&lt;br&gt;\r\n`System.setProperty(&quot;prism.forceGPU&quot;,&quot;true&quot;);`&lt;br&gt;\r\n`System.setProperty(&quot;prism.order&quot;,&quot;d3d,sw&quot;);`&lt;br&gt;\r\nThe verbose mode for prism gives me this :&lt;br&gt;\r\n\r\n    Prism pipeline init order: d3d sw\r\n    Using native-based Pisces rasterizer\r\n    Using dirty region optimizations\r\n    Not using texture mask for primitives\r\n    Not forcing power of 2 sizes for textures\r\n    Using hardware CLAMP_TO_ZERO mode\r\n    Opting in for HiDPI pixel scaling\r\n    Threshold to enable UI scaling factor: 1.5\r\n    Prism pipeline name = com.sun.prism.d3d.D3DPipeline\r\n    Loading D3D native library ...\r\n            succeeded.\r\n    D3DPipelineManager: Created D3D9Ex device\r\n    Direct3D initialization succeeded\r\n    (X) Got class = class com.sun.prism.d3d.D3DPipeline\r\n    Initialized prism pipeline: com.sun.prism.d3d.D3DPipeline\r\n    Maximum supported texture size: 8192\r\n    Maximum texture size clamped to 4096\r\n    OS Information:\r\n            Windows version 10.0 build 19044\r\n    D3D Driver Information:\r\n            Intel(R) HD Graphics 630\r\n            \\\\.\\DISPLAY1\r\n            Driver igdumdim64.dll, version 25.20.100.6373\r\n            Pixel Shader version 3.0\r\n            Device : ven_8086, dev_591B, subsys_11C81462\r\n            Max Multisamples supported: 4\r\n     vsync: true vpipe: true\r\n    PPSRenderer: scenario.effect - createShader: LinearConvolveShadow_16\r\n\r\nwhich shows that hardware acceleration is supported, but I have a Nvidia GTX 1050m TI perfectly installed and set up and JavaFX doesn&#39;t seem to want to use it, it&#39;s always using Intel(R) HD Graphics 630.\r\n\r\nIs there a way to force gpu usage ?\r\n\r\nANSWER :\r\n\r\nI solve the problem by simply setting java.exe default gpu to be the nvidia&#39;s one after many hours of research, it seems to work but cannot be done from the application code. ","title":"How to force gpu usage with JavaFX?","body":"<p>I use JavaFX with Java 8 and i set this properties before launching my app<br>\n<code>System.setProperty(&quot;prism.forceGPU&quot;,&quot;true&quot;);</code><br>\n<code>System.setProperty(&quot;prism.order&quot;,&quot;d3d,sw&quot;);</code><br>\nThe verbose mode for prism gives me this :<br></p>\n<pre><code>Prism pipeline init order: d3d sw\nUsing native-based Pisces rasterizer\nUsing dirty region optimizations\nNot using texture mask for primitives\nNot forcing power of 2 sizes for textures\nUsing hardware CLAMP_TO_ZERO mode\nOpting in for HiDPI pixel scaling\nThreshold to enable UI scaling factor: 1.5\nPrism pipeline name = com.sun.prism.d3d.D3DPipeline\nLoading D3D native library ...\n        succeeded.\nD3DPipelineManager: Created D3D9Ex device\nDirect3D initialization succeeded\n(X) Got class = class com.sun.prism.d3d.D3DPipeline\nInitialized prism pipeline: com.sun.prism.d3d.D3DPipeline\nMaximum supported texture size: 8192\nMaximum texture size clamped to 4096\nOS Information:\n        Windows version 10.0 build 19044\nD3D Driver Information:\n        Intel(R) HD Graphics 630\n        \\\\.\\DISPLAY1\n        Driver igdumdim64.dll, version 25.20.100.6373\n        Pixel Shader version 3.0\n        Device : ven_8086, dev_591B, subsys_11C81462\n        Max Multisamples supported: 4\n vsync: true vpipe: true\nPPSRenderer: scenario.effect - createShader: LinearConvolveShadow_16\n</code></pre>\n<p>which shows that hardware acceleration is supported, but I have a Nvidia GTX 1050m TI perfectly installed and set up and JavaFX doesn't seem to want to use it, it's always using Intel(R) HD Graphics 630.</p>\n<p>Is there a way to force gpu usage ?</p>\n<p>ANSWER :</p>\n<p>I solve the problem by simply setting java.exe default gpu to be the nvidia's one after many hours of research, it seems to work but cannot be done from the application code.</p>\n"},{"tags":["python","java","parsing"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680608479,"creation_date":1680595246,"answer_id":75926880,"question_id":75926758,"body_markdown":"That is not valid Java code.  For example:\r\n\r\n        if (!1.$assertionsDisabled &amp;&amp; ui == null) {\r\n\r\nI suspect that what you have actually done is downloaded a `.class` file and decompiled it&lt;sup&gt;1&lt;/sup&gt;.  Unfortunately, the decompiler has not worked properly, and what you have there cannot be compiled.\r\n\r\nMy suggestions are to try to get the actual Java source code (if it exists) or just exclude it from your analysis.\r\n\r\nThere are hints (e.g. in the import statements) that the &quot;.class&quot; file you have decompiled was originally compiled from Vaadin rather than Java.\r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - Note that a Maven repository will typically hold compiled artifacts rather that source code.  You would typically get source code from a source code repository.&lt;/sup&gt; \r\n","title":"why exception is rised on some java files using JavaLang python package","body":"<p>That is not valid Java code.  For example:</p>\n<pre><code>    if (!1.$assertionsDisabled &amp;&amp; ui == null) {\n</code></pre>\n<p>I suspect that what you have actually done is downloaded a <code>.class</code> file and decompiled it<sup>1</sup>.  Unfortunately, the decompiler has not worked properly, and what you have there cannot be compiled.</p>\n<p>My suggestions are to try to get the actual Java source code (if it exists) or just exclude it from your analysis.</p>\n<p>There are hints (e.g. in the import statements) that the &quot;.class&quot; file you have decompiled was originally compiled from Vaadin rather than Java.</p>\n<hr />\n<p><sup>1 - Note that a Maven repository will typically hold compiled artifacts rather that source code.  You would typically get source code from a source code repository.</sup></p>\n"}],"owner":{"account_id":13096459,"reputation":23,"user_id":18973771,"display_name":"Bog Alt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75926880,"answer_count":1,"score":0,"last_activity_date":1680608479,"creation_date":1680594411,"question_id":75926758,"body_markdown":"I am aiming to obtain all methods names in a java file and count theit lines of code.\r\nI actually managed to obtain something using the javalang parser for python. It identifies all methods but not creator which make me think there is a specific property I should use to check weather the creator exists or not and retrieve its name (any idea?).\r\n\r\nIt works well (javalang python pkg) most of the fimes but it fails on some files like the following one, which rises an exception\r\n\r\n    /*\r\n     * Decompiled with CFR 0.152.\r\n     */\r\n    package com.vaadin.flow.di;\r\n    \r\n    import com.vaadin.flow.component.Component;\r\n    import com.vaadin.flow.component.HasElement;\r\n    import com.vaadin.flow.component.UI;\r\n    import com.vaadin.flow.i18n.I18NProvider;\r\n    import com.vaadin.flow.router.NavigationEvent;\r\n    import com.vaadin.flow.server.BootstrapListener;\r\n    import com.vaadin.flow.server.DependencyFilter;\r\n    import com.vaadin.flow.server.VaadinService;\r\n    import com.vaadin.flow.server.VaadinServiceInitListener;\r\n    import com.vaadin.flow.server.VaadinSession;\r\n    import com.vaadin.flow.server.communication.IndexHtmlRequestListener;\r\n    import java.io.Serializable;\r\n    import java.util.stream.Stream;\r\n    \r\n    public interface Instantiator\r\n    extends Serializable {\r\n        @Deprecated\r\n        public boolean init(VaadinService var1);\r\n    \r\n        public Stream&lt;VaadinServiceInitListener&gt; getServiceInitListeners();\r\n    \r\n        @Deprecated\r\n        default public Stream&lt;BootstrapListener&gt; getBootstrapListeners(Stream&lt;BootstrapListener&gt; serviceInitListeners) {\r\n            return serviceInitListeners;\r\n        }\r\n    \r\n        default public Stream&lt;IndexHtmlRequestListener&gt; getIndexHtmlRequestListeners(Stream&lt;IndexHtmlRequestListener&gt; indexHtmlRequestListeners) {\r\n            return indexHtmlRequestListeners;\r\n        }\r\n    \r\n        default public Stream&lt;DependencyFilter&gt; getDependencyFilters(Stream&lt;DependencyFilter&gt; serviceInitFilters) {\r\n            return serviceInitFilters;\r\n        }\r\n    \r\n        public &lt;T&gt; T getOrCreate(Class&lt;T&gt; var1);\r\n    \r\n        default public &lt;T extends HasElement&gt; T createRouteTarget(Class&lt;T&gt; routeTargetType, NavigationEvent event) {\r\n            return (T)((HasElement)this.getOrCreate(routeTargetType));\r\n        }\r\n    \r\n        public &lt;T extends Component&gt; T createComponent(Class&lt;T&gt; var1);\r\n    \r\n        public static Instantiator get(UI ui) {\r\n            if (!1.$assertionsDisabled &amp;&amp; ui == null) {\r\n                throw new AssertionError();\r\n            }\r\n            VaadinSession session = ui.getSession();\r\n            if (!1.$assertionsDisabled &amp;&amp; session == null) {\r\n                throw new AssertionError();\r\n            }\r\n            return session.getService().getInstantiator();\r\n        }\r\n    \r\n        default public I18NProvider getI18NProvider() {\r\n            return this.getOrCreate(I18NProvider.class);\r\n        }\r\n    \r\n        static {\r\n            if (1.$assertionsDisabled) {\r\n                // empty if block\r\n            }\r\n        }\r\n    }\r\n\r\nwhich causes an exception:\r\n\r\n    Traceback (most recent call last):\r\n      File &quot;/Users/irene/PycharmProjects/pythonProject/main.py&quot;, line 113, in &lt;module&gt;\r\n        main()\r\n      File &quot;/Users/irene/PycharmProjects/pythonProject/main.py&quot;, line 109, in main\r\n        jlca.start()\r\n      File &quot;/Users/irene/PycharmProjects/pythonProject/JLCodeAnalyzer.py&quot;, line 80, in start\r\n        tree = javalang.parse.parse(code_text)\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parse.py&quot;, line 53, in parse\r\n        return parser.parse()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 110, in parse\r\n        return self.parse_compilation_unit()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 302, in parse_compilation_unit\r\n        type_declaration = self.parse_type_declaration()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 347, in parse_type_declaration\r\n        return self.parse_class_or_interface_declaration()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 360, in parse_class_or_interface_declaration\r\n        type_declaration = self.parse_normal_interface_declaration()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 436, in parse_normal_interface_declaration\r\n        body = self.parse_interface_body()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 966, in parse_interface_body\r\n        declaration = self.parse_interface_body_declaration()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 981, in parse_interface_body_declaration\r\n        declaration = self.parse_interface_member_declaration()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1008, in parse_interface_member_declaration\r\n        declaration = self.parse_interface_method_or_field_declaration()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1018, in parse_interface_method_or_field_declaration\r\n        member = self.parse_interface_method_or_field_rest()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1035, in parse_interface_method_or_field_rest\r\n        rest = self.parse_interface_method_declarator_rest()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1082, in parse_interface_method_declarator_rest\r\n        body = self.parse_block()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1274, in parse_block\r\n        statement = self.parse_block_statement()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1339, in parse_block_statement\r\n        return self.parse_statement()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1389, in parse_statement\r\n        condition = self.parse_par_expression()\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 2032, in parse_par_expression\r\n        self.accept(&#39;)&#39;)\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 131, in accept\r\n        self.illegal(&quot;Expected &#39;%s&#39;&quot; % (accept,))\r\n      File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 119, in illegal\r\n        raise JavaSyntaxError(description, at)\r\n    javalang.parser.JavaSyntaxError\r\n\r\nAnd here is the JLCodeAnalyzer:\r\n\r\n    import javalang\r\n    import os\r\n    from javalang import tree\r\n    \r\n    class JLCodeAnalyzer:\r\n        def __init__(self, code_path):\r\n            self.code_path = code_path\r\n            self.codelines = None\r\n    \r\n        def get_method_start_end(self, method_node, tree):\r\n            startpos  = None\r\n            endpos    = None\r\n            startline = None\r\n            endline   = None\r\n            for path, node in tree:\r\n                if startpos is not None and method_node not in path:\r\n                    endpos = node.position\r\n                    endline = node.position.line if node.position is not None else None\r\n                    break\r\n                if startpos is None and node == method_node:\r\n                    startpos = node.position\r\n                    startline = node.position.line if node.position is not None else None\r\n            return startpos, endpos, startline, endline\r\n    \r\n        def get_method_text(self, startpos, endpos, startline, endline, last_endline_index, codelines, tree):\r\n            if startpos is None:\r\n                return &quot;&quot;, None, None, None\r\n            else:\r\n                startline_index = startline - 1\r\n                endline_index = endline - 1 if endpos is not None else None\r\n    \r\n                # 1. check for and fetch annotations\r\n                if last_endline_index is not None:\r\n                    for line in codelines[(last_endline_index + 1):(startline_index)]:\r\n                        if &quot;@&quot; in line:\r\n                            startline_index = startline_index - 1\r\n                meth_text = &quot;&lt;ST&gt;&quot;.join(codelines[startline_index:endline_index])\r\n                meth_text = meth_text[:meth_text.rfind(&quot;}&quot;) + 1]\r\n    \r\n                # 2. remove trailing rbrace for last methods &amp; any external content/comments\r\n                # if endpos is None and\r\n                if not abs(meth_text.count(&quot;}&quot;) - meth_text.count(&quot;{&quot;)) == 0:\r\n                    # imbalanced braces\r\n                    brace_diff = abs(meth_text.count(&quot;}&quot;) - meth_text.count(&quot;{&quot;))\r\n    \r\n                    for _ in range(brace_diff):\r\n                        meth_text  = meth_text[:meth_text.rfind(&quot;}&quot;)]\r\n                        meth_text  = meth_text[:meth_text.rfind(&quot;}&quot;) + 1]\r\n    \r\n                meth_lines = meth_text.split(&quot;&lt;ST&gt;&quot;)\r\n                meth_text  = &quot;&quot;.join(meth_lines)\r\n                last_endline_index = startline_index + (len(meth_lines) - 1)\r\n    \r\n                return meth_text, (startline_index + 1), (last_endline_index + 1), last_endline_index\r\n    \r\n        def get_java_files(self, directory):\r\n            &#39;&#39;&#39;\r\n            :param directory: path to the main directory of java files\r\n            :return: list of java files found\r\n            search for all .java files recursively in &quot;directory&quot;\r\n            &#39;&#39;&#39;\r\n    \r\n            java_files = []\r\n            for root, _, files in os.walk(directory):\r\n                for file in files:\r\n                    if file.endswith(&quot;.java&quot;):\r\n                        java_files.append(os.path.join(root, file))\r\n            return java_files\r\n    \r\n        def start(self):\r\n            java_files = self.get_java_files(self.code_path)\r\n    \r\n    \r\n            for target_file in java_files:\r\n                with open(target_file, &#39;r&#39;) as r\r\n                    codelines = r.readlines()\r\n                    code_text = &#39;&#39;.join(codelines)\r\n                    lex = None\r\n                    print(&quot;working on &quot;, target_file)\r\n                    tree = javalang.parse.parse(code_text)\r\n                    methods = {}\r\n                    for _, method_node in tree.filter(javalang.tree.MethodDeclaration):\r\n                        startpos, endpos, startline, endline = self.get_method_start_end(method_node, tree)\r\n                        method_text, startline, endline, lex = self.get_method_text(startpos, endpos, startline, endline, lex, codelines, tree)\r\n                        methods[method_node.name] = method_text\r\n    \r\n                    print(f&quot;total methods in {target_file} = {len(methods)}&quot;)\r\n\r\n\r\n\r\nI tried to compile the code on line and got some syntax errors. \r\nFor example:\r\n```\r\nerror: &#39;)&#39; expected\r\n        if (!1.$assertionsDisabled &amp;&amp; ui == null) {\r\n               ^\r\n```\r\n\r\nbut ths code has been downloaded from a maven reposotory, I would expect it has a correct syntax!\r\nOr am I wrong ?","title":"why exception is rised on some java files using JavaLang python package","body":"<p>I am aiming to obtain all methods names in a java file and count theit lines of code.\nI actually managed to obtain something using the javalang parser for python. It identifies all methods but not creator which make me think there is a specific property I should use to check weather the creator exists or not and retrieve its name (any idea?).</p>\n<p>It works well (javalang python pkg) most of the fimes but it fails on some files like the following one, which rises an exception</p>\n<pre><code>/*\n * Decompiled with CFR 0.152.\n */\npackage com.vaadin.flow.di;\n\nimport com.vaadin.flow.component.Component;\nimport com.vaadin.flow.component.HasElement;\nimport com.vaadin.flow.component.UI;\nimport com.vaadin.flow.i18n.I18NProvider;\nimport com.vaadin.flow.router.NavigationEvent;\nimport com.vaadin.flow.server.BootstrapListener;\nimport com.vaadin.flow.server.DependencyFilter;\nimport com.vaadin.flow.server.VaadinService;\nimport com.vaadin.flow.server.VaadinServiceInitListener;\nimport com.vaadin.flow.server.VaadinSession;\nimport com.vaadin.flow.server.communication.IndexHtmlRequestListener;\nimport java.io.Serializable;\nimport java.util.stream.Stream;\n\npublic interface Instantiator\nextends Serializable {\n    @Deprecated\n    public boolean init(VaadinService var1);\n\n    public Stream&lt;VaadinServiceInitListener&gt; getServiceInitListeners();\n\n    @Deprecated\n    default public Stream&lt;BootstrapListener&gt; getBootstrapListeners(Stream&lt;BootstrapListener&gt; serviceInitListeners) {\n        return serviceInitListeners;\n    }\n\n    default public Stream&lt;IndexHtmlRequestListener&gt; getIndexHtmlRequestListeners(Stream&lt;IndexHtmlRequestListener&gt; indexHtmlRequestListeners) {\n        return indexHtmlRequestListeners;\n    }\n\n    default public Stream&lt;DependencyFilter&gt; getDependencyFilters(Stream&lt;DependencyFilter&gt; serviceInitFilters) {\n        return serviceInitFilters;\n    }\n\n    public &lt;T&gt; T getOrCreate(Class&lt;T&gt; var1);\n\n    default public &lt;T extends HasElement&gt; T createRouteTarget(Class&lt;T&gt; routeTargetType, NavigationEvent event) {\n        return (T)((HasElement)this.getOrCreate(routeTargetType));\n    }\n\n    public &lt;T extends Component&gt; T createComponent(Class&lt;T&gt; var1);\n\n    public static Instantiator get(UI ui) {\n        if (!1.$assertionsDisabled &amp;&amp; ui == null) {\n            throw new AssertionError();\n        }\n        VaadinSession session = ui.getSession();\n        if (!1.$assertionsDisabled &amp;&amp; session == null) {\n            throw new AssertionError();\n        }\n        return session.getService().getInstantiator();\n    }\n\n    default public I18NProvider getI18NProvider() {\n        return this.getOrCreate(I18NProvider.class);\n    }\n\n    static {\n        if (1.$assertionsDisabled) {\n            // empty if block\n        }\n    }\n}\n</code></pre>\n<p>which causes an exception:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;/Users/irene/PycharmProjects/pythonProject/main.py&quot;, line 113, in &lt;module&gt;\n    main()\n  File &quot;/Users/irene/PycharmProjects/pythonProject/main.py&quot;, line 109, in main\n    jlca.start()\n  File &quot;/Users/irene/PycharmProjects/pythonProject/JLCodeAnalyzer.py&quot;, line 80, in start\n    tree = javalang.parse.parse(code_text)\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parse.py&quot;, line 53, in parse\n    return parser.parse()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 110, in parse\n    return self.parse_compilation_unit()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 302, in parse_compilation_unit\n    type_declaration = self.parse_type_declaration()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 347, in parse_type_declaration\n    return self.parse_class_or_interface_declaration()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 360, in parse_class_or_interface_declaration\n    type_declaration = self.parse_normal_interface_declaration()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 436, in parse_normal_interface_declaration\n    body = self.parse_interface_body()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 966, in parse_interface_body\n    declaration = self.parse_interface_body_declaration()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 981, in parse_interface_body_declaration\n    declaration = self.parse_interface_member_declaration()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1008, in parse_interface_member_declaration\n    declaration = self.parse_interface_method_or_field_declaration()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1018, in parse_interface_method_or_field_declaration\n    member = self.parse_interface_method_or_field_rest()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1035, in parse_interface_method_or_field_rest\n    rest = self.parse_interface_method_declarator_rest()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1082, in parse_interface_method_declarator_rest\n    body = self.parse_block()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1274, in parse_block\n    statement = self.parse_block_statement()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1339, in parse_block_statement\n    return self.parse_statement()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 1389, in parse_statement\n    condition = self.parse_par_expression()\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 2032, in parse_par_expression\n    self.accept(')')\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 131, in accept\n    self.illegal(&quot;Expected '%s'&quot; % (accept,))\n  File &quot;/usr/local/lib/python3.10/site-packages/javalang/parser.py&quot;, line 119, in illegal\n    raise JavaSyntaxError(description, at)\njavalang.parser.JavaSyntaxError\n</code></pre>\n<p>And here is the JLCodeAnalyzer:</p>\n<pre><code>import javalang\nimport os\nfrom javalang import tree\n\nclass JLCodeAnalyzer:\n    def __init__(self, code_path):\n        self.code_path = code_path\n        self.codelines = None\n\n    def get_method_start_end(self, method_node, tree):\n        startpos  = None\n        endpos    = None\n        startline = None\n        endline   = None\n        for path, node in tree:\n            if startpos is not None and method_node not in path:\n                endpos = node.position\n                endline = node.position.line if node.position is not None else None\n                break\n            if startpos is None and node == method_node:\n                startpos = node.position\n                startline = node.position.line if node.position is not None else None\n        return startpos, endpos, startline, endline\n\n    def get_method_text(self, startpos, endpos, startline, endline, last_endline_index, codelines, tree):\n        if startpos is None:\n            return &quot;&quot;, None, None, None\n        else:\n            startline_index = startline - 1\n            endline_index = endline - 1 if endpos is not None else None\n\n            # 1. check for and fetch annotations\n            if last_endline_index is not None:\n                for line in codelines[(last_endline_index + 1):(startline_index)]:\n                    if &quot;@&quot; in line:\n                        startline_index = startline_index - 1\n            meth_text = &quot;&lt;ST&gt;&quot;.join(codelines[startline_index:endline_index])\n            meth_text = meth_text[:meth_text.rfind(&quot;}&quot;) + 1]\n\n            # 2. remove trailing rbrace for last methods &amp; any external content/comments\n            # if endpos is None and\n            if not abs(meth_text.count(&quot;}&quot;) - meth_text.count(&quot;{&quot;)) == 0:\n                # imbalanced braces\n                brace_diff = abs(meth_text.count(&quot;}&quot;) - meth_text.count(&quot;{&quot;))\n\n                for _ in range(brace_diff):\n                    meth_text  = meth_text[:meth_text.rfind(&quot;}&quot;)]\n                    meth_text  = meth_text[:meth_text.rfind(&quot;}&quot;) + 1]\n\n            meth_lines = meth_text.split(&quot;&lt;ST&gt;&quot;)\n            meth_text  = &quot;&quot;.join(meth_lines)\n            last_endline_index = startline_index + (len(meth_lines) - 1)\n\n            return meth_text, (startline_index + 1), (last_endline_index + 1), last_endline_index\n\n    def get_java_files(self, directory):\n        '''\n        :param directory: path to the main directory of java files\n        :return: list of java files found\n        search for all .java files recursively in &quot;directory&quot;\n        '''\n\n        java_files = []\n        for root, _, files in os.walk(directory):\n            for file in files:\n                if file.endswith(&quot;.java&quot;):\n                    java_files.append(os.path.join(root, file))\n        return java_files\n\n    def start(self):\n        java_files = self.get_java_files(self.code_path)\n\n\n        for target_file in java_files:\n            with open(target_file, 'r') as r\n                codelines = r.readlines()\n                code_text = ''.join(codelines)\n                lex = None\n                print(&quot;working on &quot;, target_file)\n                tree = javalang.parse.parse(code_text)\n                methods = {}\n                for _, method_node in tree.filter(javalang.tree.MethodDeclaration):\n                    startpos, endpos, startline, endline = self.get_method_start_end(method_node, tree)\n                    method_text, startline, endline, lex = self.get_method_text(startpos, endpos, startline, endline, lex, codelines, tree)\n                    methods[method_node.name] = method_text\n\n                print(f&quot;total methods in {target_file} = {len(methods)}&quot;)\n</code></pre>\n<p>I tried to compile the code on line and got some syntax errors.\nFor example:</p>\n<pre><code>error: ')' expected\n        if (!1.$assertionsDisabled &amp;&amp; ui == null) {\n               ^\n</code></pre>\n<p>but ths code has been downloaded from a maven reposotory, I would expect it has a correct syntax!\nOr am I wrong ?</p>\n"},{"tags":["java","spring-boot","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":14004176,"reputation":93,"user_id":10114822,"display_name":"barkeldiho"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680608458,"creation_date":1680608458,"answer_id":75928929,"question_id":75928527,"body_markdown":"Since I had to wrap my head around that problem myself, I can give you an answer based on your description. Although I am not sure that this is the most correct answer.\r\n\r\nYour first and second solution utilize a singleton pattern within Spring Boot while maintaining route visibility and transparency. Both is good and desirable. Thus, both ways are fine as far as I can tell. \r\n\r\nWhether you should use a service layer or Processor objects depends imho a bit on their respective purpose. Thus, if you can identify shared functionalities among different processing steps those steps could be organized in a service and called by whatever route needs them. If the processing steps are pretty much isolated its probably cleaner to use the Processors. Here it pretty much comes down to this kind of evaluation or some further technical implications like testing or async processing etc.\r\n\r\nBest\r\n\r\n","title":"Proper way to use Apache Camel with Spring Boot","body":"<p>Since I had to wrap my head around that problem myself, I can give you an answer based on your description. Although I am not sure that this is the most correct answer.</p>\n<p>Your first and second solution utilize a singleton pattern within Spring Boot while maintaining route visibility and transparency. Both is good and desirable. Thus, both ways are fine as far as I can tell.</p>\n<p>Whether you should use a service layer or Processor objects depends imho a bit on their respective purpose. Thus, if you can identify shared functionalities among different processing steps those steps could be organized in a service and called by whatever route needs them. If the processing steps are pretty much isolated its probably cleaner to use the Processors. Here it pretty much comes down to this kind of evaluation or some further technical implications like testing or async processing etc.</p>\n<p>Best</p>\n"}],"owner":{"account_id":19943168,"reputation":45,"user_id":14614483,"display_name":"viktor nagla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75928929,"answer_count":1,"score":0,"last_activity_date":1680608458,"creation_date":1680605887,"question_id":75928527,"body_markdown":"I have been working on 3 different projects and all of them had different way to work with Camel.\r\nFirst one was mostly calling couple of services per route through bean(we end up with large services that only had methods that were used in Camel routes only), like this:\r\n\r\n    from(&quot;direct:someUrl&quot;)\r\n      .bean(myService, &quot;loadData&quot;)\r\n      .bean(myService, &quot;validateData&quot;)\r\n      .bean(myService, &quot;saveData&quot;)\r\n      .bean(myService2, &quot;sendEvent&quot;)\r\n\r\nand so on.\r\nSecond created separate processor per each task(had to create long constructor to inject them all). Like:\r\n\r\n    from(&quot;direct:someUrl&quot;)\r\n      .process(myParseProcessor)\r\n      .process(myValidationProcessor)\r\n      .process(mySaveToDbProcessor)\r\n      .process(myPublishEventProcessor)\r\n\r\nAnd in third one routes were calling each other(was super hard to see the full flow, because you had to jump across multiple classes). Like:\r\n \r\n \r\n     FisrtRoute.java\r\n     from(&quot;direct:someUrl&quot;)\r\n      .process(()-&gt; doSmth)\r\n      .to(&quot;direct:someUrl2&quot;)\r\n      \r\n     SecondRoute.java\r\n     from(&quot;direct:someUrl2&quot;)\r\n      .process(()-&gt; doSmth)\r\n      .to(&quot;direct:someUrl3&quot;)\r\n\r\n     ThirdRoute.java\r\n     from(&quot;direct:someUrl3&quot;)\r\n      .process(()-&gt; doSmth)\r\n      .to(&quot;direct:someUrl4&quot;)\r\n\r\nI am trying to understand what is the preferred way to work with Camel? Personally I prefer second one, as it is easier to see the whole flow in one place and to cover with tests all small processors, but on the other hand we end up with tons of processors and huge list of them being injected into our Route.","title":"Proper way to use Apache Camel with Spring Boot","body":"<p>I have been working on 3 different projects and all of them had different way to work with Camel.\nFirst one was mostly calling couple of services per route through bean(we end up with large services that only had methods that were used in Camel routes only), like this:</p>\n<pre><code>from(&quot;direct:someUrl&quot;)\n  .bean(myService, &quot;loadData&quot;)\n  .bean(myService, &quot;validateData&quot;)\n  .bean(myService, &quot;saveData&quot;)\n  .bean(myService2, &quot;sendEvent&quot;)\n</code></pre>\n<p>and so on.\nSecond created separate processor per each task(had to create long constructor to inject them all). Like:</p>\n<pre><code>from(&quot;direct:someUrl&quot;)\n  .process(myParseProcessor)\n  .process(myValidationProcessor)\n  .process(mySaveToDbProcessor)\n  .process(myPublishEventProcessor)\n</code></pre>\n<p>And in third one routes were calling each other(was super hard to see the full flow, because you had to jump across multiple classes). Like:</p>\n<pre><code> FisrtRoute.java\n from(&quot;direct:someUrl&quot;)\n  .process(()-&gt; doSmth)\n  .to(&quot;direct:someUrl2&quot;)\n  \n SecondRoute.java\n from(&quot;direct:someUrl2&quot;)\n  .process(()-&gt; doSmth)\n  .to(&quot;direct:someUrl3&quot;)\n\n ThirdRoute.java\n from(&quot;direct:someUrl3&quot;)\n  .process(()-&gt; doSmth)\n  .to(&quot;direct:someUrl4&quot;)\n</code></pre>\n<p>I am trying to understand what is the preferred way to work with Camel? Personally I prefer second one, as it is easier to see the whole flow in one place and to cover with tests all small processors, but on the other hand we end up with tons of processors and huge list of them being injected into our Route.</p>\n"},{"tags":["java","jar","image-loading"],"comments":[{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":0,"creation_date":1680587567,"post_id":75922589,"comment_id":133918996,"body_markdown":"It is generally bad idea to convert a resource location into a file path. Depending on the OS, file system and file location it can or cannot work. For example it can fail, if the path to the JAR contains the character &quot;!&quot;. The better way is to read the resource directly as a stream.","body":"It is generally bad idea to convert a resource location into a file path. Depending on the OS, file system and file location it can or cannot work. For example it can fail, if the path to the JAR contains the character &quot;!&quot;. The better way is to read the resource directly as a stream."},{"owner":{"account_id":27529965,"reputation":11,"user_id":21008642,"display_name":"Command17"},"score":0,"creation_date":1680606613,"post_id":75922589,"comment_id":133923171,"body_markdown":"@30thh I can&#39;t read them as streams since jaylib (raylib) needs the path to the image","body":"@30thh I can&#39;t read them as streams since jaylib (raylib) needs the path to the image"}],"answers":[{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680549199,"creation_date":1680549199,"answer_id":75923009,"question_id":75922589,"body_markdown":"IntelliJ has a different way to decide, which directories must be a part of the classpath. It is very possible, the directory with a image is tagged as a resource directory in the project setting, but not in the `pom.xml` Finally the file is not exported to the JAR at all.\r\n\r\nYou need to ensure, you specify the resource directory like this in your `pom.xml`:\r\n\r\n    &lt;build&gt;\r\n       ...\r\n       &lt;resources&gt;\r\n         &lt;resource&gt;\r\n           &lt;directory&gt;[your folder here]&lt;/directory&gt;\r\n         &lt;/resource&gt;\r\n       &lt;/resources&gt;\r\n       ...\r\n    &lt;/build&gt;","title":"Jar file not finding image but in Idea does","body":"<p>IntelliJ has a different way to decide, which directories must be a part of the classpath. It is very possible, the directory with a image is tagged as a resource directory in the project setting, but not in the <code>pom.xml</code> Finally the file is not exported to the JAR at all.</p>\n<p>You need to ensure, you specify the resource directory like this in your <code>pom.xml</code>:</p>\n<pre><code>&lt;build&gt;\n   ...\n   &lt;resources&gt;\n     &lt;resource&gt;\n       &lt;directory&gt;[your folder here]&lt;/directory&gt;\n     &lt;/resource&gt;\n   &lt;/resources&gt;\n   ...\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":27529965,"reputation":11,"user_id":21008642,"display_name":"Command17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680607870,"creation_date":1680546015,"question_id":75922589,"body_markdown":"I&#39;m trying to load an image in Java using Jaylib, it works in Intellij but not does as a Jar.\r\n\r\nMethod for Resource Locations:\r\n```java\r\n@Nullable\r\n    public String getPath() {\r\n        try {\r\n            return Path.of(ClassLoader.getSystemClassLoader().getResource(this.location).toURI()).toString();\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;No object found at location!&quot;);\r\n            LOGGER.debug(Arrays.toString(e.getStackTrace()));\r\n        }\r\n\r\n        return null;\r\n    }\r\n```\r\n\r\nI tried using ```getClass().getResource```, ```getClass().getClassLoader().getResource()``` and using a fat jar instead of a shadow jar.\r\n\r\nEdit: I debugged it and this is the log:\r\n\r\n```\r\n[jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.getFileSystem(ZipFileSystemProvider.java:156), jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.getPath(ZipFileSystemProvider.java:142), java.base/java.nio.file.Path.of(Path.java:208), com.github.command17.mariomaker17.resource.ResourceLocation.getPath(ResourceLocation.java:26), com.github.command17.mariomaker17.resource.Textures.loadTextures(Textures.java:9), com.github.command17.mariomaker17.Main.main(Main.java:42)]\r\n```","title":"Jar file not finding image but in Idea does","body":"<p>I'm trying to load an image in Java using Jaylib, it works in Intellij but not does as a Jar.</p>\n<p>Method for Resource Locations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Nullable\n    public String getPath() {\n        try {\n            return Path.of(ClassLoader.getSystemClassLoader().getResource(this.location).toURI()).toString();\n        } catch (Exception e) {\n            LOGGER.error(&quot;No object found at location!&quot;);\n            LOGGER.debug(Arrays.toString(e.getStackTrace()));\n        }\n\n        return null;\n    }\n</code></pre>\n<p>I tried using <code>getClass().getResource</code>, <code>getClass().getClassLoader().getResource()</code> and using a fat jar instead of a shadow jar.</p>\n<p>Edit: I debugged it and this is the log:</p>\n<pre><code>[jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.getFileSystem(ZipFileSystemProvider.java:156), jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.getPath(ZipFileSystemProvider.java:142), java.base/java.nio.file.Path.of(Path.java:208), com.github.command17.mariomaker17.resource.ResourceLocation.getPath(ResourceLocation.java:26), com.github.command17.mariomaker17.resource.Textures.loadTextures(Textures.java:9), com.github.command17.mariomaker17.Main.main(Main.java:42)]\n</code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql","parquet"],"answers":[{"tags":[],"owner":{"account_id":5977018,"reputation":2315,"user_id":4697497,"display_name":"ImDarrenG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480070684,"creation_date":1480070684,"answer_id":40803108,"question_id":40802978,"body_markdown":"Parquet is a file format rather than a database, in order to achieve an update by id, you will need to read the file, update the value in memory, than re-write the data to a new file (or overwrite the existing file).\r\n\r\nYou might be better served using a database if this is a use-case that will occur frequently.","title":"Spark - Update the record (in parquet file) if already exists","body":"<p>Parquet is a file format rather than a database, in order to achieve an update by id, you will need to read the file, update the value in memory, than re-write the data to a new file (or overwrite the existing file).</p>\n\n<p>You might be better served using a database if this is a use-case that will occur frequently.</p>\n"},{"tags":[],"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494847961,"creation_date":1494847961,"answer_id":43978402,"question_id":40802978,"body_markdown":"You can have a look at Apache ORC file format instead, see:\r\n\r\nhttps://orc.apache.org/docs/acid.html\r\n\r\nAccording your use case, or HBase if you want stay in top of HDFS.\r\n\r\nBut keep in mind that HDFS is a write once file system, if this is not fitting your need, go for something else (maybe elasticsearch, mongodb).\r\n\r\nElse, in HDFS, you must create new files every-time, you must setup an incremental process to build a &quot;delta&quot; file, then merge OLD + DELTA = NEW_DATA.","title":"Spark - Update the record (in parquet file) if already exists","body":"<p>You can have a look at Apache ORC file format instead, see:</p>\n\n<p><a href=\"https://orc.apache.org/docs/acid.html\" rel=\"nofollow noreferrer\">https://orc.apache.org/docs/acid.html</a></p>\n\n<p>According your use case, or HBase if you want stay in top of HDFS.</p>\n\n<p>But keep in mind that HDFS is a write once file system, if this is not fitting your need, go for something else (maybe elasticsearch, mongodb).</p>\n\n<p>Else, in HDFS, you must create new files every-time, you must setup an incremental process to build a \"delta\" file, then merge OLD + DELTA = NEW_DATA.</p>\n"},{"tags":[],"owner":{"account_id":1379907,"reputation":21,"user_id":1313150,"display_name":"Atzmon Hen-tov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680607766,"creation_date":1680607766,"answer_id":75928821,"question_id":40802978,"body_markdown":"You can also look at apache hudi (&lt;https://hudi.apache.org/&gt;) which provides support for updates over parquet files.\r\n\r\n","title":"Spark - Update the record (in parquet file) if already exists","body":"<p>You can also look at apache hudi (<a href=\"https://hudi.apache.org/\" rel=\"nofollow noreferrer\">https://hudi.apache.org/</a>) which provides support for updates over parquet files.</p>\n"}],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9503,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1680607766,"creation_date":1480070270,"question_id":40802978,"body_markdown":"I am writing a Spark job to read the data from json file and write it to parquet file, below is the example code:\r\n\r\n        DataFrame dataFrame = new DataFrameReader(sqlContext).json(textFile);\r\n        dataFrame = dataFrame.withColumn(&quot;year&quot;, year(to_date(unix_timestamp(dataFrame.col(&quot;date&quot;), &quot;YYYY-MM-dd&#39;T&#39;hh:mm:ss.SSS&quot;).cast(&quot;timestamp&quot;))));\r\n        dataFrame = dataFrame.withColumn(&quot;month&quot;, month(to_date(unix_timestamp(dataFrame.col(&quot;date&quot;), &quot;YYYY-MM-dd&#39;T&#39;hh:mm:ss.SSS&quot;).cast(&quot;timestamp&quot;))));\r\n        dataFrame.write().mode(SaveMode.Append).partitionBy(&quot;year&quot;, &quot;month&quot;).parquet(&quot;&lt;some_path&gt;&quot;);\r\n\r\nJson file consists of lots of json records and I want the record to be updated in parquet if it already exists. I have tried `Append` mode but it seems to be working on file level rather than record level (i.e. if file already exists, it writes in the end). So, running this job for the same file duplicates the records.\r\n\r\nIs there any way we can specify dataframe row id as a unique key and ask spark to update the record if it already exists? All the save modes seem to be checking the files and not the records.","title":"Spark - Update the record (in parquet file) if already exists","body":"<p>I am writing a Spark job to read the data from json file and write it to parquet file, below is the example code:</p>\n\n<pre><code>    DataFrame dataFrame = new DataFrameReader(sqlContext).json(textFile);\n    dataFrame = dataFrame.withColumn(\"year\", year(to_date(unix_timestamp(dataFrame.col(\"date\"), \"YYYY-MM-dd'T'hh:mm:ss.SSS\").cast(\"timestamp\"))));\n    dataFrame = dataFrame.withColumn(\"month\", month(to_date(unix_timestamp(dataFrame.col(\"date\"), \"YYYY-MM-dd'T'hh:mm:ss.SSS\").cast(\"timestamp\"))));\n    dataFrame.write().mode(SaveMode.Append).partitionBy(\"year\", \"month\").parquet(\"&lt;some_path&gt;\");\n</code></pre>\n\n<p>Json file consists of lots of json records and I want the record to be updated in parquet if it already exists. I have tried <code>Append</code> mode but it seems to be working on file level rather than record level (i.e. if file already exists, it writes in the end). So, running this job for the same file duplicates the records.</p>\n\n<p>Is there any way we can specify dataframe row id as a unique key and ask spark to update the record if it already exists? All the save modes seem to be checking the files and not the records.</p>\n"},{"tags":["java","jdbc","google-bigquery","google-cloud-dataflow"],"answers":[{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673336963,"creation_date":1673309126,"answer_id":75064158,"question_id":75063068,"body_markdown":"In the read part you can use `TableRow` with `JdbcIO` as follow : \r\n\r\n```java\r\nPCollection&lt;TableRow&gt; results = pipeline\r\n        .apply(&quot;Connect&quot;, JdbcIO.&lt;TableRow&gt;read()\r\n                .withDataSourceConfiguration(buildDataSourceConfig(options, URL))\r\n                .withQuery(query)\r\n                .withCoder(TableRowJsonCoder.of())\r\n                .withRowMapper(new JdbcIO.RowMapper&lt;TableRow&gt;() {\r\n                    @Override\r\n                    public TableRow mapRow(ResultSet resultSet) {\r\n                        // Implements your logic here.\r\n                      \r\n                        return tableRow;\r\n                    }\r\n                )\r\n        );\r\n``` \r\n\r\nI think `Dataflow` isn&#39;t the easier service to meet your need because you have to pass a schema to `BigQueryIO` to allows `Dataflow` to create the table with `CREATE_IF_NEEDED` option.\r\n\r\nThe schema is passed with the following method : [withSchema(schema)](https://beam.apache.org/documentation/io/built-in/google-bigquery/), example : \r\n\r\n```java\r\n  rows.apply(\r\n        &quot;Write to BigQuery&quot;,\r\n        BigQueryIO.writeTableRows()\r\n            .to(String.format(&quot;%s:%s.%s&quot;, project, dataset, table))\r\n            .withSchema(schema)\r\n            // For CreateDisposition:\r\n            // - CREATE_IF_NEEDED (default): creates the table if it doesn&#39;t exist, a schema is\r\n            // required\r\n            // - CREATE_NEVER: raises an error if the table doesn&#39;t exist, a schema is not needed\r\n            .withCreateDisposition(CreateDisposition.CREATE_IF_NEEDED)\r\n            // For WriteDisposition:\r\n            // - WRITE_EMPTY (default): raises an error if the table is not empty\r\n            // - WRITE_APPEND: appends new rows to existing rows\r\n            // - WRITE_TRUNCATE: deletes the existing rows before writing\r\n            .withWriteDisposition(WriteDisposition.WRITE_TRUNCATE));\r\n\r\n    // pipeline.run().waitUntilFinish();\r\n  }\r\n```\r\n\r\nThat means in your case, you have to build the schema from the current `TableRow` in the `PCollection`.\r\n\r\nIt&#39;s not easy to do that with `Beam`.\r\nIt would have been easier if you could have used a schema for your BigQuery table.\r\n\r\nI propose you another solution and approach : \r\n\r\n- Export the `MS-SQL` data to `Cloud Storage`\r\n- Import the `Cloud Storage` files to `BigQuery` with `autodetect` mode to infer the schema from the file.\r\n\r\nYou can add this logic in a `Shell` script if you want to automate this process with `gcloud` cli.\r\n\r\nExample to [load](https://cloud.google.com/bigquery/docs/loading-data-cloud-storage-csv#appending_to_or_overwriting_a_table_with_csv_data) `GCS` file to `BigQuery` : \r\n\r\n```shell\r\n bq load \\\r\n    --autodetect \\\r\n    --replace \\\r\n    --source_format=CSV \\\r\n    mydataset.mytable \\\r\n    gs://mybucket/mydata.csv\r\n```\r\n","title":"Dataflow JDBCIO Read with Generic Row Mapper","body":"<p>In the read part you can use <code>TableRow</code> with <code>JdbcIO</code> as follow :</p>\n<pre class=\"lang-java prettyprint-override\"><code>PCollection&lt;TableRow&gt; results = pipeline\n        .apply(&quot;Connect&quot;, JdbcIO.&lt;TableRow&gt;read()\n                .withDataSourceConfiguration(buildDataSourceConfig(options, URL))\n                .withQuery(query)\n                .withCoder(TableRowJsonCoder.of())\n                .withRowMapper(new JdbcIO.RowMapper&lt;TableRow&gt;() {\n                    @Override\n                    public TableRow mapRow(ResultSet resultSet) {\n                        // Implements your logic here.\n                      \n                        return tableRow;\n                    }\n                )\n        );\n</code></pre>\n<p>I think <code>Dataflow</code> isn't the easier service to meet your need because you have to pass a schema to <code>BigQueryIO</code> to allows <code>Dataflow</code> to create the table with <code>CREATE_IF_NEEDED</code> option.</p>\n<p>The schema is passed with the following method : <a href=\"https://beam.apache.org/documentation/io/built-in/google-bigquery/\" rel=\"nofollow noreferrer\">withSchema(schema)</a>, example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>  rows.apply(\n        &quot;Write to BigQuery&quot;,\n        BigQueryIO.writeTableRows()\n            .to(String.format(&quot;%s:%s.%s&quot;, project, dataset, table))\n            .withSchema(schema)\n            // For CreateDisposition:\n            // - CREATE_IF_NEEDED (default): creates the table if it doesn't exist, a schema is\n            // required\n            // - CREATE_NEVER: raises an error if the table doesn't exist, a schema is not needed\n            .withCreateDisposition(CreateDisposition.CREATE_IF_NEEDED)\n            // For WriteDisposition:\n            // - WRITE_EMPTY (default): raises an error if the table is not empty\n            // - WRITE_APPEND: appends new rows to existing rows\n            // - WRITE_TRUNCATE: deletes the existing rows before writing\n            .withWriteDisposition(WriteDisposition.WRITE_TRUNCATE));\n\n    // pipeline.run().waitUntilFinish();\n  }\n</code></pre>\n<p>That means in your case, you have to build the schema from the current <code>TableRow</code> in the <code>PCollection</code>.</p>\n<p>It's not easy to do that with <code>Beam</code>.\nIt would have been easier if you could have used a schema for your BigQuery table.</p>\n<p>I propose you another solution and approach :</p>\n<ul>\n<li>Export the <code>MS-SQL</code> data to <code>Cloud Storage</code></li>\n<li>Import the <code>Cloud Storage</code> files to <code>BigQuery</code> with <code>autodetect</code> mode to infer the schema from the file.</li>\n</ul>\n<p>You can add this logic in a <code>Shell</code> script if you want to automate this process with <code>gcloud</code> cli.</p>\n<p>Example to <a href=\"https://cloud.google.com/bigquery/docs/loading-data-cloud-storage-csv#appending_to_or_overwriting_a_table_with_csv_data\" rel=\"nofollow noreferrer\">load</a> <code>GCS</code> file to <code>BigQuery</code> :</p>\n<pre class=\"lang-bash prettyprint-override\"><code> bq load \\\n    --autodetect \\\n    --replace \\\n    --source_format=CSV \\\n    mydataset.mytable \\\n    gs://mybucket/mydata.csv\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28006010,"reputation":11,"user_id":21389410,"display_name":"Maksym Shevchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680607623,"creation_date":1680607623,"answer_id":75928797,"question_id":75063068,"body_markdown":"Sharing my solution for a somewhat similar case. If you are using beam in GCP&#39;s Dataflow, you can create so-called Flex-template, which allows to dynamically build &quot;pipeline graph&quot; based on input parameters. So by extending DataflowPipelineOptions interface you can specify your own parameters that you will set during job creation stage.\r\n```public interface JDBCToBQPipelineOptions extends DataflowPipelineOptions {\r\n    @Description(&quot;List of Tables and corresponding columns to partition by (format: TABLENAME:PARTITIONCOLUMN;TABLENAME:PARTITIONCOLUMN)&quot;)\r\n    String getTableNames();\r\n\r\n    void setTableNames(String value);\r\n}\r\n```\r\nThen by using readWithPartitions() (which essentially just makes a series of paginated queries by column you specify withPartitionColumn) you could call withRowOutput() from which during next step of writing to bq it can infer a schema from beam by calling .useBeamSchema().\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n    JDBCToBQPipelineOptions options = PipelineOptionsFactory.fromArgs(args).withValidation()\r\n        .as(JDBCToBQPipelineOptions.class);\r\n    Pipeline p = Pipeline.create(options);\r\n    Set&lt;SchemaUpdateOption&gt; schema_options = Set.of(SchemaUpdateOption.ALLOW_FIELD_ADDITION,\r\n        SchemaUpdateOption.ALLOW_FIELD_RELAXATION);\r\n\r\n    for (String table : options.getTableNames().split(&quot;;&quot;)) {\r\n      String[] tableMeta = table.split(&quot;:&quot;);// tableMeta[0] is tableName, tableMeta[1] is column to partition query by\r\n\r\n      PCollection&lt;GenericRecord&gt; records = p.apply(\r\n          JdbcIO.&lt;GenericRecord&gt;readWithPartitions()\r\n              .withDataSourceProviderFn(JdbcIO.PoolableDataSourceProvider.of(\r\n                  JdbcIO.DataSourceConfiguration.create({DRIVER CLASS NAME HERE}, {JDBC_URL_HERE})\r\n                      .withUsername({USERNAME HERE})\r\n                      .withPassword({PASSWORDHERE})\r\n                      .withConnectionProperties({CONNECTION PROPS HERE})))\r\n              .withTable(tableMeta[0])\r\n              .withPartitionColumn(tableMeta[1])\r\n              .withNumPartitions(options.getNumPartitions())\r\n              .withRowOutput()\r\n      // step 2 write to BigQuery\r\n      );\r\n      records.apply(\r\n          BigQueryIO.&lt;GenericRecord&gt;write()\r\n              .to({YOUR BQ DESTINATEION HERE}+&quot;.&quot;+tableMeta[0])\r\n              .withExtendedErrorInfo()\r\n              .useBeamSchema()\r\n              .withSchemaUpdateOptions(schema_options)\r\n              .withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_IF_NEEDED)\r\n              .withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_APPEND));\r\n    }\r\n    p.run();\r\n  }\r\n```\r\nMake sure that during Flex template creation you specify \r\n`ENV FLEX_TEMPLATE_JAVA_MAIN_CLASS` and `ENV FLEX_TEMPLATE_JAVA_CLASSPATH` in your docker file that you would build an image from and `COPY target/YOURJARNAME.jar ${FLEX_TEMPLATE_JAVA_CLASSPATH}`to make sure that fat/uber jar is packaged. \r\nFat jar can be generated by running `mvn clean package` and having maven-shade-plugin included in your pom.xml plugin configs","title":"Dataflow JDBCIO Read with Generic Row Mapper","body":"<p>Sharing my solution for a somewhat similar case. If you are using beam in GCP's Dataflow, you can create so-called Flex-template, which allows to dynamically build &quot;pipeline graph&quot; based on input parameters. So by extending DataflowPipelineOptions interface you can specify your own parameters that you will set during job creation stage.</p>\n<pre><code>    @Description(&quot;List of Tables and corresponding columns to partition by (format: TABLENAME:PARTITIONCOLUMN;TABLENAME:PARTITIONCOLUMN)&quot;)\n    String getTableNames();\n\n    void setTableNames(String value);\n}\n</code></pre>\n<p>Then by using readWithPartitions() (which essentially just makes a series of paginated queries by column you specify withPartitionColumn) you could call withRowOutput() from which during next step of writing to bq it can infer a schema from beam by calling .useBeamSchema().</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    JDBCToBQPipelineOptions options = PipelineOptionsFactory.fromArgs(args).withValidation()\n        .as(JDBCToBQPipelineOptions.class);\n    Pipeline p = Pipeline.create(options);\n    Set&lt;SchemaUpdateOption&gt; schema_options = Set.of(SchemaUpdateOption.ALLOW_FIELD_ADDITION,\n        SchemaUpdateOption.ALLOW_FIELD_RELAXATION);\n\n    for (String table : options.getTableNames().split(&quot;;&quot;)) {\n      String[] tableMeta = table.split(&quot;:&quot;);// tableMeta[0] is tableName, tableMeta[1] is column to partition query by\n\n      PCollection&lt;GenericRecord&gt; records = p.apply(\n          JdbcIO.&lt;GenericRecord&gt;readWithPartitions()\n              .withDataSourceProviderFn(JdbcIO.PoolableDataSourceProvider.of(\n                  JdbcIO.DataSourceConfiguration.create({DRIVER CLASS NAME HERE}, {JDBC_URL_HERE})\n                      .withUsername({USERNAME HERE})\n                      .withPassword({PASSWORDHERE})\n                      .withConnectionProperties({CONNECTION PROPS HERE})))\n              .withTable(tableMeta[0])\n              .withPartitionColumn(tableMeta[1])\n              .withNumPartitions(options.getNumPartitions())\n              .withRowOutput()\n      // step 2 write to BigQuery\n      );\n      records.apply(\n          BigQueryIO.&lt;GenericRecord&gt;write()\n              .to({YOUR BQ DESTINATEION HERE}+&quot;.&quot;+tableMeta[0])\n              .withExtendedErrorInfo()\n              .useBeamSchema()\n              .withSchemaUpdateOptions(schema_options)\n              .withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_IF_NEEDED)\n              .withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_APPEND));\n    }\n    p.run();\n  }\n</code></pre>\n<p>Make sure that during Flex template creation you specify\n<code>ENV FLEX_TEMPLATE_JAVA_MAIN_CLASS</code> and <code>ENV FLEX_TEMPLATE_JAVA_CLASSPATH</code> in your docker file that you would build an image from and <code>COPY target/YOURJARNAME.jar ${FLEX_TEMPLATE_JAVA_CLASSPATH}</code>to make sure that fat/uber jar is packaged.\nFat jar can be generated by running <code>mvn clean package</code> and having maven-shade-plugin included in your pom.xml plugin configs</p>\n"}],"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680607623,"creation_date":1673299425,"question_id":75063068,"body_markdown":"I&#39;m using a Dataflow job to read from a MS-SQL database and write the results to a Big Query table. The purpose of the Dataflow job is to be able to create tables with different schemas based on whatever query was run. I can&#39;t find a way to set up a generic Row Mapper when doing the JDBCIO read, and was hoping there was a standard way to create a row to write to Big Query based on the schema of the rows returned in the JDBCIO.read ResultSet.\r\n\r\nI get the following error when I don&#39;t include the RowMapper in my query definition:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: withRowMapper() is required\tat org.apache.beam.vendor.guava.v26_0_jre.com.google.common.base.Preconditions.checkArgument(Preconditions.java:141)\r\n     \tat org.apache.beam.sdk.io.jdbc.JdbcIO$Read.expand(JdbcIO.java:810)\r\n     \tat org.apache.beam.sdk.io.jdbc.JdbcIO$Read.expand(JdbcIO.java:711)\r\n     \tat org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\r\n     \tat org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:499)\r\n    \tat org.apache.beam.sdk.values.PBegin.apply(PBegin.java:56)\r\n     \tat org.apache.beam.sdk.Pipeline.apply(Pipeline.java:192)\r\n     \tat edu.mayo.mcc.aide.sqaTransfer.SqaTransfer.buildPipeline(SqaTransfer.java:81)\r\n     \tat edu.mayo.mcc.aide.sqaTransfer.SqaTransfer.main(SqaTransfer.java:66)\r\n\r\nI am trying to writeandrea based on the following setup:\r\n\r\n    PCollection&lt;TableRow&gt; results = pipeline\r\n            .apply(&quot;Connect&quot;, JdbcIO.&lt;TableRow&gt;read()\r\n                    .withDataSourceConfiguration(buildDataSourceConfig(options, URL))\r\n                    .withQuery(query)\r\n                    .withRowMapper(&quot;WHAT NEEDS TO BE HERE TO CREATE A GENERIC ROW MAPPER&quot;));\r\n\r\n    results.apply(&quot;Write to BQ&quot;,\r\n            BigQueryIO.writeTableRows()\r\n                    .to(dataset)\r\n                    .withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_TRUNCATE)\r\n                    .withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_IF_NEEDED));\r\n","title":"Dataflow JDBCIO Read with Generic Row Mapper","body":"<p>I'm using a Dataflow job to read from a MS-SQL database and write the results to a Big Query table. The purpose of the Dataflow job is to be able to create tables with different schemas based on whatever query was run. I can't find a way to set up a generic Row Mapper when doing the JDBCIO read, and was hoping there was a standard way to create a row to write to Big Query based on the schema of the rows returned in the JDBCIO.read ResultSet.</p>\n<p>I get the following error when I don't include the RowMapper in my query definition:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: withRowMapper() is required  at org.apache.beam.vendor.guava.v26_0_jre.com.google.common.base.Preconditions.checkArgument(Preconditions.java:141)\n    at org.apache.beam.sdk.io.jdbc.JdbcIO$Read.expand(JdbcIO.java:810)\n    at org.apache.beam.sdk.io.jdbc.JdbcIO$Read.expand(JdbcIO.java:711)\n    at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\n    at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:499)\n    at org.apache.beam.sdk.values.PBegin.apply(PBegin.java:56)\n    at org.apache.beam.sdk.Pipeline.apply(Pipeline.java:192)\n    at edu.mayo.mcc.aide.sqaTransfer.SqaTransfer.buildPipeline(SqaTransfer.java:81)\n    at edu.mayo.mcc.aide.sqaTransfer.SqaTransfer.main(SqaTransfer.java:66)\n</code></pre>\n<p>I am trying to writeandrea based on the following setup:</p>\n<pre><code>PCollection&lt;TableRow&gt; results = pipeline\n        .apply(&quot;Connect&quot;, JdbcIO.&lt;TableRow&gt;read()\n                .withDataSourceConfiguration(buildDataSourceConfig(options, URL))\n                .withQuery(query)\n                .withRowMapper(&quot;WHAT NEEDS TO BE HERE TO CREATE A GENERIC ROW MAPPER&quot;));\n\nresults.apply(&quot;Write to BQ&quot;,\n        BigQueryIO.writeTableRows()\n                .to(dataset)\n                .withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_TRUNCATE)\n                .withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_IF_NEEDED));\n</code></pre>\n"},{"tags":["java","amazon-web-services","apache-spark","docker-compose","apache-spark-sql"],"owner":{"account_id":18241934,"reputation":27,"user_id":13278816,"display_name":"Maxim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680607445,"creation_date":1680607445,"question_id":75928769,"body_markdown":"Installed a docker compose spark (1 mast and 2 workers) on the environment aws. It seems that there are no errors. I start to perform transformations and get errors.\r\n\r\n    Dataset&lt;Row&gt; parent= findSuperParent();\r\n    parent.show(false); //problem part\r\n\r\nconfiguration of connection to external spark aws\r\n\r\n        private static SparkSession getSession() {\r\n            return SparkSession.builder()\r\n                    .config(buildSparkConf())\r\n                    .getOrCreate();\r\n        }\r\n    \r\n        public static SparkConf buildSparkConf() {\r\n            return new SparkConf()\r\n                    .setMaster(&quot;spark://aws.vm:9013&quot;)\r\n                    .setAppName(&quot;test&quot;)\r\n                    .set(&quot;spark.local.ip&quot;,&quot;aws.vm&quot;)\r\n                    .set(&quot;spark.driver.bindAddress&quot;, &quot;0.0.0.0&quot;)\r\n                    .set(&quot;spark.driver.port&quot;, &quot;9360&quot;)\r\n                    .set(&quot;spark.blockManager.port&quot;, &quot;9260&quot;)\r\n                    .set(&quot;spark.driver.host&quot;,&quot;aws.vm&quot;);\r\n        }\r\n\r\ndocker-compose log error\r\n\r\n    23/04/04 09:34:25 INFO Worker: Executor app-20230404093401-0002/12 finished with state EXITED message Command exited with code 1 exitStatus 1\r\n\r\n \r\n\r\n    Spark Executor Command: &quot;/usr/local/openjdk-11/bin/java&quot; &quot;-cp&quot; &quot;/opt/spark/conf/:/opt/spark/jars/*&quot; &quot;-Xmx1024M&quot; &quot;-Dspark.blockManager.port=9260&quot; &quot;-Dspark.driver.port=9360&quot; &quot;-XX:+IgnoreUnrecognizedVMOptions&quot; &quot;--add-opens=java.base/java.lang=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.lang.invoke=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.lang.reflect=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.io=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.net=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.nio=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.util=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.util.concurrent=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.nio.ch=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.nio.cs=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.security.action=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.util.calendar=ALL-UNNAMED&quot; &quot;--add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED&quot; &quot;org.apache.spark.executor.CoarseGrainedExecutorBackend&quot; &quot;--driver-url&quot; &quot;spark://CoarseGrainedScheduler@aws.vm:9360&quot; &quot;--executor-id&quot; &quot;17&quot; &quot;--hostname&quot; &quot;172.27.0.3&quot; &quot;--cores&quot; &quot;4&quot; &quot;--app-id&quot; &quot;app-20230404092351-0000&quot; &quot;--worker-url&quot; &quot;spark://Worker@172.27.0.3:7000&quot;\r\n    ========================================\r\n    \r\n    Using Spark&#39;s default log4j profile: org/apache/spark/log4j2-defaults.properties\r\n    Exception in thread &quot;main&quot; java.lang.reflect.UndeclaredThrowableException\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1894)\r\n    \tat org.apache.spark.deploy.SparkHadoopUtil.runAsSparkUser(SparkHadoopUtil.scala:61)\r\n    \tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.run(CoarseGrainedExecutorBackend.scala:424)\r\n    \tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.main(CoarseGrainedExecutorBackend.scala:413)\r\n    \tat org.apache.spark.executor.CoarseGrainedExecutorBackend.main(CoarseGrainedExecutorBackend.scala)\r\n    Caused by: org.apache.spark.SparkException: Exception thrown in awaitResult: \r\n    \tat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\r\n    \tat org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\r\n    \tat org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:102)\r\n    \tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$9(CoarseGrainedExecutorBackend.scala:444)\r\n    \tat scala.runtime.java8.JFunction1$mcVI$sp.apply(JFunction1$mcVI$sp.java:23)\r\n    \tat scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\r\n    \tat scala.collection.immutable.Range.foreach(Range.scala:158)\r\n    \tat scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\r\n    \tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$7(CoarseGrainedExecutorBackend.scala:442)\r\n    \tat org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:62)\r\n    \tat org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:61)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.base/javax.security.auth.Subject.doAs(Unknown Source)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\r\n    \t... 4 more\r\n    Caused by: java.io.IOException: Failed to send RPC RPC 5982816651850008497 to aws.vm/hidden-ip:9360: io.netty.channel.StacklessClosedChannelException\r\n    \tat org.apache.spark.network.client.TransportClient$RpcChannelListener.handleFailure(TransportClient.java:392)\r\n    \tat org.apache.spark.network.client.TransportClient$StdChannelListener.operationComplete(TransportClient.java:369)\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)\r\n    \tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\r\n    \tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)\r\n    \tat io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)\r\n    \tat io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)\r\n    \tat io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetFailure(AbstractChannel.java:999)\r\n    \tat io.netty.channel.AbstractChannel$AbstractUnsafe.write(AbstractChannel.java:860)\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.write(DefaultChannelPipeline.java:1367)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:709)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:792)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:702)\r\n    \tat io.netty.handler.codec.MessageToMessageEncoder.write(MessageToMessageEncoder.java:110)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:709)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:792)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:702)\r\n    \tat io.netty.handler.timeout.IdleStateHandler.write(IdleStateHandler.java:302)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:764)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext$WriteTask.run(AbstractChannelHandlerContext.java:1071)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Unknown Source)\r\n    Caused by: io.netty.channel.StacklessClosedChannelException\r\n    \tat io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)\r\n\r\ndocker-compose\r\n\r\n    version: &quot;3.3&quot;\r\n    services:\r\n      spark-master:\r\n        image: cluster-apache-spark:3.3.1\r\n        mem_limit: 1024m\r\n        cpus: 1\r\n        ports:\r\n          - &quot;9090:8080&quot;\r\n          - &quot;9013:9013&quot;\r\n          - &quot;9260:9260&quot;\r\n          - &quot;9360:9360&quot;\r\n        volumes:\r\n          - ./apps:/opt/spark-apps\r\n          - ./data:/opt/spark-data\r\n        environment:\r\n          - SPARK_LOCAL_IP=spark-master\r\n          - SPARK_WORKLOAD=master\r\n          - SPARK_MASTER_PORT=9013\r\n      spark-worker-a:\r\n        image: cluster-apache-spark:3.3.1\r\n        mem_limit: 3072m\r\n        cpus: 1\r\n        ports:\r\n          - &quot;9091:8080&quot;\r\n          - &quot;7000:7000&quot;\r\n        depends_on:\r\n          - spark-master\r\n        environment:\r\n          - SPARK_MASTER=spark://spark-master:9013\r\n          - SPARK_WORKER_CORES=4\r\n          - SPARK_WORKER_MEMORY=3G\r\n          - SPARK_DRIVER_MEMORY=3G\r\n          - SPARK_EXECUTOR_MEMORY=3G\r\n          - SPARK_WORKLOAD=worker\r\n          - SPARK_LOCAL_IP=spark-worker-a\r\n    volumes:\r\n          - ./apps:/opt/spark-apps\r\n          - ./data:/opt/spark-data\r\n      spark-worker-b:\r\n        image: cluster-apache-spark:3.3.1\r\n        mem_limit: 3072m\r\n        cpus: 1\r\n        ports:\r\n          - &quot;9092:8080&quot;\r\n          - &quot;7001:7000&quot;\r\n        depends_on:\r\n          - spark-master\r\n        environment:\r\n          - SPARK_MASTER=spark://spark-master:9013\r\n          - SPARK_WORKER_CORES=4\r\n          - SPARK_WORKER_MEMORY=3G\r\n          - SPARK_DRIVER_MEMORY=3G\r\n          - SPARK_EXECUTOR_MEMORY=3G\r\n          - SPARK_WORKLOAD=worker\r\n          - SPARK_LOCAL_IP=spark-worker-b\r\n        volumes:\r\n          - ./apps:/opt/spark-apps\r\n          - ./data:/opt/spark-data\r\n\r\nI don&#39;t understand how to solve this problem &quot;Failed to send RPC&quot;, please tell me\r\n","title":"I get an error of incorrect operation of the spark on the AWS platform","body":"<p>Installed a docker compose spark (1 mast and 2 workers) on the environment aws. It seems that there are no errors. I start to perform transformations and get errors.</p>\n<pre><code>Dataset&lt;Row&gt; parent= findSuperParent();\nparent.show(false); //problem part\n</code></pre>\n<p>configuration of connection to external spark aws</p>\n<pre><code>    private static SparkSession getSession() {\n        return SparkSession.builder()\n                .config(buildSparkConf())\n                .getOrCreate();\n    }\n\n    public static SparkConf buildSparkConf() {\n        return new SparkConf()\n                .setMaster(&quot;spark://aws.vm:9013&quot;)\n                .setAppName(&quot;test&quot;)\n                .set(&quot;spark.local.ip&quot;,&quot;aws.vm&quot;)\n                .set(&quot;spark.driver.bindAddress&quot;, &quot;0.0.0.0&quot;)\n                .set(&quot;spark.driver.port&quot;, &quot;9360&quot;)\n                .set(&quot;spark.blockManager.port&quot;, &quot;9260&quot;)\n                .set(&quot;spark.driver.host&quot;,&quot;aws.vm&quot;);\n    }\n</code></pre>\n<p>docker-compose log error</p>\n<pre><code>23/04/04 09:34:25 INFO Worker: Executor app-20230404093401-0002/12 finished with state EXITED message Command exited with code 1 exitStatus 1\n</code></pre>\n<p> </p>\n<pre><code>Spark Executor Command: &quot;/usr/local/openjdk-11/bin/java&quot; &quot;-cp&quot; &quot;/opt/spark/conf/:/opt/spark/jars/*&quot; &quot;-Xmx1024M&quot; &quot;-Dspark.blockManager.port=9260&quot; &quot;-Dspark.driver.port=9360&quot; &quot;-XX:+IgnoreUnrecognizedVMOptions&quot; &quot;--add-opens=java.base/java.lang=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.lang.invoke=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.lang.reflect=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.io=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.net=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.nio=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.util=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.util.concurrent=ALL-UNNAMED&quot; &quot;--add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.nio.ch=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.nio.cs=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.security.action=ALL-UNNAMED&quot; &quot;--add-opens=java.base/sun.util.calendar=ALL-UNNAMED&quot; &quot;--add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED&quot; &quot;org.apache.spark.executor.CoarseGrainedExecutorBackend&quot; &quot;--driver-url&quot; &quot;spark://CoarseGrainedScheduler@aws.vm:9360&quot; &quot;--executor-id&quot; &quot;17&quot; &quot;--hostname&quot; &quot;172.27.0.3&quot; &quot;--cores&quot; &quot;4&quot; &quot;--app-id&quot; &quot;app-20230404092351-0000&quot; &quot;--worker-url&quot; &quot;spark://Worker@172.27.0.3:7000&quot;\n========================================\n\nUsing Spark's default log4j profile: org/apache/spark/log4j2-defaults.properties\nException in thread &quot;main&quot; java.lang.reflect.UndeclaredThrowableException\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1894)\n    at org.apache.spark.deploy.SparkHadoopUtil.runAsSparkUser(SparkHadoopUtil.scala:61)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.run(CoarseGrainedExecutorBackend.scala:424)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.main(CoarseGrainedExecutorBackend.scala:413)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend.main(CoarseGrainedExecutorBackend.scala)\nCaused by: org.apache.spark.SparkException: Exception thrown in awaitResult: \n    at org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:301)\n    at org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\n    at org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:102)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$9(CoarseGrainedExecutorBackend.scala:444)\n    at scala.runtime.java8.JFunction1$mcVI$sp.apply(JFunction1$mcVI$sp.java:23)\n    at scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\n    at scala.collection.immutable.Range.foreach(Range.scala:158)\n    at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$7(CoarseGrainedExecutorBackend.scala:442)\n    at org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:62)\n    at org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:61)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/javax.security.auth.Subject.doAs(Unknown Source)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\n    ... 4 more\nCaused by: java.io.IOException: Failed to send RPC RPC 5982816651850008497 to aws.vm/hidden-ip:9360: io.netty.channel.StacklessClosedChannelException\n    at org.apache.spark.network.client.TransportClient$RpcChannelListener.handleFailure(TransportClient.java:392)\n    at org.apache.spark.network.client.TransportClient$StdChannelListener.operationComplete(TransportClient.java:369)\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)\n    at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)\n    at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetFailure(AbstractChannel.java:999)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.write(AbstractChannel.java:860)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.write(DefaultChannelPipeline.java:1367)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:709)\n    at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:792)\n    at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:702)\n    at io.netty.handler.codec.MessageToMessageEncoder.write(MessageToMessageEncoder.java:110)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:709)\n    at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:792)\n    at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:702)\n    at io.netty.handler.timeout.IdleStateHandler.write(IdleStateHandler.java:302)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:764)\n    at io.netty.channel.AbstractChannelHandlerContext$WriteTask.run(AbstractChannelHandlerContext.java:1071)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: io.netty.channel.StacklessClosedChannelException\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)\n</code></pre>\n<p>docker-compose</p>\n<pre><code>version: &quot;3.3&quot;\nservices:\n  spark-master:\n    image: cluster-apache-spark:3.3.1\n    mem_limit: 1024m\n    cpus: 1\n    ports:\n      - &quot;9090:8080&quot;\n      - &quot;9013:9013&quot;\n      - &quot;9260:9260&quot;\n      - &quot;9360:9360&quot;\n    volumes:\n      - ./apps:/opt/spark-apps\n      - ./data:/opt/spark-data\n    environment:\n      - SPARK_LOCAL_IP=spark-master\n      - SPARK_WORKLOAD=master\n      - SPARK_MASTER_PORT=9013\n  spark-worker-a:\n    image: cluster-apache-spark:3.3.1\n    mem_limit: 3072m\n    cpus: 1\n    ports:\n      - &quot;9091:8080&quot;\n      - &quot;7000:7000&quot;\n    depends_on:\n      - spark-master\n    environment:\n      - SPARK_MASTER=spark://spark-master:9013\n      - SPARK_WORKER_CORES=4\n      - SPARK_WORKER_MEMORY=3G\n      - SPARK_DRIVER_MEMORY=3G\n      - SPARK_EXECUTOR_MEMORY=3G\n      - SPARK_WORKLOAD=worker\n      - SPARK_LOCAL_IP=spark-worker-a\nvolumes:\n      - ./apps:/opt/spark-apps\n      - ./data:/opt/spark-data\n  spark-worker-b:\n    image: cluster-apache-spark:3.3.1\n    mem_limit: 3072m\n    cpus: 1\n    ports:\n      - &quot;9092:8080&quot;\n      - &quot;7001:7000&quot;\n    depends_on:\n      - spark-master\n    environment:\n      - SPARK_MASTER=spark://spark-master:9013\n      - SPARK_WORKER_CORES=4\n      - SPARK_WORKER_MEMORY=3G\n      - SPARK_DRIVER_MEMORY=3G\n      - SPARK_EXECUTOR_MEMORY=3G\n      - SPARK_WORKLOAD=worker\n      - SPARK_LOCAL_IP=spark-worker-b\n    volumes:\n      - ./apps:/opt/spark-apps\n      - ./data:/opt/spark-data\n</code></pre>\n<p>I don't understand how to solve this problem &quot;Failed to send RPC&quot;, please tell me</p>\n"},{"tags":["java","azure","azure-devops","azure-pipelines"],"answers":[{"tags":[],"owner":{"display_name":"anon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680607306,"creation_date":1680607306,"answer_id":75928745,"question_id":75676614,"body_markdown":"Please check if the below findings helpful to resolve the issue:\r\n`System.getenv` method takes the string arguments and you could try the below syntax for getting the environment variable values in Java:\r\n\r\n```java\r\nString id = System.getenv(&quot; + &quot;env.id&quot; + &quot;);\r\nString password = System.getenv(&quot; + &quot;env.password&quot; + &quot;);\r\n```\r\n\r\n(OR)\r\n\r\n```java\r\n    System.out.printf(&quot;System.getenv(&quot;env_var&quot;);\r\n```\r\n\r\nRefer to this Similar SO [issue](https://stackoverflow.com/questions/59415072/how-do-you-access-azure-pipelines-variables-in-a-java-maven-project) for more information on accessing the azure pipelines variables using Java given by @*LeviLu-MSFT*.","title":"How to access pipeline variable through java code?","body":"<p>Please check if the below findings helpful to resolve the issue:\n<code>System.getenv</code> method takes the string arguments and you could try the below syntax for getting the environment variable values in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String id = System.getenv(&quot; + &quot;env.id&quot; + &quot;);\nString password = System.getenv(&quot; + &quot;env.password&quot; + &quot;);\n</code></pre>\n<p>(OR)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    System.out.printf(&quot;System.getenv(&quot;env_var&quot;);\n</code></pre>\n<p>Refer to this Similar SO <a href=\"https://stackoverflow.com/questions/59415072/how-do-you-access-azure-pipelines-variables-in-a-java-maven-project\">issue</a> for more information on accessing the azure pipelines variables using Java given by @<em>LeviLu-MSFT</em>.</p>\n"}],"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680607306,"creation_date":1678298295,"question_id":75676614,"body_markdown":"I am trying to access azure pipeline variables through java code but no luck. \r\n\r\nI am using below code to access **env.id** and **env.password**.\r\n\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n    \r\n        String id = System.getenv(&quot;${env.id}&quot;);\r\n        String password = System.getenv(&quot;${env.password}&quot;);\r\n    \r\n        System.out.printf(&quot;Enviornment Id:: &quot;+id );\r\n        System.out.printf(&quot;Enviornment Password :: &quot;+password );\r\n            \r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UeCuj.png","title":"How to access pipeline variable through java code?","body":"<p>I am trying to access azure pipeline variables through java code but no luck.</p>\n<p>I am using below code to access <strong>env.id</strong> and <strong>env.password</strong>.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n\n    String id = System.getenv(&quot;${env.id}&quot;);\n    String password = System.getenv(&quot;${env.password}&quot;);\n\n    System.out.printf(&quot;Enviornment Id:: &quot;+id );\n    System.out.printf(&quot;Enviornment Password :: &quot;+password );\n        \n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UeCuj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UeCuj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660747080,"creation_date":1660747080,"answer_id":73390399,"question_id":73389743,"body_markdown":"&gt; It seems like it might be possible by creating a content provider?\r\n\r\nYes. You can create a signature-level permission and use that to protect access to any of the standard IPC options in Android, including `ContentProvider` and `Service`.\r\n\r\n&gt; Or is it possible to directly access the files, since I understand from the docs that they will be running with the same user / same process?\r\n\r\nNo, two apps signed by the same signing key to not run as the same user, let alone in the same process. `android:sharedUserId` has the apps run as the same user. This was never a great idea, is deprecated, and is likely to go away soon.\r\n\r\n&gt; It would be even better if it was possible to move the files (rather than copy) because we potentially have a lot of data and the user may not have enough disk space to copy the data.\r\n\r\nThat suggests that having two apps is a bug, not a feature, from the standpoint of the user. The closest you will be able to do to a &quot;move&quot; operation is &quot;delete-after-copy&quot;, so plan your copies to be as granular as possible so you can delete as you go.\r\n","title":"Android: access internal storage from another app with same signature","body":"<blockquote>\n<p>It seems like it might be possible by creating a content provider?</p>\n</blockquote>\n<p>Yes. You can create a signature-level permission and use that to protect access to any of the standard IPC options in Android, including <code>ContentProvider</code> and <code>Service</code>.</p>\n<blockquote>\n<p>Or is it possible to directly access the files, since I understand from the docs that they will be running with the same user / same process?</p>\n</blockquote>\n<p>No, two apps signed by the same signing key to not run as the same user, let alone in the same process. <code>android:sharedUserId</code> has the apps run as the same user. This was never a great idea, is deprecated, and is likely to go away soon.</p>\n<blockquote>\n<p>It would be even better if it was possible to move the files (rather than copy) because we potentially have a lot of data and the user may not have enough disk space to copy the data.</p>\n</blockquote>\n<p>That suggests that having two apps is a bug, not a feature, from the standpoint of the user. The closest you will be able to do to a &quot;move&quot; operation is &quot;delete-after-copy&quot;, so plan your copies to be as granular as possible so you can delete as you go.</p>\n"},{"tags":[],"owner":{"account_id":4137765,"reputation":119,"user_id":3394003,"display_name":"user3394003"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680607246,"creation_date":1680607246,"answer_id":75928733,"question_id":73389743,"body_markdown":"You may need to define a query for Android 11 (API level 30)\r\n\r\n    &lt;manifest package=&quot;com.example.app&quot;&gt;\r\n      &lt;queries&gt;\r\n        &lt;!-- Specific apps you interact with, eg: --&gt;\r\n        &lt;package android:name=&quot;com.example.service&quot; /&gt;\r\n      &lt;/queries&gt;\r\n      ...\r\n    &lt;/manifest&gt;\r\n\r\n","title":"Android: access internal storage from another app with same signature","body":"<p>You may need to define a query for Android 11 (API level 30)</p>\n<pre><code>&lt;manifest package=&quot;com.example.app&quot;&gt;\n  &lt;queries&gt;\n    &lt;!-- Specific apps you interact with, eg: --&gt;\n    &lt;package android:name=&quot;com.example.service&quot; /&gt;\n  &lt;/queries&gt;\n  ...\n&lt;/manifest&gt;\n</code></pre>\n"}],"owner":{"account_id":532195,"reputation":91,"user_id":903300,"display_name":"Gregor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73390399,"answer_count":2,"score":2,"last_activity_date":1680607246,"creation_date":1660744454,"question_id":73389743,"body_markdown":"Context: I have two apps, both signed with the same signature. The first app has data stored in internal storage that I would like to migrate to the second app.\r\n\r\nQuestion: How can I access the data in the first app from the second app? The Android documentation makes reference to &quot;signature permissions&quot; (https://developer.android.com/guide/topics/permissions/overview#signature and https://developer.android.com/training/articles/security-tips#StoringData) and hints that it is possible to share data between apps with the same signature, but I cannot find clear guidelines about how to do this.\r\n\r\nIt seems like it might be possible by creating a content provider? Or is it possible to directly access the files, since I understand from the docs that they will be running with the same user / same process?\r\n\r\nIdeally this process can happen with minimal intervention from the user, and can all happen from the second app (e.g. the second app can recognize that the first app is installed, prompt the user to migrate, and then read the data from the first app and move it to the second). It would be even better if it was possible to move the files (rather than copy) because we potentially have a lot of data and the user may not have enough disk space to copy the data.\r\n\r\n","title":"Android: access internal storage from another app with same signature","body":"<p>Context: I have two apps, both signed with the same signature. The first app has data stored in internal storage that I would like to migrate to the second app.</p>\n<p>Question: How can I access the data in the first app from the second app? The Android documentation makes reference to &quot;signature permissions&quot; (<a href=\"https://developer.android.com/guide/topics/permissions/overview#signature\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/permissions/overview#signature</a> and <a href=\"https://developer.android.com/training/articles/security-tips#StoringData\" rel=\"nofollow noreferrer\">https://developer.android.com/training/articles/security-tips#StoringData</a>) and hints that it is possible to share data between apps with the same signature, but I cannot find clear guidelines about how to do this.</p>\n<p>It seems like it might be possible by creating a content provider? Or is it possible to directly access the files, since I understand from the docs that they will be running with the same user / same process?</p>\n<p>Ideally this process can happen with minimal intervention from the user, and can all happen from the second app (e.g. the second app can recognize that the first app is installed, prompt the user to migrate, and then read the data from the first app and move it to the second). It would be even better if it was possible to move the files (rather than copy) because we potentially have a lot of data and the user may not have enough disk space to copy the data.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1680602230,"post_id":75927855,"comment_id":133922163,"body_markdown":"Your mock of the returned time looks weird to me, have you tried `when(mockedLocalDateTime.withZoneSameInstant(any())).thenReturn(zonedDateTime)`?","body":"Your mock of the returned time looks weird to me, have you tried <code>when(mockedLocalDateTime.withZoneSameInstant(any())).thenRet&zwnj;&#8203;urn(zonedDateTime)</code>?"},{"owner":{"account_id":28211359,"reputation":1,"user_id":21563558,"display_name":"Burane"},"score":0,"creation_date":1680606356,"post_id":75927855,"comment_id":133923119,"body_markdown":"yes the way i have done it was wrong\nBut i&#39;ve got my problem resolved by using CALL_REALS_MAETHODS as mock parameters (see edit below)","body":"yes the way i have done it was wrong But i&#39;ve got my problem resolved by using CALL_REALS_MAETHODS as mock parameters (see edit below)"}],"owner":{"account_id":28211359,"reputation":1,"user_id":21563558,"display_name":"Burane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680606422,"creation_date":1680601347,"question_id":75927855,"body_markdown":"I&#39;m using mockito to mock ZonedDateTime.now() in my tests i have a mapper that map a ZonedDateTime to a OffsetDateTime. but when i call zonedDateTime.withZoneSameInstant(ZoneOffset.UTC) the return value is always null (zonedDateTime) is not null.\r\n\r\n\r\nMy mapper (using mapstruct)\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.SET_TO_NULL)\r\npublic interface OffsetDateTimeMapper {\r\n\r\n    default OffsetDateTime mapZonedDateTimeToOffsetDateTime(@NotNull ZonedDateTime zonedDateTime) {\r\n        System.out.println(zonedDateTime); // print 2021-03-06T14:05Z[UTC]\r\n        System.out.println(zonedDateTime.withZoneSameInstant(ZoneOffset.UTC)); // print null\r\n        return zonedDateTime.withZoneSameInstant(ZoneOffset.UTC).toOffsetDateTime();\r\n    }\r\n}\r\n```\r\n\r\nMy mock for tests\r\n\r\n```java\r\n    @NotNull\r\n    private static MockedStatic&lt;ZonedDateTime&gt; getZonedDateTimeMockedStatic(String isoTimeString) {\r\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(isoTimeString);\r\n\r\n        MockedStatic&lt;ZonedDateTime&gt; mockedLocalDateTime = mockStatic(ZonedDateTime.class);\r\n        mockedLocalDateTime.when(() -&gt; ZonedDateTime.now(any(ZoneId.class))).thenReturn(zonedDateTime);\r\n        mockedLocalDateTime\r\n                .when(() -&gt; any(ZonedDateTime.class).withZoneSameInstant(ZoneOffset.UTC))\r\n                .thenReturn(zonedDateTime); // this seems to do nothing\r\n        return mockedLocalDateTime;\r\n    }\r\n```\r\n\r\na test method\r\n```java\r\n    @Test\r\n    void should_return_empty() {\r\n        // given\r\n        ContainerRequest containerRequest = ContainerRequest.builder().containerNumber(&quot;TGBU6795701&quot;).build();\r\n\r\n        // when\r\n        MockedStatic&lt;ZonedDateTime&gt; mockedLocalDateTime = getZonedDateTimeMockedStatic(&quot;2021-03-01T18:35:24.00Z&quot;);\r\n        when(mockContainerDetailsProviderService.getContainerInfos(containerRequest)).thenReturn(\r\n                optionalContainerDetailsResponseFromJson(&quot;responses/EmptyContainerDetails.json&quot;));\r\n        Optional&lt;ContainerEtaResponseDto&gt; result = etaService.getEtaByContainer(&quot;TGBU6795701&quot;);\r\n        mockedLocalDateTime.close();\r\n\r\n        // then\r\n        assertTrue(result.isEmpty());\r\n    }\r\n```\r\n\r\n\r\n\r\nIf i change my\r\n        return zonedDateTime.withZoneSameInstant(ZoneOffset.UTC).toOffsetDateTime();\r\nto\r\n        return zonedDateTime.toOffsetDateTime();\r\nIt work well but it seems to be not the correct way to convert a ZonedDateTime to a OffsetDateTime\r\n\r\nI think my mock is the problem but i cant find a way to make it works.\r\n\r\nEDIT: \r\nIt work by using CALL_REALS_MAETHODS as mock parameters\r\n\r\n```java\r\n    @NotNull\r\n    private static MockedStatic&lt;ZonedDateTime&gt; getZonedDateTimeMockedStatic(String isoTimeString) {\r\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(isoTimeString);\r\n\r\n        MockedStatic&lt;ZonedDateTime&gt; mockedLocalDateTime = mockStatic(ZonedDateTime.class, CALLS_REAL_METHODS);\r\n        mockedLocalDateTime.when(() -&gt; ZonedDateTime.now(any(ZoneId.class))).thenReturn(zonedDateTime);\r\n        return mockedLocalDateTime;\r\n    }\r\n```\r\n","title":"ZonedDateTime method withZoneSameInstant always return null when mocked","body":"<p>I'm using mockito to mock ZonedDateTime.now() in my tests i have a mapper that map a ZonedDateTime to a OffsetDateTime. but when i call zonedDateTime.withZoneSameInstant(ZoneOffset.UTC) the return value is always null (zonedDateTime) is not null.</p>\n<p>My mapper (using mapstruct)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.SET_TO_NULL)\npublic interface OffsetDateTimeMapper {\n\n    default OffsetDateTime mapZonedDateTimeToOffsetDateTime(@NotNull ZonedDateTime zonedDateTime) {\n        System.out.println(zonedDateTime); // print 2021-03-06T14:05Z[UTC]\n        System.out.println(zonedDateTime.withZoneSameInstant(ZoneOffset.UTC)); // print null\n        return zonedDateTime.withZoneSameInstant(ZoneOffset.UTC).toOffsetDateTime();\n    }\n}\n</code></pre>\n<p>My mock for tests</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @NotNull\n    private static MockedStatic&lt;ZonedDateTime&gt; getZonedDateTimeMockedStatic(String isoTimeString) {\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(isoTimeString);\n\n        MockedStatic&lt;ZonedDateTime&gt; mockedLocalDateTime = mockStatic(ZonedDateTime.class);\n        mockedLocalDateTime.when(() -&gt; ZonedDateTime.now(any(ZoneId.class))).thenReturn(zonedDateTime);\n        mockedLocalDateTime\n                .when(() -&gt; any(ZonedDateTime.class).withZoneSameInstant(ZoneOffset.UTC))\n                .thenReturn(zonedDateTime); // this seems to do nothing\n        return mockedLocalDateTime;\n    }\n</code></pre>\n<p>a test method</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void should_return_empty() {\n        // given\n        ContainerRequest containerRequest = ContainerRequest.builder().containerNumber(&quot;TGBU6795701&quot;).build();\n\n        // when\n        MockedStatic&lt;ZonedDateTime&gt; mockedLocalDateTime = getZonedDateTimeMockedStatic(&quot;2021-03-01T18:35:24.00Z&quot;);\n        when(mockContainerDetailsProviderService.getContainerInfos(containerRequest)).thenReturn(\n                optionalContainerDetailsResponseFromJson(&quot;responses/EmptyContainerDetails.json&quot;));\n        Optional&lt;ContainerEtaResponseDto&gt; result = etaService.getEtaByContainer(&quot;TGBU6795701&quot;);\n        mockedLocalDateTime.close();\n\n        // then\n        assertTrue(result.isEmpty());\n    }\n</code></pre>\n<p>If i change my\nreturn zonedDateTime.withZoneSameInstant(ZoneOffset.UTC).toOffsetDateTime();\nto\nreturn zonedDateTime.toOffsetDateTime();\nIt work well but it seems to be not the correct way to convert a ZonedDateTime to a OffsetDateTime</p>\n<p>I think my mock is the problem but i cant find a way to make it works.</p>\n<p>EDIT:\nIt work by using CALL_REALS_MAETHODS as mock parameters</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @NotNull\n    private static MockedStatic&lt;ZonedDateTime&gt; getZonedDateTimeMockedStatic(String isoTimeString) {\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(isoTimeString);\n\n        MockedStatic&lt;ZonedDateTime&gt; mockedLocalDateTime = mockStatic(ZonedDateTime.class, CALLS_REAL_METHODS);\n        mockedLocalDateTime.when(() -&gt; ZonedDateTime.now(any(ZoneId.class))).thenReturn(zonedDateTime);\n        return mockedLocalDateTime;\n    }\n</code></pre>\n"},{"tags":["java","windows","git","github","gitlab"],"comments":[{"owner":{"account_id":4844922,"reputation":1188,"user_id":3908814,"display_name":"Bejond"},"score":0,"creation_date":1538991371,"post_id":52699177,"comment_id":92325126,"body_markdown":"Try this https://stackoverflow.com/questions/42917131/git-error-could-not-lock-config-file-c-users-old-profile-gitconfig-no-such","body":"Try this <a href=\"https://stackoverflow.com/questions/42917131/git-error-could-not-lock-config-file-c-users-old-profile-gitconfig-no-such\" title=\"git error could not lock config file c users old profile gitconfig no such\">stackoverflow.com/questions/42917131/&hellip;</a>"},{"owner":{"account_id":201196,"reputation":6944,"user_id":447490,"accept_rate":95,"display_name":"Chris"},"score":3,"creation_date":1550678420,"post_id":52699177,"comment_id":96359206,"body_markdown":"Possible duplicate of [Filename too long in Git for Windows](https://stackoverflow.com/questions/22575662/filename-too-long-in-git-for-windows)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/22575662/filename-too-long-in-git-for-windows\">Filename too long in Git for Windows</a>"}],"answers":[{"tags":[],"owner":{"account_id":10163824,"reputation":547,"user_id":7506425,"display_name":"Duong Anh"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1671437544,"creation_date":1538991248,"answer_id":52699324,"question_id":52699177,"body_markdown":"You can try setting long path with command (as Administrator):\r\n`git config --system core.longpaths true`","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>You can try setting long path with command (as Administrator):\n<code>git config --system core.longpaths true</code></p>\n"},{"tags":[],"owner":{"account_id":11898855,"reputation":1137,"user_id":8707412,"display_name":"Jonathan Coustick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538991315,"creation_date":1538991315,"answer_id":52699346,"question_id":52699177,"body_markdown":"On Windows there is a maximum file name length limit of 260 characters.\r\n\r\nSee https://superuser.com/questions/811146/windows-7-file-name-length-limited-to-129-characters for how to remove it.","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>On Windows there is a maximum file name length limit of 260 characters.</p>\n\n<p>See <a href=\"https://superuser.com/questions/811146/windows-7-file-name-length-limited-to-129-characters\">https://superuser.com/questions/811146/windows-7-file-name-length-limited-to-129-characters</a> for how to remove it.</p>\n"},{"tags":[],"owner":{"account_id":10018836,"reputation":38017,"user_id":7409220,"display_name":"Shayki Abramczyk"},"down_vote_count":0,"up_vote_count":148,"is_accepted":true,"score":148,"last_activity_date":1538991783,"creation_date":1538991783,"answer_id":52699496,"question_id":52699177,"body_markdown":"1. Start Git Bash **as Administrator**\r\n2. Run command `git config --system core.longpaths true`\r\n\r\nAnother way (only for this clone):\r\n\r\n`git clone -c core.longpaths=true &lt;repo-url&gt;`","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<ol>\n<li>Start Git Bash <strong>as Administrator</strong></li>\n<li>Run command <code>git config --system core.longpaths true</code></li>\n</ol>\n\n<p>Another way (only for this clone):</p>\n\n<p><code>git clone -c core.longpaths=true &lt;repo-url&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":2403011,"reputation":61,"user_id":2100258,"display_name":"Bibin Chorickanpara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647896621,"creation_date":1621522058,"answer_id":67622763,"question_id":52699177,"body_markdown":"I was not having admin rights. So I had to go to config file in .git folder (hidden) in the same folder that you started the clone in local machine .\r\nThen add `longpaths = true` under `[core]` .Run `git reset --hard origin/xxx` from Git Bash. This worked for me.","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>I was not having admin rights. So I had to go to config file in .git folder (hidden) in the same folder that you started the clone in local machine .\nThen add <code>longpaths = true</code> under <code>[core]</code> .Run <code>git reset --hard origin/xxx</code> from Git Bash. This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":20047673,"reputation":1,"user_id":14696984,"display_name":"Pranav Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622203639,"creation_date":1622203639,"answer_id":67738529,"question_id":52699177,"body_markdown":"Basically we need to set a variable &quot;longpaths&quot; as true in our local git config file under core section.\r\n\r\nYou can navigate to it at path \r\n\r\n    &lt;git-repo&gt;\\.git\\config\r\n\r\nalternatively you can clone your code using git bash with below command\r\n\r\n    git clone -c core.longpaths=true &lt;repo-url&gt;","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>Basically we need to set a variable &quot;longpaths&quot; as true in our local git config file under core section.</p>\n<p>You can navigate to it at path</p>\n<pre><code>&lt;git-repo&gt;\\.git\\config\n</code></pre>\n<p>alternatively you can clone your code using git bash with below command</p>\n<pre><code>git clone -c core.longpaths=true &lt;repo-url&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12731158,"reputation":149,"user_id":9247750,"display_name":"Lakshmipathi G"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1627898971,"creation_date":1627898971,"answer_id":68619802,"question_id":52699177,"body_markdown":"If command `git config core.longpaths true` not worked then try changing it manually.\r\n\r\nGo to `.git` folder of your project (make sure you are enabled hidden items view in file explorer) and Open the `config` file. File content will look like below\r\n\r\n    [core]\r\n    \trepositoryformatversion = 0\r\n    \tfilemode = false\r\n    \tbare = false\r\n    \tlogallrefupdates = true\r\n    \tsymlinks = false\r\n    \tignorecase = true\r\n    \thideDotFiles = dotGitOnly\r\n    [remote &quot;origin&quot;]\r\n    \turl = https://&lt;domain&gt;/scm/&lt;project&gt;/&lt;repo&gt;.git\r\n    \tfetch = +refs/heads/*:refs/remotes/origin/*\r\n    [branch &quot;master&quot;]\r\n    \tremote = origin\r\n    \tmerge = refs/heads/master\r\n\r\nAdd `longpaths = true` property manually under `[core]` section. Save it and try pulling the code from fresh git bash session. It will solve the issue.\r\n\r\n    [core]\r\n        \trepositoryformatversion = 0\r\n        \tfilemode = false\r\n        \tbare = false\r\n        \tlogallrefupdates = true\r\n        \tsymlinks = false\r\n        \tignorecase = true\r\n        \thideDotFiles = dotGitOnly\r\n            longpaths = true","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>If command <code>git config core.longpaths true</code> not worked then try changing it manually.</p>\n<p>Go to <code>.git</code> folder of your project (make sure you are enabled hidden items view in file explorer) and Open the <code>config</code> file. File content will look like below</p>\n<pre><code>[core]\n    repositoryformatversion = 0\n    filemode = false\n    bare = false\n    logallrefupdates = true\n    symlinks = false\n    ignorecase = true\n    hideDotFiles = dotGitOnly\n[remote &quot;origin&quot;]\n    url = https://&lt;domain&gt;/scm/&lt;project&gt;/&lt;repo&gt;.git\n    fetch = +refs/heads/*:refs/remotes/origin/*\n[branch &quot;master&quot;]\n    remote = origin\n    merge = refs/heads/master\n</code></pre>\n<p>Add <code>longpaths = true</code> property manually under <code>[core]</code> section. Save it and try pulling the code from fresh git bash session. It will solve the issue.</p>\n<pre><code>[core]\n        repositoryformatversion = 0\n        filemode = false\n        bare = false\n        logallrefupdates = true\n        symlinks = false\n        ignorecase = true\n        hideDotFiles = dotGitOnly\n        longpaths = true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8714817,"reputation":301,"user_id":6519815,"display_name":"ankit rawat"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1673427091,"creation_date":1630500118,"answer_id":69013958,"question_id":52699177,"body_markdown":"Instead of `git config --system core.longpaths true`\r\ntry:\r\n\r\n    git config --global core.longpaths true\r\n\r\n`--system` will set the variables for all users on the system, but what you are looking for is to the set it for currently logged in user.\r\n","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>Instead of <code>git config --system core.longpaths true</code>\ntry:</p>\n<pre><code>git config --global core.longpaths true\n</code></pre>\n<p><code>--system</code> will set the variables for all users on the system, but what you are looking for is to the set it for currently logged in user.</p>\n"},{"tags":[],"owner":{"account_id":28211997,"reputation":1,"user_id":21564072,"display_name":"Vishakha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680606041,"creation_date":1680606041,"answer_id":75928551,"question_id":52699177,"body_markdown":"Adding *longpaths = true* under [core] followed by Runnig *git reset --hard origin/xxx* from Git Bash. This worked for me.","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>Adding <em>longpaths = true</em> under [core] followed by Runnig <em>git reset --hard origin/xxx</em> from Git Bash. This worked for me.</p>\n"}],"owner":{"account_id":12637937,"reputation":1106,"user_id":9186499,"accept_rate":78,"display_name":"knowledge20"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129760,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":52699496,"answer_count":8,"score":63,"last_activity_date":1680606041,"creation_date":1538990769,"question_id":52699177,"body_markdown":"I am trying to take a git clone from a particular branch of my bitbucket repository using the below command:\r\n`git clone &lt;url&gt; --branch &lt;branchname&gt;`.\r\n\r\nHowever, I am getting the below error while taking the clone:\r\n\r\n&gt; error:unable to create file foldername/nodemodules/......: Filename\r\n&gt; too long.\r\n\r\nI tried resolving this by running the below command in my git cmd\r\n`git config --system core.longpaths true`.\r\n\r\nBut I am getting:\r\n\r\n&gt; error: could not lock config file c://.gitconfig: Permission denied\r\n&gt; error: could not lock config file c://.gitconfig: Invalid argument.\r\n\r\nHow do I solve these two errors?\r\n\r\n","title":"How to fix &quot;Filename too long error&quot; during git clone","body":"<p>I am trying to take a git clone from a particular branch of my bitbucket repository using the below command:\n<code>git clone &lt;url&gt; --branch &lt;branchname&gt;</code>.</p>\n\n<p>However, I am getting the below error while taking the clone:</p>\n\n<blockquote>\n  <p>error:unable to create file foldername/nodemodules/......: Filename\n  too long.</p>\n</blockquote>\n\n<p>I tried resolving this by running the below command in my git cmd\n<code>git config --system core.longpaths true</code>.</p>\n\n<p>But I am getting:</p>\n\n<blockquote>\n  <p>error: could not lock config file c://.gitconfig: Permission denied\n  error: could not lock config file c://.gitconfig: Invalid argument.</p>\n</blockquote>\n\n<p>How do I solve these two errors?</p>\n"},{"tags":["java","sql","sql-server"],"comments":[{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1680596326,"post_id":75926965,"comment_id":133920745,"body_markdown":"**Consumable** sample data (*not* an image) and expected results will help us help you. Though, considering the clause `sub.[name] = Subject.ENGLISH` I&#39;m not surprised you&#39;re only getting English data back; seems like your data is denormalised.","body":"<b>Consumable</b> sample data (<i>not</i> an image) and expected results will help us help you. Though, considering the clause <code>sub.[name] = Subject.ENGLISH</code> I&#39;m not surprised you&#39;re only getting English data back; seems like your data is denormalised."},{"owner":{"account_id":28111553,"reputation":3,"user_id":21562974,"display_name":"xNova"},"score":0,"creation_date":1680596559,"post_id":75926965,"comment_id":133920792,"body_markdown":"So How can I change that one ? I just want to pull out all subject name when I press Search button without filling any data.","body":"So How can I change that one ? I just want to pull out all subject name when I press Search button without filling any data."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1680596858,"post_id":75926965,"comment_id":133920875,"body_markdown":"If you don&#39;t want to only select certain subjects why did you add the `WHERE sub.[name] = Subject.ENGLISH` clause in the first place?","body":"If you don&#39;t want to only select certain subjects why did you add the <code>WHERE sub.[name] = Subject.ENGLISH</code> clause in the first place?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1680596997,"post_id":75926965,"comment_id":133920904,"body_markdown":"Do you understand what the individual parts of the query are doing? If yes, then please explain so we can see whether there are misconceptions. If not, you might want to grab a SQL tutorial first.","body":"Do you understand what the individual parts of the query are doing? If yes, then please explain so we can see whether there are misconceptions. If not, you might want to grab a SQL tutorial first."},{"owner":{"account_id":28111553,"reputation":3,"user_id":21562974,"display_name":"xNova"},"score":0,"creation_date":1680597223,"post_id":75926965,"comment_id":133920957,"body_markdown":"OK Let&#39;s say If I change ENGLISH to ART, the value of ART data are coming out. But when I remove that where clause, it is still ENGLISH values are coming out !","body":"OK Let&#39;s say If I change ENGLISH to ART, the value of ART data are coming out. But when I remove that where clause, it is still ENGLISH values are coming out !"}],"owner":{"account_id":28111553,"reputation":3,"user_id":21562974,"display_name":"xNova"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680605819,"creation_date":1680595840,"question_id":75926965,"body_markdown":"Here is my variable in Subject model class.\r\n```\r\npublic static final int ENGLISH= 1;\r\npublic static final int MATHS= 2;\r\npublic static final int CHEMISTRY = 3;\r\npublic static final int ART = 4;\r\npublic static final int MUSIC = 5;\r\n```\r\nHere is my QUERY.\r\n\r\n```\r\nSELECT s.name, s.school, s.grade, sub.[name] as sub_name\r\nFROM student s\r\nINNER JOIN subject sub ON s.id = sub.student_id\r\nWHERE sub.[name] = Subject.ENGLISH;\r\n```\r\n\r\nWhen I click search button, I want to get all Subject value -&gt; (ENGLISH,MATHS,CHEMISTRY,ART,MUSIC) for each student.\r\nBut Now I Only get ENGLISH value from Subject for each student.\r\nHow do I have to modified? Please sharing your thoughts for me! Thanks !","title":"How do I defined about the parameter in QUERY with default value which is in other model class?","body":"<p>Here is my variable in Subject model class.</p>\n<pre><code>public static final int ENGLISH= 1;\npublic static final int MATHS= 2;\npublic static final int CHEMISTRY = 3;\npublic static final int ART = 4;\npublic static final int MUSIC = 5;\n</code></pre>\n<p>Here is my QUERY.</p>\n<pre><code>SELECT s.name, s.school, s.grade, sub.[name] as sub_name\nFROM student s\nINNER JOIN subject sub ON s.id = sub.student_id\nWHERE sub.[name] = Subject.ENGLISH;\n</code></pre>\n<p>When I click search button, I want to get all Subject value -&gt; (ENGLISH,MATHS,CHEMISTRY,ART,MUSIC) for each student.\nBut Now I Only get ENGLISH value from Subject for each student.\nHow do I have to modified? Please sharing your thoughts for me! Thanks !</p>\n"},{"tags":["java","multithreading","future"],"comments":[{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":1,"creation_date":1381686348,"post_id":19348248,"comment_id":28666001,"body_markdown":"who generates those futures? What type are they of? Interface java.util.concurrent.Future does not provide the functionality you want, the only way is to use your own Futures with callbacks.","body":"who generates those futures? What type are they of? Interface java.util.concurrent.Future does not provide the functionality you want, the only way is to use your own Futures with callbacks."},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1381686365,"post_id":19348248,"comment_id":28666004,"body_markdown":"You could make an instance of `ExecutionService` for every &quot;batch&quot; of tasks, submit them to it, then immediately shut down the service and use `awaitTermination()` on it I suppose.","body":"You could make an instance of <code>ExecutionService</code> for every &quot;batch&quot; of tasks, submit them to it, then immediately shut down the service and use <code>awaitTermination()</code> on it I suppose."},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":2,"creation_date":1381686394,"post_id":19348248,"comment_id":28666014,"body_markdown":"You could use a `CountDownLatch` if you wrapped the body of all your futures in a `try..finally` to make sure the latch gets decremented as well.","body":"You could use a <code>CountDownLatch</code> if you wrapped the body of all your futures in a <code>try..finally</code> to make sure the latch gets decremented as well."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1381686477,"post_id":19348248,"comment_id":28666046,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html does exactly what you need.","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/&hellip;</a> does exactly what you need."},{"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"score":0,"creation_date":1381686902,"post_id":19348248,"comment_id":28666172,"body_markdown":"@AlexeiKaigorodov YES , my future are of type java.util.concurrent.I am suing future with callable.I get Futture when i submit a task to a execureservice","body":"@AlexeiKaigorodov YES , my future are of type java.util.concurrent.I am suing future with callable.I get Futture when i submit a task to a execureservice"},{"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"score":0,"creation_date":1381686959,"post_id":19348248,"comment_id":28666188,"body_markdown":"@millimoose if i wrap the code which returns every single feaure inside try cath finally it will work , but i wont be able to distinguish between successful finish of future and one with exception","body":"@millimoose if i wrap the code which returns every single feaure inside try cath finally it will work , but i wont be able to distinguish between successful finish of future and one with exception"},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1381690339,"post_id":19348248,"comment_id":28667201,"body_markdown":"@user93796 I said `try..finally`, not `try..catch`. The exception will be rethrown and `Future.get()` would throw. It&#39;d just make sure the latch gets counted down. That said, the suggestions to use `CompletionService` are clearly superior.","body":"@user93796 I said <code>try..finally</code>, not <code>try..catch</code>. The exception will be rethrown and <code>Future.get()</code> would throw. It&#39;d just make sure the latch gets counted down. That said, the suggestions to use <code>CompletionService</code> are clearly superior."},{"owner":{"account_id":18250,"reputation":39302,"user_id":41655,"accept_rate":76,"display_name":"millimoose"},"score":0,"creation_date":1381690852,"post_id":19348248,"comment_id":28667356,"body_markdown":"Correction: the exception will *still* be thrown not rethrown.","body":"Correction: the exception will <i>still</i> be thrown not rethrown."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1446052513,"post_id":19348248,"comment_id":54586147,"body_markdown":"Possible duplicate of [Waiting on multiple threads to complete in Java](http://stackoverflow.com/questions/1361029/waiting-on-multiple-threads-to-complete-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1361029/waiting-on-multiple-threads-to-complete-in-java\">Waiting on multiple threads to complete in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":481401,"reputation":15020,"user_id":895215,"accept_rate":64,"display_name":"dcernahoschi"},"down_vote_count":3,"up_vote_count":170,"is_accepted":true,"score":167,"last_activity_date":1579544490,"creation_date":1381687242,"answer_id":19348417,"question_id":19348248,"body_markdown":"You can use a [CompletionService][1] to receive the futures as soon as they are ready and if one of them throws an exception cancel the processing. Something like this:\r\n\r\n    Executor executor = Executors.newFixedThreadPool(4);\r\n    CompletionService&lt;SomeResult&gt; completionService = \r\n           new ExecutorCompletionService&lt;SomeResult&gt;(executor);\r\n\r\n    //4 tasks\r\n    for(int i = 0; i &lt; 4; i++) {\r\n       completionService.submit(new Callable&lt;SomeResult&gt;() {\r\n           public SomeResult call() {\r\n               ...\r\n               return result;\r\n           }\r\n       });\r\n    }\r\n    \r\n    int received = 0;\r\n    boolean errors = false;\r\n\r\n    while(received &lt; 4 &amp;&amp; !errors) {\r\n          Future&lt;SomeResult&gt; resultFuture = completionService.take(); //blocks if none available\r\n          try {\r\n             SomeResult result = resultFuture.get();\r\n             received ++;\r\n             ... // do something with the result\r\n          }\r\n          catch(Exception e) {\r\n                 //log\r\n             errors = true;\r\n          }\r\n    }\r\n\r\nI think you can further improve to cancel any still executing tasks if one of them throws an error. \r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CompletionService.html","title":"Waiting on a list of Future","body":"<p>You can use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CompletionService.html\" rel=\"noreferrer\">CompletionService</a> to receive the futures as soon as they are ready and if one of them throws an exception cancel the processing. Something like this:</p>\n\n<pre><code>Executor executor = Executors.newFixedThreadPool(4);\nCompletionService&lt;SomeResult&gt; completionService = \n       new ExecutorCompletionService&lt;SomeResult&gt;(executor);\n\n//4 tasks\nfor(int i = 0; i &lt; 4; i++) {\n   completionService.submit(new Callable&lt;SomeResult&gt;() {\n       public SomeResult call() {\n           ...\n           return result;\n       }\n   });\n}\n\nint received = 0;\nboolean errors = false;\n\nwhile(received &lt; 4 &amp;&amp; !errors) {\n      Future&lt;SomeResult&gt; resultFuture = completionService.take(); //blocks if none available\n      try {\n         SomeResult result = resultFuture.get();\n         received ++;\n         ... // do something with the result\n      }\n      catch(Exception e) {\n             //log\n         errors = true;\n      }\n}\n</code></pre>\n\n<p>I think you can further improve to cancel any still executing tasks if one of them throws an error. </p>\n"},{"tags":[],"owner":{"account_id":69636,"reputation":3071,"user_id":202504,"display_name":"jmiserez"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1381689918,"creation_date":1381689918,"answer_id":19348883,"question_id":19348248,"body_markdown":"You can use an [ExecutorCompletionService][1]. The documentation even has an example for your exact use-case:\r\n\r\n&gt; Suppose instead that you would like to use the first non-null result of the set of tasks, ignoring any that encounter exceptions, and cancelling all other tasks when the first one is ready:\r\n\r\n    void solve(Executor e, Collection&lt;Callable&lt;Result&gt;&gt; solvers) throws InterruptedException {\r\n        CompletionService&lt;Result&gt; ecs = new ExecutorCompletionService&lt;Result&gt;(e);\r\n        int n = solvers.size();\r\n        List&lt;Future&lt;Result&gt;&gt; futures = new ArrayList&lt;Future&lt;Result&gt;&gt;(n);\r\n        Result result = null;\r\n        try {\r\n            for (Callable&lt;Result&gt; s : solvers)\r\n                futures.add(ecs.submit(s));\r\n            for (int i = 0; i &lt; n; ++i) {\r\n                try {\r\n                    Result r = ecs.take().get();\r\n                    if (r != null) {\r\n                        result = r;\r\n                        break;\r\n                    }\r\n                } catch (ExecutionException ignore) {\r\n                }\r\n            }\r\n        } finally {\r\n            for (Future&lt;Result&gt; f : futures)\r\n                f.cancel(true);\r\n        }\r\n    \r\n        if (result != null)\r\n            use(result);\r\n    }\r\n\r\nThe important thing to notice here is that ecs.take() will get the first *completed* task, not just the first submitted one. Thus you should get them in the order of finishing the execution (or throwing an exception).\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html","title":"Waiting on a list of Future","body":"<p>You can use an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorCompletionService.html\">ExecutorCompletionService</a>. The documentation even has an example for your exact use-case:</p>\n\n<blockquote>\n  <p>Suppose instead that you would like to use the first non-null result of the set of tasks, ignoring any that encounter exceptions, and cancelling all other tasks when the first one is ready:</p>\n</blockquote>\n\n<pre><code>void solve(Executor e, Collection&lt;Callable&lt;Result&gt;&gt; solvers) throws InterruptedException {\n    CompletionService&lt;Result&gt; ecs = new ExecutorCompletionService&lt;Result&gt;(e);\n    int n = solvers.size();\n    List&lt;Future&lt;Result&gt;&gt; futures = new ArrayList&lt;Future&lt;Result&gt;&gt;(n);\n    Result result = null;\n    try {\n        for (Callable&lt;Result&gt; s : solvers)\n            futures.add(ecs.submit(s));\n        for (int i = 0; i &lt; n; ++i) {\n            try {\n                Result r = ecs.take().get();\n                if (r != null) {\n                    result = r;\n                    break;\n                }\n            } catch (ExecutionException ignore) {\n            }\n        }\n    } finally {\n        for (Future&lt;Result&gt; f : futures)\n            f.cancel(true);\n    }\n\n    if (result != null)\n        use(result);\n}\n</code></pre>\n\n<p>The important thing to notice here is that ecs.take() will get the first <em>completed</em> task, not just the first submitted one. Thus you should get them in the order of finishing the execution (or throwing an exception).</p>\n"},{"tags":[],"owner":{"display_name":"user2511414"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1381692350,"creation_date":1381692350,"answer_id":19349288,"question_id":19348248,"body_markdown":"maybe this would help (nothing would replaced with raw thread, yeah!)\r\nI suggest run each `Future` guy with a separated thread (they goes parallel), then when ever one of the got error, it just signal the manager(`Handler` class).\r\n\r\n    class Handler{\r\n    //...\r\n    private Thread thisThread;\r\n    private boolean failed=false;\r\n    private Thread[] trds;\r\n    public void waitFor(){\r\n      thisThread=Thread.currentThread();\r\n      List&lt;Future&lt;Object&gt;&gt; futures = getFutures();\r\n      trds=new Thread[futures.size()];\r\n      for (int i = 0; i &lt; trds.length; i++) {\r\n        RunTask rt=new RunTask(futures.get(i), this);\r\n        trds[i]=new Thread(rt);\r\n      }\r\n      synchronized (this) {\r\n        for(Thread tx:trds){\r\n          tx.start();\r\n        }  \r\n      }\r\n      for(Thread tx:trds){\r\n        try {tx.join();\r\n        } catch (InterruptedException e) {\r\n          System.out.println(&quot;Job failed!&quot;);break;\r\n        }\r\n      }if(!failed){System.out.println(&quot;Job Done&quot;);}\r\n    }\r\n    \r\n    private List&lt;Future&lt;Object&gt;&gt; getFutures() {\r\n      return null;\r\n    }\r\n    \r\n    public synchronized void cancelOther(){if(failed){return;}\r\n      failed=true;\r\n      for(Thread tx:trds){\r\n        tx.stop();//Deprecated but works here like a boss\r\n      }thisThread.interrupt();\r\n    }\r\n    //...\r\n    }\r\n    class RunTask implements Runnable{\r\n    private Future f;private Handler h;\r\n    public RunTask(Future f,Handler h){this.f=f;this.h=h;}\r\n    public void run(){\r\n    try{\r\n    f.get();//beware about state of working, the stop() method throws ThreadDeath Error at any thread state (unless it blocked by some operation)\r\n    }catch(Exception e){System.out.println(&quot;Error, stopping other guys...&quot;);h.cancelOther();}\r\n    catch(Throwable t){System.out.println(&quot;Oops, some other guy has stopped working...&quot;);}\r\n    }\r\n    }\r\n\r\nI have to say the above code would error(didn&#39;t check), but I hope I could explain the solution. please have a try.\r\n","title":"Waiting on a list of Future","body":"<p>maybe this would help (nothing would replaced with raw thread, yeah!)\nI suggest run each <code>Future</code> guy with a separated thread (they goes parallel), then when ever one of the got error, it just signal the manager(<code>Handler</code> class).</p>\n\n<pre><code>class Handler{\n//...\nprivate Thread thisThread;\nprivate boolean failed=false;\nprivate Thread[] trds;\npublic void waitFor(){\n  thisThread=Thread.currentThread();\n  List&lt;Future&lt;Object&gt;&gt; futures = getFutures();\n  trds=new Thread[futures.size()];\n  for (int i = 0; i &lt; trds.length; i++) {\n    RunTask rt=new RunTask(futures.get(i), this);\n    trds[i]=new Thread(rt);\n  }\n  synchronized (this) {\n    for(Thread tx:trds){\n      tx.start();\n    }  \n  }\n  for(Thread tx:trds){\n    try {tx.join();\n    } catch (InterruptedException e) {\n      System.out.println(\"Job failed!\");break;\n    }\n  }if(!failed){System.out.println(\"Job Done\");}\n}\n\nprivate List&lt;Future&lt;Object&gt;&gt; getFutures() {\n  return null;\n}\n\npublic synchronized void cancelOther(){if(failed){return;}\n  failed=true;\n  for(Thread tx:trds){\n    tx.stop();//Deprecated but works here like a boss\n  }thisThread.interrupt();\n}\n//...\n}\nclass RunTask implements Runnable{\nprivate Future f;private Handler h;\npublic RunTask(Future f,Handler h){this.f=f;this.h=h;}\npublic void run(){\ntry{\nf.get();//beware about state of working, the stop() method throws ThreadDeath Error at any thread state (unless it blocked by some operation)\n}catch(Exception e){System.out.println(\"Error, stopping other guys...\");h.cancelOther();}\ncatch(Throwable t){System.out.println(\"Oops, some other guy has stopped working...\");}\n}\n}\n</code></pre>\n\n<p>I have to say the above code would error(didn't check), but I hope I could explain the solution. please have a try.</p>\n"},{"tags":[],"owner":{"account_id":1964307,"reputation":3683,"user_id":1764947,"display_name":"fl0w"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533541087,"creation_date":1446500431,"answer_id":33487475,"question_id":19348248,"body_markdown":"The CompletionService will take your Callables with the .submit() method and you can retrieve the computed futures with the .take() method.\r\n\r\nOne thing you must not forget is to terminate the ExecutorService by calling the .shutdown() method. Also you can only call this method when you have saved a reference to the executor service so make sure to keep one.\r\n\r\nExample code - For a fixed number of work items to be worked on in parallel:\r\n\r\n    ExecutorService service = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\r\n    \r\n    CompletionService&lt;YourCallableImplementor&gt; completionService = \r\n    new ExecutorCompletionService&lt;YourCallableImplementor&gt;(service);\r\n    \r\n    ArrayList&lt;Future&lt;YourCallableImplementor&gt;&gt; futures = new ArrayList&lt;Future&lt;YourCallableImplementor&gt;&gt;();\r\n    \r\n    for (String computeMe : elementsToCompute) {\r\n        futures.add(completionService.submit(new YourCallableImplementor(computeMe)));\r\n    }\r\n    //now retrieve the futures after computation (auto wait for it)\r\n    int received = 0;\r\n    \r\n    while(received &lt; elementsToCompute.size()) {\r\n     Future&lt;YourCallableImplementor&gt; resultFuture = completionService.take(); \r\n     YourCallableImplementor result = resultFuture.get();\r\n     received ++;\r\n    }\r\n    //important: shutdown your ExecutorService\r\n    service.shutdown();\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\nExample code - For a dynamic number of work items to be worked on in parallel:\r\n    \r\n    public void runIt(){\r\n\t\tExecutorService service = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\r\n\t\tCompletionService&lt;CallableImplementor&gt; completionService = new ExecutorCompletionService&lt;CallableImplementor&gt;(service);\r\n\t\tArrayList&lt;Future&lt;CallableImplementor&gt;&gt; futures = new ArrayList&lt;Future&lt;CallableImplementor&gt;&gt;();\r\n\t\t\r\n\t\t//Initial workload is 8 threads\r\n\t\tfor (int i = 0; i &lt; 9; i++) {\r\n\t\t\tfutures.add(completionService.submit(write.new CallableImplementor()));\t\t\t\t\r\n\t\t}\r\n\t\tboolean finished = false;\r\n\t\twhile (!finished) {\r\n\t\t\ttry {\r\n\t\t\t\tFuture&lt;CallableImplementor&gt; resultFuture;\r\n\t\t\t\tresultFuture = completionService.take();\r\n\t\t\t\tCallableImplementor result = resultFuture.get();\r\n\t\t\t\tfinished = doSomethingWith(result.getResult());\r\n\t\t\t\tresult.setResult(null);\r\n\t\t\t\tresult = null;\r\n\t\t\t\tresultFuture = null;\r\n\t\t\t\t//After work package has been finished create new work package and add it to futures\r\n\t\t\t\tfutures.add(completionService.submit(write.new CallableImplementor()));\r\n\t\t\t} catch (InterruptedException | ExecutionException e) {\r\n\t\t\t\t//handle interrupted and assert correct thread / work packet count\t\t\t\t\r\n\t\t\t} \r\n\t\t}\r\n\t\t\r\n\t\t//important: shutdown your ExecutorService\r\n\t\tservice.shutdown();\r\n    }\r\n\t\t\r\n\tpublic class CallableImplementor implements Callable{\r\n\t\tboolean result;\r\n\r\n\t\t@Override\r\n\t\tpublic CallableImplementor call() throws Exception {\r\n\t\t\t//business logic goes here\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t\r\n\t\tpublic boolean getResult() {\r\n\t\t\treturn result;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setResult(boolean result) {\r\n\t\t\tthis.result = result;\r\n\t\t}\r\n\t}","title":"Waiting on a list of Future","body":"<p>The CompletionService will take your Callables with the .submit() method and you can retrieve the computed futures with the .take() method.</p>\n\n<p>One thing you must not forget is to terminate the ExecutorService by calling the .shutdown() method. Also you can only call this method when you have saved a reference to the executor service so make sure to keep one.</p>\n\n<p>Example code - For a fixed number of work items to be worked on in parallel:</p>\n\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\n\nCompletionService&lt;YourCallableImplementor&gt; completionService = \nnew ExecutorCompletionService&lt;YourCallableImplementor&gt;(service);\n\nArrayList&lt;Future&lt;YourCallableImplementor&gt;&gt; futures = new ArrayList&lt;Future&lt;YourCallableImplementor&gt;&gt;();\n\nfor (String computeMe : elementsToCompute) {\n    futures.add(completionService.submit(new YourCallableImplementor(computeMe)));\n}\n//now retrieve the futures after computation (auto wait for it)\nint received = 0;\n\nwhile(received &lt; elementsToCompute.size()) {\n Future&lt;YourCallableImplementor&gt; resultFuture = completionService.take(); \n YourCallableImplementor result = resultFuture.get();\n received ++;\n}\n//important: shutdown your ExecutorService\nservice.shutdown();\n</code></pre>\n\n<p>Example code - For a dynamic number of work items to be worked on in parallel:</p>\n\n<pre><code>public void runIt(){\n    ExecutorService service = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\n    CompletionService&lt;CallableImplementor&gt; completionService = new ExecutorCompletionService&lt;CallableImplementor&gt;(service);\n    ArrayList&lt;Future&lt;CallableImplementor&gt;&gt; futures = new ArrayList&lt;Future&lt;CallableImplementor&gt;&gt;();\n\n    //Initial workload is 8 threads\n    for (int i = 0; i &lt; 9; i++) {\n        futures.add(completionService.submit(write.new CallableImplementor()));             \n    }\n    boolean finished = false;\n    while (!finished) {\n        try {\n            Future&lt;CallableImplementor&gt; resultFuture;\n            resultFuture = completionService.take();\n            CallableImplementor result = resultFuture.get();\n            finished = doSomethingWith(result.getResult());\n            result.setResult(null);\n            result = null;\n            resultFuture = null;\n            //After work package has been finished create new work package and add it to futures\n            futures.add(completionService.submit(write.new CallableImplementor()));\n        } catch (InterruptedException | ExecutionException e) {\n            //handle interrupted and assert correct thread / work packet count              \n        } \n    }\n\n    //important: shutdown your ExecutorService\n    service.shutdown();\n}\n\npublic class CallableImplementor implements Callable{\n    boolean result;\n\n    @Override\n    public CallableImplementor call() throws Exception {\n        //business logic goes here\n        return this;\n    }\n\n    public boolean getResult() {\n        return result;\n    }\n\n    public void setResult(boolean result) {\n        this.result = result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1212298,"reputation":27075,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"down_vote_count":1,"up_vote_count":160,"is_accepted":false,"score":159,"last_activity_date":1554390656,"creation_date":1459166150,"answer_id":36261808,"question_id":19348248,"body_markdown":"If you are using **Java 8** then you can do this easier with CompletableFuture and [CompletableFuture.allOf][1], which applies the callback only after all supplied CompletableFutures are done.\r\n\r\n    // Waits for *all* futures to complete and returns a list of results.\r\n    // If *any* future completes exceptionally then the resulting future will also complete exceptionally.\r\n\r\n    public static &lt;T&gt; CompletableFuture&lt;List&lt;T&gt;&gt; all(List&lt;CompletableFuture&lt;T&gt;&gt; futures) {\r\n        CompletableFuture[] cfs = futures.toArray(new CompletableFuture[futures.size()]);\r\n        \r\n        return CompletableFuture.allOf(cfs)\r\n                .thenApply(ignored -&gt; futures.stream()\r\n                                        .map(CompletableFuture::join)\r\n                                        .collect(Collectors.toList())\r\n                );\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#allOf-java.util.concurrent.CompletableFuture...-","title":"Waiting on a list of Future","body":"<p>If you are using <strong>Java 8</strong> then you can do this easier with CompletableFuture and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#allOf-java.util.concurrent.CompletableFuture...-\" rel=\"noreferrer\">CompletableFuture.allOf</a>, which applies the callback only after all supplied CompletableFutures are done.</p>\n\n<pre><code>// Waits for *all* futures to complete and returns a list of results.\n// If *any* future completes exceptionally then the resulting future will also complete exceptionally.\n\npublic static &lt;T&gt; CompletableFuture&lt;List&lt;T&gt;&gt; all(List&lt;CompletableFuture&lt;T&gt;&gt; futures) {\n    CompletableFuture[] cfs = futures.toArray(new CompletableFuture[futures.size()]);\n\n    return CompletableFuture.allOf(cfs)\n            .thenApply(ignored -&gt; futures.stream()\n                                    .map(CompletableFuture::join)\n                                    .collect(Collectors.toList())\n            );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216151,"reputation":26327,"user_id":471213,"accept_rate":82,"display_name":"usr-local-"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488895671,"creation_date":1488895671,"answer_id":42650421,"question_id":19348248,"body_markdown":"If you are using Java 8 and don&#39;t want to manipulate `CompletableFuture`s, I have written a tool to retrieve results for a `List&lt;Future&lt;T&gt;&gt;` using streaming. The key is that you are forbidden to `map(Future::get)` as it throws.\r\n\r\n\r\n    public final class Futures\r\n    {\r\n    \r\n        private Futures()\r\n        {}\r\n    \r\n        public static &lt;E&gt; Collector&lt;Future&lt;E&gt;, Collection&lt;E&gt;, List&lt;E&gt;&gt; present()\r\n        {\r\n            return new FutureCollector&lt;&gt;();\r\n        }\r\n    \r\n        private static class FutureCollector&lt;T&gt; implements Collector&lt;Future&lt;T&gt;, Collection&lt;T&gt;, List&lt;T&gt;&gt;\r\n        {\r\n            private final List&lt;Throwable&gt; exceptions = new LinkedList&lt;&gt;();\r\n    \r\n            @Override\r\n            public Supplier&lt;Collection&lt;T&gt;&gt; supplier()\r\n            {\r\n                return LinkedList::new;\r\n            }\r\n    \r\n            @Override\r\n            public BiConsumer&lt;Collection&lt;T&gt;, Future&lt;T&gt;&gt; accumulator()\r\n            {\r\n                return (r, f) -&gt; {\r\n                    try\r\n                    {\r\n                        r.add(f.get());\r\n                    }\r\n                    catch (InterruptedException e)\r\n                    {}\r\n                    catch (ExecutionException e)\r\n                    {\r\n                        exceptions.add(e.getCause());\r\n                    }\r\n                };\r\n            }\r\n    \r\n            @Override\r\n            public BinaryOperator&lt;Collection&lt;T&gt;&gt; combiner()\r\n            {\r\n                return (l1, l2) -&gt; {\r\n                    l1.addAll(l2);\r\n                    return l1;\r\n                };\r\n            }\r\n    \r\n            @Override\r\n            public Function&lt;Collection&lt;T&gt;, List&lt;T&gt;&gt; finisher()\r\n            {\r\n                return l -&gt; {\r\n    \r\n                    List&lt;T&gt; ret = new ArrayList&lt;&gt;(l);\r\n                    if (!exceptions.isEmpty())\r\n                        throw new AggregateException(exceptions, ret);\r\n    \r\n                    return ret;\r\n                };\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public Set&lt;java.util.stream.Collector.Characteristics&gt; characteristics()\r\n            {\r\n                return java.util.Collections.emptySet();\r\n            }\r\n        }\r\n\r\nThis needs an `AggregateException` that works like C#&#39;s\r\n\r\n    public class AggregateException extends RuntimeException\r\n    {\r\n        /**\r\n         *\r\n         */\r\n        private static final long serialVersionUID = -4477649337710077094L;\r\n    \r\n        private final List&lt;Throwable&gt; causes;\r\n        private List&lt;?&gt; successfulElements;\r\n    \r\n        public AggregateException(List&lt;Throwable&gt; causes, List&lt;?&gt; l)\r\n        {\r\n            this.causes = causes;\r\n            successfulElements = l;\r\n        }\r\n    \r\n        public AggregateException(List&lt;Throwable&gt; causes)\r\n        {\r\n            this.causes = causes;\r\n        }\r\n    \r\n        @Override\r\n        public synchronized Throwable getCause()\r\n        {\r\n            return this;\r\n        }\r\n    \r\n        public List&lt;Throwable&gt; getCauses()\r\n        {\r\n            return causes;\r\n        }\r\n    \r\n        public List&lt;?&gt; getSuccessfulElements()\r\n        {\r\n            return successfulElements;\r\n        }\r\n    \r\n        public void setSuccessfulElements(List&lt;?&gt; successfulElements)\r\n        {\r\n            this.successfulElements = successfulElements;\r\n        }\r\n    \r\n    }\r\n\r\nThis component acts exactly as C#&#39;s [Task.WaitAll][1]. I am working on a variant that does the same as `CompletableFuture.allOf` (equivalento to `Task.WhenAll`)\r\n\r\nThe reason why I did this is that I am using Spring&#39;s `ListenableFuture` and don&#39;t want to port to `CompletableFuture` despite it is a more standard way\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/dd270695(v=vs.110).aspx","title":"Waiting on a list of Future","body":"<p>If you are using Java 8 and don't want to manipulate <code>CompletableFuture</code>s, I have written a tool to retrieve results for a <code>List&lt;Future&lt;T&gt;&gt;</code> using streaming. The key is that you are forbidden to <code>map(Future::get)</code> as it throws.</p>\n\n<pre><code>public final class Futures\n{\n\n    private Futures()\n    {}\n\n    public static &lt;E&gt; Collector&lt;Future&lt;E&gt;, Collection&lt;E&gt;, List&lt;E&gt;&gt; present()\n    {\n        return new FutureCollector&lt;&gt;();\n    }\n\n    private static class FutureCollector&lt;T&gt; implements Collector&lt;Future&lt;T&gt;, Collection&lt;T&gt;, List&lt;T&gt;&gt;\n    {\n        private final List&lt;Throwable&gt; exceptions = new LinkedList&lt;&gt;();\n\n        @Override\n        public Supplier&lt;Collection&lt;T&gt;&gt; supplier()\n        {\n            return LinkedList::new;\n        }\n\n        @Override\n        public BiConsumer&lt;Collection&lt;T&gt;, Future&lt;T&gt;&gt; accumulator()\n        {\n            return (r, f) -&gt; {\n                try\n                {\n                    r.add(f.get());\n                }\n                catch (InterruptedException e)\n                {}\n                catch (ExecutionException e)\n                {\n                    exceptions.add(e.getCause());\n                }\n            };\n        }\n\n        @Override\n        public BinaryOperator&lt;Collection&lt;T&gt;&gt; combiner()\n        {\n            return (l1, l2) -&gt; {\n                l1.addAll(l2);\n                return l1;\n            };\n        }\n\n        @Override\n        public Function&lt;Collection&lt;T&gt;, List&lt;T&gt;&gt; finisher()\n        {\n            return l -&gt; {\n\n                List&lt;T&gt; ret = new ArrayList&lt;&gt;(l);\n                if (!exceptions.isEmpty())\n                    throw new AggregateException(exceptions, ret);\n\n                return ret;\n            };\n\n        }\n\n        @Override\n        public Set&lt;java.util.stream.Collector.Characteristics&gt; characteristics()\n        {\n            return java.util.Collections.emptySet();\n        }\n    }\n</code></pre>\n\n<p>This needs an <code>AggregateException</code> that works like C#'s</p>\n\n<pre><code>public class AggregateException extends RuntimeException\n{\n    /**\n     *\n     */\n    private static final long serialVersionUID = -4477649337710077094L;\n\n    private final List&lt;Throwable&gt; causes;\n    private List&lt;?&gt; successfulElements;\n\n    public AggregateException(List&lt;Throwable&gt; causes, List&lt;?&gt; l)\n    {\n        this.causes = causes;\n        successfulElements = l;\n    }\n\n    public AggregateException(List&lt;Throwable&gt; causes)\n    {\n        this.causes = causes;\n    }\n\n    @Override\n    public synchronized Throwable getCause()\n    {\n        return this;\n    }\n\n    public List&lt;Throwable&gt; getCauses()\n    {\n        return causes;\n    }\n\n    public List&lt;?&gt; getSuccessfulElements()\n    {\n        return successfulElements;\n    }\n\n    public void setSuccessfulElements(List&lt;?&gt; successfulElements)\n    {\n        this.successfulElements = successfulElements;\n    }\n\n}\n</code></pre>\n\n<p>This component acts exactly as C#'s <a href=\"https://msdn.microsoft.com/en-us/library/dd270695(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Task.WaitAll</a>. I am working on a variant that does the same as <code>CompletableFuture.allOf</code> (equivalento to <code>Task.WhenAll</code>)</p>\n\n<p>The reason why I did this is that I am using Spring's <code>ListenableFuture</code> and don't want to port to <code>CompletableFuture</code> despite it is a more standard way</p>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":1,"up_vote_count":88,"is_accepted":false,"score":87,"last_activity_date":1582307051,"creation_date":1529813034,"answer_id":51006865,"question_id":19348248,"body_markdown":"Use a [`CompletableFuture`][1] in Java 8\r\n\r\n        // Kick of multiple, asynchronous lookups\r\n        CompletableFuture&lt;User&gt; page1 = gitHubLookupService.findUser(&quot;Test1&quot;);\r\n        CompletableFuture&lt;User&gt; page2 = gitHubLookupService.findUser(&quot;Test2&quot;);\r\n        CompletableFuture&lt;User&gt; page3 = gitHubLookupService.findUser(&quot;Test3&quot;);\r\n\r\n        // Wait until they are all done\r\n        CompletableFuture.allOf(page1,page2,page3).join();\r\n\r\n        logger.info(&quot;--&gt; &quot; + page1.get());\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html","title":"Waiting on a list of Future","body":"<p>Use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"noreferrer\"><code>CompletableFuture</code></a> in Java 8</p>\n\n<pre><code>    // Kick of multiple, asynchronous lookups\n    CompletableFuture&lt;User&gt; page1 = gitHubLookupService.findUser(\"Test1\");\n    CompletableFuture&lt;User&gt; page2 = gitHubLookupService.findUser(\"Test2\");\n    CompletableFuture&lt;User&gt; page3 = gitHubLookupService.findUser(\"Test3\");\n\n    // Wait until they are all done\n    CompletableFuture.allOf(page1,page2,page3).join();\n\n    logger.info(\"--&gt; \" + page1.get());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1492447,"reputation":2094,"user_id":1399223,"display_name":"Mohamed.Abdo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532530602,"creation_date":1532530602,"answer_id":51522028,"question_id":19348248,"body_markdown":"     /**\r\n         * execute suppliers as future tasks then wait / join for getting results\r\n         * @param functors a supplier(s) to execute\r\n         * @return a list of results\r\n         */\r\n        private List getResultsInFuture(Supplier&lt;?&gt;... functors) {\r\n            CompletableFuture[] futures = stream(functors)\r\n                    .map(CompletableFuture::supplyAsync)\r\n                    .collect(Collectors.toList())\r\n                    .toArray(new CompletableFuture[functors.length]);\r\n            CompletableFuture.allOf(futures).join();\r\n            return stream(futures).map(a-&gt; {\r\n                try {\r\n                    return a.get();\r\n                } catch (InterruptedException | ExecutionException e) {\r\n                    //logger.error(&quot;an error occurred during runtime execution a function&quot;,e);\r\n                    return null;\r\n                }\r\n            }).collect(Collectors.toList());\r\n        };","title":"Waiting on a list of Future","body":"<pre><code> /**\n     * execute suppliers as future tasks then wait / join for getting results\n     * @param functors a supplier(s) to execute\n     * @return a list of results\n     */\n    private List getResultsInFuture(Supplier&lt;?&gt;... functors) {\n        CompletableFuture[] futures = stream(functors)\n                .map(CompletableFuture::supplyAsync)\n                .collect(Collectors.toList())\n                .toArray(new CompletableFuture[functors.length]);\n        CompletableFuture.allOf(futures).join();\n        return stream(futures).map(a-&gt; {\n            try {\n                return a.get();\n            } catch (InterruptedException | ExecutionException e) {\n                //logger.error(\"an error occurred during runtime execution a function\",e);\n                return null;\n            }\n        }).collect(Collectors.toList());\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8241122,"reputation":391,"user_id":6198746,"display_name":"Brixomatic"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1552032125,"creation_date":1546973372,"answer_id":54097900,"question_id":19348248,"body_markdown":"I&#39;ve got a utility class that contains these:\r\n\r\n\r\n    @FunctionalInterface\r\n    public interface CheckedSupplier&lt;X&gt; {\r\n      X get() throws Throwable;\r\n    }\r\n\r\n    public static &lt;X&gt; Supplier&lt;X&gt; uncheckedSupplier(final CheckedSupplier&lt;X&gt; supplier) {\r\n\t\treturn () -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\treturn supplier.get();\r\n\t\t\t} catch (final Throwable checkedException) {\r\n\t\t\t\tthrow new IllegalStateException(checkedException);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\nOnce you have that, using a static import, you can simple wait for all futures like this:\r\n\r\n    futures.stream().forEach(future -&gt; uncheckedSupplier(future::get).get());\r\n\r\nyou can also collect all their results like this:\r\n\r\n    List&lt;MyResultType&gt; results = futures.stream()\r\n        .map(future -&gt; uncheckedSupplier(future::get).get())\r\n        .collect(Collectors.toList());\r\n\r\nJust revisiting my old post and noticing that you had another grief:\r\n\r\n&gt; But the problem here is if, for example, the 4th future throws an exception, then I will wait unnecessarily for the first 3 futures to be available.\r\n\r\nIn this case, the simple solution is to do this in parallel:\r\n\r\n    futures.stream().parallel()\r\n     .forEach(future -&gt; uncheckedSupplier(future::get).get());\r\n\r\nThis way the first exception, although it will not stop the future, will break the forEach-statement, like in the serial example, but since all wait in parallel, you won&#39;t have to wait for the first 3 to complete.\r\n","title":"Waiting on a list of Future","body":"<p>I've got a utility class that contains these:</p>\n\n<pre><code>@FunctionalInterface\npublic interface CheckedSupplier&lt;X&gt; {\n  X get() throws Throwable;\n}\n\npublic static &lt;X&gt; Supplier&lt;X&gt; uncheckedSupplier(final CheckedSupplier&lt;X&gt; supplier) {\n    return () -&gt; {\n        try {\n            return supplier.get();\n        } catch (final Throwable checkedException) {\n            throw new IllegalStateException(checkedException);\n        }\n    };\n}\n</code></pre>\n\n<p>Once you have that, using a static import, you can simple wait for all futures like this:</p>\n\n<pre><code>futures.stream().forEach(future -&gt; uncheckedSupplier(future::get).get());\n</code></pre>\n\n<p>you can also collect all their results like this:</p>\n\n<pre><code>List&lt;MyResultType&gt; results = futures.stream()\n    .map(future -&gt; uncheckedSupplier(future::get).get())\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>Just revisiting my old post and noticing that you had another grief:</p>\n\n<blockquote>\n  <p>But the problem here is if, for example, the 4th future throws an exception, then I will wait unnecessarily for the first 3 futures to be available.</p>\n</blockquote>\n\n<p>In this case, the simple solution is to do this in parallel:</p>\n\n<pre><code>futures.stream().parallel()\n .forEach(future -&gt; uncheckedSupplier(future::get).get());\n</code></pre>\n\n<p>This way the first exception, although it will not stop the future, will break the forEach-statement, like in the serial example, but since all wait in parallel, you won't have to wait for the first 3 to complete.</p>\n"},{"tags":[],"owner":{"account_id":8033451,"reputation":2283,"user_id":6057480,"accept_rate":83,"display_name":"Bohao LI"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561379836,"creation_date":1561379836,"answer_id":56736775,"question_id":19348248,"body_markdown":"In case that you want combine a List of CompletableFutures, you can do this :\r\n\r\n    List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n    // ... Add futures to this ArrayList of CompletableFutures\r\n    \r\n    // CompletableFuture.allOf() method demand a variadic arguments\r\n    // You can use this syntax to pass a List instead\r\n    CompletableFuture&lt;Void&gt; allFutures = CompletableFuture.allOf(\r\n                futures.toArray(new CompletableFuture[futures.size()]));\r\n\r\n    // Wait for all individual CompletableFuture to complete\r\n    // All individual CompletableFutures are executed in parallel\r\n    allFutures.get();\r\n\r\nFor more details on Future &amp; CompletableFuture, useful links: &lt;br&gt;\r\n1. Future: https://www.baeldung.com/java-future &lt;br&gt;\r\n2. CompletableFuture: https://www.baeldung.com/java-completablefuture &lt;br&gt;\r\n3. CompletableFuture: https://www.callicoder.com/java-8-completablefuture-tutorial/","title":"Waiting on a list of Future","body":"<p>In case that you want combine a List of CompletableFutures, you can do this :</p>\n\n<pre><code>List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;();\n// ... Add futures to this ArrayList of CompletableFutures\n\n// CompletableFuture.allOf() method demand a variadic arguments\n// You can use this syntax to pass a List instead\nCompletableFuture&lt;Void&gt; allFutures = CompletableFuture.allOf(\n            futures.toArray(new CompletableFuture[futures.size()]));\n\n// Wait for all individual CompletableFuture to complete\n// All individual CompletableFutures are executed in parallel\nallFutures.get();\n</code></pre>\n\n<p>For more details on Future &amp; CompletableFuture, useful links: <br>\n1. Future: <a href=\"https://www.baeldung.com/java-future\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-future</a> <br>\n2. CompletableFuture: <a href=\"https://www.baeldung.com/java-completablefuture\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-completablefuture</a> <br>\n3. CompletableFuture: <a href=\"https://www.callicoder.com/java-8-completablefuture-tutorial/\" rel=\"nofollow noreferrer\">https://www.callicoder.com/java-8-completablefuture-tutorial/</a></p>\n"},{"tags":[],"owner":{"account_id":6019085,"reputation":87,"user_id":4726867,"display_name":"Farhad Baghirov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587835409,"creation_date":1587832783,"answer_id":61429048,"question_id":19348248,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Stack2 {\t\r\n    \tpublic static void waitFor(List&lt;Future&lt;?&gt;&gt; futures) {\r\n    \t\tList&lt;Future&lt;?&gt;&gt; futureCopies = new ArrayList&lt;Future&lt;?&gt;&gt;(futures);//contains features for which status has not been completed\r\n    \t\twhile (!futureCopies.isEmpty()) {//worst case :all task worked without exception, then this method should wait for all tasks\r\n    \t\t\tIterator&lt;Future&lt;?&gt;&gt; futureCopiesIterator = futureCopies.iterator();\r\n    \t\t\twhile (futureCopiesIterator.hasNext()) {\r\n    \t\t\t\tFuture&lt;?&gt; future = futureCopiesIterator.next();\r\n    \t\t\t\tif (future.isDone()) {//already done\r\n    \t\t\t\t\tfutureCopiesIterator.remove();\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tfuture.get();// no longer waiting\r\n    \t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t//ignore\r\n    \t\t\t\t\t\t//only happen when current Thread interrupted\r\n    \t\t\t\t\t} catch (ExecutionException e) {\r\n    \t\t\t\t\t\tThrowable throwable = e.getCause();// real cause of exception\r\n    \t\t\t\t\t\tfutureCopies.forEach(f -&gt; f.cancel(true));//cancel other tasks that not completed\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tExecutorService executorService = Executors.newFixedThreadPool(3);\r\n    \r\n    \t\tRunnable runnable1 = new Runnable (){\r\n    \t\t\tpublic void run(){\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(5000);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tRunnable runnable2 = new Runnable (){\r\n    \t\t\tpublic void run(){\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(4000);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t\t\r\n    \t\tRunnable fail = new Runnable (){\r\n    \t\t\tpublic void run(){\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tThread.sleep(1000);\r\n    \t\t\t\t\tthrow new RuntimeException(&quot;bla bla bla&quot;);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t\tList&lt;Future&lt;?&gt;&gt; futures = Stream.of(runnable1,fail,runnable2)\r\n    \t\t\t\t.map(executorService::submit)\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \t\t\r\n    \t\tdouble start = System.nanoTime();\r\n    \t\twaitFor(futures);\r\n    \t\tdouble end = (System.nanoTime()-start)/1e9;\r\n    \t\tSystem.out.println(end +&quot; seconds&quot;);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"Waiting on a list of Future","body":"<pre><code>import java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class Stack2 {   \n    public static void waitFor(List&lt;Future&lt;?&gt;&gt; futures) {\n        List&lt;Future&lt;?&gt;&gt; futureCopies = new ArrayList&lt;Future&lt;?&gt;&gt;(futures);//contains features for which status has not been completed\n        while (!futureCopies.isEmpty()) {//worst case :all task worked without exception, then this method should wait for all tasks\n            Iterator&lt;Future&lt;?&gt;&gt; futureCopiesIterator = futureCopies.iterator();\n            while (futureCopiesIterator.hasNext()) {\n                Future&lt;?&gt; future = futureCopiesIterator.next();\n                if (future.isDone()) {//already done\n                    futureCopiesIterator.remove();\n                    try {\n                        future.get();// no longer waiting\n                    } catch (InterruptedException e) {\n                        //ignore\n                        //only happen when current Thread interrupted\n                    } catch (ExecutionException e) {\n                        Throwable throwable = e.getCause();// real cause of exception\n                        futureCopies.forEach(f -&gt; f.cancel(true));//cancel other tasks that not completed\n                        return;\n                    }\n                }\n            }\n        }\n    }\n    public static void main(String[] args) {\n        ExecutorService executorService = Executors.newFixedThreadPool(3);\n\n        Runnable runnable1 = new Runnable (){\n            public void run(){\n                try {\n                    Thread.sleep(5000);\n                } catch (InterruptedException e) {\n                }\n            }\n        };\n        Runnable runnable2 = new Runnable (){\n            public void run(){\n                try {\n                    Thread.sleep(4000);\n                } catch (InterruptedException e) {\n                }\n            }\n        };\n\n\n        Runnable fail = new Runnable (){\n            public void run(){\n                try {\n                    Thread.sleep(1000);\n                    throw new RuntimeException(\"bla bla bla\");\n                } catch (InterruptedException e) {\n                }\n            }\n        };\n\n        List&lt;Future&lt;?&gt;&gt; futures = Stream.of(runnable1,fail,runnable2)\n                .map(executorService::submit)\n                .collect(Collectors.toList());\n\n        double start = System.nanoTime();\n        waitFor(futures);\n        double end = (System.nanoTime()-start)/1e9;\n        System.out.println(end +\" seconds\");\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6495574,"reputation":495,"user_id":5028293,"display_name":"Ohad Bitton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653807362,"creation_date":1653807362,"answer_id":72421559,"question_id":19348248,"body_markdown":"This is what i use to wait for a certain time on a list of futures. I think its cleaner.\r\n\r\n    CountDownLatch countDownLatch = new CountDownLatch(partitions.size());\r\n    // Some parallel work\r\n            for (Something tp : somethings) {\r\n                completionService.submit(() -&gt; {\r\n                    try {\r\n                       work(something)\r\n                    } catch (ConnectException e) {\r\n                    } finally {\r\n                        countDownLatch.countDown();\r\n                    }\r\n                });\r\n            }    \r\n      try {\r\n            if (!countDownLatch.await(secondsToWait, TimeUnit.SECONDS)){\r\n            }\r\n        } catch (InterruptedException e) {\r\n        }\r\n\r\n","title":"Waiting on a list of Future","body":"<p>This is what i use to wait for a certain time on a list of futures. I think its cleaner.</p>\n<pre><code>CountDownLatch countDownLatch = new CountDownLatch(partitions.size());\n// Some parallel work\n        for (Something tp : somethings) {\n            completionService.submit(() -&gt; {\n                try {\n                   work(something)\n                } catch (ConnectException e) {\n                } finally {\n                    countDownLatch.countDown();\n                }\n            });\n        }    \n  try {\n        if (!countDownLatch.await(secondsToWait, TimeUnit.SECONDS)){\n        }\n    } catch (InterruptedException e) {\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2226874,"reputation":759,"user_id":1965404,"display_name":"typeracer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665668161,"creation_date":1665668161,"answer_id":74056709,"question_id":19348248,"body_markdown":"A Guava-based solution can be implemented using [`Futures.FutureCombiner`](https://guava.dev/releases/31.1-jre/api/docs/com/google/common/util/concurrent/Futures.FutureCombiner.html).\r\n\r\nHere is the code example given in the javadoc:\r\n\r\n```\r\n final ListenableFuture&lt;Instant&gt; loginDateFuture =\r\n     loginService.findLastLoginDate(username);\r\n final ListenableFuture&lt;List&lt;String&gt;&gt; recentCommandsFuture =\r\n     recentCommandsService.findRecentCommands(username);\r\n ListenableFuture&lt;UsageHistory&gt; usageFuture =\r\n     Futures.whenAllSucceed(loginDateFuture, recentCommandsFuture)\r\n         .call(\r\n             () -&gt;\r\n                 new UsageHistory(\r\n                     username,\r\n                     Futures.getDone(loginDateFuture),\r\n                     Futures.getDone(recentCommandsFuture)),\r\n             executor);\r\n```\r\n\r\nFor more info, see the [ListenableFutureExplained](https://github.com/google/guava/wiki/ListenableFutureExplained) section of the user&#39;s guide. \r\n\r\nIf you&#39;re curious about how it works under the hood, I suggest looking at this part of the source code: [`AggregateFuture.java#L127-L186`](https://github.com/google/guava/blob/370da321a4902039f9bae2f66826b8be100d465a/guava/src/com/google/common/util/concurrent/AggregateFuture.java#L127-L186)\r\n\r\n","title":"Waiting on a list of Future","body":"<p>A Guava-based solution can be implemented using <a href=\"https://guava.dev/releases/31.1-jre/api/docs/com/google/common/util/concurrent/Futures.FutureCombiner.html\" rel=\"nofollow noreferrer\"><code>Futures.FutureCombiner</code></a>.</p>\n<p>Here is the code example given in the javadoc:</p>\n<pre><code> final ListenableFuture&lt;Instant&gt; loginDateFuture =\n     loginService.findLastLoginDate(username);\n final ListenableFuture&lt;List&lt;String&gt;&gt; recentCommandsFuture =\n     recentCommandsService.findRecentCommands(username);\n ListenableFuture&lt;UsageHistory&gt; usageFuture =\n     Futures.whenAllSucceed(loginDateFuture, recentCommandsFuture)\n         .call(\n             () -&gt;\n                 new UsageHistory(\n                     username,\n                     Futures.getDone(loginDateFuture),\n                     Futures.getDone(recentCommandsFuture)),\n             executor);\n</code></pre>\n<p>For more info, see the <a href=\"https://github.com/google/guava/wiki/ListenableFutureExplained\" rel=\"nofollow noreferrer\">ListenableFutureExplained</a> section of the user's guide.</p>\n<p>If you're curious about how it works under the hood, I suggest looking at this part of the source code: <a href=\"https://github.com/google/guava/blob/370da321a4902039f9bae2f66826b8be100d465a/guava/src/com/google/common/util/concurrent/AggregateFuture.java#L127-L186\" rel=\"nofollow noreferrer\"><code>AggregateFuture.java#L127-L186</code></a></p>\n"},{"tags":[],"owner":{"account_id":447212,"reputation":3321,"user_id":840714,"accept_rate":62,"display_name":"Druckles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680604952,"creation_date":1680602980,"answer_id":75928118,"question_id":19348248,"body_markdown":"For anyone using Vavr&#39;s `Future`, you can either wait for all of them like this:\r\n\r\n```java\r\nstatic &lt;T&gt; Optional&lt;Future&lt;T&gt;&gt; waitForAll(Collection&lt;Future&lt;T&gt;&gt; futures) {\r\n  return futures.stream()\r\n      .reduce((last, next) -&gt; last.flatMap(ignored -&gt; next));\r\n```\r\n\r\nOr, if you have a default value in case there are no future in the collection:\r\n\r\n```java\r\nstatic &lt;T&gt; Future&lt;T&gt; waitForAll(Collection&lt;Future&lt;T&gt;&gt; futures, T defaultValue) {\r\n  return futures.stream()\r\n      .reduce(Future.successful(defaultValue), (last, next) -&gt; last.flatMap(ignored -&gt; next));\r\n}\r\n```\r\n\r\nThis will wait for all futures, however, regardless of whether one has failed.\r\n\r\n---\r\n\r\nTo return as soon as any fails, change your accumulator function to:\r\n\r\n```java\r\n(last, next) -&gt; Future.firstCompletedOf(List.of(last, next))\r\n    .flatMap(v -&gt; last.flatMap(ignored -&gt; next));\r\n```\r\n\r\nAs we only have two items in our merge function, we can wait for either of them to complete (Vavr&#39;s `firstCompletedOf`). If it had failed, it will ignored `flatMap` and return the failed future. If it was successful (whichever it was), it falls into the first `flatMap` where we wait also wait for the other one to finish.\r\n\r\nThis works no matter how long the collection of futures is, because the accumulator essentially pairs them all up:\r\n\r\n```\r\naccumulate(accumulate(accumulate(1, 2), 3), 4)\r\n```\r\n\r\nwhere `accumulate` does the &quot;wait for both unless one fails&quot;.\r\n\r\n**Warning**: This will not stop the execution on the other threads.","title":"Waiting on a list of Future","body":"<p>For anyone using Vavr's <code>Future</code>, you can either wait for all of them like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; Optional&lt;Future&lt;T&gt;&gt; waitForAll(Collection&lt;Future&lt;T&gt;&gt; futures) {\n  return futures.stream()\n      .reduce((last, next) -&gt; last.flatMap(ignored -&gt; next));\n</code></pre>\n<p>Or, if you have a default value in case there are no future in the collection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; Future&lt;T&gt; waitForAll(Collection&lt;Future&lt;T&gt;&gt; futures, T defaultValue) {\n  return futures.stream()\n      .reduce(Future.successful(defaultValue), (last, next) -&gt; last.flatMap(ignored -&gt; next));\n}\n</code></pre>\n<p>This will wait for all futures, however, regardless of whether one has failed.</p>\n<hr />\n<p>To return as soon as any fails, change your accumulator function to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>(last, next) -&gt; Future.firstCompletedOf(List.of(last, next))\n    .flatMap(v -&gt; last.flatMap(ignored -&gt; next));\n</code></pre>\n<p>As we only have two items in our merge function, we can wait for either of them to complete (Vavr's <code>firstCompletedOf</code>). If it had failed, it will ignored <code>flatMap</code> and return the failed future. If it was successful (whichever it was), it falls into the first <code>flatMap</code> where we wait also wait for the other one to finish.</p>\n<p>This works no matter how long the collection of futures is, because the accumulator essentially pairs them all up:</p>\n<pre><code>accumulate(accumulate(accumulate(1, 2), 3), 4)\n</code></pre>\n<p>where <code>accumulate</code> does the &quot;wait for both unless one fails&quot;.</p>\n<p><strong>Warning</strong>: This will not stop the execution on the other threads.</p>\n"}],"owner":{"account_id":33485,"reputation":18869,"user_id":93796,"accept_rate":55,"display_name":"user93796"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268090,"favorite_count":0,"down_vote_count":0,"up_vote_count":221,"accepted_answer_id":19348417,"answer_count":14,"score":221,"last_activity_date":1680604952,"creation_date":1381686144,"question_id":19348248,"body_markdown":"I have a method which returns a `List` of futures\r\n\r\n    List&lt;Future&lt;O&gt;&gt; futures = getFutures();\r\n\r\nNow I want to wait until either all futures are done processing successfully or any of the tasks whose output is returned by a future throws an exception. Even if one task throws an exception, there is no point in waiting for the other futures.\r\n\r\nSimple approach would be to\r\n\r\n    wait() {\r\n    \r\n       For(Future f : futures) {\r\n         try {\r\n           f.get();\r\n         } catch(Exception e) {\r\n           //TODO catch specific exception\r\n           // this future threw exception , means somone could not do its task\r\n           return;\r\n         }\r\n       }\r\n    }\r\n\r\nBut the problem here is if, for example, the 4th future throws an exception, then I will wait unnecessarily for the first 3 futures to be available.\r\n\r\nHow to solve this? Will count down latch help in any way? I&#39;m unable to use Future `isDone` because the java doc says\r\n\r\n    boolean isDone()\r\n    Returns true if this task completed. Completion may be due to normal termination, an exception, or cancellation -- in all of these cases, this method will return true.\r\n","title":"Waiting on a list of Future","body":"<p>I have a method which returns a <code>List</code> of futures</p>\n\n<pre><code>List&lt;Future&lt;O&gt;&gt; futures = getFutures();\n</code></pre>\n\n<p>Now I want to wait until either all futures are done processing successfully or any of the tasks whose output is returned by a future throws an exception. Even if one task throws an exception, there is no point in waiting for the other futures.</p>\n\n<p>Simple approach would be to</p>\n\n<pre><code>wait() {\n\n   For(Future f : futures) {\n     try {\n       f.get();\n     } catch(Exception e) {\n       //TODO catch specific exception\n       // this future threw exception , means somone could not do its task\n       return;\n     }\n   }\n}\n</code></pre>\n\n<p>But the problem here is if, for example, the 4th future throws an exception, then I will wait unnecessarily for the first 3 futures to be available.</p>\n\n<p>How to solve this? Will count down latch help in any way? I'm unable to use Future <code>isDone</code> because the java doc says</p>\n\n<pre><code>boolean isDone()\nReturns true if this task completed. Completion may be due to normal termination, an exception, or cancellation -- in all of these cases, this method will return true.\n</code></pre>\n"},{"tags":["java","android","background","themes","statusbar"],"comments":[{"owner":{"account_id":281797,"reputation":18034,"user_id":578309,"accept_rate":67,"display_name":"thanhbinh84"},"score":0,"creation_date":1295259569,"post_id":4712044,"comment_id":5202788,"body_markdown":"Here is what I am expecting http://i1178.photobucket.com/albums/x370/BinhNguyen84/device1.png. I couldn&#39;t put it in my question due to max link restriction","body":"Here is what I am expecting <a href=\"http://i1178.photobucket.com/albums/x370/BinhNguyen84/device1.png\" rel=\"nofollow noreferrer\">i1178.photobucket.com/albums/x370/BinhNguyen84/device1.png</a>. I couldn&#39;t put it in my question due to max link restriction"}],"answers":[{"tags":[],"owner":{"account_id":272562,"reputation":24469,"user_id":563718,"accept_rate":93,"display_name":"C0deAttack"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1295260278,"creation_date":1295260278,"answer_id":4712138,"question_id":4712044,"body_markdown":"Judging by your screenshot the &#39;seperator&#39; is actually the status bar shadow. I&#39;m going from memory here but I think you can disable it with:\r\n\r\n    &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n\r\nApologies if the attribute name is slightly wrong, as I say, going from memory but I think it&#39;s right.","title":"How does one remove the separator line / shadow between status bar and main screen?","body":"<p>Judging by your screenshot the 'seperator' is actually the status bar shadow. I'm going from memory here but I think you can disable it with:</p>\n\n<pre><code>&lt;item name=\"android:windowContentOverlay\"&gt;@null&lt;/item&gt;\n</code></pre>\n\n<p>Apologies if the attribute name is slightly wrong, as I say, going from memory but I think it's right.</p>\n"}],"owner":{"account_id":281797,"reputation":18034,"user_id":578309,"accept_rate":67,"display_name":"thanhbinh84"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2302,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4712138,"answer_count":1,"score":4,"last_activity_date":1680604737,"creation_date":1295259537,"question_id":4712044,"body_markdown":"In my application, I&#39;d like to keep status bar but make its background be the same as the main screen.\r\n\r\nSo I created a custom theme to set application background:\r\n\r\n    &lt;resources&gt;\r\n      &lt;style name=&quot;Theme.Shelves&quot; parent=&quot;android:Theme&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/background_shelf&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n      &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\nThen put it in manifest:\r\n\r\n     &lt;application android:icon=&quot;@drawable/icon&quot; \r\n                  android:theme=&quot;@style/Theme.Shelves&quot;\r\n                  android:label=&quot;@string/app_name&quot;&gt;\r\n\r\n        &lt;activity android:name=&quot;.HelloWorld&quot;\r\n                  android:label=&quot;@string/app_name&quot;&gt;\r\n\r\nAnd get this one:\r\n\r\n[![Screen shot 2][1]][1]\n&lt;!-- source: http://i1178.photobucket.com/albums/x370/BinhNguyen84/device.png --&gt;\r\n\r\nEverything is okay except the separator line between status bar and main screen. I thought that it&#39;s because of text view padding, so I set it to zero but nothing changed. \r\n\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        \r\n        TextView tv = new TextView(this);\r\n        tv.setText(&quot;Hello World&quot;);\r\n        setContentView(tv);\r\n        tv.setPadding(0,0,0,0);\r\n    }\r\n\r\n \r\n \r\n  [1]: https://i.stack.imgur.com/fXWrE.png","title":"How does one remove the separator line / shadow between status bar and main screen?","body":"<p>In my application, I'd like to keep status bar but make its background be the same as the main screen.</p>\n<p>So I created a custom theme to set application background:</p>\n<pre><code>&lt;resources&gt;\n  &lt;style name=&quot;Theme.Shelves&quot; parent=&quot;android:Theme&quot;&gt;\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/background_shelf&lt;/item&gt;\n    &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\n  &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>Then put it in manifest:</p>\n<pre><code> &lt;application android:icon=&quot;@drawable/icon&quot; \n              android:theme=&quot;@style/Theme.Shelves&quot;\n              android:label=&quot;@string/app_name&quot;&gt;\n\n    &lt;activity android:name=&quot;.HelloWorld&quot;\n              android:label=&quot;@string/app_name&quot;&gt;\n</code></pre>\n<p>And get this one:</p>\n<p><a href=\"https://i.stack.imgur.com/fXWrE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fXWrE.png\" alt=\"Screen shot 2\" /></a></p>\n\n<p>Everything is okay except the separator line between status bar and main screen. I thought that it's because of text view padding, so I set it to zero but nothing changed.</p>\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    \n    TextView tv = new TextView(this);\n    tv.setText(&quot;Hello World&quot;);\n    setContentView(tv);\n    tv.setPadding(0,0,0,0);\n}\n</code></pre>\n"},{"tags":["java","swing","awt","jtextfield","mouselistener"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1680581689,"post_id":75925398,"comment_id":133918299,"body_markdown":"I have no issues - consider providing a [mcve] which demonstrates your issue","body":"I have no issues - consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your issue"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680606052,"post_id":75925398,"comment_id":133923060,"body_markdown":"please read the referenced help page and act accordingly - no way to decide what&#39;s wrong without a reproducible example","body":"please read the referenced help page and act accordingly - no way to decide what&#39;s wrong without a reproducible example"}],"answers":[{"tags":[],"owner":{"account_id":23832769,"reputation":84,"user_id":17838848,"display_name":"Zero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680604591,"creation_date":1680596240,"answer_id":75927021,"question_id":75925398,"body_markdown":"    if (field.getText().equals(s))\r\n    {\r\n        field.setText(&quot;&quot;); // sets the deafult text as empty string and display it\r\n        field.setEditable(true);\r\n    }\r\n\r\nWith this code, the program will make the JTextField editable if its content equals the String s. If the predefined/current content is not equal to s, then the JTextField won&#39;t become editable. Since you wrote only this one void method, I don&#39;t know the content, but if it is not equal to s, I assume the JTextField won&#39;t be editable.\r\n\r\nIf you want the JTextField to be editable no matter whether the current content equals s or not, then you must write `field.setEditable(true);` outside the if condition.","title":"Text Field is not displaying text entering through keyboard in Java swing. I have set the text field editable","body":"<pre><code>if (field.getText().equals(s))\n{\n    field.setText(&quot;&quot;); // sets the deafult text as empty string and display it\n    field.setEditable(true);\n}\n</code></pre>\n<p>With this code, the program will make the JTextField editable if its content equals the String s. If the predefined/current content is not equal to s, then the JTextField won't become editable. Since you wrote only this one void method, I don't know the content, but if it is not equal to s, I assume the JTextField won't be editable.</p>\n<p>If you want the JTextField to be editable no matter whether the current content equals s or not, then you must write <code>field.setEditable(true);</code> outside the if condition.</p>\n"}],"owner":{"account_id":26510841,"reputation":9,"user_id":20146121,"display_name":"Rakesh Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680604591,"creation_date":1680580480,"question_id":75925398,"body_markdown":"    void addClick(JTextField field,String s) {\r\n        field.addMouseListener(new MouseInputAdapter() {\r\n            public void mouseClicked(MouseEvent e) {\r\n                //when user clicks on amount text field,\r\n                //makes text field editable to enable user to enter amount in it\r\n                if (field.getText().equals(s)) {\r\n                    field.setText(&quot;&quot;); // sets the deafult text as empty string and display it\r\n                    field.setEditable(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n`JTextField` is passed as parameter to `addClick` method. Initially it is not editable, i.e. `setEditable(false)`. But when user clicks on it should be made editable and user can enter the data through keyboard. `MouseListener` is working fine, i.e. it is making text field editable (sets `setEditable(true)`), but when I enter text in text field, it is not displaying the data that I am entering. By the way, I have implemented all the other methods of mouse listener interface.\r\n\r\nCan I know how I can make text field to display data user is entering through keyboard as text field is not reading any input from the keyboard.","title":"Text Field is not displaying text entering through keyboard in Java swing. I have set the text field editable","body":"<pre><code>void addClick(JTextField field,String s) {\n    field.addMouseListener(new MouseInputAdapter() {\n        public void mouseClicked(MouseEvent e) {\n            //when user clicks on amount text field,\n            //makes text field editable to enable user to enter amount in it\n            if (field.getText().equals(s)) {\n                field.setText(&quot;&quot;); // sets the deafult text as empty string and display it\n                field.setEditable(true);\n            }\n        }\n    });\n}\n</code></pre>\n<p><code>JTextField</code> is passed as parameter to <code>addClick</code> method. Initially it is not editable, i.e. <code>setEditable(false)</code>. But when user clicks on it should be made editable and user can enter the data through keyboard. <code>MouseListener</code> is working fine, i.e. it is making text field editable (sets <code>setEditable(true)</code>), but when I enter text in text field, it is not displaying the data that I am entering. By the way, I have implemented all the other methods of mouse listener interface.</p>\n<p>Can I know how I can make text field to display data user is entering through keyboard as text field is not reading any input from the keyboard.</p>\n"},{"tags":["java","regex","string","split"],"comments":[{"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":1,"creation_date":1680602408,"post_id":75928021,"comment_id":133922208,"body_markdown":"Try with extracting (not splitting) all with `\\S+|\\s+` pattern. See [this Java demo](https://ideone.com/O4GfW6).","body":"Try with extracting (not splitting) all with <code>\\S+|\\s+</code> pattern. See <a href=\"https://ideone.com/O4GfW6\" rel=\"nofollow noreferrer\">this Java demo</a>."},{"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"score":0,"creation_date":1680604248,"post_id":75928021,"comment_id":133922659,"body_markdown":"@WiktorStribiew thanks man,you saved me a day!! I think you should post this as an answer:)","body":"@WiktorStribiew thanks man,you saved me a day!! I think you should post this as an answer:)"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680604424,"creation_date":1680604424,"answer_id":75928328,"question_id":75928021,"body_markdown":"You can extract the whitespace and non-whitespace strings (and basically, tokenize the text into whitespace and non-whitespace text chunks) using the `\\S+|\\s+` regex.\r\n\r\nSee the [Java demo][1]:\r\n```java\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n \r\nclass Ideone\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tString line = &quot;word1 word2! word3? word4; word5, word6\\nword7\\n!word8! word9 word10 word11 word12&quot;;\r\n\t\tPattern p = Pattern.compile(&quot;\\\\S+|\\\\s+&quot;);\r\n\t    Matcher m = p.matcher(line);\r\n\t    List&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n\t    while(m.find()) {\r\n\t    \tres.add(m.group());\r\n\t    }\r\n\t    System.out.println(res);\r\n\t}\r\n}\r\n```\r\nOutput:\r\n```none\r\n[word1,  , word2!,  , word3?,  , word4;,  , word5,,  , word6, \r\n, word7, \r\n, !word8!,  , word9,  , word10,  , word11,  , word12]\r\n```\r\nwhere the line breaks are literal line break chars.\r\n\r\n  [1]: https://ideone.com/O4GfW6","title":"Java RegExp Split String with saving delimiters","body":"<p>You can extract the whitespace and non-whitespace strings (and basically, tokenize the text into whitespace and non-whitespace text chunks) using the <code>\\S+|\\s+</code> regex.</p>\n<p>See the <a href=\"https://ideone.com/O4GfW6\" rel=\"nofollow noreferrer\">Java demo</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.regex.*;\n \nclass Ideone\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        String line = &quot;word1 word2! word3? word4; word5, word6\\nword7\\n!word8! word9 word10 word11 word12&quot;;\n        Pattern p = Pattern.compile(&quot;\\\\S+|\\\\s+&quot;);\n        Matcher m = p.matcher(line);\n        List&lt;String&gt; res = new ArrayList&lt;&gt;();\n        while(m.find()) {\n            res.add(m.group());\n        }\n        System.out.println(res);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[word1,  , word2!,  , word3?,  , word4;,  , word5,,  , word6, \n, word7, \n, !word8!,  , word9,  , word10,  , word11,  , word12]\n</code></pre>\n<p>where the line breaks are literal line break chars.</p>\n"}],"owner":{"account_id":25940493,"reputation":105,"user_id":19660081,"display_name":"Ivan Dvurechenskiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75928328,"answer_count":1,"score":1,"last_activity_date":1680604424,"creation_date":1680602322,"question_id":75928021,"body_markdown":"So, I have a simple string that looks like this:\r\n```\r\nword1 word2! word3? word4; word5, word6\r\nword7 //new line\r\n!word8! word9 word10 word11 word12\r\n```\r\nAnd my desire is to split this string with saving whitespace and new line delimiters.\r\nRight now I&#39;m using a s.split() method with ```[\\\\s\\\\r\\\\n]``` expression as its argument and the output is:\r\n```\r\n[word1, word2!, word3?, word4;, word5,, word6, , word7, , !word8!, word9, word10, word11, word12]\r\n```\r\nAnd I&#39;m okay with a whitespaces not being saved. But what can I do with a ```\\n``` being saved just as a whitespace?\r\n\r\n\r\nUPD: I pass this string through RabbitMQ query. In Java it will look like this:\r\n```\r\n&quot;word1 word2! word3? word4; word5, word6\\nword7\\n!word8! word9 word10 word11 word12&quot;\r\n```","title":"Java RegExp Split String with saving delimiters","body":"<p>So, I have a simple string that looks like this:</p>\n<pre><code>word1 word2! word3? word4; word5, word6\nword7 //new line\n!word8! word9 word10 word11 word12\n</code></pre>\n<p>And my desire is to split this string with saving whitespace and new line delimiters.\nRight now I'm using a s.split() method with <code>[\\\\s\\\\r\\\\n]</code> expression as its argument and the output is:</p>\n<pre><code>[word1, word2!, word3?, word4;, word5,, word6, , word7, , !word8!, word9, word10, word11, word12]\n</code></pre>\n<p>And I'm okay with a whitespaces not being saved. But what can I do with a <code>\\n</code> being saved just as a whitespace?</p>\n<p>UPD: I pass this string through RabbitMQ query. In Java it will look like this:</p>\n<pre><code>&quot;word1 word2! word3? word4; word5, word6\\nword7\\n!word8! word9 word10 word11 word12&quot;\n</code></pre>\n"},{"tags":["java","git","maven","github","jgit"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1680603466,"post_id":75928172,"comment_id":133922473,"body_markdown":"Hello and welcome. What error?","body":"Hello and welcome. What error?"},{"owner":{"account_id":27212231,"reputation":1,"user_id":20742863,"display_name":"GermanK"},"score":0,"creation_date":1680603790,"post_id":75928172,"comment_id":133922547,"body_markdown":"error complains about the cloneCommand.call()","body":"error complains about the cloneCommand.call()"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1680604054,"post_id":75928172,"comment_id":133922612,"body_markdown":"Once again, what error? Please provide the stacktrace.","body":"Once again, what error? Please provide the stacktrace."},{"owner":{"account_id":27212231,"reputation":1,"user_id":20742863,"display_name":"GermanK"},"score":0,"creation_date":1680604191,"post_id":75928172,"comment_id":133922644,"body_markdown":"added the entire error from the console to the description","body":"added the entire error from the console to the description"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1680604318,"post_id":75928172,"comment_id":133922677,"body_markdown":"&quot;Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory&quot; is that class in your classpath?","body":"&quot;Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory&quot; is that class in your classpath?"},{"owner":{"account_id":27212231,"reputation":1,"user_id":20742863,"display_name":"GermanK"},"score":0,"creation_date":1680604396,"post_id":75928172,"comment_id":133922692,"body_markdown":"there is no such class in the code","body":"there is no such class in the code"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1680604557,"post_id":75928172,"comment_id":133922726,"body_markdown":"@GermanK no, but some of the code you import (jgit, from the looks of that stack trace) may depend on that.","body":"@GermanK no, but some of the code you import (jgit, from the looks of that stack trace) may depend on that."},{"owner":{"account_id":27212231,"reputation":1,"user_id":20742863,"display_name":"GermanK"},"score":0,"creation_date":1680604715,"post_id":75928172,"comment_id":133922763,"body_markdown":"I imported jgit through a jar file on my computer","body":"I imported jgit through a jar file on my computer"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1680604905,"post_id":75928172,"comment_id":133922801,"body_markdown":"Ok, but you need to include in the classpath its dependencies as well.","body":"Ok, but you need to include in the classpath its dependencies as well."},{"owner":{"account_id":27212231,"reputation":1,"user_id":20742863,"display_name":"GermanK"},"score":0,"creation_date":1680604934,"post_id":75928172,"comment_id":133922808,"body_markdown":"`&lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\n            &lt;artifactId&gt;org.eclipse.jgit&lt;/artifactId&gt;\n            &lt;version&gt;5.11.1.202105131744-r&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;C:/Users/kotge/IdeaProjects/org.eclipse.jgit-6.5.0.202303070854-r.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;`","body":"<code>&lt;dependency&gt;             &lt;groupId&gt;org.eclipse.jgit&lt;&#47;groupId&gt;             &lt;artifactId&gt;org.eclipse.jgit&lt;&#47;artifactId&gt;             &lt;version&gt;5.11.1.202105131744-r&lt;&#47;version&gt;             &lt;scope&gt;system&lt;&#47;scope&gt;             &lt;systemPath&gt;C:&#47;Users&#47;kotge&#47;IdeaProjects&#47;org.eclipse.jgit-6.5&zwnj;&#8203;.0.202303070854-r.ja&zwnj;&#8203;r&lt;&#47;systemPath&gt;         &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680605142,"post_id":75928172,"comment_id":133922852,"body_markdown":"Don&#39;t use system scope, let maven do its job and download what you need.","body":"Don&#39;t use system scope, let maven do its job and download what you need."}],"owner":{"account_id":27212231,"reputation":1,"user_id":20742863,"display_name":"GermanK"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680605134,"answer_count":0,"score":0,"last_activity_date":1680604253,"creation_date":1680603410,"question_id":75928172,"body_markdown":"i need to download files from git repository to directory via java code, and i have error witch my code when the download begins\r\n\r\n\r\n```\r\n    private void downloading() throws GitAPIException {\r\n        String repoUrl = &quot;url&quot;;\r\n        String localPath = directory;\r\n        String username = &quot;username&quot;;\r\n        String password = &quot;password&quot;;\r\n\r\n        CloneCommand cloneCommand = Git.cloneRepository()\r\n                .setURI(repoUrl)\r\n                .setDirectory(new File(localPath))\r\n                .setCredentialsProvider(new UsernamePasswordCredentialsProvider(username, password));\r\n        try (Git git = cloneCommand.call()) {\r\n            System.out.println(&quot;Repository was successfully cloned into &quot; + localPath);\r\n        } catch (GitAPIException e) {\r\n            System.err.println(&quot;Error cloning repository: &quot; + e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\n\r\nthe full error\r\n\r\n```none\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n\tat javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@21-ea/javafx.scene.Node.fireEvent(Node.java:8935)\r\n\tat javafx.controls@21-ea/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@21-ea/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@21-ea/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@21-ea/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\r\n\tat javafx.graphics@21-ea/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\r\n\tat javafx.graphics@21-ea/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:183)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat javafx.base@21-ea/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\r\n\tat javafx.fxml@18.0.2/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n\t... 46 more\r\nCaused by: java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\r\n\tat org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.util.SystemReader.&lt;clinit&gt;(SystemReader.java:58)\r\n\tat org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.lib.BaseRepositoryBuilder.readEnvironment(BaseRepositoryBuilder.java:405)\r\n\tat org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.api.InitCommand.call(InitCommand.java:64)\r\n\tat org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.api.CloneCommand.init(CloneCommand.java:282)\r\n\tat org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.api.CloneCommand.call(CloneCommand.java:182)\r\n\tat com.gitipi.launcher/com.gitipi.launcher.Controller.downloading(Controller.java:122)\r\n\tat com.gitipi.launcher/com.gitipi.launcher.Controller.download(Controller.java:87)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 53 more\r\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 61 more\r\n```","title":"How to download git repository via java code","body":"<p>i need to download files from git repository to directory via java code, and i have error witch my code when the download begins</p>\n<pre><code>    private void downloading() throws GitAPIException {\n        String repoUrl = &quot;url&quot;;\n        String localPath = directory;\n        String username = &quot;username&quot;;\n        String password = &quot;password&quot;;\n\n        CloneCommand cloneCommand = Git.cloneRepository()\n                .setURI(repoUrl)\n                .setDirectory(new File(localPath))\n                .setCredentialsProvider(new UsernamePasswordCredentialsProvider(username, password));\n        try (Git git = cloneCommand.call()) {\n            System.out.println(&quot;Repository was successfully cloned into &quot; + localPath);\n        } catch (GitAPIException e) {\n            System.err.println(&quot;Error cloning repository: &quot; + e.getMessage());\n        }\n    }\n</code></pre>\n<p>the full error</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\n    at javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@21-ea/javafx.scene.Node.fireEvent(Node.java:8935)\n    at javafx.controls@21-ea/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@21-ea/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@21-ea/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@21-ea/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\n    at javafx.graphics@21-ea/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\n    at javafx.graphics@21-ea/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@21-ea/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@21-ea/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:183)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at javafx.base@21-ea/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\n    at javafx.fxml@18.0.2/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n    ... 46 more\nCaused by: java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\n    at org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.util.SystemReader.&lt;clinit&gt;(SystemReader.java:58)\n    at org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.lib.BaseRepositoryBuilder.readEnvironment(BaseRepositoryBuilder.java:405)\n    at org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.api.InitCommand.call(InitCommand.java:64)\n    at org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.api.CloneCommand.init(CloneCommand.java:282)\n    at org.eclipse.jgit@6.5.0.202303070854-r/org.eclipse.jgit.api.CloneCommand.call(CloneCommand.java:182)\n    at com.gitipi.launcher/com.gitipi.launcher.Controller.downloading(Controller.java:122)\n    at com.gitipi.launcher/com.gitipi.launcher.Controller.download(Controller.java:87)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 53 more\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 61 more\n</code></pre>\n"},{"tags":["java","spring","micronaut"],"comments":[{"owner":{"account_id":15396644,"reputation":25745,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1680739781,"post_id":75928288,"comment_id":133951103,"body_markdown":"https://meta.stackexchange.com/q/387964/997587","body":"<a href=\"https://meta.stackexchange.com/q/387964/997587\">meta.stackexchange.com/q/387964/997587</a>"},{"owner":{"account_id":26513284,"reputation":21,"user_id":20148163,"display_name":"user20148163"},"score":0,"creation_date":1681830383,"post_id":75928288,"comment_id":134118263,"body_markdown":"Wow, useless drive-by comment. :eyeroll:","body":"Wow, useless drive-by comment. :eyeroll:"},{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1682628146,"post_id":75928288,"comment_id":134250123,"body_markdown":"When &quot;Googling like crazy&quot;, did you come across this question/answer: https://stackoverflow.com/a/53375338/14072498","body":"When &quot;Googling like crazy&quot;, did you come across this question/answer: <a href=\"https://stackoverflow.com/a/53375338/14072498\">stackoverflow.com/a/53375338/14072498</a>"}],"owner":{"account_id":26513284,"reputation":21,"user_id":20148163,"display_name":"user20148163"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680604184,"creation_date":1680604184,"question_id":75928288,"body_markdown":"Have a bunch of GraphQL schema files I need to load, I would like to do something like\r\n\r\n```\r\nresourceResolver.getResource(&quot;classpath:graphql/**/*.graphqls&quot;)\r\n```\r\n\r\nIn Spring this would be a use for PathMatchingResourcePatternResolver - however this doesn&#39;t seem to exist in Micronaut (it briefly lived in CLI, but in 1.3.1).\r\n\r\nWhat&#39;s the preferred approach? Resources will only ever be in that subdirectory.\r\n\r\n\r\nGoogling like crazy. Seems only references to people trying to recreate it without spring.","title":"What is the Micronaut equivalent of PathMatchingResourcePatternResolver","body":"<p>Have a bunch of GraphQL schema files I need to load, I would like to do something like</p>\n<pre><code>resourceResolver.getResource(&quot;classpath:graphql/**/*.graphqls&quot;)\n</code></pre>\n<p>In Spring this would be a use for PathMatchingResourcePatternResolver - however this doesn't seem to exist in Micronaut (it briefly lived in CLI, but in 1.3.1).</p>\n<p>What's the preferred approach? Resources will only ever be in that subdirectory.</p>\n<p>Googling like crazy. Seems only references to people trying to recreate it without spring.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1680605625,"post_id":75928266,"comment_id":133922974,"body_markdown":"Where&#39;s your `ConfigurationConvertor` class? I don&#39;t have intelliJ handy, but have you checked it doesn&#39;t expect a fully qualified class name there?","body":"Where&#39;s your <code>ConfigurationConvertor</code> class? I don&#39;t have intelliJ handy, but have you checked it doesn&#39;t expect a fully qualified class name there?"},{"owner":{"account_id":8835692,"reputation":1670,"user_id":6629569,"accept_rate":71,"display_name":"Abby"},"score":0,"creation_date":1680607281,"post_id":75928266,"comment_id":133923323,"body_markdown":"If it is a maven project then I would expect a [maven run configuration](https://www.jetbrains.com/help/idea/work-with-maven-goals.html).","body":"If it is a maven project then I would expect a <a href=\"https://www.jetbrains.com/help/idea/work-with-maven-goals.html\" rel=\"nofollow noreferrer\">maven run configuration</a>."}],"owner":{"account_id":28104565,"reputation":107,"user_id":21473368,"display_name":"nick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680604032,"creation_date":1680604032,"question_id":75928266,"body_markdown":"I have a java maven project which I am running in IntelliJ. The application is running fine. But when I click on the run button I see the following message:  \r\n[change configuration settings][1]  \r\nThese are the settings for running:  \r\n[configuration settings][2]    \r\n[configuration settings 2][3]  \r\nHere is the project structure:  \r\n[enter image description here][4]  \r\nThe project I am working on is the **eclipse-to...** one\r\nWhen I click on the **run anyway** it does produce the desired output. But I am somewhat confused why it&#39;s giving that error. The red bar appears in the main class.  \r\n\r\nThings I tried:  \r\n-  Deleted the configuration and right-click on the file having the main method and run it. Which automatically creates a new configuration. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c2UZl.png\r\n  [2]: https://i.stack.imgur.com/SLzvh.png\r\n  [3]: https://i.stack.imgur.com/Acv2H.png\r\n  [4]: https://i.stack.imgur.com/nH1CF.png","title":"Incorrect configuration settings in Intellij Idea","body":"<p>I have a java maven project which I am running in IntelliJ. The application is running fine. But when I click on the run button I see the following message:<br />\n<a href=\"https://i.stack.imgur.com/c2UZl.png\" rel=\"nofollow noreferrer\">change configuration settings</a><br />\nThese are the settings for running:<br />\n<a href=\"https://i.stack.imgur.com/SLzvh.png\" rel=\"nofollow noreferrer\">configuration settings</a><br />\n<a href=\"https://i.stack.imgur.com/Acv2H.png\" rel=\"nofollow noreferrer\">configuration settings 2</a><br />\nHere is the project structure:<br />\n<a href=\"https://i.stack.imgur.com/nH1CF.png\" rel=\"nofollow noreferrer\">enter image description here</a><br />\nThe project I am working on is the <strong>eclipse-to...</strong> one\nWhen I click on the <strong>run anyway</strong> it does produce the desired output. But I am somewhat confused why it's giving that error. The red bar appears in the main class.</p>\n<p>Things I tried:</p>\n<ul>\n<li>Deleted the configuration and right-click on the file having the main method and run it. Which automatically creates a new configuration.</li>\n</ul>\n"},{"tags":["java","spring","spring-mvc","spring-security","thymeleaf"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1680305196,"post_id":75903282,"comment_id":133881726,"body_markdown":"show us what your request looks like in the webbrowser F12/Network tab","body":"show us what your request looks like in the webbrowser F12/Network tab"},{"owner":{"account_id":22900933,"reputation":1,"user_id":17039659,"display_name":"Johndavid Cabal"},"score":0,"creation_date":1680305505,"post_id":75903282,"comment_id":133881761,"body_markdown":"it show 404 in status, GET in method and name is logout.","body":"it show 404 in status, GET in method and name is logout."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1680305587,"post_id":75903282,"comment_id":133881766,"body_markdown":"im sorry, but i did not ask for your description of what it said, i asked for you to SHOW US what the request looks like so that is can do my own analysis of what the request looks like thank you.","body":"im sorry, but i did not ask for your description of what it said, i asked for you to SHOW US what the request looks like so that is can do my own analysis of what the request looks like thank you."},{"owner":{"account_id":22900933,"reputation":1,"user_id":17039659,"display_name":"Johndavid Cabal"},"score":0,"creation_date":1680305958,"post_id":75903282,"comment_id":133881811,"body_markdown":"@Toerktumlare it looks like this &quot;http://localhost:8080/logout&quot;","body":"@Toerktumlare it looks like this &quot;<a href=\"http://localhost:8080/logout\" rel=\"nofollow noreferrer\">localhost:8080/logout</a>&quot;"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1680306540,"post_id":75903282,"comment_id":133881873,"body_markdown":"you dont seem to be able to produce what im asking for, good luck.","body":"you dont seem to be able to produce what im asking for, good luck."},{"owner":{"account_id":22900933,"reputation":1,"user_id":17039659,"display_name":"Johndavid Cabal"},"score":0,"creation_date":1680307003,"post_id":75903282,"comment_id":133881917,"body_markdown":"@Toerktumlare sorry but I cant post Imges in comments,","body":"@Toerktumlare sorry but I cant post Imges in comments,"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1680336541,"post_id":75903282,"comment_id":133884177,"body_markdown":"You do know there is an edit button on your question?","body":"You do know there is an edit button on your question?"}],"answers":[{"tags":[],"owner":{"account_id":27191068,"reputation":111,"user_id":21113813,"display_name":"GavilanPatagonico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680317262,"creation_date":1680317262,"answer_id":75904032,"question_id":75903282,"body_markdown":"Your application is looking for a &quot;logout&quot; page that you don&#180;t have, hence 404. \r\nWhy? Because in your `securityFilterChainPatient` you put this: `.logoutUrl(&quot;/logout&quot;)`\r\n\r\nRemove `.logoutUrl(&quot;/logout&quot;).permitAll()`\r\n\r\nThe application will apply the standard logout procedure and then go to &quot;/patient/login&quot;\r\n","title":"How can I configure logout functionality in spring security with thymeleaf?","body":"<p>Your application is looking for a &quot;logout&quot; page that you dont have, hence 404.\nWhy? Because in your <code>securityFilterChainPatient</code> you put this: <code>.logoutUrl(&quot;/logout&quot;)</code></p>\n<p>Remove <code>.logoutUrl(&quot;/logout&quot;).permitAll()</code></p>\n<p>The application will apply the standard logout procedure and then go to &quot;/patient/login&quot;</p>\n"},{"tags":[],"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680603325,"creation_date":1680603325,"answer_id":75928162,"question_id":75903282,"body_markdown":"change :\r\n```\r\n.logout()\r\n                .logoutUrl(&quot;/logout&quot;)\r\n                .logoutSuccessUrl(&quot;/patient/login?logout&quot;)\r\n                .invalidateHttpSession(true)\r\n                .deleteCookies(&quot;JSESSIONID&quot;)\r\n                .permitAll();\r\n```\r\n\r\nYou can also try to remove this section in config file. It will automatically redirect to login page\r\n```\r\n.logout()\r\n                    .logoutUrl(&quot;/logout&quot;).permitAll()\r\n                .logoutSuccessUrl(&quot;/patient/login&quot;)\r\n//                .invalidateHttpSession(true)\r\n//                            .logoutSuccessHandler(logoutSuccessHandler)\r\n//                            .addLogoutHandler(logoutHandler)\r\n                .deleteCookies(&quot;JSESSIONID&quot;);```","title":"How can I configure logout functionality in spring security with thymeleaf?","body":"<p>change :</p>\n<pre><code>.logout()\n                .logoutUrl(&quot;/logout&quot;)\n                .logoutSuccessUrl(&quot;/patient/login?logout&quot;)\n                .invalidateHttpSession(true)\n                .deleteCookies(&quot;JSESSIONID&quot;)\n                .permitAll();\n</code></pre>\n<p>You can also try to remove this section in config file. It will automatically redirect to login page</p>\n<pre><code>.logout()\n                    .logoutUrl(&quot;/logout&quot;).permitAll()\n                .logoutSuccessUrl(&quot;/patient/login&quot;)\n//                .invalidateHttpSession(true)\n//                            .logoutSuccessHandler(logoutSuccessHandler)\n//                            .addLogoutHandler(logoutHandler)\n                .deleteCookies(&quot;JSESSIONID&quot;);```\n</code></pre>\n"}],"owner":{"account_id":22900933,"reputation":1,"user_id":17039659,"display_name":"Johndavid Cabal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":634,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1680603325,"creation_date":1680302852,"question_id":75903282,"body_markdown":"I am new here I just want to know where I go wrong In configuring the Logout part in spring, I made a loging form form patient but when I try to logout it promt a 404 page.\r\n\r\nHere is my Source Code.\r\n\r\n#### Controller\r\n```java\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/patient&quot;)\r\n@AllArgsConstructor\r\npublic class PatientLoginPage {\r\n\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String patientLoginPage(Model model) {\r\n//        model.addAttribute(&quot;successRegistration&quot;, true);\r\n        return &quot;PatientWebPages/PatientLoginPage&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/login-error&quot;)\r\n    public String errorPatientLoginPage(Model model){\r\n        model.addAttribute(&quot;errorMessage&quot;, true);\r\n        return &quot;PatientWebPages/PatientLoginPage&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;login-success&quot;)\r\n    public String successPatientLoginPage(Model model) {\r\n        model.addAttribute(&quot;successRegistration&quot;, true);\r\n        return &quot;PatientWebPages/PatientLoginPage&quot;;\r\n    }\r\n}\r\n```\r\n\r\n#### Security Config\r\n```java\r\n\r\n\r\nimport com.capstone.dentalclinic.demo.security.PasswordEncoder;\r\nimport com.capstone.dentalclinic.demo.services.patient.PatientServicesImpl;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.logout.LogoutHandler;\r\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\r\nimport org.springframework.security.web.server.authentication.logout.DelegatingServerLogoutHandler;\r\nimport org.springframework.security.web.server.authentication.logout.SecurityContextServerLogoutHandler;\r\nimport org.springframework.security.web.server.authentication.logout.WebSessionServerLogoutHandler;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@AllArgsConstructor\r\n@Order(1)\r\npublic class PatientSecurityConfig {\r\n\r\n    private final PatientServicesImpl patientServicesImpl;\r\n\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProviderPatient() {\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(passwordEncoder.bcryptPasswordEncoder());\r\n        provider.setUserDetailsService(patientServicesImpl);\r\n        return provider;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChainPatient (HttpSecurity http) throws  Exception{\r\n            http.authorizeRequests().antMatchers(&quot;/patient/login&quot;, &quot;/patient/registration&quot;, &quot;/Service&quot;,\r\n                    &quot;/patient/login-error&quot;, &quot;/patient/login-success&quot;, &quot;/forgot-password&quot;, &quot;/new-password&quot;).permitAll();\r\n\r\n            http\r\n                .csrf().disable()\r\n                .authenticationProvider(daoAuthenticationProviderPatient())\r\n                .antMatcher(&quot;/patient/**&quot;)\r\n                .authorizeRequests().anyRequest().hasAnyAuthority(&quot;PATIENT&quot;)\r\n                .and()\r\n            .formLogin()\r\n                .loginPage(&quot;/patient/login&quot;)\r\n                .defaultSuccessUrl(&quot;/patient/dashboard&quot;, true)\r\n                .failureUrl(&quot;/patient/login-error&quot;)\r\n            .and()\r\n            .logout()\r\n                    .logoutUrl(&quot;/logout&quot;).permitAll()\r\n                .logoutSuccessUrl(&quot;/patient/login&quot;)\r\n//                .invalidateHttpSession(true)\r\n//                            .logoutSuccessHandler(logoutSuccessHandler)\r\n//                            .addLogoutHandler(logoutHandler)\r\n                .deleteCookies(&quot;JSESSIONID&quot;);\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer1() {\r\n        return (web) -&gt; web\r\n                .ignoring()\r\n                .antMatchers(&quot;/resources/**&quot;,&quot;/static/**&quot;, &quot;/static/*&quot;, &quot;/static/&quot;, &quot;/css/**&quot;, &quot;/assets/**&quot;,\r\n                        &quot;/javascript/**&quot;);\r\n    }\r\n}\r\n```\r\n#### dashboar.html\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org/&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n\r\n    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; sizes=&quot;32x32&quot; href=&quot;/assets/administrator/new-resized-logo.png&quot;&gt;\r\n    &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; sizes=&quot;16x16&quot; href=&quot;/assets/administrator/new-resized-logo.png&quot;&gt;\r\n    &lt;link rel=&quot;manifest&quot; href=&quot;/site.webmanifest&quot;&gt;\r\n    &lt;link rel=&quot;mask-icon&quot; href=&quot;/safari-pinned-tab.svg&quot; color=&quot;#5bbad5&quot;&gt;\r\n    &lt;meta name=&quot;msapplication-TileColor&quot; content=&quot;#da532c&quot;&gt;\r\n    &lt;meta name=&quot;theme-color&quot; content=&quot;#ffffff&quot;&gt;\r\n\r\n   \r\n\r\n    &lt;!--Bootstrap CDN --&gt;\r\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js&quot; integrity=&quot;sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;!-- CSS Link --&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/patients/PatientDashboard.css}&quot;&gt;\r\n    \r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/admin-system/src/main/resources/static/css/patients/PatientDashboard.css&quot;&gt;\r\n\r\n&lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;!-- Navbar --&gt;\r\n        &lt;nav class=&quot;navbar sticky-top navbar-expand-sm navbar-dark bg-danger opacity-100&quot;&gt;\r\n            &lt;div class=&quot;container-sm&quot;&gt;\r\n                &lt;a class=&quot;navbar-brand&quot; href=&quot;/patient/dashboard&quot;&gt;\r\n                    &lt;img th:src=&quot;@{/assets/patients/logo.png}&quot; width=&quot;85&quot; height=&quot;85&quot; alt=&quot;Logo&quot;&gt;\r\n                &lt;/a&gt;\r\n                    \r\n                &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#navbarNavDropdown&quot; aria-controls=&quot;navbarNavDropdown&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\r\n                    &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\r\n                &lt;/button&gt;  \r\n                \r\n                &lt;div class=&quot; collapse navbar-collapse&quot; id=&quot;navbarNavDropdown&quot;&gt;\r\n                    &lt;ul class=&quot;navbar-nav ms-auto &quot;&gt;\r\n                    &lt;li class=&quot;nav-item&quot;&gt;\r\n                        &lt;a class=&quot;nav-link shadow-text mx-2&quot; aria-current=&quot;page&quot; href=&quot;#profile&quot;&gt;PROFILE&lt;/a&gt;\r\n                    &lt;/li&gt;\r\n                    &lt;li class=&quot;nav-item&quot;&gt;\r\n                        &lt;a class=&quot;nav-link shadow-text mx-2&quot; href=&quot;#record&quot;&gt;RECORDS&lt;/a&gt;\r\n                    &lt;/li&gt;\r\n                        &lt;a class=&quot;button-logout shadow-text mx-3&quot; th:href=&quot;@{/logout}&quot;&gt;LOGOUT&lt;/a&gt;\r\n                    &lt;/ul&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/nav&gt;\r\n        &lt;!-- Navbar --&gt;\r\n\r\n        &lt;!-- Main dashboard --&gt;\r\n        \r\n        &lt;div class=&quot;container-md mt-5 mb-5&quot;&gt;\r\n            &lt;div class=&quot;header&quot;&gt;\r\n                &lt;h1 class=&quot;text-center fw-bolder display-4 p-5&quot;&gt;Welcome to&lt;br&gt;Patient Dashboard&lt;/h1&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;!-- Tables --&gt;\r\n        &lt;div class=&quot;container-md mt-5 w-auto&quot; id=&quot;profile&quot;&gt;\r\n            &lt;table class=&quot;table table-borderless table-hover&quot;&gt;\r\n                &lt;thead class=&quot;thead-dark&quot;&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;th class=&quot;text-center fw-bold h2&quot; colspan=&quot;4&quot; scope=&quot;col&quot;&gt;Basic Information &lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot; &gt;First Name&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.firstName}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Middle Name&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.middleName}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Last Name&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.lastName}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Suffix&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.suffix}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Date of Birth&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.birthDate}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Gender&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.gender}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Civil Status&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.civilStatus}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Physical Disability or Condition&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.physicalDisability}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=&quot;container-md mt-2 w-auto&quot;&gt;\r\n            &lt;table class=&quot;table table-borderless table-hover&quot;&gt;\r\n                &lt;thead class=&quot;thead-dark&quot;&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;th class=&quot;text-center fw-bold h2&quot; colspan=&quot;4&quot; scope=&quot;col&quot;&gt;Contact Information&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Email Address&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.emailAddress}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Complete Address&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.homeAddress}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Phone Number&lt;/td&gt;\r\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.contactNumber}&quot;&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n        &lt;!-- Tables --&gt;\r\n\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n#### pom.xml\r\n```java\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.capstone.dentalclinic&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;admin&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;admin&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n\t\t&lt;!-- &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t&lt;/dependency&gt; --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nAm I missing something ? Please Enlighten me.\r\n\r\n\r\nI tried and watch many tutorials but still can fix it.","title":"How can I configure logout functionality in spring security with thymeleaf?","body":"<p>I am new here I just want to know where I go wrong In configuring the Logout part in spring, I made a loging form form patient but when I try to logout it promt a 404 page.</p>\n<p>Here is my Source Code.</p>\n<h4>Controller</h4>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.AllArgsConstructor;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(&quot;/patient&quot;)\n@AllArgsConstructor\npublic class PatientLoginPage {\n\n    @GetMapping(&quot;/login&quot;)\n    public String patientLoginPage(Model model) {\n//        model.addAttribute(&quot;successRegistration&quot;, true);\n        return &quot;PatientWebPages/PatientLoginPage&quot;;\n    }\n\n    @GetMapping(&quot;/login-error&quot;)\n    public String errorPatientLoginPage(Model model){\n        model.addAttribute(&quot;errorMessage&quot;, true);\n        return &quot;PatientWebPages/PatientLoginPage&quot;;\n    }\n\n    @GetMapping(&quot;login-success&quot;)\n    public String successPatientLoginPage(Model model) {\n        model.addAttribute(&quot;successRegistration&quot;, true);\n        return &quot;PatientWebPages/PatientLoginPage&quot;;\n    }\n}\n</code></pre>\n<h4>Security Config</h4>\n<pre class=\"lang-java prettyprint-override\"><code>\n\nimport com.capstone.dentalclinic.demo.security.PasswordEncoder;\nimport com.capstone.dentalclinic.demo.services.patient.PatientServicesImpl;\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.logout.LogoutHandler;\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\nimport org.springframework.security.web.server.authentication.logout.DelegatingServerLogoutHandler;\nimport org.springframework.security.web.server.authentication.logout.SecurityContextServerLogoutHandler;\nimport org.springframework.security.web.server.authentication.logout.WebSessionServerLogoutHandler;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n@Configuration\n@EnableWebSecurity\n@AllArgsConstructor\n@Order(1)\npublic class PatientSecurityConfig {\n\n    private final PatientServicesImpl patientServicesImpl;\n\n    private final PasswordEncoder passwordEncoder;\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProviderPatient() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(passwordEncoder.bcryptPasswordEncoder());\n        provider.setUserDetailsService(patientServicesImpl);\n        return provider;\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChainPatient (HttpSecurity http) throws  Exception{\n            http.authorizeRequests().antMatchers(&quot;/patient/login&quot;, &quot;/patient/registration&quot;, &quot;/Service&quot;,\n                    &quot;/patient/login-error&quot;, &quot;/patient/login-success&quot;, &quot;/forgot-password&quot;, &quot;/new-password&quot;).permitAll();\n\n            http\n                .csrf().disable()\n                .authenticationProvider(daoAuthenticationProviderPatient())\n                .antMatcher(&quot;/patient/**&quot;)\n                .authorizeRequests().anyRequest().hasAnyAuthority(&quot;PATIENT&quot;)\n                .and()\n            .formLogin()\n                .loginPage(&quot;/patient/login&quot;)\n                .defaultSuccessUrl(&quot;/patient/dashboard&quot;, true)\n                .failureUrl(&quot;/patient/login-error&quot;)\n            .and()\n            .logout()\n                    .logoutUrl(&quot;/logout&quot;).permitAll()\n                .logoutSuccessUrl(&quot;/patient/login&quot;)\n//                .invalidateHttpSession(true)\n//                            .logoutSuccessHandler(logoutSuccessHandler)\n//                            .addLogoutHandler(logoutHandler)\n                .deleteCookies(&quot;JSESSIONID&quot;);\n        return http.build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer1() {\n        return (web) -&gt; web\n                .ignoring()\n                .antMatchers(&quot;/resources/**&quot;,&quot;/static/**&quot;, &quot;/static/*&quot;, &quot;/static/&quot;, &quot;/css/**&quot;, &quot;/assets/**&quot;,\n                        &quot;/javascript/**&quot;);\n    }\n}\n</code></pre>\n<h4>dashboar.html</h4>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org/&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n\n    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; sizes=&quot;32x32&quot; href=&quot;/assets/administrator/new-resized-logo.png&quot;&gt;\n    &lt;link rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; sizes=&quot;16x16&quot; href=&quot;/assets/administrator/new-resized-logo.png&quot;&gt;\n    &lt;link rel=&quot;manifest&quot; href=&quot;/site.webmanifest&quot;&gt;\n    &lt;link rel=&quot;mask-icon&quot; href=&quot;/safari-pinned-tab.svg&quot; color=&quot;#5bbad5&quot;&gt;\n    &lt;meta name=&quot;msapplication-TileColor&quot; content=&quot;#da532c&quot;&gt;\n    &lt;meta name=&quot;theme-color&quot; content=&quot;#ffffff&quot;&gt;\n\n   \n\n    &lt;!--Bootstrap CDN --&gt;\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js&quot; integrity=&quot;sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n\n    &lt;!-- CSS Link --&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/css/patients/PatientDashboard.css}&quot;&gt;\n    \n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/admin-system/src/main/resources/static/css/patients/PatientDashboard.css&quot;&gt;\n\n&lt;/head&gt;\n    &lt;body&gt;\n        &lt;!-- Navbar --&gt;\n        &lt;nav class=&quot;navbar sticky-top navbar-expand-sm navbar-dark bg-danger opacity-100&quot;&gt;\n            &lt;div class=&quot;container-sm&quot;&gt;\n                &lt;a class=&quot;navbar-brand&quot; href=&quot;/patient/dashboard&quot;&gt;\n                    &lt;img th:src=&quot;@{/assets/patients/logo.png}&quot; width=&quot;85&quot; height=&quot;85&quot; alt=&quot;Logo&quot;&gt;\n                &lt;/a&gt;\n                    \n                &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-bs-toggle=&quot;collapse&quot; data-bs-target=&quot;#navbarNavDropdown&quot; aria-controls=&quot;navbarNavDropdown&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\n                    &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\n                &lt;/button&gt;  \n                \n                &lt;div class=&quot; collapse navbar-collapse&quot; id=&quot;navbarNavDropdown&quot;&gt;\n                    &lt;ul class=&quot;navbar-nav ms-auto &quot;&gt;\n                    &lt;li class=&quot;nav-item&quot;&gt;\n                        &lt;a class=&quot;nav-link shadow-text mx-2&quot; aria-current=&quot;page&quot; href=&quot;#profile&quot;&gt;PROFILE&lt;/a&gt;\n                    &lt;/li&gt;\n                    &lt;li class=&quot;nav-item&quot;&gt;\n                        &lt;a class=&quot;nav-link shadow-text mx-2&quot; href=&quot;#record&quot;&gt;RECORDS&lt;/a&gt;\n                    &lt;/li&gt;\n                        &lt;a class=&quot;button-logout shadow-text mx-3&quot; th:href=&quot;@{/logout}&quot;&gt;LOGOUT&lt;/a&gt;\n                    &lt;/ul&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/nav&gt;\n        &lt;!-- Navbar --&gt;\n\n        &lt;!-- Main dashboard --&gt;\n        \n        &lt;div class=&quot;container-md mt-5 mb-5&quot;&gt;\n            &lt;div class=&quot;header&quot;&gt;\n                &lt;h1 class=&quot;text-center fw-bolder display-4 p-5&quot;&gt;Welcome to&lt;br&gt;Patient Dashboard&lt;/h1&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;!-- Tables --&gt;\n        &lt;div class=&quot;container-md mt-5 w-auto&quot; id=&quot;profile&quot;&gt;\n            &lt;table class=&quot;table table-borderless table-hover&quot;&gt;\n                &lt;thead class=&quot;thead-dark&quot;&gt;\n                    &lt;tr&gt;\n                        &lt;th class=&quot;text-center fw-bold h2&quot; colspan=&quot;4&quot; scope=&quot;col&quot;&gt;Basic Information &lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot; &gt;First Name&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.firstName}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Middle Name&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.middleName}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Last Name&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.lastName}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Suffix&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.suffix}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Date of Birth&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.birthDate}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Gender&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.gender}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Civil Status&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.civilStatus}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Physical Disability or Condition&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.physicalDisability}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n\n        &lt;div class=&quot;container-md mt-2 w-auto&quot;&gt;\n            &lt;table class=&quot;table table-borderless table-hover&quot;&gt;\n                &lt;thead class=&quot;thead-dark&quot;&gt;\n                    &lt;tr&gt;\n                        &lt;th class=&quot;text-center fw-bold h2&quot; colspan=&quot;4&quot; scope=&quot;col&quot;&gt;Contact Information&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Email Address&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.emailAddress}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Complete Address&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.homeAddress}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=&quot;text-start fw-bolder w-25 fs-5&quot;&gt;Phone Number&lt;/td&gt;\n                        &lt;td class=&quot;text-center w-25 fs-5&quot; th:text=&quot;${data.contactNumber}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n        &lt;!-- Tables --&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h4>pom.xml</h4>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.capstone.dentalclinic&lt;/groupId&gt;\n    &lt;artifactId&gt;admin&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;admin&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Am I missing something ? Please Enlighten me.</p>\n<p>I tried and watch many tutorials but still can fix it.</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1680452064,"post_id":75912894,"comment_id":133897242,"body_markdown":"The error is not related to your question. This question should include more details and clarify the problem.","body":"The error is not related to your question. This question should include more details and clarify the problem."},{"owner":{"account_id":612195,"reputation":1354,"user_id":338456,"display_name":"Ricardo Saracino"},"score":0,"creation_date":1680457500,"post_id":75912894,"comment_id":133898008,"body_markdown":"Funny that the person who answered it had no problem .. thanks for nothing @RomanC","body":"Funny that the person who answered it had no problem .. thanks for nothing @RomanC"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1680634796,"post_id":75912894,"comment_id":133930727,"body_markdown":"But the answer is wrong -DTOs separate from the entities is advisable, especially if you need to version public REST API, but you&#39;ll still have issues if you ever regenerate your entities. Regenerating entities is itself a problem, and not something you should be doing once an app is stable - these are objects used by your application, so just adding removing properties is bound to cause issues for the app; your DTO and how its mapped will similarly need to change. If making schema changes, you need to update the entities similarly to ensure the application is compatible with them","body":"But the answer is wrong -DTOs separate from the entities is advisable, especially if you need to version public REST API, but you&#39;ll still have issues if you ever regenerate your entities. Regenerating entities is itself a problem, and not something you should be doing once an app is stable - these are objects used by your application, so just adding removing properties is bound to cause issues for the app; your DTO and how its mapped will similarly need to change. If making schema changes, you need to update the entities similarly to ensure the application is compatible with them"}],"answers":[{"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680449628,"creation_date":1680449628,"answer_id":75912975,"question_id":75912894,"body_markdown":"Thats the Wrong way! you must use DTO for that!\r\n\r\nfor Example you have:\r\n\r\n    @Entity\r\n    @Table(name = &quot;CaribbeanCountry&quot;, schema = &quot;table&quot;)\r\n    public class CaribbeanCountryEntity {\r\n      private String county;\r\n      private String city;\r\n      ...\r\n    }\r\n\r\nThen you have a DTO like:\r\n\r\n     public class CaribbeanCountryEntityDTO {\r\n          private String county;\r\n          private String city;\r\n          ...\r\n          private String customthink;\r\n\r\n        }\r\n\r\nAfter that you must Copy (for that you can use a Mapper like modelMapper) Object to the DTO object und you must then return the DTO custom object.","title":"Extened jakarta.persistence.Entity for CrudRepository","body":"<p>Thats the Wrong way! you must use DTO for that!</p>\n<p>for Example you have:</p>\n<pre><code>@Entity\n@Table(name = &quot;CaribbeanCountry&quot;, schema = &quot;table&quot;)\npublic class CaribbeanCountryEntity {\n  private String county;\n  private String city;\n  ...\n}\n</code></pre>\n<p>Then you have a DTO like:</p>\n<pre><code> public class CaribbeanCountryEntityDTO {\n      private String county;\n      private String city;\n      ...\n      private String customthink;\n\n    }\n</code></pre>\n<p>After that you must Copy (for that you can use a Mapper like modelMapper) Object to the DTO object und you must then return the DTO custom object.</p>\n"}],"owner":{"account_id":612195,"reputation":1354,"user_id":338456,"display_name":"Ricardo Saracino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75912975,"answer_count":1,"score":-1,"last_activity_date":1680603301,"creation_date":1680448769,"question_id":75912894,"body_markdown":"I am autogenerating my Entities and i want to extend them for customization so i can regenerate them if someone modifies the schema but i cant find anyone doing this. Is this possible? Is there a better way to do this? \r\n\r\n``` Java\r\n@Entity\r\n@Table(name = &quot;CaribbeanCountry&quot;, schema = &quot;table&quot;)\r\npublic class CaribbeanCountryEntity {\r\n // AUTO GENERATED\r\n}\r\n\r\npublic class CaribbeanCountry extends CaribbeanCountryEntity {\r\n}\r\n\r\n\r\npublic interface CaribbeanCountryRepository extends CrudRepository&lt;CaribbeanCountry, Long&gt; {\r\n}\r\n```\r\n\r\n\r\nI found a good post using the recommendations from @Sametcey\r\n\r\nSpring Boot  Map Entity to DTO using ModelMapper\r\nhttps://www.geeksforgeeks.org/spring-boot-map-entity-to-dto-using-modelmapper/\r\n\r\n","title":"Extened jakarta.persistence.Entity for CrudRepository","body":"<p>I am autogenerating my Entities and i want to extend them for customization so i can regenerate them if someone modifies the schema but i cant find anyone doing this. Is this possible? Is there a better way to do this?</p>\n<pre><code>@Entity\n@Table(name = &quot;CaribbeanCountry&quot;, schema = &quot;table&quot;)\npublic class CaribbeanCountryEntity {\n // AUTO GENERATED\n}\n\npublic class CaribbeanCountry extends CaribbeanCountryEntity {\n}\n\n\npublic interface CaribbeanCountryRepository extends CrudRepository&lt;CaribbeanCountry, Long&gt; {\n}\n</code></pre>\n<p>I found a good post using the recommendations from @Sametcey</p>\n<p>Spring Boot  Map Entity to DTO using ModelMapper\n<a href=\"https://www.geeksforgeeks.org/spring-boot-map-entity-to-dto-using-modelmapper/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/spring-boot-map-entity-to-dto-using-modelmapper/</a></p>\n"},{"tags":["java","rest","github"],"owner":{"account_id":6893638,"reputation":558,"user_id":5296281,"display_name":"Mukesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680603299,"creation_date":1680598217,"question_id":75927332,"body_markdown":"We have a requirement where we have to update version of any used dependency for a number of container due to the security vulnerabilities. Instead of doing this activity manually for a all containers, we want to automate this using GitHub API. \r\n\r\nWe can push the changes of the dependency version in the github repository using GitHub API.","title":"How to use GitHub API to update the code dependency in the Maven pom.xml file","body":"<p>We have a requirement where we have to update version of any used dependency for a number of container due to the security vulnerabilities. Instead of doing this activity manually for a all containers, we want to automate this using GitHub API.</p>\n<p>We can push the changes of the dependency version in the github repository using GitHub API.</p>\n"},{"tags":["java","date","datediff","duration","java.util.date"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":3,"creation_date":1680261744,"post_id":75897771,"comment_id":133872287,"body_markdown":"Why are you using the obsolete `Date` class and not `LocalDate`?  Edit your question to include a [mre] that we can copy into our IDE, compile, and run hundreds of tests to determine the cause of the problem.","body":"Why are you using the obsolete <code>Date</code> class and not <code>LocalDate</code>?  Edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can copy into our IDE, compile, and run hundreds of tests to determine the cause of the problem."},{"owner":{"account_id":26741668,"reputation":17,"user_id":20342366,"display_name":"dannyph"},"score":0,"creation_date":1680263600,"post_id":75897771,"comment_id":133872709,"body_markdown":"Its for a project for my uni and I am obliged to use the Date  format.I am well aware that LocalDate is far more useful. Also, my project uses 7 classes with each one intertwined so im having a rough time creating a minimal reproducible example.","body":"Its for a project for my uni and I am obliged to use the Date  format.I am well aware that LocalDate is far more useful. Also, my project uses 7 classes with each one intertwined so im having a rough time creating a minimal reproducible example."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1680267373,"post_id":75897771,"comment_id":133873704,"body_markdown":"@dannyph Could you please nofify your tutor that they&#39;re using an obsolete class that was supplanted a decade ago?","body":"@dannyph Could you please nofify your tutor that they&#39;re using an obsolete class that was supplanted a decade ago?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680271820,"post_id":75897771,"comment_id":133874894,"body_markdown":"Please provide an example of Date arguments which you believe should produce a duration greater than zero days, but which are instead causing zero to be returned.","body":"Please provide an example of Date arguments which you believe should produce a duration greater than zero days, but which are instead causing zero to be returned."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680602236,"post_id":75897771,"comment_id":133922164,"body_markdown":"I cannot reproduce. When I run `int diff = computeDuration(Date.from(Instant.parse(&quot;2023-04-01T12:00:00Z&quot;)), Date.from(Instant.parse(&quot;2023-04-08T12:00:00Z&quot;)));`, I get 7 as expected.","body":"I cannot reproduce. When I run <code>int diff = computeDuration(Date.from(Instant.parse(&quot;2023-04-01T12:00:00&zwnj;&#8203;Z&quot;)), Date.from(Instant.parse(&quot;2023-04-08T12:00:00Z&quot;)));</code>, I get 7 as expected."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680602295,"post_id":75897771,"comment_id":133922177,"body_markdown":"And yes, teachers requiring their students to use `Date` in 2023 deserve to be sacked. Its really nothing useful to teach.","body":"And yes, teachers requiring their students to use <code>Date</code> in 2023 deserve to be sacked. Its really nothing useful to teach."}],"answers":[{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680262830,"creation_date":1680262830,"answer_id":75898122,"question_id":75897771,"body_markdown":"You could confirm if the diff between your from and to dates is over one day or not. If all diffs is less than one day, then **computeDuration** return 0 always.\r\n\r\nPlease check DAYS diff is expected or not in the blow codes.\r\n```\r\n public static int computeDuration(Date from, Date to){\r\n        long diffIn = Math.abs(to.getTime() - from.getTime());\r\n        int duration = (int) TimeUnit.DAYS.convert(diffIn, TimeUnit.MILLISECONDS);\r\n        return duration;\r\n    }\r\n```","title":"Java compute duration of Project and Tasks doesnt work","body":"<p>You could confirm if the diff between your from and to dates is over one day or not. If all diffs is less than one day, then <strong>computeDuration</strong> return 0 always.</p>\n<p>Please check DAYS diff is expected or not in the blow codes.</p>\n<pre><code> public static int computeDuration(Date from, Date to){\n        long diffIn = Math.abs(to.getTime() - from.getTime());\n        int duration = (int) TimeUnit.DAYS.convert(diffIn, TimeUnit.MILLISECONDS);\n        return duration;\n    }\n</code></pre>\n"}],"owner":{"account_id":26741668,"reputation":17,"user_id":20342366,"display_name":"dannyph"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680602959,"creation_date":1680260381,"question_id":75897771,"body_markdown":"I am trying to compute the duration Of each Project and each Task appointed to the Project, unfortunately it always returns 0.\r\n**computeDuration**:\r\n```public void computeProjectDuration() {\r\n\t    Date minDate = projectTasks[0].gettaskFromDate();\r\n\t    Date maxDate = projectTasks[0].gettaskEndDate();\r\n\t    for (int i = 0; i &lt; numOfTasks; ++i) {\r\n\t        if (projectTasks[i] != null &amp;&amp; projectTasks[i].gettaskEndDate() != null &amp;&amp; projectTasks[i].gettaskFromDate() != null) {\r\n\t            projectTasks[i].settaskDuration(utils.Globals.computeDuration(projectTasks[i].gettaskFromDate(), projectTasks[i].gettaskEndDate()));\r\n\t        }\r\n\t    }\r\n\t    for (int i = 0; i &lt; numOfTasks; ++i) {\r\n\t        if (projectTasks[i] != null &amp;&amp; projectTasks[i].gettaskEndDate() != null &amp;&amp; projectTasks[i].gettaskFromDate() != null) {\r\n\t            if (utils.Globals.validateDates(projectTasks[i].gettaskFromDate(), minDate)) {\r\n\t                minDate = projectTasks[i].gettaskFromDate();\r\n\t            }\r\n\t            if (utils.Globals.validateDates(maxDate, projectTasks[i].gettaskEndDate())) {\r\n\t                maxDate = projectTasks[i].gettaskEndDate();\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t    setprojectDuration(utils.Globals.computeDuration(minDate, maxDate));\r\n\t}\r\n```\r\n**utils.Globals.validateDates**:\r\n``` \r\npublic static boolean validateDates(Date from, Date to){\r\n        return from.before(to);\r\n    }\r\n``` \r\n**utils.Globals.computeDuration**:\r\n```\r\n public static int computeDuration(Date from, Date to){\r\n        long diffIn = Math.abs(to.getTime() - from.getTime());\r\n        int duration = (int) TimeUnit.DAYS.convert(diffIn, TimeUnit.MILLISECONDS);\r\n        return duration;\r\n    }\r\n```\r\nThanks in advance!","title":"Java compute duration of Project and Tasks doesnt work","body":"<p>I am trying to compute the duration Of each Project and each Task appointed to the Project, unfortunately it always returns 0.\n<strong>computeDuration</strong>:</p>\n<pre><code>        Date minDate = projectTasks[0].gettaskFromDate();\n        Date maxDate = projectTasks[0].gettaskEndDate();\n        for (int i = 0; i &lt; numOfTasks; ++i) {\n            if (projectTasks[i] != null &amp;&amp; projectTasks[i].gettaskEndDate() != null &amp;&amp; projectTasks[i].gettaskFromDate() != null) {\n                projectTasks[i].settaskDuration(utils.Globals.computeDuration(projectTasks[i].gettaskFromDate(), projectTasks[i].gettaskEndDate()));\n            }\n        }\n        for (int i = 0; i &lt; numOfTasks; ++i) {\n            if (projectTasks[i] != null &amp;&amp; projectTasks[i].gettaskEndDate() != null &amp;&amp; projectTasks[i].gettaskFromDate() != null) {\n                if (utils.Globals.validateDates(projectTasks[i].gettaskFromDate(), minDate)) {\n                    minDate = projectTasks[i].gettaskFromDate();\n                }\n                if (utils.Globals.validateDates(maxDate, projectTasks[i].gettaskEndDate())) {\n                    maxDate = projectTasks[i].gettaskEndDate();\n                }\n            }\n        }\n        setprojectDuration(utils.Globals.computeDuration(minDate, maxDate));\n    }\n</code></pre>\n<p><strong>utils.Globals.validateDates</strong>:</p>\n<pre><code>public static boolean validateDates(Date from, Date to){\n        return from.before(to);\n    }\n</code></pre>\n<p><strong>utils.Globals.computeDuration</strong>:</p>\n<pre><code> public static int computeDuration(Date from, Date to){\n        long diffIn = Math.abs(to.getTime() - from.getTime());\n        int duration = (int) TimeUnit.DAYS.convert(diffIn, TimeUnit.MILLISECONDS);\n        return duration;\n    }\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","backend","http-status-code-500","spring-boot-gradle-plugin"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1680572466,"post_id":75924600,"comment_id":133917392,"body_markdown":"I will assume that your client is a javafx app. Did you try without fx? I mean with curl or postman. If it is a simple file upload from some client (angular, react, javafx, android, etc) should be easy. Also **{username}/{password}** is a bad idea!","body":"I will assume that your client is a javafx app. Did you try without fx? I mean with curl or postman. If it is a simple file upload from some client (angular, react, javafx, android, etc) should be easy. Also <b>{username}/{password}</b> is a bad idea!"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680573863,"post_id":75924600,"comment_id":133917547,"body_markdown":"Just a fast view but servers don&#39;t ........,. javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)","body":"Just a fast view but servers don&#39;t ........,. javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavi&zwnj;&#8203;or.ButtonBehavior.mo&zwnj;&#8203;useReleased(ButtonBe&zwnj;&#8203;havior.java:207)"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1680603264,"post_id":75924600,"comment_id":133922417,"body_markdown":"You posted the client exception, but there should be one on the server as well - which is where the problem actually occurred (the `StorageService` class) - so that is the more relevant one.","body":"You posted the client exception, but there should be one on the server as well - which is where the problem actually occurred (the <code>StorageService</code> class) - so that is the more relevant one."}],"owner":{"account_id":28109607,"reputation":29,"user_id":21477593,"display_name":"Micu Bogdan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680602655,"creation_date":1680567326,"question_id":75924600,"body_markdown":" I&#39;m trying to upload a file to a springboot server and the upload feature is throwing this stack trace: \r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n    \tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n    \tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n    \tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\r\n    \tat javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\r\n    \tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n    \tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n    \tat javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat javafx.base@19.0.2.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n    \tat javafx.fxml@19.0.2.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n    \tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n    \t... 50 more\r\n    Caused by: jakarta.ws.rs.InternalServerErrorException: HTTP 500 Internal Server Error\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.convertToException(JerseyInvocation.java:960)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.translate(JerseyInvocation.java:794)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$2(JerseyInvocation.java:687)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:205)\r\n    \tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:686)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:461)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:357)\r\n    \tat client.utils.ServerUtils.internalPostRequest(ServerUtils.java:77)\r\n    \tat client.utils.ServerUtils.saveFile(ServerUtils.java:266)\r\n    \tat client.scenes.MediaPlayerCtrl.save(MediaPlayerCtrl.java:117)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \t... 57 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    Caused by: jakarta.ws.rs.InternalServerErrorException: HTTP 500 Internal Server Error\r\n\r\nFrom what I&#39;m getting the error happens in ServerUtils.internalPostRequest(ServerUtils.java:77) and ServerUtils.saveFile(ServerUtils.java:266) as the MediaPlayerCtrl.save(MediaPlayerCtrl.java:117) is simply calling the saveFile() method. I think this leads back to the FileController on the server, but I have no idea what might be causing the error. I&#39;ll leave the methods I referenced earlier down below. \r\n```\r\nprivate &lt;T&gt; T internalPostRequest(String path, Entity send, GenericType&lt;T&gt; retType) {\r\n        return ClientBuilder.newClient(new ClientConfig())\r\n                .target(getServer()).path(path)\r\n                .request(APPLICATION_JSON)\r\n                .accept(APPLICATION_JSON)\r\n                .post(send, retType);\r\n    }\r\n\r\npublic void saveFile(File file){\r\n        internalPostRequest(&quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/add&quot;,\r\n                Entity.entity(file, APPLICATION_JSON), new GenericType&lt;&gt;(){});\r\n    }\r\n\r\n```\r\n```\r\n@SpringBootApplication\r\n@RestController\r\n@RequestMapping(value = {&quot;/secure/{username}/{password}/file&quot;, &quot;/secure/{username}/file&quot;})\r\npublic class FileController {\r\n    @Autowired\r\n    private StorageService service;\r\n    @PostMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException     {\r\n        String uploadFile = service.uploadFile(file);\r\n        return ResponseEntity.status(HttpStatus.OK)\r\n                .body(uploadFile);\r\n    }\r\n```\r\n```\r\n@Service\r\npublic class StorageService {\r\n    @Autowired\r\n    private StorageRepository repository;\r\n\r\n    public String uploadFile(MultipartFile file) throws IOException {\r\n        FileData fileData = repository.save(new FileData(file.getOriginalFilename(),\r\n                        file.getContentType(), compressFile(file.getBytes())));\r\n        return &quot;File uploaded succesfully: &quot;+ file.getOriginalFilename();\r\n    }\r\n\r\n    public static byte[] compressFile(byte[] data) {\r\n        Deflater deflater = new Deflater();\r\n        deflater.setLevel(Deflater.BEST_COMPRESSION);\r\n        deflater.setInput(data);\r\n        deflater.finish();\r\n\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream(data.length);\r\n        byte[] tmp = new byte[4*1024];\r\n        while (!deflater.finished()) {\r\n            int size = deflater.deflate(tmp);\r\n            outputStream.write(tmp, 0, size);\r\n        }\r\n        try {\r\n            outputStream.close();\r\n        } catch (Exception ignored) {\r\n        }\r\n        return outputStream.toByteArray();\r\n    }\r\n\r\n    public String getType(String fileName){\r\n        Optional&lt;FileData&gt; dbFileData = repository.findByName(fileName);\r\n        if (dbFileData.isPresent()) {\r\n            return dbFileData.get().getType();\r\n        } else {\r\n            return &quot;File not found: &quot; + fileName;\r\n        }\r\n    }\r\n```\r\n\r\n\r\nI tried going down the rabbit hole as deep as I could, but I didn&#39;t really notice anything going wrong. For context: this is supposed to handle media files - photo (jpg, png) and video(mp3, mp4, wav etc.)","title":"I&#39;m getting an internal server 500 error and I don&#39;t know how to debug it","body":"<p>I'm trying to upload a file to a springboot server and the upload feature is throwing this stack trace:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\n    at javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.base@19.0.2.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@19.0.2.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n    ... 50 more\nCaused by: jakarta.ws.rs.InternalServerErrorException: HTTP 500 Internal Server Error\n    at org.glassfish.jersey.client.JerseyInvocation.convertToException(JerseyInvocation.java:960)\n    at org.glassfish.jersey.client.JerseyInvocation.translate(JerseyInvocation.java:794)\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$invoke$2(JerseyInvocation.java:687)\n    at org.glassfish.jersey.client.JerseyInvocation.call(JerseyInvocation.java:697)\n    at org.glassfish.jersey.client.JerseyInvocation.lambda$runInScope$3(JerseyInvocation.java:691)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:205)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:390)\n    at org.glassfish.jersey.client.JerseyInvocation.runInScope(JerseyInvocation.java:691)\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:686)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:461)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:357)\n    at client.utils.ServerUtils.internalPostRequest(ServerUtils.java:77)\n    at client.utils.ServerUtils.saveFile(ServerUtils.java:266)\n    at client.scenes.MediaPlayerCtrl.save(MediaPlayerCtrl.java:117)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 57 more\nCaused by: java.lang.reflect.InvocationTargetException\nCaused by: jakarta.ws.rs.InternalServerErrorException: HTTP 500 Internal Server Error\n</code></pre>\n<p>From what I'm getting the error happens in ServerUtils.internalPostRequest(ServerUtils.java:77) and ServerUtils.saveFile(ServerUtils.java:266) as the MediaPlayerCtrl.save(MediaPlayerCtrl.java:117) is simply calling the saveFile() method. I think this leads back to the FileController on the server, but I have no idea what might be causing the error. I'll leave the methods I referenced earlier down below.</p>\n<pre><code>private &lt;T&gt; T internalPostRequest(String path, Entity send, GenericType&lt;T&gt; retType) {\n        return ClientBuilder.newClient(new ClientConfig())\n                .target(getServer()).path(path)\n                .request(APPLICATION_JSON)\n                .accept(APPLICATION_JSON)\n                .post(send, retType);\n    }\n\npublic void saveFile(File file){\n        internalPostRequest(&quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/add&quot;,\n                Entity.entity(file, APPLICATION_JSON), new GenericType&lt;&gt;(){});\n    }\n\n</code></pre>\n<pre><code>@SpringBootApplication\n@RestController\n@RequestMapping(value = {&quot;/secure/{username}/{password}/file&quot;, &quot;/secure/{username}/file&quot;})\npublic class FileController {\n    @Autowired\n    private StorageService service;\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;?&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException     {\n        String uploadFile = service.uploadFile(file);\n        return ResponseEntity.status(HttpStatus.OK)\n                .body(uploadFile);\n    }\n</code></pre>\n<pre><code>@Service\npublic class StorageService {\n    @Autowired\n    private StorageRepository repository;\n\n    public String uploadFile(MultipartFile file) throws IOException {\n        FileData fileData = repository.save(new FileData(file.getOriginalFilename(),\n                        file.getContentType(), compressFile(file.getBytes())));\n        return &quot;File uploaded succesfully: &quot;+ file.getOriginalFilename();\n    }\n\n    public static byte[] compressFile(byte[] data) {\n        Deflater deflater = new Deflater();\n        deflater.setLevel(Deflater.BEST_COMPRESSION);\n        deflater.setInput(data);\n        deflater.finish();\n\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream(data.length);\n        byte[] tmp = new byte[4*1024];\n        while (!deflater.finished()) {\n            int size = deflater.deflate(tmp);\n            outputStream.write(tmp, 0, size);\n        }\n        try {\n            outputStream.close();\n        } catch (Exception ignored) {\n        }\n        return outputStream.toByteArray();\n    }\n\n    public String getType(String fileName){\n        Optional&lt;FileData&gt; dbFileData = repository.findByName(fileName);\n        if (dbFileData.isPresent()) {\n            return dbFileData.get().getType();\n        } else {\n            return &quot;File not found: &quot; + fileName;\n        }\n    }\n</code></pre>\n<p>I tried going down the rabbit hole as deep as I could, but I didn't really notice anything going wrong. For context: this is supposed to handle media files - photo (jpg, png) and video(mp3, mp4, wav etc.)</p>\n"},{"tags":["java","gradle","model-view-controller","spotbugs"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1680603408,"post_id":75928073,"comment_id":133922453,"body_markdown":"`ExplosionView` has a reference to `Explosion`, and `Explosion` is not immutable, it exposes `List&lt;Entity&gt; explode` through the getter. If you want to make it immutable, one option would be to keep the relationship between  ExplosionView  and Explosion  unidirectional","body":"<code>ExplosionView</code> has a reference to <code>Explosion</code>, and <code>Explosion</code> is not immutable, it exposes <code>List&lt;Entity&gt; explode</code> through the getter. If you want to make it immutable, one option would be to keep the relationship between  ExplosionView  and Explosion  unidirectional"},{"owner":{"account_id":21877588,"reputation":13,"user_id":16166407,"display_name":"Niccol&#242; Bertozzi"},"score":0,"creation_date":1680604120,"post_id":75928073,"comment_id":133922625,"body_markdown":"@EmanuelTrandafir how can i make unidirectional comunication? I need data from controller for draw in view.","body":"@EmanuelTrandafir how can i make unidirectional comunication? I need data from controller for draw in view."}],"owner":{"account_id":21877588,"reputation":13,"user_id":16166407,"display_name":"Niccol&#242; Bertozzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680602627,"creation_date":1680602627,"question_id":75928073,"body_markdown":"I have an mvc structure for my projecy but spotbugs give me this error  \r\n(M V EI2: new it.unibo.unibomber.game.view.ExplosionView(Explosion) may expose internal representation by storing an externally mutable object into ExplosionView.controller  At ExplosionView.java:[line 31])                                                  \r\nController:\r\n```\r\npublic final class Explosion implements GameLoop {\r\n    private final ExplosionView view;\r\n    private final ExplosionImpl model;\r\n    private List&lt;Entity&gt; explode;\r\n\r\n    public List&lt;Entity&gt; getExplode() {\r\n        return new ArrayList&lt;&gt;(explode);\r\n    }\r\n\r\n    public Explosion() {\r\n        view = new ExplosionView(this);\r\n        model = new ExplosionImpl();\r\n        explode = new ArrayList&lt;&gt;();\r\n    }\r\n```\r\nView:\r\n```\r\npublic final class ExplosionView implements GameLoop {\r\n    private final Explosion controller;\r\n\r\n    public ExplosionView(final Explosion controller) {\r\n        this.controller = controller;\r\n    }\r\n```\r\nHow can i do?? ","title":"May expose internal representation by storing an externally mutable object","body":"<p>I have an mvc structure for my projecy but spotbugs give me this error<br />\n(M V EI2: new it.unibo.unibomber.game.view.ExplosionView(Explosion) may expose internal representation by storing an externally mutable object into ExplosionView.controller  At ExplosionView.java:[line 31])<br />\nController:</p>\n<pre><code>public final class Explosion implements GameLoop {\n    private final ExplosionView view;\n    private final ExplosionImpl model;\n    private List&lt;Entity&gt; explode;\n\n    public List&lt;Entity&gt; getExplode() {\n        return new ArrayList&lt;&gt;(explode);\n    }\n\n    public Explosion() {\n        view = new ExplosionView(this);\n        model = new ExplosionImpl();\n        explode = new ArrayList&lt;&gt;();\n    }\n</code></pre>\n<p>View:</p>\n<pre><code>public final class ExplosionView implements GameLoop {\n    private final Explosion controller;\n\n    public ExplosionView(final Explosion controller) {\n        this.controller = controller;\n    }\n</code></pre>\n<p>How can i do??</p>\n"},{"tags":["java","docker","ffmpeg"],"owner":{"account_id":978328,"reputation":16479,"user_id":998696,"accept_rate":85,"display_name":"Snake Eyes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680602555,"creation_date":1680602555,"question_id":75928052,"body_markdown":"I have Dockerfile:\r\n\r\n```\r\nFROM fedora:34\r\n\r\nARG VLC_UID=&quot;1000&quot;\r\nARG VLC_GID=&quot;1000&quot;\r\n\r\nENV HOME=&quot;/data&quot;\r\n\r\n\r\nRUN groupadd -g &quot;${VLC_GID}&quot; vlc &amp;&amp; \\\r\n    useradd -m -d /data -s /bin/sh -u &quot;${VLC_UID}&quot; -g &quot;${VLC_GID}&quot; vlc &amp;&amp; \\\r\n    dnf upgrade -y &amp;&amp; \\\r\n    rpm -ivh &quot;https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-34.noarch.rpm&quot; &amp;&amp; \\\r\n    dnf upgrade -y &amp;&amp; \\\r\n    dnf install -y vlc &amp;&amp; \\\r\n\tdnf install -y libaacs libbdplus &amp;&amp; \\\r\n\tdnf install -y libbluray-bdj &amp;&amp; \\\r\n    dnf clean all\r\n\r\nUSER &quot;vlc&quot;\r\n\r\nWORKDIR &quot;/data&quot;\r\n\r\nVOLUME [&quot;/data&quot;]\r\n\r\nENTRYPOINT [&quot;/usr/bin/cvlc&quot;]\r\n```\r\n\r\nAnd then run:\r\n\r\n```\r\ndocker run -d -v &quot;d:\\path&quot;:/data -p 8787:8787 myrepo/myvlc:v1 file:///data/Sample.mkv --sout &#39;#transcode {vcodec=h264,acodec=mp3,samplerate=44100}:std{access=http,mux=ffmpeg{mux=flv},dst=0.0.0.0:8787/stream.flv}&#39;\r\n```\r\n\r\nI get error:\r\n\r\n```\r\n2023-04-04 12:19:11 [000055933c090060] vlcpulse audio output error: PulseAudio server connection failure: Connection refused\r\n2023-04-04 12:19:11 [000055933c09d680] dbus interface error: Failed to connect to the D-Bus session daemon: Unable to autolaunch a dbus-daemon without a $DISPLAY for X11\r\n2023-04-04 12:19:11 [000055933c09d680] main interface error: no suitable interface module\r\n2023-04-04 12:19:11 [000055933bf26ad0] main libvlc error: interface &quot;dbus,none&quot; initialization failed\r\n2023-04-04 12:19:11 [000055933c08d7a0] main interface error: no suitable interface module\r\n2023-04-04 12:19:11 [000055933bf26ad0] main libvlc error: interface &quot;globalhotkeys,none&quot; initialization failed\r\n2023-04-04 12:19:11 [000055933c08d7a0] dummy interface: using the dummy interface module...\r\n2023-04-04 12:19:11 [00007f3b84001250] stream_out_standard stream out error: no mux specified or found by extension\r\n2023-04-04 12:19:11 [00007f3b84000f30] main stream output error: stream chain failed for `standard{mux=&quot;&quot;,access=&quot;&quot;,dst=&quot;&#39;#transcode&quot;}&#39;\r\n2023-04-04 12:19:11 [00007f3b90000c80] main input error: cannot start stream output instance, aborting\r\n2023-04-04 12:19:11 [00007f3b7c001990] stream_out_standard stream out error: no mux specified or found by extension\r\n2023-04-04 12:19:11 [00007f3b7c001690] main stream output error: stream chain failed for `standard{mux=&quot;&quot;,access=&quot;&quot;,dst=&quot;&#39;#transcode&quot;}&#39;\r\n2023-04-04 12:19:11 [00007f3b90000c80] main input error: cannot start stream output instance, aborting\r\n```\r\n\r\nI mention that I&#39;m using cvlc and I can&#39;t stream that mkv file.\r\n\r\nI tried as well `--sout &#39;#transcode{scodec=none}:http{mux=ffmpeg{mux=flv},dst=:8787/}&#39;` but same errors.\r\n\r\nHow can I solve it ?","title":"Cannot stream video from VLC docker","body":"<p>I have Dockerfile:</p>\n<pre><code>FROM fedora:34\n\nARG VLC_UID=&quot;1000&quot;\nARG VLC_GID=&quot;1000&quot;\n\nENV HOME=&quot;/data&quot;\n\n\nRUN groupadd -g &quot;${VLC_GID}&quot; vlc &amp;&amp; \\\n    useradd -m -d /data -s /bin/sh -u &quot;${VLC_UID}&quot; -g &quot;${VLC_GID}&quot; vlc &amp;&amp; \\\n    dnf upgrade -y &amp;&amp; \\\n    rpm -ivh &quot;https://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-34.noarch.rpm&quot; &amp;&amp; \\\n    dnf upgrade -y &amp;&amp; \\\n    dnf install -y vlc &amp;&amp; \\\n    dnf install -y libaacs libbdplus &amp;&amp; \\\n    dnf install -y libbluray-bdj &amp;&amp; \\\n    dnf clean all\n\nUSER &quot;vlc&quot;\n\nWORKDIR &quot;/data&quot;\n\nVOLUME [&quot;/data&quot;]\n\nENTRYPOINT [&quot;/usr/bin/cvlc&quot;]\n</code></pre>\n<p>And then run:</p>\n<pre><code>docker run -d -v &quot;d:\\path&quot;:/data -p 8787:8787 myrepo/myvlc:v1 file:///data/Sample.mkv --sout '#transcode {vcodec=h264,acodec=mp3,samplerate=44100}:std{access=http,mux=ffmpeg{mux=flv},dst=0.0.0.0:8787/stream.flv}'\n</code></pre>\n<p>I get error:</p>\n<pre><code>2023-04-04 12:19:11 [000055933c090060] vlcpulse audio output error: PulseAudio server connection failure: Connection refused\n2023-04-04 12:19:11 [000055933c09d680] dbus interface error: Failed to connect to the D-Bus session daemon: Unable to autolaunch a dbus-daemon without a $DISPLAY for X11\n2023-04-04 12:19:11 [000055933c09d680] main interface error: no suitable interface module\n2023-04-04 12:19:11 [000055933bf26ad0] main libvlc error: interface &quot;dbus,none&quot; initialization failed\n2023-04-04 12:19:11 [000055933c08d7a0] main interface error: no suitable interface module\n2023-04-04 12:19:11 [000055933bf26ad0] main libvlc error: interface &quot;globalhotkeys,none&quot; initialization failed\n2023-04-04 12:19:11 [000055933c08d7a0] dummy interface: using the dummy interface module...\n2023-04-04 12:19:11 [00007f3b84001250] stream_out_standard stream out error: no mux specified or found by extension\n2023-04-04 12:19:11 [00007f3b84000f30] main stream output error: stream chain failed for `standard{mux=&quot;&quot;,access=&quot;&quot;,dst=&quot;'#transcode&quot;}'\n2023-04-04 12:19:11 [00007f3b90000c80] main input error: cannot start stream output instance, aborting\n2023-04-04 12:19:11 [00007f3b7c001990] stream_out_standard stream out error: no mux specified or found by extension\n2023-04-04 12:19:11 [00007f3b7c001690] main stream output error: stream chain failed for `standard{mux=&quot;&quot;,access=&quot;&quot;,dst=&quot;'#transcode&quot;}'\n2023-04-04 12:19:11 [00007f3b90000c80] main input error: cannot start stream output instance, aborting\n</code></pre>\n<p>I mention that I'm using cvlc and I can't stream that mkv file.</p>\n<p>I tried as well <code>--sout '#transcode{scodec=none}:http{mux=ffmpeg{mux=flv},dst=:8787/}'</code> but same errors.</p>\n<p>How can I solve it ?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1671988810,"post_id":74913894,"comment_id":132204775,"body_markdown":"It looks as if your Java fields and getters (and setters) do not follow the [JavaBeans naming conventions](https://stackoverflow.com/q/1991316/12567365). If your Thymeleaf uses `${EmpPrjCnt.fName}` then it will assume the related Java getter is `getFName` - note that capital `F`. But as you show in the question, your actual Java code uses `getfName()`. Fix your Java code so it follows the naming conventions. This may be necessary but not sufficient - there may be additional issues hiding behind this one...","body":"It looks as if your Java fields and getters (and setters) do not follow the <a href=\"https://stackoverflow.com/q/1991316/12567365\">JavaBeans naming conventions</a>. If your Thymeleaf uses <code>${EmpPrjCnt.fName}</code> then it will assume the related Java getter is <code>getFName</code> - note that capital <code>F</code>. But as you show in the question, your actual Java code uses <code>getfName()</code>. Fix your Java code so it follows the naming conventions. This may be necessary but not sufficient - there may be additional issues hiding behind this one..."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1671988907,"post_id":74913894,"comment_id":132204787,"body_markdown":"Does this answer your question? [Confused about naming of JavaBean properties, with respect to getters and setters](https://stackoverflow.com/questions/8969112/confused-about-naming-of-javabean-properties-with-respect-to-getters-and-setter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8969112/confused-about-naming-of-javabean-properties-with-respect-to-getters-and-setter\">Confused about naming of JavaBean properties, with respect to getters and setters</a>"},{"owner":{"account_id":1491025,"reputation":197,"user_id":1398105,"accept_rate":0,"display_name":"SantoshKumar"},"score":0,"creation_date":1671989898,"post_id":74913894,"comment_id":132204933,"body_markdown":"@Andrew,thanks for your reply. employeeProjectCount.get(1).getfName() is giving me the correct result in controller.","body":"@Andrew,thanks for your reply. employeeProjectCount.get(1).getfName() is giving me the correct result in controller."},{"owner":{"account_id":1491025,"reputation":197,"user_id":1398105,"accept_rate":0,"display_name":"SantoshKumar"},"score":0,"creation_date":1671991476,"post_id":74913894,"comment_id":132205168,"body_markdown":"I modified naming conventions as you mentioned but result is same.","body":"I modified naming conventions as you mentioned but result is same."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1671992152,"post_id":74913894,"comment_id":132205275,"body_markdown":"&quot;_...necessary but not sufficient..._&quot;","body":"&quot;<i>...necessary but not sufficient...</i>&quot;"},{"owner":{"account_id":1491025,"reputation":197,"user_id":1398105,"accept_rate":0,"display_name":"SantoshKumar"},"score":0,"creation_date":1671992234,"post_id":74913894,"comment_id":132205293,"body_markdown":"what else could cause headache for us?","body":"what else could cause headache for us?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1671992306,"post_id":74913894,"comment_id":132205299,"body_markdown":"Also, show us your changes, don&#39;t just say you made them. Maybe you didn&#39;t make the  right changes. We have no way of knowing.","body":"Also, show us your changes, don&#39;t just say you made them. Maybe you didn&#39;t make the  right changes. We have no way of knowing."},{"owner":{"account_id":1491025,"reputation":197,"user_id":1398105,"accept_rate":0,"display_name":"SantoshKumar"},"score":0,"creation_date":1671993267,"post_id":74913894,"comment_id":132205459,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250646/discussion-between-santoshkumar-and-andrewjames).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250646/discussion-between-santoshkumar-and-andrewjames\">continue this discussion in chat</a>."}],"owner":{"account_id":1491025,"reputation":197,"user_id":1398105,"accept_rate":0,"display_name":"SantoshKumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680602295,"creation_date":1671978736,"question_id":74913894,"body_markdown":"I&#39;m having hardtime to access model attribute values in the view using thymeleaf.\r\n\r\n                &lt;h4&gt;Employees per Project&lt;/h4&gt;\r\n\t\t\t\t&lt;table class=&quot;table table-bordered table-striped&quot;&gt;\r\n\t\t\t\t\t&lt;thead class=&quot;thead-dark&quot;&gt;\r\n\t\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t\t&lt;th&gt; FirstName&lt;span&gt;&lt;/span&gt;&lt;/th&gt;\r\n\t\t\t\t\t\t\t&lt;th&gt; LastName&lt;/th&gt;\r\n\t\t\t\t\t\t\t&lt;th&gt;Projects Count&lt;/th&gt;\r\n\t\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t\t&lt;/thead&gt;\r\n\t\t\t\t\t&lt;tbody&gt;\r\n\t\t\t\t\t\t&lt;tr th:each=&quot; EmpPrjCnt : ${employeeProjectCount} &quot;&gt;\r\n\t\t\t\t\t\t\t&lt;td th:text=&quot;${EmpPrjCnt.fName}&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t\t\t\t&lt;td th:text=&quot;${EmpPrjCnt.lname}&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t\t\t\t&lt;td th:text=&quot;${EmpPrjCnt.Pc}&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t\t&lt;/tbody&gt;\r\n\t\t\t\t&lt;/table&gt;\r\n\t\t\t&lt;/div&gt;\r\n\r\nController Code:\r\n\r\n    List&lt;projectEmployee&gt; employeeProjectCount= empRep.employeeProjects();  //.employeeProjects();\r\n\t\tSystem.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount);\r\n\t\tSystem.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount.get(1).getfName());\r\n\t\tSystem.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount.get(1).getlName());\r\n\t\tSystem.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount.get(1).getPc());\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;employeeProjectCount&quot;, employeeProjectCount);\r\n\r\n\r\nI can access all the attributes in the controller through but not in the view. Let me know where im going wrong.\r\n\r\nError:\r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    An error happened during template parsing (template: &quot;class path resource [templates/main/Home.html]&quot;)\r\n    org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/main/Home.html]&quot;)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n    \tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)\r\n    \tat org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)\r\n    \tat org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1414)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1158)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1097)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895)\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    \r\n    Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: &quot;EmpPrjCnt.fName&quot; (template: &quot;main/Home&quot; - line 70, col 12)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n    \tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n    \t... 48 more\r\n    \r\n    Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;EmpPrjCnt.fName&quot; (template: &quot;main/Home&quot; - line 70, col 12)\r\n    \tat org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)\r\n    \tat org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\r\n    \tat org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\r\n    \tat org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\r\n    \tat org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\r\n    \tat org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n    \tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n    \tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n    \tat org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\r\n    \tat org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)\r\n    \tat org.thymeleaf.engine.Model.process(Model.java:282)\r\n    \tat org.thymeleaf.engine.Model.process(Model.java:290)\r\n    \tat org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)\r\n    \tat org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)\r\n    \tat org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\r\n    \tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)\r\n    \tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)\r\n    \tat org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)\r\n    \tat org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)\r\n    \tat org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)\r\n    \tat org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)\r\n    \tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n    \t... 50 more\r\n    \r\n    Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1021E: A problem occurred whilst attempting to access the property &#39;fName&#39;: &#39;Accessing member &#39;fName&#39; is forbidden for type &#39;class jdk.proxy5.$Proxy124&#39; in Thymeleaf expressions. Blocked classes are: [com.sun.*, jakarta.*, java.*, javax.*, jdk.*, org.ietf.jgss.*, org.omg.*, org.w3c.dom.*, org.xml.sax.*, sun.*]. Allowed classes are: [java.lang.Boolean, java.lang.Byte, java.lang.Character, java.lang.Double, java.lang.Enum, java.lang.Float, java.lang.Integer, java.lang.Iterable, java.lang.Long, java.lang.Math, java.lang.Number, java.lang.Short, java.lang.String, java.math.BigDecimal, java.math.BigInteger, java.math.RoundingMode, java.time.*, java.util.ArrayList, java.util.Calendar, java.util.Calendar, java.util.Collection, java.util.Date, java.util.Enumeration, java.util.HashMap, java.util.HashSet, java.util.Iterator, java.util.LinkedHashMap, java.util.LinkedHashSet, java.util.LinkedList, java.util.List, java.util.Locale, java.util.Map, java.util.Map$Entry, java.util.Optional, java.util.Properties, java.util.Set, java.util.stream.Stream].&#39;\r\n    \tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:209)\r\n    \tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\r\n    \tat org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:405)\r\n    \tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)\r\n    \tat org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\r\n    \tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)\r\n    \tat org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)\r\n    \t... 75 more\r\n    \r\n    Caused by: org.springframework.expression.EvaluationException: Accessing member &#39;fName&#39; is forbidden for type &#39;class jdk.proxy5.$Proxy124&#39; in Thymeleaf expressions. Blocked classes are: [com.sun.*, jakarta.*, java.*, javax.*, jdk.*, org.ietf.jgss.*, org.omg.*, org.w3c.dom.*, org.xml.sax.*, sun.*]. Allowed classes are: [java.lang.Boolean, java.lang.Byte, java.lang.Character, java.lang.Double, java.lang.Enum, java.lang.Float, java.lang.Integer, java.lang.Iterable, java.lang.Long, java.lang.Math, java.lang.Number, java.lang.Short, java.lang.String, java.math.BigDecimal, java.math.BigInteger, java.math.RoundingMode, java.time.*, java.util.ArrayList, java.util.Calendar, java.util.Calendar, java.util.Collection, java.util.Date, java.util.Enumeration, java.util.HashMap, java.util.HashSet, java.util.Iterator, java.util.LinkedHashMap, java.util.LinkedHashSet, java.util.LinkedList, java.util.List, java.util.Locale, java.util.Map, java.util.Map$Entry, java.util.Optional, java.util.Properties, java.util.Set, java.util.stream.Stream].\r\n    \tat org.thymeleaf.spring6.expression.ThymeleafEvaluationContext$ThymeleafEvaluationContextACLPropertyAccessor.canRead(ThymeleafEvaluationContext.java:237)\r\n    \tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:198)\r\n    \t... 81 more\r\n\r\n","title":"Not able to access model attributes in view through thymeleaf and spring boot","body":"<p>I'm having hardtime to access model attribute values in the view using thymeleaf.</p>\n<pre><code>            &lt;h4&gt;Employees per Project&lt;/h4&gt;\n            &lt;table class=&quot;table table-bordered table-striped&quot;&gt;\n                &lt;thead class=&quot;thead-dark&quot;&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt; FirstName&lt;span&gt;&lt;/span&gt;&lt;/th&gt;\n                        &lt;th&gt; LastName&lt;/th&gt;\n                        &lt;th&gt;Projects Count&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr th:each=&quot; EmpPrjCnt : ${employeeProjectCount} &quot;&gt;\n                        &lt;td th:text=&quot;${EmpPrjCnt.fName}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${EmpPrjCnt.lname}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${EmpPrjCnt.Pc}&quot;&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n</code></pre>\n<p>Controller Code:</p>\n<pre><code>List&lt;projectEmployee&gt; employeeProjectCount= empRep.employeeProjects();  //.employeeProjects();\n    System.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount);\n    System.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount.get(1).getfName());\n    System.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount.get(1).getlName());\n    System.out.println(&quot;FROM Home Controller :::::::::: &quot;+employeeProjectCount.get(1).getPc());\n    \n    model.addAttribute(&quot;employeeProjectCount&quot;, employeeProjectCount);\n</code></pre>\n<p>I can access all the attributes in the controller through but not in the view. Let me know where im going wrong.</p>\n<p>Error:</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: &quot;class path resource [templates/main/Home.html]&quot;)\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/main/Home.html]&quot;)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077)\n    at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372)\n    at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1414)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1158)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1097)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\nCaused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: &quot;EmpPrjCnt.fName&quot; (template: &quot;main/Home&quot; - line 70, col 12)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 48 more\n\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;EmpPrjCnt.fName&quot; (template: &quot;main/Home&quot; - line 70, col 12)\n    at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)\n    at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\n    at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\n    at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\n    at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\n    at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\n    at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)\n    at org.thymeleaf.engine.Model.process(Model.java:282)\n    at org.thymeleaf.engine.Model.process(Model.java:290)\n    at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368)\n    at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)\n    at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)\n    at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)\n    at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)\n    at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 50 more\n\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1021E: A problem occurred whilst attempting to access the property 'fName': 'Accessing member 'fName' is forbidden for type 'class jdk.proxy5.$Proxy124' in Thymeleaf expressions. Blocked classes are: [com.sun.*, jakarta.*, java.*, javax.*, jdk.*, org.ietf.jgss.*, org.omg.*, org.w3c.dom.*, org.xml.sax.*, sun.*]. Allowed classes are: [java.lang.Boolean, java.lang.Byte, java.lang.Character, java.lang.Double, java.lang.Enum, java.lang.Float, java.lang.Integer, java.lang.Iterable, java.lang.Long, java.lang.Math, java.lang.Number, java.lang.Short, java.lang.String, java.math.BigDecimal, java.math.BigInteger, java.math.RoundingMode, java.time.*, java.util.ArrayList, java.util.Calendar, java.util.Calendar, java.util.Collection, java.util.Date, java.util.Enumeration, java.util.HashMap, java.util.HashSet, java.util.Iterator, java.util.LinkedHashMap, java.util.LinkedHashSet, java.util.LinkedList, java.util.List, java.util.Locale, java.util.Map, java.util.Map$Entry, java.util.Optional, java.util.Properties, java.util.Set, java.util.stream.Stream].'\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:209)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:405)\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)\n    at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\n    at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)\n    at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)\n    ... 75 more\n\nCaused by: org.springframework.expression.EvaluationException: Accessing member 'fName' is forbidden for type 'class jdk.proxy5.$Proxy124' in Thymeleaf expressions. Blocked classes are: [com.sun.*, jakarta.*, java.*, javax.*, jdk.*, org.ietf.jgss.*, org.omg.*, org.w3c.dom.*, org.xml.sax.*, sun.*]. Allowed classes are: [java.lang.Boolean, java.lang.Byte, java.lang.Character, java.lang.Double, java.lang.Enum, java.lang.Float, java.lang.Integer, java.lang.Iterable, java.lang.Long, java.lang.Math, java.lang.Number, java.lang.Short, java.lang.String, java.math.BigDecimal, java.math.BigInteger, java.math.RoundingMode, java.time.*, java.util.ArrayList, java.util.Calendar, java.util.Calendar, java.util.Collection, java.util.Date, java.util.Enumeration, java.util.HashMap, java.util.HashSet, java.util.Iterator, java.util.LinkedHashMap, java.util.LinkedHashSet, java.util.LinkedList, java.util.List, java.util.Locale, java.util.Map, java.util.Map$Entry, java.util.Optional, java.util.Properties, java.util.Set, java.util.stream.Stream].\n    at org.thymeleaf.spring6.expression.ThymeleafEvaluationContext$ThymeleafEvaluationContextACLPropertyAccessor.canRead(ThymeleafEvaluationContext.java:237)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:198)\n    ... 81 more\n</code></pre>\n"},{"tags":["java","cron","scheduler","micronaut"],"comments":[{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":0,"creation_date":1680686572,"post_id":75927976,"comment_id":133938669,"body_markdown":"Hello, I&#39;m not sure that the feature that you are trying to use is supported at all, maybe it would be better to register the scheduler manually after reading the value from the db","body":"Hello, I&#39;m not sure that the feature that you are trying to use is supported at all, maybe it would be better to register the scheduler manually after reading the value from the db"},{"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"score":0,"creation_date":1680790990,"post_id":75927976,"comment_id":133960212,"body_markdown":"I believe this is coming with Micronaut version 4.0.","body":"I believe this is coming with Micronaut version 4.0."}],"owner":{"account_id":4386262,"reputation":198,"user_id":3576308,"display_name":"droidmainiac"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680602045,"creation_date":1680602045,"question_id":75927976,"body_markdown":"I&#39;m trying to pass a method to a @Scheduled annotation in micronaut\r\n\r\n    @Scheduled(fixedDelay= &quot;#{getDelay()}&quot;)\r\n    void scheduledJob() { ..&lt;does some work&gt;..}\r\n    \r\n    String getDelay() { return config.getValue();}\r\n\r\nThis config returns a value from a database and needs to be a configurable value.\r\n\r\nFor now I am able to get this value from application.yml by passing \r\n\r\n    @Scheduled(fixedDelay = &quot;${job.delay}&quot;)\r\n\r\nCan&#39;t find any documentations for micronaut that enables me to do this. \r\nAlthough I did find a way to do it for spring. ","title":"How do you pass a method to @Scheduled annotation in micronaut?","body":"<p>I'm trying to pass a method to a @Scheduled annotation in micronaut</p>\n<pre><code>@Scheduled(fixedDelay= &quot;#{getDelay()}&quot;)\nvoid scheduledJob() { ..&lt;does some work&gt;..}\n\nString getDelay() { return config.getValue();}\n</code></pre>\n<p>This config returns a value from a database and needs to be a configurable value.</p>\n<p>For now I am able to get this value from application.yml by passing</p>\n<pre><code>@Scheduled(fixedDelay = &quot;${job.delay}&quot;)\n</code></pre>\n<p>Can't find any documentations for micronaut that enables me to do this.\nAlthough I did find a way to do it for spring.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680602677,"post_id":75927972,"comment_id":133922283,"body_markdown":"Autoconfiguration isn&#39;t to be specified in `spring.factories` anymore but in a dedicated file for this. This has been the case since Spring Boot 2.6 but now enforced in Spring BOot 3.0. Also make sure you are building regular jar files and not spring boot enabled jar files (which are structured differently).","body":"Autoconfiguration isn&#39;t to be specified in <code>spring.factories</code> anymore but in a dedicated file for this. This has been the case since Spring Boot 2.6 but now enforced in Spring BOot 3.0. Also make sure you are building regular jar files and not spring boot enabled jar files (which are structured differently)."}],"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680602029,"creation_date":1680602029,"question_id":75927972,"body_markdown":"I am writing several own startes which should act as a shared librarys for accessing databases. So I have one starter for each database I am using in several applications. \r\n\r\nBut when I build my application I get an error: \r\n\r\n```\r\norg.springframework.boot.SpringApplication&quot;,&quot;event.id&quot;:&quot;&quot;,&quot;event.action&quot;:&quot;&quot;,&quot;error.type&quot;:&quot;java.lang.IllegalStateException&quot;,&quot;error.message&quot;:&quot;Unable to read meta-data for class com.lib.db.product.base.config.ProductdataAutoConfiguration&quot;,&quot;error.stack_trace&quot;:&quot;java.lang.IllegalStateException: Unable to read meta-data for class com.lib.db.product.base.config.ProductdataAutoConfiguration\r\n```\r\n\r\nMy class ProductdataAutoConfiguration is like that \r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories\r\npublic class ProductdataAutoConfiguration {\r\n\r\n    @Bean\r\n    @ConfigurationProperties(&quot;kmb.datasource.productdata&quot;)\r\n    public DataSourceProperties productdataDataSourceProperties() {\r\n\r\n        return new DataSourceProperties();\r\n\r\n    }\r\n```\r\n\r\nspring.factories contains: \r\n```org.springframework.boot.autoconfigure.EnableAutoConfiguration=com.lib.db.product.base.config.ProductdataAutoConfiguration```\r\n\r\n\r\nAm I missing anything else? What is wrong and how to fix that error? ","title":"Spring boot own starter with data-jpa","body":"<p>I am writing several own startes which should act as a shared librarys for accessing databases. So I have one starter for each database I am using in several applications.</p>\n<p>But when I build my application I get an error:</p>\n<pre><code>org.springframework.boot.SpringApplication&quot;,&quot;event.id&quot;:&quot;&quot;,&quot;event.action&quot;:&quot;&quot;,&quot;error.type&quot;:&quot;java.lang.IllegalStateException&quot;,&quot;error.message&quot;:&quot;Unable to read meta-data for class com.lib.db.product.base.config.ProductdataAutoConfiguration&quot;,&quot;error.stack_trace&quot;:&quot;java.lang.IllegalStateException: Unable to read meta-data for class com.lib.db.product.base.config.ProductdataAutoConfiguration\n</code></pre>\n<p>My class ProductdataAutoConfiguration is like that</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories\npublic class ProductdataAutoConfiguration {\n\n    @Bean\n    @ConfigurationProperties(&quot;kmb.datasource.productdata&quot;)\n    public DataSourceProperties productdataDataSourceProperties() {\n\n        return new DataSourceProperties();\n\n    }\n</code></pre>\n<p>spring.factories contains:\n<code>org.springframework.boot.autoconfigure.EnableAutoConfiguration=com.lib.db.product.base.config.ProductdataAutoConfiguration</code></p>\n<p>Am I missing anything else? What is wrong and how to fix that error?</p>\n"},{"tags":["java","anylogic","systemdynamics","vensim"],"comments":[{"owner":{"account_id":4196914,"reputation":8751,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"score":0,"creation_date":1680521819,"post_id":75915069,"comment_id":133907149,"body_markdown":"why would this question be closed if it&#39;s cleearly asking about what java code to use?","body":"why would this question be closed if it&#39;s cleearly asking about what java code to use?"},{"owner":{"account_id":4196914,"reputation":8751,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"score":0,"creation_date":1680564712,"post_id":75915069,"comment_id":133916717,"body_markdown":"also the question is extremely clear and focused... If i wanted to edit the question, i wouldn&#39;t even know how to make it clearer","body":"also the question is extremely clear and focused... If i wanted to edit the question, i wouldn&#39;t even know how to make it clearer"}],"answers":[{"tags":[],"owner":{"account_id":4196914,"reputation":8751,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680494135,"creation_date":1680494135,"answer_id":75915927,"question_id":75915069,"body_markdown":"Delay3 doesn&#39;t correspond to a 3 days delay, instead it corresponds to a third order exponential delay.\r\n\r\nRemember you can construct yourself using stock and flows a delay of any order you want, it&#39;s a good exercise to understand the differences.\r\n\r\nThe equivalent function in AnyLogic is delay3\r\nYou can find it in the help documentation: [delay3][1]\r\n\r\n\r\n  [1]: https://anylogic.help/advanced/functions/delay3.html#delay3","title":"Delay functions in Anylogic System Dynamics","body":"<p>Delay3 doesn't correspond to a 3 days delay, instead it corresponds to a third order exponential delay.</p>\n<p>Remember you can construct yourself using stock and flows a delay of any order you want, it's a good exercise to understand the differences.</p>\n<p>The equivalent function in AnyLogic is delay3\nYou can find it in the help documentation: <a href=\"https://anylogic.help/advanced/functions/delay3.html#delay3\" rel=\"nofollow noreferrer\">delay3</a></p>\n"}],"owner":{"account_id":28125575,"reputation":11,"user_id":21491046,"display_name":"molamola"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1680601871,"creation_date":1680476928,"question_id":75915069,"body_markdown":"What function in AnyLogic-System Dynamics is equivalent to the Delay3 function in Vensim? The Delay3 function in Vensim is used for material delay (e.g. when goods are delayed by 3 days). The syntax in Vensim is: Delay3(input, delayTime).\r\n\r\nI tried using functions smooth and Delay but I&#39;m not sure if that is correct.","title":"Delay functions in Anylogic System Dynamics","body":"<p>What function in AnyLogic-System Dynamics is equivalent to the Delay3 function in Vensim? The Delay3 function in Vensim is used for material delay (e.g. when goods are delayed by 3 days). The syntax in Vensim is: Delay3(input, delayTime).</p>\n<p>I tried using functions smooth and Delay but I'm not sure if that is correct.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1517927387,"post_id":48642450,"comment_id":84287541,"body_markdown":"Possible duplicate of [How to deserialize JSON into flat, Map-like structure?](https://stackoverflow.com/questions/20355261/how-to-deserialize-json-into-flat-map-like-structure)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/20355261/how-to-deserialize-json-into-flat-map-like-structure\">How to deserialize JSON into flat, Map-like structure?</a>"}],"answers":[{"tags":[],"owner":{"account_id":222412,"reputation":55996,"user_id":480982,"accept_rate":83,"display_name":"Thomas Weller"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1604046866,"creation_date":1517918220,"answer_id":48642541,"question_id":48642450,"body_markdown":"[elements()](http://fasterxml.github.io/jackson-databind/javadoc/2.2/com/fasterxml/jackson/databind/JsonNode.html#elements()) gives you an iterator for subnodes and [fields()](http://fasterxml.github.io/jackson-databind/javadoc/2.2/com/fasterxml/jackson/databind/JsonNode.html#fields()) gives you the properties.\r\n\r\nWith that, you can code a recursive function that walks through all nodes.","title":"How to iterate all subnodes of a json object?","body":"<p><a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.2/com/fasterxml/jackson/databind/JsonNode.html#elements()\" rel=\"noreferrer\">elements()</a> gives you an iterator for subnodes and <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.2/com/fasterxml/jackson/databind/JsonNode.html#fields()\" rel=\"noreferrer\">fields()</a> gives you the properties.</p>\n<p>With that, you can code a recursive function that walks through all nodes.</p>\n"},{"tags":[],"owner":{"account_id":7825546,"reputation":87,"user_id":5917176,"display_name":"Dhiraj Pandit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1517919452,"creation_date":1517919452,"answer_id":48642903,"question_id":48642450,"body_markdown":"You can convert JSON object to HashMap so you will get key and value pairs \r\n\r\nhere i use GSON library\r\n\r\ncode snippet\r\n\r\n   \r\n\r\n    Gson gson = new Gson();\r\n    Type type = new TypeToken&lt;Map&lt;String, String&gt;&gt;(){}.getType();\r\n    Map&lt;String,String&gt; map = gson.fromJson(json, type);\r\n\r\nso you can iterate this map for your purpose. ","title":"How to iterate all subnodes of a json object?","body":"<p>You can convert JSON object to HashMap so you will get key and value pairs </p>\n\n<p>here i use GSON library</p>\n\n<p>code snippet</p>\n\n<pre><code>Gson gson = new Gson();\nType type = new TypeToken&lt;Map&lt;String, String&gt;&gt;(){}.getType();\nMap&lt;String,String&gt; map = gson.fromJson(json, type);\n</code></pre>\n\n<p>so you can iterate this map for your purpose. </p>\n"},{"tags":[],"owner":{"account_id":1399854,"reputation":940,"user_id":1328828,"display_name":"Boris Chistov"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1517928527,"creation_date":1517928527,"answer_id":48645692,"question_id":48642450,"body_markdown":"Here is working sample, input is String\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        JsonNode node = om.readTree(input);\r\n        LOG.info(node.toString());\r\n        process(&quot;&quot;, node);\r\n    }\r\n\r\n    private static void process(String prefix, JsonNode currentNode) {\r\n        if (currentNode.isArray()) {\r\n            ArrayNode arrayNode = (ArrayNode) currentNode;\r\n            Iterator&lt;JsonNode&gt; node = arrayNode.elements();\r\n            int index = 1;\r\n            while (node.hasNext()) {\r\n                process(!prefix.isEmpty() ? prefix + &quot;-&quot; + index : String.valueOf(index), node.next());\r\n                index += 1;\r\n            }\r\n        }\r\n        else if (currentNode.isObject()) {\r\n            currentNode.fields().forEachRemaining(entry -&gt; process(!prefix.isEmpty() ? prefix + &quot;-&quot; + entry.getKey() : entry.getKey(), entry.getValue()));\r\n        }\r\n        else {\r\n            LOG.info(prefix + &quot;: &quot; + currentNode.toString());\r\n        }\r\n    }","title":"How to iterate all subnodes of a json object?","body":"<p>Here is working sample, input is String</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    JsonNode node = om.readTree(input);\n    LOG.info(node.toString());\n    process(\"\", node);\n}\n\nprivate static void process(String prefix, JsonNode currentNode) {\n    if (currentNode.isArray()) {\n        ArrayNode arrayNode = (ArrayNode) currentNode;\n        Iterator&lt;JsonNode&gt; node = arrayNode.elements();\n        int index = 1;\n        while (node.hasNext()) {\n            process(!prefix.isEmpty() ? prefix + \"-\" + index : String.valueOf(index), node.next());\n            index += 1;\n        }\n    }\n    else if (currentNode.isObject()) {\n        currentNode.fields().forEachRemaining(entry -&gt; process(!prefix.isEmpty() ? prefix + \"-\" + entry.getKey() : entry.getKey(), entry.getValue()));\n    }\n    else {\n        LOG.info(prefix + \": \" + currentNode.toString());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1887647,"reputation":5261,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"down_vote_count":1,"up_vote_count":28,"is_accepted":true,"score":27,"last_activity_date":1519686634,"creation_date":1519585435,"answer_id":48977291,"question_id":48642450,"body_markdown":"This will work for you : \r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode root = mapper.readTree(json);\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    addKeys(&quot;&quot;, root, map, new ArrayList&lt;&gt;());\r\n\r\n    map.entrySet()\r\n         .forEach(System.out::println);\r\n\r\n____\r\n\r\n    private void addKeys(String currentPath, JsonNode jsonNode, Map&lt;String, String&gt; map, List&lt;Integer&gt; suffix) {\r\n        if (jsonNode.isObject()) {\r\n            ObjectNode objectNode = (ObjectNode) jsonNode;\r\n            Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; iter = objectNode.fields();\r\n            String pathPrefix = currentPath.isEmpty() ? &quot;&quot; : currentPath + &quot;-&quot;;\r\n\r\n            while (iter.hasNext()) {\r\n                Map.Entry&lt;String, JsonNode&gt; entry = iter.next();\r\n                addKeys(pathPrefix + entry.getKey(), entry.getValue(), map, suffix);\r\n            }\r\n        } else if (jsonNode.isArray()) {\r\n            ArrayNode arrayNode = (ArrayNode) jsonNode;\r\n\r\n            for (int i = 0; i &lt; arrayNode.size(); i++) {\r\n                suffix.add(i + 1);\r\n                addKeys(currentPath, arrayNode.get(i), map, suffix);\r\n\r\n                if (i + 1 &lt;arrayNode.size()){\r\n                    suffix.remove(arrayNode.size() - 1);\r\n                }\r\n            }\r\n\r\n        } else if (jsonNode.isValueNode()) {\r\n            if (currentPath.contains(&quot;-&quot;)) {\r\n                for (int i = 0; i &lt; suffix.size(); i++) {\r\n                    currentPath += &quot;-&quot; + suffix.get(i);\r\n                }\r\n\r\n                suffix = new ArrayList&lt;&gt;();\r\n            }\r\n\r\n            ValueNode valueNode = (ValueNode) jsonNode;\r\n            map.put(currentPath, valueNode.asText());\r\n        }\r\n    }\r\n\r\nFor the `json` you gave the output will be : \r\n\r\n    name-items-name-1-2=2nditem\r\n    name-items-name-1-1=firstitem\r\n    name-items-stock-1-1=12\r\n    name-first-1=John\r\n    name-items-stock-1-2=23\r\n    company=John Company\r\n    name-last-1=Doe","title":"How to iterate all subnodes of a json object?","body":"<p>This will work for you : </p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nJsonNode root = mapper.readTree(json);\nMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\naddKeys(\"\", root, map, new ArrayList&lt;&gt;());\n\nmap.entrySet()\n     .forEach(System.out::println);\n</code></pre>\n\n<hr>\n\n<pre><code>private void addKeys(String currentPath, JsonNode jsonNode, Map&lt;String, String&gt; map, List&lt;Integer&gt; suffix) {\n    if (jsonNode.isObject()) {\n        ObjectNode objectNode = (ObjectNode) jsonNode;\n        Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; iter = objectNode.fields();\n        String pathPrefix = currentPath.isEmpty() ? \"\" : currentPath + \"-\";\n\n        while (iter.hasNext()) {\n            Map.Entry&lt;String, JsonNode&gt; entry = iter.next();\n            addKeys(pathPrefix + entry.getKey(), entry.getValue(), map, suffix);\n        }\n    } else if (jsonNode.isArray()) {\n        ArrayNode arrayNode = (ArrayNode) jsonNode;\n\n        for (int i = 0; i &lt; arrayNode.size(); i++) {\n            suffix.add(i + 1);\n            addKeys(currentPath, arrayNode.get(i), map, suffix);\n\n            if (i + 1 &lt;arrayNode.size()){\n                suffix.remove(arrayNode.size() - 1);\n            }\n        }\n\n    } else if (jsonNode.isValueNode()) {\n        if (currentPath.contains(\"-\")) {\n            for (int i = 0; i &lt; suffix.size(); i++) {\n                currentPath += \"-\" + suffix.get(i);\n            }\n\n            suffix = new ArrayList&lt;&gt;();\n        }\n\n        ValueNode valueNode = (ValueNode) jsonNode;\n        map.put(currentPath, valueNode.asText());\n    }\n}\n</code></pre>\n\n<p>For the <code>json</code> you gave the output will be : </p>\n\n<pre><code>name-items-name-1-2=2nditem\nname-items-name-1-1=firstitem\nname-items-stock-1-1=12\nname-first-1=John\nname-items-stock-1-2=23\ncompany=John Company\nname-last-1=Doe\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97653,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":48977291,"answer_count":4,"score":23,"last_activity_date":1680601672,"creation_date":1517917943,"question_id":48642450,"body_markdown":"I want to iterate through all nodes of a json object, and write out a plain key-value map, as follows:\r\n```json\r\n{\r\n    &quot;name&quot;: [{\r\n        &quot;first&quot;: &quot;John&quot;,\r\n        &quot;last&quot;: &quot;Doe&quot;,\r\n        &quot;items&quot;: [{\r\n                &quot;name&quot;: &quot;firstitem&quot;,\r\n                &quot;stock&quot;: 12\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;2nditem&quot;,\r\n                &quot;stock&quot;: 23\r\n            }\r\n        ]\r\n    }],\r\n    &quot;company&quot;: &quot;John Company&quot;\r\n}\r\n```\r\nShould result in:\r\n\r\n    name-first-1=John\r\n    name-last-1=Doe\r\n    name-items-name-1-1=firstitem (meaning the list index is always appended at the end of the name)\r\n    name-items-name-1-2=2nditem\r\n    company=John Company\r\n\r\nThis is how to get the json string as a json object:\r\n\r\n    ObjectMapper mapper = new ObjectMapper(); //using jackson\r\n    JsonNode root = mapper.readTree(json);\r\n    //TODO how loop all nodes and subnodes, and always get their key + value?\r\n\r\nBut how can I now iterate through all nodes and extract their key and content?","title":"How to iterate all subnodes of a json object?","body":"<p>I want to iterate through all nodes of a json object, and write out a plain key-value map, as follows:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: [{\n        &quot;first&quot;: &quot;John&quot;,\n        &quot;last&quot;: &quot;Doe&quot;,\n        &quot;items&quot;: [{\n                &quot;name&quot;: &quot;firstitem&quot;,\n                &quot;stock&quot;: 12\n            },\n            {\n                &quot;name&quot;: &quot;2nditem&quot;,\n                &quot;stock&quot;: 23\n            }\n        ]\n    }],\n    &quot;company&quot;: &quot;John Company&quot;\n}\n</code></pre>\n<p>Should result in:</p>\n<pre><code>name-first-1=John\nname-last-1=Doe\nname-items-name-1-1=firstitem (meaning the list index is always appended at the end of the name)\nname-items-name-1-2=2nditem\ncompany=John Company\n</code></pre>\n<p>This is how to get the json string as a json object:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper(); //using jackson\nJsonNode root = mapper.readTree(json);\n//TODO how loop all nodes and subnodes, and always get their key + value?\n</code></pre>\n<p>But how can I now iterate through all nodes and extract their key and content?</p>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1680600817,"post_id":75927745,"comment_id":133921810,"body_markdown":"You could add an abstract method to A that is implemented differently in AB and AC.","body":"You could add an abstract method to A that is implemented differently in AB and AC."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeek"},"score":3,"creation_date":1680600966,"post_id":75927745,"comment_id":133921843,"body_markdown":"Apart from using polymorphism which circumvents the problem entirely, since Java 14 you can use instanceof pattern matching: https://www.baeldung.com/java-pattern-matching-instanceof. In short, `if (someObject instanceOf AB ab) { ab.someAbFunction() }`.","body":"Apart from using polymorphism which circumvents the problem entirely, since Java 14 you can use instanceof pattern matching: <a href=\"https://www.baeldung.com/java-pattern-matching-instanceof\" rel=\"nofollow noreferrer\">baeldung.com/java-pattern-matching-instanceof</a>. In short, <code>if (someObject instanceOf AB ab) { ab.someAbFunction() }</code>."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1680601553,"post_id":75927745,"comment_id":133921992,"body_markdown":"@PetrJaneek: it&#39;s only been a preview feature in Java 14. Java 16 made it a final, regular feature.","body":"@PetrJaneek: it&#39;s only been a preview feature in Java 14. Java 16 made it a final, regular feature."}],"answers":[{"tags":[],"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1680601651,"creation_date":1680601023,"answer_id":75927806,"question_id":75927745,"body_markdown":"On Java 16 and newer, you can use pattern matching to avoid the cast. Like this:\r\n\r\n    public void handleStuff(A someObject) {\r\n      if (someObject instanceof AB ab) { \r\n         ab.someABFunction();\r\n      } else if (someObject instanceof AC ac) {\r\n         ac.someACFunction();\r\n      }\r\n    }\r\n\r\nOn Java 17 and newer, you can enable the preview feature for pattern matching in switch-expressions to shorten it further. With that feature, you can do this:\r\n\r\n    public void handleStuff(A someObject) {\r\n      switch (someObject) {\r\n        case AB ab -&gt; ab.someABFunction();\r\n        case AC ac -&gt; ac.someACFunction();\r\n        default -&gt; {}\r\n      }\r\n    }","title":"elegant Java class downcast","body":"<p>On Java 16 and newer, you can use pattern matching to avoid the cast. Like this:</p>\n<pre><code>public void handleStuff(A someObject) {\n  if (someObject instanceof AB ab) { \n     ab.someABFunction();\n  } else if (someObject instanceof AC ac) {\n     ac.someACFunction();\n  }\n}\n</code></pre>\n<p>On Java 17 and newer, you can enable the preview feature for pattern matching in switch-expressions to shorten it further. With that feature, you can do this:</p>\n<pre><code>public void handleStuff(A someObject) {\n  switch (someObject) {\n    case AB ab -&gt; ab.someABFunction();\n    case AC ac -&gt; ac.someACFunction();\n    default -&gt; {}\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1796338,"reputation":624,"user_id":1635669,"display_name":"BennyBarns"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75927806,"answer_count":1,"score":0,"last_activity_date":1680601651,"creation_date":1680600606,"question_id":75927745,"body_markdown":"Let A be a superclass of AB and AC. Given a method:\r\n\r\n    public void handleStuff(A someObject) {\r\n      if(someObject instanceof AB){ \r\n         ((AB)someObject).someABFunction();\r\n      } else if(someObject instanceof AC) {\r\n         ((AC)someObject).someACFunction();\r\n      }\r\n    }\r\nI don&#39;t like the double checking/casting operation here; is there any other way to code this without first checking for a type and then casting? I know I could do it with two overloaded functions that take AB or AC as parameters, but I was looking for less code, not more :-) Something like:\r\n\r\n    public void handleStuff(A someObject) {\r\n      if(someObject instanceof AB){ \r\n         someObject.someABFunction(); // it is already clear that this is AB\r\n      } else if(someObject instanceof AC) {\r\n         someObject.someACFunction(); // it is already clear that this is AC\r\n      }\r\n    }","title":"elegant Java class downcast","body":"<p>Let A be a superclass of AB and AC. Given a method:</p>\n<pre><code>public void handleStuff(A someObject) {\n  if(someObject instanceof AB){ \n     ((AB)someObject).someABFunction();\n  } else if(someObject instanceof AC) {\n     ((AC)someObject).someACFunction();\n  }\n}\n</code></pre>\n<p>I don't like the double checking/casting operation here; is there any other way to code this without first checking for a type and then casting? I know I could do it with two overloaded functions that take AB or AC as parameters, but I was looking for less code, not more :-) Something like:</p>\n<pre><code>public void handleStuff(A someObject) {\n  if(someObject instanceof AB){ \n     someObject.someABFunction(); // it is already clear that this is AB\n  } else if(someObject instanceof AC) {\n     someObject.someACFunction(); // it is already clear that this is AC\n  }\n}\n</code></pre>\n"},{"tags":["java","mysql","azure","amazon-rds"],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679437403,"creation_date":1679429910,"answer_id":75805995,"question_id":75805482,"body_markdown":"I dispute your assumption that it is a common best practice to define query timeouts. That&#39;s an opinion at best.\r\n\r\nI would claim that the *proper* solution is to make sure queries are optimized before you run them in production, so they don&#39;t need to be timed out.\r\n\r\nIf you need to run super complex reporting queries, which take minutes or hours even with all the optimizations you can make, then don&#39;t run these queries on an OLTP database instance where they could take resources you need for ongoing transactions. Instead, run heavy-duty reporting queries on a replica instance or a data warehouse. \r\n\r\nIf you do need to time out queries on your OLTP instance, you can set a session variable `max_execution_time` (see https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_max_execution_time).\r\n\r\nThis only applies to read-only SELECT statements not run inside stored procedures.","title":"Is there a way to cancel a mysql query in Azure or AWS properly?","body":"<p>I dispute your assumption that it is a common best practice to define query timeouts. That's an opinion at best.</p>\n<p>I would claim that the <em>proper</em> solution is to make sure queries are optimized before you run them in production, so they don't need to be timed out.</p>\n<p>If you need to run super complex reporting queries, which take minutes or hours even with all the optimizations you can make, then don't run these queries on an OLTP database instance where they could take resources you need for ongoing transactions. Instead, run heavy-duty reporting queries on a replica instance or a data warehouse.</p>\n<p>If you do need to time out queries on your OLTP instance, you can set a session variable <code>max_execution_time</code> (see <a href=\"https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_max_execution_time\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_max_execution_time</a>).</p>\n<p>This only applies to read-only SELECT statements not run inside stored procedures.</p>\n"}],"owner":{"account_id":8939841,"reputation":1206,"user_id":6669348,"accept_rate":67,"display_name":"Depzor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680601356,"creation_date":1679426002,"question_id":75805482,"body_markdown":"It is very useful to define a query timeout in your application to prevent any long-running select queries that can impose excessive pressure on the database. You can find more information about it at &lt;https://vladmihalcea.com/query-timeout-jpa-hibernate/&gt;\r\n\r\nSetting this timeout is quite straightforward, but making it work for Azure or AWS is, as I see it, impossible. The reason for this is that running the KILL command, which is exactly what the JDBC driver does, is not allowed in Azure nor AWS: https://github.com/mysql/mysql-connector-j/blob/release/8.0/src/main/user-impl/java/com/mysql/cj/jdbc/StatementImpl.java#L310  \r\n  \r\nBoth Azure and AWS require a stored procedure to terminate a query.   \r\nFor Azure, you need to use `CALL mysql.az_kill_query(:id:)`, and for AWS, you need to use `CALL mysql.rds_kill_query(:id)`.\r\n\r\nI know there is a way to set a statement timeout server-side, but I prefer to have this in place client-side as well.\r\n\r\n\r\n**Update:**\r\nSolved after migrating from Azure Single Server to Azure Flexible Server.","title":"Is there a way to cancel a mysql query in Azure or AWS properly?","body":"<p>It is very useful to define a query timeout in your application to prevent any long-running select queries that can impose excessive pressure on the database. You can find more information about it at <a href=\"https://vladmihalcea.com/query-timeout-jpa-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/query-timeout-jpa-hibernate/</a></p>\n<p>Setting this timeout is quite straightforward, but making it work for Azure or AWS is, as I see it, impossible. The reason for this is that running the KILL command, which is exactly what the JDBC driver does, is not allowed in Azure nor AWS: <a href=\"https://github.com/mysql/mysql-connector-j/blob/release/8.0/src/main/user-impl/java/com/mysql/cj/jdbc/StatementImpl.java#L310\" rel=\"nofollow noreferrer\">https://github.com/mysql/mysql-connector-j/blob/release/8.0/src/main/user-impl/java/com/mysql/cj/jdbc/StatementImpl.java#L310</a></p>\n<p>Both Azure and AWS require a stored procedure to terminate a query.<br />\nFor Azure, you need to use <code>CALL mysql.az_kill_query(:id:)</code>, and for AWS, you need to use <code>CALL mysql.rds_kill_query(:id)</code>.</p>\n<p>I know there is a way to set a statement timeout server-side, but I prefer to have this in place client-side as well.</p>\n<p><strong>Update:</strong>\nSolved after migrating from Azure Single Server to Azure Flexible Server.</p>\n"},{"tags":["java","log4j"],"comments":[{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":3,"creation_date":1579857418,"post_id":59893345,"comment_id":105914402,"body_markdown":"Please update your question with complete error log and log4j configuration/properties you have used.","body":"Please update your question with complete error log and log4j configuration/properties you have used."},{"owner":{"account_id":17539824,"reputation":37,"user_id":12722170,"display_name":"Srivatsa Balaji"},"score":0,"creation_date":1579858334,"post_id":59893345,"comment_id":105914888,"body_markdown":"@Smile yes I have updated it.","body":"@Smile yes I have updated it."},{"owner":{"account_id":1979094,"reputation":3912,"user_id":1776132,"display_name":"Smile"},"score":0,"creation_date":1579858847,"post_id":59893345,"comment_id":105915179,"body_markdown":"Always use text when adding code or error log to question and not image. Also update your question with list of jars you have added.","body":"Always use text when adding code or error log to question and not image. Also update your question with list of jars you have added."}],"answers":[{"tags":[],"owner":{"account_id":5114321,"reputation":151,"user_id":4099983,"display_name":"Constantine Ch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1579859107,"creation_date":1579858486,"answer_id":59893702,"question_id":59893345,"body_markdown":"Please list the jars you added. \r\n\r\nSee here:\r\nhttps://www.cwiki.us/questions/13469089/could-not-initialize-class-org.apache.logging.log4j.logmanager","title":"Getting this error: &quot;Could not initialize class org.apache.logging.log4j.LogManager&quot;","body":"<p>Please list the jars you added. </p>\n\n<p>See here:\n<a href=\"https://www.cwiki.us/questions/13469089/could-not-initialize-class-org.apache.logging.log4j.logmanager\" rel=\"nofollow noreferrer\">https://www.cwiki.us/questions/13469089/could-not-initialize-class-org.apache.logging.log4j.logmanager</a></p>\n"},{"tags":[],"owner":{"account_id":251952,"reputation":1129,"user_id":529659,"display_name":"jomofrodo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680601015,"creation_date":1597861822,"answer_id":63492980,"question_id":59893345,"body_markdown":"This looks like a conflict between log4j versions 1 and 2.  Your class is importing version 1 classes, but the error message is in response to the spring framework not finding the jar files for version 2 classes.  You want to use one version or the other.\r\n\r\nVersion 1 is going to have classes with packages `org.apache.log4j.x`.  \r\nThe jar will be called `log4j-1.x.x`\r\n\r\nVersion 2 is going to have classes with packages like `org.apache.logging.log4j.x`.  \r\nThe jars will be named `log4j-core-2.x.x` and an the implementation like `log4j-slf4j18-impl-2.x.x`.\r\n\r\nSee this migration helper: https://logging.apache.org/log4j/2.x/manual/migration.html\r\n\r\nNote: If your classpath includes both the version 1 and version 2 jars resolution of the actual classes used can be somewhat random (and problematic).","title":"Getting this error: &quot;Could not initialize class org.apache.logging.log4j.LogManager&quot;","body":"<p>This looks like a conflict between log4j versions 1 and 2.  Your class is importing version 1 classes, but the error message is in response to the spring framework not finding the jar files for version 2 classes.  You want to use one version or the other.</p>\n<p>Version 1 is going to have classes with packages <code>org.apache.log4j.x</code>.<br />\nThe jar will be called <code>log4j-1.x.x</code></p>\n<p>Version 2 is going to have classes with packages like <code>org.apache.logging.log4j.x</code>.<br />\nThe jars will be named <code>log4j-core-2.x.x</code> and an the implementation like <code>log4j-slf4j18-impl-2.x.x</code>.</p>\n<p>See this migration helper: <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/migration.html</a></p>\n<p>Note: If your classpath includes both the version 1 and version 2 jars resolution of the actual classes used can be somewhat random (and problematic).</p>\n"}],"owner":{"account_id":17539824,"reputation":37,"user_id":12722170,"display_name":"Srivatsa Balaji"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11966,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59893702,"answer_count":2,"score":1,"last_activity_date":1680601015,"creation_date":1579857169,"question_id":59893345,"body_markdown":"[![enter image description here][1]][1]I have included all the necessary log4j jar files and I don&#39;t understand why I&#39;m still getting this error.\r\n```java\r\npackage in.gstzen.einvoice;\r\nimport org.apache.log4j.LogManager;\r\nimport org.apache.log4j.Logger;\r\n\r\npublic class Log4jExample {\r\n\r\n\tprivate static Logger logger = LogManager.getLogger(Log4jExample.class);\r\n\t \r\n    public static void main(String[] args) throws Exception {\r\n    \t\r\n    \tSystem.out.println(&quot;Hello World!\\n&quot;);\r\n        logger.debug(&quot;Log4jExample: A Sample Debug Message&quot;);\r\n        logger.info(&quot;Log4jExample: A Sample Info  Message&quot;);\r\n        logger.warn(&quot;Log4jExample: A Sample Warn  Message&quot;);\r\n        logger.error(&quot;Log4jExample: A Sample Error Message&quot;);\r\n        logger.fatal(&quot;Log4jExample: A Sample Fatal Message&quot;);\r\n        System.out.println(&quot;Completed...&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gHcvO.png","title":"Getting this error: &quot;Could not initialize class org.apache.logging.log4j.LogManager&quot;","body":"<p><a href=\"https://i.stack.imgur.com/gHcvO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gHcvO.png\" alt=\"enter image description here\"></a>I have included all the necessary log4j jar files and I don't understand why I'm still getting this error.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package in.gstzen.einvoice;\nimport org.apache.log4j.LogManager;\nimport org.apache.log4j.Logger;\n\npublic class Log4jExample {\n\n    private static Logger logger = LogManager.getLogger(Log4jExample.class);\n\n    public static void main(String[] args) throws Exception {\n\n        System.out.println(\"Hello World!\\n\");\n        logger.debug(\"Log4jExample: A Sample Debug Message\");\n        logger.info(\"Log4jExample: A Sample Info  Message\");\n        logger.warn(\"Log4jExample: A Sample Warn  Message\");\n        logger.error(\"Log4jExample: A Sample Error Message\");\n        logger.fatal(\"Log4jExample: A Sample Fatal Message\");\n        System.out.println(\"Completed...\");\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","jackson"],"owner":{"account_id":28166269,"reputation":11,"user_id":21525415,"display_name":"user255255"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680600884,"creation_date":1680597819,"question_id":75927266,"body_markdown":"I am trying to deserialize XML like:\r\n```xml\r\n&lt;ORDER_ITEM ART1=&quot;ASA&quot; ATR2=&quot;ABC&quot; ATR3=&quot;0&quot;&gt;\r\n            &lt;ORDER_ITEM_ID&gt;222&lt;/ORDER_ITEM_ID&gt;    \r\n&lt;/ORDER_ITEM&gt;\r\n&lt;ORDER_ITEM ART1=&quot;ASA&quot; ATR2=&quot;ABC&quot; ATR3=&quot;0&quot;&gt;\r\n            &lt;ORDER_ITEM_ID&gt;3202&lt;/ORDER_ITEM_ID          \r\n&lt;/ORDER_ITEM&gt;\r\n```\r\nand I created model like below:\r\n\r\n```java\r\npublic class OrderItem {\r\n\r\n    @JacksonXmlProperty(localName = &quot;ART1&quot;, isAttribute = true)\r\n    protected String art1;\r\n\r\n    @JacksonXmlProperty(localName = &quot;ATR2&quot;, isAttribute = true)\r\n    protected String art2;\r\n\r\n    @JacksonXmlProperty(localName = &quot;ATR3&quot;, isAttribute = true)\r\n    protected String art3;\r\n\t\r\n    @JacksonXmlProperty(localName = &quot;ORDER_ITEM_ID&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    protected List&lt;Integer&gt; orderitemidlist;\t\r\n}\r\n```\r\n  \r\n\r\n\r\n\r\nand then I try to read list of all params from Order item ID. When I try like below I can see only the last one number.\r\n\r\n```java\r\norderitemid = Collections.singletonList(messageorder.getResult().getResponse().getData().getOrderitem().getOrderitemidlist());\r\n```","title":"Trying to deserialize an XML like:","body":"<p>I am trying to deserialize XML like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ORDER_ITEM ART1=&quot;ASA&quot; ATR2=&quot;ABC&quot; ATR3=&quot;0&quot;&gt;\n            &lt;ORDER_ITEM_ID&gt;222&lt;/ORDER_ITEM_ID&gt;    \n&lt;/ORDER_ITEM&gt;\n&lt;ORDER_ITEM ART1=&quot;ASA&quot; ATR2=&quot;ABC&quot; ATR3=&quot;0&quot;&gt;\n            &lt;ORDER_ITEM_ID&gt;3202&lt;/ORDER_ITEM_ID          \n&lt;/ORDER_ITEM&gt;\n</code></pre>\n<p>and I created model like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OrderItem {\n\n    @JacksonXmlProperty(localName = &quot;ART1&quot;, isAttribute = true)\n    protected String art1;\n\n    @JacksonXmlProperty(localName = &quot;ATR2&quot;, isAttribute = true)\n    protected String art2;\n\n    @JacksonXmlProperty(localName = &quot;ATR3&quot;, isAttribute = true)\n    protected String art3;\n    \n    @JacksonXmlProperty(localName = &quot;ORDER_ITEM_ID&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    protected List&lt;Integer&gt; orderitemidlist;    \n}\n</code></pre>\n<p>and then I try to read list of all params from Order item ID. When I try like below I can see only the last one number.</p>\n<pre class=\"lang-java prettyprint-override\"><code>orderitemid = Collections.singletonList(messageorder.getResult().getResponse().getData().getOrderitem().getOrderitemidlist());\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":26389,"reputation":9697,"user_id":68612,"accept_rate":81,"display_name":"Gandalf"},"score":1,"creation_date":1250027400,"post_id":1263128,"comment_id":1090528,"body_markdown":"not really true for checked exceptions, a method defines what exceptions it may throw.  For all others (like NPE) - well there is a reason they are unchecked.","body":"not really true for checked exceptions, a method defines what exceptions it may throw.  For all others (like NPE) - well there is a reason they are unchecked."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1250049628,"post_id":1263128,"comment_id":1091683,"body_markdown":"You could use BCEL or ASM to parse the binaries and iterate over the code in each method to find your answer.","body":"You could use BCEL or ASM to parse the binaries and iterate over the code in each method to find your answer."}],"answers":[{"tags":[],"owner":{"account_id":26389,"reputation":9697,"user_id":68612,"accept_rate":81,"display_name":"Gandalf"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1250027417,"creation_date":1250027417,"answer_id":1263147,"question_id":1263128,"body_markdown":"**NullPointerException**","title":"Most common checked and unchecked Java Exceptions?","body":"<p><strong>NullPointerException</strong></p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250030117,"creation_date":1250027427,"answer_id":1263149,"question_id":1263128,"body_markdown":"Checked exceptions are easy, your editor should display the javadocs when you hover/complete the method name.\r\n\r\nUnchecked are generally actual errors and aren&#39;t even in the javadocs more often than not.  I guess the most common might be IllegalArgumentException, any method that has any possible combination of parameters that is invalid should throw it.","title":"Most common checked and unchecked Java Exceptions?","body":"<p>Checked exceptions are easy, your editor should display the javadocs when you hover/complete the method name.</p>\n\n<p>Unchecked are generally actual errors and aren't even in the javadocs more often than not.  I guess the most common might be IllegalArgumentException, any method that has any possible combination of parameters that is invalid should throw it.</p>\n"},{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250027494,"creation_date":1250027494,"answer_id":1263153,"question_id":1263128,"body_markdown":"How about looking for subclasses of java.lang.exception, for example [here][1]\r\n\r\nPersonally I use 2 checked exceptions of my own TransientException for cases when a retry might work. And InvalidRequestException for validation errors.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Exception.html","title":"Most common checked and unchecked Java Exceptions?","body":"<p>How about looking for subclasses of java.lang.exception, for example <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Exception.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Personally I use 2 checked exceptions of my own TransientException for cases when a retry might work. And InvalidRequestException for validation errors.</p>\n"},{"tags":[],"owner":{"account_id":44216,"reputation":45489,"user_id":129655,"accept_rate":86,"display_name":"Platinum Azure"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1680600216,"creation_date":1250027591,"answer_id":1263165,"question_id":1263128,"body_markdown":"Assume the below are `java.lang` unless I specify otherwise:\r\n\r\n* **Casting**: ClassCastException\r\n* **Arrays**: ArrayIndexOutOfBoundsException, NullPointerException\r\n* **Collections**: NullPointerException, ClassCastException (if you&#39;re not using autoboxing and you screw it up)\r\n* **IO**: java.io.IOException, java.io.FileNotFoundException, java.io.EOFException\r\n* **Serialization**: java.io.ObjectStreamException (AND ITS SUBCLASSES, which I&#39;m too lazy to enumerate)\r\n* **Threads**: InterruptedException, SecurityException, IllegalThreadStateException\r\n* **Potentially common to all situations**: NullPointerException, IllegalArgumentException\r\n\r\n**You would do well to look at Java site&#39;s Package Summary pages.** Here&#39;s one: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/package-summary.html","title":"Most common checked and unchecked Java Exceptions?","body":"<p>Assume the below are <code>java.lang</code> unless I specify otherwise:</p>\n<ul>\n<li><strong>Casting</strong>: ClassCastException</li>\n<li><strong>Arrays</strong>: ArrayIndexOutOfBoundsException, NullPointerException</li>\n<li><strong>Collections</strong>: NullPointerException, ClassCastException (if you're not using autoboxing and you screw it up)</li>\n<li><strong>IO</strong>: java.io.IOException, java.io.FileNotFoundException, java.io.EOFException</li>\n<li><strong>Serialization</strong>: java.io.ObjectStreamException (AND ITS SUBCLASSES, which I'm too lazy to enumerate)</li>\n<li><strong>Threads</strong>: InterruptedException, SecurityException, IllegalThreadStateException</li>\n<li><strong>Potentially common to all situations</strong>: NullPointerException, IllegalArgumentException</li>\n</ul>\n<p><strong>You would do well to look at Java site's Package Summary pages.</strong> Here's one: <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/package-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/package-summary.html</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1250044608,"creation_date":1250044608,"answer_id":1263949,"question_id":1263128,"body_markdown":"As Bill K says. Checked exceptions are easy.  If your IDE/program editor doesn&#39;t give you an quick way to see method javadocs or signatures you need to throw it away.  Seriously.\r\n\r\nUnchecked exceptions are a different kettle of fish.  But I think the best strategy with unchecked exceptions is to not try to catch them.  Instead, you write you code so that it avoids throwing them in the first place.  For example;\r\n\r\n    // ... not sure if &#39;obj&#39; is null\r\n    if (obj != null) {\r\n        obj.someMethod();\r\n    }\r\n    // ... not sure if &#39;obj&#39; has the right type\r\n    if (obj instanceof Foo) {\r\n        Foo foo = (Foo) obj;\r\n    }\r\n    // ... not sure if &#39;i&#39; is in range\r\n    if (i &gt;= 0 &amp;&amp; i &lt; array.length) {\r\n        .... = array[i];\r\n    }\r\n\r\nHere&#39;s why I recommend this:\r\n\r\n - A guard test is *orders of magnitude* more efficient than throwing and catching an exception.\r\n - A guard test is more readable ... less lines of code.\r\n - If you catch an unchecked exception, you can never be sure that it happened for the reasons you think it did; for example:\r\n\r\n&lt;pre&gt;\r\n    // obj might be null ...\r\n    try {\r\n        obj.doSomething();\r\n    } catch (NullPointerException ex) {\r\n        System.err.println(&quot;obj was null&quot;);  // WRONG!!!\r\n        // the NPE could have happen inside doSomething()\r\n    }\r\n&lt;/pre&gt;\r\n\r\n - If an unchecked exception is caused by a bug, you DO want a stacktrace and (depending on the application) you MAY NOT want to recover.\r\n\r\nObviously, you only include these &quot;guard&quot; checks where your understanding of the code tells you that they are necessary!  So, for example if you *know* that &#39;obj&#39; ought to be non-null and &#39;i&#39; ought to be in range, it is a good idea to leave the checks out.  If you leave out one test too many, you&#39;ll get an exception ... but that&#39;s good because you can then use the stacktrace to figure out why your understanding of the code was wrong, and maybe fix the underlying bug.\r\n","title":"Most common checked and unchecked Java Exceptions?","body":"<p>As Bill K says. Checked exceptions are easy.  If your IDE/program editor doesn't give you an quick way to see method javadocs or signatures you need to throw it away.  Seriously.</p>\n\n<p>Unchecked exceptions are a different kettle of fish.  But I think the best strategy with unchecked exceptions is to not try to catch them.  Instead, you write you code so that it avoids throwing them in the first place.  For example;</p>\n\n<pre><code>// ... not sure if 'obj' is null\nif (obj != null) {\n    obj.someMethod();\n}\n// ... not sure if 'obj' has the right type\nif (obj instanceof Foo) {\n    Foo foo = (Foo) obj;\n}\n// ... not sure if 'i' is in range\nif (i &gt;= 0 &amp;&amp; i &lt; array.length) {\n    .... = array[i];\n}\n</code></pre>\n\n<p>Here's why I recommend this:</p>\n\n<ul>\n<li>A guard test is <em>orders of magnitude</em> more efficient than throwing and catching an exception.</li>\n<li>A guard test is more readable ... less lines of code.</li>\n<li>If you catch an unchecked exception, you can never be sure that it happened for the reasons you think it did; for example:</li>\n</ul>\n\n<pre>\n    // obj might be null ...\n    try {\n        obj.doSomething();\n    } catch (NullPointerException ex) {\n        System.err.println(\"obj was null\");  // WRONG!!!\n        // the NPE could have happen inside doSomething()\n    }\n</pre>\n\n<ul>\n<li>If an unchecked exception is caused by a bug, you DO want a stacktrace and (depending on the application) you MAY NOT want to recover.</li>\n</ul>\n\n<p>Obviously, you only include these \"guard\" checks where your understanding of the code tells you that they are necessary!  So, for example if you <em>know</em> that 'obj' ought to be non-null and 'i' ought to be in range, it is a good idea to leave the checks out.  If you leave out one test too many, you'll get an exception ... but that's good because you can then use the stacktrace to figure out why your understanding of the code was wrong, and maybe fix the underlying bug.</p>\n"},{"tags":[],"owner":{"account_id":4605384,"reputation":111,"user_id":3735018,"accept_rate":30,"display_name":"ADITYA VALLURU"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1436208242,"creation_date":1402592141,"answer_id":24189920,"question_id":1263128,"body_markdown":"**java.lang:** \r\n\r\n1.\tArithmeticException\r\n2.\tArrayIndexOutOfBoundsException\r\n3.\tClassCastException\r\n4.\tClassNotFoundException\r\n5.\tCloneNotSupportedException\r\n6.\tIllegalArgumentExcepion\r\n7.\tIllegalMonitorStateException\r\n8.\tIllegalThreadStateException\r\n9.\tIndexOutOfBoundsException\r\n10.\tInterruptedException\r\n11.\tNullPointerException\r\n12.\tNumberFormatedException\r\n\r\n**java.util:** \r\n\r\n1.\tConcurrentModificationException\r\n\r\n**java.io :**\r\n\r\n1.\tEOFException\r\n2.\tFileNotFoundException\r\n3.\tIOException\r\n4.\tNotSerializableException\r\n","title":"Most common checked and unchecked Java Exceptions?","body":"<p><strong>java.lang:</strong> </p>\n\n<ol>\n<li>ArithmeticException</li>\n<li>ArrayIndexOutOfBoundsException</li>\n<li>ClassCastException</li>\n<li>ClassNotFoundException</li>\n<li>CloneNotSupportedException</li>\n<li>IllegalArgumentExcepion</li>\n<li>IllegalMonitorStateException</li>\n<li>IllegalThreadStateException</li>\n<li>IndexOutOfBoundsException</li>\n<li>InterruptedException</li>\n<li>NullPointerException</li>\n<li>NumberFormatedException</li>\n</ol>\n\n<p><strong>java.util:</strong> </p>\n\n<ol>\n<li>ConcurrentModificationException</li>\n</ol>\n\n<p><strong>java.io :</strong></p>\n\n<ol>\n<li>EOFException</li>\n<li>FileNotFoundException</li>\n<li>IOException</li>\n<li>NotSerializableException</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":916980,"reputation":8820,"user_id":2580516,"display_name":"Warren Dew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402607365,"creation_date":1402607365,"answer_id":24193946,"question_id":1263128,"body_markdown":"* Casting - ClassCastException\r\n\r\n* Arrays - ArrayIndexOutOfBoundsException\r\n\r\n* Vector, ArrayList, HashMap, etc. - I rarely see exceptions when working with Java collections, but very occasionally ConcurrentModificationException\r\n\r\n* IO (File class, streams, filters, ) - FileNotFoundException\r\n\r\n* Object Serialization - ClassNotFoundException\r\n\r\n* Threads (wait(), sleep(), etc.) - In my experience, usually threading problems manifest themselves in random ways that aren&#39;t exception specific.  Having to deal with InterruptedException occupies a lot of time, though I haven&#39;t seen the exception actually thrown much.\r\n\r\n* or anything else that is considered &quot;basic Java&quot; - by far the most common exception in my experience is NullPointerException.","title":"Most common checked and unchecked Java Exceptions?","body":"<ul>\n<li><p>Casting - ClassCastException</p></li>\n<li><p>Arrays - ArrayIndexOutOfBoundsException</p></li>\n<li><p>Vector, ArrayList, HashMap, etc. - I rarely see exceptions when working with Java collections, but very occasionally ConcurrentModificationException</p></li>\n<li><p>IO (File class, streams, filters, ) - FileNotFoundException</p></li>\n<li><p>Object Serialization - ClassNotFoundException</p></li>\n<li><p>Threads (wait(), sleep(), etc.) - In my experience, usually threading problems manifest themselves in random ways that aren't exception specific.  Having to deal with InterruptedException occupies a lot of time, though I haven't seen the exception actually thrown much.</p></li>\n<li><p>or anything else that is considered \"basic Java\" - by far the most common exception in my experience is NullPointerException.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3171071,"reputation":2453,"user_id":2680024,"accept_rate":20,"display_name":"Praveen Kishor"},"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1474434844,"creation_date":1474430725,"answer_id":39607374,"question_id":1263128,"body_markdown":"**Unchecked Exception List**  \r\nArrayIndexOutOfBoundsException  \r\nClassCastException  \r\nIllegalArgumentException  \r\nIllegalStateException  \r\nNullPointerException  \r\nNumberFormatException  \r\nAssertionError  \r\nExceptionInInitializerError  \r\nStackOverflowError  \r\nNoClassDefFoundError  \r\n\r\n\r\n\r\n**Checked Exception List**  \r\nException  \r\nIOException  \r\nFileNotFoundException  \r\nParseException  \r\nClassNotFoundException  \r\nCloneNotSupportedException  \r\nInstantiationException  \r\nInterruptedException  \r\nNoSuchMethodException  \r\nNoSuchFieldException \r\n","title":"Most common checked and unchecked Java Exceptions?","body":"<p><strong>Unchecked Exception List</strong><br>\nArrayIndexOutOfBoundsException<br>\nClassCastException<br>\nIllegalArgumentException<br>\nIllegalStateException<br>\nNullPointerException<br>\nNumberFormatException<br>\nAssertionError<br>\nExceptionInInitializerError<br>\nStackOverflowError<br>\nNoClassDefFoundError  </p>\n\n<p><strong>Checked Exception List</strong><br>\nException<br>\nIOException<br>\nFileNotFoundException<br>\nParseException<br>\nClassNotFoundException<br>\nCloneNotSupportedException<br>\nInstantiationException<br>\nInterruptedException<br>\nNoSuchMethodException<br>\nNoSuchFieldException </p>\n"},{"tags":[],"owner":{"account_id":4958971,"reputation":7891,"user_id":3990767,"accept_rate":100,"display_name":"SOFe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534525592,"creation_date":1534525184,"answer_id":51899981,"question_id":1263128,"body_markdown":"I would like to contribute a list that groups by situation, which is probably more meaningful than grouping by packages or fields of programming.\r\n\r\n## Unexpected exceptions\r\nThese are exceptions that should ideally never be thrown in production. You should fix them instead of catching them and stfu.\r\n\r\n### when you test newly written code (and sometimes unexpectedly seen by users)\r\nThey should never happen again once you see them.\r\n\r\n- AssertionError\r\n  - congratulations, you are writing good code\r\n  - you should be happy that you made this error, because less (errors) is more (bugs)\r\n  - I hope you won&#39;t end up finding out that your code is correct and you accidentally inverted your assertion\r\n- NullPointerException\r\n  - where are your `@NotNull`s?\r\n  - did you check before using the return value from `Map.get()`?\r\n- ArrayIndexOutOfBoundsException\r\n  - do you check before using `List.get()`?\r\n  - I hope you know well enough that Java isn&#39;t JavaScript, arrays are fixed-sized and you can&#39;t just `array[array.length] = newElement`\r\n- ClassCastException\r\n  - too much generics is bad for your brain cells; consider moving to golang!\r\n- IllegalArgumentException\r\n  - this could sometimes mean &quot;read the &lt;i&gt;fish&lt;/i&gt;ing docs&quot;\r\n\r\nAnd less likely to see,\r\n\r\n- IllegalMonitorStateException\r\n  - yes, having to `synchronized` sucks, but it&#39;s like this in most languages\r\n- CloneNotSupportedException\r\n  - hey, just don&#39;t use clone(). aren&#39;t copy constructors cool?\r\n\r\nAnd then you get more NullPointerException.\r\n\r\nAnd then... Still NullPointerException? That `@NotNull` annotation is rubbish!\r\n\r\n### when you test newly written code for the 100th time\r\nExceptions that happen due to race conditions or rare probability. You should buy a lottery if you see them the first 10 times you run your code.\r\n\r\n- ConcurrentModificationException\r\n  - ?your `synchronized` is where\r\n- IllegalStateException\r\n- StackOverflowError (not Exception)\r\n  - have you tried tail recursion?\r\n\r\n### during compilation, deployment, etc.\r\nThey usually happen when you messed up the dependencies, used wrong versions of libraries, etc.\r\n\r\n- LinkageError\r\n- NoClassDefFoundError\r\n- java.lang.XxxNotFoundException, java.lang.NoSuchXxxException (classes, methods, etc.)\r\n  - not reflections please\r\n\r\n### when you are too lazy\r\nand when you are using `@lombok.SneakyThrows` or equivalent\r\n\r\n- RuntimeException\r\n- ? extends RuntimeException\r\n\r\n## Expected exceptions\r\nIf they are not caught, this probably means you are too lazy as well. You can&#39;t prevent them from throwing; you just have to catch them.\r\n\r\n### high likeliness\r\nThese exceptions have high likeliness to happen, and should always be handled specifically (i.e. you should actually handle them instead of just outputting the error)\r\n\r\n- NumberFormatException\r\n  - I never understand why this exception extends RuntimeException.\r\n\r\n### medium likeliness\r\nThese exceptions sometimes happen due to invalid user input (but you should really validate them, so I classify these as &quot;unexpected exceptions&quot;), and sometimes happen due to system constraints that might not be reproducible when (non-stress) testing.\r\n\r\n- IOException and other java.io.XxxException\r\n- SecurityException\r\n- StackOverflowException\r\n  - unfortunately, going to StackOverflow most likely won&#39;t fix your StackOverflowExceptions, because you will get more overflown stacks as you are looking for something to Ctrl-C and Ctrl-V\r\n- StackUnderflowException\r\n  - no, StackOverflow is still not going to help a lot\r\n- OutOfMemoryError\r\n  - I hope it&#39;s not a memory leak","title":"Most common checked and unchecked Java Exceptions?","body":"<p>I would like to contribute a list that groups by situation, which is probably more meaningful than grouping by packages or fields of programming.</p>\n\n<h2>Unexpected exceptions</h2>\n\n<p>These are exceptions that should ideally never be thrown in production. You should fix them instead of catching them and stfu.</p>\n\n<h3>when you test newly written code (and sometimes unexpectedly seen by users)</h3>\n\n<p>They should never happen again once you see them.</p>\n\n<ul>\n<li>AssertionError\n\n<ul>\n<li>congratulations, you are writing good code</li>\n<li>you should be happy that you made this error, because less (errors) is more (bugs)</li>\n<li>I hope you won't end up finding out that your code is correct and you accidentally inverted your assertion</li>\n</ul></li>\n<li>NullPointerException\n\n<ul>\n<li>where are your <code>@NotNull</code>s?</li>\n<li>did you check before using the return value from <code>Map.get()</code>?</li>\n</ul></li>\n<li>ArrayIndexOutOfBoundsException\n\n<ul>\n<li>do you check before using <code>List.get()</code>?</li>\n<li>I hope you know well enough that Java isn't JavaScript, arrays are fixed-sized and you can't just <code>array[array.length] = newElement</code></li>\n</ul></li>\n<li>ClassCastException\n\n<ul>\n<li>too much generics is bad for your brain cells; consider moving to golang!</li>\n</ul></li>\n<li>IllegalArgumentException\n\n<ul>\n<li>this could sometimes mean \"read the <i>fish</i>ing docs\"</li>\n</ul></li>\n</ul>\n\n<p>And less likely to see,</p>\n\n<ul>\n<li>IllegalMonitorStateException\n\n<ul>\n<li>yes, having to <code>synchronized</code> sucks, but it's like this in most languages</li>\n</ul></li>\n<li>CloneNotSupportedException\n\n<ul>\n<li>hey, just don't use clone(). aren't copy constructors cool?</li>\n</ul></li>\n</ul>\n\n<p>And then you get more NullPointerException.</p>\n\n<p>And then... Still NullPointerException? That <code>@NotNull</code> annotation is rubbish!</p>\n\n<h3>when you test newly written code for the 100th time</h3>\n\n<p>Exceptions that happen due to race conditions or rare probability. You should buy a lottery if you see them the first 10 times you run your code.</p>\n\n<ul>\n<li>ConcurrentModificationException\n\n<ul>\n<li>?your <code>synchronized</code> is where</li>\n</ul></li>\n<li>IllegalStateException</li>\n<li>StackOverflowError (not Exception)\n\n<ul>\n<li>have you tried tail recursion?</li>\n</ul></li>\n</ul>\n\n<h3>during compilation, deployment, etc.</h3>\n\n<p>They usually happen when you messed up the dependencies, used wrong versions of libraries, etc.</p>\n\n<ul>\n<li>LinkageError</li>\n<li>NoClassDefFoundError</li>\n<li>java.lang.XxxNotFoundException, java.lang.NoSuchXxxException (classes, methods, etc.)\n\n<ul>\n<li>not reflections please</li>\n</ul></li>\n</ul>\n\n<h3>when you are too lazy</h3>\n\n<p>and when you are using <code>@lombok.SneakyThrows</code> or equivalent</p>\n\n<ul>\n<li>RuntimeException</li>\n<li>? extends RuntimeException</li>\n</ul>\n\n<h2>Expected exceptions</h2>\n\n<p>If they are not caught, this probably means you are too lazy as well. You can't prevent them from throwing; you just have to catch them.</p>\n\n<h3>high likeliness</h3>\n\n<p>These exceptions have high likeliness to happen, and should always be handled specifically (i.e. you should actually handle them instead of just outputting the error)</p>\n\n<ul>\n<li>NumberFormatException\n\n<ul>\n<li>I never understand why this exception extends RuntimeException.</li>\n</ul></li>\n</ul>\n\n<h3>medium likeliness</h3>\n\n<p>These exceptions sometimes happen due to invalid user input (but you should really validate them, so I classify these as \"unexpected exceptions\"), and sometimes happen due to system constraints that might not be reproducible when (non-stress) testing.</p>\n\n<ul>\n<li>IOException and other java.io.XxxException</li>\n<li>SecurityException</li>\n<li>StackOverflowException\n\n<ul>\n<li>unfortunately, going to StackOverflow most likely won't fix your StackOverflowExceptions, because you will get more overflown stacks as you are looking for something to Ctrl-C and Ctrl-V</li>\n</ul></li>\n<li>StackUnderflowException\n\n<ul>\n<li>no, StackOverflow is still not going to help a lot</li>\n</ul></li>\n<li>OutOfMemoryError\n\n<ul>\n<li>I hope it's not a memory leak</li>\n</ul></li>\n</ul>\n"}],"owner":{"account_id":26913,"reputation":1629,"user_id":70448,"accept_rate":92,"display_name":"Brian Johnson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86866,"favorite_count":0,"down_vote_count":1,"up_vote_count":45,"closed_date":1537485490,"accepted_answer_id":1263165,"answer_count":9,"score":44,"last_activity_date":1680600216,"creation_date":1250027151,"question_id":1263128,"body_markdown":"As far as I understand, there is no way to find out which exceptions a method throws without looking up the API docs one-by-one. \r\n\r\nSince that is no option, I&#39;d like to reverse the research and ask you which are the most common Exceptions and RuntimeExceptions you&#39;ve come across when dealing with:\r\n\r\n- Casting\r\n- Arrays\r\n- Vector, ArrayList, HashMap, etc.\r\n- IO (File class, streams, filters, ...)\r\n- Object Serialization\r\n- Threads (wait(), sleep(), etc.)\r\n- or anything else that is considered &quot;basic Java&quot;\r\n\r\nI realize that this might be subjective and boring but it is for a class test and I really don&#39;t know better.","title":"Most common checked and unchecked Java Exceptions?","body":"<p>As far as I understand, there is no way to find out which exceptions a method throws without looking up the API docs one-by-one. </p>\n\n<p>Since that is no option, I'd like to reverse the research and ask you which are the most common Exceptions and RuntimeExceptions you've come across when dealing with:</p>\n\n<ul>\n<li>Casting</li>\n<li>Arrays</li>\n<li>Vector, ArrayList, HashMap, etc.</li>\n<li>IO (File class, streams, filters, ...)</li>\n<li>Object Serialization</li>\n<li>Threads (wait(), sleep(), etc.)</li>\n<li>or anything else that is considered \"basic Java\"</li>\n</ul>\n\n<p>I realize that this might be subjective and boring but it is for a class test and I really don't know better.</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680598230,"post_id":75922922,"comment_id":133921190,"body_markdown":"Provide a username/password for your server, which are currently empty. In addition remove the `hikaricp` dependency and `jakarta.annotation-api` dependencies, they are already provided by Spring BOot itself and in newer (and compatible) versions!/","body":"Provide a username/password for your server, which are currently empty. In addition remove the <code>hikaricp</code> dependency and <code>jakarta.annotation-api</code> dependencies, they are already provided by Spring BOot itself and in newer (and compatible) versions!/"}],"answers":[{"tags":[],"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680600140,"creation_date":1680550982,"answer_id":75923229,"question_id":75922922,"body_markdown":"If you didn&#39;t write any username and password for postgresql then write the username and password in properties file. If you wrote then double check if it is correct or not.\r\n```\r\n//Also change \r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n//to\r\nspring.jpa.hibernate.ddl-auto=create.\r\n//Once the program runs successfully change it to\r\nspring.jpa.hibernate.ddl-auto=update\r\n//before next run. ","title":"HikariPool-1 - Exception during pool initialization Error while trying to run the SpringBoot Project","body":"<p>If you didn't write any username and password for postgresql then write the username and password in properties file. If you wrote then double check if it is correct or not.</p>\n<pre><code>//Also change \nspring.jpa.hibernate.ddl-auto=create-drop\n//to\nspring.jpa.hibernate.ddl-auto=create.\n//Once the program runs successfully change it to\nspring.jpa.hibernate.ddl-auto=update\n//before next run. \n</code></pre>\n"}],"owner":{"account_id":28205901,"reputation":11,"user_id":21559005,"display_name":"Swarup Saha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680600140,"creation_date":1680548497,"question_id":75922922,"body_markdown":"I am getting an error while running the code.\r\n\r\n**The compile time error**\r\n```\r\n\r\n\r\nJava HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.4)\r\n\r\n2023-04-04T00:18:21.585+05:30  INFO 6736 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.6 with PID 6736 (D:\\SpringBoot -- Intellij\\demo\\demo\\target\\classes started by peopl in D:\\SpringBoot -- Intellij)\r\n2023-04-04T00:18:21.589+05:30  INFO 6736 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-04-04T00:18:22.210+05:30  INFO 6736 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-04-04T00:18:22.228+05:30  INFO 6736 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JPA repository interfaces.\r\n2023-04-04T00:18:22.614+05:30  INFO 6736 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-04-04T00:18:22.623+05:30  INFO 6736 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-04-04T00:18:22.623+05:30  INFO 6736 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\r\n2023-04-04T00:18:22.691+05:30  INFO 6736 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-04-04T00:18:22.691+05:30  INFO 6736 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1068 ms\r\n2023-04-04T00:18:22.794+05:30  INFO 6736 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-04-04T00:18:22.834+05:30  INFO 6736 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-04-04T00:18:23.014+05:30  INFO 6736 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-04-04T00:18:24.078+05:30 ERROR 6736 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\norg.postgresql.util.PSQLException: The server requested SCRAM-based authentication, but no password was provided.\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.lambda$doAuthentication$4(ConnectionFactoryImpl.java:838) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.AuthenticationPluginManager.withPassword(AuthenticationPluginManager.java:81) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:835) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:434) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.Driver.connect(Driver.java:291) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:11) ~[classes/:na]\r\n\r\n2023-04-04T00:18:24.084+05:30  WARN 6736 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\n\r\norg.postgresql.util.PSQLException: The server requested SCRAM-based authentication, but no password was provided.\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.lambda$doAuthentication$4(ConnectionFactoryImpl.java:838) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.AuthenticationPluginManager.withPassword(AuthenticationPluginManager.java:81) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:835) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:434) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.Driver.connect(Driver.java:291) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:11) ~[classes/:na]\r\n\r\n2023-04-04T00:18:24.093+05:30  INFO 6736 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n2023-04-04T00:18:24.476+05:30 ERROR 6736 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: PostInitCallback queue could not be processed...\r\n        - PostInitCallbackEntry - Entity(com.example.demo.student.Student) `sqmMultiTableInsertStrategy` interpretation\r\n\r\n2023-04-04T00:18:24.477+05:30  WARN 6736 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: PostInitCallback queue could not be processed...\r\n        - PostInitCallbackEntry - Entity(com.example.demo.student.Student) `sqmMultiTableInsertStrategy` interpretation\r\n\r\n2023-04-04T00:18:24.479+05:30  INFO 6736 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-04-04T00:18:24.488+05:30  INFO 6736 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-04-04T00:18:24.503+05:30 ERROR 6736 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: PostInitCallback queue could not be processed...\r\n        - PostInitCallbackEntry - Entity(com.example.demo.student.Student) `sqmMultiTableInsertStrategy` interpretation\r\n\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:11) ~[classes/:na]\r\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: PostInitCallback queue could not be processed...\r\n        - PostInitCallbackEntry - Entity(com.example.demo.student.Student) `sqmMultiTableInsertStrategy` interpretation\r\n\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-6.0.6.jar:6.0.6]\r\n\t... 16 common frames omitted\r\nCaused by: java.lang.IllegalStateException: PostInitCallback queue could not be processed...\r\n        - PostInitCallbackEntry - Entity(com.example.demo.student.Student) `sqmMultiTableInsertStrategy` interpretation\r\n\r\n\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:146) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:90) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:39) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:229) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.metamodel.internal.RuntimeMetamodelsImpl.finishInitialization(RuntimeMetamodelsImpl.java:60) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:311) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.6.jar:6.0.6]\r\n\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\n**My pom.xml file is**\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;hikari-cp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hikari-cp&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.officefloor.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;officejdbc_hikari&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.40.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;clojars&lt;/id&gt;\r\n            &lt;name&gt;Clojars&lt;/name&gt;\r\n            &lt;url&gt;https://repo.clojars.org/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n**My application properties:**\r\n\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/student\r\nspring.datasource.username=\r\nspring.datasource.password=\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\n```\r\n\r\nIs there anything that im missing? I have succesfully created the Student table in postgreSQL datbase.But everytime im getting the error.\r\n\r\n\r\nI tried mapping the Student class to the Table name Student in the Database, but unable to do so.\r\nHikari Initialization error happening again and again. Devs please help me :) ","title":"HikariPool-1 - Exception during pool initialization Error while trying to run the SpringBoot Project","body":"<p>I am getting an error while running the code.</p>\n<p><strong>The compile time error</strong></p>\n<pre><code>\n\nJava HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.4)\n\n2023-04-04T00:18:21.585+05:30  INFO 6736 --- [           main] com.example.demo.DemoApplication         : Starting DemoApplication using Java 17.0.6 with PID 6736 (D:\\SpringBoot -- Intellij\\demo\\demo\\target\\classes started by peopl in D:\\SpringBoot -- Intellij)\n2023-04-04T00:18:21.589+05:30  INFO 6736 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-04T00:18:22.210+05:30  INFO 6736 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-04T00:18:22.228+05:30  INFO 6736 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JPA repository interfaces.\n2023-04-04T00:18:22.614+05:30  INFO 6736 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-04-04T00:18:22.623+05:30  INFO 6736 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-04-04T00:18:22.623+05:30  INFO 6736 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\n2023-04-04T00:18:22.691+05:30  INFO 6736 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-04-04T00:18:22.691+05:30  INFO 6736 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1068 ms\n2023-04-04T00:18:22.794+05:30  INFO 6736 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-04-04T00:18:22.834+05:30  INFO 6736 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-04-04T00:18:23.014+05:30  INFO 6736 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-04T00:18:24.078+05:30 ERROR 6736 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: The server requested SCRAM-based authentication, but no password was provided.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.lambda$doAuthentication$4(ConnectionFactoryImpl.java:838) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.AuthenticationPluginManager.withPassword(AuthenticationPluginManager.java:81) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:835) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.Driver.makeConnection(Driver.java:434) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.Driver.connect(Driver.java:291) ~[postgresql-42.5.4.jar:42.5.4]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:11) ~[classes/:na]\n\n2023-04-04T00:18:24.084+05:30  WARN 6736 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\n\norg.postgresql.util.PSQLException: The server requested SCRAM-based authentication, but no password was provided.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.lambda$doAuthentication$4(ConnectionFactoryImpl.java:838) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.AuthenticationPluginManager.withPassword(AuthenticationPluginManager.java:81) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:835) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:203) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:253) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.Driver.makeConnection(Driver.java:434) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.Driver.connect(Driver.java:291) ~[postgresql-42.5.4.jar:42.5.4]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:36) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:119) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:255) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:230) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:207) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.model.relational.Database.&lt;init&gt;(Database.java:44) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:218) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:191) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:138) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:11) ~[classes/:na]\n\n2023-04-04T00:18:24.093+05:30  INFO 6736 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n2023-04-04T00:18:24.476+05:30 ERROR 6736 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: PostInitCallback queue could not be processed...\n        - PostInitCallbackEntry - Entity(com.example.demo.student.Student) `sqmMultiTableInsertStrategy` interpretation\n\n2023-04-04T00:18:24.477+05:30  WARN 6736 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: PostInitCallback queue could not be processed...\n        - PostInitCallbackEntry - Entity(com.example.demo.student.Student) `sqmMultiTableInsertStrategy` interpretation\n\n2023-04-04T00:18:24.479+05:30  INFO 6736 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-04-04T00:18:24.488+05:30  INFO 6736 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-04-04T00:18:24.503+05:30 ERROR 6736 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: PostInitCallback queue could not be processed...\n        - PostInitCallbackEntry - Entity(com.example.demo.student.Student) `sqmMultiTableInsertStrategy` interpretation\n\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:11) ~[classes/:na]\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: PostInitCallback queue could not be processed...\n        - PostInitCallbackEntry - Entity(com.example.demo.student.Student) `sqmMultiTableInsertStrategy` interpretation\n\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-6.0.6.jar:6.0.6]\n    ... 16 common frames omitted\nCaused by: java.lang.IllegalStateException: PostInitCallback queue could not be processed...\n        - PostInitCallbackEntry - Entity(com.example.demo.student.Student) `sqmMultiTableInsertStrategy` interpretation\n\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:146) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:90) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:39) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:229) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.metamodel.internal.RuntimeMetamodelsImpl.finishInitialization(RuntimeMetamodelsImpl.java:60) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:311) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1423) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.6.jar:6.0.6]\n\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p><strong>My pom.xml file is</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;hikari-cp&lt;/groupId&gt;\n            &lt;artifactId&gt;hikari-cp&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.officefloor.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;officejdbc_hikari&lt;/artifactId&gt;\n            &lt;version&gt;3.40.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;clojars&lt;/id&gt;\n            &lt;name&gt;Clojars&lt;/name&gt;\n            &lt;url&gt;https://repo.clojars.org/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>My application properties:</strong></p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/student\nspring.datasource.username=\nspring.datasource.password=\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\n\n</code></pre>\n<p>Is there anything that im missing? I have succesfully created the Student table in postgreSQL datbase.But everytime im getting the error.</p>\n<p>I tried mapping the Student class to the Table name Student in the Database, but unable to do so.\nHikari Initialization error happening again and again. Devs please help me :)</p>\n"},{"tags":["java","haskell","types","polymorphism","type-inference"],"comments":[{"owner":{"account_id":394329,"reputation":1434,"user_id":756714,"accept_rate":75,"display_name":"vivian"},"score":10,"creation_date":1310977871,"post_id":6730126,"comment_id":7973518,"body_markdown":"parametrically polymorphic can ignore the type that is being manipulated, for example `reverse :: [a] -&gt; [a]` is such a type.  An ad-hoc polymorphic function `sort :: Ord a =&gt; [a] -&gt; [a]` needs additonal information, guided by the class constraint, Ord a.  I&#39;m not sure of the etymological derivation of &#39;ad-hoc,&#39; but this latter form of polymorphism is not a feature of the plain lambda-calculus.","body":"parametrically polymorphic can ignore the type that is being manipulated, for example <code>reverse :: [a] -&gt; [a]</code> is such a type.  An ad-hoc polymorphic function <code>sort :: Ord a =&gt; [a] -&gt; [a]</code> needs additonal information, guided by the class constraint, Ord a.  I&#39;m not sure of the etymological derivation of &#39;ad-hoc,&#39; but this latter form of polymorphism is not a feature of the plain lambda-calculus."},{"owner":{"account_id":166907,"reputation":1904,"user_id":391362,"accept_rate":53,"display_name":"Ilya Lakhin"},"score":0,"creation_date":1310978724,"post_id":6730126,"comment_id":7973681,"body_markdown":"Thank you for your response, vivian. But, as far as I know, Java and Scala syntax implies that such information must be explicitely specified too: &lt;A extends Ord&gt; reverse(Function&lt;? extends A, ? extends A&gt; f), am I right?","body":"Thank you for your response, vivian. But, as far as I know, Java and Scala syntax implies that such information must be explicitely specified too: &lt;A extends Ord&gt; reverse(Function&lt;? extends A, ? extends A&gt; f), am I right?"},{"owner":{"display_name":"user545680"},"score":1,"creation_date":1310980522,"post_id":6730126,"comment_id":7974137,"body_markdown":"@Eliah Java does not require explicitly specified types for generic classes. For example, `List&lt;T&gt; filter(Function&lt;T&gt;, List&lt;T&gt;)` is completely agnostic to what `T` is. Your example is a mixing of parametric polymorphism and subtype polymorphism, which gives rise to covariance and contra-variance. This is a separate beast to ad-hoc polymorphism.","body":"@Eliah Java does not require explicitly specified types for generic classes. For example, <code>List&lt;T&gt; filter(Function&lt;T&gt;, List&lt;T&gt;)</code> is completely agnostic to what <code>T</code> is. Your example is a mixing of parametric polymorphism and subtype polymorphism, which gives rise to covariance and contra-variance. This is a separate beast to ad-hoc polymorphism."},{"owner":{"account_id":166907,"reputation":1904,"user_id":391362,"accept_rate":53,"display_name":"Ilya Lakhin"},"score":0,"creation_date":1310985510,"post_id":6730126,"comment_id":7975394,"body_markdown":"ok. Am I right that in Haskell notation &quot;Ord a =&gt;&quot; specifies context of possible types of &quot;a&quot;(i.e. &quot;a&quot; is of type which at least implements typeclass Ord), whereas in Java/Scala possible types of type-variable &quot;T&quot;(in the Bringer128&#39;s example) is a whole set of all possible types in the current JRE environment?","body":"ok. Am I right that in Haskell notation &quot;Ord a =&gt;&quot; specifies context of possible types of &quot;a&quot;(i.e. &quot;a&quot; is of type which at least implements typeclass Ord), whereas in Java/Scala possible types of type-variable &quot;T&quot;(in the Bringer128&#39;s example) is a whole set of all possible types in the current JRE environment?"},{"owner":{"account_id":182638,"reputation":89502,"user_id":417501,"accept_rate":92,"display_name":"fuz"},"score":2,"creation_date":1310986516,"post_id":6730126,"comment_id":7975629,"body_markdown":"@Eliah Yes. You can translate things like `Read a =&gt;` mentally to something like `&lt;? extends Read&gt;` (I am not quite sure, I haven&#39;t done any Java for a long time)","body":"@Eliah Yes. You can translate things like <code>Read a =&gt;</code> mentally to something like <code>&lt;? extends Read&gt;</code> (I am not quite sure, I haven&#39;t done any Java for a long time)"},{"owner":{"account_id":2172,"reputation":364880,"user_id":2988,"display_name":"J&#246;rg W Mittag"},"score":3,"creation_date":1310993798,"post_id":6730126,"comment_id":7977654,"body_markdown":"Just out of curiosity: why do you want to compare Java&#39;s parametric polymorphism with Haskell&#39;s ad-hoc polymorphism? Wouldn&#39;t it make more sense to compare Java&#39;s parametric polymorphism with Haskell&#39;s parametric polymorphism and Java&#39;s ad-hoc polymorphism with Haskell&#39;s ad-hoc polymorphism?","body":"Just out of curiosity: why do you want to compare Java&#39;s parametric polymorphism with Haskell&#39;s ad-hoc polymorphism? Wouldn&#39;t it make more sense to compare Java&#39;s parametric polymorphism with Haskell&#39;s parametric polymorphism and Java&#39;s ad-hoc polymorphism with Haskell&#39;s ad-hoc polymorphism?"},{"owner":{"account_id":52660,"reputation":77011,"user_id":157360,"display_name":"C. A. McCann"},"score":1,"creation_date":1310996369,"post_id":6730126,"comment_id":7978456,"body_markdown":"@vivian: For what it&#39;s worth, the term was used for type classes by Wadler and Blott in &quot;How to make ad-hoc polymorphism less ad hoc&quot;, in which they cite Strachey&#39;s &quot;Fundamental concepts in programming languages&quot;, where the term is simply defined with little fanfare, being very descriptive of the general case of arbitrary function overloading.","body":"@vivian: For what it&#39;s worth, the term was used for type classes by Wadler and Blott in &quot;How to make ad-hoc polymorphism less ad hoc&quot;, in which they cite Strachey&#39;s &quot;Fundamental concepts in programming languages&quot;, where the term is simply defined with little fanfare, being very descriptive of the general case of arbitrary function overloading."},{"owner":{"account_id":30694,"reputation":137446,"user_id":83805,"display_name":"Don Stewart"},"score":6,"creation_date":1310997558,"post_id":6730126,"comment_id":7978845,"body_markdown":"http://stackoverflow.com/questions/5671303/what-is-haskells-style-of-polymorphism/5671329#5671329 See this earlier answer","body":"<a href=\"http://stackoverflow.com/questions/5671303/what-is-haskells-style-of-polymorphism/5671329#5671329\" title=\"what is haskells style of polymorphism\">stackoverflow.com/questions/5671303/&hellip;</a> See this earlier answer"}],"answers":[{"tags":[],"owner":{"account_id":416300,"reputation":147249,"user_id":791604,"accept_rate":95,"display_name":"Daniel Wagner"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1311042491,"creation_date":1311042491,"answer_id":6741656,"question_id":6730126,"body_markdown":"A complete discussion of what parametric polymorphism and ad-hoc polymorphism mean and to what extent they&#39;re available in Haskell and in Java is longish; however, your concrete questions can be tackled much more simply:\r\n\r\n&gt; How algorithm of type inference e.g. in Java difference from the type inference in Haskell?\r\n\r\nAs far as I know, Java does not do type inference. So the difference is that Haskell does it.\r\n\r\n&gt; Please, give me an example of the situation where something can be written in Java/Scala but can not be written in Haskell(according to the modular features of these platforms too), and vice-versa.\r\n\r\nOne very simple example of something Haskell can do that Java can&#39;t is to define `maxBound :: Bounded a =&gt; a`. I don&#39;t know enough Java to point out something it can do that Haskell can&#39;t.","title":"Parametric polymorphism vs Ad-hoc polymorphism","body":"<p>A complete discussion of what parametric polymorphism and ad-hoc polymorphism mean and to what extent they're available in Haskell and in Java is longish; however, your concrete questions can be tackled much more simply:</p>\n\n<blockquote>\n  <p>How algorithm of type inference e.g. in Java difference from the type inference in Haskell?</p>\n</blockquote>\n\n<p>As far as I know, Java does not do type inference. So the difference is that Haskell does it.</p>\n\n<blockquote>\n  <p>Please, give me an example of the situation where something can be written in Java/Scala but can not be written in Haskell(according to the modular features of these platforms too), and vice-versa.</p>\n</blockquote>\n\n<p>One very simple example of something Haskell can do that Java can't is to define <code>maxBound :: Bounded a =&gt; a</code>. I don't know enough Java to point out something it can do that Haskell can't.</p>\n"},{"tags":[],"owner":{"account_id":20179,"reputation":11917,"user_id":47978,"accept_rate":67,"display_name":"Francois G"},"down_vote_count":0,"up_vote_count":91,"is_accepted":true,"score":91,"last_activity_date":1680600036,"creation_date":1312053409,"answer_id":6885445,"question_id":6730126,"body_markdown":"As per the [TAPL][1], &#167;23.2:\r\n\r\n&gt; Parametric polymorphism (...), allows a single piece of\r\ncode to be typed generically, using variables in place of actual types, and\r\nthen instantiated with particular types as needed. Parametric definitions\r\nare uniform: all of their instances behave the same. (...)\r\n\r\n&gt; Ad-hoc polymorphism, by contrast, allows a polymorphic value to exhibit\r\ndifferent behaviors when viewed at different types. The most common\r\nexample of ad-hoc polymorphism is overloading, which associates a single\r\nfunction symbol with many implementations; the compiler (or the runtime system, depending on whether overloading resolution is static or dynamic) chooses an appropriate implementation for each application of the\r\nfunction, based on the types of the arguments.\r\n\r\nSo, if you consider successive stages of history, non-generic official Java (a.k.a pre-[J2SE 5.0][2], bef. sept. 2004) had ad-hoc polymorphism - so you could [overload a method][3] - but not parametric polymorphism, so you couldn&#39;t [write a generic method][4]. Afterwards you could do both, of course.\r\n\r\nBy comparison, since its very beginning [in 1990][5], Haskell was parametrically polymorphic, meaning you could write:\r\n\r\n    swap :: (A; B) -&gt; (B; A)\r\n    swap (x; y) = (y; x)\r\n\r\nwhere A and B are type variables can be instantiated to *all* types, without assumptions.\r\n\r\nBut there was no preexisting construct giving *ad-hoc* polymorphism, which intends to let you write functions that apply to *several*, but *not all* types. Type classes were implemented as a way of achieving this goal. \r\n\r\nThey let you describe a *class* (something akin to a Java interface), giving the *type signature* of the functions you want implemented for your generic type. Then you can register some (and hopefully, *several*) *instances* matching this class. In the meantime, you can write a generic method such as : \r\n\r\n    between :: (Ord a)  a -&gt; a -&gt; a -&gt; Bool\r\n    between x y z = x  y ^ y  z\r\n\r\nwhere the `Ord` is the class that defines the function `(_  _)`. When used, `(between &quot;abc&quot; &quot;d&quot; &quot;ghi&quot;)` is *resolved statically* to select the right *instance* for strings (rather than e.g. integers) - exactly at the moment when (Java&#39;s) method overloading would. \r\n\r\nYou can do something similar in Java with [bounded wildcards][6]. But the **key difference between Haskell and Java on that front is that only Haskell can do dictionary passing automatically**: in both languages, given two instances of `Ord T`, say `b0` and `b1`, you can build a function `f` that takes those as arguments and produces the instance for the pair type `(b0, b1)`, using, say, the lexicographic order. Say now that you are given `((&quot;hello&quot;, 2), ((3, &quot;hi&quot;), 5))`. In Java you have to remember the instances for `string` and `int`, and pass the correct instance (made of four applications of `f`!) in order to apply `between` to that object. Haskell can apply [compositionality][7], and figure out how to build the correct instance given just the ground instances and the `f` constructor (this extends to other constructors, of course) .\r\n\r\n---\r\n\r\nNow, as far as *type inference* goes (and this should probably be a distinct question), for both languages it is *incomplete*, in the sense that you can always write an **un-annotated** program for which the compiler won&#39;t be able to determine the type. \r\n\r\n1. for Haskell, this is because it has [impredicative][8] (a.k.a. first-class) polymorphism, for which type inference is undecidable. Note that on that point, Java is limited to first-order polymorphism (something on which Scala expands).\r\n\r\n2. for Java, this is because it supports [contravariant subtyping][17].\r\n\r\nBut those languages mainly differ in the **range of program statements to which type inference applies** in practice, and in the **importance given to the correctness** of the type inference results.\r\n\r\n1. For Haskell, inference applies to all &quot;non-highly polymorphic&quot; terms, and make a serious effort to return sound results based on published extensions of a well-known algorithm:\r\n  - At its core, Haskell&#39;s inference is based on [Hindley-Milner][9], which gives you complete results as soon as when infering the type of an application, *type variables* (e.g. the `A` and `B` in the example above) can be only instantiated with *non-polymorphic* types (I&#39;m simplifying, but this is essentially the ML-style polymorphism you can find in e.g. Ocaml.).\r\n  - a recent GHC will make sure that a type annotation may be required [only for a let-binding or -abstraction that has a non-Damas-Milner type][10].\r\n  - Haskell has tried to stay relatively close to this inferrable core across even its most hairy extensions (e.g. [GADTs][11]). At any rate, proposed extensions nearly always come in a paper with a proof of the *correctness* of the extended type inference .\r\n\r\n\r\n\r\n2. For Java, type inference applies in a *much more limited fashion* anyway : \r\n\r\n &gt; Prior to the release of Java 5, there was no type inference in Java. According to the Java language culture, **the type of every variable, method, and dynamically allocated object must be explicitly declared by the programmer**. When generics (classes and methods parameterized by type) were introduced in Java 5, **the language retained this requirement for variables, methods, and allocations**. But the introduction of polymorphic methods (parameterized by type) dictated that either (i) the programmer provide the method type arguments at every polymorphic method call site or (ii) the language support the inference of method type arguments. To avoid creating an additional clerical burden for programmers, the designers of Java 5 elected to perform type inference to determine the type arguments **for polymorphic method calls**. ([source][12], emphasis mine)\r\n\r\n  The [inference algorithm][13] is essentially [that of GJ][14], but with a [somewhat][15] [kludgy][16] addition of wildcards as an afterthought (Note that I am not up to date on the possible corrections made in J2SE 6.0, though). The large conceptual difference in approach is that Java&#39;s inference is  *local*, in the sense that the inferred type of an expression depends only on constraints generated from the type system and on the types of its sub-expressions, but not on the context.\r\n\r\n  Note that the party line regarding the incomplete &amp; sometimes incorrect type inference is relatively laid back. As per [the spec][18]:\r\n\r\n  &gt; Note also that type inference does not affect soundness in any way. If the types inferred are nonsensical, the invocation will yield a type error. The type inference algorithm should be viewed as a heuristic, designed to perform well in practice. If it fails to infer the desired result, explicit type parameters may be used instead.\r\n\r\n\r\n  [1]: http://www.cis.upenn.edu/~bcpierce/tapl/\r\n  [2]: http://en.wikipedia.org/wiki/J2SE_5.0#J2SE_5.0_.28September_30.2C_2004.29\r\n  [3]: http://download.oracle.com/javase/tutorial/java/javaOO/methods.html\r\n  [4]: http://download.oracle.com/javase/tutorial/extra/generics/methods.html\r\n  [5]: http://research.microsoft.com/en-us/um/people/simonpj/papers/history-of-haskell/\r\n  [6]: http://download.oracle.com/javase/tutorial/java/generics/wildcards.html\r\n  [7]: http://en.wikipedia.org/wiki/Compositionality\r\n  [8]: http://en.wikipedia.org/wiki/Parametric_polymorphism#Higher-ranked_polymorphism\r\n  [9]: http://en.wikipedia.org/wiki/Hindley%E2%80%93Milner_type_inference_algorithm#Hindley.E2.80.93Milner_type_inference_algorithm\r\n  [10]: http://research.microsoft.com/en-us/um/people/simonpj/papers/boxy/\r\n  [11]: http://research.microsoft.com/pubs/67443/gadt-pldi.pdf\r\n  [12]: http://portal.acm.org/citation.cfm?id=1449804\r\n  [13]: http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.12.2.7\r\n  [14]: https://lamp.epfl.ch/pizza/gj/Documents/gj-oopsla.pdf\r\n  [15]: http://www.cis.upenn.edu/~stevez/papers/MZ06-buggy.pdf\r\n  [16]: http://portal.acm.org/citation.cfm?id=1449804\r\n  [17]: http://research.microsoft.com/pubs/64041/fool2007.pdf\r\n  [18]: http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.12.2.7","title":"Parametric polymorphism vs Ad-hoc polymorphism","body":"<p>As per the <a href=\"http://www.cis.upenn.edu/%7Ebcpierce/tapl/\" rel=\"nofollow noreferrer\">TAPL</a>, 23.2:</p>\n<blockquote>\n<p>Parametric polymorphism (...), allows a single piece of\ncode to be typed generically, using variables in place of actual types, and\nthen instantiated with particular types as needed. Parametric definitions\nare uniform: all of their instances behave the same. (...)</p>\n</blockquote>\n<blockquote>\n<p>Ad-hoc polymorphism, by contrast, allows a polymorphic value to exhibit\ndifferent behaviors when viewed at different types. The most common\nexample of ad-hoc polymorphism is overloading, which associates a single\nfunction symbol with many implementations; the compiler (or the runtime system, depending on whether overloading resolution is static or dynamic) chooses an appropriate implementation for each application of the\nfunction, based on the types of the arguments.</p>\n</blockquote>\n<p>So, if you consider successive stages of history, non-generic official Java (a.k.a pre-<a href=\"http://en.wikipedia.org/wiki/J2SE_5.0#J2SE_5.0_.28September_30.2C_2004.29\" rel=\"nofollow noreferrer\">J2SE 5.0</a>, bef. sept. 2004) had ad-hoc polymorphism - so you could <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">overload a method</a> - but not parametric polymorphism, so you couldn't <a href=\"http://download.oracle.com/javase/tutorial/extra/generics/methods.html\" rel=\"nofollow noreferrer\">write a generic method</a>. Afterwards you could do both, of course.</p>\n<p>By comparison, since its very beginning <a href=\"http://research.microsoft.com/en-us/um/people/simonpj/papers/history-of-haskell/\" rel=\"nofollow noreferrer\">in 1990</a>, Haskell was parametrically polymorphic, meaning you could write:</p>\n<pre><code>swap :: (A; B) -&gt; (B; A)\nswap (x; y) = (y; x)\n</code></pre>\n<p>where A and B are type variables can be instantiated to <em>all</em> types, without assumptions.</p>\n<p>But there was no preexisting construct giving <em>ad-hoc</em> polymorphism, which intends to let you write functions that apply to <em>several</em>, but <em>not all</em> types. Type classes were implemented as a way of achieving this goal.</p>\n<p>They let you describe a <em>class</em> (something akin to a Java interface), giving the <em>type signature</em> of the functions you want implemented for your generic type. Then you can register some (and hopefully, <em>several</em>) <em>instances</em> matching this class. In the meantime, you can write a generic method such as :</p>\n<pre><code>between :: (Ord a)  a -&gt; a -&gt; a -&gt; Bool\nbetween x y z = x  y ^ y  z\n</code></pre>\n<p>where the <code>Ord</code> is the class that defines the function <code>(_  _)</code>. When used, <code>(between &quot;abc&quot; &quot;d&quot; &quot;ghi&quot;)</code> is <em>resolved statically</em> to select the right <em>instance</em> for strings (rather than e.g. integers) - exactly at the moment when (Java's) method overloading would.</p>\n<p>You can do something similar in Java with <a href=\"http://download.oracle.com/javase/tutorial/java/generics/wildcards.html\" rel=\"nofollow noreferrer\">bounded wildcards</a>. But the <strong>key difference between Haskell and Java on that front is that only Haskell can do dictionary passing automatically</strong>: in both languages, given two instances of <code>Ord T</code>, say <code>b0</code> and <code>b1</code>, you can build a function <code>f</code> that takes those as arguments and produces the instance for the pair type <code>(b0, b1)</code>, using, say, the lexicographic order. Say now that you are given <code>((&quot;hello&quot;, 2), ((3, &quot;hi&quot;), 5))</code>. In Java you have to remember the instances for <code>string</code> and <code>int</code>, and pass the correct instance (made of four applications of <code>f</code>!) in order to apply <code>between</code> to that object. Haskell can apply <a href=\"http://en.wikipedia.org/wiki/Compositionality\" rel=\"nofollow noreferrer\">compositionality</a>, and figure out how to build the correct instance given just the ground instances and the <code>f</code> constructor (this extends to other constructors, of course) .</p>\n<hr />\n<p>Now, as far as <em>type inference</em> goes (and this should probably be a distinct question), for both languages it is <em>incomplete</em>, in the sense that you can always write an <strong>un-annotated</strong> program for which the compiler won't be able to determine the type.</p>\n<ol>\n<li><p>for Haskell, this is because it has <a href=\"http://en.wikipedia.org/wiki/Parametric_polymorphism#Higher-ranked_polymorphism\" rel=\"nofollow noreferrer\">impredicative</a> (a.k.a. first-class) polymorphism, for which type inference is undecidable. Note that on that point, Java is limited to first-order polymorphism (something on which Scala expands).</p>\n</li>\n<li><p>for Java, this is because it supports <a href=\"http://research.microsoft.com/pubs/64041/fool2007.pdf\" rel=\"nofollow noreferrer\">contravariant subtyping</a>.</p>\n</li>\n</ol>\n<p>But those languages mainly differ in the <strong>range of program statements to which type inference applies</strong> in practice, and in the <strong>importance given to the correctness</strong> of the type inference results.</p>\n<ol>\n<li>For Haskell, inference applies to all &quot;non-highly polymorphic&quot; terms, and make a serious effort to return sound results based on published extensions of a well-known algorithm:</li>\n</ol>\n<ul>\n<li>At its core, Haskell's inference is based on <a href=\"http://en.wikipedia.org/wiki/Hindley%E2%80%93Milner_type_inference_algorithm#Hindley.E2.80.93Milner_type_inference_algorithm\" rel=\"nofollow noreferrer\">Hindley-Milner</a>, which gives you complete results as soon as when infering the type of an application, <em>type variables</em> (e.g. the <code>A</code> and <code>B</code> in the example above) can be only instantiated with <em>non-polymorphic</em> types (I'm simplifying, but this is essentially the ML-style polymorphism you can find in e.g. Ocaml.).</li>\n<li>a recent GHC will make sure that a type annotation may be required <a href=\"http://research.microsoft.com/en-us/um/people/simonpj/papers/boxy/\" rel=\"nofollow noreferrer\">only for a let-binding or -abstraction that has a non-Damas-Milner type</a>.</li>\n<li>Haskell has tried to stay relatively close to this inferrable core across even its most hairy extensions (e.g. <a href=\"http://research.microsoft.com/pubs/67443/gadt-pldi.pdf\" rel=\"nofollow noreferrer\">GADTs</a>). At any rate, proposed extensions nearly always come in a paper with a proof of the <em>correctness</em> of the extended type inference .</li>\n</ul>\n<ol start=\"2\">\n<li>For Java, type inference applies in a <em>much more limited fashion</em> anyway :</li>\n</ol>\n<blockquote>\n<p>Prior to the release of Java 5, there was no type inference in Java. According to the Java language culture, <strong>the type of every variable, method, and dynamically allocated object must be explicitly declared by the programmer</strong>. When generics (classes and methods parameterized by type) were introduced in Java 5, <strong>the language retained this requirement for variables, methods, and allocations</strong>. But the introduction of polymorphic methods (parameterized by type) dictated that either (i) the programmer provide the method type arguments at every polymorphic method call site or (ii) the language support the inference of method type arguments. To avoid creating an additional clerical burden for programmers, the designers of Java 5 elected to perform type inference to determine the type arguments <strong>for polymorphic method calls</strong>. (<a href=\"http://portal.acm.org/citation.cfm?id=1449804\" rel=\"nofollow noreferrer\">source</a>, emphasis mine)</p>\n</blockquote>\n<p>The <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.12.2.7\" rel=\"nofollow noreferrer\">inference algorithm</a> is essentially <a href=\"https://lamp.epfl.ch/pizza/gj/Documents/gj-oopsla.pdf\" rel=\"nofollow noreferrer\">that of GJ</a>, but with a <a href=\"http://www.cis.upenn.edu/%7Estevez/papers/MZ06-buggy.pdf\" rel=\"nofollow noreferrer\">somewhat</a> <a href=\"http://portal.acm.org/citation.cfm?id=1449804\" rel=\"nofollow noreferrer\">kludgy</a> addition of wildcards as an afterthought (Note that I am not up to date on the possible corrections made in J2SE 6.0, though). The large conceptual difference in approach is that Java's inference is  <em>local</em>, in the sense that the inferred type of an expression depends only on constraints generated from the type system and on the types of its sub-expressions, but not on the context.</p>\n<p>Note that the party line regarding the incomplete &amp; sometimes incorrect type inference is relatively laid back. As per <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.12.2.7\" rel=\"nofollow noreferrer\">the spec</a>:</p>\n<blockquote>\n<p>Note also that type inference does not affect soundness in any way. If the types inferred are nonsensical, the invocation will yield a type error. The type inference algorithm should be viewed as a heuristic, designed to perform well in practice. If it fails to infer the desired result, explicit type parameters may be used instead.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":151431,"reputation":61970,"user_id":365298,"accept_rate":67,"display_name":"Rose Perrone"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1351093354,"creation_date":1351054768,"answer_id":13043262,"question_id":6730126,"body_markdown":"**Parametric polymorphism** means, we don&#39;t care about the type, we&#39;ll implement the function the same for any type. For example, in Haskell:\r\n\r\n    length :: [a] -&gt; Int\r\n    length [] = 0          \r\n    length (x:xs) = 1 + length xs\r\n\r\nWe don&#39;t care what the type of the elements of the list are, we just care how many there are.\r\n\r\n**Ad-hoc polymorphism (aka method overloading)**, however, means that we&#39;ll use a different implementation depending on the type of the parameter. \r\n\r\nHere&#39;s an example in Haskell. Let&#39;s say we want to define a function called `makeBreakfast`. \r\n\r\nIf the input parameter is `Eggs`, I want `makeBreakfast` to return a message on how to make eggs. \r\n\r\nIf the input parameter is `Pancakes`, I want `makeBreakfast` to return a message on how to make pancakes.\r\n\r\nWe&#39;ll create a typeclass called `BreakfastFood` that implements the `makeBreakfast` function. The implementation of `makeBreakfast` will be different depending on the type of the input to `makeBreakfast`.\r\n\r\n    class BreakfastFood food where\r\n      makeBreakfast :: food -&gt; String\r\n    \r\n    instance BreakfastFood Eggs where\r\n      makeBreakfast = &quot;First crack &#39;em, then fry &#39;em&quot;\r\n    \r\n    instance BreakfastFood Toast where\r\n      makeBreakfast = &quot;Put bread in the toaster until brown&quot;\r\n\r\n\r\nAccording to John Mitchell&#39;s *Concepts in Programming Languages*,\r\n\r\n&gt; The key difference between parametric polymorphism and overloading (aka ad-hoc polymorphism) is that parameteric polymorphic functions use one algorithm to operate on arguments of many different types, whereas overloaded functions may use a different algorithm for each type of argument.","title":"Parametric polymorphism vs Ad-hoc polymorphism","body":"<p><strong>Parametric polymorphism</strong> means, we don't care about the type, we'll implement the function the same for any type. For example, in Haskell:</p>\n\n<pre><code>length :: [a] -&gt; Int\nlength [] = 0          \nlength (x:xs) = 1 + length xs\n</code></pre>\n\n<p>We don't care what the type of the elements of the list are, we just care how many there are.</p>\n\n<p><strong>Ad-hoc polymorphism (aka method overloading)</strong>, however, means that we'll use a different implementation depending on the type of the parameter. </p>\n\n<p>Here's an example in Haskell. Let's say we want to define a function called <code>makeBreakfast</code>. </p>\n\n<p>If the input parameter is <code>Eggs</code>, I want <code>makeBreakfast</code> to return a message on how to make eggs. </p>\n\n<p>If the input parameter is <code>Pancakes</code>, I want <code>makeBreakfast</code> to return a message on how to make pancakes.</p>\n\n<p>We'll create a typeclass called <code>BreakfastFood</code> that implements the <code>makeBreakfast</code> function. The implementation of <code>makeBreakfast</code> will be different depending on the type of the input to <code>makeBreakfast</code>.</p>\n\n<pre><code>class BreakfastFood food where\n  makeBreakfast :: food -&gt; String\n\ninstance BreakfastFood Eggs where\n  makeBreakfast = \"First crack 'em, then fry 'em\"\n\ninstance BreakfastFood Toast where\n  makeBreakfast = \"Put bread in the toaster until brown\"\n</code></pre>\n\n<p>According to John Mitchell's <em>Concepts in Programming Languages</em>,</p>\n\n<blockquote>\n  <p>The key difference between parametric polymorphism and overloading (aka ad-hoc polymorphism) is that parameteric polymorphic functions use one algorithm to operate on arguments of many different types, whereas overloaded functions may use a different algorithm for each type of argument.</p>\n</blockquote>\n"}],"owner":{"account_id":166907,"reputation":1904,"user_id":391362,"accept_rate":53,"display_name":"Ilya Lakhin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28152,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":6885445,"answer_count":3,"score":76,"last_activity_date":1680600036,"creation_date":1310976326,"question_id":6730126,"body_markdown":"I would like to understand the key difference between parametric polymorphism such as polymorphism of generic classes/functions in the Java/Scala/C++ languages and &quot;ad-hoc&quot; polymorphism in the Haskell type system. I&#39;m familiar with the first kind of languages, but I have never worked with the Haskell.\r\n\r\nMore precisely:\r\n\r\n 1. How is type inference algorithm e.g. in Java different from the type inference in Haskell?\r\n 2. Please, give me an example of the situation where something can be written in Java/Scala but cannot be written in Haskell(according to the modular features of these platforms too), and vice-versa.","title":"Parametric polymorphism vs Ad-hoc polymorphism","body":"<p>I would like to understand the key difference between parametric polymorphism such as polymorphism of generic classes/functions in the Java/Scala/C++ languages and &quot;ad-hoc&quot; polymorphism in the Haskell type system. I'm familiar with the first kind of languages, but I have never worked with the Haskell.</p>\n<p>More precisely:</p>\n<ol>\n<li>How is type inference algorithm e.g. in Java different from the type inference in Haskell?</li>\n<li>Please, give me an example of the situation where something can be written in Java/Scala but cannot be written in Haskell(according to the modular features of these platforms too), and vice-versa.</li>\n</ol>\n"},{"tags":["javascript","java","html","css","thymeleaf"],"owner":{"account_id":18251923,"reputation":1,"user_id":13286746,"display_name":"P P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680599823,"creation_date":1680599823,"question_id":75927592,"body_markdown":"I am really lost with trying to order cards elements by span elements inside it.\r\nThe span elements can have two value (0,1 for example,i use id and name for it) and i want to use one button to order this value and show cards in order. \r\n\r\nThis is the code:  \r\n\r\n``` \r\n&lt;div class=&#39;right&#39;&gt;\r\n        &lt;button type=&#39;button&#39; class=&#39;btn btn-primary&#39; onclick=&#39;order()&#39;&gt;Ordina&lt;/button&gt;&lt;br&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;script&gt;\r\nfunction order(){\r\n//i try code here\r\n}\r\n&lt;/script&gt;\r\n&lt;div class=&quot;accordion&quot; th:id=&quot;${#ids.seq(&#39;comun&#39;)}&quot;&gt;\r\n\t\t      &lt;div class=&quot;card&quot; th:each=&quot;c, cIter : *{comunList}&quot; th:classappend=&quot;${c.protProvv ? &#39;bg-secondary&#39; : &#39;&#39;}&quot;&gt;\r\n\t\t        &lt;div class=&quot;card-header&quot; th:id=&quot;|descriz-comun-${cIter.count}|&quot;&gt;\r\n\t            &lt;button th:unless=&quot;*{iscomunSelez(&#39;__${c.stringKey}__&#39;)}&quot; class=&quot;btn btn-link&quot; type=&quot;submit&quot; name=&quot;caricacomun&quot; data-toggle=&quot;collapse&quot; th:value=&quot;${c.stringKey}&quot; th:data-target=&quot;|#dett-comun-${cIter.count}|&quot;&gt;\r\n                 &lt;i class=&quot;fa fa-arrow-circle-down&quot;&gt;&lt;/i&gt;\r\n\t            &lt;/button&gt;\r\n              &lt;button th:if=&quot;*{iscomunSelez(&#39;__${c.stringKey}__&#39;)}&quot; class=&quot;btn btn-link&quot; type=&quot;button&quot; data-toggle=&quot;collapse&quot; th:data-target=&quot;|#dett-comun-${cIter.count}|&quot;&gt;\r\n                &lt;i class=&quot;fa fa-arrow-circle-up&quot;&gt;&lt;/i&gt;\r\n              &lt;/button&gt;\r\n              &lt;span class=&quot;mr-auto&quot; th:text=&quot;|comun ${c.idMnem}|&quot;&gt;Test&lt;/span&gt;\r\n              &lt;i th:if=&quot;${c.protProvv}&quot; class=&quot;fa fa-info-circle text-warning&quot; data-toggle=&quot;tooltip&quot; title=&quot;error&quot;&gt;&lt;/i&gt;\r\n              &lt;div class=&quot;float-right&quot; th:include=&quot;WEB/template/contrs :: statRic(${c})&quot;&gt;&lt;/div&gt;\r\n\t\t        &lt;/div&gt;\r\n\r\n\r\n            &lt;div th:fragment=&quot;statRic(cont)&quot; th:remove=&quot;tag&quot;&gt;\r\n  \r\n              &lt;span th:if=&quot;${ cont.ratced == cont.ratric   }&quot; name=&#39;esit&#39; id=&#39;esit&#39; class=&quot;fa-stack fa-1x text-success&quot;&gt; \r\n                &lt;i class=&quot;fa fa-certificate fa-stack-2x&quot;&gt;&lt;/i&gt;\r\n                &lt;i class=&quot;fa fa-check fa-stack-1x fa-inverse&quot;&gt;&lt;/i&gt;\r\n              &lt;/span&gt;\r\n            \r\n            \r\n               &lt;span th:unless=&quot;${cont.ratced == cont.ratric}&quot; name=&#39;esit&#39; id=&#39;esit&#39; class=&quot;fa-stack fa-1x text-warning&quot; data-toggle=&quot;tooltip&quot; th:title=&quot;error2&quot; data-compact-view=&quot;true&quot;&gt;\r\n                &lt;i class=&quot;fa fa-circle fa-stack-2x&quot;&gt;&lt;/i&gt;\r\n                &lt;i class=&quot;fa fa-exclamation fa-stack-1x fa-inverse&quot;&gt;&lt;/i&gt;\r\n              &lt;/span&gt;\r\n          \r\n            &lt;/div&gt;\r\n```\r\n","title":"order cards element by span value (javascript, thymeleaf)","body":"<p>I am really lost with trying to order cards elements by span elements inside it.\nThe span elements can have two value (0,1 for example,i use id and name for it) and i want to use one button to order this value and show cards in order.</p>\n<p>This is the code:</p>\n<pre><code>&lt;div class='right'&gt;\n        &lt;button type='button' class='btn btn-primary' onclick='order()'&gt;Ordina&lt;/button&gt;&lt;br&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\nfunction order(){\n//i try code here\n}\n&lt;/script&gt;\n&lt;div class=&quot;accordion&quot; th:id=&quot;${#ids.seq('comun')}&quot;&gt;\n              &lt;div class=&quot;card&quot; th:each=&quot;c, cIter : *{comunList}&quot; th:classappend=&quot;${c.protProvv ? 'bg-secondary' : ''}&quot;&gt;\n                &lt;div class=&quot;card-header&quot; th:id=&quot;|descriz-comun-${cIter.count}|&quot;&gt;\n                &lt;button th:unless=&quot;*{iscomunSelez('__${c.stringKey}__')}&quot; class=&quot;btn btn-link&quot; type=&quot;submit&quot; name=&quot;caricacomun&quot; data-toggle=&quot;collapse&quot; th:value=&quot;${c.stringKey}&quot; th:data-target=&quot;|#dett-comun-${cIter.count}|&quot;&gt;\n                 &lt;i class=&quot;fa fa-arrow-circle-down&quot;&gt;&lt;/i&gt;\n                &lt;/button&gt;\n              &lt;button th:if=&quot;*{iscomunSelez('__${c.stringKey}__')}&quot; class=&quot;btn btn-link&quot; type=&quot;button&quot; data-toggle=&quot;collapse&quot; th:data-target=&quot;|#dett-comun-${cIter.count}|&quot;&gt;\n                &lt;i class=&quot;fa fa-arrow-circle-up&quot;&gt;&lt;/i&gt;\n              &lt;/button&gt;\n              &lt;span class=&quot;mr-auto&quot; th:text=&quot;|comun ${c.idMnem}|&quot;&gt;Test&lt;/span&gt;\n              &lt;i th:if=&quot;${c.protProvv}&quot; class=&quot;fa fa-info-circle text-warning&quot; data-toggle=&quot;tooltip&quot; title=&quot;error&quot;&gt;&lt;/i&gt;\n              &lt;div class=&quot;float-right&quot; th:include=&quot;WEB/template/contrs :: statRic(${c})&quot;&gt;&lt;/div&gt;\n                &lt;/div&gt;\n\n\n            &lt;div th:fragment=&quot;statRic(cont)&quot; th:remove=&quot;tag&quot;&gt;\n  \n              &lt;span th:if=&quot;${ cont.ratced == cont.ratric   }&quot; name='esit' id='esit' class=&quot;fa-stack fa-1x text-success&quot;&gt; \n                &lt;i class=&quot;fa fa-certificate fa-stack-2x&quot;&gt;&lt;/i&gt;\n                &lt;i class=&quot;fa fa-check fa-stack-1x fa-inverse&quot;&gt;&lt;/i&gt;\n              &lt;/span&gt;\n            \n            \n               &lt;span th:unless=&quot;${cont.ratced == cont.ratric}&quot; name='esit' id='esit' class=&quot;fa-stack fa-1x text-warning&quot; data-toggle=&quot;tooltip&quot; th:title=&quot;error2&quot; data-compact-view=&quot;true&quot;&gt;\n                &lt;i class=&quot;fa fa-circle fa-stack-2x&quot;&gt;&lt;/i&gt;\n                &lt;i class=&quot;fa fa-exclamation fa-stack-1x fa-inverse&quot;&gt;&lt;/i&gt;\n              &lt;/span&gt;\n          \n            &lt;/div&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":64961,"reputation":3691,"user_id":191466,"accept_rate":83,"display_name":"philonous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1651670673,"creation_date":1651670673,"answer_id":72113721,"question_id":72082605,"body_markdown":"Here&#39;s a minimal working example for the structure from above: \r\n\r\n    try (PDDocument document = new PDDocument()) {\r\n        final PDPage page = new PDPage(PDRectangle.A4);\r\n        document.addPage(page);\r\n    \r\n        try (PDPageContentStream contentStream = new PDPageContentStream(document, page)) {\r\n    \r\n            // Build the table\r\n            Table myTable = Table.builder()\r\n                    .addColumnsOfWidth(20, 20, 20, 20, 20, 20, 20)\r\n                    .padding(2)\r\n                    .borderWidth(1)\r\n                    .borderColor(Color.gray)\r\n                    .horizontalAlignment(HorizontalAlignment.CENTER)\r\n                    .addRow(Row.builder()\r\n                            .add(TextCell.builder().text(&quot;a&quot;).colSpan(7).build())\r\n                            .build())\r\n                    .addRow(Row.builder()\r\n                            .add(TextCell.builder().text(&quot;b&quot;).rowSpan(2).build())\r\n                            .add(TextCell.builder().text(&quot;c&quot;).colSpan(3).build())\r\n                            .add(TextCell.builder().text(&quot;d&quot;).colSpan(3).build())\r\n                            .build())\r\n                    .addRow(Row.builder()\r\n                            .add(TextCell.builder().text(&quot;e&quot;).build())\r\n                            .add(TextCell.builder().text(&quot;f&quot;).build())\r\n                            .add(TextCell.builder().text(&quot;g&quot;).build())\r\n                            .add(TextCell.builder().text(&quot;h&quot;).build())\r\n                            .add(TextCell.builder().text(&quot;i&quot;).build())\r\n                            .add(TextCell.builder().text(&quot;j&quot;).build())\r\n                            .build())\r\n                    .build();\r\n    \r\n            // Set up the drawer\r\n            TableDrawer tableDrawer = TableDrawer.builder()\r\n                    .contentStream(contentStream)\r\n                    .startX(20f)\r\n                    .startY(page.getMediaBox().getUpperRightY() - 20f)\r\n                    .table(myTable)\r\n                    .build();\r\n    \r\n            // And go for it!\r\n            tableDrawer.draw();\r\n        }\r\n    \r\n        document.save(&quot;example.pdf&quot;);\r\n    }","title":"How to create a table of this format in EasyTable","body":"<p>Here's a minimal working example for the structure from above:</p>\n<pre><code>try (PDDocument document = new PDDocument()) {\n    final PDPage page = new PDPage(PDRectangle.A4);\n    document.addPage(page);\n\n    try (PDPageContentStream contentStream = new PDPageContentStream(document, page)) {\n\n        // Build the table\n        Table myTable = Table.builder()\n                .addColumnsOfWidth(20, 20, 20, 20, 20, 20, 20)\n                .padding(2)\n                .borderWidth(1)\n                .borderColor(Color.gray)\n                .horizontalAlignment(HorizontalAlignment.CENTER)\n                .addRow(Row.builder()\n                        .add(TextCell.builder().text(&quot;a&quot;).colSpan(7).build())\n                        .build())\n                .addRow(Row.builder()\n                        .add(TextCell.builder().text(&quot;b&quot;).rowSpan(2).build())\n                        .add(TextCell.builder().text(&quot;c&quot;).colSpan(3).build())\n                        .add(TextCell.builder().text(&quot;d&quot;).colSpan(3).build())\n                        .build())\n                .addRow(Row.builder()\n                        .add(TextCell.builder().text(&quot;e&quot;).build())\n                        .add(TextCell.builder().text(&quot;f&quot;).build())\n                        .add(TextCell.builder().text(&quot;g&quot;).build())\n                        .add(TextCell.builder().text(&quot;h&quot;).build())\n                        .add(TextCell.builder().text(&quot;i&quot;).build())\n                        .add(TextCell.builder().text(&quot;j&quot;).build())\n                        .build())\n                .build();\n\n        // Set up the drawer\n        TableDrawer tableDrawer = TableDrawer.builder()\n                .contentStream(contentStream)\n                .startX(20f)\n                .startY(page.getMediaBox().getUpperRightY() - 20f)\n                .table(myTable)\n                .build();\n\n        // And go for it!\n        tableDrawer.draw();\n    }\n\n    document.save(&quot;example.pdf&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17683470,"reputation":158,"user_id":12836822,"display_name":"Ashrik Ahamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680599294,"creation_date":1680533216,"answer_id":75920751,"question_id":72082605,"body_markdown":"This is my pdf generation code, which has a table,\r\n\r\n    Set&lt;MyObject&gt; myObj = myObject.getItems();\r\n            if (myObject2 != null &amp;&amp; !myObject2.isEmpty()) {\r\n                List&lt;String&gt; headerNames = new ArrayList&lt;&gt;(Arrays.asList(&quot;#&quot;, &quot;Item&quot;, &quot;Unit Type&quot;, &quot;TO Requested Quantity&quot;, &quot;Issue quantity&quot;, &quot;Reason&quot;));\r\n                int[] columnWidths = new int[]{5, 25, 20, 10, 15, 20};\r\n                reportRows = createTableWithTableHeaders(reportRows, headerNames, columnWidths);\r\n                Integer index = 0;\r\n\r\n**You can see there are 6 coulmns, so that i need to give 6 rows of data**\r\n\r\nif not it will trigger that exception.\r\n\r\nhere is how you give data rows:\r\n\r\n    tableDataRow.getRowData().add(new CellData(String.valueOf(index)));\r\n                    tableDataRow.getRowData().add(new CellData(TESTDATA);\r\n                    tableDataRow.getRowData().add(new CellData(TESTDATA);\r\n                    tableDataRow.getRowData().add(new CellData(TESTDATA));\r\n                    tableDataRow.getRowData().add(new CellData(TESTDATA);\r\n                    tableDataRow.getRowData().add(new CellData(TESTDATA);\r\n","title":"How to create a table of this format in EasyTable","body":"<p>This is my pdf generation code, which has a table,</p>\n<pre><code>Set&lt;MyObject&gt; myObj = myObject.getItems();\n        if (myObject2 != null &amp;&amp; !myObject2.isEmpty()) {\n            List&lt;String&gt; headerNames = new ArrayList&lt;&gt;(Arrays.asList(&quot;#&quot;, &quot;Item&quot;, &quot;Unit Type&quot;, &quot;TO Requested Quantity&quot;, &quot;Issue quantity&quot;, &quot;Reason&quot;));\n            int[] columnWidths = new int[]{5, 25, 20, 10, 15, 20};\n            reportRows = createTableWithTableHeaders(reportRows, headerNames, columnWidths);\n            Integer index = 0;\n</code></pre>\n<p><strong>You can see there are 6 coulmns, so that i need to give 6 rows of data</strong></p>\n<p>if not it will trigger that exception.</p>\n<p>here is how you give data rows:</p>\n<pre><code>tableDataRow.getRowData().add(new CellData(String.valueOf(index)));\n                tableDataRow.getRowData().add(new CellData(TESTDATA);\n                tableDataRow.getRowData().add(new CellData(TESTDATA);\n                tableDataRow.getRowData().add(new CellData(TESTDATA));\n                tableDataRow.getRowData().add(new CellData(TESTDATA);\n                tableDataRow.getRowData().add(new CellData(TESTDATA);\n</code></pre>\n"}],"owner":{"account_id":12645369,"reputation":67,"user_id":9191299,"display_name":"Satya ram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72113721,"answer_count":2,"score":0,"last_activity_date":1680599294,"creation_date":1651468853,"question_id":72082605,"body_markdown":"I want to have a single header in my case Notes rowspaning to multiple rows (2). When i am trying to code for the same, i am getting \r\n\r\n    rg.vandeseer.easytable.structure.Table$TableBuilder$TableSetupException: Number of table cells does not match with table setup. This could be due to row or col spanning not being correct. at org.vandeseer.easytable.structure.Table$TableBuilder.build(Table.java:223) ~[easytable-0.8.5.jar:na] at com.fedex.airops.pilot.bank.util.pdf.RollOverPDFAAPB.createSimplePDF(RollOverPDFAAPB.java:79) ~[classes/:na]\r\n\r\nCan someone please tell me how can i code for the given sample Table using easy-table\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Av3kU.png","title":"How to create a table of this format in EasyTable","body":"<p>I want to have a single header in my case Notes rowspaning to multiple rows (2). When i am trying to code for the same, i am getting</p>\n<pre><code>rg.vandeseer.easytable.structure.Table$TableBuilder$TableSetupException: Number of table cells does not match with table setup. This could be due to row or col spanning not being correct. at org.vandeseer.easytable.structure.Table$TableBuilder.build(Table.java:223) ~[easytable-0.8.5.jar:na] at com.fedex.airops.pilot.bank.util.pdf.RollOverPDFAAPB.createSimplePDF(RollOverPDFAAPB.java:79) ~[classes/:na]\n</code></pre>\n<p>Can someone please tell me how can i code for the given sample Table using easy-table\n<a href=\"https://i.stack.imgur.com/Av3kU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Av3kU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":13507880,"reputation":151,"user_id":9745412,"display_name":"Haohan Yang"},"score":0,"creation_date":1680076472,"post_id":75873827,"comment_id":133833774,"body_markdown":"This problem is userDetailsManager and authenticationManager used different password encoder. Change public UserDetailsManager userDetailsManager() to use the injected password encoder","body":"This problem is userDetailsManager and authenticationManager used different password encoder. Change public UserDetailsManager userDetailsManager() to use the injected password encoder"},{"owner":{"account_id":13507880,"reputation":151,"user_id":9745412,"display_name":"Haohan Yang"},"score":0,"creation_date":1680077766,"post_id":75873827,"comment_id":133834105,"body_markdown":"Also create user with userDetailsManager.createUser(new User(username, passwordEncoder.encode(password), this.grantedAuthorityList));","body":"Also create user with userDetailsManager.createUser(new User(username, passwordEncoder.encode(password), this.grantedAuthorityList));"}],"owner":{"account_id":13507880,"reputation":151,"user_id":9745412,"display_name":"Haohan Yang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680599238,"creation_date":1680071303,"question_id":75873827,"body_markdown":"I want to use UserDetailsManager to create a user and AuthenticationManager to authenticate a user in my SpringBoot application.\r\nConfiguration\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n}\r\n\r\n    @Bean\r\n    public UserDetailsManager userDetailsManager() {\r\n        UserDetails user =\r\n                User.withDefaultPasswordEncoder()\r\n                        .username(&quot;user&quot;)\r\n                        .password(&quot;password&quot;)\r\n                        .roles(&quot;USER&quot;)\r\n                        .build();\r\n\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n```\r\nController\r\n```java\r\n@RestController\r\npublic class AuthenticationController {\r\n\r\n    private final UserDetailsManager userDetailsManager;\r\n    private final AuthenticationManager authenticationManager;\r\n    private final List&lt;GrantedAuthority&gt; grantedAuthorityList = List.of(new SimpleGrantedAuthority(&quot;USER&quot;));\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    ResponseEntity&lt;AuthenticationResponse&gt; login(@RequestBody AuthenticationRequest form) {\r\n\r\n        try {\r\n            var user = userDetailsManager.loadUserByUsername(form.username()); // Not null, valid user\r\n            authenticationManager.authenticate(\r\n                    new UsernamePasswordAuthenticationToken(form.username(), form.password(), this.grantedAuthorityList)\r\n            ); // throws AuthenticationException\r\n             ...\r\n\r\n        } catch (AuthenticationException e) {\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\r\n        }\r\n    }\r\n}\r\n```\r\nThe user was created using this before\r\n```java\r\nuserDetailsManager.createUser(new User(form.username(), form.password(), this.grantedAuthorityList));\r\n\r\n```\r\nAny help is appreciated ","title":"AuthenticationManager.authenticate fails even if UserDetailsManager.loadUserByUsername returns non-null","body":"<p>I want to use UserDetailsManager to create a user and AuthenticationManager to authenticate a user in my SpringBoot application.\nConfiguration</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n}\n\n    @Bean\n    public UserDetailsManager userDetailsManager() {\n        UserDetails user =\n                User.withDefaultPasswordEncoder()\n                        .username(&quot;user&quot;)\n                        .password(&quot;password&quot;)\n                        .roles(&quot;USER&quot;)\n                        .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n</code></pre>\n<p>Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class AuthenticationController {\n\n    private final UserDetailsManager userDetailsManager;\n    private final AuthenticationManager authenticationManager;\n    private final List&lt;GrantedAuthority&gt; grantedAuthorityList = List.of(new SimpleGrantedAuthority(&quot;USER&quot;));\n\n    @PostMapping(&quot;/login&quot;)\n    ResponseEntity&lt;AuthenticationResponse&gt; login(@RequestBody AuthenticationRequest form) {\n\n        try {\n            var user = userDetailsManager.loadUserByUsername(form.username()); // Not null, valid user\n            authenticationManager.authenticate(\n                    new UsernamePasswordAuthenticationToken(form.username(), form.password(), this.grantedAuthorityList)\n            ); // throws AuthenticationException\n             ...\n\n        } catch (AuthenticationException e) {\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\n        }\n    }\n}\n</code></pre>\n<p>The user was created using this before</p>\n<pre class=\"lang-java prettyprint-override\"><code>userDetailsManager.createUser(new User(form.username(), form.password(), this.grantedAuthorityList));\n\n</code></pre>\n<p>Any help is appreciated</p>\n"},{"tags":["java","spring","authentication","generated-code"],"owner":{"account_id":19868081,"reputation":21,"user_id":14554888,"display_name":"helloworld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680598632,"creation_date":1680598346,"question_id":75927351,"body_markdown":"I am making a Java Spring Boot application where the users are authenticated with JWT. I want to have a user role that can\r\nauthenticate by only a generated code sent by the admin (so the user neither has to register because it is added to the database by the admin nor has to add a username to log in, only this \r\ngenerated code). My idea is similar to when you order something online and you get a code to follow your order status at the shipper&#39;s site.\r\n\r\nIs there a specific authentication type to implement this thing, and how should these generated codes be stored in the database?","title":"What is the best way for this type of authentication in Spring Boot?","body":"<p>I am making a Java Spring Boot application where the users are authenticated with JWT. I want to have a user role that can\nauthenticate by only a generated code sent by the admin (so the user neither has to register because it is added to the database by the admin nor has to add a username to log in, only this\ngenerated code). My idea is similar to when you order something online and you get a code to follow your order status at the shipper's site.</p>\n<p>Is there a specific authentication type to implement this thing, and how should these generated codes be stored in the database?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680598364,"creation_date":1680598191,"question_id":75927329,"body_markdown":"I use Spring Security for authentication and authorization in my Spring Boot project. I want to add refresh token mechanism to the project, but as far as I see, the examples includes a separate table called Token to keep token data.\r\n\r\nHowever, I am wondering if it would be possible to extract the current token and calculate if it is expired or not without asking to database. \r\n\r\nSo, do I have to create Token table for for using refresh token in Spring Security? Or can I use refresh token approach without creating a separate table? ","title":"Do I have to create Token table for for using refresh token in Spring Security?","body":"<p>I use Spring Security for authentication and authorization in my Spring Boot project. I want to add refresh token mechanism to the project, but as far as I see, the examples includes a separate table called Token to keep token data.</p>\n<p>However, I am wondering if it would be possible to extract the current token and calculate if it is expired or not without asking to database.</p>\n<p>So, do I have to create Token table for for using refresh token in Spring Security? Or can I use refresh token approach without creating a separate table?</p>\n"},{"tags":["java","spring","spring-boot","java-web-start","jnlp"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1536769614,"creation_date":1536768644,"answer_id":52299465,"question_id":52297038,"body_markdown":"This looks to me like a Spring bug.  From the [source](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-tools/spring-boot-loader/src/main/java/org/springframework/boot/loader/Launcher.java#L116):\r\n\r\n    ProtectionDomain protectionDomain = getClass().getProtectionDomain();\r\n    CodeSource codeSource = protectionDomain.getCodeSource();\r\n    URI location = (codeSource != null) ? codeSource.getLocation().toURI() : null;\r\n    String path = (location != null) ? location.getSchemeSpecificPart() : null;\r\n\r\n    if (path == null) {\r\n        throw new IllegalStateException(&quot;Unable to determine code source archive&quot;);\r\n    }\r\n\r\n    File root = new File(path);\r\n    if (!root.exists()) {\r\n        throw new IllegalStateException(\r\n                &quot;Unable to determine code source archive from &quot; + root);\r\n    }\r\n\r\nThe problem is this line:\r\n\r\n    String path = (location != null) ? location.getSchemeSpecificPart() : null;\r\n\r\nFrom the [URI documentation](https://docs.oracle.com/javase/10/docs/api/java/net/URI.html):\r\n\r\n&gt;At the highest level a URI reference (hereinafter simply &quot;URI&quot;) in string form has the syntax\r\n&gt;\r\n&gt;[*scheme*`:`]*scheme-specific-part*[`#`*fragment*]\r\n\r\nSo, in the URI `http://localhost/printpoc.jnlp`, the scheme-specific part is `//localhost/printpoc.jnlp`.  Spring then tries to treat that as a file name, which of course does not exist, which is why you are seeing the exception youre seeing.\r\n\r\nThe Spring code is incorrect.  It wrongly assumes you can make a file name out of any URI.  Only `file:` URIs can be safely converted to file names, and that is correctly done with [new File(location)](https://docs.oracle.com/javase/10/docs/api/java/io/File.html#%3Cinit%3E(java.net.URI)) or [Paths.get(location)](https://docs.oracle.com/javase/10/docs/api/java/nio/file/Paths.html#get(java.net.URI)).\r\n\r\nIm not sure what the solution is.  It appears the Spring Boot launcher is assuming the .jar is always a local file.  I doubt it can work with a .jar file obtained via HTTP.\r\n","title":"Exception when using Spring Boot and Java Web Start (JNLP)","body":"<p>This looks to me like a Spring bug.  From the <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-tools/spring-boot-loader/src/main/java/org/springframework/boot/loader/Launcher.java#L116\" rel=\"nofollow noreferrer\">source</a>:</p>\n\n<pre><code>ProtectionDomain protectionDomain = getClass().getProtectionDomain();\nCodeSource codeSource = protectionDomain.getCodeSource();\nURI location = (codeSource != null) ? codeSource.getLocation().toURI() : null;\nString path = (location != null) ? location.getSchemeSpecificPart() : null;\n\nif (path == null) {\n    throw new IllegalStateException(\"Unable to determine code source archive\");\n}\n\nFile root = new File(path);\nif (!root.exists()) {\n    throw new IllegalStateException(\n            \"Unable to determine code source archive from \" + root);\n}\n</code></pre>\n\n<p>The problem is this line:</p>\n\n<pre><code>String path = (location != null) ? location.getSchemeSpecificPart() : null;\n</code></pre>\n\n<p>From the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/net/URI.html\" rel=\"nofollow noreferrer\">URI documentation</a>:</p>\n\n<blockquote>\n  <p>At the highest level a URI reference (hereinafter simply \"URI\") in string form has the syntax</p>\n  \n  <p>[<em>scheme</em><code>:</code>]<em>scheme-specific-part</em>[<code>#</code><em>fragment</em>]</p>\n</blockquote>\n\n<p>So, in the URI <code>http://localhost/printpoc.jnlp</code>, the scheme-specific part is <code>//localhost/printpoc.jnlp</code>.  Spring then tries to treat that as a file name, which of course does not exist, which is why you are seeing the exception youre seeing.</p>\n\n<p>The Spring code is incorrect.  It wrongly assumes you can make a file name out of any URI.  Only <code>file:</code> URIs can be safely converted to file names, and that is correctly done with <a href=\"https://docs.oracle.com/javase/10/docs/api/java/io/File.html#%3Cinit%3E(java.net.URI)\" rel=\"nofollow noreferrer\">new File(location)</a> or <a href=\"https://docs.oracle.com/javase/10/docs/api/java/nio/file/Paths.html#get(java.net.URI)\" rel=\"nofollow noreferrer\">Paths.get(location)</a>.</p>\n\n<p>Im not sure what the solution is.  It appears the Spring Boot launcher is assuming the .jar is always a local file.  I doubt it can work with a .jar file obtained via HTTP.</p>\n"}],"owner":{"account_id":2263208,"reputation":65,"user_id":1992700,"display_name":"11OClock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52299465,"answer_count":1,"score":2,"last_activity_date":1680598224,"creation_date":1536760882,"question_id":52297038,"body_markdown":"I&#39;m building an application with Spring Boot. I packaged it as an executable jar. I&#39;d like to deploy this app using Java Web Start. I wrote a JNLP file, but when I&#39;m trying to run it, I get he following Exception : \r\n\r\n    java.lang.IllegalStateException: Unable to determine code source archive from \\\\localhost\\printpoc.jar\r\n\tat org.springframework.boot.loader.Launcher.createArchive(Launcher.java:126)\r\n\tat org.springframework.boot.loader.ExecutableArchiveLauncher.&lt;init&gt;(ExecutableArchiveLauncher.java:38)\r\n\tat org.springframework.boot.loader.JarLauncher.&lt;init&gt;(JarLauncher.java:35)\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat com.sun.javaws.Launcher.executeApplication(Unknown Source)\r\n\tat com.sun.javaws.Launcher.executeMainClass(Unknown Source)\r\n\tat com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\r\n\tat com.sun.javaws.Launcher.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\nHere is my JNLP file : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;jnlp spec=&quot;1.0+&quot; codebase=&quot;http://localhost/&quot; href=&quot;printpoc.jnlp&quot;&gt;\r\n    &lt;information&gt;\r\n        &lt;vendor&gt;Me&lt;/vendor&gt;\r\n        &lt;homepage href=&quot;http://localhost/&quot; /&gt;\r\n        &lt;description&gt;PrintPoc&lt;/description&gt;\r\n    &lt;/information&gt;\r\n    &lt;security&gt;\r\n        &lt;all-permissions/&gt;\r\n    &lt;/security&gt;\r\n    &lt;resources&gt;\r\n        &lt;j2se version=&quot;1.8+&quot; /&gt;\r\n        &lt;jar href=&quot;printpoc.jar&quot; /&gt;\r\n    &lt;/resources&gt;\r\n    &lt;application-desc main-class=&quot;org.springframework.boot.loader.JarLauncher&quot; /&gt;\r\n&lt;/jnlp&gt;\r\n\r\nI wanted to try [that][1], but the layout MODULE doesn&#39;t existe anymore. I tried with ZIP, NONE etc, still no success.\r\nHere is my pom.xml :\r\n\r\n    \t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;layout&gt;JAR&lt;/layout&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t        &lt;execution&gt;\r\n\t\t\t            &lt;goals&gt;\r\n\t\t\t                &lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t            &lt;/goals&gt;\r\n\t\t\t        &lt;/execution&gt;\r\n\t\t\t    &lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nCoud you please help me ?\r\n  [1]: https://stackoverflow.com/questions/43124852/spring-boot-maven-plugin-no-boot-inf-directory/43127732#43127732","title":"Exception when using Spring Boot and Java Web Start (JNLP)","body":"<p>I'm building an application with Spring Boot. I packaged it as an executable jar. I'd like to deploy this app using Java Web Start. I wrote a JNLP file, but when I'm trying to run it, I get he following Exception : </p>\n\n<pre><code>java.lang.IllegalStateException: Unable to determine code source archive from \\\\localhost\\printpoc.jar\nat org.springframework.boot.loader.Launcher.createArchive(Launcher.java:126)\nat org.springframework.boot.loader.ExecutableArchiveLauncher.&lt;init&gt;(ExecutableArchiveLauncher.java:38)\nat org.springframework.boot.loader.JarLauncher.&lt;init&gt;(JarLauncher.java:35)\nat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat com.sun.javaws.Launcher.executeApplication(Unknown Source)\nat com.sun.javaws.Launcher.executeMainClass(Unknown Source)\nat com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\nat com.sun.javaws.Launcher.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>Here is my JNLP file : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;jnlp spec=\"1.0+\" codebase=\"http://localhost/\" href=\"printpoc.jnlp\"&gt;\n&lt;information&gt;\n    &lt;vendor&gt;Me&lt;/vendor&gt;\n    &lt;homepage href=\"http://localhost/\" /&gt;\n    &lt;description&gt;PrintPoc&lt;/description&gt;\n&lt;/information&gt;\n&lt;security&gt;\n    &lt;all-permissions/&gt;\n&lt;/security&gt;\n&lt;resources&gt;\n    &lt;j2se version=\"1.8+\" /&gt;\n    &lt;jar href=\"printpoc.jar\" /&gt;\n&lt;/resources&gt;\n&lt;application-desc main-class=\"org.springframework.boot.loader.JarLauncher\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>I wanted to try <a href=\"https://stackoverflow.com/questions/43124852/spring-boot-maven-plugin-no-boot-inf-directory/43127732#43127732\">that</a>, but the layout MODULE doesn't existe anymore. I tried with ZIP, NONE etc, still no success.\nHere is my pom.xml :</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;layout&gt;JAR&lt;/layout&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Coud you please help me ?</p>\n"},{"tags":["java","servlets","http-post"],"answers":[{"tags":[],"owner":{"account_id":3956183,"reputation":90,"user_id":3264560,"display_name":"user3264560"},"down_vote_count":2,"up_vote_count":8,"is_accepted":true,"score":6,"last_activity_date":1486121914,"creation_date":1486116873,"answer_id":42021813,"question_id":42021565,"body_markdown":"it will behave where you write the code request.getParameter().\r\nthis thing always needs to write in the doGetPost() Method of the servlet like mentioned below. refer the following example.\r\n\r\n\r\n    public void doGet(HttpServletRequest req, HttpServletResponse res)\r\n    throws ServletException, IOException  {\r\n    \r\n         String id = req.getParameter(&quot;realname&quot;);\r\n         String password = req.getParameter(&quot;mypassword&quot;);\r\n    }\r\n    \r\n    public void doPost(HttpServletRequest req, HttpServletResponse res)\r\n    throws ServletException, IOException {\r\n    \r\n        String id = req.getParameter(&quot;realname&quot;);\r\n        String password = req.getParameter(&quot;mypassword&quot;);\r\n    }","title":"How to get HTTP form data from POST payload in Java HttpServlet?","body":"<p>it will behave where you write the code request.getParameter().\nthis thing always needs to write in the doGetPost() Method of the servlet like mentioned below. refer the following example.</p>\n\n<pre><code>public void doGet(HttpServletRequest req, HttpServletResponse res)\nthrows ServletException, IOException  {\n\n     String id = req.getParameter(\"realname\");\n     String password = req.getParameter(\"mypassword\");\n}\n\npublic void doPost(HttpServletRequest req, HttpServletResponse res)\nthrows ServletException, IOException {\n\n    String id = req.getParameter(\"realname\");\n    String password = req.getParameter(\"mypassword\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1735752,"reputation":2511,"user_id":1588361,"accept_rate":54,"display_name":"Ravi MCA"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1486119842,"creation_date":1486119842,"answer_id":42022732,"question_id":42021565,"body_markdown":"There are several methods you need to override. They are `doPost(), doGet(), service()`\r\n\r\n`doPost()` will get executed when the received request type is **POST**.\r\n\r\n`doGet()` will get executed when the received request type is **GET**.\r\n\r\nIf you want a single method which should be executed for the both post, get you better to use `service()` method.\r\n\r\n**Example:**\r\n\r\n     public class TestServlet{\r\n     \r\n    \tpublic void service( HttpServletRequest request, HttpServletResponse response ){\r\n    \t\r\n    \t\trequest.getParameter( &quot;paramterName&quot; ).\r\n    \t}\r\n     }","title":"How to get HTTP form data from POST payload in Java HttpServlet?","body":"<p>There are several methods you need to override. They are <code>doPost(), doGet(), service()</code></p>\n\n<p><code>doPost()</code> will get executed when the received request type is <strong>POST</strong>.</p>\n\n<p><code>doGet()</code> will get executed when the received request type is <strong>GET</strong>.</p>\n\n<p>If you want a single method which should be executed for the both post, get you better to use <code>service()</code> method.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code> public class TestServlet{\n\n    public void service( HttpServletRequest request, HttpServletResponse response ){\n\n        request.getParameter( \"paramterName\" ).\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14079119,"reputation":541,"user_id":10170629,"display_name":"Gayan Chinthaka"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1680597844,"creation_date":1680597244,"answer_id":75927183,"question_id":42021565,"body_markdown":"There are few things to configure.\r\n\r\n 1. need to set `&quot;Content-Type: multipart/form-data&quot;` for the request\r\n 2. need to set `@MultipartConfig` annotation for the class\r\n 3. get Part from `request.getPart(&quot;KEY&quot;)`;\r\n 4. read the Stream\r\n\r\nhere is my example\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.MultipartConfig;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.servlet.http.Part;\r\n    \r\n    @WebServlet(&quot;/&quot;)\r\n    @MultipartConfig\r\n    public class TestServlet extends HttpServlet {\r\n    \r\n        private static final long serialVersionUID = 5589752892736045780L;\r\n    \r\n        @Override\r\n        protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        \t\r\n        \t//get part by key\r\n            Part part = req.getPart(&quot;override&quot;);\r\n            \r\n            //read the part\r\n            InputStream inputStream = part.getInputStream();\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n            StringBuilder sb = new StringBuilder();\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                sb.append(line);\r\n            }\r\n            System.out.println(sb.toString());\r\n            \r\n            //set it to the response\r\n            resp.setContentType(&quot;text/plain&quot;);\r\n            resp.getWriter().write(sb.toString());\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nHere is the Postman request\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/inBov.png","title":"How to get HTTP form data from POST payload in Java HttpServlet?","body":"<p>There are few things to configure.</p>\n<ol>\n<li>need to set <code>&quot;Content-Type: multipart/form-data&quot;</code> for the request</li>\n<li>need to set <code>@MultipartConfig</code> annotation for the class</li>\n<li>get Part from <code>request.getPart(&quot;KEY&quot;)</code>;</li>\n<li>read the Stream</li>\n</ol>\n<p>here is my example</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.MultipartConfig;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.Part;\n\n@WebServlet(&quot;/&quot;)\n@MultipartConfig\npublic class TestServlet extends HttpServlet {\n\n    private static final long serialVersionUID = 5589752892736045780L;\n\n    @Override\n    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        \n        //get part by key\n        Part part = req.getPart(&quot;override&quot;);\n        \n        //read the part\n        InputStream inputStream = part.getInputStream();\n        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n        StringBuilder sb = new StringBuilder();\n        String line;\n        while ((line = reader.readLine()) != null) {\n            sb.append(line);\n        }\n        System.out.println(sb.toString());\n        \n        //set it to the response\n        resp.setContentType(&quot;text/plain&quot;);\n        resp.getWriter().write(sb.toString());\n    }\n}\n</code></pre>\n<p>Here is the Postman request\n<a href=\"https://i.stack.imgur.com/inBov.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/inBov.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3070410,"reputation":327,"user_id":2601230,"accept_rate":78,"display_name":"loresIpsos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19933,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"closed_date":1680605989,"accepted_answer_id":42021813,"answer_count":3,"score":7,"last_activity_date":1680597844,"creation_date":1486116099,"question_id":42021565,"body_markdown":"I try to extract the form data from an `javax.servlet.http.HttpServletRequest` instance. As recommended online I tried `request.getParameter(String paramKey)`, but it did not work. `request.getParameterValues()`, `request.getParameterNames()` and `request.getParameterMap()` return no form data as well. What I want is a Map with form data or another method to get them.","title":"How to get HTTP form data from POST payload in Java HttpServlet?","body":"<p>I try to extract the form data from an <code>javax.servlet.http.HttpServletRequest</code> instance. As recommended online I tried <code>request.getParameter(String paramKey)</code>, but it did not work. <code>request.getParameterValues()</code>, <code>request.getParameterNames()</code> and <code>request.getParameterMap()</code> return no form data as well. What I want is a Map with form data or another method to get them.</p>\n"},{"tags":["java","spring-boot","maven","junit","dockerfile"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1680531184,"post_id":75917400,"comment_id":133909703,"body_markdown":"Try making the latch volatile.","body":"Try making the latch volatile."},{"owner":{"account_id":28200485,"reputation":56,"user_id":21554347,"display_name":"VojtechCLV"},"score":0,"creation_date":1680544032,"post_id":75917400,"comment_id":133913095,"body_markdown":"@RealSkeptic Thanks for the tip, I like the idea, but unfortunately it did not help","body":"@RealSkeptic Thanks for the tip, I like the idea, but unfortunately it did not help"}],"answers":[{"tags":[],"owner":{"account_id":28200485,"reputation":56,"user_id":21554347,"display_name":"VojtechCLV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680597826,"creation_date":1680597826,"answer_id":75927269,"question_id":75917400,"body_markdown":"What helped me get these values accessed from the Test class was to make the latch variable `static`. Interestingly it was possible for the test to pass before, but only in about 1 out of 10 cases when run as part of `docker build` (10/10 when run any other way which still baffles me). With this keyword added, the test passed 10 out of 10 times.\r\n\r\n10% success rate:\r\n\r\n    private CountDownLatch latch = new CountDownLatch(1); \r\n\r\n100% success rate:\r\n\r\n    private static CountDownLatch latch = new CountDownLatch(1);\r\n\r\nI would be grateful if someone could still point me in the right direction to find out why is this behavior different in `docker build`, I can only think of the jdk mentioned in DOCKERFILE, maybe I&#39;ll try some more different ones","title":"Why is my CountDownLatch behaving differently in test run via docker build?","body":"<p>What helped me get these values accessed from the Test class was to make the latch variable <code>static</code>. Interestingly it was possible for the test to pass before, but only in about 1 out of 10 cases when run as part of <code>docker build</code> (10/10 when run any other way which still baffles me). With this keyword added, the test passed 10 out of 10 times.</p>\n<p>10% success rate:</p>\n<pre><code>private CountDownLatch latch = new CountDownLatch(1); \n</code></pre>\n<p>100% success rate:</p>\n<pre><code>private static CountDownLatch latch = new CountDownLatch(1);\n</code></pre>\n<p>I would be grateful if someone could still point me in the right direction to find out why is this behavior different in <code>docker build</code>, I can only think of the jdk mentioned in DOCKERFILE, maybe I'll try some more different ones</p>\n"}],"owner":{"account_id":28200485,"reputation":56,"user_id":21554347,"display_name":"VojtechCLV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680597826,"creation_date":1680510259,"question_id":75917400,"body_markdown":"I have created 2 separate microservices that communicate using Apache Kafka. One is called Producer, the other is called Consumer. Both microservices have their own tests that pass no matter how I run them (Run Test, mvn clean install...) and I also test Kafka using Embedded Kafka, so my tests don&#39;t rely on presence of any other systems such as separate Kafka broker or DB being online. I wanted to create a docker image of both microservices, but when running `docker build` on Producer&#39;s DOCKERFILE, one test during `mvn clean package` throws error and the process fails. During this test, a message is sent to EmbeddedKafka, and another Class (TestConsumer) with KafkaListener is consuming this message. This class contains CountDownLatch, with countDown being triggered with any message being consumed.\r\n\r\n```\r\npublic class TestConsumer {\r\n\r\n    private CountDownLatch latch = new CountDownLatch(1);\r\n\r\n    @KafkaListener(topics = &quot;${test.kafka.topic.name}&quot;,\r\n            containerFactory = &quot;embeddedKafkaListenerContainerFactory&quot;,\r\n            groupId = &quot;Test_Group&quot;)\r\n    public void receive(ConsumerRecord&lt;?, Payload&gt; consumerRecord) {\r\n        // Receiving consumerRecord.value();\r\n\r\n        log.info(&quot;DEBUG CONSUMER getLatch before countdown&quot; + getLatch());\r\n        latch.countDown();\r\n        log.info(&quot;DEBUG CONSUMER getLatch after countdown&quot; + getLatch());\r\n    }\r\n\r\n    public void resetLatch() {\r\n        latch = new CountDownLatch(1);\r\n    }\r\n\r\n    public CountDownLatch getLatch() {\r\n        return latch;\r\n    }\r\n```\r\n\r\nTest Class awaits this, and asserts message being received based on this latch, this is where the test fails.\r\n\r\n```\r\n@Slf4j\r\n@SpringBootTest\r\n@ActiveProfiles({ &quot;test&quot; })\r\n@EnableKafka\r\n@EmbeddedKafka(partitions = 1, brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot; })\r\n@TestPropertySource(locations=&quot;classpath:test.properties&quot;)\r\nclass EmbeddedKafkaTest {\r\n\t@Autowired\r\n\tprivate TestConsumer consumer;\r\n\r\n\t@Autowired\r\n\tprivate TestProducer producer;\r\n\r\n\tPayload testPayload = TestPayload.getTestPayload();\r\n\r\n\t@BeforeEach\r\n\tvoid setup() {\r\n\t\tconsumer.resetLatch();\r\n\t}\r\n\r\n\t@Test\r\n\tvoid whenSendingWithCustomSerDe_thenMessagePojoReceived() throws Exception {\r\n\r\n\t\tproducer.send(topic, testPayload);\r\n\r\n\t\tboolean messageConsumed = consumer.getLatch().await(10, TimeUnit.SECONDS);\r\n\r\n\t\tlog.info(&quot;DEBUG TEST consumer.getLatch after await &quot; + consumer.getLatch());\r\n\r\n\t\tassertTrue(messageConsumed);  // &lt;- THIS ASSERTION FAILS\r\n\r\n\t\tassertEquals(testPayload.getName(), consumer.getPayload().getName());\r\n\t}\r\n```\r\n\r\nWhen I set up additional logs to print out latch information at various stages, I was surprised to find out that when I log the latch from test class and the TestConsumer class, I get 2 different IdentityHashCodes and different values when executed as part of the docker build (TestConsumer logs show the latch going down to 0, but the latch from test class logs accessed via `consumer.getLatch()` is not changing), and just one IdentityHashCode with corresponding expected value if I run the tests manually. Could someone briefly explain this behavior to me? I would prefer if the test could behave the same way in all cases, preferably with just one IdentityHashCode and same value across all classes peeking at it. I have also tried different versions of JDK inside the DOCKERFILE as that was the only obvious difference I could think of between my system and docker build environment, but that did not help.\r\n\r\nHere are logs from when I execute the test manually myself, even via mvn clean package:\r\n\r\n```\r\nDEBUG CONSUMER getLatch before countdownjava.util.concurrent.CountDownLatch@2932e15f[Count = 1]\r\nDEBUG CONSUMER getLatch after countdownjava.util.concurrent.CountDownLatch@2932e15f[Count = 0]\r\nDEBUG TEST consumer.getLatch after await java.util.concurrent.CountDownLatch@2932e15f[Count = 0]\r\n```\r\n\r\nThese are the logs containing separate hashes from docker build - mvn clean package\r\n\r\n```\r\nDEBUG CONSUMER getLatch before countdownjava.util.concurrent.CountDownLatch@48d71ccf[Count = 1]\r\nDEBUG CONSUMER getLatch after countdownjava.util.concurrent.CountDownLatch@48d71ccf[Count = 0]\r\nDEBUG TEST consumer.getLatch after await java.util.concurrent.CountDownLatch@7546033d[Count = 1]\r\n```\r\n\r\nAnd this is my current DOCKERFILE:\r\n\r\n```\r\nFROM maven:3.9.0-eclipse-temurin-17-alpine AS MAVEN_BUILD\r\nCOPY ./ ./\r\nRUN mvn clean package\r\nFROM openjdk:21-ea-jdk-slim\r\nCOPY --from=MAVEN_BUILD /target/kafka-producer-0.0.1-SNAPSHOT.jar /kafka-producer.jar\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/kafka-producer.jar&quot;]\r\n```","title":"Why is my CountDownLatch behaving differently in test run via docker build?","body":"<p>I have created 2 separate microservices that communicate using Apache Kafka. One is called Producer, the other is called Consumer. Both microservices have their own tests that pass no matter how I run them (Run Test, mvn clean install...) and I also test Kafka using Embedded Kafka, so my tests don't rely on presence of any other systems such as separate Kafka broker or DB being online. I wanted to create a docker image of both microservices, but when running <code>docker build</code> on Producer's DOCKERFILE, one test during <code>mvn clean package</code> throws error and the process fails. During this test, a message is sent to EmbeddedKafka, and another Class (TestConsumer) with KafkaListener is consuming this message. This class contains CountDownLatch, with countDown being triggered with any message being consumed.</p>\n<pre><code>public class TestConsumer {\n\n    private CountDownLatch latch = new CountDownLatch(1);\n\n    @KafkaListener(topics = &quot;${test.kafka.topic.name}&quot;,\n            containerFactory = &quot;embeddedKafkaListenerContainerFactory&quot;,\n            groupId = &quot;Test_Group&quot;)\n    public void receive(ConsumerRecord&lt;?, Payload&gt; consumerRecord) {\n        // Receiving consumerRecord.value();\n\n        log.info(&quot;DEBUG CONSUMER getLatch before countdown&quot; + getLatch());\n        latch.countDown();\n        log.info(&quot;DEBUG CONSUMER getLatch after countdown&quot; + getLatch());\n    }\n\n    public void resetLatch() {\n        latch = new CountDownLatch(1);\n    }\n\n    public CountDownLatch getLatch() {\n        return latch;\n    }\n</code></pre>\n<p>Test Class awaits this, and asserts message being received based on this latch, this is where the test fails.</p>\n<pre><code>@Slf4j\n@SpringBootTest\n@ActiveProfiles({ &quot;test&quot; })\n@EnableKafka\n@EmbeddedKafka(partitions = 1, brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot; })\n@TestPropertySource(locations=&quot;classpath:test.properties&quot;)\nclass EmbeddedKafkaTest {\n    @Autowired\n    private TestConsumer consumer;\n\n    @Autowired\n    private TestProducer producer;\n\n    Payload testPayload = TestPayload.getTestPayload();\n\n    @BeforeEach\n    void setup() {\n        consumer.resetLatch();\n    }\n\n    @Test\n    void whenSendingWithCustomSerDe_thenMessagePojoReceived() throws Exception {\n\n        producer.send(topic, testPayload);\n\n        boolean messageConsumed = consumer.getLatch().await(10, TimeUnit.SECONDS);\n\n        log.info(&quot;DEBUG TEST consumer.getLatch after await &quot; + consumer.getLatch());\n\n        assertTrue(messageConsumed);  // &lt;- THIS ASSERTION FAILS\n\n        assertEquals(testPayload.getName(), consumer.getPayload().getName());\n    }\n</code></pre>\n<p>When I set up additional logs to print out latch information at various stages, I was surprised to find out that when I log the latch from test class and the TestConsumer class, I get 2 different IdentityHashCodes and different values when executed as part of the docker build (TestConsumer logs show the latch going down to 0, but the latch from test class logs accessed via <code>consumer.getLatch()</code> is not changing), and just one IdentityHashCode with corresponding expected value if I run the tests manually. Could someone briefly explain this behavior to me? I would prefer if the test could behave the same way in all cases, preferably with just one IdentityHashCode and same value across all classes peeking at it. I have also tried different versions of JDK inside the DOCKERFILE as that was the only obvious difference I could think of between my system and docker build environment, but that did not help.</p>\n<p>Here are logs from when I execute the test manually myself, even via mvn clean package:</p>\n<pre><code>DEBUG CONSUMER getLatch before countdownjava.util.concurrent.CountDownLatch@2932e15f[Count = 1]\nDEBUG CONSUMER getLatch after countdownjava.util.concurrent.CountDownLatch@2932e15f[Count = 0]\nDEBUG TEST consumer.getLatch after await java.util.concurrent.CountDownLatch@2932e15f[Count = 0]\n</code></pre>\n<p>These are the logs containing separate hashes from docker build - mvn clean package</p>\n<pre><code>DEBUG CONSUMER getLatch before countdownjava.util.concurrent.CountDownLatch@48d71ccf[Count = 1]\nDEBUG CONSUMER getLatch after countdownjava.util.concurrent.CountDownLatch@48d71ccf[Count = 0]\nDEBUG TEST consumer.getLatch after await java.util.concurrent.CountDownLatch@7546033d[Count = 1]\n</code></pre>\n<p>And this is my current DOCKERFILE:</p>\n<pre><code>FROM maven:3.9.0-eclipse-temurin-17-alpine AS MAVEN_BUILD\nCOPY ./ ./\nRUN mvn clean package\nFROM openjdk:21-ea-jdk-slim\nCOPY --from=MAVEN_BUILD /target/kafka-producer-0.0.1-SNAPSHOT.jar /kafka-producer.jar\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/kafka-producer.jar&quot;]\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1382006001,"post_id":12013138,"comment_id":28796142,"body_markdown":"See http://stackoverflow.com/questions/512254/use-mockito-to-verify-that-nothing-is-called-after-a-method","body":"See <a href=\"http://stackoverflow.com/questions/512254/use-mockito-to-verify-that-nothing-is-called-after-a-method\" title=\"use mockito to verify that nothing is called after a method\">stackoverflow.com/questions/512254/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1744405,"reputation":28860,"user_id":1594933,"accept_rate":74,"display_name":"gontard"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1680597525,"creation_date":1345239425,"answer_id":12013508,"question_id":12013138,"body_markdown":"Since [verifyNoMoreInteractions](http://static.javadoc.io/org.mockito/mockito-core/2.7.9/org/mockito/Mockito.html#verifyNoMoreInteractions(java.lang.Object...)) take an array of object we have to find a way to get all the created mocks.\r\n\r\nYou can create this class\r\n\r\n    public class MocksCollector {\r\n        private final List&lt;Object&gt; createdMocks;\r\n    \r\n        public MocksCollector() {\r\n            createdMocks = new LinkedList&lt;Object&gt;();\r\n            final MockingProgress progress = new ThreadSafeMockingProgress();\r\n            progress.setListener(new CollectCreatedMocks(createdMocks));\r\n        }\r\n    \r\n        public Object[] getMocks() {\r\n            return createdMocks.toArray();\r\n        }\r\n    }\r\n\r\nand then use it in your test :\r\n```\r\npublic class ATest {\r\n    private final MocksCollector mocksCollector = new MocksCollector();\r\n    \r\n    @Test\r\n    public void test() throws Exception {\r\n        A a1 = mock(A.class);\r\n        A a2 = mock(A.class);\r\n        A a3 = mock(A.class);\r\n        assertEquals(&quot;wrong amount of mocks&quot;, 3, mocksCollector.getMocks().length);\r\n        verifyNoMoreInteractions(mocksCollector.getMocks());\r\n        a3.doSomething();\r\n        verifyNoMoreInteractions(mocksCollector.getMocks()); // fail\r\n    }\r\n}\r\n````\r\nor with annotations :\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class A2Test {\r\n        private final MocksCollector mocksCollector = new MocksCollector();\r\n    \r\n        @Mock\r\n        private A a1;\r\n        @Mock\r\n        private A a2;\r\n        @Mock\r\n        private A a3;\r\n    \r\n        @Test\r\n        public void test() throws Exception {\r\n            assertEquals(&quot;wrong amount of mocks&quot;, 3, mocksCollector.getMocks().length);\r\n            verifyNoMoreInteractions(mocksCollector.getMocks());\r\n            a2.doSomething();\r\n            verifyNoMoreInteractions(mocksCollector.getMocks()); // fail\r\n        }\r\n    }\r\n\r\nIt works but it adds a dependency on mockito internal.","title":"Mockito verify no more interactions with any mock","body":"<p>Since <a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.7.9/org/mockito/Mockito.html#verifyNoMoreInteractions(java.lang.Object...)\" rel=\"nofollow noreferrer\">verifyNoMoreInteractions</a> take an array of object we have to find a way to get all the created mocks.</p>\n<p>You can create this class</p>\n<pre><code>public class MocksCollector {\n    private final List&lt;Object&gt; createdMocks;\n\n    public MocksCollector() {\n        createdMocks = new LinkedList&lt;Object&gt;();\n        final MockingProgress progress = new ThreadSafeMockingProgress();\n        progress.setListener(new CollectCreatedMocks(createdMocks));\n    }\n\n    public Object[] getMocks() {\n        return createdMocks.toArray();\n    }\n}\n</code></pre>\n<p>and then use it in your test :</p>\n<pre><code>public class ATest {\n    private final MocksCollector mocksCollector = new MocksCollector();\n    \n    @Test\n    public void test() throws Exception {\n        A a1 = mock(A.class);\n        A a2 = mock(A.class);\n        A a3 = mock(A.class);\n        assertEquals(&quot;wrong amount of mocks&quot;, 3, mocksCollector.getMocks().length);\n        verifyNoMoreInteractions(mocksCollector.getMocks());\n        a3.doSomething();\n        verifyNoMoreInteractions(mocksCollector.getMocks()); // fail\n    }\n}\n</code></pre>\n<p>or with annotations :</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class A2Test {\n    private final MocksCollector mocksCollector = new MocksCollector();\n\n    @Mock\n    private A a1;\n    @Mock\n    private A a2;\n    @Mock\n    private A a3;\n\n    @Test\n    public void test() throws Exception {\n        assertEquals(&quot;wrong amount of mocks&quot;, 3, mocksCollector.getMocks().length);\n        verifyNoMoreInteractions(mocksCollector.getMocks());\n        a2.doSomething();\n        verifyNoMoreInteractions(mocksCollector.getMocks()); // fail\n    }\n}\n</code></pre>\n<p>It works but it adds a dependency on mockito internal.</p>\n"}],"owner":{"account_id":1264629,"reputation":2419,"user_id":1222197,"accept_rate":64,"display_name":"sworded"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67883,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":12013508,"answer_count":1,"score":39,"last_activity_date":1680597525,"creation_date":1345237320,"question_id":12013138,"body_markdown":"In Mockito, is there a way to verify that there are no more interactions on any mock I have created?\r\n\r\nFor example:\r\n\r\n    public void test()\r\n    {\r\n      ...\r\n      TestObject obj = mock(TestObject);\r\n      myClass.test();\r\n      verifyNoMoreInteractionsWithMocks();  &lt;-------\r\n    }\r\n\r\nIs there such a method?","title":"Mockito verify no more interactions with any mock","body":"<p>In Mockito, is there a way to verify that there are no more interactions on any mock I have created?</p>\n\n<p>For example:</p>\n\n<pre><code>public void test()\n{\n  ...\n  TestObject obj = mock(TestObject);\n  myClass.test();\n  verifyNoMoreInteractionsWithMocks();  &lt;-------\n}\n</code></pre>\n\n<p>Is there such a method?</p>\n"},{"tags":["java","maven","inheritance","multi-module"],"comments":[{"owner":{"account_id":2310941,"reputation":844,"user_id":2029079,"display_name":"Uday Shankar"},"score":0,"creation_date":1435179364,"post_id":31036392,"comment_id":50097871,"body_markdown":"Are you sure the parent is correctly listed in the &lt;parent&gt; element?","body":"Are you sure the parent is correctly listed in the &lt;parent&gt; element?"},{"owner":{"account_id":3070800,"reputation":5899,"user_id":2601512,"accept_rate":87,"display_name":"jscherman"},"score":0,"creation_date":1435180372,"post_id":31036392,"comment_id":50098392,"body_markdown":"@UdayShankar Yep, i am sure. I just not put that part to not extend the post","body":"@UdayShankar Yep, i am sure. I just not put that part to not extend the post"},{"owner":{"account_id":5323046,"reputation":1640,"user_id":4245939,"display_name":"Don Bottstein"},"score":0,"creation_date":1435191404,"post_id":31036392,"comment_id":50102181,"body_markdown":"To verify, what do the configurations for maven-compiler-plugin show when you run `mvn help:effective-pom` from the child project? Does `mvn help:effective-pom -Djava.version=1.7` show anything different?","body":"To verify, what do the configurations for maven-compiler-plugin show when you run <code>mvn help:effective-pom</code> from the child project? Does <code>mvn help:effective-pom -Djava.version=1.7</code> show anything different?"},{"owner":{"account_id":3070800,"reputation":5899,"user_id":2601512,"accept_rate":87,"display_name":"jscherman"},"score":0,"creation_date":1435249838,"post_id":31036392,"comment_id":50133023,"body_markdown":"@DonBottstein No, there is no difference between those outputs","body":"@DonBottstein No, there is no difference between those outputs"},{"owner":{"account_id":5323046,"reputation":1640,"user_id":4245939,"display_name":"Don Bottstein"},"score":0,"creation_date":1435259299,"post_id":31036392,"comment_id":50138477,"body_markdown":"@jscherman Based on that, it doesn&#39;t look like an issue with the pom .. more likely your IDE (Eclipse?). I don&#39;t know if this will be helpful, but here&#39;s a link to a troubleshooting guide for the problem you are seeing: https://maven.apache.org/plugins/maven-eclipse-plugin/trouble-shooting/jdk-being-used-is-different-than-expected.html","body":"@jscherman Based on that, it doesn&#39;t look like an issue with the pom .. more likely your IDE (Eclipse?). I don&#39;t know if this will be helpful, but here&#39;s a link to a troubleshooting guide for the problem you are seeing: <a href=\"https://maven.apache.org/plugins/maven-eclipse-plugin/trouble-shooting/jdk-being-used-is-different-than-expected.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-eclipse-plugin/trouble-shooti&zwnj;&#8203;ng/&hellip;</a>"},{"owner":{"account_id":3070800,"reputation":5899,"user_id":2601512,"accept_rate":87,"display_name":"jscherman"},"score":0,"creation_date":1435259650,"post_id":31036392,"comment_id":50138656,"body_markdown":"I solved it  putting the plugin in the parent outside pluginManagement and  adding &lt;inherited&gt;true&lt;/inherited&gt;, so that way i delete that plugin from the childs and that is being inherited. Not the best solution but the best i could do. Thanks anyways!","body":"I solved it  putting the plugin in the parent outside pluginManagement and  adding &lt;inherited&gt;true&lt;/inherited&gt;, so that way i delete that plugin from the childs and that is being inherited. Not the best solution but the best i could do. Thanks anyways!"}],"answers":[{"tags":[],"owner":{"account_id":435092,"reputation":1637,"user_id":821478,"accept_rate":100,"display_name":"cjackson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465165784,"creation_date":1465165784,"answer_id":37647423,"question_id":31036392,"body_markdown":"I was having the same issue in my build process. The build was failing with the following error:\r\n\r\n    [INFO] Compiling 2 source files to /project/target/test-classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR :\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /project/src/test/java/com/example/MyClass.java:[18,63] lambda expressions are not supported in -source 1.7\r\n    (use -source 8 or higher to enable lambda expressions)\r\n\r\nand the reason was due to the compilation of test files not having the correct java level set. The following configuration worked for me:\r\n\r\nIn the parent:\r\n    \r\n    &lt;properties&gt;\r\n      &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n      &lt;maven-compiler-plugin.version&gt;3.5.1&lt;/maven-compiler-plugin.version&gt;\r\n    &lt;/properties&gt;\r\n    ...\r\n    &lt;build&gt;\r\n      &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;${java.version}&lt;/source&gt;\r\n              &lt;target&gt;${java.version}&lt;/target&gt;\r\n              &lt;testSource&gt;${java.version}&lt;/testSource&gt;\r\n              &lt;testTarget&gt;${java.version}&lt;/testTarget&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\nIn the child:\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Maven inheritance isn&#39;t working with pluginManagement","body":"<p>I was having the same issue in my build process. The build was failing with the following error:</p>\n\n<pre><code>[INFO] Compiling 2 source files to /project/target/test-classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] /project/src/test/java/com/example/MyClass.java:[18,63] lambda expressions are not supported in -source 1.7\n(use -source 8 or higher to enable lambda expressions)\n</code></pre>\n\n<p>and the reason was due to the compilation of test files not having the correct java level set. The following configuration worked for me:</p>\n\n<p>In the parent:</p>\n\n<pre><code>&lt;properties&gt;\n  &lt;java.version&gt;1.8&lt;/java.version&gt;\n  &lt;maven-compiler-plugin.version&gt;3.5.1&lt;/maven-compiler-plugin.version&gt;\n&lt;/properties&gt;\n...\n&lt;build&gt;\n  &lt;pluginManagement&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${java.version}&lt;/source&gt;\n          &lt;target&gt;${java.version}&lt;/target&gt;\n          &lt;testSource&gt;${java.version}&lt;/testSource&gt;\n          &lt;testTarget&gt;${java.version}&lt;/testTarget&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>In the child:</p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1684739,"reputation":640,"user_id":1548249,"display_name":"lars"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680597474,"creation_date":1680596997,"answer_id":75927154,"question_id":31036392,"body_markdown":"A typical issue is that the `maven-compiler-plugin` version is too old. The `release` option was introduced in version 3.6. Try specifying a newer version of `maven-compiler-plugin` in the parent POM and use the `release` option to specify the Java version. From JDK 9, the `release` option replaces `source` and `target`.\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.11.0&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n    &lt;release&gt;11&lt;/release&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n","title":"Maven inheritance isn&#39;t working with pluginManagement","body":"<p>A typical issue is that the <code>maven-compiler-plugin</code> version is too old. The <code>release</code> option was introduced in version 3.6. Try specifying a newer version of <code>maven-compiler-plugin</code> in the parent POM and use the <code>release</code> option to specify the Java version. From JDK 9, the <code>release</code> option replaces <code>source</code> and <code>target</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.11.0&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;release&gt;11&lt;/release&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3070800,"reputation":5899,"user_id":2601512,"accept_rate":87,"display_name":"jscherman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1858,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1680597474,"creation_date":1435177736,"question_id":31036392,"body_markdown":"I have this plugin configured in parent pom\r\n\r\n     &lt;properties&gt;\r\n            &lt;java.version&gt;1.7&lt;/java.version&gt;\r\n     \t\t&lt;maven-compiler-plugin.version&gt;3.3&lt;/maven-compiler-plugin.version&gt;\r\n     &lt;/properties&gt;\r\n     ...\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n    \t\t\t\t\t&lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n             &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\nAnd this in the child\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n        \t    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nWhen i run maven update project on both projects , i expect that child change JRE to 1.7, but it doesn&#39;t, i and i cannot figure it out why. If i put the configuration in the child then it works... Do you know what am i doing wrong? \r\n","title":"Maven inheritance isn&#39;t working with pluginManagement","body":"<p>I have this plugin configured in parent pom</p>\n\n<pre><code> &lt;properties&gt;\n        &lt;java.version&gt;1.7&lt;/java.version&gt;\n        &lt;maven-compiler-plugin.version&gt;3.3&lt;/maven-compiler-plugin.version&gt;\n &lt;/properties&gt;\n ...\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;compilerArgument&gt;-XDignore.symbol.file&lt;/compilerArgument&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n         &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>And this in the child</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>When i run maven update project on both projects , i expect that child change JRE to 1.7, but it doesn't, i and i cannot figure it out why. If i put the configuration in the child then it works... Do you know what am i doing wrong? </p>\n"},{"tags":["java","directory"],"comments":[{"owner":{"account_id":2020690,"reputation":5908,"user_id":1806944,"accept_rate":80,"display_name":"mwhs"},"score":31,"creation_date":1385293016,"post_id":3634853,"comment_id":30075038,"body_markdown":"please review your selection of the correct answer. The solution proposed by JigarJoshi is misleading. It doesn&#39;t address the problem correctly (see my comment). The (simple) solution proposed by Bozho is much better.","body":"please review your selection of the correct answer. The solution proposed by JigarJoshi is misleading. It doesn&#39;t address the problem correctly (see my comment). The (simple) solution proposed by Bozho is much better."},{"owner":{"account_id":2020690,"reputation":5908,"user_id":1806944,"accept_rate":80,"display_name":"mwhs"},"score":0,"creation_date":1437483105,"post_id":3634853,"comment_id":51038226,"body_markdown":"`mkdir` is idempotent in java. The implementation will do the check if the directory exists for you, and only create it if it does not exist.","body":"<code>mkdir</code> is idempotent in java. The implementation will do the check if the directory exists for you, and only create it if it does not exist."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":609,"is_accepted":false,"score":609,"last_activity_date":1283510258,"creation_date":1283509839,"answer_id":3634879,"question_id":3634853,"body_markdown":"    new File(&quot;/path/directory&quot;).mkdirs();\r\n\r\nHere &quot;directory&quot; is the name of the directory you want to create/exist.","title":"How to create a directory in Java?","body":"<pre><code>new File(\"/path/directory\").mkdirs();\n</code></pre>\n\n<p>Here \"directory\" is the name of the directory you want to create/exist.</p>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":47,"up_vote_count":608,"is_accepted":true,"score":561,"last_activity_date":1615993552,"creation_date":1283510093,"answer_id":3634906,"question_id":3634853,"body_markdown":"After ~7 year, I will update it to better approach which is suggested by [Bozho](https://stackoverflow.com/a/3634879/8293309).\r\n\r\n    File theDir = new File(&quot;/path/directory&quot;);\r\n    if (!theDir.exists()){\r\n        theDir.mkdirs();\r\n    }\r\n\r\n\r\n\r\n","title":"How to create a directory in Java?","body":"<p>After ~7 year, I will update it to better approach which is suggested by <a href=\"https://stackoverflow.com/a/3634879/8293309\">Bozho</a>.</p>\n<pre><code>File theDir = new File(&quot;/path/directory&quot;);\nif (!theDir.exists()){\n    theDir.mkdirs();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162408,"reputation":9549,"user_id":383838,"accept_rate":65,"display_name":"Jon Freedman"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1283510708,"creation_date":1283510708,"answer_id":3634970,"question_id":3634853,"body_markdown":"The following method should do what you want, just make sure you are checking the return value of [mkdir()][1] / [mkdirs()][2]\r\n\r\n    private void createUserDir(final String dirName) throws IOException {\r\n        final File homeDir = new File(System.getProperty(&quot;user.home&quot;));\r\n        final File dir = new File(homeDir, dirName);\r\n        if (!dir.exists() &amp;&amp; !dir.mkdirs()) {\r\n            throw new IOException(&quot;Unable to create &quot; + dir.getAbsolutePath();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://download-llnw.oracle.com/javase/6/docs/api/java/io/File.html#mkdir%28%29\r\n  [2]: http://download-llnw.oracle.com/javase/6/docs/api/java/io/File.html#mkdirs%28%29","title":"How to create a directory in Java?","body":"<p>The following method should do what you want, just make sure you are checking the return value of <a href=\"http://download-llnw.oracle.com/javase/6/docs/api/java/io/File.html#mkdir%28%29\" rel=\"noreferrer\">mkdir()</a> / <a href=\"http://download-llnw.oracle.com/javase/6/docs/api/java/io/File.html#mkdirs%28%29\" rel=\"noreferrer\">mkdirs()</a></p>\n\n<pre><code>private void createUserDir(final String dirName) throws IOException {\n    final File homeDir = new File(System.getProperty(\"user.home\"));\n    final File dir = new File(homeDir, dirName);\n    if (!dir.exists() &amp;&amp; !dir.mkdirs()) {\n        throw new IOException(\"Unable to create \" + dir.getAbsolutePath();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44273,"reputation":902,"user_id":129859,"display_name":"ahvargas"},"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1487855948,"creation_date":1283511648,"answer_id":3635084,"question_id":3634853,"body_markdown":"You can try [FileUtils#forceMkdir][1]\r\n\r\n    FileUtils.forceMkdir(&quot;/path/directory&quot;);\r\n\r\nThis [library][2] have a lot of useful functions.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#forceMkdir(java.io.File)\r\n  [2]: http://commons.apache.org/io/","title":"How to create a directory in Java?","body":"<p>You can try <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#forceMkdir(java.io.File)\" rel=\"noreferrer\">FileUtils#forceMkdir</a></p>\n\n<pre><code>FileUtils.forceMkdir(\"/path/directory\");\n</code></pre>\n\n<p>This <a href=\"http://commons.apache.org/io/\" rel=\"noreferrer\">library</a> have a lot of useful functions.</p>\n"},{"tags":[],"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1339049418,"creation_date":1339049418,"answer_id":10926529,"question_id":3634853,"body_markdown":"    public class Test1 {\r\n        public static void main(String[] args)\r\n        {\r\n           String path = System.getProperty(&quot;user.home&quot;);\r\n           File dir=new File(path+&quot;/new folder&quot;);\r\n           if(dir.exists()){\r\n               System.out.println(&quot;A folder with name &#39;new folder&#39; is already exist in the path &quot;+path);\r\n           }else{\r\n               dir.mkdir();\r\n           }\r\n    \r\n        }\r\n    }","title":"How to create a directory in Java?","body":"<pre><code>public class Test1 {\n    public static void main(String[] args)\n    {\n       String path = System.getProperty(\"user.home\");\n       File dir=new File(path+\"/new folder\");\n       if(dir.exists()){\n           System.out.println(\"A folder with name 'new folder' is already exist in the path \"+path);\n       }else{\n           dir.mkdir();\n       }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2995870,"reputation":521,"user_id":2542432,"accept_rate":73,"display_name":"score"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1386293221,"creation_date":1385291292,"answer_id":20173803,"question_id":3634853,"body_markdown":"Though this question has been answered. I would like to put something extra, i.e. \r\nif there is a file exist with the directory name that you are trying to create than it should prompt an error. For future visitors. \r\n\r\n    public static void makeDir()\r\n    {\r\n        File directory = new File(&quot; dirname &quot;);\r\n        if (directory.exists() &amp;&amp; directory.isFile())\r\n        {\r\n            System.out.println(&quot;The dir with name could not be&quot; +\r\n            &quot; created as it is a normal file&quot;);\r\n        }\r\n        else\r\n        {\r\n            try\r\n            {\r\n                if (!directory.exists())\r\n                {\r\n                    directory.mkdir();\r\n                }\r\n                String username = System.getProperty(&quot;user.name&quot;);\r\n                String filename = &quot; path/&quot; + username + &quot;.txt&quot;; //extension if you need one\r\n    \r\n            }\r\n            catch (IOException e)\r\n            {\r\n                System.out.println(&quot;prompt for error&quot;);\r\n            }\r\n        }\r\n    }","title":"How to create a directory in Java?","body":"<p>Though this question has been answered. I would like to put something extra, i.e. \nif there is a file exist with the directory name that you are trying to create than it should prompt an error. For future visitors. </p>\n\n<pre><code>public static void makeDir()\n{\n    File directory = new File(\" dirname \");\n    if (directory.exists() &amp;&amp; directory.isFile())\n    {\n        System.out.println(\"The dir with name could not be\" +\n        \" created as it is a normal file\");\n    }\n    else\n    {\n        try\n        {\n            if (!directory.exists())\n            {\n                directory.mkdir();\n            }\n            String username = System.getProperty(\"user.name\");\n            String filename = \" path/\" + username + \".txt\"; //extension if you need one\n\n        }\n        catch (IOException e)\n        {\n            System.out.println(\"prompt for error\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1972358,"reputation":6933,"user_id":1770999,"accept_rate":80,"display_name":"Bacara"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1392904803,"creation_date":1392904803,"answer_id":21910022,"question_id":3634853,"body_markdown":"This function allows you to create a directory on the user home directory.\r\n\r\n    private static void createDirectory(final String directoryName) {\r\n    \tfinal File homeDirectory = new File(System.getProperty(&quot;user.home&quot;));\r\n    \tfinal File newDirectory = new File(homeDirectory, directoryName);\r\n    \tif(!newDirectory.exists()) {\r\n    \t\tboolean result = newDirectory.mkdir();\r\n    \r\n    \t\tif(result) {\r\n    \t\t\tSystem.out.println(&quot;The directory is created !&quot;);\r\n    \t\t}\r\n    \t} else {\r\n    \t\tSystem.out.println(&quot;The directory already exist&quot;);\r\n    \t}\r\n    }\r\n","title":"How to create a directory in Java?","body":"<p>This function allows you to create a directory on the user home directory.</p>\n\n<pre><code>private static void createDirectory(final String directoryName) {\n    final File homeDirectory = new File(System.getProperty(\"user.home\"));\n    final File newDirectory = new File(homeDirectory, directoryName);\n    if(!newDirectory.exists()) {\n        boolean result = newDirectory.mkdir();\n\n        if(result) {\n            System.out.println(\"The directory is created !\");\n        }\n    } else {\n        System.out.println(\"The directory already exist\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3983395,"reputation":3281,"user_id":3284749,"accept_rate":65,"display_name":"Mouna"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1526798742,"creation_date":1402999822,"answer_id":24261096,"question_id":3634853,"body_markdown":" 1. Create a single directory.\r\n\r\n        new File(&quot;C:\\\\Directory1&quot;).mkdir();\r\n\r\n 2. Create a directory named Directory2 and all its sub-directories Sub2 and Sub-Sub2 together.\r\n\r\n        new File(&quot;C:\\\\Directory2\\\\Sub2\\\\Sub-Sub2&quot;).mkdirs()\r\n\r\nSource: this perfect [tutorial][1] , you find also an example of use.\r\n\r\n\r\n  [1]: http://www.mkyong.com/java/how-to-create-directory-in-java/","title":"How to create a directory in Java?","body":"<ol>\n<li><p>Create a single directory.</p>\n\n<pre><code>new File(\"C:\\\\Directory1\").mkdir();\n</code></pre></li>\n<li><p>Create a directory named Directory2 and all its sub-directories Sub2 and Sub-Sub2 together.</p>\n\n<pre><code>new File(\"C:\\\\Directory2\\\\Sub2\\\\Sub-Sub2\").mkdirs()\n</code></pre></li>\n</ol>\n\n<p>Source: this perfect <a href=\"http://www.mkyong.com/java/how-to-create-directory-in-java/\" rel=\"noreferrer\">tutorial</a> , you find also an example of use.</p>\n"},{"tags":[],"owner":{"account_id":6146602,"reputation":688,"user_id":4793190,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429124145,"creation_date":1429123778,"answer_id":29658421,"question_id":3634853,"body_markdown":"Just wanted to point out to everyone calling `File.mkdir()` or `File.mkdirs()` to be careful the `File` object is a directory and not a file.  For example if you call `mkdirs()` for the path `/dir1/dir2/file.txt`, it will create a **folder** with the name `file.txt` which is probably not what you wanted.  If you are creating a new file and also want to automatically create parent folders you can do something like this:\r\n\r\n                File file = new File(filePath);\r\n                if (file.getParentFile() != null) {\r\n                    file.getParentFile().mkdirs();\r\n                }","title":"How to create a directory in Java?","body":"<p>Just wanted to point out to everyone calling <code>File.mkdir()</code> or <code>File.mkdirs()</code> to be careful the <code>File</code> object is a directory and not a file.  For example if you call <code>mkdirs()</code> for the path <code>/dir1/dir2/file.txt</code>, it will create a <strong>folder</strong> with the name <code>file.txt</code> which is probably not what you wanted.  If you are creating a new file and also want to automatically create parent folders you can do something like this:</p>\n\n<pre><code>            File file = new File(filePath);\n            if (file.getParentFile() != null) {\n                file.getParentFile().mkdirs();\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3329749,"reputation":8679,"user_id":2798955,"accept_rate":28,"display_name":"Bruce"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1453031950,"creation_date":1434009658,"answer_id":30774965,"question_id":3634853,"body_markdown":"**mkdir vs mkdirs**\r\n-------------------\r\n\r\n\r\n----------\r\n\r\n\r\nIf you want to create a single directory use `mkdir`\r\n\r\n    new File(&quot;/path/directory&quot;).mkdir();\r\n\r\nIf you want to create a hierarchy of folder structure use `mkdirs`\r\n\r\n     new File(&quot;/path/directory&quot;).mkdirs();\r\n\r\n","title":"How to create a directory in Java?","body":"<h2><strong>mkdir vs mkdirs</strong></h2>\n\n<hr>\n\n<p>If you want to create a single directory use <code>mkdir</code></p>\n\n<pre><code>new File(\"/path/directory\").mkdir();\n</code></pre>\n\n<p>If you want to create a hierarchy of folder structure use <code>mkdirs</code></p>\n\n<pre><code> new File(\"/path/directory\").mkdirs();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4299687,"reputation":6224,"user_id":3663765,"accept_rate":61,"display_name":"Program-Me-Rev"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1525347090,"creation_date":1435834673,"answer_id":31182676,"question_id":3634853,"body_markdown":"Neat and clean:\r\n\r\n\timport java.io.File;\r\n\r\n\tpublic class RevCreateDirectory {\r\n\r\n\t    public void revCreateDirectory() {\r\n            //To create single directory/folder\r\n\t        File file = new File(&quot;D:\\\\Directory1&quot;);\r\n\t        if (!file.exists()) {\r\n\t            if (file.mkdir()) {\r\n\t                System.out.println(&quot;Directory is created!&quot;);\r\n\t            } else {\r\n\t                System.out.println(&quot;Failed to create directory!&quot;);\r\n\t            }\r\n\t        }\r\n            //To create multiple directories/folders\r\n\t        File files = new File(&quot;D:\\\\Directory2\\\\Sub2\\\\Sub-Sub2&quot;);\r\n\t        if (!files.exists()) {\r\n\t            if (files.mkdirs()) {\r\n\t                System.out.println(&quot;Multiple directories are created!&quot;);\r\n\t            } else {\r\n\t                System.out.println(&quot;Failed to create multiple directories!&quot;);\r\n\t            }\r\n\t        }\r\n\r\n\t    }\r\n\t}","title":"How to create a directory in Java?","body":"<p>Neat and clean:</p>\n\n<pre><code>import java.io.File;\n\npublic class RevCreateDirectory {\n\n    public void revCreateDirectory() {\n        //To create single directory/folder\n        File file = new File(\"D:\\\\Directory1\");\n        if (!file.exists()) {\n            if (file.mkdir()) {\n                System.out.println(\"Directory is created!\");\n            } else {\n                System.out.println(\"Failed to create directory!\");\n            }\n        }\n        //To create multiple directories/folders\n        File files = new File(\"D:\\\\Directory2\\\\Sub2\\\\Sub-Sub2\");\n        if (!files.exists()) {\n            if (files.mkdirs()) {\n                System.out.println(\"Multiple directories are created!\");\n            } else {\n                System.out.println(\"Failed to create multiple directories!\");\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1192497,"reputation":13663,"user_id":1164966,"accept_rate":75,"display_name":"Benoit Blanchon"},"down_vote_count":0,"up_vote_count":196,"is_accepted":false,"score":196,"last_activity_date":1441706469,"creation_date":1441706469,"answer_id":32454807,"question_id":3634853,"body_markdown":"With Java 7, you can use [`Files.createDirectories()`](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#createDirectories(java.nio.file.Path,%20java.nio.file.attribute.FileAttribute...)).\r\n\r\nFor instance:\r\n\r\n    Files.createDirectories(Paths.get(&quot;/path/to/directory&quot;));","title":"How to create a directory in Java?","body":"<p>With Java 7, you can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#createDirectories(java.nio.file.Path,%20java.nio.file.attribute.FileAttribute...)\"><code>Files.createDirectories()</code></a>.</p>\n\n<p>For instance:</p>\n\n<pre><code>Files.createDirectories(Paths.get(\"/path/to/directory\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4969490,"reputation":47,"user_id":3997787,"display_name":"Stefano Castagnino"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1453776959,"creation_date":1453776959,"answer_id":35006335,"question_id":3634853,"body_markdown":"This the way work for me do one single directory or more or them:\r\nneed to import java.io.File;    \r\n/*enter the code below to add a diectory dir1 or check if exist dir1, if does not, so create it and same with dir2 and dir3 */\r\n      \r\n        File filed = new File(&quot;C:\\\\dir1&quot;);\r\n        if(!filed.exists()){  if(filed.mkdir()){ System.out.println(&quot;directory is created&quot;); }} else{ System.out.println(&quot;directory exist&quot;);  }\r\n        \r\n        File filel = new File(&quot;C:\\\\dir1\\\\dir2&quot;);\r\n        if(!filel.exists()){  if(filel.mkdir()){ System.out.println(&quot;directory is created&quot;);   }} else{ System.out.println(&quot;directory exist&quot;);  }\r\n        \r\n        File filet = new File(&quot;C:\\\\dir1\\\\dir2\\\\dir3&quot;);\r\n        if(!filet.exists()){  if(filet.mkdir()){ System.out.println(&quot;directory is  created&quot;); }}  else{ System.out.println(&quot;directory exist&quot;);  }\r\n        ","title":"How to create a directory in Java?","body":"<p>This the way work for me do one single directory or more or them:\nneed to import java.io.File;<br>\n/*enter the code below to add a diectory dir1 or check if exist dir1, if does not, so create it and same with dir2 and dir3 */</p>\n\n<pre><code>    File filed = new File(\"C:\\\\dir1\");\n    if(!filed.exists()){  if(filed.mkdir()){ System.out.println(\"directory is created\"); }} else{ System.out.println(\"directory exist\");  }\n\n    File filel = new File(\"C:\\\\dir1\\\\dir2\");\n    if(!filel.exists()){  if(filel.mkdir()){ System.out.println(\"directory is created\");   }} else{ System.out.println(\"directory exist\");  }\n\n    File filet = new File(\"C:\\\\dir1\\\\dir2\\\\dir3\");\n    if(!filet.exists()){  if(filet.mkdir()){ System.out.println(\"directory is  created\"); }}  else{ System.out.println(\"directory exist\");  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1553032688,"creation_date":1483996015,"answer_id":41556944,"question_id":3634853,"body_markdown":"For java 7 and up: \r\n\r\n    Path path = Paths.get(&quot;/your/path/string&quot;);\r\n    Files.createDirectories(path);\r\n        \r\n\r\nIt seems unnecessary to check for existence of the dir or file before creating, [from createDirectories javadocs][1]: \r\n\r\n&gt; Creates a directory by creating all nonexistent parent directories first. Unlike the createDirectory method, an exception is not thrown if the directory could not be created because it already exists.\r\nThe attrs parameter is optional file-attributes to set atomically when creating the nonexistent directories. Each file attribute is identified by its name. If more than one attribute of the same name is included in the array then all but the last occurrence is ignored.\r\n\r\n&gt; If this method fails, then it may do so after creating some, but not all, of the parent directories.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#createDirectories(java.nio.file.Path,%20java.nio.file.attribute.FileAttribute...)","title":"How to create a directory in Java?","body":"<p>For java 7 and up: </p>\n\n<pre><code>Path path = Paths.get(\"/your/path/string\");\nFiles.createDirectories(path);\n</code></pre>\n\n<p>It seems unnecessary to check for existence of the dir or file before creating, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#createDirectories(java.nio.file.Path,%20java.nio.file.attribute.FileAttribute...)\" rel=\"noreferrer\">from createDirectories javadocs</a>: </p>\n\n<blockquote>\n  <p>Creates a directory by creating all nonexistent parent directories first. Unlike the createDirectory method, an exception is not thrown if the directory could not be created because it already exists.\n  The attrs parameter is optional file-attributes to set atomically when creating the nonexistent directories. Each file attribute is identified by its name. If more than one attribute of the same name is included in the array then all but the last occurrence is ignored.</p>\n  \n  <p>If this method fails, then it may do so after creating some, but not all, of the parent directories.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12361240,"reputation":31,"user_id":9015402,"display_name":"l0wacska"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522835964,"creation_date":1522831720,"answer_id":49646607,"question_id":3634853,"body_markdown":"if you want to be sure its created then this:\r\n\r\n    final String path = &quot;target/logs/&quot;;\r\n\tfinal File logsDir = new File(path);\r\n\tfinal boolean logsDirCreated = logsDir.mkdir();\r\n\tif (!logsDirCreated) {\r\n\t\tfinal boolean logsDirExists = logsDir.exists();\r\n\t\tassertThat(logsDirExists).isTrue();\r\n\t}\r\n\r\nbeacuse `mkDir()` returns a boolean, and findbugs will cry for it if you dont use the variable. Also its not nice...\r\n\r\n`mkDir()` returns only true if `mkDir()` creates it.\r\nIf the dir exists, it returns false, so to verify the dir you created, only call `exists()` if `mkDir()` return false.\r\n\r\n`assertThat()` will checks the result and fails if `exists()` returns false. ofc you can use other things to handle the uncreated directory.\r\n","title":"How to create a directory in Java?","body":"<p>if you want to be sure its created then this:</p>\n\n<pre><code>final String path = \"target/logs/\";\nfinal File logsDir = new File(path);\nfinal boolean logsDirCreated = logsDir.mkdir();\nif (!logsDirCreated) {\n    final boolean logsDirExists = logsDir.exists();\n    assertThat(logsDirExists).isTrue();\n}\n</code></pre>\n\n<p>beacuse <code>mkDir()</code> returns a boolean, and findbugs will cry for it if you dont use the variable. Also its not nice...</p>\n\n<p><code>mkDir()</code> returns only true if <code>mkDir()</code> creates it.\nIf the dir exists, it returns false, so to verify the dir you created, only call <code>exists()</code> if <code>mkDir()</code> return false.</p>\n\n<p><code>assertThat()</code> will checks the result and fails if <code>exists()</code> returns false. ofc you can use other things to handle the uncreated directory.</p>\n"},{"tags":[],"owner":{"account_id":2730476,"reputation":945,"user_id":2354385,"display_name":"Farzan.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680597466,"creation_date":1671125813,"answer_id":74815501,"question_id":3634853,"body_markdown":"You can use the Short Circuit OR feature in an &#39;if&#39; statement. This feature allows you to check if a directory exists and create it in a single line of code, as shown in this example:\r\n\r\n    public File checkAndMakeTheDirectory() {\r\n      File theDirectory = new File(&quot;/path/directory&quot;);\r\n      if (theDirectory.exists() || theDirectory.mkdirs())\r\n        System.out.println(&quot;The folder has been created or already exists&quot;);\r\n      return theDirectory;\r\n    }\r\n\r\n\r\nThe &#39;if&#39; statement in Java has a useful feature known as Short Circuit Evaluation. If the first part of the &#39;if&#39; statement is true, then the second part will not be evaluated. Conversely, if the first part is false, then the second part will still be evaluated.","title":"How to create a directory in Java?","body":"<p>You can use the Short Circuit OR feature in an 'if' statement. This feature allows you to check if a directory exists and create it in a single line of code, as shown in this example:</p>\n<pre><code>public File checkAndMakeTheDirectory() {\n  File theDirectory = new File(&quot;/path/directory&quot;);\n  if (theDirectory.exists() || theDirectory.mkdirs())\n    System.out.println(&quot;The folder has been created or already exists&quot;);\n  return theDirectory;\n}\n</code></pre>\n<p>The 'if' statement in Java has a useful feature known as Short Circuit Evaluation. If the first part of the 'if' statement is true, then the second part will not be evaluated. Conversely, if the first part is false, then the second part will still be evaluated.</p>\n"}],"owner":{"account_id":189198,"reputation":8171,"user_id":428390,"accept_rate":93,"display_name":"jimmy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":779823,"favorite_count":0,"down_vote_count":1,"up_vote_count":477,"accepted_answer_id":3634906,"answer_count":16,"score":476,"last_activity_date":1680597466,"creation_date":1283509659,"question_id":3634853,"body_markdown":"How do I create Directory/folder?\r\n\r\nOnce I have tested `System.getProperty(&quot;user.home&quot;);`\r\n\r\nI have to create a directory (directory name &quot;new folder&quot; ) if and only if new folder does not exist.","title":"How to create a directory in Java?","body":"<p>How do I create Directory/folder?</p>\n\n<p>Once I have tested <code>System.getProperty(\"user.home\");</code></p>\n\n<p>I have to create a directory (directory name \"new folder\" ) if and only if new folder does not exist.</p>\n"},{"tags":["java","xslt","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676932481,"creation_date":1676932481,"answer_id":75514791,"question_id":75510516,"body_markdown":"You can write a URIResolver and set it on the TransformerFactory to check that the URI references in xsl:include only access safe locations.\r\n\r\nI don&#39;t know if this will prevent the security warnings (which are probably not very smart) but it should remove any security risks.","title":"Xsl include and SonarQube / XXE attacks vulnerability alert","body":"<p>You can write a URIResolver and set it on the TransformerFactory to check that the URI references in xsl:include only access safe locations.</p>\n<p>I don't know if this will prevent the security warnings (which are probably not very smart) but it should remove any security risks.</p>\n"}],"owner":{"account_id":27831538,"reputation":31,"user_id":21249851,"display_name":"BrunoLochet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680597432,"creation_date":1676903294,"question_id":75510516,"body_markdown":"I&#39;m working on an old Java J2EE Jdk 8 web app with XSL transformations to produce html.\r\nOur xsl files sometimes include other xsl files (for factorization purposes).\r\n\r\n**Example**  \r\nth1.xsl file\r\n```xsl\r\n&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n version=&quot;1.0&quot; xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;&gt;  \r\n&lt;!-- TEMPLATE TH1 --&gt;\r\n...\r\n&lt;xsl:include href=&quot;disclaimer.xsl&quot;/&gt;\r\n...\r\n```\r\n\r\nJava part\r\n```java\r\nString xslt = &quot;th1.xsl&quot;;\r\nString xml = &quot;xxe.xml&quot;;\r\nTransformerFactory transformerFactory = javax.xml.transform.TransformerFactory.newInstance();\r\nTransformer transformer = TransformerFactory.newTransformer(new StreamSource(xslt));\r\nStringWriter writer = new StringWriter();\r\ntransformer.transform(new StreamSource(xml), new StreamResult(writer));\r\nString result = writer.toString();\r\n```\r\n\r\n**Problem**  \r\nRecently, we plug SonarQube on it.  \r\nWe have a vulnerability alert from SonarQube: &quot;Disable access to external entities in XML parsing.&quot;  \r\nAnd, according to SonarQube, we shall disable access to external Xsl by using these lines:\r\n```\r\ntransformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\ntransformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n```\r\n\r\nBut, by doing so, we cannot anymore use the &quot;xsl:include&quot; tag because of this exception:  \r\n```\r\nCaused By: javax.xml.transform.TransformerConfigurationException: file:///conf/myWebApp/xsl/modele/th1.xsl: line 6: Could not read stylesheet target &#39;disclaimer.xsl&#39;, because &#39;file&#39; access is not allowed due to restriction set by the accessExternalStylesheet property.\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:990)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTransformer(TransformerFactoryImpl.java:761)\r\n\tat weblogic.xml.jaxp.WebLogicTransformerFactory.newTransformer(WebLogicTransformerFactory.java:208)\r\n\tat weblogic.xml.jaxp.RegistryTransformerFactory.newTransformer(RegistryTransformerFactory.java:209)\r\n```\r\n\r\n**Solution Tried**\r\n```\r\ntransformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;file&quot;);\r\n```  \r\nThis solution prevents the exception to be thrown but SonarQube raised the same vulnerability alert.\r\n\r\nI understand the need to prevent the xsl include tag to access anything.\r\nSo, I&#39;m looking for a way to restrict xsl include to access only a trusted folder (containing my xsl files), something that will be SonarQube friendly.\r\n\r\n**UPDATE**  \r\nAs said below, I managed to take into account the sonarQube note. The only thing needed to make it work is to write an URI resolver.\r\n\r\n```java\r\nURIResolver uRIResolver = new URIResolver() {\r\n    @Override\r\n    public Source resolve(String href, String base) throws TransformerException {\r\n\r\n\t// Example: href = &quot;disclaimer.xsl&quot;\r\n\t// Example: base = &quot;file:///appli/myAppli/xsl/th1.xsl&quot;\r\n    InputStream inputStream = getClass().getClassLoader().getResourceAsStream(href);\r\n        if (inputStream == null) {\r\n            throw new TransformerException(&quot;Unable to resolve &quot; + href + &quot; from classpath&quot;);\r\n        }\r\n        return new StreamSource(inputStream);\r\n    }\r\n};\r\n\r\nTransformerFactory tFactory = TransformerFactory.newInstance();\r\ntFactory.setURIResolver(uRIResolver);\r\ntFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\ntFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n```\r\n","title":"Xsl include and SonarQube / XXE attacks vulnerability alert","body":"<p>I'm working on an old Java J2EE Jdk 8 web app with XSL transformations to produce html.\nOur xsl files sometimes include other xsl files (for factorization purposes).</p>\n<p><strong>Example</strong><br />\nth1.xsl file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n version=&quot;1.0&quot; xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;&gt;  \n&lt;!-- TEMPLATE TH1 --&gt;\n...\n&lt;xsl:include href=&quot;disclaimer.xsl&quot;/&gt;\n...\n</code></pre>\n<p>Java part</p>\n<pre class=\"lang-java prettyprint-override\"><code>String xslt = &quot;th1.xsl&quot;;\nString xml = &quot;xxe.xml&quot;;\nTransformerFactory transformerFactory = javax.xml.transform.TransformerFactory.newInstance();\nTransformer transformer = TransformerFactory.newTransformer(new StreamSource(xslt));\nStringWriter writer = new StringWriter();\ntransformer.transform(new StreamSource(xml), new StreamResult(writer));\nString result = writer.toString();\n</code></pre>\n<p><strong>Problem</strong><br />\nRecently, we plug SonarQube on it.<br />\nWe have a vulnerability alert from SonarQube: &quot;Disable access to external entities in XML parsing.&quot;<br />\nAnd, according to SonarQube, we shall disable access to external Xsl by using these lines:</p>\n<pre><code>transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\ntransformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\n</code></pre>\n<p>But, by doing so, we cannot anymore use the &quot;xsl:include&quot; tag because of this exception:</p>\n<pre><code>Caused By: javax.xml.transform.TransformerConfigurationException: file:///conf/myWebApp/xsl/modele/th1.xsl: line 6: Could not read stylesheet target 'disclaimer.xsl', because 'file' access is not allowed due to restriction set by the accessExternalStylesheet property.\n    at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:990)\n    at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl.newTransformer(TransformerFactoryImpl.java:761)\n    at weblogic.xml.jaxp.WebLogicTransformerFactory.newTransformer(WebLogicTransformerFactory.java:208)\n    at weblogic.xml.jaxp.RegistryTransformerFactory.newTransformer(RegistryTransformerFactory.java:209)\n</code></pre>\n<p><strong>Solution Tried</strong></p>\n<pre><code>transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;file&quot;);\n</code></pre>\n<p>This solution prevents the exception to be thrown but SonarQube raised the same vulnerability alert.</p>\n<p>I understand the need to prevent the xsl include tag to access anything.\nSo, I'm looking for a way to restrict xsl include to access only a trusted folder (containing my xsl files), something that will be SonarQube friendly.</p>\n<p><strong>UPDATE</strong><br />\nAs said below, I managed to take into account the sonarQube note. The only thing needed to make it work is to write an URI resolver.</p>\n<pre class=\"lang-java prettyprint-override\"><code>URIResolver uRIResolver = new URIResolver() {\n    @Override\n    public Source resolve(String href, String base) throws TransformerException {\n\n    // Example: href = &quot;disclaimer.xsl&quot;\n    // Example: base = &quot;file:///appli/myAppli/xsl/th1.xsl&quot;\n    InputStream inputStream = getClass().getClassLoader().getResourceAsStream(href);\n        if (inputStream == null) {\n            throw new TransformerException(&quot;Unable to resolve &quot; + href + &quot; from classpath&quot;);\n        }\n        return new StreamSource(inputStream);\n    }\n};\n\nTransformerFactory tFactory = TransformerFactory.newInstance();\ntFactory.setURIResolver(uRIResolver);\ntFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\ntFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\n</code></pre>\n"},{"tags":["java","machine-learning","artificial-intelligence","onnx"],"answers":[{"tags":[],"owner":{"account_id":23939159,"reputation":1,"user_id":17932521,"display_name":"Waldek Bu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680597429,"creation_date":1680597429,"answer_id":75927209,"question_id":75822612,"body_markdown":"Hopefully this will help somebody.\r\nAfter extensive search I have not found a Java solution to the problem.\r\nBut using python renaming the model is rather trivial.\r\nUsing onnx library we simply load the model and the name will be at\r\n\r\n    model.graph.name\r\n\r\n \r\nWe have created a simple service with one endpoint using flask that takes a model as byte[], loads it, renames it and returns the byte[] representation of the model.\r\n\r\nIf you find by any chance a Java way of doing this, please let me know :)","title":"Can you rename an ONNX model with Java","body":"<p>Hopefully this will help somebody.\nAfter extensive search I have not found a Java solution to the problem.\nBut using python renaming the model is rather trivial.\nUsing onnx library we simply load the model and the name will be at</p>\n<pre><code>model.graph.name\n</code></pre>\n<p>We have created a simple service with one endpoint using flask that takes a model as byte[], loads it, renames it and returns the byte[] representation of the model.</p>\n<p>If you find by any chance a Java way of doing this, please let me know :)</p>\n"}],"owner":{"account_id":23939159,"reputation":1,"user_id":17932521,"display_name":"Waldek Bu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680597429,"creation_date":1679572136,"question_id":75822612,"body_markdown":"We are getting different versions of the models from the client but they are all named the same and the client cannot change the name because of the way they have training set up.\r\nWe need to upload the models to Cumulocity Zementis but it will not accept two models with the same name.\r\n\r\n**Question is**, is it possible to change the name of the model with Java ? \r\n\r\nWe have tried microsofts onnxruntime library, we can get OnnxModelMetaData but this object is immutable. We didn&#39;t find any methods that would allow us to change the models name and export the modified model. \r\n\r\nAll wee need to do is append a suffix with version to the models name.\r\n\r\nEven a hint of how to deal with this problem would be much appreciated. \r\n\r\nThank you ","title":"Can you rename an ONNX model with Java","body":"<p>We are getting different versions of the models from the client but they are all named the same and the client cannot change the name because of the way they have training set up.\nWe need to upload the models to Cumulocity Zementis but it will not accept two models with the same name.</p>\n<p><strong>Question is</strong>, is it possible to change the name of the model with Java ?</p>\n<p>We have tried microsofts onnxruntime library, we can get OnnxModelMetaData but this object is immutable. We didn't find any methods that would allow us to change the models name and export the modified model.</p>\n<p>All wee need to do is append a suffix with version to the models name.</p>\n<p>Even a hint of how to deal with this problem would be much appreciated.</p>\n<p>Thank you</p>\n"},{"tags":["java","string-formatting"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1680493406,"post_id":75915824,"comment_id":133902281,"body_markdown":"I dont work a lot with String.format, but i think its because each %d expects a variable. you provide only one, so it will not work as expected.","body":"I dont work a lot with String.format, but i think its because each %d expects a variable. you provide only one, so it will not work as expected."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1680493544,"post_id":75915824,"comment_id":133902293,"body_markdown":"you could instead try to load the string into a string builder and insert at the correct indexes the &quot;-&quot;","body":"you could instead try to load the string into a string builder and insert at the correct indexes the &quot;-&quot;"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680493864,"post_id":75915824,"comment_id":133902317,"body_markdown":"please do research before asking, at the very least study the javadoc of each method you are using ..","body":"please do research before asking, at the very least study the javadoc of each method you are using .."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1680507973,"post_id":75915824,"comment_id":133904129,"body_markdown":"Generally, you shouldn&#39;t use integers to represent things like social security number","body":"Generally, you shouldn&#39;t use integers to represent things like social security number"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680597406,"creation_date":1680496306,"answer_id":75916047,"question_id":75915824,"body_markdown":"`String.format` is the wrong tool for the job. It cannot do what you want. Java sees 3 `%d` values and thus wants you to pass 3 numbers to it.\r\n\r\nYou need to do the work of chopping the number into its parts on your own. You can either use integer wrangling for it, or string wrangling.\r\n\r\n## int wrangling\r\n\r\n.. though you may want to use `long`.\r\n\r\nGiven `123456789`, you need to obtain:\r\n\r\n* `123`\r\n* `45`\r\n* `6789`\r\n\r\nTo that, you can divide by the relevant number: `123456789 / 1000000` is `123`.\r\n\r\nFor `45`, you need to combine modulo and division. First, you want to lop off the 123, which requires modulo, then lop off the 6789 which requires division. `123456789 % 1000000` is `3456789`. Divide that by `10000` and you get `45`. Alternatively, keep &#39;updating&#39; the number: Once you get 123 out subtract that times 1000000.\r\n\r\n```\r\nlong ssn = 123_45_6789L;\r\nint p1 = ssn / 1_00_0000;\r\nint p2 = (ssn % 1_00_0000) / 1_0000;\r\nint p3 = ssn % 1_0000;\r\nreturn String.format(&quot;%03d-%02d-%04d&quot;, p1, p2, p3);\r\n```\r\n\r\n## String wrangling\r\n\r\n(EDIT: Replaced with @OleV.V.&#39;s far more elegant take).\r\n\r\nFirst turn your number into a string then inject the dashes:\r\n\r\n```\r\nlong ssn = 123456789L;\r\nString a = String.format(&quot;%09d&quot;, ssn)\r\n  .replaceFirst(&quot;(\\\\d{3})(\\\\d{2})(\\\\d{4})&quot;, &quot;$1-$2-$3&quot;);\r\n```\r\n\r\neither one works fine - but the second (string wrangling) example strikes me as more readable.","title":"String Format an integer to look like a social security number","body":"<p><code>String.format</code> is the wrong tool for the job. It cannot do what you want. Java sees 3 <code>%d</code> values and thus wants you to pass 3 numbers to it.</p>\n<p>You need to do the work of chopping the number into its parts on your own. You can either use integer wrangling for it, or string wrangling.</p>\n<h2>int wrangling</h2>\n<p>.. though you may want to use <code>long</code>.</p>\n<p>Given <code>123456789</code>, you need to obtain:</p>\n<ul>\n<li><code>123</code></li>\n<li><code>45</code></li>\n<li><code>6789</code></li>\n</ul>\n<p>To that, you can divide by the relevant number: <code>123456789 / 1000000</code> is <code>123</code>.</p>\n<p>For <code>45</code>, you need to combine modulo and division. First, you want to lop off the 123, which requires modulo, then lop off the 6789 which requires division. <code>123456789 % 1000000</code> is <code>3456789</code>. Divide that by <code>10000</code> and you get <code>45</code>. Alternatively, keep 'updating' the number: Once you get 123 out subtract that times 1000000.</p>\n<pre><code>long ssn = 123_45_6789L;\nint p1 = ssn / 1_00_0000;\nint p2 = (ssn % 1_00_0000) / 1_0000;\nint p3 = ssn % 1_0000;\nreturn String.format(&quot;%03d-%02d-%04d&quot;, p1, p2, p3);\n</code></pre>\n<h2>String wrangling</h2>\n<p>(EDIT: Replaced with @OleV.V.'s far more elegant take).</p>\n<p>First turn your number into a string then inject the dashes:</p>\n<pre><code>long ssn = 123456789L;\nString a = String.format(&quot;%09d&quot;, ssn)\n  .replaceFirst(&quot;(\\\\d{3})(\\\\d{2})(\\\\d{4})&quot;, &quot;$1-$2-$3&quot;);\n</code></pre>\n<p>either one works fine - but the second (string wrangling) example strikes me as more readable.</p>\n"}],"owner":{"account_id":26966183,"reputation":3,"user_id":20533003,"display_name":"Michael Teoro Jr."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75916047,"answer_count":1,"score":-2,"last_activity_date":1680597406,"creation_date":1680492208,"question_id":75915824,"body_markdown":"After the users input of a social security number I would like to take the integer that is entered and display is as a social security number. So that XXXXXXXXX becomes XXX-XX-XXXX.\r\n\r\n```\r\n public String getSSNumber()\r\n        {      \r\n            String convert;\r\n            convert = String.valueOf(ssNumber);\r\n            return convert;\r\n        }\r\n\r\n public String toString()\r\n        {\r\n           return (&quot; SSN: &quot; + String.format(&quot;%03d-%02d-%04d&quot;, ssNumber);\r\n        }\r\n```\r\n\r\nThis is the code I tried, and I just can&#39;t seem to get it to work. Forgive the gross code I&#39;m a new student to java.","title":"String Format an integer to look like a social security number","body":"<p>After the users input of a social security number I would like to take the integer that is entered and display is as a social security number. So that XXXXXXXXX becomes XXX-XX-XXXX.</p>\n<pre><code> public String getSSNumber()\n        {      \n            String convert;\n            convert = String.valueOf(ssNumber);\n            return convert;\n        }\n\n public String toString()\n        {\n           return (&quot; SSN: &quot; + String.format(&quot;%03d-%02d-%04d&quot;, ssNumber);\n        }\n</code></pre>\n<p>This is the code I tried, and I just can't seem to get it to work. Forgive the gross code I'm a new student to java.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1680547240,"post_id":75922674,"comment_id":133913840,"body_markdown":"You can&#39;t check &quot;ahead&quot; with `Scanner`&#39;s API.  You have to check one, then the next.","body":"You can&#39;t check &quot;ahead&quot; with <code>Scanner</code>&#39;s API.  You have to check one, then the next."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680547461,"post_id":75922674,"comment_id":133913899,"body_markdown":"[Scanner.hasNext()](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#hasNext()) checks  if there is another token, regardless of how the token might be interpreted. [~.hasNextInt()](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#hasNextInt()) checks if there is another token **and** that token can be interpreted as an integer.","body":"<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#hasNext()\" rel=\"nofollow noreferrer\">Scanner.hasNext()</a> checks  if there is another token, regardless of how the token might be interpreted. <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#hasNextInt()\" rel=\"nofollow noreferrer\">~.hasNextInt()</a> checks if there is another token <b>and</b> that token can be interpreted as an integer."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1680547884,"post_id":75922674,"comment_id":133913989,"body_markdown":"If you require tokens to be paired, use `hasNext()` or `hasNextInt()` to check for the first. If true, use `nextInt()` then use `hasNext()` or `hasNextInt()` to check for the second. You&#39;ll have to decide how an unpaired token should be handled.","body":"If you require tokens to be paired, use <code>hasNext()</code> or <code>hasNextInt()</code> to check for the first. If true, use <code>nextInt()</code> then use <code>hasNext()</code> or <code>hasNextInt()</code> to check for the second. You&#39;ll have to decide how an unpaired token should be handled."},{"owner":{"account_id":28205672,"reputation":9,"user_id":21558806,"display_name":"nikk0nikk0ni"},"score":0,"creation_date":1680548684,"post_id":75922674,"comment_id":133914171,"body_markdown":"What do you mean by a token","body":"What do you mean by a token"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680549052,"post_id":75922674,"comment_id":133914244,"body_markdown":"A `Scanner` is *A simple text scanner which can parse primitive types and strings using regular expressions.  // A Scanner breaks its input into tokens using a delimiter pattern, which by default matches whitespace. The resulting tokens may then be converted into values of different types using the various next methods.*  https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html","body":"A <code>Scanner</code> is <i>A simple text scanner which can parse primitive types and strings using regular expressions.  // A Scanner breaks its input into tokens using a delimiter pattern, which by default matches whitespace. The resulting tokens may then be converted into values of different types using the various next methods.</i>  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":28205672,"reputation":9,"user_id":21558806,"display_name":"nikk0nikk0ni"},"score":1,"creation_date":1680549321,"post_id":75922674,"comment_id":133914286,"body_markdown":"I understand you, but what is a token in simple language. Im just new to programming","body":"I understand you, but what is a token in simple language. Im just new to programming"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1680550078,"post_id":75922674,"comment_id":133914424,"body_markdown":"What problems did you encounter when you tried `hasNextInt()`, if you want us to help you with that, then show the code and explain what happened.","body":"What problems did you encounter when you tried <code>hasNextInt()</code>, if you want us to help you with that, then show the code and explain what happened."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1680550156,"post_id":75922674,"comment_id":133914438,"body_markdown":"@nikk0nikk0ni A &quot;token&quot; is a sequence one or more characters from the input that has some meaning as a group and cannot be divided into smaller pieces. These are like the &quot;words&quot; of a language. For example, the string &quot;123&quot; can be considered a single token that represents the number 123. On the other hand &quot;12+34&quot; might be interpreted as three tokens, the numbers 12 and 34 and the + operator. To understand this in more detail, I recommend that you read about so-called &quot;string parsing&quot;.","body":"@nikk0nikk0ni A &quot;token&quot; is a sequence one or more characters from the input that has some meaning as a group and cannot be divided into smaller pieces. These are like the &quot;words&quot; of a language. For example, the string &quot;123&quot; can be considered a single token that represents the number 123. On the other hand &quot;12+34&quot; might be interpreted as three tokens, the numbers 12 and 34 and the + operator. To understand this in more detail, I recommend that you read about so-called &quot;string parsing&quot;."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680550443,"post_id":75922674,"comment_id":133914513,"body_markdown":"additional info to previous comment: by default the `Scanner` separates the tokens by one or more whitespaces (including SPACE, TAB, NEWLINE) - so, for example `&quot;123  abc &quot;` will result in two tokens `&quot;123&quot;` and `&quot;abc&quot;` (the delimiter [pattern] can be changed)","body":"additional info to previous comment: by default the <code>Scanner</code> separates the tokens by one or more whitespaces (including SPACE, TAB, NEWLINE) - so, for example <code>&quot;123  abc &quot;</code> will result in two tokens <code>&quot;123&quot;</code> and <code>&quot;abc&quot;</code> (the delimiter [pattern] can be changed)"},{"owner":{"account_id":28205672,"reputation":9,"user_id":21558806,"display_name":"nikk0nikk0ni"},"score":0,"creation_date":1680550486,"post_id":75922674,"comment_id":133914522,"body_markdown":"Thank you 4 explanation","body":"Thank you 4 explanation"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":2,"creation_date":1680551134,"post_id":75922674,"comment_id":133914635,"body_markdown":"&quot;but what is a token in simple language&quot; each individual thing that you read from the Scanner. The *purpose* of the Scanner is to split up the input into tokens. This kind of information is [easy to search for](https://duckduckgo.com/?q=programming+concepts+token), by the way.","body":"&quot;but what is a token in simple language&quot; each individual thing that you read from the Scanner. The <i>purpose</i> of the Scanner is to split up the input into tokens. This kind of information is <a href=\"https://duckduckgo.com/?q=programming+concepts+token\" rel=\"nofollow noreferrer\">easy to search for</a>, by the way."}],"answers":[{"tags":[],"owner":{"account_id":26708054,"reputation":1,"user_id":20313929,"display_name":"Daniel Zajcev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680550565,"creation_date":1680549912,"answer_id":75923099,"question_id":75922674,"body_markdown":"&quot;check = false;&quot; is in the wrong place. Your code ends after an exception in an infinite loop. After the exception, one possibility would be to create a New Scanner Object. You should set &quot;check&quot; to false in the try block.\r\n\r\nIt would look like this:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            int sum = 0;\r\n            int v1,v2;\r\n            boolean check = true;\r\n\r\n\t        while(check == true)\r\n\t        {\r\n\t            try\r\n\t            {\r\n\t        \t    System.out.println(&quot;Write the first number: &quot;);\r\n\t\t            v1 = input.nextInt();\r\n\t\t            System.out.println(&quot;Write the second number: &quot;);\r\n\t\t            v2 = input.nextInt();\r\n\t\t            sum += v1 + v2;\r\n\t\t            System.out.println(&quot;The result of &quot; + v1 + &quot; + &quot; + v2 + &quot; is &quot; + sum);\r\n\t\t            check = false;\r\n\t            }\r\n\t            catch (Throwable e)\r\n\t            {\r\n\t                System.out.println(&quot;The input is not valid! \\nPlease use valid integer values!\\n&quot;);\r\n\t                input = new Scanner(System.in);\r\n\t            }\r\n\t        }\r\n        }\r\n\r\n    }","title":"How to understand how hasNextInt is defined if I use two variables","body":"<p>&quot;check = false;&quot; is in the wrong place. Your code ends after an exception in an infinite loop. After the exception, one possibility would be to create a New Scanner Object. You should set &quot;check&quot; to false in the try block.</p>\n<p>It would look like this:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int sum = 0;\n        int v1,v2;\n        boolean check = true;\n\n        while(check == true)\n        {\n            try\n            {\n                System.out.println(&quot;Write the first number: &quot;);\n                v1 = input.nextInt();\n                System.out.println(&quot;Write the second number: &quot;);\n                v2 = input.nextInt();\n                sum += v1 + v2;\n                System.out.println(&quot;The result of &quot; + v1 + &quot; + &quot; + v2 + &quot; is &quot; + sum);\n                check = false;\n            }\n            catch (Throwable e)\n            {\n                System.out.println(&quot;The input is not valid! \\nPlease use valid integer values!\\n&quot;);\n                input = new Scanner(System.in);\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28205672,"reputation":9,"user_id":21558806,"display_name":"nikk0nikk0ni"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680596911,"creation_date":1680546693,"question_id":75922674,"body_markdown":"How is `hasNextInt` defined with two variables? For example, if I count two `int` variables and I need to add them if they are both `int`.\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n    Scanner input = new Scanner(System.in);\r\n    int sum = 0;\r\n    int v1,v2;\r\n    boolean check = true;\r\n    while(check)\r\n    {\r\n        try\r\n        {\r\n        v1 = input.nextInt();\r\n        v2 = input.nextInt();\r\n        sum += v1+v2;\r\n            System.out.println(sum);\r\n        }\r\n        catch (Throwable e)\r\n        {\r\n            System.out.println(sum);\r\n            check = false;\r\n        }\r\n    }\r\n    }\r\n\r\n}\r\n```\r\n\r\nI tried to solve this problem through `hasNextInt`, but finally gave up and decided through `try... catch`","title":"How to understand how hasNextInt is defined if I use two variables","body":"<p>How is <code>hasNextInt</code> defined with two variables? For example, if I count two <code>int</code> variables and I need to add them if they are both <code>int</code>.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    int sum = 0;\n    int v1,v2;\n    boolean check = true;\n    while(check)\n    {\n        try\n        {\n        v1 = input.nextInt();\n        v2 = input.nextInt();\n        sum += v1+v2;\n            System.out.println(sum);\n        }\n        catch (Throwable e)\n        {\n            System.out.println(sum);\n            check = false;\n        }\n    }\n    }\n\n}\n</code></pre>\n<p>I tried to solve this problem through <code>hasNextInt</code>, but finally gave up and decided through <code>try... catch</code></p>\n"},{"tags":["java","nosuchmethoderror"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1680596354,"post_id":75926682,"comment_id":133920747,"body_markdown":"This error should only happen when compilation of `ch8ps` happened with a different version of `Employee` on the classpath than execution. Are both of those classes in the same file? Can you check if there&#39;s maybe more than one `Employee.class` anywhere in your output directory?","body":"This error should only happen when compilation of <code>ch8ps</code> happened with a different version of <code>Employee</code> on the classpath than execution. Are both of those classes in the same file? Can you check if there&#39;s maybe more than one <code>Employee.class</code> anywhere in your output directory?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680602685,"post_id":75926682,"comment_id":133922288,"body_markdown":"I&#39;d say setName is not static, neither getNane, neither the string it sets too. You wouldn&#39;t getName  , do Employee.name in System.out. Put static on setName and the global.   If you want to stop static put Employee into the ch8p constructor with a global for it. Call your ch8p class with simply new ch8p();  recursively in its own main.","body":"I&#39;d say setName is not static, neither getNane, neither the string it sets too. You wouldn&#39;t getName  , do Employee.name in System.out. Put static on setName and the global.   If you want to stop static put Employee into the ch8p constructor with a global for it. Call your ch8p class with simply new ch8p();  recursively in its own main."}],"owner":{"account_id":28210486,"reputation":1,"user_id":21562848,"display_name":"Anonymus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680596263,"creation_date":1680593884,"question_id":75926682,"body_markdown":"Whenever I run this code in VSCode.\r\n\r\n```\r\nclass Employee{\r\n    int salary;\r\n    String name;\r\n\r\n    public int getSalary(){\r\n        return salary;\r\n    }\r\n    public String getName(){\r\n        return name;\r\n    }\r\n    public void setName(String n){\r\n        name = n;\r\n    }\r\n}\r\n\r\npublic class ch8ps {\r\n    public static void main(String[] args) {\r\n        Employee test = new Employee();\r\n\r\n        test.setName(&quot;XYZ&quot;);\r\n        System.out.println(test.getName());\r\n    }\r\n}\r\n```\r\n\r\nIt throws this error.\r\n\r\n```none\r\ncd /home/linux/Desktop/Study\\ Material/Codes/Java ; /usr/bin/env /usr/lib/jvm/jdk-19/bin/java @/tmp/cp_d5gr0ezmyf1mprctrtteedg\r\nec.argfile ch8ps \r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;void Employee.setName(java.lang.String)&#39;\r\n        at ch8ps.main(ch8ps.java:20)\r\n```\r\n\r\nand if I comment this line `test.setName(&quot;XYZ&quot;);` It returns same error for this `System.out.println(test.getName());` line too.\r\n\r\nBut, whenever I run this code in IntelliJ idea, it runs perfectly.","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError error shows up in VSCode","body":"<p>Whenever I run this code in VSCode.</p>\n<pre><code>class Employee{\n    int salary;\n    String name;\n\n    public int getSalary(){\n        return salary;\n    }\n    public String getName(){\n        return name;\n    }\n    public void setName(String n){\n        name = n;\n    }\n}\n\npublic class ch8ps {\n    public static void main(String[] args) {\n        Employee test = new Employee();\n\n        test.setName(&quot;XYZ&quot;);\n        System.out.println(test.getName());\n    }\n}\n</code></pre>\n<p>It throws this error.</p>\n<pre class=\"lang-none prettyprint-override\"><code>cd /home/linux/Desktop/Study\\ Material/Codes/Java ; /usr/bin/env /usr/lib/jvm/jdk-19/bin/java @/tmp/cp_d5gr0ezmyf1mprctrtteedg\nec.argfile ch8ps \nException in thread &quot;main&quot; java.lang.NoSuchMethodError: 'void Employee.setName(java.lang.String)'\n        at ch8ps.main(ch8ps.java:20)\n</code></pre>\n<p>and if I comment this line <code>test.setName(&quot;XYZ&quot;);</code> It returns same error for this <code>System.out.println(test.getName());</code> line too.</p>\n<p>But, whenever I run this code in IntelliJ idea, it runs perfectly.</p>\n"},{"tags":["java","spring-boot","spring-webflux","reactive-programming","junit5"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1679071147,"post_id":75768057,"comment_id":133660977,"body_markdown":"Cannot reproduce based on given classes, only change is following https://stackoverflow.com/questions/58348038/springboot2-webflux-webtestclient-always-returns-401-unauthorized to avoid 401","body":"Cannot reproduce based on given classes, only change is following <a href=\"https://stackoverflow.com/questions/58348038/springboot2-webflux-webtestclient-always-returns-401-unauthorized\" title=\"springboot2 webflux webtestclient always returns 401 unauthorized\">stackoverflow.com/questions/58348038/&hellip;</a> to avoid 401"}],"answers":[{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680596020,"creation_date":1680596020,"answer_id":75926989,"question_id":75768057,"body_markdown":"```java\r\n@SpringBootTest\r\nclass FluxAndMonoControllerTest {\r\n\r\n\r\n    WebTestClient webTestClient;\r\n\r\n    @Autowired\r\n    ApplicationContext context;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        this.webTestClient = WebTestClient\r\n                .bindToApplicationContext(this.context)\r\n                .configureClient()\r\n                .build();\r\n    }\r\n    @Test\r\n    void returnFlux() {\r\n\r\n        Flux&lt;Integer&gt; response = webTestClient.get().uri(&quot;/flux&quot;)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus().isOk()\r\n                .returnResult(Integer.class)\r\n                .getResponseBody();\r\n\r\n        StepVerifier.create(response)\r\n                .expectNext(1)\r\n                .expectNext(2)\r\n                .expectNext(3)\r\n                .expectNext(4)\r\n                .verifyComplete();\r\n    }\r\n\r\n    @Test\r\n    void returnFluxStream() {\r\n\r\n        Flux&lt;Integer&gt; response = webTestClient.get().uri(&quot;/fluxstream&quot;)\r\n                .accept(MediaType.valueOf(MediaType.APPLICATION_NDJSON_VALUE))\r\n                .exchange()\r\n                .expectStatus().isOk()\r\n                .returnResult(Integer.class)\r\n                .getResponseBody();\r\n\r\n        StepVerifier.create(response)\r\n                .expectNext(1)\r\n                .expectNext(2)\r\n                .expectNext(3)\r\n                .expectNext(4)\r\n                .verifyComplete();\r\n    }\r\n}\r\n```","title":"Junit Testing for Reactive Java failing with &quot;Expected :200 OK , Actual :404 NOT_FOUND&quot;","body":"<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass FluxAndMonoControllerTest {\n\n\n    WebTestClient webTestClient;\n\n    @Autowired\n    ApplicationContext context;\n\n    @BeforeEach\n    public void setup() {\n        this.webTestClient = WebTestClient\n                .bindToApplicationContext(this.context)\n                .configureClient()\n                .build();\n    }\n    @Test\n    void returnFlux() {\n\n        Flux&lt;Integer&gt; response = webTestClient.get().uri(&quot;/flux&quot;)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus().isOk()\n                .returnResult(Integer.class)\n                .getResponseBody();\n\n        StepVerifier.create(response)\n                .expectNext(1)\n                .expectNext(2)\n                .expectNext(3)\n                .expectNext(4)\n                .verifyComplete();\n    }\n\n    @Test\n    void returnFluxStream() {\n\n        Flux&lt;Integer&gt; response = webTestClient.get().uri(&quot;/fluxstream&quot;)\n                .accept(MediaType.valueOf(MediaType.APPLICATION_NDJSON_VALUE))\n                .exchange()\n                .expectStatus().isOk()\n                .returnResult(Integer.class)\n                .getResponseBody();\n\n        StepVerifier.create(response)\n                .expectNext(1)\n                .expectNext(2)\n                .expectNext(3)\n                .expectNext(4)\n                .verifyComplete();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27688145,"reputation":13,"user_id":21135460,"display_name":"Kartik Mathur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680596020,"creation_date":1679059125,"question_id":75768057,"body_markdown":"Following is my controller class\r\n\r\n```\r\n@RestController\r\npublic class FluxAndMonoController {\r\n\r\n    @GetMapping(&quot;/flux&quot;)\r\n    public Flux&lt;Integer&gt; returnFlux(){\r\n\r\n        return Flux.just(1, 2, 3, 4)\r\n                .delayElements(Duration.ofSeconds(1))\r\n                .log();\r\n    }\r\n\r\n    @GetMapping(value = &quot;/fluxstream&quot;, produces = MediaType.APPLICATION_NDJSON_VALUE)    \r\n    public Flux&lt;Integer&gt; returnFluxStream(){ \r\n\r\n        return Flux.just(1, 2, 3, 4)\r\n                .delayElements(Duration.ofSeconds(1))\r\n                .log();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd following is my test for the above controller&#39;s first endpoint (&#39;/flux&#39;)\r\n\r\n```\r\n@WebFluxTest\r\npublic class FluxAndMonoController {\r\n\r\n    @Autowired\r\n    WebTestClient webTestClient;    \r\n\r\n    @Test\r\n    public void flux_approach1(){\r\n\r\n        Flux&lt;Integer&gt; integerFlux = webTestClient.get().uri(&quot;/flux&quot;)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange() \r\n                .expectStatus().isOk()\r\n                .returnResult(Integer.class)\r\n                .getResponseBody();\r\n\r\n        StepVerifier.create(integerFlux)\r\n                .expectSubscription()\r\n                .expectNext(1)\r\n                .expectNext(2)\r\n                .expectNext(3)\r\n                .expectNext(4)\r\n                .verifyComplete();\r\n    }\r\n}\r\n```\r\n\r\n\r\nOn running the test, I am receiving the error-\r\n\r\n```\r\n&lt; 404 NOT_FOUND Not Found\r\n&lt; Content-Type: [application/json]\r\n&lt; Content-Length: [131]\r\n\r\n{&quot;timestamp&quot;:&quot;2023-03-17T13:08:45.647+00:00&quot;,&quot;path&quot;:&quot;/flux&quot;,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;message&quot;:null,&quot;requestId&quot;:&quot;7e94e64e&quot;}\r\n\r\n\r\nStatus expected:&lt;200 OK&gt; but was:&lt;404 NOT_FOUND&gt;\r\nExpected :200 OK\r\nActual   :404 NOT_FOUND\r\n&lt;Click to see difference&gt;\r\n\r\njava.lang.AssertionError: Status expected:&lt;200 OK&gt; but was:&lt;404 NOT_FOUND&gt;\r\n```\r\n\r\nI have tried adding @ExtendWith(SpringExtension.class)\r\n annotation on the controllerTest, but it is not making any difference.\r\nKindly suggest some ideas to overcome this error. Thank you\r\n\r\nP.S.: From postman and browser, the endpoint &#39;/flux&#39; is working fine. The status on postman is 200OK and I&#39;m getting the output as well","title":"Junit Testing for Reactive Java failing with &quot;Expected :200 OK , Actual :404 NOT_FOUND&quot;","body":"<p>Following is my controller class</p>\n<pre><code>@RestController\npublic class FluxAndMonoController {\n\n    @GetMapping(&quot;/flux&quot;)\n    public Flux&lt;Integer&gt; returnFlux(){\n\n        return Flux.just(1, 2, 3, 4)\n                .delayElements(Duration.ofSeconds(1))\n                .log();\n    }\n\n    @GetMapping(value = &quot;/fluxstream&quot;, produces = MediaType.APPLICATION_NDJSON_VALUE)    \n    public Flux&lt;Integer&gt; returnFluxStream(){ \n\n        return Flux.just(1, 2, 3, 4)\n                .delayElements(Duration.ofSeconds(1))\n                .log();\n    }\n\n}\n</code></pre>\n<p>And following is my test for the above controller's first endpoint ('/flux')</p>\n<pre><code>@WebFluxTest\npublic class FluxAndMonoController {\n\n    @Autowired\n    WebTestClient webTestClient;    \n\n    @Test\n    public void flux_approach1(){\n\n        Flux&lt;Integer&gt; integerFlux = webTestClient.get().uri(&quot;/flux&quot;)\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange() \n                .expectStatus().isOk()\n                .returnResult(Integer.class)\n                .getResponseBody();\n\n        StepVerifier.create(integerFlux)\n                .expectSubscription()\n                .expectNext(1)\n                .expectNext(2)\n                .expectNext(3)\n                .expectNext(4)\n                .verifyComplete();\n    }\n}\n</code></pre>\n<p>On running the test, I am receiving the error-</p>\n<pre><code>&lt; 404 NOT_FOUND Not Found\n&lt; Content-Type: [application/json]\n&lt; Content-Length: [131]\n\n{&quot;timestamp&quot;:&quot;2023-03-17T13:08:45.647+00:00&quot;,&quot;path&quot;:&quot;/flux&quot;,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;message&quot;:null,&quot;requestId&quot;:&quot;7e94e64e&quot;}\n\n\nStatus expected:&lt;200 OK&gt; but was:&lt;404 NOT_FOUND&gt;\nExpected :200 OK\nActual   :404 NOT_FOUND\n&lt;Click to see difference&gt;\n\njava.lang.AssertionError: Status expected:&lt;200 OK&gt; but was:&lt;404 NOT_FOUND&gt;\n</code></pre>\n<p>I have tried adding @ExtendWith(SpringExtension.class)\nannotation on the controllerTest, but it is not making any difference.\nKindly suggest some ideas to overcome this error. Thank you</p>\n<p>P.S.: From postman and browser, the endpoint '/flux' is working fine. The status on postman is 200OK and I'm getting the output as well</p>\n"},{"tags":["java","audio","mp3","extract"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1680595905,"creation_date":1243927645,"answer_id":938316,"question_id":938304,"body_markdown":"From the [documentation for MP3SPI][1]:\r\n\r\n    File file = new File(filename);\r\n    AudioInputStream in= AudioSystem.getAudioInputStream(file);\r\n    AudioInputStream din = null;\r\n    AudioFormat baseFormat = in.getFormat();\r\n    AudioFormat decodedFormat = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, \r\n                                                baseFormat.getSampleRate(),\r\n                                                16,\r\n                                                baseFormat.getChannels(),\r\n                                                baseFormat.getChannels() * 2,\r\n                                                baseFormat.getSampleRate(),\r\n                                                false);\r\n    din = AudioSystem.getAudioInputStream(decodedFormat, in);\r\n\r\nYou then just read data from `din` - it will be the &quot;raw&quot; data as per `decodedFormat`. (See the [docs for `AudioFormat`][2] for more information.)\r\n\r\n(Note that this sample code doesn&#39;t close the stream or anything like that - use appropriate try/finally blocks as normal.)\r\n\r\n\r\n  [1]: https://web.archive.org/web/20210118201557/http://www.javazoom.net/mp3spi/documents.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/javax/sound/sampled/AudioFormat.html","title":"How to get audio data from a MP3?","body":"<p>From the <a href=\"https://web.archive.org/web/20210118201557/http://www.javazoom.net/mp3spi/documents.html\" rel=\"nofollow noreferrer\">documentation for MP3SPI</a>:</p>\n<pre><code>File file = new File(filename);\nAudioInputStream in= AudioSystem.getAudioInputStream(file);\nAudioInputStream din = null;\nAudioFormat baseFormat = in.getFormat();\nAudioFormat decodedFormat = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, \n                                            baseFormat.getSampleRate(),\n                                            16,\n                                            baseFormat.getChannels(),\n                                            baseFormat.getChannels() * 2,\n                                            baseFormat.getSampleRate(),\n                                            false);\ndin = AudioSystem.getAudioInputStream(decodedFormat, in);\n</code></pre>\n<p>You then just read data from <code>din</code> - it will be the &quot;raw&quot; data as per <code>decodedFormat</code>. (See the <a href=\"http://java.sun.com/javase/6/docs/api/javax/sound/sampled/AudioFormat.html\" rel=\"nofollow noreferrer\">docs for <code>AudioFormat</code></a> for more information.)</p>\n<p>(Note that this sample code doesn't close the stream or anything like that - use appropriate try/finally blocks as normal.)</p>\n"},{"tags":[],"owner":{"account_id":31052,"reputation":3138,"user_id":85021,"accept_rate":75,"display_name":"sybreon"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1243929235,"creation_date":1243929235,"answer_id":938389,"question_id":938304,"body_markdown":"The data that you want are the actual samples, while MP3 represents the data differently. So, like what everyone else has said - you need a library to decode the MP3 data into actual samples for your purpose.","title":"How to get audio data from a MP3?","body":"<p>The data that you want are the actual samples, while MP3 represents the data differently. So, like what everyone else has said - you need a library to decode the MP3 data into actual samples for your purpose.</p>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1243930330,"creation_date":1243930330,"answer_id":938443,"question_id":938304,"body_markdown":"As mentioned in the other answers, you need a decoder to decode MP3 into regular audio samples.\r\n\r\nOne popular option would be [JavaLayer][1] (LGPL).\r\n\r\n\r\n  [1]: http://www.javazoom.net/javalayer/sources.html","title":"How to get audio data from a MP3?","body":"<p>As mentioned in the other answers, you need a decoder to decode MP3 into regular audio samples.</p>\n\n<p>One popular option would be <a href=\"http://www.javazoom.net/javalayer/sources.html\" rel=\"nofollow noreferrer\">JavaLayer</a> (LGPL).</p>\n"}],"owner":{"account_id":40038,"reputation":2551,"user_id":115820,"accept_rate":78,"display_name":"dedalo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40714,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":938316,"answer_count":3,"score":20,"last_activity_date":1680595905,"creation_date":1243927306,"question_id":938304,"body_markdown":"I&#39;m working on an application that has to process audio files. When using mp3 files I&#39;m not sure how to handle data (the data I&#39;m interested in are the the audio bytes, the ones that represent what we hear).\r\n\r\nIf I&#39;m using a wav file I know I have a 44 bytes header and then the data. When it comes to an mp3, I&#39;ve read that they are composed by frames, each frame containing a header and audio data. Is it possible to get all the audio data from a mp3 file? \r\n\r\nI&#39;m using java (I&#39;ve added MP3SPI, Jlayer, and Tritonus) and I&#39;m able to get the bytes from the file, but I&#39;m not sure about what these bytes represent or how to handle then.","title":"How to get audio data from a MP3?","body":"<p>I'm working on an application that has to process audio files. When using mp3 files I'm not sure how to handle data (the data I'm interested in are the the audio bytes, the ones that represent what we hear).</p>\n\n<p>If I'm using a wav file I know I have a 44 bytes header and then the data. When it comes to an mp3, I've read that they are composed by frames, each frame containing a header and audio data. Is it possible to get all the audio data from a mp3 file? </p>\n\n<p>I'm using java (I've added MP3SPI, Jlayer, and Tritonus) and I'm able to get the bytes from the file, but I'm not sure about what these bytes represent or how to handle then.</p>\n"},{"tags":["java","function","class"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1680591890,"post_id":75925814,"comment_id":133919771,"body_markdown":"It&#39;s not clear to me what you want your program to do. What `char` is the user supposed to enter? What do you want the program to do after the user enters this `char`?","body":"It&#39;s not clear to me what you want your program to do. What <code>char</code> is the user supposed to enter? What do you want the program to do after the user enters this <code>char</code>?"},{"owner":{"account_id":26995409,"reputation":9,"user_id":20626259,"display_name":"White"},"score":0,"creation_date":1680594771,"post_id":75925814,"comment_id":133920413,"body_markdown":"Like the letter &#39;s&#39; or &#39;S&#39; and the program would begin the round  for each match","body":"Like the letter &#39;s&#39; or &#39;S&#39; and the program would begin the round  for each match"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1680595142,"post_id":75925814,"comment_id":133920489,"body_markdown":"Do you know how to write Java code that gets a `char` entered by the user?","body":"Do you know how to write Java code that gets a <code>char</code> entered by the user?"}],"answers":[{"tags":[],"owner":{"account_id":12301810,"reputation":1,"user_id":8975941,"display_name":"robot111"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680595822,"creation_date":1680595822,"answer_id":75926961,"question_id":75925814,"body_markdown":"```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Welcome to the FIFA 2023 World Cup&quot;);\r\n        System.out.println(&quot;Teams that will be facing off in Group A, Group B, Group C &amp; Group D&quot; + &quot;\\n&quot;);\r\n        Teams.print(&quot;A&quot;);\r\n        Teams.print(&quot;B&quot;);\r\n        Teams.print(&quot;C&quot;);\r\n        Teams.print(&quot;D&quot;);\r\n    }\r\n}\r\n\r\n```\r\nTeams.java\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Teams {\r\n\r\n    private static List&lt;String&gt; getGroup(String groupName) {\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        if (&quot;A&quot;.equals(groupName)) {\r\n            list.add(&quot;Argentina&quot;);\r\n            list.add(&quot;Portugal&quot;);\r\n            list.add(&quot;England&quot;);\r\n            list.add(&quot;Germany&quot;);\r\n        } else if (&quot;B&quot;.equals(groupName)) {\r\n            list.add(&quot;United States&quot;);\r\n            list.add(&quot;France&quot;);\r\n            list.add(&quot;Spain&quot;);\r\n            list.add(&quot;Japan&quot;);\r\n        } else if (&quot;C&quot;.equals(groupName)) {\r\n            list.add(&quot;Canada&quot;);\r\n            list.add(&quot;Mexico&quot;);\r\n            list.add(&quot;Poland&quot;);\r\n            list.add(&quot;South Korea&quot;);\r\n        } else {\r\n            list.add(&quot;Uruguay&quot;);\r\n            list.add(&quot;Wales&quot;);\r\n            list.add(&quot;Switzerland&quot;);\r\n            list.add(&quot;Croatia&quot;);\r\n        }\r\n        return list;\r\n    }\r\n\r\n    public static void print(String groupName) {\r\n        List&lt;String&gt; teams = getGroup(groupName);\r\n        System.out.println(&quot;Group &quot; + groupName + &quot;:&quot;);\r\n        System.out.println(teams.get(3) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams.get(0) + &quot;\\n&quot;);\r\n        System.out.println(teams.get(2) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams.get(1) + &quot;\\n&quot;);\r\n        System.out.println(&quot;///////////////////////////////////////////&quot;);\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"World Cup Java Code ( Creating a User Input Which Prompts the User when to Begin a Round)","body":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Welcome to the FIFA 2023 World Cup&quot;);\n        System.out.println(&quot;Teams that will be facing off in Group A, Group B, Group C &amp; Group D&quot; + &quot;\\n&quot;);\n        Teams.print(&quot;A&quot;);\n        Teams.print(&quot;B&quot;);\n        Teams.print(&quot;C&quot;);\n        Teams.print(&quot;D&quot;);\n    }\n}\n\n</code></pre>\n<p>Teams.java</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Teams {\n\n    private static List&lt;String&gt; getGroup(String groupName) {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        if (&quot;A&quot;.equals(groupName)) {\n            list.add(&quot;Argentina&quot;);\n            list.add(&quot;Portugal&quot;);\n            list.add(&quot;England&quot;);\n            list.add(&quot;Germany&quot;);\n        } else if (&quot;B&quot;.equals(groupName)) {\n            list.add(&quot;United States&quot;);\n            list.add(&quot;France&quot;);\n            list.add(&quot;Spain&quot;);\n            list.add(&quot;Japan&quot;);\n        } else if (&quot;C&quot;.equals(groupName)) {\n            list.add(&quot;Canada&quot;);\n            list.add(&quot;Mexico&quot;);\n            list.add(&quot;Poland&quot;);\n            list.add(&quot;South Korea&quot;);\n        } else {\n            list.add(&quot;Uruguay&quot;);\n            list.add(&quot;Wales&quot;);\n            list.add(&quot;Switzerland&quot;);\n            list.add(&quot;Croatia&quot;);\n        }\n        return list;\n    }\n\n    public static void print(String groupName) {\n        List&lt;String&gt; teams = getGroup(groupName);\n        System.out.println(&quot;Group &quot; + groupName + &quot;:&quot;);\n        System.out.println(teams.get(3) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams.get(0) + &quot;\\n&quot;);\n        System.out.println(teams.get(2) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams.get(1) + &quot;\\n&quot;);\n        System.out.println(&quot;///////////////////////////////////////////&quot;);\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":26995409,"reputation":9,"user_id":20626259,"display_name":"White"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680595822,"creation_date":1680586692,"question_id":75925814,"body_markdown":"I am trying to create a class which allows to provide user input using a &#39;char&#39; to allow the user of the program to being each round of a Round 16 World Cup. I am stump as I&#39;ve been trying to create it on a separate class file and then call it to the Main Class whenever it is needed.\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class WorldCupMain {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Welcome to the FIFA 2023 World Cup&quot;);\r\n        System.out.println(&quot;Teams that will be facing off in Group A, Group B, Group C &amp; Group D&quot; + &quot;\\n&quot; + &quot;\\n&quot; + &quot;Group A:&quot;);\r\n        Teams GroupA = new Teams();\r\n        GroupA.addTeam(&quot;Argentina&quot;);\r\n        GroupA.addTeam(&quot;Portugal&quot;);\r\n        GroupA.addTeam(&quot;England&quot;);\r\n        GroupA.addTeam(&quot;Germany&quot;);\r\n        ArrayList&lt;String&gt; teams = GroupA.getList();\r\n        System.out.println(teams.get(3) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams.get(0) + &quot;\\n&quot;);\r\n        System.out.println(teams.get(2) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams.get(1) + &quot;\\n&quot;);\r\n        System.out.println(&quot;///////////////////////////////////////////&quot;);\r\n        System.out.println(&quot;Group B:&quot;);\r\n        Teams GroupB = new Teams();\r\n        GroupB.addTeam(&quot;United States&quot;);\r\n        GroupB.addTeam(&quot;France&quot;);\r\n        GroupB.addTeam(&quot;Spain&quot;);\r\n        GroupB.addTeam(&quot;Japan&quot;);\r\n        ArrayList&lt;String&gt; teams2 = GroupB.getList();\r\n        System.out.println(teams2.get(3) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams2.get(0) + &quot;\\n&quot;);\r\n        System.out.println(teams2.get(2) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams2.get(1) + &quot;\\n&quot;);\r\n        System.out.println(&quot;///////////////////////////////////////////&quot;);\r\n        System.out.println(&quot;Group C:&quot;);\r\n        Teams GroupC = new Teams();\r\n        GroupC.addTeam(&quot;Canada&quot;);\r\n        GroupC.addTeam(&quot;Mexico&quot;);\r\n        GroupC.addTeam(&quot;Poland&quot;);\r\n        GroupC.addTeam(&quot;South Korea&quot;);\r\n        ArrayList&lt;String&gt; teams3 = GroupC.getList();\r\n        System.out.println(teams3.get(3) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams3.get(0) + &quot;\\n&quot;);\r\n        System.out.println(teams3.get(2) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams3.get(1) + &quot;\\n&quot;);\r\n        System.out.println(&quot;///////////////////////////////////////////&quot;);\r\n        System.out.println(&quot;Group D:&quot;);\r\n        Teams GroupD = new Teams();\r\n        GroupD.addTeam(&quot;Uruguay&quot;);\r\n        GroupD.addTeam(&quot;Wales&quot;);\r\n        GroupD.addTeam(&quot;Switzerland&quot;);\r\n        GroupD.addTeam(&quot;Croatia&quot;);\r\n        ArrayList&lt;String&gt; teams4 = GroupD.getList();\r\n        System.out.println(teams4.get(3) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams4.get(0) + &quot;\\n&quot;);\r\n        System.out.println(teams4.get(2) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams4.get(1) + &quot;\\n&quot;);\r\n        System.out.println(&quot;///////////////////////////////////////////&quot;);\r\n    }\r\n}\r\n```\r\nTeams.java on a separate class file.\r\n```java\r\nimport java.util.ArrayList;\r\n\r\npublic class Teams {\r\n    /* GROUP A */\r\n    ArrayList&lt;String&gt; groupA;\r\n\r\n    public Teams() {\r\n        groupA = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public void addTeam(String team) {\r\n        groupA.add(team);\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getList() {\r\n        return groupA;\r\n    }\r\n}\r\n```\r\nI have been trying to get it to work but I am not quite sure how to. Please any suggestion on what I could do to create a class to perform as a function rather placing it inside of the Main class directly.","title":"World Cup Java Code ( Creating a User Input Which Prompts the User when to Begin a Round)","body":"<p>I am trying to create a class which allows to provide user input using a 'char' to allow the user of the program to being each round of a Round 16 World Cup. I am stump as I've been trying to create it on a separate class file and then call it to the Main Class whenever it is needed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class WorldCupMain {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Welcome to the FIFA 2023 World Cup&quot;);\n        System.out.println(&quot;Teams that will be facing off in Group A, Group B, Group C &amp; Group D&quot; + &quot;\\n&quot; + &quot;\\n&quot; + &quot;Group A:&quot;);\n        Teams GroupA = new Teams();\n        GroupA.addTeam(&quot;Argentina&quot;);\n        GroupA.addTeam(&quot;Portugal&quot;);\n        GroupA.addTeam(&quot;England&quot;);\n        GroupA.addTeam(&quot;Germany&quot;);\n        ArrayList&lt;String&gt; teams = GroupA.getList();\n        System.out.println(teams.get(3) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams.get(0) + &quot;\\n&quot;);\n        System.out.println(teams.get(2) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams.get(1) + &quot;\\n&quot;);\n        System.out.println(&quot;///////////////////////////////////////////&quot;);\n        System.out.println(&quot;Group B:&quot;);\n        Teams GroupB = new Teams();\n        GroupB.addTeam(&quot;United States&quot;);\n        GroupB.addTeam(&quot;France&quot;);\n        GroupB.addTeam(&quot;Spain&quot;);\n        GroupB.addTeam(&quot;Japan&quot;);\n        ArrayList&lt;String&gt; teams2 = GroupB.getList();\n        System.out.println(teams2.get(3) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams2.get(0) + &quot;\\n&quot;);\n        System.out.println(teams2.get(2) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams2.get(1) + &quot;\\n&quot;);\n        System.out.println(&quot;///////////////////////////////////////////&quot;);\n        System.out.println(&quot;Group C:&quot;);\n        Teams GroupC = new Teams();\n        GroupC.addTeam(&quot;Canada&quot;);\n        GroupC.addTeam(&quot;Mexico&quot;);\n        GroupC.addTeam(&quot;Poland&quot;);\n        GroupC.addTeam(&quot;South Korea&quot;);\n        ArrayList&lt;String&gt; teams3 = GroupC.getList();\n        System.out.println(teams3.get(3) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams3.get(0) + &quot;\\n&quot;);\n        System.out.println(teams3.get(2) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams3.get(1) + &quot;\\n&quot;);\n        System.out.println(&quot;///////////////////////////////////////////&quot;);\n        System.out.println(&quot;Group D:&quot;);\n        Teams GroupD = new Teams();\n        GroupD.addTeam(&quot;Uruguay&quot;);\n        GroupD.addTeam(&quot;Wales&quot;);\n        GroupD.addTeam(&quot;Switzerland&quot;);\n        GroupD.addTeam(&quot;Croatia&quot;);\n        ArrayList&lt;String&gt; teams4 = GroupD.getList();\n        System.out.println(teams4.get(3) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams4.get(0) + &quot;\\n&quot;);\n        System.out.println(teams4.get(2) + &quot; &quot; + &quot; vs.&quot; + &quot; &quot; + teams4.get(1) + &quot;\\n&quot;);\n        System.out.println(&quot;///////////////////////////////////////////&quot;);\n    }\n}\n</code></pre>\n<p>Teams.java on a separate class file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\n\npublic class Teams {\n    /* GROUP A */\n    ArrayList&lt;String&gt; groupA;\n\n    public Teams() {\n        groupA = new ArrayList&lt;&gt;();\n    }\n\n    public void addTeam(String team) {\n        groupA.add(team);\n    }\n\n    public ArrayList&lt;String&gt; getList() {\n        return groupA;\n    }\n}\n</code></pre>\n<p>I have been trying to get it to work but I am not quite sure how to. Please any suggestion on what I could do to create a class to perform as a function rather placing it inside of the Main class directly.</p>\n"},{"tags":["java","serialization","jackson","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1680535843,"post_id":75918282,"comment_id":133911100,"body_markdown":"What kind of error are you seeing? With the Jackson annotations being used it should automatically enable Jackson by default.","body":"What kind of error are you seeing? With the Jackson annotations being used it should automatically enable Jackson by default."},{"owner":{"account_id":3762979,"reputation":61,"user_id":3127347,"display_name":"user3127347"},"score":0,"creation_date":1680558004,"post_id":75918282,"comment_id":133915907,"body_markdown":"Thanks for taking a look.  There is no error on the server side, it&#39;s just returning a different payload to the client from what it did previously.  The client is expecting a Json response of `[ {item1}, {item2} ]` but is now receiving `{ &quot;objects&quot;: [ {item}, {item2}] }` so it reports an error about receiving an object instead of an array.  So it looks like the custom Jackson behaviour is not being applied by the server.","body":"Thanks for taking a look.  There is no error on the server side, it&#39;s just returning a different payload to the client from what it did previously.  The client is expecting a Json response of <code>[ {item1}, {item2} ]</code> but is now receiving <code>{ &quot;objects&quot;: [ {item}, {item2}] }</code> so it reports an error about receiving an object instead of an array.  So it looks like the custom Jackson behaviour is not being applied by the server."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1680568383,"post_id":75918282,"comment_id":133917046,"body_markdown":"You might want to try setting the `resteasy-prefer-jackson-over-jsonb` attribute to `true`. `/subsystem=jaxrs:write-attribute(name=resteasy-prefer-jackson-over-jsonb, value=true)`","body":"You might want to try setting the <code>resteasy-prefer-jackson-over-jsonb</code> attribute to <code>true</code>. <code>&#47;subsystem=jaxrs:write-attribute(name=resteasy-prefer-jackso&zwnj;&#8203;n-over-jsonb, value=true)</code>"},{"owner":{"account_id":3762979,"reputation":61,"user_id":3127347,"display_name":"user3127347"},"score":0,"creation_date":1680570166,"post_id":75918282,"comment_id":133917189,"body_markdown":"Thanks James.  I set it using `-D&quot;resteasy.preferJacksonOverJsonB&quot;=&quot;true&quot;` and it changes the response so that &#39;null&#39; values are included (i.e. now it is ignoring the @JsonInclude(JsonInclude.Include.NON_NULL) annotation on the SomeObject class):\n\n`{ &quot;objects&quot;: [ { &quot;a&quot;: &quot;a1&quot;, &quot;b&quot;: &quot;b1&quot;, &quot;c&quot;: null }, { &quot;a&quot;: &quot;a2&quot;, &quot;b&quot;: null, &quot;c&quot;: &quot;c2&quot; } ] }`","body":"Thanks James.  I set it using <code>-D&quot;resteasy.preferJacksonOverJsonB&quot;=&quot;true&quot;</code> and it changes the response so that &#39;null&#39; values are included (i.e. now it is ignoring the @JsonInclude(JsonInclude.Include.NON_NULL) annotation on the SomeObject class):  <code>{ &quot;objects&quot;: [ { &quot;a&quot;: &quot;a1&quot;, &quot;b&quot;: &quot;b1&quot;, &quot;c&quot;: null }, { &quot;a&quot;: &quot;a2&quot;, &quot;b&quot;: null, &quot;c&quot;: &quot;c2&quot; } ] }</code>"},{"owner":{"account_id":3762979,"reputation":61,"user_id":3127347,"display_name":"user3127347"},"score":0,"creation_date":1680584093,"post_id":75918282,"comment_id":133918574,"body_markdown":"If it helps, I wrote a unit test that calls `new ObjectMapper.writeValueAsString(wrapper)` with an instance of ResponseListWrapper (same as in MainResource) and it correctly returns `[{&quot;a&quot;:&quot;a1&quot;,&quot;b&quot;:&quot;b1&quot;},{&quot;a&quot;:&quot;a2&quot;,&quot;c&quot;:&quot;c2&quot;}]`.  So it&#39;s not a problem with the serializer class or how the classes are annotated.","body":"If it helps, I wrote a unit test that calls <code>new ObjectMapper.writeValueAsString(wrapper)</code> with an instance of ResponseListWrapper (same as in MainResource) and it correctly returns <code>[{&quot;a&quot;:&quot;a1&quot;,&quot;b&quot;:&quot;b1&quot;},{&quot;a&quot;:&quot;a2&quot;,&quot;c&quot;:&quot;c2&quot;}]</code>.  So it&#39;s not a problem with the serializer class or how the classes are annotated."}],"answers":[{"tags":[],"owner":{"account_id":3762979,"reputation":61,"user_id":3127347,"display_name":"user3127347"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680594821,"creation_date":1680594821,"answer_id":75926814,"question_id":75918282,"body_markdown":"Finally tracked down the cause.  We have a custom authentication/login module that was using it&#39;s own copy of the Jackson libraries (jackson-core-2.13.4.jar, jackson-databind-2.13.4.2.jar, jackson-annotations-2.13.4.jar).  I removed them from **module.xml** and instead added the following to the dependencies in module.xml:\r\n```\r\n&lt;module name=&quot;org.jboss.resteasy.resteasy-jaxrs&quot;/&gt;\r\n&lt;module name=&quot;org.jboss.resteasy.resteasy-jackson2-provider&quot;/&gt;\r\n```\r\nAfter restarting Wildfly, the payloads were returned as expected.  I did use the `-D&quot;resteasy.preferJacksonOverJsonB&quot;=&quot;true&quot;` setting as suggested by James (thank you!).","title":"Custom Jackson serialization into Json is not working in Wildfly 26","body":"<p>Finally tracked down the cause.  We have a custom authentication/login module that was using it's own copy of the Jackson libraries (jackson-core-2.13.4.jar, jackson-databind-2.13.4.2.jar, jackson-annotations-2.13.4.jar).  I removed them from <strong>module.xml</strong> and instead added the following to the dependencies in module.xml:</p>\n<pre><code>&lt;module name=&quot;org.jboss.resteasy.resteasy-jaxrs&quot;/&gt;\n&lt;module name=&quot;org.jboss.resteasy.resteasy-jackson2-provider&quot;/&gt;\n</code></pre>\n<p>After restarting Wildfly, the payloads were returned as expected.  I did use the <code>-D&quot;resteasy.preferJacksonOverJsonB&quot;=&quot;true&quot;</code> setting as suggested by James (thank you!).</p>\n"}],"owner":{"account_id":3762979,"reputation":61,"user_id":3127347,"display_name":"user3127347"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680594821,"creation_date":1680516432,"question_id":75918282,"body_markdown":"I am trying to upgrade a large, complex project from Wildfly 23 to Wildfly 26 but the Json responses are no longer returning the payloads we expect.  Two examples are:\r\n\r\n1) An object that wraps a list is supposed to return a Json array of the wrapped list but instead it is returning the wrapped object along with the list, i.e. it should return `[ ... ]` but it is returning `{ &quot;objects&quot;: [ ... ] }`.\r\n\r\nThe wrapper class uses **@JsonValue** on the list getter method, which is supposed to make this work but the custom serializer on the list class is not being called.\r\n\r\n2) Date fields annotated with ```@JsonFormat(pattern = ...some pattern...)``` do not get formatted.\r\n\r\nIt is a Java 11 project (11.0.14.1, Eclipse Adoptium) that uses Maven 3.6.3 to create a WAR file that is deployed to Wildfly 26 (built on Windows 10 Enterprise and deployed to Windows Server 2019 Standard).  I have created a very cut-down example that illustrates the behaviour (classes/files shown below).\r\n\r\nI build the project using `mvn clean verify` which creates **target\\jsontest.war** then copy this to the **standalone\\deployments** directory where it deploys successfully.  There is a custom login module used, but I don&#39;t believe it is relevant to the issue as the endpoint is being reached.\r\n\r\nThere are 2 warnings in server.log which I do not believe are relevant:\r\n```\r\nWARN  [org.jboss.as.dependency.deprecated] (MSC service thread 1-5) WFLYSRV0221: Deployment &quot;deployment.jsontest.war&quot; is using a deprecated module (&quot;javax.api&quot;) which may be removed in future versions without notice.\r\nWARN  [org.jboss.as.dependency.deprecated] (MSC service thread 1-5) WFLYSRV0221: Deployment &quot;deployment.jsontest.war&quot; is using a deprecated module (&quot;org.jboss.resteasy.resteasy-jaxrs&quot;) which may be removed in future versions without notice.\r\n```\r\n\r\nAny assistance in getting this working would be much appreciated.\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jsontest&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.7.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.7&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;jsontest&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;webResources&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;${project.basedir}/src/main/webapp&lt;/directory&gt;\r\n                        &lt;/resource&gt;\r\n                    &lt;/webResources&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nUnder **src/main/java/org/example/jsontest** there are the following classes:\r\n\r\n**MainResource.java**\r\n```\r\npackage org.example.jsontest;\r\n\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.ws.rs.core.Response;\r\nimport java.util.List;\r\n\r\n@Path(&quot;/&quot;)\r\npublic class MainResource {\r\n\r\n    @GET\r\n    @Path(&quot;json&quot;)\r\n    @Produces({ MediaType.APPLICATION_JSON })\r\n    public Response getJsonExample() {\r\n        // We want to return a Json array containing 2 objects\r\n        final SomeObject object1 = new SomeObject().setA(&quot;a1&quot;).setB(&quot;b1&quot;);\r\n        final SomeObject object2 = new SomeObject().setA(&quot;a2&quot;).setC(&quot;c2&quot;);\r\n        final ResponseList&lt;SomeObject&gt; objectList = new ResponseList&lt;&gt;();\r\n        objectList.addAll(List.of(object1, object2));\r\n        final ResponseListWrapper&lt;SomeObject&gt; wrapper = new ResponseListWrapper&lt;&gt;();\r\n        wrapper.setObjects(objectList);\r\n        return Response.ok(wrapper).build();\r\n    }\r\n}\r\n```\r\n\r\n**ResponseListWrapper.java**\r\n```\r\npackage org.example.jsontest;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\r\nimport com.fasterxml.jackson.annotation.JsonValue;\r\n\r\n@JsonInclude(value = Include.NON_NULL)\r\npublic class ResponseListWrapper&lt;T&gt; {\r\n\r\n    private ResponseList&lt;T&gt; objects;\r\n\r\n    public ResponseListWrapper() {\r\n        objects = new ResponseList&lt;&gt;();\r\n    }\r\n\r\n    public ResponseListWrapper(ResponseList&lt;T&gt; objects) {\r\n        setObjects(objects);\r\n    }\r\n\r\n    /**\r\n     * @JsonValue is supposed to indicate that the value from the method is to be used to produce the Json output.\r\n     * We want to return a Json array, not the wrapped object with an array, i.e.\r\n     *\r\n     * [ { &quot;a&quot;: &quot;a1&quot;, &quot;b&quot;: &quot;b1&quot; }, { &quot;a&quot;: &quot;a2&quot;, &quot;c&quot;: &quot;c2&quot; } ]\r\n     *\r\n     * But instead we get the wrapped object:\r\n     * { &quot;objects&quot;: [ { &quot;a&quot;: &quot;a1&quot;, &quot;b&quot;: &quot;b1&quot; }, { &quot;a&quot;: &quot;a2&quot;, &quot;c&quot;: &quot;c2&quot; } ] }\r\n     *\r\n     * ResponseList is annotated with @JsonSerialize(using = JacksonListSerializer.class)\r\n     * but JacksonListSerializer.serialize() is never called.\r\n     *\r\n     */\r\n    @JsonValue\r\n    public ResponseList&lt;T&gt; getObjects() {\r\n        return objects;\r\n    }\r\n\r\n    public void setObjects(ResponseList&lt;T&gt; objects) {\r\n        this.objects = objects;\r\n    }\r\n}\r\n```\r\n\r\n**ResponseList.java**\r\n```\r\npackage org.example.jsontest;\r\n\r\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\n\r\n/**\r\n *\r\n * @JsonSerialize is supposed to tell Jackson to use JacksonListSerializer when generating a Json response but it is not\r\n * being called.\r\n */\r\n@JsonSerialize(using = JacksonListSerializer.class)\r\npublic class ResponseList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n\r\n    private static final long serialVersionUID = -6120242076197274777L;\r\n\r\n    public ResponseList() {\r\n    }\r\n\r\n    public ResponseList(Collection&lt;? extends T&gt; c) {\r\n        super(c);\r\n    }\r\n\r\n    public ResponseList(int initialCapacity) {\r\n        super(initialCapacity);\r\n    }\r\n}\r\n```\r\n\r\n**JacksonListSerializer.java**\r\n```\r\npackage org.example.jsontest;\r\n\r\nimport com.fasterxml.jackson.core.JsonGenerator;\r\nimport com.fasterxml.jackson.databind.JsonSerializer;\r\nimport com.fasterxml.jackson.databind.SerializerProvider;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class JacksonListSerializer extends JsonSerializer&lt;ResponseList&lt;?&gt;&gt; {\r\n\r\n    @Override\r\n    public void serialize(ResponseList&lt;?&gt; list, JsonGenerator generator, SerializerProvider provider)\r\n            throws IOException {\r\n        generator.writeStartArray();\r\n        if (list != null) {\r\n            for (Object item : list) {\r\n                generator.writeObject(item);\r\n            }\r\n        }\r\n        generator.writeEndArray();\r\n    }\r\n}\r\n```\r\n\r\n**SomeObject.java**\r\n```\r\npackage org.example.jsontest;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\n\r\nimport java.io.Serializable;\r\n\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class SomeObject implements Serializable {\r\n\r\n    private static final long serialVersionUID = 6725549179169119963L;\r\n\r\n    private String a;\r\n    private String b;\r\n    private String c;\r\n\r\n    public String getA() {\r\n        return a;\r\n    }\r\n\r\n    public SomeObject setA(final String a) {\r\n        this.a = a;\r\n        return this;\r\n    }\r\n\r\n    public String getB() {\r\n        return b;\r\n    }\r\n\r\n    public SomeObject setB(final String b) {\r\n        this.b = b;\r\n        return this;\r\n    }\r\n\r\n    public String getC() {\r\n        return c;\r\n    }\r\n\r\n    public SomeObject setC(final String c) {\r\n        this.c = c;\r\n        return this;\r\n    }\r\n}\r\n```\r\n\r\nUnder **src/main/webapp** there are the following files:\r\n\r\n**jboss-deployment-structure.xml**\r\n```\r\n&lt;jboss-deployment-structure&gt;\r\n    &lt;deployment&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;org.wildfly.security.elytron&quot;/&gt;\r\n            &lt;module name=&quot;org.wildfly.extension.elytron&quot;/&gt;\r\n            &lt;module name=&quot;javax.api&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jaxrs&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jackson2-provider&quot;/&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/deployment&gt;\r\n&lt;/jboss-deployment-structure&gt;\r\n```\r\n\r\n**jboss-web.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n\r\n&lt;jboss-web xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://www.jboss.com/xml/ns/javaee&quot;\r\n           version=&quot;6.0&quot;\r\n           xsi:schemaLocation=&quot;http://www.jboss.com/xml/ns/javaee http://www.jboss.org/j2ee/schema/jboss-web_6_0.xsd&quot;&gt;\r\n\r\n    &lt;security-domain&gt;...removed...&lt;/security-domain&gt;\r\n    &lt;context-root&gt;/jsontest&lt;/context-root&gt;\r\n&lt;/jboss-web&gt;\r\n```\r\n\r\n**web.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n         version=&quot;3.1&quot;&gt;\r\n    &lt;display-name&gt;jsontest&lt;/display-name&gt;\r\n\r\n    &lt;!-- Security related settings have been removed --&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;javax.ws.rs.core.Application&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n    &lt;session-config&gt;\r\n        &lt;session-timeout&gt;30&lt;/session-timeout&gt;\r\n        &lt;cookie-config&gt;\r\n            &lt;path&gt;/jsontest&lt;/path&gt;\r\n            &lt;http-only&gt;true&lt;/http-only&gt;\r\n            &lt;secure&gt;true&lt;/secure&gt;\r\n        &lt;/cookie-config&gt;\r\n        &lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\r\n    &lt;/session-config&gt;\r\n&lt;/web-app&gt;\r\n```\r\n","title":"Custom Jackson serialization into Json is not working in Wildfly 26","body":"<p>I am trying to upgrade a large, complex project from Wildfly 23 to Wildfly 26 but the Json responses are no longer returning the payloads we expect.  Two examples are:</p>\n<ol>\n<li>An object that wraps a list is supposed to return a Json array of the wrapped list but instead it is returning the wrapped object along with the list, i.e. it should return <code>[ ... ]</code> but it is returning <code>{ &quot;objects&quot;: [ ... ] }</code>.</li>\n</ol>\n<p>The wrapper class uses <strong>@JsonValue</strong> on the list getter method, which is supposed to make this work but the custom serializer on the list class is not being called.</p>\n<ol start=\"2\">\n<li>Date fields annotated with <code>@JsonFormat(pattern = ...some pattern...)</code> do not get formatted.</li>\n</ol>\n<p>It is a Java 11 project (11.0.14.1, Eclipse Adoptium) that uses Maven 3.6.3 to create a WAR file that is deployed to Wildfly 26 (built on Windows 10 Enterprise and deployed to Windows Server 2019 Standard).  I have created a very cut-down example that illustrates the behaviour (classes/files shown below).</p>\n<p>I build the project using <code>mvn clean verify</code> which creates <strong>target\\jsontest.war</strong> then copy this to the <strong>standalone\\deployments</strong> directory where it deploys successfully.  There is a custom login module used, but I don't believe it is relevant to the issue as the endpoint is being reached.</p>\n<p>There are 2 warnings in server.log which I do not believe are relevant:</p>\n<pre><code>WARN  [org.jboss.as.dependency.deprecated] (MSC service thread 1-5) WFLYSRV0221: Deployment &quot;deployment.jsontest.war&quot; is using a deprecated module (&quot;javax.api&quot;) which may be removed in future versions without notice.\nWARN  [org.jboss.as.dependency.deprecated] (MSC service thread 1-5) WFLYSRV0221: Deployment &quot;deployment.jsontest.war&quot; is using a deprecated module (&quot;org.jboss.resteasy.resteasy-jaxrs&quot;) which may be removed in future versions without notice.\n</code></pre>\n<p>Any assistance in getting this working would be much appreciated.</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;jsontest&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;8.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.12.7.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.12.7&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;jsontest&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;webResources&gt;\n                        &lt;resource&gt;\n                            &lt;directory&gt;${project.basedir}/src/main/webapp&lt;/directory&gt;\n                        &lt;/resource&gt;\n                    &lt;/webResources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Under <strong>src/main/java/org/example/jsontest</strong> there are the following classes:</p>\n<p><strong>MainResource.java</strong></p>\n<pre><code>package org.example.jsontest;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\nimport java.util.List;\n\n@Path(&quot;/&quot;)\npublic class MainResource {\n\n    @GET\n    @Path(&quot;json&quot;)\n    @Produces({ MediaType.APPLICATION_JSON })\n    public Response getJsonExample() {\n        // We want to return a Json array containing 2 objects\n        final SomeObject object1 = new SomeObject().setA(&quot;a1&quot;).setB(&quot;b1&quot;);\n        final SomeObject object2 = new SomeObject().setA(&quot;a2&quot;).setC(&quot;c2&quot;);\n        final ResponseList&lt;SomeObject&gt; objectList = new ResponseList&lt;&gt;();\n        objectList.addAll(List.of(object1, object2));\n        final ResponseListWrapper&lt;SomeObject&gt; wrapper = new ResponseListWrapper&lt;&gt;();\n        wrapper.setObjects(objectList);\n        return Response.ok(wrapper).build();\n    }\n}\n</code></pre>\n<p><strong>ResponseListWrapper.java</strong></p>\n<pre><code>package org.example.jsontest;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\nimport com.fasterxml.jackson.annotation.JsonValue;\n\n@JsonInclude(value = Include.NON_NULL)\npublic class ResponseListWrapper&lt;T&gt; {\n\n    private ResponseList&lt;T&gt; objects;\n\n    public ResponseListWrapper() {\n        objects = new ResponseList&lt;&gt;();\n    }\n\n    public ResponseListWrapper(ResponseList&lt;T&gt; objects) {\n        setObjects(objects);\n    }\n\n    /**\n     * @JsonValue is supposed to indicate that the value from the method is to be used to produce the Json output.\n     * We want to return a Json array, not the wrapped object with an array, i.e.\n     *\n     * [ { &quot;a&quot;: &quot;a1&quot;, &quot;b&quot;: &quot;b1&quot; }, { &quot;a&quot;: &quot;a2&quot;, &quot;c&quot;: &quot;c2&quot; } ]\n     *\n     * But instead we get the wrapped object:\n     * { &quot;objects&quot;: [ { &quot;a&quot;: &quot;a1&quot;, &quot;b&quot;: &quot;b1&quot; }, { &quot;a&quot;: &quot;a2&quot;, &quot;c&quot;: &quot;c2&quot; } ] }\n     *\n     * ResponseList is annotated with @JsonSerialize(using = JacksonListSerializer.class)\n     * but JacksonListSerializer.serialize() is never called.\n     *\n     */\n    @JsonValue\n    public ResponseList&lt;T&gt; getObjects() {\n        return objects;\n    }\n\n    public void setObjects(ResponseList&lt;T&gt; objects) {\n        this.objects = objects;\n    }\n}\n</code></pre>\n<p><strong>ResponseList.java</strong></p>\n<pre><code>package org.example.jsontest;\n\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\n\n/**\n *\n * @JsonSerialize is supposed to tell Jackson to use JacksonListSerializer when generating a Json response but it is not\n * being called.\n */\n@JsonSerialize(using = JacksonListSerializer.class)\npublic class ResponseList&lt;T&gt; extends ArrayList&lt;T&gt; {\n\n    private static final long serialVersionUID = -6120242076197274777L;\n\n    public ResponseList() {\n    }\n\n    public ResponseList(Collection&lt;? extends T&gt; c) {\n        super(c);\n    }\n\n    public ResponseList(int initialCapacity) {\n        super(initialCapacity);\n    }\n}\n</code></pre>\n<p><strong>JacksonListSerializer.java</strong></p>\n<pre><code>package org.example.jsontest;\n\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\n\nimport java.io.IOException;\n\npublic class JacksonListSerializer extends JsonSerializer&lt;ResponseList&lt;?&gt;&gt; {\n\n    @Override\n    public void serialize(ResponseList&lt;?&gt; list, JsonGenerator generator, SerializerProvider provider)\n            throws IOException {\n        generator.writeStartArray();\n        if (list != null) {\n            for (Object item : list) {\n                generator.writeObject(item);\n            }\n        }\n        generator.writeEndArray();\n    }\n}\n</code></pre>\n<p><strong>SomeObject.java</strong></p>\n<pre><code>package org.example.jsontest;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonInclude;\n\nimport java.io.Serializable;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class SomeObject implements Serializable {\n\n    private static final long serialVersionUID = 6725549179169119963L;\n\n    private String a;\n    private String b;\n    private String c;\n\n    public String getA() {\n        return a;\n    }\n\n    public SomeObject setA(final String a) {\n        this.a = a;\n        return this;\n    }\n\n    public String getB() {\n        return b;\n    }\n\n    public SomeObject setB(final String b) {\n        this.b = b;\n        return this;\n    }\n\n    public String getC() {\n        return c;\n    }\n\n    public SomeObject setC(final String c) {\n        this.c = c;\n        return this;\n    }\n}\n</code></pre>\n<p>Under <strong>src/main/webapp</strong> there are the following files:</p>\n<p><strong>jboss-deployment-structure.xml</strong></p>\n<pre><code>&lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt;\n        &lt;dependencies&gt;\n            &lt;module name=&quot;org.wildfly.security.elytron&quot;/&gt;\n            &lt;module name=&quot;org.wildfly.extension.elytron&quot;/&gt;\n            &lt;module name=&quot;javax.api&quot;/&gt;\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jaxrs&quot;/&gt;\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jackson2-provider&quot;/&gt;\n        &lt;/dependencies&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p><strong>jboss-web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n\n&lt;jboss-web xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://www.jboss.com/xml/ns/javaee&quot;\n           version=&quot;6.0&quot;\n           xsi:schemaLocation=&quot;http://www.jboss.com/xml/ns/javaee http://www.jboss.org/j2ee/schema/jboss-web_6_0.xsd&quot;&gt;\n\n    &lt;security-domain&gt;...removed...&lt;/security-domain&gt;\n    &lt;context-root&gt;/jsontest&lt;/context-root&gt;\n&lt;/jboss-web&gt;\n</code></pre>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n         version=&quot;3.1&quot;&gt;\n    &lt;display-name&gt;jsontest&lt;/display-name&gt;\n\n    &lt;!-- Security related settings have been removed --&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;javax.ws.rs.core.Application&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;30&lt;/session-timeout&gt;\n        &lt;cookie-config&gt;\n            &lt;path&gt;/jsontest&lt;/path&gt;\n            &lt;http-only&gt;true&lt;/http-only&gt;\n            &lt;secure&gt;true&lt;/secure&gt;\n        &lt;/cookie-config&gt;\n        &lt;tracking-mode&gt;COOKIE&lt;/tracking-mode&gt;\n    &lt;/session-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","android","get","retrofit","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":268428,"reputation":50179,"user_id":557179,"accept_rate":100,"display_name":"Nikola Despotoski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680592686,"creation_date":1680592686,"answer_id":75926509,"question_id":75926476,"body_markdown":"Naming of the function is off, rename it to `fun getMovieData()` instead  `MOVIE_DATA_MODEL_CALL` \r\nYou need Retrofit to return a `Flow` then use `flatMap` to call the other. \r\n\r\n`service.getMovieData().flatMap { service.getSecondCall(it.id) }`","title":"how to get the id from First API to utilize in nested call of another API, using retrofit in android Studio?","body":"<p>Naming of the function is off, rename it to <code>fun getMovieData()</code> instead  <code>MOVIE_DATA_MODEL_CALL</code>\nYou need Retrofit to return a <code>Flow</code> then use <code>flatMap</code> to call the other.</p>\n<p><code>service.getMovieData().flatMap { service.getSecondCall(it.id) }</code></p>\n"}],"owner":{"account_id":21792524,"reputation":1,"user_id":16092522,"display_name":"Kailas Mantri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680594748,"creation_date":1680592479,"question_id":75926476,"body_markdown":"I&#39;m trying to fetch the genre&#39;s id from the response of GenresDataModel and want that id to compare with nested api response of MovieDataModel.\r\n\r\nHere I&#39;ve Created an interface method for call retrofit api. where I&#39;ve called \r\n\r\n```\r\n@GET(&quot;3/discover/movie&quot;)\r\n    Call&lt;MovieDataModel&gt; MOVIE_DATA_MODEL_CALL(\r\n            @QueryMap HashMap&lt;String, String&gt; params\r\n    );\r\n```\r\n\r\nFor example, first API contains data of Genres with id and name.\r\n\r\n```\r\n{\r\n    &quot;genres&quot;: [\r\n        {\r\n            &quot;id&quot;: 28,\r\n            &quot;name&quot;: &quot;Action&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 12,\r\n            &quot;name&quot;: &quot;Adventure&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nAnd second API has the data which I need to compare in nested API.\r\n```\r\n&quot;release_date&quot;: &quot;2013-08-30&quot;,\r\n&quot;genre_ids&quot;: [\r\n     99,\r\n     10402\r\n  ],\r\n```\r\n\r\n\r\n[The Genre API Model is create, and Set the parameter for second API](https://i.stack.imgur.com/lBm1B.png)\r\n\r\n[In the call of second API, I&#39;m not able to compare the genres Id with movieGenreId](https://i.stack.imgur.com/j9Pqc.png)\r\n\r\n\r\nI&#39;ve tried to store this in Hashmap, however it got failed for on data type with respect to object , list as well as for String.\r\n\r\n**What I&#39;m suppose to do?**\r\n to get the id from the response of first API &amp; to compare them in nested(Second API response) response of another API with &quot;GenresId&quot;.","title":"how to get the id from First API to utilize in nested call of another API, using retrofit in android Studio?","body":"<p>I'm trying to fetch the genre's id from the response of GenresDataModel and want that id to compare with nested api response of MovieDataModel.</p>\n<p>Here I've Created an interface method for call retrofit api. where I've called</p>\n<pre><code>@GET(&quot;3/discover/movie&quot;)\n    Call&lt;MovieDataModel&gt; MOVIE_DATA_MODEL_CALL(\n            @QueryMap HashMap&lt;String, String&gt; params\n    );\n</code></pre>\n<p>For example, first API contains data of Genres with id and name.</p>\n<pre><code>{\n    &quot;genres&quot;: [\n        {\n            &quot;id&quot;: 28,\n            &quot;name&quot;: &quot;Action&quot;\n        },\n        {\n            &quot;id&quot;: 12,\n            &quot;name&quot;: &quot;Adventure&quot;\n        }\n    ]\n}\n</code></pre>\n<p>And second API has the data which I need to compare in nested API.</p>\n<pre><code>&quot;release_date&quot;: &quot;2013-08-30&quot;,\n&quot;genre_ids&quot;: [\n     99,\n     10402\n  ],\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/lBm1B.png\" rel=\"nofollow noreferrer\">The Genre API Model is create, and Set the parameter for second API</a></p>\n<p><a href=\"https://i.stack.imgur.com/j9Pqc.png\" rel=\"nofollow noreferrer\">In the call of second API, I'm not able to compare the genres Id with movieGenreId</a></p>\n<p>I've tried to store this in Hashmap, however it got failed for on data type with respect to object , list as well as for String.</p>\n<p><strong>What I'm suppose to do?</strong>\nto get the id from the response of first API &amp; to compare them in nested(Second API response) response of another API with &quot;GenresId&quot;.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1680564602,"post_id":75924395,"comment_id":133916703,"body_markdown":"Your rewrite changes the meaning, using commonly-accepted rules of precedence.  &#39;C or B and A&#39; means &#39;C or (B and A)&#39;.  And what are you going to do with &#39;(A or B) and (C or D)&#39;?  If you want a parenthesis-free form, consider reverse polish.","body":"Your rewrite changes the meaning, using commonly-accepted rules of precedence.  &#39;C or B and A&#39; means &#39;C or (B and A)&#39;.  And what are you going to do with &#39;(A or B) and (C or D)&#39;?  If you want a parenthesis-free form, consider reverse polish."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1680571440,"post_id":75924395,"comment_id":133917301,"body_markdown":"This site is not a code-writing service. We can help you with *specific* questions about *your* code, ideally accompanied by an [MCVE]. Please show what you have tried, because this site expects some research by the asker and usually showing your attempt at a solution, even if it has errors, clarifies what you want to achieve.","body":"This site is not a code-writing service. We can help you with <i>specific</i> questions about <i>your</i> code, ideally accompanied by an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Please show what you have tried, because this site expects some research by the asker and usually showing your attempt at a solution, even if it has errors, clarifies what you want to achieve."}],"owner":{"account_id":19177463,"reputation":375,"user_id":14009894,"display_name":"jimmayhem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680594411,"creation_date":1680564099,"question_id":75924395,"body_markdown":"I need to implement (at least partially) SCIM Filtering specification.   \r\nMy strategy was to recursively go through the string and build binary tree of expression objects, with the first expression to be evaluated as the root.\r\nHowever, I was not able to effectively process expressions with parentheses while doing the tree walk. Therefor, I decided to get rid of parentheses first, which would require placing all elements of the expression in the correct order according to SCIM Filtering rules of precedence, which are:\r\n 1. Expression in parentheses\r\n 2. NOT\r\n 3. AND\r\n 4. OR\r\n\r\nSo a string ```A and (B or (C))``` after reordering is transformed into ```C or B and A``` (don&#39;t mind the capital letters. These are used to substitute actual SCIM filtering expressions). \r\n\r\nI&#39;ve tried to parse the filter string by dividing it with ```split()``` but this approach is very clumsy, since I need to track opening and closing parentheses. What would be the best approach to do this? \r\n","title":"How to reorder expression elements in a string based on rules of SCIM filter precedence?","body":"<p>I need to implement (at least partially) SCIM Filtering specification.<br />\nMy strategy was to recursively go through the string and build binary tree of expression objects, with the first expression to be evaluated as the root.\nHowever, I was not able to effectively process expressions with parentheses while doing the tree walk. Therefor, I decided to get rid of parentheses first, which would require placing all elements of the expression in the correct order according to SCIM Filtering rules of precedence, which are:</p>\n<ol>\n<li>Expression in parentheses</li>\n<li>NOT</li>\n<li>AND</li>\n<li>OR</li>\n</ol>\n<p>So a string <code>A and (B or (C))</code> after reordering is transformed into <code>C or B and A</code> (don't mind the capital letters. These are used to substitute actual SCIM filtering expressions).</p>\n<p>I've tried to parse the filter string by dividing it with <code>split()</code> but this approach is very clumsy, since I need to track opening and closing parentheses. What would be the best approach to do this?</p>\n"},{"tags":["java","android","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1402387277,"post_id":24135682,"comment_id":37241220,"body_markdown":"Have you tried to split `data` into chunks of 20 bytes and create and send multiple `BluetoothGattCharacteristic` in a loop for every chunk?","body":"Have you tried to split <code>data</code> into chunks of 20 bytes and create and send multiple <code>BluetoothGattCharacteristic</code> in a loop for every chunk?"},{"owner":{"account_id":2603144,"reputation":2367,"user_id":2254969,"accept_rate":50,"display_name":"Ankit Aggarwal"},"score":0,"creation_date":1402387831,"post_id":24135682,"comment_id":37241448,"body_markdown":"what I had tried separately was that in onclick I changed the text three times( some predefined constants) and used  `yableeService.send(text.getBytes());` three times. But that only sent the first characteristic, nothing after that. If I did it wrong could you tell what I should have done?","body":"what I had tried separately was that in onclick I changed the text three times( some predefined constants) and used  <code>yableeService.send(text.getBytes());</code> three times. But that only sent the first characteristic, nothing after that. If I did it wrong could you tell what I should have done?"},{"owner":{"account_id":1752329,"reputation":787,"user_id":1601136,"accept_rate":57,"display_name":"Ankit Aggarwal"},"score":0,"creation_date":1402403756,"post_id":24135682,"comment_id":37250878,"body_markdown":"@Smutje: See my editted answer. What else can I do?","body":"@Smutje: See my editted answer. What else can I do?"},{"owner":{"account_id":4393536,"reputation":607,"user_id":3581288,"accept_rate":80,"display_name":"User6006"},"score":0,"creation_date":1461237169,"post_id":24135682,"comment_id":61113245,"body_markdown":"Can you please share your complete code?","body":"Can you please share your complete code?"},{"owner":{"display_name":"user5803705"},"score":0,"creation_date":1519533335,"post_id":24135682,"comment_id":84945928,"body_markdown":"You can just request a MTU update then send the entire packet of data at once. I believe you can sent a max of 512 bytes at the moment (in one packet). I believe there are 2 or more answers below that mention this.","body":"You can just request a MTU update then send the entire packet of data at once. I believe you can sent a max of 512 bytes at the moment (in one packet). I believe there are 2 or more answers below that mention this."}],"answers":[{"tags":[],"owner":{"account_id":1592942,"reputation":911,"user_id":1475862,"display_name":"Zomb"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1402411836,"creation_date":1402411836,"answer_id":24144076,"question_id":24135682,"body_markdown":"If you want to send large sets of data over BLE, then your best bet is to use two characteristics, one to send the bulk of your data and the other to send the last segment. This way you don&#39;t need to set the response to WRITE_NO_RESPONSE and use the callback to send the next segment all the way until you get to the last segment, at which point you will write that to the second characteristic which will let the device know that you are done writing the data and that it can concatenate all the data together to form one large data packet.","title":"Android: Sending data &gt;20 bytes by BLE","body":"<p>If you want to send large sets of data over BLE, then your best bet is to use two characteristics, one to send the bulk of your data and the other to send the last segment. This way you don't need to set the response to WRITE_NO_RESPONSE and use the callback to send the next segment all the way until you get to the last segment, at which point you will write that to the second characteristic which will let the device know that you are done writing the data and that it can concatenate all the data together to form one large data packet.</p>\n"},{"tags":[],"owner":{"account_id":89296,"reputation":62915,"user_id":246461,"accept_rate":96,"display_name":"devunwired"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1402412825,"creation_date":1402412825,"answer_id":24144483,"question_id":24135682,"body_markdown":"You are correct that the BLE specification doesn&#39;t allow write operations to exceed 20 bytes.  If you can&#39;t subdivide your payload over multiple characteristics (which is logically going to be easier to maintain), then your chunking mechanism is the other approach.\r\n\r\nHowever, realize that the BLE stack ***hates*** when you try to queue up multiple operations.  Each read/write is asynchronous, which the result coming via the `onCharacteristicRead()` or `onCharacteristicWrite()` callback on the `BluetoothGattCallback` instance.  The code you&#39;ve written attempts to send three characteristic write operations on top of each other, without waiting for the callback in between. Your code will need to follow a path more like:\r\n\r\n    send(Test1)\r\n      -&gt; Wait for onCharacteristicWrite()\r\n      -&gt; send(Test2)\r\n        -&gt; Wait for onCharacteristicWrite()\r\n        -&gt; send(Test3)\r\n          -&gt; Wait for onCharacteristicWrite()\r\n    Done!\r\n\r\n","title":"Android: Sending data &gt;20 bytes by BLE","body":"<p>You are correct that the BLE specification doesn't allow write operations to exceed 20 bytes.  If you can't subdivide your payload over multiple characteristics (which is logically going to be easier to maintain), then your chunking mechanism is the other approach.</p>\n\n<p>However, realize that the BLE stack <strong><em>hates</em></strong> when you try to queue up multiple operations.  Each read/write is asynchronous, which the result coming via the <code>onCharacteristicRead()</code> or <code>onCharacteristicWrite()</code> callback on the <code>BluetoothGattCallback</code> instance.  The code you've written attempts to send three characteristic write operations on top of each other, without waiting for the callback in between. Your code will need to follow a path more like:</p>\n\n<pre><code>send(Test1)\n  -&gt; Wait for onCharacteristicWrite()\n  -&gt; send(Test2)\n    -&gt; Wait for onCharacteristicWrite()\n    -&gt; send(Test3)\n      -&gt; Wait for onCharacteristicWrite()\nDone!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2970196,"reputation":7818,"user_id":2522405,"accept_rate":79,"display_name":"Huy Tower"},"down_vote_count":4,"up_vote_count":35,"is_accepted":true,"score":31,"last_activity_date":1680594095,"creation_date":1402556841,"answer_id":24178409,"question_id":24135682,"body_markdown":"**UPDATE** : Please see more answer to know there is other way to achive your expect.\r\n\r\nAt 2014, BLE allows you transfer maximum of 20 bytes.\r\n\r\n If you want to send more than 20 bytes, you should define array `byte[]` to  contain how many packets you want. \r\n\r\nFollowing example worked fine if you want to send less than 160 characters (160 bytes).\r\n\r\n*p/s : Let edit following as you want. Do not follow me exactly.*\r\n\r\nActually, when we are using BLE, mobile side and firmware side need to set up the Key (ex. `0x03` ...) to define the connection gate among both sides.\r\n\r\nThe idea is :\r\n\r\n- When we continue to transfer packets, not is the last one. The gate is `byte[1] = 0x01`.\r\n\r\n- If we send the last one, The gate is `byte[1] = 0x00`.\r\n\r\nThe data contruction (20 bytes):\r\n\r\n1 - `Byte 1` - Define the `Gate ID` : ex. Message gate ID `byte[0] = 0x03`.\r\n\r\n2 - `Byte 2` - Define the `recognization` : Is the last packet `0x00` or continue sending packets `0x01`.\r\n\r\n3 - `Byte 3` (Should be 18 bytes after eliminating `Byte 1` &amp; `Byte 2`) - Attach the message content in here.\r\n\r\n*please understand my logic before reading the code below.*\r\n\r\nBelow is an example of sending a Message with many packets, each packet is an array of size 20 bytes.\r\n\r\n    private void sendMessage(BluetoothGattCharacteristic characteristic, String CHARACTERS){\r\n    \t\tbyte[] initial_packet = new byte[3];\r\n    \t\t/**\r\n    \t\t * Indicate byte\r\n    \t\t */\r\n    \t\tinitial_packet[0] = BLE.INITIAL_MESSAGE_PACKET;\r\n    \t\tif (Long.valueOf(\r\n    \t\t\t\tString.valueOf(CHARACTERS.length() + initial_packet.length))\r\n    \t\t\t\t&gt; BLE.DEFAULT_BYTES_VIA_BLE) {\r\n    \t\t\tsendingContinuePacket(characteristic, initial_packet, CHARACTERS);\r\n    \t\t} else {\r\n    \t\t\tsendingLastPacket(characteristic, initial_packet, CHARACTERS);\r\n    \t\t}\r\n    \t}\r\n\r\n    private void sendingContinuePacket(BluetoothGattCharacteristic characteristic,\r\n    \t\t\tbyte[] initial_packet, String CHARACTERS){\r\n    \t\t/**\r\n    \t\t * TODO If data length &gt; Default data can sent via BLE : 20 bytes\r\n    \t\t */\r\n    \t\t// Check the data length is large how many times with Default Data (BLE)\r\n    \t\tint times = Byte.valueOf(String.valueOf(\r\n    \t\t\t\tCHARACTERS.length() / BLE.DEFAULT_BYTES_IN_CONTINUE_PACKET));\r\n    \r\n    \t\tLog.i(TAG, &quot;CHARACTERS.length() &quot; + CHARACTERS.length());\r\n    \t\tLog.i(TAG, &quot;times &quot; + times);\r\n    \t\t\r\n    \t\t// TODO\r\n    \t\t// 100 : Success\r\n    \t\t// 101 : Error\r\n    \t\tbyte[] sending_continue_hex = new byte[BLE.DEFAULT_BYTES_IN_CONTINUE_PACKET];\r\n    \t\tfor (int time = 0; time &lt;= times; time++) {\r\n    \t\t\t/**\r\n    \t\t\t * Wait second before sending continue packet \r\n    \t\t\t */\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(200);\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (time == times) {\r\n    \t\t\t\tLog.i(TAG, &quot;LAST PACKET &quot;);\r\n    \t\t\t\t\r\n    \t\t\t\t/**\r\n    \t\t\t\t * If you do not have enough characters to send continue packet,\r\n    \t\t\t\t * This is the last packet that will be sent to the band\r\n    \t\t\t\t */\r\n    \r\n    \t\t\t\t/**\r\n    \t\t\t\t * Packet length byte :\r\n    \t\t\t\t */\r\n    \t\t\t\t/**\r\n    \t\t\t\t * Length of last packet\r\n    \t\t\t\t */\r\n    \t\t\t\tint character_length = CHARACTERS.length()\r\n    \t\t\t\t\t\t- BLE.DEFAULT_BYTES_IN_CONTINUE_PACKET*times;\r\n    \t\t\t\t\r\n    \t\t\t\tinitial_packet[1] = Byte.valueOf(String.valueOf(character_length\r\n    \t\t\t\t\t\t+ BLE.INITIAL_MESSAGE_PACKET_LENGTH));\r\n    \t\t\t\tinitial_packet[2] = BLE.SENDING_LAST_PACKET;\r\n    \t\t\t\t\r\n    \t\t\t\tLog.i(TAG, &quot;character_length &quot; + character_length);\r\n    \r\n    \t\t\t\t/**\r\n    \t\t\t\t * Message\r\n    \t\t\t\t */\r\n    \t\t\t\t// Hex file\r\n    \t\t\t\tbyte[] sending_last_hex = new byte[character_length];\r\n    \t\t\t\t\r\n    \t\t\t\t// Hex file : Get next bytes\r\n    \t\t\t\tfor (int i = 0; i &lt; sending_last_hex.length; i++) {\r\n    \t\t\t\t\tsending_last_hex[i] = \r\n    \t\t\t\t\t\t\tCHARACTERS.getBytes()[sending_continue_hex.length*time + i];\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t// Merge byte[]\r\n    \t\t\t\tbyte[] last_packet = \r\n    \t\t\t\t\t\tnew byte[character_length + BLE.INITIAL_MESSAGE_PACKET_LENGTH];\r\n    \t\t\t\tSystem.arraycopy(initial_packet, 0, last_packet,\r\n    \t\t\t\t\t\t0, initial_packet.length);\r\n    \t\t\t\tSystem.arraycopy(sending_last_hex, 0, last_packet, \r\n    \t\t\t\t\t\tinitial_packet.length, sending_last_hex.length);\r\n    \r\n    \t\t\t\t// Set value for characteristic\r\n    \t\t\t\tcharacteristic.setValue(last_packet);\r\n    \t\t\t} else {\r\n    \t\t\t\tLog.i(TAG, &quot;CONTINUE PACKET &quot;);\r\n    \t\t\t\t/**\r\n    \t\t\t\t * If you have enough characters to send continue packet,\r\n    \t\t\t\t * This is the continue packet that will be sent to the band\r\n    \t\t\t\t */\r\n    \t\t\t\t/**\r\n    \t\t\t\t * Packet length byte\r\n    \t\t\t\t */\r\n    \t\t\t\tint character_length = sending_continue_hex.length;\r\n    \t\t\t\t\r\n    \t\t\t\t/**\r\n    \t\t\t\t * TODO Default Length : 20 Bytes\r\n    \t\t\t\t */\r\n    \t\t\t\tinitial_packet[1] = Byte.valueOf(String.valueOf(\r\n    \t\t\t\t\t\tcharacter_length + BLE.INITIAL_MESSAGE_PACKET_LENGTH));\r\n    \t\t\t\t\r\n    \t\t\t\t/**\r\n    \t\t\t\t * If sent data length &gt; 20 bytes (Default : BLE allow send 20 bytes one time)\r\n    \t\t\t\t * -&gt; set 01 : continue sending next packet\r\n    \t\t\t\t * else or if after sent until data length &lt; 20 bytes\r\n    \t\t\t\t * -&gt; set 00 : last packet\r\n    \t\t\t\t */\r\n    \t\t\t\tinitial_packet[2] = BLE.SENDING_CONTINUE_PACKET;\r\n    \t\t\t\t/**\r\n    \t\t\t\t * Message\r\n    \t\t\t\t */\r\n    \t\t\t\t// Hex file : Get first 17 bytes\r\n    \t\t\t\tfor (int i = 0; i &lt; sending_continue_hex.length; i++) {\r\n    \t\t\t\t\tLog.i(TAG, &quot;Send stt : &quot; \r\n    \t\t\t\t\t\t\t+ (sending_continue_hex.length*time + i));\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t// Get next bytes\r\n    \t\t\t\t\tsending_continue_hex[i] = \r\n    \t\t\t\t\t\t\tCHARACTERS.getBytes()[sending_continue_hex.length*time + i];\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t// Merge byte[]\r\n    \t\t\t\tbyte[] sending_continue_packet = \r\n    \t\t\t\t\t\tnew byte[character_length + BLE.INITIAL_MESSAGE_PACKET_LENGTH];\r\n    \t\t\t\tSystem.arraycopy(initial_packet, 0, sending_continue_packet, \r\n    \t\t\t\t\t\t0, initial_packet.length);\r\n    \t\t\t\tSystem.arraycopy(sending_continue_hex, 0, sending_continue_packet, \r\n    \t\t\t\t\t\tinitial_packet.length, sending_continue_hex.length);\r\n    \r\n    \t\t\t\t// Set value for characteristic\r\n    \t\t\t\tcharacteristic.setValue(sending_continue_packet);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t// Write characteristic via BLE\r\n    \t\t\tmBluetoothGatt.writeCharacteristic(characteristic);\r\n    \t\t}\r\n    \t}\r\n\r\n    public boolean writeCharacteristic(BluetoothGattCharacteristic characteristic,\r\n    \t\t\tString data) {\r\n    \t\tif (mBluetoothAdapter == null || mBluetoothGatt == null) {\r\n    \t\t\tLog.w(TAG, &quot;BluetoothAdapter not initialized&quot;);\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\tif (ActivityBLEController.IS_FIRST_TIME) {\r\n    \t\t\t/**\r\n    \t\t\t * In the first time, \r\n    \t\t\t * should send the Title\r\n    \t\t\t */\r\n    \t\t\tbyte[] merge_title = sendTitle(data);\r\n    \r\n    \t\t\t// Set value for characteristic\r\n    \t\t\tcharacteristic.setValue(merge_title);\r\n    \r\n    \t\t\t// Write characteristic via BLE\r\n    \t\t\tmBluetoothGatt.writeCharacteristic(characteristic);\r\n    \r\n    \t\t\t// Reset\r\n    \t\t\tActivityBLEController.IS_FIRST_TIME = false;\r\n    \r\n    \t\t\treturn true;\r\n    \t\t} else {\r\n    \t\t\t/**\r\n    \t\t\t * In the second time, \r\n    \t\t\t * should send the Message\r\n    \t\t\t */\r\n    \t\t\tif (data.length() &lt;= BLE.LIMIT_CHARACTERS) {\r\n    \t\t\t\tsendMessage(characteristic, data);\r\n    \r\n    \t\t\t\t// Reset\r\n    \t\t\t\tActivityBLEController.IS_FIRST_TIME = true;\t\r\n    \r\n    \t\t\t\treturn true;\r\n    \t\t\t} else {\r\n    \t\t\t\t// Typed character\r\n    \t\t\t\ttyped_character = data.length();\r\n    \r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"Android: Sending data &gt;20 bytes by BLE","body":"<p><strong>UPDATE</strong> : Please see more answer to know there is other way to achive your expect.</p>\n<p>At 2014, BLE allows you transfer maximum of 20 bytes.</p>\n<p>If you want to send more than 20 bytes, you should define array <code>byte[]</code> to  contain how many packets you want.</p>\n<p>Following example worked fine if you want to send less than 160 characters (160 bytes).</p>\n<p><em>p/s : Let edit following as you want. Do not follow me exactly.</em></p>\n<p>Actually, when we are using BLE, mobile side and firmware side need to set up the Key (ex. <code>0x03</code> ...) to define the connection gate among both sides.</p>\n<p>The idea is :</p>\n<ul>\n<li><p>When we continue to transfer packets, not is the last one. The gate is <code>byte[1] = 0x01</code>.</p>\n</li>\n<li><p>If we send the last one, The gate is <code>byte[1] = 0x00</code>.</p>\n</li>\n</ul>\n<p>The data contruction (20 bytes):</p>\n<p>1 - <code>Byte 1</code> - Define the <code>Gate ID</code> : ex. Message gate ID <code>byte[0] = 0x03</code>.</p>\n<p>2 - <code>Byte 2</code> - Define the <code>recognization</code> : Is the last packet <code>0x00</code> or continue sending packets <code>0x01</code>.</p>\n<p>3 - <code>Byte 3</code> (Should be 18 bytes after eliminating <code>Byte 1</code> &amp; <code>Byte 2</code>) - Attach the message content in here.</p>\n<p><em>please understand my logic before reading the code below.</em></p>\n<p>Below is an example of sending a Message with many packets, each packet is an array of size 20 bytes.</p>\n<pre><code>private void sendMessage(BluetoothGattCharacteristic characteristic, String CHARACTERS){\n        byte[] initial_packet = new byte[3];\n        /**\n         * Indicate byte\n         */\n        initial_packet[0] = BLE.INITIAL_MESSAGE_PACKET;\n        if (Long.valueOf(\n                String.valueOf(CHARACTERS.length() + initial_packet.length))\n                &gt; BLE.DEFAULT_BYTES_VIA_BLE) {\n            sendingContinuePacket(characteristic, initial_packet, CHARACTERS);\n        } else {\n            sendingLastPacket(characteristic, initial_packet, CHARACTERS);\n        }\n    }\n\nprivate void sendingContinuePacket(BluetoothGattCharacteristic characteristic,\n            byte[] initial_packet, String CHARACTERS){\n        /**\n         * TODO If data length &gt; Default data can sent via BLE : 20 bytes\n         */\n        // Check the data length is large how many times with Default Data (BLE)\n        int times = Byte.valueOf(String.valueOf(\n                CHARACTERS.length() / BLE.DEFAULT_BYTES_IN_CONTINUE_PACKET));\n\n        Log.i(TAG, &quot;CHARACTERS.length() &quot; + CHARACTERS.length());\n        Log.i(TAG, &quot;times &quot; + times);\n        \n        // TODO\n        // 100 : Success\n        // 101 : Error\n        byte[] sending_continue_hex = new byte[BLE.DEFAULT_BYTES_IN_CONTINUE_PACKET];\n        for (int time = 0; time &lt;= times; time++) {\n            /**\n             * Wait second before sending continue packet \n             */\n            try {\n                Thread.sleep(200);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n\n            if (time == times) {\n                Log.i(TAG, &quot;LAST PACKET &quot;);\n                \n                /**\n                 * If you do not have enough characters to send continue packet,\n                 * This is the last packet that will be sent to the band\n                 */\n\n                /**\n                 * Packet length byte :\n                 */\n                /**\n                 * Length of last packet\n                 */\n                int character_length = CHARACTERS.length()\n                        - BLE.DEFAULT_BYTES_IN_CONTINUE_PACKET*times;\n                \n                initial_packet[1] = Byte.valueOf(String.valueOf(character_length\n                        + BLE.INITIAL_MESSAGE_PACKET_LENGTH));\n                initial_packet[2] = BLE.SENDING_LAST_PACKET;\n                \n                Log.i(TAG, &quot;character_length &quot; + character_length);\n\n                /**\n                 * Message\n                 */\n                // Hex file\n                byte[] sending_last_hex = new byte[character_length];\n                \n                // Hex file : Get next bytes\n                for (int i = 0; i &lt; sending_last_hex.length; i++) {\n                    sending_last_hex[i] = \n                            CHARACTERS.getBytes()[sending_continue_hex.length*time + i];\n                }\n\n                // Merge byte[]\n                byte[] last_packet = \n                        new byte[character_length + BLE.INITIAL_MESSAGE_PACKET_LENGTH];\n                System.arraycopy(initial_packet, 0, last_packet,\n                        0, initial_packet.length);\n                System.arraycopy(sending_last_hex, 0, last_packet, \n                        initial_packet.length, sending_last_hex.length);\n\n                // Set value for characteristic\n                characteristic.setValue(last_packet);\n            } else {\n                Log.i(TAG, &quot;CONTINUE PACKET &quot;);\n                /**\n                 * If you have enough characters to send continue packet,\n                 * This is the continue packet that will be sent to the band\n                 */\n                /**\n                 * Packet length byte\n                 */\n                int character_length = sending_continue_hex.length;\n                \n                /**\n                 * TODO Default Length : 20 Bytes\n                 */\n                initial_packet[1] = Byte.valueOf(String.valueOf(\n                        character_length + BLE.INITIAL_MESSAGE_PACKET_LENGTH));\n                \n                /**\n                 * If sent data length &gt; 20 bytes (Default : BLE allow send 20 bytes one time)\n                 * -&gt; set 01 : continue sending next packet\n                 * else or if after sent until data length &lt; 20 bytes\n                 * -&gt; set 00 : last packet\n                 */\n                initial_packet[2] = BLE.SENDING_CONTINUE_PACKET;\n                /**\n                 * Message\n                 */\n                // Hex file : Get first 17 bytes\n                for (int i = 0; i &lt; sending_continue_hex.length; i++) {\n                    Log.i(TAG, &quot;Send stt : &quot; \n                            + (sending_continue_hex.length*time + i));\n                    \n                    // Get next bytes\n                    sending_continue_hex[i] = \n                            CHARACTERS.getBytes()[sending_continue_hex.length*time + i];\n                }\n\n                // Merge byte[]\n                byte[] sending_continue_packet = \n                        new byte[character_length + BLE.INITIAL_MESSAGE_PACKET_LENGTH];\n                System.arraycopy(initial_packet, 0, sending_continue_packet, \n                        0, initial_packet.length);\n                System.arraycopy(sending_continue_hex, 0, sending_continue_packet, \n                        initial_packet.length, sending_continue_hex.length);\n\n                // Set value for characteristic\n                characteristic.setValue(sending_continue_packet);\n            }\n            \n            // Write characteristic via BLE\n            mBluetoothGatt.writeCharacteristic(characteristic);\n        }\n    }\n\npublic boolean writeCharacteristic(BluetoothGattCharacteristic characteristic,\n            String data) {\n        if (mBluetoothAdapter == null || mBluetoothGatt == null) {\n            Log.w(TAG, &quot;BluetoothAdapter not initialized&quot;);\n            return false;\n        }\n\n        if (ActivityBLEController.IS_FIRST_TIME) {\n            /**\n             * In the first time, \n             * should send the Title\n             */\n            byte[] merge_title = sendTitle(data);\n\n            // Set value for characteristic\n            characteristic.setValue(merge_title);\n\n            // Write characteristic via BLE\n            mBluetoothGatt.writeCharacteristic(characteristic);\n\n            // Reset\n            ActivityBLEController.IS_FIRST_TIME = false;\n\n            return true;\n        } else {\n            /**\n             * In the second time, \n             * should send the Message\n             */\n            if (data.length() &lt;= BLE.LIMIT_CHARACTERS) {\n                sendMessage(characteristic, data);\n\n                // Reset\n                ActivityBLEController.IS_FIRST_TIME = true; \n\n                return true;\n            } else {\n                // Typed character\n                typed_character = data.length();\n\n                return false;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5315652,"reputation":167,"user_id":4240646,"display_name":"Zac Siegel"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1428510971,"creation_date":1428510971,"answer_id":29520451,"question_id":24135682,"body_markdown":"You can actually trigger a BLE Long write if the device on the other end supports it.\r\n\r\nYou can do this by setting the write type to be **BluetoothGattCharacteristic.WRITE_TYPE_DEFAULT**\r\n\r\nIn this case you can send more than 20 bytes.","title":"Android: Sending data &gt;20 bytes by BLE","body":"<p>You can actually trigger a BLE Long write if the device on the other end supports it.</p>\n\n<p>You can do this by setting the write type to be <strong>BluetoothGattCharacteristic.WRITE_TYPE_DEFAULT</strong></p>\n\n<p>In this case you can send more than 20 bytes.</p>\n"},{"tags":[],"owner":{"account_id":73357,"reputation":17051,"user_id":211292,"accept_rate":67,"display_name":"ThomasW"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1436509991,"creation_date":1436509991,"answer_id":31333990,"question_id":24135682,"body_markdown":"On Lollipop you can send up to 512 bytes. You need to use  [`BluetoothGatt.requestMtu()`][1] with a value of 512. Also, as @Devunwired mentioned you need to wait until any previous operation is complete before calling this.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/bluetooth/BluetoothGatt.html#requestMtu(int)","title":"Android: Sending data &gt;20 bytes by BLE","body":"<p>On Lollipop you can send up to 512 bytes. You need to use  <a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothGatt.html#requestMtu(int)\" rel=\"noreferrer\"><code>BluetoothGatt.requestMtu()</code></a> with a value of 512. Also, as @Devunwired mentioned you need to wait until any previous operation is complete before calling this.</p>\n"},{"tags":[],"owner":{"account_id":5315639,"reputation":292,"user_id":4240637,"display_name":"Sielar"},"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1487929360,"creation_date":1452958977,"answer_id":34828838,"question_id":24135682,"body_markdown":"There are a lot of misleads here.\r\n\r\nBLE is capable of sending much more than 20 bytes, and it can be done easily in android.\r\n\r\nWhat you need to change is the link MTU that is set to 23 by default(only 20 of them can be used to set a value).\r\nAndroid provides fragmentation mechanism if the given packet to send is larger than the current link MTU(this is the purpose of the offset parameter in the `onCharacteristicRead(...)` API).\r\n\r\nSo you can make the MTU bigger, as a request from the central using: `requestMtu(...)` API. The latter will cause a callback call `onMtuChanged` at the peripheral side which will inform him of the new MTU.\r\nAfter this action is done, you can send bigger packets without issuing the Android fragmentation mechanism.\r\n\r\nThe alternatives are to build yourself your own fragmetation mechanism and not to send packets that are bigger then the MTU.\r\nOr rely on the Android mechanism and work with it using the &#39;offset&#39; parameter.","title":"Android: Sending data &gt;20 bytes by BLE","body":"<p>There are a lot of misleads here.</p>\n\n<p>BLE is capable of sending much more than 20 bytes, and it can be done easily in android.</p>\n\n<p>What you need to change is the link MTU that is set to 23 by default(only 20 of them can be used to set a value).\nAndroid provides fragmentation mechanism if the given packet to send is larger than the current link MTU(this is the purpose of the offset parameter in the <code>onCharacteristicRead(...)</code> API).</p>\n\n<p>So you can make the MTU bigger, as a request from the central using: <code>requestMtu(...)</code> API. The latter will cause a callback call <code>onMtuChanged</code> at the peripheral side which will inform him of the new MTU.\nAfter this action is done, you can send bigger packets without issuing the Android fragmentation mechanism.</p>\n\n<p>The alternatives are to build yourself your own fragmetation mechanism and not to send packets that are bigger then the MTU.\nOr rely on the Android mechanism and work with it using the 'offset' parameter.</p>\n"},{"tags":[],"owner":{"account_id":5127510,"reputation":576,"user_id":4108976,"display_name":"Doni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487928163,"creation_date":1482285848,"answer_id":41254016,"question_id":24135682,"body_markdown":"This is the example of implementation using chunk method, but without using **Thread.sleep** , i found it is better and efficient for my application to send more than 20 bit data.\r\n\r\nThe packets will be send after`onCharacteristicWrite()` triggered. i just found out this method will be triggered automatically after peripheral device `(BluetoothGattServer)` sends a `sendResponse()` method.\r\n\r\n\r\nfirstly we have to transform the packet data into chunk with this function:\r\n\r\n    public void sendData(byte [] data){\r\n        int chunksize = 20; //20 byte chunk\r\n        packetSize = (int) Math.ceil( data.length / (double)chunksize); //make this variable public so we can access it on the other function\r\n        \r\n        //this is use as header, so peripheral device know ho much packet will be received.\r\n        characteristicData.setValue(packetSize.toString().getBytes());\r\n        mGatt.writeCharacteristic(characteristicData);\r\n        mGatt.executeReliableWrite();\r\n        \r\n        packets = new byte[packetSize][chunksize];\r\n        packetInteration =0;\r\n        Integer start = 0;\r\n        for(int i = 0; i &lt; packets.length; i++) {\r\n            int end = start+chunksize;\r\n            if(end&gt;data.length){end = data.length;}\r\n            packets[i] = Arrays.copyOfRange(data,start, end);\r\n            start += chunksize;\r\n        }\r\n\r\nafter our data ready, so i put my iteration on this function:\r\n\r\n    @Override\r\n        public void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n            if(packetInteration&lt;packetSize){\r\n            characteristicData.setValue(packets[packetInteration]);\r\n            mGatt.writeCharacteristic(characteristicData);\r\n                packetInteration++;\r\n            }\r\n        }\r\n\r\n","title":"Android: Sending data &gt;20 bytes by BLE","body":"<p>This is the example of implementation using chunk method, but without using <strong>Thread.sleep</strong> , i found it is better and efficient for my application to send more than 20 bit data.</p>\n\n<p>The packets will be send after<code>onCharacteristicWrite()</code> triggered. i just found out this method will be triggered automatically after peripheral device <code>(BluetoothGattServer)</code> sends a <code>sendResponse()</code> method.</p>\n\n<p>firstly we have to transform the packet data into chunk with this function:</p>\n\n<pre><code>public void sendData(byte [] data){\n    int chunksize = 20; //20 byte chunk\n    packetSize = (int) Math.ceil( data.length / (double)chunksize); //make this variable public so we can access it on the other function\n\n    //this is use as header, so peripheral device know ho much packet will be received.\n    characteristicData.setValue(packetSize.toString().getBytes());\n    mGatt.writeCharacteristic(characteristicData);\n    mGatt.executeReliableWrite();\n\n    packets = new byte[packetSize][chunksize];\n    packetInteration =0;\n    Integer start = 0;\n    for(int i = 0; i &lt; packets.length; i++) {\n        int end = start+chunksize;\n        if(end&gt;data.length){end = data.length;}\n        packets[i] = Arrays.copyOfRange(data,start, end);\n        start += chunksize;\n    }\n</code></pre>\n\n<p>after our data ready, so i put my iteration on this function:</p>\n\n<pre><code>@Override\n    public void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n        if(packetInteration&lt;packetSize){\n        characteristicData.setValue(packets[packetInteration]);\n        mGatt.writeCharacteristic(characteristicData);\n            packetInteration++;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5803705"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1519534529,"creation_date":1519534529,"answer_id":48970341,"question_id":24135682,"body_markdown":"**You need to request a MTU update.** This is the maximum transmission unit. As it is now, BLE accepts up to 512 bytes in a single packet. However, without requesting this MTU update, your device will not send a packet over 23 bytes (currently).\r\n\r\n---\r\n\r\nUsing your BluetoothGatt object call **requestMtu()**\r\n\r\nHere is a [link][1] to the developer&#39;s page\r\n\r\n[![enter image description here][2]][2]\r\n\r\n---\r\n\r\n**BluetoothGattCallback** will receive the **onMtuChanged()** event as shown below. Upon a successful MTU update, you can send the data as one packet. Here is a [link][3] to this developer page.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n---\r\n\r\nI typically call requestMtu() after connecting to the **characteristic** that I wish to write to. Good Luck.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/bluetooth/BluetoothGatt.html\r\n  [2]: https://i.stack.imgur.com/Q5TAJ.png\r\n  [3]: https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html\r\n  [4]: https://i.stack.imgur.com/efwlJ.png","title":"Android: Sending data &gt;20 bytes by BLE","body":"<p><strong>You need to request a MTU update.</strong> This is the maximum transmission unit. As it is now, BLE accepts up to 512 bytes in a single packet. However, without requesting this MTU update, your device will not send a packet over 23 bytes (currently).</p>\n\n<hr>\n\n<p>Using your BluetoothGatt object call <strong>requestMtu()</strong></p>\n\n<p>Here is a <a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothGatt.html\" rel=\"noreferrer\">link</a> to the developer's page</p>\n\n<p><a href=\"https://i.stack.imgur.com/Q5TAJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Q5TAJ.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong>BluetoothGattCallback</strong> will receive the <strong>onMtuChanged()</strong> event as shown below. Upon a successful MTU update, you can send the data as one packet. Here is a <a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothGattCallback.html\" rel=\"noreferrer\">link</a> to this developer page.</p>\n\n<p><a href=\"https://i.stack.imgur.com/efwlJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/efwlJ.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>I typically call requestMtu() after connecting to the <strong>characteristic</strong> that I wish to write to. Good Luck.</p>\n"},{"tags":[],"owner":{"account_id":13921299,"reputation":61,"user_id":10051613,"display_name":"MartinLoren"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1542966699,"creation_date":1542966699,"answer_id":53444264,"question_id":24135682,"body_markdown":"Another solution with Queue and that allow unlimited messages of any size (manage the protocol by yourself to put message delimiters). No Sleep, no additional delays:\r\n\r\n\r\n\r\n    private volatile boolean isWriting; \r\n    private Queue&lt;String&gt; sendQueue; //To be inited with sendQueue = new ConcurrentLinkedQueue&lt;String&gt;();\r\n\r\n    public int send(String data) {\r\n        while (data.length()&gt;20) {\r\n            sendQueue.add(data.substring(0,20));\r\n            data=data.substring(20);\r\n        }\r\n        sendQueue.add(data);\r\n        if (!isWriting) _send();\r\n        return ST_OK; //0\r\n    }\r\n\r\n    private boolean _send() {\r\n        if (sendQueue.isEmpty()) {\r\n            Log.d(&quot;TAG&quot;, &quot;_send(): EMPTY QUEUE&quot;);\r\n            return false;\r\n        }\r\n        Log.d(TAG, &quot;_send(): Sending: &quot;+sendQueue.peek());\r\n        tx.setValue(sendQueue.poll().getBytes(Charset.forName(&quot;UTF-8&quot;)));\r\n        isWriting = true; // Set the write in progress flag\r\n        mGatt.writeCharacteristic(tx);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n        super.onCharacteristicWrite(gatt, characteristic, status);\r\n        if (status == BluetoothGatt.GATT_SUCCESS) {\r\n            Log.d(&quot;TAG&quot;,&quot;onCharacteristicWrite(): Successful&quot;);\r\n        }\r\n        isWriting = false;\r\n        _send();\r\n    }","title":"Android: Sending data &gt;20 bytes by BLE","body":"<p>Another solution with Queue and that allow unlimited messages of any size (manage the protocol by yourself to put message delimiters). No Sleep, no additional delays:</p>\n\n<pre><code>private volatile boolean isWriting; \nprivate Queue&lt;String&gt; sendQueue; //To be inited with sendQueue = new ConcurrentLinkedQueue&lt;String&gt;();\n\npublic int send(String data) {\n    while (data.length()&gt;20) {\n        sendQueue.add(data.substring(0,20));\n        data=data.substring(20);\n    }\n    sendQueue.add(data);\n    if (!isWriting) _send();\n    return ST_OK; //0\n}\n\nprivate boolean _send() {\n    if (sendQueue.isEmpty()) {\n        Log.d(\"TAG\", \"_send(): EMPTY QUEUE\");\n        return false;\n    }\n    Log.d(TAG, \"_send(): Sending: \"+sendQueue.peek());\n    tx.setValue(sendQueue.poll().getBytes(Charset.forName(\"UTF-8\")));\n    isWriting = true; // Set the write in progress flag\n    mGatt.writeCharacteristic(tx);\n    return true;\n}\n\n@Override\npublic void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n    super.onCharacteristicWrite(gatt, characteristic, status);\n    if (status == BluetoothGatt.GATT_SUCCESS) {\n        Log.d(\"TAG\",\"onCharacteristicWrite(): Successful\");\n    }\n    isWriting = false;\n    _send();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2031253,"reputation":301,"user_id":4455594,"display_name":"user1814893"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605326966,"creation_date":1605326966,"answer_id":64830857,"question_id":24135682,"body_markdown":"I have a very similar answer to Huy Tower, but I have taken the time to write some nicer code to do it. This doesn&#39;t use an arbitrary delay, it instead uses the onCharacteristicWrite callback.I would reference his explanation as an understandign of how this works.\r\n\r\nFirstly, two class scoped variables are declared:\r\n\r\n    private byte[][] byteMessageToWrite;\r\n    private int currentMessageProgress = 0;\r\n\r\nThen three functions are declared as follows:\r\n\r\n    // Send a message\r\n        public void sendMessage(String strMessage) {\r\n            if (characteristic == null || strMessage == null || strMessage.isEmpty()) {\r\n                // Do nothing if there is no device or message to send.\r\n                return;\r\n            }\r\n    \r\n\r\n    \r\n            //Note that byte arrays after the first are written in the onCharacteristicWrite Callback\r\n\r\n            byteMessageToWrite = getMessageByteArray(strMessage);\r\n            writeBytes(byteMessageToWrite[0]);\r\n            currentMessageProgress = 1;\r\n        }\r\n    \r\n        //writes an array of bytes\r\n        //note the max BLE message limit\r\n        private void writeBytes(byte[] bytesToWrite) {\r\n            characteristic.setValue(bytesToWrite);\r\n        }\r\n    \r\n        // Note: BLE Only allows 20 bytes to be written to a characteristic at once. Have to write\r\n        // multiple times if sending larger data. This function breaks a string up to do that.\r\n        // The first byte is reserved as a key\r\n        // Note, the second byte in every 20byte section is either a 1 or a 2. A 2 indicates that it is\r\n        // The last message in the set\r\n        private byte[][] getMessageByteArray(String message) {\r\n            byte[] initBytes = message.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n            int currentIndex = 0;\r\n            int msgLength = initBytes.length;\r\n    \r\n            int numMessages = (int) (Math.ceil((double) (Math.ceil((double) msgLength) / (double) (BLE_BYTE_LIMIT-2))));\r\n    \r\n            byte[][] retMessage = new byte[numMessages][20];\r\n    \r\n            for (int i = 0; i &lt; numMessages; i++) {\r\n                //set key\r\n                retMessage[i][0] = 0x03;\r\n                //set second byte (indicator of termination)\r\n                if (i == numMessages - 1) {//final message, set byte 1 to 2\r\n                    retMessage[i][1] = 0x02;\r\n                } else {//not final message\r\n                    retMessage[i][1] = 0x01;\r\n                }\r\n                //set other bytes\r\n                for (int ii = 2; ii &lt; BLE_BYTE_LIMIT; ii++) {// fill in the data\r\n                    int index = (i * (BLE_BYTE_LIMIT - 2)) + ii - 2;\r\n                    if(index&gt;=msgLength){\r\n                        // Have reached the end of the message, don&#39;t fill any other bytes\r\n                        return retMessage;\r\n                    }\r\n                    retMessage[i][ii] = initBytes[index];\r\n                }\r\n            }\r\n            return retMessage;\r\n        }\r\n\r\nFinally, in the OnCharacteristicWrite function, I have the following:\r\n\r\n          @Override\r\n        public void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n            super.onCharacteristicWrite(gatt, characteristic, status);\r\n            if (currentMessageProgress &lt; byteMessageToWrite.length) {\r\n                //there are more bytes to write\r\n\r\n                writeBytes(byteMessageToWrite[currentMessageProgress]);\r\n                currentMessageProgress++;\r\n            }\r\n        }\r\n\r\nI will also note that instead of using 0x00 and 0x01 as Huy suggested, I have chosen to use 0x01 and 0x02. The reason for this is that I found that my bluetooth device would not successfully read any packets with a 0x00. I cannot explain this. ","title":"Android: Sending data &gt;20 bytes by BLE","body":"<p>I have a very similar answer to Huy Tower, but I have taken the time to write some nicer code to do it. This doesn't use an arbitrary delay, it instead uses the onCharacteristicWrite callback.I would reference his explanation as an understandign of how this works.</p>\n<p>Firstly, two class scoped variables are declared:</p>\n<pre><code>private byte[][] byteMessageToWrite;\nprivate int currentMessageProgress = 0;\n</code></pre>\n<p>Then three functions are declared as follows:</p>\n<pre><code>// Send a message\n    public void sendMessage(String strMessage) {\n        if (characteristic == null || strMessage == null || strMessage.isEmpty()) {\n            // Do nothing if there is no device or message to send.\n            return;\n        }\n\n\n\n        //Note that byte arrays after the first are written in the onCharacteristicWrite Callback\n\n        byteMessageToWrite = getMessageByteArray(strMessage);\n        writeBytes(byteMessageToWrite[0]);\n        currentMessageProgress = 1;\n    }\n\n    //writes an array of bytes\n    //note the max BLE message limit\n    private void writeBytes(byte[] bytesToWrite) {\n        characteristic.setValue(bytesToWrite);\n    }\n\n    // Note: BLE Only allows 20 bytes to be written to a characteristic at once. Have to write\n    // multiple times if sending larger data. This function breaks a string up to do that.\n    // The first byte is reserved as a key\n    // Note, the second byte in every 20byte section is either a 1 or a 2. A 2 indicates that it is\n    // The last message in the set\n    private byte[][] getMessageByteArray(String message) {\n        byte[] initBytes = message.getBytes(Charset.forName(&quot;UTF-8&quot;));\n        int currentIndex = 0;\n        int msgLength = initBytes.length;\n\n        int numMessages = (int) (Math.ceil((double) (Math.ceil((double) msgLength) / (double) (BLE_BYTE_LIMIT-2))));\n\n        byte[][] retMessage = new byte[numMessages][20];\n\n        for (int i = 0; i &lt; numMessages; i++) {\n            //set key\n            retMessage[i][0] = 0x03;\n            //set second byte (indicator of termination)\n            if (i == numMessages - 1) {//final message, set byte 1 to 2\n                retMessage[i][1] = 0x02;\n            } else {//not final message\n                retMessage[i][1] = 0x01;\n            }\n            //set other bytes\n            for (int ii = 2; ii &lt; BLE_BYTE_LIMIT; ii++) {// fill in the data\n                int index = (i * (BLE_BYTE_LIMIT - 2)) + ii - 2;\n                if(index&gt;=msgLength){\n                    // Have reached the end of the message, don't fill any other bytes\n                    return retMessage;\n                }\n                retMessage[i][ii] = initBytes[index];\n            }\n        }\n        return retMessage;\n    }\n</code></pre>\n<p>Finally, in the OnCharacteristicWrite function, I have the following:</p>\n<pre><code>      @Override\n    public void onCharacteristicWrite(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n        super.onCharacteristicWrite(gatt, characteristic, status);\n        if (currentMessageProgress &lt; byteMessageToWrite.length) {\n            //there are more bytes to write\n\n            writeBytes(byteMessageToWrite[currentMessageProgress]);\n            currentMessageProgress++;\n        }\n    }\n</code></pre>\n<p>I will also note that instead of using 0x00 and 0x01 as Huy suggested, I have chosen to use 0x01 and 0x02. The reason for this is that I found that my bluetooth device would not successfully read any packets with a 0x00. I cannot explain this.</p>\n"}],"owner":{"account_id":1752329,"reputation":787,"user_id":1601136,"accept_rate":57,"display_name":"Ankit Aggarwal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94653,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":24178409,"answer_count":10,"score":62,"last_activity_date":1680594095,"creation_date":1402386786,"question_id":24135682,"body_markdown":"I am able to send data upto 20 bytes by connecting to an external BLE device. How do I send data greater than 20 bytes. I have read that we have to either fragment the data or split characteristic to required parts. If I assume my data is 32 bytes, could you tell me changes I need to make in my code to get this working? Following are the required snippets from my code:\r\n\r\n    public boolean send(byte[] data) {\r\n        if (mBluetoothGatt == null || mBluetoothGattService == null) {\r\n            Log.w(TAG, &quot;BluetoothGatt not initialized&quot;);\r\n            return false;\r\n        }\r\n\r\n        BluetoothGattCharacteristic characteristic =\r\n                mBluetoothGattService.getCharacteristic(UUID_SEND);\r\n\r\n        if (characteristic == null) {\r\n            Log.w(TAG, &quot;Send characteristic not found&quot;);\r\n            return false;\r\n        }\r\n\r\n        characteristic.setValue(data);\r\n        characteristic.setWriteType(BluetoothGattCharacteristic.WRITE_TYPE_NO_RESPONSE);\r\n        return mBluetoothGatt.writeCharacteristic(characteristic);\r\n    }\r\n\r\nThis is the code I used for sending the data. The &quot;send&quot; function is used in the following onclick event.\r\n\r\n    sendValueButton = (Button) findViewById(R.id.sendValue);\r\n        sendValueButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String text = dataEdit.getText().toString();                           \r\n                yableeService.send(text.getBytes());\r\n            }\r\n        });\r\n\r\nWhen the `String text` is greater than 20 bytes then only the first 20 bytes are received. How to rectify this?\r\n\r\nTo test sending multiple characteristics I tried this:\r\n\r\n    sendValueButton = (Button) findViewById(R.id.sendValue);\r\n    sendValueButton.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            String text = &quot;Test1&quot;;                           \r\n            yableeService.send(text.getBytes());\r\n\r\n            text = &quot;Test2&quot;;                           \r\n            yableeService.send(text.getBytes());\r\n\r\n            text = &quot;Test3&quot;;                           \r\n            yableeService.send(text.getBytes());\r\n        }\r\n    });\r\nBut I only received &quot;Test3&quot; i.e. the last characteristic. What mistake did I commit? I am new to BLE so please ignore any naiveness\r\n\r\n\r\n***Edit:***\r\n\r\n***After accepting answer*** for anyone who views this later.\r\n\r\nThere are **two** ways to accomplish this.\r\n1. Split up your data and write in a loop as the selected answer does.\r\n2. Split up your data and write using callback i.e. `onCharacterisitcWrite()`. This will save you from errors if there were any during writing.\r\n\r\nBut ***most important*** between the writes use a `Thread.sleep(200)` if you are only writing and not waiting for a response from the firmware. This will ensure that all of your data reaches. Without the `sleep` I was always getting the last packet. If you notice the accepted answer he has also used `sleep` in between.","title":"Android: Sending data &gt;20 bytes by BLE","body":"<p>I am able to send data upto 20 bytes by connecting to an external BLE device. How do I send data greater than 20 bytes. I have read that we have to either fragment the data or split characteristic to required parts. If I assume my data is 32 bytes, could you tell me changes I need to make in my code to get this working? Following are the required snippets from my code:</p>\n\n<pre><code>public boolean send(byte[] data) {\n    if (mBluetoothGatt == null || mBluetoothGattService == null) {\n        Log.w(TAG, \"BluetoothGatt not initialized\");\n        return false;\n    }\n\n    BluetoothGattCharacteristic characteristic =\n            mBluetoothGattService.getCharacteristic(UUID_SEND);\n\n    if (characteristic == null) {\n        Log.w(TAG, \"Send characteristic not found\");\n        return false;\n    }\n\n    characteristic.setValue(data);\n    characteristic.setWriteType(BluetoothGattCharacteristic.WRITE_TYPE_NO_RESPONSE);\n    return mBluetoothGatt.writeCharacteristic(characteristic);\n}\n</code></pre>\n\n<p>This is the code I used for sending the data. The \"send\" function is used in the following onclick event.</p>\n\n<pre><code>sendValueButton = (Button) findViewById(R.id.sendValue);\n    sendValueButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String text = dataEdit.getText().toString();                           \n            yableeService.send(text.getBytes());\n        }\n    });\n</code></pre>\n\n<p>When the <code>String text</code> is greater than 20 bytes then only the first 20 bytes are received. How to rectify this?</p>\n\n<p>To test sending multiple characteristics I tried this:</p>\n\n<pre><code>sendValueButton = (Button) findViewById(R.id.sendValue);\nsendValueButton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        String text = \"Test1\";                           \n        yableeService.send(text.getBytes());\n\n        text = \"Test2\";                           \n        yableeService.send(text.getBytes());\n\n        text = \"Test3\";                           \n        yableeService.send(text.getBytes());\n    }\n});\n</code></pre>\n\n<p>But I only received \"Test3\" i.e. the last characteristic. What mistake did I commit? I am new to BLE so please ignore any naiveness</p>\n\n<p><strong><em>Edit:</em></strong></p>\n\n<p><strong><em>After accepting answer</em></strong> for anyone who views this later.</p>\n\n<p>There are <strong>two</strong> ways to accomplish this.\n1. Split up your data and write in a loop as the selected answer does.\n2. Split up your data and write using callback i.e. <code>onCharacterisitcWrite()</code>. This will save you from errors if there were any during writing.</p>\n\n<p>But <strong><em>most important</em></strong> between the writes use a <code>Thread.sleep(200)</code> if you are only writing and not waiting for a response from the firmware. This will ensure that all of your data reaches. Without the <code>sleep</code> I was always getting the last packet. If you notice the accepted answer he has also used <code>sleep</code> in between.</p>\n"},{"tags":["java","postgresql","jdbc","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1680498208,"post_id":75915951,"comment_id":133902668,"body_markdown":"Where is an implementation of `PersonRepository`? You should provide at least one","body":"Where is an implementation of <code>PersonRepository</code>? You should provide at least one"},{"owner":{"account_id":10083487,"reputation":109,"user_id":7452937,"display_name":"abhishek narayan"},"score":0,"creation_date":1680498932,"post_id":75915951,"comment_id":133902724,"body_markdown":"@LucaBassoRicci, I am extending the PanacheRepository which took care the implementaions internally.","body":"@LucaBassoRicci, I am extending the PanacheRepository which took care the implementaions internally."},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1680499600,"post_id":75915951,"comment_id":133902781,"body_markdown":"https://quarkus.io/guides/hibernate-orm-panache#defining-your-repository: official doc example created a concrete @applicationscoped bean","body":"<a href=\"https://quarkus.io/guides/hibernate-orm-panache#defining-your-repository\" rel=\"nofollow noreferrer\">quarkus.io/guides/&hellip;</a>: official doc example created a concrete @applicationscoped bean"}],"answers":[{"tags":[],"owner":{"account_id":10083487,"reputation":109,"user_id":7452937,"display_name":"abhishek narayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680593797,"creation_date":1680593797,"answer_id":75926667,"question_id":75915951,"body_markdown":"By adding the repository class which implements the PanacheRepository interface and then injecting this into the repository class solved my issue.\r\n\r\n    @ApplicationScoped\r\n    public class PersonRepository implements PanacheRepository&lt;Person&gt; {\r\n\r\n       //can also add any custom logic methods based on the requirements\r\n\r\n    }\r\n\r\n**Injecting it in the Resource/controller class:**\r\n\r\n    public class PersonResource {\r\n        @Inject\r\n        PersonRepository repository;\r\n    .........\r\n    .......\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"Getting javax.enterprise.inject.UnsatisfiedResolutionException when running a Quarkus microservice (Java based) having postgres DB integration","body":"<p>By adding the repository class which implements the PanacheRepository interface and then injecting this into the repository class solved my issue.</p>\n<pre><code>@ApplicationScoped\npublic class PersonRepository implements PanacheRepository&lt;Person&gt; {\n\n   //can also add any custom logic methods based on the requirements\n\n}\n</code></pre>\n<p><strong>Injecting it in the Resource/controller class:</strong></p>\n<pre><code>public class PersonResource {\n    @Inject\n    PersonRepository repository;\n.........\n.......\n\n}\n</code></pre>\n"}],"owner":{"account_id":10083487,"reputation":109,"user_id":7452937,"display_name":"abhishek narayan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2056,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680593797,"creation_date":1680494436,"question_id":75915951,"body_markdown":"I am new to the Quarkus framework and I am stuck with the below error. Any suggestion would be very helpful on where is the issue.\r\n\r\n**Error:**\r\n`[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type org.abhishek.dao.PersonRepository and qualifiers [@Default]\r\n\t- java member: org.abhishek.resource.PersonResource#repository\r\n\t- declared on CLASS bean [types=[org.abhishek.resource.PersonResource, java.lang.Object], qualifiers=[@Default, @Any], target=org.abhishek.resource.PersonResource]`\r\n\r\n**Entity Class:**\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;persons&quot;)\r\npublic class PersonEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;age&quot;)\r\n    private int age;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n}\r\n```\r\n\r\n**Repository interfce:**\r\n\r\n```\r\npublic interface PersonRepository extends PanacheRepository&lt;PersonEntity&gt; {\r\n}\r\n```\r\n\r\n**Resource Class**\r\n\r\n```\r\n@ApplicationScoped\r\n@Path(&quot;/persons&quot;)\r\npublic class PersonResource {\r\n\r\n    @Inject\r\n    PersonRepository repository;\r\n\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public List&lt;PersonEntity&gt; list() {\r\n        return repository.listAll();\r\n    }\r\n\r\n    @POST\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    public void add(PersonEntity person) {\r\n        repository.persist(person);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI am trying to run my application and connect to the Postgres DB I am running locally on port 5432.\r\n\r\nThe application should be able to connect to the DB and create **persons** table and I would be able to hit the APIs configured. But getting the above error, which I am not able to resolve.","title":"Getting javax.enterprise.inject.UnsatisfiedResolutionException when running a Quarkus microservice (Java based) having postgres DB integration","body":"<p>I am new to the Quarkus framework and I am stuck with the below error. Any suggestion would be very helpful on where is the issue.</p>\n<p><strong>Error:</strong>\n<code>[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type org.abhishek.dao.PersonRepository and qualifiers [@Default] - java member: org.abhishek.resource.PersonResource#repository - declared on CLASS bean [types=[org.abhishek.resource.PersonResource, java.lang.Object], qualifiers=[@Default, @Any], target=org.abhishek.resource.PersonResource]</code></p>\n<p><strong>Entity Class:</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;persons&quot;)\npublic class PersonEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;age&quot;)\n    private int age;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n}\n</code></pre>\n<p><strong>Repository interfce:</strong></p>\n<pre><code>public interface PersonRepository extends PanacheRepository&lt;PersonEntity&gt; {\n}\n</code></pre>\n<p><strong>Resource Class</strong></p>\n<pre><code>@ApplicationScoped\n@Path(&quot;/persons&quot;)\npublic class PersonResource {\n\n    @Inject\n    PersonRepository repository;\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public List&lt;PersonEntity&gt; list() {\n        return repository.listAll();\n    }\n\n    @POST\n    @Consumes(MediaType.APPLICATION_JSON)\n    public void add(PersonEntity person) {\n        repository.persist(person);\n    }\n}\n</code></pre>\n<p>I am trying to run my application and connect to the Postgres DB I am running locally on port 5432.</p>\n<p>The application should be able to connect to the DB and create <strong>persons</strong> table and I would be able to hit the APIs configured. But getting the above error, which I am not able to resolve.</p>\n"},{"tags":["java","android","kotlin","android-sensors"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1680571815,"post_id":75924418,"comment_id":133917331,"body_markdown":"Are you aware of the [Restrictions of starting activities from the background](https://developer.android.com/guide/components/activities/background-starts)?","body":"Are you aware of the <a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"nofollow noreferrer\">Restrictions of starting activities from the background</a>?"},{"owner":{"account_id":5441953,"reputation":683,"user_id":4329781,"accept_rate":57,"display_name":"StuartDTO"},"score":0,"creation_date":1680593481,"post_id":75924418,"comment_id":133920143,"body_markdown":"@ianhanniballake yes I did, sorry I updated my question I forgot to mention something, take a look please","body":"@ianhanniballake yes I did, sorry I updated my question I forgot to mention something, take a look please"}],"owner":{"account_id":5441953,"reputation":683,"user_id":4329781,"accept_rate":57,"display_name":"StuartDTO"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680593457,"creation_date":1680564407,"question_id":75924418,"body_markdown":"I&#39;m trying to start an Activity from a background service when a condition is meet, I&#39;m checking the logs and it does work because the condition is working, the problem is that the Activity is not launch.\r\n\r\nI&#39;m launching the `Activity` as follows\r\n\r\n```\r\nval intent = Intent(this@MyService.applicationContext, Activity2::class.java).apply {\r\n                    flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_ACTIVITY_CLEAR_TOP\r\n                }\r\n                val pendingIntent = PendingIntent.getActivity(this, 0, intent, 0)\r\n                try {\r\n                    pendingIntent.send()\r\n                } catch (e: CanceledException) {\r\n                    e.printStackTrace()\r\n                }\r\n```\r\n\r\nThe thing is if I meet the condition just before the service starts it works, but if I go to another app and start using it, the activity doesn&#39;t get launch.\r\n\r\nLooking to the [background-starts documentation](https://developer.android.com/guide/components/activities/background-starts) I&#39;ve opted to do the `SYSTEM_ALERT_WINDOW` option where I ask for permissions \r\n\r\n```\r\nprivate fun checkDrawOverlayPermission() {\r\n        if (!Settings.canDrawOverlays(this)) {\r\n            val intent = Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION, Uri.parse(&quot;package:$packageName&quot;))\r\n            startActivityForResult(intent, OVERLAY_PERMISSION_REQUEST_CODE)\r\n        }\r\n    }\r\n```\r\n\r\nThen on my `Service` it overlays and create a button so when I click it starts the activity but the problem it only happens when the power is connected, otherwise looks like Android kills the Service and can not launch the Activity because of Battery Optimization is there any way where I can whitelist this app to don&#39;t kill services for a X period of time?","title":"Trying to start Activity with PendingIntent from Service and doesn&#39;t show up","body":"<p>I'm trying to start an Activity from a background service when a condition is meet, I'm checking the logs and it does work because the condition is working, the problem is that the Activity is not launch.</p>\n<p>I'm launching the <code>Activity</code> as follows</p>\n<pre><code>val intent = Intent(this@MyService.applicationContext, Activity2::class.java).apply {\n                    flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_ACTIVITY_CLEAR_TOP\n                }\n                val pendingIntent = PendingIntent.getActivity(this, 0, intent, 0)\n                try {\n                    pendingIntent.send()\n                } catch (e: CanceledException) {\n                    e.printStackTrace()\n                }\n</code></pre>\n<p>The thing is if I meet the condition just before the service starts it works, but if I go to another app and start using it, the activity doesn't get launch.</p>\n<p>Looking to the <a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"nofollow noreferrer\">background-starts documentation</a> I've opted to do the <code>SYSTEM_ALERT_WINDOW</code> option where I ask for permissions</p>\n<pre><code>private fun checkDrawOverlayPermission() {\n        if (!Settings.canDrawOverlays(this)) {\n            val intent = Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION, Uri.parse(&quot;package:$packageName&quot;))\n            startActivityForResult(intent, OVERLAY_PERMISSION_REQUEST_CODE)\n        }\n    }\n</code></pre>\n<p>Then on my <code>Service</code> it overlays and create a button so when I click it starts the activity but the problem it only happens when the power is connected, otherwise looks like Android kills the Service and can not launch the Activity because of Battery Optimization is there any way where I can whitelist this app to don't kill services for a X period of time?</p>\n"},{"tags":["java","spring","classloader","executable-jar"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":1,"creation_date":1680431443,"post_id":75911406,"comment_id":133894356,"body_markdown":"what java command you use to run it? Have you specify the classpath? I think you should specify it","body":"what java command you use to run it? Have you specify the classpath? I think you should specify it"},{"owner":{"account_id":8038482,"reputation":37,"user_id":6060897,"display_name":"ibrahim "},"score":0,"creation_date":1680592408,"post_id":75911406,"comment_id":133919882,"body_markdown":"Yes, I have specified the classpath, but nothing happens .","body":"Yes, I have specified the classpath, but nothing happens ."}],"answers":[{"tags":[],"owner":{"account_id":8038482,"reputation":37,"user_id":6060897,"display_name":"ibrahim "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680593253,"creation_date":1680593253,"answer_id":75926590,"question_id":75911406,"body_markdown":"Since the code works very well in eclipse, but it fails with java command as .jar file. I have changed some configuration during the export process (export as runnable jar) and it works for me:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7X6Rq.png\r\n\r\nSo, Both the first and the last options in &quot;**Library handling:**&quot; work, except the second one, this the only change that makes difference.\r\n","title":"Reading resources from eclipse and a runable jar","body":"<p>Since the code works very well in eclipse, but it fails with java command as .jar file. I have changed some configuration during the export process (export as runnable jar) and it works for me:\n<a href=\"https://i.stack.imgur.com/7X6Rq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7X6Rq.png\" alt=\"enter image description here\" /></a></p>\n<p>So, Both the first and the last options in &quot;<strong>Library handling:</strong>&quot; work, except the second one, this the only change that makes difference.</p>\n"}],"owner":{"account_id":8038482,"reputation":37,"user_id":6060897,"display_name":"ibrahim "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680593253,"creation_date":1680430631,"question_id":75911406,"body_markdown":"I&#39;m trying to read files in a directory from the runnable jar, but the follwing code works only in eclipse, however, it doesnt work in the running jar using java command \r\n\r\n``` package cc.ff.rr;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.net.URISyntaxException;\r\nimport org.springframework.core.io.ClassPathResource;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.core.io.support.PathMatchingResourcePatternResolver;\r\nimport org.springframework.core.io.support.ResourcePatternResolver;\r\npublic class mmm {\r\n\t\r\npublic static void main(String[] args) throws IOException, URISyntaxException {\r\n\t\tmmm mmm1=new mmm();\r\n\t\tClassLoader classLoader = mmm1.getClass().getClassLoader();\r\n\t\t String locationPattern = &quot;classpath*:/cc/ff/rr/tttt**&quot;;  // tttt is a resource folder contains 2 files nn.txt ,ss.txt \r\n\t\t ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver( );\r\n\t\t //Resource[] resources = resolver.getResources(locationPattern);\r\n\t\t Resource[] resources = resolver.getResources(locationPattern);  ======&gt; \r\n\t\t System.out.println(&quot;Number of files &quot;+resources.length);\r\n\t\t for (Resource resource : resources) {\r\n\t\tSystem.out.println(&quot;file :&quot;+resource.getFilename());\r\n\t\t\t \r\n}```\r\n\r\nin java commande line i&#39;m getting the follwing error  \r\n\r\n&#39;&#39;&#39;\r\njava.io.FileNotFoundException: URL [rsrc:cc/ff/rr/] cannot be resolved to absolute file path because it does not reside in the file system: rsrc:cc/ff/rr/\r\n        at org.springframework.util.ResourceUtils.getFile(ResourceUtils.java:204)\r\n        at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:52)\r\n        at org.springframework.core.io.UrlResource.getFile(UrlResource.java:168)\r\n        at org.springframework.core.io.support.PathMatchingResourcePatternResolver.doFindPathMatchingFileResources(PathMatchingResourcePatternResolver.java:528)\r\n        at org.springframework.core.io.support.PathMatchingResourcePatternResolver.findPathMatchingResources(PathMatchingResourcePatternResolver.java:349)\r\n        at org.springframework.core.io.support.PathMatchingResourcePatternResolver.getResources(PathMatchingResourcePatternResolver.java:267)\r\n        at cc.ff.rr.mmm.main(mmm.java:36)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:61)&#39;&#39;&#39;\r\n\r\nPlease, what is the issue with the code?","title":"Reading resources from eclipse and a runable jar","body":"<p>I'm trying to read files in a directory from the runnable jar, but the follwing code works only in eclipse, however, it doesnt work in the running jar using java command</p>\n<pre><code>\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.URISyntaxException;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.support.PathMatchingResourcePatternResolver;\nimport org.springframework.core.io.support.ResourcePatternResolver;\npublic class mmm {\n    \npublic static void main(String[] args) throws IOException, URISyntaxException {\n        mmm mmm1=new mmm();\n        ClassLoader classLoader = mmm1.getClass().getClassLoader();\n         String locationPattern = &quot;classpath*:/cc/ff/rr/tttt**&quot;;  // tttt is a resource folder contains 2 files nn.txt ,ss.txt \n         ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver( );\n         //Resource[] resources = resolver.getResources(locationPattern);\n         Resource[] resources = resolver.getResources(locationPattern);  ======&gt; \n         System.out.println(&quot;Number of files &quot;+resources.length);\n         for (Resource resource : resources) {\n        System.out.println(&quot;file :&quot;+resource.getFilename());\n             \n}```\n\nin java commande line i'm getting the follwing error  \n\n'''\njava.io.FileNotFoundException: URL [rsrc:cc/ff/rr/] cannot be resolved to absolute file path because it does not reside in the file system: rsrc:cc/ff/rr/\n        at org.springframework.util.ResourceUtils.getFile(ResourceUtils.java:204)\n        at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:52)\n        at org.springframework.core.io.UrlResource.getFile(UrlResource.java:168)\n        at org.springframework.core.io.support.PathMatchingResourcePatternResolver.doFindPathMatchingFileResources(PathMatchingResourcePatternResolver.java:528)\n        at org.springframework.core.io.support.PathMatchingResourcePatternResolver.findPathMatchingResources(PathMatchingResourcePatternResolver.java:349)\n        at org.springframework.core.io.support.PathMatchingResourcePatternResolver.getResources(PathMatchingResourcePatternResolver.java:267)\n        at cc.ff.rr.mmm.main(mmm.java:36)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:61)'''\n\nPlease, what is the issue with the code?\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1680592892,"post_id":75925182,"comment_id":133919993,"body_markdown":"https://www.geeksforgeeks.org/pollard-p-1-algorithm/","body":"<a href=\"https://www.geeksforgeeks.org/pollard-p-1-algorithm/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/pollard-p-1-algorithm</a>"},{"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"score":0,"creation_date":1680594855,"post_id":75925182,"comment_id":133920432,"body_markdown":"Can you provide the numbers that work, and the ones that dont? Also, be carefull with the intValue function, it only returns the lowest 32 bits and loses information for integers larger than 32 bits","body":"Can you provide the numbers that work, and the ones that dont? Also, be carefull with the intValue function, it only returns the lowest 32 bits and loses information for integers larger than 32 bits"}],"owner":{"account_id":28208245,"reputation":1,"user_id":21560948,"display_name":"adam123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680593222,"creation_date":1680577002,"question_id":75925182,"body_markdown":"I have a program for [Pollard&#39;s *p*  1 algorithm][1] but it only factors some numbers and gets stuck on others. (I think it gets stuck when both factors are large primes.) Any ideas to fix it?\r\n\r\n    import java.math.BigInteger;\r\n    import java.util.Scanner;\r\n\r\n    public class Pollard {\r\n\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.println(&quot;Enter an N to factor: &quot;);\r\n            BigInteger N  = input.nextBigInteger();\r\n            BigInteger a = new BigInteger(&quot;2&quot;);\r\n            BigInteger one = new BigInteger(&quot;1&quot;);\r\n            for (int i = 2; i &lt; N.intValue(); i++) {\r\n                BigInteger aToTheIModN  = a.pow(i).mod(N);\r\n                BigInteger temp = aToTheIModN.subtract(BigInteger.ONE).gcd(N);\r\n                // if gcd(a^i Mod N, N) is greater than 1 then temp is a factor of N\r\n                if (temp.intValue() &gt; one.intValue()) {\r\n                    BigInteger otherFactor = N.divide(temp);\r\n                    System.out.println(&quot;The factors of N are: &quot; + temp + &quot; and &quot; + otherFactor);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Pollard%27s_p_%E2%88%92_1_algorithm","title":"Program for Pollard&#39;s p-1 algorithm not working properly","body":"<p>I have a program for <a href=\"https://en.wikipedia.org/wiki/Pollard%27s_p_%E2%88%92_1_algorithm\" rel=\"nofollow noreferrer\">Pollard's <em>p</em>  1 algorithm</a> but it only factors some numbers and gets stuck on others. (I think it gets stuck when both factors are large primes.) Any ideas to fix it?</p>\n<pre><code>import java.math.BigInteger;\nimport java.util.Scanner;\n\npublic class Pollard {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Enter an N to factor: &quot;);\n        BigInteger N  = input.nextBigInteger();\n        BigInteger a = new BigInteger(&quot;2&quot;);\n        BigInteger one = new BigInteger(&quot;1&quot;);\n        for (int i = 2; i &lt; N.intValue(); i++) {\n            BigInteger aToTheIModN  = a.pow(i).mod(N);\n            BigInteger temp = aToTheIModN.subtract(BigInteger.ONE).gcd(N);\n            // if gcd(a^i Mod N, N) is greater than 1 then temp is a factor of N\n            if (temp.intValue() &gt; one.intValue()) {\n                BigInteger otherFactor = N.divide(temp);\n                System.out.println(&quot;The factors of N are: &quot; + temp + &quot; and &quot; + otherFactor);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","json","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":9941523,"reputation":1018,"user_id":7357959,"display_name":"Tsvetoslav Tsvetkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680275592,"creation_date":1680275592,"answer_id":75900113,"question_id":75899970,"body_markdown":"You can&#39;t do anything on the Server side but you can define in your model the fields you want to deal with and set on Class level following annotation(to ignore the rest of the fields )\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n","title":"Configure Spring Boot to receive only required JSON data","body":"<p>You can't do anything on the Server side but you can define in your model the fields you want to deal with and set on Class level following annotation(to ignore the rest of the fields )</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n"}],"owner":{"account_id":27723956,"reputation":39,"user_id":21163933,"display_name":"User69"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75900113,"answer_count":1,"score":0,"last_activity_date":1680592770,"creation_date":1680274645,"question_id":75899970,"body_markdown":"When you connect to an api and receive an object as an answer. What I used to do is create  a pojo that matches the object, and than let de data be filled in. Sometimes the api provides hundreds of fields that I don&#39;t need, and I have to create giant pojos, with subpojos etc.. Apparently you can set up Spring Boot so that you only need to receive the part you want want. But I cannot seem to figure out how, nor can I find a tutorial somewhere where it is explained. \r\n\r\nHow can I set up Spring Boot so I can receive the JSON data from an api, but only the attributes I need, not the entire object? \r\n\r\nI don&#39;t want to have to make an entire pojo like this:\r\n\r\n```\r\nclass Receive {\r\n  attribute 1;\r\n  attribute 2;\r\n  attribute 3;\r\n  attribute 4;\r\n  attribute 5;\r\n  attribute 6;\r\n//and so forth\r\n}\r\n\r\n```\r\n\r\nbut set it up so I only have to make what I need to receive, for example:\r\n\r\n```\r\nclass Receive {\r\n  attribute 4;\r\n  attribute 10;\r\n}\r\n\r\n```","title":"Configure Spring Boot to receive only required JSON data","body":"<p>When you connect to an api and receive an object as an answer. What I used to do is create  a pojo that matches the object, and than let de data be filled in. Sometimes the api provides hundreds of fields that I don't need, and I have to create giant pojos, with subpojos etc.. Apparently you can set up Spring Boot so that you only need to receive the part you want want. But I cannot seem to figure out how, nor can I find a tutorial somewhere where it is explained.</p>\n<p>How can I set up Spring Boot so I can receive the JSON data from an api, but only the attributes I need, not the entire object?</p>\n<p>I don't want to have to make an entire pojo like this:</p>\n<pre><code>class Receive {\n  attribute 1;\n  attribute 2;\n  attribute 3;\n  attribute 4;\n  attribute 5;\n  attribute 6;\n//and so forth\n}\n\n</code></pre>\n<p>but set it up so I only have to make what I need to receive, for example:</p>\n<pre><code>class Receive {\n  attribute 4;\n  attribute 10;\n}\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4433290,"reputation":688,"user_id":3609883,"display_name":"Crammeur"},"score":0,"creation_date":1533578914,"post_id":51713332,"comment_id":90388080,"body_markdown":"I think is because they have the same `id` `@+id/my_toolbar`. try to change one them","body":"I think is because they have the same <code>id</code> <code>@+id&#47;my_toolbar</code>. try to change one them"},{"owner":{"account_id":4284879,"reputation":2858,"user_id":3503023,"display_name":"Krishna Sharma"},"score":0,"creation_date":1533580129,"post_id":51713332,"comment_id":90388630,"body_markdown":"I don&#39;t think so defining id two places may cause this issue. @Maicake can you please share the full log.","body":"I don&#39;t think so defining id two places may cause this issue. @Maicake can you please share the full log."}],"answers":[{"tags":[],"owner":{"account_id":1722904,"reputation":1631,"user_id":1578222,"display_name":"CodeSmith"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1533579005,"creation_date":1533579005,"answer_id":51713391,"question_id":51713332,"body_markdown":"\r\n`&lt;include android:id=&quot;@+id/my_toolbar&quot; layout=&quot;@layout/my_toolbar&quot;/&gt;`\r\n\r\nRemove the id field here, it&#39;s defined again in the my_toolbar layout.","title":"Toolbar findViewById return null pointer","body":"<p><code>&lt;include android:id=\"@+id/my_toolbar\" layout=\"@layout/my_toolbar\"/&gt;</code></p>\n\n<p>Remove the id field here, it's defined again in the my_toolbar layout.</p>\n"},{"tags":[],"owner":{"account_id":13859796,"reputation":10065,"user_id":10005707,"display_name":"Jaswant Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533582143,"creation_date":1533579191,"answer_id":51713429,"question_id":51713332,"body_markdown":"In your activity_maps.xml \r\ninstead of writing this \r\n\r\n     &lt;include\r\n        android:id=&quot;@+id/my_toolbar&quot;\r\n        layout=&quot;@layout/my_toolbar&quot;/&gt;\r\n\r\nWrite this\r\n\r\n    &lt;include\r\n        layout=&quot;@layout/my_toolbar&quot;/&gt;\r\n\r\nor provide any other id but not this one in your include tag\r\n\r\n    android:id=&quot;@+id/my_toolbar&quot;","title":"Toolbar findViewById return null pointer","body":"<p>In your activity_maps.xml \ninstead of writing this </p>\n\n<pre><code> &lt;include\n    android:id=\"@+id/my_toolbar\"\n    layout=\"@layout/my_toolbar\"/&gt;\n</code></pre>\n\n<p>Write this</p>\n\n<pre><code>&lt;include\n    layout=\"@layout/my_toolbar\"/&gt;\n</code></pre>\n\n<p>or provide any other id but not this one in your include tag</p>\n\n<pre><code>android:id=\"@+id/my_toolbar\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6786761,"reputation":2068,"user_id":5225247,"accept_rate":46,"display_name":"Aalap Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680533859,"creation_date":1533581222,"answer_id":51713886,"question_id":51713332,"body_markdown":"Extract layout as a view in your `MapsActivity` and then form that view get toolbar like this.\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_maps);\r\n            // Get fused location client\r\n            mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\r\n\r\n            //get that view of &lt;include&gt; tag\r\n            //I suggest change the name to something else, same name for include and toolbar will be difficult to understand and read.\r\n            View includeLayout = findViewById(R.id.my_toolbar) //id of include\r\n\r\n            //from that includeToolbar you can get toolbar with the Id.            \r\n            Toolbar myToolbar = (Toolbar) includeLayout.findViewById(R.id.my_toolbar);\r\n            myToolbar.setTitle(&quot;my title&quot;);\r\n\r\n\r\n            setSupportActionBar(myToolbar);\r\n            // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n            SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                    .findFragmentById(R.id.map);\r\n            mapFragment.getMapAsync(this);\r\n        }","title":"Toolbar findViewById return null pointer","body":"<p>Extract layout as a view in your <code>MapsActivity</code> and then form that view get toolbar like this.</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        // Get fused location client\n        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\n\n        //get that view of &lt;include&gt; tag\n        //I suggest change the name to something else, same name for include and toolbar will be difficult to understand and read.\n        View includeLayout = findViewById(R.id.my_toolbar) //id of include\n\n        //from that includeToolbar you can get toolbar with the Id.            \n        Toolbar myToolbar = (Toolbar) includeLayout.findViewById(R.id.my_toolbar);\n        myToolbar.setTitle(&quot;my title&quot;);\n\n\n        setSupportActionBar(myToolbar);\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n    }\n</code></pre>\n"}],"owner":{"account_id":14103152,"reputation":1056,"user_id":10187988,"display_name":"Maicake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1018,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51713391,"answer_count":3,"score":2,"last_activity_date":1680592274,"creation_date":1533578780,"question_id":51713332,"body_markdown":"I&#39;ve already read links about this problem.\r\nMain solutions were:\r\n\r\n- disable default action bar. I did....\r\n- put findViewById after setContent. I did...\r\n- include the layout in the main activity layout.xml file. I did..\r\n\r\nbut still getting null pointer back. I&#39;m getting crazy because also I can&#39;t see the toolbar in the preview.\r\n\r\n\r\n**styles.xml**\r\n\r\nNo action bar set.\r\n    &lt;resources&gt;\r\n    \r\n        &lt;!-- Base application theme. --&gt;\r\n        &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n            &lt;!-- Customize your theme here. --&gt;\r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n            &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n    &lt;/resources&gt;\r\n\r\n**my_toolbar.xml**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.v7.widget.Toolbar\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/my_toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/colorPrimary&quot;\r\n        android:theme=&quot;@style/Theme.AppCompat.DayNight.DarkActionBar&quot;&gt;\r\n    \r\n    &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\n\r\n**activity_maps.xml**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;include\r\n            android:id=&quot;@+id/my_toolbar&quot;\r\n            layout=&quot;@layout/my_toolbar&quot;/&gt;\r\n    \r\n    \r\n        &lt;!-- Add Google Maps Fragment to the MainActivity --&gt;\r\n        &lt;fragment xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:id=&quot;@+id/map&quot;\r\n            android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_below=&quot;@id/my_toolbar&quot;\r\n            tools:context=&quot;.MapsActivity&quot; /&gt;\r\n            &lt;!--android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;--&gt;\r\n    \r\n    \r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/btClear&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:text=&quot;@string/send_screenshot&quot; /&gt;\r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n**MapsActivity.java**\r\n\r\n....  \r\n\r\n    @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_maps);\r\n                // Get fused location client\r\n                mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\r\n                Toolbar myToolbar = (Toolbar) findViewById(R.id.my_toolbar);\r\n                myToolbar.setTitle(&quot;my title&quot;);\r\n                setSupportActionBar(myToolbar);\r\n                // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n                SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                        .findFragmentById(R.id.map);\r\n                mapFragment.getMapAsync(this);\r\n            }\r\n\r\n....\r\n","title":"Toolbar findViewById return null pointer","body":"<p>I've already read links about this problem.\nMain solutions were:</p>\n<ul>\n<li>disable default action bar. I did....</li>\n<li>put findViewById after setContent. I did...</li>\n<li>include the layout in the main activity layout.xml file. I did..</li>\n</ul>\n<p>but still getting null pointer back. I'm getting crazy because also I can't see the toolbar in the preview.</p>\n<p><strong>styles.xml</strong></p>\n<p>No action bar set.\n</p>\n<pre><code>    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n<p><strong>my_toolbar.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.v7.widget.Toolbar\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/my_toolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@color/colorPrimary&quot;\n    android:theme=&quot;@style/Theme.AppCompat.DayNight.DarkActionBar&quot;&gt;\n\n&lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n<p><strong>activity_maps.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;include\n        android:id=&quot;@+id/my_toolbar&quot;\n        layout=&quot;@layout/my_toolbar&quot;/&gt;\n\n\n    &lt;!-- Add Google Maps Fragment to the MainActivity --&gt;\n    &lt;fragment xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:id=&quot;@+id/map&quot;\n        android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_below=&quot;@id/my_toolbar&quot;\n        tools:context=&quot;.MapsActivity&quot; /&gt;\n        &lt;!--android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;--&gt;\n\n\n\n    &lt;Button\n        android:id=&quot;@+id/btClear&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:text=&quot;@string/send_screenshot&quot; /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><strong>MapsActivity.java</strong></p>\n<p>....</p>\n<pre><code>@Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_maps);\n            // Get fused location client\n            mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\n            Toolbar myToolbar = (Toolbar) findViewById(R.id.my_toolbar);\n            myToolbar.setTitle(&quot;my title&quot;);\n            setSupportActionBar(myToolbar);\n            // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n            SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                    .findFragmentById(R.id.map);\n            mapFragment.getMapAsync(this);\n        }\n</code></pre>\n<p>....</p>\n"},{"tags":["java","swift"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680592170,"creation_date":1680592170,"answer_id":75926440,"question_id":75925219,"body_markdown":"**It&#39;s binary (aka bits).** Ciphertext, and other crypto-related data like signature, tag, nonce, or salt, is binary data made up only of bits, not characters. Java&#39;s `String` only works on characters, so reading your binary file into a `String` and then trying to `getBytes` on it gives partly wrong data, and modern cryptography only works with completely right data.\r\n\r\nYou need to read the file _as bytes_, AND you need to read both the nonce and the ciphertext+tag (which Java crypto treats as a single unit) from the file. There are at least several ways to do this:\r\n\r\n1. probably most straightforward, open the file as a stream (the older I/O type not the java8 type) and `read` each piece. You need to allocate buffers with the correct size, which isn&#39;t hard.\r\n\r\n2. read the whole file as bytes then copy the pieces from the byte array.\r\n\r\n3. read the whole file as bytes, put the contents in a `ByteBuffer` and `get` each piece; again you need to allocate the correct size.\r\n\r\n4. read the whole file as bytes, then pass parts of that array to the crypto routines\r\n\r\nThe following code shows the four possibilities, except I put #4 first because it makes the code structure a bit simpler:\r\n\r\n\t\tCipher c = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n\t\tbyte[] key = &quot;my-xxx-bit-secret-my-secret-my-s&quot;.getBytes(), nonce, ct_tag;\r\n\t\tFile f = new File (args[0]);\r\n\t\tif( args.length == 1 ){ // omit entirely to indicate #4\r\n\t\t\tbyte[] all = Files.readAllBytes(f.toPath());\r\n\t\t\tc.init(Cipher.DECRYPT_MODE, new SecretKeySpec(key,&quot;AES&quot;), new GCMParameterSpec(128,all,0,12));\r\n\t\t\tbyte[] dec = c.doFinal(all,12,all.length-12);\r\n\t\t\tSystem.out.write(dec); System.exit(0);\r\n\t\t}\r\n\t\tif( args[1].equals(&quot;1&quot;) ){\r\n\t\t\tnonce = new byte[12]; ct_tag = new byte[(int)f.length()-12];\r\n\t\t\ttry(InputStream is = new FileInputStream (f) ){ is.read(nonce); is.read(ct_tag); }\r\n\t\t}else if( args[1].equals(&quot;2&quot;) ){\r\n\t\t\tbyte[] all = Files.readAllBytes(f.toPath());\r\n\t\t\tnonce = Arrays.copyOf(all, 12); ct_tag = Arrays.copyOfRange(all, 12, all.length);\r\n\t\t}else if( args[1].equals(&quot;3&quot;) ){\r\n\t\t\tbyte[] all = Files.readAllBytes(f.toPath());\r\n\t\t\tnonce = new byte[12]; ct_tag = new byte[all.length-12];\r\n\t\t\tByteBuffer.wrap(all).get(nonce).get(ct_tag);\r\n\t\t}else throw new Exception (&quot;bad second arg&quot;);\r\n\t\tc.init(Cipher.DECRYPT_MODE, new SecretKeySpec(key,&quot;AES&quot;), new GCMParameterSpec(128, nonce));\r\n\t\tbyte[] dec = c.doFinal(ct_tag);\r\n\t\tSystem.out.write(dec);\r\n","title":"Swift AES GCM encryptor and Java decryption - File issues","body":"<p><strong>It's binary (aka bits).</strong> Ciphertext, and other crypto-related data like signature, tag, nonce, or salt, is binary data made up only of bits, not characters. Java's <code>String</code> only works on characters, so reading your binary file into a <code>String</code> and then trying to <code>getBytes</code> on it gives partly wrong data, and modern cryptography only works with completely right data.</p>\n<p>You need to read the file <em>as bytes</em>, AND you need to read both the nonce and the ciphertext+tag (which Java crypto treats as a single unit) from the file. There are at least several ways to do this:</p>\n<ol>\n<li><p>probably most straightforward, open the file as a stream (the older I/O type not the java8 type) and <code>read</code> each piece. You need to allocate buffers with the correct size, which isn't hard.</p>\n</li>\n<li><p>read the whole file as bytes then copy the pieces from the byte array.</p>\n</li>\n<li><p>read the whole file as bytes, put the contents in a <code>ByteBuffer</code> and <code>get</code> each piece; again you need to allocate the correct size.</p>\n</li>\n<li><p>read the whole file as bytes, then pass parts of that array to the crypto routines</p>\n</li>\n</ol>\n<p>The following code shows the four possibilities, except I put #4 first because it makes the code structure a bit simpler:</p>\n<pre><code>    Cipher c = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n    byte[] key = &quot;my-xxx-bit-secret-my-secret-my-s&quot;.getBytes(), nonce, ct_tag;\n    File f = new File (args[0]);\n    if( args.length == 1 ){ // omit entirely to indicate #4\n        byte[] all = Files.readAllBytes(f.toPath());\n        c.init(Cipher.DECRYPT_MODE, new SecretKeySpec(key,&quot;AES&quot;), new GCMParameterSpec(128,all,0,12));\n        byte[] dec = c.doFinal(all,12,all.length-12);\n        System.out.write(dec); System.exit(0);\n    }\n    if( args[1].equals(&quot;1&quot;) ){\n        nonce = new byte[12]; ct_tag = new byte[(int)f.length()-12];\n        try(InputStream is = new FileInputStream (f) ){ is.read(nonce); is.read(ct_tag); }\n    }else if( args[1].equals(&quot;2&quot;) ){\n        byte[] all = Files.readAllBytes(f.toPath());\n        nonce = Arrays.copyOf(all, 12); ct_tag = Arrays.copyOfRange(all, 12, all.length);\n    }else if( args[1].equals(&quot;3&quot;) ){\n        byte[] all = Files.readAllBytes(f.toPath());\n        nonce = new byte[12]; ct_tag = new byte[all.length-12];\n        ByteBuffer.wrap(all).get(nonce).get(ct_tag);\n    }else throw new Exception (&quot;bad second arg&quot;);\n    c.init(Cipher.DECRYPT_MODE, new SecretKeySpec(key,&quot;AES&quot;), new GCMParameterSpec(128, nonce));\n    byte[] dec = c.doFinal(ct_tag);\n    System.out.write(dec);\n</code></pre>\n"}],"owner":{"account_id":11019580,"reputation":217,"user_id":8094329,"display_name":"nirav dinmali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75926440,"answer_count":1,"score":-1,"last_activity_date":1680592170,"creation_date":1680577644,"question_id":75925219,"body_markdown":"I need to encrypt with swift and decrypt with java around 1000 files in a directory.\r\n\r\n------\r\n\r\nI tested a prototype with a string and it works thanks to answer from https://stackoverflow.com/users/1831987/vgr at\r\nhttps://stackoverflow.com/questions/75918859/swift-aes-gcm-encryptor-and-java-decryption-padding-issues\r\n\r\n-------\r\n\r\nBut when I place that string in a file, it does not work. It works if I print cipher text and tag during encryption and use them separately to decrypt in java, but that&#39;s not how it can be done in real world. The file content which is cipher text+nonce+tag, must be decrypted as a whole. \r\n\r\n-------\r\n\r\nWhat am I doing wrong here please?\r\n\r\n----------\r\n\r\n\r\nSWIFT ENCRYPTOR\r\n\r\n    static func encryptDecryptSingleTestFile() {\r\n            \r\n            do {\r\n                //encrypt\r\n                let data = try Data(contentsOf: URL(fileURLWithPath: filePath1))\r\n                print(&quot;data in original file \\(String(decoding: data, as: UTF8.self))&quot;)\r\n                let sealedBox = try! AES.GCM.seal(data, using: symKey, nonce: nonce)\r\n                let ciphertext = sealedBox.ciphertext.base64EncodedString()\r\n                print(&quot;ciphertext of sealedbox in file: \\(ciphertext)&quot;)\r\n                let tag = sealedBox.tag\r\n                print(&quot;tag of sealedbox in file: \\(tag.base64EncodedString())&quot;)\r\n                try sealedBox.combined!.write(to: URL(fileURLWithPath: filePath2))\r\n    \r\n                \r\n                //DECRYPT - just for testing, actual decrypting will happen in java code\r\n                let data2 = try Data(contentsOf: URL(fileURLWithPath: filePath2))\r\n                print(&quot;data in encrypted file \\(String(decoding: data2, as: UTF8.self))&quot;)\r\n                let sealedBox2 = try AES.GCM.SealedBox(combined: data2)\r\n                let decryptedData = try AES.GCM.open(sealedBox2, using: symKey)\r\n                try decryptedData.write(to: URL(fileURLWithPath: filePath3))\r\n                let ciphertext2 = sealedBox2.ciphertext.base64EncodedString()\r\n                let dataInDecryptedFile = try Data(contentsOf: URL(fileURLWithPath: filePath3))\r\n                print(&quot;data in decrypted file \\(String(decoding: dataInDecryptedFile, as: UTF8.self))&quot;)\r\n    \r\n                \r\n            } catch {\r\n                print(error)\r\n            }\r\n        }\r\n\r\n-------\r\nOUTPUT\r\n\r\n    data in original file: abc\r\n    ciphertext of sealedbox in file: UoRsEQ==\r\n    tag of sealedbox in file: KaryGdpX0t1KwXaDFXEnkw==\r\n    data in encrypted file: ~gR@Rl)WJvq&#39;\r\n    data in decrypted file: abc\r\n\r\n------\r\n\r\nJAVA DECRYPTOR\r\n\r\n \r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Base64;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.GCMParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    import org.apache.commons.io.FileUtils;\r\n    \r\n    public class FileDecryptro {\r\n        static String secret = &quot;my-xxx-bit-secret-my-secret-my-s&quot;;\r\n        static String nonce = &quot;fv1nixTVoYpSvpdA&quot;;\r\n        //below values are obtained from the swift encryptor class print statements\r\n        static String tag = &quot;KaryGdpX0t1KwXaDFXEnkw==&quot;;\r\n        static String cipherText = &quot;UoRsEQ==&quot;;\r\n    \r\n        public static void main(String args[]) throws Exception {\r\n          \r\n    \t//decrypt with cipher and tag - WORKS\r\n            String decriptedValue = decrypt(cipherText,tag);\r\n            System.out.println(&quot;output from cipher and tag:&quot; + decriptedValue);\r\n            \r\n            //decrypt from file content which has nonce,tag,ciphertext combined. - DOES NOT WORK\r\n            System.out.println(&quot;going to decrypt from file which has nonce, tag, ciphertext combined&quot;);\r\n    \r\n            String inputFileName = &quot;a_e.txt&quot;;\r\n            String inputFileContent = FileUtils.readFileToString(new File(inputFileName));///ciphertext and tag is included\r\n            System.out.println(&quot;inputFileContent:&quot;+inputFileContent);\r\n            String decriptedValue2 = decrypt(inputFileContent.getBytes());\r\n            System.out.println(&quot;output:&quot; + decriptedValue2);\r\n        \r\n            \r\n        }\r\n    \r\n        static String decrypt(byte[] ciphertextWithTagBytes) throws Exception {\r\n    \t\r\n               byte[] keyBytes = secret.getBytes(StandardCharsets.UTF_8);\r\n               byte[] nonceBytes = Base64.getDecoder().decode(nonce);\r\n               \r\n                  //decrypt\r\n               Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n               SecretKeySpec keySpec = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n               GCMParameterSpec gcmSpec = new GCMParameterSpec(128, nonceBytes);\r\n               cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmSpec);\r\n               byte[] plaintextBytes = cipher.doFinal(ciphertextWithTagBytes);\r\n               String plaintext = new String(plaintextBytes, StandardCharsets.UTF_8);\r\n               return plaintext;\r\n               \r\n        }\r\n    \r\n        static String decrypt(String cipherText, String tag) throws Exception {\r\n    \t\r\n    \t\r\n            byte[] keyBytes = secret.getBytes(StandardCharsets.UTF_8);\r\n            byte[] nonceBytes = Base64.getDecoder().decode(nonce);\r\n            \r\n            \r\n            //append tagBytes to cipherText\r\n            byte[] tagBytes = Base64.getDecoder().decode(tag);\r\n            Base64.Decoder decoder = Base64.getDecoder();\r\n            byte[] decodedCipherText = decoder.decode(cipherText);\r\n            byte[] decodedTag = decoder.decode(tag);\r\n            byte[] ciphertextBytes = new byte[decodedCipherText.length + decodedTag.length];\r\n            ByteBuffer.wrap(ciphertextBytes).put(decodedCipherText).put(decodedTag);\r\n            \r\n            //decrypt\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n            SecretKeySpec keySpec = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n            GCMParameterSpec gcmSpec = new GCMParameterSpec(128, nonceBytes);\r\n            cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmSpec);\r\n            byte[] plaintextBytes = cipher.doFinal(ciphertextBytes);\r\n            String plaintext = new String(plaintextBytes, StandardCharsets.UTF_8);\r\n            return plaintext;\r\n            \r\n        }\r\n        \r\n      \r\n     \r\n    }\r\n\r\n-------\r\n\r\nOUTPUT\r\n\r\n    output from cipher and tag:abc\r\n    \r\n    going to decrypt from file which has nonce, tag, ciphertext combined\r\n    inputFileContent:~gR@Rl)WJvq&#39;\r\n    Exception in thread &quot;main&quot; javax.crypto.AEADBadTagException: Tag mismatch!\r\n\r\n\r\n\r\n\r\n","title":"Swift AES GCM encryptor and Java decryption - File issues","body":"<p>I need to encrypt with swift and decrypt with java around 1000 files in a directory.</p>\n<hr />\n<p>I tested a prototype with a string and it works thanks to answer from <a href=\"https://stackoverflow.com/users/1831987/vgr\">https://stackoverflow.com/users/1831987/vgr</a> at\n<a href=\"https://stackoverflow.com/questions/75918859/swift-aes-gcm-encryptor-and-java-decryption-padding-issues\">Swift AES GCM encryptor and Java decryption - Padding issues</a></p>\n<hr />\n<p>But when I place that string in a file, it does not work. It works if I print cipher text and tag during encryption and use them separately to decrypt in java, but that's not how it can be done in real world. The file content which is cipher text+nonce+tag, must be decrypted as a whole.</p>\n<hr />\n<p>What am I doing wrong here please?</p>\n<hr />\n<p>SWIFT ENCRYPTOR</p>\n<pre><code>static func encryptDecryptSingleTestFile() {\n        \n        do {\n            //encrypt\n            let data = try Data(contentsOf: URL(fileURLWithPath: filePath1))\n            print(&quot;data in original file \\(String(decoding: data, as: UTF8.self))&quot;)\n            let sealedBox = try! AES.GCM.seal(data, using: symKey, nonce: nonce)\n            let ciphertext = sealedBox.ciphertext.base64EncodedString()\n            print(&quot;ciphertext of sealedbox in file: \\(ciphertext)&quot;)\n            let tag = sealedBox.tag\n            print(&quot;tag of sealedbox in file: \\(tag.base64EncodedString())&quot;)\n            try sealedBox.combined!.write(to: URL(fileURLWithPath: filePath2))\n\n            \n            //DECRYPT - just for testing, actual decrypting will happen in java code\n            let data2 = try Data(contentsOf: URL(fileURLWithPath: filePath2))\n            print(&quot;data in encrypted file \\(String(decoding: data2, as: UTF8.self))&quot;)\n            let sealedBox2 = try AES.GCM.SealedBox(combined: data2)\n            let decryptedData = try AES.GCM.open(sealedBox2, using: symKey)\n            try decryptedData.write(to: URL(fileURLWithPath: filePath3))\n            let ciphertext2 = sealedBox2.ciphertext.base64EncodedString()\n            let dataInDecryptedFile = try Data(contentsOf: URL(fileURLWithPath: filePath3))\n            print(&quot;data in decrypted file \\(String(decoding: dataInDecryptedFile, as: UTF8.self))&quot;)\n\n            \n        } catch {\n            print(error)\n        }\n    }\n</code></pre>\n<hr />\n<p>OUTPUT</p>\n<pre><code>data in original file: abc\nciphertext of sealedbox in file: UoRsEQ==\ntag of sealedbox in file: KaryGdpX0t1KwXaDFXEnkw==\ndata in encrypted file: ~gR@Rl)WJvq'\ndata in decrypted file: abc\n</code></pre>\n<hr />\n<p>JAVA DECRYPTOR</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.nio.ByteBuffer;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Base64;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\nimport org.apache.commons.io.FileUtils;\n\npublic class FileDecryptro {\n    static String secret = &quot;my-xxx-bit-secret-my-secret-my-s&quot;;\n    static String nonce = &quot;fv1nixTVoYpSvpdA&quot;;\n    //below values are obtained from the swift encryptor class print statements\n    static String tag = &quot;KaryGdpX0t1KwXaDFXEnkw==&quot;;\n    static String cipherText = &quot;UoRsEQ==&quot;;\n\n    public static void main(String args[]) throws Exception {\n      \n    //decrypt with cipher and tag - WORKS\n        String decriptedValue = decrypt(cipherText,tag);\n        System.out.println(&quot;output from cipher and tag:&quot; + decriptedValue);\n        \n        //decrypt from file content which has nonce,tag,ciphertext combined. - DOES NOT WORK\n        System.out.println(&quot;going to decrypt from file which has nonce, tag, ciphertext combined&quot;);\n\n        String inputFileName = &quot;a_e.txt&quot;;\n        String inputFileContent = FileUtils.readFileToString(new File(inputFileName));///ciphertext and tag is included\n        System.out.println(&quot;inputFileContent:&quot;+inputFileContent);\n        String decriptedValue2 = decrypt(inputFileContent.getBytes());\n        System.out.println(&quot;output:&quot; + decriptedValue2);\n    \n        \n    }\n\n    static String decrypt(byte[] ciphertextWithTagBytes) throws Exception {\n    \n           byte[] keyBytes = secret.getBytes(StandardCharsets.UTF_8);\n           byte[] nonceBytes = Base64.getDecoder().decode(nonce);\n           \n              //decrypt\n           Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n           SecretKeySpec keySpec = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n           GCMParameterSpec gcmSpec = new GCMParameterSpec(128, nonceBytes);\n           cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmSpec);\n           byte[] plaintextBytes = cipher.doFinal(ciphertextWithTagBytes);\n           String plaintext = new String(plaintextBytes, StandardCharsets.UTF_8);\n           return plaintext;\n           \n    }\n\n    static String decrypt(String cipherText, String tag) throws Exception {\n    \n    \n        byte[] keyBytes = secret.getBytes(StandardCharsets.UTF_8);\n        byte[] nonceBytes = Base64.getDecoder().decode(nonce);\n        \n        \n        //append tagBytes to cipherText\n        byte[] tagBytes = Base64.getDecoder().decode(tag);\n        Base64.Decoder decoder = Base64.getDecoder();\n        byte[] decodedCipherText = decoder.decode(cipherText);\n        byte[] decodedTag = decoder.decode(tag);\n        byte[] ciphertextBytes = new byte[decodedCipherText.length + decodedTag.length];\n        ByteBuffer.wrap(ciphertextBytes).put(decodedCipherText).put(decodedTag);\n        \n        //decrypt\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n        SecretKeySpec keySpec = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n        GCMParameterSpec gcmSpec = new GCMParameterSpec(128, nonceBytes);\n        cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmSpec);\n        byte[] plaintextBytes = cipher.doFinal(ciphertextBytes);\n        String plaintext = new String(plaintextBytes, StandardCharsets.UTF_8);\n        return plaintext;\n        \n    }\n    \n  \n \n}\n</code></pre>\n<hr />\n<p>OUTPUT</p>\n<pre><code>output from cipher and tag:abc\n\ngoing to decrypt from file which has nonce, tag, ciphertext combined\ninputFileContent:~gR@Rl)WJvq'\nException in thread &quot;main&quot; javax.crypto.AEADBadTagException: Tag mismatch!\n</code></pre>\n"},{"tags":["java","spring","spring-batch","sftp"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680591986,"creation_date":1680591986,"answer_id":75926423,"question_id":75922953,"body_markdown":"&gt; can someone please suggest whether I am in the correct direction\r\n\r\nYes, using `URLResource` with the `FlatFileItemReader` is the way to go. The reader will stream data from the remote location in chunks, it will not download the file locally.","title":"Spring batch read remote csv file by chunks and process them by chunks","body":"<blockquote>\n<p>can someone please suggest whether I am in the correct direction</p>\n</blockquote>\n<p>Yes, using <code>URLResource</code> with the <code>FlatFileItemReader</code> is the way to go. The reader will stream data from the remote location in chunks, it will not download the file locally.</p>\n"}],"owner":{"account_id":1878542,"reputation":785,"user_id":1699206,"accept_rate":76,"display_name":"Shabarinath Volam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680591986,"creation_date":1680548749,"question_id":75922953,"body_markdown":"I have a requirement to read a CSV file (consisting of 40k+ records) by chunks from a remote linux box location and then pass the chunk info to the processer and writer without downloading the file locally, I want to get an idea or references for how to achieve this requirement.\r\n\r\nI have gone through the below approaches but am not really sure whether these approaches read the file in chunks or not, I also see there is ***&quot;sftpremotefiletemplate&quot;*** can someone please suggest whether I am in the correct direction or do I need to use sftpremotefiletemplate (or any other approach)?\r\n\r\n    @Bean\r\n    public Job readRemoteCsvFileJob(Step step1) {\r\n        return jobBuilderFactory.get(&quot;readRemoteCsvFileJob&quot;)\r\n                .incrementer(new RunIdIncrementer())\r\n                .flow(step1)\r\n                .end()\r\n                .build();\r\n    }\r\n    \r\n    @Bean\r\n    public Step step1(ItemReader&lt;MyItem&gt; reader, ItemWriter&lt;MyItem&gt; writer) {\r\n        return stepBuilderFactory.get(&quot;step1&quot;)\r\n                .&lt;MyItem, MyItem&gt;chunk(10)\r\n                .reader(reader)\r\n                .writer(writer)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public FlatFileItemReader&lt;MyItem&gt; reader() {\r\n        FlatFileItemReader&lt;MyItem&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n        reader.setResource(new UrlResource(&quot;/remote-path/myfile.csv&quot;));\r\n        reader.setLineMapper(new DefaultLineMapper&lt;MyItem&gt;() {{\r\n            setLineTokenizer(new DelimitedLineTokenizer() {{\r\n                setNames(new String[]{&quot;field1&quot;, &quot;field2&quot;});\r\n            }});\r\n            setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;MyItem&gt;() {{\r\n                setTargetType(MyItem.class);\r\n            }});\r\n        }});\r\n        return reader;\r\n    }","title":"Spring batch read remote csv file by chunks and process them by chunks","body":"<p>I have a requirement to read a CSV file (consisting of 40k+ records) by chunks from a remote linux box location and then pass the chunk info to the processer and writer without downloading the file locally, I want to get an idea or references for how to achieve this requirement.</p>\n<p>I have gone through the below approaches but am not really sure whether these approaches read the file in chunks or not, I also see there is <em><strong>&quot;sftpremotefiletemplate&quot;</strong></em> can someone please suggest whether I am in the correct direction or do I need to use sftpremotefiletemplate (or any other approach)?</p>\n<pre><code>@Bean\npublic Job readRemoteCsvFileJob(Step step1) {\n    return jobBuilderFactory.get(&quot;readRemoteCsvFileJob&quot;)\n            .incrementer(new RunIdIncrementer())\n            .flow(step1)\n            .end()\n            .build();\n}\n\n@Bean\npublic Step step1(ItemReader&lt;MyItem&gt; reader, ItemWriter&lt;MyItem&gt; writer) {\n    return stepBuilderFactory.get(&quot;step1&quot;)\n            .&lt;MyItem, MyItem&gt;chunk(10)\n            .reader(reader)\n            .writer(writer)\n            .build();\n}\n\n@Bean\npublic FlatFileItemReader&lt;MyItem&gt; reader() {\n    FlatFileItemReader&lt;MyItem&gt; reader = new FlatFileItemReader&lt;&gt;();\n    reader.setResource(new UrlResource(&quot;/remote-path/myfile.csv&quot;));\n    reader.setLineMapper(new DefaultLineMapper&lt;MyItem&gt;() {{\n        setLineTokenizer(new DelimitedLineTokenizer() {{\n            setNames(new String[]{&quot;field1&quot;, &quot;field2&quot;});\n        }});\n        setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;MyItem&gt;() {{\n            setTargetType(MyItem.class);\n        }});\n    }});\n    return reader;\n}\n</code></pre>\n"},{"tags":["java","mongodb","mongodb-java"],"comments":[{"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"score":3,"creation_date":1411371746,"post_id":25968592,"comment_id":40661223,"body_markdown":"MongoDb documentation is actually very good. Did you try?","body":"MongoDb documentation is actually very good. Did you try?"}],"answers":[{"tags":[],"owner":{"account_id":1888905,"reputation":15353,"user_id":1707520,"accept_rate":100,"display_name":"sol4me"},"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1462891354,"creation_date":1411371252,"answer_id":25968802,"question_id":25968592,"body_markdown":"**Update 2:**\r\nThe original answer, as well as the first update, erroneously reference the Mongo shell documentation instead of the Java API.\r\n\r\nIn Java, [`DBCollection.ensureIndex()`][2] was deprecated in version 2.12 and removed in version 3.0. [`DBCollection.createIndex()`][3] is the one that should be used.\r\n\r\n**Update:**  \r\n`db.collection.ensureIndex()` is deprecated since version 3.0.0.  \r\nIs now an alias for [db.collection.createIndex()][1].\r\n\r\n**Original:**  \r\n`createIndex()` is [deprecated since 1.8][1]\r\n\r\nIt was used to create indexes on collections whereas `ensureIndex()` creates an index on the specified **field** if the index does not already exist. Moreover when we execute `createIndex()` twice the second execution will just **fail** whereas with `ensureIndex()` you can invoke it multiple times and it will **not fail**\r\n\r\nAnd one more thing that they changed regarding behavior of `ensureIndex()`, in previous versions of mongodb(versions less then 2.6)  if the index entry for an existing document exceeds the max index key length an **index would be created** but  Mongodb **would not index** such documents whereas in recent version **no index would be created**.\r\n\r\n  [1]: https://docs.mongodb.org/manual/reference/method/db.collection.createIndex/#db.collection.createIndex\r\n  [2]: http://api.mongodb.com/java/2.12/com/mongodb/DBCollection.html#ensureIndex(com.mongodb.DBObject)\r\n  [3]: http://api.mongodb.com/java/current/com/mongodb/DBCollection.html#createIndex-com.mongodb.DBObject-\r\n","title":"Difference between createIndex() and ensureIndex() in java using mongodb","body":"<p><strong>Update 2:</strong>\nThe original answer, as well as the first update, erroneously reference the Mongo shell documentation instead of the Java API.</p>\n\n<p>In Java, <a href=\"http://api.mongodb.com/java/2.12/com/mongodb/DBCollection.html#ensureIndex(com.mongodb.DBObject)\" rel=\"noreferrer\"><code>DBCollection.ensureIndex()</code></a> was deprecated in version 2.12 and removed in version 3.0. <a href=\"http://api.mongodb.com/java/current/com/mongodb/DBCollection.html#createIndex-com.mongodb.DBObject-\" rel=\"noreferrer\"><code>DBCollection.createIndex()</code></a> is the one that should be used.</p>\n\n<p><strong>Update:</strong><br>\n<code>db.collection.ensureIndex()</code> is deprecated since version 3.0.0.<br>\nIs now an alias for <a href=\"https://docs.mongodb.org/manual/reference/method/db.collection.createIndex/#db.collection.createIndex\" rel=\"noreferrer\">db.collection.createIndex()</a>.</p>\n\n<p><strong>Original:</strong><br>\n<code>createIndex()</code> is <a href=\"https://docs.mongodb.org/manual/reference/method/db.collection.createIndex/#db.collection.createIndex\" rel=\"noreferrer\">deprecated since 1.8</a></p>\n\n<p>It was used to create indexes on collections whereas <code>ensureIndex()</code> creates an index on the specified <strong>field</strong> if the index does not already exist. Moreover when we execute <code>createIndex()</code> twice the second execution will just <strong>fail</strong> whereas with <code>ensureIndex()</code> you can invoke it multiple times and it will <strong>not fail</strong></p>\n\n<p>And one more thing that they changed regarding behavior of <code>ensureIndex()</code>, in previous versions of mongodb(versions less then 2.6)  if the index entry for an existing document exceeds the max index key length an <strong>index would be created</strong> but  Mongodb <strong>would not index</strong> such documents whereas in recent version <strong>no index would be created</strong>.</p>\n"},{"tags":[],"owner":{"account_id":5180411,"reputation":273,"user_id":4146304,"display_name":"Jens Grivolla"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1490869497,"creation_date":1413458534,"answer_id":26403150,"question_id":25968592,"body_markdown":"In the Java API, `DBCollection.ensureIndex()` is deprecated&lt;s&gt;, exactly the other way around compared to the &quot;normal&quot; MongoDB API (at the time of the response)&lt;/s&gt;. **Update**: This inconsistency appears to have since been resolved, and `db.collection.createIndex()` now substitutes `db.collection.ensureIndex()` in the Mongo shell also.\r\n\r\nAs you can see in https://jira.mongodb.org/browse/JAVA-1097, in Java (which the OP asked about) `ensureIndex()` was deprecated in version \r\n2.12.0 of the Java driver, and [`DBCollection.createIndex()`][1] is the one you need to use. [`DBCollection.ensureIndex()`][2] (link to version 2.12) is not available in the [DBCollection][3] Java API anymore.\r\n\r\n\r\n  [1]: http://api.mongodb.com/java/current/com/mongodb/DBCollection.html#createIndex-com.mongodb.DBObject-\r\n  [2]: http://api.mongodb.com/java/2.12/com/mongodb/DBCollection.html#ensureIndex(com.mongodb.DBObject)\r\n  [3]: http://api.mongodb.com/java/current/com/mongodb/DBCollection.html","title":"Difference between createIndex() and ensureIndex() in java using mongodb","body":"<p>In the Java API, <code>DBCollection.ensureIndex()</code> is deprecated<s>, exactly the other way around compared to the \"normal\" MongoDB API (at the time of the response)</s>. <strong>Update</strong>: This inconsistency appears to have since been resolved, and <code>db.collection.createIndex()</code> now substitutes <code>db.collection.ensureIndex()</code> in the Mongo shell also.</p>\n\n<p>As you can see in <a href=\"https://jira.mongodb.org/browse/JAVA-1097\" rel=\"nofollow noreferrer\">https://jira.mongodb.org/browse/JAVA-1097</a>, in Java (which the OP asked about) <code>ensureIndex()</code> was deprecated in version \n2.12.0 of the Java driver, and <a href=\"http://api.mongodb.com/java/current/com/mongodb/DBCollection.html#createIndex-com.mongodb.DBObject-\" rel=\"nofollow noreferrer\"><code>DBCollection.createIndex()</code></a> is the one you need to use. <a href=\"http://api.mongodb.com/java/2.12/com/mongodb/DBCollection.html#ensureIndex(com.mongodb.DBObject)\" rel=\"nofollow noreferrer\"><code>DBCollection.ensureIndex()</code></a> (link to version 2.12) is not available in the <a href=\"http://api.mongodb.com/java/current/com/mongodb/DBCollection.html\" rel=\"nofollow noreferrer\">DBCollection</a> Java API anymore.</p>\n"},{"tags":[],"owner":{"account_id":1463408,"reputation":4327,"user_id":4660481,"accept_rate":50,"display_name":"GaspardP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445444403,"creation_date":1445444403,"answer_id":33264415,"question_id":25968592,"body_markdown":"The `ensureIndex` method found in the java driver (v2.12 and older) would cache whether or not the index exist on the collection. Since multiple clients could potentially change the indexes on a collection, the cache value may sometime be erroneous and the driver would fail to create a missing index.\r\n\r\nFor this reason, the java driver implemented a `createIndex` method with identical behaviour, except it won&#39;t cache the index status.\r\n\r\nWith drivers 2.12 and above, you can replace `ensureIndex` by `createIndex` and expect the same behaviour, except for the performance hit where the driver would formerly think that the index already exists and return without sending the createIndex command to the mongo server.\r\n\r\nAs to why they did not change the behaviour without renaming - that I have no idea.","title":"Difference between createIndex() and ensureIndex() in java using mongodb","body":"<p>The <code>ensureIndex</code> method found in the java driver (v2.12 and older) would cache whether or not the index exist on the collection. Since multiple clients could potentially change the indexes on a collection, the cache value may sometime be erroneous and the driver would fail to create a missing index.</p>\n\n<p>For this reason, the java driver implemented a <code>createIndex</code> method with identical behaviour, except it won't cache the index status.</p>\n\n<p>With drivers 2.12 and above, you can replace <code>ensureIndex</code> by <code>createIndex</code> and expect the same behaviour, except for the performance hit where the driver would formerly think that the index already exists and return without sending the createIndex command to the mongo server.</p>\n\n<p>As to why they did not change the behaviour without renaming - that I have no idea.</p>\n"},{"tags":[],"owner":{"account_id":13832668,"reputation":21,"user_id":9985097,"display_name":"Surender Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531588968,"creation_date":1531588968,"answer_id":51341725,"question_id":25968592,"body_markdown":"Deprecated since version &gt; 3.0.0: \r\ndb.collection.ensureIndex() is now an alias for db.collection.createIndex(). ","title":"Difference between createIndex() and ensureIndex() in java using mongodb","body":"<p>Deprecated since version > 3.0.0: \ndb.collection.ensureIndex() is now an alias for db.collection.createIndex(). </p>\n"},{"tags":[],"owner":{"account_id":9696880,"reputation":9031,"user_id":7193018,"display_name":"Shubham Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680591776,"creation_date":1680591776,"answer_id":75926398,"question_id":25968592,"body_markdown":"**Removed in 5.0**\r\n`db.collection.ensureIndex()` has been replaced by `db.collection.createIndex()`.\r\n\r\n**Snapshot:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zJFUW.png","title":"Difference between createIndex() and ensureIndex() in java using mongodb","body":"<p><strong>Removed in 5.0</strong>\n<code>db.collection.ensureIndex()</code> has been replaced by <code>db.collection.createIndex()</code>.</p>\n<p><strong>Snapshot:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/zJFUW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zJFUW.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5034188,"reputation":2539,"user_id":4043524,"accept_rate":50,"display_name":"Amit Chahar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30697,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":25968802,"answer_count":5,"score":52,"last_activity_date":1680591776,"creation_date":1411370483,"question_id":25968592,"body_markdown":"What is the difference between `createIndex()` and `ensureIndex()` in Java using MongoDB? I googled this but didn&#39;t get a satisfactory answer.","title":"Difference between createIndex() and ensureIndex() in java using mongodb","body":"<p>What is the difference between <code>createIndex()</code> and <code>ensureIndex()</code> in Java using MongoDB? I googled this but didn't get a satisfactory answer.</p>\n"},{"tags":["java","jpa","spring-data","one-to-one"],"comments":[{"owner":{"account_id":5557928,"reputation":2328,"user_id":4408619,"display_name":"Azzabi Haythem"},"score":0,"creation_date":1680428670,"post_id":75911017,"comment_id":133894029,"body_markdown":"you can see  this solution https://stackoverflow.com/questions/67055725/how-to-retrieve-only-a-specific-field-from-child-entity-on-onetoone-relationshi","body":"you can see  this solution <a href=\"https://stackoverflow.com/questions/67055725/how-to-retrieve-only-a-specific-field-from-child-entity-on-onetoone-relationshi\" title=\"how to retrieve only a specific field from child entity on onetoone relationshi\">stackoverflow.com/questions/67055725/&hellip;</a>"},{"owner":{"account_id":17285580,"reputation":21,"user_id":12518271,"display_name":"Manikandan Uthaman"},"score":0,"creation_date":1682312288,"post_id":75911017,"comment_id":134189461,"body_markdown":"The solution mentioned in this post requires us to create another pojo and create queries. I have lots of entities which require createdBy field. Creating custom POJOs for all those is not possible. Is there any way to map JPA projections under @OneToOne annotation?","body":"The solution mentioned in this post requires us to create another pojo and create queries. I have lots of entities which require createdBy field. Creating custom POJOs for all those is not possible. Is there any way to map JPA projections under @OneToOne annotation?"}],"owner":{"account_id":17285580,"reputation":21,"user_id":12518271,"display_name":"Manikandan Uthaman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680591424,"creation_date":1680426027,"question_id":75911017,"body_markdown":"I am working on an application which has an entity called Post. I also have a User Details entity which is mapped with createdBy column in Post entity. I have modeled their relation using @OneToOne annotation in Post entity.\r\n```\r\npublic class Post {\r\n  ... other fields\r\n\r\n  @OneToOne\r\n  @JoinColumn(name=&#39;created_by&#39;, referencedColumnName=&#39;id&#39;)\r\n  public UserDetails createdBy;\r\n}\r\n\r\npublic class UserDetails {\r\n  public Integer id;\r\n  public String name;\r\n  ... other fields\r\n}\r\n```\r\n\r\nWhen i fetch the Post entity, it is returning the user details entity also with all its fields. But i need to read only id and name from user details. I tried to use Projections to achieve this, but i am not able to use user details projection inside Post entity. Is it possible to use a projection inside an entity and map using @OneToOne?\r\nI am using spring-boot-starter-jpa for my project.","title":"JPA projections inside entity","body":"<p>I am working on an application which has an entity called Post. I also have a User Details entity which is mapped with createdBy column in Post entity. I have modeled their relation using @OneToOne annotation in Post entity.</p>\n<pre><code>public class Post {\n  ... other fields\n\n  @OneToOne\n  @JoinColumn(name='created_by', referencedColumnName='id')\n  public UserDetails createdBy;\n}\n\npublic class UserDetails {\n  public Integer id;\n  public String name;\n  ... other fields\n}\n</code></pre>\n<p>When i fetch the Post entity, it is returning the user details entity also with all its fields. But i need to read only id and name from user details. I tried to use Projections to achieve this, but i am not able to use user details projection inside Post entity. Is it possible to use a projection inside an entity and map using @OneToOne?\nI am using spring-boot-starter-jpa for my project.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1320705281,"post_id":5641072,"comment_id":9849743,"body_markdown":"I&#39;ve edited your question to be a better format.  Be sure to spend time formatting your question so people can process it faster.","body":"I&#39;ve edited your question to be a better format.  Be sure to spend time formatting your question so people can process it faster."}],"answers":[{"tags":[],"owner":{"account_id":60400,"reputation":19147,"user_id":180416,"accept_rate":63,"display_name":"rich"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1302639326,"creation_date":1302639326,"answer_id":5641086,"question_id":5641072,"body_markdown":"Edit your .classpath file. (Or via the project build path).","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>Edit your .classpath file. (Or via the project build path).</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1302639391,"creation_date":1302639391,"answer_id":5641104,"question_id":5641072,"body_markdown":"Go to the `Build Path` dialog (`right-click project &gt; Build Path &gt; Configure Build Path`) and make sure you have the correct source folder listed, and make sure it exists.\r\n\r\nThe source folder is the one that holds your sources, usuglaly in the form: `project/src/com/yourpackage/...`","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>Go to the <code>Build Path</code> dialog (<code>right-click project &gt; Build Path &gt; Configure Build Path</code>) and make sure you have the correct source folder listed, and make sure it exists.</p>\n\n<p>The source folder is the one that holds your sources, usuglaly in the form: <code>project/src/com/yourpackage/...</code></p>\n"},{"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1302639392,"creation_date":1302639392,"answer_id":5641105,"question_id":5641072,"body_markdown":"Create the src folder in the project.","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>Create the src folder in the project.</p>\n"},{"tags":[],"owner":{"account_id":338578,"reputation":391,"user_id":667530,"display_name":"Don"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1302645563,"creation_date":1302645563,"answer_id":5642124,"question_id":5641072,"body_markdown":"In eclipse, you must be careful to create a &quot;source folder&quot; (File-&gt;New-&gt;Source Folder).  This way, it&#39;s automatically on your classpath, and, more importantly, Eclipse knows that these are compilable files.  It&#39;s picky that way.","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>In eclipse, you must be careful to create a \"source folder\" (File->New->Source Folder).  This way, it's automatically on your classpath, and, more importantly, Eclipse knows that these are compilable files.  It's picky that way.</p>\n"},{"tags":[],"owner":{"account_id":1024226,"reputation":761,"user_id":1033892,"display_name":"Fvergniaud"},"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1320757392,"creation_date":1320675458,"answer_id":8037688,"question_id":5641072,"body_markdown":"Right-Click Project --&gt; Build Path --&gt; Configure Build Path; unselect the SRC, save, select again.\r\n\r\nThis solved my problem.","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>Right-Click Project --> Build Path --> Configure Build Path; unselect the SRC, save, select again.</p>\n\n<p>This solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":98018,"reputation":51575,"user_id":265570,"accept_rate":69,"display_name":"bkaid"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1320861664,"creation_date":1320861664,"answer_id":8069418,"question_id":5641072,"body_markdown":"Right Click Project -&gt; New -&gt; Folder -&gt; Folder Name: src -&gt; Finish","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>Right Click Project -> New -> Folder -> Folder Name: src -> Finish</p>\n"},{"tags":[],"owner":{"account_id":147500,"reputation":101,"user_id":358656,"display_name":"user358656"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1326471756,"creation_date":1326471756,"answer_id":8853745,"question_id":5641072,"body_markdown":"Here&#39;s what worked for me: right click the project-&gt; source -&gt; format\r\nAfter that just drag and drop the source folder into eclipse under the project and select link.\r\n\r\ngood luck!","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>Here's what worked for me: right click the project-> source -> format\nAfter that just drag and drop the source folder into eclipse under the project and select link.</p>\n\n<p>good luck!</p>\n"},{"tags":[],"owner":{"display_name":"user6727670"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471457604,"creation_date":1471457604,"answer_id":39003641,"question_id":5641072,"body_markdown":"I was confused by this for hours.\r\n\r\nRight click on project -&gt; Build Path -&gt; Configure Build Path -&gt; Add Folder","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>I was confused by this for hours.</p>\n\n<p>Right click on project -> Build Path -> Configure Build Path -> Add Folder</p>\n"},{"tags":[],"owner":{"account_id":12910879,"reputation":21,"user_id":9336614,"display_name":"NightWind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520170153,"creation_date":1520170153,"answer_id":49095937,"question_id":5641072,"body_markdown":"One of the build path issue is it cannot find the correct /src/conf source folder. Right click on each project, Build Path &gt; Configure Build Path. Under the Source tab, remove the folder with a red cross icon on the bottom right. It will work for the situation that there is a small red exclamation mark !  bedore your project name!","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>One of the build path issue is it cannot find the correct /src/conf source folder. Right click on each project, Build Path > Configure Build Path. Under the Source tab, remove the folder with a red cross icon on the bottom right. It will work for the situation that there is a small red exclamation mark !  bedore your project name!</p>\n"},{"tags":[],"owner":{"account_id":7458524,"reputation":651,"user_id":5670939,"display_name":"Radioactive"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523817773,"creation_date":1523817773,"answer_id":49845536,"question_id":5641072,"body_markdown":"If you are facing an error with the folder, such as src/test/java or src/test/resources, just do a right click on the folder and then create a a new folder with the name being src/test/java. This should solve your problem.","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>If you are facing an error with the folder, such as src/test/java or src/test/resources, just do a right click on the folder and then create a a new folder with the name being src/test/java. This should solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":8998563,"reputation":1629,"user_id":6707951,"display_name":"Ajmal V Aliyar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560768488,"creation_date":1560768004,"answer_id":56629604,"question_id":5641072,"body_markdown":"I think it&#39;s because of the .classpath getting saved with the deleted source folder configuration. \r\n\r\n 1. Create the missing folder [ &#39;`src`&#39; in your case] manually inside the root of the project. When I say manually, I meant outside Eclipse, using the file explorer.\r\n\r\n 2. Then, come back to eclipse and refresh the project. Now, the error saying it&#39;s already there will be gone.\r\n\r\n 3. Now, Right click on the **project** &gt; **Build Path** &gt; **Configure Build path**. It should take us to the **Java build path** side menu.\r\n\r\n 4. Make sure we are on the &#39;**Source**&#39; tab. Delete the source folder causing the problem. Now, maybe the folder might show up in the project structure and you may delete that too.","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>I think it's because of the .classpath getting saved with the deleted source folder configuration. </p>\n\n<ol>\n<li><p>Create the missing folder [ '<code>src</code>' in your case] manually inside the root of the project. When I say manually, I meant outside Eclipse, using the file explorer.</p></li>\n<li><p>Then, come back to eclipse and refresh the project. Now, the error saying it's already there will be gone.</p></li>\n<li><p>Now, Right click on the <strong>project</strong> > <strong>Build Path</strong> > <strong>Configure Build path</strong>. It should take us to the <strong>Java build path</strong> side menu.</p></li>\n<li><p>Make sure we are on the '<strong>Source</strong>' tab. Delete the source folder causing the problem. Now, maybe the folder might show up in the project structure and you may delete that too.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17029674,"reputation":21,"user_id":12320091,"display_name":"Rakesh Jain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572929000,"creation_date":1572923220,"answer_id":58703922,"question_id":5641072,"body_markdown":"Right-Click Project --&gt; Build Path --&gt; Configure Build Path--&gt;source--&gt;(Select missing folder or path)--&gt;Add Folder--&gt;Apply--&gt;Ok\r\n","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>Right-Click Project --> Build Path --> Configure Build Path-->source-->(Select missing folder or path)-->Add Folder-->Apply-->Ok</p>\n"},{"tags":[],"owner":{"account_id":17466849,"reputation":1,"user_id":12663429,"display_name":"user12663429"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578336538,"creation_date":1578336538,"answer_id":59617398,"question_id":5641072,"body_markdown":"Eclipse wouldn&#39;t let me point to an existing (or add a new) source directory.\r\nEclipse&#39;s configuration files can be wonky.  In my case I should have started simple. **Right click the project and click Refresh.**   \r\n\r\n\r\n\r\n ","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>Eclipse wouldn't let me point to an existing (or add a new) source directory.\nEclipse's configuration files can be wonky.  In my case I should have started simple. <strong>Right click the project and click Refresh.</strong>   </p>\n"},{"tags":[],"owner":{"account_id":7189977,"reputation":53,"user_id":5490686,"display_name":"user123456789"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592410465,"creation_date":1592410465,"answer_id":62433560,"question_id":5641072,"body_markdown":"In my case eclipse reported this in the Problems view on the parent project which does not have any code. I just delete the error whenever it is reported on this parent project where src folder is really not needed.","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>In my case eclipse reported this in the Problems view on the parent project which does not have any code. I just delete the error whenever it is reported on this parent project where src folder is really not needed.</p>\n"},{"tags":[],"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680591399,"creation_date":1680591399,"answer_id":75926341,"question_id":5641072,"body_markdown":"There was nothing wrong in my project set up , it just started to happen one fine day. To resolve, I had to do just click **Apply and Close** on **Project Build Path Set Up** , without actually changing anything. ","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>There was nothing wrong in my project set up , it just started to happen one fine day. To resolve, I had to do just click <strong>Apply and Close</strong> on <strong>Project Build Path Set Up</strong> , without actually changing anything.</p>\n"}],"owner":{"account_id":735802,"reputation":471,"user_id":704829,"display_name":"sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132313,"favorite_count":0,"down_vote_count":1,"up_vote_count":47,"answer_count":15,"score":46,"last_activity_date":1680591399,"creation_date":1302639259,"question_id":5641072,"body_markdown":"I imported a jar file into workspace and this is the error I get:\r\n\r\n&gt; Description\tResource\tPath\tLocation\tType &lt;br /&gt;\r\n&gt; Project &#39;Interpreter1&#39; is missing required source folder: &#39;src&#39;\tInterpreter1\t\tBuild path\tBuild Path Problem\r\n\r\nHow can i get rid of this error?","title":"Eclipse Java Missing required source folder: &#39;src&#39;","body":"<p>I imported a jar file into workspace and this is the error I get:</p>\n\n<blockquote>\n  <p>Description   Resource    Path    Location    Type <br />\n  Project 'Interpreter1' is missing required source folder: 'src'   Interpreter1        Build path  Build Path Problem</p>\n</blockquote>\n\n<p>How can i get rid of this error?</p>\n"},{"tags":["java","client-server","opc-ua","opc","unified-automation-sdk"],"comments":[{"owner":{"account_id":301604,"reputation":2728,"user_id":609444,"accept_rate":100,"display_name":"Erez A. Korn"},"score":1,"creation_date":1680609183,"post_id":75926172,"comment_id":133923823,"body_markdown":"Which version of the SDK are you using?","body":"Which version of the SDK are you using?"},{"owner":{"account_id":28210031,"reputation":27,"user_id":21562466,"display_name":"WickedXXX"},"score":0,"creation_date":1680658422,"post_id":75926172,"comment_id":133934371,"body_markdown":"@ErezA.Korn - Using prosys java sdk 4.2.0","body":"@ErezA.Korn - Using prosys java sdk 4.2.0"}],"owner":{"account_id":28210031,"reputation":27,"user_id":21562466,"display_name":"WickedXXX"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680590218,"creation_date":1680590218,"question_id":75926172,"body_markdown":"Getting problem while adding the custom events to server node hierarchy in OPCUA server code(Prosys java sdk).\r\n\r\n\r\nWhen subscribing to these custom events directly after expanding into Server node in UAExpert, I am able to receive the events, but as per the specifications it is supposed that even when we subscribe to parent node i.e., Server Node, in that case also we should receive the child node events which is the custom event node.\r\nAnd I am not able to receive the child node events (custom event) when subscribing to the Server Node.\r\nHow to add these custom events under the Server node heirachy?","title":"OPCUA custom events","body":"<p>Getting problem while adding the custom events to server node hierarchy in OPCUA server code(Prosys java sdk).</p>\n<p>When subscribing to these custom events directly after expanding into Server node in UAExpert, I am able to receive the events, but as per the specifications it is supposed that even when we subscribe to parent node i.e., Server Node, in that case also we should receive the child node events which is the custom event node.\nAnd I am not able to receive the child node events (custom event) when subscribing to the Server Node.\nHow to add these custom events under the Server node heirachy?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":19534758,"reputation":31,"user_id":14293770,"display_name":"rwd762"},"score":0,"creation_date":1680367276,"post_id":75900202,"comment_id":133888091,"body_markdown":"Everything has been solved. Apparently I was too blind to see I was missing the securityFilterChain Bean ...... beginners mistake","body":"Everything has been solved. Apparently I was too blind to see I was missing the securityFilterChain Bean ...... beginners mistake"}],"owner":{"account_id":19534758,"reputation":31,"user_id":14293770,"display_name":"rwd762"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680590174,"creation_date":1680276154,"question_id":75900202,"body_markdown":"Im currently working on a Spring Boot Rest API.\r\nI have a UserAdministrationController for managing users (adding, removing, editing).\r\n\r\nIn order to secure all related endpoints, I configure my App in the following way:\r\n\r\n```@Bean\r\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.httpBasic().and().csrf().disable().authorizeHttpRequests()\r\n                .requestMatchers(&quot;/users/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest().authenticated();\r\n        return http.build();\r\n    }\r\n\r\n\r\nAnd for testing purposes I set up in-memory users:\r\n\r\n@Bean\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails user = org.springframework.security.core.userdetails.User\r\n                .withUsername(&quot;user&quot;)\r\n                .password(bCryptPasswordEncoder().encode(&quot;password&quot;))\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n        UserDetails user2 = org.springframework.security.core.userdetails.User\r\n                .withUsername(&quot;admin&quot;)\r\n                .password(bCryptPasswordEncoder().encode(&quot;password&quot;))\r\n                .roles(&quot;ADMIN&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(user,user2);\r\n    }\r\n\r\n```\r\n\r\nAdditionally, I use @PreAuthorize for all my controller methods like that:\r\n\r\n```\r\n @PutMapping(&quot;/users/{id}&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n    public ResponseEntity&lt;?&gt; editUser(@PathVariable String id, @RequestBody User newUser) {\r\n        User updatedUser = userAdministrationService.editUser(id, newUser);\r\n        return ResponseEntity.ok(updatedUser);\r\n    }\r\n```\r\n\r\nNow I want to test this endpoint and essentially I wanna see that whenever someone calls the endpoint without authorization, a 401 or 403.\r\nMy test looks as follows:\r\n\r\n```\r\n@Test\r\n    @WithMockUser(&quot;USER&quot;)\r\n    void editUserTest() throws Exception {\r\n        User modifiedUser = new User(&quot;lisa1&quot;, &quot;pw&quot;, &quot;email@test-mail.com&quot;);\r\n        Mockito.when(userAdministrationService.getUserById(modifiedUser.getId())).thenReturn(Optional.of(modifiedUser));\r\n\r\n        modifiedUser.setId(&quot;randomId&quot;);\r\n        modifiedUser.setRole(Role.ROLE_USER);\r\n\r\n        mockMvc.perform(put(&quot;/users/{id}&quot;, &quot;randomId&quot;).with(user(&quot;user&quot;).roles(&quot;USER&quot;)).with(csrf()).contentType(MediaType.APPLICATION_JSON).content(objectMapper.writeValueAsString(modifiedUser))).andExpect(status().isForbidden());\r\n    }\r\n\r\n```\r\nSo I kinda expect that when using the &quot;USER&quot; Role, I should receive the 403, but in that case I receive status 200.\r\nThis is the output:\r\n\r\n\r\n    MockHttpServletRequest:\r\n          HTTP Method = PUT\r\n          Request URI = /users/randomId\r\n           Parameters = {_csrf=[qS2FHI3G9z0WNlpkAdOU-q-iy3tBmukEaUsWQFiv5Qle90x-yx-1L-j3lVk7BmlRYv6gy5yX5kIirN8pUXkjcj2fhDhtzi5H]}\r\n              Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;198&quot;]\r\n                 Body = {&quot;email&quot;:&quot;email@test-mail.com&quot;,&quot;password&quot;:&quot;pw&quot;,&quot;username&quot;:&quot;lisa1&quot;,&quot;role&quot;:&quot;ROLE_USER&quot;,&quot;id&quot;:&quot;randomId&quot;,&quot;enabled&quot;:false,&quot;accountNonExpired&quot;:false,&quot;credentialsNonExpired&quot;:false,&quot;accountNonLocked&quot;:false}\r\n        Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}\r\n    \r\n    Handler:\r\n                 Type = com.example.server.controller.UserAdministrationController\r\n               Method = com.example.server.controller.UserAdministrationController#editUser(String, User)\r\n    \r\n    Async:\r\n        Async started = false\r\n         Async result = null\r\n    \r\n    Resolved Exception:\r\n                 Type = null\r\n    \r\n    ModelAndView:\r\n            View name = null\r\n                 View = null\r\n                Model = null\r\n    \r\n    FlashMap:\r\n           Attributes = null\r\n    \r\n    MockHttpServletResponse:\r\n               Status = 200\r\n        Error message = null\r\n              Headers = [X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;0&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\r\n         Content type = null\r\n                 Body = \r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n    \r\n    java.lang.AssertionError: Status expected:&lt;403&gt; but was:&lt;200&gt;\r\n    Expected :403\r\n    Actual   :200\r\n\r\n\r\nSo this is my setup and for others tests it all works as expected, but Im not really sure whats wrong with my editUserTest.\r\n\r\nI already tried to check wether the securitycontext returns an authorzied ROLE but it was correctly set to USER so it should still return 403, not 200.\r\n\r\nIn Postman its the same. Im using Basic auth with the in-memory &quot;user&quot; and it still authenticates me.\r\n\r\nSo right now Im kinda out of ideas. Anyone has a clue?\r\nThanks a lot in advance and in cases more info is needed, let me know (still new to the whole stackoverflow thingy)\r\n\r\n\r\n\r\n","title":"Spring Boot Controller Test wrongly returning status code 200 instead of 403","body":"<p>Im currently working on a Spring Boot Rest API.\nI have a UserAdministrationController for managing users (adding, removing, editing).</p>\n<p>In order to secure all related endpoints, I configure my App in the following way:</p>\n<pre><code>    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.httpBasic().and().csrf().disable().authorizeHttpRequests()\n                .requestMatchers(&quot;/users/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest().authenticated();\n        return http.build();\n    }\n\n\nAnd for testing purposes I set up in-memory users:\n\n@Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails user = org.springframework.security.core.userdetails.User\n                .withUsername(&quot;user&quot;)\n                .password(bCryptPasswordEncoder().encode(&quot;password&quot;))\n                .roles(&quot;USER&quot;)\n                .build();\n        UserDetails user2 = org.springframework.security.core.userdetails.User\n                .withUsername(&quot;admin&quot;)\n                .password(bCryptPasswordEncoder().encode(&quot;password&quot;))\n                .roles(&quot;ADMIN&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(user,user2);\n    }\n\n</code></pre>\n<p>Additionally, I use @PreAuthorize for all my controller methods like that:</p>\n<pre><code> @PutMapping(&quot;/users/{id}&quot;)\n    @PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n    public ResponseEntity&lt;?&gt; editUser(@PathVariable String id, @RequestBody User newUser) {\n        User updatedUser = userAdministrationService.editUser(id, newUser);\n        return ResponseEntity.ok(updatedUser);\n    }\n</code></pre>\n<p>Now I want to test this endpoint and essentially I wanna see that whenever someone calls the endpoint without authorization, a 401 or 403.\nMy test looks as follows:</p>\n<pre><code>@Test\n    @WithMockUser(&quot;USER&quot;)\n    void editUserTest() throws Exception {\n        User modifiedUser = new User(&quot;lisa1&quot;, &quot;pw&quot;, &quot;email@test-mail.com&quot;);\n        Mockito.when(userAdministrationService.getUserById(modifiedUser.getId())).thenReturn(Optional.of(modifiedUser));\n\n        modifiedUser.setId(&quot;randomId&quot;);\n        modifiedUser.setRole(Role.ROLE_USER);\n\n        mockMvc.perform(put(&quot;/users/{id}&quot;, &quot;randomId&quot;).with(user(&quot;user&quot;).roles(&quot;USER&quot;)).with(csrf()).contentType(MediaType.APPLICATION_JSON).content(objectMapper.writeValueAsString(modifiedUser))).andExpect(status().isForbidden());\n    }\n\n</code></pre>\n<p>So I kinda expect that when using the &quot;USER&quot; Role, I should receive the 403, but in that case I receive status 200.\nThis is the output:</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = PUT\n      Request URI = /users/randomId\n       Parameters = {_csrf=[qS2FHI3G9z0WNlpkAdOU-q-iy3tBmukEaUsWQFiv5Qle90x-yx-1L-j3lVk7BmlRYv6gy5yX5kIirN8pUXkjcj2fhDhtzi5H]}\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;198&quot;]\n             Body = {&quot;email&quot;:&quot;email@test-mail.com&quot;,&quot;password&quot;:&quot;pw&quot;,&quot;username&quot;:&quot;lisa1&quot;,&quot;role&quot;:&quot;ROLE_USER&quot;,&quot;id&quot;:&quot;randomId&quot;,&quot;enabled&quot;:false,&quot;accountNonExpired&quot;:false,&quot;credentialsNonExpired&quot;:false,&quot;accountNonLocked&quot;:false}\n    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}\n\nHandler:\n             Type = com.example.server.controller.UserAdministrationController\n           Method = com.example.server.controller.UserAdministrationController#editUser(String, User)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = [X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;0&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\njava.lang.AssertionError: Status expected:&lt;403&gt; but was:&lt;200&gt;\nExpected :403\nActual   :200\n</code></pre>\n<p>So this is my setup and for others tests it all works as expected, but Im not really sure whats wrong with my editUserTest.</p>\n<p>I already tried to check wether the securitycontext returns an authorzied ROLE but it was correctly set to USER so it should still return 403, not 200.</p>\n<p>In Postman its the same. Im using Basic auth with the in-memory &quot;user&quot; and it still authenticates me.</p>\n<p>So right now Im kinda out of ideas. Anyone has a clue?\nThanks a lot in advance and in cases more info is needed, let me know (still new to the whole stackoverflow thingy)</p>\n"},{"tags":["java","mongodb","spring-boot","aggregation","java-17"],"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680590141,"creation_date":1680589921,"question_id":75926139,"body_markdown":"I am new in querying in mongoDb using aggregation and I am stuck with this problem:\r\n\r\nMy Springboot aggregation query could not fetch any data from mongo, but its equivalent query in mongoDbCompass can:\r\n\r\nHere is a snippet of my springboot implementations.\r\n\r\n    public BookingResponse findAllBookingList(BookingRequest request) {\r\n            int page = request.getPage() - 1;\r\n            int limit = request.getLimit();\r\n            String status = request.getStatus();\r\n    \r\n            Aggregation aggregation = null;\r\n    \r\n            if (StringUtils.isNotBlank(status)) {\r\n                aggregation = Aggregation.newAggregation(\r\n                    Aggregation.unwind(&quot;milestones&quot;),\r\n                    Aggregation.sort(Sort.by(&quot;_id&quot;, &quot;milestones.updated_at&quot;).descending()),\r\n                    Aggregation.group(&quot;_id&quot;)\r\n                        .first(&quot;_id&quot;).as(&quot;id&quot;)\r\n                        .first(&quot;booking_number&quot;).as(&quot;bookingNumber&quot;)\r\n                        .first(&quot;shipper_details&quot;).as(&quot;shipperDetails&quot;)\r\n                        .first(&quot;milestones&quot;).as(&quot;latestMilestone&quot;),\r\n                    Aggregation.match(Criteria.where(&quot;latestMilestone.status&quot;).is(status)),\r\n                    Aggregation.project(&quot;id&quot;, &quot;bookingNumber&quot;, &quot;shipperDetails&quot;, &quot;latestMilestone.status&quot;)\r\n                        .and(&quot;latestMilestone&quot;).as(&quot;milestones&quot;)\r\n                        .and(&quot;latestMilestone.status&quot;).as(&quot;status&quot;)\r\n                );\r\n            } else {\r\n                aggregation = Aggregation.newAggregation(\r\n                    Aggregation.sort(Sort.by(&quot;booked_at&quot;).descending()),\r\n                    Aggregation.project(&quot;id&quot;, &quot;bookingNumber&quot;, &quot;shipperDetails&quot;, &quot;latestMilestone.status&quot;)\r\n                        .and(&quot;latestMilestone&quot;).as(&quot;milestones&quot;)\r\n                        .and(&quot;latestMilestone.status&quot;).as(&quot;status&quot;)\r\n                );\r\n            }\r\n    \r\n            AggregationResults&lt;BookingEntity&gt; results = mongoTemplate.aggregate(aggregation,\r\n                &quot;booking&quot;, BookingEntity.class);\r\n    \r\n            List&lt;BookingEntity&gt; resultList = results.getMappedResults();\r\n            resultList.sort(Comparator.comparing(BookingEntity::getBookedAt).reversed());\r\n    \r\n            Page&lt;BookingEntity&gt; pageResult = new PageImpl&lt;&gt;(resultList,\r\n                PageRequest.of(page, limit), resultList.size());\r\n    \r\n            return buildResponse(pageResult, request);\r\n        }\r\n        \r\n        private BookingResponse buildResponse(Page&lt;BookingEntity&gt; results, BookingRequest request) {\r\n            BookingResponse response = new BookingResponse();\r\n            response.setMetadata(constructMetadata(results));\r\n            response.setBookings(\r\n                results.getContent()\r\n                    .stream()\r\n                    .map(bookingMapper::toDTO)\r\n                    .toList()\r\n            );\r\n            response.setStatusCounts(setStatusCount(results));\r\n    \r\n            return response;\r\n        }\r\n\r\nand here is it&#39;s equivalent query that is working in mongoDb Compass\r\n\r\n    [   {\r\n        $unwind: &quot;$milestones&quot;   },   {\r\n        $sort: {\r\n          &quot;_id&quot;: 1,\r\n          &quot;milestones.updated_at&quot;: -1\r\n        }   },   {\r\n        $group: {\r\n          &quot;_id&quot;: &quot;$_id&quot;,\r\n          &quot;id&quot;: { &quot;$first&quot;: &quot;$_id&quot; },\r\n          &quot;bookingNumber&quot;: { &quot;$first&quot;: &quot;$booking_number&quot; },\r\n          &quot;shipperDetails&quot;: { &quot;$first&quot;: &quot;$shipper_details&quot; },\r\n          &quot;latestMilestone&quot;: { &quot;$first&quot;: &quot;$milestones&quot; }\r\n        }   },   {\r\n        $match: {\r\n          &quot;latestMilestone.status&quot;: status\r\n        }   },   {\r\n        $project: {\r\n          &quot;id&quot;: 1,\r\n          &quot;bookingNumber&quot;: 1,\r\n          &quot;shipperDetails&quot;: 1,\r\n          &quot;milestones&quot;: &quot;$latestMilestone&quot;,\r\n          &quot;status&quot;: &quot;$latestMilestone.status&quot;\r\n        }   } ]\r\n\r\n[Sample Successful Query in MongoDB Compass][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T4aqo.png\r\n\r\nAny insights regarding this delema will be highly appreciated. Thank you.\r\n","title":"Query working in MongoDb using Aggregation but NOT in Springboot","body":"<p>I am new in querying in mongoDb using aggregation and I am stuck with this problem:</p>\n<p>My Springboot aggregation query could not fetch any data from mongo, but its equivalent query in mongoDbCompass can:</p>\n<p>Here is a snippet of my springboot implementations.</p>\n<pre><code>public BookingResponse findAllBookingList(BookingRequest request) {\n        int page = request.getPage() - 1;\n        int limit = request.getLimit();\n        String status = request.getStatus();\n\n        Aggregation aggregation = null;\n\n        if (StringUtils.isNotBlank(status)) {\n            aggregation = Aggregation.newAggregation(\n                Aggregation.unwind(&quot;milestones&quot;),\n                Aggregation.sort(Sort.by(&quot;_id&quot;, &quot;milestones.updated_at&quot;).descending()),\n                Aggregation.group(&quot;_id&quot;)\n                    .first(&quot;_id&quot;).as(&quot;id&quot;)\n                    .first(&quot;booking_number&quot;).as(&quot;bookingNumber&quot;)\n                    .first(&quot;shipper_details&quot;).as(&quot;shipperDetails&quot;)\n                    .first(&quot;milestones&quot;).as(&quot;latestMilestone&quot;),\n                Aggregation.match(Criteria.where(&quot;latestMilestone.status&quot;).is(status)),\n                Aggregation.project(&quot;id&quot;, &quot;bookingNumber&quot;, &quot;shipperDetails&quot;, &quot;latestMilestone.status&quot;)\n                    .and(&quot;latestMilestone&quot;).as(&quot;milestones&quot;)\n                    .and(&quot;latestMilestone.status&quot;).as(&quot;status&quot;)\n            );\n        } else {\n            aggregation = Aggregation.newAggregation(\n                Aggregation.sort(Sort.by(&quot;booked_at&quot;).descending()),\n                Aggregation.project(&quot;id&quot;, &quot;bookingNumber&quot;, &quot;shipperDetails&quot;, &quot;latestMilestone.status&quot;)\n                    .and(&quot;latestMilestone&quot;).as(&quot;milestones&quot;)\n                    .and(&quot;latestMilestone.status&quot;).as(&quot;status&quot;)\n            );\n        }\n\n        AggregationResults&lt;BookingEntity&gt; results = mongoTemplate.aggregate(aggregation,\n            &quot;booking&quot;, BookingEntity.class);\n\n        List&lt;BookingEntity&gt; resultList = results.getMappedResults();\n        resultList.sort(Comparator.comparing(BookingEntity::getBookedAt).reversed());\n\n        Page&lt;BookingEntity&gt; pageResult = new PageImpl&lt;&gt;(resultList,\n            PageRequest.of(page, limit), resultList.size());\n\n        return buildResponse(pageResult, request);\n    }\n    \n    private BookingResponse buildResponse(Page&lt;BookingEntity&gt; results, BookingRequest request) {\n        BookingResponse response = new BookingResponse();\n        response.setMetadata(constructMetadata(results));\n        response.setBookings(\n            results.getContent()\n                .stream()\n                .map(bookingMapper::toDTO)\n                .toList()\n        );\n        response.setStatusCounts(setStatusCount(results));\n\n        return response;\n    }\n</code></pre>\n<p>and here is it's equivalent query that is working in mongoDb Compass</p>\n<pre><code>[   {\n    $unwind: &quot;$milestones&quot;   },   {\n    $sort: {\n      &quot;_id&quot;: 1,\n      &quot;milestones.updated_at&quot;: -1\n    }   },   {\n    $group: {\n      &quot;_id&quot;: &quot;$_id&quot;,\n      &quot;id&quot;: { &quot;$first&quot;: &quot;$_id&quot; },\n      &quot;bookingNumber&quot;: { &quot;$first&quot;: &quot;$booking_number&quot; },\n      &quot;shipperDetails&quot;: { &quot;$first&quot;: &quot;$shipper_details&quot; },\n      &quot;latestMilestone&quot;: { &quot;$first&quot;: &quot;$milestones&quot; }\n    }   },   {\n    $match: {\n      &quot;latestMilestone.status&quot;: status\n    }   },   {\n    $project: {\n      &quot;id&quot;: 1,\n      &quot;bookingNumber&quot;: 1,\n      &quot;shipperDetails&quot;: 1,\n      &quot;milestones&quot;: &quot;$latestMilestone&quot;,\n      &quot;status&quot;: &quot;$latestMilestone.status&quot;\n    }   } ]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/T4aqo.png\" rel=\"nofollow noreferrer\">Sample Successful Query in MongoDB Compass</a></p>\n<p>Any insights regarding this delema will be highly appreciated. Thank you.</p>\n"},{"tags":["java","qr-code"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1680579626,"post_id":75925225,"comment_id":133918109,"body_markdown":"`while (webcam.isOpen()) {` looks suspious as it could be block the Event Dispatching Thread","body":"<code>while (webcam.isOpen()) {</code> looks suspious as it could be block the Event Dispatching Thread"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1680580257,"post_id":75925225,"comment_id":133918166,"body_markdown":"This seems like a prime candidate for a [`SwingWorker`](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)","body":"This seems like a prime candidate for a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\"><code>SwingWorker</code></a>"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1680583969,"post_id":75925225,"comment_id":133918555,"body_markdown":"Why did you remove the code? We can only help with some concrete code that shows what you are trying.","body":"Why did you remove the code? We can only help with some concrete code that shows what you are trying."},{"owner":{"account_id":28208618,"reputation":1,"user_id":21561266,"display_name":"mid"},"score":0,"creation_date":1680590032,"post_id":75925225,"comment_id":133919374,"body_markdown":"I added some additional info.","body":"I added some additional info."}],"owner":{"account_id":28208618,"reputation":1,"user_id":21561266,"display_name":"mid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680589953,"creation_date":1680577762,"question_id":75925225,"body_markdown":"Warning: Beginner, may not understand certain concepts. \r\n\r\nI was coding a QR code scanner, and I was trying to make a popup JFrame window that displays a video feed of the webcam. The issue is that when the window pops up, it displays a blank white screen. The scanner itself works, but the video feed isn&#39;t showing up.\r\n\r\nI tried changing the background color, and the background color didn&#39;t change. I tried setting the JFrame to be undecorated, and the entire frame disappeared. I found this to be quite odd. \r\n\r\nUsing package com.github.sarxos\r\n\r\n\r\nFound another snippet of code that works on its own, but doesn&#39;t work in my program. I coded this program quite terribly, so I won&#39;t be pasting the verbose code. The only thing that I used was 4 action listeners for buttons and keys. Could this be the issue?\r\n\r\nHere is it calling upon the function. \r\n\r\n```java\r\nconfirmButton.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                // gets all the necessary info from the screen before going to next screen\r\n                event = eventName.getText();\r\n                // String monthString = monthDropdown.getText();\r\n\r\n                // get dropdown stuff here\r\n\r\n                // send info to server here\r\n\r\n                // hides the first screen\r\n                firstScreen.setVisible(false);\r\n                firstScreen.dispose();\r\n                // advances to second screen\r\n                secondScreen();\r\n            }\r\n        });\r\n```\r\n\r\nHere is the function:\r\n\r\n```java\r\n public void secondScreen() {\r\n        // set up second screen here\r\n        JFrame secondScreen = new JFrame();\r\n        secondScreen.setLayout(null);\r\n        // secondScreen.setAlwaysOnTop(true);\r\n\r\n        fullScreen(secondScreen);\r\n\r\n        // gets rid of the header\r\n        // secondScreen.setUndecorated(true);\r\n\r\n        // sets the background to dark gray\r\n        secondScreen.getContentPane().setBackground(Color.DARK_GRAY);\r\n        // disables alt-f4\r\n        // secondScreen.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\n\r\n        scanQRCode scanner = new scanQRCode();\r\n        Future&lt;String&gt; scannedQRCode = scanner.getQRCode(secondScreen, (int) dimensions.getWidth(),\r\n                (int) dimensions.getHeight());\r\n\r\n        JButton alternativeLoginButton = new JButton(&quot;Or Login with Student ID&quot;);\r\n        alternativeLoginButton.setBounds((int) (0.5 * dimensions.getWidth() - 100),\r\n                (int) (0.8 * dimensions.getHeight()), 200, 25);\r\n        alternativeLoginButton.setBackground(Color.LIGHT_GRAY);\r\n        alternativeLoginButton.setForeground(Color.BLACK);\r\n\r\n        // manual thingy\r\n        alternativeLoginButton.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                manualStudentId(secondScreen);\r\n            }\r\n        });\r\n\r\n        secondScreen.add(alternativeLoginButton);\r\n\r\n        secondScreen.setAlwaysOnTop(true);\r\n        secondScreen.setVisible(true);\r\n\r\n        try {\r\n            String QRCode_Value = scannedQRCode.get();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error in getting QRCode value&quot;);\r\n            // probably shouldn&#39;t ever get here????\r\n        }\r\n    }\r\n\r\n```\r\n\r\nAnd here is the QR Code Scanner:\r\n\r\n```java\r\npublic class scanQRCode {\r\n    private ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    private JFrame jFrame = new JFrame();\r\n\r\n    // puts the QR code in the middle of the screen\r\n    public Future&lt;String&gt; getQRCode(JFrame frame, int width, int height) {\r\n        Callable&lt;String&gt; scanTask = () -&gt; {\r\n            Webcam webcam = Webcam.getDefault(); // Generate Webcam Object\r\n            webcam.setViewSize(new java.awt.Dimension(640, 480));\r\n            WebcamPanel webcamPanel = new WebcamPanel(webcam);\r\n            webcamPanel.setMirrored(false);\r\n            webcamPanel.setBounds((int) (width / 2) - 320, (int) (height / 2) - 240, 640, 480);\r\n            frame.add(webcamPanel);\r\n            // jFrame.setVisible(true);\r\n\r\n            // jFrame.addWindowListener(new WindowAdapter() {\r\n            // @Override\r\n            // public void windowIconified(WindowEvent e) {\r\n            // // the window is minimized, terminate the task here\r\n            // jFrame.dispose();\r\n            // }\r\n            // });\r\n\r\n            // jFrame.addWindowListener(new WindowAdapter() {\r\n            // public void windowClosing(WindowEvent e) {\r\n            // webcam.close();\r\n            // }\r\n            // });\r\n            do {\r\n                try {\r\n                    BufferedImage image = webcam.getImage();\r\n                    System.out.println(image);\r\n                    if (image == null) {\r\n                        continue;\r\n                    }\r\n                    LuminanceSource source = new BufferedImageLuminanceSource(image);\r\n                    BinaryBitmap bitmap = new BinaryBitmap(new HybridBinarizer(source));\r\n                    Result result = new MultiFormatReader().decode(bitmap);\r\n                    if (result.getText() != null) {\r\n                        jFrame.setVisible(false);\r\n                        jFrame.dispose();\r\n                        webcam.close();\r\n                        return result.getText();\r\n                    }\r\n\r\n                } catch (Exception e) {\r\n                }\r\n            } while (true);\r\n        };\r\n        return executor.submit(scanTask);\r\n    } // End of scanQRCode\r\n\r\n// other code\r\n\r\n}```\r\n","title":"JFrame not displaying camera feed when trying to scan in QR code, and the exit button isn&#39;t working","body":"<p>Warning: Beginner, may not understand certain concepts.</p>\n<p>I was coding a QR code scanner, and I was trying to make a popup JFrame window that displays a video feed of the webcam. The issue is that when the window pops up, it displays a blank white screen. The scanner itself works, but the video feed isn't showing up.</p>\n<p>I tried changing the background color, and the background color didn't change. I tried setting the JFrame to be undecorated, and the entire frame disappeared. I found this to be quite odd.</p>\n<p>Using package com.github.sarxos</p>\n<p>Found another snippet of code that works on its own, but doesn't work in my program. I coded this program quite terribly, so I won't be pasting the verbose code. The only thing that I used was 4 action listeners for buttons and keys. Could this be the issue?</p>\n<p>Here is it calling upon the function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>confirmButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                // gets all the necessary info from the screen before going to next screen\n                event = eventName.getText();\n                // String monthString = monthDropdown.getText();\n\n                // get dropdown stuff here\n\n                // send info to server here\n\n                // hides the first screen\n                firstScreen.setVisible(false);\n                firstScreen.dispose();\n                // advances to second screen\n                secondScreen();\n            }\n        });\n</code></pre>\n<p>Here is the function:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public void secondScreen() {\n        // set up second screen here\n        JFrame secondScreen = new JFrame();\n        secondScreen.setLayout(null);\n        // secondScreen.setAlwaysOnTop(true);\n\n        fullScreen(secondScreen);\n\n        // gets rid of the header\n        // secondScreen.setUndecorated(true);\n\n        // sets the background to dark gray\n        secondScreen.getContentPane().setBackground(Color.DARK_GRAY);\n        // disables alt-f4\n        // secondScreen.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n\n        scanQRCode scanner = new scanQRCode();\n        Future&lt;String&gt; scannedQRCode = scanner.getQRCode(secondScreen, (int) dimensions.getWidth(),\n                (int) dimensions.getHeight());\n\n        JButton alternativeLoginButton = new JButton(&quot;Or Login with Student ID&quot;);\n        alternativeLoginButton.setBounds((int) (0.5 * dimensions.getWidth() - 100),\n                (int) (0.8 * dimensions.getHeight()), 200, 25);\n        alternativeLoginButton.setBackground(Color.LIGHT_GRAY);\n        alternativeLoginButton.setForeground(Color.BLACK);\n\n        // manual thingy\n        alternativeLoginButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                manualStudentId(secondScreen);\n            }\n        });\n\n        secondScreen.add(alternativeLoginButton);\n\n        secondScreen.setAlwaysOnTop(true);\n        secondScreen.setVisible(true);\n\n        try {\n            String QRCode_Value = scannedQRCode.get();\n        } catch (Exception e) {\n            System.out.println(&quot;Error in getting QRCode value&quot;);\n            // probably shouldn't ever get here????\n        }\n    }\n\n</code></pre>\n<p>And here is the QR Code Scanner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class scanQRCode {\n    private ExecutorService executor = Executors.newSingleThreadExecutor();\n    private JFrame jFrame = new JFrame();\n\n    // puts the QR code in the middle of the screen\n    public Future&lt;String&gt; getQRCode(JFrame frame, int width, int height) {\n        Callable&lt;String&gt; scanTask = () -&gt; {\n            Webcam webcam = Webcam.getDefault(); // Generate Webcam Object\n            webcam.setViewSize(new java.awt.Dimension(640, 480));\n            WebcamPanel webcamPanel = new WebcamPanel(webcam);\n            webcamPanel.setMirrored(false);\n            webcamPanel.setBounds((int) (width / 2) - 320, (int) (height / 2) - 240, 640, 480);\n            frame.add(webcamPanel);\n            // jFrame.setVisible(true);\n\n            // jFrame.addWindowListener(new WindowAdapter() {\n            // @Override\n            // public void windowIconified(WindowEvent e) {\n            // // the window is minimized, terminate the task here\n            // jFrame.dispose();\n            // }\n            // });\n\n            // jFrame.addWindowListener(new WindowAdapter() {\n            // public void windowClosing(WindowEvent e) {\n            // webcam.close();\n            // }\n            // });\n            do {\n                try {\n                    BufferedImage image = webcam.getImage();\n                    System.out.println(image);\n                    if (image == null) {\n                        continue;\n                    }\n                    LuminanceSource source = new BufferedImageLuminanceSource(image);\n                    BinaryBitmap bitmap = new BinaryBitmap(new HybridBinarizer(source));\n                    Result result = new MultiFormatReader().decode(bitmap);\n                    if (result.getText() != null) {\n                        jFrame.setVisible(false);\n                        jFrame.dispose();\n                        webcam.close();\n                        return result.getText();\n                    }\n\n                } catch (Exception e) {\n                }\n            } while (true);\n        };\n        return executor.submit(scanTask);\n    } // End of scanQRCode\n\n// other code\n\n}```\n</code></pre>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":18137094,"reputation":495,"user_id":14254587,"display_name":"Charles Braga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680589439,"creation_date":1680546162,"question_id":75922610,"body_markdown":"I indend to create a request that receive a lot of data of one driver with MultpartFiles and others data:\r\n\r\n\r\n```\r\npublic class Driver {\r\n    private String name;\r\n    private int age;\r\n    private MultipartFile image;\r\n    private MultipartFile document;\r\n    private Car[] cars;\r\n}\r\n\r\npublic class Car {\r\n    private String model;\r\n    private int year;\r\n    private MultipartFile image;\r\n    private MultipartFile document;\r\n}\r\n\r\n```\r\n\r\nSo, I trid to use     \r\n\r\n```\r\npublic ResponseEntity&lt;?&gt; createDriver(@ModelAttribute Driver driver) \r\n```\r\n\r\nHowever it&#39;s not working.\r\n\r\nHow can I make a request saving a object with MultpartFile in JavaSpringboot? Is it possible?\r\n\r\n\r\n","title":"Spring Boot - Request with object with MultpartFile","body":"<p>I indend to create a request that receive a lot of data of one driver with MultpartFiles and others data:</p>\n<pre><code>public class Driver {\n    private String name;\n    private int age;\n    private MultipartFile image;\n    private MultipartFile document;\n    private Car[] cars;\n}\n\npublic class Car {\n    private String model;\n    private int year;\n    private MultipartFile image;\n    private MultipartFile document;\n}\n\n</code></pre>\n<p>So, I trid to use</p>\n<pre><code>public ResponseEntity&lt;?&gt; createDriver(@ModelAttribute Driver driver) \n</code></pre>\n<p>However it's not working.</p>\n<p>How can I make a request saving a object with MultpartFile in JavaSpringboot? Is it possible?</p>\n"},{"tags":["java","algorithm","layout","graphviz"],"comments":[{"owner":{"account_id":485835,"reputation":8478,"user_id":902383,"accept_rate":90,"display_name":"user902383"},"score":0,"creation_date":1372406471,"post_id":17359557,"comment_id":25192152,"body_markdown":"for directed graphs i used sugiyama framework, i never worked with non directed graphs so i&#39;m not sure what is best for them, you can also have a look at force directed graphs","body":"for directed graphs i used sugiyama framework, i never worked with non directed graphs so i&#39;m not sure what is best for them, you can also have a look at force directed graphs"}],"answers":[{"tags":[],"owner":{"account_id":955989,"reputation":10476,"user_id":981284,"accept_rate":94,"display_name":"rlegendi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1372410245,"creation_date":1372410245,"answer_id":17361030,"question_id":17359557,"body_markdown":"I would recommend using the [GraphStream API](http://graphstream-project.org/). It handles the DOT format and the visualization is quite nice.\r\n\r\n* Watch it in action [in this video](http://www.youtube.com/watch?v=XX5rRF6uxow)\r\n* See the file input [demo here](http://graphstream-project.org/doc/Tutorials/Reading-files-using-FileSource_1.0/)\r\n","title":"Java graph layout algorithms","body":"<p>I would recommend using the <a href=\"http://graphstream-project.org/\" rel=\"noreferrer\">GraphStream API</a>. It handles the DOT format and the visualization is quite nice.</p>\n\n<ul>\n<li>Watch it in action <a href=\"http://www.youtube.com/watch?v=XX5rRF6uxow\" rel=\"noreferrer\">in this video</a></li>\n<li>See the file input <a href=\"http://graphstream-project.org/doc/Tutorials/Reading-files-using-FileSource_1.0/\" rel=\"noreferrer\">demo here</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25905173,"reputation":43,"user_id":19630346,"display_name":"Jamison Jiang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680589059,"creation_date":1680589059,"answer_id":75926054,"question_id":17359557,"body_markdown":"Maybe you can use recently open-sourced [graph-support][1] which is a java version of tiny graphviz.\r\n\r\n\r\n  [1]: https://github.com/jamisonjiang/graph-support","title":"Java graph layout algorithms","body":"<p>Maybe you can use recently open-sourced <a href=\"https://github.com/jamisonjiang/graph-support\" rel=\"nofollow noreferrer\">graph-support</a> which is a java version of tiny graphviz.</p>\n"}],"owner":{"account_id":959539,"reputation":283,"user_id":984200,"accept_rate":71,"display_name":"user984200"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5342,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1680589059,"creation_date":1372404891,"question_id":17359557,"body_markdown":"In my Java application, i need some sort of a layout algorithm. The first approach is as follows:\r\n\r\n- Graphviz package needs to be installed\r\n- Create a dot file\r\n- Call graphviz from java application and parse output (layout)\r\n- Show the graph with the layout from graphviz (attributed dot)\r\n\r\nBut this solution requires the graphviz package installed on the running machines. I want to get rid of this dependency and i am searching for an adequate replacement.\r\n\r\n- Input: Nodes with width and height / edges from node to node with a thickness of the line\r\n- Output: Surrounding bounding box size, positions for nodes and edges\r\n\r\nCan you recommend any good and simple java layout algorithm? Do you have any experiences? \r\n\r\nThanks","title":"Java graph layout algorithms","body":"<p>In my Java application, i need some sort of a layout algorithm. The first approach is as follows:</p>\n\n<ul>\n<li>Graphviz package needs to be installed</li>\n<li>Create a dot file</li>\n<li>Call graphviz from java application and parse output (layout)</li>\n<li>Show the graph with the layout from graphviz (attributed dot)</li>\n</ul>\n\n<p>But this solution requires the graphviz package installed on the running machines. I want to get rid of this dependency and i am searching for an adequate replacement.</p>\n\n<ul>\n<li>Input: Nodes with width and height / edges from node to node with a thickness of the line</li>\n<li>Output: Surrounding bounding box size, positions for nodes and edges</li>\n</ul>\n\n<p>Can you recommend any good and simple java layout algorithm? Do you have any experiences? </p>\n\n<p>Thanks</p>\n"},{"tags":["java","json","transform","jolt"],"comments":[{"owner":{"account_id":11500422,"reputation":2541,"user_id":8428397,"display_name":"Mohammadreza Khedri"},"score":0,"creation_date":1680674527,"post_id":75924991,"comment_id":133936061,"body_markdown":"Why `PID1` is `string` and  `PID2`, `PID3` is `integer` ?","body":"Why <code>PID1</code> is <code>string</code> and  <code>PID2</code>, <code>PID3</code> is <code>integer</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":11500422,"reputation":2541,"user_id":8428397,"display_name":"Mohammadreza Khedri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680587570,"creation_date":1680587570,"answer_id":75925897,"question_id":75924991,"body_markdown":"You can use following spec:\r\n\r\nIf you want to change your output if `MC` in `OTHER` You can change second `shift` operation as you want.\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;@&quot;: &quot;data[0]&quot;,\r\n      &quot;MC&quot;: {\r\n        &quot;OTHER&quot;: {\r\n          &quot;@3&quot;: &quot;data[1]&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;0&quot;: &quot;&amp;1[&amp;]&quot;,\r\n        &quot;1&quot;: {\r\n          &quot;*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\r\n          &quot;mProperty&quot;: {\r\n            &quot;PID1&quot;: {\r\n              &quot;#piid&quot;: &quot;&amp;4[&amp;3].mDefintion.&amp;2[#2].id.value&quot;,\r\n              &quot;@&quot;: &quot;&amp;4[&amp;3].mDefintion.&amp;2[#2].value[0].valueString.value&quot;\r\n            },\r\n            &quot;*&quot;: {\r\n              &quot;$&quot;: &quot;&amp;4[&amp;3].mDefintion.&amp;2[#2].id.value&quot;,\r\n              &quot;@&quot;: &quot;&amp;4[&amp;3].mDefintion.&amp;2[#2].value[0].valueString.value&quot;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;=lastElement(@0)&quot;\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;&quot;\r\n    }\r\n  }\r\n]\r\n```","title":"Jolt condition spec","body":"<p>You can use following spec:</p>\n<p>If you want to change your output if <code>MC</code> in <code>OTHER</code> You can change second <code>shift</code> operation as you want.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;@&quot;: &quot;data[0]&quot;,\n      &quot;MC&quot;: {\n        &quot;OTHER&quot;: {\n          &quot;@3&quot;: &quot;data[1]&quot;\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;0&quot;: &quot;&amp;1[&amp;]&quot;,\n        &quot;1&quot;: {\n          &quot;*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\n          &quot;mProperty&quot;: {\n            &quot;PID1&quot;: {\n              &quot;#piid&quot;: &quot;&amp;4[&amp;3].mDefintion.&amp;2[#2].id.value&quot;,\n              &quot;@&quot;: &quot;&amp;4[&amp;3].mDefintion.&amp;2[#2].value[0].valueString.value&quot;\n            },\n            &quot;*&quot;: {\n              &quot;$&quot;: &quot;&amp;4[&amp;3].mDefintion.&amp;2[#2].id.value&quot;,\n              &quot;@&quot;: &quot;&amp;4[&amp;3].mDefintion.&amp;2[#2].value[0].valueString.value&quot;\n            }\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;=lastElement(@0)&quot;\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;&quot;\n    }\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":28208309,"reputation":11,"user_id":21561000,"display_name":"genericcoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680588423,"creation_date":1680574097,"question_id":75924991,"body_markdown":"I want a conditional transformation where I need to add a property in output if the value of a specific field in input matches my condition. Below is my input and output required.\r\n\r\n**Input:**\r\n\r\n```json\r\n{\r\n  &quot;MC&quot;: &quot;OTHER&quot;,\r\n  &quot;mProperty&quot;: {\r\n    &quot;PID1&quot;: &quot;value1&quot;,\r\n    &quot;PID2&quot;: &quot;value2&quot;,\r\n    &quot;PID3&quot;: &quot;k1&quot;\r\n  }\r\n}\r\n```\r\nCondition - I want to add a new field dataType=string to PID1(or any id), if MC value is OTHER.\r\n\r\n**Expected output (if MC value is OTHER):**\r\n\r\n```json\r\n{\r\n  &quot;mDefintion&quot;: {\r\n    &quot;mProperty&quot;: [\r\n      {\r\n        &quot;id&quot;: {\r\n          &quot;value&quot;: &quot;PID1&quot;\r\n        },\r\n        &quot;value&quot;: [\r\n          {\r\n            &quot;valueString&quot;: {\r\n              &quot;value&quot;: &quot;value1&quot;\r\n            }\r\n          }\r\n        ],\r\n        &quot;datatype&quot;: &quot;string&quot;\r\n      },\r\n      {\r\n        &quot;id&quot;: {\r\n          &quot;value&quot;: &quot;PID2&quot;\r\n        },\r\n        &quot;value&quot;: [\r\n          {\r\n            &quot;valueString&quot;: {\r\n              &quot;value&quot;: &quot;value2&quot;\r\n            }\r\n          }\r\n        ],\r\n        &quot;datatype&quot;: &quot;integer&quot;\r\n      },\r\n      {\r\n        &quot;id&quot;: {\r\n          &quot;value&quot;: &quot;PID3&quot;\r\n        },\r\n        &quot;value&quot;: [\r\n          {\r\n            &quot;valueString&quot;: {\r\n              &quot;value&quot;: &quot;k1&quot;\r\n            }\r\n          }\r\n        ],\r\n        &quot;datatype&quot;: &quot;integer&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n**Below is the jolt code I am using:**\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;&amp;&quot;,\r\n      &quot;mProperty&quot;: {\r\n        &quot;PID1&quot;: {\r\n          &quot;#piid&quot;: &quot;mDefintion.mProperty[#2].id.value&quot;,\r\n          &quot;@&quot;: &quot;mDefintion.mProperty[#2].value[0].valueString.value&quot;\r\n        },\r\n        &quot;*&quot;: {\r\n          &quot;$&quot;: &quot;mDefintion.mProperty[#2].id.value&quot;,\r\n          &quot;@&quot;: &quot;mDefintion.mProperty[#2].value[0].valueString.value&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nNo matter how much I try I am unable to get the condition part to work. Below is the output I am getting for the above code - \r\n\r\n```json\r\n{\r\n  &quot;MC&quot;: &quot;OTHER&quot;,\r\n  &quot;mDefintion&quot;: {\r\n    &quot;mProperty&quot;: [\r\n      {\r\n        &quot;id&quot;: {\r\n          &quot;value&quot;: &quot;piid&quot;\r\n        },\r\n        &quot;value&quot;: [\r\n          {\r\n            &quot;valueString&quot;: {\r\n              &quot;value&quot;: &quot;value1&quot;\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        &quot;id&quot;: {\r\n          &quot;value&quot;: &quot;PID2&quot;\r\n        },\r\n        &quot;value&quot;: [\r\n          {\r\n            &quot;valueString&quot;: {\r\n              &quot;value&quot;: &quot;value2&quot;\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        &quot;id&quot;: {\r\n          &quot;value&quot;: &quot;PID3&quot;\r\n        },\r\n        &quot;value&quot;: [\r\n          {\r\n            &quot;valueString&quot;: {\r\n              &quot;value&quot;: &quot;k1&quot;\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n```","title":"Jolt condition spec","body":"<p>I want a conditional transformation where I need to add a property in output if the value of a specific field in input matches my condition. Below is my input and output required.</p>\n<p><strong>Input:</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;MC&quot;: &quot;OTHER&quot;,\n  &quot;mProperty&quot;: {\n    &quot;PID1&quot;: &quot;value1&quot;,\n    &quot;PID2&quot;: &quot;value2&quot;,\n    &quot;PID3&quot;: &quot;k1&quot;\n  }\n}\n</code></pre>\n<p>Condition - I want to add a new field dataType=string to PID1(or any id), if MC value is OTHER.</p>\n<p><strong>Expected output (if MC value is OTHER):</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;mDefintion&quot;: {\n    &quot;mProperty&quot;: [\n      {\n        &quot;id&quot;: {\n          &quot;value&quot;: &quot;PID1&quot;\n        },\n        &quot;value&quot;: [\n          {\n            &quot;valueString&quot;: {\n              &quot;value&quot;: &quot;value1&quot;\n            }\n          }\n        ],\n        &quot;datatype&quot;: &quot;string&quot;\n      },\n      {\n        &quot;id&quot;: {\n          &quot;value&quot;: &quot;PID2&quot;\n        },\n        &quot;value&quot;: [\n          {\n            &quot;valueString&quot;: {\n              &quot;value&quot;: &quot;value2&quot;\n            }\n          }\n        ],\n        &quot;datatype&quot;: &quot;integer&quot;\n      },\n      {\n        &quot;id&quot;: {\n          &quot;value&quot;: &quot;PID3&quot;\n        },\n        &quot;value&quot;: [\n          {\n            &quot;valueString&quot;: {\n              &quot;value&quot;: &quot;k1&quot;\n            }\n          }\n        ],\n        &quot;datatype&quot;: &quot;integer&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p><strong>Below is the jolt code I am using:</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;&amp;&quot;,\n      &quot;mProperty&quot;: {\n        &quot;PID1&quot;: {\n          &quot;#piid&quot;: &quot;mDefintion.mProperty[#2].id.value&quot;,\n          &quot;@&quot;: &quot;mDefintion.mProperty[#2].value[0].valueString.value&quot;\n        },\n        &quot;*&quot;: {\n          &quot;$&quot;: &quot;mDefintion.mProperty[#2].id.value&quot;,\n          &quot;@&quot;: &quot;mDefintion.mProperty[#2].value[0].valueString.value&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>No matter how much I try I am unable to get the condition part to work. Below is the output I am getting for the above code -</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;MC&quot;: &quot;OTHER&quot;,\n  &quot;mDefintion&quot;: {\n    &quot;mProperty&quot;: [\n      {\n        &quot;id&quot;: {\n          &quot;value&quot;: &quot;piid&quot;\n        },\n        &quot;value&quot;: [\n          {\n            &quot;valueString&quot;: {\n              &quot;value&quot;: &quot;value1&quot;\n            }\n          }\n        ]\n      },\n      {\n        &quot;id&quot;: {\n          &quot;value&quot;: &quot;PID2&quot;\n        },\n        &quot;value&quot;: [\n          {\n            &quot;valueString&quot;: {\n              &quot;value&quot;: &quot;value2&quot;\n            }\n          }\n        ]\n      },\n      {\n        &quot;id&quot;: {\n          &quot;value&quot;: &quot;PID3&quot;\n        },\n        &quot;value&quot;: [\n          {\n            &quot;valueString&quot;: {\n              &quot;value&quot;: &quot;k1&quot;\n            }\n          }\n        ]\n      }\n    ]\n  }\n}\n</code></pre>\n"},{"tags":["java","code-generation","scaffolding","javapoet"],"answers":[{"tags":[],"owner":{"account_id":27811543,"reputation":1,"user_id":21233839,"display_name":"Yardim Server"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680588276,"creation_date":1680588276,"answer_id":75925966,"question_id":75895547,"body_markdown":"    ParameterSpec parameterOfConst = ParameterSpec.builder(String.class, className)\r\n            .addAnnotation(\r\n                    AnnotationSpec.builder(value)\r\n                            .addMember(&quot;value&quot;, &quot;\\&quot;$${topics.&quot; + className.toLowerCase() + &quot;.command}\\&quot;&quot;)\r\n                            .build())\r\n            .build();\r\nThat is the answer of my question","title":"How can I write Annotation member with using JavaPoet?","body":"<pre><code>ParameterSpec parameterOfConst = ParameterSpec.builder(String.class, className)\n        .addAnnotation(\n                AnnotationSpec.builder(value)\n                        .addMember(&quot;value&quot;, &quot;\\&quot;$${topics.&quot; + className.toLowerCase() + &quot;.command}\\&quot;&quot;)\n                        .build())\n        .build();\n</code></pre>\n<p>That is the answer of my question</p>\n"}],"owner":{"account_id":27811543,"reputation":1,"user_id":21233839,"display_name":"Yardim Server"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680709499,"accepted_answer_id":75925966,"answer_count":1,"score":-1,"last_activity_date":1680588276,"creation_date":1680244765,"question_id":75895547,"body_markdown":"I want to generate an annotation with its members. The structure of annotation is\r\n\r\n`public className (@Value(&quot;${topics.className.command}&quot;) String className){\r\n}`\r\nBecause of $ sign I take error. Pls help me how can I write this structure?\r\nThe places I wrote as className are variable. This will take from users. \r\n\r\n\r\n```\r\n`ParameterSpec parameterOfConst = ParameterSpec.builder(String.class, className )\r\n                .addAnnotation(\r\n                        AnnotationSpec.builder(value)\r\n                                .addMember(&quot;{$topics.&quot; +&quot;&quot;, &quot;$S&quot;, className.toLowerCase() + &quot;.command}&quot;)\r\n                                .build())`\r\n```","title":"How can I write Annotation member with using JavaPoet?","body":"<p>I want to generate an annotation with its members. The structure of annotation is</p>\n<p><code>public className (@Value(&quot;${topics.className.command}&quot;) String className){ }</code>\nBecause of $ sign I take error. Pls help me how can I write this structure?\nThe places I wrote as className are variable. This will take from users.</p>\n<pre><code>`ParameterSpec parameterOfConst = ParameterSpec.builder(String.class, className )\n                .addAnnotation(\n                        AnnotationSpec.builder(value)\n                                .addMember(&quot;{$topics.&quot; +&quot;&quot;, &quot;$S&quot;, className.toLowerCase() + &quot;.command}&quot;)\n                                .build())`\n</code></pre>\n"},{"tags":["java","spring","spring-boot","concurrency","apache-camel"],"comments":[{"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"score":0,"creation_date":1680589993,"post_id":75925925,"comment_id":133919366,"body_markdown":"Seems a classic case of producer consumer problem.  See this for reference:\nhttps://stackoverflow.com/questions/9388838/writing-a-program-with-2-threads-which-prints-alternatively/70694332#70694332","body":"Seems a classic case of producer consumer problem.  See this for reference: <a href=\"https://stackoverflow.com/questions/9388838/writing-a-program-with-2-threads-which-prints-alternatively/70694332#70694332\" title=\"writing a program with 2 threads which prints alternatively\">stackoverflow.com/questions/9388838/&hellip;</a>"},{"owner":{"account_id":7204069,"reputation":25,"user_id":5500320,"display_name":"madStudent"},"score":0,"creation_date":1680615534,"post_id":75925925,"comment_id":133925587,"body_markdown":"Maybe I do not understand it, but this has nothing to do with threads within one app. I would say there has to be some camel configuration to achieve this and I am missing it.","body":"Maybe I do not understand it, but this has nothing to do with threads within one app. I would say there has to be some camel configuration to achieve this and I am missing it."},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1680628038,"post_id":75925925,"comment_id":133929062,"body_markdown":"See Camel in Action 2nd edition book. It has a chapter on clustering, and this use-case is discussed there, in chapter 12.5.3.","body":"See Camel in Action 2nd edition book. It has a chapter on clustering, and this use-case is discussed there, in chapter 12.5.3."},{"owner":{"account_id":7204069,"reputation":25,"user_id":5500320,"display_name":"madStudent"},"score":0,"creation_date":1681199824,"post_id":75925925,"comment_id":134013724,"body_markdown":"Thanks! I will have a look.","body":"Thanks! I will have a look."},{"owner":{"account_id":7204069,"reputation":25,"user_id":5500320,"display_name":"madStudent"},"score":0,"creation_date":1681272225,"post_id":75925925,"comment_id":134027940,"body_markdown":"So I read that using hazelcast repo would be an optimal solution, so my question is. Would this work also for sftp? And would not I achieve something similar using JdbcMessageIdRepository, since both services use the same db?","body":"So I read that using hazelcast repo would be an optimal solution, so my question is. Would this work also for sftp? And would not I achieve something similar using JdbcMessageIdRepository, since both services use the same db?"}],"owner":{"account_id":7204069,"reputation":25,"user_id":5500320,"display_name":"madStudent"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680587820,"creation_date":1680587820,"question_id":75925925,"body_markdown":"as said in the title, I have two services and each of them have a camel route inside that downloads files from sftp and processes them according to cron expression(they run at the same time). Problem is that despite of having idempotentConsumer in place, services seems to both take the same file and in logs I can see for example &quot;No such file exception&quot; when one instance was about to move or delete the file. I saw that there are options in camel to lets say lock the file but most of them work only for &quot;file&quot; component and not for sftp. Is there a way to assure that only one instance would processes the file without any errors or warnings? This is my configuration.\r\n\r\n    @Bean\r\n    public IdempotentRepository idempotentRepo(final DataSource dataSource) {\r\n        JdbcMessageIdRepository idRepository = new JdbcMessageIdRepository(dataSource, PROCESSOR_RESPONSE);\r\n        idRepository.setTableName(&quot;SCHEMA.CAMEL_MESSAGEPROCESSED&quot;);\r\n        return idRepository;\r\n    }\r\n\r\nAnd this is the route.\r\n\r\n    @Override\r\n    public void configure() {\r\n        from(&quot;sftp?preferredAuthentications=password&amp;password=${password}&amp;scheduler=quartz&amp;scheduler.cron=${cron}&amp;useUserKnownHostsFile=false&amp;delete=true&amp;shuffle=true&quot;)\r\n                .transacted()\r\n                .idempotentConsumer(header(&quot;camelFileAbsolutePath&quot;),\r\n                        idempotentRepository)\r\n                .eager(true)\r\n                .routeId(RouteDownloadResponses.class.getSimpleName())\r\n                .convertBodyTo(byte[].class)\r\n                .andSoOn();\r\n    }\r\n\r\nI saw a lot of posts how to set this up either in route option or using this consumer, but I did not find any solution that would work. Any help would be very appreciated. Thanks!","title":"Concurrency of two services that fetch files from one sftp via camel","body":"<p>as said in the title, I have two services and each of them have a camel route inside that downloads files from sftp and processes them according to cron expression(they run at the same time). Problem is that despite of having idempotentConsumer in place, services seems to both take the same file and in logs I can see for example &quot;No such file exception&quot; when one instance was about to move or delete the file. I saw that there are options in camel to lets say lock the file but most of them work only for &quot;file&quot; component and not for sftp. Is there a way to assure that only one instance would processes the file without any errors or warnings? This is my configuration.</p>\n<pre><code>@Bean\npublic IdempotentRepository idempotentRepo(final DataSource dataSource) {\n    JdbcMessageIdRepository idRepository = new JdbcMessageIdRepository(dataSource, PROCESSOR_RESPONSE);\n    idRepository.setTableName(&quot;SCHEMA.CAMEL_MESSAGEPROCESSED&quot;);\n    return idRepository;\n}\n</code></pre>\n<p>And this is the route.</p>\n<pre><code>@Override\npublic void configure() {\n    from(&quot;sftp?preferredAuthentications=password&amp;password=${password}&amp;scheduler=quartz&amp;scheduler.cron=${cron}&amp;useUserKnownHostsFile=false&amp;delete=true&amp;shuffle=true&quot;)\n            .transacted()\n            .idempotentConsumer(header(&quot;camelFileAbsolutePath&quot;),\n                    idempotentRepository)\n            .eager(true)\n            .routeId(RouteDownloadResponses.class.getSimpleName())\n            .convertBodyTo(byte[].class)\n            .andSoOn();\n}\n</code></pre>\n<p>I saw a lot of posts how to set this up either in route option or using this consumer, but I did not find any solution that would work. Any help would be very appreciated. Thanks!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3567986,"reputation":392,"user_id":2979045,"display_name":"fshdn19"},"score":0,"creation_date":1680588481,"post_id":75925870,"comment_id":133919135,"body_markdown":"getSupportFragmentManager().getFragments().get(getSupportFragmentManager().getBackStackEntryCount() -&gt; this should be `entryCount - 1`","body":"getSupportFragmentManager().getFragments().get(getSupportFra&zwnj;&#8203;gmentManager().getBa&zwnj;&#8203;ckStackEntryCount() -&gt; this should be <code>entryCount - 1</code>"}],"owner":{"account_id":26260429,"reputation":195,"user_id":19931837,"display_name":"Manisha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680587250,"creation_date":1680587250,"question_id":75925870,"body_markdown":"I have simple code like this in my android application&#39;s main activity.\r\n\r\n    @SuppressLint(&quot;SourceLockedOrientationActivity&quot;)\r\n        @Override\r\n        public void onBackPressed() {\r\n            if (drawer.isDrawerOpen(GravityCompat.START)) {\r\n                drawer.closeDrawer(GravityCompat.START);\r\n            } else {\r\n                if (doubleBackToExitPressedOnce) {\r\n                    super.onBackPressed();\r\n                }\r\n                if (getSupportFragmentManager().getBackStackEntryCount() != 0) {\r\n                    String title;\r\n                    if(!(getSupportFragmentManager().getFragments().get(getSupportFragmentManager().getBackStackEntryCount()) instanceof SupportRequestManagerFragment)) {\r\n                        title = getSupportFragmentManager().getFragments().get(getSupportFragmentManager().getBackStackEntryCount()).getTag();\r\n                    } else {\r\n                        title = getSupportFragmentManager().getFragments().get(getSupportFragmentManager().getBackStackEntryCount()-1).getTag();\r\n                    }\r\n                    if (title != null) {\r\n                        toolbar.setTitle(title);\r\n                        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n                        getWindow().clearFlags(1024);\r\n    \r\n                    }\r\n                    super.onBackPressed();\r\n                } else {\r\n                    this.doubleBackToExitPressedOnce = true;\r\n                    Toast.makeText(this, getResources().getString(R.string.Please_click_BACK_again_to_exit), Toast.LENGTH_SHORT).show();\r\n    \r\n                    new Handler().postDelayed(() -&gt; doubleBackToExitPressedOnce = false, 2000);\r\n                }\r\n            }\r\n        }\r\n\r\nNormally when I run or test app, I am not getting any error but in Google console, I am getting error logged like this\r\n\r\n    com.example.appname.activity.MainActivity.onBackPressed\r\n    java.lang.IndexOutOfBoundsException\r\n\r\nand full details is like this\r\n\r\n    Exception java.lang.IndexOutOfBoundsException: Index: 2, Size: 2\r\n      at java.util.ArrayList.get (ArrayList.java:437)\r\n      at com.example.appname.activity.MainActivity.onBackPressed (MainActivity.java)\r\n      at android.app.Activity.onKeyUp (Activity.java:3707)\r\n      at android.view.KeyEvent.dispatch (KeyEvent.java:2860)\r\n      at android.app.Activity.dispatchKeyEvent (Activity.java:4024)\r\n      at androidx.core.app.ComponentActivity.superDispatchKeyEvent (ComponentActivity.java)\r\n      at androidx.core.view.KeyEventDispatcher.dispatchKeyEvent (KeyEventDispatcher.java)\r\n      at androidx.core.app.ComponentActivity.dispatchKeyEvent (ComponentActivity.java)\r\n      at androidx.appcompat.app.AppCompatActivity.dispatchKeyEvent (AppCompatActivity.java)\r\n      at androidx.appcompat.view.WindowCallbackWrapper.dispatchKeyEvent (WindowCallbackWrapper.java)\r\n      at androidx.appcompat.app.AppCompatDelegateImpl$AppCompatWindowCallback.dispatchKeyEvent (AppCompatDelegateImpl.java)\r\n      at com.android.internal.policy.DecorView.dispatchKeyEvent (DecorView.java:389)\r\n      at android.view.ViewRootImpl$ViewPostImeInputStage.processKeyEvent (ViewRootImpl.java:5563)\r\n      at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess (ViewRootImpl.java:5431)\r\n      at android.view.ViewRootImpl$InputStage.deliver (ViewRootImpl.java:4936)\r\n      at android.view.ViewRootImpl$InputStage.onDeliverToNext (ViewRootImpl.java:4989)\r\n      at android.view.ViewRootImpl$InputStage.forward (ViewRootImpl.java:4955)\r\n      at android.view.ViewRootImpl$AsyncInputStage.forward (ViewRootImpl.java:5095)\r\n      at android.view.ViewRootImpl$InputStage.apply (ViewRootImpl.java:4963)\r\n      at android.view.ViewRootImpl$AsyncInputStage.apply (ViewRootImpl.java:5152)\r\n      at android.view.ViewRootImpl$InputStage.deliver (ViewRootImpl.java:4936)\r\n      at android.view.ViewRootImpl$InputStage.onDeliverToNext (ViewRootImpl.java:4989)\r\n      at android.view.ViewRootImpl$InputStage.forward (ViewRootImpl.java:4955)\r\n      at android.view.ViewRootImpl$InputStage.apply (ViewRootImpl.java:4963)\r\n      at android.view.ViewRootImpl$InputStage.deliver (ViewRootImpl.java:4936)\r\n      at android.view.ViewRootImpl$InputStage.onDeliverToNext (ViewRootImpl.java:4989)\r\n      at android.view.ViewRootImpl$InputStage.forward (ViewRootImpl.java:4955)\r\n      at android.view.ViewRootImpl$AsyncInputStage.forward (ViewRootImpl.java:5128)\r\n      at android.view.ViewRootImpl$ImeInputStage.onFinishedInputEvent (ViewRootImpl.java:5291)\r\n      at android.view.inputmethod.InputMethodManager$PendingEvent.run (InputMethodManager.java:3069)\r\n      at android.view.inputmethod.InputMethodManager.invokeFinishedInputEventCallback (InputMethodManager.java:2612)\r\n      at android.view.inputmethod.InputMethodManager.finishedInputEvent (InputMethodManager.java:2603)\r\n      at android.view.inputmethod.InputMethodManager$ImeInputEventSender.onInputEventFinished (InputMethodManager.java:3046)\r\n      at android.view.InputEventSender.dispatchInputEventFinished (InputEventSender.java:143)\r\n      at android.os.MessageQueue.nativePollOnce\r\n      at android.os.MessageQueue.next (MessageQueue.java:336)\r\n      at android.os.Looper.loop (Looper.java:181)\r\n      at android.app.ActivityThread.main (ActivityThread.java:7590)\r\n      at java.lang.reflect.Method.invoke\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:539)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:950)\r\n\r\nI am not getting idea whats wrong with my code. Let me know if any expert here can get the clue for the same.\r\n\r\nThanks","title":"IndexOutOfBoundsException on onBackPressed","body":"<p>I have simple code like this in my android application's main activity.</p>\n<pre><code>@SuppressLint(&quot;SourceLockedOrientationActivity&quot;)\n    @Override\n    public void onBackPressed() {\n        if (drawer.isDrawerOpen(GravityCompat.START)) {\n            drawer.closeDrawer(GravityCompat.START);\n        } else {\n            if (doubleBackToExitPressedOnce) {\n                super.onBackPressed();\n            }\n            if (getSupportFragmentManager().getBackStackEntryCount() != 0) {\n                String title;\n                if(!(getSupportFragmentManager().getFragments().get(getSupportFragmentManager().getBackStackEntryCount()) instanceof SupportRequestManagerFragment)) {\n                    title = getSupportFragmentManager().getFragments().get(getSupportFragmentManager().getBackStackEntryCount()).getTag();\n                } else {\n                    title = getSupportFragmentManager().getFragments().get(getSupportFragmentManager().getBackStackEntryCount()-1).getTag();\n                }\n                if (title != null) {\n                    toolbar.setTitle(title);\n                    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n                    getWindow().clearFlags(1024);\n\n                }\n                super.onBackPressed();\n            } else {\n                this.doubleBackToExitPressedOnce = true;\n                Toast.makeText(this, getResources().getString(R.string.Please_click_BACK_again_to_exit), Toast.LENGTH_SHORT).show();\n\n                new Handler().postDelayed(() -&gt; doubleBackToExitPressedOnce = false, 2000);\n            }\n        }\n    }\n</code></pre>\n<p>Normally when I run or test app, I am not getting any error but in Google console, I am getting error logged like this</p>\n<pre><code>com.example.appname.activity.MainActivity.onBackPressed\njava.lang.IndexOutOfBoundsException\n</code></pre>\n<p>and full details is like this</p>\n<pre><code>Exception java.lang.IndexOutOfBoundsException: Index: 2, Size: 2\n  at java.util.ArrayList.get (ArrayList.java:437)\n  at com.example.appname.activity.MainActivity.onBackPressed (MainActivity.java)\n  at android.app.Activity.onKeyUp (Activity.java:3707)\n  at android.view.KeyEvent.dispatch (KeyEvent.java:2860)\n  at android.app.Activity.dispatchKeyEvent (Activity.java:4024)\n  at androidx.core.app.ComponentActivity.superDispatchKeyEvent (ComponentActivity.java)\n  at androidx.core.view.KeyEventDispatcher.dispatchKeyEvent (KeyEventDispatcher.java)\n  at androidx.core.app.ComponentActivity.dispatchKeyEvent (ComponentActivity.java)\n  at androidx.appcompat.app.AppCompatActivity.dispatchKeyEvent (AppCompatActivity.java)\n  at androidx.appcompat.view.WindowCallbackWrapper.dispatchKeyEvent (WindowCallbackWrapper.java)\n  at androidx.appcompat.app.AppCompatDelegateImpl$AppCompatWindowCallback.dispatchKeyEvent (AppCompatDelegateImpl.java)\n  at com.android.internal.policy.DecorView.dispatchKeyEvent (DecorView.java:389)\n  at android.view.ViewRootImpl$ViewPostImeInputStage.processKeyEvent (ViewRootImpl.java:5563)\n  at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess (ViewRootImpl.java:5431)\n  at android.view.ViewRootImpl$InputStage.deliver (ViewRootImpl.java:4936)\n  at android.view.ViewRootImpl$InputStage.onDeliverToNext (ViewRootImpl.java:4989)\n  at android.view.ViewRootImpl$InputStage.forward (ViewRootImpl.java:4955)\n  at android.view.ViewRootImpl$AsyncInputStage.forward (ViewRootImpl.java:5095)\n  at android.view.ViewRootImpl$InputStage.apply (ViewRootImpl.java:4963)\n  at android.view.ViewRootImpl$AsyncInputStage.apply (ViewRootImpl.java:5152)\n  at android.view.ViewRootImpl$InputStage.deliver (ViewRootImpl.java:4936)\n  at android.view.ViewRootImpl$InputStage.onDeliverToNext (ViewRootImpl.java:4989)\n  at android.view.ViewRootImpl$InputStage.forward (ViewRootImpl.java:4955)\n  at android.view.ViewRootImpl$InputStage.apply (ViewRootImpl.java:4963)\n  at android.view.ViewRootImpl$InputStage.deliver (ViewRootImpl.java:4936)\n  at android.view.ViewRootImpl$InputStage.onDeliverToNext (ViewRootImpl.java:4989)\n  at android.view.ViewRootImpl$InputStage.forward (ViewRootImpl.java:4955)\n  at android.view.ViewRootImpl$AsyncInputStage.forward (ViewRootImpl.java:5128)\n  at android.view.ViewRootImpl$ImeInputStage.onFinishedInputEvent (ViewRootImpl.java:5291)\n  at android.view.inputmethod.InputMethodManager$PendingEvent.run (InputMethodManager.java:3069)\n  at android.view.inputmethod.InputMethodManager.invokeFinishedInputEventCallback (InputMethodManager.java:2612)\n  at android.view.inputmethod.InputMethodManager.finishedInputEvent (InputMethodManager.java:2603)\n  at android.view.inputmethod.InputMethodManager$ImeInputEventSender.onInputEventFinished (InputMethodManager.java:3046)\n  at android.view.InputEventSender.dispatchInputEventFinished (InputEventSender.java:143)\n  at android.os.MessageQueue.nativePollOnce\n  at android.os.MessageQueue.next (MessageQueue.java:336)\n  at android.os.Looper.loop (Looper.java:181)\n  at android.app.ActivityThread.main (ActivityThread.java:7590)\n  at java.lang.reflect.Method.invoke\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:539)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:950)\n</code></pre>\n<p>I am not getting idea whats wrong with my code. Let me know if any expert here can get the clue for the same.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680543519,"post_id":75922213,"comment_id":133912967,"body_markdown":"Nothing is the startup logs about problems exposing the second controller? What are the packages of both controllers and the @SpringbootApplication class?","body":"Nothing is the startup logs about problems exposing the second controller? What are the packages of both controllers and the @SpringbootApplication class?"},{"owner":{"account_id":21481623,"reputation":1446,"user_id":15828895,"display_name":"plutownium"},"score":0,"creation_date":1680543692,"post_id":75922213,"comment_id":133913011,"body_markdown":"Boom. You got it. Thank you. Updating OP with the source of the problem and solution","body":"Boom. You got it. Thank you. Updating OP with the source of the problem and solution"}],"owner":{"account_id":21481623,"reputation":1446,"user_id":15828895,"display_name":"plutownium"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680586567,"creation_date":1680543037,"question_id":75922213,"body_markdown":"Here is a controller that works\r\n```\r\n@RestController\r\n@RequestMapping(path = &quot;api/v1/students&quot;)\r\npublic class StudentController {\r\n    @GetMapping(value = &quot;/health2&quot;)\r\n    public String Health2() {\r\n        return &quot;Online!##@@@@&quot;; // works!\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow here is a controller that doesn&#39;t work\r\n```\r\n\r\n@RestController\r\n@RequestMapping(path = &quot;/api/v1/ws&quot;)\r\npublic class RecordingController {\r\n\r\n  @GetMapping(value = &quot;/health&quot;)\r\n  public String foo() {\r\n      return &quot;Running&quot;;\r\n  }\r\n}\r\n```\r\n\r\n`GET http://localhost:8080/api/v1/students/health2` &lt;= &quot;Online!##@@@@&quot;\r\n\r\n`GET http://localhost:8080/api/v1/ws/health` gives\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-04-03T17:26:01.369+00:00&quot;,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;message&quot;: &quot;No message available&quot;,\r\n    &quot;path&quot;: &quot;/api/v1/ws/health&quot;\r\n}\r\n```\r\n\r\nHow do I fix it please? My imports all work\r\n\r\nMy expectation is that copying the same forms into another controller will work identically to the previous one\r\n\r\nMy actual result is that the second controller fails but I dont know why\r\n\r\nI tried it also as `@RequestMapping(path = &quot;api/v1/ws&quot;)` but it still fails\r\n\r\nI have restarted my server.\r\n\r\nEdit: Solution\r\n```\r\n// package com.example.messagingstompwebsocket; // remove this\r\npackage hotjar.demo.student; // add this\r\n```","title":"My Spring Boot contoller health check fails even though its the same as the other one","body":"<p>Here is a controller that works</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;api/v1/students&quot;)\npublic class StudentController {\n    @GetMapping(value = &quot;/health2&quot;)\n    public String Health2() {\n        return &quot;Online!##@@@@&quot;; // works!\n    }\n\n}\n</code></pre>\n<p>Now here is a controller that doesn't work</p>\n<pre><code>\n@RestController\n@RequestMapping(path = &quot;/api/v1/ws&quot;)\npublic class RecordingController {\n\n  @GetMapping(value = &quot;/health&quot;)\n  public String foo() {\n      return &quot;Running&quot;;\n  }\n}\n</code></pre>\n<p><code>GET http://localhost:8080/api/v1/students/health2</code> &lt;= &quot;Online!##@@@@&quot;</p>\n<p><code>GET http://localhost:8080/api/v1/ws/health</code> gives</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-04-03T17:26:01.369+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;message&quot;: &quot;No message available&quot;,\n    &quot;path&quot;: &quot;/api/v1/ws/health&quot;\n}\n</code></pre>\n<p>How do I fix it please? My imports all work</p>\n<p>My expectation is that copying the same forms into another controller will work identically to the previous one</p>\n<p>My actual result is that the second controller fails but I dont know why</p>\n<p>I tried it also as <code>@RequestMapping(path = &quot;api/v1/ws&quot;)</code> but it still fails</p>\n<p>I have restarted my server.</p>\n<p>Edit: Solution</p>\n<pre><code>// package com.example.messagingstompwebsocket; // remove this\npackage hotjar.demo.student; // add this\n</code></pre>\n"},{"tags":["java","html","xml","string"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684634497,"post_id":75925276,"comment_id":134545262,"body_markdown":"You are using a `CDATA` marked section.  This will cause any characters within it to be parsed as literal characters, and not to be interpreted by the markup parser.","body":"You are using a <code>CDATA</code> marked section.  This will cause any characters within it to be parsed as literal characters, and not to be interpreted by the markup parser."}],"owner":{"account_id":28192436,"reputation":1,"user_id":21547619,"display_name":"Abjal Hossen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680585342,"creation_date":1680578540,"question_id":75925276,"body_markdown":"I try to write some html code in string, but html not working with style. see the screenshot\r\n\r\n[android studio](https://i.stack.imgur.com/ztwZ5.png)","title":"Html code not working with style in String Android Studio","body":"<p>I try to write some html code in string, but html not working with style. see the screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/ztwZ5.png\" rel=\"nofollow noreferrer\">android studio</a></p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":17067635,"reputation":517,"user_id":12349305,"display_name":"Ballo Ibrahima"},"score":0,"creation_date":1680565466,"post_id":75922734,"comment_id":133916802,"body_markdown":"You must remove static  on testrepository declaration","body":"You must remove static  on testrepository declaration"}],"answers":[{"tags":[],"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680548203,"creation_date":1680548203,"answer_id":75922880,"question_id":75922734,"body_markdown":"you cannot use `@Autowired` to inject dependencies into static fields in Spring Boot.","title":"JPA Repository @Autowired doesn&#39;t work and returns NullPointerException","body":"<p>you cannot use <code>@Autowired</code> to inject dependencies into static fields in Spring Boot.</p>\n"}],"owner":{"account_id":22063129,"reputation":3,"user_id":16325428,"display_name":"Andr&#233; Ribeiro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75922880,"answer_count":1,"score":0,"last_activity_date":1680585173,"creation_date":1680547068,"question_id":75922734,"body_markdown":"I have a simple model and repository that i want to test the &quot;save&quot; method:\r\n\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@RequiredArgsConstructor\r\n@Entity\r\n@Table(name = &quot;TEST&quot;)\r\npublic class TestModel {\r\n\r\n    @Id\r\n    @NonNull\r\n    @Basic(optional = false)\r\n    @Column(name = &quot;id&quot;)\r\n    private String id;\r\n\r\n    @NonNull\r\n    @Basic(optional = false)\r\n    @Column(name = &quot;testValue&quot;)\r\n    private String testValue;\r\n\r\n}\r\n\r\n@Repository\r\npublic interface TestRepository extends JpaRepository&lt;TestModel, String&gt; {\r\n\r\n}\r\n```\r\n\r\n...and on the main class:\r\n\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\t@Autowired private static TestRepository testRepository;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\r\n\t\tTestModel testModel = new TestModel(&quot;1&quot;, &quot;randomValue&quot;);\r\n\r\n\t\ttestRepository.save(testModel);\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nWhen i try to use the repository to save a simple object, it gaves me NullPointerException pointing to the autowired repository.\r\n\r\nI&#39;ve used so many annotations like ComponentScan (pointing to the repository package), EntityScan (pointing to the entity package) EnabledAutoConfiguration but no one of them works for me.\r\n\r\nI&#39;m using Spring Boot 2.7.10, Spring Data JPA and Spring Web as dependencies in pom.xml.\r\n\r\nSomeone knows what it should be? Thanks!\r\n","title":"JPA Repository @Autowired doesn&#39;t work and returns NullPointerException","body":"<p>I have a simple model and repository that i want to test the &quot;save&quot; method:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@RequiredArgsConstructor\n@Entity\n@Table(name = &quot;TEST&quot;)\npublic class TestModel {\n\n    @Id\n    @NonNull\n    @Basic(optional = false)\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n    @NonNull\n    @Basic(optional = false)\n    @Column(name = &quot;testValue&quot;)\n    private String testValue;\n\n}\n\n@Repository\npublic interface TestRepository extends JpaRepository&lt;TestModel, String&gt; {\n\n}\n</code></pre>\n<p>...and on the main class:</p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\n    @Autowired private static TestRepository testRepository;\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n\n        TestModel testModel = new TestModel(&quot;1&quot;, &quot;randomValue&quot;);\n\n        testRepository.save(testModel);\n\n    }\n\n}\n</code></pre>\n<p>When i try to use the repository to save a simple object, it gaves me NullPointerException pointing to the autowired repository.</p>\n<p>I've used so many annotations like ComponentScan (pointing to the repository package), EntityScan (pointing to the entity package) EnabledAutoConfiguration but no one of them works for me.</p>\n<p>I'm using Spring Boot 2.7.10, Spring Data JPA and Spring Web as dependencies in pom.xml.</p>\n<p>Someone knows what it should be? Thanks!</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","repository"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1680528257,"post_id":75919821,"comment_id":133908830,"body_markdown":"Not sure if it&#39;s a typo, but your example here is missing `@Embeddable` on `UserRefId`.","body":"Not sure if it&#39;s a typo, but your example here is missing <code>@Embeddable</code> on <code>UserRefId</code>."},{"owner":{"account_id":8989910,"reputation":11,"user_id":6702196,"display_name":"DoGoodToEveryone"},"score":1,"creation_date":1680528611,"post_id":75919821,"comment_id":133908934,"body_markdown":"its a typo ,@Embeddable  is there","body":"its a typo ,@Embeddable  is there"},{"owner":{"account_id":8989910,"reputation":11,"user_id":6702196,"display_name":"DoGoodToEveryone"},"score":0,"creation_date":1680529328,"post_id":75919821,"comment_id":133909129,"body_markdown":"sorry but got the error ,its throwing error because of return type .It is resolved now .","body":"sorry but got the error ,its throwing error because of return type .It is resolved now ."}],"owner":{"account_id":8989910,"reputation":11,"user_id":6702196,"display_name":"DoGoodToEveryone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680585040,"creation_date":1680527262,"question_id":75919821,"body_markdown":"I am trying to create a Repository by having @embeddable and Embedded ID .\r\n```@Embeddable \r\npublic class UserRef {  \r\n\r\n  @EmbeddedId\r\n  private UserRefId id;  \r\n}\r\n```\r\n and\r\n```@Embeddable\r\npublic class UserRefId implements Serializable {\r\n\r\n  @NotNull\r\n  @Column(name = &quot;USER_TYPE_CD&quot;)\r\n  private String userTypeCd; \r\n\r\n  @NotNull\r\n  @Column(name = &quot;USER_INTERNAL_CD&quot;)\r\n  private String userInternalCd; \r\n}\r\n```\r\nWhen I am trying to run my application class its throwing:\r\n```\r\n nested exception is java.lang.IllegalArgumentException : Failed to create query for method public abstract repository.UserRefRepository.findById(java.lang.String) !  No property &#39;empty&#39; found for type &#39;UserRef&#39;\r\n```\r\nThis is my repository interface:\r\n```\r\n@Repository\r\npublic interface UserRefRepository extends JpaRepository &lt;UserRef, UserRefId&gt; { \r\n  public Map&lt;String, Map&lt;String, String&gt;&gt;  findById (String refTypeCd); \r\n}\r\n```\r\nI tried changing camelCase too but its not working at all, what am I doing wrong?","title":"Why Spring JPA is not able to create repository and throwing No property &#39;empty&#39; found for type &#39;UserRef","body":"<p>I am trying to create a Repository by having @embeddable and Embedded ID .</p>\n<pre><code>public class UserRef {  \n\n  @EmbeddedId\n  private UserRefId id;  \n}\n</code></pre>\n<p>and</p>\n<pre><code>public class UserRefId implements Serializable {\n\n  @NotNull\n  @Column(name = &quot;USER_TYPE_CD&quot;)\n  private String userTypeCd; \n\n  @NotNull\n  @Column(name = &quot;USER_INTERNAL_CD&quot;)\n  private String userInternalCd; \n}\n</code></pre>\n<p>When I am trying to run my application class its throwing:</p>\n<pre><code> nested exception is java.lang.IllegalArgumentException : Failed to create query for method public abstract repository.UserRefRepository.findById(java.lang.String) !  No property 'empty' found for type 'UserRef'\n</code></pre>\n<p>This is my repository interface:</p>\n<pre><code>@Repository\npublic interface UserRefRepository extends JpaRepository &lt;UserRef, UserRefId&gt; { \n  public Map&lt;String, Map&lt;String, String&gt;&gt;  findById (String refTypeCd); \n}\n</code></pre>\n<p>I tried changing camelCase too but its not working at all, what am I doing wrong?</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1680331154,"post_id":75904626,"comment_id":133883681,"body_markdown":"You&#39;re duplicating the `email` variable, so that code shouldn&#39;t even compile.","body":"You&#39;re duplicating the <code>email</code> variable, so that code shouldn&#39;t even compile."}],"owner":{"account_id":22980869,"reputation":33,"user_id":17107814,"display_name":"do hai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680584140,"creation_date":1680330812,"question_id":75904626,"body_markdown":"I have some problems when trying to use @HttpSession in Spring MVC Controller. I want to cut the first letter of an email from login page to home page with session. To avoid session being null when loading first home page when loaded I used if condition but it gives this error:\r\nError creating bean with name &#39;HomeController&#39;: Lookup method resolution failed\r\n\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class HomeController {\r\n    @GetMapping\r\n    @Transactional\r\n    public String Default(@SessionAttribute(&quot;email&quot;) String email,ModelMap modelMap,HttpSession httpSession) {\r\n        if(httpSession.getAttribute(&quot;email&quot;) != null) {\r\n            String email =(String) httpSession.getAttribute(&quot;email&quot;);\r\n            String chacracter = email.substring(0, 1);\r\n            modelMap.addAttribute(&quot;chacracter &quot;, chacracter );\r\n        }\r\n        return &quot;home&quot;;\r\n    }\r\n}\r\n```","title":"HTTP Status 500 - Internal Server Error:Error creating bean with name &#39;HomeController&#39;: Lookup method resolution failed","body":"<p>I have some problems when trying to use @HttpSession in Spring MVC Controller. I want to cut the first letter of an email from login page to home page with session. To avoid session being null when loading first home page when loaded I used if condition but it gives this error:\nError creating bean with name 'HomeController': Lookup method resolution failed</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/&quot;)\npublic class HomeController {\n    @GetMapping\n    @Transactional\n    public String Default(@SessionAttribute(&quot;email&quot;) String email,ModelMap modelMap,HttpSession httpSession) {\n        if(httpSession.getAttribute(&quot;email&quot;) != null) {\n            String email =(String) httpSession.getAttribute(&quot;email&quot;);\n            String chacracter = email.substring(0, 1);\n            modelMap.addAttribute(&quot;chacracter &quot;, chacracter );\n        }\n        return &quot;home&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":15643188,"reputation":2847,"user_id":11286032,"display_name":"Marcelo Paco"},"score":0,"creation_date":1680581454,"post_id":75925447,"comment_id":133918272,"body_markdown":"Please checkout [editing help](https://stackoverflow.com/editing-help) and [ask]","body":"Please checkout <a href=\"https://stackoverflow.com/editing-help\">editing help</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":27808716,"reputation":122,"user_id":21231507,"display_name":"Bhavyesh Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680583529,"creation_date":1680583529,"answer_id":75925589,"question_id":75925447,"body_markdown":"First of all you need every last element of that number so for that logic is below.\r\n\r\n    public class reverseNumber {\r\n        public static void main(String[] args) {\r\n    \r\n             System.out.print(&quot;Enter a number :&quot;);\r\n             Scanner sc = new Scanner(System.in);\r\n             int number = sc.nextInt();\r\n    \r\n             int reverse = 0;\r\n    \r\n            while (number != 0) {\r\n                int remainder = number % 10;\r\n                reverse = reverse * 10 + remainder;\r\n                number = number / 10;\r\n            }\r\n    \r\n            System.out.println(&quot;The reverse of the given number is: &quot; + reverse);\r\n        }\r\n    }\r\n\r\n\r\n&gt; &lt;h1&gt;&lt;b&gt;Logic Explanation&lt;/b&gt;&lt;/h1&gt;\r\n\r\n **1**. Loop runs until `reverse` variable will not 0.\r\n\r\n\r\n\r\n    while(number != 0)\r\n\r\n\r\n&lt;br&gt;\r\n\r\n**2**. This gives last number of that variable for Example. If we have 12345 then after this code line runs it gives 5 because when you do the number modulo 10 then it gives last one number.\r\n \r\n\r\n    int remainder = number % 10;\r\n\r\n&lt;br&gt;\r\n\r\n\r\n**3.** In this reverse variable we can store that last number.\r\n\r\n\r\n    reverse = reverse * 10 + remainder;\r\n\r\nThe value of the reverse is 0 at the start then remainder of first time is 5 so the value of the reverse is `(reverse = 0 + 10 + 5)` then at first time value of reverse is 5.\r\n\r\n**4.** after that the original number is divided by 10 and remove last index of that number. for example 12345 then it removes 5 for that number and go on until the number is not 0.\r\n\r\n\r\n    number = number / 10;\r\n\r\n","title":"I try to find the reverse number of the input number in java program .Yeah but i am confused about the logic inside the loop","body":"<p>First of all you need every last element of that number so for that logic is below.</p>\n<pre><code>public class reverseNumber {\n    public static void main(String[] args) {\n\n         System.out.print(&quot;Enter a number :&quot;);\n         Scanner sc = new Scanner(System.in);\n         int number = sc.nextInt();\n\n         int reverse = 0;\n\n        while (number != 0) {\n            int remainder = number % 10;\n            reverse = reverse * 10 + remainder;\n            number = number / 10;\n        }\n\n        System.out.println(&quot;The reverse of the given number is: &quot; + reverse);\n    }\n}\n</code></pre>\n<blockquote>\n<h1><b>Logic Explanation</b></h1>\n</blockquote>\n<p><strong>1</strong>. Loop runs until <code>reverse</code> variable will not 0.</p>\n<pre><code>while(number != 0)\n</code></pre>\n<br>\n<p><strong>2</strong>. This gives last number of that variable for Example. If we have 12345 then after this code line runs it gives 5 because when you do the number modulo 10 then it gives last one number.</p>\n<pre><code>int remainder = number % 10;\n</code></pre>\n<br>\n<p><strong>3.</strong> In this reverse variable we can store that last number.</p>\n<pre><code>reverse = reverse * 10 + remainder;\n</code></pre>\n<p>The value of the reverse is 0 at the start then remainder of first time is 5 so the value of the reverse is <code>(reverse = 0 + 10 + 5)</code> then at first time value of reverse is 5.</p>\n<p><strong>4.</strong> after that the original number is divided by 10 and remove last index of that number. for example 12345 then it removes 5 for that number and go on until the number is not 0.</p>\n<pre><code>number = number / 10;\n</code></pre>\n"}],"owner":{"account_id":26349910,"reputation":1,"user_id":20007688,"display_name":"David "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680583946,"creation_date":1680581326,"question_id":75925447,"body_markdown":"    public static void main(String[] args) {\r\n\t\tint n;\r\n\t\tSystem.out.print(&quot;Enter a number :&quot;);\r\n\t\tScanner sc=new Scanner(System.in);\r\n\t\tn=sc.nextInt();\r\n\t\tint reversednum=0;\r\n\t\twhile(n!=0){\r\n\t\t\tint remainder=n%10;\r\n\t\t\treversednum=reversednum*10+remainder;\r\n\t\t\tn=n/10;\r\n\t\t}\r\n\t    System.out.println(reversednum);\r\n\t}\r\n\r\nfor input n = 123, reversednum = 0 * 10 + 3 = 3 again then n = 12 ,reversednum = 0 * 10 + 2, reversednum = 0 * 10 + 1 is this the logic run inside while loop? Or reversednum = 0 * 10 + 3 = 3, n = 12 reversednum = 3 * 10 + 2; n = 1 reversednum= 32 * 10 + 1; if the second concept is true then it prints 32321 if we print  reversednum inside the while loop.","title":"I try to find the reverse number of the input number in java program .Yeah but i am confused about the logic inside the loop","body":"<pre><code>public static void main(String[] args) {\n    int n;\n    System.out.print(&quot;Enter a number :&quot;);\n    Scanner sc=new Scanner(System.in);\n    n=sc.nextInt();\n    int reversednum=0;\n    while(n!=0){\n        int remainder=n%10;\n        reversednum=reversednum*10+remainder;\n        n=n/10;\n    }\n    System.out.println(reversednum);\n}\n</code></pre>\n<p>for input n = 123, reversednum = 0 * 10 + 3 = 3 again then n = 12 ,reversednum = 0 * 10 + 2, reversednum = 0 * 10 + 1 is this the logic run inside while loop? Or reversednum = 0 * 10 + 3 = 3, n = 12 reversednum = 3 * 10 + 2; n = 1 reversednum= 32 * 10 + 1; if the second concept is true then it prints 32321 if we print  reversednum inside the while loop.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9467,"page":525,"page_size":100}
