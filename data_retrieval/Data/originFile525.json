{"items":[{"tags":["java","spring","spring-boot","shiro"],"comments":[{"owner":{"account_id":383130,"reputation":2081,"user_id":6415199,"display_name":"Brian Demers"},"score":0,"creation_date":1681766951,"post_id":75934451,"comment_id":134107203,"body_markdown":"It looks like you are writing a lot more code than you should need to (specifically your `Login1` method, as Shrio handles this automatically)\n\nCan you explain from a higher level what you are trying to do?","body":"It looks like you are writing a lot more code than you should need to (specifically your <code>Login1</code> method, as Shrio handles this automatically)  Can you explain from a higher level what you are trying to do?"}],"owner":{"account_id":24887490,"reputation":47,"user_id":18759913,"display_name":"kentoto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680648939,"creation_date":1680648939,"question_id":75934451,"body_markdown":"I have two Reams setup with the name of `&quot;Reaml1&quot;` and `&quot;Realm2&quot;`. The two Realms are for different types of entity authentication.\r\n\r\n\r\n```\r\n@Configuration\r\npublic class ShiroConfig {\r\n\r\n    @Bean(name = &quot;realm1&quot;)\r\n    public Realm realm1() {\r\n        Realm1 realm = new Realm1();\r\n        return realm;\r\n    }\r\n\r\n    @Bean(name = &quot;realm2&quot;)\r\n    public Realm realm2() {\r\n        Realm2 realm = new Realm2();\r\n        return realm;\r\n    }\r\n\r\n\r\n    @Bean(name = &quot;securityManager1&quot;)\r\n    public DefaultSecurityManager securityManager1(@Qualifier(&quot;realm1&quot;) Realm realm) {\r\n        DefaultSecurityManager securityManager = new DefaultSecurityManager();\r\n        securityManager.setRealm(realm);\r\n        return securityManager;\r\n    }\r\n\r\n    @Bean(name = &quot;securityManager2&quot;)\r\n    public DefaultSecurityManager securityManager2(@Qualifier(&quot;realm2&quot;) Realm realm) {\r\n        DefaultSecurityManager securityManager = new DefaultSecurityManager();\r\n        securityManager.setRealm(realm);\r\n        return securityManager;\r\n    }\r\n\r\n    @Bean(name = &quot;shiroFilter1&quot;)\r\n    public ShiroFilterFactoryBean shiroFilter1(@Qualifier(&quot;securityManager1&quot;) SecurityManager securityManager) {\r\n        ShiroFilterFactoryBean factoryBean = new ShiroFilterFactoryBean();\r\n        factoryBean.setSecurityManager(securityManager);\r\n        factoryBean.setLoginUrl(&quot;/login1&quot;);\r\n        factoryBean.setFilterChainDefinitionMap(filterChainDefinitionMap());\r\n        return factoryBean;\r\n    }\r\n\r\n    @Bean(name = &quot;shiroFilter2&quot;)\r\n    public ShiroFilterFactoryBean shiroFilter2(@Qualifier(&quot;securityManager2&quot;) SecurityManager securityManager) {\r\n        ShiroFilterFactoryBean factoryBean = new ShiroFilterFactoryBean();\r\n        factoryBean.setSecurityManager(securityManager);\r\n        factoryBean.setLoginUrl(&quot;/login2&quot;);\r\n        factoryBean.setFilterChainDefinitionMap(filterChainDefinitionMap());\r\n        return factoryBean;\r\n    }\r\n\r\n    private Map&lt;String, String&gt; filterChainDefinitionMap() {\r\n        Map&lt;String, String&gt; filterChainDefinitionMap = new LinkedHashMap&lt;&gt;();\r\n\r\n        return filterChainDefinitionMap;\r\n    }\r\n}\r\n```\r\n\r\nAnd I have two different endpoints for login: `/login1` and `/login2` in my controller class such as:\r\n```\r\n@PostMapping(&quot;/login1&quot;)\r\n@ResponseBody\r\npublic String Login1(HttpServletRequest request) {\r\n        Subject subject = SecurityUtils.getSubject();\r\n\r\n        /* Some processing to get username and password */\r\n\r\n        UsernamePasswordToken token = new UsernamePasswordToken(username, password);\r\n\r\n        String msg = &quot;&quot;;\r\n        try {\r\n            subject.login(token);\r\n            msg =  &quot;Successfully logged in.&quot;;\r\n        } catch (Exception e) {\r\n            /* Exception handling */\r\n        }\r\n\r\n        if (! subject.isAuthenticated()) token.clear();\r\n        return msg;\r\n    }\r\n```\r\n\r\nHowever, `/login1` is always using `Realm2` to do authentication. My question is how to configure Shiro to using different `Reaml`, `SecurityManager` and `ShiroFilterFactoryBean` when using different login endpoints? \r\n\r\nI tried adding `SecurityUtils.setSecurityManager({corresponding security manager})` in `login` methods but it didn&#39;t work.\r\n\r\nI&#39;ve been stuck here whole day and could not find a way out. Please help and thank you!\r\n","title":"Using multiple FilterFactoryBean, SecurityManager, and Realm in Spring Boot with Shiro","body":"<p>I have two Reams setup with the name of <code>&quot;Reaml1&quot;</code> and <code>&quot;Realm2&quot;</code>. The two Realms are for different types of entity authentication.</p>\n<pre><code>@Configuration\npublic class ShiroConfig {\n\n    @Bean(name = &quot;realm1&quot;)\n    public Realm realm1() {\n        Realm1 realm = new Realm1();\n        return realm;\n    }\n\n    @Bean(name = &quot;realm2&quot;)\n    public Realm realm2() {\n        Realm2 realm = new Realm2();\n        return realm;\n    }\n\n\n    @Bean(name = &quot;securityManager1&quot;)\n    public DefaultSecurityManager securityManager1(@Qualifier(&quot;realm1&quot;) Realm realm) {\n        DefaultSecurityManager securityManager = new DefaultSecurityManager();\n        securityManager.setRealm(realm);\n        return securityManager;\n    }\n\n    @Bean(name = &quot;securityManager2&quot;)\n    public DefaultSecurityManager securityManager2(@Qualifier(&quot;realm2&quot;) Realm realm) {\n        DefaultSecurityManager securityManager = new DefaultSecurityManager();\n        securityManager.setRealm(realm);\n        return securityManager;\n    }\n\n    @Bean(name = &quot;shiroFilter1&quot;)\n    public ShiroFilterFactoryBean shiroFilter1(@Qualifier(&quot;securityManager1&quot;) SecurityManager securityManager) {\n        ShiroFilterFactoryBean factoryBean = new ShiroFilterFactoryBean();\n        factoryBean.setSecurityManager(securityManager);\n        factoryBean.setLoginUrl(&quot;/login1&quot;);\n        factoryBean.setFilterChainDefinitionMap(filterChainDefinitionMap());\n        return factoryBean;\n    }\n\n    @Bean(name = &quot;shiroFilter2&quot;)\n    public ShiroFilterFactoryBean shiroFilter2(@Qualifier(&quot;securityManager2&quot;) SecurityManager securityManager) {\n        ShiroFilterFactoryBean factoryBean = new ShiroFilterFactoryBean();\n        factoryBean.setSecurityManager(securityManager);\n        factoryBean.setLoginUrl(&quot;/login2&quot;);\n        factoryBean.setFilterChainDefinitionMap(filterChainDefinitionMap());\n        return factoryBean;\n    }\n\n    private Map&lt;String, String&gt; filterChainDefinitionMap() {\n        Map&lt;String, String&gt; filterChainDefinitionMap = new LinkedHashMap&lt;&gt;();\n\n        return filterChainDefinitionMap;\n    }\n}\n</code></pre>\n<p>And I have two different endpoints for login: <code>/login1</code> and <code>/login2</code> in my controller class such as:</p>\n<pre><code>@PostMapping(&quot;/login1&quot;)\n@ResponseBody\npublic String Login1(HttpServletRequest request) {\n        Subject subject = SecurityUtils.getSubject();\n\n        /* Some processing to get username and password */\n\n        UsernamePasswordToken token = new UsernamePasswordToken(username, password);\n\n        String msg = &quot;&quot;;\n        try {\n            subject.login(token);\n            msg =  &quot;Successfully logged in.&quot;;\n        } catch (Exception e) {\n            /* Exception handling */\n        }\n\n        if (! subject.isAuthenticated()) token.clear();\n        return msg;\n    }\n</code></pre>\n<p>However, <code>/login1</code> is always using <code>Realm2</code> to do authentication. My question is how to configure Shiro to using different <code>Reaml</code>, <code>SecurityManager</code> and <code>ShiroFilterFactoryBean</code> when using different login endpoints?</p>\n<p>I tried adding <code>SecurityUtils.setSecurityManager({corresponding security manager})</code> in <code>login</code> methods but it didn't work.</p>\n<p>I've been stuck here whole day and could not find a way out. Please help and thank you!</p>\n"},{"tags":["java","ssl","apache-kafka"],"owner":{"account_id":11459974,"reputation":832,"user_id":8399906,"display_name":"CJW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680648685,"creation_date":1680647751,"question_id":75934353,"body_markdown":"I am trying to get Kafka to use SSL but I am getting the following error:\r\n\r\n```\r\nkafka-producer-network-thread | console-producer, WRITE: TLSv1.2 Handshake, length = 80\r\nkafka-producer-network-thread | console-producer, READ: TLSv1.2 Handshake, length = 1978\r\ncheck handshake state: server_hello[2]\r\nkafka-producer-network-thread | console-producer, fatal error: 10: Handshake message sequence violation, 2\r\njavax.net.ssl.SSLProtocolException: Handshake message sequence violation, 2\r\n%% Invalidated:  [Session-6, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256]\r\nkafka-producer-network-thread | console-producer, SEND TLSv1.2 ALERT:  fatal, description = unexpected_message\r\nkafka-producer-network-thread | console-producer, WRITE: TLSv1.2 Alert, length = 64\r\nkafka-producer-network-thread | console-producer, called closeOutbound()\r\nkafka-producer-network-thread | console-producer, closeOutboundInternal()\r\nkafka-producer-network-thread | console-producer, called closeInbound()\r\nkafka-producer-network-thread | console-producer, fatal: engine already closed.  Rethrowing javax.net.ssl.SSLException: Inbound closed before receiving peer&#39;s close_notify: possible truncation attack?\r\nkafka-producer-network-thread | console-producer, called closeOutbound()\r\nkafka-producer-network-thread | console-producer, closeOutboundInternal()\r\n[2023-04-04 22:13:40,191] ERROR [Producer clientId=console-producer] Connection to node -1 (/172.30.0.110:9093) failed authentication due to: SSL handshake failed (org.apache.kafka.clients.NetworkClient)\r\n[2023-04-04 22:13:40,191] WARN [Producer clientId=console-producer] Bootstrap broker 172.30.0.110:9093 (id: -1 rack: null) disconnected (org.apache.kafka.clients.NetworkClient)\r\n\r\n```\r\n\r\nI have generated selfsigned certs and JKS stores using the following commands:\r\n\r\n```\r\nopenssl req -new -newkey rsa:4096 -days 365 -x509 -subj &quot;/CN=Demo-Kafka&quot; -keyout ca-key -out ca-cert -nodes\r\nkeytool -genkey -keystore kafka.server.keystore.jks -validity 365 -storepass kafka -keypass kafka -dname &quot;CN=Demo-Kafka&quot; -storetype pkcs12\r\nkeytool -list -v -keystore kafka.server.keystore.jks\r\nkeytool -keystore kafka.server.keystore.jks -certreq -file cert-file -storepass kafka -keypass kafka\r\nopenssl x509 -req -CA ca-cert -CAkey ca-key -in cert-file -out cert-file-signed -days 365 -CAcreateserial -passin pass:kafka\r\nkeytool -printcert -v -file cert-file-signed\r\nkeytool -keystore kafka.server.keystore.jks -alias CARoot -import -file ca-cert -storepass kafka -keypass kafka -noprompt\r\nkeytool -keystore kafka.server.keystore.jks -import -file cert-file-signed -storepass kafka -keypass kafka -noprompt\r\nkeytool -keystore kafka.server.truststore.jks -alias CARoot -import -file ca-cert -storepass kafka -keypass kafka -noprompt\r\n\r\n```\r\n\r\nI have configured my `server.properties` as such:\r\n```\r\nsecurity.inter.broker.protocol=SSL\r\n\r\n# With SSL encryption\r\nlisteners=SSL://172.30.0.110:9093\r\nadvertised.listeners=SSL://172.30.0.110:9093\r\n\r\n# With SSL encryption\r\nlistener.name.sasl_ssl.plain.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required \\\r\n   username=&quot;admin&quot; \\\r\n   password=&quot;admin-secret&quot; \\\r\n   user_admin=&quot;admin-secret&quot; \\\r\n   user_kafkabroker1=&quot;kafkabroker1-secret&quot;;\r\n\r\nssl.endpoint.identification.algorithm=\r\nproducer.ssl.endpoint.identification.algorithm=\r\nconsumer.ssl.endpoint.identification.algorithm=\r\n\r\nssl.client.auth=required\r\n\r\nssl.truststore.location=/etc/kafka/kafka.server.truststore.jks\r\nssl.truststore.password=kafka\r\nssl.keystore.location=/etc/kafka/kafka.server.keystore.jks\r\nssl.keystore.password=kafka\r\nssl.key.password=kafka\r\n\r\n```\r\n\r\nAnd my `client-ssl.properties`\r\n\r\n```\r\nbootstrap.servers=172.30.0.110:9093\r\nsecurity.protocol=SSL\r\nssl.truststore.location=/etc/kafka/kafka.client.truststore.jks\r\nssl.truststore.password=kafka\r\nssl.key.password=kafka\r\nssl.endpoint.identification.algorithm=\r\n```\r\n\r\nLastly, my `zookeeper.properties`:\r\n\r\n```\r\ndataDir=/var/lib/zookeeper\r\n# the port at which the clients will connect\r\nclientPort=2181\r\n# disable the per-ip limit on the number of connections since this is a non-production config\r\nmaxClientCnxns=0\r\n# Disable the adminserver by default to avoid port conflicts.\r\n# Set the port to something non-conflicting if choosing to enable this\r\nadmin.enableServer=false\r\n# admin.serverPort=8080\r\n\r\n# Enable audit logging. See log4j.properties for audit logger configuration\r\naudit.enable=true\r\n\r\ntickTime=2000\r\ndataDir=/var/lib/zookeeper/\r\nclientPort=2181\r\ninitLimit=5\r\nsyncLimit=2\r\nserver.1=172.30.0.110:2888:3888\r\nautopurge.snapRetainCount=3\r\nautopurge.purgeInterval=24\r\n```\r\n\r\n\r\nI am trying to connect a producer to the broker with the following command:\r\n\r\n`kafka-console-producer -broker-list 172.30.0.110:9093 -topic helloworld --producer.config /etc/kafka/client-ssl.properties`\r\n\r\nWhich is where I am seeing the SSL error occur.","title":"Kafka SSL handshake failing","body":"<p>I am trying to get Kafka to use SSL but I am getting the following error:</p>\n<pre><code>kafka-producer-network-thread | console-producer, WRITE: TLSv1.2 Handshake, length = 80\nkafka-producer-network-thread | console-producer, READ: TLSv1.2 Handshake, length = 1978\ncheck handshake state: server_hello[2]\nkafka-producer-network-thread | console-producer, fatal error: 10: Handshake message sequence violation, 2\njavax.net.ssl.SSLProtocolException: Handshake message sequence violation, 2\n%% Invalidated:  [Session-6, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256]\nkafka-producer-network-thread | console-producer, SEND TLSv1.2 ALERT:  fatal, description = unexpected_message\nkafka-producer-network-thread | console-producer, WRITE: TLSv1.2 Alert, length = 64\nkafka-producer-network-thread | console-producer, called closeOutbound()\nkafka-producer-network-thread | console-producer, closeOutboundInternal()\nkafka-producer-network-thread | console-producer, called closeInbound()\nkafka-producer-network-thread | console-producer, fatal: engine already closed.  Rethrowing javax.net.ssl.SSLException: Inbound closed before receiving peer's close_notify: possible truncation attack?\nkafka-producer-network-thread | console-producer, called closeOutbound()\nkafka-producer-network-thread | console-producer, closeOutboundInternal()\n[2023-04-04 22:13:40,191] ERROR [Producer clientId=console-producer] Connection to node -1 (/172.30.0.110:9093) failed authentication due to: SSL handshake failed (org.apache.kafka.clients.NetworkClient)\n[2023-04-04 22:13:40,191] WARN [Producer clientId=console-producer] Bootstrap broker 172.30.0.110:9093 (id: -1 rack: null) disconnected (org.apache.kafka.clients.NetworkClient)\n\n</code></pre>\n<p>I have generated selfsigned certs and JKS stores using the following commands:</p>\n<pre><code>openssl req -new -newkey rsa:4096 -days 365 -x509 -subj &quot;/CN=Demo-Kafka&quot; -keyout ca-key -out ca-cert -nodes\nkeytool -genkey -keystore kafka.server.keystore.jks -validity 365 -storepass kafka -keypass kafka -dname &quot;CN=Demo-Kafka&quot; -storetype pkcs12\nkeytool -list -v -keystore kafka.server.keystore.jks\nkeytool -keystore kafka.server.keystore.jks -certreq -file cert-file -storepass kafka -keypass kafka\nopenssl x509 -req -CA ca-cert -CAkey ca-key -in cert-file -out cert-file-signed -days 365 -CAcreateserial -passin pass:kafka\nkeytool -printcert -v -file cert-file-signed\nkeytool -keystore kafka.server.keystore.jks -alias CARoot -import -file ca-cert -storepass kafka -keypass kafka -noprompt\nkeytool -keystore kafka.server.keystore.jks -import -file cert-file-signed -storepass kafka -keypass kafka -noprompt\nkeytool -keystore kafka.server.truststore.jks -alias CARoot -import -file ca-cert -storepass kafka -keypass kafka -noprompt\n\n</code></pre>\n<p>I have configured my <code>server.properties</code> as such:</p>\n<pre><code>security.inter.broker.protocol=SSL\n\n# With SSL encryption\nlisteners=SSL://172.30.0.110:9093\nadvertised.listeners=SSL://172.30.0.110:9093\n\n# With SSL encryption\nlistener.name.sasl_ssl.plain.sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required \\\n   username=&quot;admin&quot; \\\n   password=&quot;admin-secret&quot; \\\n   user_admin=&quot;admin-secret&quot; \\\n   user_kafkabroker1=&quot;kafkabroker1-secret&quot;;\n\nssl.endpoint.identification.algorithm=\nproducer.ssl.endpoint.identification.algorithm=\nconsumer.ssl.endpoint.identification.algorithm=\n\nssl.client.auth=required\n\nssl.truststore.location=/etc/kafka/kafka.server.truststore.jks\nssl.truststore.password=kafka\nssl.keystore.location=/etc/kafka/kafka.server.keystore.jks\nssl.keystore.password=kafka\nssl.key.password=kafka\n\n</code></pre>\n<p>And my <code>client-ssl.properties</code></p>\n<pre><code>bootstrap.servers=172.30.0.110:9093\nsecurity.protocol=SSL\nssl.truststore.location=/etc/kafka/kafka.client.truststore.jks\nssl.truststore.password=kafka\nssl.key.password=kafka\nssl.endpoint.identification.algorithm=\n</code></pre>\n<p>Lastly, my <code>zookeeper.properties</code>:</p>\n<pre><code>dataDir=/var/lib/zookeeper\n# the port at which the clients will connect\nclientPort=2181\n# disable the per-ip limit on the number of connections since this is a non-production config\nmaxClientCnxns=0\n# Disable the adminserver by default to avoid port conflicts.\n# Set the port to something non-conflicting if choosing to enable this\nadmin.enableServer=false\n# admin.serverPort=8080\n\n# Enable audit logging. See log4j.properties for audit logger configuration\naudit.enable=true\n\ntickTime=2000\ndataDir=/var/lib/zookeeper/\nclientPort=2181\ninitLimit=5\nsyncLimit=2\nserver.1=172.30.0.110:2888:3888\nautopurge.snapRetainCount=3\nautopurge.purgeInterval=24\n</code></pre>\n<p>I am trying to connect a producer to the broker with the following command:</p>\n<p><code>kafka-console-producer -broker-list 172.30.0.110:9093 -topic helloworld --producer.config /etc/kafka/client-ssl.properties</code></p>\n<p>Which is where I am seeing the SSL error occur.</p>\n"},{"tags":["java","jaas","jgrapht"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":4,"creation_date":1680649673,"post_id":75934297,"comment_id":133933540,"body_markdown":"The exception text tells you exactly what caused the NullPointerException -- `...because &quot;this.flightReader&quot; is null`.","body":"The exception text tells you exactly what caused the NullPointerException -- <code>...because &quot;this.flightReader&quot; is null</code>."}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1680650292,"post_id":75934361,"comment_id":133933603,"body_markdown":"Yea ... in the `main` method the OP (also) has declared and initialized a local variable called `flightReader`.  But that is *different* to the instance variable that the code is using in the `FlightReader` constructor.","body":"Yea ... in the <code>main</code> method the OP (also) has declared and initialized a local variable called <code>flightReader</code>.  But that is <i>different</i> to the instance variable that the code is using in the <code>FlightReader</code> constructor."}],"tags":[],"owner":{"account_id":3212090,"reputation":743,"user_id":2711867,"accept_rate":56,"display_name":"scatolone"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680647833,"creation_date":1680647833,"answer_id":75934361,"question_id":75934297,"body_markdown":"I think you forgot to initialize `flightReader` inside the object `FlyingPlanner`. I guess you must call something like `pr.setflightReader(flightReader)` before you call `pr.leastCost(&quot;EDI&quot;, &quot;DXB&quot;)` or there must be a constructor that take a `flightReader` as input.","title":"Null Pointer exception JAVA. why is it null when the input file is not null?","body":"<p>I think you forgot to initialize <code>flightReader</code> inside the object <code>FlyingPlanner</code>. I guess you must call something like <code>pr.setflightReader(flightReader)</code> before you call <code>pr.leastCost(&quot;EDI&quot;, &quot;DXB&quot;)</code> or there must be a constructor that take a <code>flightReader</code> as input.</p>\n"}],"owner":{"account_id":27048980,"reputation":3,"user_id":20701929,"display_name":"lucas lootan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1680649561,"answer_count":1,"score":-3,"last_activity_date":1680647833,"creation_date":1680647082,"question_id":75934297,"body_markdown":"i am new to `JAVA`. I think all my code is corect. I dont actually know what is wrong with my code but it shows error. \r\n\r\nError:\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;F28DA_CW2.FlightsReader.getAirports()&quot; because &quot;this.flightReader&quot; is null\r\n\tat F28DA_CW2.FlyingPlanner.leastCost(FlyingPlanner.java:206)\r\n\tat F28DA_CW2.FlyingPlannerMainPartBC.main(FlyingPlannerMainPartBC.java:29)\r\n```\r\n\r\nBelow is the code i am working on: \r\n\r\nMain file\r\n```\r\n    import java.io.FileNotFoundException;\r\n\r\n    public class FlyingPlannerMainPartBC {\r\n\r\n\tpublic static void main(String[] args) throws FlyingPlannerException, FileNotFoundException {\r\n\r\n\t\tFlyingPlanner fi;\r\n\t\tfi = new FlyingPlanner();\r\n\t\ttry {\r\n\t\t\tfi.populate(new FlightsReader());\r\n\r\n\t\t\t// Implement here your user interface using the methods of Part B. You could\r\n\t\t\t// optionally expand it to use the methods of Part C.\r\n\r\n\t\t} catch (FileNotFoundException | FlyingPlannerException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tFlightsReader flightReader = new FlightsReader();\r\n\t\tflightReader.getAirports();\r\n\t\tflightReader.getFlights();\r\n\t\tFlyingPlanner pr = new FlyingPlanner();\r\n\t\tSystem.out.println(pr.leastCost(&quot;EDI&quot;, &quot;DXB&quot;)); // line: 29\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\na snippet of the error source.\r\n\r\n```\r\n    @Override\r\n    public Journey leastCost(String from, String to) throws FlyingPlannerException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tHashSet&lt;String[]&gt; airports = flightReader.getAirports(); //line206\r\n\t\tHashSet&lt;String[]&gt; flights = flightReader.getFlights();\r\n\r\n\t\tDefaultDirectedWeightedGraph&lt;String, DefaultWeightedEdge&gt; leastCost = new DefaultDirectedWeightedGraph&lt;&gt;(\r\n\t\t\t\tDefaultWeightedEdge.class);\r\n\r\n\t\tfor (String[] flight : flights) {\r\n\t\t\tleastCost.addVertex(flight[1]);\r\n\t\t\tleastCost.addVertex(flight[3]);\r\n\t\t\tleastCost.addEdge(flight[1], flight[3]);\r\n\t\t\tleastCost.setEdgeWeight(flight[1], flight[3], Integer.parseInt(flight[5]));\r\n\t\t}\r\n\r\n\t\tDijkstraShortestPath&lt;String, DefaultWeightedEdge&gt; dijkstraAlg = new DijkstraShortestPath&lt;&gt;(leastCost);\r\n\t\tGraphPath&lt;String, DefaultWeightedEdge&gt; shortestPath = dijkstraAlg.getPath(from, to);\r\n\r\n\t\tint totalCost = 0;\r\n\t\tint totalHop = 0;\r\n\t\tint totalTime = 0;\r\n\r\n\t\tfor (DefaultWeightedEdge defaultWeightedEdge : shortestPath.getEdgeList()) {\r\n\t\t\ttotalCost = totalCost + (int) leastCost.getEdgeWeight(defaultWeightedEdge);\r\n\t\t\ttotalHop = totalHop + 1;\r\n\t\t\tString v1 = leastCost.getEdgeSource(defaultWeightedEdge);\r\n\t\t\tString v2 = leastCost.getEdgeTarget(defaultWeightedEdge);\r\n\t\t\tSystem.out.println(totalHop + &quot;. &quot; + v1 + &quot;---&gt;&quot; + v2);\r\n\t\t}\r\n\r\n\t\tJourney journey = new Journey();\r\n\t\tjourney.setTotalCost(totalCost);\r\n\t\tjourney.setTotalHop(totalHop);\r\n\r\n\t\tSystem.out.println(totalCost);\r\n\t\tSystem.out.println(totalHop);\r\n\r\n\t\treturn journey;\r\n\t}\r\n\r\n```\r\n\r\nLast the Scanner file that reads the file (where i think is completely fine)\r\n\r\n```\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.HashSet;\r\n    import java.util.Scanner;\r\n\r\n    public class FlightsReader {\r\n\r\n\tprivate static final File flightsDatasetFolder = new File(&quot;FlightsDataset&quot;);\r\n\tprivate static final File flightsDatasetFlights = new File(flightsDatasetFolder, &quot;flights.csv&quot;);\r\n\tprivate static final File flightsDatasetAirports = new File(flightsDatasetFolder, &quot;airports.csv&quot;);\r\n\r\n\tprivate HashSet&lt;String[]&gt; airports;\r\n\tprivate HashSet&lt;String[]&gt; flights;\r\n\r\n\tpublic FlightsReader() throws FileNotFoundException, FlyingPlannerException {\r\n\t\tthis.airports = new HashSet&lt;String[]&gt;();\r\n\t\tthis.flights = new HashSet&lt;String[]&gt;();\r\n\r\n\t\t// Adding flights, and building list of needed airport\r\n\t\tHashSet&lt;String&gt; airportsNeeded = new HashSet&lt;String&gt;();\r\n\t\tScanner flightsScanner = new Scanner(flightsDatasetFlights);\r\n\t\twhile (flightsScanner.hasNextLine()) {\r\n\t\t\tString line = flightsScanner.nextLine();\r\n\t\t\tString[] fields = line.split(&quot;,&quot;);\r\n\t\t\tString from = fields[1];\r\n\t\t\tString to = fields[3];\r\n\t\t\tairportsNeeded.add(from);\r\n\t\t\tairportsNeeded.add(to);\r\n\t\t\tthis.flights.add(fields);\r\n\t\t}\r\n\t\tflightsScanner.close();\r\n\r\n\t\t// Adding airports\r\n\t\tScanner airportsScanner = new Scanner(flightsDatasetAirports);\r\n\t\twhile (airportsScanner.hasNextLine()) {\r\n\t\t\tString line = airportsScanner.nextLine();\r\n\t\t\tString[] fields = line.split(&quot;,&quot;);\r\n\t\t\tif (airportsNeeded.contains(fields[0])) {\r\n\t\t\t\tthis.airports.add(fields);\r\n\t\t\t}\r\n\t\t}\r\n\t\tairportsScanner.close();\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a hash set of airport details (0: airport code, 1: city, 2: airport\r\n\t * name)\r\n\t */\r\n\tpublic HashSet&lt;String[]&gt; getAirports() {\r\n\t\treturn this.airports;\r\n\t}\r\n\r\n\t/**\r\n\t * Returns a hash set of flight details (0: flight code, 1: airport code of\r\n\t * departure, 2: departure time GMT, 3: airport code of arrival, 4: arrival time\r\n\t * GMT, 5: flight cost)\r\n\t */\r\n\tpublic HashSet&lt;String[]&gt; getFlights() {\r\n\t\treturn this.flights;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI think the flight reader codes works well. I not really sure what the problem is. \r\n\r\nThank you to any kind JAVA master out there that could help me.","title":"Null Pointer exception JAVA. why is it null when the input file is not null?","body":"<p>i am new to <code>JAVA</code>. I think all my code is corect. I dont actually know what is wrong with my code but it shows error.</p>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;F28DA_CW2.FlightsReader.getAirports()&quot; because &quot;this.flightReader&quot; is null\n    at F28DA_CW2.FlyingPlanner.leastCost(FlyingPlanner.java:206)\n    at F28DA_CW2.FlyingPlannerMainPartBC.main(FlyingPlannerMainPartBC.java:29)\n</code></pre>\n<p>Below is the code i am working on:</p>\n<p>Main file</p>\n<pre><code>    import java.io.FileNotFoundException;\n\n    public class FlyingPlannerMainPartBC {\n\n    public static void main(String[] args) throws FlyingPlannerException, FileNotFoundException {\n\n        FlyingPlanner fi;\n        fi = new FlyingPlanner();\n        try {\n            fi.populate(new FlightsReader());\n\n            // Implement here your user interface using the methods of Part B. You could\n            // optionally expand it to use the methods of Part C.\n\n        } catch (FileNotFoundException | FlyingPlannerException e) {\n            e.printStackTrace();\n        }\n\n        FlightsReader flightReader = new FlightsReader();\n        flightReader.getAirports();\n        flightReader.getFlights();\n        FlyingPlanner pr = new FlyingPlanner();\n        System.out.println(pr.leastCost(&quot;EDI&quot;, &quot;DXB&quot;)); // line: 29\n        \n    }\n\n}\n</code></pre>\n<p>a snippet of the error source.</p>\n<pre><code>    @Override\n    public Journey leastCost(String from, String to) throws FlyingPlannerException {\n        // TODO Auto-generated method stub\n        HashSet&lt;String[]&gt; airports = flightReader.getAirports(); //line206\n        HashSet&lt;String[]&gt; flights = flightReader.getFlights();\n\n        DefaultDirectedWeightedGraph&lt;String, DefaultWeightedEdge&gt; leastCost = new DefaultDirectedWeightedGraph&lt;&gt;(\n                DefaultWeightedEdge.class);\n\n        for (String[] flight : flights) {\n            leastCost.addVertex(flight[1]);\n            leastCost.addVertex(flight[3]);\n            leastCost.addEdge(flight[1], flight[3]);\n            leastCost.setEdgeWeight(flight[1], flight[3], Integer.parseInt(flight[5]));\n        }\n\n        DijkstraShortestPath&lt;String, DefaultWeightedEdge&gt; dijkstraAlg = new DijkstraShortestPath&lt;&gt;(leastCost);\n        GraphPath&lt;String, DefaultWeightedEdge&gt; shortestPath = dijkstraAlg.getPath(from, to);\n\n        int totalCost = 0;\n        int totalHop = 0;\n        int totalTime = 0;\n\n        for (DefaultWeightedEdge defaultWeightedEdge : shortestPath.getEdgeList()) {\n            totalCost = totalCost + (int) leastCost.getEdgeWeight(defaultWeightedEdge);\n            totalHop = totalHop + 1;\n            String v1 = leastCost.getEdgeSource(defaultWeightedEdge);\n            String v2 = leastCost.getEdgeTarget(defaultWeightedEdge);\n            System.out.println(totalHop + &quot;. &quot; + v1 + &quot;---&gt;&quot; + v2);\n        }\n\n        Journey journey = new Journey();\n        journey.setTotalCost(totalCost);\n        journey.setTotalHop(totalHop);\n\n        System.out.println(totalCost);\n        System.out.println(totalHop);\n\n        return journey;\n    }\n\n</code></pre>\n<p>Last the Scanner file that reads the file (where i think is completely fine)</p>\n<pre><code>    import java.io.File;\n    import java.io.FileNotFoundException;\n    import java.util.HashSet;\n    import java.util.Scanner;\n\n    public class FlightsReader {\n\n    private static final File flightsDatasetFolder = new File(&quot;FlightsDataset&quot;);\n    private static final File flightsDatasetFlights = new File(flightsDatasetFolder, &quot;flights.csv&quot;);\n    private static final File flightsDatasetAirports = new File(flightsDatasetFolder, &quot;airports.csv&quot;);\n\n    private HashSet&lt;String[]&gt; airports;\n    private HashSet&lt;String[]&gt; flights;\n\n    public FlightsReader() throws FileNotFoundException, FlyingPlannerException {\n        this.airports = new HashSet&lt;String[]&gt;();\n        this.flights = new HashSet&lt;String[]&gt;();\n\n        // Adding flights, and building list of needed airport\n        HashSet&lt;String&gt; airportsNeeded = new HashSet&lt;String&gt;();\n        Scanner flightsScanner = new Scanner(flightsDatasetFlights);\n        while (flightsScanner.hasNextLine()) {\n            String line = flightsScanner.nextLine();\n            String[] fields = line.split(&quot;,&quot;);\n            String from = fields[1];\n            String to = fields[3];\n            airportsNeeded.add(from);\n            airportsNeeded.add(to);\n            this.flights.add(fields);\n        }\n        flightsScanner.close();\n\n        // Adding airports\n        Scanner airportsScanner = new Scanner(flightsDatasetAirports);\n        while (airportsScanner.hasNextLine()) {\n            String line = airportsScanner.nextLine();\n            String[] fields = line.split(&quot;,&quot;);\n            if (airportsNeeded.contains(fields[0])) {\n                this.airports.add(fields);\n            }\n        }\n        airportsScanner.close();\n    }\n\n    /**\n     * Returns a hash set of airport details (0: airport code, 1: city, 2: airport\n     * name)\n     */\n    public HashSet&lt;String[]&gt; getAirports() {\n        return this.airports;\n    }\n\n    /**\n     * Returns a hash set of flight details (0: flight code, 1: airport code of\n     * departure, 2: departure time GMT, 3: airport code of arrival, 4: arrival time\n     * GMT, 5: flight cost)\n     */\n    public HashSet&lt;String[]&gt; getFlights() {\n        return this.flights;\n    }\n\n}\n</code></pre>\n<p>I think the flight reader codes works well. I not really sure what the problem is.</p>\n<p>Thank you to any kind JAVA master out there that could help me.</p>\n"},{"tags":["java","sockets","character-encoding","utf"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":2,"creation_date":1680635881,"post_id":75932887,"comment_id":133930977,"body_markdown":"There is a reason why HTML pages usually announces their encoding – it is not always UTF8, as you assume. And whether Java is using UTF16 internally depends from the version that you use. As a result you should read the bytes, then look for the encoding, afterwards try to encode again.","body":"There is a reason why HTML pages usually announces their encoding – it is not always UTF8, as you assume. And whether Java is using UTF16 internally depends from the version that you use. As a result you should read the bytes, then look for the encoding, afterwards try to encode again."},{"owner":{"account_id":13588274,"reputation":148,"user_id":9802378,"display_name":"Dubstepzedd"},"score":0,"creation_date":1680665742,"post_id":75932887,"comment_id":133935001,"body_markdown":"@tquadrat Indeed, I hardcoded UTF-8 to make it work for one specific example as mentioned in the post. I will fix so that it &quot;adapts&#39;&quot; later :)","body":"@tquadrat Indeed, I hardcoded UTF-8 to make it work for one specific example as mentioned in the post. I will fix so that it &quot;adapts&#39;&quot; later :)"}],"answers":[{"comments":[{"owner":{"account_id":13588274,"reputation":148,"user_id":9802378,"display_name":"Dubstepzedd"},"score":0,"creation_date":1680665331,"post_id":75933839,"comment_id":133934955,"body_markdown":"I really wish that I could use a library - but we aren’t allowed to as this is a laboratory assignment. It might be that some “core” parsing library is allowed - but if so that wasn’t obvious at all. \n\nThanks for pointing this out, and telling the the implementation fundamentals - it was really necessary. \n\nI will follow your strategy and have a discussion with my professor.","body":"I really wish that I could use a library - but we aren’t allowed to as this is a laboratory assignment. It might be that some “core” parsing library is allowed - but if so that wasn’t obvious at all.   Thanks for pointing this out, and telling the the implementation fundamentals - it was really necessary.   I will follow your strategy and have a discussion with my professor."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680665706,"post_id":75933839,"comment_id":133934996,"body_markdown":"Well, writing a webserver is.. about 3 personyears worth of work. I assume the assignment runs that long? If not, this is a quixotic exercise.","body":"Well, writing a webserver is.. about 3 personyears worth of work. I assume the assignment runs that long? If not, this is a quixotic exercise."},{"owner":{"account_id":13588274,"reputation":148,"user_id":9802378,"display_name":"Dubstepzedd"},"score":0,"creation_date":1680669703,"post_id":75933839,"comment_id":133935394,"body_markdown":"We have few weeks to work on it! I guess they don&#39;t have high standards.","body":"We have few weeks to work on it! I guess they don&#39;t have high standards."},{"owner":{"account_id":13588274,"reputation":148,"user_id":9802378,"display_name":"Dubstepzedd"},"score":0,"creation_date":1680672599,"post_id":75933839,"comment_id":133935738,"body_markdown":"By the way, can you show an example of what you mean with “pass it through an InputStreamReader” if I have put all the bytes inside a ByteBuffer? How can I easily convert this ByteBuffer to text and not mess up, for example images","body":"By the way, can you show an example of what you mean with “pass it through an InputStreamReader” if I have put all the bytes inside a ByteBuffer? How can I easily convert this ByteBuffer to text and not mess up, for example images"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680699065,"post_id":75933839,"comment_id":133941938,"body_markdown":"Once you enter `ByteBuffer` country you stop using the `Reader`/`InputStream` stuff from the .io. package entirely. But here it&#39;s even simpler than that (given it&#39;s a throwaway silly exercise), read __all of it__ into a byte array, then just `new String(thatArr, theCharSetFromTheContentTypeHeader)`.","body":"Once you enter <code>ByteBuffer</code> country you stop using the <code>Reader</code>/<code>InputStream</code> stuff from the .io. package entirely. But here it&#39;s even simpler than that (given it&#39;s a throwaway silly exercise), read <b>all of it</b> into a byte array, then just <code>new String(thatArr, theCharSetFromTheContentTypeHeader)</code>."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680642278,"creation_date":1680642278,"answer_id":75933839,"question_id":75932887,"body_markdown":"You&#39;re doing it the wrong way around. You need characters, and then convert those back to bytes in order to keep track of your Content-Length.\r\n\r\nThat&#39;s wrong - read bytes, do the &#39;math&#39; on how many bytes are left, then convert THOSE. Which isn&#39;t necessarily easy - you could be reading &#39;half&#39; a character.\r\n\r\nMore generally there are libraries to do this for you. HTTP is surprisingly complicated, it&#39;s bizarre to want to write an entire web server, especially when you are still working with the level of experience that evidently isn&#39;t sufficient to realize basic mistakes like this. It&#39;s not your fault; HTTP __seems__ really simple, so simple, you thought: Heck, I&#39;ll give it a shot. But, don&#39;t do that.\r\n\r\nOne of the complex aspects to HTTP is that it&#39;s a mixed mode protocol: The request itself and the headers are character-based, but then the content is byte-based. Note that the preamble (the headers and such) are US_ASCII. Not UTF8. This shouldn&#39;t ordinarily matter (if truly everything is sent in ASCII, a UTF-8 parser will read it just the same), but it does if the input is invalid. I can tell you some extremely deep-down-the-rabbit-hole stories about how accepting things that other servers do not accept leads to security issues, so, don&#39;t do that.\r\n\r\nThere are ways to write it correctly; of course there is, there are plenty of HTTP servers written in java, after all. So, why not use one of them? There&#39;s [jetty](https://www.eclipse.org/jetty/) which is very pluggable and controllable, for example - and 100% a java solution. Just add some jars, all you need to do.\r\n\r\nIf you insist on doing it yourself, know that this is merely the first of about 5000 questions, and the odds that your final, working product (if you ever get that far) is truly &#39;good&#39; is effectively zilch. It is _virtually guaranteed_ it has some security issue, probably a major one, and it is virtually guaranteed some browser or server or some exotic combination of the two is going to fail if your proxy is in the middle of it.\r\n\r\nIf you insist, this is the strategy:\r\n\r\n* Realize that HTTP is fundamentally byte based. If you write `new InputStreamReader`, you lost the game.\r\n* To read the &#39;stringy&#39; parts, you read data in byte form until a known end point (e.g. a newline symbol, signalling that the `GET /path HTTP/1.1` line is now done), and then take the entire byte array that contains the &#39;line&#39; and convert _that_ to a string, e.g. using `new String(byteArr, 0, pos, StandardCharsets.US_ASCII)`, and then parse that string (e.g. store it in your `header` map or read the HTTP method out of it).\r\n* For the HTTP request body, read bytes out and pass them on through to an `InputStreamReader`, but separate it out: you can&#39;t convert to characters and _then_ count how many bytes you read. It just doesn&#39;t work that way.\r\n* `ByteBuffer` and `Channel` is the newer API and it probably will work a lot better especially if you want to efficiently deal with a &#39;mixed mode&#39; channel that is going to send a ton of data.\r\n* ... but, really, abort. For example, the `Range` mechanic built into HTTP, used to request a chunk of a resource and required, more or less, to host videos (as web video players use this continuously to stream the video file), is completely crazy and doesn&#39;t work anything like one would expect. There&#39;s chunked encoding which can be slightly odd. There are all sorts of bizarro caveats that web servers have taken care of, up to and including parsing out the `User-Agent` string to change behaviour (such as ignoring the indication from a browser that they can handle gzip compression when the UA says it&#39;s IE6 and the resource asked is css or js. Which IE6 can&#39;t actually read if compressed even if it says it can. Fortunately IE6 is dead and buried but it&#39;s not the only bizarro thing that just about every web server has hacked around. No, you won&#39;t find that in any spec. That&#39;s my point. The amount of domain knowledge that web server authors have is _mind boggling_ and you will spend the next 20 years rediscovering it all if you try to write this on your own. When I said &#39;HTTP is actually quite complicated&#39;, perhaps now you start to see how complicated I mean).\r\n\r\nGiven that so far you&#39;re just appending it all to a StringBuilder, i.e. you don&#39;t seem to care about being able to deal with very large input, you could just stream all data into a byte array until it&#39;s _ALL_ received, then convert the entire byte array to a string, which completely solves the current problem you are having. It won&#39;t solve the 5000 other problems you&#39;re going to have in the near future, of course.","title":"Parsing HTTP body in Java","body":"<p>You're doing it the wrong way around. You need characters, and then convert those back to bytes in order to keep track of your Content-Length.</p>\n<p>That's wrong - read bytes, do the 'math' on how many bytes are left, then convert THOSE. Which isn't necessarily easy - you could be reading 'half' a character.</p>\n<p>More generally there are libraries to do this for you. HTTP is surprisingly complicated, it's bizarre to want to write an entire web server, especially when you are still working with the level of experience that evidently isn't sufficient to realize basic mistakes like this. It's not your fault; HTTP <strong>seems</strong> really simple, so simple, you thought: Heck, I'll give it a shot. But, don't do that.</p>\n<p>One of the complex aspects to HTTP is that it's a mixed mode protocol: The request itself and the headers are character-based, but then the content is byte-based. Note that the preamble (the headers and such) are US_ASCII. Not UTF8. This shouldn't ordinarily matter (if truly everything is sent in ASCII, a UTF-8 parser will read it just the same), but it does if the input is invalid. I can tell you some extremely deep-down-the-rabbit-hole stories about how accepting things that other servers do not accept leads to security issues, so, don't do that.</p>\n<p>There are ways to write it correctly; of course there is, there are plenty of HTTP servers written in java, after all. So, why not use one of them? There's <a href=\"https://www.eclipse.org/jetty/\" rel=\"nofollow noreferrer\">jetty</a> which is very pluggable and controllable, for example - and 100% a java solution. Just add some jars, all you need to do.</p>\n<p>If you insist on doing it yourself, know that this is merely the first of about 5000 questions, and the odds that your final, working product (if you ever get that far) is truly 'good' is effectively zilch. It is <em>virtually guaranteed</em> it has some security issue, probably a major one, and it is virtually guaranteed some browser or server or some exotic combination of the two is going to fail if your proxy is in the middle of it.</p>\n<p>If you insist, this is the strategy:</p>\n<ul>\n<li>Realize that HTTP is fundamentally byte based. If you write <code>new InputStreamReader</code>, you lost the game.</li>\n<li>To read the 'stringy' parts, you read data in byte form until a known end point (e.g. a newline symbol, signalling that the <code>GET /path HTTP/1.1</code> line is now done), and then take the entire byte array that contains the 'line' and convert <em>that</em> to a string, e.g. using <code>new String(byteArr, 0, pos, StandardCharsets.US_ASCII)</code>, and then parse that string (e.g. store it in your <code>header</code> map or read the HTTP method out of it).</li>\n<li>For the HTTP request body, read bytes out and pass them on through to an <code>InputStreamReader</code>, but separate it out: you can't convert to characters and <em>then</em> count how many bytes you read. It just doesn't work that way.</li>\n<li><code>ByteBuffer</code> and <code>Channel</code> is the newer API and it probably will work a lot better especially if you want to efficiently deal with a 'mixed mode' channel that is going to send a ton of data.</li>\n<li>... but, really, abort. For example, the <code>Range</code> mechanic built into HTTP, used to request a chunk of a resource and required, more or less, to host videos (as web video players use this continuously to stream the video file), is completely crazy and doesn't work anything like one would expect. There's chunked encoding which can be slightly odd. There are all sorts of bizarro caveats that web servers have taken care of, up to and including parsing out the <code>User-Agent</code> string to change behaviour (such as ignoring the indication from a browser that they can handle gzip compression when the UA says it's IE6 and the resource asked is css or js. Which IE6 can't actually read if compressed even if it says it can. Fortunately IE6 is dead and buried but it's not the only bizarro thing that just about every web server has hacked around. No, you won't find that in any spec. That's my point. The amount of domain knowledge that web server authors have is <em>mind boggling</em> and you will spend the next 20 years rediscovering it all if you try to write this on your own. When I said 'HTTP is actually quite complicated', perhaps now you start to see how complicated I mean).</li>\n</ul>\n<p>Given that so far you're just appending it all to a StringBuilder, i.e. you don't seem to care about being able to deal with very large input, you could just stream all data into a byte array until it's <em>ALL</em> received, then convert the entire byte array to a string, which completely solves the current problem you are having. It won't solve the 5000 other problems you're going to have in the near future, of course.</p>\n"}],"owner":{"account_id":13588274,"reputation":148,"user_id":9802378,"display_name":"Dubstepzedd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75933839,"answer_count":1,"score":0,"last_activity_date":1680647299,"creation_date":1680634324,"question_id":75932887,"body_markdown":"## What I am trying to achieve:\r\nI am currently developing a proxy where the goal is to alter the body received in the server&#39;s response. (The proxy shall only support **HTTP**, not **HTTPS**). \r\n&lt;br&gt;&lt;br&gt;\r\nAs an example of what I want the proxy to accomplish:\r\n\r\nThe client (browser) sends a HTTP GET request to the proxy, it is then parsed and redirected to the correct host. The host (server) will then respond with a 200 OK the HTML file. The HTML file is then parsed in the proxy and altered. The proxy then change the Content-Length and other headers if necessary and sends it back to the client. The client will now see an altered version of the the HTML file that the proxy received from the server.\r\n\r\n## The issue:\r\nThe proxy seems to have an issue with UTF-8 and other encodings where the font can&#39;t recognize certain characters. What happens is that when I read using a Socket&#39;s InputStream, it times out because it believes it has not read enough bytes (according to the Content-Length). When the HTML file is returned to the browser, a lot of &quot;diamonds with a question mark inside&quot; appears. Which, according to my research, is when the font can&#39;t load a character. It can vary between fonts. \r\n\r\nIt works fine on websites that don&#39;t have &quot;weird characters&quot;. When reading the body it stops before reading the entire body. For example: In one case I had a body that contained 179643 bytes,  and it stopped reading when my bodyLength had the value of ~3000 bytes. It then timed out, causing a 5 sec delay between the server and client. The content was all correct, it is just not calculated the correct way in the while loop.\r\n\r\nI have this code snippet that causes issues (This code handles the response to a `Socket`)\r\n\r\n    private Response getResponse(final Socket socket) {\r\n        try {\r\n\r\n            HashMap&lt;String, String&gt; headers;\r\n            StringBuilder builder = new StringBuilder();\r\n            BufferedReader stream = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n\r\n            //-- READ FIRST LINE --//\r\n            // We assume that it is a valid response! (TODO)\r\n            String[] firstLine = stream.readLine().split(&quot; &quot;,3);\r\n            headers = getHeaders(stream);\r\n\r\n            //--- GET BODY ---//\r\n            String contentLength = headers.get(&quot;Content-Length&quot;);\r\n            //Check if body exists\r\n            if(contentLength != null) {\r\n                int bodyLength = Integer.parseInt(contentLength);\r\n\r\n                String s;\r\n                //The issue occurs in this while loop!\r\n                while(bodyLength &gt; 0 &amp;&amp; (s = stream.readLine()) != null) {\r\n                    bodyLength -= (s+&quot;\\n&quot;).getBytes(StandardCharsets.UTF_8).length;\r\n                    builder.append(s).append(&quot;\\n&quot;);\r\n                }\r\n\r\n            }\r\n\r\n            //-- Return Request --//\r\n            int code = Integer.parseInt(firstLine[1]);\r\n            return new Response(headers,builder, firstLine[0],code, firstLine[2]);\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n(**NOTE:** I know that parsing the entire body as Strings is not efficient and that a &quot;real&quot; proxy would just pass the bytes along. I am, however, **according to my knowledge** forced to read the Strings as I have to change the contents. I should also state that I am not allowed to use libraries!)\r\n\r\nAbove you can see that I have `StandardCharsets.UTF_8`. This is temporary and I have this because the page that “timed out” used UTF-8 as encoding. I am trying to make this example work before moving on and implementing a better solution.\r\n\r\nI believe that the issue has to do with the while loop in the above code. \r\n&lt;br&gt; What this method should do is:\r\n\r\n 1. Parse the first line (e.g GET URL PROTOCOL).\r\n 2. Get the headers from the response and put them into a `HashMap` object for easy use.\r\n 3. We check if there is any body, if so we enter a loop in which we do step 4,5,6 below.\r\n 4. Read the string and add it to the StringBuilder.\r\n 5. Subtract the length of the String from the `bodyLength` variable, which is the content length as an integer.\r\n6. Loop while bodyLength &gt; 0, because if it is 0 we are done.\r\n7. When done we can return the entire request as a Request object. (This class is custom and basically just contains the headers, body, etc.)\r\n\r\nI only posted the method above as it is there the actual &quot;encoding issue&quot; occurs. Seeing the other methods would just make the question lose its precision in my opinion. If you wonder about other parts of the code, feel free to ask a question in the comments!\r\n\r\n**Now to the actual question:** &lt;br&gt;\r\nHow do I solve this issue? Strings use UTF-16 in Java so does the encoding **&quot;disappear&quot;** when I read a String from the InputStream? For example: If I in the snippet above in the beginning instead put  `InputStreamReader(socket.getInputStream(), &quot;UTF-8&quot;)`, then - shouldn&#39;t the Strings be UTF-8 when read from the stream? Or are they immediately converted to UTF-16 when set as a `String` object?\r\n\r\n\r\n## What have I tried?\r\n\r\nI tried doing the following: `InputStreamReader(socket.getInputStream(), &quot;UTF-8&quot;)`\r\nAlthough this, combined with doing the same thing for the output stream, makes the &quot;diamonds with questionmarks&quot; disappear - it does not solve the timeout issue. \r\n \r\nI tried parsing the body as bytes, but somehow this ended up not working at all. Not only this, but it would not be easy to replace the contents of the body with this approach (that I know of).\r\n","title":"Parsing HTTP body in Java","body":"<h2>What I am trying to achieve:</h2>\n<p>I am currently developing a proxy where the goal is to alter the body received in the server's response. (The proxy shall only support <strong>HTTP</strong>, not <strong>HTTPS</strong>).\n<br><br>\nAs an example of what I want the proxy to accomplish:</p>\n<p>The client (browser) sends a HTTP GET request to the proxy, it is then parsed and redirected to the correct host. The host (server) will then respond with a 200 OK the HTML file. The HTML file is then parsed in the proxy and altered. The proxy then change the Content-Length and other headers if necessary and sends it back to the client. The client will now see an altered version of the the HTML file that the proxy received from the server.</p>\n<h2>The issue:</h2>\n<p>The proxy seems to have an issue with UTF-8 and other encodings where the font can't recognize certain characters. What happens is that when I read using a Socket's InputStream, it times out because it believes it has not read enough bytes (according to the Content-Length). When the HTML file is returned to the browser, a lot of &quot;diamonds with a question mark inside&quot; appears. Which, according to my research, is when the font can't load a character. It can vary between fonts.</p>\n<p>It works fine on websites that don't have &quot;weird characters&quot;. When reading the body it stops before reading the entire body. For example: In one case I had a body that contained 179643 bytes,  and it stopped reading when my bodyLength had the value of ~3000 bytes. It then timed out, causing a 5 sec delay between the server and client. The content was all correct, it is just not calculated the correct way in the while loop.</p>\n<p>I have this code snippet that causes issues (This code handles the response to a <code>Socket</code>)</p>\n<pre><code>private Response getResponse(final Socket socket) {\n    try {\n\n        HashMap&lt;String, String&gt; headers;\n        StringBuilder builder = new StringBuilder();\n        BufferedReader stream = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n\n        //-- READ FIRST LINE --//\n        // We assume that it is a valid response! (TODO)\n        String[] firstLine = stream.readLine().split(&quot; &quot;,3);\n        headers = getHeaders(stream);\n\n        //--- GET BODY ---//\n        String contentLength = headers.get(&quot;Content-Length&quot;);\n        //Check if body exists\n        if(contentLength != null) {\n            int bodyLength = Integer.parseInt(contentLength);\n\n            String s;\n            //The issue occurs in this while loop!\n            while(bodyLength &gt; 0 &amp;&amp; (s = stream.readLine()) != null) {\n                bodyLength -= (s+&quot;\\n&quot;).getBytes(StandardCharsets.UTF_8).length;\n                builder.append(s).append(&quot;\\n&quot;);\n            }\n\n        }\n\n        //-- Return Request --//\n        int code = Integer.parseInt(firstLine[1]);\n        return new Response(headers,builder, firstLine[0],code, firstLine[2]);\n    }\n    catch (IOException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n<p>(<strong>NOTE:</strong> I know that parsing the entire body as Strings is not efficient and that a &quot;real&quot; proxy would just pass the bytes along. I am, however, <strong>according to my knowledge</strong> forced to read the Strings as I have to change the contents. I should also state that I am not allowed to use libraries!)</p>\n<p>Above you can see that I have <code>StandardCharsets.UTF_8</code>. This is temporary and I have this because the page that “timed out” used UTF-8 as encoding. I am trying to make this example work before moving on and implementing a better solution.</p>\n<p>I believe that the issue has to do with the while loop in the above code.\n<br> What this method should do is:</p>\n<ol>\n<li>Parse the first line (e.g GET URL PROTOCOL).</li>\n<li>Get the headers from the response and put them into a <code>HashMap</code> object for easy use.</li>\n<li>We check if there is any body, if so we enter a loop in which we do step 4,5,6 below.</li>\n<li>Read the string and add it to the StringBuilder.</li>\n<li>Subtract the length of the String from the <code>bodyLength</code> variable, which is the content length as an integer.</li>\n<li>Loop while bodyLength &gt; 0, because if it is 0 we are done.</li>\n<li>When done we can return the entire request as a Request object. (This class is custom and basically just contains the headers, body, etc.)</li>\n</ol>\n<p>I only posted the method above as it is there the actual &quot;encoding issue&quot; occurs. Seeing the other methods would just make the question lose its precision in my opinion. If you wonder about other parts of the code, feel free to ask a question in the comments!</p>\n<p><strong>Now to the actual question:</strong> <br>\nHow do I solve this issue? Strings use UTF-16 in Java so does the encoding <strong>&quot;disappear&quot;</strong> when I read a String from the InputStream? For example: If I in the snippet above in the beginning instead put  <code>InputStreamReader(socket.getInputStream(), &quot;UTF-8&quot;)</code>, then - shouldn't the Strings be UTF-8 when read from the stream? Or are they immediately converted to UTF-16 when set as a <code>String</code> object?</p>\n<h2>What have I tried?</h2>\n<p>I tried doing the following: <code>InputStreamReader(socket.getInputStream(), &quot;UTF-8&quot;)</code>\nAlthough this, combined with doing the same thing for the output stream, makes the &quot;diamonds with questionmarks&quot; disappear - it does not solve the timeout issue.</p>\n<p>I tried parsing the body as bytes, but somehow this ended up not working at all. Not only this, but it would not be easy to replace the contents of the body with this approach (that I know of).</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","many-to-many"],"answers":[{"comments":[{"owner":{"account_id":17271785,"reputation":17,"user_id":12507345,"display_name":"Sergiu Stefan"},"score":1,"creation_date":1680683678,"post_id":75934290,"comment_id":133937991,"body_markdown":"Thank you. I assumed that the Embeddable and EmbeddedId + MapsId annotations  would take care of the Id creation.","body":"Thank you. I assumed that the Embeddable and EmbeddedId + MapsId annotations  would take care of the Id creation."}],"tags":[],"owner":{"display_name":"user15773347"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680647030,"creation_date":1680647030,"answer_id":75934290,"question_id":75934091,"body_markdown":"When you try to save this `ProductAttribute` object using the `productAttributeRepository`, the repository is trying to generate an ID for the object, but since the id property is null, it fails to do so and returns a null object.\r\n\r\nThis should fix your Problem:\r\n\r\n    //create new productAttribute\r\n    ProductAttribute productAttribute = new ProductAttribute();\r\n    \r\n    ProductAttributeKey id = new ProductAttributeKey();\r\n    id.setProductId(createProductAttributeModel.getProductId());\r\n    id.setAttributeId(createProductAttributeModel.getAttributeId());\r\n    \r\n    productAttribute.setId(id);\r\n    productAttribute.setProduct(product);\r\n    productAttribute.setAttribute(attribute);\r\n    productAttribute.setValue(value);\r\n    \r\n    return productAttributeRepository.save(productAttribute);\r\n\r\n","title":"How to insert data inside @ManyToMany relationship with extra field in join table in Spring Boot application","body":"<p>When you try to save this <code>ProductAttribute</code> object using the <code>productAttributeRepository</code>, the repository is trying to generate an ID for the object, but since the id property is null, it fails to do so and returns a null object.</p>\n<p>This should fix your Problem:</p>\n<pre><code>//create new productAttribute\nProductAttribute productAttribute = new ProductAttribute();\n\nProductAttributeKey id = new ProductAttributeKey();\nid.setProductId(createProductAttributeModel.getProductId());\nid.setAttributeId(createProductAttributeModel.getAttributeId());\n\nproductAttribute.setId(id);\nproductAttribute.setProduct(product);\nproductAttribute.setAttribute(attribute);\nproductAttribute.setValue(value);\n\nreturn productAttributeRepository.save(productAttribute);\n</code></pre>\n"}],"owner":{"account_id":17271785,"reputation":17,"user_id":12507345,"display_name":"Sergiu Stefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75934290,"answer_count":1,"score":0,"last_activity_date":1680647030,"creation_date":1680644886,"question_id":75934091,"body_markdown":"I have two entities, Product and Attribute. I must to create a Many To Many relationship between Product Attribute, using another separate entity called ProductAttribute which should have a value field.\r\nI can succesfully add and delete Products and Attributes to the database, but i cannot create any entry in ProductAttribute table since in the service class ( last code snippet ) the repository see&#39;s my new ProductAttribute as null.\r\nHere are my Entities:\r\n\r\n```\r\n@Table\r\n@Entity\r\n@Data\r\npublic class Product{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;product&quot;)\r\n    private List&lt;ProductAttribute&gt; productAttributes;\r\n  // other fields -------\r\n```\r\n\r\n\r\n```\r\n@Table\r\n@Entity\r\n@Data\r\npublic class Attribute{\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;,nullable = false)\r\n    private Long id;\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;attribute&quot;)\r\n    private List&lt;ProductAttribute&gt; productAttributes;\r\n}\r\n```\r\nProductAttribute entity and the Key class\r\n```\r\n@Entity\r\n@Table(name = &quot;product_attribute&quot;)\r\n@Data\r\npublic class ProductAttribute {\r\n    @EmbeddedId\r\n    private ProductAttributeKey id;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;productId&quot;)\r\n    private  Product product;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;attributeId&quot;)\r\n    private Attribute attribute;\r\n\r\n    @Column\r\n    String value;\r\n}\r\n```\r\n\r\n```\r\n@Embeddable                                                     \r\n@Data                                                           \r\n@AllArgsConstructor                                             \r\n@NoArgsConstructor                                              \r\npublic class ProductAttributeKey implements Serializable {      \r\n    @Column(name = &quot;product_id&quot;)                                \r\n    private Long productId;                                     \r\n                                                                \r\n    @Column(name = &quot;attribute_id&quot;)                              \r\n    private Long attributeId;                                   \r\n}\r\n```\r\nI implemented the JpaRepository for every Relationship except for ProductAttributeKey.\r\nThis is the method from the ProductAttributeService class:\r\n\r\n\r\n\r\n```\r\n@Transactional\r\n    public ProductAttribute createProductAttribute(CreateProductAttributeModel createProductAttributeModel) {\r\n        Product product = productRepository.findById(createProductAttributeModel.getProductId())\r\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Product with id &quot; + createProductAttributeModel.getProductId() + &quot; not found!&quot;));\r\n        Attribute attribute = attributeRepository.findById(createProductAttributeModel.getAttributeId())\r\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Attribute with id &quot; + createProductAttributeModel.getAttributeId() + &quot; not found!&quot;));\r\n        String value = createProductAttributeModel.getValue();\r\n\r\n//create new productAttribute\r\n        ProductAttribute productAttribute = new ProductAttribute();\r\n\r\n        productAttribute.setProduct(product);\r\n        productAttribute.setAttribute(attribute);\r\n        productAttribute.setValue(value);\r\n\r\n\r\n     return productAttributeRepository.save(productAttribute);\r\n    }\r\n```\r\n","title":"How to insert data inside @ManyToMany relationship with extra field in join table in Spring Boot application","body":"<p>I have two entities, Product and Attribute. I must to create a Many To Many relationship between Product Attribute, using another separate entity called ProductAttribute which should have a value field.\nI can succesfully add and delete Products and Attributes to the database, but i cannot create any entry in ProductAttribute table since in the service class ( last code snippet ) the repository see's my new ProductAttribute as null.\nHere are my Entities:</p>\n<pre><code>@Table\n@Entity\n@Data\npublic class Product{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;product&quot;)\n    private List&lt;ProductAttribute&gt; productAttributes;\n  // other fields -------\n</code></pre>\n<pre><code>@Table\n@Entity\n@Data\npublic class Attribute{\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;,nullable = false)\n    private Long id;\n    @Column(nullable = false)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;attribute&quot;)\n    private List&lt;ProductAttribute&gt; productAttributes;\n}\n</code></pre>\n<p>ProductAttribute entity and the Key class</p>\n<pre><code>@Entity\n@Table(name = &quot;product_attribute&quot;)\n@Data\npublic class ProductAttribute {\n    @EmbeddedId\n    private ProductAttributeKey id;\n\n    @ManyToOne\n    @MapsId(&quot;productId&quot;)\n    private  Product product;\n\n    @ManyToOne\n    @MapsId(&quot;attributeId&quot;)\n    private Attribute attribute;\n\n    @Column\n    String value;\n}\n</code></pre>\n<pre><code>@Embeddable                                                     \n@Data                                                           \n@AllArgsConstructor                                             \n@NoArgsConstructor                                              \npublic class ProductAttributeKey implements Serializable {      \n    @Column(name = &quot;product_id&quot;)                                \n    private Long productId;                                     \n                                                                \n    @Column(name = &quot;attribute_id&quot;)                              \n    private Long attributeId;                                   \n}\n</code></pre>\n<p>I implemented the JpaRepository for every Relationship except for ProductAttributeKey.\nThis is the method from the ProductAttributeService class:</p>\n<pre><code>@Transactional\n    public ProductAttribute createProductAttribute(CreateProductAttributeModel createProductAttributeModel) {\n        Product product = productRepository.findById(createProductAttributeModel.getProductId())\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Product with id &quot; + createProductAttributeModel.getProductId() + &quot; not found!&quot;));\n        Attribute attribute = attributeRepository.findById(createProductAttributeModel.getAttributeId())\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Attribute with id &quot; + createProductAttributeModel.getAttributeId() + &quot; not found!&quot;));\n        String value = createProductAttributeModel.getValue();\n\n//create new productAttribute\n        ProductAttribute productAttribute = new ProductAttribute();\n\n        productAttribute.setProduct(product);\n        productAttribute.setAttribute(attribute);\n        productAttribute.setValue(value);\n\n\n     return productAttributeRepository.save(productAttribute);\n    }\n</code></pre>\n"},{"tags":["java","terminal","utf-8","java.util.scanner","system.in"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680603550,"post_id":75928132,"comment_id":133922493,"body_markdown":"`-D&quot;file.encoding=UTF=8&quot;` is wrong, 1) it&#39;s UTF-8, not UTF=8, and 2) as far as I know the quotes should enclose the entire argument or be left out. That is `-Dfile.encoding=UTF-8` or `&quot;-Dfile.encoding=UTF-8`","body":"<code>-D&quot;file.encoding=UTF=8&quot;</code> is wrong, 1) it&#39;s UTF-8, not UTF=8, and 2) as far as I know the quotes should enclose the entire argument or be left out. That is <code>-Dfile.encoding=UTF-8</code> or <code>&quot;-Dfile.encoding=UTF-8</code>"},{"owner":{"account_id":18292350,"reputation":87,"user_id":13318909,"display_name":"ShadeOfLight"},"score":0,"creation_date":1680605628,"post_id":75928132,"comment_id":133922975,"body_markdown":"Sorry, the = was a typo. I&#39;ve changed the quotes to enclose the entire argument, but the error persists.","body":"Sorry, the = was a typo. I&#39;ve changed the quotes to enclose the entire argument, but the error persists."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680605865,"post_id":75928132,"comment_id":133923019,"body_markdown":"Is the 65501 also a typo? Because on my system it results in _&quot;Invalid code page&quot;_, and the UTF-8 codepage is 65001, and 65501 is also not listed on https://learn.microsoft.com/en-us/windows/win32/intl/code-page-identifiers","body":"Is the 65501 also a typo? Because on my system it results in <i>&quot;Invalid code page&quot;</i>, and the UTF-8 codepage is 65001, and 65501 is also not listed on <a href=\"https://learn.microsoft.com/en-us/windows/win32/intl/code-page-identifiers\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/intl/&hellip;</a>"},{"owner":{"account_id":18292350,"reputation":87,"user_id":13318909,"display_name":"ShadeOfLight"},"score":0,"creation_date":1680605916,"post_id":75928132,"comment_id":133923027,"body_markdown":"Yes, I&#39;m terribly sorry. It should be 65001, which is UTF-8.","body":"Yes, I&#39;m terribly sorry. It should be 65001, which is UTF-8."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680606123,"post_id":75928132,"comment_id":133923073,"body_markdown":"That said, I retract (and deleted) my previous comment, because I can reproduce the problem.","body":"That said, I retract (and deleted) my previous comment, because I can reproduce the problem."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680606195,"post_id":75928132,"comment_id":133923089,"body_markdown":"Interestingly enough, when I don&#39;t use chcp 65001 (my system defaults to code page 437), it works fine and as expected.","body":"Interestingly enough, when I don&#39;t use chcp 65001 (my system defaults to code page 437), it works fine and as expected."},{"owner":{"account_id":18292350,"reputation":87,"user_id":13318909,"display_name":"ShadeOfLight"},"score":0,"creation_date":1680607823,"post_id":75928132,"comment_id":133923470,"body_markdown":"Very interesting indeed, but then the accented characters are not displayed correctly, even though they are not registered as 0.","body":"Very interesting indeed, but then the accented characters are not displayed correctly, even though they are not registered as 0."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680610271,"post_id":75928132,"comment_id":133924127,"body_markdown":"`PS C:\\&gt; echo ? | Format-Hex` would be interesting. I&#39;m going to take a guess that the hex would involve 0XFC, which is *not* Unicode (Don&#39;t change codepage when you do that)","body":"<code>PS C:\\&gt; echo ? | Format-Hex</code> would be interesting. I&#39;m going to take a guess that the hex would involve 0XFC, which is <i>not</i> Unicode (Don&#39;t change codepage when you do that)"},{"owner":{"account_id":18292350,"reputation":87,"user_id":13318909,"display_name":"ShadeOfLight"},"score":0,"creation_date":1680614309,"post_id":75928132,"comment_id":133925248,"body_markdown":"The output for &#252; as ? was 3F in position 0000 in codepage 65001, if you were curious.","body":"The output for &#252; as ? was 3F in position 0000 in codepage 65001, if you were curious."},{"owner":{"account_id":18292350,"reputation":87,"user_id":13318909,"display_name":"ShadeOfLight"},"score":0,"creation_date":1680619613,"post_id":75928132,"comment_id":133926735,"body_markdown":"It seems that by changing UTF-8 out in favour of ANSI, the characters are displayed correctly and the inputs are read correctly. However, this is far from a perfect solution for me, given the prototype I&#39;m developing is supposed to be a language-learning tool.","body":"It seems that by changing UTF-8 out in favour of ANSI, the characters are displayed correctly and the inputs are read correctly. However, this is far from a perfect solution for me, given the prototype I&#39;m developing is supposed to be a language-learning tool."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680621522,"post_id":75928132,"comment_id":133927347,"body_markdown":"List version number for Windows OS, PowerShell app, and Java.","body":"List version number for Windows OS, PowerShell app, and Java."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680621609,"post_id":75928132,"comment_id":133927370,"body_markdown":"What happens when you run within IntelliJ, using its built-in console? Describe its character encoding setting, and its behavior.","body":"What happens when you run within IntelliJ, using its built-in console? Describe its character encoding setting, and its behavior."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1680624690,"post_id":75928132,"comment_id":133928154,"body_markdown":"More information is needed to properly reproduce your issue. Update your question with: [1] Your version of Java when running in PowerShell (`java --version`). [2] Your version of Java when running within Intellij. [3] Per the previous comment from Basil, what happens when running within Intellij? [4] What happens when you run from Windows Terminal using _Command Prompt_ instead of _PowerShell_? [5] What is your _default_ code page. That is, what do you see if you open a new PowerShell window and just submit `chcp`? [6] The value returned by `chcp` when **echo &#252;** is rendered as **echo ?**.","body":"More information is needed to properly reproduce your issue. Update your question with: [1] Your version of Java when running in PowerShell (<code>java --version</code>). [2] Your version of Java when running within Intellij. [3] Per the previous comment from Basil, what happens when running within Intellij? [4] What happens when you run from Windows Terminal using <i>Command Prompt</i> instead of <i>PowerShell</i>? [5] What is your <i>default</i> code page. That is, what do you see if you open a new PowerShell window and just submit <code>chcp</code>? [6] The value returned by <code>chcp</code> when <b>echo &#252;</b> is rendered as <b>echo ?</b>."},{"owner":{"account_id":18292350,"reputation":87,"user_id":13318909,"display_name":"ShadeOfLight"},"score":0,"creation_date":1680627559,"post_id":75928132,"comment_id":133928931,"body_markdown":"I have added the information requested. Hopefully it is of some use to you.","body":"I have added the information requested. Hopefully it is of some use to you."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680630095,"post_id":75928132,"comment_id":133929602,"body_markdown":"*The output for &#252; as ? was 3F in position 0000 in codepage 6500* Ah no, that would be from entering a *literal question mark*. You started off with *modern consoles are capable of handling accented character outputs, and correctly encoding inputs, even though they show up as ?* So that was, I&#39;m afraid, a wasted exercise. You were meant to be doing that with the &#39;real&#39; character you wanted to examine. Of course, it *could* have been showing a real question mark as encoding had already failed before it even got to your app","body":"<i>The output for &#252; as ? was 3F in position 0000 in codepage 6500</i> Ah no, that would be from entering a <i>literal question mark</i>. You started off with <i>modern consoles are capable of handling accented character outputs, and correctly encoding inputs, even though they show up as ?</i> So that was, I&#39;m afraid, a wasted exercise. You were meant to be doing that with the &#39;real&#39; character you wanted to examine. Of course, it <i>could</i> have been showing a real question mark as encoding had already failed before it even got to your app"},{"owner":{"account_id":18292350,"reputation":87,"user_id":13318909,"display_name":"ShadeOfLight"},"score":0,"creation_date":1680633362,"post_id":75928132,"comment_id":133930405,"body_markdown":"Interestingly enough, the &#252; is displayed correctly as &#252; prior to sending the command `echo &#252;` in Command Prompt. In PowerShell, codepage 65001 breaks the &#252; character prior to sending it for some reason.","body":"Interestingly enough, the &#252; is displayed correctly as &#252; prior to sending the command <code>echo &#252;</code> in Command Prompt. In PowerShell, codepage 65001 breaks the &#252; character prior to sending it for some reason."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1680633632,"post_id":75928132,"comment_id":133930475,"body_markdown":"@ShadeOfLight OK. I can reproduce your problem: works within Intellij, but fails from Windows Terminal when using the PS and cmd windows. A few minor differences in our environments: I am using Java 19 on Win 10 with IntelliJ IDEA 2023.1 (Ultimate Edition). Also, my default code page is 65001 so I don&#39;t need to use chcp. An interesting problem.","body":"@ShadeOfLight OK. I can reproduce your problem: works within Intellij, but fails from Windows Terminal when using the PS and cmd windows. A few minor differences in our environments: I am using Java 19 on Win 10 with IntelliJ IDEA 2023.1 (Ultimate Edition). Also, my default code page is 65001 so I don&#39;t need to use chcp. An interesting problem."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680642790,"post_id":75928132,"comment_id":133932496,"body_markdown":"*in Command Prompt. In PowerShell, codepage 65001 breaks the &#252;...* What did I say? *Don&#39;t* change the codepage!","body":"<i>in Command Prompt. In PowerShell, codepage 65001 breaks the &#252;...</i> What did I say? <i>Don&#39;t</i> change the codepage!"},{"owner":{"account_id":18292350,"reputation":87,"user_id":13318909,"display_name":"ShadeOfLight"},"score":0,"creation_date":1680644143,"post_id":75928132,"comment_id":133932732,"body_markdown":"@g00se I&#39;ve added the results for codepage 1252 by editing my question. As for my system default, which is codepage 850, the output is again 3F in 0000, the same as codepage 65001. Apologies for my lazy skimming.","body":"@g00se I&#39;ve added the results for codepage 1252 by editing my question. As for my system default, which is codepage 850, the output is again 3F in 0000, the same as codepage 65001. Apologies for my lazy skimming."}],"answers":[{"comments":[{"owner":{"account_id":18292350,"reputation":87,"user_id":13318909,"display_name":"ShadeOfLight"},"score":0,"creation_date":1680691332,"post_id":75934287,"comment_id":133939808,"body_markdown":"Thank you for your elaborate research! Since I&#39;m not experienced at all with Java or programming for that matter, I&#39;ve got one last question. If I use JDK 18, will a user running the jarfile have to as well? I assume the user could just use JRE 8 or 9, right?","body":"Thank you for your elaborate research! Since I&#39;m not experienced at all with Java or programming for that matter, I&#39;ve got one last question. If I use JDK 18, will a user running the jarfile have to as well? I assume the user could just use JRE 8 or 9, right?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1680752798,"post_id":75934287,"comment_id":133952488,"body_markdown":"@ShadeOfLight No, the user couldn&#39;t use JRE 8/9. That wouldn&#39;t work unless you also developed your application using Java 8/9, which would not be a good idea. Deploying Java applications to other users is not straightforward, and there are several issues to consider: Whether there is any Java environment on the target machine, and if so, what, the O/S of the target machine, etc. I can only suggest that you research further, and create a new question here if you have a _specific_ concern. As an introduction, [this might help](https://dzone.com/articles/the-skinny-on-fat-thin-hollow-and-uber).","body":"@ShadeOfLight No, the user couldn&#39;t use JRE 8/9. That wouldn&#39;t work unless you also developed your application using Java 8/9, which would not be a good idea. Deploying Java applications to other users is not straightforward, and there are several issues to consider: Whether there is any Java environment on the target machine, and if so, what, the O/S of the target machine, etc. I can only suggest that you research further, and create a new question here if you have a <i>specific</i> concern. As an introduction, <a href=\"https://dzone.com/articles/the-skinny-on-fat-thin-hollow-and-uber\" rel=\"nofollow noreferrer\">this might help</a>."}],"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680646997,"creation_date":1680646997,"answer_id":75934287,"question_id":75928132,"body_markdown":"I can reproduce your problem, but I see nothing wrong with your code and I have no easy solution. Incredibly, it seems that even with the most recent versions of Java (18, 19, 20), reading UTF-8 characters from a Windows console remains problematic.\r\n\r\nThis is formally documented in JDK bug [JDK-8295672 Provide a better alternative to reading System.in](https://bugs.openjdk.org/browse/JDK-8295672) which is open and unresolved. It states (with my emphasis added): \r\n\r\n&gt; Reading `System.in` is problematic as it is an input stream encoded in\r\n&gt; the host&#39;s encoding. With the JEP 400, **_there are cases where the\r\n&gt; default encoding (UTF-8) and host&#39;s native encoding differ_**. To read\r\n&gt; the bytes correctly, users would have to convert the bytes\r\n&gt; native-to-default, which seems to be an obstacle for basic usage.\r\n&gt; Providing a better means to access (w/o considering encoding stuff)\r\n&gt; would be appropriate.\r\n\r\nSo setting the default charset to UTF-8 does not resolve the issue because the _&quot;host&#39;s native encoding&quot;_ is not UTF-8, and there is nothing you can do about that (at least with respect to _cmd.exe_ and _PowerShell_ on Windows).\r\n\r\nNotes:\r\n- My understanding is that this is only an issue on Windows. Linux and Mac handle UTF-8 input without problems.\r\n- A possible workaround is using JNA ([Java Native Access](https://github.com/java-native-access/jna)) methods to read the console input instead of using a `Scanner`. See [How do I read the contents from an open Windows Console (Command Prompt) using Java Native Access](https://stackoverflow.com/q/58026937/2985643) to help get you started. Also see the Javadoc for JNA&#39;s `WinCon` interface, [especially `ReadConsoleInput()`](https://java-native-access.github.io/jna/5.10.0/javadoc/com/sun/jna/platform/win32/Wincon.html).\r\n- Although it won&#39;t resolve your problem, you might consider upgrading to a more recent version of Java (18, 19 or 20) because of the implementation of [JEP 400: UTF-8 by Default](https://openjdk.org/jeps/400) in Java 18. This was one of the goals of JEP400 (with my emphasis added):\r\n\r\n&gt; Standardize on UTF-8 throughout the standard Java APIs, **except for\r\n&gt; console I/O**.\r\n- Presumably console I/O was excluded in JEP400 because of the _&quot;host&#39;s encoding&quot;_ issue mentioned above.\r\n- An obvious question arising is why does your code work when run within Intellij? I suspect that is because JetBrains uses JNA to read the input from their console, but that&#39;s just a guess.\r\n","title":"Java incorrectly reading accented characters from System.in","body":"<p>I can reproduce your problem, but I see nothing wrong with your code and I have no easy solution. Incredibly, it seems that even with the most recent versions of Java (18, 19, 20), reading UTF-8 characters from a Windows console remains problematic.</p>\n<p>This is formally documented in JDK bug <a href=\"https://bugs.openjdk.org/browse/JDK-8295672\" rel=\"nofollow noreferrer\">JDK-8295672 Provide a better alternative to reading System.in</a> which is open and unresolved. It states (with my emphasis added):</p>\n<blockquote>\n<p>Reading <code>System.in</code> is problematic as it is an input stream encoded in\nthe host's encoding. With the JEP 400, <strong><em>there are cases where the\ndefault encoding (UTF-8) and host's native encoding differ</em></strong>. To read\nthe bytes correctly, users would have to convert the bytes\nnative-to-default, which seems to be an obstacle for basic usage.\nProviding a better means to access (w/o considering encoding stuff)\nwould be appropriate.</p>\n</blockquote>\n<p>So setting the default charset to UTF-8 does not resolve the issue because the <em>&quot;host's native encoding&quot;</em> is not UTF-8, and there is nothing you can do about that (at least with respect to <em>cmd.exe</em> and <em>PowerShell</em> on Windows).</p>\n<p>Notes:</p>\n<ul>\n<li>My understanding is that this is only an issue on Windows. Linux and Mac handle UTF-8 input without problems.</li>\n<li>A possible workaround is using JNA (<a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">Java Native Access</a>) methods to read the console input instead of using a <code>Scanner</code>. See <a href=\"https://stackoverflow.com/q/58026937/2985643\">How do I read the contents from an open Windows Console (Command Prompt) using Java Native Access</a> to help get you started. Also see the Javadoc for JNA's <code>WinCon</code> interface, <a href=\"https://java-native-access.github.io/jna/5.10.0/javadoc/com/sun/jna/platform/win32/Wincon.html\" rel=\"nofollow noreferrer\">especially <code>ReadConsoleInput()</code></a>.</li>\n<li>Although it won't resolve your problem, you might consider upgrading to a more recent version of Java (18, 19 or 20) because of the implementation of <a href=\"https://openjdk.org/jeps/400\" rel=\"nofollow noreferrer\">JEP 400: UTF-8 by Default</a> in Java 18. This was one of the goals of JEP400 (with my emphasis added):</li>\n</ul>\n<blockquote>\n<p>Standardize on UTF-8 throughout the standard Java APIs, <strong>except for\nconsole I/O</strong>.</p>\n</blockquote>\n<ul>\n<li>Presumably console I/O was excluded in JEP400 because of the <em>&quot;host's encoding&quot;</em> issue mentioned above.</li>\n<li>An obvious question arising is why does your code work when run within Intellij? I suspect that is because JetBrains uses JNA to read the input from their console, but that's just a guess.</li>\n</ul>\n"}],"owner":{"account_id":18292350,"reputation":87,"user_id":13318909,"display_name":"ShadeOfLight"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75934287,"answer_count":1,"score":2,"last_activity_date":1680646997,"creation_date":1680603071,"question_id":75928132,"body_markdown":"*If you are facing the same problem, and your character set is covered by the ANSI test encoding (codepage 1252 or &quot;ISO 8859-1&quot;), you could use that encoding instead to temporarily circumvent the problem with UTF-8, however UTF-8 is the modern standard that encompasses every script for ultimate localisation.*\r\n\r\nI&#39;m creating an application that has to read user input containing accented characters from the console. From what I&#39;ve read online, modern consoles are capable of handling accented character outputs, and correctly encoding inputs, even though they show up as `?` before sending the command.\r\n```\r\nPS C:\\&gt; echo ?\r\n&#252;\r\nPs C:\\&gt;\r\n```\r\n*Note: this behaviour is not reproducible in Command Prompt. Command Prompt, when run in Windows Terminal, seems to display accented characters correctly before sending as well.*\r\n\r\nHowever, when running the following test code:\r\n```\r\npackage com.test.outputtest;\r\n\r\nimport java.io.*;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.*;\r\nimport java.nio.file.*;\r\n\r\npublic class OutputTest {\r\n\r\n    public static void main(String[] args) {\r\n        // Set I/O to use UTF-8\r\n        System.setOut(new PrintStream(new FileOutputStream(FileDescriptor.out), true, StandardCharsets.UTF_8));\r\n\r\n        // Create the response listener\r\n        Scanner input = new Scanner(System.in, StandardCharsets.UTF_8);\r\n\r\n        System.out.println(Arrays.toString(&quot;&#232;&#233;&#235;&#234;&quot;.getBytes(StandardCharsets.UTF_8)));\r\n        String temp = input.nextLine();\r\n        System.out.println(Arrays.toString(temp.getBytes(StandardCharsets.UTF_8)));\r\n    }\r\n\r\n}\r\n```\r\nthis is the output (after building the artifact &quot;app.jar&quot;):\r\n```\r\nPS C:\\Users\\[name]\\Desktop\\output_test&gt; chcp 65001\r\nActive code page: 65001\r\nPS C:\\Users\\[name]\\Desktop\\output_test&gt; java &quot;-Dfile.encoding=UTF-8&quot; -jar app.jar\r\n[-61, -88, -61, -87, -61, -85, -61, -86]\r\n&#232;&#233;&#235;&#234;\r\n[0, 0, 0, 0]\r\n```\r\nThe first array of bytes comes from the pre-written string, the second array is the bytes of the inputted string. The fact that `echo` outputs accents correctly leads me to believe that this is a compiler error, but I&#39;m not sure how to fix it. I&#39;ve tried replacing the `Scanner` with `Console`, that gave me the same error.\r\n\r\nWhen running inside of IntelliJ, the &#252; is read completely normally when inputting it in the terminal. This is also a reason why I suspect a problem during compilation.\r\nWhen running with command prompt instead of PowerShell, the same error occurs.\r\n\r\nNote: I&#39;m using Windows Terminal running PowerShell and using IntelliJ Idea Community Edition 2021.3. I have not edited the `.xml` files besides the artifact building file path and some other project-specific file paths.\r\n\r\n - OS: Windows 10 build 19045.2728\r\n - Java version: 17.0.6 (Also in IntelliJ)\r\n - Default codepage: 850 (OEM)\r\n - Codepage used in which the error occured: 65001 (UTF-8)","title":"Java incorrectly reading accented characters from System.in","body":"<p><em>If you are facing the same problem, and your character set is covered by the ANSI test encoding (codepage 1252 or &quot;ISO 8859-1&quot;), you could use that encoding instead to temporarily circumvent the problem with UTF-8, however UTF-8 is the modern standard that encompasses every script for ultimate localisation.</em></p>\n<p>I'm creating an application that has to read user input containing accented characters from the console. From what I've read online, modern consoles are capable of handling accented character outputs, and correctly encoding inputs, even though they show up as <code>?</code> before sending the command.</p>\n<pre><code>PS C:\\&gt; echo ?\nü\nPs C:\\&gt;\n</code></pre>\n<p><em>Note: this behaviour is not reproducible in Command Prompt. Command Prompt, when run in Windows Terminal, seems to display accented characters correctly before sending as well.</em></p>\n<p>However, when running the following test code:</p>\n<pre><code>package com.test.outputtest;\n\nimport java.io.*;\nimport java.nio.charset.StandardCharsets;\nimport java.util.*;\nimport java.nio.file.*;\n\npublic class OutputTest {\n\n    public static void main(String[] args) {\n        // Set I/O to use UTF-8\n        System.setOut(new PrintStream(new FileOutputStream(FileDescriptor.out), true, StandardCharsets.UTF_8));\n\n        // Create the response listener\n        Scanner input = new Scanner(System.in, StandardCharsets.UTF_8);\n\n        System.out.println(Arrays.toString(&quot;èéëê&quot;.getBytes(StandardCharsets.UTF_8)));\n        String temp = input.nextLine();\n        System.out.println(Arrays.toString(temp.getBytes(StandardCharsets.UTF_8)));\n    }\n\n}\n</code></pre>\n<p>this is the output (after building the artifact &quot;app.jar&quot;):</p>\n<pre><code>PS C:\\Users\\[name]\\Desktop\\output_test&gt; chcp 65001\nActive code page: 65001\nPS C:\\Users\\[name]\\Desktop\\output_test&gt; java &quot;-Dfile.encoding=UTF-8&quot; -jar app.jar\n[-61, -88, -61, -87, -61, -85, -61, -86]\nèéëê\n[0, 0, 0, 0]\n</code></pre>\n<p>The first array of bytes comes from the pre-written string, the second array is the bytes of the inputted string. The fact that <code>echo</code> outputs accents correctly leads me to believe that this is a compiler error, but I'm not sure how to fix it. I've tried replacing the <code>Scanner</code> with <code>Console</code>, that gave me the same error.</p>\n<p>When running inside of IntelliJ, the ü is read completely normally when inputting it in the terminal. This is also a reason why I suspect a problem during compilation.\nWhen running with command prompt instead of PowerShell, the same error occurs.</p>\n<p>Note: I'm using Windows Terminal running PowerShell and using IntelliJ Idea Community Edition 2021.3. I have not edited the <code>.xml</code> files besides the artifact building file path and some other project-specific file paths.</p>\n<ul>\n<li>OS: Windows 10 build 19045.2728</li>\n<li>Java version: 17.0.6 (Also in IntelliJ)</li>\n<li>Default codepage: 850 (OEM)</li>\n<li>Codepage used in which the error occured: 65001 (UTF-8)</li>\n</ul>\n"},{"tags":["java","unit-testing","junit","out-of-memory","testng"],"comments":[{"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"score":0,"creation_date":1383643682,"post_id":19785290,"comment_id":29409959,"body_markdown":"@Steve P.: Getting overall memory usage won&#39;t allow you to tell for *what* the memory was used for.","body":"@Steve P.: Getting overall memory usage won&#39;t allow you to tell for <i>what</i> the memory was used for."},{"owner":{"account_id":2259695,"reputation":2501,"user_id":1990089,"accept_rate":40,"display_name":"Sergey Makarov"},"score":2,"creation_date":1383644046,"post_id":19785290,"comment_id":29410157,"body_markdown":"Yep, but I can set the requirement like &quot;this algorithm must not consume more than 100KB of RAM, should not depend on size of data to process&quot;. Idea is to enforce this by creating explicit unit test.","body":"Yep, but I can set the requirement like &quot;this algorithm must not consume more than 100KB of RAM, should not depend on size of data to process&quot;. Idea is to enforce this by creating explicit unit test."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1383646210,"post_id":19785290,"comment_id":29411228,"body_markdown":"But why would you set such a requirement? Resources are cheap, Java is designed towards that fact. You shouldn&#39;t be worrying about memory consumption until you have an actual problem. Other than that, even if you find a way to measure memory, you still don&#39;t have a way to measure that you are interpreting the results correctly and you created a realistic working environment to produce realistic results. You&#39;ll just get &quot;a number&quot; and not be any wiser really.","body":"But why would you set such a requirement? Resources are cheap, Java is designed towards that fact. You shouldn&#39;t be worrying about memory consumption until you have an actual problem. Other than that, even if you find a way to measure memory, you still don&#39;t have a way to measure that you are interpreting the results correctly and you created a realistic working environment to produce realistic results. You&#39;ll just get &quot;a number&quot; and not be any wiser really."},{"owner":{"account_id":2443056,"reputation":936,"user_id":2131040,"accept_rate":57,"display_name":"prash"},"score":10,"creation_date":1477416228,"post_id":19785290,"comment_id":67754329,"body_markdown":"@Gimby What is the harm if some curious dev is trying to measure two approaches - does it have to be in realistic working env before making any sense - I guess not. Some approaches in general take far less memory/CPU or both in any circumstance than other. Such analysis can come in handy to atleast get a rough idea.","body":"@Gimby What is the harm if some curious dev is trying to measure two approaches - does it have to be in realistic working env before making any sense - I guess not. Some approaches in general take far less memory/CPU or both in any circumstance than other. Such analysis can come in handy to atleast get a rough idea."},{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":6,"creation_date":1560642712,"post_id":19785290,"comment_id":99804377,"body_markdown":"@Gimby &quot;resources are cheap&quot; is a rather presumptuous comment when you don&#39;t know the infrastructure and staffing budget for the solution","body":"@Gimby &quot;resources are cheap&quot; is a rather presumptuous comment when you don&#39;t know the infrastructure and staffing budget for the solution"}],"answers":[{"tags":[],"owner":{"account_id":1513168,"reputation":928,"user_id":1414790,"display_name":"Areo"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1383643240,"creation_date":1383643240,"answer_id":19785404,"question_id":19785290,"body_markdown":"To measure current memory usage use :\r\n\r\n`Runtime.getRuntime().freeMemory()` ,\r\n`Runtime.getRuntime().totalMemory()`\r\n\r\nHere is a good example:\r\n&lt;https://stackoverflow.com/questions/25552/using-java-to-get-os-level-system-information&gt;\r\n\r\nBut this measurement is not precise but it can give you much information.\r\nAnother problem is with `GC` which is unpredictable.","title":"Java unit testing: how to measure memory footprint for method call","body":"<p>To measure current memory usage use :</p>\n\n<p><code>Runtime.getRuntime().freeMemory()</code> ,\n<code>Runtime.getRuntime().totalMemory()</code></p>\n\n<p>Here is a good example:\n<a href=\"https://stackoverflow.com/questions/25552/using-java-to-get-os-level-system-information\">get OS-level system information</a></p>\n\n<p>But this measurement is not precise but it can give you much information.\nAnother problem is with <code>GC</code> which is unpredictable.</p>\n"},{"tags":[],"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1383643940,"creation_date":1383643246,"answer_id":19785407,"question_id":19785290,"body_markdown":"Here is an example from Netty which does something similar: [MemoryAwareThreadPoolExecutor][1]. Guava&#39;s [cache class][2] has also a size based eviction. You could look at these sources and copy what they are doing. In particular, Here is how Netty is [estimating object sizes][3]. In essence, you&#39;d estimate the size of the objects you generate in the method and keep a count.\r\n\r\nGetting overall memory information (like how much heap is available/used) will help you decide how much memory usage to allocate to the method, but not to track how much memory was used by the individual method calls.\r\n\r\nHaving said that, it&#39;s very rare that you legitimately need this. In most cases, capping the memory usage by limiting how many objects can be there at a given point (e.g. by using a bounded queue) is good enough and is much, much simpler to implement. \r\n\r\n\r\n  [1]: http://grepcode.com/file/repo1.maven.org/maven2/org.jboss.netty/netty/3.0.0.CR1/org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.java\r\n  [2]: https://code.google.com/p/guava-libraries/wiki/CachesExplained\r\n  [3]: http://grepcode.com/file/repo1.maven.org/maven2/com.ning/metrics.goodwill-access/0.0.10/org/jboss/netty/util/DefaultObjectSizeEstimator.java?av=h#DefaultObjectSizeEstimator","title":"Java unit testing: how to measure memory footprint for method call","body":"<p>Here is an example from Netty which does something similar: <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.jboss.netty/netty/3.0.0.CR1/org/jboss/netty/handler/execution/MemoryAwareThreadPoolExecutor.java\" rel=\"nofollow\">MemoryAwareThreadPoolExecutor</a>. Guava's <a href=\"https://code.google.com/p/guava-libraries/wiki/CachesExplained\" rel=\"nofollow\">cache class</a> has also a size based eviction. You could look at these sources and copy what they are doing. In particular, Here is how Netty is <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.ning/metrics.goodwill-access/0.0.10/org/jboss/netty/util/DefaultObjectSizeEstimator.java?av=h#DefaultObjectSizeEstimator\" rel=\"nofollow\">estimating object sizes</a>. In essence, you'd estimate the size of the objects you generate in the method and keep a count.</p>\n\n<p>Getting overall memory information (like how much heap is available/used) will help you decide how much memory usage to allocate to the method, but not to track how much memory was used by the individual method calls.</p>\n\n<p>Having said that, it's very rare that you legitimately need this. In most cases, capping the memory usage by limiting how many objects can be there at a given point (e.g. by using a bounded queue) is good enough and is much, much simpler to implement. </p>\n"},{"comments":[{"owner":{"account_id":1639112,"reputation":1539,"user_id":1511914,"accept_rate":73,"display_name":"fabien"},"score":0,"creation_date":1467085313,"post_id":19785807,"comment_id":63571709,"body_markdown":"the custom way is still an approximation though. even with running the GC before and after, there is a possibility for the young GC to be invoked in between those two calls (especially if the tested call is memory intensive), even if you allocate all the RAM as heap. also, there are different JVMs and different GCs (G1 is very different than mark &amp; sweep for example) so I don&#39;t know how reliable results would be...\nI like the idea of a custom GC.If JMH can do it though, it&#39;s better to use it (as you say).","body":"the custom way is still an approximation though. even with running the GC before and after, there is a possibility for the young GC to be invoked in between those two calls (especially if the tested call is memory intensive), even if you allocate all the RAM as heap. also, there are different JVMs and different GCs (G1 is very different than mark &amp; sweep for example) so I don&#39;t know how reliable results would be... I like the idea of a custom GC.If JMH can do it though, it&#39;s better to use it (as you say)."},{"owner":{"account_id":1004737,"reputation":6077,"user_id":1018790,"display_name":"Christian Gr&#252;n"},"score":1,"creation_date":1511447481,"post_id":19785807,"comment_id":81870103,"body_markdown":"In practice, it can be helpful to call System.gc() multiple times before allocating memory. Quite obviously, the exact behavior will also depend on the JVM and the GC.","body":"In practice, it can be helpful to call System.gc() multiple times before allocating memory. Quite obviously, the exact behavior will also depend on the JVM and the GC."}],"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"comment_count":2,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1383644507,"creation_date":1383644507,"answer_id":19785807,"question_id":19785290,"body_markdown":"I can think of several options:\r\n\r\n- Finding out how much memory your method requires via a microbenchmark (i.e. [jmh][1]). \r\n- Building allocation strategies based on heuristic estimation. There are several open source solutions implementing class size estimation i.e. [ClassSize][2]. A much easier way could be utilizing a cache which frees rarely used objects (i.e. Guava&#39;s Cache). As mentioned by @EnnoShioji, Guava&#39;s cache has memory-based eviction policies.\r\n\r\nYou can also write your own benchmark test which counts memory. The idea is to\r\n\r\n0. Have a single thread running.\r\n1. Create a new array to store your objects to allocate. So these objects won&#39;t be collected during GC run.\r\n2. `System.gc()`, `memoryBefore = runtime.totalMemory() - runtime.freeMemory()`\r\n3. Allocate your objects. Put them into the array.\r\n4. `System.gc()`, `memoryAfter = runtime.totalMemory() - runtime.freeMemory()`\r\n\r\nThis is a technique I used in my [lightweight micro-benchmark tool][3] which is capable of measuring memory allocation with byte-precision.\r\n\r\n\r\n  [1]: http://openjdk.java.net/projects/code-tools/jmh/\r\n  [2]: http://svn.apache.org/repos/asf/hbase/branches/0.89-fb/src/main/java/org/apache/hadoop/hbase/util/ClassSize.java\r\n  [3]: https://github.com/chaschev/experiments-with-microbes/blob/master/src/test/java/com/chaschev/microbe/samples/MemConsumptionTest.java","title":"Java unit testing: how to measure memory footprint for method call","body":"<p>I can think of several options:</p>\n\n<ul>\n<li>Finding out how much memory your method requires via a microbenchmark (i.e. <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">jmh</a>). </li>\n<li>Building allocation strategies based on heuristic estimation. There are several open source solutions implementing class size estimation i.e. <a href=\"http://svn.apache.org/repos/asf/hbase/branches/0.89-fb/src/main/java/org/apache/hadoop/hbase/util/ClassSize.java\" rel=\"noreferrer\">ClassSize</a>. A much easier way could be utilizing a cache which frees rarely used objects (i.e. Guava's Cache). As mentioned by @EnnoShioji, Guava's cache has memory-based eviction policies.</li>\n</ul>\n\n<p>You can also write your own benchmark test which counts memory. The idea is to</p>\n\n<ol>\n<li>Have a single thread running.</li>\n<li>Create a new array to store your objects to allocate. So these objects won't be collected during GC run.</li>\n<li><code>System.gc()</code>, <code>memoryBefore = runtime.totalMemory() - runtime.freeMemory()</code></li>\n<li>Allocate your objects. Put them into the array.</li>\n<li><code>System.gc()</code>, <code>memoryAfter = runtime.totalMemory() - runtime.freeMemory()</code></li>\n</ol>\n\n<p>This is a technique I used in my <a href=\"https://github.com/chaschev/experiments-with-microbes/blob/master/src/test/java/com/chaschev/microbe/samples/MemConsumptionTest.java\" rel=\"noreferrer\">lightweight micro-benchmark tool</a> which is capable of measuring memory allocation with byte-precision.</p>\n"},{"comments":[{"owner":{"account_id":3024368,"reputation":1313,"user_id":5102373,"display_name":"Marc_Alx"},"score":3,"creation_date":1465913241,"post_id":19785856,"comment_id":63092783,"body_markdown":"Small tip for further readers : values are given in bytes, divide by 1000000 to get values in MB.","body":"Small tip for further readers : values are given in bytes, divide by 1000000 to get values in MB."},{"owner":{"account_id":6576531,"reputation":341,"user_id":5082357,"accept_rate":12,"display_name":"95_96"},"score":0,"creation_date":1602200518,"post_id":19785856,"comment_id":113653246,"body_markdown":"@pasha701 small problem with using this approach, runtime.totalMemory() gives memory assigned to jvm at that instance. This may increased overtime after execution of working code. In that case (usedMemoryAfter-usedMemoryBefore) may even give out negative values in some scenarios.","body":"@pasha701 small problem with using this approach, runtime.totalMemory() gives memory assigned to jvm at that instance. This may increased overtime after execution of working code. In that case (usedMemoryAfter-usedMemoryBefore) may even give out negative values in some scenarios."},{"owner":{"account_id":2053132,"reputation":2142,"user_id":1895925,"accept_rate":71,"display_name":"MD. Mohiuddin Ahmed"},"score":1,"creation_date":1656173667,"post_id":19785856,"comment_id":128509273,"body_markdown":"@Marc_Alx: would preceisely be 1024*1024 == 1048576","body":"@Marc_Alx: would preceisely be 1024*1024 == 1048576"}],"tags":[],"owner":{"account_id":3154697,"reputation":7044,"user_id":2667343,"display_name":"pasha701"},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1383644622,"creation_date":1383644622,"answer_id":19785856,"question_id":19785290,"body_markdown":"You can use profiler (for ex. JProfiler) for view memory usage by classes. Or , how mentioned Areo, just print memory usage:\r\n\r\n        Runtime runtime = Runtime.getRuntime();\r\n        long usedMemoryBefore = runtime.totalMemory() - runtime.freeMemory();\r\n        System.out.println(&quot;Used Memory before&quot; + usedMemoryBefore);\r\n            // working code here\r\n        long usedMemoryAfter = runtime.totalMemory() - runtime.freeMemory();\r\n        System.out.println(&quot;Memory increased:&quot; + (usedMemoryAfter-usedMemoryBefore));\r\n","title":"Java unit testing: how to measure memory footprint for method call","body":"<p>You can use profiler (for ex. JProfiler) for view memory usage by classes. Or , how mentioned Areo, just print memory usage:</p>\n\n<pre><code>    Runtime runtime = Runtime.getRuntime();\n    long usedMemoryBefore = runtime.totalMemory() - runtime.freeMemory();\n    System.out.println(\"Used Memory before\" + usedMemoryBefore);\n        // working code here\n    long usedMemoryAfter = runtime.totalMemory() - runtime.freeMemory();\n    System.out.println(\"Memory increased:\" + (usedMemoryAfter-usedMemoryBefore));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3206633,"reputation":877,"user_id":2707592,"display_name":"Robin Keskisarkka"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541423575,"creation_date":1541422461,"answer_id":53154870,"question_id":19785290,"body_markdown":"This question is a bit tricky, due to the way in which Java can allocate a lot of short-lived objects during processing, which will subsequently be collected during garbage collection. In the accepted answer, we cannot say with any certainty that garbage collection has been run at any given time. Even if we introduce a loop structure, with multiple `System.gc()` calls, garbage collection might run in between our method calls.\r\n\r\nA better way is to instead use some variation of what is suggested in https://cruftex.net/2017/03/28/The-6-Memory-Metrics-You-Should-Track-in-Your-Java-Benchmarks.html, where `System.gc()` is triggered but we also wait for the reported GC count to increase:\r\n\r\n    long getGcCount() {\r\n        long sum = 0;\r\n        for (GarbageCollectorMXBean b : ManagementFactory.getGarbageCollectorMXBeans()) {\r\n            long count = b.getCollectionCount();\r\n            if (count != -1) { sum += count; }\r\n        }\r\n        return sum;\r\n    }\r\n\r\n    long getReallyUsedMemory() {\r\n        long before = getGcCount();\r\n        System.gc();\r\n        while (getGcCount() == before);\r\n        return getCurrentlyAllocatedMemory();\r\n    }\r\n\r\n    long getCurrentlyAllocatedMemory() {\r\n        final Runtime runtime = Runtime.getRuntime();\r\n        return (runtime.totalMemory() - runtime.freeMemory()) / (1024 * 1024);\r\n    }\r\n\r\nThis still gives only an approximation of the memory actually allocated by your code at a given time, but the value is typically much closer to what one would usually be interested in.","title":"Java unit testing: how to measure memory footprint for method call","body":"<p>This question is a bit tricky, due to the way in which Java can allocate a lot of short-lived objects during processing, which will subsequently be collected during garbage collection. In the accepted answer, we cannot say with any certainty that garbage collection has been run at any given time. Even if we introduce a loop structure, with multiple <code>System.gc()</code> calls, garbage collection might run in between our method calls.</p>\n\n<p>A better way is to instead use some variation of what is suggested in <a href=\"https://cruftex.net/2017/03/28/The-6-Memory-Metrics-You-Should-Track-in-Your-Java-Benchmarks.html\" rel=\"nofollow noreferrer\">https://cruftex.net/2017/03/28/The-6-Memory-Metrics-You-Should-Track-in-Your-Java-Benchmarks.html</a>, where <code>System.gc()</code> is triggered but we also wait for the reported GC count to increase:</p>\n\n<pre><code>long getGcCount() {\n    long sum = 0;\n    for (GarbageCollectorMXBean b : ManagementFactory.getGarbageCollectorMXBeans()) {\n        long count = b.getCollectionCount();\n        if (count != -1) { sum += count; }\n    }\n    return sum;\n}\n\nlong getReallyUsedMemory() {\n    long before = getGcCount();\n    System.gc();\n    while (getGcCount() == before);\n    return getCurrentlyAllocatedMemory();\n}\n\nlong getCurrentlyAllocatedMemory() {\n    final Runtime runtime = Runtime.getRuntime();\n    return (runtime.totalMemory() - runtime.freeMemory()) / (1024 * 1024);\n}\n</code></pre>\n\n<p>This still gives only an approximation of the memory actually allocated by your code at a given time, but the value is typically much closer to what one would usually be interested in.</p>\n"},{"tags":[],"owner":{"account_id":4372069,"reputation":567,"user_id":3566149,"accept_rate":67,"display_name":"mob"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565380262,"creation_date":1565380262,"answer_id":57436327,"question_id":19785290,"body_markdown":"Here is a sample code to run memory usage in a separate thread. Since the GC can be triggered anytime when the process is running, this will record memory usage every second and report out the maximum memory used.\r\n\r\nThe `runnable` is the actual process that needs measuring, and `runTimeSecs` is the expected time the process will run. This is to ensure the thread calculating memory does not terminate before the actual process.\r\n\r\n    public void recordMemoryUsage(Runnable runnable, int runTimeSecs) {\r\n        try {\r\n            CompletableFuture&lt;Void&gt; mainProcessFuture = CompletableFuture.runAsync(runnable);\r\n            CompletableFuture&lt;Void&gt; memUsageFuture = CompletableFuture.runAsync(() -&gt; {\r\n\r\n\r\n                long mem = 0;\r\n                for (int cnt = 0; cnt &lt; runTimeSecs; cnt++) {\r\n                    long memUsed = Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();\r\n                    mem = memUsed &gt; mem ? memUsed : mem;\r\n                    try {\r\n                        TimeUnit.SECONDS.sleep(1);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                ;\r\n                System.out.println(&quot;Max memory used (gb): &quot; + mem/1000000000D);\r\n            });\r\n\r\n            CompletableFuture&lt;Void&gt; allOf = CompletableFuture.allOf(mainProcessFuture, memUsageFuture);\r\n            allOf.get();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Java unit testing: how to measure memory footprint for method call","body":"<p>Here is a sample code to run memory usage in a separate thread. Since the GC can be triggered anytime when the process is running, this will record memory usage every second and report out the maximum memory used.</p>\n\n<p>The <code>runnable</code> is the actual process that needs measuring, and <code>runTimeSecs</code> is the expected time the process will run. This is to ensure the thread calculating memory does not terminate before the actual process.</p>\n\n<pre><code>public void recordMemoryUsage(Runnable runnable, int runTimeSecs) {\n    try {\n        CompletableFuture&lt;Void&gt; mainProcessFuture = CompletableFuture.runAsync(runnable);\n        CompletableFuture&lt;Void&gt; memUsageFuture = CompletableFuture.runAsync(() -&gt; {\n\n\n            long mem = 0;\n            for (int cnt = 0; cnt &lt; runTimeSecs; cnt++) {\n                long memUsed = Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory();\n                mem = memUsed &gt; mem ? memUsed : mem;\n                try {\n                    TimeUnit.SECONDS.sleep(1);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n            ;\n            System.out.println(\"Max memory used (gb): \" + mem/1000000000D);\n        });\n\n        CompletableFuture&lt;Void&gt; allOf = CompletableFuture.allOf(mainProcessFuture, memUsageFuture);\n        allOf.get();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4001886,"reputation":1833,"user_id":4118434,"display_name":"R.A"},"score":1,"creation_date":1638279355,"post_id":65603066,"comment_id":124041801,"body_markdown":"This is not very accurate, as System.gc() is only a &quot;request&quot; and does not happen on the spot. You never know when gc really will run.","body":"This is not very accurate, as System.gc() is only a &quot;request&quot; and does not happen on the spot. You never know when gc really will run."},{"owner":{"account_id":1845327,"reputation":3625,"user_id":1673775,"display_name":"luke"},"score":0,"creation_date":1640903035,"post_id":65603066,"comment_id":124688981,"body_markdown":"@R.A Yes, you are right. I wrote about it in the answer. This method is simple and it doesn&#39;t require any extra tools, but unfortunately It might be not accurate at all. I had a case where It looked like It works, but It was a very simple application and my findings were based purely on my observations without having proof that it works accurately.","body":"@R.A Yes, you are right. I wrote about it in the answer. This method is simple and it doesn&#39;t require any extra tools, but unfortunately It might be not accurate at all. I had a case where It looked like It works, but It was a very simple application and my findings were based purely on my observations without having proof that it works accurately."}],"tags":[],"owner":{"account_id":1845327,"reputation":3625,"user_id":1673775,"display_name":"luke"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609965465,"creation_date":1609965465,"answer_id":65603066,"question_id":19785290,"body_markdown":"## The easiest way to estimate memory usage is to use methods from `Runtime` class.\r\n\r\n**I suggest not to rely on it, but use it only for approximate estimations. Ideally you should only log this information and analyze it on your own, without using it for automation of your test or code.**\r\n\r\nProbably it isn&#39;t very reliable, but in closed environment like unit test it may give you estimate close to reality.  \r\nEspecially there is no guarantee that after calling `System.gc()` garbage collector will run when we expect it (it is only a suggestion for GC), there are precision limitations of the `freeMemory` method described there: [https://stackoverflow.com/a/17376879/1673775][1] and there might be more caveats.\r\n### Solution:\r\n```\r\nprivate static final long BYTE_TO_MB_CONVERSION_VALUE = 1024 * 1024;\r\n\r\n@Test\r\npublic void memoryUsageTest() {\r\n  long memoryUsageBeforeLoadingData = getCurrentlyUsedMemory();\r\n  log.debug(&quot;Used memory before loading some data: &quot; + memoryUsageBeforeLoadingData + &quot; MB&quot;);\r\n  List&lt;SomeObject&gt; somethingBigLoadedFromDatabase = loadSomethingBigFromDatabase();\r\n  long memoryUsageAfterLoadingData = getCurrentlyUsedMemory();\r\n  log.debug(&quot;Used memory after loading some data: &quot; + memoryUsageAfterLoadingData + &quot; MB&quot;);\r\n  log.debug(&quot;Difference: &quot; + (memoryUsageAfterLoadingData - memoryUsageBeforeLoadingData) + &quot; MB&quot;);\r\n  someOperations(somethingBigLoadedFromDatabase);\r\n}\r\n\r\nprivate long getCurrentlyUsedMemory() {\r\n  System.gc();\r\n  return (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()) / BYTE_TO_MB_CONVERSION_VALUE;\r\n}\r\n```\r\n  \r\n\r\n  [1]: https://stackoverflow.com/a/17376879/1673775","title":"Java unit testing: how to measure memory footprint for method call","body":"<h2>The easiest way to estimate memory usage is to use methods from <code>Runtime</code> class.</h2>\n<p><strong>I suggest not to rely on it, but use it only for approximate estimations. Ideally you should only log this information and analyze it on your own, without using it for automation of your test or code.</strong></p>\n<p>Probably it isn't very reliable, but in closed environment like unit test it may give you estimate close to reality.<br />\nEspecially there is no guarantee that after calling <code>System.gc()</code> garbage collector will run when we expect it (it is only a suggestion for GC), there are precision limitations of the <code>freeMemory</code> method described there: <a href=\"https://stackoverflow.com/a/17376879/1673775\">https://stackoverflow.com/a/17376879/1673775</a> and there might be more caveats.</p>\n<h3>Solution:</h3>\n<pre><code>private static final long BYTE_TO_MB_CONVERSION_VALUE = 1024 * 1024;\n\n@Test\npublic void memoryUsageTest() {\n  long memoryUsageBeforeLoadingData = getCurrentlyUsedMemory();\n  log.debug(&quot;Used memory before loading some data: &quot; + memoryUsageBeforeLoadingData + &quot; MB&quot;);\n  List&lt;SomeObject&gt; somethingBigLoadedFromDatabase = loadSomethingBigFromDatabase();\n  long memoryUsageAfterLoadingData = getCurrentlyUsedMemory();\n  log.debug(&quot;Used memory after loading some data: &quot; + memoryUsageAfterLoadingData + &quot; MB&quot;);\n  log.debug(&quot;Difference: &quot; + (memoryUsageAfterLoadingData - memoryUsageBeforeLoadingData) + &quot; MB&quot;);\n  someOperations(somethingBigLoadedFromDatabase);\n}\n\nprivate long getCurrentlyUsedMemory() {\n  System.gc();\n  return (Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory()) / BYTE_TO_MB_CONVERSION_VALUE;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":369178,"reputation":3,"user_id":716401,"display_name":"user716401"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680646667,"creation_date":1680646667,"answer_id":75934259,"question_id":19785290,"body_markdown":"Many of the other answers warn about GC being unpredictable. However, since Java 11, the [Epsilon garbage collector][1] has been included in the JVM, which performs no GC.\r\n\r\nSpecify the following command-line options to enable it:\r\n\r\n&gt;     -XX:+UnlockExperimentalVMOptions \r\n&gt;     -XX:+UseEpsilonGC\r\n\r\nThen you can be sure that garbage collection will not interfere with the memory calculations.\r\n\r\n  [1]: https://openjdk.org/jeps/318","title":"Java unit testing: how to measure memory footprint for method call","body":"<p>Many of the other answers warn about GC being unpredictable. However, since Java 11, the <a href=\"https://openjdk.org/jeps/318\" rel=\"nofollow noreferrer\">Epsilon garbage collector</a> has been included in the JVM, which performs no GC.</p>\n<p>Specify the following command-line options to enable it:</p>\n<blockquote>\n<pre><code>-XX:+UnlockExperimentalVMOptions \n-XX:+UseEpsilonGC\n</code></pre>\n</blockquote>\n<p>Then you can be sure that garbage collection will not interfere with the memory calculations.</p>\n"}],"owner":{"account_id":2259695,"reputation":2501,"user_id":1990089,"accept_rate":40,"display_name":"Sergey Makarov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39208,"favorite_count":0,"down_vote_count":1,"up_vote_count":49,"accepted_answer_id":19785807,"answer_count":8,"score":48,"last_activity_date":1680646667,"creation_date":1383642805,"question_id":19785290,"body_markdown":"Assuming I have a class that does some heavy processing, operating with several collections. What I want to do is to make sure that such operation can&#39;t lead to out-of-memory or even better I want to set a threshold of how much memory it can use.\r\n\r\n    class MyClass()\r\n    {\r\n       public void myMethod()\r\n       {\r\n          for(int i=0; i&lt;10000000; i++)\r\n          {\r\n             // Allocate some memory, may be several collections\r\n          }\r\n       }\r\n    }\r\n    \r\n    class MyClassTest\r\n    {\r\n       @Test\r\n       public void myMethod_makeSureMemoryFootprintIsNotBiggerThanMax()\r\n       {\r\n          new MyClass().myMethod(); \r\n          // How do I measure amount of memory it may try to allocate?\r\n       }\r\n    }\r\n\r\nWhat is the right approach to do this? Or this is not possible/not feasible?","title":"Java unit testing: how to measure memory footprint for method call","body":"<p>Assuming I have a class that does some heavy processing, operating with several collections. What I want to do is to make sure that such operation can't lead to out-of-memory or even better I want to set a threshold of how much memory it can use.</p>\n\n<pre><code>class MyClass()\n{\n   public void myMethod()\n   {\n      for(int i=0; i&lt;10000000; i++)\n      {\n         // Allocate some memory, may be several collections\n      }\n   }\n}\n\nclass MyClassTest\n{\n   @Test\n   public void myMethod_makeSureMemoryFootprintIsNotBiggerThanMax()\n   {\n      new MyClass().myMethod(); \n      // How do I measure amount of memory it may try to allocate?\n   }\n}\n</code></pre>\n\n<p>What is the right approach to do this? Or this is not possible/not feasible?</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":6,"creation_date":1680585587,"post_id":75925616,"comment_id":133918753,"body_markdown":"You cannot call Java from XML. XML is a generic document format. You need to read and parse the XML document with a program, encrypt the desired attribute and then write the XML document back to a file.","body":"You cannot call Java from XML. XML is a generic document format. You need to read and parse the XML document with a program, encrypt the desired attribute and then write the XML document back to a file."}],"owner":{"account_id":26896689,"reputation":9,"user_id":21115915,"display_name":"Krishna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680645557,"creation_date":1680583928,"question_id":75925616,"body_markdown":"I have a existing XML code where a hard coded password is mentioned, my requirement is to encrypt the hardcoded password in the xml code. I have a piece of code to encrypt using Java code but not sure how to call the java code from the existing XML code.\r\nIs there any way to call Java code from XML code?\r\nAttached is XML code for your reference.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt; \r\n       &lt;appSettings&gt;\r\n          &lt;add key=&quot;UserName&quot; value=&quot;SFTWST&quot; /&gt;\r\n          &lt;add key=&quot;Password&quot; value=&quot;cv8cu^abscfdh3ez&quot; /&gt;\r\n          &lt;add key=&quot;Domain&quot; value=&quot;sf.sp.edu.sg&quot; /&gt;\r\n          &lt;add key=&quot;senderID&quot; value=&quot;SPSMS&quot; /&gt;\r\n          &lt;add key=&quot;SMSType&quot; value=&quot;EWAPI&quot; /&gt;\r\n          &lt;add key=&quot;Apptype&quot; value=&quot;&quot; /&gt;\r\n          &lt;add key=&quot;taskName&quot; value=&quot;T1&quot; /&gt;\r\n          &lt;add key=&quot;timeOffset&quot; value=&quot;0&quot; /&gt;\r\n          &lt;add key=&quot;priority&quot; value=&quot;10&quot; /&gt;\r\n      &lt;/appSettings&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/dvFlJ.jpg","title":"How to call a java code from an existing XML code","body":"<p>I have a existing XML code where a hard coded password is mentioned, my requirement is to encrypt the hardcoded password in the xml code. I have a piece of code to encrypt using Java code but not sure how to call the java code from the existing XML code.\nIs there any way to call Java code from XML code?\nAttached is XML code for your reference.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt; \n   &lt;appSettings&gt;\n      &lt;add key=&quot;UserName&quot; value=&quot;SFTWST&quot; /&gt;\n      &lt;add key=&quot;Password&quot; value=&quot;cv8cu^abscfdh3ez&quot; /&gt;\n      &lt;add key=&quot;Domain&quot; value=&quot;sf.sp.edu.sg&quot; /&gt;\n      &lt;add key=&quot;senderID&quot; value=&quot;SPSMS&quot; /&gt;\n      &lt;add key=&quot;SMSType&quot; value=&quot;EWAPI&quot; /&gt;\n      &lt;add key=&quot;Apptype&quot; value=&quot;&quot; /&gt;\n      &lt;add key=&quot;taskName&quot; value=&quot;T1&quot; /&gt;\n      &lt;add key=&quot;timeOffset&quot; value=&quot;0&quot; /&gt;\n      &lt;add key=&quot;priority&quot; value=&quot;10&quot; /&gt;\n  &lt;/appSettings&gt;\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1680169405,"post_id":75886351,"comment_id":133853655,"body_markdown":"How about `public static final String deleteById = delete + &quot;/{id}&quot;;`? Anything wrong with that?","body":"How about <code>public static final String deleteById = delete + &quot;&#47;{id}&quot;;</code>? Anything wrong with that?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1680169409,"post_id":75886351,"comment_id":133853656,"body_markdown":"Not much you can do. You&#39;re trying to compute something at runtime (even if the output is functionally a constant), which annotations don&#39;t like. I&#39;d say that for these kind of thing hardcoding the string is the right thing to do. You&#39;re (imho) overcomplicating something that doesn&#39;t need to be complicated.","body":"Not much you can do. You&#39;re trying to compute something at runtime (even if the output is functionally a constant), which annotations don&#39;t like. I&#39;d say that for these kind of thing hardcoding the string is the right thing to do. You&#39;re (imho) overcomplicating something that doesn&#39;t need to be complicated."},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1680169719,"post_id":75886351,"comment_id":133853739,"body_markdown":"@Sweeper, it will work. But this is only a partial solution. Anyway, DRY principle will be violated as next it will be list + &quot;/{id}. And anyway there is a clearly visible pattern whicn I want to generalize in a method.","body":"@Sweeper, it will work. But this is only a partial solution. Anyway, DRY principle will be violated as next it will be list + &quot;/{id}. And anyway there is a clearly visible pattern whicn I want to generalize in a method."},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1680169912,"post_id":75886351,"comment_id":133853789,"body_markdown":"@Federico klez Culloca, but the solution suggested by Sweeper will work. It is also computed. I can&#39;t see the difference.","body":"@Federico klez Culloca, but the solution suggested by Sweeper will work. It is also computed. I can&#39;t see the difference."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1680170061,"post_id":75886351,"comment_id":133853825,"body_markdown":"The difference is that calling a method makes the filed &quot;not constant&quot;. The method has to be evaluated at runtime, and can&#39;t be computed at compile time. On the other hand, the compiler knows very well how to evaluate `delete + &quot;/{id}&quot;` at compile time.","body":"The difference is that calling a method makes the filed &quot;not constant&quot;. The method has to be evaluated at runtime, and can&#39;t be computed at compile time. On the other hand, the compiler knows very well how to evaluate <code>delete + &quot;&#47;{id}&quot;</code> at compile time."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1680170185,"post_id":75886351,"comment_id":133853859,"body_markdown":"@Kifsif because it&#39;s concatenating two string constants. That&#39;s a [constant expression](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29) and that&#39;s ok for the annotation.","body":"@Kifsif because it&#39;s concatenating two string constants. That&#39;s a <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\">constant expression</a> and that&#39;s ok for the annotation."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1680170240,"post_id":75886351,"comment_id":133853881,"body_markdown":"How about declaring another constant called `byId = &quot;/{id}&quot;` and write `delete + byId`? That looks pretty nice, doesn&#39;t it?","body":"How about declaring another constant called <code>byId = &quot;&#47;{id}&quot;</code> and write <code>delete + byId</code>? That looks pretty nice, doesn&#39;t it?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1680170263,"post_id":75886351,"comment_id":133853889,"body_markdown":"Specifically the difference is that annotation values must be **constant expressions** [as defined by the JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29), because they are stored as constant values inside the class files. The JVM spec/class file format specification simply doesn&#39;t provide a way to indicate a annotation property value needs to be retrieved by calling a method.","body":"Specifically the difference is that annotation values must be <b>constant expressions</b> <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\">as defined by the JLS</a>, because they are stored as constant values inside the class files. The JVM spec/class file format specification simply doesn&#39;t provide a way to indicate a annotation property value needs to be retrieved by calling a method."},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1680170364,"post_id":75886351,"comment_id":133853915,"body_markdown":"@Sweeper, thank you. You seem to be right. If you organize this as an answer, I&#39;ll gladly accept it.","body":"@Sweeper, thank you. You seem to be right. If you organize this as an answer, I&#39;ll gladly accept it."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680172788,"creation_date":1680172788,"answer_id":75887173,"question_id":75886351,"body_markdown":"As the error message says, the argument for an annotation must be a constant expression. You can see the definition of a &quot;constant&quot; expression in the [JLS][1]:\r\n\r\n&gt; A constant expression is an expression denoting a value of primitive type or a `String` that does not complete abruptly\r\n\r\nIt then goes on to list the necessary and sufficient conditions for a constant expression. Here are some of the relevant ones:\r\n\r\n&gt; (a constant expression) is composed using only the following:\r\n&gt;\r\n&gt; - Literals of primitive type (&#167;3.10.1, &#167;3.10.2, &#167;3.10.3, &#167;3.10.4), string literals (&#167;3.10.5), and text blocks (&#167;3.10.6)\r\n&gt; \r\n&gt; - The additive operators `+` and `-` (&#167;15.18)\r\n&gt; \r\n&gt; - Simple names (&#167;6.5.6.1) that refer to constant variables (&#167;4.12.4).\r\n&gt;\r\n&gt; - Qualified names (&#167;6.5.6.2) of the form TypeName . Identifier that refer to constant variables (&#167;4.12.4).\r\n&gt;\r\n&gt; - [...]\r\n\r\nAnd a &quot;constant variable&quot; is [(&#167;4.12.4)][2]:\r\n\r\n&gt; a `final` variable of primitive type or type `String` that is initialized with a constant expression (&#167;15.29).\r\n\r\nNotably, method calls are not constant expressions. One reason is that methods could &quot;complete abruptly&quot;, by throwing an exception for example.\r\n\r\nTherefore, `deleteById` is not a constant variable, and so the expression `deleteById` is not a constant expression.\r\n\r\nOn the other hand, the expressions `delete + &quot;/{id}&quot;` *is* a constant expression because `delete` and `&quot;/{id}&quot;` are constant expressions, and `+` applied to constant expressions is also a constant expression.\r\n\r\nI&#39;d suggest declaring a separate constant called `byId`, if you don&#39;t want to repeatedly write `&quot;/{id}&quot;`.\r\n\r\n    public static final String byId = &quot;/{id}&quot;;\r\n    public static final String deleteById = delete + byId;\r\n\r\nOr use `delete + byId` directly as the annotation argument.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4","title":"Not to hardcode in annotations","body":"<p>As the error message says, the argument for an annotation must be a constant expression. You can see the definition of a &quot;constant&quot; expression in the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\">JLS</a>:</p>\n<blockquote>\n<p>A constant expression is an expression denoting a value of primitive type or a <code>String</code> that does not complete abruptly</p>\n</blockquote>\n<p>It then goes on to list the necessary and sufficient conditions for a constant expression. Here are some of the relevant ones:</p>\n<blockquote>\n<p>(a constant expression) is composed using only the following:</p>\n<ul>\n<li><p>Literals of primitive type (§3.10.1, §3.10.2, §3.10.3, §3.10.4), string literals (§3.10.5), and text blocks (§3.10.6)</p>\n</li>\n<li><p>The additive operators <code>+</code> and <code>-</code> (§15.18)</p>\n</li>\n<li><p>Simple names (§6.5.6.1) that refer to constant variables (§4.12.4).</p>\n</li>\n<li><p>Qualified names (§6.5.6.2) of the form TypeName . Identifier that refer to constant variables (§4.12.4).</p>\n</li>\n<li><p>[...]</p>\n</li>\n</ul>\n</blockquote>\n<p>And a &quot;constant variable&quot; is <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">(§4.12.4)</a>:</p>\n<blockquote>\n<p>a <code>final</code> variable of primitive type or type <code>String</code> that is initialized with a constant expression (§15.29).</p>\n</blockquote>\n<p>Notably, method calls are not constant expressions. One reason is that methods could &quot;complete abruptly&quot;, by throwing an exception for example.</p>\n<p>Therefore, <code>deleteById</code> is not a constant variable, and so the expression <code>deleteById</code> is not a constant expression.</p>\n<p>On the other hand, the expressions <code>delete + &quot;/{id}&quot;</code> <em>is</em> a constant expression because <code>delete</code> and <code>&quot;/{id}&quot;</code> are constant expressions, and <code>+</code> applied to constant expressions is also a constant expression.</p>\n<p>I'd suggest declaring a separate constant called <code>byId</code>, if you don't want to repeatedly write <code>&quot;/{id}&quot;</code>.</p>\n<pre><code>public static final String byId = &quot;/{id}&quot;;\npublic static final String deleteById = delete + byId;\n</code></pre>\n<p>Or use <code>delete + byId</code> directly as the annotation argument.</p>\n"}],"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75887173,"answer_count":1,"score":-1,"last_activity_date":1680645411,"creation_date":1680168077,"question_id":75886351,"body_markdown":"\r\n**Utils**\r\n\r\n    public class GeneralUtils {    \r\n    \r\n        public static String getUrlWithId(String urlsPartStr) {\r\n            // Get a relative URL like /delete/{id} .\r\n            String result = String.format(&quot;%s/{id}&quot;, urlsPartStr);\r\n            return result;\r\n        }\r\n    }\r\n\r\n**UrlsParts**\r\n\r\n    public class UrlsParts {   \r\n    \r\n        public static final String delete = &quot;/delete&quot;;\r\n    \r\n        public static final String deleteById = GeneralUtils.getUrlWithId(delete);\r\n    \r\n    }\r\n\r\n**Controller**\r\n\r\n    @PostMapping(UrlsParts.deleteById)\r\n    public String delete(@PathVariable Integer id,\r\n                         Model model) {\r\n        authorRepository.deleteById(id);\r\n    \r\n        return &quot;redirect:&quot; + Urls.AUTHORS_LIST.getHref();\r\n    }\r\n\r\nI am using Spring here. But anyway, the question is about core Java.\r\n\r\n**Error**\r\n\r\n    Attribute value must be constant\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n**Problem**\r\n\r\nI try not to hardcode strings in annotations. In the last video there is a partial solution. I have not been able to succeed.\r\n\r\nAny solution will suit me (enums etc.).\r\n\r\n  [1]: https://i.stack.imgur.com/h8iuE.jpg\r\n  [2]: https://i.stack.imgur.com/25o01.jpg\r\n  [3]: https://i.stack.imgur.com/LOPEq.jpg","title":"Not to hardcode in annotations","body":"<p><strong>Utils</strong></p>\n<pre><code>public class GeneralUtils {    \n\n    public static String getUrlWithId(String urlsPartStr) {\n        // Get a relative URL like /delete/{id} .\n        String result = String.format(&quot;%s/{id}&quot;, urlsPartStr);\n        return result;\n    }\n}\n</code></pre>\n<p><strong>UrlsParts</strong></p>\n<pre><code>public class UrlsParts {   \n\n    public static final String delete = &quot;/delete&quot;;\n\n    public static final String deleteById = GeneralUtils.getUrlWithId(delete);\n\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@PostMapping(UrlsParts.deleteById)\npublic String delete(@PathVariable Integer id,\n                     Model model) {\n    authorRepository.deleteById(id);\n\n    return &quot;redirect:&quot; + Urls.AUTHORS_LIST.getHref();\n}\n</code></pre>\n<p>I am using Spring here. But anyway, the question is about core Java.</p>\n<p><strong>Error</strong></p>\n<pre><code>Attribute value must be constant\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/h8iuE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h8iuE.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/25o01.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/25o01.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/LOPEq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LOPEq.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Problem</strong></p>\n<p>I try not to hardcode strings in annotations. In the last video there is a partial solution. I have not been able to succeed.</p>\n<p>Any solution will suit me (enums etc.).</p>\n"},{"tags":["java","mysql","spring","maven","dependencies"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1680644152,"post_id":75933777,"comment_id":133932736,"body_markdown":"You are mixing several versions of spring boot ... and since Spring boot 3.X you have to use jakarta api instead of javax ... that means remove the dependency `javax.persistence` from your pomm file... also remove the versions of mysql connector... jakartapersistence-api etc. please show also the application.properteis/application.yml file furthermore you should use constructor injection...","body":"You are mixing several versions of spring boot ... and since Spring boot 3.X you have to use jakarta api instead of javax ... that means remove the dependency <code>javax.persistence</code> from your pomm file... also remove the versions of mysql connector... jakartapersistence-api etc. please show also the application.properteis/application.yml file furthermore you should use constructor injection..."}],"answers":[{"tags":[],"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680644673,"creation_date":1680644222,"answer_id":75934028,"question_id":75933777,"body_markdown":"Change dependencies in your pom.xml. \r\nRemove jkarta.persistence dependecies from your pom.xml.\r\nTo be more clear following dependencies are enough for the purpose\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n```\r\nIf the problem persists then\r\nIn PostRepository try extending to JPARepository in place of crudRepository.\r\n```\r\nimport com.example.demo.models.Post;;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\n\r\npublic interface PostRepository extends JpaRepository&lt;Post, Integer&gt; {\r\n\r\n}\r\n\r\n\r\n```\r\nIf still there is any error. Do comment.","title":"java Spring (org.springframework.beans.factory.UnsatisfiedDependencyException)","body":"<p>Change dependencies in your pom.xml.\nRemove jkarta.persistence dependecies from your pom.xml.\nTo be more clear following dependencies are enough for the purpose</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n</code></pre>\n<p>If the problem persists then\nIn PostRepository try extending to JPARepository in place of crudRepository.</p>\n<pre><code>import com.example.demo.models.Post;;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\n\npublic interface PostRepository extends JpaRepository&lt;Post, Integer&gt; {\n\n}\n\n\n</code></pre>\n<p>If still there is any error. Do comment.</p>\n"}],"owner":{"account_id":28216620,"reputation":31,"user_id":21568030,"display_name":"сергей иванов"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75934028,"answer_count":1,"score":0,"last_activity_date":1680644673,"creation_date":1680641684,"question_id":75933777,"body_markdown":"\r\n\r\nJust started to understand Spring. But there was an error which very strongly slows down process. Before connecting the database, everything worked. After connection there was an error, the database is created but is not filled. I use OpenServer and PHPMyAdmin\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-04-04T23:56:17.393+03:00 ERROR 24684 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;blogController&#39;: Unsatisfied dependency expressed through field &#39;postRepository&#39;: Error creating bean with name &#39;postRepository&#39; defined in com.example.demo.repositorys.PostRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Failed to convert property value of type &#39;jdk.proxy4.$Proxy97 implementing org.hibernate.Session,org.springframework.orm.jpa.EntityManagerProxy&#39; to required type &#39;javax.persistence.EntityManager&#39; for property &#39;entityManager&#39;; Cannot convert value of type &#39;jdk.proxy4.$Proxy97 implementing org.hibernate.Session,org.springframework.orm.jpa.EntityManagerProxy&#39; to required type &#39;javax.persistence.EntityManager&#39; for property &#39;entityManager&#39;: no matching editors or conversion strategy found\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.5.jar:3.0.5]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;postRepository&#39; defined in com.example.demo.repositorys.PostRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Failed to convert property value of type &#39;jdk.proxy4.$Proxy97 implementing org.hibernate.Session,org.springframework.orm.jpa.EntityManagerProxy&#39; to required type &#39;javax.persistence.EntityManager&#39; for property &#39;entityManager&#39;; Cannot convert value of type &#39;jdk.proxy4.$Proxy97 implementing org.hibernate.Session,org.springframework.orm.jpa.EntityManagerProxy&#39; to required type &#39;javax.persistence.EntityManager&#39; for property &#39;entityManager&#39;: no matching editors or conversion strategy found\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:605) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\t... 23 common frames omitted\r\nCaused by: org.springframework.beans.ConversionNotSupportedException: Failed to convert property value of type &#39;jdk.proxy4.$Proxy97 implementing org.hibernate.Session,org.springframework.orm.jpa.EntityManagerProxy&#39; to required type &#39;javax.persistence.EntityManager&#39; for property &#39;entityManager&#39;; Cannot convert value of type &#39;jdk.proxy4.$Proxy97 implementing org.hibernate.Session,org.springframework.orm.jpa.EntityManagerProxy&#39; to required type &#39;javax.persistence.EntityManager&#39; for property &#39;entityManager&#39;: no matching editors or conversion strategy found\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.convertIfNecessary(AbstractNestablePropertyAccessor.java:594) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.convertForProperty(AbstractNestablePropertyAccessor.java:608) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.BeanWrapperImpl.convertForProperty(BeanWrapperImpl.java:190) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.convertForProperty(AbstractAutowireCapableBeanFactory.java:1730) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\t... 32 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Cannot convert value of type &#39;jdk.proxy4.$Proxy97 implementing org.hibernate.Session,org.springframework.orm.jpa.EntityManagerProxy&#39; to required type &#39;javax.persistence.EntityManager&#39; for property &#39;entityManager&#39;: no matching editors or conversion strategy found\r\n\tat org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:259) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.convertIfNecessary(AbstractNestablePropertyAccessor.java:589) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\t... 38 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/QO2lh.png)\r\n\r\n\r\n\r\n# PostRepository.java:\r\n\r\n\r\n```\r\npackage com.example.demo.repositorys;\r\n\r\nimport com.example.demo.models.Post;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\npublic interface PostRepository extends CrudRepository&lt;Post, Long&gt; {\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/li2K7.png)\r\n\r\n# BlogController.java:\r\n\r\n\r\n```\r\npackage com.example.demo.controllers;\r\n\r\nimport com.example.demo.models.Post;\r\nimport com.example.demo.repositorys.PostRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class BlogController {\r\n\r\n    @Autowired\r\n    private PostRepository postRepository;\r\n\r\n    @GetMapping(&quot;/blog&quot;)\r\n    public String blogMain(Model model){\r\n        Iterable&lt;Post&gt; posts = postRepository.findAll();\r\n        model.addAttribute(&quot;posts&quot;, posts);\r\n        return &quot;blog-main&quot;;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/rxqHy.png)\r\n# post.java:\r\n\r\n```\r\npackage com.example.demo.models;\r\n\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\n@Entity\r\npublic class Post {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private  Long id;\r\n    private  String title, anons, full_text;\r\n    private int views;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getAnons() {\r\n        return anons;\r\n    }\r\n\r\n    public void setAnons(String anons) {\r\n        this.anons = anons;\r\n    }\r\n\r\n    public String getFull_text() {\r\n        return full_text;\r\n    }\r\n\r\n    public void setFull_text(String full_text) {\r\n        this.full_text = full_text;\r\n    }\r\n\r\n    public int getViews() {\r\n        return views;\r\n    }\r\n\r\n    public void setViews(int views) {\r\n        this.views = views;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n# XML:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.27&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI want to create a website with the replenishment of posts from the database","title":"java Spring (org.springframework.beans.factory.UnsatisfiedDependencyException)","body":"<p>Just started to understand Spring. But there was an error which very strongly slows down process. Before connecting the database, everything worked. After connection there was an error, the database is created but is not filled. I use OpenServer and PHPMyAdmin</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-04-04T23:56:17.393+03:00 ERROR 24684 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'blogController': Unsatisfied dependency expressed through field 'postRepository': Error creating bean with name 'postRepository' defined in com.example.demo.repositorys.PostRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Failed to convert property value of type 'jdk.proxy4.$Proxy97 implementing org.hibernate.Session,org.springframework.orm.jpa.EntityManagerProxy' to required type 'javax.persistence.EntityManager' for property 'entityManager'; Cannot convert value of type 'jdk.proxy4.$Proxy97 implementing org.hibernate.Session,org.springframework.orm.jpa.EntityManagerProxy' to required type 'javax.persistence.EntityManager' for property 'entityManager': no matching editors or conversion strategy found\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:713) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:693) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:917) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\n    at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.5.jar:3.0.5]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'postRepository' defined in com.example.demo.repositorys.PostRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Failed to convert property value of type 'jdk.proxy4.$Proxy97 implementing org.hibernate.Session,org.springframework.orm.jpa.EntityManagerProxy' to required type 'javax.persistence.EntityManager' for property 'entityManager'; Cannot convert value of type 'jdk.proxy4.$Proxy97 implementing org.hibernate.Session,org.springframework.orm.jpa.EntityManagerProxy' to required type 'javax.persistence.EntityManager' for property 'entityManager': no matching editors or conversion strategy found\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:605) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:710) ~[spring-beans-6.0.7.jar:6.0.7]\n    ... 23 common frames omitted\nCaused by: org.springframework.beans.ConversionNotSupportedException: Failed to convert property value of type 'jdk.proxy4.$Proxy97 implementing org.hibernate.Session,org.springframework.orm.jpa.EntityManagerProxy' to required type 'javax.persistence.EntityManager' for property 'entityManager'; Cannot convert value of type 'jdk.proxy4.$Proxy97 implementing org.hibernate.Session,org.springframework.orm.jpa.EntityManagerProxy' to required type 'javax.persistence.EntityManager' for property 'entityManager': no matching editors or conversion strategy found\n    at org.springframework.beans.AbstractNestablePropertyAccessor.convertIfNecessary(AbstractNestablePropertyAccessor.java:594) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.AbstractNestablePropertyAccessor.convertForProperty(AbstractNestablePropertyAccessor.java:608) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.BeanWrapperImpl.convertForProperty(BeanWrapperImpl.java:190) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.convertForProperty(AbstractAutowireCapableBeanFactory.java:1730) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.7.jar:6.0.7]\n    ... 32 common frames omitted\nCaused by: java.lang.IllegalStateException: Cannot convert value of type 'jdk.proxy4.$Proxy97 implementing org.hibernate.Session,org.springframework.orm.jpa.EntityManagerProxy' to required type 'javax.persistence.EntityManager' for property 'entityManager': no matching editors or conversion strategy found\n    at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:259) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.AbstractNestablePropertyAccessor.convertIfNecessary(AbstractNestablePropertyAccessor.java:589) ~[spring-beans-6.0.7.jar:6.0.7]\n    ... 38 common frames omitted\n\n\nProcess finished with exit code 0\n\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/QO2lh.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<h1>PostRepository.java:</h1>\n<pre><code>package com.example.demo.repositorys;\n\nimport com.example.demo.models.Post;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface PostRepository extends CrudRepository&lt;Post, Long&gt; {\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/li2K7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<h1>BlogController.java:</h1>\n<pre><code>package com.example.demo.controllers;\n\nimport com.example.demo.models.Post;\nimport com.example.demo.repositorys.PostRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class BlogController {\n\n    @Autowired\n    private PostRepository postRepository;\n\n    @GetMapping(&quot;/blog&quot;)\n    public String blogMain(Model model){\n        Iterable&lt;Post&gt; posts = postRepository.findAll();\n        model.addAttribute(&quot;posts&quot;, posts);\n        return &quot;blog-main&quot;;\n    }\n\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/rxqHy.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<h1>post.java:</h1>\n<pre><code>package com.example.demo.models;\n\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class Post {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private  Long id;\n    private  String title, anons, full_text;\n    private int views;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getAnons() {\n        return anons;\n    }\n\n    public void setAnons(String anons) {\n        this.anons = anons;\n    }\n\n    public String getFull_text() {\n        return full_text;\n    }\n\n    public void setFull_text(String full_text) {\n        this.full_text = full_text;\n    }\n\n    public int getViews() {\n        return views;\n    }\n\n    public void setViews(int views) {\n        this.views = views;\n    }\n}\n\n</code></pre>\n<h1>XML:</h1>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.27&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I want to create a website with the replenishment of posts from the database</p>\n"},{"tags":["java","spring-boot","aws-lambda"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1680641268,"post_id":75932773,"comment_id":133932153,"body_markdown":"http://idownvotedbecau.se/imageofcode","body":"<a href=\"http://idownvotedbecau.se/imageofcode\" rel=\"nofollow noreferrer\">idownvotedbecau.se/imageofcode</a>"}],"answers":[{"tags":[],"owner":{"account_id":19297553,"reputation":51,"user_id":14106209,"display_name":"PereZix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680643425,"creation_date":1680643425,"answer_id":75933946,"question_id":75932773,"body_markdown":"Here the code:\r\n\r\n\r\n    @Slf4j\r\n    @SpringBootApplication\r\n    public class LambdaBrowardApplication {\r\n    \r\n    \t@Autowired\r\n    \tBrowardService browardService;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tFunctionalSpringApplication.run(LambdaBrowardApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic String handleRequest(Map&lt;String,Object&gt; input) {\r\n    \t\tlog.info(&quot;-----&gt; INPUT: &quot; + input);\r\n    \t\ttry{\r\n    \t\t\tApplicantDto applicantDto = ApplicantDto.builder()\r\n    \t\t\t\t\t.appId((Integer) input.get(&quot;appId&quot;))\r\n    \t\t\t\t\t.reportId((Integer) input.get(&quot;reportId&quot;))\r\n    \t\t\t\t\t.firstName((String) input.get(&quot;firstName&quot;))\r\n    \t\t\t\t\t.lastName((String) input.get(&quot;lastName&quot;))\r\n    \t\t\t\t\t.middleName((String) input.get(&quot;middleName&quot;))\r\n    \t\t\t\t\t.dob((String) input.get(&quot;dob&quot;))\r\n    \t\t\t\t\t.build();\r\n    \t\t\tlog.info(&quot;-----&gt; INPUT: &quot; + applicantDto);\r\n    \t\t\tif (browardService == null) log.info(&quot;--------&gt; BROWARD is null&quot;);\r\n    \t\t\tBrowardResponseDto browardResponseDto = browardService.runBroward(applicantDto);\r\n    \t\t\treturn browardResponseDto == null ? null : new Gson().toJson(browardResponseDto);\r\n    \t\t}catch (Exception e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tlog.error(&quot;-------&gt; ERROR: &quot; + e.getCause());\r\n    \t\t\treturn &quot;There was a problem parsing the request.&quot;;\r\n    \t\t}\r\n    \t}\r\n    }","title":"Autowired in Lambda AWS with Java Spring boot not working","body":"<p>Here the code:</p>\n<pre><code>@Slf4j\n@SpringBootApplication\npublic class LambdaBrowardApplication {\n\n    @Autowired\n    BrowardService browardService;\n\n    public static void main(String[] args) {\n        FunctionalSpringApplication.run(LambdaBrowardApplication.class, args);\n    }\n\n    @Bean\n    public String handleRequest(Map&lt;String,Object&gt; input) {\n        log.info(&quot;-----&gt; INPUT: &quot; + input);\n        try{\n            ApplicantDto applicantDto = ApplicantDto.builder()\n                    .appId((Integer) input.get(&quot;appId&quot;))\n                    .reportId((Integer) input.get(&quot;reportId&quot;))\n                    .firstName((String) input.get(&quot;firstName&quot;))\n                    .lastName((String) input.get(&quot;lastName&quot;))\n                    .middleName((String) input.get(&quot;middleName&quot;))\n                    .dob((String) input.get(&quot;dob&quot;))\n                    .build();\n            log.info(&quot;-----&gt; INPUT: &quot; + applicantDto);\n            if (browardService == null) log.info(&quot;--------&gt; BROWARD is null&quot;);\n            BrowardResponseDto browardResponseDto = browardService.runBroward(applicantDto);\n            return browardResponseDto == null ? null : new Gson().toJson(browardResponseDto);\n        }catch (Exception e){\n            e.printStackTrace();\n            log.error(&quot;-------&gt; ERROR: &quot; + e.getCause());\n            return &quot;There was a problem parsing the request.&quot;;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19297553,"reputation":51,"user_id":14106209,"display_name":"PereZix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680643425,"creation_date":1680633497,"question_id":75932773,"body_markdown":"I have several lambda functions in Java and all of them have worked correctly, except this project which is similar to the others. When it tries to access BrowardService it returns null and doesn&#39;t catch the injection, here is the code:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NC7Zo.png","title":"Autowired in Lambda AWS with Java Spring boot not working","body":"<p>I have several lambda functions in Java and all of them have worked correctly, except this project which is similar to the others. When it tries to access BrowardService it returns null and doesn't catch the injection, here is the code:</p>\n<p><a href=\"https://i.stack.imgur.com/NC7Zo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NC7Zo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","coding-style","editorconfig"],"comments":[{"owner":{"account_id":3156423,"reputation":1077,"user_id":2668735,"accept_rate":56,"display_name":"user2668735"},"score":0,"creation_date":1680037031,"post_id":75801441,"comment_id":133828048,"body_markdown":"Sadly, Idea Intellij team told me they will not extract the java linter for now (which use .editoconfig) as it would be complicated (depend on a plugin management system), the request do not have enough vote.","body":"Sadly, Idea Intellij team told me they will not extract the java linter for now (which use .editoconfig) as it would be complicated (depend on a plugin management system), the request do not have enough vote."}],"answers":[{"tags":[],"owner":{"account_id":8963389,"reputation":121,"user_id":6685089,"display_name":"maharr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680040989,"creation_date":1680040989,"answer_id":75871437,"question_id":75801441,"body_markdown":"have you tried &quot;Adapter for Eclipse Code Formatter&quot;?\r\nYou can export warps\r\n\r\nhttps://plugins.jetbrains.com/plugin/6546-adapter-for-eclipse-code-formatter\r\n\r\nThan use export with formatter-maven-plugin\r\nhttps://code.revelc.net/formatter-maven-plugin/examples.html#custom-configuration-file\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/juyxE.png\r\n\r\nMaybe &quot;Save Actions&quot; helps to achieve your goals earlier in the development process.\r\n\r\nhttps://plugins.jetbrains.com/plugin/7642-save-actions","title":"How to format java code based on .editorConfig file?","body":"<p>have you tried &quot;Adapter for Eclipse Code Formatter&quot;?\nYou can export warps</p>\n<p><a href=\"https://plugins.jetbrains.com/plugin/6546-adapter-for-eclipse-code-formatter\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/6546-adapter-for-eclipse-code-formatter</a></p>\n<p>Than use export with formatter-maven-plugin\n<a href=\"https://code.revelc.net/formatter-maven-plugin/examples.html#custom-configuration-file\" rel=\"nofollow noreferrer\">https://code.revelc.net/formatter-maven-plugin/examples.html#custom-configuration-file</a></p>\n<p><a href=\"https://i.stack.imgur.com/juyxE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/juyxE.png\" alt=\"enter image description here\" /></a></p>\n<p>Maybe &quot;Save Actions&quot; helps to achieve your goals earlier in the development process.</p>\n<p><a href=\"https://plugins.jetbrains.com/plugin/7642-save-actions\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/7642-save-actions</a></p>\n"},{"comments":[{"owner":{"account_id":3156423,"reputation":1077,"user_id":2668735,"accept_rate":56,"display_name":"user2668735"},"score":0,"creation_date":1680593494,"post_id":75926266,"comment_id":133920148,"body_markdown":"The goal is to not depend on any IDE. I saw that we could use Intellij as a binary and format code with CLI but a binary of 300Mo is not acceptable. Jalopy seems unmaintained since 8 years. For JHipster, I don&#39;t understand, they do not provide any code formater.","body":"The goal is to not depend on any IDE. I saw that we could use Intellij as a binary and format code with CLI but a binary of 300Mo is not acceptable. Jalopy seems unmaintained since 8 years. For JHipster, I don&#39;t understand, they do not provide any code formater."},{"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"score":0,"creation_date":1680608293,"post_id":75926266,"comment_id":133923600,"body_markdown":"Does not it sound controversial: you want to use __editor__Config file, but outside of any editor. Looks to me this file is not intended for linting (I would say it just defines indents and simple rules). It could be much easier to set the same indentation rules in  `maven-checkstyle-plugin` config and use it as a more conventional way.","body":"Does not it sound controversial: you want to use __editor__Config file, but outside of any editor. Looks to me this file is not intended for linting (I would say it just defines indents and simple rules). It could be much easier to set the same indentation rules in  <code>maven-checkstyle-plugin</code> config and use it as a more conventional way."},{"owner":{"account_id":3156423,"reputation":1077,"user_id":2668735,"accept_rate":56,"display_name":"user2668735"},"score":0,"creation_date":1680615429,"post_id":75926266,"comment_id":133925562,"body_markdown":"I don&#39;t think so, the .editorconfig file has become a standard, not linked to any tool. The great thing with this format is that you can describe many languages. Checkstyle plugin can only give the rules for java code, and can format only java code.","body":"I don&#39;t think so, the .editorconfig file has become a standard, not linked to any tool. The great thing with this format is that you can describe many languages. Checkstyle plugin can only give the rules for java code, and can format only java code."}],"tags":[],"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680590870,"creation_date":1680590870,"answer_id":75926266,"question_id":75801441,"body_markdown":"Unfortunately, the `editorconfig-maven-plugin` doesn&#39;t support Java at the moment: for now the plugin has support to enforce coding style rules for other languages such as XML and YAML.\r\n\r\nThere are different Maven plugins that support Java linting, like the `maven-checkstyle-plugin` or the `PMD plugin`.\r\n\r\nIf you&#39;re looking for a tool to handle Java formatting based on `.editorConfig`, there are several options:\r\n\r\n1. Eclipse IDE along with the Eclipse Code Formatter plugin. \r\n\r\n2. IntelliJ IDEA IDE with the `EditorConfig` plugin \r\n\r\n3. separate command-line tools such as the `JHipster` code generator or the `Jalopy` code formatter. These tools can be easily integrated into Maven build process to automatically format Java code based on the `.editorConfig` rules.","title":"How to format java code based on .editorConfig file?","body":"<p>Unfortunately, the <code>editorconfig-maven-plugin</code> doesn't support Java at the moment: for now the plugin has support to enforce coding style rules for other languages such as XML and YAML.</p>\n<p>There are different Maven plugins that support Java linting, like the <code>maven-checkstyle-plugin</code> or the <code>PMD plugin</code>.</p>\n<p>If you're looking for a tool to handle Java formatting based on <code>.editorConfig</code>, there are several options:</p>\n<ol>\n<li><p>Eclipse IDE along with the Eclipse Code Formatter plugin.</p>\n</li>\n<li><p>IntelliJ IDEA IDE with the <code>EditorConfig</code> plugin</p>\n</li>\n<li><p>separate command-line tools such as the <code>JHipster</code> code generator or the <code>Jalopy</code> code formatter. These tools can be easily integrated into Maven build process to automatically format Java code based on the <code>.editorConfig</code> rules.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":3156423,"reputation":1077,"user_id":2668735,"accept_rate":56,"display_name":"user2668735"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1157,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1680643214,"creation_date":1679402927,"question_id":75801441,"body_markdown":"In a maven project (backend java + frontend angular) I would like to add a coding style and format code automatically (many file types), with a git pre-commit hook for example or/and at compile time.\r\n\r\nI found some code style related plugins:\r\n - [formatter-maven-plugin][1]\r\n - [maven-checkstyle-plugin][2]\r\n - [editorconfig-maven-plugin][3]\r\n - [google-java-format][4]\r\n\r\nBut each for each solution there is a problem (only java, without java linter, or opinionated). The `.editorConfig` seems the most complete configuration file, especially great for project which includes many different languages.\r\n\r\nSadly, the only plugin dealing with .editorconfig, `editorconfig-maven-plugin`, does not handle java, the plugin only comes with a yaml and xml linter.\r\n\r\n**Question 1:** can we configure a Java linter for `editorconfig-maven-plugin` ? Any idea of a base to fork to write one ?\r\n\r\n**Question 2:** Is there other tools to handle a java formatting based on .editorConfig ?\r\n\r\n\r\nAny solution are welcome, even if not integrated with a maven plugin.\r\n\r\n\r\n  [1]: https://code.revelc.net/formatter-maven-plugin/\r\n  [2]: https://maven.apache.org/plugins/maven-checkstyle-plugin/\r\n  [3]: https://ec4j.github.io/editorconfig-maven-plugin/\r\n  [4]: https://github.com/google/google-java-format","title":"How to format java code based on .editorConfig file?","body":"<p>In a maven project (backend java + frontend angular) I would like to add a coding style and format code automatically (many file types), with a git pre-commit hook for example or/and at compile time.</p>\n<p>I found some code style related plugins:</p>\n<ul>\n<li><a href=\"https://code.revelc.net/formatter-maven-plugin/\" rel=\"nofollow noreferrer\">formatter-maven-plugin</a></li>\n<li><a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/\" rel=\"nofollow noreferrer\">maven-checkstyle-plugin</a></li>\n<li><a href=\"https://ec4j.github.io/editorconfig-maven-plugin/\" rel=\"nofollow noreferrer\">editorconfig-maven-plugin</a></li>\n<li><a href=\"https://github.com/google/google-java-format\" rel=\"nofollow noreferrer\">google-java-format</a></li>\n</ul>\n<p>But each for each solution there is a problem (only java, without java linter, or opinionated). The <code>.editorConfig</code> seems the most complete configuration file, especially great for project which includes many different languages.</p>\n<p>Sadly, the only plugin dealing with .editorconfig, <code>editorconfig-maven-plugin</code>, does not handle java, the plugin only comes with a yaml and xml linter.</p>\n<p><strong>Question 1:</strong> can we configure a Java linter for <code>editorconfig-maven-plugin</code> ? Any idea of a base to fork to write one ?</p>\n<p><strong>Question 2:</strong> Is there other tools to handle a java formatting based on .editorConfig ?</p>\n<p>Any solution are welcome, even if not integrated with a maven plugin.</p>\n"},{"tags":["java","swing","user-interface","inheritance","jframe"],"comments":[{"owner":{"account_id":12573569,"reputation":142,"user_id":9146825,"display_name":"Blue Dev"},"score":0,"creation_date":1680637967,"post_id":75933219,"comment_id":133931409,"body_markdown":"Have you tried calling `pack();` after adding new components in your various classes?","body":"Have you tried calling <code>pack();</code> after adding new components in your various classes?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1680662316,"post_id":75933219,"comment_id":133934702,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Creating multiple `JFrames` is not a good user experience and not a good coding experience for you.  Generally, you create one and only one `JFrame` and as many `JPanels` as you need to complete the application.  A `JPanel` with a `CardLayout` should be used to switch from one `JPanel` to another.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Creating multiple <code>JFrames</code> is not a good user experience and not a good coding experience for you.  Generally, you create one and only one <code>JFrame</code> and as many <code>JPanels</code> as you need to complete the application.  A <code>JPanel</code> with a <code>CardLayout</code> should be used to switch from one <code>JPanel</code> to another."}],"owner":{"account_id":25146307,"reputation":13,"user_id":18992025,"display_name":"Piter De Vries"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680642821,"creation_date":1680637184,"question_id":75933219,"body_markdown":"I am slightly new to Java (this is my first time creating a program outside of school), and I am having trouble getting my GUI to open correctly. The weird thing is that sometimes (maybe 1 in 10) it opens correctly and works exactly as intended. However, the JFrame usually opens without anything visible inside it. There are pictures at the bottom. Here are my classes:\r\n\r\n`GUI.java`:\r\n\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.GridLayout;\r\nimport javax.swing.*;\r\nimport javax.swing.border.Border;\r\n\r\npublic class GUI {\r\n\t\r\n\tJFrame frame;\r\n\tJPanel panel;\r\n\t\r\n\tpublic GUI() {\r\n\t\tframe = new JFrame();\r\n\t\tframe.setTitle(&quot;Word Game&quot;);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(500, 500);\r\n\t\tframe.setResizable(false);\r\n\t\tframe.setVisible(true);\r\n\t\t\r\n\t\tpanel = new JPanel();\r\n\t\tpanel.setBackground(Color.red);\r\n\t\tpanel.setBorder(BorderFactory.createEmptyBorder(30, 30, 10, 30));\r\n\t\tpanel.setLayout(new GridLayout(1, 0));\r\n\t}\r\n}\r\n```\r\n\r\n`MainMenu.java`:\r\n\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.*;\r\nimport javax.swing.border.Border;\r\n\r\npublic class MainMenu extends GUI implements ActionListener {\r\n\r\n\tprivate JButton buttonPlay;\r\n\tprivate JButton buttonStats;\r\n\t\r\n\tpublic MainMenu() {\r\n\t\tsuper();\r\n\t\t\r\n\t\tbuttonPlay = new JButton(&quot;Play&quot;);\r\n\t\tpanel.add(buttonPlay);\r\n\t\tbuttonPlay.addActionListener(this);\r\n\t\tbuttonStats = new JButton(&quot;View Leaderboards&quot;);\r\n\t\tpanel.add(buttonStats);\r\n\t\tbuttonStats.addActionListener(this);\r\n\t\t\r\n\t\tframe.add(panel, BorderLayout.CENTER);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tnew SelectLevel(e.getSource() == buttonPlay);\r\n\t\tframe.dispose();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew MainMenu();\r\n\t}\r\n}\r\n```\r\n\r\n`SelectLevel.java`:\r\n\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport javax.swing.*;\r\nimport javax.swing.border.Border;\r\n\r\npublic class SelectLevel extends GUI implements ActionListener {\r\n\r\n\t\r\n\tpublic SelectLevel(boolean play) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tfor(int i = 1; i &lt;= 3; i++) {\r\n\t\t\tJButton button = new JButton(&quot;Level &quot; + i);\r\n\t\t\tpanel.add(button);\r\n\t\t\tbutton.addActionListener(this);\t\r\n\t\t}\r\n\t\t\r\n\t\tframe.add(panel, BorderLayout.CENTER);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tnew Game(e.getActionCommand().charAt(6));\r\n\t\tframe.dispose();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew MainMenu();\r\n\t}\r\n}\r\n```\r\n\r\nMainMenu and SelectLevel working correctly:\r\n\r\n[![Main Menu Screen (working correctly)](https://i.stack.imgur.com/kh2pt.png)](https://i.stack.imgur.com/kh2pt.png)\r\n[![Select Level Screen (working correctly)](https://i.stack.imgur.com/yYrKh.png)](https://i.stack.imgur.com/yYrKh.png)\r\n\r\nWhat I usually get (not working correctly):\r\n\r\n[![What I usually get (not working correctly)](https://i.stack.imgur.com/ahT7n.png)](https://i.stack.imgur.com/ahT7n.png)","title":"Small Java GUI Program with Inheritance not Working","body":"<p>I am slightly new to Java (this is my first time creating a program outside of school), and I am having trouble getting my GUI to open correctly. The weird thing is that sometimes (maybe 1 in 10) it opens correctly and works exactly as intended. However, the JFrame usually opens without anything visible inside it. There are pictures at the bottom. Here are my classes:</p>\n<p><code>GUI.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.GridLayout;\nimport javax.swing.*;\nimport javax.swing.border.Border;\n\npublic class GUI {\n    \n    JFrame frame;\n    JPanel panel;\n    \n    public GUI() {\n        frame = new JFrame();\n        frame.setTitle(&quot;Word Game&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(500, 500);\n        frame.setResizable(false);\n        frame.setVisible(true);\n        \n        panel = new JPanel();\n        panel.setBackground(Color.red);\n        panel.setBorder(BorderFactory.createEmptyBorder(30, 30, 10, 30));\n        panel.setLayout(new GridLayout(1, 0));\n    }\n}\n</code></pre>\n<p><code>MainMenu.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.*;\nimport javax.swing.border.Border;\n\npublic class MainMenu extends GUI implements ActionListener {\n\n    private JButton buttonPlay;\n    private JButton buttonStats;\n    \n    public MainMenu() {\n        super();\n        \n        buttonPlay = new JButton(&quot;Play&quot;);\n        panel.add(buttonPlay);\n        buttonPlay.addActionListener(this);\n        buttonStats = new JButton(&quot;View Leaderboards&quot;);\n        panel.add(buttonStats);\n        buttonStats.addActionListener(this);\n        \n        frame.add(panel, BorderLayout.CENTER);\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        new SelectLevel(e.getSource() == buttonPlay);\n        frame.dispose();\n    }\n\n    public static void main(String[] args) {\n        new MainMenu();\n    }\n}\n</code></pre>\n<p><code>SelectLevel.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.*;\nimport javax.swing.border.Border;\n\npublic class SelectLevel extends GUI implements ActionListener {\n\n    \n    public SelectLevel(boolean play) {\n        super();\n        \n        for(int i = 1; i &lt;= 3; i++) {\n            JButton button = new JButton(&quot;Level &quot; + i);\n            panel.add(button);\n            button.addActionListener(this); \n        }\n        \n        frame.add(panel, BorderLayout.CENTER);\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        new Game(e.getActionCommand().charAt(6));\n        frame.dispose();\n    }\n\n    public static void main(String[] args) {\n        new MainMenu();\n    }\n}\n</code></pre>\n<p>MainMenu and SelectLevel working correctly:</p>\n<p><a href=\"https://i.stack.imgur.com/kh2pt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kh2pt.png\" alt=\"Main Menu Screen (working correctly)\" /></a>\n<a href=\"https://i.stack.imgur.com/yYrKh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yYrKh.png\" alt=\"Select Level Screen (working correctly)\" /></a></p>\n<p>What I usually get (not working correctly):</p>\n<p><a href=\"https://i.stack.imgur.com/ahT7n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ahT7n.png\" alt=\"What I usually get (not working correctly)\" /></a></p>\n"},{"tags":["java","spring-boot","amazon-dynamodb"],"answers":[{"comments":[{"owner":{"account_id":16164192,"reputation":251,"user_id":11669559,"display_name":"curious"},"score":0,"creation_date":1654618555,"post_id":72533074,"comment_id":128131554,"body_markdown":"i could not make it work, because one of the methods attributeValueType we need to spesify the type anyway","body":"i could not make it work, because one of the methods attributeValueType we need to spesify the type anyway"}],"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666780567,"creation_date":1654612425,"answer_id":72533074,"question_id":72532853,"body_markdown":"Saving the same attribute with different types sounds like a bad design if you can use two attributes.\r\n\r\nHowever, if you absolutely need to store it like that you can use a custom converter.\r\n\r\n        @DynamoDBAttribute\r\n        @DynamoDBTypeConverted(converter = CustomConverter.class)\r\n        private Long createdAt;\r\n\r\nand then the converter\r\n\r\n    class CustomConverter&lt;Object&gt; implements AttributeConverter&lt;Object&gt; {\r\n    ... implement the methods here handling both cases String and Long\r\n\r\n\r\n","title":"How to handle mixed data types in dynamodb?","body":"<p>Saving the same attribute with different types sounds like a bad design if you can use two attributes.</p>\n<p>However, if you absolutely need to store it like that you can use a custom converter.</p>\n<pre><code>    @DynamoDBAttribute\n    @DynamoDBTypeConverted(converter = CustomConverter.class)\n    private Long createdAt;\n</code></pre>\n<p>and then the converter</p>\n<pre><code>class CustomConverter&lt;Object&gt; implements AttributeConverter&lt;Object&gt; {\n... implement the methods here handling both cases String and Long\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3960968,"reputation":153,"user_id":4974813,"display_name":"entimaniac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680642644,"creation_date":1680642644,"answer_id":75933881,"question_id":72532853,"body_markdown":"I had the same issue. I acknowledge it is a sign of something very wrong and there were several things that lead to our situation, but we ended up with two processes that were writing the to the same table. The new process wrote longs for the `dateModified` field while the old process wrote a timestamp string. \r\n\r\nIn order to do get the job done, I wrote a custom converter:\r\n\r\n\r\n``` java\r\nimport java.time.Instant;\r\n\r\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter;\r\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue;\r\n\r\npublic class StringOrLongConverter implements DynamoDBTypeConverter&lt;AttributeValue, Long&gt; {\r\n\r\n    @Override\r\n    public AttributeValue convert(Long timeInMilli) { // convert from Java Long to AttributeValue (Number) to save in Dynamo\r\n        try {\r\n            return new AttributeValue().withN(String.valueOf(timeInMilli));\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Long unconvert(AttributeValue av) {\r\n\r\n        try {\r\n            return Long.valueOf(av.getN()); // try to parse as a number\r\n        } catch (NumberFormatException e) {\r\n            String dateString = av.getS(); // try to parse as a timestamp\r\n            Instant instant = Instant.parse(dateString);\r\n            return instant.toEpochMilli();\r\n        }\r\n\r\n    }\r\n}\r\n``` \r\n\r\n\r\nand then I just utilized that converter in my model:\r\n\r\n```java\r\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAttribute;\r\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;\r\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;\r\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverted;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\n@DynamoDBTable(tableName = &quot;my-table&quot;)\r\npublic class User {\r\n    @DynamoDBHashKey(attributeName = &quot;id&quot;)\r\n    private String id;\r\n\r\n    @DynamoDBTypeConverted(converter = StringOrLongConverter.class) // utilize the converter here\r\n    @DynamoDBAttribute(attributeName = &quot;dateModified&quot;)\r\n    private Long dateModified;\r\n}\r\n```\r\n\r\nThere is probably a more elegant way to check the type of the `AttributeValue` of the field in question other than a `try...catch` but it got the job done for me.\r\n","title":"How to handle mixed data types in dynamodb?","body":"<p>I had the same issue. I acknowledge it is a sign of something very wrong and there were several things that lead to our situation, but we ended up with two processes that were writing the to the same table. The new process wrote longs for the <code>dateModified</code> field while the old process wrote a timestamp string.</p>\n<p>In order to do get the job done, I wrote a custom converter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.Instant;\n\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter;\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue;\n\npublic class StringOrLongConverter implements DynamoDBTypeConverter&lt;AttributeValue, Long&gt; {\n\n    @Override\n    public AttributeValue convert(Long timeInMilli) { // convert from Java Long to AttributeValue (Number) to save in Dynamo\n        try {\n            return new AttributeValue().withN(String.valueOf(timeInMilli));\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    public Long unconvert(AttributeValue av) {\n\n        try {\n            return Long.valueOf(av.getN()); // try to parse as a number\n        } catch (NumberFormatException e) {\n            String dateString = av.getS(); // try to parse as a timestamp\n            Instant instant = Instant.parse(dateString);\n            return instant.toEpochMilli();\n        }\n\n    }\n}\n</code></pre>\n<p>and then I just utilized that converter in my model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAttribute;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverted;\n\nimport lombok.Data;\n\n@Data\n@DynamoDBTable(tableName = &quot;my-table&quot;)\npublic class User {\n    @DynamoDBHashKey(attributeName = &quot;id&quot;)\n    private String id;\n\n    @DynamoDBTypeConverted(converter = StringOrLongConverter.class) // utilize the converter here\n    @DynamoDBAttribute(attributeName = &quot;dateModified&quot;)\n    private Long dateModified;\n}\n</code></pre>\n<p>There is probably a more elegant way to check the type of the <code>AttributeValue</code> of the field in question other than a <code>try...catch</code> but it got the job done for me.</p>\n"}],"owner":{"account_id":16164192,"reputation":251,"user_id":11669559,"display_name":"curious"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1099,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680642644,"creation_date":1654611670,"question_id":72532853,"body_markdown":"We have a dynamoDb table, and one column name &quot;createdAt&quot; is created sometimes as S (String) data type and sometimes with N (Number) data type.\r\n\r\nIn my code if i define as String, it fails when i want to fetch data and it is number:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\n@EqualsAndHashCode\r\n@DynamoDBTable(tableName = &quot;SomeTable&quot;)\r\npublic class SomeTable {\r\n    @DynamoDBAttribute\r\n    @DynamoDBTyped(DynamoDBMapperFieldModel.DynamoDBAttributeType.S)\r\n    private Long createdAt;\r\n}\r\n```\r\n\r\nand if i define as Number , it fails when  i want to fetch data and it is string in table:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\n@EqualsAndHashCode\r\n@DynamoDBTable(tableName = &quot;SomeTable&quot;)\r\npublic class SomeTable {\r\n    @DynamoDBAttribute\r\n    @DynamoDBTyped(DynamoDBMapperFieldModel.DynamoDBAttributeType.N)\r\n    private Long createdAt;\r\n}\r\n```\r\n\r\ndo any of you had the same issue before maybe? there should be a way to fix it right? and it is not option to have only one datatype :( ","title":"How to handle mixed data types in dynamodb?","body":"<p>We have a dynamoDb table, and one column name &quot;createdAt&quot; is created sometimes as S (String) data type and sometimes with N (Number) data type.</p>\n<p>In my code if i define as String, it fails when i want to fetch data and it is number:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@EqualsAndHashCode\n@DynamoDBTable(tableName = &quot;SomeTable&quot;)\npublic class SomeTable {\n    @DynamoDBAttribute\n    @DynamoDBTyped(DynamoDBMapperFieldModel.DynamoDBAttributeType.S)\n    private Long createdAt;\n}\n</code></pre>\n<p>and if i define as Number , it fails when  i want to fetch data and it is string in table:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n@EqualsAndHashCode\n@DynamoDBTable(tableName = &quot;SomeTable&quot;)\npublic class SomeTable {\n    @DynamoDBAttribute\n    @DynamoDBTyped(DynamoDBMapperFieldModel.DynamoDBAttributeType.N)\n    private Long createdAt;\n}\n</code></pre>\n<p>do any of you had the same issue before maybe? there should be a way to fix it right? and it is not option to have only one datatype :(</p>\n"},{"tags":["java","search","binary-search","elapsedtime"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680205019,"post_id":75892260,"comment_id":133863199,"body_markdown":"Fix the formatting of your code.","body":"Fix the formatting of your code."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680642691,"post_id":75892260,"comment_id":133932477,"body_markdown":"Yes, this is approximately as expected and is due to warm-up.","body":"Yes, this is approximately as expected and is due to warm-up."}],"owner":{"account_id":28171999,"reputation":1,"user_id":21530386,"display_name":"thetIn9tIn9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680205027,"answer_count":0,"score":0,"last_activity_date":1680642621,"creation_date":1680204584,"question_id":75892260,"body_markdown":"I found some issue when i code in java.\r\n\r\nI coded Linear search and Binary search code by my self.\r\nThis database already sorted. They have several duplicated value.\r\n\r\nI wanted to check which searching algorithm is faster.\r\n(It might be Binary, I think.)\r\n\r\nBut when i changed the order of calling method in main method,\r\nthe elapsed time is changed.\r\n\r\nIn this code, I measured elapsed time of binary search first,\r\n\r\nThe result is:\r\n\r\n - BinarySearch : 70840459\r\n - LinearSearch : 26856500\r\n\r\nwhen i changed the order, the result also reversed.\r\n\r\n - LinearSearch : 70661958\r\n - BinarySearch : 80969208\r\n\r\nDo you know why this happend?\r\n\r\n```\r\nimport java.io.File;\r\nimport java.util.*;\r\n\r\npublic class Test {\r\n\r\n\tprivate static void quickSort(Object[] arrays, int start, int end) {\r\n\r\n\t\tint i = start;\r\n\r\n\t\tint j = end;\r\n\r\n\t\tif (j - i &gt;= 1) {\r\n\t\t\tObject pivot = arrays[i];\r\n\t\t\twhile (j &gt; i) {\r\n\t\t\t\twhile (arrays[i].compareTo(pivot) &lt;= 0 &amp;&amp; i &lt; end &amp;&amp; j &gt; i) {\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t\twhile (arrays[j].compareTo(pivot) &gt;= 0 &amp;&amp; j &gt; start &amp;&amp; j &gt;= i) {\r\n\t\t\t\t\tj--;\r\n\t\t\t\t}\r\n\t\t\t\tif (j &gt; i)\r\n\t\t\t\t\tswap(arrays, i, j);\r\n\t\t\t}\r\n\r\n\t\t\tswap(arrays, start, j);\r\n\t\t\tquickSort(arrays, start, j - 1);\r\n\t\t\tquickSort(arrays, j + 1, end);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void swap(Object[] arrays, int i, int j) {\r\n\t\tObject temp = arrays[i];\r\n\t\tarrays[i] = arrays[j];\r\n\t\tarrays[j] = temp;\r\n\t}\r\n\r\n\r\n\tprivate static void BinarySearch(Object[] arrays, String key) {\r\n\r\n\t\tint start = binarySearchForDepartment(arrays, key);\r\n\t\tint end = binarySearchLastRecordForDepartment(arrays, key);\r\n\r\n\t\tif (start &lt; 0) {\r\n\t\t\tstart = -(start + 1);\r\n\t\t\tSystem.out.println(&quot;Not an existing &quot; + key + &quot;!&quot;);\r\n\t\t}\r\n\r\n\t\tfor (int a = start; a &lt; end+1; a++) {\r\n\t\t\tif (arrays[a].getDepartment().equals(key))\r\n\t\t\t\tSystem.out.println(arrays[a].toString());\r\n\t\t}\r\n\t\r\n\r\n\t}\r\n\t\r\n\tpublic static int binarySearchForDepartment(Object[] arrays, String key) {\r\n\t\tint left = 0;\r\n\t\tint right = arrays.length - 1;\r\n\t\tint index = -1;\r\n\r\n\t\twhile (left &lt;= right) {\r\n\t\t\tint mid = (left + right) / 2;\r\n\t\t\tif (arrays[mid].getDepartment().compareTo(key) &lt; 0) {\r\n\t\t\t\tleft = mid + 1;\r\n\t\t\t} else if (arrays[mid].getDepartment().compareTo(key) &gt; 0) {\r\n\t\t\t\tright = mid - 1;\r\n\t\t\t} else {\r\n\t\t\t\tindex = mid;\r\n\t\t\t\tright = mid - 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn index;\r\n\t}\r\n\t\r\n\tpublic static int binarySearchLastRecordForDepartment(Object[] arrays, String key) {\r\n\t    int left = 0;\r\n\t    int right = arrays.length - 1;\r\n\t    int index = -1;\r\n\r\n\t    while (left &lt;= right) {\r\n\t        int mid = (left + right) / 2;\r\n\t        if (arrays[mid].getDepartment().compareTo(arrays) &lt; 0) {\r\n\t            left = mid + 1;\r\n\t        } else if (arrays[mid].getDepartment().compareTo(arrays) &gt; 0) {\r\n\t            right = mid - 1;\r\n\t        } else {\r\n\t            index = mid;\r\n\t            left = mid + 1;\r\n\t        }\r\n\t    }\r\n\r\n\t    return index;\r\n\t}\r\n\r\n\r\n\tprivate static void linearSearch(Object[] arrays, String key) { \r\n\t\t\r\n\t\tfor (int a = 0; a &lt; arrays.length; a++) {\r\n\t\t\tif (key.equals(arrays[a].getDepartment())) {\r\n\t\t\t\tSystem.out.println(arrays[a].toString());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\r\n\t\t\r\n\t \tlong startBin = System.nanoTime();\r\n\t\t\r\n\t\t\r\n\t\tObject[] arrayBin = new Object[arrays.length];\r\n\t\t\t\r\n\t\tfor(int a = 0; a&lt;arrayBin.length; a++) {\r\n\t\t\tarrayBin[a] = arrays[a];\t\r\n\t\t\t}\r\n\t\t\tquickSort(arrayBin, 0, arrayBin.length-1);\r\n\t\t\t\r\n\t\t\tBinarySearch(arrayBin,&quot;A&quot;);\r\n\t\t\t\r\n\t\t\tlong endBin = System.nanoTime();\r\n\t\t\tlong elapsedTimeBin = endBin - startBin;\r\n\t\t\tSystem.out.println(&quot;The average elapsed Time of BinarySearch : &quot; + elapsedTimeBin + &quot; nanoseconds&quot;);\r\n\t\t\r\n\tlong startLin = System.nanoTime();\r\n\t\t\r\n\tObject[] arrayLin = new Object[arrays.length];\r\n\t\r\n\tfor(int a = 0; a&lt;arrayLin.length; a++) {\r\n\t\tarrayLin[a] = arrays[a];\t\r\n\t}\r\n\tquickSort(arrayLin, 0, arrayLin.length-1);\r\n\t\r\n\tlinearSearch(arrayLin,&quot;B&quot;);\r\n\t\r\n\tlong endLin = System.nanoTime();\r\n\tlong elapsedTimeLin = endLin - startLin;\r\n\tSystem.out.println(&quot;The average elapsed Time of LinearSearch : &quot; + elapsedTimeLin + &quot; nanoseconds&quot;);\r\n\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n","title":"changing elapsed time by calling method order in java","body":"<p>I found some issue when i code in java.</p>\n<p>I coded Linear search and Binary search code by my self.\nThis database already sorted. They have several duplicated value.</p>\n<p>I wanted to check which searching algorithm is faster.\n(It might be Binary, I think.)</p>\n<p>But when i changed the order of calling method in main method,\nthe elapsed time is changed.</p>\n<p>In this code, I measured elapsed time of binary search first,</p>\n<p>The result is:</p>\n<ul>\n<li>BinarySearch : 70840459</li>\n<li>LinearSearch : 26856500</li>\n</ul>\n<p>when i changed the order, the result also reversed.</p>\n<ul>\n<li>LinearSearch : 70661958</li>\n<li>BinarySearch : 80969208</li>\n</ul>\n<p>Do you know why this happend?</p>\n<pre><code>import java.io.File;\nimport java.util.*;\n\npublic class Test {\n\n    private static void quickSort(Object[] arrays, int start, int end) {\n\n        int i = start;\n\n        int j = end;\n\n        if (j - i &gt;= 1) {\n            Object pivot = arrays[i];\n            while (j &gt; i) {\n                while (arrays[i].compareTo(pivot) &lt;= 0 &amp;&amp; i &lt; end &amp;&amp; j &gt; i) {\n                    i++;\n                }\n                while (arrays[j].compareTo(pivot) &gt;= 0 &amp;&amp; j &gt; start &amp;&amp; j &gt;= i) {\n                    j--;\n                }\n                if (j &gt; i)\n                    swap(arrays, i, j);\n            }\n\n            swap(arrays, start, j);\n            quickSort(arrays, start, j - 1);\n            quickSort(arrays, j + 1, end);\n        }\n    }\n\n    private static void swap(Object[] arrays, int i, int j) {\n        Object temp = arrays[i];\n        arrays[i] = arrays[j];\n        arrays[j] = temp;\n    }\n\n\n    private static void BinarySearch(Object[] arrays, String key) {\n\n        int start = binarySearchForDepartment(arrays, key);\n        int end = binarySearchLastRecordForDepartment(arrays, key);\n\n        if (start &lt; 0) {\n            start = -(start + 1);\n            System.out.println(&quot;Not an existing &quot; + key + &quot;!&quot;);\n        }\n\n        for (int a = start; a &lt; end+1; a++) {\n            if (arrays[a].getDepartment().equals(key))\n                System.out.println(arrays[a].toString());\n        }\n    \n\n    }\n    \n    public static int binarySearchForDepartment(Object[] arrays, String key) {\n        int left = 0;\n        int right = arrays.length - 1;\n        int index = -1;\n\n        while (left &lt;= right) {\n            int mid = (left + right) / 2;\n            if (arrays[mid].getDepartment().compareTo(key) &lt; 0) {\n                left = mid + 1;\n            } else if (arrays[mid].getDepartment().compareTo(key) &gt; 0) {\n                right = mid - 1;\n            } else {\n                index = mid;\n                right = mid - 1;\n            }\n        }\n\n        return index;\n    }\n    \n    public static int binarySearchLastRecordForDepartment(Object[] arrays, String key) {\n        int left = 0;\n        int right = arrays.length - 1;\n        int index = -1;\n\n        while (left &lt;= right) {\n            int mid = (left + right) / 2;\n            if (arrays[mid].getDepartment().compareTo(arrays) &lt; 0) {\n                left = mid + 1;\n            } else if (arrays[mid].getDepartment().compareTo(arrays) &gt; 0) {\n                right = mid - 1;\n            } else {\n                index = mid;\n                left = mid + 1;\n            }\n        }\n\n        return index;\n    }\n\n\n    private static void linearSearch(Object[] arrays, String key) { \n        \n        for (int a = 0; a &lt; arrays.length; a++) {\n            if (key.equals(arrays[a].getDepartment())) {\n                System.out.println(arrays[a].toString());\n            }\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n\n        \n        long startBin = System.nanoTime();\n        \n        \n        Object[] arrayBin = new Object[arrays.length];\n            \n        for(int a = 0; a&lt;arrayBin.length; a++) {\n            arrayBin[a] = arrays[a];    \n            }\n            quickSort(arrayBin, 0, arrayBin.length-1);\n            \n            BinarySearch(arrayBin,&quot;A&quot;);\n            \n            long endBin = System.nanoTime();\n            long elapsedTimeBin = endBin - startBin;\n            System.out.println(&quot;The average elapsed Time of BinarySearch : &quot; + elapsedTimeBin + &quot; nanoseconds&quot;);\n        \n    long startLin = System.nanoTime();\n        \n    Object[] arrayLin = new Object[arrays.length];\n    \n    for(int a = 0; a&lt;arrayLin.length; a++) {\n        arrayLin[a] = arrays[a];    \n    }\n    quickSort(arrayLin, 0, arrayLin.length-1);\n    \n    linearSearch(arrayLin,&quot;B&quot;);\n    \n    long endLin = System.nanoTime();\n    long elapsedTimeLin = endLin - startLin;\n    System.out.println(&quot;The average elapsed Time of LinearSearch : &quot; + elapsedTimeLin + &quot; nanoseconds&quot;);\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","delphi","firemonkey","c++builder"],"comments":[{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1680635309,"post_id":75932758,"comment_id":133930834,"body_markdown":"On a side note: if `TAndroidHelper::JFileToJURI()` raises an exception, your `catch` block is assigning the result of `TJnet_Uri::JavaClass-&gt;parse()` to the wrong `Uri1` variable.","body":"On a side note: if <code>TAndroidHelper::JFileToJURI()</code> raises an exception, your <code>catch</code> block is assigning the result of <code>TJnet_Uri::JavaClass-&gt;parse()</code> to the wrong <code>Uri1</code> variable."},{"owner":{"account_id":28215636,"reputation":1,"user_id":21567204,"display_name":"rodger williams"},"score":0,"creation_date":1680643286,"post_id":75932758,"comment_id":133932577,"body_markdown":"Thank you.  Did not see this earlier.","body":"Thank you.  Did not see this earlier."}],"answers":[{"comments":[{"owner":{"account_id":28215636,"reputation":1,"user_id":21567204,"display_name":"rodger williams"},"score":0,"creation_date":1680640185,"post_id":75933001,"comment_id":133931936,"body_markdown":"Remy, thank you for the quick response.  I implemented your answer and even though the HandleActivityMessage is invoked now with the notify-&gt;RequestCode returning with &#39;1234&#39;, the notify-&gt;ResultCode is &#39;0&#39;.  The prompt for the user to install the apk is still displayed when the member is invoked.  Once the user presses the install, the message is never handled again.  Here is the code I used (to setbreak points) it seems its invoked once the intent is launched, but I need it to know once the intent is complete.  Or when the install is complete if possible.","body":"Remy, thank you for the quick response.  I implemented your answer and even though the HandleActivityMessage is invoked now with the notify-&gt;RequestCode returning with &#39;1234&#39;, the notify-&gt;ResultCode is &#39;0&#39;.  The prompt for the user to install the apk is still displayed when the member is invoked.  Once the user presses the install, the message is never handled again.  Here is the code I used (to setbreak points) it seems its invoked once the intent is launched, but I need it to know once the intent is complete.  Or when the install is complete if possible."},{"owner":{"account_id":28215636,"reputation":1,"user_id":21567204,"display_name":"rodger williams"},"score":0,"creation_date":1680640208,"post_id":75933001,"comment_id":133931942,"body_markdown":"&#39;void __fastcall TForm5::HandleActivityMessage(System::TObject* const Sender, \n   System::Messaging::TMessageBase* const M)\n   {\n\tTMessageResultNotification* notify = dynamic_cast&lt;TMessageResultNotification*&gt;(M);\n\tif (!notify)\n\t\treturn;\n\n\tif (notify-&gt;RequestCode == 1234 &amp;&amp; notify-&gt;ResultCode !=0)\n\t{\n\n\t\tTMessageManager::DefaultManager-&gt;Unsubscribe(__classid(TMessageResultNotification), FMessageSubscriptionID);\n\t\tFMessageSubscriptionID = 0;\n\n\t\t// use notify-&gt;Value and notify-&gt;ResultCode as needed...\n\n\t\t// re-enable UI if needed...\n\t\tButton3-&gt;Enabled = true;\n\t}\n}\n/*&#39;","body":"&#39;void __fastcall TForm5::HandleActivityMessage(System::TObject* const Sender,     System::Messaging::TMessageBase* const M)    { \tTMessageResultNotification* notify = dynamic_cast&lt;TMessageResultNotification*&gt;(M); \tif (!notify) \t\treturn;  \tif (notify-&gt;RequestCode == 1234 &amp;&amp; notify-&gt;ResultCode !=0) \t{  \t\tTMessageManager::DefaultManager-&gt;Unsubscribe(__classid(TMe&zwnj;&#8203;ssageResultNotificat&zwnj;&#8203;ion), FMessageSubscriptionID); \t\tFMessageSubscriptionID = 0;  \t\t// use notify-&gt;Value and notify-&gt;ResultCode as needed...  \t\t// re-enable UI if needed... \t\tButton3-&gt;Enabled = true; \t} } /*&#39;"},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1680642762,"post_id":75933001,"comment_id":133932492,"body_markdown":"You are using `FLAG_ACTIVITY_NEW_TASK` on your install `Intent`, so you are getting a result from the act of launching the new task, not a result from the task itself. The Android documentation [clearly states](https://developer.android.com/reference/android/content/Intent#FLAG_ACTIVITY_NEW_TASK): &quot;*This flag [FLAG_ACTIVITY_NEW_TASK] can not be used when the caller is requesting a result from the activity being launched*&quot;, which is exactly what you are trying to do.","body":"You are using <code>FLAG_ACTIVITY_NEW_TASK</code> on your install <code>Intent</code>, so you are getting a result from the act of launching the new task, not a result from the task itself. The Android documentation <a href=\"https://developer.android.com/reference/android/content/Intent#FLAG_ACTIVITY_NEW_TASK\" rel=\"nofollow noreferrer\">clearly states</a>: &quot;<i>This flag [FLAG_ACTIVITY_NEW_TASK] can not be used when the caller is requesting a result from the activity being launched</i>&quot;, which is exactly what you are trying to do."},{"owner":{"account_id":28215636,"reputation":1,"user_id":21567204,"display_name":"rodger williams"},"score":0,"creation_date":1680645349,"post_id":75933001,"comment_id":133932933,"body_markdown":"That was it.   Just remove   //intent-&gt;addFlags(TJIntent::JavaClass-&gt;FLAG_ACTIVITY_NEW_TASK); and presto!  Thank you, remote download working.","body":"That was it.   Just remove   //intent-&gt;addFlags(TJIntent::JavaClass-&gt;FLAG_ACTIVITY_NEW_TA&zwnj;&#8203;SK); and presto!  Thank you, remote download working."},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1680674265,"post_id":75933001,"comment_id":133936020,"body_markdown":"This is also covered in the [`startActivityForResult()`](https://developer.android.com/reference/android/app/Activity#startActivityForResult(android.content.Intent,%20int,%20android.os.Bundle)) doc: &quot;*Note that this method should only be used with Intent protocols that are defined to return a result. In other protocols (such as `Intent#ACTION_MAIN` or `Intent#ACTION_VIEW`), you may not get the result when you expect. **For example, if the activity you are launching uses `Intent#FLAG_ACTIVITY_NEW_TASK` , it will not run in your task and thus you will immediately receive a cancel result**.*&quot;","body":"This is also covered in the <a href=\"https://developer.android.com/reference/android/app/Activity#startActivityForResult(android.content.Intent,%20int,%20android.os.Bundle)\" rel=\"nofollow noreferrer\"><code>startActivityForResult()</code></a> doc: &quot;<i>Note that this method should only be used with Intent protocols that are defined to return a result. In other protocols (such as <code>Intent#ACTION_MAIN</code> or <code>Intent#ACTION_VIEW</code>), you may not get the result when you expect. <b>For example, if the activity you are launching uses <code>Intent#FLAG_ACTIVITY_NEW_TASK</code> , it will not run in your task and thus you will immediately receive a cancel result</b>.</i>&quot;"},{"owner":{"account_id":28215636,"reputation":1,"user_id":21567204,"display_name":"rodger williams"},"score":0,"creation_date":1680737769,"post_id":75933001,"comment_id":133950905,"body_markdown":"Thank you, Remy.  I think I tried the onActivityResult prior to the HandleActivityMessage without the FLAG_ACTIVITY_NEW_TASK originally (so many efforts and easy to forget).  Based all the forum posts I then tried to override it like in Delphi with no effect.  I will go back and try again since I believe it is the preferred method.  Definitely appreciate the ‘intent’ references since I will be using it for IPC between apps.","body":"Thank you, Remy.  I think I tried the onActivityResult prior to the HandleActivityMessage without the FLAG_ACTIVITY_NEW_TASK originally (so many efforts and easy to forget).  Based all the forum posts I then tried to override it like in Delphi with no effect.  I will go back and try again since I believe it is the preferred method.  Definitely appreciate the ‘intent’ references since I will be using it for IPC between apps."},{"owner":{"account_id":28215636,"reputation":1,"user_id":21567204,"display_name":"rodger williams"},"score":0,"creation_date":1680739501,"post_id":75933001,"comment_id":133951079,"body_markdown":"Just FYI for anyone interested, I am developing on version 9.  I think ACTION_PACKAGE_INSTALLED and PackageManager have to be used for anything 11 and above since ACTION_INSTALL_PACKAGE is deprecated.","body":"Just FYI for anyone interested, I am developing on version 9.  I think ACTION_PACKAGE_INSTALLED and PackageManager have to be used for anything 11 and above since ACTION_INSTALL_PACKAGE is deprecated."}],"tags":[],"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680642444,"creation_date":1680635247,"answer_id":75933001,"question_id":75932758,"body_markdown":"Of course you don&#39;t get the events. Your `while` loop is blocking the main UI thread from processing new messages.\r\n\r\nGet rid of the `while` loop altogether, it doesn&#39;t belong in this code. `Intent`s are **asynchronous**, they are meant to run in the background while you move on to other things.  So, you should exit from `Button3Tap()` entirely (disable your UI if you need to), and then let the RTL call your registered callback at a later time when it is ready to do so, at which time you can then continue on with your work (and re-enable your UI) as needed.\r\n\r\nFor example:\r\n\r\n```\r\nvoid __fastcall TForm5::Button3Tap(TObject *Sender,\r\n    const TPointF &amp;Point)\r\n{\r\n    ...\r\n    // Start the activity to install the APK file\r\n    FMessageSubscriptionID = TMessageManager::DefaultManager-&gt;SubscribeToMessage(__classid(TMessageResultNotification), HandleActivityMessage);\r\n    SharedActivity()-&gt;startActivityForResult(intent, 1234);\r\n\r\n    // disable UI if needed...\r\n    // exit here\r\n}\r\n\r\nvoid __fastcall TForm5::HandleActivityMessage(System::TObject* const Sender,\r\n    System::Messaging::TMessageBase* const M)\r\n{\r\n    TMessageResultNotification* notif = dynamic_cast&lt;TMessageResultNotification*&gt;(M);\r\n    if (!notify)\r\n        return;\r\n\r\n    if (notify-&gt;RequestCode == 1234)\r\n    {\r\n        TMessageManager::DefaultManager-&gt;Unsubscribe(__classid(TMessageResultNotification), FMessageSubscriptionID);\r\n        FMessageSubscriptionID = 0;\r\n\r\n        // use notify-&gt;Value and notify-&gt;ResultCode as needed...\r\n\r\n        // re-enable UI if needed...\r\n    }\r\n}\r\n```","title":"onActivityResult not being invoked from startActivityForResult (C++ Builder 11.2)","body":"<p>Of course you don't get the events. Your <code>while</code> loop is blocking the main UI thread from processing new messages.</p>\n<p>Get rid of the <code>while</code> loop altogether, it doesn't belong in this code. <code>Intent</code>s are <strong>asynchronous</strong>, they are meant to run in the background while you move on to other things.  So, you should exit from <code>Button3Tap()</code> entirely (disable your UI if you need to), and then let the RTL call your registered callback at a later time when it is ready to do so, at which time you can then continue on with your work (and re-enable your UI) as needed.</p>\n<p>For example:</p>\n<pre><code>void __fastcall TForm5::Button3Tap(TObject *Sender,\n    const TPointF &amp;Point)\n{\n    ...\n    // Start the activity to install the APK file\n    FMessageSubscriptionID = TMessageManager::DefaultManager-&gt;SubscribeToMessage(__classid(TMessageResultNotification), HandleActivityMessage);\n    SharedActivity()-&gt;startActivityForResult(intent, 1234);\n\n    // disable UI if needed...\n    // exit here\n}\n\nvoid __fastcall TForm5::HandleActivityMessage(System::TObject* const Sender,\n    System::Messaging::TMessageBase* const M)\n{\n    TMessageResultNotification* notif = dynamic_cast&lt;TMessageResultNotification*&gt;(M);\n    if (!notify)\n        return;\n\n    if (notify-&gt;RequestCode == 1234)\n    {\n        TMessageManager::DefaultManager-&gt;Unsubscribe(__classid(TMessageResultNotification), FMessageSubscriptionID);\n        FMessageSubscriptionID = 0;\n\n        // use notify-&gt;Value and notify-&gt;ResultCode as needed...\n\n        // re-enable UI if needed...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28215636,"reputation":1,"user_id":21567204,"display_name":"rodger williams"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680642444,"creation_date":1680633405,"question_id":75932758,"body_markdown":"I am creating an Android app in C++Builder, which installs an APK and then restarts the app that was installed.\r\n\r\nI am able to do both on our tablet (trucking application) individually.  However, since the install requires user confirmation, this may take a while.  The problem is that I want the `Intent` to complete with a result before I start the application.\r\n\r\nBelow is the main code, which invokes the APK install `Intent` and the method `onActivityResult()` which allows me to get out of the `while` loop.  However, I never actually get out of the `while` loop.\r\n\r\nI have seen Delphi code that will override `onActivityResult()`, but I can&#39;t seem to get C++Builder to allow me to override the member function.\r\n\r\nPlease excuse the multiple commented out code, they were approaches I tried but did not work, either.  I left the `messageManager` code in also, but the message handler never gets invoked, either.\r\n\r\n```c++\r\nvoid __fastcall TForm5::Button3Tap(TObject *Sender, const TPointF &amp;Point)\r\n{\r\n\t//GetDirs();     Works, so comment out for now to concentrate on intent function\r\n\tUnicodeString filePath = \r\n       &quot;/storage/emulated/0/Android/data/com.embarcadero.Immixt/files/Download/Immixt.apk&quot;;\r\n\r\n\tif (TFile::Exists(filePath)) {\r\n\r\n\t\t_di_JContext Context = TAndroidHelper::Context;\r\n\r\n\t\t// Create the intent to install the APK file\r\n\t\t// Set the path to the APK file in the app&#39;s data directory\r\n\t\t_di_JString ApkFilePath = StringToJString(filePath);\r\n\t\tUnicodeString mimeType = &quot;application/vnd.android.package-archive&quot;;\r\n\t\t_di_JString mimeType1 = StringToJString(mimeType);\r\n\r\n\t\t// Create the intent to install the APK file\r\n\t\tintent = TJIntent::JavaClass-&gt;init();\r\n\t\tintent-&gt;setAction(TJIntent::JavaClass-&gt;ACTION_INSTALL_PACKAGE);\r\n\r\n\t\t//intent-&gt;setAction(TJIntent::JavaClass-&gt;ACTION_INSTALL_PACKAGE);\r\n\t\tintent-&gt;addFlags(TJIntent::JavaClass-&gt;FLAG_ACTIVITY_NEW_TASK);\r\n\t\tintent-&gt;addFlags(TJIntent::JavaClass-&gt;FLAG_GRANT_READ_URI_PERMISSION);\r\n\t\tintent-&gt;addFlags(TJIntent::JavaClass-&gt;FLAG_GRANT_WRITE_URI_PERMISSION);\r\n\t\tintent-&gt;putExtra(TJIntent::JavaClass-&gt;EXTRA_NOT_UNKNOWN_SOURCE, true);\r\n\t\tintent-&gt;putExtra(TJIntent::JavaClass-&gt;EXTRA_RETURN_RESULT, true);\r\n\r\n\t\t_di_Jnet_Uri Uri1;\r\n\t\t_di_JFile APKFile = TJFile::JavaClass-&gt;init(ApkFilePath);\r\n\t\ttry {\r\n\t\t   Uri1 = TAndroidHelper::JFileToJURI(APKFile);\r\n\t\t} catch (const Exception&amp; e) {\r\n\t\t\t//CLog::d(TAG, e);\r\n\t\t\t_di_Jnet_Uri Uri1 = TJnet_Uri::JavaClass-&gt;parse(ApkFilePath);\r\n\t\t}\r\n\r\n\t\t//_di_Jnet_Uri Uri1 = TJnet_Uri::JavaClass-&gt;parse(ApkFilePath);\r\n\t\tintent-&gt;setDataAndType(Uri1, mimeType1);\r\n\r\n\t\t// Start the activity to install the APK file\r\n\t\tactivityResult = -1;\r\n\t\t//Context-&gt;startActivity(intent);\r\n\t\tFMessageSubscriptionID = TMessageManager::DefaultManager-&gt;SubscribeToMessage(__classid(TMessageResultNotification), HandleActivityMessage);\r\n\t\t//TAndroidHelper::OnActivityResult = &amp;onActivityResult;\r\n\t\t//TAndroidHelper::Activity-&gt;startActivityForResult(intent, 0);\r\n\t\tSharedActivity()-&gt;startActivityForResult(intent, 1234);\r\n\r\n\t\t/*\r\n\t\tTAndroidHelper::Activity-&gt;startActivityForResult(intent, 1234,\r\n\t\t[this](int requestCode, int resultCode, _di_JIntent data)\r\n\t\t{\r\n\t\t\tForm5-&gt;onActivityResult(requestCode, resultCode, data);\r\n\t\t});\r\n\t\t*/\r\n\r\n\t\twhile (activityResult == -1)\r\n\t\t{\r\n\t\t\tSleep(100);\r\n\t\t}\r\n\t\t// Wait for the activity to complete\r\n\t}\r\n\r\n/---------------------------------------------------------------------------------------\r\n\r\nvoid onActivityResult(int i, int i1, Androidapi::Jni::Graphicscontentviewtext::_di_JIntent intent)\r\n{\r\n\tTMessageManager::DefaultManager-&gt;Unsubscribe(__classid(TMessageResultNotification), Form5-&gt;FMessageSubscriptionID);\r\n\tForm5-&gt;FMessageSubscriptionID = 0;\r\n\r\n\t// For more info see https://github.com/zxing/zxing/wiki/Scanning-Via-Intent\r\n\tif (i == 1234)\r\n\t{\r\n\t\tif (i1 == TJActivity::JavaClass-&gt;RESULT_OK)\r\n\t\t{\r\n\t\t\tForm5-&gt;activityResult =0;\r\n\t\t}\r\n\t\telse if (i1 == TJActivity::JavaClass-&gt;RESULT_CANCELED)\r\n\t\t{\r\n\t\t\tForm5-&gt;activityResult =0;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI am expecting the following code to wait until `activityResult` is changed to exit the `while` loop.  `activityResult` is modified in the `onActivityResult` event, which should be called by `SharedActivity()-&gt;startActivityForResult(intent, 1234)` according to all the documentation.  But it never does.","title":"onActivityResult not being invoked from startActivityForResult (C++ Builder 11.2)","body":"<p>I am creating an Android app in C++Builder, which installs an APK and then restarts the app that was installed.</p>\n<p>I am able to do both on our tablet (trucking application) individually.  However, since the install requires user confirmation, this may take a while.  The problem is that I want the <code>Intent</code> to complete with a result before I start the application.</p>\n<p>Below is the main code, which invokes the APK install <code>Intent</code> and the method <code>onActivityResult()</code> which allows me to get out of the <code>while</code> loop.  However, I never actually get out of the <code>while</code> loop.</p>\n<p>I have seen Delphi code that will override <code>onActivityResult()</code>, but I can't seem to get C++Builder to allow me to override the member function.</p>\n<p>Please excuse the multiple commented out code, they were approaches I tried but did not work, either.  I left the <code>messageManager</code> code in also, but the message handler never gets invoked, either.</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>void __fastcall TForm5::Button3Tap(TObject *Sender, const TPointF &amp;Point)\n{\n    //GetDirs();     Works, so comment out for now to concentrate on intent function\n    UnicodeString filePath = \n       &quot;/storage/emulated/0/Android/data/com.embarcadero.Immixt/files/Download/Immixt.apk&quot;;\n\n    if (TFile::Exists(filePath)) {\n\n        _di_JContext Context = TAndroidHelper::Context;\n\n        // Create the intent to install the APK file\n        // Set the path to the APK file in the app's data directory\n        _di_JString ApkFilePath = StringToJString(filePath);\n        UnicodeString mimeType = &quot;application/vnd.android.package-archive&quot;;\n        _di_JString mimeType1 = StringToJString(mimeType);\n\n        // Create the intent to install the APK file\n        intent = TJIntent::JavaClass-&gt;init();\n        intent-&gt;setAction(TJIntent::JavaClass-&gt;ACTION_INSTALL_PACKAGE);\n\n        //intent-&gt;setAction(TJIntent::JavaClass-&gt;ACTION_INSTALL_PACKAGE);\n        intent-&gt;addFlags(TJIntent::JavaClass-&gt;FLAG_ACTIVITY_NEW_TASK);\n        intent-&gt;addFlags(TJIntent::JavaClass-&gt;FLAG_GRANT_READ_URI_PERMISSION);\n        intent-&gt;addFlags(TJIntent::JavaClass-&gt;FLAG_GRANT_WRITE_URI_PERMISSION);\n        intent-&gt;putExtra(TJIntent::JavaClass-&gt;EXTRA_NOT_UNKNOWN_SOURCE, true);\n        intent-&gt;putExtra(TJIntent::JavaClass-&gt;EXTRA_RETURN_RESULT, true);\n\n        _di_Jnet_Uri Uri1;\n        _di_JFile APKFile = TJFile::JavaClass-&gt;init(ApkFilePath);\n        try {\n           Uri1 = TAndroidHelper::JFileToJURI(APKFile);\n        } catch (const Exception&amp; e) {\n            //CLog::d(TAG, e);\n            _di_Jnet_Uri Uri1 = TJnet_Uri::JavaClass-&gt;parse(ApkFilePath);\n        }\n\n        //_di_Jnet_Uri Uri1 = TJnet_Uri::JavaClass-&gt;parse(ApkFilePath);\n        intent-&gt;setDataAndType(Uri1, mimeType1);\n\n        // Start the activity to install the APK file\n        activityResult = -1;\n        //Context-&gt;startActivity(intent);\n        FMessageSubscriptionID = TMessageManager::DefaultManager-&gt;SubscribeToMessage(__classid(TMessageResultNotification), HandleActivityMessage);\n        //TAndroidHelper::OnActivityResult = &amp;onActivityResult;\n        //TAndroidHelper::Activity-&gt;startActivityForResult(intent, 0);\n        SharedActivity()-&gt;startActivityForResult(intent, 1234);\n\n        /*\n        TAndroidHelper::Activity-&gt;startActivityForResult(intent, 1234,\n        [this](int requestCode, int resultCode, _di_JIntent data)\n        {\n            Form5-&gt;onActivityResult(requestCode, resultCode, data);\n        });\n        */\n\n        while (activityResult == -1)\n        {\n            Sleep(100);\n        }\n        // Wait for the activity to complete\n    }\n\n/---------------------------------------------------------------------------------------\n\nvoid onActivityResult(int i, int i1, Androidapi::Jni::Graphicscontentviewtext::_di_JIntent intent)\n{\n    TMessageManager::DefaultManager-&gt;Unsubscribe(__classid(TMessageResultNotification), Form5-&gt;FMessageSubscriptionID);\n    Form5-&gt;FMessageSubscriptionID = 0;\n\n    // For more info see https://github.com/zxing/zxing/wiki/Scanning-Via-Intent\n    if (i == 1234)\n    {\n        if (i1 == TJActivity::JavaClass-&gt;RESULT_OK)\n        {\n            Form5-&gt;activityResult =0;\n        }\n        else if (i1 == TJActivity::JavaClass-&gt;RESULT_CANCELED)\n        {\n            Form5-&gt;activityResult =0;\n        }\n    }\n}\n</code></pre>\n<p>I am expecting the following code to wait until <code>activityResult</code> is changed to exit the <code>while</code> loop.  <code>activityResult</code> is modified in the <code>onActivityResult</code> event, which should be called by <code>SharedActivity()-&gt;startActivityForResult(intent, 1234)</code> according to all the documentation.  But it never does.</p>\n"},{"tags":["java","selenium-webdriver","webdriver"],"answers":[{"comments":[{"owner":{"account_id":283141,"reputation":855,"user_id":580490,"accept_rate":82,"display_name":"ducati1212"},"score":0,"creation_date":1331135322,"post_id":9604538,"comment_id":12183988,"body_markdown":"ahh that makes sense it just seemed like it should have worked so I never really dug to deep.  My fault.  Thank you","body":"ahh that makes sense it just seemed like it should have worked so I never really dug to deep.  My fault.  Thank you"},{"owner":{"account_id":58398,"reputation":8467,"user_id":174843,"display_name":"Vince Bowdren"},"score":0,"creation_date":1367319184,"post_id":9604538,"comment_id":23331061,"body_markdown":"Note: if you include the Select declaration and cast in your class, just below the private WebElement declaration, you will get runtime errors when the class is instantiated; to avoid this, you can put the Select declaration and class in the method which does the interaction with the screen control. Again not ideal, but it does seem to work.","body":"Note: if you include the Select declaration and cast in your class, just below the private WebElement declaration, you will get runtime errors when the class is instantiated; to avoid this, you can put the Select declaration and class in the method which does the interaction with the screen control. Again not ideal, but it does seem to work."},{"owner":{"account_id":2305398,"reputation":671,"user_id":2024780,"accept_rate":80,"display_name":"rrw"},"score":0,"creation_date":1458175516,"post_id":9604538,"comment_id":59747622,"body_markdown":"with this approach, the pageobjects should be initialized after the page has fully loaded and that the object is present and visible in the driver. To have it proxied, take a look at [my implementation](http://stackoverflow.com/questions/35931667/select-object-on-seleniums-pagefactory/36004572#36004572)","body":"with this approach, the pageobjects should be initialized after the page has fully loaded and that the object is present and visible in the driver. To have it proxied, take a look at <a href=\"http://stackoverflow.com/questions/35931667/select-object-on-seleniums-pagefactory/36004572#36004572\">my implementation</a>"}],"tags":[],"owner":{"account_id":456728,"reputation":14328,"user_id":855636,"accept_rate":94,"display_name":"Pavel Janicek"},"comment_count":3,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1445281815,"creation_date":1331135046,"answer_id":9604538,"question_id":9604336,"body_markdown":"Thats because the `Select` class has this constructor:\r\n\r\n    Select(WebElement element)\r\n\r\nSee the [Javadoc][1]\r\n\r\nSo if you do something like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @FindBy(id=&quot;foo&quot;)\r\n    private WebElement wannabeSelect;\r\n    Select realSelect = new Select(wannabeSelect);\r\n    realSelect.selectByValue(&quot;myValue&quot;);\r\n\r\nIt should work. \r\n\r\nBTW, I am using the same approach as you in the &quot;workaround&quot; because I dont wanna cast new WebElement object when I need Select object. But anyways, the\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    sDriver.findElement(By.id(&quot;foo&quot;));\r\n\r\nreturns `WebElement`, so thats why its working. You can also do this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n     WebElement wannabeSelect = sDriver.findElement(By.id(&quot;foo&quot;));\r\n     Select foo = new Select(wannabeSelect);\r\n\r\n\r\n  [1]: http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/support/ui/Select.html","title":"selenium webdriver select element","body":"<p>Thats because the <code>Select</code> class has this constructor:</p>\n\n<pre><code>Select(WebElement element)\n</code></pre>\n\n<p>See the <a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/support/ui/Select.html\">Javadoc</a></p>\n\n<p>So if you do something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@FindBy(id=\"foo\")\nprivate WebElement wannabeSelect;\nSelect realSelect = new Select(wannabeSelect);\nrealSelect.selectByValue(\"myValue\");\n</code></pre>\n\n<p>It should work. </p>\n\n<p>BTW, I am using the same approach as you in the \"workaround\" because I dont wanna cast new WebElement object when I need Select object. But anyways, the</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>sDriver.findElement(By.id(\"foo\"));\n</code></pre>\n\n<p>returns <code>WebElement</code>, so thats why its working. You can also do this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code> WebElement wannabeSelect = sDriver.findElement(By.id(\"foo\"));\n Select foo = new Select(wannabeSelect);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2617538,"reputation":2337,"user_id":2266295,"accept_rate":70,"display_name":"dmeehan"},"score":0,"creation_date":1409647607,"post_id":22333454,"comment_id":40023842,"body_markdown":"and select.selectByIndex(intValue)","body":"and select.selectByIndex(intValue)"}],"tags":[],"owner":{"account_id":3297207,"reputation":31,"user_id":2774200,"display_name":"Ajith Moni"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394563582,"creation_date":1394562401,"answer_id":22333454,"question_id":9604336,"body_markdown":"There are two ways to select the option value:\r\n\r\nOne:&lt;br/&gt;\r\n\r\n    // Denotes option value - technical name\r\n    select.selectByValue(fieldValue);       \r\n\r\nTwo:&lt;br/&gt;\r\n\r\n    // Denotes option text that is actually visible to be selected\r\n    select.selectByVisibleText(fieldValue);","title":"selenium webdriver select element","body":"<p>There are two ways to select the option value:</p>\n\n<p>One:<br/></p>\n\n<pre><code>// Denotes option value - technical name\nselect.selectByValue(fieldValue);       \n</code></pre>\n\n<p>Two:<br/></p>\n\n<pre><code>// Denotes option text that is actually visible to be selected\nselect.selectByVisibleText(fieldValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5814859,"reputation":11,"user_id":4584841,"display_name":"Satish"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669563179,"creation_date":1424364185,"answer_id":28611935,"question_id":9604336,"body_markdown":"Other way I achieved this is by using below method for all my onchange dropdownselection boxes. Pass id and selection and it works\r\n\r\n    public void onchangedropdownselection(String object, String value) {\r\n            WebElement obj = driver.findElement(By.id(object));\r\n            obj.sendKeys(value);\r\n            obj.sendKeys(Keys.UP);\r\n            obj.sendKeys(Keys.DOWN);\r\n        }\r\n\r\nBy doing up and down we are initialzing the script onchange.......\r\n","title":"selenium webdriver select element","body":"<p>Other way I achieved this is by using below method for all my onchange dropdownselection boxes. Pass id and selection and it works</p>\n<pre><code>public void onchangedropdownselection(String object, String value) {\n        WebElement obj = driver.findElement(By.id(object));\n        obj.sendKeys(value);\n        obj.sendKeys(Keys.UP);\n        obj.sendKeys(Keys.DOWN);\n    }\n</code></pre>\n<p>By doing up and down we are initialzing the script onchange.......</p>\n"}],"owner":{"account_id":283141,"reputation":855,"user_id":580490,"accept_rate":82,"display_name":"ducati1212"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67418,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":9604538,"answer_count":3,"score":11,"last_activity_date":1680642425,"creation_date":1331134292,"question_id":9604336,"body_markdown":"I have a select control on my site.  I am using page objects to interact with the page.  If I do (with the first 2 lines under my class and the `selectByValue` in my method)\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @FindBy(id=&quot;foo&quot;)\r\n    private Select foo;\r\n\r\n    foo.selectByValue(&quot;myValue&quot;);\r\n\r\nIt fails with a null pointer.  I also tried without the `@FindBy`.\r\n\r\nNow if I do this in my method it all works fine and selects the correct item\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Select foo = new Select(sDriver.findElement(By.id(&quot;foo&quot;)));\r\n\tfoo.selectByValue(&quot;myValue&quot;);\r\n\r\nHere is the actual web snippet for that control (edited to protect the innocent)\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;select id=&quot;foo&quot; name=&quot;service_name&quot;&gt;\r\n        &lt;option selected=&quot;selected&quot; value=&quot;one&quot;&gt;one&lt;/option&gt;\r\n        &lt;option value=&quot;two&quot;&gt;two&lt;/option&gt;\r\n        &lt;option value=&quot;three&quot;&gt;three&lt;/option&gt;\r\n    &lt;/select&gt;\r\n\r\nLet me say that I have a work around for my issue **but** I don&#39;t get why the &quot;*normal*&quot; path is not working. \r\n","title":"selenium webdriver select element","body":"<p>I have a select control on my site.  I am using page objects to interact with the page.  If I do (with the first 2 lines under my class and the <code>selectByValue</code> in my method)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@FindBy(id=\"foo\")\nprivate Select foo;\n\nfoo.selectByValue(\"myValue\");\n</code></pre>\n\n<p>It fails with a null pointer.  I also tried without the <code>@FindBy</code>.</p>\n\n<p>Now if I do this in my method it all works fine and selects the correct item</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Select foo = new Select(sDriver.findElement(By.id(\"foo\")));\nfoo.selectByValue(\"myValue\");\n</code></pre>\n\n<p>Here is the actual web snippet for that control (edited to protect the innocent)</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;select id=\"foo\" name=\"service_name\"&gt;\n    &lt;option selected=\"selected\" value=\"one\"&gt;one&lt;/option&gt;\n    &lt;option value=\"two\"&gt;two&lt;/option&gt;\n    &lt;option value=\"three\"&gt;three&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Let me say that I have a work around for my issue <strong>but</strong> I don't get why the \"<em>normal</em>\" path is not working. </p>\n"},{"tags":["java","spring","spring-boot","mapstruct","mapper"],"comments":[{"owner":{"account_id":25435554,"reputation":135,"user_id":19239331,"display_name":"Gun Slinger"},"score":0,"creation_date":1665661529,"post_id":74054723,"comment_id":130754600,"body_markdown":"are you sure you have added the dependencies?","body":"are you sure you have added the dependencies?"}],"answers":[{"tags":[],"owner":{"account_id":26564177,"reputation":36,"user_id":20191548,"display_name":"AbhishekVinayak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665661315,"creation_date":1665661315,"answer_id":74055172,"question_id":74054723,"body_markdown":"I replicated the same it is working fine for me with dot operator. Maybe try adding the annotationProcessorPaths section to the configuration part of the maven-compiler-plugin plugin present in the baeldung [document][1] \r\n\r\nThis plugin given in the document:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;annotationProcessorPaths&gt;\r\n                &lt;path&gt;\r\n                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n                &lt;/path&gt;\r\n            &lt;/annotationProcessorPaths&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nTry if it helps\r\n\r\n  [1]: https://www.baeldung.com/mapstruct","title":"Can&#39;t find related Attribute using Mapstruct Spring Boot","body":"<p>I replicated the same it is working fine for me with dot operator. Maybe try adding the annotationProcessorPaths section to the configuration part of the maven-compiler-plugin plugin present in the baeldung <a href=\"https://www.baeldung.com/mapstruct\" rel=\"nofollow noreferrer\">document</a></p>\n<p>This plugin given in the document:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.5.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;1.4.2.Final&lt;/version&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Try if it helps</p>\n"},{"comments":[{"owner":{"account_id":13301008,"reputation":73,"user_id":9602528,"display_name":"XuBo"},"score":0,"creation_date":1678907168,"post_id":74055258,"comment_id":133626040,"body_markdown":"DTO is not an Entity.","body":"DTO is not an Entity."}],"tags":[],"owner":{"account_id":25435554,"reputation":135,"user_id":19239331,"display_name":"Gun Slinger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665661745,"creation_date":1665661745,"answer_id":74055258,"question_id":74054723,"body_markdown":"put @Entity above Employee and EmployeeDTO class","title":"Can&#39;t find related Attribute using Mapstruct Spring Boot","body":"<p>put @Entity above Employee and EmployeeDTO class</p>\n"},{"tags":[],"owner":{"account_id":26562047,"reputation":61,"user_id":20189731,"display_name":"mildgrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665662136,"creation_date":1665662136,"answer_id":74055350,"question_id":74054723,"body_markdown":"don&#39;t forget to use @Data on the EmployeeDTO class and @Entity on Employee class","title":"Can&#39;t find related Attribute using Mapstruct Spring Boot","body":"<p>don't forget to use @Data on the EmployeeDTO class and @Entity on Employee class</p>\n"},{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680642174,"creation_date":1680560037,"answer_id":75924129,"question_id":74054723,"body_markdown":"Usually, `&lt;parameter&gt;.&lt;field&gt;` should be used when there are multiple mapping sources to refer to the right parameter. But field names can be used directly when the mapping method has only one source parameter.\r\n\r\nThere is a plugin for IntelliJ, [Mapstruct Support][1], which provides code completion and other features for projects that use Mapstruct. After installing it, the `Can&#39;t find related attribute` error no longer appears in my case.\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/10036-mapstruct-support","title":"Can&#39;t find related Attribute using Mapstruct Spring Boot","body":"<p>Usually, <code>&lt;parameter&gt;.&lt;field&gt;</code> should be used when there are multiple mapping sources to refer to the right parameter. But field names can be used directly when the mapping method has only one source parameter.</p>\n<p>There is a plugin for IntelliJ, <a href=\"https://plugins.jetbrains.com/plugin/10036-mapstruct-support\" rel=\"nofollow noreferrer\">Mapstruct Support</a>, which provides code completion and other features for projects that use Mapstruct. After installing it, the <code>Can't find related attribute</code> error no longer appears in my case.</p>\n"}],"owner":{"account_id":15317666,"reputation":87,"user_id":11051112,"display_name":"amangupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1371,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1680642174,"creation_date":1665659051,"question_id":74054723,"body_markdown":"I am following the following document for implementing a mapper interface:\r\n[MapStruct- Baeldung][1] for Employee and EmployeeDTO.\r\n\r\nHere is my Employee Class:\r\n\r\n    public class Employee {\r\n    private int id;\r\n    private String name;\r\n    // getters and setters\r\n    }\r\nHere is my EmployeeDTO class:\r\n\r\n    public class EmployeeDTO {\r\n    private int employeeId;\r\n    private String employeeName;\r\n    // getters and setters\r\n    }\r\n\r\nHere is my Mapper code:\r\n    \r\n    @Mapper\r\n    public interface EmployeeMapper {\r\n    @Mapping(target=&quot;employeeId&quot;, source=&quot;entity.id&quot;)\r\n    @Mapping(target=&quot;employeeName&quot;, source=&quot;entity.name&quot;)\r\n    EmployeeDTO employeeToEmployeeDTO(Employee entity);\r\n\r\n    @Mapping(target=&quot;id&quot;, source=&quot;dto.employeeId&quot;)\r\n    @Mapping(target=&quot;name&quot;, source=&quot;dto.employeeName&quot;)\r\n    Employee employeeDTOtoEmployee(EmployeeDTO dto);\r\n    }\r\n\r\nI am getting &quot;**Can&#39;t find related attribute**&quot; by hovering over entity.id. entity.name, dto.employeeId and dto.employeeName.\r\n\r\nWhy is it so? It is working fine if I am removing the dot operation on entity and dto and just writing the fields name.\r\n\r\n  [1]: https://www.baeldung.com/mapstruct","title":"Can&#39;t find related Attribute using Mapstruct Spring Boot","body":"<p>I am following the following document for implementing a mapper interface:\n<a href=\"https://www.baeldung.com/mapstruct\" rel=\"nofollow noreferrer\">MapStruct- Baeldung</a> for Employee and EmployeeDTO.</p>\n<p>Here is my Employee Class:</p>\n<pre><code>public class Employee {\nprivate int id;\nprivate String name;\n// getters and setters\n}\n</code></pre>\n<p>Here is my EmployeeDTO class:</p>\n<pre><code>public class EmployeeDTO {\nprivate int employeeId;\nprivate String employeeName;\n// getters and setters\n}\n</code></pre>\n<p>Here is my Mapper code:</p>\n<pre><code>@Mapper\npublic interface EmployeeMapper {\n@Mapping(target=&quot;employeeId&quot;, source=&quot;entity.id&quot;)\n@Mapping(target=&quot;employeeName&quot;, source=&quot;entity.name&quot;)\nEmployeeDTO employeeToEmployeeDTO(Employee entity);\n\n@Mapping(target=&quot;id&quot;, source=&quot;dto.employeeId&quot;)\n@Mapping(target=&quot;name&quot;, source=&quot;dto.employeeName&quot;)\nEmployee employeeDTOtoEmployee(EmployeeDTO dto);\n}\n</code></pre>\n<p>I am getting &quot;<strong>Can't find related attribute</strong>&quot; by hovering over entity.id. entity.name, dto.employeeId and dto.employeeName.</p>\n<p>Why is it so? It is working fine if I am removing the dot operation on entity and dto and just writing the fields name.</p>\n"},{"tags":["java","android","android-studio","debugging"],"comments":[{"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"score":1,"creation_date":1625064608,"post_id":68195944,"comment_id":120529121,"body_markdown":"Do you set your build variant to Debug ?","body":"Do you set your build variant to Debug ?"},{"owner":{"account_id":13635948,"reputation":21,"user_id":9836975,"display_name":"hamed ahmadi"},"score":0,"creation_date":1625067862,"post_id":68195944,"comment_id":120530746,"body_markdown":"yes i do that .","body":"yes i do that ."}],"answers":[{"comments":[{"owner":{"account_id":17253839,"reputation":1872,"user_id":15298643,"display_name":"javdromero"},"score":0,"creation_date":1625061339,"post_id":68196119,"comment_id":120527466,"body_markdown":"Also, if you are using a physical device check that it has USB debugging enabled and authorized","body":"Also, if you are using a physical device check that it has USB debugging enabled and authorized"},{"owner":{"account_id":13635948,"reputation":21,"user_id":9836975,"display_name":"hamed ahmadi"},"score":0,"creation_date":1625062115,"post_id":68196119,"comment_id":120527873,"body_markdown":"i can not attach debugger when i wanna to choose process the &quot;ok&quot; button is deactive","body":"i can not attach debugger when i wanna to choose process the &quot;ok&quot; button is deactive"},{"owner":{"account_id":11365477,"reputation":653,"user_id":8332511,"display_name":"Noban Hasan"},"score":0,"creation_date":1625067072,"post_id":68196119,"comment_id":120530280,"body_markdown":"First you have to run the app then you can Attach debugger.","body":"First you have to run the app then you can Attach debugger."},{"owner":{"account_id":13635948,"reputation":21,"user_id":9836975,"display_name":"hamed ahmadi"},"score":0,"creation_date":1625068016,"post_id":68196119,"comment_id":120530820,"body_markdown":"i run app right now but cannot attach debugger","body":"i run app right now but cannot attach debugger"},{"owner":{"account_id":3404352,"reputation":890,"user_id":2855810,"display_name":"Ergin Ersoy"},"score":0,"creation_date":1625068350,"post_id":68196119,"comment_id":120530979,"body_markdown":"when process dialog popup you need to select your app&#39;s process, then &quot;Ok&quot; button will be activated.","body":"when process dialog popup you need to select your app&#39;s process, then &quot;Ok&quot; button will be activated."}],"tags":[],"owner":{"account_id":3404352,"reputation":890,"user_id":2855810,"display_name":"Ergin Ersoy"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625061094,"creation_date":1625061094,"answer_id":68196119,"question_id":68195944,"body_markdown":"[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l8Hot.jpg\r\n\r\nYou can use \r\n\r\n    Attach Debugger to Android Process","title":"I can run my app but cannot debug it via android studio","body":"<p><a href=\"https://i.stack.imgur.com/l8Hot.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l8Hot.jpg\" alt=\"\" /></a></p>\n<p>You can use</p>\n<pre><code>Attach Debugger to Android Process\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15922516,"reputation":490,"user_id":11489088,"display_name":"petestmart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680641328,"creation_date":1680641328,"answer_id":75933734,"question_id":68195944,"body_markdown":"I had this issue.\r\n\r\nSolution\r\n--------\r\nUsing a laptop, make sure the USB connection is going straight from the device to the computer.\r\n\r\nI had a multi-USB port that appears to have been preventing the debugger from attaching to the process.  There may be ports and adapters rated to handle this type of process, but mine is not.","title":"I can run my app but cannot debug it via android studio","body":"<p>I had this issue.</p>\n<h2>Solution</h2>\n<p>Using a laptop, make sure the USB connection is going straight from the device to the computer.</p>\n<p>I had a multi-USB port that appears to have been preventing the debugger from attaching to the process.  There may be ports and adapters rated to handle this type of process, but mine is not.</p>\n"}],"owner":{"account_id":13635948,"reputation":21,"user_id":9836975,"display_name":"hamed ahmadi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1471,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680641328,"creation_date":1625060492,"question_id":68195944,"body_markdown":"In my test project, I can run my application but cannot debug it, when I run my app the `apply changes and restart activity` button and `apply code changes` are disabled and `report app` not detected.\r\n\r\nAnd in the application window it shows a dialog with below message \r\n\r\n`application .... is waiting for the debugger to attach.`\r\n\r\nI tried following:\r\n\r\n - select app to be debugged \r\n - `android:debuggable=&quot;true&quot;` in manifest \r\n -  In build\r\n    \r\n        debug\r\n        {\r\n            debuggable true\r\n        }\r\n - tried adb kill server and restart it \r\n\r\n[Issue snapshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JBFXb.png","title":"I can run my app but cannot debug it via android studio","body":"<p>In my test project, I can run my application but cannot debug it, when I run my app the <code>apply changes and restart activity</code> button and <code>apply code changes</code> are disabled and <code>report app</code> not detected.</p>\n<p>And in the application window it shows a dialog with below message</p>\n<p><code>application .... is waiting for the debugger to attach.</code></p>\n<p>I tried following:</p>\n<ul>\n<li><p>select app to be debugged</p>\n</li>\n<li><p><code>android:debuggable=&quot;true&quot;</code> in manifest</p>\n</li>\n<li><p>In build</p>\n<pre><code>debug\n{\n    debuggable true\n}\n</code></pre>\n</li>\n<li><p>tried adb kill server and restart it</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/JBFXb.png\" rel=\"nofollow noreferrer\">Issue snapshot</a></p>\n"},{"tags":["java","ldap","tivoli"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1481886683,"post_id":41179232,"comment_id":69565775,"body_markdown":"So you aren&#39;t using [tag:OpenLDAP] at all, you are using an IBM product? Don&#39;t tag indiscriminately.","body":"So you aren&#39;t using <a href=\"https://stackoverflow.com/questions/tagged/openldap\">openldap</a> at all, you are using an IBM product? Don&#39;t tag indiscriminately."}],"answers":[{"comments":[{"owner":{"account_id":4589021,"reputation":2784,"user_id":3722884,"accept_rate":42,"display_name":"SimpleGuy"},"score":0,"creation_date":1481878351,"post_id":41179588,"comment_id":69560821,"body_markdown":"I am on a LDAP system, and it does set `pwdReset` to true, when I (as admin) is resetting user&#39;s password. I tried your code, but it gives same exception","body":"I am on a LDAP system, and it does set <code>pwdReset</code> to true, when I (as admin) is resetting user&#39;s password. I tried your code, but it gives same exception"},{"owner":{"account_id":4589021,"reputation":2784,"user_id":3722884,"accept_rate":42,"display_name":"SimpleGuy"},"score":0,"creation_date":1481878422,"post_id":41179588,"comment_id":69560856,"body_markdown":"I added screenshot","body":"I added screenshot"},{"owner":{"account_id":4589021,"reputation":2784,"user_id":3722884,"accept_rate":42,"display_name":"SimpleGuy"},"score":0,"creation_date":1481879438,"post_id":41179588,"comment_id":69561445,"body_markdown":"Btw, i believe, that in your case OpenLDAP was not doing anything coz password policy wasn&#39;t enabled","body":"Btw, i believe, that in your case OpenLDAP was not doing anything coz password policy wasn&#39;t enabled"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1481886147,"post_id":41179588,"comment_id":69565451,"body_markdown":"The password policy overlay in my system has been enabled for six years. I am changing the password with the extended password-modify operation.","body":"The password policy overlay in my system has been enabled for six years. I am changing the password with the extended password-modify operation."},{"owner":{"account_id":4589021,"reputation":2784,"user_id":3722884,"accept_rate":42,"display_name":"SimpleGuy"},"score":0,"creation_date":1481886238,"post_id":41179588,"comment_id":69565509,"body_markdown":"then I am not sure why it isn&#39;t setting `pwdReset` to `true` in my case... coz it is setting it to `true` in my case..","body":"then I am not sure why it isn&#39;t setting <code>pwdReset</code> to <code>true</code> in my case... coz it is setting it to <code>true</code> in my case.."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1481886304,"post_id":41179588,"comment_id":69565553,"body_markdown":"Can you post your actual policy in your question, and also your code for changing the password?","body":"Can you post your actual policy in your question, and also your code for changing the password?"},{"owner":{"account_id":4589021,"reputation":2784,"user_id":3722884,"accept_rate":42,"display_name":"SimpleGuy"},"score":0,"creation_date":1481886371,"post_id":41179588,"comment_id":69565594,"body_markdown":"The code is the one in the question.. what do you mean by `actual policy` ?","body":"The code is the one in the question.. what do you mean by <code>actual policy</code> ?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1481886417,"post_id":41179588,"comment_id":69565622,"body_markdown":"I mean the content of the `pwdPolicy` entry: the settings of all the policy variables, e.g. `pwdMustChange`. I don&#39;t see any actual real code for changing the password.","body":"I mean the content of the <code>pwdPolicy</code> entry: the settings of all the policy variables, e.g. <code>pwdMustChange</code>. I don&#39;t see any actual real code for changing the password."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1481886751,"post_id":41179588,"comment_id":69565820,"body_markdown":"But still not with the change-password code. But it all seems to be irrelevant as you aren&#39;t using OpenLDAP, despite your tag, and I am.","body":"But still not with the change-password code. But it all seems to be irrelevant as you aren&#39;t using OpenLDAP, despite your tag, and I am."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1481886929,"post_id":41179588,"comment_id":69565930,"body_markdown":"**So why the [tag:openldap] tag?** I&#39;ve wasted a lot of time here assuming we were using the same LDAP server. We aren&#39;t.","body":"<b>So why the <a href=\"https://stackoverflow.com/questions/tagged/openldap\">openldap</a> tag?</b> I&#39;ve wasted a lot of time here assuming we were using the same LDAP server. We aren&#39;t."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680641007,"creation_date":1481874572,"answer_id":41179588,"question_id":41179232,"body_markdown":"I&#39;ve just spent two weeks proving to myself that OpenLDAP doesn&#39;t actually do step #5 at all, despite what the wording of the RFC draft appears to mean. I also found a message in the OpenLDAP Mail archives confirming that they think it isn&#39;t supposed to do that. So what is happening is that there is no `pwdReset` attribute to set to false, so you&#39;re getting a schema violation trying to *add* it with that value. So, all you have to do is nothing.\r\n\r\nIt would probably be safer just to set `pwdReset` to null, which removes it completely, or just remove it with `DirContext.REMOVE_ATTRIBUTE`. My code doesn&#39;t use `ModificationItem`, which is another clue, more like:\r\n\r\n    BasicAttributes attributes = new BasicAttributes(ATTR_PASSWORDRESET, null);\r\n    this.adminCtx.modifyAttributes(userName, attrs);\r\n\r\nThe above also means that if you want it set to `TRUE` you have to do so yourself.","title":"LDAP: How to reset value of pwdReset field","body":"<p>I've just spent two weeks proving to myself that OpenLDAP doesn't actually do step #5 at all, despite what the wording of the RFC draft appears to mean. I also found a message in the OpenLDAP Mail archives confirming that they think it isn't supposed to do that. So what is happening is that there is no <code>pwdReset</code> attribute to set to false, so you're getting a schema violation trying to <em>add</em> it with that value. So, all you have to do is nothing.</p>\n<p>It would probably be safer just to set <code>pwdReset</code> to null, which removes it completely, or just remove it with <code>DirContext.REMOVE_ATTRIBUTE</code>. My code doesn't use <code>ModificationItem</code>, which is another clue, more like:</p>\n<pre><code>BasicAttributes attributes = new BasicAttributes(ATTR_PASSWORDRESET, null);\nthis.adminCtx.modifyAttributes(userName, attrs);\n</code></pre>\n<p>The above also means that if you want it set to <code>TRUE</code> you have to do so yourself.</p>\n"}],"owner":{"account_id":4589021,"reputation":2784,"user_id":3722884,"accept_rate":42,"display_name":"SimpleGuy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2741,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1680641007,"creation_date":1481873003,"question_id":41179232,"body_markdown":"I am trying to write an application which would offer user to manage users on LDAP system. One feature of this is the functionality &quot;*Forgot Password*&quot;.\r\n\r\n 1.  User uses my app to Reset his password\r\n 2. I ask some security questions and if they are correct, I redirect him to new screen - new password screen.\r\n 3. User provides new password only (as he has forgotten his old one)\r\n 4. I use admin Context and reset the user password (using `modifyAttributes(..)`).\r\n 5. The LDAP system, set `pwdReset` to `true` indicating that password was changed by admin and must be changed by user. \r\n\r\nNow, I do want to set this to false, coz I don&#39;t want user to change his password again (as he already did in above steps), so I explicitly modify it to false. But I get error\r\n\r\n    javax.naming.directory.SchemaViolationException: [LDAP: error code 65 - Object Class Violation]; remaining name &#39;cn=XXXX,ou=XXXXOU,O=XXXX&#39;\r\n\r\n\r\n**What is the way around ?** Is there some other alternative ?\r\n\r\nFor refernce, the code to reset `pwdReset` is as under:\r\n\r\n            List&lt;ModificationItem&gt; modsList = new ArrayList&lt;ModificationItem&gt;();\r\n    \t\tBasicAttribute attribute = new BasicAttribute(ATTR_PASSWORDRESET, &quot;false&quot;);\r\n    \t\tmodsList.add(new ModificationItem(DirContext.REPLACE_ATTRIBUTE, attribute));\r\n    \t\tModificationItem [] modsArr = modsList.toArray(new ModificationItem[modsList.size()]);\r\n            modsArr = modsList.toArray(new ModificationItem[modsList.size()]);\r\n            this.adminCtx.modifyAttributes(userName, modsArr);\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd here is my `pwdPolicy`\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PKxmQ.png\r\n  [2]: https://i.stack.imgur.com/Nn8iO.png\r\n  [3]: https://i.stack.imgur.com/oGnvx.png","title":"LDAP: How to reset value of pwdReset field","body":"<p>I am trying to write an application which would offer user to manage users on LDAP system. One feature of this is the functionality \"<em>Forgot Password</em>\".</p>\n\n<ol>\n<li>User uses my app to Reset his password</li>\n<li>I ask some security questions and if they are correct, I redirect him to new screen - new password screen.</li>\n<li>User provides new password only (as he has forgotten his old one)</li>\n<li>I use admin Context and reset the user password (using <code>modifyAttributes(..)</code>).</li>\n<li>The LDAP system, set <code>pwdReset</code> to <code>true</code> indicating that password was changed by admin and must be changed by user. </li>\n</ol>\n\n<p>Now, I do want to set this to false, coz I don't want user to change his password again (as he already did in above steps), so I explicitly modify it to false. But I get error</p>\n\n<pre><code>javax.naming.directory.SchemaViolationException: [LDAP: error code 65 - Object Class Violation]; remaining name 'cn=XXXX,ou=XXXXOU,O=XXXX'\n</code></pre>\n\n<p><strong>What is the way around ?</strong> Is there some other alternative ?</p>\n\n<p>For refernce, the code to reset <code>pwdReset</code> is as under:</p>\n\n<pre><code>        List&lt;ModificationItem&gt; modsList = new ArrayList&lt;ModificationItem&gt;();\n        BasicAttribute attribute = new BasicAttribute(ATTR_PASSWORDRESET, \"false\");\n        modsList.add(new ModificationItem(DirContext.REPLACE_ATTRIBUTE, attribute));\n        ModificationItem [] modsArr = modsList.toArray(new ModificationItem[modsList.size()]);\n        modsArr = modsList.toArray(new ModificationItem[modsList.size()]);\n        this.adminCtx.modifyAttributes(userName, modsArr);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/PKxmQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PKxmQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>And here is my <code>pwdPolicy</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/Nn8iO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nn8iO.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/oGnvx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oGnvx.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","jfr","jmc"],"answers":[{"comments":[{"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"score":1,"creation_date":1680675737,"post_id":75933696,"comment_id":133936306,"body_markdown":"In the console nothing relevant except `OpenJDK 64-Bit Server VM warning: Option FlightRecorder was deprecated (...)`.  \nI confirm that Graph View and Heatmap View both don&#39;t work neither. I haven&#39;t found the hierarchical edge bundling view.  \nYour link is about running SWT inside Eclipse, while I run standalone JMC. Still I&#39;ve tried:  \n- Installing WebKitGTK: `libwebkit2gtk-4.0-37 is already the newest version (2.38.5-0ubuntu0.22.04.1)`  \n- Adding `-Dorg.eclipse.swt.browser.DefaultType=chromium` in `jmc.ini` has no effect.","body":"In the console nothing relevant except <code>OpenJDK 64-Bit Server VM warning: Option FlightRecorder was deprecated (...)</code>.   I confirm that Graph View and Heatmap View both don&#39;t work neither. I haven&#39;t found the hierarchical edge bundling view.   Your link is about running SWT inside Eclipse, while I run standalone JMC. Still I&#39;ve tried:   - Installing WebKitGTK: <code>libwebkit2gtk-4.0-37 is already the newest version (2.38.5-0ubuntu0.22.04.1)</code>   - Adding <code>-Dorg.eclipse.swt.browser.DefaultType=chromium</code> in <code>jmc.ini</code> has no effect."},{"owner":{"account_id":214082,"reputation":1684,"user_id":467841,"display_name":"Hirt"},"score":1,"creation_date":1681764640,"post_id":75933696,"comment_id":134106817,"body_markdown":"Not sure why the browser component does not work for you. That said, for the Flame Graph, this will at least be fixed in JMC 9 by this work: https://github.com/openjdk/jmc/pull/408.","body":"Not sure why the browser component does not work for you. That said, for the Flame Graph, this will at least be fixed in JMC 9 by this work: <a href=\"https://github.com/openjdk/jmc/pull/408\" rel=\"nofollow noreferrer\">github.com/openjdk/jmc/pull/408</a>."}],"tags":[],"owner":{"account_id":214082,"reputation":1684,"user_id":467841,"display_name":"Hirt"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680641001,"creation_date":1680641001,"answer_id":75933696,"question_id":75886090,"body_markdown":"It could be a problem related to the SWT browser component. \r\n\r\nDo you get anything on the console from JMC? Any exceptions? Does any of the other views that are based on the browser component work (like the graph view, or the hierarchical edge bundling view)? If none of the other browser based views work, then it&#39;s likely a problem with getting the SWT Browser component to work.\r\n\r\nSee if this helps:\r\nhttps://www.eclipse.org/swt/faq.php#browserlinux.","title":"Can&#39;t see flame graph from jfr file with JMC or FlameViewer","body":"<p>It could be a problem related to the SWT browser component.</p>\n<p>Do you get anything on the console from JMC? Any exceptions? Does any of the other views that are based on the browser component work (like the graph view, or the hierarchical edge bundling view)? If none of the other browser based views work, then it's likely a problem with getting the SWT Browser component to work.</p>\n<p>See if this helps:\n<a href=\"https://www.eclipse.org/swt/faq.php#browserlinux\" rel=\"nofollow noreferrer\">https://www.eclipse.org/swt/faq.php#browserlinux</a>.</p>\n"}],"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680641001,"creation_date":1680166525,"question_id":75886090,"body_markdown":"I&#39;ve generated a .jfr file with\r\n\r\n`mvn test -Dtest=DataRunnerIT -DargLine=&quot;XX:StartFlightRecording,filename=flight.jfr&quot;`\r\n\r\nI can confirm that the .jfr file is ok because I&#39;ve opened it [with the Profiler of IntelliJ IDEA Ultimate](https://www.jetbrains.com/help/idea/create-a-profiling-report.html) and the graph is properly rendered.\r\n\r\nNow I would like to see this flame graph with a free tool but I can&#39;t have it rendered, see below. What am I doing wrong ?\r\n# JMC\r\nI&#39;ve installed JDK 17 Amazon Corretto (on Ubunutu 22.04) and there is no `jmc` in /bin, [which is apparently normal](https://stackoverflow.com/a/53882626/3790512). \r\nI&#39;ve downloaded JMC from [jdk.java.net/jmc/8/](https://jdk.java.net/jmc/8/) and added these lines to the native `jmc.ini`, as mentioned in [the doc](https://www.oracle.com/java/technologies/javase/jmc8-install.html):\r\n```\r\n-vm\r\n/usr/lib/jvm/java-17-amazon-corretto/bin\r\n```\r\nI can start JMC and open my .jfr file. Some graphs are displayed but the flame graph at the bottom remains blank:\r\n[![JDK Mission Control][1]][1] \r\n# FlameViewer\r\nUsing the [FlameViewer IntelliJ plugin](https://plugins.jetbrains.com/plugin/10305-flameviewer) when I upload my .jfr file I get *File was not sent*, tested with Firefox and Chromium:\r\n[![enter image description here][2]][2]\r\nEDIT: I&#39;ve just discovered these logs related to FlameViewer:\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;java.util.Map.entrySet()&quot; because &quot;stacks&quot; is null\r\n\tat com.github.kornilova203.flameviewer.converters.cflamegraph.JfrToStacksConverter.removePackageInParameters(JfrToStacksConverter.java:34)\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/5TrA9.png\r\n  [2]: https://i.stack.imgur.com/a8P9j.png","title":"Can&#39;t see flame graph from jfr file with JMC or FlameViewer","body":"<p>I've generated a .jfr file with</p>\n<p><code>mvn test -Dtest=DataRunnerIT -DargLine=&quot;XX:StartFlightRecording,filename=flight.jfr&quot;</code></p>\n<p>I can confirm that the .jfr file is ok because I've opened it <a href=\"https://www.jetbrains.com/help/idea/create-a-profiling-report.html\" rel=\"nofollow noreferrer\">with the Profiler of IntelliJ IDEA Ultimate</a> and the graph is properly rendered.</p>\n<p>Now I would like to see this flame graph with a free tool but I can't have it rendered, see below. What am I doing wrong ?</p>\n<h1>JMC</h1>\n<p>I've installed JDK 17 Amazon Corretto (on Ubunutu 22.04) and there is no <code>jmc</code> in /bin, <a href=\"https://stackoverflow.com/a/53882626/3790512\">which is apparently normal</a>.\nI've downloaded JMC from <a href=\"https://jdk.java.net/jmc/8/\" rel=\"nofollow noreferrer\">jdk.java.net/jmc/8/</a> and added these lines to the native <code>jmc.ini</code>, as mentioned in <a href=\"https://www.oracle.com/java/technologies/javase/jmc8-install.html\" rel=\"nofollow noreferrer\">the doc</a>:</p>\n<pre><code>-vm\n/usr/lib/jvm/java-17-amazon-corretto/bin\n</code></pre>\n<p>I can start JMC and open my .jfr file. Some graphs are displayed but the flame graph at the bottom remains blank:\n<a href=\"https://i.stack.imgur.com/5TrA9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5TrA9.png\" alt=\"JDK Mission Control\" /></a></p>\n<h1>FlameViewer</h1>\n<p>Using the <a href=\"https://plugins.jetbrains.com/plugin/10305-flameviewer\" rel=\"nofollow noreferrer\">FlameViewer IntelliJ plugin</a> when I upload my .jfr file I get <em>File was not sent</em>, tested with Firefox and Chromium:\n<a href=\"https://i.stack.imgur.com/a8P9j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a8P9j.png\" alt=\"enter image description here\" /></a>\nEDIT: I've just discovered these logs related to FlameViewer:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;java.util.Map.entrySet()&quot; because &quot;stacks&quot; is null\n    at com.github.kornilova203.flameviewer.converters.cflamegraph.JfrToStacksConverter.removePackageInParameters(JfrToStacksConverter.java:34)\n</code></pre>\n"},{"tags":["java","maven","lombok"],"comments":[{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":0,"creation_date":1619003898,"post_id":67192393,"comment_id":118772322,"body_markdown":"You need to add the lombok dependency in your pom.xml and you might need to add a lombok plugin to your IDE.","body":"You need to add the lombok dependency in your pom.xml and you might need to add a lombok plugin to your IDE."},{"owner":{"account_id":6381401,"reputation":1720,"user_id":4950717,"accept_rate":89,"display_name":"Mattew Eon"},"score":0,"creation_date":1619006123,"post_id":67192393,"comment_id":118773340,"body_markdown":"Also, we would need to see how you are declaring the log in your service","body":"Also, we would need to see how you are declaring the log in your service"},{"owner":{"account_id":21347125,"reputation":1,"user_id":15717036,"display_name":"JJungle"},"score":0,"creation_date":1619054730,"post_id":67192393,"comment_id":118791429,"body_markdown":"I declaring the log by add @Slf4j on class,and it work good before set annotationProcessor in maven-compiler-plugin.","body":"I declaring the log by add @Slf4j on class,and it work good before set annotationProcessor in maven-compiler-plugin."}],"answers":[{"tags":[],"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680640630,"creation_date":1680640630,"answer_id":75933649,"question_id":67192393,"body_markdown":"I faced the same issue and found that the logging mechanism is not available before calling the processor. \r\n\r\nThe solution was to use Messager from `javax.annotation.processing`. \r\n\r\n```\r\nmessager.printMessage(Diagnostic.Kind.ERROR, String.format(&quot;some-log message here&quot;));\r\n```","title":"Setting annotationProcessor in maven-compiler-plugin then @Slf4j doesnt work : cannot find symbol","body":"<p>I faced the same issue and found that the logging mechanism is not available before calling the processor.</p>\n<p>The solution was to use Messager from <code>javax.annotation.processing</code>.</p>\n<pre><code>messager.printMessage(Diagnostic.Kind.ERROR, String.format(&quot;some-log message here&quot;));\n</code></pre>\n"}],"owner":{"account_id":21347125,"reputation":1,"user_id":15717036,"display_name":"JJungle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680640630,"creation_date":1618995066,"question_id":67192393,"body_markdown":"I added an annotation processor and set it in maven:\r\n\r\n```lang-maven\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t&lt;annotationProcessors&gt;\r\n\t\t\t\t&lt;annotationProcessor&gt;\r\n\t\t\t\t\tcom.SpringLearn.cloud.processer.XXXProcessor\r\n\t\t\t\t&lt;/annotationProcessor&gt;\r\n\t\t\t&lt;/annotationProcessors&gt;\r\n\t\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nWhen maven compiles, it throws an error: `XXXService.java:[106,17] cannot find symbol`\r\n\r\nat **XXXService.java:[106,17]** :\r\n\r\n```lang-java\r\nlog.info(&quot;startNewHand XXX:&quot;+XXX);\r\n```\r\n\r\nCLEARLY, @Slf4j doesnt work\r\nHow to solve this problem? Thanks!\r\n","title":"Setting annotationProcessor in maven-compiler-plugin then @Slf4j doesnt work : cannot find symbol","body":"<p>I added an annotation processor and set it in maven:</p>\n<pre class=\"lang-maven prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n            &lt;annotationProcessors&gt;\n                &lt;annotationProcessor&gt;\n                    com.SpringLearn.cloud.processer.XXXProcessor\n                &lt;/annotationProcessor&gt;\n            &lt;/annotationProcessors&gt;\n        &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>When maven compiles, it throws an error: <code>XXXService.java:[106,17] cannot find symbol</code></p>\n<p>at <strong>XXXService.java:[106,17]</strong> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>log.info(&quot;startNewHand XXX:&quot;+XXX);\n</code></pre>\n<p>CLEARLY, @Slf4j doesnt work\nHow to solve this problem? Thanks!</p>\n"},{"tags":["java","android","unreal-engine4"],"owner":{"account_id":24288922,"reputation":25,"user_id":18234277,"display_name":"Fran Stanić"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680640191,"creation_date":1680640191,"question_id":75933594,"body_markdown":"27.2 and i want to pkg my project for android but every time it ends with:\r\n\r\n    PackagingResults: Error: Unknown Error\r\n\r\nos: windows 10 (64x)\r\n\r\nSDK: 29.0.2 and 28.0.3\r\n\r\nNDK: 21.1.6352462\r\n\r\nJDK: Eclipse Termurin JDK Hotspot 17.0.5+8 (x64)\r\n```\r\nUATHelper: Packaging (Android (ASTC)): Z:\\app\\src\\main\\java\\com\\epicgames\\ue4\\WebViewControl.java:122: error: cannot find symbol\r\nUATHelper: Packaging (Android (ASTC)):                 webView.getSettings().setAppCacheMaxSize( 10 * 1024 * 1024 );\r\nUATHelper: Packaging (Android (ASTC)):                                      ^\r\nUATHelper: Packaging (Android (ASTC)):   symbol:   method setAppCacheMaxSize(int)\r\nUATHelper: Packaging (Android (ASTC)):   location: class WebSettings\r\nUATHelper: Packaging (Android (ASTC)): Z:\\app\\src\\main\\java\\com\\epicgames\\ue4\\WebViewControl.java:123: error: cannot find symbol\r\nUATHelper: Packaging (Android (ASTC)):                 webView.getSettings().setAppCachePath(GameActivity._activity.getApplicationContext().getCacheDir().getAbsolutePath() );\r\nUATHelper: Packaging (Android (ASTC)):                                      ^\r\nUATHelper: Packaging (Android (ASTC)):   symbol:   method setAppCachePath(String)\r\nUATHelper: Packaging (Android (ASTC)):   location: class WebSettings\r\nUATHelper: Packaging (Android (ASTC)): Z:\\app\\src\\main\\java\\com\\epicgames\\ue4\\WebViewControl.java:125: error: cannot find symbol\r\nUATHelper: Packaging (Android (ASTC)):                 webView.getSettings().setAppCacheEnabled( true );\r\nUATHelper: Packaging (Android (ASTC)):                                      ^\r\nUATHelper: Packaging (Android (ASTC)):   symbol:   method setAppCacheEnabled(boolean)\r\nUATHelper: Packaging (Android (ASTC)):   location: class WebSettings\r\nUATHelper: Packaging (Android (ASTC)): Note: Some input files use or override a deprecated API.\r\nUATHelper: Packaging (Android (ASTC)): Note: Recompile with -Xlint:deprecation for details.\r\nUATHelper: Packaging (Android (ASTC)): 3 errors\r\nUATHelper: Packaging (Android (ASTC)): &gt; Task :app:compileDebugJavaWithJavac FAILED\r\nUATHelper: Packaging (Android (ASTC)): FAILURE: Build failed with an exception.\r\nUATHelper: Packaging (Android (ASTC)): * What went wrong:\r\nUATHelper: Packaging (Android (ASTC)): Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\nUATHelper: Packaging (Android (ASTC)): &gt; Compilation failed; see the compiler error output for details.\r\nUATHelper: Packaging (Android (ASTC)): * Try:\r\nUATHelper: Packaging (Android (ASTC)): Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\nUATHelper: Packaging (Android (ASTC)): * Get more help at https://help.gradle.org\r\nUATHelper: Packaging (Android (ASTC)): BUILD FAILED in 19s\r\nUATHelper: Packaging (Android (ASTC)): 32 actionable tasks: 3 executed, 29 up-to-date\r\nUATHelper: Packaging (Android (ASTC)): ERROR: cmd.exe failed with args /c &quot;D:\\UEPro\\MyProject2\\Intermediate\\Android\\armv7\\gradle\\rungradle.bat&quot; :app:assembleDebug\r\nUATHelper: Packaging (Android (ASTC)):        (see C:\\Users\\frans\\AppData\\Roaming\\Unreal Engine\\AutomationTool\\Logs\\C+Program+Files+Epic+Games+UE_4.27\\Log.txt for full exception trace)\r\nUATHelper: Packaging (Android (ASTC)): AutomationTool exiting with ExitCode=1 (Error_Unknown)\r\nUATHelper: Packaging (Android (ASTC)): BUILD FAILED\r\nPackagingResults: Error: Unknown Error\r\n```","title":"UE4 &#39;Error: Unknown Error&#39; | android launching","body":"<p>27.2 and i want to pkg my project for android but every time it ends with:</p>\n<pre><code>PackagingResults: Error: Unknown Error\n</code></pre>\n<p>os: windows 10 (64x)</p>\n<p>SDK: 29.0.2 and 28.0.3</p>\n<p>NDK: 21.1.6352462</p>\n<p>JDK: Eclipse Termurin JDK Hotspot 17.0.5+8 (x64)</p>\n<pre><code>UATHelper: Packaging (Android (ASTC)): Z:\\app\\src\\main\\java\\com\\epicgames\\ue4\\WebViewControl.java:122: error: cannot find symbol\nUATHelper: Packaging (Android (ASTC)):                 webView.getSettings().setAppCacheMaxSize( 10 * 1024 * 1024 );\nUATHelper: Packaging (Android (ASTC)):                                      ^\nUATHelper: Packaging (Android (ASTC)):   symbol:   method setAppCacheMaxSize(int)\nUATHelper: Packaging (Android (ASTC)):   location: class WebSettings\nUATHelper: Packaging (Android (ASTC)): Z:\\app\\src\\main\\java\\com\\epicgames\\ue4\\WebViewControl.java:123: error: cannot find symbol\nUATHelper: Packaging (Android (ASTC)):                 webView.getSettings().setAppCachePath(GameActivity._activity.getApplicationContext().getCacheDir().getAbsolutePath() );\nUATHelper: Packaging (Android (ASTC)):                                      ^\nUATHelper: Packaging (Android (ASTC)):   symbol:   method setAppCachePath(String)\nUATHelper: Packaging (Android (ASTC)):   location: class WebSettings\nUATHelper: Packaging (Android (ASTC)): Z:\\app\\src\\main\\java\\com\\epicgames\\ue4\\WebViewControl.java:125: error: cannot find symbol\nUATHelper: Packaging (Android (ASTC)):                 webView.getSettings().setAppCacheEnabled( true );\nUATHelper: Packaging (Android (ASTC)):                                      ^\nUATHelper: Packaging (Android (ASTC)):   symbol:   method setAppCacheEnabled(boolean)\nUATHelper: Packaging (Android (ASTC)):   location: class WebSettings\nUATHelper: Packaging (Android (ASTC)): Note: Some input files use or override a deprecated API.\nUATHelper: Packaging (Android (ASTC)): Note: Recompile with -Xlint:deprecation for details.\nUATHelper: Packaging (Android (ASTC)): 3 errors\nUATHelper: Packaging (Android (ASTC)): &gt; Task :app:compileDebugJavaWithJavac FAILED\nUATHelper: Packaging (Android (ASTC)): FAILURE: Build failed with an exception.\nUATHelper: Packaging (Android (ASTC)): * What went wrong:\nUATHelper: Packaging (Android (ASTC)): Execution failed for task ':app:compileDebugJavaWithJavac'.\nUATHelper: Packaging (Android (ASTC)): &gt; Compilation failed; see the compiler error output for details.\nUATHelper: Packaging (Android (ASTC)): * Try:\nUATHelper: Packaging (Android (ASTC)): Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\nUATHelper: Packaging (Android (ASTC)): * Get more help at https://help.gradle.org\nUATHelper: Packaging (Android (ASTC)): BUILD FAILED in 19s\nUATHelper: Packaging (Android (ASTC)): 32 actionable tasks: 3 executed, 29 up-to-date\nUATHelper: Packaging (Android (ASTC)): ERROR: cmd.exe failed with args /c &quot;D:\\UEPro\\MyProject2\\Intermediate\\Android\\armv7\\gradle\\rungradle.bat&quot; :app:assembleDebug\nUATHelper: Packaging (Android (ASTC)):        (see C:\\Users\\frans\\AppData\\Roaming\\Unreal Engine\\AutomationTool\\Logs\\C+Program+Files+Epic+Games+UE_4.27\\Log.txt for full exception trace)\nUATHelper: Packaging (Android (ASTC)): AutomationTool exiting with ExitCode=1 (Error_Unknown)\nUATHelper: Packaging (Android (ASTC)): BUILD FAILED\nPackagingResults: Error: Unknown Error\n</code></pre>\n"},{"tags":["java","queue"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679872803,"post_id":75851073,"comment_id":133794012,"body_markdown":"I think the main problem I see is that the outer loop (`for(int i=...`) needs a &quot;previous&quot; item.  When you insert a new node in between two existing nodes, you need to adjust the pointers of the previous and the new node, and I don&#39;t see how the current code does that.  Try to focus on that one idea, inserting a new node in between two existing nodes.","body":"I think the main problem I see is that the outer loop (<code>for(int i=...</code>) needs a &quot;previous&quot; item.  When you insert a new node in between two existing nodes, you need to adjust the pointers of the previous and the new node, and I don&#39;t see how the current code does that.  Try to focus on that one idea, inserting a new node in between two existing nodes."}],"owner":{"account_id":28132684,"reputation":1,"user_id":21496949,"display_name":"Koen Santos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680639757,"creation_date":1679872229,"question_id":75851073,"body_markdown":"For a homework assignment, I need to make my own offer() function for a Queue. In this function, I have to insert a Node into a queue based on its priority. If the priority is higher than the compared node (i.e. the priority is closer to 0), then the Node will take its spot and move everything down. Attempted code is below.\r\n\r\n\r\n```\r\npublic boolean offer(E item, int priority) {\r\n\tif (item == null) {\r\n\t\tthrow new NullPointerException();\r\n\t} else if (front == null) {\r\n\t\tNode&lt;E&gt; newItem = new Node&lt;E&gt;(item, priority);\r\n\t\tfront = newItem;\r\n\t\tsize++;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tNode&lt;E&gt; current = front;\r\n\tfor (int i = 0; i &lt; size; i++) {\r\n\t\tint tempPrior = current.priority;\r\n\t\tif (priority &lt; tempPrior) {\r\n\t\t\tNode&lt;E&gt; change = current;\r\n\t\t\tNode&lt;E&gt; change2 = current.next;\r\n\t\t\tcurrent = null;\r\n\t\t\tfor (int j = i; j &lt; size; j++) {\r\n\t\t\t\tcurrent = current.next;\r\n\t\t\t}\r\n\t\t\tcurrent = new Node&lt;E&gt;(item, current.next, priority);\r\n\t\t\tsize++;\r\n\t\t\treturn true;\r\n\t\t} else if (priority == tempPrior) {\r\n\t\t\tcurrent = current.next;\r\n\t\t} else if (i == size) {\r\n\t\t\tcurrent.next = new Node&lt;E&gt;(item, null, priority);\r\n\t\t\tsize++;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n```\r\n\r\n\r\nI am not sure what to try here, I am currently stuck, but when tested it prints only the first element of the queue. It could have something to do with the loop but I am not sure what to do. I am just unsure on how to move forward to fix my issue. \r\n[output after printing queue elements](https://i.stack.imgur.com/pWTBe.png)","title":"Queue method offer() only inputting first element","body":"<p>For a homework assignment, I need to make my own offer() function for a Queue. In this function, I have to insert a Node into a queue based on its priority. If the priority is higher than the compared node (i.e. the priority is closer to 0), then the Node will take its spot and move everything down. Attempted code is below.</p>\n<pre><code>public boolean offer(E item, int priority) {\n    if (item == null) {\n        throw new NullPointerException();\n    } else if (front == null) {\n        Node&lt;E&gt; newItem = new Node&lt;E&gt;(item, priority);\n        front = newItem;\n        size++;\n        return true;\n    }\n\n    Node&lt;E&gt; current = front;\n    for (int i = 0; i &lt; size; i++) {\n        int tempPrior = current.priority;\n        if (priority &lt; tempPrior) {\n            Node&lt;E&gt; change = current;\n            Node&lt;E&gt; change2 = current.next;\n            current = null;\n            for (int j = i; j &lt; size; j++) {\n                current = current.next;\n            }\n            current = new Node&lt;E&gt;(item, current.next, priority);\n            size++;\n            return true;\n        } else if (priority == tempPrior) {\n            current = current.next;\n        } else if (i == size) {\n            current.next = new Node&lt;E&gt;(item, null, priority);\n            size++;\n            return true;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>I am not sure what to try here, I am currently stuck, but when tested it prints only the first element of the queue. It could have something to do with the loop but I am not sure what to do. I am just unsure on how to move forward to fix my issue.\n<a href=\"https://i.stack.imgur.com/pWTBe.png\" rel=\"nofollow noreferrer\">output after printing queue elements</a></p>\n"},{"tags":["java","swing","jfreechart"],"comments":[{"owner":{"account_id":4740314,"reputation":1152,"user_id":3833308,"accept_rate":68,"display_name":"user3833308"},"score":0,"creation_date":1495606785,"post_id":44150322,"comment_id":75317805,"body_markdown":"This is not too broad. care to explain why it was classified as too broad ?","body":"This is not too broad. care to explain why it was classified as too broad ?"},{"owner":{"account_id":4740314,"reputation":1152,"user_id":3833308,"accept_rate":68,"display_name":"user3833308"},"score":0,"creation_date":1495608334,"post_id":44150322,"comment_id":75318683,"body_markdown":"I am asking for tool, book etc.. recommendation in this question!! Great job ghost closers. Dare to reason your opinion.","body":"I am asking for tool, book etc.. recommendation in this question!! Great job ghost closers. Dare to reason your opinion."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1495609015,"post_id":44150322,"comment_id":75319066,"body_markdown":"I chose to answer this question; while it is arguably broad, a useful answer can be adduced by combining several existing approaches.","body":"I chose to answer this question; while it is arguably broad, a useful answer can be adduced by combining several existing approaches."}],"answers":[{"comments":[{"owner":{"account_id":4740314,"reputation":1152,"user_id":3833308,"accept_rate":68,"display_name":"user3833308"},"score":0,"creation_date":1495674582,"post_id":44151032,"comment_id":75357307,"body_markdown":"1. Mosts of the problem solved just by adding `\t\t\tchartPanel.setMouseWheelEnabled(true);` Thanks. How do I make sure it only zooms domain axis when mouse wheel is rolled ?","body":"1. Mosts of the problem solved just by adding `\t\t\tchartPanel.setMouseWheelEnabled(true);` Thanks. How do I make sure it only zooms domain axis when mouse wheel is rolled ?"},{"owner":{"account_id":4740314,"reputation":1152,"user_id":3833308,"accept_rate":68,"display_name":"user3833308"},"score":0,"creation_date":1495674928,"post_id":44151032,"comment_id":75357396,"body_markdown":"I am using `\t\t\tthis.chartPanel = new ChartPanel(this.chart);` - Don&#39;t know if I can override mouse listener event to override custom zooming","body":"I am using `\t\t\tthis.chartPanel = new ChartPanel(this.chart);` - Don&#39;t know if I can override mouse listener event to override custom zooming"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1495675164,"post_id":44151032,"comment_id":75357449,"body_markdown":"Sorry, I never tried; look for `org.jfree.chart.MouseWheelHandler`.","body":"Sorry, I never tried; look for <code>org.jfree.chart.MouseWheelHandler</code>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1495751666,"post_id":44151032,"comment_id":75395547,"body_markdown":"Glad it helped; more above on `set*Zoomable()`.","body":"Glad it helped; more above on <code>set*Zoomable()</code>."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1680639752,"creation_date":1495608895,"answer_id":44151032,"question_id":44150322,"body_markdown":"You&#39;ll have to combine several approaches:\r\n\r\n0. **Panning controls**: Invoke, `setDomainPannable(true)` to enable panning; in your controls, use [`panDomainAxes()`][1], as shown in the [implementation][2] of [`mouseDragged()`][3]; use the mouse as suggested [here][4].\r\n\r\n0. **Zooming**: Zooming by dragging on the axis is _not_ supported, but dragging on the plot _is_ supported; drag _right_ to see the selection rectangle. To ensure the mouse wheel only zooms the domain axis when  is rolled, invoke `setRangeZoomable(false)` on the `ChartPanel`; vice-versa for the range axis.\r\n\r\n0. **Zooming out**: Drag _left_ to zoom out or use a button handler, as shown [here][5].\r\n\r\n0. **Tooltips**: Enable tooltips in your chosen `ChartFactory`. If needed, create a custom `XYToolTipGenerator`, as shown [here][6].\r\n\r\n\r\n  [1]: http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/plot/Pannable.html#panDomainAxes-double-org.jfree.chart.plot.PlotRenderingInfo-java.awt.geom.Point2D-\r\n  [2]: https://github.com/jfree/jfreechart/blob/v1.5.x/src/main/java/org/jfree/chart/ChartPanel.java#L1712\r\n  [3]: http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/ChartPanel.html#mouseDragged-java.awt.event.MouseEvent-\r\n  [4]: https://stackoverflow.com/a/19284972/230513\r\n  [5]: https://stackoverflow.com/a/41544007/230513\r\n  [6]: https://stackoverflow.com/a/14459322/230513","title":"JFreeChart with selectable domain axis and zoom","body":"<p>You'll have to combine several approaches:</p>\n<ol start=\"0\">\n<li><p><strong>Panning controls</strong>: Invoke, <code>setDomainPannable(true)</code> to enable panning; in your controls, use <a href=\"http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/plot/Pannable.html#panDomainAxes-double-org.jfree.chart.plot.PlotRenderingInfo-java.awt.geom.Point2D-\" rel=\"nofollow noreferrer\"><code>panDomainAxes()</code></a>, as shown in the <a href=\"https://github.com/jfree/jfreechart/blob/v1.5.x/src/main/java/org/jfree/chart/ChartPanel.java#L1712\" rel=\"nofollow noreferrer\">implementation</a> of <a href=\"http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/ChartPanel.html#mouseDragged-java.awt.event.MouseEvent-\" rel=\"nofollow noreferrer\"><code>mouseDragged()</code></a>; use the mouse as suggested <a href=\"https://stackoverflow.com/a/19284972/230513\">here</a>.</p>\n</li>\n<li><p><strong>Zooming</strong>: Zooming by dragging on the axis is <em>not</em> supported, but dragging on the plot <em>is</em> supported; drag <em>right</em> to see the selection rectangle. To ensure the mouse wheel only zooms the domain axis when  is rolled, invoke <code>setRangeZoomable(false)</code> on the <code>ChartPanel</code>; vice-versa for the range axis.</p>\n</li>\n<li><p><strong>Zooming out</strong>: Drag <em>left</em> to zoom out or use a button handler, as shown <a href=\"https://stackoverflow.com/a/41544007/230513\">here</a>.</p>\n</li>\n<li><p><strong>Tooltips</strong>: Enable tooltips in your chosen <code>ChartFactory</code>. If needed, create a custom <code>XYToolTipGenerator</code>, as shown <a href=\"https://stackoverflow.com/a/14459322/230513\">here</a>.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":4740314,"reputation":1152,"user_id":3833308,"accept_rate":68,"display_name":"user3833308"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1610,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":44151032,"answer_count":1,"score":3,"last_activity_date":1680639752,"creation_date":1495606459,"question_id":44150322,"body_markdown":"How to have chart like https://www.amcharts.com/demos/line-chart-with-scroll-and-zoom/\r\n\r\nI am specifically interested in these functionalities\r\n\r\n1. To be able to select window of domain axis with those 2 selection controlls.\r\n2. To be able to zoom by selecting portion of domain axis.\r\n3. To be able to zoom out and see the bigger picture.\r\n4. To be able to map to range axis (Y) and see the value on that balloon like tool tip at any point (without Marker)\r\n\r\nI made initial attempt here https://stackoverflow.com/questions/44103091/scrollable-jfree-domain-axis-and-custom-marker-label with help of trashgod I made domain scrollable. \r\n\r\nI am still missing these functionality to be able to use graph effectively.","title":"JFreeChart with selectable domain axis and zoom","body":"<p>How to have chart like <a href=\"https://www.amcharts.com/demos/line-chart-with-scroll-and-zoom/\" rel=\"nofollow noreferrer\">https://www.amcharts.com/demos/line-chart-with-scroll-and-zoom/</a></p>\n\n<p>I am specifically interested in these functionalities</p>\n\n<ol>\n<li>To be able to select window of domain axis with those 2 selection controlls.</li>\n<li>To be able to zoom by selecting portion of domain axis.</li>\n<li>To be able to zoom out and see the bigger picture.</li>\n<li>To be able to map to range axis (Y) and see the value on that balloon like tool tip at any point (without Marker)</li>\n</ol>\n\n<p>I made initial attempt here <a href=\"https://stackoverflow.com/questions/44103091/scrollable-jfree-domain-axis-and-custom-marker-label\">Scrollable JFree domain axis and custom marker label</a> with help of trashgod I made domain scrollable. </p>\n\n<p>I am still missing these functionality to be able to use graph effectively.</p>\n"},{"tags":["java","classloader","java-11"],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1680612558,"post_id":75929505,"comment_id":133924780,"body_markdown":"Excellent explanation.  The only line that I disagree with is your last line.  I have never found Baeldung’s pages to be high quality.  Usually the pages have a handful of examples that address very specific cases that are difficult or impossible to adapt to any other use case, with no links to documentation that would cover the general case.","body":"Excellent explanation.  The only line that I disagree with is your last line.  I have never found Baeldung’s pages to be high quality.  Usually the pages have a handful of examples that address very specific cases that are difficult or impossible to adapt to any other use case, with no links to documentation that would cover the general case."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1680683220,"post_id":75929505,"comment_id":133937872,"body_markdown":"@VGR and there’s a lot of half-truths and outright wrong information too.","body":"@VGR and there’s a lot of half-truths and outright wrong information too."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1680683824,"post_id":75929505,"comment_id":133938026,"body_markdown":"I don’t know any place in the specification that explicitly says that getting a resource for a directory is impossible. However, it only works if the underlying storage has directory entries. Using the `FileSystem` API, you can get [a solution is general as possible](https://stackoverflow.com/a/36021165/2711488). It works for `file:`, `jar:`, and `jrt:` URLs. And in case of modules, it does list all resources of a package. There is no need to support `jmod:` URLs, as JMOD files are not used by a class loader at all; they are used by `jlink` to create a new execution environment.","body":"I don’t know any place in the specification that explicitly says that getting a resource for a directory is impossible. However, it only works if the underlying storage has directory entries. Using the <code>FileSystem</code> API, you can get <a href=\"https://stackoverflow.com/a/36021165/2711488\">a solution is general as possible</a>. It works for <code>file:</code>, <code>jar:</code>, and <code>jrt:</code> URLs. And in case of modules, it does list all resources of a package. There is no need to support <code>jmod:</code> URLs, as JMOD files are not used by a class loader at all; they are used by <code>jlink</code> to create a new execution environment."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680697703,"post_id":75929505,"comment_id":133941476,"body_markdown":"@Holger not so much &#39;impossible&#39; as: &quot;Not, at all, guaranteed&quot;, and that&#39;s enough to put the nail in the coffin. `jmod:` is indeed wrong; `String.class.getResource(&quot;/java/lang/String.class&quot;)` returns `jrt:/java.base/java/lang/String.class`.","body":"@Holger not so much &#39;impossible&#39; as: &quot;Not, at all, guaranteed&quot;, and that&#39;s enough to put the nail in the coffin. <code>jmod:</code> is indeed wrong; <code>String.class.getResource(&quot;&#47;java&#47;lang&#47;String.class&quot;)</code> returns <code>jrt:&#47;java.base&#47;java&#47;lang&#47;String.class</code>."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680698066,"post_id":75929505,"comment_id":133941598,"body_markdown":"And for what its worth, `getResource(&quot;jrt:/java.base/java/lang/&quot;)` doesn&#39;t work (returns `null`).","body":"And for what its worth, <code>getResource(&quot;jrt:&#47;java.base&#47;java&#47;lang&#47;&quot;)</code> doesn&#39;t work (returns <code>null</code>)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1680706368,"post_id":75929505,"comment_id":133944133,"body_markdown":"Correct. Trying `getResource` for directories works for the default file system (`file:` URLs) and might work for jar files (`jar:` URL) if the file has a pseudo entry for the directory. There’s no requirement to have such entries, so it depends on the deployment tool or used options whether such entries are generated. And that’s just for the URL; whether you can read it as `InputStream` is another question. For the module runtime image of the JDK, it will never work. That’s why the safe approach is to get the location of an existing (file-like) resource and use the filesystem API to navigate.","body":"Correct. Trying <code>getResource</code> for directories works for the default file system (<code>file:</code> URLs) and might work for jar files (<code>jar:</code> URL) if the file has a pseudo entry for the directory. There’s no requirement to have such entries, so it depends on the deployment tool or used options whether such entries are generated. And that’s just for the URL; whether you can read it as <code>InputStream</code> is another question. For the module runtime image of the JDK, it will never work. That’s why the safe approach is to get the location of an existing (file-like) resource and use the filesystem API to navigate."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1680707601,"post_id":75929505,"comment_id":133944529,"body_markdown":"Side note, `getResource(&quot;jrt:/java.base/java/lang/&quot;)` is wrong, the correct idiom would be `ClassLoader.getSystemResource(&quot;java/lang&quot;)` or `Object.class.getResource(&quot;/java/lang&quot;)`, but it doesn’t work anyway. On the other hand, `Paths.get(URI.create(&quot;jrt:/java.base/java/lang/&quot;))` does work (JDK&#160;13+), so you can do `try(Stream&lt;Path&gt; s = Files.list(Paths.get( URI.create(&quot;jrt:/java.base/java/lang/&quot;)))) { s.forEach(System.out::println); }` when you know beforehand that your code will run on a modular JDK.","body":"Side note, <code>getResource(&quot;jrt:&#47;java.base&#47;java&#47;lang&#47;&quot;)</code> is wrong, the correct idiom would be <code>ClassLoader.getSystemResource(&quot;java&#47;lang&quot;)</code> or <code>Object.class.getResource(&quot;&#47;java&#47;lang&quot;)</code>, but it doesn’t work anyway. On the other hand, <code>Paths.get(URI.create(&quot;jrt:&#47;java.base&#47;java&#47;lang&#47;&quot;))</code> does work (JDK 13+), so you can do <code>try(Stream&lt;Path&gt; s = Files.list(Paths.get( URI.create(&quot;jrt:&#47;java.base&#47;java&#47;lang&#47;&quot;)))) { s.forEach(System.out::println); }</code> when you know beforehand that your code will run on a modular JDK."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":7,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680612013,"creation_date":1680612013,"answer_id":75929505,"question_id":75929262,"body_markdown":"```\r\nClassLoader.getSystemClassLoader().getResourceAsStream(packageName.replaceAll(&quot;[.]&quot;, &quot;/&quot;));\r\n```\r\n\r\nThis doesn&#39;t work. If it works on windows, that&#39;s.. broken coincidence. The spec clearly says this doesn&#39;t work.\r\n\r\nWhat you want, is __impossible__. ClassLoaders, fundamentally, do not support the idea of &#39;please give me every class in package X&#39;. They just don&#39;t. The one and only primitive they have is &#39;give me resource X&#39;. That&#39;s all you get. Given a class name such as `java.lang.String`, you can derive its fully qualified binary name from that and slash it up appropriately (`java/lang/String.class`), and then ask for that resource, which is a thing the ClassLoader API supports.\r\n\r\nBut, you can&#39;t take a package and ask for a listing. Simply because ClassLoader has no `listResources` method. You are trying to &#39;read&#39; the resource `java/lang` and expecting this to return a listing of files. The API spec does not indicate that a ClassLoader has to work this way, and in fact, most don&#39;t, as you have now discovered.\r\n\r\nSPI is a solution for allowing &#39;listing&#39; of things, but SPI is an opt-in system, whether you use `java.util.ServiceLoader` with `META-INF/services/com.foo.someInterfaceName` style, or using the newer SPI stuff in `module-info.java` - the &#39;provider&#39; has to opt into being listed.\r\n\r\nWhich gets us back to: Nope. You cannot do what you are trying to do.\r\n\r\n## But I need to\r\n\r\nWell, and I want a pony. And world peace. Your only real option is to hack it. Which means: Every new version of java may break your code, and it&#39;s possible (likely even) that some combination of JVM version, JVM provider (azul, openjdk, adoptium, etc), and OS breaks your stuff and there is _nobody_ who will accept your bug reports on it, because it&#39;s not a bug.\r\n\r\nIf you&#39;re willing to sign up to that gigantic headache, you can hack it. Specifically, you can ask for a well known resource such as `.getResource(&quot;java/lang/String.class&quot;)`, `toString()` the URL object you get, and then go to town on it: Figure out what that URL means and have code for each and every kind of resource URL you expect that knows how to unpack that URL and do the work.\r\n\r\nThe URL returned by ClassLoaders can be literally anything, up to and including `data:` URLs or customized `blob://whatever` style URLs. It&#39;s therefore literally impossible: You can&#39;t write static code that can respond to a world where anybody can write a custom classloader. However, the vast majority of classloaders out there have `file`, `jar` or `jmod` URLs. So, if you write a handler for all 3, you can handle most, but not all, distribution strategies.\r\n\r\n`file:` is easy enough - convert to a Path, lop off the `String.class`, `lang`, and `java` parts, and then add the package you are interested in, and now you have a `Path` object that you can toss at `Files.newDirectoryStream` and voila - you have your class listing. This is __not__ a listing of all classes in the package, that&#39;s not possible. This is merely a list of all classes in the package _from that particular source_ - there could be more (you can have 2 entries on the classpath that both have the same package. This is common, even, where one place hosts the actual code and another place hosts unit tests in the same package).\r\n\r\nFor `jar:` URLs, find the `!`, turn the stuff in between `jar:` and `!` into a path, open it as a `new JarFile`, and look for entries with the right package prefix and you again have what you wanted.\r\n\r\nFor `jmod:` URLs thats a bit more tricky - but the `jmod` tool exists and can list jmod contents, and you may have to peruse [this SO question about how to read jmod files](https://stackoverflow.com/questions/60082530/is-there-a-way-to-read-programmatically-a-jmod-file-in-java).\r\n\r\nYes, that&#39;s a ton of effort. Yes, that&#39;s the point - you&#39;re working around a fundamental problem which is that the classloader API simply __does not allow you to list package contents__ and nevertheless you insist on doing it anyway. That usually results in &#39;lots of fragile, hard to maintain code&#39;.\r\n\r\nAnother option is to find a library that does this hacky fragile stuff for you. Perhaps the [reflections](https://www.baeldung.com/reflections-library) library can do this.\r\n\r\nNB: It&#39;s clear you got this line from [this baeldung tutorial](https://www.baeldung.com/java-find-all-classes-in-package) - usually baeldung is high quality. This entry.. isn&#39;t.\r\n","title":"Reading classes from System Class Loader returns empty array","body":"<pre><code>ClassLoader.getSystemClassLoader().getResourceAsStream(packageName.replaceAll(&quot;[.]&quot;, &quot;/&quot;));\n</code></pre>\n<p>This doesn't work. If it works on windows, that's.. broken coincidence. The spec clearly says this doesn't work.</p>\n<p>What you want, is <strong>impossible</strong>. ClassLoaders, fundamentally, do not support the idea of 'please give me every class in package X'. They just don't. The one and only primitive they have is 'give me resource X'. That's all you get. Given a class name such as <code>java.lang.String</code>, you can derive its fully qualified binary name from that and slash it up appropriately (<code>java/lang/String.class</code>), and then ask for that resource, which is a thing the ClassLoader API supports.</p>\n<p>But, you can't take a package and ask for a listing. Simply because ClassLoader has no <code>listResources</code> method. You are trying to 'read' the resource <code>java/lang</code> and expecting this to return a listing of files. The API spec does not indicate that a ClassLoader has to work this way, and in fact, most don't, as you have now discovered.</p>\n<p>SPI is a solution for allowing 'listing' of things, but SPI is an opt-in system, whether you use <code>java.util.ServiceLoader</code> with <code>META-INF/services/com.foo.someInterfaceName</code> style, or using the newer SPI stuff in <code>module-info.java</code> - the 'provider' has to opt into being listed.</p>\n<p>Which gets us back to: Nope. You cannot do what you are trying to do.</p>\n<h2>But I need to</h2>\n<p>Well, and I want a pony. And world peace. Your only real option is to hack it. Which means: Every new version of java may break your code, and it's possible (likely even) that some combination of JVM version, JVM provider (azul, openjdk, adoptium, etc), and OS breaks your stuff and there is <em>nobody</em> who will accept your bug reports on it, because it's not a bug.</p>\n<p>If you're willing to sign up to that gigantic headache, you can hack it. Specifically, you can ask for a well known resource such as <code>.getResource(&quot;java/lang/String.class&quot;)</code>, <code>toString()</code> the URL object you get, and then go to town on it: Figure out what that URL means and have code for each and every kind of resource URL you expect that knows how to unpack that URL and do the work.</p>\n<p>The URL returned by ClassLoaders can be literally anything, up to and including <code>data:</code> URLs or customized <code>blob://whatever</code> style URLs. It's therefore literally impossible: You can't write static code that can respond to a world where anybody can write a custom classloader. However, the vast majority of classloaders out there have <code>file</code>, <code>jar</code> or <code>jmod</code> URLs. So, if you write a handler for all 3, you can handle most, but not all, distribution strategies.</p>\n<p><code>file:</code> is easy enough - convert to a Path, lop off the <code>String.class</code>, <code>lang</code>, and <code>java</code> parts, and then add the package you are interested in, and now you have a <code>Path</code> object that you can toss at <code>Files.newDirectoryStream</code> and voila - you have your class listing. This is <strong>not</strong> a listing of all classes in the package, that's not possible. This is merely a list of all classes in the package <em>from that particular source</em> - there could be more (you can have 2 entries on the classpath that both have the same package. This is common, even, where one place hosts the actual code and another place hosts unit tests in the same package).</p>\n<p>For <code>jar:</code> URLs, find the <code>!</code>, turn the stuff in between <code>jar:</code> and <code>!</code> into a path, open it as a <code>new JarFile</code>, and look for entries with the right package prefix and you again have what you wanted.</p>\n<p>For <code>jmod:</code> URLs thats a bit more tricky - but the <code>jmod</code> tool exists and can list jmod contents, and you may have to peruse <a href=\"https://stackoverflow.com/questions/60082530/is-there-a-way-to-read-programmatically-a-jmod-file-in-java\">this SO question about how to read jmod files</a>.</p>\n<p>Yes, that's a ton of effort. Yes, that's the point - you're working around a fundamental problem which is that the classloader API simply <strong>does not allow you to list package contents</strong> and nevertheless you insist on doing it anyway. That usually results in 'lots of fragile, hard to maintain code'.</p>\n<p>Another option is to find a library that does this hacky fragile stuff for you. Perhaps the <a href=\"https://www.baeldung.com/reflections-library\" rel=\"nofollow noreferrer\">reflections</a> library can do this.</p>\n<p>NB: It's clear you got this line from <a href=\"https://www.baeldung.com/java-find-all-classes-in-package\" rel=\"nofollow noreferrer\">this baeldung tutorial</a> - usually baeldung is high quality. This entry.. isn't.</p>\n"}],"owner":{"account_id":104804,"reputation":1283,"user_id":280002,"accept_rate":50,"display_name":"alessandro ferrucci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680639568,"creation_date":1680610328,"question_id":75929262,"body_markdown":"I have a very simple program that attempts to read class files under a given package.  This works fine locally (JDK 11) but when I run it on a Red Hat Linux 8 server (JDK 11), the same exact code returns back an empty array `[]`.\r\n\r\nHere is the code:\r\n```java\r\npublic static Set&lt;Class&gt; getClassesFromPackage(String packageName) throws ClassNotFoundException {\r\n    logger.debug(String.format(&quot;Getting classes from package %s&quot;, packageName));\r\n    InputStream stream = ClassLoader.getSystemClassLoader().getResourceAsStream(packageName.replaceAll(&quot;[.]&quot;, &quot;/&quot;));\r\n    logger.debug(&quot;stream: &quot; + stream);\r\n    if (stream != null) {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(stream));\r\n        return reader.lines()\r\n                     .filter(line -&gt; line.endsWith(&quot;.class&quot;))\r\n                     .map(line -&gt; getClass(line, packageName))\r\n                     .filter(clazz -&gt; clazz != null)\r\n                     .collect(Collectors.toSet());\r\n    } else {\r\n        throw new ClassNotFoundException(String.format(&quot;package name %s doesn&#39;t exist&quot;, packageName));\r\n    }\r\n}\r\n```\r\nI&#39;m calling it as follows:\r\n```java\r\nSet&lt;Class&gt; classes = getClassesFromPackage(&quot;foo&quot;);\r\nlogger.info(&quot;classes: &quot; + classes);\r\n```\r\nLocally I get the following:\r\n\r\n```none\r\nclasses: [class foo.Test]\r\n```\r\nOn the server, I get the following:\r\n```none\r\nclasses: []\r\n```\r\nThere are no errors thrown or logged.\r\n\r\nAny ideas?","title":"Reading classes from System Class Loader returns empty array","body":"<p>I have a very simple program that attempts to read class files under a given package.  This works fine locally (JDK 11) but when I run it on a Red Hat Linux 8 server (JDK 11), the same exact code returns back an empty array <code>[]</code>.</p>\n<p>Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Set&lt;Class&gt; getClassesFromPackage(String packageName) throws ClassNotFoundException {\n    logger.debug(String.format(&quot;Getting classes from package %s&quot;, packageName));\n    InputStream stream = ClassLoader.getSystemClassLoader().getResourceAsStream(packageName.replaceAll(&quot;[.]&quot;, &quot;/&quot;));\n    logger.debug(&quot;stream: &quot; + stream);\n    if (stream != null) {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(stream));\n        return reader.lines()\n                     .filter(line -&gt; line.endsWith(&quot;.class&quot;))\n                     .map(line -&gt; getClass(line, packageName))\n                     .filter(clazz -&gt; clazz != null)\n                     .collect(Collectors.toSet());\n    } else {\n        throw new ClassNotFoundException(String.format(&quot;package name %s doesn't exist&quot;, packageName));\n    }\n}\n</code></pre>\n<p>I'm calling it as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Class&gt; classes = getClassesFromPackage(&quot;foo&quot;);\nlogger.info(&quot;classes: &quot; + classes);\n</code></pre>\n<p>Locally I get the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>classes: [class foo.Test]\n</code></pre>\n<p>On the server, I get the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>classes: []\n</code></pre>\n<p>There are no errors thrown or logged.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","rest","sha","aws-event-bridge"],"owner":{"account_id":3674715,"reputation":63,"user_id":3061059,"display_name":"gstievenard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680639518,"creation_date":1680639518,"question_id":75933511,"body_markdown":"I&#39;m struggling making a REST request to AWS EventBridge (https://docs.aws.amazon.com/eventbridge/latest/APIReference/API_PutEvents.html). I am developing in Java and I cannot use the AWS SDK so I have implemented the REST call but I can&#39;t figure out why the provided signature is not accepted. Here is my code:\r\n\r\n\r\n```\r\npackage com.test;\r\n\r\nimport org.apache.http.HttpEntity;\r\nimport org.apache.http.HttpResponse;\r\nimport org.apache.http.client.HttpClient;\r\nimport org.apache.http.client.methods.HttpPost;\r\nimport org.apache.http.entity.StringEntity;\r\nimport org.apache.http.impl.client.HttpClients;\r\nimport org.apache.http.util.EntityUtils;\r\n\r\nimport javax.crypto.Mac;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.InvalidKeyException;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.Base64;\r\nimport java.util.UUID;\r\n\r\npublic class TestEventBridge {\r\n\r\n    public static void main(String[] args)\r\n            throws NoSuchAlgorithmException, InvalidKeyException, IOException, URISyntaxException {\r\n        // Define EventBridge endpoint URL\r\n        String endpointUrl = &quot;https://events.eu-west-3.amazonaws.com&quot;;\r\n        // Define AWS region\r\n        String awsRegion = &quot;eu-west-3&quot;;\r\n        // Define AWS access key ID\r\n        String awsAccessKeyId = &quot;xxx&quot;;\r\n        // Define AWS secret access key\r\n        String awsSecretAccessKey = &quot;xxx&quot;;\r\n        // Define the event to be sent\r\n        String event = &quot;{\\&quot;Entries\\&quot;:[{\\&quot;Source\\&quot;:\\&quot;com.test\\&quot;,\\&quot;Detail\\&quot;:\\&quot;{ \\\\\\&quot;title\\\\\\&quot;: \\\\\\&quot;my_title\\\\\\&quot;, \\\\\\&quot;businessDomain\\\\\\&quot;: \\\\\\&quot;mydomain\\\\\\&quot; }\\&quot;,\\&quot;Resources\\&quot;:[\\&quot;myasset.jpg\\&quot;],\\&quot;DetailType\\&quot;:\\&quot;asset_created_success\\&quot;}]}&quot;;\r\n\r\n        // Generate a unique ID for the request\r\n        String uuid = UUID.randomUUID().toString();\r\n\r\n        // Define the current time in UTC format\r\n        ZoneId zoneId = ZoneId.of(&quot;UTC&quot;);\r\n        LocalDateTime now = LocalDateTime.now(zoneId);\r\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&#39;T&#39;HHmmss&#39;Z&#39;&quot;);\r\n        String currentTime = now.format(dateTimeFormatter);\r\n\r\n        // Define the payload hash\r\n        String payloadHash = Base64.getEncoder().encodeToString(hash(event)).toLowerCase();\r\n\r\n        // Define the canonical request\r\n        String canonicalRequest = &quot;POST\\n/\\n\\ncontent-type:application/x-amz-json-1.1\\nhost:&quot; + endpointUrl.split(&quot;//&quot;)[1] + &quot;\\nx-amz-date:&quot; + currentTime + &quot;\\nx-amz-target:AWSEvents.PutEvents\\n\\ncontent-type;host;x-amz-date;x-amz-target\\n&quot; + payloadHash;\r\n\r\n        // Define the string to sign\r\n        String stringToSign = &quot;AWS4-HMAC-SHA256\\n&quot; + currentTime + &quot;\\n&quot; + now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)) + &quot;/&quot; + awsRegion + &quot;/events/aws4_request\\n&quot; + Base64.getEncoder().encodeToString(hash(canonicalRequest)).toLowerCase();\r\n\r\n        // Generate the signing key\r\n        byte[] kSecret = (&quot;AWS4&quot; + awsSecretAccessKey).getBytes(StandardCharsets.UTF_8);\r\n        byte[] kDate = hmacSHA256(now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)), kSecret);\r\n        byte[] kRegion = hmacSHA256(awsRegion, kDate);\r\n        byte[] kService = hmacSHA256(&quot;events&quot;, kRegion);\r\n        byte[] kSigning = hmacSHA256(&quot;aws4_request&quot;, kService);\r\n\r\n        // Generate the signature\r\n        String signature = Base64.getEncoder().encodeToString(hmacSHA256(stringToSign, kSigning)).toLowerCase();\r\n\r\n        // Define the authorization header\r\n        String authorizationHeader = &quot;AWS4-HMAC-SHA256 Credential=&quot; + awsAccessKeyId + &quot;/&quot; + now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)) + &quot;/&quot; + awsRegion + &quot;/events/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-target, Signature=&quot; + signature;\r\n\r\n        // Define the HTTP client\r\n        HttpClient httpClient = HttpClients.createDefault();\r\n\r\n        // Define the HTTP POST request\r\n        HttpPost httpPost = new HttpPost(new URI(endpointUrl));\r\n        httpPost.setHeader(&quot;content-type&quot;, &quot;application/x-amz-json-1.1&quot;);\r\n        httpPost.setHeader(&quot;host&quot;, endpointUrl.split(&quot;//&quot;)[1]);\r\n        httpPost.setHeader(&quot;x-amz-date&quot;, currentTime);\r\n        httpPost.setHeader(&quot;x-amz-target&quot;, &quot;AWSEvents.PutEvents&quot;);\r\n        httpPost.setHeader(&quot;Authorization&quot;, authorizationHeader);\r\n        HttpEntity httpEntity = new StringEntity(event);\r\n        httpPost.setEntity(httpEntity);\r\n\r\n        // Execute the HTTP request and get the response\r\n        HttpResponse httpResponse = httpClient.execute(httpPost);\r\n        System.out.println(EntityUtils.toString(httpResponse.getEntity()));\r\n        System.out.println(httpResponse.getStatusLine().getStatusCode());\r\n    }\r\n\r\n    private static byte[] hmacSHA256(String data, byte[] key) throws NoSuchAlgorithmException, InvalidKeyException {\r\n        String algorithm = &quot;HmacSHA256&quot;;\r\n        Mac mac = Mac.getInstance(algorithm);\r\n        mac.init(new SecretKeySpec(key, algorithm));\r\n        return mac.doFinal(data.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n\r\n    private static byte[] hash(String data) throws NoSuchAlgorithmException {\r\n        String algorithm = &quot;SHA-256&quot;;\r\n        return java.security.MessageDigest.getInstance(algorithm).digest(data.getBytes(StandardCharsets.UTF_8));\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhen making the request I get a 400 error from AWS with the message &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.&quot;\r\n\r\nI have tried different headers with no luck, the access key and secret key are ok.","title":"Unable to authenticate AWS Eventbridge REST request","body":"<p>I'm struggling making a REST request to AWS EventBridge (<a href=\"https://docs.aws.amazon.com/eventbridge/latest/APIReference/API_PutEvents.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/eventbridge/latest/APIReference/API_PutEvents.html</a>). I am developing in Java and I cannot use the AWS SDK so I have implemented the REST call but I can't figure out why the provided signature is not accepted. Here is my code:</p>\n<pre><code>package com.test;\n\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.entity.StringEntity;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.util.EntityUtils;\n\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.nio.charset.StandardCharsets;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Base64;\nimport java.util.UUID;\n\npublic class TestEventBridge {\n\n    public static void main(String[] args)\n            throws NoSuchAlgorithmException, InvalidKeyException, IOException, URISyntaxException {\n        // Define EventBridge endpoint URL\n        String endpointUrl = &quot;https://events.eu-west-3.amazonaws.com&quot;;\n        // Define AWS region\n        String awsRegion = &quot;eu-west-3&quot;;\n        // Define AWS access key ID\n        String awsAccessKeyId = &quot;xxx&quot;;\n        // Define AWS secret access key\n        String awsSecretAccessKey = &quot;xxx&quot;;\n        // Define the event to be sent\n        String event = &quot;{\\&quot;Entries\\&quot;:[{\\&quot;Source\\&quot;:\\&quot;com.test\\&quot;,\\&quot;Detail\\&quot;:\\&quot;{ \\\\\\&quot;title\\\\\\&quot;: \\\\\\&quot;my_title\\\\\\&quot;, \\\\\\&quot;businessDomain\\\\\\&quot;: \\\\\\&quot;mydomain\\\\\\&quot; }\\&quot;,\\&quot;Resources\\&quot;:[\\&quot;myasset.jpg\\&quot;],\\&quot;DetailType\\&quot;:\\&quot;asset_created_success\\&quot;}]}&quot;;\n\n        // Generate a unique ID for the request\n        String uuid = UUID.randomUUID().toString();\n\n        // Define the current time in UTC format\n        ZoneId zoneId = ZoneId.of(&quot;UTC&quot;);\n        LocalDateTime now = LocalDateTime.now(zoneId);\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd'T'HHmmss'Z'&quot;);\n        String currentTime = now.format(dateTimeFormatter);\n\n        // Define the payload hash\n        String payloadHash = Base64.getEncoder().encodeToString(hash(event)).toLowerCase();\n\n        // Define the canonical request\n        String canonicalRequest = &quot;POST\\n/\\n\\ncontent-type:application/x-amz-json-1.1\\nhost:&quot; + endpointUrl.split(&quot;//&quot;)[1] + &quot;\\nx-amz-date:&quot; + currentTime + &quot;\\nx-amz-target:AWSEvents.PutEvents\\n\\ncontent-type;host;x-amz-date;x-amz-target\\n&quot; + payloadHash;\n\n        // Define the string to sign\n        String stringToSign = &quot;AWS4-HMAC-SHA256\\n&quot; + currentTime + &quot;\\n&quot; + now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)) + &quot;/&quot; + awsRegion + &quot;/events/aws4_request\\n&quot; + Base64.getEncoder().encodeToString(hash(canonicalRequest)).toLowerCase();\n\n        // Generate the signing key\n        byte[] kSecret = (&quot;AWS4&quot; + awsSecretAccessKey).getBytes(StandardCharsets.UTF_8);\n        byte[] kDate = hmacSHA256(now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)), kSecret);\n        byte[] kRegion = hmacSHA256(awsRegion, kDate);\n        byte[] kService = hmacSHA256(&quot;events&quot;, kRegion);\n        byte[] kSigning = hmacSHA256(&quot;aws4_request&quot;, kService);\n\n        // Generate the signature\n        String signature = Base64.getEncoder().encodeToString(hmacSHA256(stringToSign, kSigning)).toLowerCase();\n\n        // Define the authorization header\n        String authorizationHeader = &quot;AWS4-HMAC-SHA256 Credential=&quot; + awsAccessKeyId + &quot;/&quot; + now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;)) + &quot;/&quot; + awsRegion + &quot;/events/aws4_request, SignedHeaders=content-type;host;x-amz-date;x-amz-target, Signature=&quot; + signature;\n\n        // Define the HTTP client\n        HttpClient httpClient = HttpClients.createDefault();\n\n        // Define the HTTP POST request\n        HttpPost httpPost = new HttpPost(new URI(endpointUrl));\n        httpPost.setHeader(&quot;content-type&quot;, &quot;application/x-amz-json-1.1&quot;);\n        httpPost.setHeader(&quot;host&quot;, endpointUrl.split(&quot;//&quot;)[1]);\n        httpPost.setHeader(&quot;x-amz-date&quot;, currentTime);\n        httpPost.setHeader(&quot;x-amz-target&quot;, &quot;AWSEvents.PutEvents&quot;);\n        httpPost.setHeader(&quot;Authorization&quot;, authorizationHeader);\n        HttpEntity httpEntity = new StringEntity(event);\n        httpPost.setEntity(httpEntity);\n\n        // Execute the HTTP request and get the response\n        HttpResponse httpResponse = httpClient.execute(httpPost);\n        System.out.println(EntityUtils.toString(httpResponse.getEntity()));\n        System.out.println(httpResponse.getStatusLine().getStatusCode());\n    }\n\n    private static byte[] hmacSHA256(String data, byte[] key) throws NoSuchAlgorithmException, InvalidKeyException {\n        String algorithm = &quot;HmacSHA256&quot;;\n        Mac mac = Mac.getInstance(algorithm);\n        mac.init(new SecretKeySpec(key, algorithm));\n        return mac.doFinal(data.getBytes(StandardCharsets.UTF_8));\n    }\n\n    private static byte[] hash(String data) throws NoSuchAlgorithmException {\n        String algorithm = &quot;SHA-256&quot;;\n        return java.security.MessageDigest.getInstance(algorithm).digest(data.getBytes(StandardCharsets.UTF_8));\n    }\n}\n</code></pre>\n<p>When making the request I get a 400 error from AWS with the message &quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.&quot;</p>\n<p>I have tried different headers with no luck, the access key and secret key are ok.</p>\n"},{"tags":["java","spring","cassandra"],"comments":[{"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"score":0,"creation_date":1680305816,"post_id":75902967,"comment_id":133881793,"body_markdown":"Can you please post the full error message + full stack trace? Cheers!","body":"Can you please post the full error message + full stack trace? Cheers!"},{"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"score":0,"creation_date":1680378412,"post_id":75902967,"comment_id":133889786,"body_markdown":"@ErickRamirez I have posted the Cassandra stack trace + the error log as an edit in the description above. Kindly do let me know if there is something more you are looking for.","body":"@ErickRamirez I have posted the Cassandra stack trace + the error log as an edit in the description above. Kindly do let me know if there is something more you are looking for."},{"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"score":0,"creation_date":1680596354,"post_id":75902967,"comment_id":133920748,"body_markdown":"@ErickRamirez how to I pass Cassandra username and password to the class extended by AbstractReactiveCassandraConfiguration in Spring 3.*? As I see getAuthProvider() has been deprecated in this version. My guess is this might be causing the error. I found a ```Authentication error (AuthenticationException: Authentication error on node``` exception.","body":"@ErickRamirez how to I pass Cassandra username and password to the class extended by AbstractReactiveCassandraConfiguration in Spring 3.*? As I see getAuthProvider() has been deprecated in this version. My guess is this might be causing the error. I found a <code>Authentication error (AuthenticationException: Authentication error on node</code> exception."}],"answers":[{"comments":[{"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"score":0,"creation_date":1680643818,"post_id":75933484,"comment_id":133932665,"body_markdown":"Nice!  Glad you figured it out!","body":"Nice!  Glad you figured it out!"}],"tags":[],"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680639283,"creation_date":1680639283,"answer_id":75933484,"question_id":75902967,"body_markdown":"Managed to solve this problem. The solution is as follows:\r\n\r\nSince I am on reactive version 3.0, the Cassandra details must be mentioned as follows:\r\n\r\n```\r\nspring.cassandra.contact-points=&lt;my connection points&gt;\r\nspring.cassandra.username=abc\r\nspring.cassandra.password=xyz\r\nspring.cassandra.local-datacenter=datacenter1\r\nspring.cassandra.keyspace-name=mykeyspace\r\nspring.cassandra.port=9042\r\nspring.cassandra.schema-action=NONE\r\n```\r\n\r\nMore importantly we require a @Configuration class defined as follows:\r\n\r\n```\r\n@Configuration\r\n@EnableReactiveCassandraRepositories\r\npublic class CassandraConfig extends AbstractReactiveCassandraConfiguration {\r\n    @Value(&quot;${spring.cassandra.contact-points}&quot;)\r\n    private String contactPoints;\r\n\r\n    @Value(&quot;${spring.cassandra.local-datacenter}&quot;)\r\n    private String localDatacenter;\r\n    \r\n    @Value(&quot;${spring.cassandra.port}&quot;)\r\n    private int port;\r\n    \r\n    @Value(&quot;${spring.cassandra.keyspace-name}&quot;)\r\n    private String keySpace;\r\n    \r\n    @Value(&quot;${spring.cassandra.username}&quot;)\r\n    private String username;\r\n    \r\n    @Value(&quot;${spring.cassandra.password}&quot;)\r\n    private String password;\r\n\r\n    @Value(&quot;${spring.cassandra.schema-action}&quot;)\r\n    private SchemaAction schemaAction;\r\n\r\n    @Override\r\n    protected String getContactPoints() {\r\n        return contactPoints;\r\n    }\r\n\r\n    @Override\r\n    protected int getPort() {\r\n        return port;\r\n    }\r\n\r\n    @Override\r\n    public SchemaAction getSchemaAction() {\r\n        return schemaAction;\r\n    }\r\n\r\n    @Override\r\n    protected String getKeyspaceName() {\r\n        return keySpace;\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public CqlSessionFactoryBean cassandraSession() {\r\n        CqlSessionFactoryBean cqlSessionFactoryBean = new CqlSessionFactoryBean();\r\n        cqlSessionFactoryBean.setUsername(username);\r\n        cqlSessionFactoryBean.setPassword(password);\r\n        cqlSessionFactoryBean.setKeyspaceName(keySpace);\r\n        cqlSessionFactoryBean.setLocalDatacenter(localDatacenter);\r\n        cqlSessionFactoryBean.setPort(port);\r\n        cqlSessionFactoryBean.setContactPoints(contactPoints);\r\n        return cqlSessionFactoryBean;\r\n    }\r\n}\r\n```","title":"Spring with Reactive Cassandra throws AllNodesFailedException exception and the service fails to start","body":"<p>Managed to solve this problem. The solution is as follows:</p>\n<p>Since I am on reactive version 3.0, the Cassandra details must be mentioned as follows:</p>\n<pre><code>spring.cassandra.contact-points=&lt;my connection points&gt;\nspring.cassandra.username=abc\nspring.cassandra.password=xyz\nspring.cassandra.local-datacenter=datacenter1\nspring.cassandra.keyspace-name=mykeyspace\nspring.cassandra.port=9042\nspring.cassandra.schema-action=NONE\n</code></pre>\n<p>More importantly we require a @Configuration class defined as follows:</p>\n<pre><code>@Configuration\n@EnableReactiveCassandraRepositories\npublic class CassandraConfig extends AbstractReactiveCassandraConfiguration {\n    @Value(&quot;${spring.cassandra.contact-points}&quot;)\n    private String contactPoints;\n\n    @Value(&quot;${spring.cassandra.local-datacenter}&quot;)\n    private String localDatacenter;\n    \n    @Value(&quot;${spring.cassandra.port}&quot;)\n    private int port;\n    \n    @Value(&quot;${spring.cassandra.keyspace-name}&quot;)\n    private String keySpace;\n    \n    @Value(&quot;${spring.cassandra.username}&quot;)\n    private String username;\n    \n    @Value(&quot;${spring.cassandra.password}&quot;)\n    private String password;\n\n    @Value(&quot;${spring.cassandra.schema-action}&quot;)\n    private SchemaAction schemaAction;\n\n    @Override\n    protected String getContactPoints() {\n        return contactPoints;\n    }\n\n    @Override\n    protected int getPort() {\n        return port;\n    }\n\n    @Override\n    public SchemaAction getSchemaAction() {\n        return schemaAction;\n    }\n\n    @Override\n    protected String getKeyspaceName() {\n        return keySpace;\n    }\n\n    @Bean\n    @Override\n    public CqlSessionFactoryBean cassandraSession() {\n        CqlSessionFactoryBean cqlSessionFactoryBean = new CqlSessionFactoryBean();\n        cqlSessionFactoryBean.setUsername(username);\n        cqlSessionFactoryBean.setPassword(password);\n        cqlSessionFactoryBean.setKeyspaceName(keySpace);\n        cqlSessionFactoryBean.setLocalDatacenter(localDatacenter);\n        cqlSessionFactoryBean.setPort(port);\n        cqlSessionFactoryBean.setContactPoints(contactPoints);\n        return cqlSessionFactoryBean;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75933484,"answer_count":1,"score":1,"last_activity_date":1680639283,"creation_date":1680299184,"question_id":75902967,"body_markdown":"I have built a Spring reactive application trying to connect to Cassandra. My code snippets are as follows:\r\n\r\n\r\n**Solution 1: Reactive Cassandra [Not Working]**\r\n\r\nMaven:\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-cassandra-reactive&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\napplication.yml file:\r\n\r\n```\r\nspring.data.cassandra.contact-points=&lt;my connection points&gt;\r\nspring.data.cassandra.username=abc\r\nspring.data.cassandra.password=xyz\r\nspring.data.cassandra.local-datacenter=datacenter1\r\nspring.data.cassandra.keyspace-name=mykeyspace\r\nspring.data.cassandra.port=9042\r\n```\r\n\r\nConfiguration:\r\n\r\n```\r\n@Configuration\r\n@EnableReactiveCassandraRepositories\r\npublic class LocalBeanConfig extends AbstractReactiveCassandraConfiguration {\r\n\r\n    @Override\r\n    protected String getKeyspaceName() {\r\n        return &quot;mykeyspace&quot;;\r\n    }\r\n```\r\n\r\nTable Class:\r\n\r\n```\r\n@AllArgsConstructor\r\n@Table(&quot;test_table&quot;)\r\npublic class TableClass {\r\n    @Getter\r\n    @PrimaryKey\r\n    @Column(&quot;id&quot;)\r\n    private String id;\r\n    @Column(&quot;value&quot;)\r\n    @Getter\r\n    private String value;\r\n}\r\n```\r\n\r\nRepository class:\r\n\r\n```\r\n@Repository\r\npublic interface TestAppRepository extends ReactiveCassandraRepository&lt;TableClass, String&gt; {\r\n\r\n}\r\n```\r\n\r\nFinally I am accessing Cassandra as follows:\r\n\r\n```\r\npublic class MyService {\r\n   private final TestAppRepository testRepository;\r\n\r\n   public void get(CrawlTask crawlTask) {\r\n        testRepository.findById(&quot;id_1&quot;).map(testAppConfig -&gt; test1(testAppConfig)).switchIfEmpty(Mono.just(test2()));\r\n    }\r\n}\r\n```\r\n\r\nIrrespective of this, I am unable to connect to reactive Cassandra and get the following exception on start up:\r\n\r\n```\r\nCaused by: com.datastax.oss.driver.api.core.AllNodesFailedException\r\n```\r\n\r\n\r\n\r\nOn the contrary, if I use Spring Cassandra instead of Reactive Cassandra, I am able to connect. My code snippets for the working solution are as follows:\r\n\r\n\r\n**Solution 2: Non-Reactive Cassandra [Working]**\r\n\r\nMaven:\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-cassandra&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\napplication.yml\r\n\r\n```\r\nspring.cassandra.contact-points=&lt;my connection points&gt;\r\nspring.cassandra.username=abc\r\nspring.cassandra.password=xyz\r\nspring.cassandra.local-datacenter=datacenter1\r\nspring.cassandra.keyspace-name=mykeyspace\r\nspring.cassandra.port=9042\r\n```\r\n\r\nTable class:\r\n\r\n```\r\n@AllArgsConstructor\r\n@Table(&quot;test_table&quot;)\r\npublic class TableClass {\r\n    @Getter\r\n    @PrimaryKey\r\n    @Column(&quot;id&quot;)\r\n    private String id;\r\n    @Column(&quot;value&quot;)\r\n    @Getter\r\n    private String value;\r\n}\r\n```\r\n\r\nRepository:\r\n\r\n```\r\npublic interface TestAppRepository extends CassandraRepository&lt;TableClass, String&gt; {\r\n\r\n}\r\n```\r\n\r\nFinally I am accessing Cassandra as follows:\r\n\r\n```\r\npublic class MyService {\r\n   private final TestAppRepository testRepository;\r\n\r\n   public void get(CrawlTask crawlTask) {\r\n        Mono.just(testRepository.findById(&quot;id_1&quot;).map(testAppConfig -&gt; test1(testAppConfig)).orElse(test2()));\r\n    }\r\n}\r\n```\r\n\r\nIn this way I am able to access the Cassandra table without a problem.\r\n\r\nNow the major difference I see between the two solutions, solution 1 [not working] and solution 2 [working] is the way the Cassandra configs are being defined.\r\n\r\nIn the non-reactive case we use ```spring.cassandra``` and in the reactive case we use ```spring.data.cassandra```.\r\n\r\nI have also tried writing configs using ```spring.cassandra``` with the reactive case. Here the service starts up, but while getting data from the table, it fails to get any data. [inside MyService]\r\n\r\nI am not sure why the non-reactive solution works but the reactive one does not. What am I missing here? Can someone kindly help me out?\r\n\r\n\r\n***Edit 1:***\r\n\r\nAs requested, sharing the complete Cassandra stack trace + error log:\r\n\r\n\r\n```\r\n s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Cassandra repositories in DEFAULT mode.\r\n.s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 1 Reactive Cassandra repository interfaces.\r\n.s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Cassandra repositories in DEFAULT mode.\r\n.s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Cassandra repository interfaces.\r\n\r\nc.d.o.d.i.core.DefaultMavenCoordinates   : DataStax Java driver for Apache Cassandra(R) (com.datastax.oss:java-driver-core) version 4.15.0\r\nc.d.oss.driver.internal.core.time.Clock  : Using native clock for microsecond precision\r\nc.d.o.d.i.c.control.ControlConnection    : [s0] Error connecting to Node(endPoint=/127.0.0.1:9042, hostId=null, hashCode=3f2701f1), trying next node (ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request\r\n```","title":"Spring with Reactive Cassandra throws AllNodesFailedException exception and the service fails to start","body":"<p>I have built a Spring reactive application trying to connect to Cassandra. My code snippets are as follows:</p>\n<p><strong>Solution 1: Reactive Cassandra [Not Working]</strong></p>\n<p>Maven:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-cassandra-reactive&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>application.yml file:</p>\n<pre><code>spring.data.cassandra.contact-points=&lt;my connection points&gt;\nspring.data.cassandra.username=abc\nspring.data.cassandra.password=xyz\nspring.data.cassandra.local-datacenter=datacenter1\nspring.data.cassandra.keyspace-name=mykeyspace\nspring.data.cassandra.port=9042\n</code></pre>\n<p>Configuration:</p>\n<pre><code>@Configuration\n@EnableReactiveCassandraRepositories\npublic class LocalBeanConfig extends AbstractReactiveCassandraConfiguration {\n\n    @Override\n    protected String getKeyspaceName() {\n        return &quot;mykeyspace&quot;;\n    }\n</code></pre>\n<p>Table Class:</p>\n<pre><code>@AllArgsConstructor\n@Table(&quot;test_table&quot;)\npublic class TableClass {\n    @Getter\n    @PrimaryKey\n    @Column(&quot;id&quot;)\n    private String id;\n    @Column(&quot;value&quot;)\n    @Getter\n    private String value;\n}\n</code></pre>\n<p>Repository class:</p>\n<pre><code>@Repository\npublic interface TestAppRepository extends ReactiveCassandraRepository&lt;TableClass, String&gt; {\n\n}\n</code></pre>\n<p>Finally I am accessing Cassandra as follows:</p>\n<pre><code>public class MyService {\n   private final TestAppRepository testRepository;\n\n   public void get(CrawlTask crawlTask) {\n        testRepository.findById(&quot;id_1&quot;).map(testAppConfig -&gt; test1(testAppConfig)).switchIfEmpty(Mono.just(test2()));\n    }\n}\n</code></pre>\n<p>Irrespective of this, I am unable to connect to reactive Cassandra and get the following exception on start up:</p>\n<pre><code>Caused by: com.datastax.oss.driver.api.core.AllNodesFailedException\n</code></pre>\n<p>On the contrary, if I use Spring Cassandra instead of Reactive Cassandra, I am able to connect. My code snippets for the working solution are as follows:</p>\n<p><strong>Solution 2: Non-Reactive Cassandra [Working]</strong></p>\n<p>Maven:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-cassandra&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring.cassandra.contact-points=&lt;my connection points&gt;\nspring.cassandra.username=abc\nspring.cassandra.password=xyz\nspring.cassandra.local-datacenter=datacenter1\nspring.cassandra.keyspace-name=mykeyspace\nspring.cassandra.port=9042\n</code></pre>\n<p>Table class:</p>\n<pre><code>@AllArgsConstructor\n@Table(&quot;test_table&quot;)\npublic class TableClass {\n    @Getter\n    @PrimaryKey\n    @Column(&quot;id&quot;)\n    private String id;\n    @Column(&quot;value&quot;)\n    @Getter\n    private String value;\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public interface TestAppRepository extends CassandraRepository&lt;TableClass, String&gt; {\n\n}\n</code></pre>\n<p>Finally I am accessing Cassandra as follows:</p>\n<pre><code>public class MyService {\n   private final TestAppRepository testRepository;\n\n   public void get(CrawlTask crawlTask) {\n        Mono.just(testRepository.findById(&quot;id_1&quot;).map(testAppConfig -&gt; test1(testAppConfig)).orElse(test2()));\n    }\n}\n</code></pre>\n<p>In this way I am able to access the Cassandra table without a problem.</p>\n<p>Now the major difference I see between the two solutions, solution 1 [not working] and solution 2 [working] is the way the Cassandra configs are being defined.</p>\n<p>In the non-reactive case we use <code>spring.cassandra</code> and in the reactive case we use <code>spring.data.cassandra</code>.</p>\n<p>I have also tried writing configs using <code>spring.cassandra</code> with the reactive case. Here the service starts up, but while getting data from the table, it fails to get any data. [inside MyService]</p>\n<p>I am not sure why the non-reactive solution works but the reactive one does not. What am I missing here? Can someone kindly help me out?</p>\n<p><em><strong>Edit 1:</strong></em></p>\n<p>As requested, sharing the complete Cassandra stack trace + error log:</p>\n<pre><code> s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Cassandra repositories in DEFAULT mode.\n.s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 1 Reactive Cassandra repository interfaces.\n.s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Cassandra repositories in DEFAULT mode.\n.s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Cassandra repository interfaces.\n\nc.d.o.d.i.core.DefaultMavenCoordinates   : DataStax Java driver for Apache Cassandra(R) (com.datastax.oss:java-driver-core) version 4.15.0\nc.d.oss.driver.internal.core.time.Clock  : Using native clock for microsecond precision\nc.d.o.d.i.c.control.ControlConnection    : [s0] Error connecting to Node(endPoint=/127.0.0.1:9042, hostId=null, hashCode=3f2701f1), trying next node (ConnectionInitException: [s0|control|connecting...] Protocol initialization request, step 1 (OPTIONS): failed to send request\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch","spring-batch-tasklet"],"answers":[{"comments":[{"owner":{"account_id":12655515,"reputation":37,"user_id":9198175,"display_name":"Chaithra Rai"},"score":0,"creation_date":1680699465,"post_id":75933473,"comment_id":133942059,"body_markdown":"The read, process and write would be executed each time for every 10 chunks right? is there any way I would be able to do it in such a manner where create a tasklet and probably fetch list of ids and use that as the source for read? when i did thing of this approach I am not able to find a way to access info for this. I am not sure if I am making much sense do let me know if this made sense. basically I had implemented this approach but i would like to optimise it in a better way.","body":"The read, process and write would be executed each time for every 10 chunks right? is there any way I would be able to do it in such a manner where create a tasklet and probably fetch list of ids and use that as the source for read? when i did thing of this approach I am not able to find a way to access info for this. I am not sure if I am making much sense do let me know if this made sense. basically I had implemented this approach but i would like to optimise it in a better way."}],"tags":[],"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680639195,"creation_date":1680639195,"answer_id":75933473,"question_id":75928811,"body_markdown":"First create the following beans for reading, processing and writing the data to a new csv file\r\n```\r\n@Bean\r\npublic FlatFileItemReader&lt;MyObject&gt; reader() {\r\n    FlatFileItemReader&lt;MyObject&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n    reader.setResource(new ClassPathResource(&quot;data.csv&quot;));\r\n    reader.setLineMapper(new DefaultLineMapper&lt;MyObject&gt;() {{\r\n        setLineTokenizer(new DelimitedLineTokenizer() {{\r\n            setNames(&quot;id&quot;, &quot;info&quot;);\r\n        }});\r\n        setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;MyObject&gt;() {{\r\n            setTargetType(MyObject.class);\r\n        }});\r\n    }});\r\n    return reader;\r\n}\r\n\r\n@Bean\r\npublic ItemProcessor&lt;MyObject, MyObject&gt; processor(List&lt;String&gt; activeIds) {\r\n    return item -&gt; {\r\n        if (activeIds.contains(item.getId())) {\r\n            return item;\r\n        } else {\r\n            return null;\r\n        }\r\n    };\r\n}\r\n\r\n@Bean\r\npublic FlatFileItemWriter&lt;MyObject&gt; writer() {\r\n    FlatFileItemWriter&lt;MyObject&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n    writer.setResource(new FileSystemResource(&quot;filtered_data.csv&quot;));\r\n    writer.setLineAggregator(new DelimitedLineAggregator&lt;MyObject&gt;() {{\r\n        setDelimiter(&quot;,&quot;);\r\n        setFieldExtractor(new BeanWrapperFieldExtractor&lt;MyObject&gt;() {{\r\n            setNames(new String[]{&quot;id&quot;, &quot;info&quot;});\r\n        }});\r\n    }});\r\n    return writer;\r\n}\r\n\r\n@Bean\r\npublic Job filterJob(JobBuilderFactory jobs, StepBuilderFactory steps,\r\n                     FlatFileItemReader&lt;MyObject&gt; reader, ItemProcessor&lt;MyObject, MyObject&gt; processor,\r\n                     FlatFileItemWriter&lt;MyObject&gt; writer) {\r\n    Step step = steps.get(&quot;filterStep&quot;)\r\n            .&lt;MyObject, MyObject&gt;chunk(10)\r\n            .reader(reader)\r\n            .processor(processor)\r\n            .writer(writer)\r\n            .build();\r\n\r\n    return jobs.get(&quot;filterJob&quot;)\r\n            .incrementer(new RunIdIncrementer())\r\n            .flow(step)\r\n            .end()\r\n            .build();\r\n}\r\n```\r\nNow create runJob method as below \r\n```\r\n@Autowired\r\nprivate JobLauncher jobLauncher;\r\n\r\n@Autowired\r\nprivate Job filterJob;\r\n\r\npublic void runJob(List&lt;String&gt; activeIds) {\r\n    JobParameters jobParameters = new JobParametersBuilder()\r\n            .addString(&quot;ids&quot;, String.join(&quot;,&quot;, activeIds))\r\n            .toJobParameters();\r\n    jobLauncher.run(filterJob, jobParameters);\r\n}\r\n```\r\nNow, this runJob method can read the data from the CSV file, filter out any data that has an id not present in the list of active ids, and write the filtered data to a new CSV file as below if you pass activeIds\r\n```\r\nrunJob(activeIds);\r\n```","title":"How to Read only selected Data that satisfies a condition from csv using Spring Batch","body":"<p>First create the following beans for reading, processing and writing the data to a new csv file</p>\n<pre><code>@Bean\npublic FlatFileItemReader&lt;MyObject&gt; reader() {\n    FlatFileItemReader&lt;MyObject&gt; reader = new FlatFileItemReader&lt;&gt;();\n    reader.setResource(new ClassPathResource(&quot;data.csv&quot;));\n    reader.setLineMapper(new DefaultLineMapper&lt;MyObject&gt;() {{\n        setLineTokenizer(new DelimitedLineTokenizer() {{\n            setNames(&quot;id&quot;, &quot;info&quot;);\n        }});\n        setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;MyObject&gt;() {{\n            setTargetType(MyObject.class);\n        }});\n    }});\n    return reader;\n}\n\n@Bean\npublic ItemProcessor&lt;MyObject, MyObject&gt; processor(List&lt;String&gt; activeIds) {\n    return item -&gt; {\n        if (activeIds.contains(item.getId())) {\n            return item;\n        } else {\n            return null;\n        }\n    };\n}\n\n@Bean\npublic FlatFileItemWriter&lt;MyObject&gt; writer() {\n    FlatFileItemWriter&lt;MyObject&gt; writer = new FlatFileItemWriter&lt;&gt;();\n    writer.setResource(new FileSystemResource(&quot;filtered_data.csv&quot;));\n    writer.setLineAggregator(new DelimitedLineAggregator&lt;MyObject&gt;() {{\n        setDelimiter(&quot;,&quot;);\n        setFieldExtractor(new BeanWrapperFieldExtractor&lt;MyObject&gt;() {{\n            setNames(new String[]{&quot;id&quot;, &quot;info&quot;});\n        }});\n    }});\n    return writer;\n}\n\n@Bean\npublic Job filterJob(JobBuilderFactory jobs, StepBuilderFactory steps,\n                     FlatFileItemReader&lt;MyObject&gt; reader, ItemProcessor&lt;MyObject, MyObject&gt; processor,\n                     FlatFileItemWriter&lt;MyObject&gt; writer) {\n    Step step = steps.get(&quot;filterStep&quot;)\n            .&lt;MyObject, MyObject&gt;chunk(10)\n            .reader(reader)\n            .processor(processor)\n            .writer(writer)\n            .build();\n\n    return jobs.get(&quot;filterJob&quot;)\n            .incrementer(new RunIdIncrementer())\n            .flow(step)\n            .end()\n            .build();\n}\n</code></pre>\n<p>Now create runJob method as below</p>\n<pre><code>@Autowired\nprivate JobLauncher jobLauncher;\n\n@Autowired\nprivate Job filterJob;\n\npublic void runJob(List&lt;String&gt; activeIds) {\n    JobParameters jobParameters = new JobParametersBuilder()\n            .addString(&quot;ids&quot;, String.join(&quot;,&quot;, activeIds))\n            .toJobParameters();\n    jobLauncher.run(filterJob, jobParameters);\n}\n</code></pre>\n<p>Now, this runJob method can read the data from the CSV file, filter out any data that has an id not present in the list of active ids, and write the filtered data to a new CSV file as below if you pass activeIds</p>\n<pre><code>runJob(activeIds);\n</code></pre>\n"}],"owner":{"account_id":12655515,"reputation":37,"user_id":9198175,"display_name":"Chaithra Rai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75933473,"answer_count":1,"score":0,"last_activity_date":1680639195,"creation_date":1680607725,"question_id":75928811,"body_markdown":"I have a csv with [id,info] and I have access to a service which returns me a list of ids(say ActiveIds). I would like to read from the csv only those ids that are present in ActiveIds and would like to access info from the first csv for the info of these selected ids. what are multiple optimised approach for these?","title":"How to Read only selected Data that satisfies a condition from csv using Spring Batch","body":"<p>I have a csv with [id,info] and I have access to a service which returns me a list of ids(say ActiveIds). I would like to read from the csv only those ids that are present in ActiveIds and would like to access info from the first csv for the info of these selected ids. what are multiple optimised approach for these?</p>\n"},{"tags":["java","scala","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":82425,"reputation":8280,"user_id":231762,"display_name":"kkrugler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680638794,"creation_date":1680638794,"answer_id":75933424,"question_id":75929433,"body_markdown":"See [Flink Amazon S3](https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/deployment/filesystems/s3/#hadooppresto-s3-file-systems-plugins) documentation. You should be able to use `s3a://&lt;data path&gt;` for your data sink, and `s3p://&lt;checkpointing path&gt;` for your checkpoints.","title":"Flink with 2 different S3 endpoints","body":"<p>See <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/deployment/filesystems/s3/#hadooppresto-s3-file-systems-plugins\" rel=\"nofollow noreferrer\">Flink Amazon S3</a> documentation. You should be able to use <code>s3a://&lt;data path&gt;</code> for your data sink, and <code>s3p://&lt;checkpointing path&gt;</code> for your checkpoints.</p>\n"}],"owner":{"account_id":15999524,"reputation":178,"user_id":11546605,"display_name":"Dominik21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680638794,"creation_date":1680611527,"question_id":75929433,"body_markdown":"I have an s3 endpoint defined in my flink cluster, which is then used for `s3[a/p]://` filesystem. This filesystem is used for checkpointing and for sinking using Filesink (created with BulkFormatBuilder). Paths are then defined in cluster config yaml like `s3p://bckt/savepoints `. However, I would like to define a different S3 endpoint for checkpointing and for sinking. Is that possible ? To either have 2 same Filesystem types for different endpoints or to somehow override endpoint either for checkpoints or FileSink\r\n\r\nI can think of replacing FileSink with a WindowFunction, which would write bulk of windowed data into file in overriden process function. Or somehow override filesink so it takes filesystem as parameter, which I&#39;m going to look at in more detail.\r\n\r\nI am using only DataStream API.","title":"Flink with 2 different S3 endpoints","body":"<p>I have an s3 endpoint defined in my flink cluster, which is then used for <code>s3[a/p]://</code> filesystem. This filesystem is used for checkpointing and for sinking using Filesink (created with BulkFormatBuilder). Paths are then defined in cluster config yaml like <code>s3p://bckt/savepoints </code>. However, I would like to define a different S3 endpoint for checkpointing and for sinking. Is that possible ? To either have 2 same Filesystem types for different endpoints or to somehow override endpoint either for checkpoints or FileSink</p>\n<p>I can think of replacing FileSink with a WindowFunction, which would write bulk of windowed data into file in overriden process function. Or somehow override filesink so it takes filesystem as parameter, which I'm going to look at in more detail.</p>\n<p>I am using only DataStream API.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":479869,"reputation":5332,"user_id":892788,"accept_rate":90,"display_name":"diyoda_"},"score":1,"creation_date":1492758397,"post_id":43535995,"comment_id":74124291,"body_markdown":"Have a look [here](http://stackoverflow.com/a/18064247/892788)","body":"Have a look <a href=\"http://stackoverflow.com/a/18064247/892788\">here</a>"},{"owner":{"account_id":4514154,"reputation":137,"user_id":3669480,"accept_rate":25,"display_name":"Narendra"},"score":3,"creation_date":1492758685,"post_id":43535995,"comment_id":74124464,"body_markdown":"do right click on the project go to maven do update maven  project make sure maven dependencies should be added your buildpath","body":"do right click on the project go to maven do update maven  project make sure maven dependencies should be added your buildpath"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":6,"creation_date":1492758815,"post_id":43535995,"comment_id":74124547,"body_markdown":"First check your maven build on command line which means test the following on plain command line: `mvn clean package` if you have any errors messages etc.","body":"First check your maven build on command line which means test the following on plain command line: <code>mvn clean package</code> if you have any errors messages etc."},{"owner":{"account_id":3709957,"reputation":1048,"user_id":3087555,"accept_rate":53,"display_name":"ZeppRock"},"score":0,"creation_date":1492759691,"post_id":43535995,"comment_id":74125112,"body_markdown":"We did clean install and got build success, but it&#39;s still not working. It says:\n`could not transfer artifact xxxx from/to internal repository`","body":"We did clean install and got build success, but it&#39;s still not working. It says: <code>could not transfer artifact xxxx from&#47;to internal repository</code>"},{"owner":{"account_id":3259438,"reputation":1802,"user_id":2745277,"accept_rate":60,"display_name":"Pratik Shah"},"score":0,"creation_date":1492760700,"post_id":43535995,"comment_id":74125745,"body_markdown":"Is there any error in `pom.xml` in your friend&#39;s setup. If yes then please add it to your question. Is the dependency you are having problem with is your private library or available on maven central ? If it is private then have your friend installed in in his local or have you deployed it on any maven repository ?","body":"Is there any error in <code>pom.xml</code> in your friend&#39;s setup. If yes then please add it to your question. Is the dependency you are having problem with is your private library or available on maven central ? If it is private then have your friend installed in in his local or have you deployed it on any maven repository ?"},{"owner":{"account_id":3709957,"reputation":1048,"user_id":3087555,"accept_rate":53,"display_name":"ZeppRock"},"score":0,"creation_date":1492763491,"post_id":43535995,"comment_id":74127376,"body_markdown":"Okay, we found the problem. The problem was that Intellij did not have the correct path to the settings.xml in the .m2 folder wich was why it didn&#39;t get all the dependencies it needed. Thanks for the help everyone!","body":"Okay, we found the problem. The problem was that Intellij did not have the correct path to the settings.xml in the .m2 folder wich was why it didn&#39;t get all the dependencies it needed. Thanks for the help everyone!"}],"answers":[{"tags":[],"owner":{"account_id":4210903,"reputation":3167,"user_id":3448633,"accept_rate":93,"display_name":"Mobility"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492759758,"creation_date":1492759758,"answer_id":43536514,"question_id":43535995,"body_markdown":"if all needed maven jars have been downloaded ,\r\n \r\ntry update the local repository manually in setting---maven---repositories.","title":"Maven dependency not found","body":"<p>if all needed maven jars have been downloaded ,</p>\n\n<p>try update the local repository manually in setting---maven---repositories.</p>\n"},{"tags":[],"owner":{"account_id":10677573,"reputation":90,"user_id":7860568,"display_name":"Kaiizok"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492760344,"creation_date":1492760344,"answer_id":43536716,"question_id":43535995,"body_markdown":"You could do try with the following solutions:\r\n\r\n1.Check if your friend is using any proxy, if so add the proxy settings in the settings.xml of maven folder.\r\n\r\n    &lt;proxies&gt;\r\n    \t\t&lt;proxy&gt;\r\n    \t\t\t&lt;id&gt;optional&lt;/id&gt;\r\n    \t\t\t&lt;active&gt;true&lt;/active&gt;\r\n    \t\t\t&lt;protocol&gt;http&lt;/protocol&gt;\r\n    \t\t\t&lt;host&gt;somthing.com&lt;/host&gt;\r\n    \t\t\t&lt;port&gt;portnumber&lt;/port&gt;\r\n    \t\t&lt;/proxy&gt;\r\n    \r\n    \t&lt;/proxies&gt;\r\n\r\n2. update maven and then check with latest version whether you are able to download.\r\n3. you could manually download jars and then update the repository settings in settings.xml ","title":"Maven dependency not found","body":"<p>You could do try with the following solutions:</p>\n\n<p>1.Check if your friend is using any proxy, if so add the proxy settings in the settings.xml of maven folder.</p>\n\n<pre><code>&lt;proxies&gt;\n        &lt;proxy&gt;\n            &lt;id&gt;optional&lt;/id&gt;\n            &lt;active&gt;true&lt;/active&gt;\n            &lt;protocol&gt;http&lt;/protocol&gt;\n            &lt;host&gt;somthing.com&lt;/host&gt;\n            &lt;port&gt;portnumber&lt;/port&gt;\n        &lt;/proxy&gt;\n\n    &lt;/proxies&gt;\n</code></pre>\n\n<ol start=\"2\">\n<li>update maven and then check with latest version whether you are able to download.</li>\n<li>you could manually download jars and then update the repository settings in settings.xml </li>\n</ol>\n"},{"comments":[{"owner":{"account_id":421747,"reputation":340,"user_id":800140,"accept_rate":17,"display_name":"Chris Clark"},"score":5,"creation_date":1587142040,"post_id":43544149,"comment_id":108401985,"body_markdown":"This was driving me crazy!  I noticed that IntelliJ was not able to find the bytebuddy dependency and after verifying that I had the correct dependency block, I did this and it worked.  Specifically, I used IntelliJ&#39;s Maven -&gt; Reimport function.\n\nNice to know that a 3-year old solution still works &#128515;","body":"This was driving me crazy!  I noticed that IntelliJ was not able to find the bytebuddy dependency and after verifying that I had the correct dependency block, I did this and it worked.  Specifically, I used IntelliJ&#39;s Maven -&gt; Reimport function.  Nice to know that a 3-year old solution still works 😃"},{"owner":{"account_id":10548538,"reputation":549,"user_id":7771926,"display_name":"Nestor"},"score":1,"creation_date":1647441572,"post_id":43544149,"comment_id":126372448,"body_markdown":"Thanks, it worked. For some reason idea/maven wasnt downloading added dependency","body":"Thanks, it worked. For some reason idea/maven wasnt downloading added dependency"}],"tags":[],"owner":{"account_id":5395171,"reputation":3745,"user_id":4296607,"display_name":"JUAN CALVOPINA M"},"comment_count":2,"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1492781689,"creation_date":1492781689,"answer_id":43544149,"question_id":43535995,"body_markdown":"I think the problem is not IntelliJ, I think maven can not download the dependencies, so you can try to force the dependencies download with the following command:\r\n\r\n    mvn clean install -U\r\n\r\n","title":"Maven dependency not found","body":"<p>I think the problem is not IntelliJ, I think maven can not download the dependencies, so you can try to force the dependencies download with the following command:</p>\n\n<pre><code>mvn clean install -U\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21480993,"reputation":51,"user_id":15828363,"display_name":"tran tan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620096426,"creation_date":1620096426,"answer_id":67378147,"question_id":43535995,"body_markdown":"For me, I open the maven tab I observe the jar was broken. I did the below steps to resolve the issue.\r\n1. Remove that not found dependency in the pom \r\n2. Refresh the maven to remove that broken jar\r\n3. Add the dependency back to the pom, then refresh the maven to redownload the jars.\r\n\r\nit worked for me.","title":"Maven dependency not found","body":"<p>For me, I open the maven tab I observe the jar was broken. I did the below steps to resolve the issue.</p>\n<ol>\n<li>Remove that not found dependency in the pom</li>\n<li>Refresh the maven to remove that broken jar</li>\n<li>Add the dependency back to the pom, then refresh the maven to redownload the jars.</li>\n</ol>\n<p>it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":23402464,"reputation":171,"user_id":17465424,"display_name":"user17465424"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1637423096,"creation_date":1637423096,"answer_id":70047445,"question_id":43535995,"body_markdown":"Here is what I have done when I was facing the same problem,\r\nRight Click Project folder\r\nGo to Maven\r\nReload Project, it should download the dependencies.","title":"Maven dependency not found","body":"<p>Here is what I have done when I was facing the same problem,\nRight Click Project folder\nGo to Maven\nReload Project, it should download the dependencies.</p>\n"},{"tags":[],"owner":{"account_id":18265716,"reputation":1,"user_id":14495986,"display_name":"Dolche"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643276480,"creation_date":1638307493,"answer_id":70176259,"question_id":43535995,"body_markdown":"Try to remove checkbox off work offline mode \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cc5GT.png","title":"Maven dependency not found","body":"<p>Try to remove checkbox off work offline mode\n<a href=\"https://i.stack.imgur.com/cc5GT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cc5GT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":26687607,"reputation":1,"user_id":20296663,"display_name":"烧烤打卡打卡"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680638597,"creation_date":1680638569,"answer_id":75933397,"question_id":43535995,"body_markdown":"Check whether you write the dependency inside label `&lt;dependencyManagement&gt;`","title":"Maven dependency not found","body":"<p>Check whether you write the dependency inside label <code>&lt;dependencyManagement&gt;</code></p>\n"}],"owner":{"account_id":3709957,"reputation":1048,"user_id":3087555,"accept_rate":53,"display_name":"ZeppRock"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147564,"favorite_count":0,"down_vote_count":1,"up_vote_count":40,"answer_count":7,"score":39,"last_activity_date":1680638597,"creation_date":1492758128,"question_id":43535995,"body_markdown":"Me and my friend are working on a Java maven project, the setup is identical as we get the project from git. On my setup Maven imports all dependencies correctly but for my friend it won&#39;t find any dependencies.\r\n\r\nThings we have tried:\r\n\r\n* Uninstalling and reinstalling Intellij\r\n\r\n* Invalidate caches/Restart\r\n\r\n* Deleting the maven folder in the .Intellij folder and deleting the *.iml and .idea folder and restarted Intellij\r\n\r\n* Right click on project, clicked on maven and clicked reimport.\r\n\r\nWe both have access to the internet so that shouldn&#39;t be the problem either. Also, Maven is set to auto-import in Intellij.\r\n","title":"Maven dependency not found","body":"<p>Me and my friend are working on a Java maven project, the setup is identical as we get the project from git. On my setup Maven imports all dependencies correctly but for my friend it won't find any dependencies.</p>\n\n<p>Things we have tried:</p>\n\n<ul>\n<li><p>Uninstalling and reinstalling Intellij</p></li>\n<li><p>Invalidate caches/Restart</p></li>\n<li><p>Deleting the maven folder in the .Intellij folder and deleting the *.iml and .idea folder and restarted Intellij</p></li>\n<li><p>Right click on project, clicked on maven and clicked reimport.</p></li>\n</ul>\n\n<p>We both have access to the internet so that shouldn't be the problem either. Also, Maven is set to auto-import in Intellij.</p>\n"},{"tags":["java","java-time","localdate","datetimeformatter"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675378030,"post_id":75329634,"comment_id":132922176,"body_markdown":"Try parsing it to `LocalDateTime`, if that fails, try parsing it to `LocalDate` and the append the &quot;time&quot; component to that to get a `LocalDateTime`.  You &quot;could&quot; use a regular expression, but you only be testing for the existence of numbers where the time should be, not verifying that the values are actually correct","body":"Try parsing it to <code>LocalDateTime</code>, if that fails, try parsing it to <code>LocalDate</code> and the append the &quot;time&quot; component to that to get a <code>LocalDateTime</code>.  You &quot;could&quot; use a regular expression, but you only be testing for the existence of numbers where the time should be, not verifying that the values are actually correct"},{"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"score":0,"creation_date":1675378284,"post_id":75329634,"comment_id":132922219,"body_markdown":"I can try to do that. But this might raise the question, what if parsing LocalDate fails, because the &quot;data&quot; might be corrupted like if only year part comes &quot;2025&quot;.","body":"I can try to do that. But this might raise the question, what if parsing LocalDate fails, because the &quot;data&quot; might be corrupted like if only year part comes &quot;2025&quot;."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1675378406,"post_id":75329634,"comment_id":132922231,"body_markdown":"Then you need to handle those possibilities - if neither the `LocalDate` or `LocalDateTime` parse the input, then assume the input is incorrect - again, if it&#39;s &quot;really&quot; important, you could use a regular expression, but again, even if it passes, that&#39;s not guarantee that the data represents a valid date/time","body":"Then you need to handle those possibilities - if neither the <code>LocalDate</code> or <code>LocalDateTime</code> parse the input, then assume the input is incorrect - again, if it&#39;s &quot;really&quot; important, you could use a regular expression, but again, even if it passes, that&#39;s not guarantee that the data represents a valid date/time"}],"answers":[{"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1675379676,"post_id":75329801,"comment_id":132922492,"body_markdown":"Learned something today, thanks.","body":"Learned something today, thanks."}],"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675379274,"creation_date":1675378959,"answer_id":75329801,"question_id":75329634,"body_markdown":"Well, you could utilize a `DateTimeFormatterBuilder` to specify defaults for missing fields:\r\n\r\n```java\r\nprivate static LocalDateTime parse(String str) {\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n        .appendPattern(&quot;uuuu-MM-dd[ HH:mm:ss]&quot;)\r\n        .parseDefaulting(ChronoField.HOUR_OF_DAY, 23)\r\n        .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 59)\r\n        .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 59)\r\n        .toFormatter();\r\n    return LocalDateTime.parse(str, formatter);\r\n}\r\n```\r\n\r\nThe pattern specifies the pattern it will try to parse. Note that the square brackets (`[]`) are *optional parts*. Everything between them will be either completely consumed, or entirely discarded.\r\n\r\nWith `parseDefaulting` you can specify the default values for when fields are missing. In your case, if the user provides only the date, the hour-of-day, minute-of-hour and second-of-minute fields are missing, that&#39;s why it is needed to provide defaults for them.\r\n\r\n---\r\n\r\nExample\r\n\r\n```java\r\nSystem.out.println(parse(&quot;2022-03-03&quot;));\r\nSystem.out.println(parse(&quot;2022-03-03 15:10:05&quot;));\r\nSystem.out.println(parse(&quot;2025&quot;));\r\n```\r\n\r\nOutputs the following:\r\n\r\n```none\r\n2022-03-03T23:59:59\r\n2022-03-03T15:10:05\r\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;2025&#39; could not be parsed at index 4\r\n```","title":"LocalDateTime (or any other suitable class) with time as optional paramter","body":"<p>Well, you could utilize a <code>DateTimeFormatterBuilder</code> to specify defaults for missing fields:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static LocalDateTime parse(String str) {\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n        .appendPattern(&quot;uuuu-MM-dd[ HH:mm:ss]&quot;)\n        .parseDefaulting(ChronoField.HOUR_OF_DAY, 23)\n        .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 59)\n        .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 59)\n        .toFormatter();\n    return LocalDateTime.parse(str, formatter);\n}\n</code></pre>\n<p>The pattern specifies the pattern it will try to parse. Note that the square brackets (<code>[]</code>) are <em>optional parts</em>. Everything between them will be either completely consumed, or entirely discarded.</p>\n<p>With <code>parseDefaulting</code> you can specify the default values for when fields are missing. In your case, if the user provides only the date, the hour-of-day, minute-of-hour and second-of-minute fields are missing, that's why it is needed to provide defaults for them.</p>\n<hr />\n<p>Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(parse(&quot;2022-03-03&quot;));\nSystem.out.println(parse(&quot;2022-03-03 15:10:05&quot;));\nSystem.out.println(parse(&quot;2025&quot;));\n</code></pre>\n<p>Outputs the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-03-03T23:59:59\n2022-03-03T15:10:05\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '2025' could not be parsed at index 4\n</code></pre>\n"}],"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75329801,"answer_count":1,"score":0,"last_activity_date":1680638555,"creation_date":1675377373,"question_id":75329634,"body_markdown":"I am trying to parse an incoming string which might contain time or not. Both the following dates should be accepted\r\n\r\n    &quot;2022-03-03&quot; and &quot;2022-03-03 15:10:05&quot;.\r\n\r\nThe DateTimeFormatter that I know will fail in any one of the cases. This is one answer I got, but I don&#39;t know if in any ways time part can be made optional here.\r\n\r\nhttps://stackoverflow.com/questions/57559087/iso-date-time-format-to-localdatetime-with-optional-offset\r\n\r\nThe idea is if the time part is not present I should set it to the end of the day, so the time part should be 23:59:59.\r\n\r\nAny help is appreciated. Thanks!","title":"LocalDateTime (or any other suitable class) with time as optional paramter","body":"<p>I am trying to parse an incoming string which might contain time or not. Both the following dates should be accepted</p>\n<pre><code>&quot;2022-03-03&quot; and &quot;2022-03-03 15:10:05&quot;.\n</code></pre>\n<p>The DateTimeFormatter that I know will fail in any one of the cases. This is one answer I got, but I don't know if in any ways time part can be made optional here.</p>\n<p><a href=\"https://stackoverflow.com/questions/57559087/iso-date-time-format-to-localdatetime-with-optional-offset\">ISO_DATE_TIME.format() to LocalDateTime with optional offset</a></p>\n<p>The idea is if the time part is not present I should set it to the end of the day, so the time part should be 23:59:59.</p>\n<p>Any help is appreciated. Thanks!</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680638086,"creation_date":1680635538,"answer_id":75933026,"question_id":75931472,"body_markdown":"it works with EmbeddedId\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Embeddable\r\n    public class IrMrIterationMappingPK implements Serializable {\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;MATCHRULE_ID&quot;)\r\n        private IrMatchrules matchrule;\r\n    \r\n        @Convert(converter = MatchRuleIterationTypeConverter.class)\r\n        @Column(name = &quot;ITERATION_ID&quot;)\r\n        private MatchRuleIterationType iterationType;\r\n    }\r\n    \r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @EqualsAndHashCode\r\n    @Builder(toBuilder = true)\r\n    @Entity\r\n    @Table(name = &quot;IR_MR_ITERATION_MAPPING&quot;, schema = &quot;RECON_OWNER&quot;, catalog = &quot;&quot;)\r\n    //@IdClass(com.mfs.ir.domain.IrMrIterationMappingPK.class)\r\n    public class IrMrIterationMapping implements Serializable {\r\n        @EmbeddedId\r\n        IrMrIterationMappingPK IrMrIterationMappingPK;","title":"No matching editors or conversion strategy found , composite key including MayToOne mapping","body":"<p>it works with EmbeddedId</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Embeddable\npublic class IrMrIterationMappingPK implements Serializable {\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;MATCHRULE_ID&quot;)\n    private IrMatchrules matchrule;\n\n    @Convert(converter = MatchRuleIterationTypeConverter.class)\n    @Column(name = &quot;ITERATION_ID&quot;)\n    private MatchRuleIterationType iterationType;\n}\n\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode\n@Builder(toBuilder = true)\n@Entity\n@Table(name = &quot;IR_MR_ITERATION_MAPPING&quot;, schema = &quot;RECON_OWNER&quot;, catalog = &quot;&quot;)\n//@IdClass(com.mfs.ir.domain.IrMrIterationMappingPK.class)\npublic class IrMrIterationMapping implements Serializable {\n    @EmbeddedId\n    IrMrIterationMappingPK IrMrIterationMappingPK;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680636387,"creation_date":1680636387,"answer_id":75933129,"question_id":75931472,"body_markdown":"You are annotating matchRule with @Id. This will make it store a long Value. Remove it. If the problem persists\r\nmake the following changes :\r\nIn class IrMrIterationMappingPK \r\n```\r\npublic class IrMrIterationMappingPK implements Serializable {\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    private IrMatchrules matchrule;\r\n    //rest of your code\r\n}\r\n```\r\nIn class IrMatchrules\r\n```\r\npublic class IrMatchrules {\r\n\r\n    @Id\r\n    @Column(name = &quot;MATCHRULE_ID&quot;)\r\n    private long matchruleId;\r\n    @Column(name=&quot;MATCHRULE_NAME&quot;)\r\n    private String matchruleName;\r\n\r\n    @Column(name=&quot;ITERATION_TYPE&quot;)\r\n    private Long iterationType;\r\n   \r\n    //Add the below line-\r\n     @OneToMany(cascade = CascadeType.ALL)\r\n    private List&lt;IrMrIterationMappingPK&gt; irMrIterationMappingPKs;\r\n\r\n}\r\n```","title":"No matching editors or conversion strategy found , composite key including MayToOne mapping","body":"<p>You are annotating matchRule with @Id. This will make it store a long Value. Remove it. If the problem persists\nmake the following changes :\nIn class IrMrIterationMappingPK</p>\n<pre><code>public class IrMrIterationMappingPK implements Serializable {\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    private IrMatchrules matchrule;\n    //rest of your code\n}\n</code></pre>\n<p>In class IrMatchrules</p>\n<pre><code>public class IrMatchrules {\n\n    @Id\n    @Column(name = &quot;MATCHRULE_ID&quot;)\n    private long matchruleId;\n    @Column(name=&quot;MATCHRULE_NAME&quot;)\n    private String matchruleName;\n\n    @Column(name=&quot;ITERATION_TYPE&quot;)\n    private Long iterationType;\n   \n    //Add the below line-\n     @OneToMany(cascade = CascadeType.ALL)\n    private List&lt;IrMrIterationMappingPK&gt; irMrIterationMappingPKs;\n\n}\n</code></pre>\n"}],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680638086,"creation_date":1680623936,"question_id":75931472,"body_markdown":" I am having following error, it seems everything is correct, but I think I am missing something importand\r\n\r\n    Caused by: java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.Long&#39; to required type &#39;com.mfs.ir.domain.IrMatchrules&#39; for property &#39;matchrule&#39;: no matching editors or conversion strategy found\r\n    \tat org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:262)\r\n    \tat org.springframework.beans.AbstractNestablePropertyAccessor.convertIfNecessary(AbstractNestablePropertyAccessor.java:590)\r\n\r\n\r\n\r\n    @ActiveProfiles(&quot;it&quot;)\r\n    @RunWith(SpringRunner.class)\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    @SpringBootTest\r\n    public class IrMrIterationMappingIT {\r\n    \r\n        @Autowired private IterationMappingRepository iterationMappingRepository;\r\n    \r\n        @Autowired private MatchrulesRepository matchrulesRepository;\r\n    \r\n    \r\n        @Test\r\n        @Transactional\r\n        public void shouldHaveRecordSavedCorrectly() {\r\n    \r\n    \r\n            IrMatchrules inputIrMatchrules =  matchrulesRepository.save(\r\n                    IrMatchrules.builder()\r\n                    .matchruleId(1l)\r\n                            .portfolioCode(&quot;PCODE&quot;)\r\n                            .build());\r\n    \r\n            IrMrIterationMapping inputIrMrIterationMapping = IrMrIterationMapping.builder().\r\n                    iterationType(MatchRuleIterationType.MANY_MANY).\r\n                    matchrule(inputIrMatchrules).build();\r\n    \r\n            iterationMappingRepository.save(inputIrMrIterationMapping);\r\n    \r\n            IrMrIterationMapping result =  iterationMappingRepository.findById(IrMrIterationMappingPK.builder().iterationType(MatchRuleIterationType.MANY_MANY).matchrule(inputIrMatchrules).build()).orElseThrow();\r\n    \r\n            assertThat(result.getIterationType()).isEqualTo(inputIrMrIterationMapping.getIterationType());\r\n        }\r\n    \r\n        @After\r\n        public void tearDown() {\r\n            iterationMappingRepository.deleteAllInBatch();\r\n            matchrulesRepository.deleteAllInBatch();\r\n        }\r\n    \r\n    public class IrMrIterationMappingPK implements Serializable {\r\n    \r\n        @Id\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;MATCHRULE_ID&quot;)\r\n        private IrMatchrules matchrule;\r\n    \r\n        @Id\r\n        @Convert(converter = MatchRuleIterationTypeConverter.class)\r\n        @Column(name = &quot;ITERATION_ID&quot;)\r\n        private MatchRuleIterationType iterationType;\r\n    }\r\n    \r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @EqualsAndHashCode\r\n    @Builder(toBuilder = true)\r\n    @Entity\r\n    @Table(name = &quot;IR_MATCHRULES&quot;, schema = &quot;RECON_OWNER&quot;, catalog = &quot;&quot;)\r\n    public class IrMatchrules {\r\n        @Id\r\n        @Column(name = &quot;MATCHRULE_ID&quot;)\r\n        private long matchruleId;\r\n        @Column(name=&quot;MATCHRULE_NAME&quot;)\r\n        private String matchruleName;\r\n    \r\n        @Column(name=&quot;ITERATION_TYPE&quot;)\r\n        private Long iterationType;\r\n    }","title":"No matching editors or conversion strategy found , composite key including MayToOne mapping","body":"<p>I am having following error, it seems everything is correct, but I think I am missing something importand</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Cannot convert value of type 'java.lang.Long' to required type 'com.mfs.ir.domain.IrMatchrules' for property 'matchrule': no matching editors or conversion strategy found\n    at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:262)\n    at org.springframework.beans.AbstractNestablePropertyAccessor.convertIfNecessary(AbstractNestablePropertyAccessor.java:590)\n\n\n\n@ActiveProfiles(&quot;it&quot;)\n@RunWith(SpringRunner.class)\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@SpringBootTest\npublic class IrMrIterationMappingIT {\n\n    @Autowired private IterationMappingRepository iterationMappingRepository;\n\n    @Autowired private MatchrulesRepository matchrulesRepository;\n\n\n    @Test\n    @Transactional\n    public void shouldHaveRecordSavedCorrectly() {\n\n\n        IrMatchrules inputIrMatchrules =  matchrulesRepository.save(\n                IrMatchrules.builder()\n                .matchruleId(1l)\n                        .portfolioCode(&quot;PCODE&quot;)\n                        .build());\n\n        IrMrIterationMapping inputIrMrIterationMapping = IrMrIterationMapping.builder().\n                iterationType(MatchRuleIterationType.MANY_MANY).\n                matchrule(inputIrMatchrules).build();\n\n        iterationMappingRepository.save(inputIrMrIterationMapping);\n\n        IrMrIterationMapping result =  iterationMappingRepository.findById(IrMrIterationMappingPK.builder().iterationType(MatchRuleIterationType.MANY_MANY).matchrule(inputIrMatchrules).build()).orElseThrow();\n\n        assertThat(result.getIterationType()).isEqualTo(inputIrMrIterationMapping.getIterationType());\n    }\n\n    @After\n    public void tearDown() {\n        iterationMappingRepository.deleteAllInBatch();\n        matchrulesRepository.deleteAllInBatch();\n    }\n\npublic class IrMrIterationMappingPK implements Serializable {\n\n    @Id\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;MATCHRULE_ID&quot;)\n    private IrMatchrules matchrule;\n\n    @Id\n    @Convert(converter = MatchRuleIterationTypeConverter.class)\n    @Column(name = &quot;ITERATION_ID&quot;)\n    private MatchRuleIterationType iterationType;\n}\n\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode\n@Builder(toBuilder = true)\n@Entity\n@Table(name = &quot;IR_MATCHRULES&quot;, schema = &quot;RECON_OWNER&quot;, catalog = &quot;&quot;)\npublic class IrMatchrules {\n    @Id\n    @Column(name = &quot;MATCHRULE_ID&quot;)\n    private long matchruleId;\n    @Column(name=&quot;MATCHRULE_NAME&quot;)\n    private String matchruleName;\n\n    @Column(name=&quot;ITERATION_TYPE&quot;)\n    private Long iterationType;\n}\n</code></pre>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1680627304,"post_id":75931863,"comment_id":133928853,"body_markdown":"&quot;*But more importantly, I don&#39;t want to change the order.*&quot; - Where is this constrain coming from? According to [RFC 7159](https://www.rfc-editor.org/rfc/rfc7159), &quot;*An object is an **unordered** collection of zero or more name/value pairs, where a name is a string and a value is a string, number, boolean, null, object, or array. ...*&quot;","body":"&quot;<i>But more importantly, I don&#39;t want to change the order.</i>&quot; - Where is this constrain coming from? According to <a href=\"https://www.rfc-editor.org/rfc/rfc7159\" rel=\"nofollow noreferrer\">RFC 7159</a>, &quot;<i>An object is an <b>unordered</b> collection of zero or more name/value pairs, where a name is a string and a value is a string, number, boolean, null, object, or array. ...</i>&quot;"},{"owner":{"account_id":3383678,"reputation":4957,"user_id":2840178,"accept_rate":88,"display_name":"kar"},"score":0,"creation_date":1680627750,"post_id":75931863,"comment_id":133928975,"body_markdown":"@Turing85 Maybe wrong choice of words. The object being passed in is a custom class. This is then returned as a response in a rest service. I just don&#39;t want to mess up that order in the response. More for visual purposes during dev.","body":"@Turing85 Maybe wrong choice of words. The object being passed in is a custom class. This is then returned as a response in a rest service. I just don&#39;t want to mess up that order in the response. More for visual purposes during dev."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1680639371,"post_id":75931863,"comment_id":133931745,"body_markdown":"Why don&#39;t you show the actual object populated with data instead of what amounts to so many lines of text?  Showing the class, actually populated with data would help others benefit from this question.","body":"Why don&#39;t you show the actual object populated with data instead of what amounts to so many lines of text?  Showing the class, actually populated with data would help others benefit from this question."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1680639818,"post_id":75931863,"comment_id":133931862,"body_markdown":"Is this supposed to be a JSON object?","body":"Is this supposed to be a JSON object?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1680680852,"post_id":75931863,"comment_id":133937336,"body_markdown":"@Turing85 well, it’s JSON, so the same document [avoids calling order retaining parser wrong](https://www.rfc-editor.org/rfc/rfc7159#:~:text=JSON%20parsing%20libraries,by%20these%20differences.): “*JSON parsing libraries have been observed to differ as to whether or not they make the ordering of object members visible to calling software.  Implementations whose behavior does not depend on member ordering will be interoperable in the sense that they will not be affected by these differences.*”","body":"@Turing85 well, it’s JSON, so the same document <a href=\"https://www.rfc-editor.org/rfc/rfc7159#:~:text=JSON%20parsing%20libraries,by%20these%20differences.\" rel=\"nofollow noreferrer\">avoids calling order retaining parser wrong</a>: “<i>JSON parsing libraries have been observed to differ as to whether or not they make the ordering of object members visible to calling software.  Implementations whose behavior does not depend on member ordering will be interoperable in the sense that they will not be affected by these differences.</i>”"}],"answers":[{"tags":[],"owner":{"account_id":9477288,"reputation":311,"user_id":7046251,"display_name":"pdrersin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680637727,"creation_date":1680636967,"answer_id":75933200,"question_id":75931863,"body_markdown":"Below method should do what you want if you are willing to use jackson library which is commonly used:\r\n\r\n```\r\npublic static Object updateStringsInObjWithText (String jsonStr, String suffix) throws JsonProcessingException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Map&lt;String, Object&gt; constructedObj = mapper.readValue(jsonStr, Map.class);\r\n        JsonNode tree = mapper.valueToTree(constructedObj);\r\n\r\n        Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; fields = tree.fields();\r\n        while (fields.hasNext()) {\r\n            Map.Entry&lt;String, JsonNode&gt; field = fields.next();\r\n            String fieldKey = field.getKey();\r\n            JsonNode fieldValue = field.getValue();\r\n            if (fieldValue.isValueNode() &amp;&amp; fieldValue instanceof TextNode) {\r\n                constructedObj.put(fieldKey, fieldValue.textValue() + suffix);\r\n            } else if (!fieldValue.isValueNode() &amp;&amp; fieldValue instanceof ArrayNode) {\r\n                int size = fieldValue.size();\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    JsonNode subNode = fieldValue.get(i);\r\n                    if (subNode instanceof TextNode) {\r\n                        ((ArrayNode) fieldValue).set(i, mapper.createArrayNode().add(subNode.textValue() + suffix).get(0));\r\n                    }\r\n                }\r\n                constructedObj.put(fieldKey, fieldValue);\r\n            } else if (!fieldValue.isValueNode()) {\r\n                Object tempObj = updateStringsInObjWithText(mapper.writeValueAsString(fieldValue), suffix);\r\n                constructedObj.put(fieldKey, tempObj);\r\n            } else {\r\n            }\r\n        }\r\n        return constructedObj;\r\n    }\r\n```\r\nHere is how you use it: \r\n```\r\npublic static void main(String[] args) throws JsonProcessingException {\r\n        String json = &quot;{\\n&quot; +\r\n                &quot;    \\&quot;name\\&quot;: \\&quot;name\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;age\\&quot;: 12,\\n&quot; +\r\n                &quot;    \\&quot;height\\&quot;: 1.50,\\n&quot; +\r\n                &quot;    \\&quot;body\\&quot;: {\\n&quot; +\r\n                &quot;        \\&quot;detail1\\&quot;: \\&quot;detail1\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;detail2\\&quot;: \\&quot;detail2\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;detail3\\&quot;: \\&quot;detail3\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;detail4\\&quot;: [\\&quot;detail4\\&quot;, \\&quot;\\&quot;]\\n&quot; +\r\n                &quot;    },\\n&quot; +\r\n                &quot;    \\&quot;arr\\&quot;: [1, 2, 3],\\n&quot; +\r\n                &quot;    \\&quot;arr2\\&quot;: [\\&quot;\\&quot;, \\&quot;\\&quot;, \\&quot;\\&quot;],\\n&quot; +\r\n                &quot;    \\&quot;bod2\\&quot;: {\\n&quot; +\r\n                &quot;        \\&quot;child\\&quot;: {\\n&quot; +\r\n                &quot;            \\&quot;name\\&quot;: \\&quot;a\\&quot;,\\n&quot; +\r\n                &quot;            \\&quot;name2\\&quot;: \\&quot;b\\&quot;\\n&quot; +\r\n                &quot;        }\\n&quot; +\r\n                &quot;    }\\n&quot; +\r\n                &quot;}&quot;;\r\n\r\n        Object obj = updateStringsInObjWithText(json, &quot; hello&quot;);\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(obj));\r\n\r\n    }\r\n```\r\n\r\nAnd the response you get should be:\r\n```\r\n{\r\n  &quot;name&quot; : &quot;name hello&quot;,\r\n  &quot;age&quot; : 12,\r\n  &quot;height&quot; : 1.5,\r\n  &quot;body&quot; : {\r\n    &quot;detail1&quot; : &quot;detail1 hello&quot;,\r\n    &quot;detail2&quot; : &quot;detail2 hello&quot;,\r\n    &quot;detail3&quot; : &quot;detail3 hello&quot;,\r\n    &quot;detail4&quot; : [ &quot;detail4 hello&quot;, &quot; hello&quot; ]\r\n  },\r\n  &quot;arr&quot; : [ 1, 2, 3 ],\r\n  &quot;arr2&quot; : [ &quot; hello&quot;, &quot; hello&quot;, &quot; hello&quot; ],\r\n  &quot;bod2&quot; : {\r\n    &quot;child&quot; : {\r\n      &quot;name&quot; : &quot;a hello&quot;,\r\n      &quot;name2&quot; : &quot;b hello&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAnd if you dont want to start with a JSON string and want to use an object directly, you can overload the above method as follows:\r\n\r\n```\r\npublic static Object updateStringsInObjWithText ( Object obj, String suffix) throws JsonProcessingException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Map&lt;String, Object&gt; constructedObj = (Map&lt;String, Object&gt;) obj;\r\n        JsonNode tree = mapper.valueToTree(constructedObj);\r\n\r\n        Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; fields = tree.fields();\r\n        while (fields.hasNext()) {\r\n            Map.Entry&lt;String, JsonNode&gt; field = fields.next();\r\n            String fieldKey = field.getKey();\r\n            JsonNode fieldValue = field.getValue();\r\n            if (fieldValue.isValueNode() &amp;&amp; fieldValue instanceof TextNode) {\r\n                constructedObj.put(fieldKey, fieldValue.textValue() + suffix);\r\n            } else if (!fieldValue.isValueNode() &amp;&amp; fieldValue instanceof ArrayNode) {\r\n                int size = fieldValue.size();\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    JsonNode subNode = fieldValue.get(i);\r\n                    if (subNode instanceof TextNode) {\r\n                        ((ArrayNode) fieldValue).set(i, mapper.createArrayNode().add(subNode.textValue() + suffix).get(0));\r\n                    }\r\n                }\r\n                constructedObj.put(fieldKey, fieldValue);\r\n            } else if (!fieldValue.isValueNode()) {\r\n                Object tempObj = updateStringsInObjWithText(mapper.writeValueAsString(fieldValue), suffix);\r\n                constructedObj.put(fieldKey, tempObj);\r\n            } else {\r\n            }\r\n        }\r\n        return constructedObj;\r\n    }\r\n```","title":"Update a complex object without changing its order and recreate","body":"<p>Below method should do what you want if you are willing to use jackson library which is commonly used:</p>\n<pre><code>public static Object updateStringsInObjWithText (String jsonStr, String suffix) throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        Map&lt;String, Object&gt; constructedObj = mapper.readValue(jsonStr, Map.class);\n        JsonNode tree = mapper.valueToTree(constructedObj);\n\n        Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; fields = tree.fields();\n        while (fields.hasNext()) {\n            Map.Entry&lt;String, JsonNode&gt; field = fields.next();\n            String fieldKey = field.getKey();\n            JsonNode fieldValue = field.getValue();\n            if (fieldValue.isValueNode() &amp;&amp; fieldValue instanceof TextNode) {\n                constructedObj.put(fieldKey, fieldValue.textValue() + suffix);\n            } else if (!fieldValue.isValueNode() &amp;&amp; fieldValue instanceof ArrayNode) {\n                int size = fieldValue.size();\n                for (int i = 0; i &lt; size; i++) {\n                    JsonNode subNode = fieldValue.get(i);\n                    if (subNode instanceof TextNode) {\n                        ((ArrayNode) fieldValue).set(i, mapper.createArrayNode().add(subNode.textValue() + suffix).get(0));\n                    }\n                }\n                constructedObj.put(fieldKey, fieldValue);\n            } else if (!fieldValue.isValueNode()) {\n                Object tempObj = updateStringsInObjWithText(mapper.writeValueAsString(fieldValue), suffix);\n                constructedObj.put(fieldKey, tempObj);\n            } else {\n            }\n        }\n        return constructedObj;\n    }\n</code></pre>\n<p>Here is how you use it:</p>\n<pre><code>public static void main(String[] args) throws JsonProcessingException {\n        String json = &quot;{\\n&quot; +\n                &quot;    \\&quot;name\\&quot;: \\&quot;name\\&quot;,\\n&quot; +\n                &quot;    \\&quot;age\\&quot;: 12,\\n&quot; +\n                &quot;    \\&quot;height\\&quot;: 1.50,\\n&quot; +\n                &quot;    \\&quot;body\\&quot;: {\\n&quot; +\n                &quot;        \\&quot;detail1\\&quot;: \\&quot;detail1\\&quot;,\\n&quot; +\n                &quot;        \\&quot;detail2\\&quot;: \\&quot;detail2\\&quot;,\\n&quot; +\n                &quot;        \\&quot;detail3\\&quot;: \\&quot;detail3\\&quot;,\\n&quot; +\n                &quot;        \\&quot;detail4\\&quot;: [\\&quot;detail4\\&quot;, \\&quot;\\&quot;]\\n&quot; +\n                &quot;    },\\n&quot; +\n                &quot;    \\&quot;arr\\&quot;: [1, 2, 3],\\n&quot; +\n                &quot;    \\&quot;arr2\\&quot;: [\\&quot;\\&quot;, \\&quot;\\&quot;, \\&quot;\\&quot;],\\n&quot; +\n                &quot;    \\&quot;bod2\\&quot;: {\\n&quot; +\n                &quot;        \\&quot;child\\&quot;: {\\n&quot; +\n                &quot;            \\&quot;name\\&quot;: \\&quot;a\\&quot;,\\n&quot; +\n                &quot;            \\&quot;name2\\&quot;: \\&quot;b\\&quot;\\n&quot; +\n                &quot;        }\\n&quot; +\n                &quot;    }\\n&quot; +\n                &quot;}&quot;;\n\n        Object obj = updateStringsInObjWithText(json, &quot; hello&quot;);\n        ObjectMapper mapper = new ObjectMapper();\n        System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(obj));\n\n    }\n</code></pre>\n<p>And the response you get should be:</p>\n<pre><code>{\n  &quot;name&quot; : &quot;name hello&quot;,\n  &quot;age&quot; : 12,\n  &quot;height&quot; : 1.5,\n  &quot;body&quot; : {\n    &quot;detail1&quot; : &quot;detail1 hello&quot;,\n    &quot;detail2&quot; : &quot;detail2 hello&quot;,\n    &quot;detail3&quot; : &quot;detail3 hello&quot;,\n    &quot;detail4&quot; : [ &quot;detail4 hello&quot;, &quot; hello&quot; ]\n  },\n  &quot;arr&quot; : [ 1, 2, 3 ],\n  &quot;arr2&quot; : [ &quot; hello&quot;, &quot; hello&quot;, &quot; hello&quot; ],\n  &quot;bod2&quot; : {\n    &quot;child&quot; : {\n      &quot;name&quot; : &quot;a hello&quot;,\n      &quot;name2&quot; : &quot;b hello&quot;\n    }\n  }\n}\n</code></pre>\n<p>And if you dont want to start with a JSON string and want to use an object directly, you can overload the above method as follows:</p>\n<pre><code>public static Object updateStringsInObjWithText ( Object obj, String suffix) throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        Map&lt;String, Object&gt; constructedObj = (Map&lt;String, Object&gt;) obj;\n        JsonNode tree = mapper.valueToTree(constructedObj);\n\n        Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; fields = tree.fields();\n        while (fields.hasNext()) {\n            Map.Entry&lt;String, JsonNode&gt; field = fields.next();\n            String fieldKey = field.getKey();\n            JsonNode fieldValue = field.getValue();\n            if (fieldValue.isValueNode() &amp;&amp; fieldValue instanceof TextNode) {\n                constructedObj.put(fieldKey, fieldValue.textValue() + suffix);\n            } else if (!fieldValue.isValueNode() &amp;&amp; fieldValue instanceof ArrayNode) {\n                int size = fieldValue.size();\n                for (int i = 0; i &lt; size; i++) {\n                    JsonNode subNode = fieldValue.get(i);\n                    if (subNode instanceof TextNode) {\n                        ((ArrayNode) fieldValue).set(i, mapper.createArrayNode().add(subNode.textValue() + suffix).get(0));\n                    }\n                }\n                constructedObj.put(fieldKey, fieldValue);\n            } else if (!fieldValue.isValueNode()) {\n                Object tempObj = updateStringsInObjWithText(mapper.writeValueAsString(fieldValue), suffix);\n                constructedObj.put(fieldKey, tempObj);\n            } else {\n            }\n        }\n        return constructedObj;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680637179,"creation_date":1680637179,"answer_id":75933218,"question_id":75931863,"body_markdown":"you can try this:\r\n```\r\npublic static Object updateStrings(Object obj, String suffix) {\r\n    if (obj instanceof String) {\r\n        return ((String) obj) + suffix;\r\n    } else if (obj instanceof Object[]) {\r\n        Object[] arr = (Object[]) obj;\r\n        Object[] updatedArr = new Object[arr.length];\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            updatedArr[i] = updateStrings(arr[i], suffix);\r\n        }\r\n        return updatedArr;\r\n    } else if (obj instanceof Map) {\r\n        Map&lt;Object, Object&gt; map = (Map&lt;Object, Object&gt;) obj;\r\n        Map&lt;Object, Object&gt; updatedMap = new LinkedHashMap&lt;&gt;();\r\n        for (Map.Entry&lt;Object, Object&gt; entry : map.entrySet()) {\r\n            updatedMap.put(entry.getKey(), updateStrings(entry.getValue(), suffix));\r\n        }\r\n        return updatedMap;\r\n    } else {\r\n        return obj;\r\n    }\r\n}\r\n```\r\nYou can call this function by passing in the object and the desired suffix to append:\r\n\r\n```\r\nObject originalObject = // your original object\r\nObject updatedObject = updateStrings(originalObject, &quot; Hello&quot;);\r\n```","title":"Update a complex object without changing its order and recreate","body":"<p>you can try this:</p>\n<pre><code>public static Object updateStrings(Object obj, String suffix) {\n    if (obj instanceof String) {\n        return ((String) obj) + suffix;\n    } else if (obj instanceof Object[]) {\n        Object[] arr = (Object[]) obj;\n        Object[] updatedArr = new Object[arr.length];\n        for (int i = 0; i &lt; arr.length; i++) {\n            updatedArr[i] = updateStrings(arr[i], suffix);\n        }\n        return updatedArr;\n    } else if (obj instanceof Map) {\n        Map&lt;Object, Object&gt; map = (Map&lt;Object, Object&gt;) obj;\n        Map&lt;Object, Object&gt; updatedMap = new LinkedHashMap&lt;&gt;();\n        for (Map.Entry&lt;Object, Object&gt; entry : map.entrySet()) {\n            updatedMap.put(entry.getKey(), updateStrings(entry.getValue(), suffix));\n        }\n        return updatedMap;\n    } else {\n        return obj;\n    }\n}\n</code></pre>\n<p>You can call this function by passing in the object and the desired suffix to append:</p>\n<pre><code>Object originalObject = // your original object\nObject updatedObject = updateStrings(originalObject, &quot; Hello&quot;);\n</code></pre>\n"}],"owner":{"account_id":3383678,"reputation":4957,"user_id":2840178,"accept_rate":88,"display_name":"kar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680637727,"creation_date":1680626660,"question_id":75931863,"body_markdown":"I have a complex object with a lot of nested data.\r\n\r\nThis is an example. It can come in different variations and nesting.\r\n\r\n    {\r\n        &quot;name&quot;: &quot;name&quot;,\r\n        &quot;age&quot;: 12,\r\n        &quot;height&quot;: 1.50\r\n        &quot;body&quot;: {\r\n            &quot;detail1&quot;: &quot;detail1&quot;,\r\n            &quot;detail2&quot;: &quot;detail2&quot;\r\n            &quot;detail3&quot;: &quot;detail3&quot;\r\n            &quot;detail4&quot;: [&quot;detail4&quot;, &quot;&quot;]\r\n        },\r\n        &quot;arr&quot;: [1, 2, 3],\r\n        &quot;arr2&quot;: [&quot;&quot;, &quot;&quot;, &quot;&quot;],\r\n        &quot;bod2&quot;: {\r\n            &quot;child&quot;: {\r\n                &quot;name&quot;: &quot;a&quot;,\r\n                &quot;name2&quot;: &quot;b&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nI wish to traverse this entire object, and every time a value is a `String`, I want to append another String to it, example `&quot; Hello&quot;`.\r\n\r\nResulting in: \r\n\r\n    {\r\n        &quot;name&quot;: &quot;name Hello&quot;,\r\n        &quot;age&quot;: 12,\r\n        &quot;height&quot;: 1.50\r\n        &quot;body&quot;: {\r\n            &quot;detail1&quot;: &quot;detail1 Hello&quot;,\r\n            &quot;detail2&quot;: &quot;detail2 Hello&quot;\r\n            &quot;detail3&quot;: &quot;detail3 Hello&quot;\r\n            &quot;detail4&quot;: [&quot;detail4 Hello&quot;, &quot;Hello&quot;]\r\n        },\r\n        &quot;arr&quot;: [1, 2, 3],\r\n        &quot;arr2&quot;: [&quot; Hello&quot;, &quot; Hello&quot;, &quot; Hello&quot;],\r\n        &quot;bod2&quot;: {\r\n            &quot;child&quot;: {\r\n                &quot;name&quot;: &quot;a Hello&quot;,\r\n                &quot;name2&quot;: &quot;b Hello&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nOnce I have gone through the entire object, return the updated object where all string values are now appended with &quot;world&quot;. \r\n\r\nI want to preferably do this without having to create an object. \r\n\r\nBut more importantly, I don&#39;t want to change the order. \r\n\r\nSuch as in above, the key name is first, followed by age, height body and so on. I want to maintain this order, same for the nesting data. \r\n\r\nI came up with the following but this doesnt maintain the order and I am also recreating objects. \r\n\r\nIs there a way I could interate through the whole object, every parts of it and update all the String for the object? \r\n\r\n    public static Object updateStrings(Object obj) {\r\n        if (obj instanceof String) {\r\n            return ((String) obj) + &quot;hello&quot;;\r\n        } else if (obj instanceof Object[]) {\r\n            Object[] arr = (Object[]) obj;\r\n            Object[] updatedArr = new Object[arr.length];\r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                updatedArr[i] = updateStrings(arr[i]);\r\n            }\r\n            return updatedArr;\r\n        } else if (obj instanceof Map) {\r\n            Map&lt;Object, Object&gt; map = (Map&lt;Object, Object&gt;) obj;\r\n            Map&lt;Object, Object&gt; updatedMap = new HashMap&lt;&gt;();\r\n            for (Map.Entry&lt;Object, Object&gt; entry : map.entrySet()) {\r\n                updatedMap.put(entry.getKey(), updateStrings(entry.getValue()));\r\n            }\r\n            return updatedMap;\r\n        } else {\r\n            return obj;\r\n        }\r\n    }","title":"Update a complex object without changing its order and recreate","body":"<p>I have a complex object with a lot of nested data.</p>\n<p>This is an example. It can come in different variations and nesting.</p>\n<pre><code>{\n    &quot;name&quot;: &quot;name&quot;,\n    &quot;age&quot;: 12,\n    &quot;height&quot;: 1.50\n    &quot;body&quot;: {\n        &quot;detail1&quot;: &quot;detail1&quot;,\n        &quot;detail2&quot;: &quot;detail2&quot;\n        &quot;detail3&quot;: &quot;detail3&quot;\n        &quot;detail4&quot;: [&quot;detail4&quot;, &quot;&quot;]\n    },\n    &quot;arr&quot;: [1, 2, 3],\n    &quot;arr2&quot;: [&quot;&quot;, &quot;&quot;, &quot;&quot;],\n    &quot;bod2&quot;: {\n        &quot;child&quot;: {\n            &quot;name&quot;: &quot;a&quot;,\n            &quot;name2&quot;: &quot;b&quot;\n        }\n    }\n}\n</code></pre>\n<p>I wish to traverse this entire object, and every time a value is a <code>String</code>, I want to append another String to it, example <code>&quot; Hello&quot;</code>.</p>\n<p>Resulting in:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;name Hello&quot;,\n    &quot;age&quot;: 12,\n    &quot;height&quot;: 1.50\n    &quot;body&quot;: {\n        &quot;detail1&quot;: &quot;detail1 Hello&quot;,\n        &quot;detail2&quot;: &quot;detail2 Hello&quot;\n        &quot;detail3&quot;: &quot;detail3 Hello&quot;\n        &quot;detail4&quot;: [&quot;detail4 Hello&quot;, &quot;Hello&quot;]\n    },\n    &quot;arr&quot;: [1, 2, 3],\n    &quot;arr2&quot;: [&quot; Hello&quot;, &quot; Hello&quot;, &quot; Hello&quot;],\n    &quot;bod2&quot;: {\n        &quot;child&quot;: {\n            &quot;name&quot;: &quot;a Hello&quot;,\n            &quot;name2&quot;: &quot;b Hello&quot;\n        }\n    }\n}\n</code></pre>\n<p>Once I have gone through the entire object, return the updated object where all string values are now appended with &quot;world&quot;.</p>\n<p>I want to preferably do this without having to create an object.</p>\n<p>But more importantly, I don't want to change the order.</p>\n<p>Such as in above, the key name is first, followed by age, height body and so on. I want to maintain this order, same for the nesting data.</p>\n<p>I came up with the following but this doesnt maintain the order and I am also recreating objects.</p>\n<p>Is there a way I could interate through the whole object, every parts of it and update all the String for the object?</p>\n<pre><code>public static Object updateStrings(Object obj) {\n    if (obj instanceof String) {\n        return ((String) obj) + &quot;hello&quot;;\n    } else if (obj instanceof Object[]) {\n        Object[] arr = (Object[]) obj;\n        Object[] updatedArr = new Object[arr.length];\n        for (int i = 0; i &lt; arr.length; i++) {\n            updatedArr[i] = updateStrings(arr[i]);\n        }\n        return updatedArr;\n    } else if (obj instanceof Map) {\n        Map&lt;Object, Object&gt; map = (Map&lt;Object, Object&gt;) obj;\n        Map&lt;Object, Object&gt; updatedMap = new HashMap&lt;&gt;();\n        for (Map.Entry&lt;Object, Object&gt; entry : map.entrySet()) {\n            updatedMap.put(entry.getKey(), updateStrings(entry.getValue()));\n        }\n        return updatedMap;\n    } else {\n        return obj;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","integration-testing"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1680612505,"post_id":75929149,"comment_id":133924761,"body_markdown":"First, you don&#39;t need to instantiate the repository, the service and the controller. The use of `@SpringBootTest` will automatically load all those classes in the context. You should put the `@Service` on your `CandidateServiceImpl` class. Can you post the other classes?","body":"First, you don&#39;t need to instantiate the repository, the service and the controller. The use of <code>@SpringBootTest</code> will automatically load all those classes in the context. You should put the <code>@Service</code> on your <code>CandidateServiceImpl</code> class. Can you post the other classes?"}],"answers":[{"tags":[],"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680637713,"creation_date":1680637713,"answer_id":75933288,"question_id":75929149,"body_markdown":"Make sure you put @Service and @Transactional above CandidateServiceImpl class.","title":"Spring boot 3 Junit 5 Integration Test Error Creating bean with name error","body":"<p>Make sure you put @Service and @Transactional above CandidateServiceImpl class.</p>\n"}],"owner":{"account_id":16900723,"reputation":1,"user_id":21564485,"display_name":"Meftun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680637713,"creation_date":1680609773,"question_id":75929149,"body_markdown":"I have verified that the CandidateRepository works correctly, by running unit tests for it. However, when I try to run the integration test for the CandidateController, I keep getting an error that says &quot;No qualifying bean of type &#39;CandidateRepository&#39; available&quot;. I&#39;m not sure why this is happening since I have already included the necessary annotations (@Repository, @Service, and @RestController) and component scanning in my code. Any ideas on how to fix this issue?\r\n```\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;candidateController&#39; defined in file [D:\\java_repos\\micro-library\\machine_learning_java\\talent-sourcing-system\\build\\classes\\java\\main\\com\\tss\\talentsourcingsystem\\application\\candidate\\controller\\CandidateController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;candidateServiceImpl&#39; defined in file [D:\\java_repos\\micro-library\\machine_learning_java\\talent-sourcing-system\\build\\classes\\java\\main\\com\\tss\\talentsourcingsystem\\application\\candidate\\service\\impl\\CandidateServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type &#39;com.tss.talentsourcingsystem.application.candidate.repository.CandidateRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n```\r\n\r\n\r\nHere is the code for my integration test:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\n@SpringBootTest\r\n@Transactional\r\nclass CandidateControllerIntegrationTest {\r\n\r\n    private static final String BASE_URL = &quot;http://localhost:8081/api/v1/candidates&quot;;\r\n\r\n    private MockMvc mockMvc;\r\n    private ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    private WebApplicationContext context;\r\n\r\n    @Autowired\r\n    private CandidateRepository candidateRepository;\r\n\r\n    @Autowired\r\n    private CandidateService candidateService;\r\n\r\n    @Autowired\r\n    private CandidateController candidateController;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        this.mockMvc = MockMvcBuilders.webAppContextSetup(context).build();\r\n        this.objectMapper = new ObjectMapper().registerModule(new JavaTimeModule());\r\n    }\r\n\r\n    // tests here\r\n\r\n}\r\n```\r\nHow can I resolve this error and make my integration test pass? I try alread MockBean","title":"Spring boot 3 Junit 5 Integration Test Error Creating bean with name error","body":"<p>I have verified that the CandidateRepository works correctly, by running unit tests for it. However, when I try to run the integration test for the CandidateController, I keep getting an error that says &quot;No qualifying bean of type 'CandidateRepository' available&quot;. I'm not sure why this is happening since I have already included the necessary annotations (@Repository, @Service, and @RestController) and component scanning in my code. Any ideas on how to fix this issue?</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'candidateController' defined in file [D:\\java_repos\\micro-library\\machine_learning_java\\talent-sourcing-system\\build\\classes\\java\\main\\com\\tss\\talentsourcingsystem\\application\\candidate\\controller\\CandidateController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'candidateServiceImpl' defined in file [D:\\java_repos\\micro-library\\machine_learning_java\\talent-sourcing-system\\build\\classes\\java\\main\\com\\tss\\talentsourcingsystem\\application\\candidate\\service\\impl\\CandidateServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.tss.talentsourcingsystem.application.candidate.repository.CandidateRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>Here is the code for my integration test:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@SpringBootTest\n@Transactional\nclass CandidateControllerIntegrationTest {\n\n    private static final String BASE_URL = &quot;http://localhost:8081/api/v1/candidates&quot;;\n\n    private MockMvc mockMvc;\n    private ObjectMapper objectMapper;\n\n    @Autowired\n    private WebApplicationContext context;\n\n    @Autowired\n    private CandidateRepository candidateRepository;\n\n    @Autowired\n    private CandidateService candidateService;\n\n    @Autowired\n    private CandidateController candidateController;\n\n    @BeforeEach\n    void setUp() {\n        this.mockMvc = MockMvcBuilders.webAppContextSetup(context).build();\n        this.objectMapper = new ObjectMapper().registerModule(new JavaTimeModule());\n    }\n\n    // tests here\n\n}\n</code></pre>\n<p>How can I resolve this error and make my integration test pass? I try alread MockBean</p>\n"},{"tags":["java","swing","popup","taskbar"],"answers":[{"comments":[{"owner":{"account_id":4454886,"reputation":1,"user_id":3625525,"display_name":"user3625525"},"score":0,"creation_date":1413979101,"post_id":26506033,"comment_id":41644360,"body_markdown":"actually in windows 8 when u right click on some application icon present in the task bar there are options such as close all and standard close option but for some application such as the Eclipse.there are more option such as &quot;new task&quot; , &quot;activate task&quot;. thats what i want to add in my application.but thank you for ur response. for more eg. when google chrome icon is right clicked the pop up contains Most visited pages.","body":"actually in windows 8 when u right click on some application icon present in the task bar there are options such as close all and standard close option but for some application such as the Eclipse.there are more option such as &quot;new task&quot; , &quot;activate task&quot;. thats what i want to add in my application.but thank you for ur response. for more eg. when google chrome icon is right clicked the pop up contains Most visited pages."},{"owner":{"account_id":4454886,"reputation":1,"user_id":3625525,"display_name":"user3625525"},"score":0,"creation_date":1413979578,"post_id":26506033,"comment_id":41644626,"body_markdown":"like this [link](http://res1.windows.microsoft.com/resbox/en/windows%207/main/1f30611e-483a-4e88-a875-10ca38f9f8a2_24.jpg)","body":"like this <a href=\"http://res1.windows.microsoft.com/resbox/en/windows%207/main/1f30611e-483a-4e88-a875-10ca38f9f8a2_24.jpg\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":5213044,"reputation":344,"user_id":4168813,"display_name":"Iootu"},"score":0,"creation_date":1413981360,"post_id":26506033,"comment_id":41645644,"body_markdown":"Based on your description of the problem, I really thought you were referring to what&#39;s called the system tray in Java. Now, that I understand what you are really after... I don&#39;t think it can be done in Swing, you do refer that Eclipse uses it but keep in mind that Eclipse doesn&#39;t use Swing, it uses SWT.","body":"Based on your description of the problem, I really thought you were referring to what&#39;s called the system tray in Java. Now, that I understand what you are really after... I don&#39;t think it can be done in Swing, you do refer that Eclipse uses it but keep in mind that Eclipse doesn&#39;t use Swing, it uses SWT."}],"tags":[],"owner":{"account_id":5213044,"reputation":344,"user_id":4168813,"display_name":"Iootu"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413975901,"creation_date":1413975901,"answer_id":26506033,"question_id":26505815,"body_markdown":"I believe you are referring to the System Tray in Java, have a look at this tutorial provided by Oracle: http://docs.oracle.com/javase/tutorial/uiswing/misc/systemtray.html.","title":"taskbar popup menu in java","body":"<p>I believe you are referring to the System Tray in Java, have a look at this tutorial provided by Oracle: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/systemtray.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/uiswing/misc/systemtray.html</a>.</p>\n"},{"tags":[],"owner":{"account_id":21717650,"reputation":455,"user_id":16028444,"display_name":"MomoTheDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680636879,"creation_date":1680636879,"answer_id":75933189,"question_id":26505815,"body_markdown":"*This is for the future viewers of this question.*\r\n\r\nWhat you&#39;re actually referring to, is the so called Windows API Code Pack feature, *JumperList*, here&#39;s a [blog post][1] that shows you how you can use it in a .NET Program, created in *C#* I believe.\r\n\r\nThis feature is supported by *Windows 7 SP1+*.\r\n\r\nThere are no *(as far as I know)* new libraries that support jumplists in a native-like way. However, you can use J7Goodies to get a work-around.\r\n\r\n***J7Goodies-Example by me***\r\n```java\r\npublic static void main(final String... args) {\r\n\t\tif (!(System.getProperty(&quot;os.name&quot;).matches(&quot;Windows\\\\s(7|8(\\\\.1)?|10|11)&quot;)))\r\n\t\t\tSystem.err.println(&quot;The Taskbar API is not supported on this operating system!&quot;);\r\n\t\t\r\n\t\tfinal JFrame frame = new JFrame(&quot;JumperListDemo&quot;);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setSize(300, 200);\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.setVisible(true);\r\n\t\t\r\n\t\tfinal JPopupMenu popup = new JPopupMenu();\r\n\t\tfinal JMenuItem item1 = new JMenuItem(&quot;Item 1&quot;);\r\n\t\tfinal JMenuItem item2 = new JMenuItem(&quot;Item 2&quot;);\r\n\t\tpopup.add(item1);\r\n\t\tpopup.add(item2);\r\n\t\t\r\n\t\titem1.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(final ActionEvent e) {\r\n\t\t\t\tSystem.out.println(&quot;Action invoked (1)&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\titem2.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(final ActionEvent e) {\r\n\t\t\t\tSystem.out.println(&quot;Action invoked (2)&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\tfinal JumpList jumpList = new JumpList();\r\n\t\tfinal DestinationList tasks = new DestinationList();\r\n\t\ttasks.addTask(&quot;Path&quot;, &quot;&quot;, &quot;Text&quot;, &quot;Path&quot;, 0, &quot;Description&quot;);;\r\n\t\t\r\n\t\tjumpList.appendTasks(tasks);\r\n\t\tjumpList.save();\r\n\t\t\r\n}\r\n```\r\n\r\n*You&#39;ll need the latest J7Goodies.jar to run this file!*\r\n\r\n  [1]: https://www.developer.com/microsoft/creating-windows-7-jump-lists-with-the-api-code-pack-and-visual-studio-2008/","title":"taskbar popup menu in java","body":"<p><em>This is for the future viewers of this question.</em></p>\n<p>What you're actually referring to, is the so called Windows API Code Pack feature, <em>JumperList</em>, here's a <a href=\"https://www.developer.com/microsoft/creating-windows-7-jump-lists-with-the-api-code-pack-and-visual-studio-2008/\" rel=\"nofollow noreferrer\">blog post</a> that shows you how you can use it in a .NET Program, created in <em>C#</em> I believe.</p>\n<p>This feature is supported by <em>Windows 7 SP1+</em>.</p>\n<p>There are no <em>(as far as I know)</em> new libraries that support jumplists in a native-like way. However, you can use J7Goodies to get a work-around.</p>\n<p><em><strong>J7Goodies-Example by me</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(final String... args) {\n        if (!(System.getProperty(&quot;os.name&quot;).matches(&quot;Windows\\\\s(7|8(\\\\.1)?|10|11)&quot;)))\n            System.err.println(&quot;The Taskbar API is not supported on this operating system!&quot;);\n        \n        final JFrame frame = new JFrame(&quot;JumperListDemo&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(300, 200);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n        \n        final JPopupMenu popup = new JPopupMenu();\n        final JMenuItem item1 = new JMenuItem(&quot;Item 1&quot;);\n        final JMenuItem item2 = new JMenuItem(&quot;Item 2&quot;);\n        popup.add(item1);\n        popup.add(item2);\n        \n        item1.addActionListener(new ActionListener() {\n            public void actionPerformed(final ActionEvent e) {\n                System.out.println(&quot;Action invoked (1)&quot;);\n            }\n        });\n        \n        item2.addActionListener(new ActionListener() {\n            public void actionPerformed(final ActionEvent e) {\n                System.out.println(&quot;Action invoked (2)&quot;);\n            }\n        });\n        \n        \n        final JumpList jumpList = new JumpList();\n        final DestinationList tasks = new DestinationList();\n        tasks.addTask(&quot;Path&quot;, &quot;&quot;, &quot;Text&quot;, &quot;Path&quot;, 0, &quot;Description&quot;);;\n        \n        jumpList.appendTasks(tasks);\n        jumpList.save();\n        \n}\n</code></pre>\n<p><em>You'll need the latest J7Goodies.jar to run this file!</em></p>\n"}],"owner":{"account_id":4454886,"reputation":1,"user_id":3625525,"display_name":"user3625525"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":957,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680636879,"creation_date":1413975159,"question_id":26505815,"body_markdown":"how to create a pop up when write clicked on the application icon in the taskbar .\r\neg: on rightclicking the outlook 2013 . popup menu having Tasks such as\r\n\r\n 1. New-Email message\r\n 2. New Appointment\r\n 3. New meeting\r\n 4. New contact\r\n 5. New task\r\n\r\nappears. How can this be achieved in Java (using swing).\r\n\r\n \r\n","title":"taskbar popup menu in java","body":"<p>how to create a pop up when write clicked on the application icon in the taskbar .\neg: on rightclicking the outlook 2013 . popup menu having Tasks such as</p>\n\n<ol>\n<li>New-Email message</li>\n<li>New Appointment</li>\n<li>New meeting</li>\n<li>New contact</li>\n<li>New task</li>\n</ol>\n\n<p>appears. How can this be achieved in Java (using swing).</p>\n"},{"tags":["java","android"],"owner":{"account_id":16682306,"reputation":1,"user_id":12057071,"display_name":"Sorder Saikat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680636630,"creation_date":1680636630,"question_id":75933151,"body_markdown":"I am trying to load a native library. `nativeLibraryDir` gives me the path of that library. `dirPath` is just the path passed to load the library:\r\n```\r\nString nativeLibraryDir = getApplicationInfo().nativeLibraryDir;\r\nLoaderApiClient.downloadNativeLib(nativeLibraryDir);\r\nSystem.load(dirPath)\r\n```\r\nHowever, I&#39;m experiencing the following error:\r\n```\r\nFATAL EXCEPTION: Thread-4\r\nProcess: com.bcurre.bconvert, PID: 27736\r\njava.lang.RuntimeException: Unable to start loader due to the native lib not being loaded\r\nat com.bcurre.bconvert.api.LoaderApiClient.lambda$loadNativeLib$1(LoaderApiClient.java:84)\r\nat com.bcurre.bconvert.api.-$$Lambda$LoaderApiClient$no9_-A5nZsIWK_uFv-_aOGoGt6w.run(Unknown Source:6)\r\nat java.lang.Thread.run(Thread.java:1012)\r\n```\r\n\r\n\r\nHow can I fix this error?","title":"/data/app/com.bcurre.bconvert-2/lib/x86/libroyalfrencharchitect.so: open failed: EACCES (Permission denied)","body":"<p>I am trying to load a native library. <code>nativeLibraryDir</code> gives me the path of that library. <code>dirPath</code> is just the path passed to load the library:</p>\n<pre><code>String nativeLibraryDir = getApplicationInfo().nativeLibraryDir;\nLoaderApiClient.downloadNativeLib(nativeLibraryDir);\nSystem.load(dirPath)\n</code></pre>\n<p>However, I'm experiencing the following error:</p>\n<pre><code>FATAL EXCEPTION: Thread-4\nProcess: com.bcurre.bconvert, PID: 27736\njava.lang.RuntimeException: Unable to start loader due to the native lib not being loaded\nat com.bcurre.bconvert.api.LoaderApiClient.lambda$loadNativeLib$1(LoaderApiClient.java:84)\nat com.bcurre.bconvert.api.-$$Lambda$LoaderApiClient$no9_-A5nZsIWK_uFv-_aOGoGt6w.run(Unknown Source:6)\nat java.lang.Thread.run(Thread.java:1012)\n</code></pre>\n<p>How can I fix this error?</p>\n"},{"tags":["java","spring","spring-boot","maven","thymeleaf"],"comments":[{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":0,"creation_date":1608424462,"post_id":65375832,"comment_id":115580752,"body_markdown":"How do you know the &#39;controller method is entering for sure&#39;?","body":"How do you know the &#39;controller method is entering for sure&#39;?"},{"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"score":0,"creation_date":1608424938,"post_id":65375832,"comment_id":115580830,"body_markdown":"Debugging, logging.","body":"Debugging, logging."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1608556320,"post_id":65375832,"comment_id":115611757,"body_markdown":"The files are loaded from `classpath:/templates` NOT `templates`. That and JSP only works with a WAR file not a JAR file and is limited.","body":"The files are loaded from <code>classpath:&#47;templates</code> NOT <code>templates</code>. That and JSP only works with a WAR file not a JAR file and is limited."},{"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"score":0,"creation_date":1608766155,"post_id":65375832,"comment_id":115681412,"body_markdown":"@M.Deinum you are right. That&#39;s what is set by spring-boot for thymeleaf: https://docs.spring.io/spring-boot/docs/1.3.0.M1/reference/html/common-application-properties.html. But when I set `classpath:/templates` in my properties file (without adding thymleafe dependency) it doesn&#39;t work. So the only (and I am sure not the effective) solution I found was adding thymleaf dependency into pom.","body":"@M.Deinum you are right. That&#39;s what is set by spring-boot for thymeleaf: <a href=\"https://docs.spring.io/spring-boot/docs/1.3.0.M1/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.3.0.M1/reference/html/&hellip;</a>. But when I set <code>classpath:&#47;templates</code> in my properties file (without adding thymleafe dependency) it doesn&#39;t work. So the only (and I am sure not the effective) solution I found was adding thymleaf dependency into pom."}],"answers":[{"comments":[{"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"score":0,"creation_date":1608450911,"post_id":65377904,"comment_id":115584305,"body_markdown":"This is not the case. Method *index()* is getting called in my code correctly. Problem is with jsp file location / path or something else.","body":"This is not the case. Method <i>index()</i> is getting called in my code correctly. Problem is with jsp file location / path or something else."},{"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"score":0,"creation_date":1608451338,"post_id":65377904,"comment_id":115584400,"body_markdown":"Yes, I have tired it.","body":"Yes, I have tired it."}],"tags":[],"owner":{"account_id":9591005,"reputation":53,"user_id":7121896,"display_name":"Mattyas yahya"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1608450359,"creation_date":1608450359,"answer_id":65377904,"question_id":65375832,"body_markdown":"okay, i will fix your code and run in your IDE, \r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n     @RequestMapping(&quot;/hello&quot;)\r\n    public String index() {\r\n        return &quot;hello&quot;;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Spring boot does not load jsp file","body":"<p>okay, i will fix your code and run in your IDE,</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> @RequestMapping(\"/hello\")\npublic String index() {\n    return \"hello\";\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":17312133,"reputation":59,"user_id":12539444,"display_name":"Issa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608450555,"creation_date":1608450555,"answer_id":65377928,"question_id":65375832,"body_markdown":"try to change your configs and codes like below:\r\n\r\n    in application.properties put these configs:\r\n\r\n    spring.mvc.view.prefix=/WEB-INF/jsp/\r\n    spring.mvc.view.suffix=.jsp\r\n\r\n\r\n    LoginForm class:\r\n        public class LoginForm {\r\n            private String email;\r\n\t        private String password;\r\n  \r\n            public LoginForm() {}\r\n            public String getEmail() { return email; }\r\n            public void setEmail(String email) { this.email = email; }\r\n            public String getPassword() { return password; }\r\n            public void setPassword(String password) { this.password = password; }\r\n        }\r\n\r\n    **LoginForm is just a normal bean with a no-arg Constructor and the getters / setters**\r\n\r\n    Now, we create a LoginHandler Class to coordinate and handle the whole login process.\r\n\r\n        @Controller\r\n        @RequestMapping(&quot;/login&quot;)\r\n        public class LoginHandler {\r\n        private static final String LOGIN_VIEW = &quot;login&quot;;\r\n        private static final String LOGOUT_VIEW = &quot;logout&quot;;\r\n        }\r\n\r\n    let’s define some handler methods.\r\n\r\n        @GetMapping(&quot;/login&quot;)\r\n        public String showLoginView(Model model) {\r\n        model.addAttribute(&quot;loginForm&quot;, new LoginForm());\r\n        return LOGIN_VIEW;\r\n        }\r\n\r\n","title":"Spring boot does not load jsp file","body":"<p>try to change your configs and codes like below:</p>\n<pre><code>in application.properties put these configs:\n\nspring.mvc.view.prefix=/WEB-INF/jsp/\nspring.mvc.view.suffix=.jsp\n\n\nLoginForm class:\n    public class LoginForm {\n        private String email;\n        private String password;\n\n        public LoginForm() {}\n        public String getEmail() { return email; }\n        public void setEmail(String email) { this.email = email; }\n        public String getPassword() { return password; }\n        public void setPassword(String password) { this.password = password; }\n    }\n\n**LoginForm is just a normal bean with a no-arg Constructor and the getters / setters**\n\nNow, we create a LoginHandler Class to coordinate and handle the whole login process.\n\n    @Controller\n    @RequestMapping(&quot;/login&quot;)\n    public class LoginHandler {\n    private static final String LOGIN_VIEW = &quot;login&quot;;\n    private static final String LOGOUT_VIEW = &quot;logout&quot;;\n    }\n\nlet’s define some handler methods.\n\n    @GetMapping(&quot;/login&quot;)\n    public String showLoginView(Model model) {\n    model.addAttribute(&quot;loginForm&quot;, new LoginForm());\n    return LOGIN_VIEW;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680636291,"creation_date":1608551003,"answer_id":65392153,"question_id":65375832,"body_markdown":"Just restarting Inellij IDEA with invalidating caches (`File | Invalidate Caches / Restart`) solved the problem. \r\n\r\nActually it started to work with templates folder, so templates are the root, and if you put something inside it, you can access from controllers without any `prefix` setting.\r\n\r\nBut again nothing is workable from **webapp**, seams maven is ignoring **webapp** at all. Maybe this is connected with maven, or spring-boot version.\r\n\r\nAnd add **[thymeleafe][1]** dependency and it will work with `.html` files (this is not the thing I like, but up to now the only workable solution found).\r\n\r\n\r\n  [1]: https://www.thymeleaf.org/","title":"Spring boot does not load jsp file","body":"<p>Just restarting Inellij IDEA with invalidating caches (<code>File | Invalidate Caches / Restart</code>) solved the problem.</p>\n<p>Actually it started to work with templates folder, so templates are the root, and if you put something inside it, you can access from controllers without any <code>prefix</code> setting.</p>\n<p>But again nothing is workable from <strong>webapp</strong>, seams maven is ignoring <strong>webapp</strong> at all. Maybe this is connected with maven, or spring-boot version.</p>\n<p>And add <strong><a href=\"https://www.thymeleaf.org/\" rel=\"nofollow noreferrer\">thymeleafe</a></strong> dependency and it will work with <code>.html</code> files (this is not the thing I like, but up to now the only workable solution found).</p>\n"}],"owner":{"account_id":9744856,"reputation":985,"user_id":7225171,"accept_rate":67,"display_name":"Serob_b"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1514,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65392153,"answer_count":3,"score":3,"last_activity_date":1680636291,"creation_date":1608424061,"question_id":65375832,"body_markdown":"Using spring boot starter `2.4.1 version`.\r\n\r\nresources folder has the following structure. As it is seen hello.jsp is in templates folder. These are included in application.properties:\r\n     \r\n      spring.mvc.view.prefix=/templates/\r\n      spring.mvc.view.suffix=.jsp\r\n\r\nAnd a simple **controller:**\r\n\r\n    @Controller\r\n    public class HelloController {\r\n        @GetMapping(&quot;/hello&quot;)\r\n        public String index(){\r\n            return &quot;hello&quot;;\r\n        }\r\n    }\r\n\r\nBut get **404**. \r\n\r\n*Controller method is entering for sure.*\r\n\r\nTried what is suggested in the [following answer][1], tried using the webapp, but didn&#39;t help: **/WEB-INF** is not created inside target **at all**, it seems maven is ignoring webapp and WEB-INF folders.\r\n\r\n[![target][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/48285180/7225171\r\n  [2]: https://i.stack.imgur.com/NVtCC.png","title":"Spring boot does not load jsp file","body":"<p>Using spring boot starter <code>2.4.1 version</code>.</p>\n<p>resources folder has the following structure. As it is seen hello.jsp is in templates folder. These are included in application.properties:</p>\n<pre><code>  spring.mvc.view.prefix=/templates/\n  spring.mvc.view.suffix=.jsp\n</code></pre>\n<p>And a simple <strong>controller:</strong></p>\n<pre><code>@Controller\npublic class HelloController {\n    @GetMapping(&quot;/hello&quot;)\n    public String index(){\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>But get <strong>404</strong>.</p>\n<p><em>Controller method is entering for sure.</em></p>\n<p>Tried what is suggested in the <a href=\"https://stackoverflow.com/a/48285180/7225171\">following answer</a>, tried using the webapp, but didn't help: <strong>/WEB-INF</strong> is not created inside target <strong>at all</strong>, it seems maven is ignoring webapp and WEB-INF folders.</p>\n<p><a href=\"https://i.stack.imgur.com/NVtCC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NVtCC.png\" alt=\"target\" /></a></p>\n"},{"tags":["java","sorting","time-complexity","swap"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":3,"creation_date":1680635793,"post_id":75933025,"comment_id":133930951,"body_markdown":"This question with this wording makes zero sense. Either there was actually more context, a different wording or something else is missing.","body":"This question with this wording makes zero sense. Either there was actually more context, a different wording or something else is missing."},{"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"score":0,"creation_date":1680636199,"post_id":75933025,"comment_id":133931035,"body_markdown":"Yeah, I know, but I swear to bloody god that this is all that was provided. In most questions we literally had to assume what kind of algorithm is being used.","body":"Yeah, I know, but I swear to bloody god that this is all that was provided. In most questions we literally had to assume what kind of algorithm is being used."}],"answers":[{"comments":[{"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"score":0,"creation_date":1680636517,"post_id":75933107,"comment_id":133931126,"body_markdown":"Thanks! but how do you not get confused into thinking that if this was a bubble sort, the algorithm would swap 0 2 times and mistakenly choosing 2 as the answer? When you have professors this tricky, how do you deal with them like that?","body":"Thanks! but how do you not get confused into thinking that if this was a bubble sort, the algorithm would swap 0 2 times and mistakenly choosing 2 as the answer? When you have professors this tricky, how do you deal with them like that?"},{"owner":{"account_id":24265955,"reputation":36,"user_id":18214860,"display_name":"Akameuh"},"score":1,"creation_date":1680636710,"post_id":75933107,"comment_id":133931158,"body_markdown":"Because in your question, your professor precise &quot;swap&quot;, so you cannot use like bubble sort or anything else, you can only use swap !","body":"Because in your question, your professor precise &quot;swap&quot;, so you cannot use like bubble sort or anything else, you can only use swap !"},{"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"score":0,"creation_date":1680637246,"post_id":75933107,"comment_id":133931260,"body_markdown":"Oh I see. So how should I use this info _during the outer loop execution (i = 3)_ in my favor so I don&#39;t get confused again? What is that _i = 3_ actually there for?","body":"Oh I see. So how should I use this info <i>during the outer loop execution (i = 3)</i> in my favor so I don&#39;t get confused again? What is that <i>i = 3</i> actually there for?"},{"owner":{"account_id":24265955,"reputation":36,"user_id":18214860,"display_name":"Akameuh"},"score":0,"creation_date":1680637857,"post_id":75933107,"comment_id":133931377,"body_markdown":"I think the i=3 should represent :\nfor(int i =0; i &lt; 3 ; i++)","body":"I think the i=3 should represent : for(int i =0; i &lt; 3 ; i++)"}],"tags":[],"owner":{"account_id":24265955,"reputation":36,"user_id":18214860,"display_name":"Akameuh"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680636193,"creation_date":1680636193,"answer_id":75933107,"question_id":75933025,"body_markdown":"There is your list\r\n{12 30 40 0 47}\r\n\r\nyou only need 3 swaps to sort it :\r\n\r\n{ 12 30 0 40 47 }\r\nYou swap the 0 with 40\r\n\r\n{12 0 30 40 47 }\r\nYou swap the 0 with 30\r\n\r\n{0 12 30 40 47 }\r\nand finally you swap 0 with 12\r\n\r\nthat&#39;s why the answer is 3, tell me if you didn&#39;t understand !","title":"Given the list {12 30 40 0 47}, how many swaps will occur during the outer loop execution (i = 3)?","body":"<p>There is your list\n{12 30 40 0 47}</p>\n<p>you only need 3 swaps to sort it :</p>\n<p>{ 12 30 0 40 47 }\nYou swap the 0 with 40</p>\n<p>{12 0 30 40 47 }\nYou swap the 0 with 30</p>\n<p>{0 12 30 40 47 }\nand finally you swap 0 with 12</p>\n<p>that's why the answer is 3, tell me if you didn't understand !</p>\n"}],"owner":{"account_id":27991586,"reputation":57,"user_id":21377330,"display_name":"Sheep_Walker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1680849919,"answer_count":1,"score":-2,"last_activity_date":1680636193,"creation_date":1680635521,"question_id":75933025,"body_markdown":"So I have a class where we are taught how to code in Java. We were learning about sorting algorithms like Bubble, Merge, Insertion or Quick sorts and their time complexities. In a quiz, I got this question. The answer to this question was 3. Why is that the answer? (btw the question was just that. No program or description was provided).","title":"Given the list {12 30 40 0 47}, how many swaps will occur during the outer loop execution (i = 3)?","body":"<p>So I have a class where we are taught how to code in Java. We were learning about sorting algorithms like Bubble, Merge, Insertion or Quick sorts and their time complexities. In a quiz, I got this question. The answer to this question was 3. Why is that the answer? (btw the question was just that. No program or description was provided).</p>\n"},{"tags":["java","user-interface","datatable","gwt","domino-ui"],"answers":[{"tags":[],"owner":{"account_id":2480204,"reputation":1014,"user_id":2159821,"display_name":"Ahmad Bawaneh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680564980,"creation_date":1680564980,"answer_id":75924458,"question_id":75924457,"body_markdown":"You dont actually need to copy the UI, the search action as well the header filters will fire a table event when they are changed, any data store can listen to those events and read the search filters from the event and use it to load/filter the data, the LocalDatStore does this and filter the data locally, a remote data store will read these filters and sends them to the server and the server will filter the data and return the result to the client.\r\n\r\nHere is a sample remote data store\r\n\r\n    package org.dominokit.domino.ui.sample.store;\r\n    \r\n    import org.dominokit.domino.ui.sample.client.Formats;\r\n    import org.dominokit.domino.ui.sample.shared.store.CanLoadItems;\r\n    import org.dominokit.domino.ui.sample.shared.store.LoadContext;\r\n    import org.dominokit.domino.ui.datatable.events.SearchEvent;\r\n    import org.dominokit.domino.ui.datatable.events.SortEvent;\r\n    import org.dominokit.domino.ui.datatable.events.TableEvent;\r\n    import org.dominokit.domino.ui.datatable.events.TablePageChangeEvent;\r\n    import org.dominokit.domino.ui.datatable.model.Filter;\r\n    import org.dominokit.domino.ui.datatable.model.FilterTypes;\r\n    import org.dominokit.domino.ui.datatable.store.DataChangedEvent;\r\n    import org.dominokit.domino.ui.datatable.store.DataStore;\r\n    import org.dominokit.domino.ui.datatable.store.StoreDataChangeListener;\r\n    import org.dominokit.domino.ui.pagination.HasPagination;\r\n    import org.gwtproject.i18n.client.DateTimeFormat;\r\n    \r\n    import java.util.*;\r\n    \r\n    import static java.util.Objects.nonNull;\r\n    import static org.dominokit.domino.ui.datatable.events.SearchEvent.SEARCH_EVENT;\r\n    import static org.dominokit.domino.ui.datatable.events.SortEvent.SORT_EVENT;\r\n    \r\n    public class RemoteDataStore&lt;T&gt; implements DataStore&lt;T&gt; {\r\n        private List&lt;StoreDataChangeListener&lt;T&gt;&gt; listeners = new ArrayList&lt;&gt;();\r\n        private HasPagination pagination;\r\n        private CanLoadItems&lt;T&gt; uiHandlers;\r\n        private String propertyName;\r\n        private String sortDirection;\r\n        private int activePage = 0;\r\n    \r\n        private Map&lt;String, String&gt; searchProperties = new HashMap&lt;&gt;();\r\n        private List&lt;T&gt; items;\r\n    \r\n        public RemoteDataStore(CanLoadItems&lt;T&gt; uiHandlers) {\r\n            this.uiHandlers = uiHandlers;\r\n        }\r\n    \r\n        @Override\r\n        public void onDataChanged(StoreDataChangeListener&lt;T&gt; dataChangeListener) {\r\n            listeners.add(dataChangeListener);\r\n        }\r\n    \r\n        @Override\r\n        public void removeDataChangeListener(StoreDataChangeListener&lt;T&gt; dataChangeListener) {\r\n            listeners.remove(dataChangeListener);\r\n        }\r\n    \r\n        @Override\r\n        public void load() {\r\n            uiHandlers.load(getLoadContext(), loadResult -&gt; {\r\n                this.items = loadResult.getResourceList();\r\n                if (nonNull(loadResult.getPage())) {\r\n                    pagination.updatePagesByTotalCount(loadResult.getPage().getTotalElements(), loadResult.getPage().getSize());\r\n                    pagination.gotoPage(loadResult.getPage().getNumber() + 1, true);\r\n                }\r\n                fireUpdate();\r\n            });\r\n        }\r\n    \r\n        private LoadContext getLoadContext() {\r\n            return new LoadContext(propertyName, sortDirection, activePage, searchProperties);\r\n        }\r\n    \r\n        @Override\r\n        public void handleEvent(TableEvent event) {\r\n            switch (event.getType()) {\r\n                case TablePageChangeEvent.PAGINATION_EVENT:\r\n                    activePage = pagination.activePage() - 1;\r\n                    load();\r\n                    break;\r\n                case SORT_EVENT:\r\n                    propertyName = ((SortEvent&lt;?&gt;) event).getColumnConfig().getName();\r\n                    sortDirection = ((SortEvent&lt;?&gt;) event).getSortDirection().toString();\r\n                    load();\r\n                    break;\r\n                case SEARCH_EVENT:\r\n                    searchProperties = new HashMap&lt;&gt;();\r\n                    List&lt;Filter&gt; filters = ((SearchEvent) event).getFilters();\r\n                    this.activePage = 0;\r\n                    for (Filter filter : filters) {\r\n                        if (!filter.getValues().isEmpty()) {\r\n                            if (filter.getType().equals(FilterTypes.DATE)) {\r\n                                String longDate = filter.getValues().get(0);\r\n                                String formattedDate = DateTimeFormat.getFormat(Formats.DEFAULT_DATE_PATTERN)\r\n                                        .format(new Date(Long.parseLong(longDate)));\r\n                                searchProperties.put(filter.getFieldName(), formattedDate);\r\n                            } else {\r\n                                searchProperties.put(filter.getFieldName(), filter.getValues().get(0));\r\n                            }\r\n                        }\r\n                    }\r\n                    load();\r\n                    break;\r\n            }\r\n        }\r\n    \r\n        private void fireUpdate() {\r\n            listeners.forEach(dataChangeListener -&gt; dataChangeListener.onDataChanged(new DataChangedEvent&lt;&gt;(items, items.size())));\r\n        }\r\n    \r\n        public HasPagination getPagination() {\r\n            return pagination;\r\n        }\r\n    \r\n        public void setPagination(HasPagination pagination) {\r\n            this.pagination = pagination;\r\n        }\r\n    \r\n        public int getActivePage() {\r\n            return activePage;\r\n        }\r\n    \r\n        public void load(int pageNumber) {\r\n            this.activePage = pageNumber;\r\n            load();\r\n        }\r\n    }\r\n\r\nHere we listen to the events and delegate the actual data load call to the uiHandlers.\r\n\r\nNotice that implementing a remote data store depends on the server implementation, so there  is no one remote data store that works for everyone, so use this as an example to implement one that works for your server.","title":"Using domino-ui datatable search action with remote data store","body":"<p>You dont actually need to copy the UI, the search action as well the header filters will fire a table event when they are changed, any data store can listen to those events and read the search filters from the event and use it to load/filter the data, the LocalDatStore does this and filter the data locally, a remote data store will read these filters and sends them to the server and the server will filter the data and return the result to the client.</p>\n<p>Here is a sample remote data store</p>\n<pre><code>package org.dominokit.domino.ui.sample.store;\n\nimport org.dominokit.domino.ui.sample.client.Formats;\nimport org.dominokit.domino.ui.sample.shared.store.CanLoadItems;\nimport org.dominokit.domino.ui.sample.shared.store.LoadContext;\nimport org.dominokit.domino.ui.datatable.events.SearchEvent;\nimport org.dominokit.domino.ui.datatable.events.SortEvent;\nimport org.dominokit.domino.ui.datatable.events.TableEvent;\nimport org.dominokit.domino.ui.datatable.events.TablePageChangeEvent;\nimport org.dominokit.domino.ui.datatable.model.Filter;\nimport org.dominokit.domino.ui.datatable.model.FilterTypes;\nimport org.dominokit.domino.ui.datatable.store.DataChangedEvent;\nimport org.dominokit.domino.ui.datatable.store.DataStore;\nimport org.dominokit.domino.ui.datatable.store.StoreDataChangeListener;\nimport org.dominokit.domino.ui.pagination.HasPagination;\nimport org.gwtproject.i18n.client.DateTimeFormat;\n\nimport java.util.*;\n\nimport static java.util.Objects.nonNull;\nimport static org.dominokit.domino.ui.datatable.events.SearchEvent.SEARCH_EVENT;\nimport static org.dominokit.domino.ui.datatable.events.SortEvent.SORT_EVENT;\n\npublic class RemoteDataStore&lt;T&gt; implements DataStore&lt;T&gt; {\n    private List&lt;StoreDataChangeListener&lt;T&gt;&gt; listeners = new ArrayList&lt;&gt;();\n    private HasPagination pagination;\n    private CanLoadItems&lt;T&gt; uiHandlers;\n    private String propertyName;\n    private String sortDirection;\n    private int activePage = 0;\n\n    private Map&lt;String, String&gt; searchProperties = new HashMap&lt;&gt;();\n    private List&lt;T&gt; items;\n\n    public RemoteDataStore(CanLoadItems&lt;T&gt; uiHandlers) {\n        this.uiHandlers = uiHandlers;\n    }\n\n    @Override\n    public void onDataChanged(StoreDataChangeListener&lt;T&gt; dataChangeListener) {\n        listeners.add(dataChangeListener);\n    }\n\n    @Override\n    public void removeDataChangeListener(StoreDataChangeListener&lt;T&gt; dataChangeListener) {\n        listeners.remove(dataChangeListener);\n    }\n\n    @Override\n    public void load() {\n        uiHandlers.load(getLoadContext(), loadResult -&gt; {\n            this.items = loadResult.getResourceList();\n            if (nonNull(loadResult.getPage())) {\n                pagination.updatePagesByTotalCount(loadResult.getPage().getTotalElements(), loadResult.getPage().getSize());\n                pagination.gotoPage(loadResult.getPage().getNumber() + 1, true);\n            }\n            fireUpdate();\n        });\n    }\n\n    private LoadContext getLoadContext() {\n        return new LoadContext(propertyName, sortDirection, activePage, searchProperties);\n    }\n\n    @Override\n    public void handleEvent(TableEvent event) {\n        switch (event.getType()) {\n            case TablePageChangeEvent.PAGINATION_EVENT:\n                activePage = pagination.activePage() - 1;\n                load();\n                break;\n            case SORT_EVENT:\n                propertyName = ((SortEvent&lt;?&gt;) event).getColumnConfig().getName();\n                sortDirection = ((SortEvent&lt;?&gt;) event).getSortDirection().toString();\n                load();\n                break;\n            case SEARCH_EVENT:\n                searchProperties = new HashMap&lt;&gt;();\n                List&lt;Filter&gt; filters = ((SearchEvent) event).getFilters();\n                this.activePage = 0;\n                for (Filter filter : filters) {\n                    if (!filter.getValues().isEmpty()) {\n                        if (filter.getType().equals(FilterTypes.DATE)) {\n                            String longDate = filter.getValues().get(0);\n                            String formattedDate = DateTimeFormat.getFormat(Formats.DEFAULT_DATE_PATTERN)\n                                    .format(new Date(Long.parseLong(longDate)));\n                            searchProperties.put(filter.getFieldName(), formattedDate);\n                        } else {\n                            searchProperties.put(filter.getFieldName(), filter.getValues().get(0));\n                        }\n                    }\n                }\n                load();\n                break;\n        }\n    }\n\n    private void fireUpdate() {\n        listeners.forEach(dataChangeListener -&gt; dataChangeListener.onDataChanged(new DataChangedEvent&lt;&gt;(items, items.size())));\n    }\n\n    public HasPagination getPagination() {\n        return pagination;\n    }\n\n    public void setPagination(HasPagination pagination) {\n        this.pagination = pagination;\n    }\n\n    public int getActivePage() {\n        return activePage;\n    }\n\n    public void load(int pageNumber) {\n        this.activePage = pageNumber;\n        load();\n    }\n}\n</code></pre>\n<p>Here we listen to the events and delegate the actual data load call to the uiHandlers.</p>\n<p>Notice that implementing a remote data store depends on the server implementation, so there  is no one remote data store that works for everyone, so use this as an example to implement one that works for your server.</p>\n"},{"tags":[],"owner":{"account_id":20642959,"reputation":1,"user_id":16505743,"display_name":"user616041"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680635999,"creation_date":1680635999,"answer_id":75933080,"question_id":75924457,"body_markdown":"\r\n\r\nThank you. (I don&#39;t have enough points yet to add a comment on the first answer - so adding a new answer) This is great information!  Below is the implementation with GWT Async for server communications - but it could easily be replaced in the overridden load method.  \r\n\r\nAdd the table to your page and tell the RemoteDataService how to load information from the server.\r\n```\r\n\tSimplePaginationPlugin&lt;Person&gt; simplePaginationPlugin = new SimplePaginationPlugin&lt;&gt;(10);\r\n\r\n\t\tTableConfig&lt;Person&gt; tableConfig = new TableConfig&lt;&gt;();\r\n\t\ttableConfig\r\n\t\t\t\t.addColumn(ColumnConfig.&lt;Person&gt;create(&quot;id&quot;, &quot;#&quot;).textAlign(&quot;right&quot;).asHeader()\r\n\t\t\t\t\t\t.setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getId() + &quot;&quot;)))\r\n\t\t\t\t.addColumn(ColumnConfig.&lt;Person&gt;create(&quot;status&quot;, &quot;Status&quot;).textAlign(&quot;center&quot;).setCellRenderer(cell -&gt; {\r\n\t\t\t\t\tif (cell.getTableRow().getRecord().isActive()) {\r\n\t\t\t\t\t\treturn Style.of(Icons.ALL.check_circle()).setColor(Color.GREEN_DARKEN_3.getHex()).element();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Style.of(Icons.ALL.highlight_off()).setColor(Color.RED_DARKEN_3.getHex()).element();\r\n\t\t\t\t\t}\r\n\t\t\t\t}))\r\n\t\t\t\t.addColumn(ColumnConfig.&lt;Person&gt;create(&quot;firstName&quot;, &quot;Name&quot;)\r\n\t\t\t\t\t\t.setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getName())));\r\n\r\n\t\ttableConfig\r\n\t    .setFixed(true)\r\n\t\t\t\t.addPlugin(new SortPlugin&lt;&gt;())\r\n\t\t\t\t.addPlugin(new HeaderBarPlugin&lt;Person&gt;(&quot;Demo table&quot;, &quot;this a sample table with all features&quot;)\r\n\t\t\t\t\t\t.addActionElement(new HeaderBarPlugin.SearchTableAction&lt;&gt;()))\r\n\t\t\t\t.addPlugin(simplePaginationPlugin);\r\n\t\t\t\t;\r\n\t\t\r\n\t\tRemoteDataStore&lt;Person&gt; remoteDataStore = new RemoteDataStore&lt;Person&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void load() {\r\n\t\t\t\tgreetingService.getPeople(getSearchProperties(), getSortPropertyName(), getSortPropertyDirection(),\r\n\t\t\t\t\t\tnew AsyncCallback&lt;ArrayList&lt;Person&gt;&gt;() {\r\n\r\n\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\tpublic void onSuccess(ArrayList&lt;Person&gt; result) {\r\n\t\t\t\t\t\t\t\tloadNewItems(result);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\tpublic void onFailure(Throwable caught) {\r\n\t\t\t\t\t\t\t\tWindow.alert(&quot;Failure&quot;);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tremoteDataStore.setPagination(simplePaginationPlugin.getSimplePagination());\r\n\r\n\t\tDataTable&lt;Person&gt; table = new DataTable&lt;&gt;(tableConfig, remoteDataStore);\r\n\t\tlayout.getContentPanel()\r\n\t\t\t\t.appendChild(Card\r\n\t\t\t\t\t\t.create(&quot;BASIC TABLE&quot;, &quot;By default a table will auto fit columns and allow custom cell content&quot;)\r\n\t\t\t\t\t\t.setCollapsible().appendChild(table).element());\r\n\r\n\t\t//Load the table data on page load\r\n\t\tremoteDataStore.load();\r\n```\r\n\r\n\r\n```\r\nimport static java.util.Objects.nonNull;\r\nimport static org.dominokit.domino.ui.datatable.events.SearchEvent.SEARCH_EVENT;\r\nimport static org.dominokit.domino.ui.datatable.events.SortEvent.SORT_EVENT;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Map.Entry;\r\nimport java.util.Objects;\r\n\r\n//import org.dominokit.domino.ui.sample.client.Formats;\r\nimport org.dominokit.domino.ui.datatable.events.SearchEvent;\r\nimport org.dominokit.domino.ui.datatable.events.SortEvent;\r\nimport org.dominokit.domino.ui.datatable.events.TableEvent;\r\nimport org.dominokit.domino.ui.datatable.events.TablePageChangeEvent;\r\nimport org.dominokit.domino.ui.datatable.model.Filter;\r\nimport org.dominokit.domino.ui.datatable.model.FilterTypes;\r\nimport org.dominokit.domino.ui.datatable.store.DataChangedEvent;\r\nimport org.dominokit.domino.ui.datatable.store.DataStore;\r\nimport org.dominokit.domino.ui.datatable.store.StoreDataChangeListener;\r\nimport org.dominokit.domino.ui.pagination.HasPagination;\r\nimport org.gwtproject.i18n.client.DateTimeFormat;\r\n\r\npublic abstract class RemoteDataStore&lt;T&gt; implements DataStore&lt;T&gt; {\r\n    private List&lt;StoreDataChangeListener&lt;T&gt;&gt; listeners = new ArrayList&lt;&gt;();\r\n    private HasPagination pagination;\r\n    private String sortPropertyName;\r\n    private String sortPropertyDirection;\r\n    \r\n    private Entry&lt;String,String&gt; sortProperties;\r\n    \r\n    private int activePage = 0;\r\n\r\n    private Map&lt;String, String&gt; searchProperties = new HashMap&lt;&gt;();\r\n    private List&lt;T&gt; items;\r\n\r\n    public RemoteDataStore() {\r\n    \tsuper();\r\n    }\r\n\r\n\t@Override\r\n    public void onDataChanged(StoreDataChangeListener&lt;T&gt; dataChangeListener) {\r\n        listeners.add(dataChangeListener);\r\n    }\r\n\r\n    @Override\r\n    public void removeDataChangeListener(StoreDataChangeListener&lt;T&gt; dataChangeListener) {\r\n        listeners.remove(dataChangeListener);\r\n    }\r\n\r\n    public void loadNewItems(List&lt;T&gt; newItems)\r\n    {\r\n    \tif(Objects.isNull(getItems()))\r\n    \t{\r\n    \t\tsetItems(new ArrayList&lt;T&gt;());\r\n    \t}\r\n    \t\r\n    \tgetItems().clear();\r\n    \tgetItems().addAll(newItems);\r\n    \t\r\n    \tif(Objects.nonNull(pagination))\r\n    \t{\r\n    \t\tpagination.updatePagesByTotalCount(getItems().size());\r\n\t        pagination.gotoPage(1, true);\r\n    \t}\r\n    \t\r\n    \tfireUpdate();\r\n    }\r\n    \r\n    @Override\r\n    public void handleEvent(TableEvent event) {\r\n        switch (event.getType()) {\r\n            case TablePageChangeEvent.PAGINATION_EVENT:\r\n                setActivePage(pagination.activePage() - 1);\r\n                fireUpdate();\r\n                break;\r\n            case SORT_EVENT:\r\n\t\t\t\tsetSortPropertyName(((SortEvent&lt;?&gt;) event).getColumnConfig().getName());\r\n\t\t\t\tsetSortPropertyDirection(((SortEvent&lt;?&gt;) event).getSortDirection().toString());\r\n                load();\r\n                break;\r\n            case SEARCH_EVENT:\r\n                setSearchProperties(new HashMap&lt;&gt;());\r\n                List&lt;Filter&gt; filters = ((SearchEvent) event).getFilters();\r\n                this.setActivePage(0);\r\n                for (Filter filter : filters) {\r\n                    if (!filter.getValues().isEmpty()) {\r\n                        if (filter.getType().equals(FilterTypes.DATE)) {\r\n                            String longDate = filter.getValues().get(0);\r\n                            String formattedDate = DateTimeFormat.getFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;)\r\n                                    .format(new Date(Long.parseLong(longDate)));\r\n                            getSearchProperties().put(filter.getFieldName(), formattedDate);\r\n                        } else {\r\n                            getSearchProperties().put(filter.getFieldName(), filter.getValues().get(0));\r\n                        }\r\n                    }\r\n                }\r\n                load();\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void fireUpdate() {\r\n    \tList&lt;T&gt; updateRecords = getRecordsForPage();\r\n        listeners.forEach(dataChangeListener -&gt; dataChangeListener.onDataChanged(new DataChangedEvent&lt;&gt;(updateRecords, updateRecords.size())));\r\n    }\r\n\r\n\r\n    private List&lt;T&gt; getRecordsForPage() {\r\n        if (nonNull(getPagination())) {\r\n          int fromIndex = getPagination().getPageSize() * (getPagination().activePage() - 1);\r\n          int toIndex = Math.min(fromIndex + getPagination().getPageSize(), getItems().size());\r\n          return new ArrayList&lt;&gt;(getItems().subList(fromIndex, toIndex));\r\n        } else {\r\n        \treturn new ArrayList&lt;&gt;(getItems());\r\n        }\r\n      }\r\n    \r\n    \r\n    public HasPagination getPagination() {\r\n        return pagination;\r\n    }\r\n\r\n    public void setPagination(HasPagination pagination) {\r\n        this.pagination = pagination;\r\n    }\r\n\r\n    public int getActivePage() {\r\n        return activePage;\r\n    }\r\n\r\n    public void load(int pageNumber) {\r\n        this.setActivePage(pageNumber);\r\n        load();\r\n    }\r\n\r\n\tpublic Map&lt;String, String&gt; getSearchProperties() {\r\n\t\treturn searchProperties;\r\n\t}\r\n\r\n\tpublic void setSearchProperties(Map&lt;String, String&gt; searchProperties) {\r\n\t\tthis.searchProperties = searchProperties;\r\n\t}\r\n\r\n\tpublic void setActivePage(int activePage) {\r\n\t\tthis.activePage = activePage;\r\n\t}\r\n\r\n\tpublic Entry&lt;String,String&gt; getSortProperties() {\r\n\t\treturn sortProperties;\r\n\t}\r\n\r\n\tpublic void setSortProperties(Entry&lt;String,String&gt; sortProperties) {\r\n\t\tthis.sortProperties = sortProperties;\r\n\t}\r\n\r\n\tpublic String getSortPropertyName() {\r\n\t\treturn sortPropertyName;\r\n\t}\r\n\r\n\tpublic void setSortPropertyName(String sortPropertyName) {\r\n\t\tthis.sortPropertyName = sortPropertyName;\r\n\t}\r\n\r\n\tpublic String getSortPropertyDirection() {\r\n\t\treturn sortPropertyDirection;\r\n\t}\r\n\r\n\tpublic void setSortPropertyDirection(String sortPropertyDirection) {\r\n\t\tthis.sortPropertyDirection = sortPropertyDirection;\r\n\t}\r\n\r\n\tpublic List&lt;T&gt; getItems() {\r\n\t\treturn items;\r\n\t}\r\n\r\n\tpublic void setItems(List&lt;T&gt; items) {\r\n\t\tthis.items = items;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n```\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class Person implements Serializable {\r\n\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate boolean active;\r\n\r\n\tpublic Person() {\r\n\t}\r\n\r\n\tpublic Person(int id, String name, boolean active) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.active = active;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic boolean isActive() {\r\n\t\treturn active;\r\n\t}\r\n\r\n\tpublic void setActive(boolean active) {\r\n\t\tthis.active = active;\r\n\t}\r\n}\r\n```","title":"Using domino-ui datatable search action with remote data store","body":"<p>Thank you. (I don't have enough points yet to add a comment on the first answer - so adding a new answer) This is great information!  Below is the implementation with GWT Async for server communications - but it could easily be replaced in the overridden load method.</p>\n<p>Add the table to your page and tell the RemoteDataService how to load information from the server.</p>\n<pre><code>    SimplePaginationPlugin&lt;Person&gt; simplePaginationPlugin = new SimplePaginationPlugin&lt;&gt;(10);\n\n        TableConfig&lt;Person&gt; tableConfig = new TableConfig&lt;&gt;();\n        tableConfig\n                .addColumn(ColumnConfig.&lt;Person&gt;create(&quot;id&quot;, &quot;#&quot;).textAlign(&quot;right&quot;).asHeader()\n                        .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getId() + &quot;&quot;)))\n                .addColumn(ColumnConfig.&lt;Person&gt;create(&quot;status&quot;, &quot;Status&quot;).textAlign(&quot;center&quot;).setCellRenderer(cell -&gt; {\n                    if (cell.getTableRow().getRecord().isActive()) {\n                        return Style.of(Icons.ALL.check_circle()).setColor(Color.GREEN_DARKEN_3.getHex()).element();\n                    } else {\n                        return Style.of(Icons.ALL.highlight_off()).setColor(Color.RED_DARKEN_3.getHex()).element();\n                    }\n                }))\n                .addColumn(ColumnConfig.&lt;Person&gt;create(&quot;firstName&quot;, &quot;Name&quot;)\n                        .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getName())));\n\n        tableConfig\n        .setFixed(true)\n                .addPlugin(new SortPlugin&lt;&gt;())\n                .addPlugin(new HeaderBarPlugin&lt;Person&gt;(&quot;Demo table&quot;, &quot;this a sample table with all features&quot;)\n                        .addActionElement(new HeaderBarPlugin.SearchTableAction&lt;&gt;()))\n                .addPlugin(simplePaginationPlugin);\n                ;\n        \n        RemoteDataStore&lt;Person&gt; remoteDataStore = new RemoteDataStore&lt;Person&gt;() {\n\n            @Override\n            public void load() {\n                greetingService.getPeople(getSearchProperties(), getSortPropertyName(), getSortPropertyDirection(),\n                        new AsyncCallback&lt;ArrayList&lt;Person&gt;&gt;() {\n\n                            @Override\n                            public void onSuccess(ArrayList&lt;Person&gt; result) {\n                                loadNewItems(result);\n                            }\n\n                            @Override\n                            public void onFailure(Throwable caught) {\n                                Window.alert(&quot;Failure&quot;);\n                            }\n                        });\n            }\n        };\n\n        remoteDataStore.setPagination(simplePaginationPlugin.getSimplePagination());\n\n        DataTable&lt;Person&gt; table = new DataTable&lt;&gt;(tableConfig, remoteDataStore);\n        layout.getContentPanel()\n                .appendChild(Card\n                        .create(&quot;BASIC TABLE&quot;, &quot;By default a table will auto fit columns and allow custom cell content&quot;)\n                        .setCollapsible().appendChild(table).element());\n\n        //Load the table data on page load\n        remoteDataStore.load();\n</code></pre>\n<pre><code>import static java.util.Objects.nonNull;\nimport static org.dominokit.domino.ui.datatable.events.SearchEvent.SEARCH_EVENT;\nimport static org.dominokit.domino.ui.datatable.events.SortEvent.SORT_EVENT;\n\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Objects;\n\n//import org.dominokit.domino.ui.sample.client.Formats;\nimport org.dominokit.domino.ui.datatable.events.SearchEvent;\nimport org.dominokit.domino.ui.datatable.events.SortEvent;\nimport org.dominokit.domino.ui.datatable.events.TableEvent;\nimport org.dominokit.domino.ui.datatable.events.TablePageChangeEvent;\nimport org.dominokit.domino.ui.datatable.model.Filter;\nimport org.dominokit.domino.ui.datatable.model.FilterTypes;\nimport org.dominokit.domino.ui.datatable.store.DataChangedEvent;\nimport org.dominokit.domino.ui.datatable.store.DataStore;\nimport org.dominokit.domino.ui.datatable.store.StoreDataChangeListener;\nimport org.dominokit.domino.ui.pagination.HasPagination;\nimport org.gwtproject.i18n.client.DateTimeFormat;\n\npublic abstract class RemoteDataStore&lt;T&gt; implements DataStore&lt;T&gt; {\n    private List&lt;StoreDataChangeListener&lt;T&gt;&gt; listeners = new ArrayList&lt;&gt;();\n    private HasPagination pagination;\n    private String sortPropertyName;\n    private String sortPropertyDirection;\n    \n    private Entry&lt;String,String&gt; sortProperties;\n    \n    private int activePage = 0;\n\n    private Map&lt;String, String&gt; searchProperties = new HashMap&lt;&gt;();\n    private List&lt;T&gt; items;\n\n    public RemoteDataStore() {\n        super();\n    }\n\n    @Override\n    public void onDataChanged(StoreDataChangeListener&lt;T&gt; dataChangeListener) {\n        listeners.add(dataChangeListener);\n    }\n\n    @Override\n    public void removeDataChangeListener(StoreDataChangeListener&lt;T&gt; dataChangeListener) {\n        listeners.remove(dataChangeListener);\n    }\n\n    public void loadNewItems(List&lt;T&gt; newItems)\n    {\n        if(Objects.isNull(getItems()))\n        {\n            setItems(new ArrayList&lt;T&gt;());\n        }\n        \n        getItems().clear();\n        getItems().addAll(newItems);\n        \n        if(Objects.nonNull(pagination))\n        {\n            pagination.updatePagesByTotalCount(getItems().size());\n            pagination.gotoPage(1, true);\n        }\n        \n        fireUpdate();\n    }\n    \n    @Override\n    public void handleEvent(TableEvent event) {\n        switch (event.getType()) {\n            case TablePageChangeEvent.PAGINATION_EVENT:\n                setActivePage(pagination.activePage() - 1);\n                fireUpdate();\n                break;\n            case SORT_EVENT:\n                setSortPropertyName(((SortEvent&lt;?&gt;) event).getColumnConfig().getName());\n                setSortPropertyDirection(((SortEvent&lt;?&gt;) event).getSortDirection().toString());\n                load();\n                break;\n            case SEARCH_EVENT:\n                setSearchProperties(new HashMap&lt;&gt;());\n                List&lt;Filter&gt; filters = ((SearchEvent) event).getFilters();\n                this.setActivePage(0);\n                for (Filter filter : filters) {\n                    if (!filter.getValues().isEmpty()) {\n                        if (filter.getType().equals(FilterTypes.DATE)) {\n                            String longDate = filter.getValues().get(0);\n                            String formattedDate = DateTimeFormat.getFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;)\n                                    .format(new Date(Long.parseLong(longDate)));\n                            getSearchProperties().put(filter.getFieldName(), formattedDate);\n                        } else {\n                            getSearchProperties().put(filter.getFieldName(), filter.getValues().get(0));\n                        }\n                    }\n                }\n                load();\n                break;\n        }\n    }\n\n    private void fireUpdate() {\n        List&lt;T&gt; updateRecords = getRecordsForPage();\n        listeners.forEach(dataChangeListener -&gt; dataChangeListener.onDataChanged(new DataChangedEvent&lt;&gt;(updateRecords, updateRecords.size())));\n    }\n\n\n    private List&lt;T&gt; getRecordsForPage() {\n        if (nonNull(getPagination())) {\n          int fromIndex = getPagination().getPageSize() * (getPagination().activePage() - 1);\n          int toIndex = Math.min(fromIndex + getPagination().getPageSize(), getItems().size());\n          return new ArrayList&lt;&gt;(getItems().subList(fromIndex, toIndex));\n        } else {\n            return new ArrayList&lt;&gt;(getItems());\n        }\n      }\n    \n    \n    public HasPagination getPagination() {\n        return pagination;\n    }\n\n    public void setPagination(HasPagination pagination) {\n        this.pagination = pagination;\n    }\n\n    public int getActivePage() {\n        return activePage;\n    }\n\n    public void load(int pageNumber) {\n        this.setActivePage(pageNumber);\n        load();\n    }\n\n    public Map&lt;String, String&gt; getSearchProperties() {\n        return searchProperties;\n    }\n\n    public void setSearchProperties(Map&lt;String, String&gt; searchProperties) {\n        this.searchProperties = searchProperties;\n    }\n\n    public void setActivePage(int activePage) {\n        this.activePage = activePage;\n    }\n\n    public Entry&lt;String,String&gt; getSortProperties() {\n        return sortProperties;\n    }\n\n    public void setSortProperties(Entry&lt;String,String&gt; sortProperties) {\n        this.sortProperties = sortProperties;\n    }\n\n    public String getSortPropertyName() {\n        return sortPropertyName;\n    }\n\n    public void setSortPropertyName(String sortPropertyName) {\n        this.sortPropertyName = sortPropertyName;\n    }\n\n    public String getSortPropertyDirection() {\n        return sortPropertyDirection;\n    }\n\n    public void setSortPropertyDirection(String sortPropertyDirection) {\n        this.sortPropertyDirection = sortPropertyDirection;\n    }\n\n    public List&lt;T&gt; getItems() {\n        return items;\n    }\n\n    public void setItems(List&lt;T&gt; items) {\n        this.items = items;\n    }\n}\n</code></pre>\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\npublic class Person implements Serializable {\n\n    private int id;\n    private String name;\n    private boolean active;\n\n    public Person() {\n    }\n\n    public Person(int id, String name, boolean active) {\n        this.id = id;\n        this.name = name;\n        this.active = active;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public boolean isActive() {\n        return active;\n    }\n\n    public void setActive(boolean active) {\n        this.active = active;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2480204,"reputation":1014,"user_id":2159821,"display_name":"Ahmad Bawaneh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75924458,"answer_count":2,"score":0,"last_activity_date":1680635999,"creation_date":1680564980,"question_id":75924457,"body_markdown":"what is the proper way to connect the SearchTableAction header with a server-side search? (Right now the example uses the LocalListDataStore and filters it client-side via a SearchFilter, Regular GWT would use CellTables and AsyncDataProvider)\r\n\r\nThe winning option right now (which does not seem ideal) would be to copy SearchTableAction UI setup in the constructor and create a new class that would call setData on the LocalDataStore after the server-side call finishes. ","title":"Using domino-ui datatable search action with remote data store","body":"<p>what is the proper way to connect the SearchTableAction header with a server-side search? (Right now the example uses the LocalListDataStore and filters it client-side via a SearchFilter, Regular GWT would use CellTables and AsyncDataProvider)</p>\n<p>The winning option right now (which does not seem ideal) would be to copy SearchTableAction UI setup in the constructor and create a new class that would call setData on the LocalDataStore after the server-side call finishes.</p>\n"},{"tags":["java","performance","snowflake-cloud-data-platform"],"owner":{"account_id":19671024,"reputation":11,"user_id":14400261,"display_name":"STALOK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680635895,"creation_date":1680635895,"question_id":75933068,"body_markdown":"We are seeing below errors during peak period of transactions. And here we connect from java/jdbc to a snowflake database. So wanted to understand if it can be , because of wrong connection pool setup or really some connections are not getting closed from application code. How to debug and get the exact cause of this and fix it?\r\n\r\nERROR XXXX.JpmaExceptionHandler - RuntimeException while processing the request.: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 5000ms.\r\n\r\nI/O exception (net.snowflake.client.jdbc.internal.apache.http.NoHttpResponseException) caught when processing request to {tls}-&gt;http://proxy.XXXX-&gt;https://XXXXXX.s3.amazonaws.com:443: The target server failed to respond\r\n\r\nWARN  com.zaxxer.hikari.pool.ProxyLeakTask - Connection leak detection triggered for net.snowflake.client.jdbc.SnowflakeConnectionV1@XXXX on thread https-XXXXX, stack trace follows\r\njava.lang.Exception: Apparent connection leak detected","title":"Request timeout Connection not available","body":"<p>We are seeing below errors during peak period of transactions. And here we connect from java/jdbc to a snowflake database. So wanted to understand if it can be , because of wrong connection pool setup or really some connections are not getting closed from application code. How to debug and get the exact cause of this and fix it?</p>\n<p>ERROR XXXX.JpmaExceptionHandler - RuntimeException while processing the request.: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 5000ms.</p>\n<p>I/O exception (net.snowflake.client.jdbc.internal.apache.http.NoHttpResponseException) caught when processing request to {tls}-&gt;http://proxy.XXXX-&gt;https://XXXXXX.s3.amazonaws.com:443: The target server failed to respond</p>\n<p>WARN  com.zaxxer.hikari.pool.ProxyLeakTask - Connection leak detection triggered for net.snowflake.client.jdbc.SnowflakeConnectionV1@XXXX on thread https-XXXXX, stack trace follows\njava.lang.Exception: Apparent connection leak detected</p>\n"},{"tags":["java","postgresql","jdbc","cloud-foundry","hikaricp"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1452598019,"post_id":34741443,"comment_id":57230319,"body_markdown":"The URL is indeed invalid. If the part `cwkqmdql:SsVqwdLxQObgaJAYu68O-8gTY1VmS9LX` is supposed to be username and password, then you can&#39;t specify it like that. See the manual for the correct URL: https://jdbc.postgresql.org/documentation/94/connect.html","body":"The URL is indeed invalid. If the part <code>cwkqmdql:SsVqwdLxQObgaJAYu68O-8gTY1VmS9LX</code> is supposed to be username and password, then you can&#39;t specify it like that. See the manual for the correct URL: <a href=\"https://jdbc.postgresql.org/documentation/94/connect.html\" rel=\"nofollow noreferrer\">jdbc.postgresql.org/documentation/94/connect.html</a>"},{"owner":{"account_id":932671,"reputation":15747,"user_id":962206,"accept_rate":61,"display_name":"user962206"},"score":0,"creation_date":1452640652,"post_id":34741443,"comment_id":57257271,"body_markdown":"@a_horse_with_no_name I tried changing my spring.datasource.url to this jdbc:postgres://pellefant-01.db.elephantsql.com:5432/cwkqmdql and the same error still persists","body":"@a_horse_with_no_name I tried changing my spring.datasource.url to this jdbc:postgres://pellefant-01.db.elephantsql.com:5432/cwkqmdq&zwnj;&#8203;l and the same error still persists"}],"answers":[{"comments":[{"owner":{"account_id":1406015,"reputation":2323,"user_id":1333713,"accept_rate":82,"display_name":"David Groomes"},"score":14,"creation_date":1517369523,"post_id":38235313,"comment_id":84063525,"body_markdown":"In my case, I needed a trailing forward slash. Like `jdbc:postgresql://db:5432/`","body":"In my case, I needed a trailing forward slash. Like <code>jdbc:postgresql:&#47;&#47;db:5432&#47;</code>"},{"owner":{"account_id":6402290,"reputation":12678,"user_id":4964553,"display_name":"jonashackt"},"score":3,"creation_date":1524473426,"post_id":38235313,"comment_id":86969797,"body_markdown":"didn&#180;t work for me with Spring Boot 2 on Heroku Postgres.","body":"didn&#180;t work for me with Spring Boot 2 on Heroku Postgres."},{"owner":{"account_id":5711291,"reputation":1437,"user_id":4513218,"display_name":"Walterwhites"},"score":3,"creation_date":1544997843,"post_id":38235313,"comment_id":94462409,"body_markdown":"Thanks, it was caused by jdbc:postgre:/ I replaced it by jdbc:postgresql:/ and it&#39;s ok","body":"Thanks, it was caused by jdbc:postgre:/ I replaced it by jdbc:postgresql:/ and it&#39;s ok"},{"owner":{"account_id":250725,"reputation":9776,"user_id":527617,"accept_rate":69,"display_name":"UVM"},"score":3,"creation_date":1555741260,"post_id":38235313,"comment_id":98214934,"body_markdown":"why @ is added along with host name? In my case it worked when I removed &#39;@&#39; from host name.","body":"why @ is added along with host name? In my case it worked when I removed &#39;@&#39; from host name."},{"owner":{"account_id":1326683,"reputation":2390,"user_id":1271359,"display_name":"Holger Ludvigsen"},"score":1,"creation_date":1612864141,"post_id":38235313,"comment_id":116893056,"body_markdown":"This answer relly helped with me connecting to Heroku Postgres from local machine","body":"This answer relly helped with me connecting to Heroku Postgres from local machine"},{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":0,"creation_date":1652781078,"post_id":38235313,"comment_id":127683577,"body_markdown":"Why not using that in (2.)... but use parameters instead?","body":"Why not using that in (2.)... but use parameters instead?"},{"owner":{"account_id":962415,"reputation":555,"user_id":986476,"accept_rate":80,"display_name":"Yoav A"},"score":0,"creation_date":1662034555,"post_id":38235313,"comment_id":129915853,"body_markdown":"sslmode=require did it for me, thanks","body":"sslmode=require did it for me, thanks"}],"tags":[],"owner":{"account_id":2162182,"reputation":26357,"user_id":1916110,"accept_rate":100,"display_name":"Tom"},"comment_count":7,"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1467846990,"creation_date":1467846990,"answer_id":38235313,"question_id":34741443,"body_markdown":"There are a few issues with that URL and a latest PSQL driver may complain.\r\n \r\n1. `jdbc:postgres:` should be replaced with `jdbc:postgresql:`\r\n1. Do not use `jdbc:postgresql://&lt;username&gt;:&lt;passwor&gt;...`, user parameters instead: `jdbc:postgresql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?user=&lt;username&gt;&amp;password=&lt;password&gt;`\r\n1. In some cases you have to force SSL connection by adding `sslmode=require` parameter\r\n\r\nSo your URL should be: \r\n\r\n`jdbc:postgresql://@pellefant.db.elephantsql.com:5432/cwkqmdql?user=cwkqmdql&amp;password=SsVqwdLxQObgaJAYu68O-8gTY1VmS9LX`\r\n\r\nor\r\n\r\n `jdbc:postgresql://@pellefant.db.elephantsql.com:5432/cwkqmdql?user=cwkqmdql&amp;password=SsVqwdLxQObgaJAYu68O-8gTY1VmS9LX&amp;sslmode=require`\r\n\r\nI hope that will help.","title":"HikariCP Postgresql Driver Claims to not accept JDBC URL","body":"<p>There are a few issues with that URL and a latest PSQL driver may complain.</p>\n\n<ol>\n<li><code>jdbc:postgres:</code> should be replaced with <code>jdbc:postgresql:</code></li>\n<li>Do not use <code>jdbc:postgresql://&lt;username&gt;:&lt;passwor&gt;...</code>, user parameters instead: <code>jdbc:postgresql://&lt;host&gt;:&lt;port&gt;/&lt;dbname&gt;?user=&lt;username&gt;&amp;password=&lt;password&gt;</code></li>\n<li>In some cases you have to force SSL connection by adding <code>sslmode=require</code> parameter</li>\n</ol>\n\n<p>So your URL should be: </p>\n\n<p><code>jdbc:postgresql://@pellefant.db.elephantsql.com:5432/cwkqmdql?user=cwkqmdql&amp;password=SsVqwdLxQObgaJAYu68O-8gTY1VmS9LX</code></p>\n\n<p>or</p>\n\n<p><code>jdbc:postgresql://@pellefant.db.elephantsql.com:5432/cwkqmdql?user=cwkqmdql&amp;password=SsVqwdLxQObgaJAYu68O-8gTY1VmS9LX&amp;sslmode=require</code></p>\n\n<p>I hope that will help.</p>\n"},{"comments":[{"owner":{"account_id":443998,"reputation":212,"user_id":835567,"display_name":"rob"},"score":8,"creation_date":1542097013,"post_id":53152762,"comment_id":93435149,"body_markdown":"ooops, that was my issue, too. Thank you","body":"ooops, that was my issue, too. Thank you"},{"owner":{"account_id":241879,"reputation":10776,"user_id":512993,"accept_rate":90,"display_name":"Ho&#224;ng Long"},"score":1,"creation_date":1544774670,"post_id":53152762,"comment_id":94402373,"body_markdown":"This was the issue too. For my case, the confusion comes from different syntax for different config files (application.properties vs application.yml)","body":"This was the issue too. For my case, the confusion comes from different syntax for different config files (application.properties vs application.yml)"},{"owner":{"account_id":388570,"reputation":88656,"user_id":747579,"accept_rate":72,"display_name":"Abdennour TOUMI"},"score":0,"creation_date":1613906351,"post_id":53152762,"comment_id":117215488,"body_markdown":"what if i am using helm chart to create secret and while creating secrets we need to surround each value with quotes.. then in applications.properties, we inject the env var.","body":"what if i am using helm chart to create secret and while creating secrets we need to surround each value with quotes.. then in applications.properties, we inject the env var."},{"owner":{"account_id":16735694,"reputation":2370,"user_id":12096922,"display_name":"testing_22"},"score":0,"creation_date":1650650378,"post_id":53152762,"comment_id":127177920,"body_markdown":"First make sure you have imported the driver in pom.xml (in case you&#39;re using maven), then proceed to read the answers","body":"First make sure you have imported the driver in pom.xml (in case you&#39;re using maven), then proceed to read the answers"}],"tags":[],"owner":{"account_id":5890756,"reputation":2047,"user_id":4637456,"accept_rate":0,"display_name":"Thami Bouchnafa"},"comment_count":4,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1541414465,"creation_date":1541414465,"answer_id":53152762,"question_id":34741443,"body_markdown":"In my case it was defining the property in double quotes in the java.properties file \r\n\r\nby changing\r\n\r\n    jdbcUrl=&quot;url&quot;\r\n\r\nto \r\n\r\n    jdbcUrl=url\r\n\r\nit works again","title":"HikariCP Postgresql Driver Claims to not accept JDBC URL","body":"<p>In my case it was defining the property in double quotes in the java.properties file </p>\n\n<p>by changing</p>\n\n<pre><code>jdbcUrl=\"url\"\n</code></pre>\n\n<p>to </p>\n\n<pre><code>jdbcUrl=url\n</code></pre>\n\n<p>it works again</p>\n"},{"tags":[],"owner":{"account_id":17913026,"reputation":183,"user_id":13063790,"display_name":"breadman0"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604941200,"creation_date":1604941200,"answer_id":64755936,"question_id":34741443,"body_markdown":"also had this error, but realized it was because i had typed \r\n```postgressql```\r\ninstead of \r\n```postgresql``` in my url","title":"HikariCP Postgresql Driver Claims to not accept JDBC URL","body":"<p>also had this error, but realized it was because i had typed\n<code>postgressql</code>\ninstead of\n<code>postgresql</code> in my url</p>\n"},{"tags":[],"owner":{"account_id":13014003,"reputation":129,"user_id":9405979,"display_name":"Jyotirmay Dash"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1626470967,"creation_date":1626470967,"answer_id":68415427,"question_id":34741443,"body_markdown":"The issue I had was that I had given double quotes for the datasource url in the properties file. \r\n\r\n***What I had given*** : \r\n\r\n    spring.datasource.url=&quot;jdbc:postgresql://localhost:5432/postgres&quot;\r\n\r\n***The correct way to give the url is*** :\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/postgres\r\n\r\n","title":"HikariCP Postgresql Driver Claims to not accept JDBC URL","body":"<p>The issue I had was that I had given double quotes for the datasource url in the properties file.</p>\n<p><em><strong>What I had given</strong></em> :</p>\n<pre><code>spring.datasource.url=&quot;jdbc:postgresql://localhost:5432/postgres&quot;\n</code></pre>\n<p><em><strong>The correct way to give the url is</strong></em> :</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/postgres\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16412377,"reputation":1,"user_id":11855305,"display_name":"Tran Duong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637034751,"creation_date":1637034751,"answer_id":69983561,"question_id":34741443,"body_markdown":"In my case, two configuration files are in different format: \r\n\r\n 1. `application.properties` in `src/main/resources`\r\n 2. `application.yml` in `src/test/resources`\r\n\r\n After changing `application.yml` to `application.properties` in `src/test/resources`, the issue was fixed.","title":"HikariCP Postgresql Driver Claims to not accept JDBC URL","body":"<p>In my case, two configuration files are in different format:</p>\n<ol>\n<li><code>application.properties</code> in <code>src/main/resources</code></li>\n<li><code>application.yml</code> in <code>src/test/resources</code></li>\n</ol>\n<p>After changing <code>application.yml</code> to <code>application.properties</code> in <code>src/test/resources</code>, the issue was fixed.</p>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647584369,"creation_date":1647584369,"answer_id":71523140,"question_id":34741443,"body_markdown":"I had the same issue with h2 DB in WebFlux. The issue was with `spring.datasource.driver`\r\n\r\nNot working\r\n\r\n    spring.datasource.driver=org.h2.Driver\r\n\r\nWorking\r\n\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n\r\n","title":"HikariCP Postgresql Driver Claims to not accept JDBC URL","body":"<p>I had the same issue with h2 DB in WebFlux. The issue was with <code>spring.datasource.driver</code></p>\n<p>Not working</p>\n<pre><code>spring.datasource.driver=org.h2.Driver\n</code></pre>\n<p>Working</p>\n<pre><code>spring.datasource.driver-class-name=org.h2.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23561044,"reputation":359,"user_id":17602404,"display_name":"Salami  Korede"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657003500,"creation_date":1656594638,"answer_id":72816427,"question_id":34741443,"body_markdown":"I was having the same error until I realize that I did not set my profile to active in the application.properties class.\r\n\r\n    spring.profiles.active = dev","title":"HikariCP Postgresql Driver Claims to not accept JDBC URL","body":"<p>I was having the same error until I realize that I did not set my profile to active in the application.properties class.</p>\n<pre><code>spring.profiles.active = dev\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5362341,"reputation":688,"user_id":4273204,"accept_rate":0,"display_name":"Akash Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662573691,"creation_date":1662573691,"answer_id":73639818,"question_id":34741443,"body_markdown":"Replace \r\n\r\n    postgresql://localhost/db_name\r\n\r\nwith\r\n\r\n    jdbc:postgresql://localhost/db_name","title":"HikariCP Postgresql Driver Claims to not accept JDBC URL","body":"<p>Replace</p>\n<pre><code>postgresql://localhost/db_name\n</code></pre>\n<p>with</p>\n<pre><code>jdbc:postgresql://localhost/db_name\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3242628,"reputation":106,"user_id":2735226,"display_name":"benitta.ruphus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680635779,"creation_date":1680632595,"answer_id":75932647,"question_id":34741443,"body_markdown":"I had the same error.\r\nI had previously used the following in my application.properties. I had prefixed the database url with jdbc:postgres\r\n\r\n        &gt;JDBC_DATABASE_URL=jdbc:postgres://host.com:5432/dbName\r\n\r\nWe need to use **postgresql** instead of postgres. \r\n\r\n        &gt;JDBC_DATABASE_URL=jdbc:postgresql://host.com:5432/dbName\r\n\r\n","title":"HikariCP Postgresql Driver Claims to not accept JDBC URL","body":"<p>I had the same error.\nI had previously used the following in my application.properties. I had prefixed the database url with jdbc:postgres</p>\n<pre><code>    &gt;JDBC_DATABASE_URL=jdbc:postgres://host.com:5432/dbName\n</code></pre>\n<p>We need to use <strong>postgresql</strong> instead of postgres.</p>\n<pre><code>    &gt;JDBC_DATABASE_URL=jdbc:postgresql://host.com:5432/dbName\n</code></pre>\n"}],"owner":{"account_id":932671,"reputation":15747,"user_id":962206,"accept_rate":61,"display_name":"user962206"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122396,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"answer_count":9,"score":68,"last_activity_date":1680635779,"creation_date":1452595261,"question_id":34741443,"body_markdown":"I&#39;ve pushed my application to cloudfoundry. However every time I connect to my postgresql/elephant sql I received this error   \r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n     Driver org.postgresql.Driver claims to not accept JDBC URL jdbc:postgres://cwkqmdql:SsVqwdLxQObgaJAYu68O-8gTY1VmS9LX@pellefant.db.elephantsql.com:5432/cwkqmdql/\r\n\r\nIs there anything I&#39;ve missed?","title":"HikariCP Postgresql Driver Claims to not accept JDBC URL","body":"<p>I've pushed my application to cloudfoundry. However every time I connect to my postgresql/elephant sql I received this error   </p>\n\n<pre class=\"lang-none prettyprint-override\"><code> Driver org.postgresql.Driver claims to not accept JDBC URL jdbc:postgres://cwkqmdql:SsVqwdLxQObgaJAYu68O-8gTY1VmS9LX@pellefant.db.elephantsql.com:5432/cwkqmdql/\n</code></pre>\n\n<p>Is there anything I've missed?</p>\n"},{"tags":["java","testing","javafx","junit"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1680423913,"post_id":75909433,"comment_id":133893476,"body_markdown":"Follow [java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html).  Don&#39;t use `ea` (early access) software versions, unless you need early access functionality (highly unlikely).","body":"Follow <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">java naming conventions</a>.  Don&#39;t use <code>ea</code> (early access) software versions, unless you need early access functionality (highly unlikely)."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680635742,"creation_date":1680423824,"answer_id":75910868,"question_id":75909433,"body_markdown":"The null pointer exception is not in your code. Neither is there an error in the code which throws the exception. \r\n\r\nThe issue is in how you are using the API. You can&#39;t use most JavaFX APIs without starting up the JavaFX platform on which the API implementations rely. You haven&#39;t done that in your tests that I can see. The [`Application`](https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html) javadoc explains the JavaFX lifecycle and how it is used.\r\n\r\nWhat is needed is to [`startup`](https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Platform.html#startup(java.lang.Runnable)) the JavaFX platform, run a test (or tests) then [`exit`](https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Platform.html#exit()) the platform after all tests have been run.\r\n\r\nIf you want to use junit to test code that uses JavaFX, IMO it is best to use a 3rd party framework that supports that (e.g. [TestFX][1]). I advise this over trying to manually manage the JavaFX platform state in the code that you write.\r\n\r\nAlternately, you can separate out much of your code logic from [JavaFX][1] code (this is a good idea in any case), and test the non-JavaFX logic independently using standard testing tools like junit, then test the UI elements manually.\r\n\r\n----\r\n\r\nYour tests and API design are strange.  You have:\r\n\r\n    view.setNum_Player(new TextField(&quot;4&quot;));\r\n    Assertions.assertEquals(4, view.getNum_Player());\r\n\r\nYou set the number of players to a `TextField`, but when you get the number of players, you expect an integer.  That doesn&#39;t make a lot of sense.  If you get and set a value on a bean, it should get and set the same value and type by convention.  In your case, it should be an integer, not a TextField.\r\n\r\n  [1]: http://testfx.github.io/TestFX/","title":"Getting NullPointerException in JUNit testing","body":"<p>The null pointer exception is not in your code. Neither is there an error in the code which throws the exception.</p>\n<p>The issue is in how you are using the API. You can't use most JavaFX APIs without starting up the JavaFX platform on which the API implementations rely. You haven't done that in your tests that I can see. The <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\"><code>Application</code></a> javadoc explains the JavaFX lifecycle and how it is used.</p>\n<p>What is needed is to <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Platform.html#startup(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>startup</code></a> the JavaFX platform, run a test (or tests) then <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Platform.html#exit()\" rel=\"nofollow noreferrer\"><code>exit</code></a> the platform after all tests have been run.</p>\n<p>If you want to use junit to test code that uses JavaFX, IMO it is best to use a 3rd party framework that supports that (e.g. <a href=\"http://testfx.github.io/TestFX/\" rel=\"nofollow noreferrer\">TestFX</a>). I advise this over trying to manually manage the JavaFX platform state in the code that you write.</p>\n<p>Alternately, you can separate out much of your code logic from <a href=\"http://testfx.github.io/TestFX/\" rel=\"nofollow noreferrer\">JavaFX</a> code (this is a good idea in any case), and test the non-JavaFX logic independently using standard testing tools like junit, then test the UI elements manually.</p>\n<hr />\n<p>Your tests and API design are strange.  You have:</p>\n<pre><code>view.setNum_Player(new TextField(&quot;4&quot;));\nAssertions.assertEquals(4, view.getNum_Player());\n</code></pre>\n<p>You set the number of players to a <code>TextField</code>, but when you get the number of players, you expect an integer.  That doesn't make a lot of sense.  If you get and set a value on a bean, it should get and set the same value and type by convention.  In your case, it should be an integer, not a TextField.</p>\n"}],"owner":{"account_id":12220350,"reputation":47,"user_id":8919577,"display_name":"Bhavyabhatia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1680635742,"creation_date":1680392667,"question_id":75909433,"body_markdown":"I am trying to do some JUnit testing for a college assignment but I get an error every time I try to run my tests. When I first created my file it worked fine but after I restarted my Intellij this started happening for some unknown reason. I have created this file to test input for the number of players entered. The test should fail if the value is below 2 or above 4. Even after removing the failed test cases I get the error. I have tried reinstalling java and javafx but the issue still remains. I&#39;ve tried in vscode and intellij but no luck so far. This is the error:\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;com.sun.glass.ui.Timer.resume()&quot; because &quot;this.pulseTimer&quot; is null\r\n\r\n\tat javafx.graphics@19-ea/com.sun.javafx.tk.quantum.QuantumToolkit.resumeTimer(QuantumToolkit.java:525)\r\n\tat javafx.graphics@19-ea/com.sun.javafx.tk.quantum.QuantumToolkit$PulseTask.set(QuantumToolkit.java:213)\r\n\tat javafx.graphics@19-ea/com.sun.javafx.tk.quantum.QuantumToolkit.requestNextPulse(QuantumToolkit.java:887)\r\n\tat javafx.graphics@19-ea/javafx.scene.Parent.markDirtyLayout(Parent.java:939)\r\n\tat javafx.graphics@19-ea/javafx.scene.Parent.requestLayout(Parent.java:963)\r\n\tat javafx.graphics@19-ea/javafx.scene.Scene$8.invalidated(Scene.java:1231)\r\n\tat javafx.base@19-ea/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:112)\r\n\tat javafx.base@19-ea/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)\r\n\tat javafx.graphics@19-ea/javafx.scene.Scene.setRoot(Scene.java:1181)\r\n\tat javafx.graphics@19-ea/javafx.scene.Scene.&lt;init&gt;(Scene.java:359)\r\n\tat javafx.graphics@19-ea/javafx.scene.Scene.&lt;init&gt;(Scene.java:239)\r\n\tat com.cascadia.demo@1.0-SNAPSHOT/com.cascadia.demo.ViewLauncher.&lt;init&gt;(ViewLauncher.java:47)\r\n\tat com.cascadia.demo@1.0-SNAPSHOT/com.cascadia.demo.ViewLauncherTest.testGetNumPlayer(ViewLauncherTest.java:18)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n\r\n```\r\n\r\nThe JUnit code is:\r\n```package com.cascadia.demo;\r\n\r\nimport javafx.scene.control.TextField;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\n\r\npublic class ViewLauncherTest {\r\n\r\n    @Test\r\n    public void testSetNumPlayer() {\r\n        ViewLauncher view = new ViewLauncher();\r\n        view.setNum_Player(new TextField(&quot;3&quot;));\r\n        Assertions.assertEquals(3, view.getNum_Player());\r\n    }\r\n\r\n    @Test\r\n    public void testGetNumPlayer() {\r\n        ViewLauncher view = new ViewLauncher();\r\n        view.setNum_Player(new TextField(&quot;4&quot;));\r\n        Assertions.assertEquals(4, view.getNum_Player());\r\n    }\r\n\r\n    @Test\r\n    public void testInvalidNumPlayer() {\r\n        ViewLauncher view = new ViewLauncher();\r\n        view.setNum_Player(new TextField(&quot;5&quot;));\r\n        Assertions.assertThrows(NumberFormatException.class, () -&gt; view.getNum_Player());\r\n    }\r\n\r\n}\r\n```","title":"Getting NullPointerException in JUNit testing","body":"<p>I am trying to do some JUnit testing for a college assignment but I get an error every time I try to run my tests. When I first created my file it worked fine but after I restarted my Intellij this started happening for some unknown reason. I have created this file to test input for the number of players entered. The test should fail if the value is below 2 or above 4. Even after removing the failed test cases I get the error. I have tried reinstalling java and javafx but the issue still remains. I've tried in vscode and intellij but no luck so far. This is the error:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;com.sun.glass.ui.Timer.resume()&quot; because &quot;this.pulseTimer&quot; is null\n\n    at javafx.graphics@19-ea/com.sun.javafx.tk.quantum.QuantumToolkit.resumeTimer(QuantumToolkit.java:525)\n    at javafx.graphics@19-ea/com.sun.javafx.tk.quantum.QuantumToolkit$PulseTask.set(QuantumToolkit.java:213)\n    at javafx.graphics@19-ea/com.sun.javafx.tk.quantum.QuantumToolkit.requestNextPulse(QuantumToolkit.java:887)\n    at javafx.graphics@19-ea/javafx.scene.Parent.markDirtyLayout(Parent.java:939)\n    at javafx.graphics@19-ea/javafx.scene.Parent.requestLayout(Parent.java:963)\n    at javafx.graphics@19-ea/javafx.scene.Scene$8.invalidated(Scene.java:1231)\n    at javafx.base@19-ea/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:112)\n    at javafx.base@19-ea/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)\n    at javafx.graphics@19-ea/javafx.scene.Scene.setRoot(Scene.java:1181)\n    at javafx.graphics@19-ea/javafx.scene.Scene.&lt;init&gt;(Scene.java:359)\n    at javafx.graphics@19-ea/javafx.scene.Scene.&lt;init&gt;(Scene.java:239)\n    at com.cascadia.demo@1.0-SNAPSHOT/com.cascadia.demo.ViewLauncher.&lt;init&gt;(ViewLauncher.java:47)\n    at com.cascadia.demo@1.0-SNAPSHOT/com.cascadia.demo.ViewLauncherTest.testGetNumPlayer(ViewLauncherTest.java:18)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n\n</code></pre>\n<p>The JUnit code is:</p>\n<pre><code>\nimport javafx.scene.control.TextField;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\npublic class ViewLauncherTest {\n\n    @Test\n    public void testSetNumPlayer() {\n        ViewLauncher view = new ViewLauncher();\n        view.setNum_Player(new TextField(&quot;3&quot;));\n        Assertions.assertEquals(3, view.getNum_Player());\n    }\n\n    @Test\n    public void testGetNumPlayer() {\n        ViewLauncher view = new ViewLauncher();\n        view.setNum_Player(new TextField(&quot;4&quot;));\n        Assertions.assertEquals(4, view.getNum_Player());\n    }\n\n    @Test\n    public void testInvalidNumPlayer() {\n        ViewLauncher view = new ViewLauncher();\n        view.setNum_Player(new TextField(&quot;5&quot;));\n        Assertions.assertThrows(NumberFormatException.class, () -&gt; view.getNum_Player());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","sql","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":1,"creation_date":1680634421,"post_id":75932861,"comment_id":133930643,"body_markdown":"Not sure what your actual question is. You had a problem and you found a solution. You are not satisfied with this solution? Some code would also be nice.","body":"Not sure what your actual question is. You had a problem and you found a solution. You are not satisfied with this solution? Some code would also be nice."},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1680634723,"post_id":75932861,"comment_id":133930703,"body_markdown":"Question updated. thanks for the warning.","body":"Question updated. thanks for the warning."},{"owner":{"account_id":5365125,"reputation":23587,"user_id":4275342,"accept_rate":92,"display_name":"Roman Marusyk"},"score":0,"creation_date":1680635178,"post_id":75932861,"comment_id":133930799,"body_markdown":"Dividing the app_user table into two parts, as you suggested, is a valid approach. However, you could also consider using nullable properties in the app_user table, such as username, gender, and fullName. This way, you can save the email and password in the first step, and update the user information once it is available.","body":"Dividing the app_user table into two parts, as you suggested, is a valid approach. However, you could also consider using nullable properties in the app_user table, such as username, gender, and fullName. This way, you can save the email and password in the first step, and update the user information once it is available."}],"answers":[{"comments":[{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1680635606,"post_id":75932980,"comment_id":133930907,"body_markdown":"thank you I&#39;ll go with the first solution :)","body":"thank you I&#39;ll go with the first solution :)"}],"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680635088,"creation_date":1680635088,"answer_id":75932980,"question_id":75932861,"body_markdown":"It&#39;s a bit hard to give a very good answer because it heavily depends on your actual business logic. But with this kind of multistep process where in the end all fields are mandatory there are two ways to go about it:\r\n\r\n1. Keep results of each step in a separate table (like you have done).\r\n\r\n2. Keep some fields nullable and based on which fields are null and which are not you can deduce to which step the user has gotten (and therefor block further access if it&#39;s not far enough) or keep some kind of special field with a status where user has gotten.\r\n\r\nWith option two no matter how you actually solve it, lot of the validation and business logic will be in code level in your app.\r\n\r\nAlso with option two the negative is that it might be bad practice to mix authentication credentials and usual profile information. It doesn&#39;t have to be but you have to be careful, what you fetch and update from database on which business flows (usual profile update vs password update or authentication).","title":"Should I divide the user into two tables","body":"<p>It's a bit hard to give a very good answer because it heavily depends on your actual business logic. But with this kind of multistep process where in the end all fields are mandatory there are two ways to go about it:</p>\n<ol>\n<li><p>Keep results of each step in a separate table (like you have done).</p>\n</li>\n<li><p>Keep some fields nullable and based on which fields are null and which are not you can deduce to which step the user has gotten (and therefor block further access if it's not far enough) or keep some kind of special field with a status where user has gotten.</p>\n</li>\n</ol>\n<p>With option two no matter how you actually solve it, lot of the validation and business logic will be in code level in your app.</p>\n<p>Also with option two the negative is that it might be bad practice to mix authentication credentials and usual profile information. It doesn't have to be but you have to be careful, what you fetch and update from database on which business flows (usual profile update vs password update or authentication).</p>\n"}],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680635355,"accepted_answer_id":75932980,"answer_count":1,"score":-1,"last_activity_date":1680635088,"creation_date":1680634096,"question_id":75932861,"body_markdown":"I am developing a Spring Boot application for RestApi, I suppose the question has nothing to do with Spring Boot but, I would like to indicate that. Anyway, I have an application that registers users. The registration process works as follows;\r\n\r\n 1. Supply email and password\r\n 2. Verify your email\r\n 3. Fill in the remaining parts (username, full name, gender, etc.)\r\n\r\nI have a table named `app_user`. In this table `email`, `password`, `username`, `gender`, etc. are non-null properties. \r\n\r\nHere is the question: \r\nIn the first step user only supplies an `email` and `password`. I need to save that information in the table. However, since `username`, `gender`, etc. are also required properties. When I try to save them I get an exception. After saving that information, I ask for email verification, then I need the remaining parts.\r\n\r\n\r\n\r\nI found the solution by dividing the `app_user` table into two parts. The first table, `user_id`, `email`, `password`. The second table, `user_id`, `username`, `gender`, `fullName`, `createdAt`, etc. \r\n\r\nActually, saving the same entity&#39;s information in two separate tables bothered me. I am not satisfied with this solution. So, I am asking for a better one, or is that the correct way to do this process? \r\n","title":"Should I divide the user into two tables","body":"<p>I am developing a Spring Boot application for RestApi, I suppose the question has nothing to do with Spring Boot but, I would like to indicate that. Anyway, I have an application that registers users. The registration process works as follows;</p>\n<ol>\n<li>Supply email and password</li>\n<li>Verify your email</li>\n<li>Fill in the remaining parts (username, full name, gender, etc.)</li>\n</ol>\n<p>I have a table named <code>app_user</code>. In this table <code>email</code>, <code>password</code>, <code>username</code>, <code>gender</code>, etc. are non-null properties.</p>\n<p>Here is the question:\nIn the first step user only supplies an <code>email</code> and <code>password</code>. I need to save that information in the table. However, since <code>username</code>, <code>gender</code>, etc. are also required properties. When I try to save them I get an exception. After saving that information, I ask for email verification, then I need the remaining parts.</p>\n<p>I found the solution by dividing the <code>app_user</code> table into two parts. The first table, <code>user_id</code>, <code>email</code>, <code>password</code>. The second table, <code>user_id</code>, <code>username</code>, <code>gender</code>, <code>fullName</code>, <code>createdAt</code>, etc.</p>\n<p>Actually, saving the same entity's information in two separate tables bothered me. I am not satisfied with this solution. So, I am asking for a better one, or is that the correct way to do this process?</p>\n"},{"tags":["java","maven","artifactory"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1606063915,"post_id":64956823,"comment_id":114839828,"body_markdown":"You are not downloading from central you are downloading from an artifactory instance in between which fails `Could not find artifact com.maxmind.geoip2:geoip2:jar:2.12.0 in central (https://my-private-repo.jfrog.io/artifactory/libs-release) -&gt; [Help 1]`...","body":"You are not downloading from central you are downloading from an artifactory instance in between which fails <code>Could not find artifact com.maxmind.geoip2:geoip2:jar:2.12.0 in central (https:&#47;&#47;my-private-repo.jfrog.io&#47;artifactory&#47;libs-release) -&gt; [Help 1]</code>..."},{"owner":{"account_id":2271700,"reputation":2123,"user_id":1998918,"accept_rate":74,"display_name":"user0000001"},"score":0,"creation_date":1606064209,"post_id":64956823,"comment_id":114839917,"body_markdown":"@khmarbaise I renamed `&lt;id&gt;central&lt;/id&gt;` to something else. Wasn&#39;t aware that `central` was a reserved ID for overriding Maven central. Go figure.","body":"@khmarbaise I renamed <code>&lt;id&gt;central&lt;&#47;id&gt;</code> to something else. Wasn&#39;t aware that <code>central</code> was a reserved ID for overriding Maven central. Go figure."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1606064465,"post_id":64956823,"comment_id":114839996,"body_markdown":"If you like to make sure that anything which is required being downloading through the artifactory you have to define a mirror entry in your settings.xml otherwise this will not work...And it has nothing to do with the id... the error message shows the issue.","body":"If you like to make sure that anything which is required being downloading through the artifactory you have to define a mirror entry in your settings.xml otherwise this will not work...And it has nothing to do with the id... the error message shows the issue."},{"owner":{"account_id":2271700,"reputation":2123,"user_id":1998918,"accept_rate":74,"display_name":"user0000001"},"score":0,"creation_date":1606064846,"post_id":64956823,"comment_id":114840112,"body_markdown":"@khmarbaise Would you mind posting an answer with an example of a mirror repo, based on the settings.xml provided?","body":"@khmarbaise Would you mind posting an answer with an example of a mirror repo, based on the settings.xml provided?"},{"owner":{"account_id":1106320,"reputation":20178,"user_id":1097634,"display_name":"Dror Bereznitsky"},"score":0,"creation_date":1606230216,"post_id":64956823,"comment_id":114896602,"body_markdown":"@user0000001 from the log it looks like Maven is trying to resolve from Artifactory. The issue might be with the configuration of the repository in Artifactory. Did you try resolving the artifact directly from Artifactory? you can try running a trace to see where is the resolution issue - for example https://my-private-repo.jfrog.io/artifactory/libs-release/com/maxmind/geoip2/geoip2-2.12.0.jar?trace","body":"@user0000001 from the log it looks like Maven is trying to resolve from Artifactory. The issue might be with the configuration of the repository in Artifactory. Did you try resolving the artifact directly from Artifactory? you can try running a trace to see where is the resolution issue - for example <a href=\"https://my-private-repo.jfrog.io/artifactory/libs-release/com/maxmind/geoip2/geoip2-2.12.0.jar?trace\" rel=\"nofollow noreferrer\">my-private-repo.jfrog.io/artifactory/libs-release/com/maxmin&zwnj;&#8203;d/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2271700,"reputation":2123,"user_id":1998918,"accept_rate":74,"display_name":"user0000001"},"score":0,"creation_date":1606170285,"post_id":64959350,"comment_id":114876266,"body_markdown":"I will give this a try. I&#39;m wondering though, should I even specify the maven central repositories under `&lt;repositories&gt;`? Wouldn&#39;t the mirror be enough?","body":"I will give this a try. I&#39;m wondering though, should I even specify the maven central repositories under <code>&lt;repositories&gt;</code>? Wouldn&#39;t the mirror be enough?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1606170382,"post_id":64959350,"comment_id":114876297,"body_markdown":"Usually yes but I strongly recommend that to be abled to control the configuration for updatePolicy and checksumPolicy...","body":"Usually yes but I strongly recommend that to be abled to control the configuration for updatePolicy and checksumPolicy..."}],"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606077868,"creation_date":1606077868,"answer_id":64959350,"question_id":64956823,"body_markdown":"If you like to redirect all access of central from Maven to your own repository manager you have to configure the `settings.xml` as follows:\r\n\r\n    &lt;! language:language-xml -&gt;\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;settings\r\n       xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                              https://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n       &lt;mirrors&gt;\r\n          &lt;mirror&gt;\r\n             &lt;id&gt;nexus&lt;/id&gt;\r\n             &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\r\n             &lt;url&gt;http://IP:PORT/repository/repo&lt;/url&gt;\r\n          &lt;/mirror&gt;\r\n       &lt;/mirrors&gt;\r\n       &lt;profiles&gt;\r\n          &lt;profile&gt;\r\n             &lt;id&gt;nexus&lt;/id&gt;\r\n             &lt;repositories&gt;\r\n                &lt;repository&gt;\r\n                   &lt;id&gt;central&lt;/id&gt;\r\n                   &lt;url&gt;http://central&lt;/url&gt;\r\n                   &lt;releases&gt;\r\n                      &lt;enabled&gt;true&lt;/enabled&gt;\r\n                      &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n                      &lt;checksumPolicy&gt;fail&lt;/checksumPolicy&gt;\r\n                   &lt;/releases&gt;\r\n                   &lt;snapshots&gt;\r\n                      &lt;enabled&gt;true&lt;/enabled&gt;\r\n                      &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n                      &lt;checksumPolicy&gt;fail&lt;/checksumPolicy&gt;\r\n                   &lt;/snapshots&gt;\r\n                &lt;/repository&gt;\r\n             &lt;/repositories&gt;\r\n             &lt;pluginRepositories&gt;\r\n                &lt;pluginRepository&gt;\r\n                   &lt;id&gt;central&lt;/id&gt;\r\n                   &lt;url&gt;http://central&lt;/url&gt;\r\n                   &lt;releases&gt;\r\n                      &lt;enabled&gt;true&lt;/enabled&gt;\r\n                      &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n                      &lt;checksumPolicy&gt;fail&lt;/checksumPolicy&gt;\r\n                   &lt;/releases&gt;\r\n                   &lt;snapshots&gt;\r\n                      &lt;enabled&gt;true&lt;/enabled&gt;\r\n                      &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\r\n                      &lt;checksumPolicy&gt;fail&lt;/checksumPolicy&gt;\r\n                   &lt;/snapshots&gt;\r\n                &lt;/pluginRepository&gt;\r\n             &lt;/pluginRepositories&gt;\r\n          &lt;/profile&gt;\r\n       &lt;/profiles&gt;\r\n       &lt;activeProfiles&gt;\r\n          &lt;!--make the profile active all the time --&gt;\r\n          &lt;activeProfile&gt;nexus&lt;/activeProfile&gt;\r\n       &lt;/activeProfiles&gt;\r\n    &lt;/settings&gt;\r\n\r\n","title":"Maven failing to download artifact from central repository","body":"<p>If you like to redirect all access of central from Maven to your own repository manager you have to configure the <code>settings.xml</code> as follows:</p>\n<pre><code>&lt;! language:language-xml -&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings\n   xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\n                          https://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n   &lt;mirrors&gt;\n      &lt;mirror&gt;\n         &lt;id&gt;nexus&lt;/id&gt;\n         &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;\n         &lt;url&gt;http://IP:PORT/repository/repo&lt;/url&gt;\n      &lt;/mirror&gt;\n   &lt;/mirrors&gt;\n   &lt;profiles&gt;\n      &lt;profile&gt;\n         &lt;id&gt;nexus&lt;/id&gt;\n         &lt;repositories&gt;\n            &lt;repository&gt;\n               &lt;id&gt;central&lt;/id&gt;\n               &lt;url&gt;http://central&lt;/url&gt;\n               &lt;releases&gt;\n                  &lt;enabled&gt;true&lt;/enabled&gt;\n                  &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                  &lt;checksumPolicy&gt;fail&lt;/checksumPolicy&gt;\n               &lt;/releases&gt;\n               &lt;snapshots&gt;\n                  &lt;enabled&gt;true&lt;/enabled&gt;\n                  &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n                  &lt;checksumPolicy&gt;fail&lt;/checksumPolicy&gt;\n               &lt;/snapshots&gt;\n            &lt;/repository&gt;\n         &lt;/repositories&gt;\n         &lt;pluginRepositories&gt;\n            &lt;pluginRepository&gt;\n               &lt;id&gt;central&lt;/id&gt;\n               &lt;url&gt;http://central&lt;/url&gt;\n               &lt;releases&gt;\n                  &lt;enabled&gt;true&lt;/enabled&gt;\n                  &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n                  &lt;checksumPolicy&gt;fail&lt;/checksumPolicy&gt;\n               &lt;/releases&gt;\n               &lt;snapshots&gt;\n                  &lt;enabled&gt;true&lt;/enabled&gt;\n                  &lt;updatePolicy&gt;always&lt;/updatePolicy&gt;\n                  &lt;checksumPolicy&gt;fail&lt;/checksumPolicy&gt;\n               &lt;/snapshots&gt;\n            &lt;/pluginRepository&gt;\n         &lt;/pluginRepositories&gt;\n      &lt;/profile&gt;\n   &lt;/profiles&gt;\n   &lt;activeProfiles&gt;\n      &lt;!--make the profile active all the time --&gt;\n      &lt;activeProfile&gt;nexus&lt;/activeProfile&gt;\n   &lt;/activeProfiles&gt;\n&lt;/settings&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1106320,"reputation":20178,"user_id":1097634,"display_name":"Dror Bereznitsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606384581,"creation_date":1606384581,"answer_id":65019670,"question_id":64956823,"body_markdown":"The Maven settings.xml configuration you shared seems to be OK. You are [overriding][1] the built-in central and snapshot repositories of Maven, which is the correct way to make sure that Maven send requests by default to Artifactory.&lt;br&gt;\r\nAdding a [Mirror Any][2] setting, as suggested in the other answer, means that in addition to overriding built-in Maven repositories, you can use the Mirror Any setting to redirect all requests to a Maven repository through Artifactory, including those defined inside POMs of plug-ins and third party dependencies.&lt;p&gt;\r\nAccording to the log you shared Maven does attempt to resolve the artifacts via Artifactory - https://my-private-repo.jfrog.io/artifactory/libs-release&lt;br&gt;\r\nThe issue seems to be related to resolution of a specific artifact(s)in Artifactory.&lt;br&gt;\r\nI&#39;m assuming that libs-release is a [virtual][3] Maven repository and that it contains at least one [remote][4] Maven repository pointing at Jcenter or Maven Central (if not please start by looking at [Maven Repositories][5]).&lt;br&gt;\r\nTo debug the issue:\r\n\r\n(1) Try resolving the artifact directly from Artifactory using cURL or a web browser, for example:\r\n\r\n    curl -Uuser:pass https://my-private-repo.jfrog.io/artifactory/libs-release/com/maxmind/geoip2/geoip2/2.12.0/geoip2-2.12.0.jar  \r\n\r\n(2) If you manage to resolve the artifact, it mean that Artifactory is properly configured and Maven should be able to resolve. If not, try looking for the reason performing a trace, for example:\r\n\r\n    curl -Uuser:pass https://my-private-repo.jfrog.io/artifactory/libs-release/com/maxmind/geoip2/geoip2/2.12.0/geoip2-2.12.0.jar?trace\r\n\r\n  [1]: https://www.jfrog.com/confluence/display/JFROG/Maven+Repository#MavenRepository-ManuallyOverridingtheBuilt-inRepositories\r\n  [2]: https://www.jfrog.com/confluence/display/JFROG/Maven+Repository#MavenRepository-AdditionalMirrorAnySetup\r\n  [3]: https://www.jfrog.com/confluence/display/JFROG/Virtual+Repositories\r\n  [4]: https://www.jfrog.com/confluence/display/JFROG/Remote+Repositories\r\n  [5]: https://www.jfrog.com/confluence/display/JFROG/Maven+Repository","title":"Maven failing to download artifact from central repository","body":"<p>The Maven settings.xml configuration you shared seems to be OK. You are <a href=\"https://www.jfrog.com/confluence/display/JFROG/Maven+Repository#MavenRepository-ManuallyOverridingtheBuilt-inRepositories\" rel=\"nofollow noreferrer\">overriding</a> the built-in central and snapshot repositories of Maven, which is the correct way to make sure that Maven send requests by default to Artifactory.<br>\nAdding a <a href=\"https://www.jfrog.com/confluence/display/JFROG/Maven+Repository#MavenRepository-AdditionalMirrorAnySetup\" rel=\"nofollow noreferrer\">Mirror Any</a> setting, as suggested in the other answer, means that in addition to overriding built-in Maven repositories, you can use the Mirror Any setting to redirect all requests to a Maven repository through Artifactory, including those defined inside POMs of plug-ins and third party dependencies.<p>\nAccording to the log you shared Maven does attempt to resolve the artifacts via Artifactory - <a href=\"https://my-private-repo.jfrog.io/artifactory/libs-release\" rel=\"nofollow noreferrer\">https://my-private-repo.jfrog.io/artifactory/libs-release</a><br>\nThe issue seems to be related to resolution of a specific artifact(s)in Artifactory.<br>\nI'm assuming that libs-release is a <a href=\"https://www.jfrog.com/confluence/display/JFROG/Virtual+Repositories\" rel=\"nofollow noreferrer\">virtual</a> Maven repository and that it contains at least one <a href=\"https://www.jfrog.com/confluence/display/JFROG/Remote+Repositories\" rel=\"nofollow noreferrer\">remote</a> Maven repository pointing at Jcenter or Maven Central (if not please start by looking at <a href=\"https://www.jfrog.com/confluence/display/JFROG/Maven+Repository\" rel=\"nofollow noreferrer\">Maven Repositories</a>).<br>\nTo debug the issue:</p>\n<p>(1) Try resolving the artifact directly from Artifactory using cURL or a web browser, for example:</p>\n<pre><code>curl -Uuser:pass https://my-private-repo.jfrog.io/artifactory/libs-release/com/maxmind/geoip2/geoip2/2.12.0/geoip2-2.12.0.jar  \n</code></pre>\n<p>(2) If you manage to resolve the artifact, it mean that Artifactory is properly configured and Maven should be able to resolve. If not, try looking for the reason performing a trace, for example:</p>\n<pre><code>curl -Uuser:pass https://my-private-repo.jfrog.io/artifactory/libs-release/com/maxmind/geoip2/geoip2/2.12.0/geoip2-2.12.0.jar?trace\n</code></pre>\n"}],"owner":{"account_id":2271700,"reputation":2123,"user_id":1998918,"accept_rate":74,"display_name":"user0000001"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3660,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680634891,"creation_date":1606063656,"question_id":64956823,"body_markdown":"I have two private Artifactory repositories setup. One repository handles releases and the other handles snapshots. Here is how I have defined this in my `settings.xml` file.\r\n\r\n```xml\r\n&lt;settings&gt;\r\n\r\n    &lt;activeProfiles&gt;\r\n        &lt;activeProfile&gt;default&lt;/activeProfile&gt;\r\n    &lt;/activeProfiles&gt;\r\n\r\n    &lt;servers&gt;\r\n        &lt;server&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;username&gt;private-repo-username&lt;/username&gt;\r\n            &lt;password&gt;private-repo-password&lt;/password&gt;\r\n        &lt;/server&gt;\r\n        &lt;server&gt;\r\n            &lt;id&gt;snapshots&lt;/id&gt;\r\n            &lt;username&gt;private-repo-username&lt;/username&gt;\r\n            &lt;password&gt;private-repo-password&lt;/password&gt;\r\n        &lt;/server&gt;\r\n    &lt;/servers&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;default&lt;/id&gt;\r\n            &lt;repositories&gt;\r\n                &lt;repository&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;false&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                    &lt;id&gt;central&lt;/id&gt;\r\n                    &lt;name&gt;a0d2olsx0t222-artifactory-primary-0-releases&lt;/name&gt;\r\n                    &lt;url&gt;https://my-private-repo.jfrog.io/artifactory/libs-release&lt;/url&gt;\r\n                &lt;/repository&gt;\r\n                &lt;repository&gt;\r\n                    &lt;id&gt;snapshots&lt;/id&gt;\r\n                    &lt;name&gt;a0d2olsx0t222-artifactory-primary-0-snapshots&lt;/name&gt;\r\n                    &lt;url&gt;https://my-private-repo.jfrog.io/artifactory/libs-snapshot&lt;/url&gt;\r\n                    &lt;releases&gt;\r\n                        &lt;enabled&gt;false&lt;/enabled&gt;\r\n                    &lt;/releases&gt;\r\n                    &lt;snapshots&gt;\r\n                        &lt;enabled&gt;true&lt;/enabled&gt;\r\n                    &lt;/snapshots&gt;\r\n                &lt;/repository&gt;\r\n            &lt;/repositories&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/settings&gt;\r\n```\r\n\r\nMultiple of my internal dependencies in my multi-module maven project are getting this error:\r\n\r\n```\r\n[ERROR] Failed to execute goal on project platform-utils: Could not resolve dependencies for project\r\ndesign.colspalinva:platform-utils:jar:2.2.1-SNAPSHOT: The following artifacts could not be resolved: \r\ncom.maxmind.geoip2:geoip2:jar:2.12.0, org.apache.ant:ant:jar:1.10.5: Could not find artifact \r\ncom.maxmind.geoip2:geoip2:jar:2.12.0 in central (https://my-private-repo.jfrog.io/artifactory/libs-\r\nrelease) -&gt; [Help 1]\r\n```\r\n\r\nFrom the look of it, it doesn&#39;t appear that Maven is trying to reach out to the official Maven Central repo for those dependencies, rather failing on my private repository. I was under the impression that if the private repository does not contain the specific artifact, it will attempt to reach out to Maven Central. \r\n\r\nIt has no problem downloading my Spring dependencies from Maven Central.","title":"Maven failing to download artifact from central repository","body":"<p>I have two private Artifactory repositories setup. One repository handles releases and the other handles snapshots. Here is how I have defined this in my <code>settings.xml</code> file.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;settings&gt;\n\n    &lt;activeProfiles&gt;\n        &lt;activeProfile&gt;default&lt;/activeProfile&gt;\n    &lt;/activeProfiles&gt;\n\n    &lt;servers&gt;\n        &lt;server&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;username&gt;private-repo-username&lt;/username&gt;\n            &lt;password&gt;private-repo-password&lt;/password&gt;\n        &lt;/server&gt;\n        &lt;server&gt;\n            &lt;id&gt;snapshots&lt;/id&gt;\n            &lt;username&gt;private-repo-username&lt;/username&gt;\n            &lt;password&gt;private-repo-password&lt;/password&gt;\n        &lt;/server&gt;\n    &lt;/servers&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;default&lt;/id&gt;\n            &lt;repositories&gt;\n                &lt;repository&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                    &lt;id&gt;central&lt;/id&gt;\n                    &lt;name&gt;a0d2olsx0t222-artifactory-primary-0-releases&lt;/name&gt;\n                    &lt;url&gt;https://my-private-repo.jfrog.io/artifactory/libs-release&lt;/url&gt;\n                &lt;/repository&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;snapshots&lt;/id&gt;\n                    &lt;name&gt;a0d2olsx0t222-artifactory-primary-0-snapshots&lt;/name&gt;\n                    &lt;url&gt;https://my-private-repo.jfrog.io/artifactory/libs-snapshot&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;false&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n            &lt;/repositories&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>Multiple of my internal dependencies in my multi-module maven project are getting this error:</p>\n<pre><code>[ERROR] Failed to execute goal on project platform-utils: Could not resolve dependencies for project\ndesign.colspalinva:platform-utils:jar:2.2.1-SNAPSHOT: The following artifacts could not be resolved: \ncom.maxmind.geoip2:geoip2:jar:2.12.0, org.apache.ant:ant:jar:1.10.5: Could not find artifact \ncom.maxmind.geoip2:geoip2:jar:2.12.0 in central (https://my-private-repo.jfrog.io/artifactory/libs-\nrelease) -&gt; [Help 1]\n</code></pre>\n<p>From the look of it, it doesn't appear that Maven is trying to reach out to the official Maven Central repo for those dependencies, rather failing on my private repository. I was under the impression that if the private repository does not contain the specific artifact, it will attempt to reach out to Maven Central.</p>\n<p>It has no problem downloading my Spring dependencies from Maven Central.</p>\n"},{"tags":["java","arraylist","hashtable"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1680634082,"post_id":75932837,"comment_id":133930564,"body_markdown":"Is this Java or JavaScript?","body":"Is this Java or JavaScript?"},{"owner":{"account_id":17574053,"reputation":61,"user_id":12749210,"display_name":"JenPann"},"score":0,"creation_date":1680634144,"post_id":75932837,"comment_id":133930577,"body_markdown":"It&#39;s weird. It&#39;s Java inside JavaScript. It&#39;s how PTC does their trigger script coding","body":"It&#39;s weird. It&#39;s Java inside JavaScript. It&#39;s how PTC does their trigger script coding"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1680634446,"post_id":75932837,"comment_id":133930653,"body_markdown":"Including some context/background might help, since people browsing the Java tag might be confused. Is this related [PTC &gt; Windchill &gt; Using Event Triggers to Run Custom Java Code &gt; Using Java Classes](https://support.ptc.com/help/windchillrvs/r12.3.1.0/en/index.html#page/IntegrityHelp%2Fserv_trig_running_java_in_triggers.mif-2.html%23)?","body":"Including some context/background might help, since people browsing the Java tag might be confused. Is this related <a href=\"https://support.ptc.com/help/windchillrvs/r12.3.1.0/en/index.html#page/IntegrityHelp%2Fserv_trig_running_java_in_triggers.mif-2.html%23\" rel=\"nofollow noreferrer\">PTC &gt; Windchill &gt; Using Event Triggers to Run Custom Java Code &gt; Using Java Classes</a>?"}],"answers":[{"tags":[],"owner":{"account_id":1463192,"reputation":12429,"user_id":1376896,"accept_rate":100,"display_name":"Wenbing Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680634234,"creation_date":1680634234,"answer_id":75932878,"question_id":75932837,"body_markdown":"\r\nTo fix this issue, you can create a new ArrayList for each project manager. First, check if the project manager already exists in the multiValueMap. If they don&#39;t, create a new ArrayList, add the missing values, and put it into the multiValueMap. If they do exist, get the existing ArrayList, add the missing values, and update the value in the multiValueMap.\r\n\r\nHere&#39;s the updated addMissingValues function:\r\n\r\n\r\n    function addMissingValues(strProjMgr, strDOORSName, missingValues) {\r\n        var docID = delta.getID();\r\n        var strDOORSNameBoilerP = &quot;&lt;br /&gt;&lt;b&gt;Document ID&lt;/b&gt; &quot; + docID + &quot;, &lt;/b&gt;&lt;br /&gt;&lt;i&gt;&lt;b&gt;DOORS Module&lt;/b&gt; &quot; + strDOORSName + &quot;&lt;/i&gt;&lt;br /&gt;&quot;;\r\n        var strHeaderText = strDOORSNameBoilerP + missingValues + &quot;&lt;br /&gt;&lt;br /&gt;&quot;;\r\n    \r\n        var alMissingValues;\r\n    \r\n        // Check if the project manager already exists in the multiValueMap\r\n        if (multiValueMap.containsKey(strProjMgr)) {\r\n            // If the project manager exists, get the existing ArrayList\r\n            alMissingValues = multiValueMap.get(strProjMgr);\r\n        } else {\r\n            // If the project manager doesn&#39;t exist, create a new ArrayList\r\n            alMissingValues = new java.util.ArrayList();\r\n        }\r\n    \r\n        // Add the missing values to the ArrayList\r\n        alMissingValues.add(strHeaderText);\r\n    \r\n        // Update the multiValueMap with the new ArrayList for the project manager\r\n        multiValueMap.put(strProjMgr, alMissingValues);\r\n    }","title":"ArrayList inside HashTable for Multiple Values","body":"<p>To fix this issue, you can create a new ArrayList for each project manager. First, check if the project manager already exists in the multiValueMap. If they don't, create a new ArrayList, add the missing values, and put it into the multiValueMap. If they do exist, get the existing ArrayList, add the missing values, and update the value in the multiValueMap.</p>\n<p>Here's the updated addMissingValues function:</p>\n<pre><code>function addMissingValues(strProjMgr, strDOORSName, missingValues) {\n    var docID = delta.getID();\n    var strDOORSNameBoilerP = &quot;&lt;br /&gt;&lt;b&gt;Document ID&lt;/b&gt; &quot; + docID + &quot;, &lt;/b&gt;&lt;br /&gt;&lt;i&gt;&lt;b&gt;DOORS Module&lt;/b&gt; &quot; + strDOORSName + &quot;&lt;/i&gt;&lt;br /&gt;&quot;;\n    var strHeaderText = strDOORSNameBoilerP + missingValues + &quot;&lt;br /&gt;&lt;br /&gt;&quot;;\n\n    var alMissingValues;\n\n    // Check if the project manager already exists in the multiValueMap\n    if (multiValueMap.containsKey(strProjMgr)) {\n        // If the project manager exists, get the existing ArrayList\n        alMissingValues = multiValueMap.get(strProjMgr);\n    } else {\n        // If the project manager doesn't exist, create a new ArrayList\n        alMissingValues = new java.util.ArrayList();\n    }\n\n    // Add the missing values to the ArrayList\n    alMissingValues.add(strHeaderText);\n\n    // Update the multiValueMap with the new ArrayList for the project manager\n    multiValueMap.put(strProjMgr, alMissingValues);\n}\n</code></pre>\n"}],"owner":{"account_id":17574053,"reputation":61,"user_id":12749210,"display_name":"JenPann"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680634234,"creation_date":1680633947,"question_id":75932837,"body_markdown":"I&#39;m trying to make a hashTable (multiValueMap) with a Key and an arrayList (alMissingValues) for values by project manager. My problem is the arrayList never starts over when there&#39;s a new project manager. I&#39;ve tried clearing the arraylist after the values are added to the hashTable but it clears all the values in the hashTable too. Is this because the arrayList is only referenced in the hashTable value?\r\n\r\nThe function addMissingValues(strProjMgr, strDOORSName, missingValues) parameters are\r\n* String strProjMgr\r\n* String strDOORSName\r\n* ArrayList missingValues\r\n\r\nCode\r\n\r\n```\r\nfunction addMissingValues(strProjMgr, strDOORSName, missingValues){\r\n\r\n\tvar docID = delta.getID();\r\n\tvar strDOORSNameBoilerP= &quot;&lt;br /&gt;&lt;b&gt;Document ID&lt;/b&gt; &quot; + docID + &quot;, &lt;/b&gt;&lt;br /&gt;&lt;i&gt;&lt;b&gt;DOORS Module&lt;/b&gt; &quot; + strDOORSName + &quot;&lt;/i&gt;&lt;br /&gt;&quot;;\r\n\tvar strHeaderText = strDOORSNameBoilerP + missingValues+ &quot;&lt;br /&gt;&lt;br /&gt;&quot;;\r\n\t\r\n\tvar alMissingValues = new java.util.ArrayList();\r\n\t\r\n\t// Create an array list to hold all the missing values and doc boilerplate info\r\n\t// My problem is the alMissingValues arraylist is stacking missing items on top of eachother\r\n\t// This never groups by project manager\r\n\t// Is it only storing a reference to this arrayList. Because when I try to clear it it\r\n\t// deletes all items in it?\r\n\t\r\n\talMissingValues.add(strHeaderText);\r\n\t// Add the project manager as a key, and multiple missingValues in arrayList\r\n\tmultiValueMap.put(strProjMgr, alMissingValues);\r\n\r\n}\r\n```","title":"ArrayList inside HashTable for Multiple Values","body":"<p>I'm trying to make a hashTable (multiValueMap) with a Key and an arrayList (alMissingValues) for values by project manager. My problem is the arrayList never starts over when there's a new project manager. I've tried clearing the arraylist after the values are added to the hashTable but it clears all the values in the hashTable too. Is this because the arrayList is only referenced in the hashTable value?</p>\n<p>The function addMissingValues(strProjMgr, strDOORSName, missingValues) parameters are</p>\n<ul>\n<li>String strProjMgr</li>\n<li>String strDOORSName</li>\n<li>ArrayList missingValues</li>\n</ul>\n<p>Code</p>\n<pre><code>function addMissingValues(strProjMgr, strDOORSName, missingValues){\n\n    var docID = delta.getID();\n    var strDOORSNameBoilerP= &quot;&lt;br /&gt;&lt;b&gt;Document ID&lt;/b&gt; &quot; + docID + &quot;, &lt;/b&gt;&lt;br /&gt;&lt;i&gt;&lt;b&gt;DOORS Module&lt;/b&gt; &quot; + strDOORSName + &quot;&lt;/i&gt;&lt;br /&gt;&quot;;\n    var strHeaderText = strDOORSNameBoilerP + missingValues+ &quot;&lt;br /&gt;&lt;br /&gt;&quot;;\n    \n    var alMissingValues = new java.util.ArrayList();\n    \n    // Create an array list to hold all the missing values and doc boilerplate info\n    // My problem is the alMissingValues arraylist is stacking missing items on top of eachother\n    // This never groups by project manager\n    // Is it only storing a reference to this arrayList. Because when I try to clear it it\n    // deletes all items in it?\n    \n    alMissingValues.add(strHeaderText);\n    // Add the project manager as a key, and multiple missingValues in arrayList\n    multiValueMap.put(strProjMgr, alMissingValues);\n\n}\n</code></pre>\n"},{"tags":["java","json","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":1463192,"reputation":12429,"user_id":1376896,"accept_rate":100,"display_name":"Wenbing Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680634044,"creation_date":1680634044,"answer_id":75932852,"question_id":75932818,"body_markdown":"How about provide a factory method to create a Customer object as below:\r\n\r\n    // Private constructor to enforce factory method usage\r\n    private Customer() {}\r\n\r\n    public static Customer fromDocumentSnapshot(DocumentSnapshot documentSnapshot) {\r\n        Customer customer = new Customer();\r\n\r\n        customer.setId(documentSnapshot.getId());\r\n        customer.setEmail(documentSnapshot.getString(&quot;email&quot;));\r\n        customer.setFirstName(documentSnapshot.getString(&quot;name&quot;)); // Alias for firstName\r\n        customer.setLastName(documentSnapshot.getString(&quot;lastName&quot;));\r\n        customer.setUserID(documentSnapshot.getString(&quot;userID&quot;));\r\n\r\n        return customer;\r\n    }\r\n    // Getters &amp; setters\r\n\r\nThen you can use it like :\r\n\r\n    DocumentSnapshot documentSnapshot = // Retrieve document from Firestore\r\n    Customer customer = Customer.fromDocumentSnapshot(documentSnapshot);\r\n\r\n","title":"Java Firebase Firestore how to set json field alias","body":"<p>How about provide a factory method to create a Customer object as below:</p>\n<pre><code>// Private constructor to enforce factory method usage\nprivate Customer() {}\n\npublic static Customer fromDocumentSnapshot(DocumentSnapshot documentSnapshot) {\n    Customer customer = new Customer();\n\n    customer.setId(documentSnapshot.getId());\n    customer.setEmail(documentSnapshot.getString(&quot;email&quot;));\n    customer.setFirstName(documentSnapshot.getString(&quot;name&quot;)); // Alias for firstName\n    customer.setLastName(documentSnapshot.getString(&quot;lastName&quot;));\n    customer.setUserID(documentSnapshot.getString(&quot;userID&quot;));\n\n    return customer;\n}\n// Getters &amp; setters\n</code></pre>\n<p>Then you can use it like :</p>\n<pre><code>DocumentSnapshot documentSnapshot = // Retrieve document from Firestore\nCustomer customer = Customer.fromDocumentSnapshot(documentSnapshot);\n</code></pre>\n"}],"owner":{"account_id":16338499,"reputation":180,"user_id":11799970,"display_name":"Orfeas Magoulas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75932852,"answer_count":1,"score":0,"last_activity_date":1680634044,"creation_date":1680633817,"question_id":75932818,"body_markdown":"Is it possible to set a json alias for a field when converting a DocumentSnapshot to an object?\r\n\r\n```\r\npackage com.example;\r\n\r\npublic class Customer {\r\n    private String id;\r\n    private String email;\r\n    // @JsonAlias(&quot;name&quot;) // How I would do it if I was using Jackson\r\n    private String firstName;\r\n    private String lastName;\r\n    private String userID;\r\n\r\n    ... getters &amp; setters\r\n}\r\n```\r\n","title":"Java Firebase Firestore how to set json field alias","body":"<p>Is it possible to set a json alias for a field when converting a DocumentSnapshot to an object?</p>\n<pre><code>package com.example;\n\npublic class Customer {\n    private String id;\n    private String email;\n    // @JsonAlias(&quot;name&quot;) // How I would do it if I was using Jackson\n    private String firstName;\n    private String lastName;\n    private String userID;\n\n    ... getters &amp; setters\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"score":0,"creation_date":1680513567,"post_id":75917806,"comment_id":133905318,"body_markdown":"Welcome to StackOverflow! what you have tried ? can you please post any code?","body":"Welcome to StackOverflow! what you have tried ? can you please post any code?"},{"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"score":0,"creation_date":1680514492,"post_id":75917806,"comment_id":133905547,"body_markdown":"please edit your question and post the code","body":"please edit your question and post the code"},{"owner":{"account_id":28145514,"reputation":1,"user_id":21507895,"display_name":"Mega X Nine"},"score":0,"creation_date":1680514897,"post_id":75917806,"comment_id":133905636,"body_markdown":"See the picture of the plan, how I can do that?","body":"See the picture of the plan, how I can do that?"}],"answers":[{"tags":[],"owner":{"account_id":10531491,"reputation":330,"user_id":7760687,"display_name":"Mayur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680519082,"creation_date":1680519082,"answer_id":75918653,"question_id":75917806,"body_markdown":"**Try This**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item&gt;\r\n            &lt;shape\r\n                android:shape=&quot;oval&quot;&gt;\r\n                &lt;solid android:color=&quot;#00046500&quot;/&gt;\r\n                &lt;size\r\n                    android:width=&quot;120dp&quot;\r\n                    android:height=&quot;120dp&quot;/&gt;\r\n            &lt;/shape&gt;\r\n        &lt;/item&gt;\r\n    \r\n        &lt;item android:bottom=&quot;30dp&quot; android:start=&quot;-120dp&quot;\r\n            android:top=&quot;-30dp&quot;&gt;\r\n            &lt;shape\r\n                android:shape=&quot;oval&quot;&gt;\r\n                &lt;solid android:color=&quot;#046500&quot;/&gt;\r\n                &lt;gradient\r\n                    android:startColor=&quot;#5BED00&quot;\r\n                    android:centerColor=&quot;#00A800&quot;\r\n                    android:endColor=&quot;#157300&quot;\r\n                    android:angle=&quot;270&quot; /&gt;\r\n                &lt;size\r\n                    android:width=&quot;120dp&quot;\r\n                    android:height=&quot;70dp&quot;/&gt;\r\n            &lt;/shape&gt;\r\n        &lt;/item&gt;\r\n    &lt;/layer-list&gt;\r\n\r\noutput like this [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VKx1L.png","title":"How I can do shape half circle in Android?","body":"<p><strong>Try This</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item&gt;\n        &lt;shape\n            android:shape=&quot;oval&quot;&gt;\n            &lt;solid android:color=&quot;#00046500&quot;/&gt;\n            &lt;size\n                android:width=&quot;120dp&quot;\n                android:height=&quot;120dp&quot;/&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n\n    &lt;item android:bottom=&quot;30dp&quot; android:start=&quot;-120dp&quot;\n        android:top=&quot;-30dp&quot;&gt;\n        &lt;shape\n            android:shape=&quot;oval&quot;&gt;\n            &lt;solid android:color=&quot;#046500&quot;/&gt;\n            &lt;gradient\n                android:startColor=&quot;#5BED00&quot;\n                android:centerColor=&quot;#00A800&quot;\n                android:endColor=&quot;#157300&quot;\n                android:angle=&quot;270&quot; /&gt;\n            &lt;size\n                android:width=&quot;120dp&quot;\n                android:height=&quot;70dp&quot;/&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n<p>output like this <a href=\"https://i.stack.imgur.com/VKx1L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VKx1L.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28145514,"reputation":1,"user_id":21507895,"display_name":"Mega X Nine"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680633671,"creation_date":1680513281,"question_id":75917806,"body_markdown":"I am making app farm management system, and I want to make design for any pages such as Login, Register, Settings, etc...\r\n\r\nI really don&#39;t how I can make it, but check this one I made a plan:\r\n\r\n[Plan for Pages](https://i.stack.imgur.com/Yf497.png)\r\n\r\nI tried to create shape half circle and move in the corner, but It won&#39;t work.\r\n\r\nI hope if you can help me.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;&gt;\r\n    &lt;solid android:color=&quot;#046500&quot;/&gt;\r\n    &lt;gradient\r\n        android:startColor=&quot;#5BED00&quot;\r\n        android:centerColor=&quot;#00A800&quot;\r\n        android:endColor=&quot;#157300&quot;\r\n        android:angle=&quot;270&quot; /&gt;\r\n    &lt;size\r\n        android:width=&quot;120dp&quot;\r\n        android:height=&quot;60dp&quot;/&gt;\r\n    &lt;corners\r\n        android:topLeftRadius=&quot;10dp&quot;\r\n        android:topRightRadius=&quot;70dp&quot;/&gt;\r\n&lt;/shape&gt;\r\n```\r\n\r\n","title":"How I can do shape half circle in Android?","body":"<p>I am making app farm management system, and I want to make design for any pages such as Login, Register, Settings, etc...</p>\n<p>I really don't how I can make it, but check this one I made a plan:</p>\n<p><a href=\"https://i.stack.imgur.com/Yf497.png\" rel=\"nofollow noreferrer\">Plan for Pages</a></p>\n<p>I tried to create shape half circle and move in the corner, but It won't work.</p>\n<p>I hope if you can help me.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;&gt;\n    &lt;solid android:color=&quot;#046500&quot;/&gt;\n    &lt;gradient\n        android:startColor=&quot;#5BED00&quot;\n        android:centerColor=&quot;#00A800&quot;\n        android:endColor=&quot;#157300&quot;\n        android:angle=&quot;270&quot; /&gt;\n    &lt;size\n        android:width=&quot;120dp&quot;\n        android:height=&quot;60dp&quot;/&gt;\n    &lt;corners\n        android:topLeftRadius=&quot;10dp&quot;\n        android:topRightRadius=&quot;70dp&quot;/&gt;\n&lt;/shape&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":6395576,"reputation":13,"user_id":11776653,"display_name":"danielfss"},"score":0,"creation_date":1680633430,"post_id":75932684,"comment_id":133930421,"body_markdown":"I tried to do it the way mentioned, but I don&#39;t see the method option &quot;cloneBean()&quot;, only copyProperties and others. Forgot to mention, but I&#39;m using Spring Web and Spring Data JPA modules.","body":"I tried to do it the way mentioned, but I don&#39;t see the method option &quot;cloneBean()&quot;, only copyProperties and others. Forgot to mention, but I&#39;m using Spring Web and Spring Data JPA modules."},{"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"score":0,"creation_date":1680633631,"post_id":75932684,"comment_id":133930474,"body_markdown":"I think alternatively you can write a method to set the required properties to the entityNew object.\nLike: entityNew.setId(entity.getId());","body":"I think alternatively you can write a method to set the required properties to the entityNew object. Like: entityNew.setId(entity.getId());"},{"owner":{"account_id":6395576,"reputation":13,"user_id":11776653,"display_name":"danielfss"},"score":0,"creation_date":1680697936,"post_id":75932684,"comment_id":133941550,"body_markdown":"I found out what was going on. In my entity there was another collection that was coming empty, then in BeanUtils I think it was trying to copy the empty collection from instance A to instance B.\n\n    if (!entity.getTermos().isEmpty()) {\n        for (int i = 0; i &lt; entity.getTermos().size(); i++) {\n            BeanUtils.copyProperties(entity.getTermos().get(i), \n        entityNew.getTermos().get(i), &quot;termos&quot;);\n       }\n} else {\n    entityNew.setTermos(new ArrayList&lt;&gt;());\n}\n\nI solved it by putting another check in the method for this collection.\n\nThanks for the help Millind!","body":"I found out what was going on. In my entity there was another collection that was coming empty, then in BeanUtils I think it was trying to copy the empty collection from instance A to instance B.      if (!entity.getTermos().isEmpty()) {         for (int i = 0; i &lt; entity.getTermos().size(); i++) {             BeanUtils.copyProperties(entity.getTermos().get(i),          entityNew.getTermos().get(i), &quot;termos&quot;);        } } else {     entityNew.setTermos(new ArrayList&lt;&gt;()); }  I solved it by putting another check in the method for this collection.  Thanks for the help Millind!"}],"tags":[],"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680632878,"creation_date":1680632878,"answer_id":75932684,"question_id":75932247,"body_markdown":"I think its because of the bean. Its of singleton type so it gets confused as they have the same reference. You can instead try doing it this way:\r\n```\r\nMyObj entityNew = (MyObj) BeanUtils.cloneBean(entity);\r\n```\r\n","title":"Erro: org.hibernate.HibernateException: Found shared references to a collection","body":"<p>I think its because of the bean. Its of singleton type so it gets confused as they have the same reference. You can instead try doing it this way:</p>\n<pre><code>MyObj entityNew = (MyObj) BeanUtils.cloneBean(entity);\n</code></pre>\n"}],"owner":{"account_id":6395576,"reputation":13,"user_id":11776653,"display_name":"danielfss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75932684,"answer_count":1,"score":1,"last_activity_date":1680632878,"creation_date":1680629395,"question_id":75932247,"body_markdown":"I have a method that instantiates 2 objects of the same entity, example:\r\n\r\n```\r\nMyObj entity = this.search(id);\r\nMyObj entityNew = new MyObj();\r\nBeanUtils.copyProperties(entity, entityNew, &quot;id&quot;);\r\n```\r\n\r\nIn the course of the method, I update some fields of the &#39;entity&#39; object and order it to be updated, with &#39;entityNew&#39; I register it as if it were a new record in the database.\r\n\r\nBut it is throwing the following exception:\r\n```\r\norg.hibernate.HibernateException: Found shared references to a collection: br.com.meuprojeto.model.TermoDoacaoEquipamento.TermoDoacaoEquipamentoEntity.implementos\r\n```\r\n\r\n[Method](https://i.stack.imgur.com/x6H8d.png)\r\n\r\nDoes anyone know how to resolve?\r\nAfter some research, I saw that this is caused due to entity A setting the same values as a collection to entity B. But I don&#39;t know how to resolve this, and I&#39;m just working with just one entity &quot;MyObj&quot; (fictitious name).","title":"Erro: org.hibernate.HibernateException: Found shared references to a collection","body":"<p>I have a method that instantiates 2 objects of the same entity, example:</p>\n<pre><code>MyObj entity = this.search(id);\nMyObj entityNew = new MyObj();\nBeanUtils.copyProperties(entity, entityNew, &quot;id&quot;);\n</code></pre>\n<p>In the course of the method, I update some fields of the 'entity' object and order it to be updated, with 'entityNew' I register it as if it were a new record in the database.</p>\n<p>But it is throwing the following exception:</p>\n<pre><code>org.hibernate.HibernateException: Found shared references to a collection: br.com.meuprojeto.model.TermoDoacaoEquipamento.TermoDoacaoEquipamentoEntity.implementos\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/x6H8d.png\" rel=\"nofollow noreferrer\">Method</a></p>\n<p>Does anyone know how to resolve?\nAfter some research, I saw that this is caused due to entity A setting the same values as a collection to entity B. But I don't know how to resolve this, and I'm just working with just one entity &quot;MyObj&quot; (fictitious name).</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":1477633,"reputation":2421,"user_id":1387666,"display_name":"johnwhitington"},"score":0,"creation_date":1680632051,"post_id":75932461,"comment_id":133930092,"body_markdown":"The Bold and Italic fonts will be from different .ttf files.","body":"The Bold and Italic fonts will be from different .ttf files."},{"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"score":0,"creation_date":1680632967,"post_id":75932461,"comment_id":133930307,"body_markdown":"You are correct in that this is the proper way to use a bold and/or italic variation of a font but I am currently looking for a workaround in order to not bother the end user since this functionality was written in iText where doing that is not required.","body":"You are correct in that this is the proper way to use a bold and/or italic variation of a font but I am currently looking for a workaround in order to not bother the end user since this functionality was written in iText where doing that is not required."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1680641852,"post_id":75932461,"comment_id":133932291,"body_markdown":"Concerning poor man&#39;s bold (with `RenderingMode.FILL_STROKE`) - if you set the current line width together with the font size, e.g. to a tenth of it, you won&#39;t have those issues for small fonts. Concerning poor man&#39;s italics (using skew transformations) - you give too little information on how you tried that, so it&#39;s hard to tell how to improve your code.","body":"Concerning poor man&#39;s bold (with <code>RenderingMode.FILL_STROKE</code>) - if you set the current line width together with the font size, e.g. to a tenth of it, you won&#39;t have those issues for small fonts. Concerning poor man&#39;s italics (using skew transformations) - you give too little information on how you tried that, so it&#39;s hard to tell how to improve your code."},{"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"score":0,"creation_date":1680699779,"post_id":75932461,"comment_id":133942174,"body_markdown":"Thanks! Your comment solved my issue regarding bold text. Could I bother you with an example on how to implement &quot;poor man&#39;s italics&quot;? I tired a lot of things but nothing worked. My general idea was to use the transform method of the PDPageContentStream class to concatenate the (0.2, 0, 0, 1, 0, 0) matrix to the current transformation matrix","body":"Thanks! Your comment solved my issue regarding bold text. Could I bother you with an example on how to implement &quot;poor man&#39;s italics&quot;? I tired a lot of things but nothing worked. My general idea was to use the transform method of the PDPageContentStream class to concatenate the (0.2, 0, 0, 1, 0, 0) matrix to the current transformation matrix"}],"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680632807,"creation_date":1680631018,"question_id":75932461,"body_markdown":"I&#39;m working with PDFBox 2.0.27, using the PDPageContentStream class to write some text at a given (x,y) position on a page of the document.  The font of the text is represented using the PDType0Font class and it is loaded from a .ttf file provided by the user.\r\n\r\nThe code is (mostly) as follows:\r\n\r\n```\r\ntry (PDPageContentStream contentStream = new PDPageContentStream(document, document.getPage(page), PDPageContentStream.AppendMode.APPEND, false, false)){\r\n\tPDType0Font font = load(document, pathToTtf)\r\n\tcontentStream.setFont(font, fontSize);\r\n\tif (isBoldFont){\r\n\t\t// logic goes here\r\n\t}\r\n\tif (isItalicFont){\r\n\t\t// logic goes here\r\n\t}\r\n\tcontentStream.beginText();\r\n\tcontentStream.moveTextPositionByAmount(x, y);\r\n\tcontentStream.showText(text);\r\n\tcontentStream.endText();\r\n}\r\n```\r\n\r\nThe problem comes when I have to style the text in order to make it look bold or/and italic as it is to my understanding that PDFBox is quite a low level library, unlike its counterpart iText when it is possible to delegate such task to the library.\r\n\r\nFor the bold text case I tried with `contentStream.setRenderingMode(RenderingMode.FILL_STROKE);` and it kind of does the trick but it is quite illegible when the font size is rather small so im wondering if there is a better way to do this.\r\n\r\nFor the italic text case I was suggested to apply some kind of skew transformation to the content stream but everything I tried seems to not only tilt the text to the right but also move it&#39;s x position to the right.\r\n\r\nI understand that the bold and/or italic variations of the font should be loaded using different .ttf files but since I am translating code currently written in iText, I need a workaround that allows the user to not have to load multiple .ttf files, just the one of the &quot;main&quot; font.","title":"PDFBOX: How to write bold and italic text no matter the font","body":"<p>I'm working with PDFBox 2.0.27, using the PDPageContentStream class to write some text at a given (x,y) position on a page of the document.  The font of the text is represented using the PDType0Font class and it is loaded from a .ttf file provided by the user.</p>\n<p>The code is (mostly) as follows:</p>\n<pre><code>try (PDPageContentStream contentStream = new PDPageContentStream(document, document.getPage(page), PDPageContentStream.AppendMode.APPEND, false, false)){\n    PDType0Font font = load(document, pathToTtf)\n    contentStream.setFont(font, fontSize);\n    if (isBoldFont){\n        // logic goes here\n    }\n    if (isItalicFont){\n        // logic goes here\n    }\n    contentStream.beginText();\n    contentStream.moveTextPositionByAmount(x, y);\n    contentStream.showText(text);\n    contentStream.endText();\n}\n</code></pre>\n<p>The problem comes when I have to style the text in order to make it look bold or/and italic as it is to my understanding that PDFBox is quite a low level library, unlike its counterpart iText when it is possible to delegate such task to the library.</p>\n<p>For the bold text case I tried with <code>contentStream.setRenderingMode(RenderingMode.FILL_STROKE);</code> and it kind of does the trick but it is quite illegible when the font size is rather small so im wondering if there is a better way to do this.</p>\n<p>For the italic text case I was suggested to apply some kind of skew transformation to the content stream but everything I tried seems to not only tilt the text to the right but also move it's x position to the right.</p>\n<p>I understand that the bold and/or italic variations of the font should be loaded using different .ttf files but since I am translating code currently written in iText, I need a workaround that allows the user to not have to load multiple .ttf files, just the one of the &quot;main&quot; font.</p>\n"},{"tags":["python","java","selenium-webdriver","clipboard","toolkit"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1680647035,"post_id":75932049,"comment_id":133933215,"body_markdown":"isn&#39;t it just str = pyperclip.paste()?","body":"isn&#39;t it just str = pyperclip.paste()?"}],"owner":{"account_id":16175088,"reputation":55,"user_id":11677975,"display_name":"puppet_master"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680631484,"creation_date":1680628029,"question_id":75932049,"body_markdown":"I&#39;m doing a synthetic test in AppDynamics that copies a PDF file to the clipboard and looks for the presence of a string in the document title. We have it working now with Java code, but we&#39;re switching from Java to Python. Here&#39;s the portion of the script in question:\r\n```\r\ndriver.switch_to.window(handles[1])\r\npdfBody = WebDriverWait(driver,10).until(EC.presence_of_element_located((By.TAG_NAME, &quot;embed&quot;)))\r\ntime.sleep(2)\r\naction = ActionChains(driver)\r\nif (pdfBody != None):\r\n    action.double_click().perform()\r\n    time.sleep(1)\r\n    #Select All\r\n    action.key_down(Keys.COMMAND).send_keys(&quot;a&quot;)\r\n    action.key_up(Keys.COMMAND).perform()\r\n    time.sleep(1)\r\n    driver.switch_to.default_content()\r\n    #Copy All\r\n    action.key_down(Keys.COMMAND).send_keys(&quot;c&quot;)\r\n    action.key_up(Keys.COMMAND).perform()\r\n    time.sleep(1)\r\n    print(&quot;PDF Copied&quot;)\r\n    #str = clipboard.paste      #TODO this is not working\r\n    #print(str)\r\n#TODO extracting the text that was copied from the clipboard\r\n\r\n#Assertion TODO comment in once extracted from clipboard\r\n#if title in str:\r\n#    assert True\r\n#else:\r\n#    assert False\r\n\r\n#Close printable\r\ndriver.close()\r\ndriver.switch_to.window(handles[0])\r\n```\r\nI’ve hit a wall on once the printable is “copied” how to extract that from the clipboard.  I followed how the Java test is doing it.  Python supports this same logic, but I can’t seem to implement it correctly.  Please give a shout if you can help.  Everything else is working. Here&#39;s the Java code that does what i want the Python code to do:\r\n```\r\n// clear the content of the clipboard before copying the new content of the printable\r\nClipboard systemClipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\nsystemClipboard.setContents(new StringSelection(&quot;&quot;), null);\r\n// make sure clipboard is empty before copying new text\r\nString clipboardContent = (String) systemClipboard.getData(DataFlavor.stringFlavor);\r\nassertTrue(String\r\n        .format(&quot;Clipboard should be blank before copying but it contains: %s&quot;, clipboardContent),\r\n    clipboardContent.equals(&quot;&quot;));\r\nSystem.out.println(&quot;Ready to copy printable data.&quot;);\r\nwaitUntilVisible(By.tagName(&quot;embed&quot;));\r\nWebElement pdfBody = driver.findElement(By.tagName(&quot;embed&quot;));\r\nif (pdfBody != null) {\r\n  sleep(500);\r\n  Actions action = new Actions(driver);\r\n  action.moveToElement(pdfBody).doubleClick().perform();\r\n  sleep(500);\r\n  // Select All\r\n  action.keyDown(Keys.COMMAND).sendKeys(&quot;a&quot;);\r\n  action.keyUp(Keys.COMMAND).build().perform();\r\n  sleep(500);\r\n  driver.switchTo().defaultContent();\r\n  // Copy all\r\n  action.keyDown(Keys.COMMAND).sendKeys(&quot;c&quot;);\r\n  action.keyUp(Keys.COMMAND).build().perform();\r\n  System.out.println(&quot;Printable is copied.&quot;);\r\n}\r\n// extracting the text that was copied from the clipboard\r\nsleep(2000);\r\nclipboardContent = (String) systemClipboard.getData(DataFlavor.stringFlavor);\r\nassertFalse(&quot;Clipboard should NOT be blank after copying&quot;, clipboardContent.isEmpty());\r\nreturn clipboardContent;\r\n```\r\nI&#39;m using the following modules in Python:\r\n```\r\nimport time\r\nimport json\r\nfrom selenium import webdriver\r\nfrom selenium.webdriver.support import expected_conditions as EC\r\nfrom selenium.webdriver.common.by import By\r\nfrom selenium.webdriver.common.action_chains import ActionChains\r\nfrom selenium.webdriver.support import expected_conditions\r\nfrom selenium.webdriver.support.wait import WebDriverWait\r\nfrom selenium.webdriver.common.keys import Keys\r\nfrom selenium.webdriver.common.desired_capabilities import DesiredCapabilities\r\nfrom selenium.webdriver.common.actions import action_builder\r\nfrom selenium.webdriver.support.ui import Select\r\nfrom selenium.webdriver.common.keys import Keys\r\nfrom datetime import date\r\n#from PyPDF2 import PdfReader\r\nimport pyperclip as pc\r\nimport clipboard\r\nimport PyPDF2\r\nimport textract\r\n```\r\nalthough I&#39;m told that I don&#39;t need `pyperclip, clipboard` because AppDynamics already imports them.","title":"How to extract contents of clipboard in Python Selenium script","body":"<p>I'm doing a synthetic test in AppDynamics that copies a PDF file to the clipboard and looks for the presence of a string in the document title. We have it working now with Java code, but we're switching from Java to Python. Here's the portion of the script in question:</p>\n<pre><code>driver.switch_to.window(handles[1])\npdfBody = WebDriverWait(driver,10).until(EC.presence_of_element_located((By.TAG_NAME, &quot;embed&quot;)))\ntime.sleep(2)\naction = ActionChains(driver)\nif (pdfBody != None):\n    action.double_click().perform()\n    time.sleep(1)\n    #Select All\n    action.key_down(Keys.COMMAND).send_keys(&quot;a&quot;)\n    action.key_up(Keys.COMMAND).perform()\n    time.sleep(1)\n    driver.switch_to.default_content()\n    #Copy All\n    action.key_down(Keys.COMMAND).send_keys(&quot;c&quot;)\n    action.key_up(Keys.COMMAND).perform()\n    time.sleep(1)\n    print(&quot;PDF Copied&quot;)\n    #str = clipboard.paste      #TODO this is not working\n    #print(str)\n#TODO extracting the text that was copied from the clipboard\n\n#Assertion TODO comment in once extracted from clipboard\n#if title in str:\n#    assert True\n#else:\n#    assert False\n\n#Close printable\ndriver.close()\ndriver.switch_to.window(handles[0])\n</code></pre>\n<p>I’ve hit a wall on once the printable is “copied” how to extract that from the clipboard.  I followed how the Java test is doing it.  Python supports this same logic, but I can’t seem to implement it correctly.  Please give a shout if you can help.  Everything else is working. Here's the Java code that does what i want the Python code to do:</p>\n<pre><code>// clear the content of the clipboard before copying the new content of the printable\nClipboard systemClipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\nsystemClipboard.setContents(new StringSelection(&quot;&quot;), null);\n// make sure clipboard is empty before copying new text\nString clipboardContent = (String) systemClipboard.getData(DataFlavor.stringFlavor);\nassertTrue(String\n        .format(&quot;Clipboard should be blank before copying but it contains: %s&quot;, clipboardContent),\n    clipboardContent.equals(&quot;&quot;));\nSystem.out.println(&quot;Ready to copy printable data.&quot;);\nwaitUntilVisible(By.tagName(&quot;embed&quot;));\nWebElement pdfBody = driver.findElement(By.tagName(&quot;embed&quot;));\nif (pdfBody != null) {\n  sleep(500);\n  Actions action = new Actions(driver);\n  action.moveToElement(pdfBody).doubleClick().perform();\n  sleep(500);\n  // Select All\n  action.keyDown(Keys.COMMAND).sendKeys(&quot;a&quot;);\n  action.keyUp(Keys.COMMAND).build().perform();\n  sleep(500);\n  driver.switchTo().defaultContent();\n  // Copy all\n  action.keyDown(Keys.COMMAND).sendKeys(&quot;c&quot;);\n  action.keyUp(Keys.COMMAND).build().perform();\n  System.out.println(&quot;Printable is copied.&quot;);\n}\n// extracting the text that was copied from the clipboard\nsleep(2000);\nclipboardContent = (String) systemClipboard.getData(DataFlavor.stringFlavor);\nassertFalse(&quot;Clipboard should NOT be blank after copying&quot;, clipboardContent.isEmpty());\nreturn clipboardContent;\n</code></pre>\n<p>I'm using the following modules in Python:</p>\n<pre><code>import time\nimport json\nfrom selenium import webdriver\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.common.action_chains import ActionChains\nfrom selenium.webdriver.support import expected_conditions\nfrom selenium.webdriver.support.wait import WebDriverWait\nfrom selenium.webdriver.common.keys import Keys\nfrom selenium.webdriver.common.desired_capabilities import DesiredCapabilities\nfrom selenium.webdriver.common.actions import action_builder\nfrom selenium.webdriver.support.ui import Select\nfrom selenium.webdriver.common.keys import Keys\nfrom datetime import date\n#from PyPDF2 import PdfReader\nimport pyperclip as pc\nimport clipboard\nimport PyPDF2\nimport textract\n</code></pre>\n<p>although I'm told that I don't need <code>pyperclip, clipboard</code> because AppDynamics already imports them.</p>\n"},{"tags":["java","keycloak","desktop-application"],"comments":[{"owner":{"account_id":419598,"reputation":616,"user_id":796858,"display_name":"AdamE"},"score":0,"creation_date":1661186588,"post_id":71867215,"comment_id":129706862,"body_markdown":"Same problem! Using http://localhost* (with an asterix at the end) and ever since upgrading to Keycloak Quarkus (18) from v16, I get redirected to the &quot;We are sorry&quot; page also. Have not found a workaround. this is for a Java Desktop application also!","body":"Same problem! Using <a href=\"http://localhost\" rel=\"nofollow noreferrer\">localhost</a>* (with an asterix at the end) and ever since upgrading to Keycloak Quarkus (18) from v16, I get redirected to the &quot;We are sorry&quot; page also. Have not found a workaround. this is for a Java Desktop application also!"},{"owner":{"account_id":419598,"reputation":616,"user_id":796858,"display_name":"AdamE"},"score":0,"creation_date":1661187082,"post_id":71867215,"comment_id":129707019,"body_markdown":"I have tried without an asterisk http://localhost and tried 127.0.0.1 (as suggested elsewhere https://stackoverflow.com/questions/45352880/keycloak-invalid-parameter-redirect-uri to no avail but that results in a invalid redirect uri error.","body":"I have tried without an asterisk <a href=\"http://localhost\" rel=\"nofollow noreferrer\">localhost</a> and tried 127.0.0.1 (as suggested elsewhere <a href=\"https://stackoverflow.com/questions/45352880/keycloak-invalid-parameter-redirect-uri\" title=\"keycloak invalid parameter redirect uri\">stackoverflow.com/questions/45352880/&hellip;</a> to no avail but that results in a invalid redirect uri error."}],"answers":[{"comments":[{"owner":{"account_id":147918,"reputation":1406,"user_id":359353,"accept_rate":57,"display_name":"Dula"},"score":0,"creation_date":1649918687,"post_id":71867376,"comment_id":126997512,"body_markdown":"I already have `/auth` at the end of the `auth-server-url`. The login works correctly. It&#39;s the redirect after the login that doesn&#39;t work.","body":"I already have <code>&#47;auth</code> at the end of the <code>auth-server-url</code>. The login works correctly. It&#39;s the redirect after the login that doesn&#39;t work."},{"owner":{"account_id":322000,"reputation":4993,"user_id":641159,"display_name":"C&#233;dric Couralet"},"score":0,"creation_date":1649921818,"post_id":71867376,"comment_id":126998471,"body_markdown":"oups sorry, what is the redirection url then ? How is configured your desktop app ?","body":"oups sorry, what is the redirection url then ? How is configured your desktop app ?"},{"owner":{"account_id":147918,"reputation":1406,"user_id":359353,"accept_rate":57,"display_name":"Dula"},"score":0,"creation_date":1650094810,"post_id":71867376,"comment_id":127039213,"body_markdown":"I have set the redirect url as `http://localhost` as stated in the documentation. Desktop app is configured exactly as the JSON file you provided except `auth-server-url` points to the Google Cloud Run address.","body":"I have set the redirect url as <code>http:&#47;&#47;localhost</code> as stated in the documentation. Desktop app is configured exactly as the JSON file you provided except <code>auth-server-url</code> points to the Google Cloud Run address."},{"owner":{"account_id":419598,"reputation":616,"user_id":796858,"display_name":"AdamE"},"score":0,"creation_date":1661186710,"post_id":71867376,"comment_id":129706908,"body_markdown":"Unfortunately, as pointed out above, this answer is answering another different question. I still have the same problem! Using localhost* (with an asterisk at the end) and ever since upgrading to Keycloak Quarkus (18) from v16, I get redirected to the &quot;We are sorry&quot; page also. Have not found a workaround. this is for a Java Desktop application also.","body":"Unfortunately, as pointed out above, this answer is answering another different question. I still have the same problem! Using localhost* (with an asterisk at the end) and ever since upgrading to Keycloak Quarkus (18) from v16, I get redirected to the &quot;We are sorry&quot; page also. Have not found a workaround. this is for a Java Desktop application also."},{"owner":{"account_id":419598,"reputation":616,"user_id":796858,"display_name":"AdamE"},"score":0,"creation_date":1661187713,"post_id":71867376,"comment_id":129707266,"body_markdown":"@Dula any success with this? Anything you can share?","body":"@Dula any success with this? Anything you can share?"},{"owner":{"account_id":147918,"reputation":1406,"user_id":359353,"accept_rate":57,"display_name":"Dula"},"score":1,"creation_date":1661301265,"post_id":71867376,"comment_id":129737830,"body_markdown":"@AdamE sorry nothing new. Our management decided to go with `auth0` instead so I abandoned the keycloak integration.","body":"@AdamE sorry nothing new. Our management decided to go with <code>auth0</code> instead so I abandoned the keycloak integration."}],"tags":[],"owner":{"account_id":322000,"reputation":4993,"user_id":641159,"display_name":"C&#233;dric Couralet"},"comment_count":6,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649917970,"creation_date":1649917970,"answer_id":71867376,"question_id":71867215,"body_markdown":"If you are using the latest guide, it works with keycloak 17+.\r\n\r\nThere has been a change in the default url for keycloak server with version 17 (with the quarkus distribution, in fact, which is the default with keycloak17) :https://www.keycloak.org/migration/migrating-to-quarkus\r\n\r\nFor you this means your keycloak server is deployed on the `/auth` path, so, in your configuration : \r\n\r\n    {\r\n      &quot;realm&quot;: &quot;desktop-app-auth&quot;,\r\n      &quot;auth-server-url&quot;: &quot;http://localhost:8081/auth&quot;,\r\n      &quot;ssl-required&quot;: &quot;external&quot;,\r\n      &quot;resource&quot;: &quot;desktop-app&quot;,\r\n      &quot;public-client&quot;: true,\r\n      &quot;use-resource-role-mappings&quot;: true,\r\n      &quot;enable-pkce&quot;: true\r\n    }\r\n\r\n`auth-server-url` should have `/auth`.\r\n","title":"Keycloak desktop app redirect says We are sorry","body":"<p>If you are using the latest guide, it works with keycloak 17+.</p>\n<p>There has been a change in the default url for keycloak server with version 17 (with the quarkus distribution, in fact, which is the default with keycloak17) :<a href=\"https://www.keycloak.org/migration/migrating-to-quarkus\" rel=\"nofollow noreferrer\">https://www.keycloak.org/migration/migrating-to-quarkus</a></p>\n<p>For you this means your keycloak server is deployed on the <code>/auth</code> path, so, in your configuration :</p>\n<pre><code>{\n  &quot;realm&quot;: &quot;desktop-app-auth&quot;,\n  &quot;auth-server-url&quot;: &quot;http://localhost:8081/auth&quot;,\n  &quot;ssl-required&quot;: &quot;external&quot;,\n  &quot;resource&quot;: &quot;desktop-app&quot;,\n  &quot;public-client&quot;: true,\n  &quot;use-resource-role-mappings&quot;: true,\n  &quot;enable-pkce&quot;: true\n}\n</code></pre>\n<p><code>auth-server-url</code> should have <code>/auth</code>.</p>\n"},{"tags":[],"owner":{"account_id":419598,"reputation":616,"user_id":796858,"display_name":"AdamE"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664299464,"creation_date":1664299464,"answer_id":73871563,"question_id":71867215,"body_markdown":"This is an acknowledged bug in Keycloak, that began with the v16 release, and is as yet unfixed in v17, v18, and v19 releases:\r\n\r\n - [Error getting page when using KeycloakInstalled adapter &#183; Issue #9401 &#183; keycloak/keycloak &#183; GitHub][1]\r\n\r\nAs of this writing, the proposed PR:\r\n\r\n - ([Restores deleted /delegated endpoint need by kc installed (#9401) by bekwam &#183; Pull Request #12796 &#183; keycloak/keycloak &#183; GitHub][2]) \r\n\r\nto fix this has not yet been approved because they want it implemented differently, as a fix to the KeycloakInstalled Java adapter. (There are comments about the Java adapters being &quot;deprecated&quot; but I do not know enough to know if that is accurate, since it is said if the proposed fix is approved, they will release the fix in an upcoming 19.02 release)\r\n\r\nAnother proposed solution appears to be one that compiles a custom version of Keycloak Server (or at least a custom KeycloakInstalled Java adapter). The instructions (which I have not tried) for that [workaround are in this stack-overflow post][3]\r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/issues/9401\r\n  [2]: https://github.com/keycloak/keycloak/pull/12796\r\n  [3]: https://stackoverflow.com/questions/69001263/keycloak-desktop-java-adapter-deletes-keycloak-identity-cookies?rq=1","title":"Keycloak desktop app redirect says We are sorry","body":"<p>This is an acknowledged bug in Keycloak, that began with the v16 release, and is as yet unfixed in v17, v18, and v19 releases:</p>\n<ul>\n<li><a href=\"https://github.com/keycloak/keycloak/issues/9401\" rel=\"nofollow noreferrer\">Error getting page when using KeycloakInstalled adapter · Issue #9401 · keycloak/keycloak · GitHub</a></li>\n</ul>\n<p>As of this writing, the proposed PR:</p>\n<ul>\n<li>(<a href=\"https://github.com/keycloak/keycloak/pull/12796\" rel=\"nofollow noreferrer\">Restores deleted /delegated endpoint need by kc installed (#9401) by bekwam · Pull Request #12796 · keycloak/keycloak · GitHub</a>)</li>\n</ul>\n<p>to fix this has not yet been approved because they want it implemented differently, as a fix to the KeycloakInstalled Java adapter. (There are comments about the Java adapters being &quot;deprecated&quot; but I do not know enough to know if that is accurate, since it is said if the proposed fix is approved, they will release the fix in an upcoming 19.02 release)</p>\n<p>Another proposed solution appears to be one that compiles a custom version of Keycloak Server (or at least a custom KeycloakInstalled Java adapter). The instructions (which I have not tried) for that <a href=\"https://stackoverflow.com/questions/69001263/keycloak-desktop-java-adapter-deletes-keycloak-identity-cookies?rq=1\">workaround are in this stack-overflow post</a></p>\n"},{"tags":[],"owner":{"account_id":17749296,"reputation":94,"user_id":20103949,"display_name":"Trickster J&#250;nior"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680630982,"creation_date":1680630982,"answer_id":75932458,"question_id":71867215,"body_markdown":"Note that the documentation address is http://localhost:8080/realms/myrealm/account, where the &quot;myrealm&quot; part of the address has to be the same name as your realm you created. For example, if you created the realm with the name &quot;teste&quot;, you should access it at http://localhost:8080/realms/test/account.","title":"Keycloak desktop app redirect says We are sorry","body":"<p>Note that the documentation address is http://localhost:8080/realms/myrealm/account, where the &quot;myrealm&quot; part of the address has to be the same name as your realm you created. For example, if you created the realm with the name &quot;teste&quot;, you should access it at http://localhost:8080/realms/test/account.</p>\n"}],"owner":{"account_id":147918,"reputation":1406,"user_id":359353,"accept_rate":57,"display_name":"Dula"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2365,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1680630982,"creation_date":1649916840,"question_id":71867215,"body_markdown":"I am following this [Keycloak guide][1] to secure a Java desktop application. I have setup the Client as stated:\r\n\r\n[![enter image description here][2]][2]\r\n \r\nIn my application, when I call `loginDesktop()`, I get the browser to sign in and I can sign in correctly. But after the sign in, the redirect page says &quot;We are sorry. Page not found&quot;:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nOther info: Keycloak server is hosted on Google Cloud Run and using a Google CloudSQL Postgres instance for persistence. The [docker image][4] from Keycloak is using Keycloak version 16.1.1. I am using Google Cloud SQL proxy to connect to Postgres. Persistence is working correctly - I can login throughout runs.\r\n\r\nAny help is appreciated.\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs/latest/securing_apps/#_installed_adapter\r\n  [2]: https://i.stack.imgur.com/mmMdW.png\r\n  [3]: https://i.stack.imgur.com/PsjZ1.png\r\n  [4]: https://hub.docker.com/r/jboss/keycloak/","title":"Keycloak desktop app redirect says We are sorry","body":"<p>I am following this <a href=\"https://www.keycloak.org/docs/latest/securing_apps/#_installed_adapter\" rel=\"nofollow noreferrer\">Keycloak guide</a> to secure a Java desktop application. I have setup the Client as stated:</p>\n<p><a href=\"https://i.stack.imgur.com/mmMdW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mmMdW.png\" alt=\"enter image description here\" /></a></p>\n<p>In my application, when I call <code>loginDesktop()</code>, I get the browser to sign in and I can sign in correctly. But after the sign in, the redirect page says &quot;We are sorry. Page not found&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/PsjZ1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PsjZ1.png\" alt=\"enter image description here\" /></a></p>\n<p>Other info: Keycloak server is hosted on Google Cloud Run and using a Google CloudSQL Postgres instance for persistence. The <a href=\"https://hub.docker.com/r/jboss/keycloak/\" rel=\"nofollow noreferrer\">docker image</a> from Keycloak is using Keycloak version 16.1.1. I am using Google Cloud SQL proxy to connect to Postgres. Persistence is working correctly - I can login throughout runs.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","multithreading","jcstress"],"answers":[{"comments":[{"owner":{"account_id":4948185,"reputation":248,"user_id":3983013,"accept_rate":75,"display_name":"Piotr Michalczyk"},"score":0,"creation_date":1680725783,"post_id":75932383,"comment_id":133949031,"body_markdown":"I don&#39;t quite get this answer. I run the code on x64 processor and JCStress explicitly mentions reordering (I assume JIT reordering) as a root cause for this behavior. Do you suggest that in the question no reordering happened but rather the variable was cached?","body":"I don&#39;t quite get this answer. I run the code on x64 processor and JCStress explicitly mentions reordering (I assume JIT reordering) as a root cause for this behavior. Do you suggest that in the question no reordering happened but rather the variable was cached?"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1680759695,"post_id":75932383,"comment_id":133953298,"body_markdown":"On the X86 the only way the above could happen is if the JIT would have reordered the instructions before they hit the CPU because the X86 will not reorder the 2 loads and will not reordered the 2 stores.","body":"On the X86 the only way the above could happen is if the JIT would have reordered the instructions before they hit the CPU because the X86 will not reorder the 2 loads and will not reordered the 2 stores."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1680759945,"post_id":75932383,"comment_id":133953335,"body_markdown":"The example you have given is called the message-passing idiom and for that, you need to preserve causality. For causality you just need the &#39;second&#39; store to be a release store and &#39;second&#39; load to be an acquire load. On the X86 every store has release semantics (meaning that all loads/stores before that store will be ordered before that store) and every load has acquire semantics (meaning that all loads/stores after that load will be ordered after that load). So the above example can&#39;t fail as long as the JIT hasn&#39;t reordered the loads/stores.","body":"The example you have given is called the message-passing idiom and for that, you need to preserve causality. For causality you just need the &#39;second&#39; store to be a release store and &#39;second&#39; load to be an acquire load. On the X86 every store has release semantics (meaning that all loads/stores before that store will be ordered before that store) and every load has acquire semantics (meaning that all loads/stores after that load will be ordered after that load). So the above example can&#39;t fail as long as the JIT hasn&#39;t reordered the loads/stores."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1680760077,"post_id":75932383,"comment_id":133953349,"body_markdown":"JMH instructs the JIT to on purpose increase the amount of reordering of loads and stores for the sake of increasing the chance that you will see more possible behaviors.","body":"JMH instructs the JIT to on purpose increase the amount of reordering of loads and stores for the sake of increasing the chance that you will see more possible behaviors."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1680760330,"post_id":75932383,"comment_id":133953382,"body_markdown":"I would be careful with referring to caching as the source of reordering. Modern CPUs always have coherent caches; that is the task of the cache coherence protocol like MESI. Memory is just a spill bucket for whatever doesn&#39;t fit into the cache. The cache is the source of truth. And also be very cautious of any blog post or article that talks about &#39;cache flushing&#39;. This isn&#39;t how modern CPUs work.","body":"I would be careful with referring to caching as the source of reordering. Modern CPUs always have coherent caches; that is the task of the cache coherence protocol like MESI. Memory is just a spill bucket for whatever doesn&#39;t fit into the cache. The cache is the source of truth. And also be very cautious of any blog post or article that talks about &#39;cache flushing&#39;. This isn&#39;t how modern CPUs work."},{"owner":{"account_id":4948185,"reputation":248,"user_id":3983013,"accept_rate":75,"display_name":"Piotr Michalczyk"},"score":0,"creation_date":1680868101,"post_id":75932383,"comment_id":133972474,"body_markdown":"When I refereed to caching I explicitly mentioned about values being cached in a CPU registers or store buffers and not CPU caches. So my question still stands, is it possible to get the outcome presented in the original question without any JIT reordering?","body":"When I refereed to caching I explicitly mentioned about values being cached in a CPU registers or store buffers and not CPU caches. So my question still stands, is it possible to get the outcome presented in the original question without any JIT reordering?"},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1680872195,"post_id":75932383,"comment_id":133973196,"body_markdown":"No. This is because of the strong memory model of the X86: TSO. It is up to the microarchitecture how to implement these constraints. Guaranteeing store/store order is simple since slots in the store buffer are issued in program order and even though stores can execute out order, they retire and commit to the coherent cache in order. Guraranteeing Load/Load order is a bit trickier. Loads can execute out order; but the load buffer will detect if there is violation of the memory order and restarts the instruction pipeline and next time it is likely there is no memory order violation.","body":"No. This is because of the strong memory model of the X86: TSO. It is up to the microarchitecture how to implement these constraints. Guaranteeing store/store order is simple since slots in the store buffer are issued in program order and even though stores can execute out order, they retire and commit to the coherent cache in order. Guraranteeing Load/Load order is a bit trickier. Loads can execute out order; but the load buffer will detect if there is violation of the memory order and restarts the instruction pipeline and next time it is likely there is no memory order violation."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1680873142,"post_id":75932383,"comment_id":133973391,"body_markdown":"At the micro-architecture level, every read/write goes through a register (because at the microarchitecture level the X86 is a load/store architecture). So all loads/stores need to go through registers. And therefore a register will temporarily hold some store until it is written to some memory location (and the store is written to the store buffer). But it is the task of the micro-architecture to ensure that this doesn&#39;t become visible. In the previous example, I gave some hints on how this can be accomplished.","body":"At the micro-architecture level, every read/write goes through a register (because at the microarchitecture level the X86 is a load/store architecture). So all loads/stores need to go through registers. And therefore a register will temporarily hold some store until it is written to some memory location (and the store is written to the store buffer). But it is the task of the micro-architecture to ensure that this doesn&#39;t become visible. In the previous example, I gave some hints on how this can be accomplished."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1680873329,"post_id":75932383,"comment_id":133973437,"body_markdown":"On the X86 the only cause of the JCStress example reordering is the JIT. If you want to look for something that can fail on the X86, then look for the store-buffering litmus test.","body":"On the X86 the only cause of the JCStress example reordering is the JIT. If you want to look for something that can fail on the X86, then look for the store-buffering litmus test."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1680873722,"post_id":75932383,"comment_id":133973528,"body_markdown":"Here it is: https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/basic/BasicJMM_07_Consensus.java PlainDekker. So even if the JIT would not reorder the loads/stores, then on the X86 this can still fail.","body":"Here it is: <a href=\"https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/basic/BasicJMM_07_Consensus.java\" rel=\"nofollow noreferrer\">github.com/openjdk/jcstress/blob/master/jcstress-samples/src&zwnj;&#8203;/&hellip;</a> PlainDekker. So even if the JIT would not reorder the loads/stores, then on the X86 this can still fail."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1680945275,"post_id":75932383,"comment_id":133982577,"body_markdown":"@PiotrMichalczyk has your question been answered?","body":"@PiotrMichalczyk has your question been answered?"}],"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"comment_count":11,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680630967,"creation_date":1680630452,"answer_id":75932383,"question_id":75899212,"body_markdown":"On the X86 stores can&#39;t be reordered with other stores and loads can&#39;t be reordered with other loads (only an older store and a newer load to a different address can be reordered). So if the compiler would not mess up the order, then on the X86 this can&#39;t fail. This is because of the strong memory model of X86: TSO (Total Store Order).\r\n\r\nHowever, if you would go for a CPU with a weaker memory model e.g. ARM or RISC-V, then such reordering could happen.","title":"Can JCStress outcome can be described as the result of caching instead of reordering?","body":"<p>On the X86 stores can't be reordered with other stores and loads can't be reordered with other loads (only an older store and a newer load to a different address can be reordered). So if the compiler would not mess up the order, then on the X86 this can't fail. This is because of the strong memory model of X86: TSO (Total Store Order).</p>\n<p>However, if you would go for a CPU with a weaker memory model e.g. ARM or RISC-V, then such reordering could happen.</p>\n"}],"owner":{"account_id":4948185,"reputation":248,"user_id":3983013,"accept_rate":75,"display_name":"Piotr Michalczyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75932383,"answer_count":1,"score":1,"last_activity_date":1680630967,"creation_date":1680270022,"question_id":75899212,"body_markdown":"I modified one of JCStress [examples](https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/basic/BasicJMM_06_Causality.java):\r\n\r\n    @JCStressTest\r\n    @Outcome(id = &quot;0, 0&quot;, expect = ACCEPTABLE, desc = &quot;Doing both reads early.&quot;)\r\n    @Outcome(id = &quot;1, 1&quot;, expect = ACCEPTABLE, desc = &quot;Doing both reads late.&quot;)\r\n    @Outcome(id = &quot;1, 0&quot;, expect = ACCEPTABLE, desc = &quot;First is visible but not second.&quot;)\r\n    @Outcome(id = &quot;0, 1&quot;, expect = ACCEPTABLE_INTERESTING, desc = &quot;Second is visible but not first.&quot;)\r\n    @State\r\n    public class Reordering {\r\n        int first;\r\n        int second;\r\n    \r\n        @Actor\r\n        public void actor1() {\r\n            first = 1;\r\n            second = 1;\r\n        }\r\n    \r\n        @Actor\r\n        public void actor2(II_Result r) {\r\n            r.r2 = second;\r\n            r.r1 = first;\r\n        }\r\n    }\r\n\r\nwhich gave me the following result:\r\n\r\n  |RESULT|        SAMPLES|     FREQ|       EXPECT|  DESCRIPTION|\r\n  |---|---|---|---|---|\r\n  |0, 0|    737,822,067|   26.75%|   Acceptable|  Doing both reads early.|\r\n  |0, 1|     1,838,578|   0.07%|  Interesting|  Second is visible but not first.|\r\n  |1, 0|     13,081,701|    0.47%|   Acceptable|  First is visible but not second.|\r\n  |1, 1| 2,005,604,406|   72.71%|   Acceptable|  Doing both reads late.|\r\n\r\nThe *Acceptable* results are easy to understand but I have some questions regarding the *Interesting* outcome. From what I understood, JVM can optimize the code and change the order of instructions meaning the first function could roughly be translated to:\r\n\r\n    public void actor1() {\r\n        second = 1;\r\n        first = 1;\r\n    }\r\nwhich could explain why the *Interesting* result was achieved. My question is: is it possible that the *Interesting* result was achieved not due to the code reordering done by JVM but rather by &quot;caching&quot; the ```first``` and not making it visible to the thread running ```actor2``` method since the field was not a volatile one? By caching I am talking about storing it in the CPU register/store buffer and making it not visible to the other thread. \r\n  ","title":"Can JCStress outcome can be described as the result of caching instead of reordering?","body":"<p>I modified one of JCStress <a href=\"https://github.com/openjdk/jcstress/blob/master/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/basic/BasicJMM_06_Causality.java\" rel=\"nofollow noreferrer\">examples</a>:</p>\n<pre><code>@JCStressTest\n@Outcome(id = &quot;0, 0&quot;, expect = ACCEPTABLE, desc = &quot;Doing both reads early.&quot;)\n@Outcome(id = &quot;1, 1&quot;, expect = ACCEPTABLE, desc = &quot;Doing both reads late.&quot;)\n@Outcome(id = &quot;1, 0&quot;, expect = ACCEPTABLE, desc = &quot;First is visible but not second.&quot;)\n@Outcome(id = &quot;0, 1&quot;, expect = ACCEPTABLE_INTERESTING, desc = &quot;Second is visible but not first.&quot;)\n@State\npublic class Reordering {\n    int first;\n    int second;\n\n    @Actor\n    public void actor1() {\n        first = 1;\n        second = 1;\n    }\n\n    @Actor\n    public void actor2(II_Result r) {\n        r.r2 = second;\n        r.r1 = first;\n    }\n}\n</code></pre>\n<p>which gave me the following result:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>RESULT</th>\n<th>SAMPLES</th>\n<th>FREQ</th>\n<th>EXPECT</th>\n<th>DESCRIPTION</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0, 0</td>\n<td>737,822,067</td>\n<td>26.75%</td>\n<td>Acceptable</td>\n<td>Doing both reads early.</td>\n</tr>\n<tr>\n<td>0, 1</td>\n<td>1,838,578</td>\n<td>0.07%</td>\n<td>Interesting</td>\n<td>Second is visible but not first.</td>\n</tr>\n<tr>\n<td>1, 0</td>\n<td>13,081,701</td>\n<td>0.47%</td>\n<td>Acceptable</td>\n<td>First is visible but not second.</td>\n</tr>\n<tr>\n<td>1, 1</td>\n<td>2,005,604,406</td>\n<td>72.71%</td>\n<td>Acceptable</td>\n<td>Doing both reads late.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The <em>Acceptable</em> results are easy to understand but I have some questions regarding the <em>Interesting</em> outcome. From what I understood, JVM can optimize the code and change the order of instructions meaning the first function could roughly be translated to:</p>\n<pre><code>public void actor1() {\n    second = 1;\n    first = 1;\n}\n</code></pre>\n<p>which could explain why the <em>Interesting</em> result was achieved. My question is: is it possible that the <em>Interesting</em> result was achieved not due to the code reordering done by JVM but rather by &quot;caching&quot; the <code>first</code> and not making it visible to the thread running <code>actor2</code> method since the field was not a volatile one? By caching I am talking about storing it in the CPU register/store buffer and making it not visible to the other thread.</p>\n"},{"tags":["java","scala","apache-spark","parquet"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1680632155,"post_id":75932413,"comment_id":133930119,"body_markdown":"On top of my head: parquet4s in Scala.","body":"On top of my head: parquet4s in Scala."},{"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"score":0,"creation_date":1680638070,"post_id":75932413,"comment_id":133931443,"body_markdown":"Thanks. Looked at it before posting the question. But it doesn&#39;t seem to have features to retrieve metadata without going through the data.","body":"Thanks. Looked at it before posting the question. But it doesn&#39;t seem to have features to retrieve metadata without going through the data."}],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680630612,"creation_date":1680630612,"question_id":75932413,"body_markdown":"I am currently using `pyarrow` to read `parquet` metadata as shown below. We are however a JVM shop and we would like to have libraries and utilities written in Scala/Java, if possible. Are there equivalent libraries on JVM to do the same?\r\n\r\n    def print_parquet_metadata(file_path):\r\n        pq_file = pq.ParquetFile(file_path)\r\n        data = [[&quot;columns:&quot;, pq_file.metadata.num_columns],\r\n                [&quot;rows:&quot;, pq_file.metadata.num_rows],\r\n                [&quot;row_groups:&quot;, pq_file.metadata.num_row_groups]\r\n                ]\r\n        print(data)","title":"Read Parquet metadata on JVM","body":"<p>I am currently using <code>pyarrow</code> to read <code>parquet</code> metadata as shown below. We are however a JVM shop and we would like to have libraries and utilities written in Scala/Java, if possible. Are there equivalent libraries on JVM to do the same?</p>\n<pre><code>def print_parquet_metadata(file_path):\n    pq_file = pq.ParquetFile(file_path)\n    data = [[&quot;columns:&quot;, pq_file.metadata.num_columns],\n            [&quot;rows:&quot;, pq_file.metadata.num_rows],\n            [&quot;row_groups:&quot;, pq_file.metadata.num_row_groups]\n            ]\n    print(data)\n</code></pre>\n"},{"tags":["java","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"score":0,"creation_date":1680630906,"post_id":75932411,"comment_id":133929806,"body_markdown":"Man...great, thank you. Thymeleaf&#39;s expression utility is the thing I was looking for. Thymeleaf&#39;s documentation is very weak so it&#39;s really very bloody to proceed for a new Java coder.","body":"Man...great, thank you. Thymeleaf&#39;s expression utility is the thing I was looking for. Thymeleaf&#39;s documentation is very weak so it&#39;s really very bloody to proceed for a new Java coder."}],"tags":[],"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1680630608,"creation_date":1680630608,"answer_id":75932411,"question_id":75930169,"body_markdown":"One Java approach is to generate a random value using your method if you want, or see [How do I generate random integers within a specific range in Java?](https://stackoverflow.com/q/363681/12567365), if you want an integer with a certain number of digits in it. \r\n\r\nThen you can add that value (let&#39;s call it `randNumber`) to the template&#39;s model in the usual Spring way - for example:\r\n\r\n    model.addAttribute(&quot;randNumber&quot;, randNumber);\r\n\r\nNow you can use the following in your Thymeleaf template:\r\n\r\n    &lt;script th:src=&quot;@{/main.js(version=${randNumber})}&quot;&gt;&lt;/script&gt;\r\n\r\nNote how the variable needs to be a Thymeleaf expression in `${...}`.\r\n\r\n---\r\n\r\nOne alternative approach, which may be acceptable is to use Thymeleaf&#39;s expression utility method for random alphanumeric strings:\r\n\r\n    ${#strings.randomAlphanumeric(count)}\r\n\r\nSo, for example, for a string of length 5:\r\n\r\n    &lt;script th:src=&quot;@{/main.js(version=${#strings.randomAlphanumeric(5)})}&quot;&gt;&lt;/script&gt;\r\n\r\nYou don&#39;t need any Java for this.\r\n\r\nThe end result would be similar to the first approach, but can contain characters as well as digits:\r\n\r\n    &lt;script src=&quot;/main.js?version=2Q931&quot;&gt;&lt;/script&gt;","title":"Adding a random version number to javascript file in thymeleaf template","body":"<p>One Java approach is to generate a random value using your method if you want, or see <a href=\"https://stackoverflow.com/q/363681/12567365\">How do I generate random integers within a specific range in Java?</a>, if you want an integer with a certain number of digits in it.</p>\n<p>Then you can add that value (let's call it <code>randNumber</code>) to the template's model in the usual Spring way - for example:</p>\n<pre><code>model.addAttribute(&quot;randNumber&quot;, randNumber);\n</code></pre>\n<p>Now you can use the following in your Thymeleaf template:</p>\n<pre><code>&lt;script th:src=&quot;@{/main.js(version=${randNumber})}&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>Note how the variable needs to be a Thymeleaf expression in <code>${...}</code>.</p>\n<hr />\n<p>One alternative approach, which may be acceptable is to use Thymeleaf's expression utility method for random alphanumeric strings:</p>\n<pre><code>${#strings.randomAlphanumeric(count)}\n</code></pre>\n<p>So, for example, for a string of length 5:</p>\n<pre><code>&lt;script th:src=&quot;@{/main.js(version=${#strings.randomAlphanumeric(5)})}&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>You don't need any Java for this.</p>\n<p>The end result would be similar to the first approach, but can contain characters as well as digits:</p>\n<pre><code>&lt;script src=&quot;/main.js?version=2Q931&quot;&gt;&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75932411,"answer_count":1,"score":3,"last_activity_date":1680630608,"creation_date":1680616143,"question_id":75930169,"body_markdown":"I have a main.js in thymeleaf template, each time I call it I want to add a version parameter so that it will not be cached and my latest changes will work. \r\n\r\n        &lt;script src=&quot;/main.js?version=345345456&quot;&gt;&lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nSince it&#39;s the layout behind all other templates, I don&#39;t want to pass a variable from controllers. \r\n\r\nSo I decided to add a bean method to my application class\r\n\r\n    @SpringBootApplication\r\n    public class NexusApplication {\r\n\r\n\t    @Bean\r\n\t    public double jsVersion(){\r\n\t\t    return Math.random();\r\n\t    }\r\n\r\n    }\r\n\r\nThan I added:\r\n\r\n    &lt;script th:src=&quot;@{/js/my-script.js(version=NexusApplication.jsVersion())}&quot;&gt;&lt;/script&gt;\r\n\r\nOutput is:\r\n\r\n    &lt;script th:src=&quot;@{/main.js?(version=NexusApplication.jsVersion())}&quot;&gt;&lt;/script&gt;\r\n\r\nWhat am I missing? How should I approach this issue in a better way?","title":"Adding a random version number to javascript file in thymeleaf template","body":"<p>I have a main.js in thymeleaf template, each time I call it I want to add a version parameter so that it will not be cached and my latest changes will work.</p>\n<pre><code>    &lt;script src=&quot;/main.js?version=345345456&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Since it's the layout behind all other templates, I don't want to pass a variable from controllers.</p>\n<p>So I decided to add a bean method to my application class</p>\n<pre><code>@SpringBootApplication\npublic class NexusApplication {\n\n    @Bean\n    public double jsVersion(){\n        return Math.random();\n    }\n\n}\n</code></pre>\n<p>Than I added:</p>\n<pre><code>&lt;script th:src=&quot;@{/js/my-script.js(version=NexusApplication.jsVersion())}&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>Output is:</p>\n<pre><code>&lt;script th:src=&quot;@{/main.js?(version=NexusApplication.jsVersion())}&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>What am I missing? How should I approach this issue in a better way?</p>\n"},{"tags":["java","apache-kafka","protocol-buffers","spring-kafka"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1680558755,"post_id":75923174,"comment_id":133916002,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680630210,"creation_date":1680630210,"answer_id":75932359,"question_id":75923174,"body_markdown":"Yes, you should be able to use `protobuf-java` to create a `byte[]` that can be sent with `ByteArraySerializer` or get `Message` from byte array returned from `ByteArrayDeserializer`. Spring Boot is not necessary. \r\n\r\nOtherwise, you need to write your own Serializer and Deserializer implementations for using Protobuf Message class, or POJOs. \r\n\r\nYou&#39;ll have the same &quot;parser issues&quot;, regardless of what framework is used, if your protobuf schema definition is invalid, as Confluent simply wraps that same library. \r\n","title":"Can we directly use the protobuf in spring-kafka?","body":"<p>Yes, you should be able to use <code>protobuf-java</code> to create a <code>byte[]</code> that can be sent with <code>ByteArraySerializer</code> or get <code>Message</code> from byte array returned from <code>ByteArrayDeserializer</code>. Spring Boot is not necessary.</p>\n<p>Otherwise, you need to write your own Serializer and Deserializer implementations for using Protobuf Message class, or POJOs.</p>\n<p>You'll have the same &quot;parser issues&quot;, regardless of what framework is used, if your protobuf schema definition is invalid, as Confluent simply wraps that same library.</p>\n"}],"owner":{"account_id":28206187,"reputation":3,"user_id":21559243,"display_name":"Unknown_222"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":681,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75932359,"answer_count":1,"score":-1,"last_activity_date":1680630218,"creation_date":1680550559,"question_id":75923174,"body_markdown":"I want to create the a spring boot application with Kafka where producer and consumer both will use the protobuf only.\r\n\r\nI tried with confluent deserializer but while trying that I&#39;m getting so many parsing errors.","title":"Can we directly use the protobuf in spring-kafka?","body":"<p>I want to create the a spring boot application with Kafka where producer and consumer both will use the protobuf only.</p>\n<p>I tried with confluent deserializer but while trying that I'm getting so many parsing errors.</p>\n"},{"tags":["java","spring-boot","rest","get"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":2,"creation_date":1680532673,"post_id":75920485,"comment_id":133910194,"body_markdown":"you need to make a composite key https://www.baeldung.com/jpa-composite-primary-keys","body":"you need to make a composite key <a href=\"https://www.baeldung.com/jpa-composite-primary-keys\" rel=\"nofollow noreferrer\">baeldung.com/jpa-composite-primary-keys</a>"}],"answers":[{"tags":[],"owner":{"account_id":21145581,"reputation":33,"user_id":15546978,"display_name":"konawige"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680533813,"creation_date":1680533813,"answer_id":75920855,"question_id":75920485,"body_markdown":"It looks like an issue with primary key in your entity. You define id_commande as the primary key but in your database, this field has the same value for the 3 rows. You probably want a composite key with id_commande and id_produit.","title":"Server Response dosn&#39;t match dataBase rows in a HTTP GET Request","body":"<p>It looks like an issue with primary key in your entity. You define id_commande as the primary key but in your database, this field has the same value for the 3 rows. You probably want a composite key with id_commande and id_produit.</p>\n"}],"owner":{"account_id":20293655,"reputation":61,"user_id":14884744,"display_name":"Oukkal Yacine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680630192,"creation_date":1680531536,"question_id":75920485,"body_markdown":"So I am working with JavaSpring boot for a web app , and mySql for the DB , the concerned table in the database is named contient as you can see in the picture the SELECT * SQL query : [![image showing the result of the SELECT * FROM contient](https://i.stack.imgur.com/TpaDA.png)](https://i.stack.imgur.com/TpaDA.png)\r\n[![enter image description here][1]][1]\r\n\r\nwhen I send a HTTP get request in POSTMAN here is the response : [![image showing the postman get result ](https://i.stack.imgur.com/6kg6r.png)](https://i.stack.imgur.com/6kg6r.png)\r\n\r\njumping to the code : \r\nI have a Controller handling the request named ContientController :\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/contient&quot;)\r\npublic class ContientController {\r\n\r\n    private final ContientService contientService;\r\n\r\n    public ContientController(ContientService contientService) {\r\n        this.contientService = contientService;\r\n    }\r\n\r\n    @GetMapping(&quot;/all&quot;)\r\n    public ResponseEntity&lt;List&lt;Contient&gt;&gt; getAllContient(){\r\n        List&lt;Contient&gt; contients = contientService.findAllContient();\r\n        return new  ResponseEntity&lt;&gt;(contients, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nand as you can see it&#39;s calling the Service named contientService , and here is the code : \r\n\r\n```\r\n@Service\r\npublic class ContientService {\r\n\r\n    private final ContientRepo contientRepo;\r\n\r\n    @Autowired\r\n    public ContientService(ContientRepo contientRepo) {\r\n        this.contientRepo = contientRepo;\r\n    }\r\n\r\n    @Transactional\r\n    public List&lt;Contient&gt; findAllContient(){\r\n        return contientRepo.getAllContient();\r\n    }\r\n\r\n```\r\n\r\nthe Service is calling the Repository which contains the method defining the SQL query :\r\n\r\n```\r\n\r\npublic interface ContientRepo extends JpaRepository&lt;Contient,Long&gt; {\r\n\r\n    @Query(value=&quot;SELECT * FROM contient&quot;,nativeQuery = true)\r\n    List&lt;Contient&gt; getAllContient();\r\n}\r\n```\r\n\r\nand finally the Contient module :\r\n\r\n```\r\n\r\n@Entity\r\n@Table(name=&quot;contient&quot;)\r\npublic class Contient {\r\n\r\n    @Id\r\n    @Column(name=&quot;id_commande&quot;)\r\n    private Long id_commande;\r\n\r\n    @Column(name=&quot;id_produit&quot;)\r\n    private Long id_produit;\r\n\r\n    @Column(name=&quot;qte_produit&quot;)\r\n    private int qte_produit;\r\n\r\n// constructor and getters and setters \r\n}\r\n```\r\n \r\n\r\n\r\n\r\n\r\n\r\nI really tried to debug it , I looked it up on the internet I didn&#39;t find a similar questions/solution , tried chatGPT also and it didn&#39;t give me an answer ,\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hDTd7.png","title":"Server Response dosn&#39;t match dataBase rows in a HTTP GET Request","body":"<p>So I am working with JavaSpring boot for a web app , and mySql for the DB , the concerned table in the database is named contient as you can see in the picture the SELECT * SQL query : <a href=\"https://i.stack.imgur.com/TpaDA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TpaDA.png\" alt=\"image showing the result of the SELECT * FROM contient\" /></a>\n<a href=\"https://i.stack.imgur.com/hDTd7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hDTd7.png\" alt=\"enter image description here\" /></a></p>\n<p>when I send a HTTP get request in POSTMAN here is the response : <a href=\"https://i.stack.imgur.com/6kg6r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6kg6r.png\" alt=\"image showing the postman get result \" /></a></p>\n<p>jumping to the code :\nI have a Controller handling the request named ContientController :</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/contient&quot;)\npublic class ContientController {\n\n    private final ContientService contientService;\n\n    public ContientController(ContientService contientService) {\n        this.contientService = contientService;\n    }\n\n    @GetMapping(&quot;/all&quot;)\n    public ResponseEntity&lt;List&lt;Contient&gt;&gt; getAllContient(){\n        List&lt;Contient&gt; contients = contientService.findAllContient();\n        return new  ResponseEntity&lt;&gt;(contients, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>and as you can see it's calling the Service named contientService , and here is the code :</p>\n<pre><code>@Service\npublic class ContientService {\n\n    private final ContientRepo contientRepo;\n\n    @Autowired\n    public ContientService(ContientRepo contientRepo) {\n        this.contientRepo = contientRepo;\n    }\n\n    @Transactional\n    public List&lt;Contient&gt; findAllContient(){\n        return contientRepo.getAllContient();\n    }\n\n</code></pre>\n<p>the Service is calling the Repository which contains the method defining the SQL query :</p>\n<pre><code>\npublic interface ContientRepo extends JpaRepository&lt;Contient,Long&gt; {\n\n    @Query(value=&quot;SELECT * FROM contient&quot;,nativeQuery = true)\n    List&lt;Contient&gt; getAllContient();\n}\n</code></pre>\n<p>and finally the Contient module :</p>\n<pre><code>\n@Entity\n@Table(name=&quot;contient&quot;)\npublic class Contient {\n\n    @Id\n    @Column(name=&quot;id_commande&quot;)\n    private Long id_commande;\n\n    @Column(name=&quot;id_produit&quot;)\n    private Long id_produit;\n\n    @Column(name=&quot;qte_produit&quot;)\n    private int qte_produit;\n\n// constructor and getters and setters \n}\n</code></pre>\n<p>I really tried to debug it , I looked it up on the internet I didn't find a similar questions/solution , tried chatGPT also and it didn't give me an answer ,</p>\n"},{"tags":["java","spring-boot","websocket"],"owner":{"account_id":21481623,"reputation":1446,"user_id":15828895,"display_name":"plutownium"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680630092,"creation_date":1680572789,"question_id":75924905,"body_markdown":"I am new to Java, and new to websockets. I am trying to confirm that [a spring boot tutorial I followed][1] has yielded working code. My goal is to confirm that it works so when I move onto building the browser portion, I can already see what a working version looks like.\r\n\r\nMy postman request is to `ws://localhost:8080/cat`\r\n\r\nI expect this controller endpoint to be hit:\r\n```\r\n\r\n@Controller\r\npublic class ChatController {\r\n\r\n    @MessageMapping(&quot;/cat&quot;)\r\n    @SendTo(&quot;/topic/public&quot;)\r\n    public ChatMessage hatResponse(@Payload final ChatMessage chat) {\r\n        System.out.println(&quot;hat&quot;);\r\n        return chat;\r\n    }\r\n}\r\n```\r\nAnd here is my `WebSocketConfig.java`:\r\n```\r\n\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n  @Override\r\n  public void configureMessageBroker(MessageBrokerRegistry config) {\r\n    config.enableSimpleBroker(&quot;/topic&quot;);\r\n    config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n  }\r\n\r\n  @Override\r\n  public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n    registry.addEndpoint(&quot;/cat&quot;); // shouldn&#39;t this expose &quot;cat&quot; endpoint?\r\n    registry.addEndpoint(&quot;/cat&quot;).withSockJS(); \r\n  }\r\n\r\n}\r\n```\r\nI tried [mimicking][2] [a few][3] [other posts][4] but [so far][5] I&#39;m not getting any response other than: \r\n\r\n```\r\nError: Unexpected server response: 404\r\nHandshake Details\r\nRequest URL: http://localhost:8080/cat\r\nRequest Method: GET\r\nStatus Code: 404 \r\nRequest Headers\r\nSec-WebSocket-Version: 13\r\nSec-WebSocket-Key: uwNdTzo+d0HSl70zn1OajA==\r\nConnection: Upgrade\r\nUpgrade: websocket\r\nSec-WebSocket-Extensions: permessage-deflate; client_max_window_bits\r\nHost: localhost:8080\r\nResponse Headers\r\nVary\r\n0: Origin\r\n1: Access-Control-Request-Method\r\n2: Access-Control-Request-Headers\r\nContent-Type: application/json\r\nTransfer-Encoding: chunked\r\nDate: Tue, 04 Apr 2023 01:45:34 GMT\r\n```\r\n\r\n  [1]: https://www.youtube.com/watch?v=U4lqTmFmbAM\r\n  [2]: https://stackoverflow.com/questions/69258024/how-do-i-connect-to-topic-queue-via-postman-for-a-spring-boot-websocket-app\r\n  [3]: https://stackoverflow.com/questions/70081840/springboot-websocket-testing-with-postman\r\n  [4]: https://stackoverflow.com/questions/69425947/spring-boot-with-websocket-and-postman\r\n  [5]: https://stackoverflow.com/questions/75443412/spring-boot-websocket-with-stomp-connectivity-using-postman-how-to-consume-spri","title":"Connect to a websocket using Postman in Spring Boot","body":"<p>I am new to Java, and new to websockets. I am trying to confirm that <a href=\"https://www.youtube.com/watch?v=U4lqTmFmbAM\" rel=\"nofollow noreferrer\">a spring boot tutorial I followed</a> has yielded working code. My goal is to confirm that it works so when I move onto building the browser portion, I can already see what a working version looks like.</p>\n<p>My postman request is to <code>ws://localhost:8080/cat</code></p>\n<p>I expect this controller endpoint to be hit:</p>\n<pre><code>\n@Controller\npublic class ChatController {\n\n    @MessageMapping(&quot;/cat&quot;)\n    @SendTo(&quot;/topic/public&quot;)\n    public ChatMessage hatResponse(@Payload final ChatMessage chat) {\n        System.out.println(&quot;hat&quot;);\n        return chat;\n    }\n}\n</code></pre>\n<p>And here is my <code>WebSocketConfig.java</code>:</p>\n<pre><code>\n@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n  @Override\n  public void configureMessageBroker(MessageBrokerRegistry config) {\n    config.enableSimpleBroker(&quot;/topic&quot;);\n    config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n  }\n\n  @Override\n  public void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/cat&quot;); // shouldn't this expose &quot;cat&quot; endpoint?\n    registry.addEndpoint(&quot;/cat&quot;).withSockJS(); \n  }\n\n}\n</code></pre>\n<p>I tried <a href=\"https://stackoverflow.com/questions/69258024/how-do-i-connect-to-topic-queue-via-postman-for-a-spring-boot-websocket-app\">mimicking</a> <a href=\"https://stackoverflow.com/questions/70081840/springboot-websocket-testing-with-postman\">a few</a> <a href=\"https://stackoverflow.com/questions/69425947/spring-boot-with-websocket-and-postman\">other posts</a> but <a href=\"https://stackoverflow.com/questions/75443412/spring-boot-websocket-with-stomp-connectivity-using-postman-how-to-consume-spri\">so far</a> I'm not getting any response other than:</p>\n<pre><code>Error: Unexpected server response: 404\nHandshake Details\nRequest URL: http://localhost:8080/cat\nRequest Method: GET\nStatus Code: 404 \nRequest Headers\nSec-WebSocket-Version: 13\nSec-WebSocket-Key: uwNdTzo+d0HSl70zn1OajA==\nConnection: Upgrade\nUpgrade: websocket\nSec-WebSocket-Extensions: permessage-deflate; client_max_window_bits\nHost: localhost:8080\nResponse Headers\nVary\n0: Origin\n1: Access-Control-Request-Method\n2: Access-Control-Request-Headers\nContent-Type: application/json\nTransfer-Encoding: chunked\nDate: Tue, 04 Apr 2023 01:45:34 GMT\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testng-eclipse","testng-annotation-test"],"comments":[{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1680619021,"post_id":75930612,"comment_id":133926564,"body_markdown":"Check this  - https://stackoverflow.com/questions/72540689/how-to-help-this-org-openqa-selenium-remote-http-websocketlistener-onerror","body":"Check this  - <a href=\"https://stackoverflow.com/questions/72540689/how-to-help-this-org-openqa-selenium-remote-http-websocketlistener-onerror\" title=\"how to help this org openqa selenium remote http websocketlistener onerror\">stackoverflow.com/questions/72540689/&hellip;</a>"},{"owner":{"account_id":11180484,"reputation":1542,"user_id":8204677,"accept_rate":86,"display_name":"darclander"},"score":0,"creation_date":1680619076,"post_id":75930612,"comment_id":133926581,"body_markdown":"Also please look over [how to ask](https://stackoverflow.com/help/how-to-ask) before posting a question!","body":"Also please look over <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> before posting a question!"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1680620299,"post_id":75930612,"comment_id":133926926,"body_markdown":"@Shawn to be honest the answers in that question are dubious at best (barring the last one, which may not be relevant). @ OP we need a lot more information than just a posted error. See the &quot;how to ask&quot; link above.","body":"@Shawn to be honest the answers in that question are dubious at best (barring the last one, which may not be relevant). @ OP we need a lot more information than just a posted error. See the &quot;how to ask&quot; link above."}],"answers":[{"tags":[],"owner":{"account_id":21864716,"reputation":1,"user_id":16155068,"display_name":"RealGD AI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680629734,"creation_date":1680629734,"answer_id":75932295,"question_id":75930612,"body_markdown":"That error isn&#39;t really an error, it&#39;s just a warning. What it means is that a socket/server socket disconnected or something happened to the connection.","title":"WARNING: Connection reset java.net.SocketException: Connection reset","body":"<p>That error isn't really an error, it's just a warning. What it means is that a socket/server socket disconnected or something happened to the connection.</p>\n"}],"owner":{"account_id":25572246,"reputation":1,"user_id":19352405,"display_name":"Siddheshwar Mhetre"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680629734,"creation_date":1680618575,"question_id":75930612,"body_markdown":"````\r\nApr 04, 2023 7:43:38 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Connection reset\r\njava.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:259)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n````\r\nI am getting all my results as expected. but after all output completes then I am getting this type of error.","title":"WARNING: Connection reset java.net.SocketException: Connection reset","body":"<pre><code>Apr 04, 2023 7:43:38 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Connection reset\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:259)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I am getting all my results as expected. but after all output completes then I am getting this type of error.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign","feign"],"answers":[{"comments":[{"owner":{"account_id":2302601,"reputation":896,"user_id":2022579,"display_name":"Pedro Bacchini"},"score":0,"creation_date":1679688836,"post_id":70633408,"comment_id":133772239,"body_markdown":"sensational and exactly that worked here","body":"sensational and exactly that worked here"},{"owner":{"account_id":10608928,"reputation":349,"user_id":7813415,"accept_rate":40,"display_name":"I.Brok"},"score":0,"creation_date":1680629787,"post_id":70633408,"comment_id":133929525,"body_markdown":"@Nazeem Thanks so much for the needed Feign configuration imports. Thanks to you I got it to work. It can work with random port though. I posted an answer providing a custom test slice to show how.","body":"@Nazeem Thanks so much for the needed Feign configuration imports. Thanks to you I got it to work. It can work with random port though. I posted an answer providing a custom test slice to show how."},{"owner":{"account_id":1520262,"reputation":744,"user_id":1420121,"accept_rate":73,"display_name":"Nazeem"},"score":0,"creation_date":1680697951,"post_id":70633408,"comment_id":133941552,"body_markdown":"@I.Brok, nice to see that I could of be any help! Good that you got the random port working. I am aware of setting port to zero, however, when I ran the full test suite, for some reason it didn&#39;t expanded the random value in time. Maybe it has now changed with updates to either wiremock and/or feign.","body":"@I.Brok, nice to see that I could of be any help! Good that you got the random port working. I am aware of setting port to zero, however, when I ran the full test suite, for some reason it didn&#39;t expanded the random value in time. Maybe it has now changed with updates to either wiremock and/or feign."}],"tags":[],"owner":{"account_id":1520262,"reputation":744,"user_id":1420121,"accept_rate":73,"display_name":"Nazeem"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641687599,"creation_date":1641653079,"answer_id":70633408,"question_id":68787306,"body_markdown":"Currently there is no out of the box solution to have something like a @FeignTest. However, somebody made a solution for this to be found [here][1].\r\nThis solution Adds the desired functionality. It also has been [proposed to spring-cloud-openfeign][2].\r\n\r\nIf you don&#39;t want to include the above depedency, I&#39;ve created an example by manually importing some AutoConfiguration classes to only load necessary functionality. See here for a [Feign client under test](https://github.com/nazeem-soeltan/chuck-norris-quotes/blob/main/src/test/java/dev/nazeem/chucknorrisquotes/client/ChuckNorrisJokesClientTest.java) using this [Test configuration](https://github.com/nazeem-soeltan/chuck-norris-quotes/blob/main/src/test/java/dev/nazeem/chucknorrisquotes/configuration/TestFeignConfiguration.java)\r\n\r\nThe only down-side of this, is that the wiremock random port can&#39;t expanded in time. That&#39;s why it has a fixed port.\r\n\r\n\r\n  [1]: https://github.com/poznachowski/feigntest\r\n  [2]: https://github.com/spring-cloud/spring-cloud-openfeign/issues/427","title":"Spring Cloud OpenFeign - How can I create a Test Slice?","body":"<p>Currently there is no out of the box solution to have something like a @FeignTest. However, somebody made a solution for this to be found <a href=\"https://github.com/poznachowski/feigntest\" rel=\"noreferrer\">here</a>.\nThis solution Adds the desired functionality. It also has been <a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/427\" rel=\"noreferrer\">proposed to spring-cloud-openfeign</a>.</p>\n<p>If you don't want to include the above depedency, I've created an example by manually importing some AutoConfiguration classes to only load necessary functionality. See here for a <a href=\"https://github.com/nazeem-soeltan/chuck-norris-quotes/blob/main/src/test/java/dev/nazeem/chucknorrisquotes/client/ChuckNorrisJokesClientTest.java\" rel=\"noreferrer\">Feign client under test</a> using this <a href=\"https://github.com/nazeem-soeltan/chuck-norris-quotes/blob/main/src/test/java/dev/nazeem/chucknorrisquotes/configuration/TestFeignConfiguration.java\" rel=\"noreferrer\">Test configuration</a></p>\n<p>The only down-side of this, is that the wiremock random port can't expanded in time. That's why it has a fixed port.</p>\n"},{"tags":[],"owner":{"account_id":10608928,"reputation":349,"user_id":7813415,"accept_rate":40,"display_name":"I.Brok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680629659,"creation_date":1680629659,"answer_id":75932285,"question_id":68787306,"body_markdown":"Thanks to the answer of Nazeem who provided me with the correct Configurations to import for Feign Clients I created the following test slice, which works well for me. \r\n\r\nOption with random port: \r\n\r\nJava:\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RUNTIME)\r\n    @SpringBootTest\r\n    @AutoConfigureWireMock(port = 0)\r\n    @Import(TestFeignConfiguration.class)\r\n    public @interface FeignTest {\r\n    \r\n      @AliasFor(annotation = SpringBootTest.class, attribute = &quot;classes&quot;)\r\n      Class&lt;?&gt;[] classes() default {};\r\n    }\r\n\r\nKotlin: \r\n\r\n    @Target(CLASS)\r\n    @Retention(RUNTIME)\r\n    @SpringBootTest\r\n    @AutoConfigureWireMock(port = 0)\r\n    @Import(TestFeignConfiguration::class)\r\n    annotation class FeignTest (\r\n    \r\n      @get:AliasFor(annotation = SpringBootTest::class, attribute = &quot;classes&quot;)\r\n      val classes: Array&lt;KClass&lt;*&gt;&gt; = emptyArray()\r\n    )\r\n\r\nWith FeignTestConfiguration:\r\n\r\n    @TestConfiguration\r\n    @EnableFeignClients()\r\n    @Import(value = [FeignAutoConfiguration::class, JacksonAutoConfiguration::class, HttpMessageConvertersAutoConfiguration::class])\r\n    class TestFeignConfiguration\r\n\r\nIn your test simply use @FeignClient([YourFeignClient::class]) (kotlin, probably .class for Java)\r\n\r\nBy setting port to 0, it will be set randomly.\r\n\r\nTo set the random port for you urls you can simply configure the url in your configuration. For example: \r\n\r\n    clients:\r\n      yourFeignClient:\r\n        url: http://localhost:${wiremock.server.port}\r\n\r\n\r\nAlternatively for a fixedPort, you could replace @AutoConfigureWireMock(port = 0) with another port or use @WireMockTest(httpPort = 9099) for example","title":"Spring Cloud OpenFeign - How can I create a Test Slice?","body":"<p>Thanks to the answer of Nazeem who provided me with the correct Configurations to import for Feign Clients I created the following test slice, which works well for me.</p>\n<p>Option with random port:</p>\n<p>Java:</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RUNTIME)\n@SpringBootTest\n@AutoConfigureWireMock(port = 0)\n@Import(TestFeignConfiguration.class)\npublic @interface FeignTest {\n\n  @AliasFor(annotation = SpringBootTest.class, attribute = &quot;classes&quot;)\n  Class&lt;?&gt;[] classes() default {};\n}\n</code></pre>\n<p>Kotlin:</p>\n<pre><code>@Target(CLASS)\n@Retention(RUNTIME)\n@SpringBootTest\n@AutoConfigureWireMock(port = 0)\n@Import(TestFeignConfiguration::class)\nannotation class FeignTest (\n\n  @get:AliasFor(annotation = SpringBootTest::class, attribute = &quot;classes&quot;)\n  val classes: Array&lt;KClass&lt;*&gt;&gt; = emptyArray()\n)\n</code></pre>\n<p>With FeignTestConfiguration:</p>\n<pre><code>@TestConfiguration\n@EnableFeignClients()\n@Import(value = [FeignAutoConfiguration::class, JacksonAutoConfiguration::class, HttpMessageConvertersAutoConfiguration::class])\nclass TestFeignConfiguration\n</code></pre>\n<p>In your test simply use @FeignClient([YourFeignClient::class]) (kotlin, probably .class for Java)</p>\n<p>By setting port to 0, it will be set randomly.</p>\n<p>To set the random port for you urls you can simply configure the url in your configuration. For example:</p>\n<pre><code>clients:\n  yourFeignClient:\n    url: http://localhost:${wiremock.server.port}\n</code></pre>\n<p>Alternatively for a fixedPort, you could replace @AutoConfigureWireMock(port = 0) with another port or use @WireMockTest(httpPort = 9099) for example</p>\n"}],"owner":{"account_id":4279495,"reputation":528,"user_id":3499320,"accept_rate":100,"display_name":"henriquels"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1680629659,"creation_date":1628978163,"question_id":68787306,"body_markdown":"I have a test for a Feign client and I would like to set up a test slice, like `@WebMvcTest`, `@DataJpaTest`, etc.\r\n\r\nFor example, the following test uses `@SpringBootTest` and it loads all the application context:\r\n```java\r\n@SpringBootTest\r\n@AutoConfigureWireMock(port = 0)\r\nclass AgePredictorFeignClientTest {\r\n\r\n    @Autowired\r\n    private AgePredictorFeignClient agePredictorFeignClient;\r\n\r\n    @Test\r\n    void getAge() {\r\n        stubFor(get(urlEqualTo(&quot;/age-api?name=Henrique&quot;))\r\n                .willReturn(aResponse().withBodyFile(&quot;25_years_old.json&quot;)\r\n                        .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)));\r\n\r\n        Integer age = agePredictorFeignClient.getAge(&quot;Henrique&quot;).getAge();\r\n\r\n        assertThat(age).isEqualTo(25);\r\n\r\n        verify(getRequestedFor(urlEqualTo(&quot;/age-api?name=Henrique&quot;)));\r\n    }\r\n}\r\n```\r\nHow could I change this test to load only the context related to Spring Cloud OpenFeign?\r\n\r\nThe source code for the application with this test is available at https://github.com/henriquels25/openfeign-tests-sample.","title":"Spring Cloud OpenFeign - How can I create a Test Slice?","body":"<p>I have a test for a Feign client and I would like to set up a test slice, like <code>@WebMvcTest</code>, <code>@DataJpaTest</code>, etc.</p>\n<p>For example, the following test uses <code>@SpringBootTest</code> and it loads all the application context:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@AutoConfigureWireMock(port = 0)\nclass AgePredictorFeignClientTest {\n\n    @Autowired\n    private AgePredictorFeignClient agePredictorFeignClient;\n\n    @Test\n    void getAge() {\n        stubFor(get(urlEqualTo(&quot;/age-api?name=Henrique&quot;))\n                .willReturn(aResponse().withBodyFile(&quot;25_years_old.json&quot;)\n                        .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)));\n\n        Integer age = agePredictorFeignClient.getAge(&quot;Henrique&quot;).getAge();\n\n        assertThat(age).isEqualTo(25);\n\n        verify(getRequestedFor(urlEqualTo(&quot;/age-api?name=Henrique&quot;)));\n    }\n}\n</code></pre>\n<p>How could I change this test to load only the context related to Spring Cloud OpenFeign?</p>\n<p>The source code for the application with this test is available at <a href=\"https://github.com/henriquels25/openfeign-tests-sample\" rel=\"nofollow noreferrer\">https://github.com/henriquels25/openfeign-tests-sample</a>.</p>\n"},{"tags":["java","opc-ua","reconnect","milo"],"answers":[{"comments":[{"owner":{"account_id":1671050,"reputation":468,"user_id":1581033,"accept_rate":90,"display_name":"obeliksz"},"score":0,"creation_date":1680262981,"post_id":75897914,"comment_id":133872585,"body_markdown":"`onTransferFailed` occures multiple times and I would rerun the subscriptions for all, so it would be more convenient to call at `onSessionActive` which is after the `onSubscriptionTransferFailed` events. Anyway the `client.getSubscriptionManager().createSubscription(scanRate).get()` behaves the same way, even when calling at `onSubscriptionTransferFailed` the code execution doesn&#39;t return and subscriptions are not made. This is triggered in the first `onSubscriptionTransferFailed` and no subsequent `onSubscriptionTransferFailed` events are occuring this way...","body":"<code>onTransferFailed</code> occures multiple times and I would rerun the subscriptions for all, so it would be more convenient to call at <code>onSessionActive</code> which is after the <code>onSubscriptionTransferFailed</code> events. Anyway the <code>client.getSubscriptionManager().createSubscription(scanRate)&zwnj;&#8203;.get()</code> behaves the same way, even when calling at <code>onSubscriptionTransferFailed</code> the code execution doesn&#39;t return and subscriptions are not made. This is triggered in the first <code>onSubscriptionTransferFailed</code> and no subsequent <code>onSubscriptionTransferFailed</code> events are occuring this way..."},{"owner":{"account_id":31322,"reputation":6580,"user_id":85927,"accept_rate":50,"display_name":"Kevin Herron"},"score":0,"creation_date":1680264693,"post_id":75897914,"comment_id":133872974,"body_markdown":"It occurs once for each subscription that failed to transfer, indicated by the `subscription` argument it receives.","body":"It occurs once for each subscription that failed to transfer, indicated by the <code>subscription</code> argument it receives."},{"owner":{"account_id":31322,"reputation":6580,"user_id":85927,"accept_rate":50,"display_name":"Kevin Herron"},"score":0,"creation_date":1680265534,"post_id":75897914,"comment_id":133873199,"body_markdown":"It _should_ be safe to make a blocking call that requires the session inside `onSubscriptionTransferFailed`, but I&#39;m not sure if it&#39;s safe in the other callbacks.","body":"It <i>should</i> be safe to make a blocking call that requires the session inside <code>onSubscriptionTransferFailed</code>, but I&#39;m not sure if it&#39;s safe in the other callbacks."},{"owner":{"account_id":1671050,"reputation":468,"user_id":1581033,"accept_rate":90,"display_name":"obeliksz"},"score":0,"creation_date":1680272005,"post_id":75897914,"comment_id":133874942,"body_markdown":"Stucks with `client.getSubscriptionManager().createSubscription(scanRate).get()` at `onSubscriptionTransferFailed` as well, so have no idea how to workaround this resubscription issue. Is there a generic call to reinitialize the failed subscription monitors without `getSubscriptionManager().createSubscription(scanRate).get()` in it?","body":"Stucks with <code>client.getSubscriptionManager().createSubscription(scanRate)&zwnj;&#8203;.get()</code> at <code>onSubscriptionTransferFailed</code> as well, so have no idea how to workaround this resubscription issue. Is there a generic call to reinitialize the failed subscription monitors without <code>getSubscriptionManager().createSubscription(scanRate).get()</code> in it?"},{"owner":{"account_id":1671050,"reputation":468,"user_id":1581033,"accept_rate":90,"display_name":"obeliksz"},"score":0,"creation_date":1680275393,"post_id":75897914,"comment_id":133875923,"body_markdown":"If providing some values of the milo client at `onSubscriptionTransferFailed` would help to grasp the issue, feel free to ask for them and I will extend the question.","body":"If providing some values of the milo client at <code>onSubscriptionTransferFailed</code> would help to grasp the issue, feel free to ask for them and I will extend the question."},{"owner":{"account_id":31322,"reputation":6580,"user_id":85927,"accept_rate":50,"display_name":"Kevin Herron"},"score":0,"creation_date":1680306375,"post_id":75897914,"comment_id":133881857,"body_markdown":"@obeliksz I modified one of the subscription examples to show it works. You must have something in one of your callbacks blocking the completion of the SessionFsm machinery. I connected it to the demo server running locally, then restarted the demo server and observed the subscription re-created and the updates resume. https://gist.github.com/kevinherron/dcc78798befa71b3cdc137cbbc61a456","body":"@obeliksz I modified one of the subscription examples to show it works. You must have something in one of your callbacks blocking the completion of the SessionFsm machinery. I connected it to the demo server running locally, then restarted the demo server and observed the subscription re-created and the updates resume. <a href=\"https://gist.github.com/kevinherron/dcc78798befa71b3cdc137cbbc61a456\" rel=\"nofollow noreferrer\">gist.github.com/kevinherron/dcc78798befa71b3cdc137cbbc61a456</a>"},{"owner":{"account_id":1671050,"reputation":468,"user_id":1581033,"accept_rate":90,"display_name":"obeliksz"},"score":0,"creation_date":1680500119,"post_id":75897914,"comment_id":133902837,"body_markdown":"Thank you. Could you give any hints what could be blocking the SessionFsm? Details on the SessionFsm machinery? It is true, that before this createSubscription call we do have some operations to be completed beforehand to get the list of items that should be monitored. Could we call something before or encolse our fetching code into some kind of block inside the onSubscriptionTransferFailed that prevents the blocking of SessionFsm machinery?","body":"Thank you. Could you give any hints what could be blocking the SessionFsm? Details on the SessionFsm machinery? It is true, that before this createSubscription call we do have some operations to be completed beforehand to get the list of items that should be monitored. Could we call something before or encolse our fetching code into some kind of block inside the onSubscriptionTransferFailed that prevents the blocking of SessionFsm machinery?"},{"owner":{"account_id":31322,"reputation":6580,"user_id":85927,"accept_rate":50,"display_name":"Kevin Herron"},"score":0,"creation_date":1680519694,"post_id":75897914,"comment_id":133906695,"body_markdown":"I would guess the problem is in some other callback like `onSessionInactive` or `onSessionActive` maybe? `onSubscriptionTransferFailed` gets called on a thread pool, so you won’t block the FSM, you would only potentially just not get to the create call - have you debugged and verified you get there or stepped through your logic in the `onSubscriptionTransferFailed` callback?","body":"I would guess the problem is in some other callback like <code>onSessionInactive</code> or <code>onSessionActive</code> maybe? <code>onSubscriptionTransferFailed</code> gets called on a thread pool, so you won’t block the FSM, you would only potentially just not get to the create call - have you debugged and verified you get there or stepped through your logic in the <code>onSubscriptionTransferFailed</code> callback?"},{"owner":{"account_id":1671050,"reputation":468,"user_id":1581033,"accept_rate":90,"display_name":"obeliksz"},"score":0,"creation_date":1680522222,"post_id":75897914,"comment_id":133907237,"body_markdown":"Probably the problem is that I&#39;m not getting to the create call, getting a null Future. As soon as the first createSubscription is called the execution is not comleted and code execution doesnt resume, also there will be no more subsequent TransferFailed events catched. There are no other calls in the onSessionActive/onSessionInactive listeners, only setting a boolean.","body":"Probably the problem is that I&#39;m not getting to the create call, getting a null Future. As soon as the first createSubscription is called the execution is not comleted and code execution doesnt resume, also there will be no more subsequent TransferFailed events catched. There are no other calls in the onSessionActive/onSessionInactive listeners, only setting a boolean."}],"tags":[],"owner":{"account_id":31322,"reputation":6580,"user_id":85927,"accept_rate":50,"display_name":"Kevin Herron"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680261401,"creation_date":1680261401,"answer_id":75897914,"question_id":75897598,"body_markdown":"You should be re-creating them in the `SubscriptionListener::onSubscripionTransferFailed` callback.","title":"Fail to create subscription on reconnected opcua milo client","body":"<p>You should be re-creating them in the <code>SubscriptionListener::onSubscripionTransferFailed</code> callback.</p>\n"},{"tags":[],"owner":{"account_id":1671050,"reputation":468,"user_id":1581033,"accept_rate":90,"display_name":"obeliksz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680629089,"creation_date":1680615241,"answer_id":75930012,"question_id":75897598,"body_markdown":"In my experience only having a clear milo opcua client enables the creation of a new subscription after a full disconnect. After `onSubscriptionTransferFailed` that is detecting any subscription loss its safe to assume that the server is back online. \r\n\r\nThe subscriptions have to be re-created always after a full disconnect.\r\n\r\nHave tried switching to the higher level `ManagedSubscription`, but that doesn&#39;t solve this full disconnect-reconnect resubscription issue as it was already described [here](https://stackoverflow.com/questions/41891640/opc-ua-server-reboot-and-subscriptions/41895509#41895509):\r\n\r\n    OPC UA 1.03 did introduce the concept of durable subscriptions, which are supposed to be able to save state and survive restarts, but I don&#39;t know of any servers that implement this right now.","title":"Fail to create subscription on reconnected opcua milo client","body":"<p>In my experience only having a clear milo opcua client enables the creation of a new subscription after a full disconnect. After <code>onSubscriptionTransferFailed</code> that is detecting any subscription loss its safe to assume that the server is back online.</p>\n<p>The subscriptions have to be re-created always after a full disconnect.</p>\n<p>Have tried switching to the higher level <code>ManagedSubscription</code>, but that doesn't solve this full disconnect-reconnect resubscription issue as it was already described <a href=\"https://stackoverflow.com/questions/41891640/opc-ua-server-reboot-and-subscriptions/41895509#41895509\">here</a>:</p>\n<pre><code>OPC UA 1.03 did introduce the concept of durable subscriptions, which are supposed to be able to save state and survive restarts, but I don't know of any servers that implement this right now.\n</code></pre>\n"}],"owner":{"account_id":1671050,"reputation":468,"user_id":1581033,"accept_rate":90,"display_name":"obeliksz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680629089,"creation_date":1680259286,"question_id":75897598,"body_markdown":"Milo client v0.5.2 (same with current v0.6.8) is connected to the opcua server, I restart the server and the milo client reconnects successfully but the subscriptions are lost, so I&#39;m attempting to recreate them by `onSessionActive` listener.\r\n\r\nI even do a `getSubscriptionManager().clearSubscriptions()` before `getSubscriptionManager().createSubscription(scanRate)`. The `createSubscription` method ends up with a null `Future`. So it does not even give an exception, the code execution seems to stop and not return from there and so the invocation to recreate the monitoring subscriptions won&#39;t work. \r\n\r\n`onTransferFailed` occures multiple times and I would reestablish the subscriptions for all, so it would be more convenient to call at onSessionActive which is after the onSubscriptionTransferFailed events. Anyway the `client.getSubscriptionManager().createSubscription(scanRate)` behaves the same way when calling at `onSubscriptionTransferFailed`: the code execution doesn&#39;t return and subscriptions are not made. This is triggered in the first onSubscriptionTransferFailed and no subsequent onSubscriptionTransferFailed events are occuring.\r\n\r\nIf providing some values of the milo client at onSubscriptionTransferFailed or other point, I could help to better grasp the issue.\r\n\r\nMy main issue is this full reconnection where the subscriptions are lost and has to be reestablished.\r\nThere is no way to reinitialize the failed subscription monitors without recreating the subscriptions but that seems to break the Milo client&#39;s FSM machinery.\r\n\r\nHow to go about this problem now?","title":"Fail to create subscription on reconnected opcua milo client","body":"<p>Milo client v0.5.2 (same with current v0.6.8) is connected to the opcua server, I restart the server and the milo client reconnects successfully but the subscriptions are lost, so I'm attempting to recreate them by <code>onSessionActive</code> listener.</p>\n<p>I even do a <code>getSubscriptionManager().clearSubscriptions()</code> before <code>getSubscriptionManager().createSubscription(scanRate)</code>. The <code>createSubscription</code> method ends up with a null <code>Future</code>. So it does not even give an exception, the code execution seems to stop and not return from there and so the invocation to recreate the monitoring subscriptions won't work.</p>\n<p><code>onTransferFailed</code> occures multiple times and I would reestablish the subscriptions for all, so it would be more convenient to call at onSessionActive which is after the onSubscriptionTransferFailed events. Anyway the <code>client.getSubscriptionManager().createSubscription(scanRate)</code> behaves the same way when calling at <code>onSubscriptionTransferFailed</code>: the code execution doesn't return and subscriptions are not made. This is triggered in the first onSubscriptionTransferFailed and no subsequent onSubscriptionTransferFailed events are occuring.</p>\n<p>If providing some values of the milo client at onSubscriptionTransferFailed or other point, I could help to better grasp the issue.</p>\n<p>My main issue is this full reconnection where the subscriptions are lost and has to be reestablished.\nThere is no way to reinitialize the failed subscription monitors without recreating the subscriptions but that seems to break the Milo client's FSM machinery.</p>\n<p>How to go about this problem now?</p>\n"},{"tags":["java","spring-boot","spring-security","jwt","spring-security-oauth2"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1680627710,"post_id":75931971,"comment_id":133928964,"body_markdown":"Check with other tools like [jwt.io&#39;s debugger](https://jwt.io/). If that shows no claims either, there probably aren&#39;t any and you need to fix how the token is issued. If that shows claims, add a [mcve] to your question.","body":"Check with other tools like <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io&#39;s debugger</a>. If that shows no claims either, there probably aren&#39;t any and you need to fix how the token is issued. If that shows claims, add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to your question."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1680649797,"post_id":75931971,"comment_id":133933553,"body_markdown":"accepting tokens without checking signage means that anyone can forge a token, and its basically no security at all. You might as well just disable all security and remove spring security, than having tokens that you are not verifying.","body":"accepting tokens without checking signage means that anyone can forge a token, and its basically no security at all. You might as well just disable all security and remove spring security, than having tokens that you are not verifying."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680629014,"creation_date":1680629014,"answer_id":75932188,"question_id":75931971,"body_markdown":"You really should not me accepting a token’s contents without validating it but here goes.\r\n\r\nThe token has three bits separated by a full stop (.). \r\n\r\nSplit it with `String.split”.”);`\r\n\r\nEach section is base64 encoded. Decode the middle bit (AFAICR) with `new String(Base64.decoder.decode(middleBit.getBytes()))`\r\n\r\nThis will be a bit of JSON with the claims.\r\n\r\nNote that, for validating/unpacking a JWT the signing key is the **public ke**y of the signer.\r\n","title":"Roles based authorization using JWT token with Roles without verifying the token","body":"<p>You really should not me accepting a token’s contents without validating it but here goes.</p>\n<p>The token has three bits separated by a full stop (.).</p>\n<p>Split it with <code>String.split”.”);</code></p>\n<p>Each section is base64 encoded. Decode the middle bit (AFAICR) with <code>new String(Base64.decoder.decode(middleBit.getBytes()))</code></p>\n<p>This will be a bit of JSON with the claims.</p>\n<p>Note that, for validating/unpacking a JWT the signing key is the <strong>public ke</strong>y of the signer.</p>\n"}],"owner":{"account_id":27903581,"reputation":37,"user_id":21307309,"display_name":"noob555"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680629014,"creation_date":1680627384,"question_id":75931971,"body_markdown":"I am getting a JWT token to the java back-end from the UI which contains &quot;roles&quot; in it. I am trying to implement role based authorization(secure the Rest APIs) using spring security using that token. The problem is that i  do not have the JWT Signing Key. I just want to decode(without verifying the token) and implement authorization using the roles in the JWT. How can i do that? Any articles/websites as to how to achieve this would be helpful. I tried decoding the token without signing key using JJWT(JsonWebToken), but always the Claims value is Null.\r\n\r\n    String token = &quot;ey.....&quot;;\r\n    Claims claims;\r\n    try {\r\n        claims = Jwts.parser()\r\n                 .parseClaimsJws(token)\r\n                 .getBody();\r\n        } catch (Exception e) {}","title":"Roles based authorization using JWT token with Roles without verifying the token","body":"<p>I am getting a JWT token to the java back-end from the UI which contains &quot;roles&quot; in it. I am trying to implement role based authorization(secure the Rest APIs) using spring security using that token. The problem is that i  do not have the JWT Signing Key. I just want to decode(without verifying the token) and implement authorization using the roles in the JWT. How can i do that? Any articles/websites as to how to achieve this would be helpful. I tried decoding the token without signing key using JJWT(JsonWebToken), but always the Claims value is Null.</p>\n<pre><code>String token = &quot;ey.....&quot;;\nClaims claims;\ntry {\n    claims = Jwts.parser()\n             .parseClaimsJws(token)\n             .getBody();\n    } catch (Exception e) {}\n</code></pre>\n"},{"tags":["java","android","android-studio","try-catch","infinite-loop"],"answers":[{"tags":[],"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679564916,"creation_date":1679564916,"answer_id":75821440,"question_id":75820202,"body_markdown":"I think it&#39;s because you put the observe function inside button `onclickListener` so when every time you click the button the observe function will be call over again.\r\n\r\nYou need to put observe outside, just init it 1 time with activity. Then with button onclick call the ViewModel to handle your task and when done post result to observe it in activity again.","title":"Infinite loop on try catch java Android Studio","body":"<p>I think it's because you put the observe function inside button <code>onclickListener</code> so when every time you click the button the observe function will be call over again.</p>\n<p>You need to put observe outside, just init it 1 time with activity. Then with button onclick call the ViewModel to handle your task and when done post result to observe it in activity again.</p>\n"},{"tags":[],"owner":{"account_id":19156912,"reputation":53,"user_id":13993559,"display_name":"Ash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680628134,"creation_date":1680628134,"answer_id":75932067,"question_id":75820202,"body_markdown":"It appears that your if statement inside the btnUpdate click listener may be the cause of the problem. The isUpdating flag is first set to true in the listener. Try this out.\r\n\r\n```\r\nbtnUpdate.setOnClickListener(view -&gt; {\r\n    if (!isUpdating[0]) {\r\n        isUpdating[0] = true;\r\n\r\n        Users user = new Users(5, &quot;kylo&quot;, &quot;14&quot;, &quot;14&quot;);\r\n        userViewModel.getId(user.getId()).observe(this, users -&gt; {\r\n            if (users.size() == 1) {\r\n                logger.LogError(tag, &quot;Checked if exist&quot;, &quot;true&quot;);\r\n                try {\r\n                    int result = userViewModel.update(user);\r\n                    if (result &gt; 0) {\r\n                        logger.LogError(tag, &quot;Update&quot;, &quot;success&quot;);\r\n                    } else {\r\n                        logger.LogError(tag, &quot;Update&quot;, &quot;failed&quot;);\r\n                    }\r\n                } catch (ExecutionException | InterruptedException | TimeoutException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else {\r\n                logger.LogError(tag, &quot;Checked if exist&quot;, &quot;false&quot;);\r\n            }\r\n            isUpdating[0] = false;\r\n        });\r\n    }\r\n});\r\n```","title":"Infinite loop on try catch java Android Studio","body":"<p>It appears that your if statement inside the btnUpdate click listener may be the cause of the problem. The isUpdating flag is first set to true in the listener. Try this out.</p>\n<pre><code>btnUpdate.setOnClickListener(view -&gt; {\n    if (!isUpdating[0]) {\n        isUpdating[0] = true;\n\n        Users user = new Users(5, &quot;kylo&quot;, &quot;14&quot;, &quot;14&quot;);\n        userViewModel.getId(user.getId()).observe(this, users -&gt; {\n            if (users.size() == 1) {\n                logger.LogError(tag, &quot;Checked if exist&quot;, &quot;true&quot;);\n                try {\n                    int result = userViewModel.update(user);\n                    if (result &gt; 0) {\n                        logger.LogError(tag, &quot;Update&quot;, &quot;success&quot;);\n                    } else {\n                        logger.LogError(tag, &quot;Update&quot;, &quot;failed&quot;);\n                    }\n                } catch (ExecutionException | InterruptedException | TimeoutException e) {\n                    e.printStackTrace();\n                }\n            } else {\n                logger.LogError(tag, &quot;Checked if exist&quot;, &quot;false&quot;);\n            }\n            isUpdating[0] = false;\n        });\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":26944978,"reputation":5,"user_id":20515107,"display_name":"RFlores"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680628134,"creation_date":1679556506,"question_id":75820202,"body_markdown":"I got stuck on infinite loop when all if statement is true \r\n\r\nUserRepo class\r\n\r\n    public int update(Users user) throws ExecutionException, InterruptedException {\r\n            Callable&lt;Integer&gt; updateCallable = new Callable&lt;Integer&gt;() {\r\n                @Override\r\n                public Integer call() throws Exception {\r\n\r\n                    return        sqlite_room_dao.update(user.getId(),user.getUsername(),user.getPassword(),user.getPassword2());\r\n                }\r\n            };\r\n            Future&lt;Integer&gt; future = Executors.newSingleThreadExecutor().submit(updateCallable);\r\n            return future.get();\r\n        }\r\nViewModel class\r\n\r\n\r\n        public int update(Users users) throws ExecutionException, InterruptedException,    TimeoutException {\r\n            logger.LogError(TAG, &quot;Update&quot;, logger.jsonConverter(users));\r\n            return userRepo.update(users);\r\n        }\r\nMainActivity class\r\n\r\n\r\n      final boolean[] isUpdating = {false};\r\n            UserViewModel userViewModel = new ViewModelProvider(this).get(UserViewModel.class);\r\n            btnUpdate.setOnClickListener(view -&gt; {\r\n                if (!isUpdating[0]) {\r\n                    isUpdating[0] = true;\r\n\r\n                    Users user = new Users(5, &quot;kylo&quot;, &quot;14&quot;, &quot;14&quot;);\r\n                    userViewModel.getId(user.getId()).observe(this, users -&gt; {\r\n                        if (users.size() == 1) {\r\n                            logger.LogError(tag, &quot;Checked if exist&quot;, &quot;true&quot;);\r\n                            try {\r\n                                int result = userViewModel.update(user);\r\n                                if (result &gt; 0) {\r\n                                    logger.LogError(tag, &quot;Update&quot;, &quot;success&quot;);\r\n                                } else {\r\n                                    logger.LogError(tag, &quot;Update&quot;, &quot;failed&quot;);\r\n                                }\r\n                            } catch (ExecutionException | InterruptedException | TimeoutException e) {\r\n                                e.printStackTrace();\r\n                            }finally {\r\n                                isUpdating[0] = false;\r\n                            }\r\n                        } else {\r\n                            logger.LogError(tag, &quot;Checked if exist&quot;, &quot;false&quot;);\r\n                            isUpdating[0] = false;\r\n                        }\r\n\r\n                    });\r\n                }\r\n            });\r\n\r\n\r\n\r\nI tried to put a Boolean flag to prevent multiple loop. but it didn&#39;t do anything","title":"Infinite loop on try catch java Android Studio","body":"<p>I got stuck on infinite loop when all if statement is true</p>\n<p>UserRepo class</p>\n<pre><code>public int update(Users user) throws ExecutionException, InterruptedException {\n        Callable&lt;Integer&gt; updateCallable = new Callable&lt;Integer&gt;() {\n            @Override\n            public Integer call() throws Exception {\n\n                return        sqlite_room_dao.update(user.getId(),user.getUsername(),user.getPassword(),user.getPassword2());\n            }\n        };\n        Future&lt;Integer&gt; future = Executors.newSingleThreadExecutor().submit(updateCallable);\n        return future.get();\n    }\n</code></pre>\n<p>ViewModel class</p>\n<pre><code>    public int update(Users users) throws ExecutionException, InterruptedException,    TimeoutException {\n        logger.LogError(TAG, &quot;Update&quot;, logger.jsonConverter(users));\n        return userRepo.update(users);\n    }\n</code></pre>\n<p>MainActivity class</p>\n<pre><code>  final boolean[] isUpdating = {false};\n        UserViewModel userViewModel = new ViewModelProvider(this).get(UserViewModel.class);\n        btnUpdate.setOnClickListener(view -&gt; {\n            if (!isUpdating[0]) {\n                isUpdating[0] = true;\n\n                Users user = new Users(5, &quot;kylo&quot;, &quot;14&quot;, &quot;14&quot;);\n                userViewModel.getId(user.getId()).observe(this, users -&gt; {\n                    if (users.size() == 1) {\n                        logger.LogError(tag, &quot;Checked if exist&quot;, &quot;true&quot;);\n                        try {\n                            int result = userViewModel.update(user);\n                            if (result &gt; 0) {\n                                logger.LogError(tag, &quot;Update&quot;, &quot;success&quot;);\n                            } else {\n                                logger.LogError(tag, &quot;Update&quot;, &quot;failed&quot;);\n                            }\n                        } catch (ExecutionException | InterruptedException | TimeoutException e) {\n                            e.printStackTrace();\n                        }finally {\n                            isUpdating[0] = false;\n                        }\n                    } else {\n                        logger.LogError(tag, &quot;Checked if exist&quot;, &quot;false&quot;);\n                        isUpdating[0] = false;\n                    }\n\n                });\n            }\n        });\n</code></pre>\n<p>I tried to put a Boolean flag to prevent multiple loop. but it didn't do anything</p>\n"},{"tags":["java","mysql","elasticsearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1431487732,"post_id":30199083,"comment_id":48515397,"body_markdown":"There could be several reasons, among which: 1) your hosting provider kills your query if it lasts too long, 2) your DB connection settings use a default timeout that is too short, 3) your query is too heavy... Can you show your query and the DB connection settings you&#39;re using? Have you tried to execute your query directly from the mysql command-line and how long does it take?","body":"There could be several reasons, among which: 1) your hosting provider kills your query if it lasts too long, 2) your DB connection settings use a default timeout that is too short, 3) your query is too heavy... Can you show your query and the DB connection settings you&#39;re using? Have you tried to execute your query directly from the mysql command-line and how long does it take?"},{"owner":{"account_id":3383294,"reputation":985,"user_id":2839875,"accept_rate":71,"display_name":"Srikanth Kandalam"},"score":0,"creation_date":1431543812,"post_id":30199083,"comment_id":48550270,"body_markdown":"@Val I have updated the question. Please check it.","body":"@Val I have updated the question. Please check it."}],"owner":{"account_id":3383294,"reputation":985,"user_id":2839875,"accept_rate":71,"display_name":"Srikanth Kandalam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3893,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680627825,"creation_date":1431456312,"question_id":30199083,"body_markdown":"I understand that there is a question already asked [here][1] about the error `Query execution was interrupted error code 1317`, but I am not sure if my issue and the one discussed in that question are the same. So, here&#39;s some background:\r\n\r\nI am reading from a MySQL database and pushing the data into an Elasticsearch database every minute. So, I already have one connection open and active to pull the data from MySQL. Now when I am opening another connection for inserting data using the Elasticsearch Java API, I am constantly getting the interruption exception below.  There are about 49 free connections and I am providing about 3 GB of RAM for running the Java program which inserts the data.\r\n\r\n     [main] 2015-05-12 14:30:41 com.db.exceptions.DBUncategorizedException: DatabaseSourceImplV2::  selectPrepSQLStmt [DATABASE]  Query execution was interrupted error code 1317 error state 70100\r\n\tat com.db.exceptions.SQLExceptionTranslator.translateFromDBErrorStates(SQLExceptionTranslator.java:154)\r\n\tat com.db.exceptions.SQLExceptionTranslator.createDBException(SQLExceptionTranslator.java:85)\r\n\tat com.db.DatabaseSourceImplV2.selectPrepSQLStmt(DatabaseSourceImplV2.java:927)\r\n\tat com.db.DatabaseSourceImplV2.select(DatabaseSourceImplV2.java:556)\r\n\tat com.db.DatabaseSourceImplV2.select(DatabaseSourceImplV2.java:328)\r\n\tat com.es.dao.ArgusESDAO.getF5HttpRequests(ArgusESDAO.java:363)\r\n\tat com.es.F5HttpRequestToES1.pushToES(F5HttpRequestToES1.java:150)\r\n\tat com.es.F5HttpRequestToES1.main(F5HttpRequestToES1.java:93)\r\n    \r\n    Caused by: java.sql.SQLException: Query execution was interrupted\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:946)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2941)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:868)\r\n\tat com.mysql.jdbc.MysqlIO.nextRow(MysqlIO.java:1351)\r\n\tat com.mysql.jdbc.MysqlIO.readSingleRowSet(MysqlIO.java:2333)\r\n\tat com.mysql.jdbc.MysqlIO.getResultSet(MysqlIO.java:435)\r\n\tat com.mysql.jdbc.MysqlIO.readResultsForQueryOrUpdate(MysqlIO.java:2040)\r\n\tat com.mysql.jdbc.MysqlIO.readAllResults(MysqlIO.java:1443)\r\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1777)\r\n\tat com.mysql.jdbc.Connection.execSQL(Connection.java:3249)\r\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1268)\r\n\tat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1403)\r\n\tat com.db.DatabaseSourceImplV2.selectPrepSQLStmt(DatabaseSourceImplV2.java:922)\r\n\t... 5 more\r\n\r\nIt was suggested to make sure the tables I am querying are indexed. My tables are indexed and I have tested by running very light `SELECT` queries to make sure I have enough time for query execution. So, I am not really sure what is happening here. Any idea if I am missing something basic here?\r\n\r\nUpdating the question in response to Val&#39;s comments:\r\n\r\n 1. My hosting provider doesn&#39;t kill it as it&#39;s running fine for a connection that&#39;s already created. \r\n 2. My DB connection default time out is about 8 hours, so no problem there. It&#39;s my company&#39;s server, so they have huge amounts of data coming in every second and very heavy queries running every second.\r\n3) My query is heavy, but there shouldn&#39;t be a problem as it&#39;s already being handled well by one connection.\r\n\r\nMy query runs for 0.078 seconds when I run it in an SQL command line.\r\n\r\n  [1]: https://stackoverflow.com/questions/17354229/query-execution-was-interrupted-error-1317","title":"Frequent &#39;Query execution was interrupted error code 1317&#39; error for select query through elasticsearch java API","body":"<p>I understand that there is a question already asked <a href=\"https://stackoverflow.com/questions/17354229/query-execution-was-interrupted-error-1317\">here</a> about the error <code>Query execution was interrupted error code 1317</code>, but I am not sure if my issue and the one discussed in that question are the same. So, here's some background:</p>\n<p>I am reading from a MySQL database and pushing the data into an Elasticsearch database every minute. So, I already have one connection open and active to pull the data from MySQL. Now when I am opening another connection for inserting data using the Elasticsearch Java API, I am constantly getting the interruption exception below.  There are about 49 free connections and I am providing about 3 GB of RAM for running the Java program which inserts the data.</p>\n<pre><code> [main] 2015-05-12 14:30:41 com.db.exceptions.DBUncategorizedException: DatabaseSourceImplV2::  selectPrepSQLStmt [DATABASE]  Query execution was interrupted error code 1317 error state 70100\nat com.db.exceptions.SQLExceptionTranslator.translateFromDBErrorStates(SQLExceptionTranslator.java:154)\nat com.db.exceptions.SQLExceptionTranslator.createDBException(SQLExceptionTranslator.java:85)\nat com.db.DatabaseSourceImplV2.selectPrepSQLStmt(DatabaseSourceImplV2.java:927)\nat com.db.DatabaseSourceImplV2.select(DatabaseSourceImplV2.java:556)\nat com.db.DatabaseSourceImplV2.select(DatabaseSourceImplV2.java:328)\nat com.es.dao.ArgusESDAO.getF5HttpRequests(ArgusESDAO.java:363)\nat com.es.F5HttpRequestToES1.pushToES(F5HttpRequestToES1.java:150)\nat com.es.F5HttpRequestToES1.main(F5HttpRequestToES1.java:93)\n\nCaused by: java.sql.SQLException: Query execution was interrupted\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:946)\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2941)\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:868)\nat com.mysql.jdbc.MysqlIO.nextRow(MysqlIO.java:1351)\nat com.mysql.jdbc.MysqlIO.readSingleRowSet(MysqlIO.java:2333)\nat com.mysql.jdbc.MysqlIO.getResultSet(MysqlIO.java:435)\nat com.mysql.jdbc.MysqlIO.readResultsForQueryOrUpdate(MysqlIO.java:2040)\nat com.mysql.jdbc.MysqlIO.readAllResults(MysqlIO.java:1443)\nat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1777)\nat com.mysql.jdbc.Connection.execSQL(Connection.java:3249)\nat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1268)\nat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1403)\nat com.db.DatabaseSourceImplV2.selectPrepSQLStmt(DatabaseSourceImplV2.java:922)\n... 5 more\n</code></pre>\n<p>It was suggested to make sure the tables I am querying are indexed. My tables are indexed and I have tested by running very light <code>SELECT</code> queries to make sure I have enough time for query execution. So, I am not really sure what is happening here. Any idea if I am missing something basic here?</p>\n<p>Updating the question in response to Val's comments:</p>\n<ol>\n<li>My hosting provider doesn't kill it as it's running fine for a connection that's already created.</li>\n<li>My DB connection default time out is about 8 hours, so no problem there. It's my company's server, so they have huge amounts of data coming in every second and very heavy queries running every second.</li>\n</ol>\n<ol start=\"3\">\n<li>My query is heavy, but there shouldn't be a problem as it's already being handled well by one connection.</li>\n</ol>\n<p>My query runs for 0.078 seconds when I run it in an SQL command line.</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":244479,"reputation":1924,"user_id":517319,"accept_rate":71,"display_name":"Raphael Bossek"},"score":6,"creation_date":1299496036,"post_id":5218870,"comment_id":5870539,"body_markdown":"You have to set the `DISPLAY` environment variable to the address of your X11 server, e.g. `DISPLAY=localhost:0.0`, before starting your Java application.","body":"You have to set the <code>DISPLAY</code> environment variable to the address of your X11 server, e.g. <code>DISPLAY=localhost:0.0</code>, before starting your Java application."},{"owner":{"account_id":62000,"reputation":5952,"user_id":184456,"accept_rate":88,"display_name":"monojohnny"},"score":2,"creation_date":1348565461,"post_id":5218870,"comment_id":16950249,"body_markdown":"I have the same issue, and my DISPLAY variable *is* correctly set and exported - I can start up an &#39;xterm&#39; with no issue for instance. Must be something else going on here as well....","body":"I have the same issue, and my DISPLAY variable <i>is</i> correctly set and exported - I can start up an &#39;xterm&#39; with no issue for instance. Must be something else going on here as well...."},{"owner":{"account_id":943622,"reputation":1216,"user_id":971299,"display_name":"RyanfaeScotland"},"score":0,"creation_date":1365691866,"post_id":5218870,"comment_id":22731720,"body_markdown":"Great answer @Raphael B to a terribly vague question. Sorted my issue on the Raspberry Pi which wasn&#39;t setting DISPLAY when startx was called.","body":"Great answer @Raphael B to a terribly vague question. Sorted my issue on the Raspberry Pi which wasn&#39;t setting DISPLAY when startx was called."}],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1299495922,"creation_date":1299495922,"answer_id":5218891,"question_id":5218870,"body_markdown":"I assume you&#39;re trying to tunnel into some unix box.\r\n\r\nMake sure X11 forwarding is enabled in your PuTTY settings.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Qqa0d.png","title":"Getting a HeadlessException: No X11 DISPLAY variable was set","body":"<p>I assume you're trying to tunnel into some unix box.</p>\n\n<p>Make sure X11 forwarding is enabled in your PuTTY settings.</p>\n\n<p><img src=\"https://i.stack.imgur.com/Qqa0d.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1299497354,"post_id":5218893,"comment_id":5870791,"body_markdown":"&quot;GUI Manager&quot; is not the word you&#39;re after. It&#39;s an X11 Server. And barely having it installed is not enough. You&#39;d need it running and you need to have `DISPLAY` set accordingly.","body":"&quot;GUI Manager&quot; is not the word you&#39;re after. It&#39;s an X11 Server. And barely having it installed is not enough. You&#39;d need it running and you need to have <code>DISPLAY</code> set accordingly."}],"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1299495931,"creation_date":1299495931,"answer_id":5218893,"question_id":5218870,"body_markdown":"Your system does not have a GUI manager. Happens mostly in Solaris/Linux boxes. If you are using GUI in them make sure that you have a GUI manager installed and you may also want to google through the **DISPLAY** variable.","title":"Getting a HeadlessException: No X11 DISPLAY variable was set","body":"<p>Your system does not have a GUI manager. Happens mostly in Solaris/Linux boxes. If you are using GUI in them make sure that you have a GUI manager installed and you may also want to google through the <strong>DISPLAY</strong> variable.</p>\n"},{"tags":[],"owner":{"account_id":62000,"reputation":5952,"user_id":184456,"accept_rate":88,"display_name":"monojohnny"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1348565735,"creation_date":1348565735,"answer_id":12580152,"question_id":5218870,"body_markdown":"This appears to be a more general SWING/AWT/JDK problem that just the JBOSS installer:\r\n\r\nThe accepted answer below solved the issue for me :\r\n\r\nhttps://stackoverflow.com/questions/5362512/unable-to-run-java-gui-programs-with-ubuntu\r\n\r\n(&quot;sudo apt-get install openjdk-6-jdk&quot;)\r\n","title":"Getting a HeadlessException: No X11 DISPLAY variable was set","body":"<p>This appears to be a more general SWING/AWT/JDK problem that just the JBOSS installer:</p>\n\n<p>The accepted answer below solved the issue for me :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5362512/unable-to-run-java-gui-programs-with-ubuntu\">Unable to run java gui programs with ubuntu</a></p>\n\n<p>(\"sudo apt-get install openjdk-6-jdk\")</p>\n"},{"tags":[],"owner":{"account_id":2227623,"reputation":9,"user_id":1966005,"display_name":"Utpal"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1357806590,"creation_date":1357806590,"answer_id":14253595,"question_id":5218870,"body_markdown":"**Problem statement** – Getting  java.awt.HeadlessException while trying to initialize java.awt.Component from the application as the tomcat environment does not have any head(terminal). \r\n\r\n**Issue** – The linux virtual environment was setup without a virtual display terminal. Tried to install virtual display – Xvfb, but Xvfb has been taken off by the redhat community.\r\n\r\n**Solution** – Installed ‘xorg-x11-drv-vmware.x86_64’ using yum install xorg-x11-drv-vmware.x86_64 and executed startx. Finally set the display to :0.0 using export DISPLAY=:0.0 and then executed xhost +\r\n","title":"Getting a HeadlessException: No X11 DISPLAY variable was set","body":"<p><strong>Problem statement</strong> – Getting  java.awt.HeadlessException while trying to initialize java.awt.Component from the application as the tomcat environment does not have any head(terminal). </p>\n\n<p><strong>Issue</strong> – The linux virtual environment was setup without a virtual display terminal. Tried to install virtual display – Xvfb, but Xvfb has been taken off by the redhat community.</p>\n\n<p><strong>Solution</strong> – Installed ‘xorg-x11-drv-vmware.x86_64’ using yum install xorg-x11-drv-vmware.x86_64 and executed startx. Finally set the display to :0.0 using export DISPLAY=:0.0 and then executed xhost +</p>\n"},{"tags":[],"owner":{"account_id":52991,"reputation":19634,"user_id":158455,"accept_rate":93,"display_name":"Moon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1427269587,"creation_date":1427269286,"answer_id":29249956,"question_id":5218870,"body_markdown":"I think you are trying to run some utility or shell script from UNIX\\LINUX which has some GUI. Anyways \r\n\r\n\r\n**SOLUTION:** dude all you need is an XServer &amp; X11 forwarding enabled. I use XMing (XServer). You are already enabling X11 forwarding. Just Install it(XMing) and keep it running when you create the session with PuTTY.\r\n\r\n","title":"Getting a HeadlessException: No X11 DISPLAY variable was set","body":"<p>I think you are trying to run some utility or shell script from UNIX\\LINUX which has some GUI. Anyways </p>\n\n<p><strong>SOLUTION:</strong> dude all you need is an XServer &amp; X11 forwarding enabled. I use XMing (XServer). You are already enabling X11 forwarding. Just Install it(XMing) and keep it running when you create the session with PuTTY.</p>\n"},{"tags":[],"owner":{"account_id":5864219,"reputation":1087,"user_id":4720957,"display_name":"user47"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680627608,"creation_date":1680627608,"answer_id":75931990,"question_id":5218870,"body_markdown":"In my case it was not a problem with the display server or a window manager on my Arch Linux. Other GUI apps launched without a hitch from terminal. After a little digging I decided to print out all the system properties (`System.getProperties()`) and realized that the JVM (`java` executable) I was using was not from the JDK downloaded from Oracle&#39;s website but from the one supplied by my system&#39;s package manager. \r\n\r\nApparently, my system had headless version of openjdk installed. The JVM supplied by this openjdk package had no support for display and peripheral devices, hence headless. That&#39;s why I was getting the HeadlessException. \r\n\r\nSome folks suggest to install the regular version of openjdk where JVM runs in non-headless mode unless instructed to do otherwise. Other solution is to always use JVM from the JDK you downloaded from Oracle. I chose the latter.\r\n\r\nI setup an alias in my bash to java keyword.\r\n\r\n    alias java=&quot;/path/to/downloaded/jdk/bin/java &quot;\r\n\r\nI then tested the graphics capabilities of both JVMs with this code:\r\n\r\n``` java\r\nimport java.awt.GraphicsEnvironment;\r\n\r\n// Inside main method:\r\nSystem.out.println(GraphicsEnvironment.isHeadless());\r\n```\r\n\r\nThe above code printed *true* when executed with system&#39;s JVM and printed *false* when executed with downloaded JVM. My actual code using Swing ran fine too.","title":"Getting a HeadlessException: No X11 DISPLAY variable was set","body":"<p>In my case it was not a problem with the display server or a window manager on my Arch Linux. Other GUI apps launched without a hitch from terminal. After a little digging I decided to print out all the system properties (<code>System.getProperties()</code>) and realized that the JVM (<code>java</code> executable) I was using was not from the JDK downloaded from Oracle's website but from the one supplied by my system's package manager.</p>\n<p>Apparently, my system had headless version of openjdk installed. The JVM supplied by this openjdk package had no support for display and peripheral devices, hence headless. That's why I was getting the HeadlessException.</p>\n<p>Some folks suggest to install the regular version of openjdk where JVM runs in non-headless mode unless instructed to do otherwise. Other solution is to always use JVM from the JDK you downloaded from Oracle. I chose the latter.</p>\n<p>I setup an alias in my bash to java keyword.</p>\n<pre><code>alias java=&quot;/path/to/downloaded/jdk/bin/java &quot;\n</code></pre>\n<p>I then tested the graphics capabilities of both JVMs with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.GraphicsEnvironment;\n\n// Inside main method:\nSystem.out.println(GraphicsEnvironment.isHeadless());\n</code></pre>\n<p>The above code printed <em>true</em> when executed with system's JVM and printed <em>false</em> when executed with downloaded JVM. My actual code using Swing ran fine too.</p>\n"}],"owner":{"account_id":719040,"reputation":757,"user_id":643545,"accept_rate":42,"display_name":"Ahsan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192107,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":6,"score":34,"last_activity_date":1680627608,"creation_date":1299495789,"question_id":5218870,"body_markdown":"```txt\r\nException in thread &quot;main&quot; java.awt.HeadlessException:\r\n    No X11 DISPLAY variable was set, but this program performed an operation which requires it.\r\n        at java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:159)\r\n        at java.awt.Window.&lt;init&gt;(Window.java:432)\r\n        at java.awt.Frame.&lt;init&gt;(Frame.java:403)\r\n        at javax.swing.JFrame.&lt;init&gt;(JFrame.java:202)\r\n        at DrawGUI.&lt;init&gt;(DrawGUI.java:15)\r\n        at ShapeCreator.&lt;init&gt;(ShapeCreator.java:31)\r\n        at ShapeCreator.main(ShapeCreator.java:138)\r\n```\r\n\r\nWhat does this error message mean? And how can I solve it?","title":"Getting a HeadlessException: No X11 DISPLAY variable was set","body":"<pre><code>Exception in thread \"main\" java.awt.HeadlessException:\n    No X11 DISPLAY variable was set, but this program performed an operation which requires it.\n        at java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:159)\n        at java.awt.Window.&lt;init&gt;(Window.java:432)\n        at java.awt.Frame.&lt;init&gt;(Frame.java:403)\n        at javax.swing.JFrame.&lt;init&gt;(JFrame.java:202)\n        at DrawGUI.&lt;init&gt;(DrawGUI.java:15)\n        at ShapeCreator.&lt;init&gt;(ShapeCreator.java:31)\n        at ShapeCreator.main(ShapeCreator.java:138)\n</code></pre>\n\n<p>What does this error message mean? And how can I solve it?</p>\n"},{"tags":["java","selenium-webdriver","shadow-root"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1680626647,"post_id":75931152,"comment_id":133928663,"body_markdown":"Screenshots of the UI are great, screenshots of code or HTML are not. Please read why [a screenshot of code/HTML is a bad idea](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors). Paste the code/HTML as text and properly format it instead.","body":"Screenshots of the UI are great, screenshots of code or HTML are not. Please read why <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">a screenshot of code/HTML is a bad idea</a>. Paste the code/HTML as text and properly format it instead."}],"answers":[{"comments":[{"owner":{"account_id":6556845,"reputation":23,"user_id":5069289,"accept_rate":40,"display_name":"MyungHee"},"score":0,"creation_date":1680628379,"post_id":75931965,"comment_id":133929171,"body_markdown":"with the code you provided, i get       `org.openqa.selenium.NoSuchShadowRootException: no such shadow root`","body":"with the code you provided, i get       <code>org.openqa.selenium.NoSuchShadowRootException: no such shadow root</code>"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1680630445,"post_id":75931965,"comment_id":133929698,"body_markdown":"I&#39;m just using the locators you provided. If you want updated locators, edit your question and post the relevant HTML as text, properly formatted.","body":"I&#39;m just using the locators you provided. If you want updated locators, edit your question and post the relevant HTML as text, properly formatted."}],"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680627332,"creation_date":1680627332,"answer_id":75931965,"question_id":75931152,"body_markdown":"With Selenium 4.0+, there is a `.getShadowRoot()` method that takes care of this for you. You no longer need your own `getShadowRoot()` method and your code changes to the below.\r\n\r\n    public void uploadFileWithIncorrectBirthYear() throws TestingException {\r\n        String url = System.getProperty(&quot;user.dir&quot;)+&quot;\\\\src\\\\test\\\\resources\\\\files\\\\customer-upload-old-birth-year.xls&quot;;\r\n        SearchContext shadowRoot = driver.findElement(By.cssSelector(&quot;#cphContent_cifCustomerFile_fakeFileInput&quot;)).getShadowRoot();\r\n        WebElement shadowElement = shadowRoot.findElement(By.cssSelector(&quot;#file-upload-button&quot;));\r\n        shadowElement.sendKeys(url);\r\n    }\r\n\r\nNotice that the `.getShadowRoot()` method returns a `SearchContext` not a `WebElement`.","title":"java.lang.NullPointerException error when trying to locate a shadow element with Selenium","body":"<p>With Selenium 4.0+, there is a <code>.getShadowRoot()</code> method that takes care of this for you. You no longer need your own <code>getShadowRoot()</code> method and your code changes to the below.</p>\n<pre><code>public void uploadFileWithIncorrectBirthYear() throws TestingException {\n    String url = System.getProperty(&quot;user.dir&quot;)+&quot;\\\\src\\\\test\\\\resources\\\\files\\\\customer-upload-old-birth-year.xls&quot;;\n    SearchContext shadowRoot = driver.findElement(By.cssSelector(&quot;#cphContent_cifCustomerFile_fakeFileInput&quot;)).getShadowRoot();\n    WebElement shadowElement = shadowRoot.findElement(By.cssSelector(&quot;#file-upload-button&quot;));\n    shadowElement.sendKeys(url);\n}\n</code></pre>\n<p>Notice that the <code>.getShadowRoot()</code> method returns a <code>SearchContext</code> not a <code>WebElement</code>.</p>\n"}],"owner":{"account_id":6556845,"reputation":23,"user_id":5069289,"accept_rate":40,"display_name":"MyungHee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75931965,"answer_count":1,"score":-1,"last_activity_date":1680627332,"creation_date":1680621920,"question_id":75931152,"body_markdown":"I&#39;m trying to locate a field to upload a file, but the element is inside a shadow-root\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI tried the following code but I get `java.lang.NullPointerException` on `shadowRoot.findElement`:\r\n\r\n    private static WebElement getShadowRoot(WebDriver driver, WebElement shadowHost) {\r\n        JavascriptExecutor js = (JavascriptExecutor) driver;\r\n        return (WebElement) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\r\n    }\r\n        \r\n    public void uploadFileWithIncorrectBirthYear() throws TestingException {\r\n        String url = System.getProperty(&quot;user.dir&quot;)+&quot;\\\\src\\\\test\\\\resources\\\\files\\\\customer-upload-old-birth-year.xls&quot;;\r\n        WebElement shadowHost = driver.findElement(By.cssSelector(&quot;#cphContent_cifCustomerFile_fakeFileInput&quot;));\r\n        SearchContext shadowRoot = getShadowRoot(driver,shadowHost);\r\n        WebElement shadowElement = shadowRoot.findElement(By.cssSelector(&quot;#file-upload-button&quot;));\r\n        shadowElement.sendKeys(url);\r\n    }\r\n    \r\n     \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aq4Xr.png","title":"java.lang.NullPointerException error when trying to locate a shadow element with Selenium","body":"<p>I'm trying to locate a field to upload a file, but the element is inside a shadow-root</p>\n<p><a href=\"https://i.stack.imgur.com/aq4Xr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aq4Xr.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried the following code but I get <code>java.lang.NullPointerException</code> on <code>shadowRoot.findElement</code>:</p>\n<pre><code>private static WebElement getShadowRoot(WebDriver driver, WebElement shadowHost) {\n    JavascriptExecutor js = (JavascriptExecutor) driver;\n    return (WebElement) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\n}\n    \npublic void uploadFileWithIncorrectBirthYear() throws TestingException {\n    String url = System.getProperty(&quot;user.dir&quot;)+&quot;\\\\src\\\\test\\\\resources\\\\files\\\\customer-upload-old-birth-year.xls&quot;;\n    WebElement shadowHost = driver.findElement(By.cssSelector(&quot;#cphContent_cifCustomerFile_fakeFileInput&quot;));\n    SearchContext shadowRoot = getShadowRoot(driver,shadowHost);\n    WebElement shadowElement = shadowRoot.findElement(By.cssSelector(&quot;#file-upload-button&quot;));\n    shadowElement.sendKeys(url);\n}\n\n \n</code></pre>\n"},{"tags":["java","regex","regex-lookarounds"],"comments":[{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":1,"creation_date":1680623957,"post_id":75931423,"comment_id":133927985,"body_markdown":"Why not just split by comma?","body":"Why not just split by comma?"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1680624316,"post_id":75931423,"comment_id":133928077,"body_markdown":"Or perhaps `(?&lt;=&quot;),(?=&quot;)`","body":"Or perhaps <code>(?&lt;=&quot;),(?=&quot;)</code>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1680624655,"post_id":75931423,"comment_id":133928146,"body_markdown":"I think @markalex &#39;s solution would be the cleanest for a regex solution using `#split`, but it won&#39;t automatically feed you the groups (and you&#39;ll need to remove the leading `&quot;` from `split[0]` and the trialing `&quot;` from `split[split.length - 1]`).","body":"I think @markalex &#39;s solution would be the cleanest for a regex solution using <code>#split</code>, but it won&#39;t automatically feed you the groups (and you&#39;ll need to remove the leading <code>&quot;</code> from <code>split[0]</code> and the trialing <code>&quot;</code> from <code>split[split.length - 1]</code>)."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1680624929,"post_id":75931423,"comment_id":133928218,"body_markdown":"@Rogue, qoutes will stay in place for all elements of split. `(?&lt;=...)` and `(?=...)` are non-capturing, so split wouldn&#39;t touch any of the quotes.","body":"@Rogue, qoutes will stay in place for all elements of split. <code>(?&lt;=...)</code> and <code>(?=...)</code> are non-capturing, so split wouldn&#39;t touch any of the quotes."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1680625064,"post_id":75931423,"comment_id":133928243,"body_markdown":"@markalex man I&#39;m off my game today. You&#39;re correct, they would all have the surrounding quotes.","body":"@markalex man I&#39;m off my game today. You&#39;re correct, they would all have the surrounding quotes."}],"answers":[{"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1680624442,"post_id":75931507,"comment_id":133928100,"body_markdown":"This would incorrectly match an escaped quote in the double quotes (so `&quot;Hello\\&quot;World&quot;` would fail).","body":"This would incorrectly match an escaped quote in the double quotes (so <code>&quot;Hello\\&quot;World&quot;</code> would fail)."},{"owner":{"account_id":27701808,"reputation":2943,"user_id":21146235,"display_name":"motto"},"score":0,"creation_date":1680624721,"post_id":75931507,"comment_id":133928164,"body_markdown":"@Rogue The question illustrates that the particular CSV format is using doubled-up quotes to insert double-quotes. e.g. `hello &quot;world&quot;` would be encoded as `&quot;hello &quot;&quot;world&quot;&quot;&quot;`. This is actually the method recommended in [RFC 4180](https://www.rfc-editor.org/rfc/rfc4180) (nominally the standards document for CSV)","body":"@Rogue The question illustrates that the particular CSV format is using doubled-up quotes to insert double-quotes. e.g. <code>hello &quot;world&quot;</code> would be encoded as <code>&quot;hello &quot;&quot;world&quot;&quot;&quot;</code>. This is actually the method recommended in <a href=\"https://www.rfc-editor.org/rfc/rfc4180\" rel=\"nofollow noreferrer\">RFC 4180</a> (nominally the standards document for CSV)"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1680624812,"post_id":75931507,"comment_id":133928184,"body_markdown":"Good catch, I indeed missed that. In testing the double-quotes, however, it does match the two pieces of the string as separate groups (so `&quot;Hello&quot;&quot;World&quot;` becomes the captures `Hello` and `World`, instead of `Hello&quot;&quot;World`). A correction that worked for me could be `&quot;((?:[^&quot;]|&quot;&quot;)*)&quot;`, which then would require that post-processing step you mentioned.","body":"Good catch, I indeed missed that. In testing the double-quotes, however, it does match the two pieces of the string as separate groups (so <code>&quot;Hello&quot;&quot;World&quot;</code> becomes the captures <code>Hello</code> and <code>World</code>, instead of <code>Hello&quot;&quot;World</code>). A correction that worked for me could be <code>&quot;((?:[^&quot;]|&quot;&quot;)*)&quot;</code>, which then would require that post-processing step you mentioned."},{"owner":{"account_id":27701808,"reputation":2943,"user_id":21146235,"display_name":"motto"},"score":0,"creation_date":1680625570,"post_id":75931507,"comment_id":133928376,"body_markdown":"@Rogue There will still need to be a postprocessing stage to get rid of the doubled-up quotes, but, yes it becomes a little bit cleaner if we add an outer capture group. Sample code added. fwiw the previous version of the regex did have an error: needs to be `&quot;&quot;|[^&quot;]*` rather than `[^&quot;]*|&quot;&quot;`.","body":"@Rogue There will still need to be a postprocessing stage to get rid of the doubled-up quotes, but, yes it becomes a little bit cleaner if we add an outer capture group. Sample code added. fwiw the previous version of the regex did have an error: needs to be <code>&quot;&quot;|[^&quot;]*</code> rather than <code>[^&quot;]*|&quot;&quot;</code>."}],"tags":[],"owner":{"account_id":27701808,"reputation":2943,"user_id":21146235,"display_name":"motto"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680625498,"creation_date":1680624233,"answer_id":75931507,"question_id":75931423,"body_markdown":"Based on what you&#39;ve said, all the fields are double-quoted. Seems like you should match the quoted strings rather than focusing on the commas (there might be commas appearing in the middle of a field).\r\n\r\nAbsolute easiest would be to find all `&quot;(&quot;&quot;|[^&quot;]*)*&quot;`, and then clean up the double quotes in a postprocessing step.\r\n\r\nLooks pretty awful with the escapes in place!\r\n```java\r\n   String input = &quot;\\&quot;AAA\\&quot;,\\&quot;BBB\\&quot;,\\&quot;CCC\\&quot;,\\&quot;DDD\\&quot;,\\&quot;EE\\&quot;\\&quot;E\\&quot;,\\&quot;FFF\\&quot;,\\&quot;GGGGG\\&quot;,\\&quot;HHHHHHHHHHHHHHHH\\&quot;&quot;;\r\n\r\n   List&lt;String&gt; cleanMatches = new ArrayList&lt;String&gt;();\r\n   Matcher m = Pattern.compile(&quot;\\&quot;((\\&quot;\\&quot;|[^\\&quot;]*)*)\\&quot;&quot;).matcher(input);\r\n\r\n   while (m.find()) {\r\n     // Replace the doubled double-quotes with single double-quotes.\r\n     // group(1) does not include the enclosing quotes.\r\n\r\n     cleanMatches.add(m.group(1).replace(&quot;\\&quot;\\&quot;&quot;, &quot;\\&quot;&quot;));\r\n   }\r\n```\r\n\r\nOutputs:\r\n```text\r\nAAA\r\nBBB\r\nCCC\r\nDDD\r\nEE&quot;E\r\nFFF\r\nGGGGG\r\nHHHHHHHHHHHHHHHH\r\n```","title":"Use regex lookarounds (Java version) to extract columns from csv using non capture groups","body":"<p>Based on what you've said, all the fields are double-quoted. Seems like you should match the quoted strings rather than focusing on the commas (there might be commas appearing in the middle of a field).</p>\n<p>Absolute easiest would be to find all <code>&quot;(&quot;&quot;|[^&quot;]*)*&quot;</code>, and then clean up the double quotes in a postprocessing step.</p>\n<p>Looks pretty awful with the escapes in place!</p>\n<pre class=\"lang-java prettyprint-override\"><code>   String input = &quot;\\&quot;AAA\\&quot;,\\&quot;BBB\\&quot;,\\&quot;CCC\\&quot;,\\&quot;DDD\\&quot;,\\&quot;EE\\&quot;\\&quot;E\\&quot;,\\&quot;FFF\\&quot;,\\&quot;GGGGG\\&quot;,\\&quot;HHHHHHHHHHHHHHHH\\&quot;&quot;;\n\n   List&lt;String&gt; cleanMatches = new ArrayList&lt;String&gt;();\n   Matcher m = Pattern.compile(&quot;\\&quot;((\\&quot;\\&quot;|[^\\&quot;]*)*)\\&quot;&quot;).matcher(input);\n\n   while (m.find()) {\n     // Replace the doubled double-quotes with single double-quotes.\n     // group(1) does not include the enclosing quotes.\n\n     cleanMatches.add(m.group(1).replace(&quot;\\&quot;\\&quot;&quot;, &quot;\\&quot;&quot;));\n   }\n</code></pre>\n<p>Outputs:</p>\n<pre><code>AAA\nBBB\nCCC\nDDD\nEE&quot;E\nFFF\nGGGGG\nHHHHHHHHHHHHHHHH\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680626765,"creation_date":1680626765,"answer_id":75931882,"question_id":75931423,"body_markdown":"Here is solution using split:\r\n```java\r\nString input = &quot;\\&quot;AAA\\&quot;,\\&quot;BBB\\&quot;,\\&quot;CCC\\&quot;,\\&quot;DDD\\&quot;,\\&quot;EE\\&quot;\\&quot;E\\&quot;,\\&quot;FFF\\&quot;,\\&quot;GGGGG\\&quot;,\\&quot;HHHHHHHHHHHHHHHH\\&quot;&quot;;\r\n\r\nString[] columns = input.split(&quot;(?&lt;=\\&quot;),(?=\\&quot;)&quot;);\r\nfor(String column : columns){\r\n    System.out.println(column);\r\n}\r\nSystem.out.println(&quot;------&quot;);\r\nfor(String column : columns){\r\n    System.out.println(column.replaceAll(&quot;(?&lt;!\\&quot;)\\&quot;&quot;, &quot;&quot;));\r\n}\r\n```\r\nExpected output:\r\n```none\r\n&quot;AAA&quot;\r\n&quot;BBB&quot;\r\n&quot;CCC&quot;\r\n&quot;DDD&quot;\r\n&quot;EE&quot;&quot;E&quot;\r\n&quot;FFF&quot;\r\n&quot;GGGGG&quot;\r\n&quot;HHHHHHHHHHHHHHHH&quot;\r\n------\r\nAAA\r\nBBB\r\nCCC\r\nDDD\r\nEE&quot;E\r\nFFF\r\nGGGGG\r\nHHHHHHHHHHHHHHHH\r\n```\r\n\r\nHere `(?&lt;=\\&quot;),(?=\\&quot;)` looks for commas surrounded by quotes, and splits by them.\r\n\r\nAlso you can see how to strip both outer quotes and quotes escapement.\r\n\r\n`(?&lt;!\\&quot;)\\&quot;` means any quotes, that is not preceded by another quote.","title":"Use regex lookarounds (Java version) to extract columns from csv using non capture groups","body":"<p>Here is solution using split:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;\\&quot;AAA\\&quot;,\\&quot;BBB\\&quot;,\\&quot;CCC\\&quot;,\\&quot;DDD\\&quot;,\\&quot;EE\\&quot;\\&quot;E\\&quot;,\\&quot;FFF\\&quot;,\\&quot;GGGGG\\&quot;,\\&quot;HHHHHHHHHHHHHHHH\\&quot;&quot;;\n\nString[] columns = input.split(&quot;(?&lt;=\\&quot;),(?=\\&quot;)&quot;);\nfor(String column : columns){\n    System.out.println(column);\n}\nSystem.out.println(&quot;------&quot;);\nfor(String column : columns){\n    System.out.println(column.replaceAll(&quot;(?&lt;!\\&quot;)\\&quot;&quot;, &quot;&quot;));\n}\n</code></pre>\n<p>Expected output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;AAA&quot;\n&quot;BBB&quot;\n&quot;CCC&quot;\n&quot;DDD&quot;\n&quot;EE&quot;&quot;E&quot;\n&quot;FFF&quot;\n&quot;GGGGG&quot;\n&quot;HHHHHHHHHHHHHHHH&quot;\n------\nAAA\nBBB\nCCC\nDDD\nEE&quot;E\nFFF\nGGGGG\nHHHHHHHHHHHHHHHH\n</code></pre>\n<p>Here <code>(?&lt;=\\&quot;),(?=\\&quot;)</code> looks for commas surrounded by quotes, and splits by them.</p>\n<p>Also you can see how to strip both outer quotes and quotes escapement.</p>\n<p><code>(?&lt;!\\&quot;)\\&quot;</code> means any quotes, that is not preceded by another quote.</p>\n"}],"owner":{"account_id":2019508,"reputation":453,"user_id":1806028,"accept_rate":46,"display_name":"Dan Pickard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680626765,"creation_date":1680623680,"question_id":75931423,"body_markdown":"Trying to solve a simple problem, but struggling to understand how to pattern match properly.\r\n\r\nI&#39;ve tried ```(?&lt;=,).*?(?=,)```\r\n\r\nAnd my test string is: ```&quot;AAA&quot;,&quot;BBB&quot;,&quot;CCC&quot;,&quot;DDD&quot;,&quot;EE&quot;&quot;E&quot;,&quot;FFF&quot;,&quot;GGGGG&quot;,&quot;HHHHHHHHHHHHHHHH&quot;```\r\n\r\nI have a non standard quoted csv file, where there can be double quotes within the double quotes of each column.\r\n\r\nSo I need to use regex to extract each column using non-capture groups and look-arounds, as I can&#39;t use capture/match groups\r\n\r\nSo I need a bunch of different expressions, to capture ONLY the following results:\r\n\r\n&quot;AAA&quot;\r\n\r\n&quot;BBB&quot;\r\n\r\n&quot;CCC&quot;\r\n\r\n&quot;DDD&quot;\r\n\r\n&quot;EE&quot;&quot;E&quot;\r\n\r\n&quot;FFF&quot;\r\n\r\netc.\r\n\r\nThe csv might contain 50 or so columns and the above is just a representative example","title":"Use regex lookarounds (Java version) to extract columns from csv using non capture groups","body":"<p>Trying to solve a simple problem, but struggling to understand how to pattern match properly.</p>\n<p>I've tried <code>(?&lt;=,).*?(?=,)</code></p>\n<p>And my test string is: <code>&quot;AAA&quot;,&quot;BBB&quot;,&quot;CCC&quot;,&quot;DDD&quot;,&quot;EE&quot;&quot;E&quot;,&quot;FFF&quot;,&quot;GGGGG&quot;,&quot;HHHHHHHHHHHHHHHH&quot;</code></p>\n<p>I have a non standard quoted csv file, where there can be double quotes within the double quotes of each column.</p>\n<p>So I need to use regex to extract each column using non-capture groups and look-arounds, as I can't use capture/match groups</p>\n<p>So I need a bunch of different expressions, to capture ONLY the following results:</p>\n<p>&quot;AAA&quot;</p>\n<p>&quot;BBB&quot;</p>\n<p>&quot;CCC&quot;</p>\n<p>&quot;DDD&quot;</p>\n<p>&quot;EE&quot;&quot;E&quot;</p>\n<p>&quot;FFF&quot;</p>\n<p>etc.</p>\n<p>The csv might contain 50 or so columns and the above is just a representative example</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1680626623,"post_id":75931834,"comment_id":133928654,"body_markdown":"Where does the ID &quot;iframePrincipal01&quot; come from? Your posted HTML has &quot;iframe01&quot; and &quot;iframe02&quot;. Have you tried `EC.frame_to_be_available_and_switch_to_it()`?","body":"Where does the ID &quot;iframePrincipal01&quot; come from? Your posted HTML has &quot;iframe01&quot; and &quot;iframe02&quot;. Have you tried <code>EC.frame_to_be_available_and_switch_to_it()</code>?"},{"owner":{"account_id":13750454,"reputation":3,"user_id":9953218,"display_name":"Eduardo Moritz"},"score":0,"creation_date":1680627202,"post_id":75931834,"comment_id":133928817,"body_markdown":"Sorry, I wrote the example incorrectly. But I have already tried it.\n`wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(element))`\n\nI edited the mistake in the question.","body":"Sorry, I wrote the example incorrectly. But I have already tried it. <code>wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToI&zwnj;&#8203;t(element))</code>  I edited the mistake in the question."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1680627428,"post_id":75931834,"comment_id":133928895,"body_markdown":"Are you sure the two IFRAMEs are nested? `iframe02` is inside of `iframe01`? We can&#39;t help verify any of this without a link to the page.","body":"Are you sure the two IFRAMEs are nested? <code>iframe02</code> is inside of <code>iframe01</code>? We can&#39;t help verify any of this without a link to the page."},{"owner":{"account_id":13750454,"reputation":3,"user_id":9953218,"display_name":"Eduardo Moritz"},"score":0,"creation_date":1680627990,"post_id":75931834,"comment_id":133929050,"body_markdown":"&quot;iframe1&quot; has the &quot;src&quot; pointing to &quot;page2&quot;. On &quot;page2&quot;, I want to get the ID of the frame which would be &quot;iframe2&quot;. The HTML is the same as in the example.","body":"&quot;iframe1&quot; has the &quot;src&quot; pointing to &quot;page2&quot;. On &quot;page2&quot;, I want to get the ID of the frame which would be &quot;iframe2&quot;. The HTML is the same as in the example."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1680628127,"post_id":75931834,"comment_id":133929093,"body_markdown":"Does adding a wait or pausing the script help? Just wondering if the page inside the frame is loading slowly.","body":"Does adding a wait or pausing the script help? Just wondering if the page inside the frame is loading slowly."},{"owner":{"account_id":13750454,"reputation":3,"user_id":9953218,"display_name":"Eduardo Moritz"},"score":0,"creation_date":1680634757,"post_id":75931834,"comment_id":133930716,"body_markdown":"I&#39;ve tried several methods, none of which were effective. Every time it goes through the switchTo command, it returns the HTML with the initial structure and nothing in the body.\n\nI&#39;ve tried using WebDriveWait with durations of 10, 30, and 50 seconds.\nI also tried using ExpectedConditions.presenceOfElementLocated().\nI also tried to see if it&#39;s some configuration issue with Firefox, but I haven&#39;t figured it out yet.","body":"I&#39;ve tried several methods, none of which were effective. Every time it goes through the switchTo command, it returns the HTML with the initial structure and nothing in the body.  I&#39;ve tried using WebDriveWait with durations of 10, 30, and 50 seconds. I also tried using ExpectedConditions.presenceOfElementLocated(). I also tried to see if it&#39;s some configuration issue with Firefox, but I haven&#39;t figured it out yet."}],"owner":{"account_id":13750454,"reputation":3,"user_id":9953218,"display_name":"Eduardo Moritz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680626644,"creation_date":1680626408,"question_id":75931834,"body_markdown":"I have a Java application that uses Selenium, and I am trying to access an iframe with &quot;switchTo&quot;, but the return comes with the HTML body blank.\r\n\r\npage1.html:\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;&lt;head&gt;\r\n    &lt;doby&gt;\r\n    &lt;iframe id=&quot;iframe01&quot; src=&quot;page2.html&quot;&gt;&lt;/iframe&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\npage2.html:\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;&lt;head&gt;\r\n    &lt;doby&gt;\r\n    &lt;iframe id=&quot;iframe02&quot; src=&quot;page3.html&quot;&gt;&lt;/iframe&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nMy code:\r\n\r\n    String test0 = drive.getPageSource(); // This part goes through correctly.\r\n    WebElement element = drive.findElement(By.id(&quot;iframe1&quot;)); // Here is also okay.\r\n    drive.switchTo().frame(element);\r\n    String test1 = drive.getPageSource(); // Here it shows HTML without the body.\r\n    WebElement element = drive.findElement(By.id(&quot;iframe2&quot;)); // Here not found\r\n    \r\nIn the &quot;test1&quot; variable, the return is:\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;&lt;head&gt;\r\n    &lt;doby&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI have already tried using WebDriverWait and also tried using JavascriptExecutor, but I have not found any alternative regarding &quot;switchTo&quot;.\r\n\r\nThe only way I found to solve this problem is by getting the &quot;src&quot; of &quot;page1.html&quot; and performing a new opening with &quot;driver.get(&quot;&lt;src-page2&gt;&quot;)&quot;.","title":"When accessing an iframe with Selenium&#39;s &quot;switchTo&quot;, &quot;getPageSource&quot; generates blank HTML","body":"<p>I have a Java application that uses Selenium, and I am trying to access an iframe with &quot;switchTo&quot;, but the return comes with the HTML body blank.</p>\n<p>page1.html:</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;head&gt;\n&lt;doby&gt;\n&lt;iframe id=&quot;iframe01&quot; src=&quot;page2.html&quot;&gt;&lt;/iframe&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>page2.html:</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;head&gt;\n&lt;doby&gt;\n&lt;iframe id=&quot;iframe02&quot; src=&quot;page3.html&quot;&gt;&lt;/iframe&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>My code:</p>\n<pre><code>String test0 = drive.getPageSource(); // This part goes through correctly.\nWebElement element = drive.findElement(By.id(&quot;iframe1&quot;)); // Here is also okay.\ndrive.switchTo().frame(element);\nString test1 = drive.getPageSource(); // Here it shows HTML without the body.\nWebElement element = drive.findElement(By.id(&quot;iframe2&quot;)); // Here not found\n</code></pre>\n<p>In the &quot;test1&quot; variable, the return is:</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;head&gt;\n&lt;doby&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I have already tried using WebDriverWait and also tried using JavascriptExecutor, but I have not found any alternative regarding &quot;switchTo&quot;.</p>\n<p>The only way I found to solve this problem is by getting the &quot;src&quot; of &quot;page1.html&quot; and performing a new opening with &quot;driver.get(&quot;&quot;)&quot;.</p>\n"},{"tags":["java","ibatis"],"owner":{"account_id":28201624,"reputation":1,"user_id":21555315,"display_name":"vulcan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680626497,"creation_date":1680574087,"question_id":75924988,"body_markdown":"```xml\r\n&lt;dynamic-mapped-statement name=&quot;someName&quot; result-map=&quot;result-SomethingModel&quot;&gt;\r\n    UPDATE tablename\r\n    SET columnname= &#39;W&#39;\r\n    WHERE  \r\n\r\n    &lt;dynamic&gt;\r\n        &lt;isNotNull  property=&quot;payer&quot;&gt;\r\n            PAYER_CODE  = #payer#\r\n        &lt;/isNotNull&gt;\r\n\r\n        &lt;isNotNull prepend=&quot;AND&quot; property=&quot;cutOffDate&quot;&gt;\r\n            CUTOFF_DATE  = #cutOffDate#\r\n        &lt;/isNotNull&gt;\r\n\r\n        &lt;isNotNull prepend=&quot;AND&quot; property=&quot;visitNoList&quot;&gt;\r\n            patient_account_no in\r\n\r\n            &lt;foreach item=&quot;item&quot; index=&quot;index&quot; collection=&quot;visitNoList&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;\r\n                #{item}\r\n            &lt;/foreach&gt;\r\n        &lt;/isNotNull&gt;\r\n    &lt;/dynamic&gt;\r\n&lt;/dynamic-mapped-statement&gt;\r\n```\r\n\r\nI am trying to update a column for the visit no&#39;s which are available in `visitNoList`. `visitNoList` is a property in the model and the model has been passed to the query. When I tried to login to the application after adding in `foreach` loop , I am getting null pointer exception , but once I remove `foreach` loop it works fine. my question is xml file is initialized in the beginning and at this point of time the list is supposed to be null , so why do I get the exception. I tried adding a null check to the `visitNoList` property as well.","title":"I am having trouble logging into the application as soon as i add foreach loop inside mybatis xml sql query,Once I remove the for each it works","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;dynamic-mapped-statement name=&quot;someName&quot; result-map=&quot;result-SomethingModel&quot;&gt;\n    UPDATE tablename\n    SET columnname= 'W'\n    WHERE  \n\n    &lt;dynamic&gt;\n        &lt;isNotNull  property=&quot;payer&quot;&gt;\n            PAYER_CODE  = #payer#\n        &lt;/isNotNull&gt;\n\n        &lt;isNotNull prepend=&quot;AND&quot; property=&quot;cutOffDate&quot;&gt;\n            CUTOFF_DATE  = #cutOffDate#\n        &lt;/isNotNull&gt;\n\n        &lt;isNotNull prepend=&quot;AND&quot; property=&quot;visitNoList&quot;&gt;\n            patient_account_no in\n\n            &lt;foreach item=&quot;item&quot; index=&quot;index&quot; collection=&quot;visitNoList&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;\n                #{item}\n            &lt;/foreach&gt;\n        &lt;/isNotNull&gt;\n    &lt;/dynamic&gt;\n&lt;/dynamic-mapped-statement&gt;\n</code></pre>\n<p>I am trying to update a column for the visit no's which are available in <code>visitNoList</code>. <code>visitNoList</code> is a property in the model and the model has been passed to the query. When I tried to login to the application after adding in <code>foreach</code> loop , I am getting null pointer exception , but once I remove <code>foreach</code> loop it works fine. my question is xml file is initialized in the beginning and at this point of time the list is supposed to be null , so why do I get the exception. I tried adding a null check to the <code>visitNoList</code> property as well.</p>\n"},{"tags":["java","android","android-studio","kotlin","gradle"],"answers":[{"comments":[{"owner":{"account_id":8355977,"reputation":1757,"user_id":6276241,"accept_rate":100,"display_name":"josepdecid"},"score":1,"creation_date":1645488163,"post_id":71195097,"comment_id":125879968,"body_markdown":"Thanks! That worked for me, I had the same issue.","body":"Thanks! That worked for me, I had the same issue."}],"tags":[],"owner":{"account_id":2690160,"reputation":179,"user_id":8950725,"display_name":"Bhola Bhala"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1645365973,"creation_date":1645365300,"answer_id":71195097,"question_id":71188687,"body_markdown":"I found out, this happens on one of the projects that uses gwt:\r\n\r\n    apply plugin: &quot;gwt&quot;\r\n\r\nTo be able to use gwt i had to update\r\nclasspath &quot;org.wisepersist:gwt-gradle-plugin:1.0.13&quot;\r\nto\r\nclasspath &quot;org.wisepersist:gwt-gradle-plugin:1.1.16&quot;","title":"Failed to apply plugin class &#39;org.gradle.plugins.ide.idea.IdeaPlugin&#39;. Cannot run Project.afterEvaluate(Action) when the project is already evaluated","body":"<p>I found out, this happens on one of the projects that uses gwt:</p>\n<pre><code>apply plugin: &quot;gwt&quot;\n</code></pre>\n<p>To be able to use gwt i had to update\nclasspath &quot;org.wisepersist:gwt-gradle-plugin:1.0.13&quot;\nto\nclasspath &quot;org.wisepersist:gwt-gradle-plugin:1.1.16&quot;</p>\n"}],"owner":{"account_id":2690160,"reputation":179,"user_id":8950725,"display_name":"Bhola Bhala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71195097,"answer_count":1,"score":1,"last_activity_date":1680626416,"creation_date":1645300712,"question_id":71188687,"body_markdown":"Receiving the error on `build.gradle`:\r\n\r\n```none\r\n&gt; Failed to apply plugin class &#39;org.gradle.plugins.ide.idea.IdeaPlugin&#39;.\r\n&gt; Cannot run Project.afterEvaluate(Action) when the project is already\r\n&gt; evaluated.\r\n```\r\n\r\nwhen I try again on a `build.gradle`\r\n\r\nIt&#39;s a multi-project, I don&#39;t directly use the idea plugin.\r\nDon&#39;t know where it&#39;s being used.\r\n\r\nI have previously updated to AndroidStudio 2021.1.1 Patch1 and Gradle 7.0.2\r\nalso deleted `.idea` and `.gradle` directories and restarted cleaning the cache.\r\n\r\nI can run Gradle at terminal.\r\n\r\nCan you tell me where to look for this error?\r\n\r\nAndroid Studio log:\r\n\r\n```none\r\n2022-02-19 16:46:54,209 [ 646836]   INFO - e.project.sync.GradleSyncState - Started single-variant (TRIGGER_USER_TRY_AGAIN) sync with Gradle for project &#39;Morholt&#39;. \r\n2022-02-19 16:46:54,256 [ 646883]   INFO - s.plugins.gradle.GradleManager - Instructing gradle to use java from C:/Program Files/Java/jdk-11.0.13 \r\n2022-02-19 16:46:54,256 [ 646883]   INFO - s.plugins.gradle.GradleManager - Instructing gradle to use java from C:/Program Files/Java/jdk-11.0.13 \r\n2022-02-19 16:46:54,256 [ 646883]   INFO - oject.common.GradleInitScripts - init script file sync.studio.tooling contents &quot;initscript {\\n    dependencies {\\n        classpath files([&#39;C:\\\\\\\\app\\\\\\\\Android Studio22\\\\\\\\plugins\\\\\\\\android\\\\\\\\lib\\\\\\\\android.jar&#39;, &#39;C:\\\\\\\\app\\\\\\\\Android Studio22\\\\\\\\plugins\\\\\\\\android\\\\\\\\lib\\\\\\\\android.jar&#39;, &#39;C:\\\\\\\\app\\\\\\\\Android Studio22\\\\\\\\lib\\\\\\\\kotlin-stdlib-1.4.32.jar&#39;])\\n    }\\n}\\nallprojects {\\n    apply plugin: com.android.ide.gradle.model.builder.AndroidStudioToolingPlugin\\n}\\n&quot; \r\n2022-02-19 16:46:54,287 [ 646914]   INFO - xecution.GradleExecutionHelper - Passing command-line args to Gradle Tooling API: --init-script C:\\Users\\peass\\AppData\\Local\\Temp\\ijmapper.gradle -Didea.sync.active=true -Porg.gradle.kotlin.dsl.provider.cid=102964837794900 --init-script C:\\Users\\peass\\AppData\\Local\\Temp\\sync.studio.tooling2.gradle -Djava.awt.headless=true --stacktrace -Pandroid.injected.build.model.only=true -Pandroid.injected.build.model.only.advanced=true -Pandroid.injected.invoked.from.ide=true -Pandroid.injected.build.model.only.versioned=3 -Pandroid.injected.studio.version=2021.1.1 Patch 1 -Pandroid.injected.build.model.disable.src.download=true -Pidea.gradle.do.not.build.tasks=true -Dorg.gradle.internal.GradleProjectBuilderOptions=omit_all_tasks --init-script C:\\Users\\peass\\AppData\\Local\\Temp\\ijinit.gradle \r\n2022-02-19 16:46:57,776 [ 650403]   INFO - .project.GradleProjectResolver - Gradle project resolve error \r\norg.gradle.tooling.BuildActionFailureException: The supplied phased action failed with an exception.\r\n\tat org.gradle.tooling.internal.consumer.connection.PhasedActionAwareConsumerConnection.run(PhasedActionAwareConsumerConnection.java:58)\r\n\tat org.gradle.tooling.internal.consumer.connection.ParameterValidatingConsumerConnection.run(ParameterValidatingConsumerConnection.java:62)\r\n\tat org.gradle.tooling.internal.consumer.DefaultPhasedBuildActionExecuter$1.run(DefaultPhasedBuildActionExecuter.java:78)\r\n\tat org.gradle.tooling.internal.consumer.DefaultPhasedBuildActionExecuter$1.run(DefaultPhasedBuildActionExecuter.java:70)\r\n\tat org.gradle.tooling.internal.consumer.connection.LazyConsumerActionExecutor.run(LazyConsumerActionExecutor.java:144)\r\n\tat org.gradle.tooling.internal.consumer.connection.CancellableConsumerActionExecutor.run(CancellableConsumerActionExecutor.java:45)\r\n\tat org.gradle.tooling.internal.consumer.connection.ProgressLoggingConsumerActionExecutor.run(ProgressLoggingConsumerActionExecutor.java:61)\r\n\tat org.gradle.tooling.internal.consumer.connection.RethrowingErrorsConsumerActionExecutor.run(RethrowingErrorsConsumerActionExecutor.java:38)\r\n\tat org.gradle.tooling.internal.consumer.async.DefaultAsyncConsumerActionExecutor$1$1.run(DefaultAsyncConsumerActionExecutor.java:67)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: com.intellij.openapi.externalSystem.model.ExternalSystemException: Failed to apply plugin class &#39;org.gradle.plugins.ide.idea.IdeaPlugin&#39;.\r\nCannot run Project.afterEvaluate(Action) when the project is already evaluated.\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.addBuildModels(ProjectImportAction.java:346)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:127)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n\tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionRunningListener.runAction(AbstractClientProvidedBuildActionRunner.java:134)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionRunningListener.buildFinished(AbstractClientProvidedBuildActionRunner.java:119)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor38.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat ...\r\n\tat org.jetbrains.plugins.gradle.GradleConnectorService.withGradleConnection(GradleConnectorService.kt)\r\n\tat org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.execute(GradleExecutionHelper.java:115)\r\n\tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:145)\r\n\tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:67)\r\n\tat com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.lambda$resolveProjectInfo$0(RemoteExternalSystemProjectResolverImpl.java:37)\r\n\tat com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:43)\r\n\tat com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.resolveProjectInfo(RemoteExternalSystemProjectResolverImpl.java:36)\r\n\tat com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemProjectResolverWrapper.resolveProjectInfo(ExternalSystemProjectResolverWrapper.java:48)\r\n\tat com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:115)\r\n\tat com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:151)\r\n\tat com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:135)\r\n\tat com.intellij.openapi.externalSystem.util.ExternalSystemUtil$2.executeImpl(ExternalSystemUtil.java:569)\r\n\tat com.intellij.openapi.externalSystem.util.ExternalSystemUtil$2.lambda$execute$1(ExternalSystemUtil.java:397)\r\n\tat com.intellij.openapi.project.DumbServiceHeavyActivities.suspendIndexingAndRun(DumbServiceHeavyActivities.java:21)\r\n\tat com.intellij.openapi.project.DumbServiceImpl.suspendIndexingAndRun(DumbServiceImpl.java:189)\r\n\tat com.intellij.openapi.externalSystem.util.ExternalSystemUtil$2.execute(ExternalSystemUtil.java:397)\r\n\tat com.intellij.openapi.externalSystem.util.ExternalSystemUtil$4.run(ExternalSystemUtil.java:674)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:998)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressAsync$5(CoreProgressManager.java:497)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:228)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:178)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:688)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:634)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:64)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:165)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:228)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:668)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:665)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:665)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: com.intellij.openapi.externalSystem.model.ExternalSystemException: Failed to apply plugin class &#39;org.gradle.plugins.ide.idea.IdeaPlugin&#39;.\r\nCannot run Project.afterEvaluate(Action) when the project is already evaluated.\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.addBuildModels(ProjectImportAction.java:346)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:127)\r\n\tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n\tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionRunningListener.runAction(AbstractClientProvidedBuildActionRunner.java:134)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionRunningListener.buildFinished(AbstractClientProvidedBuildActionRunner.java:119)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor38.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.event.DefaultListenerManager$ListenerDetails.dispatch(DefaultListenerManager.java:398)\r\n\tat org.gradle.internal.event.DefaultListenerManager$ListenerDetails.dispatch(DefaultListenerManager.java:380)\r\n\tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:61)\r\n\tat org.gradle.internal.event.DefaultListenerManager$EventBroadcast$ListenerDispatch.dispatch(DefaultListenerManager.java:368)\r\n\tat org.gradle.internal.event.DefaultListenerManager$EventBroadcast$ListenerDispatch.dispatch(DefaultListenerManager.java:355)\r\n\tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:43)\r\n\tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:245)\r\n\tat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:157)\r\n\tat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:61)\r\n\tat org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:346)\r\n\tat org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:249)\r\n\tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:141)\r\n\tat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy19.buildFinished(Unknown Source)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.finishBuild(DefaultGradleLauncher.java:196)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.finishBuild(DefaultGradleLauncher.java:132)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:72)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\r\n\tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\r\n\tat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:53)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:47)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:66)\r\n\tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:90)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:59)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:58)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:34)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:28)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\r\n\tat \r\n...\r\n\r\nManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\r\n2022-02-19 16:46:57,792 [ 650419]   INFO - s.plugins.gradle.GradleManager - Instructing gradle to use java from C:/Program Files/Java/jdk-11.0.13 \r\n2022-02-19 16:46:57,792 [ 650419]   INFO - System.util.ExternalSystemUtil - External project [C:/GitHub/AndroidStudio/Morholt] resolution task executed in 3599 ms. \r\n2022-02-19 16:46:58,117 [ 650744]   INFO - ge.ExternalProjectsDataStorage - Save external projects data in 0 ms \r\n```","title":"Failed to apply plugin class &#39;org.gradle.plugins.ide.idea.IdeaPlugin&#39;. Cannot run Project.afterEvaluate(Action) when the project is already evaluated","body":"<p>Receiving the error on <code>build.gradle</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Failed to apply plugin class 'org.gradle.plugins.ide.idea.IdeaPlugin'.\n&gt; Cannot run Project.afterEvaluate(Action) when the project is already\n&gt; evaluated.\n</code></pre>\n<p>when I try again on a <code>build.gradle</code></p>\n<p>It's a multi-project, I don't directly use the idea plugin.\nDon't know where it's being used.</p>\n<p>I have previously updated to AndroidStudio 2021.1.1 Patch1 and Gradle 7.0.2\nalso deleted <code>.idea</code> and <code>.gradle</code> directories and restarted cleaning the cache.</p>\n<p>I can run Gradle at terminal.</p>\n<p>Can you tell me where to look for this error?</p>\n<p>Android Studio log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-02-19 16:46:54,209 [ 646836]   INFO - e.project.sync.GradleSyncState - Started single-variant (TRIGGER_USER_TRY_AGAIN) sync with Gradle for project 'Morholt'. \n2022-02-19 16:46:54,256 [ 646883]   INFO - s.plugins.gradle.GradleManager - Instructing gradle to use java from C:/Program Files/Java/jdk-11.0.13 \n2022-02-19 16:46:54,256 [ 646883]   INFO - s.plugins.gradle.GradleManager - Instructing gradle to use java from C:/Program Files/Java/jdk-11.0.13 \n2022-02-19 16:46:54,256 [ 646883]   INFO - oject.common.GradleInitScripts - init script file sync.studio.tooling contents &quot;initscript {\\n    dependencies {\\n        classpath files(['C:\\\\\\\\app\\\\\\\\Android Studio22\\\\\\\\plugins\\\\\\\\android\\\\\\\\lib\\\\\\\\android.jar', 'C:\\\\\\\\app\\\\\\\\Android Studio22\\\\\\\\plugins\\\\\\\\android\\\\\\\\lib\\\\\\\\android.jar', 'C:\\\\\\\\app\\\\\\\\Android Studio22\\\\\\\\lib\\\\\\\\kotlin-stdlib-1.4.32.jar'])\\n    }\\n}\\nallprojects {\\n    apply plugin: com.android.ide.gradle.model.builder.AndroidStudioToolingPlugin\\n}\\n&quot; \n2022-02-19 16:46:54,287 [ 646914]   INFO - xecution.GradleExecutionHelper - Passing command-line args to Gradle Tooling API: --init-script C:\\Users\\peass\\AppData\\Local\\Temp\\ijmapper.gradle -Didea.sync.active=true -Porg.gradle.kotlin.dsl.provider.cid=102964837794900 --init-script C:\\Users\\peass\\AppData\\Local\\Temp\\sync.studio.tooling2.gradle -Djava.awt.headless=true --stacktrace -Pandroid.injected.build.model.only=true -Pandroid.injected.build.model.only.advanced=true -Pandroid.injected.invoked.from.ide=true -Pandroid.injected.build.model.only.versioned=3 -Pandroid.injected.studio.version=2021.1.1 Patch 1 -Pandroid.injected.build.model.disable.src.download=true -Pidea.gradle.do.not.build.tasks=true -Dorg.gradle.internal.GradleProjectBuilderOptions=omit_all_tasks --init-script C:\\Users\\peass\\AppData\\Local\\Temp\\ijinit.gradle \n2022-02-19 16:46:57,776 [ 650403]   INFO - .project.GradleProjectResolver - Gradle project resolve error \norg.gradle.tooling.BuildActionFailureException: The supplied phased action failed with an exception.\n    at org.gradle.tooling.internal.consumer.connection.PhasedActionAwareConsumerConnection.run(PhasedActionAwareConsumerConnection.java:58)\n    at org.gradle.tooling.internal.consumer.connection.ParameterValidatingConsumerConnection.run(ParameterValidatingConsumerConnection.java:62)\n    at org.gradle.tooling.internal.consumer.DefaultPhasedBuildActionExecuter$1.run(DefaultPhasedBuildActionExecuter.java:78)\n    at org.gradle.tooling.internal.consumer.DefaultPhasedBuildActionExecuter$1.run(DefaultPhasedBuildActionExecuter.java:70)\n    at org.gradle.tooling.internal.consumer.connection.LazyConsumerActionExecutor.run(LazyConsumerActionExecutor.java:144)\n    at org.gradle.tooling.internal.consumer.connection.CancellableConsumerActionExecutor.run(CancellableConsumerActionExecutor.java:45)\n    at org.gradle.tooling.internal.consumer.connection.ProgressLoggingConsumerActionExecutor.run(ProgressLoggingConsumerActionExecutor.java:61)\n    at org.gradle.tooling.internal.consumer.connection.RethrowingErrorsConsumerActionExecutor.run(RethrowingErrorsConsumerActionExecutor.java:38)\n    at org.gradle.tooling.internal.consumer.async.DefaultAsyncConsumerActionExecutor$1$1.run(DefaultAsyncConsumerActionExecutor.java:67)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: com.intellij.openapi.externalSystem.model.ExternalSystemException: Failed to apply plugin class 'org.gradle.plugins.ide.idea.IdeaPlugin'.\nCannot run Project.afterEvaluate(Action) when the project is already evaluated.\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.addBuildModels(ProjectImportAction.java:346)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:127)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionRunningListener.runAction(AbstractClientProvidedBuildActionRunner.java:134)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionRunningListener.buildFinished(AbstractClientProvidedBuildActionRunner.java:119)\n    at jdk.internal.reflect.GeneratedMethodAccessor38.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at ...\n    at org.jetbrains.plugins.gradle.GradleConnectorService.withGradleConnection(GradleConnectorService.kt)\n    at org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.execute(GradleExecutionHelper.java:115)\n    at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:145)\n    at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:67)\n    at com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.lambda$resolveProjectInfo$0(RemoteExternalSystemProjectResolverImpl.java:37)\n    at com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:43)\n    at com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.resolveProjectInfo(RemoteExternalSystemProjectResolverImpl.java:36)\n    at com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemProjectResolverWrapper.resolveProjectInfo(ExternalSystemProjectResolverWrapper.java:48)\n    at com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:115)\n    at com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:151)\n    at com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:135)\n    at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$2.executeImpl(ExternalSystemUtil.java:569)\n    at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$2.lambda$execute$1(ExternalSystemUtil.java:397)\n    at com.intellij.openapi.project.DumbServiceHeavyActivities.suspendIndexingAndRun(DumbServiceHeavyActivities.java:21)\n    at com.intellij.openapi.project.DumbServiceImpl.suspendIndexingAndRun(DumbServiceImpl.java:189)\n    at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$2.execute(ExternalSystemUtil.java:397)\n    at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$4.run(ExternalSystemUtil.java:674)\n    at com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:998)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressAsync$5(CoreProgressManager.java:497)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:228)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:178)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:688)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:634)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:64)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:165)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:228)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:668)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:665)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:665)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: com.intellij.openapi.externalSystem.model.ExternalSystemException: Failed to apply plugin class 'org.gradle.plugins.ide.idea.IdeaPlugin'.\nCannot run Project.afterEvaluate(Action) when the project is already evaluated.\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.addBuildModels(ProjectImportAction.java:346)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:127)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionRunningListener.runAction(AbstractClientProvidedBuildActionRunner.java:134)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionRunningListener.buildFinished(AbstractClientProvidedBuildActionRunner.java:119)\n    at jdk.internal.reflect.GeneratedMethodAccessor38.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.event.DefaultListenerManager$ListenerDetails.dispatch(DefaultListenerManager.java:398)\n    at org.gradle.internal.event.DefaultListenerManager$ListenerDetails.dispatch(DefaultListenerManager.java:380)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:61)\n    at org.gradle.internal.event.DefaultListenerManager$EventBroadcast$ListenerDispatch.dispatch(DefaultListenerManager.java:368)\n    at org.gradle.internal.event.DefaultListenerManager$EventBroadcast$ListenerDispatch.dispatch(DefaultListenerManager.java:355)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:43)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:245)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:157)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:61)\n    at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:346)\n    at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:249)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:141)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy19.buildFinished(Unknown Source)\n    at org.gradle.initialization.DefaultGradleLauncher.finishBuild(DefaultGradleLauncher.java:196)\n    at org.gradle.initialization.DefaultGradleLauncher.finishBuild(DefaultGradleLauncher.java:132)\n    at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:72)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:53)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:47)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:66)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:90)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:59)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:58)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\n    at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:34)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\n    at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:28)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\n    at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\n    at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\n    at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\n    at \n...\n\nManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n\n2022-02-19 16:46:57,792 [ 650419]   INFO - s.plugins.gradle.GradleManager - Instructing gradle to use java from C:/Program Files/Java/jdk-11.0.13 \n2022-02-19 16:46:57,792 [ 650419]   INFO - System.util.ExternalSystemUtil - External project [C:/GitHub/AndroidStudio/Morholt] resolution task executed in 3599 ms. \n2022-02-19 16:46:58,117 [ 650744]   INFO - ge.ExternalProjectsDataStorage - Save external projects data in 0 ms \n</code></pre>\n"},{"tags":["java","spring-boot","jdbc"],"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680626309,"creation_date":1680624630,"question_id":75931577,"body_markdown":"```\r\n@ControllerAdvice\r\npublic class RestExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @ExceptionHandler(DataIntegrityViolationException.class)\r\n    protected ResponseEntity&lt;ApiErrorDTO&gt; handleDataIntegrityViolation(DataIntegrityViolationException ex) {\r\n        logger.error(&quot;handle DataIntegrityViolationException:&quot;, ex);\r\n        String message = ... // ???\r\n        return new ApiErrorDTO(message);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHow to determine correctly which type of error was the cause of this exception?\r\n\r\nI need to at least distinguish the violation of database integrity constraints from the insertion of duplicates\r\n\r\nI&#39;am [found](https://stackoverflow.com/a/2110836/10663941) information about `SQLExceptionTranslator`, but I don&#39;t understand how I can use it?\r\nI need help with this","title":"recognition DataIntegrityViolationException","body":"<pre><code>@ControllerAdvice\npublic class RestExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(DataIntegrityViolationException.class)\n    protected ResponseEntity&lt;ApiErrorDTO&gt; handleDataIntegrityViolation(DataIntegrityViolationException ex) {\n        logger.error(&quot;handle DataIntegrityViolationException:&quot;, ex);\n        String message = ... // ???\n        return new ApiErrorDTO(message);\n    }\n\n}\n</code></pre>\n<p>How to determine correctly which type of error was the cause of this exception?</p>\n<p>I need to at least distinguish the violation of database integrity constraints from the insertion of duplicates</p>\n<p>I'am <a href=\"https://stackoverflow.com/a/2110836/10663941\">found</a> information about <code>SQLExceptionTranslator</code>, but I don't understand how I can use it?\nI need help with this</p>\n"},{"tags":["java","saml","saml-2.0","opensaml"],"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680625755,"creation_date":1680625755,"question_id":75931744,"body_markdown":"As part of migrating from opensaml version 2.2.1 to 3.4.6, \r\n\r\n&gt; what is the equivalent of `DefaultBootstrap.bootstrap()` in opensaml version 3.x?","title":"equivalent of DefaultBootstrap.bootstrap() in opensaml v3.x","body":"<p>As part of migrating from opensaml version 2.2.1 to 3.4.6,</p>\n<blockquote>\n<p>what is the equivalent of <code>DefaultBootstrap.bootstrap()</code> in opensaml version 3.x?</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1680614793,"post_id":75929885,"comment_id":133925354,"body_markdown":"Why do you not set the new balance using getWalletBalance instead of getInitialBalance?","body":"Why do you not set the new balance using getWalletBalance instead of getInitialBalance?"}],"answers":[{"comments":[{"owner":{"account_id":27928720,"reputation":35,"user_id":21327269,"display_name":"koderkodo"},"score":0,"creation_date":1680617442,"post_id":75930010,"comment_id":133926128,"body_markdown":"`Operator &#39;==&#39; cannot be applied to &#39;double&#39;, &#39;null&#39;`","body":"<code>Operator &#39;==&#39; cannot be applied to &#39;double&#39;, &#39;null&#39;</code>"},{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1680617509,"post_id":75930010,"comment_id":133926142,"body_markdown":"you have to change double to Double  **private Double walletBalance;** in your **Wallet** class","body":"you have to change double to Double  <b>private Double walletBalance;</b> in your <b>Wallet</b> class"},{"owner":{"account_id":27928720,"reputation":35,"user_id":21327269,"display_name":"koderkodo"},"score":0,"creation_date":1680619190,"post_id":75930010,"comment_id":133926620,"body_markdown":"See updated question for stack trace","body":"See updated question for stack trace"},{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1680620480,"post_id":75930010,"comment_id":133926980,"body_markdown":"your database must have this wallet_balance column nullable because","body":"your database must have this wallet_balance column nullable because"},{"owner":{"account_id":27928720,"reputation":35,"user_id":21327269,"display_name":"koderkodo"},"score":0,"creation_date":1680624047,"post_id":75930010,"comment_id":133928005,"body_markdown":"Yeah, thats it! Thank you.","body":"Yeah, thats it! Thank you."}],"tags":[],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680615620,"creation_date":1680615240,"answer_id":75930010,"question_id":75929885,"body_markdown":"You can try add condition if not null\r\n\r\nneed to change walletBalance to **Double** wrapper instead of double\r\n\r\nthan add check if it&#39;s first balance **wallet.getWalletBalance() == null** than you take the getInitialBalance if it&#39;s not you take the value of the curent balance\r\n\r\n**saveExpense**\r\n\r\n    amount = (wallet.getWalletBalance() == null ? wallet.getInitialBalance(): wallet.getWalletBalance()) - amount;\r\n\r\n**saveIncome**\r\n\r\n    amount += wallet.getWalletBalance() == null ? wallet.getInitialBalance(): wallet.getWalletBalance();\r\n\r\n\r\n**Code**\r\n\r\n    @Override\r\n    public void saveExpense(Transaction transaction, Long walletId, Long userId) {\r\n        Wallet wallet = walletService.getWalletById(walletId);\r\n    \r\n        double amount = transaction.getAmount();\r\n        amount = (wallet.getWalletBalance() == null ? wallet.getInitialBalance(): wallet.getWalletBalance()) - amount;\r\n        wallet.setWalletBalance(amount);\r\n        System.out.println(&quot;Wallet balance after expense &quot; + wallet.getWalletBalance());\r\n    \r\n        transaction.setTransactionType(TransactionType.EXPENSE);\r\n    \r\n        this.transactionRepository.save(transaction);\r\n    }\r\n    \r\n    @Override\r\n    public void saveIncome(Transaction transaction, Long walletId, Long userId) {\r\n        Wallet wallet = walletService.getWalletById(walletId);\r\n    \r\n        double amount = transaction.getAmount();\r\n        amount += wallet.getWalletBalance() == null ? wallet.getInitialBalance(): wallet.getWalletBalance();\r\n        wallet.setWalletBalance(amount);\r\n        System.out.println(&quot;Wallet balance after income &quot; + wallet.getWalletBalance());\r\n    \r\n        transaction.setTransactionType(TransactionType.INCOME);\r\n    \r\n        this.transactionRepository.save(transaction);\r\n    }","title":"Calculation based from one field saving into another field and consuming it","body":"<p>You can try add condition if not null</p>\n<p>need to change walletBalance to <strong>Double</strong> wrapper instead of double</p>\n<p>than add check if it's first balance <strong>wallet.getWalletBalance() == null</strong> than you take the getInitialBalance if it's not you take the value of the curent balance</p>\n<p><strong>saveExpense</strong></p>\n<pre><code>amount = (wallet.getWalletBalance() == null ? wallet.getInitialBalance(): wallet.getWalletBalance()) - amount;\n</code></pre>\n<p><strong>saveIncome</strong></p>\n<pre><code>amount += wallet.getWalletBalance() == null ? wallet.getInitialBalance(): wallet.getWalletBalance();\n</code></pre>\n<p><strong>Code</strong></p>\n<pre><code>@Override\npublic void saveExpense(Transaction transaction, Long walletId, Long userId) {\n    Wallet wallet = walletService.getWalletById(walletId);\n\n    double amount = transaction.getAmount();\n    amount = (wallet.getWalletBalance() == null ? wallet.getInitialBalance(): wallet.getWalletBalance()) - amount;\n    wallet.setWalletBalance(amount);\n    System.out.println(&quot;Wallet balance after expense &quot; + wallet.getWalletBalance());\n\n    transaction.setTransactionType(TransactionType.EXPENSE);\n\n    this.transactionRepository.save(transaction);\n}\n\n@Override\npublic void saveIncome(Transaction transaction, Long walletId, Long userId) {\n    Wallet wallet = walletService.getWalletById(walletId);\n\n    double amount = transaction.getAmount();\n    amount += wallet.getWalletBalance() == null ? wallet.getInitialBalance(): wallet.getWalletBalance();\n    wallet.setWalletBalance(amount);\n    System.out.println(&quot;Wallet balance after income &quot; + wallet.getWalletBalance());\n\n    transaction.setTransactionType(TransactionType.INCOME);\n\n    this.transactionRepository.save(transaction);\n}\n</code></pre>\n"}],"owner":{"account_id":27928720,"reputation":35,"user_id":21327269,"display_name":"koderkodo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75930010,"answer_count":1,"score":1,"last_activity_date":1680624484,"creation_date":1680614495,"question_id":75929885,"body_markdown":"I have a field `initialBalance` and `walletBalance`, field `initialBalance` is inserted when a user creates `Wallet`, I added the field `walletBalance` and that field is supposed to hold a value that is calculated from `initialBalance` and the value that is got from another two methods, income or expense.\r\n\r\nSo it&#39;s supposed to look like this:\r\n\r\nThe user creates a wallet, with `initialBalance` of `300`.\r\n\r\nThen also user creates an income of `30`, and `walletBalance` should be `330`.\r\n\r\nThen also user creates an expense of `10` and `walletBalance` now should be `320`.\r\n\r\nI tried like this:\r\n\r\n    @Override\r\n    public void saveExpense(Transaction transaction, Long walletId, Long userId) {\r\n        Wallet wallet = walletService.getWalletById(walletId);\r\n\r\n        double amount = transaction.getAmount();\r\n        wallet.setWalletBalance(wallet.getInitialBalance() - amount);\r\n        System.out.println(&quot;Wallet balance after expense &quot; + wallet.getWalletBalance());\r\n\r\n        transaction.setTransactionType(TransactionType.EXPENSE);\r\n\r\n        this.transactionRepository.save(transaction);\r\n    }\r\n\r\n    @Override\r\n    public void saveIncome(Transaction transaction, Long walletId, Long userId) {\r\n        Wallet wallet = walletService.getWalletById(walletId);\r\n\r\n        double amount = transaction.getAmount();\r\n        wallet.setWalletBalance(wallet.getInitialBalance() + amount);\r\n        System.out.println(&quot;Wallet balance after income &quot; + wallet.getWalletBalance());\r\n\r\n        transaction.setTransactionType(TransactionType.INCOME);\r\n\r\n        this.transactionRepository.save(transaction);\r\n    }\r\n\r\nBut that is not good, because this is how it goes so far:\r\n\r\nIf I create wallet with initialBalance of `300`, and add `income` of 330, `walletBalance` will be `330` and that seems fine, but If I add another income of `20` for example, new `walletBalance` will be `320` instead of `350` because I will always add `income` amount on `300` or `initialBalance` because of this line here: `wallet.setWalletBalance(wallet.getInitialBalance() + amount);`, because I&#39;m sitting `walletBalance` with `initialBalance` that is always `300` or first amount that user insert.\r\n\r\nSo my question is how to achieve this so output actually looks like this:\r\n\r\nUser set `initialBalance` on `300`.\r\n\r\nUser creates `income` of `30`\r\n\r\nNow `walletBalance` is `330`.\r\n\r\nUser creates another income of `20`, and now `walletBalance` is `350`.\r\n\r\nUser creates now expense of `40` and now `walletBalance` is supposed to be `310`.\r\n\r\nSo I know actually what is the problem, I&#39;m always sitting `walletBalance` to `initialBalance` and then do calculations, but, how to solve this?\r\n\r\nThis is `wallet entity:`\r\n\r\n    public class Wallet {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;wallet_id&quot;)\r\n    private Long id;\r\n\r\n    @NotBlank(message = &quot;Please, insert a wallet name&quot;)\r\n    private String walletName;\r\n\r\n    @NotNull(message = &quot;Please, insert a amount&quot;)\r\n    private Double initialBalance;\r\n\r\n    private double walletBalance;\r\n\r\n    @Transient\r\n    private double totalBalance;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false, referencedColumnName = &quot;user_id&quot;, insertable = false, updatable = false)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JsonIgnore\r\n    private User user;\r\n\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private Long userId;\r\n\r\n    @OneToMany(mappedBy = &quot;wallet&quot;, cascade = {\r\n            CascadeType.ALL})\r\n    private Set&lt;Transaction&gt; transactions;\r\n\r\n`StackTrace`\r\n\r\n        There was an unexpected error (type=Internal Server Error, status=500).\r\n    could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n    \tat jdk.proxy3/jdk.proxy3.$Proxy136.save(Unknown Source)\r\n    \tat com.budgettracker.demo.userProfile.service.impl.WalletServiceImpl.saveWallet(WalletServiceImpl.java:46)\r\n    \tat com.budgettracker.demo.userProfile.controller.WalletController.saveWallet(WalletController.java:62)\r\n    \tat com.budgettracker.demo.userProfile.controller.WalletController$$FastClassBySpringCGLIB$$bacccf54.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)\r\n    \tat org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)\r\n    \tat com.budgettracker.demo.userProfile.controller.WalletController$$EnhancerBySpringCGLIB$$36e69ddf.saveWallet(&lt;generated&gt;)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat com.budgettracker.demo.security.token.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:51)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n    \tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)\r\n    \tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)\r\n    \tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\r\n    \tat jdk.proxy3/jdk.proxy3.$Proxy125.persist(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n    \tat jdk.proxy3/jdk.proxy3.$Proxy125.persist(Unknown Source)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n    \t... 115 more\r\n    Caused by: java.sql.SQLIntegrityConstraintViolationException: Column &#39;wallet_balance&#39; cannot be null\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n    \t... 168 more","title":"Calculation based from one field saving into another field and consuming it","body":"<p>I have a field <code>initialBalance</code> and <code>walletBalance</code>, field <code>initialBalance</code> is inserted when a user creates <code>Wallet</code>, I added the field <code>walletBalance</code> and that field is supposed to hold a value that is calculated from <code>initialBalance</code> and the value that is got from another two methods, income or expense.</p>\n<p>So it's supposed to look like this:</p>\n<p>The user creates a wallet, with <code>initialBalance</code> of <code>300</code>.</p>\n<p>Then also user creates an income of <code>30</code>, and <code>walletBalance</code> should be <code>330</code>.</p>\n<p>Then also user creates an expense of <code>10</code> and <code>walletBalance</code> now should be <code>320</code>.</p>\n<p>I tried like this:</p>\n<pre><code>@Override\npublic void saveExpense(Transaction transaction, Long walletId, Long userId) {\n    Wallet wallet = walletService.getWalletById(walletId);\n\n    double amount = transaction.getAmount();\n    wallet.setWalletBalance(wallet.getInitialBalance() - amount);\n    System.out.println(&quot;Wallet balance after expense &quot; + wallet.getWalletBalance());\n\n    transaction.setTransactionType(TransactionType.EXPENSE);\n\n    this.transactionRepository.save(transaction);\n}\n\n@Override\npublic void saveIncome(Transaction transaction, Long walletId, Long userId) {\n    Wallet wallet = walletService.getWalletById(walletId);\n\n    double amount = transaction.getAmount();\n    wallet.setWalletBalance(wallet.getInitialBalance() + amount);\n    System.out.println(&quot;Wallet balance after income &quot; + wallet.getWalletBalance());\n\n    transaction.setTransactionType(TransactionType.INCOME);\n\n    this.transactionRepository.save(transaction);\n}\n</code></pre>\n<p>But that is not good, because this is how it goes so far:</p>\n<p>If I create wallet with initialBalance of <code>300</code>, and add <code>income</code> of 330, <code>walletBalance</code> will be <code>330</code> and that seems fine, but If I add another income of <code>20</code> for example, new <code>walletBalance</code> will be <code>320</code> instead of <code>350</code> because I will always add <code>income</code> amount on <code>300</code> or <code>initialBalance</code> because of this line here: <code>wallet.setWalletBalance(wallet.getInitialBalance() + amount);</code>, because I'm sitting <code>walletBalance</code> with <code>initialBalance</code> that is always <code>300</code> or first amount that user insert.</p>\n<p>So my question is how to achieve this so output actually looks like this:</p>\n<p>User set <code>initialBalance</code> on <code>300</code>.</p>\n<p>User creates <code>income</code> of <code>30</code></p>\n<p>Now <code>walletBalance</code> is <code>330</code>.</p>\n<p>User creates another income of <code>20</code>, and now <code>walletBalance</code> is <code>350</code>.</p>\n<p>User creates now expense of <code>40</code> and now <code>walletBalance</code> is supposed to be <code>310</code>.</p>\n<p>So I know actually what is the problem, I'm always sitting <code>walletBalance</code> to <code>initialBalance</code> and then do calculations, but, how to solve this?</p>\n<p>This is <code>wallet entity:</code></p>\n<pre><code>public class Wallet {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;wallet_id&quot;)\nprivate Long id;\n\n@NotBlank(message = &quot;Please, insert a wallet name&quot;)\nprivate String walletName;\n\n@NotNull(message = &quot;Please, insert a amount&quot;)\nprivate Double initialBalance;\n\nprivate double walletBalance;\n\n@Transient\nprivate double totalBalance;\n\n@ManyToOne(fetch = FetchType.LAZY, optional = false)\n@JoinColumn(name = &quot;user_id&quot;, nullable = false, referencedColumnName = &quot;user_id&quot;, insertable = false, updatable = false)\n@OnDelete(action = OnDeleteAction.CASCADE)\n@JsonIgnore\nprivate User user;\n\n@Column(name = &quot;user_id&quot;, nullable = false)\nprivate Long userId;\n\n@OneToMany(mappedBy = &quot;wallet&quot;, cascade = {\n        CascadeType.ALL})\nprivate Set&lt;Transaction&gt; transactions;\n</code></pre>\n<p><code>StackTrace</code></p>\n<pre><code>    There was an unexpected error (type=Internal Server Error, status=500).\ncould not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\norg.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy3/jdk.proxy3.$Proxy136.save(Unknown Source)\n    at com.budgettracker.demo.userProfile.service.impl.WalletServiceImpl.saveWallet(WalletServiceImpl.java:46)\n    at com.budgettracker.demo.userProfile.controller.WalletController.saveWallet(WalletController.java:62)\n    at com.budgettracker.demo.userProfile.controller.WalletController$$FastClassBySpringCGLIB$$bacccf54.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)\n    at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)\n    at com.budgettracker.demo.userProfile.controller.WalletController$$EnhancerBySpringCGLIB$$36e69ddf.saveWallet(&lt;generated&gt;)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at com.budgettracker.demo.security.token.jwt.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:51)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\n    at jdk.proxy3/jdk.proxy3.$Proxy125.persist(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    at jdk.proxy3/jdk.proxy3.$Proxy125.persist(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 115 more\nCaused by: java.sql.SQLIntegrityConstraintViolationException: Column 'wallet_balance' cannot be null\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n    ... 168 more\n</code></pre>\n"},{"tags":["java","payara"],"answers":[{"comments":[{"owner":{"account_id":3148073,"reputation":133,"user_id":2662146,"display_name":"lube"},"score":0,"creation_date":1575893422,"post_id":59222636,"comment_id":104707011,"body_markdown":"Thank you for your help, but i tried it again. It seems that it work with the command link &quot;mvn compile exec:exce&quot; but it doesn&#39;t work with eclipse (Right Click -&gt; Run As -&gt; Java Application). I get following exception: &quot;Exception in thread &quot;main&quot; fish.payara.micro.BootstrapException: Provider org.glassfish.json.JsonProviderImpl not found&quot;\n\nI don&#39;t find a good solution to develop directly on the payara micro. The payara tools (eclipse) does only work with the full payara server. Is there any alternative?","body":"Thank you for your help, but i tried it again. It seems that it work with the command link &quot;mvn compile exec:exce&quot; but it doesn&#39;t work with eclipse (Right Click -&gt; Run As -&gt; Java Application). I get following exception: &quot;Exception in thread &quot;main&quot; fish.payara.micro.BootstrapException: Provider org.glassfish.json.JsonProviderImpl not found&quot;  I don&#39;t find a good solution to develop directly on the payara micro. The payara tools (eclipse) does only work with the full payara server. Is there any alternative?"},{"owner":{"account_id":2230571,"reputation":2771,"user_id":1968258,"display_name":"Marcos Zolnowski"},"score":0,"creation_date":1575943169,"post_id":59222636,"comment_id":104727346,"body_markdown":"The alternative is to use NetBeans, an IDE that works very well with Maven. But Eclipse works fine with Maven, you just need to learn how to configure it to run Maven projects. If you can&#39;t find how, post a question about this on StackOverflow.","body":"The alternative is to use NetBeans, an IDE that works very well with Maven. But Eclipse works fine with Maven, you just need to learn how to configure it to run Maven projects. If you can&#39;t find how, post a question about this on StackOverflow."}],"tags":[],"owner":{"account_id":2230571,"reputation":2771,"user_id":1968258,"display_name":"Marcos Zolnowski"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575688018,"creation_date":1575688018,"answer_id":59222636,"question_id":59218333,"body_markdown":"I believe the [Deployment Example][1] was what you meant to do.\r\n\r\nThe key step would be to set the deployment directory to be the Maven target directory:\r\n\r\n    public static void main(String[] args) throws BootstrapException {\r\n            PayaraMicro.getInstance()\r\n                    .setDeploymentDir(new File(&quot;my_project_path/target&quot;))\r\n                    .setHttpAutoBind(true)\r\n                    .bootStrap();\r\n        }\r\n\r\nThe specifics of deploying when bootstrapping can be found in the manual: https://payara.gitbooks.io/payara-server/documentation/payara-micro/deploying/deploy-program-bootstrap.html\r\n\r\nIf you want to use the [Payara Micro Maven Plugin][2], you should give a look to [this example][3].\r\n\r\n\r\n  [1]: https://github.com/payara/Payara-Examples/tree/master/payara-micro/deployment-example\r\n  [2]: https://payara.gitbooks.io/payara-server/documentation/ecosystem/maven-plugin.html\r\n  [3]: https://github.com/payara/Payara-Examples/tree/master/payara-micro/demystifying-microservices-example","title":"payara-micro start with java main method","body":"<p>I believe the <a href=\"https://github.com/payara/Payara-Examples/tree/master/payara-micro/deployment-example\" rel=\"nofollow noreferrer\">Deployment Example</a> was what you meant to do.</p>\n\n<p>The key step would be to set the deployment directory to be the Maven target directory:</p>\n\n<pre><code>public static void main(String[] args) throws BootstrapException {\n        PayaraMicro.getInstance()\n                .setDeploymentDir(new File(\"my_project_path/target\"))\n                .setHttpAutoBind(true)\n                .bootStrap();\n    }\n</code></pre>\n\n<p>The specifics of deploying when bootstrapping can be found in the manual: <a href=\"https://payara.gitbooks.io/payara-server/documentation/payara-micro/deploying/deploy-program-bootstrap.html\" rel=\"nofollow noreferrer\">https://payara.gitbooks.io/payara-server/documentation/payara-micro/deploying/deploy-program-bootstrap.html</a></p>\n\n<p>If you want to use the <a href=\"https://payara.gitbooks.io/payara-server/documentation/ecosystem/maven-plugin.html\" rel=\"nofollow noreferrer\">Payara Micro Maven Plugin</a>, you should give a look to <a href=\"https://github.com/payara/Payara-Examples/tree/master/payara-micro/demystifying-microservices-example\" rel=\"nofollow noreferrer\">this example</a>.</p>\n"}],"owner":{"account_id":3148073,"reputation":133,"user_id":2662146,"display_name":"lube"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680624256,"creation_date":1575656016,"question_id":59218333,"body_markdown":"I have a problem with the payara micro embeeded. I want to start my java ee application with the payara micro in eclipse. But it doesn&#39;t work.\r\n\r\nI created a simple java ee project with three classes.\r\n\r\n    @ApplicationPath(&quot;resources&quot;)\r\n    public class JAXRSConfiguration extends Application {\r\n    \r\n    }\r\n\r\n\r\n    @Path(&quot;ping&quot;)\r\n    public class PingResource {\r\n    \r\n        @GET\r\n        public String ping() {\r\n            return &quot;Enjoy Java EE 8!&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nAnd finally the &quot;main&quot; class of my code.\r\n\r\n    public class Startup {\r\n    \tpublic static void main(String... args) throws BootstrapException {\r\n    \t\tPayaraMicro.getInstance() //\r\n    \t\t\t\t.setHttpAutoBind(true) //\r\n    \t\t\t\t.bootStrap();\r\n    \t}\r\n    }\r\n\r\nThe pom.xml looks like:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.lube&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;payaramicro&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t\r\n    \t\t&lt;payara.version&gt;5.194&lt;/payara.version&gt;\r\n    \t\t\r\n    \t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    \t&lt;/properties&gt;\r\n    \t\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;fish.payara.extras&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;payara-micro&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${payara.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;payaramicro&lt;/finalName&gt;\r\n    \r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.6.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;executable&gt;java&lt;/executable&gt;\r\n                        &lt;arguments&gt;\r\n                            &lt;argument&gt;-classpath&lt;/argument&gt;\r\n                            &lt;classpath /&gt;\r\n                            &lt;argument&gt;com.lube.Mona&lt;/argument&gt;\r\n                        &lt;/arguments&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nAfter the startup i get the following error:\r\n\r\n    Exception in thread &quot;main&quot; fish.payara.micro.BootstrapException: Provider org.glassfish.json.JsonProviderImpl not found\r\n    \tat fish.payara.micro.impl.PayaraMicroImpl.bootStrap(PayaraMicroImpl.java:1076)\r\n    \tat fish.payara.micro.PayaraMicro.bootStrap(PayaraMicro.java:143)\r\n    \tat com.lube.Startup.main(Startup.java:10)\r\n    Caused by: javax.json.JsonException: Provider org.glassfish.json.JsonProviderImpl not found\r\n    \tat javax.json.spi.JsonProvider.provider(JsonProvider.java:99)\r\n    \tat javax.json.Json.createWriterFactory(Json.java:253)\r\n    \tat fish.payara.appserver.micro.services.data.InstanceDescriptorImpl.toJsonString(InstanceDescriptorImpl.java:301)\r\n    \tat fish.payara.micro.impl.PayaraMicroImpl.dumpFinalStatus(PayaraMicroImpl.java:2596)\r\n    \tat fish.payara.micro.impl.PayaraMicroImpl.bootStrap(PayaraMicroImpl.java:1068)\r\n    \t... 2 more\r\n    Caused by: java.lang.ClassNotFoundException: org.glassfish.json.JsonProviderImpl\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:264)\r\n    \tat javax.json.spi.JsonProvider.provider(JsonProvider.java:96)\r\n    \t... 6 more\r\n\r\nThe goal of my project is to start the application easily with eclipse ( to debug and so on )\r\n\r\nI also tried to start the application with the command &quot;mvn compile exec:exec&quot; which is described on the payara micro github page (https://github.com/payara/Payara-Examples/blob/master/payara-micro/simplest-bootstrap/pom.xml)\r\n\r\nWith the command the payara started up successfully, but the page &quot;resources/ping&quot; is unavailable.\r\n\r\nIs it possible to have the java ee code and the payara embeeded main method in the same project?\r\n\r\n","title":"payara-micro start with java main method","body":"<p>I have a problem with the payara micro embeeded. I want to start my java ee application with the payara micro in eclipse. But it doesn't work.</p>\n<p>I created a simple java ee project with three classes.</p>\n<pre><code>@ApplicationPath(&quot;resources&quot;)\npublic class JAXRSConfiguration extends Application {\n\n}\n\n\n@Path(&quot;ping&quot;)\npublic class PingResource {\n\n    @GET\n    public String ping() {\n        return &quot;Enjoy Java EE 8!&quot;;\n    }\n\n}\n</code></pre>\n<p>And finally the &quot;main&quot; class of my code.</p>\n<pre><code>public class Startup {\n    public static void main(String... args) throws BootstrapException {\n        PayaraMicro.getInstance() //\n                .setHttpAutoBind(true) //\n                .bootStrap();\n    }\n}\n</code></pre>\n<p>The pom.xml looks like:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.lube&lt;/groupId&gt;\n    &lt;artifactId&gt;payaramicro&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    \n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        \n        &lt;payara.version&gt;5.194&lt;/payara.version&gt;\n        \n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;8.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;fish.payara.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;payara-micro&lt;/artifactId&gt;\n            &lt;version&gt;${payara.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;payaramicro&lt;/finalName&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;java&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;-classpath&lt;/argument&gt;\n                        &lt;classpath /&gt;\n                        &lt;argument&gt;com.lube.Mona&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>After the startup i get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; fish.payara.micro.BootstrapException: Provider org.glassfish.json.JsonProviderImpl not found\n    at fish.payara.micro.impl.PayaraMicroImpl.bootStrap(PayaraMicroImpl.java:1076)\n    at fish.payara.micro.PayaraMicro.bootStrap(PayaraMicro.java:143)\n    at com.lube.Startup.main(Startup.java:10)\nCaused by: javax.json.JsonException: Provider org.glassfish.json.JsonProviderImpl not found\n    at javax.json.spi.JsonProvider.provider(JsonProvider.java:99)\n    at javax.json.Json.createWriterFactory(Json.java:253)\n    at fish.payara.appserver.micro.services.data.InstanceDescriptorImpl.toJsonString(InstanceDescriptorImpl.java:301)\n    at fish.payara.micro.impl.PayaraMicroImpl.dumpFinalStatus(PayaraMicroImpl.java:2596)\n    at fish.payara.micro.impl.PayaraMicroImpl.bootStrap(PayaraMicroImpl.java:1068)\n    ... 2 more\nCaused by: java.lang.ClassNotFoundException: org.glassfish.json.JsonProviderImpl\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at javax.json.spi.JsonProvider.provider(JsonProvider.java:96)\n    ... 6 more\n</code></pre>\n<p>The goal of my project is to start the application easily with eclipse ( to debug and so on )</p>\n<p>I also tried to start the application with the command &quot;mvn compile exec:exec&quot; which is described on the payara micro github page (<a href=\"https://github.com/payara/Payara-Examples/blob/master/payara-micro/simplest-bootstrap/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/payara/Payara-Examples/blob/master/payara-micro/simplest-bootstrap/pom.xml</a>)</p>\n<p>With the command the payara started up successfully, but the page &quot;resources/ping&quot; is unavailable.</p>\n<p>Is it possible to have the java ee code and the payara embeeded main method in the same project?</p>\n"},{"tags":["python","java","lucene","fuzzy-search","pylucene"],"answers":[{"tags":[],"owner":{"account_id":2429919,"reputation":986,"user_id":2121074,"display_name":"Brock Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680623815,"creation_date":1680623815,"answer_id":75931449,"question_id":75931353,"body_markdown":"[FuzzyQuery][1] takes one [term][2] as a constructor. A term represents one word from the text.\r\n\r\n\r\n  [1]: https://lucene.apache.org/core/7_3_1/core/org/apache/lucene/search/FuzzyQuery.html\r\n  [2]: https://lucene.apache.org/core/7_3_1/core/org/apache/lucene/index/Term.html","title":"pylucene fuzzy search not return anything even with the same search term","body":"<p><a href=\"https://lucene.apache.org/core/7_3_1/core/org/apache/lucene/search/FuzzyQuery.html\" rel=\"nofollow noreferrer\">FuzzyQuery</a> takes one <a href=\"https://lucene.apache.org/core/7_3_1/core/org/apache/lucene/index/Term.html\" rel=\"nofollow noreferrer\">term</a> as a constructor. A term represents one word from the text.</p>\n"}],"owner":{"account_id":17008595,"reputation":31,"user_id":13175630,"display_name":"Allan Araujo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680623815,"creation_date":1680623261,"question_id":75931353,"body_markdown":"I&#39;m trying to build a fuzzy search  query in pylucene, but even using the same term that was already uploaded it doesn&#39;t return anything. I&#39;ve tried upload the fields as StringField or TextField and even using a customized one and change the maxEdits option. And with small words it works for example setting in the bellow code `fuzzy_query = &#39;fox&#39;`, but neither `fuzzy_query = &#39;brown fox&#39;` or `fuzzy_query = &#39;The brown fox&#39;` return anything.\r\n\r\n```\r\nimport lucene\r\nfrom org.apache.lucene.store import NIOFSDirectory\r\nfrom org.apache.lucene.analysis.standard import StandardAnalyzer\r\nfrom org.apache.lucene.document import Document, Field, FieldType\r\nfrom org.apache.lucene.index import IndexWriter, IndexWriterConfig\r\nfrom org.apache.lucene.search import IndexSearcher, FuzzyQuery\r\nfrom java.nio.file import Paths\r\nfrom org.apache.lucene.index import IndexOptions\r\nfrom org.apache.lucene.index import DirectoryReader\r\nfrom org.apache.lucene.index import Term\r\nfrom org.apache.lucene.search import IndexSearcher, TermQuery\r\n\r\nlucene.initVM(vmargs=[&#39;-Djava.awt.headless=true&#39;])\r\n\r\nmy_path = &quot;../index&quot;\r\n\r\n# create index writer\r\nanalyzer = StandardAnalyzer()\r\nconfig = IndexWriterConfig(analyzer)\r\nindex_dir = NIOFSDirectory(Paths.get(my_path))\r\nwriter = IndexWriter(index_dir, config)\r\n\r\n# define fuzzy field\r\nfield_type = FieldType()\r\nfield_type.setStored(True)\r\nfield_type.setIndexOptions(IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS)\r\nfield_type.setTokenized(True)\r\nfield_type.setStoreTermVectors(True)\r\nfield_type.setStoreTermVectorPositions(True)\r\nfield_type.setStoreTermVectorOffsets(True)\r\nfield_type.setStoreTermVectorPayloads(True)\r\n\r\n# add documents to index with fuzzy field\r\ndoc = Document()\r\ndoc.add(Field(&quot;title_fuzzy&quot;, &quot;The brown fox&quot;, field_type))\r\nwriter.addDocument(doc)\r\n\r\ndoc = Document()\r\ndoc.add(Field(&quot;title_fuzzy&quot;, &quot;jumps over the lazy dog&quot;, field_type))\r\nwriter.addDocument(doc)\r\n\r\n# commit changes\r\nwriter.commit()\r\nwriter.close()\r\n\r\ndirectory = NIOFSDirectory(Paths.get(my_path))\r\n\r\n# create an IndexReader and IndexSearcher\r\nreader = DirectoryReader.open(directory)\r\nsearcher = IndexSearcher(reader)\r\n# search for documents with fuzzy field\r\n\r\nfuzzy_term = &quot;The brown fox&quot;\r\n\r\nfuzzy_query = FuzzyQuery(Term(&quot;title_fuzzy&quot;, fuzzy_term), maxEdits=2)\r\n\r\nhits = searcher.search(fuzzy_query, 1).scoreDocs\r\nfor hit in hits:\r\n    doc = searcher.doc(hit.doc)\r\n    print(&quot;Document: &quot;, doc)\r\n```\r\n\r\nThanks in advance!","title":"pylucene fuzzy search not return anything even with the same search term","body":"<p>I'm trying to build a fuzzy search  query in pylucene, but even using the same term that was already uploaded it doesn't return anything. I've tried upload the fields as StringField or TextField and even using a customized one and change the maxEdits option. And with small words it works for example setting in the bellow code <code>fuzzy_query = 'fox'</code>, but neither <code>fuzzy_query = 'brown fox'</code> or <code>fuzzy_query = 'The brown fox'</code> return anything.</p>\n<pre><code>import lucene\nfrom org.apache.lucene.store import NIOFSDirectory\nfrom org.apache.lucene.analysis.standard import StandardAnalyzer\nfrom org.apache.lucene.document import Document, Field, FieldType\nfrom org.apache.lucene.index import IndexWriter, IndexWriterConfig\nfrom org.apache.lucene.search import IndexSearcher, FuzzyQuery\nfrom java.nio.file import Paths\nfrom org.apache.lucene.index import IndexOptions\nfrom org.apache.lucene.index import DirectoryReader\nfrom org.apache.lucene.index import Term\nfrom org.apache.lucene.search import IndexSearcher, TermQuery\n\nlucene.initVM(vmargs=['-Djava.awt.headless=true'])\n\nmy_path = &quot;../index&quot;\n\n# create index writer\nanalyzer = StandardAnalyzer()\nconfig = IndexWriterConfig(analyzer)\nindex_dir = NIOFSDirectory(Paths.get(my_path))\nwriter = IndexWriter(index_dir, config)\n\n# define fuzzy field\nfield_type = FieldType()\nfield_type.setStored(True)\nfield_type.setIndexOptions(IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS)\nfield_type.setTokenized(True)\nfield_type.setStoreTermVectors(True)\nfield_type.setStoreTermVectorPositions(True)\nfield_type.setStoreTermVectorOffsets(True)\nfield_type.setStoreTermVectorPayloads(True)\n\n# add documents to index with fuzzy field\ndoc = Document()\ndoc.add(Field(&quot;title_fuzzy&quot;, &quot;The brown fox&quot;, field_type))\nwriter.addDocument(doc)\n\ndoc = Document()\ndoc.add(Field(&quot;title_fuzzy&quot;, &quot;jumps over the lazy dog&quot;, field_type))\nwriter.addDocument(doc)\n\n# commit changes\nwriter.commit()\nwriter.close()\n\ndirectory = NIOFSDirectory(Paths.get(my_path))\n\n# create an IndexReader and IndexSearcher\nreader = DirectoryReader.open(directory)\nsearcher = IndexSearcher(reader)\n# search for documents with fuzzy field\n\nfuzzy_term = &quot;The brown fox&quot;\n\nfuzzy_query = FuzzyQuery(Term(&quot;title_fuzzy&quot;, fuzzy_term), maxEdits=2)\n\nhits = searcher.search(fuzzy_query, 1).scoreDocs\nfor hit in hits:\n    doc = searcher.doc(hit.doc)\n    print(&quot;Document: &quot;, doc)\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":1330083,"reputation":619,"user_id":1274184,"accept_rate":47,"display_name":"Alex Smoke"},"score":0,"creation_date":1680685161,"post_id":75931438,"comment_id":133938359,"body_markdown":"Didn&#39;t work unfortunately","body":"Didn&#39;t work unfortunately"}],"tags":[],"owner":{"account_id":28209166,"reputation":1,"user_id":21561741,"display_name":"Kamarthi Om prakash"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680623772,"creation_date":1680623772,"answer_id":75931438,"question_id":75929687,"body_markdown":"Once try Adding these dependency to your pom.xml file\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"HTML Elements by Yandex qa tools with Spring Framework","body":"<p>Once try Adding these dependency to your pom.xml file</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1330083,"reputation":619,"user_id":1274184,"accept_rate":47,"display_name":"Alex Smoke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680623772,"creation_date":1680613241,"question_id":75929687,"body_markdown":"I&#39;m trying to integrate and use yandex html elements in my framework.\r\nWhat i did:\r\n\r\n1. Added dependency\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;ru.yandex.qatools.htmlelements&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;htmlelements-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.8&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n2. In my Base page i&#39;m initializing pages through PageFactory like this:\r\n\r\n    public abstract class Base {\r\n    \r\n        @Autowired\r\n        public WebDriver driver;\r\n    \r\n        @PostConstruct\r\n        private void init(){\r\n            HtmlElementLoader.populatePageObject(this, driver);\r\n        }\r\n    \r\n        public abstract boolean isOpened();\r\n    \r\n    }\r\n\r\n3. Extend Base and expect everything to work:\r\n\r\n@Page\r\npublic class HeaderPage extends Base {\r\n\r\n    @Autowired\r\n    private SearchResultsComponent searchResultsComponent;\r\n    @Autowired\r\n    private MainMenuComponent mainMenuComponent;\r\n\r\n    @FindBy(css = &quot;.search&quot;)\r\n    private WebElement edtSearchField;\r\n\r\n    @FindBy(css = &quot;.menu&quot;)\r\n    private WebElement lnkMainMenu;\r\n\r\n    public MainMenuComponent mainMenu() {\r\n        return mainMenuComponent;\r\n    }\r\n\r\n    @Step\r\n    public SearchResultsComponent searchResults() {\r\n        return searchResultsComponent;\r\n    }\r\n\r\n    @Step\r\n    public void search(String searchValue) {\r\n        edtSearchField.sendKeys(searchValue);\r\n        Waiter.waitABit(3000);\r\n    }\r\n\r\n    @Step\r\n    public void openMainMenu() {\r\n        lnkMainMenu.click();\r\n    }\r\n\r\n    @Override\r\n    public boolean isOpened() {\r\n        return wait.until((d) -&gt; this.edtSearchField.isDisplayed());\r\n    }\r\n}\r\n\r\nIt throws an exception\r\n\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;headerPage&#39;: Unsatisfied dependency expressed through field &#39;searchResultsComponent&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;searchResultsComponent&#39;: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/lang/WordUtils\r\n\r\nWhat am i doing wrong?","title":"HTML Elements by Yandex qa tools with Spring Framework","body":"<p>I'm trying to integrate and use yandex html elements in my framework.\nWhat i did:</p>\n<ol>\n<li><p>Added dependency</p>\n \n     ru.yandex.qatools.htmlelements\n     htmlelements-java\n     1.8\n \n</li>\n<li><p>In my Base page i'm initializing pages through PageFactory like this:</p>\n<p>public abstract class Base {</p>\n<pre><code> @Autowired\n public WebDriver driver;\n\n @PostConstruct\n private void init(){\n     HtmlElementLoader.populatePageObject(this, driver);\n }\n\n public abstract boolean isOpened();\n</code></pre>\n<p>}</p>\n</li>\n<li><p>Extend Base and expect everything to work:</p>\n</li>\n</ol>\n<p>@Page\npublic class HeaderPage extends Base {</p>\n<pre><code>@Autowired\nprivate SearchResultsComponent searchResultsComponent;\n@Autowired\nprivate MainMenuComponent mainMenuComponent;\n\n@FindBy(css = &quot;.search&quot;)\nprivate WebElement edtSearchField;\n\n@FindBy(css = &quot;.menu&quot;)\nprivate WebElement lnkMainMenu;\n\npublic MainMenuComponent mainMenu() {\n    return mainMenuComponent;\n}\n\n@Step\npublic SearchResultsComponent searchResults() {\n    return searchResultsComponent;\n}\n\n@Step\npublic void search(String searchValue) {\n    edtSearchField.sendKeys(searchValue);\n    Waiter.waitABit(3000);\n}\n\n@Step\npublic void openMainMenu() {\n    lnkMainMenu.click();\n}\n\n@Override\npublic boolean isOpened() {\n    return wait.until((d) -&gt; this.edtSearchField.isDisplayed());\n}\n</code></pre>\n<p>}</p>\n<p>It throws an exception</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'headerPage': Unsatisfied dependency expressed through field 'searchResultsComponent'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'searchResultsComponent': Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: org/apache/commons/lang/WordUtils\n</code></pre>\n<p>What am i doing wrong?</p>\n"},{"tags":["java","multithreading","concurrency","locking"],"answers":[{"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1680623526,"post_id":75930567,"comment_id":133927892,"body_markdown":"i&#39;m not sure why you added the allLocks lock.  it doesn&#39;t actually do anything in your scenario (since you create it inside the method, no other thread can ever use the same lock).","body":"i&#39;m not sure why you added the allLocks lock.  it doesn&#39;t actually do anything in your scenario (since you create it inside the method, no other thread can ever use the same lock)."}],"tags":[],"owner":{"account_id":25573860,"reputation":21,"user_id":19353744,"display_name":"Ravindu Sasanka"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680618311,"creation_date":1680618311,"answer_id":75930567,"question_id":75930239,"body_markdown":"If you have implemented a striped lock to safely and efficiently access a data structure, but the data structure has a method that requires all locks to be acquired at the same time, you can modify your implementation to allow for this. Here are the steps you can follow:\r\n\r\n1. First, create a new lock that will be used to synchronize the access to the data structure when all locks need to be acquired at the same time. You can use a simple ```ReentrantLock``` for this purpose.\r\n\r\n2. Next, modify your striped lock implementation to acquire this new lock in addition to the striped locks when the method that requires all locks to be acquired is called. You can use the ```tryLock()``` method of the ```ReentrantLock``` to try to acquire the lock without blocking. If the lock cannot be acquired, you can release all the previously acquired striped locks and try again.\r\n\r\n3. Once all the locks have been acquired, call the method on the data structure that requires all locks to be acquired.\r\n\r\n4. Release all the locks in reverse order of acquisition, starting with the lock that was acquired last.\r\n\r\nHere&#39;s an example of how the modified striped lock implementation might look like:\r\n\r\n    public class StripedLock {\r\n    private final int numStripes;\r\n    private final ReentrantLock[] locks;\r\n\r\n    // Constructor that creates the striped locks\r\n    public StripedLock(int numStripes) {\r\n        this.numStripes = numStripes;\r\n        this.locks = new ReentrantLock[numStripes];\r\n        for (int i = 0; i &lt; numStripes; i++) {\r\n            this.locks[i] = new ReentrantLock();\r\n        }\r\n    }\r\n\r\n    // Method to acquire all locks at once\r\n    public void acquireAllLocks() {\r\n        List&lt;ReentrantLock&gt; acquiredLocks = new ArrayList&lt;&gt;();\r\n        ReentrantLock allLocks = new ReentrantLock();\r\n\r\n        // Acquire all striped locks\r\n        for (int i = 0; i &lt; numStripes; i++) {\r\n            ReentrantLock lock = locks[i];\r\n            if (lock.tryLock()) {\r\n                acquiredLocks.add(lock);\r\n            } else {\r\n                // Release all previously acquired locks and try again\r\n                for (ReentrantLock acquiredLock : acquiredLocks) {\r\n                    acquiredLock.unlock();\r\n                }\r\n                acquiredLocks.clear();\r\n                i = -1; // start again from the first lock\r\n            }\r\n        }\r\n\r\n        // Acquire the all-locks lock\r\n        allLocks.lock();\r\n\r\n        // Release all striped locks except the last one\r\n        for (int i = acquiredLocks.size() - 2; i &gt;= 0; i--) {\r\n            acquiredLocks.get(i).unlock();\r\n        }\r\n\r\n        // Call the method that requires all locks to be acquired\r\n        dataStructure.methodThatRequiresAllLocks();\r\n\r\n        // Release all locks in reverse order of acquisition\r\n        allLocks.unlock();\r\n        for (int i = acquiredLocks.size() - 1; i &gt;= 0; i--) {\r\n            acquiredLocks.get(i).unlock();\r\n        }\r\n    }\r\n    }\r\n\r\nIn this implementation, the ```acquireAllLocks()``` method tries to acquire all the striped locks first, and if successful, it acquires the all-locks lock and releases all the striped locks except the last one. Then, it calls the method that requires all locks to be acquired, and finally, it releases all the locks in reverse order of acquisition. If any of the striped locks cannot be acquired, it releases all the previously acquired locks and tries again from the first lock.","title":"Safe acquisition of all striped lock at once","body":"<p>If you have implemented a striped lock to safely and efficiently access a data structure, but the data structure has a method that requires all locks to be acquired at the same time, you can modify your implementation to allow for this. Here are the steps you can follow:</p>\n<ol>\n<li><p>First, create a new lock that will be used to synchronize the access to the data structure when all locks need to be acquired at the same time. You can use a simple <code>ReentrantLock</code> for this purpose.</p>\n</li>\n<li><p>Next, modify your striped lock implementation to acquire this new lock in addition to the striped locks when the method that requires all locks to be acquired is called. You can use the <code>tryLock()</code> method of the <code>ReentrantLock</code> to try to acquire the lock without blocking. If the lock cannot be acquired, you can release all the previously acquired striped locks and try again.</p>\n</li>\n<li><p>Once all the locks have been acquired, call the method on the data structure that requires all locks to be acquired.</p>\n</li>\n<li><p>Release all the locks in reverse order of acquisition, starting with the lock that was acquired last.</p>\n</li>\n</ol>\n<p>Here's an example of how the modified striped lock implementation might look like:</p>\n<pre><code>public class StripedLock {\nprivate final int numStripes;\nprivate final ReentrantLock[] locks;\n\n// Constructor that creates the striped locks\npublic StripedLock(int numStripes) {\n    this.numStripes = numStripes;\n    this.locks = new ReentrantLock[numStripes];\n    for (int i = 0; i &lt; numStripes; i++) {\n        this.locks[i] = new ReentrantLock();\n    }\n}\n\n// Method to acquire all locks at once\npublic void acquireAllLocks() {\n    List&lt;ReentrantLock&gt; acquiredLocks = new ArrayList&lt;&gt;();\n    ReentrantLock allLocks = new ReentrantLock();\n\n    // Acquire all striped locks\n    for (int i = 0; i &lt; numStripes; i++) {\n        ReentrantLock lock = locks[i];\n        if (lock.tryLock()) {\n            acquiredLocks.add(lock);\n        } else {\n            // Release all previously acquired locks and try again\n            for (ReentrantLock acquiredLock : acquiredLocks) {\n                acquiredLock.unlock();\n            }\n            acquiredLocks.clear();\n            i = -1; // start again from the first lock\n        }\n    }\n\n    // Acquire the all-locks lock\n    allLocks.lock();\n\n    // Release all striped locks except the last one\n    for (int i = acquiredLocks.size() - 2; i &gt;= 0; i--) {\n        acquiredLocks.get(i).unlock();\n    }\n\n    // Call the method that requires all locks to be acquired\n    dataStructure.methodThatRequiresAllLocks();\n\n    // Release all locks in reverse order of acquisition\n    allLocks.unlock();\n    for (int i = acquiredLocks.size() - 1; i &gt;= 0; i--) {\n        acquiredLocks.get(i).unlock();\n    }\n}\n}\n</code></pre>\n<p>In this implementation, the <code>acquireAllLocks()</code> method tries to acquire all the striped locks first, and if successful, it acquires the all-locks lock and releases all the striped locks except the last one. Then, it calls the method that requires all locks to be acquired, and finally, it releases all the locks in reverse order of acquisition. If any of the striped locks cannot be acquired, it releases all the previously acquired locks and tries again from the first lock.</p>\n"},{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680623402,"creation_date":1680623402,"answer_id":75931375,"question_id":75930239,"body_markdown":"If you have to acquire multiple locks at the same time, the only way to safely do that (i.e. avoid potential deadlock), is to always acquire the locks in the same order.  as long as you can come up with a consistent order for the locks and always acquire them in that order (and release them in the reverse order), it should work without deadlock.","title":"Safe acquisition of all striped lock at once","body":"<p>If you have to acquire multiple locks at the same time, the only way to safely do that (i.e. avoid potential deadlock), is to always acquire the locks in the same order.  as long as you can come up with a consistent order for the locks and always acquire them in that order (and release them in the reverse order), it should work without deadlock.</p>\n"}],"owner":{"account_id":11291559,"reputation":161,"user_id":9026506,"display_name":"Hivemaster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75931375,"answer_count":2,"score":0,"last_activity_date":1680623402,"creation_date":1680616540,"question_id":75930239,"body_markdown":"Let&#39;s say I&#39;ve implemented a striped lock to safely but efficiently access some data structure, but that structure has a method that requires all locks to be acquired at the same time. What is the most correct way to do this?","title":"Safe acquisition of all striped lock at once","body":"<p>Let's say I've implemented a striped lock to safely but efficiently access some data structure, but that structure has a method that requires all locks to be acquired at the same time. What is the most correct way to do this?</p>\n"},{"tags":["java","alfresco","activiti","bpmn","flowable"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1680623528,"post_id":75930992,"comment_id":133927893,"body_markdown":"That doesn&#39;t sound like a BPMn standard - why would this be needed? How could the model even be visualized?  Why not use message start events and/or gateways with conditionals?","body":"That doesn&#39;t sound like a BPMn standard - why would this be needed? How could the model even be visualized?  Why not use message start events and/or gateways with conditionals?"},{"owner":{"account_id":7501611,"reputation":353,"user_id":5699718,"display_name":"Madhav Kumar Jha"},"score":0,"creation_date":1680623726,"post_id":75930992,"comment_id":133927939,"body_markdown":"Writting a custom error handling, since every step/task  has to have a flow to the exception service task, instead of defining sequence flow for each task , thought if something like could be done or not, its true that it will not be visualized, but since error handaling is at very micro level and technical in nature,  not an issue if its not visualized","body":"Writting a custom error handling, since every step/task  has to have a flow to the exception service task, instead of defining sequence flow for each task , thought if something like could be done or not, its true that it will not be visualized, but since error handaling is at very micro level and technical in nature,  not an issue if its not visualized"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1680624766,"post_id":75930992,"comment_id":133928176,"body_markdown":"Consider using an error boundary event, and a link to the service task that handles the error.","body":"Consider using an error boundary event, and a link to the service task that handles the error."}],"owner":{"account_id":7501611,"reputation":353,"user_id":5699718,"display_name":"Madhav Kumar Jha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680623240,"creation_date":1680620803,"question_id":75930992,"body_markdown":"Is there any way to define targetRef/sourceRef/id of bpmn2 flows as variables. \r\n\r\neg. something like this \r\n\r\n    &lt;sequenceFlow id =&quot;flow1&quot; sourceRef = ${placeholderVariable1}, targetRef = ${placeholderVariable2}&gt;\r\n\r\nSo that , when the process excutes, it dynamicall have sequence flow based on the variable value (id of defined service task in xml file)being set in code.","title":"Activiti bpmn2 file placeholder for tragetRef","body":"<p>Is there any way to define targetRef/sourceRef/id of bpmn2 flows as variables.</p>\n<p>eg. something like this</p>\n<pre><code>&lt;sequenceFlow id =&quot;flow1&quot; sourceRef = ${placeholderVariable1}, targetRef = ${placeholderVariable2}&gt;\n</code></pre>\n<p>So that , when the process excutes, it dynamicall have sequence flow based on the variable value (id of defined service task in xml file)being set in code.</p>\n"},{"tags":["java","payara","javadb"],"comments":[{"owner":{"account_id":15133250,"reputation":1,"user_id":10920455,"display_name":"Sol P"},"score":0,"creation_date":1547615789,"post_id":54210773,"comment_id":95247614,"body_markdown":"i tried to change jdk version to higher &amp; lower, used older payara-micro versions,, but all fail with same reason. end result is it never starts. it has this @ bottom of stacktrace","body":"i tried to change jdk version to higher &amp; lower, used older payara-micro versions,, but all fail with same reason. end result is it never starts. it has this @ bottom of stacktrace"},{"owner":{"account_id":15133250,"reputation":1,"user_id":10920455,"display_name":"Sol P"},"score":0,"creation_date":1547615840,"post_id":54210773,"comment_id":95247627,"body_markdown":"Caused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\n        at java.base/java.net.URLClassLoader.findClass(Unknown Source)\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 44 more","body":"Caused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException         at java.base/java.net.URLClassLoader.findClass(Unknown Source)         at java.base/java.lang.ClassLoader.loadClass(Unknown Source)         at java.base/java.lang.ClassLoader.loadClass(Unknown Source)         ... 44 more"}],"answers":[{"tags":[],"owner":{"account_id":73753,"reputation":4903,"user_id":212224,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547675597,"creation_date":1547675597,"answer_id":54225965,"question_id":54210773,"body_markdown":"The javadb client file exception is irrelevant to your actual problem. It is an INFO level message to tell you that it has looked in the default place for the Apache Derby database libraries, but hasn&#39;t found them. This default place only applies to Payara Server, not Payara Micro.\r\n\r\nThe actual problem you&#39;re seeing is in your comment. I can see that you are using a version of Java that includes the JPMS (module system). The modularity introduced in Java 9 is not compatible with your version of Payara Micro, so you will need a version of Java no higher than 8.\r\n\r\nYou may be able to start Payara Micro on Java 9+ by explicitly adding the java.se.ee module, but there was no change in 4.181 to allow Payara Micro to actually run correctly with JPMS, so it would almost certainly break if you tried to deploy any kind of complex app.\r\n\r\n----\r\n\r\n**TL;DR**: change to use Java 8 because Payara Micro 4.181 will not run on Java 9 or higher. And the javadb message can be ignored.\r\n\r\n**Note:** Even though you say you are using Java 1.8, the stack trace proves that you are not. Double check your Java installation and make sure to definitely use Java 8.","title":"java -jar payara-micro-4.1.2.181.jar throwing Cannot find javadb client jar file","body":"<p>The javadb client file exception is irrelevant to your actual problem. It is an INFO level message to tell you that it has looked in the default place for the Apache Derby database libraries, but hasn't found them. This default place only applies to Payara Server, not Payara Micro.</p>\n\n<p>The actual problem you're seeing is in your comment. I can see that you are using a version of Java that includes the JPMS (module system). The modularity introduced in Java 9 is not compatible with your version of Payara Micro, so you will need a version of Java no higher than 8.</p>\n\n<p>You may be able to start Payara Micro on Java 9+ by explicitly adding the java.se.ee module, but there was no change in 4.181 to allow Payara Micro to actually run correctly with JPMS, so it would almost certainly break if you tried to deploy any kind of complex app.</p>\n\n<hr>\n\n<p><strong>TL;DR</strong>: change to use Java 8 because Payara Micro 4.181 will not run on Java 9 or higher. And the javadb message can be ignored.</p>\n\n<p><strong>Note:</strong> Even though you say you are using Java 1.8, the stack trace proves that you are not. Double check your Java installation and make sure to definitely use Java 8.</p>\n"}],"owner":{"account_id":15133250,"reputation":1,"user_id":10920455,"display_name":"Sol P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680623229,"creation_date":1547615452,"question_id":54210773,"body_markdown":"I am getting the following exceptions\r\n\r\n&gt; running ==&gt;&gt; java -jar payara-micro-4.1.2.181.jar\r\n&gt; [2019-01-15T20:55:37.913-0800] [] [1;92m[INFO][0m []\r\n&gt; [[1;94mfish.payara.micro.boot.runtime.PayaraMicroRuntimeBuilder[0m]\r\n&gt; [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1547614537913]\r\n&gt; [levelValue: 800] Built Payara Micro Runtime\r\n\r\nAnd also \r\n\r\n&gt; [2019-01-15T20:55:43.539-0800] [] [1;92m[INFO][0m [NCLS-CORE-00046]\r\n&gt; [[1;94mjavax.enterprise.system.core[0m] [tid: _ThreadID=1\r\n&gt; _ThreadName=main] [timeMillis: 1547614543539] [levelValue: 800] Cannot find javadb client jar file, derby jdbc driver will not be available\r\n&gt; by default.\r\n\r\nI am using jdk 1.8.","title":"java -jar payara-micro-4.1.2.181.jar throwing Cannot find javadb client jar file","body":"<p>I am getting the following exceptions</p>\n\n<blockquote>\n  <p>running ==>> java -jar payara-micro-4.1.2.181.jar\n  [2019-01-15T20:55:37.913-0800] [] [1;92m[INFO][0m []\n  [[1;94mfish.payara.micro.boot.runtime.PayaraMicroRuntimeBuilder[0m]\n  [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1547614537913]\n  [levelValue: 800] Built Payara Micro Runtime</p>\n</blockquote>\n\n<p>And also </p>\n\n<blockquote>\n  <p>[2019-01-15T20:55:43.539-0800] [] [1;92m[INFO][0m [NCLS-CORE-00046]\n  [[1;94mjavax.enterprise.system.core[0m] [tid: _ThreadID=1\n  _ThreadName=main] [timeMillis: 1547614543539] [levelValue: 800] Cannot find javadb client jar file, derby jdbc driver will not be available\n  by default.</p>\n</blockquote>\n\n<p>I am using jdk 1.8.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1565071219,"post_id":57369684,"comment_id":101224743,"body_markdown":"Why was this downvoted?","body":"Why was this downvoted?"},{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1565071271,"post_id":57369684,"comment_id":101224763,"body_markdown":"Not sure on downvote. But does it have anything to do with the response? MismatchedInput signals the data type could have been different for deserialization template.","body":"Not sure on downvote. But does it have anything to do with the response? MismatchedInput signals the data type could have been different for deserialization template."},{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":1,"creation_date":1565072500,"post_id":57369684,"comment_id":101225182,"body_markdown":"Possible duplicate of [Can not deserialize instance of java.lang.String out of START\\_OBJECT token](https://stackoverflow.com/questions/19389723/can-not-deserialize-instance-of-java-lang-string-out-of-start-object-token)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/19389723/can-not-deserialize-instance-of-java-lang-string-out-of-start-object-token\">Can not deserialize instance of java.lang.String out of START_OBJECT token</a>"}],"answers":[{"comments":[{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1565072053,"post_id":57369793,"comment_id":101225010,"body_markdown":"Doesn&#39;t help, same problem persists","body":"Doesn&#39;t help, same problem persists"},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1565085008,"post_id":57369793,"comment_id":101231397,"body_markdown":"This question is different, I&#39;m trying to make a `http` call to an API.","body":"This question is different, I&#39;m trying to make a <code>http</code> call to an API."}],"tags":[],"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565071494,"creation_date":1565071494,"answer_id":57369793,"question_id":57369684,"body_markdown":"Try creating a null entity. This might work\r\n\r\n     HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(null,headers); \r\n\r\nThe JSON content is invalid, so the parser breaks. So this would induce an empty content.","title":"Jackson: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token","body":"<p>Try creating a null entity. This might work</p>\n\n<pre><code> HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(null,headers); \n</code></pre>\n\n<p>The JSON content is invalid, so the parser breaks. So this would induce an empty content.</p>\n"}],"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5401,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680622185,"creation_date":1565070835,"question_id":57369684,"body_markdown":"I wrote a micro-service to make a HTTP call to an API. Code is as given below.  \r\n**`Connector Application`**\r\n\r\n    package com.ajay.dashboard.service;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    @SpringBootApplication\r\n    public class DellDashboardConnectorApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DellDashboardConnectorApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RestTemplate getRestTemplate() {\r\n    \r\n    \t\treturn new RestTemplate();\r\n    \t}\r\n    }  \r\n**`Connector COntroller`**  \r\n\r\n    package com.ajay.dashboard.service.controller;\r\n    \r\n    import java.io.UnsupportedEncodingException;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    import org.apache.http.client.utils.URIBuilder;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.http.HttpEntity;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.http.converter.HttpMessageConverter;\r\n    import org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\r\n    import org.springframework.web.bind.annotation.CrossOrigin;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    /*\r\n     * Created by Kulkaa\r\n     */\r\n    \r\n    @RestController\r\n    public class DellDashboardController {\r\n    \r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(DellDashboardController.class);\r\n    \t\r\n    \t@CrossOrigin(origins = &quot;http://localhost:8080&quot;)\r\n    \t@RequestMapping(method = RequestMethod.GET, value = &quot;/incident&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic ResponseEntity&lt;?&gt; retrieveAllCircles(HttpServletRequest request) throws UnsupportedEncodingException {\r\n    \t\tlogger.info(&quot;DellDashboardController -&gt; retrieveAllIncidents : invoked.&quot;);\r\n    \t\tRestTemplate restTemplate =new RestTemplate();\r\n    \t\t\r\n    \t\tList&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;(); \r\n    \t\tMappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n    \t\tconverter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\r\n    \t\tmessageConverters.add(converter);\r\n    \t\trestTemplate.setMessageConverters(messageConverters);\r\n    \t\t    \r\n    \r\n    \t\tString formUrl = &quot;api&quot;;\r\n    \t\tfinal String sysparm_query = &quot;incident_stateNOT%20IN6%2C7%5Eassignment_group%3D4122c7f8f09cc1002283ac3a043ae3e6&quot;;\r\n    \t\tfinal String sysparm_display_value = &quot;true&quot;;\r\n    \t\tfinal String sysparm_exclude_reference_link = &quot;true&quot;;\r\n    \t\ttry {\r\n    \t\t\t\tURIBuilder builder = new URIBuilder(formUrl); \r\n    \t\t\t\tbuilder.addParameter(&quot;sysparm_query&quot;, sysparm_query); \r\n    \t\t\t\tbuilder.addParameter(&quot;sysparm_display_value&quot;, sysparm_display_value);\r\n    \t\t\t\tbuilder.addParameter(&quot;sysparm_exclude_reference_link&quot;, sysparm_exclude_reference_link); \r\n    \t\t\t\tString actualUrl = builder.toString();\r\n    \t\t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\t\theaders.add(&quot;Authorization&quot;, &quot;Basic U2VydmljZV9Nb2JpbGVSZXBvcnRpbmc6U2VydmljZV9Nb2JpbGVSZXBvcnRpbmc=&quot;);\r\n    \t\t\theaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n    \t\t\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\r\n    \t\t\treturn restTemplate.exchange(actualUrl, HttpMethod.GET, entity, String.class);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO: handle exception\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn retrieveAllCircles(request);\r\n    \t\t\r\n    \t}\r\n    \r\n    }  \r\nWhen I build it by using `mvn clean install`, it runs perfectly. However, when I run it as SpringBoot app, I get below error:  \r\n\r\n&gt; Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token\r\n at [Source: (PushbackInputStream); line: 1, column: 1]  \r\n  \r\nDo I need to deserialize it by using POJO class?  \r\nJSON being mapped is in the format:  \r\n\r\n    {\r\n    \t&quot;result&quot;: [{\r\n    \t\tdata here\r\n    \t}]\r\n    }  \r\nIs it a json object? \r\n\r\n  \r\n","title":"Jackson: Cannot deserialize instance of `java.lang.String` out of START_OBJECT token","body":"<p>I wrote a micro-service to make a HTTP call to an API. Code is as given below.<br>\n<strong><code>Connector Application</code></strong></p>\n\n<pre><code>package com.ajay.dashboard.service;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.web.client.RestTemplate;\n\n@SpringBootApplication\npublic class DellDashboardConnectorApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DellDashboardConnectorApplication.class, args);\n    }\n\n    @Bean\n    public RestTemplate getRestTemplate() {\n\n        return new RestTemplate();\n    }\n}  \n</code></pre>\n\n<p><strong><code>Connector COntroller</code></strong>  </p>\n\n<pre><code>package com.ajay.dashboard.service.controller;\n\nimport java.io.UnsupportedEncodingException;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\n\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.apache.http.client.utils.URIBuilder;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\n\n/*\n * Created by Kulkaa\n */\n\n@RestController\npublic class DellDashboardController {\n\n    private static final Logger logger = LoggerFactory.getLogger(DellDashboardController.class);\n\n    @CrossOrigin(origins = \"http://localhost:8080\")\n    @RequestMapping(method = RequestMethod.GET, value = \"/incident\", produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;?&gt; retrieveAllCircles(HttpServletRequest request) throws UnsupportedEncodingException {\n        logger.info(\"DellDashboardController -&gt; retrieveAllIncidents : invoked.\");\n        RestTemplate restTemplate =new RestTemplate();\n\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;(); \n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n        converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\n        messageConverters.add(converter);\n        restTemplate.setMessageConverters(messageConverters);\n\n\n        String formUrl = \"api\";\n        final String sysparm_query = \"incident_stateNOT%20IN6%2C7%5Eassignment_group%3D4122c7f8f09cc1002283ac3a043ae3e6\";\n        final String sysparm_display_value = \"true\";\n        final String sysparm_exclude_reference_link = \"true\";\n        try {\n                URIBuilder builder = new URIBuilder(formUrl); \n                builder.addParameter(\"sysparm_query\", sysparm_query); \n                builder.addParameter(\"sysparm_display_value\", sysparm_display_value);\n                builder.addParameter(\"sysparm_exclude_reference_link\", sysparm_exclude_reference_link); \n                String actualUrl = builder.toString();\n            HttpHeaders headers = new HttpHeaders();\n            headers.add(\"Authorization\", \"Basic U2VydmljZV9Nb2JpbGVSZXBvcnRpbmc6U2VydmljZV9Nb2JpbGVSZXBvcnRpbmc=\");\n            headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n            HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\n            return restTemplate.exchange(actualUrl, HttpMethod.GET, entity, String.class);\n        } catch (Exception e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }\n        return retrieveAllCircles(request);\n\n    }\n\n}  \n</code></pre>\n\n<p>When I build it by using <code>mvn clean install</code>, it runs perfectly. However, when I run it as SpringBoot app, I get below error:  </p>\n\n<blockquote>\n  <p>Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of <code>java.lang.String</code> out of START_OBJECT token\n   at [Source: (PushbackInputStream); line: 1, column: 1]  </p>\n</blockquote>\n\n<p>Do I need to deserialize it by using POJO class?<br>\nJSON being mapped is in the format:  </p>\n\n<pre><code>{\n    \"result\": [{\n        data here\n    }]\n}  \n</code></pre>\n\n<p>Is it a json object? </p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"display_name":"user11044402"},"score":0,"creation_date":1564987289,"post_id":57353331,"comment_id":101194100,"body_markdown":"Yes, `sysparm_query` will be URL encoded. That&#39;s a good thing.","body":"Yes, <code>sysparm_query</code> will be URL encoded. That&#39;s a good thing."},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1564987334,"post_id":57353331,"comment_id":101194114,"body_markdown":"But I don&#39;t understand how it gets modified while running the micro-service...","body":"But I don&#39;t understand how it gets modified while running the micro-service..."},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1564987350,"post_id":57353331,"comment_id":101194118,"body_markdown":"You&#39;re getting double URL encoding. Determine why.","body":"You&#39;re getting double URL encoding. Determine why."},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1564987443,"post_id":57353331,"comment_id":101194160,"body_markdown":"Why was this downvoted?","body":"Why was this downvoted?"}],"answers":[{"comments":[{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1564987705,"post_id":57353455,"comment_id":101194277,"body_markdown":"Okay, so I added this line: `String final_sysparm_query = URLEncoder.encode(sysparm_query, &quot;UTF-8&quot;);`","body":"Okay, so I added this line: <code>String final_sysparm_query = URLEncoder.encode(sysparm_query, &quot;UTF-8&quot;);</code>"},{"owner":{"account_id":36556,"reputation":919,"user_id":104315,"accept_rate":71,"display_name":"Ryan"},"score":0,"creation_date":1564987738,"post_id":57353455,"comment_id":101194287,"body_markdown":"Isn&#39;t that going to make it even worse by adding another layer of encoding? Seems like you want to decode instead.","body":"Isn&#39;t that going to make it even worse by adding another layer of encoding? Seems like you want to decode instead."},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1564988024,"post_id":57353455,"comment_id":101194400,"body_markdown":"Then I can use `URIBuilder` which can take parameters as it is.","body":"Then I can use <code>URIBuilder</code> which can take parameters as it is."}],"tags":[],"owner":{"account_id":36556,"reputation":919,"user_id":104315,"accept_rate":71,"display_name":"Ryan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564987705,"creation_date":1564987657,"answer_id":57353455,"question_id":57353331,"body_markdown":"The URL is being url-encoded by one of the libraries you&#39;re using, `sysparm_query` is already url-encoded, so you&#39;re getting `%` changed `%25` and so on. So you probably want to change `sysparm_query` to not be url-encoded yet.","title":"URL parameter is getting modified","body":"<p>The URL is being url-encoded by one of the libraries you're using, <code>sysparm_query</code> is already url-encoded, so you're getting <code>%</code> changed <code>%25</code> and so on. So you probably want to change <code>sysparm_query</code> to not be url-encoded yet.</p>\n"},{"comments":[{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1564987764,"post_id":57353463,"comment_id":101194298,"body_markdown":"But I don&#39;t want to send `%25`. I want to send `%2`","body":"But I don&#39;t want to send <code>%25</code>. I want to send <code>%2</code>"},{"owner":{"account_id":16351522,"reputation":269,"user_id":11809913,"display_name":"Andrzej Jaromin"},"score":0,"creation_date":1564987830,"post_id":57353463,"comment_id":101194327,"body_markdown":"On the other side the `%25` should be encoded back to the `%`.","body":"On the other side the <code>%25</code> should be encoded back to the <code>%</code>."}],"tags":[],"owner":{"account_id":16351522,"reputation":269,"user_id":11809913,"display_name":"Andrzej Jaromin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564987716,"creation_date":1564987716,"answer_id":57353463,"question_id":57353331,"body_markdown":"The `%25` means that there is an ASCII character of `hex(25)` code - it is the `%` character.\r\n\r\nIt is correct behavior because you have in the `sysparm_query`: &quot;incident_stateNOT%20IN...&quot;, and the `%` character was encoded as `%25` to send it through the url parameters.","title":"URL parameter is getting modified","body":"<p>The <code>%25</code> means that there is an ASCII character of <code>hex(25)</code> code - it is the <code>%</code> character.</p>\n\n<p>It is correct behavior because you have in the <code>sysparm_query</code>: \"incident_stateNOT%20IN...\", and the <code>%</code> character was encoded as <code>%25</code> to send it through the url parameters.</p>\n"}],"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1680622160,"creation_date":1564987123,"question_id":57353331,"body_markdown":"I wrote a micro-service to make `http call` to an `API` and then fetch data via Angular 7. Code is as given below.  \r\n**`Connector Application`**  \r\n\r\n    package com.ajay.dashboard.service;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    @SpringBootApplication\r\n    public class DellDashboardConnectorApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DellDashboardConnectorApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RestTemplate getRestTemplate() {\r\n    \r\n    \t\treturn new RestTemplate();\r\n    \t}\r\n    }  \r\n**`Connector Controller`**  \r\n\r\n    package com.ajay.dashboard.service.controller;\r\n    \r\n    import java.net.URI;\r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpEntity;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.client.RestTemplate;\r\n    import org.springframework.web.util.UriComponentsBuilder;\r\n    \r\n    /*\r\n     * Created by Kulkaa\r\n     */\r\n    \r\n    @RestController\r\n    public class DellDashboardController {\r\n    \r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(DellDashboardController.class);\r\n    \r\n    \t@Autowired\r\n    \tRestTemplate restTemplate;\r\n    \r\n    \t@RequestMapping(method = RequestMethod.GET, value = &quot;/incident&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    \tpublic ResponseEntity&lt;?&gt; retrieveAllCircles(HttpServletRequest request) {\r\n    \t\tlogger.info(&quot;DellDashboardController -&gt; retrieveAllIncidents : invoked.&quot;);\r\n    \r\n    \t\tString formUrl = &quot;https://&lt;api&gt;/api/now/table/incident&quot;;\r\n    \r\n    \t\tfinal String sysparm_query = &quot;incident_stateNOT%20IN6%2C7%5Eassignment_group%3D4122c7f8f09cc1002283ac3a043ae3e6&quot;;\r\n    \t\tfinal String sysparm_display_value = &quot;true&quot;;\r\n    \t\tfinal String sysparm_exclude_reference_link = &quot;true&quot;;\r\n    \t\ttry {\r\n    \t\t\tMap&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n    \t\t\tURI actualUrl = UriComponentsBuilder.fromUriString(formUrl).buildAndExpand(params).toUri();\r\n    \t\t\tactualUrl = UriComponentsBuilder.fromUri(actualUrl).queryParam(&quot;sysparm_query&quot;, sysparm_query)\r\n    \t\t\t\t\t.queryParam(&quot;sysparm_display_value&quot;, sysparm_display_value)\r\n    \t\t\t\t\t.queryParam(&quot;sysparm_exclude_reference_link&quot;, sysparm_exclude_reference_link)\r\n    \t\t\t\t\t.build().toUri();\r\n    \t\t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\t\theaders.add(&quot;Authorization&quot;, &quot;&lt;authorization code&gt;&quot;);\r\n    \t\t\theaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n    \t\t\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\r\n    \t\t\treturn restTemplate.exchange(actualUrl, HttpMethod.GET, entity, String.class);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO: handle exception\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn retrieveAllCircles(request);\r\n    \t\t\r\n    \t}\r\n    \r\n    }  \r\nWhen I run this as a `Spring boot app` in tomcat, `incident_stateNOT%20IN6%2C7%5Eassignment_group%3D4122c7f8f09cc1002283ac3a043ae3e6` gets modified as `incident_stateNOT%2520IN6%252C7%255Eassignment_group%253D4122c7f8f09cc1002283ac3a043ae3e6`. Because of this unwanted modification, I&#39;m unable to connect to my API. I&#39;m unable to figure out what is causing this modification. What is causing this modification? \r\n  \r\nP.S: `mvn clean install` runs perfectly without any errors.","title":"URL parameter is getting modified","body":"<p>I wrote a micro-service to make <code>http call</code> to an <code>API</code> and then fetch data via Angular 7. Code is as given below.<br>\n<strong><code>Connector Application</code></strong>  </p>\n\n<pre><code>package com.ajay.dashboard.service;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.web.client.RestTemplate;\n\n@SpringBootApplication\npublic class DellDashboardConnectorApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DellDashboardConnectorApplication.class, args);\n    }\n\n    @Bean\n    public RestTemplate getRestTemplate() {\n\n        return new RestTemplate();\n    }\n}  \n</code></pre>\n\n<p><strong><code>Connector Controller</code></strong>  </p>\n\n<pre><code>package com.ajay.dashboard.service.controller;\n\nimport java.net.URI;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\nimport org.springframework.web.util.UriComponentsBuilder;\n\n/*\n * Created by Kulkaa\n */\n\n@RestController\npublic class DellDashboardController {\n\n    private static final Logger logger = LoggerFactory.getLogger(DellDashboardController.class);\n\n    @Autowired\n    RestTemplate restTemplate;\n\n    @RequestMapping(method = RequestMethod.GET, value = \"/incident\", produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;?&gt; retrieveAllCircles(HttpServletRequest request) {\n        logger.info(\"DellDashboardController -&gt; retrieveAllIncidents : invoked.\");\n\n        String formUrl = \"https://&lt;api&gt;/api/now/table/incident\";\n\n        final String sysparm_query = \"incident_stateNOT%20IN6%2C7%5Eassignment_group%3D4122c7f8f09cc1002283ac3a043ae3e6\";\n        final String sysparm_display_value = \"true\";\n        final String sysparm_exclude_reference_link = \"true\";\n        try {\n            Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n            URI actualUrl = UriComponentsBuilder.fromUriString(formUrl).buildAndExpand(params).toUri();\n            actualUrl = UriComponentsBuilder.fromUri(actualUrl).queryParam(\"sysparm_query\", sysparm_query)\n                    .queryParam(\"sysparm_display_value\", sysparm_display_value)\n                    .queryParam(\"sysparm_exclude_reference_link\", sysparm_exclude_reference_link)\n                    .build().toUri();\n            HttpHeaders headers = new HttpHeaders();\n            headers.add(\"Authorization\", \"&lt;authorization code&gt;\");\n            headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n            HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\n            return restTemplate.exchange(actualUrl, HttpMethod.GET, entity, String.class);\n        } catch (Exception e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }\n        return retrieveAllCircles(request);\n\n    }\n\n}  \n</code></pre>\n\n<p>When I run this as a <code>Spring boot app</code> in tomcat, <code>incident_stateNOT%20IN6%2C7%5Eassignment_group%3D4122c7f8f09cc1002283ac3a043ae3e6</code> gets modified as <code>incident_stateNOT%2520IN6%252C7%255Eassignment_group%253D4122c7f8f09cc1002283ac3a043ae3e6</code>. Because of this unwanted modification, I'm unable to connect to my API. I'm unable to figure out what is causing this modification. What is causing this modification? </p>\n\n<p>P.S: <code>mvn clean install</code> runs perfectly without any errors.</p>\n"},{"tags":["java","crash","java.util.scanner"],"comments":[{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":0,"creation_date":1443450124,"post_id":32825339,"comment_id":53486232,"body_markdown":"Try declaring 1 `Scanner` object (the one used in main) and pass it to the `getOperation` method.","body":"Try declaring 1 <code>Scanner</code> object (the one used in main) and pass it to the <code>getOperation</code> method."}],"answers":[{"tags":[],"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443450383,"creation_date":1443450383,"answer_id":32825479,"question_id":32825339,"body_markdown":"Try using this tiny code snippet\r\n\r\n    public static void main(String[] args) {\r\n       Scanner s1 = new Scanner(System.in);\r\n       Scanner s2 = new Scanner(System.in);\r\n\t   s2.close();\r\n\t   s1.nextLine();\r\n    }\r\n\r\nThe close function closes the InputStream System.in\r\n\r\nSince you are closing a scanner with `scan.close();` in `getOperation()` a following call on another scanner with the same InputStream will cause the exception that you are running into.","title":"Java app is crashing on nextLine()","body":"<p>Try using this tiny code snippet</p>\n\n<pre><code>public static void main(String[] args) {\n   Scanner s1 = new Scanner(System.in);\n   Scanner s2 = new Scanner(System.in);\n   s2.close();\n   s1.nextLine();\n}\n</code></pre>\n\n<p>The close function closes the InputStream System.in</p>\n\n<p>Since you are closing a scanner with <code>scan.close();</code> in <code>getOperation()</code> a following call on another scanner with the same InputStream will cause the exception that you are running into.</p>\n"},{"tags":[],"owner":{"account_id":943365,"reputation":4244,"user_id":971070,"accept_rate":44,"display_name":"Hong Duan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443452924,"creation_date":1443452924,"answer_id":32826284,"question_id":32825339,"body_markdown":"You don&#39;t need the `Scanner` in main:\r\n\r\n    public static void main(String[] args) {\r\n        String s = new String();\r\n        System.out.print(&quot;Enter string:&quot;);\r\n        int operation = 0;\r\n        operation = getOperation();\r\n        s = &quot;&quot; + operation; // program crashes before I have the chance to input anything\r\n        System.out.println(s);\r\n    }\r\n\r\noutput:\r\n\r\n    Enter string:11\r\n    Please enter valid operation 1-10:1\r\n    1\r\n\r\n","title":"Java app is crashing on nextLine()","body":"<p>You don't need the <code>Scanner</code> in main:</p>\n\n<pre><code>public static void main(String[] args) {\n    String s = new String();\n    System.out.print(\"Enter string:\");\n    int operation = 0;\n    operation = getOperation();\n    s = \"\" + operation; // program crashes before I have the chance to input anything\n    System.out.println(s);\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Enter string:11\nPlease enter valid operation 1-10:1\n1\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3186389,"reputation":2247,"user_id":2691904,"display_name":"hugh"},"score":0,"creation_date":1681052022,"post_id":75931189,"comment_id":133993629,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/34163115)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/34163115\">From Review</a>"}],"tags":[],"owner":{"account_id":391568,"reputation":33,"user_id":752313,"display_name":"Mr.T"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680622148,"creation_date":1680622148,"answer_id":75931189,"question_id":32825339,"body_markdown":"for me it was crashing when I used nextLine() after nextInt().\r\nused parallel scanner (I am new to java):","title":"Java app is crashing on nextLine()","body":"<p>for me it was crashing when I used nextLine() after nextInt().\nused parallel scanner (I am new to java):</p>\n"}],"owner":{"account_id":7028138,"reputation":1,"user_id":5384855,"display_name":"guyM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680622148,"creation_date":1443449961,"question_id":32825339,"body_markdown":"My application always crashs when it gets to `scan.getLine()` in `main`.\r\nThe error I get is &quot;java.util.NoSuchElementException: No line found&quot;.\r\n\r\nHere is the code:\r\n\r\n    public static void main(String[] args) {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tString s = new String();\r\n\t\tint operation=0;\r\n\t\toperation = getOperation();\r\n\t\tSystem.out.print(&quot;Enter string:&quot;);\r\n\t\ts = scan.nextLine();  // program crashes before I have the chance to input anything\r\n\t\tSystem.out.println(s);\r\n\t\tscan.close();\r\n\t\t\t\t\r\n\t}\r\n    public static int getOperation(){ //get operation between 1-10\r\n\t\tScanner scan= new Scanner(System.in);\r\n\t\tboolean input=true;\r\n\t\tint op=0;\r\n\t\twhile (input){ // get correct input from the user\r\n\t\t\tif (scan.hasNextInt())\r\n            {\r\n\t\t\t\top=scan.nextInt();\r\n\t\t\t\tif (op &lt; 1 || op &gt; 10)\r\n\t\t\t\t\tSystem.out.print(&quot;Please enter valid operation 1-10:&quot;);\r\n\t\t\t\telse\r\n\t\t\t\t\tinput=false;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tSystem.out.print(&quot;Please enter valid operation 1-10:&quot;);\r\n\t\t\tscan.nextLine(); // to clear the buffer\r\n\t\t}\r\n\t\tscan.close();\r\n\t\treturn op;\r\n\t}\r\n\r\nThe strange thing is that when I insert before I write `getOperation` function , and the entire `getOperation` was inside `main`, the application worked fine. Only after I moved the code to `getOperation` method , then the `scan.nextLine()` crashes, before I even have a change to enter anything in the console.\r\n","title":"Java app is crashing on nextLine()","body":"<p>My application always crashs when it gets to <code>scan.getLine()</code> in <code>main</code>.\nThe error I get is \"java.util.NoSuchElementException: No line found\".</p>\n\n<p>Here is the code:</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    String s = new String();\n    int operation=0;\n    operation = getOperation();\n    System.out.print(\"Enter string:\");\n    s = scan.nextLine();  // program crashes before I have the chance to input anything\n    System.out.println(s);\n    scan.close();\n\n}\npublic static int getOperation(){ //get operation between 1-10\n    Scanner scan= new Scanner(System.in);\n    boolean input=true;\n    int op=0;\n    while (input){ // get correct input from the user\n        if (scan.hasNextInt())\n        {\n            op=scan.nextInt();\n            if (op &lt; 1 || op &gt; 10)\n                System.out.print(\"Please enter valid operation 1-10:\");\n            else\n                input=false;\n        }\n        else\n            System.out.print(\"Please enter valid operation 1-10:\");\n        scan.nextLine(); // to clear the buffer\n    }\n    scan.close();\n    return op;\n}\n</code></pre>\n\n<p>The strange thing is that when I insert before I write <code>getOperation</code> function , and the entire <code>getOperation</code> was inside <code>main</code>, the application worked fine. Only after I moved the code to <code>getOperation</code> method , then the <code>scan.nextLine()</code> crashes, before I even have a change to enter anything in the console.</p>\n"},{"tags":["java","telegram","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":21906837,"reputation":57,"user_id":16453810,"display_name":"Sergei Lobachev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680621809,"creation_date":1680621809,"answer_id":75931135,"question_id":75923804,"body_markdown":"I&#39;m not 100% sure, but in my opinion this is impossible because we can only request user data when he enters the robot. Anybody have a different opinion on this?","title":"How to get information about any user having only user_id in telegram bot in Java?","body":"<p>I'm not 100% sure, but in my opinion this is impossible because we can only request user data when he enters the robot. Anybody have a different opinion on this?</p>\n"}],"owner":{"account_id":21906837,"reputation":57,"user_id":16453810,"display_name":"Sergei Lobachev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680621809,"creation_date":1680556311,"question_id":75923804,"body_markdown":"I use Java and [telegrambots](https://mvnrepository.com/artifact/org.telegram/telegrambots) library. Using the [keyboardButtonRequestUser](https://core.telegram.org/bots/api#keyboardbuttonrequestuser) method, I can get the user_id of an outside user, but how to collect all the information about outside user with only the user_id?\r\n\r\n\r\n```\r\n    public void onUpdateReceived(Update update) {\r\n\r\n        if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\r\n\r\n            String massageText = update.getMessage().getText();\r\n            long chatId = update.getMessage().getChatId();\r\n            User user = update.getMessage().getFrom();\r\n\r\n            if (massageText.equals(&quot;/start&quot;)) {\r\n// UserShared --&gt; UserShared(requestId=732633638, userId=6165875618)\r\n                System.out.println(&quot;OutsideUserId = 6165875618 --&gt; &quot; + &quot;...????&quot;);\r\n\r\n                startCommandReceived(chatId, update.getMessage().getChat().getFirstName());\r\n            } \r\n            else {\r\n                sendMessage(chatId, &quot;Sorry, command was not recognized&quot;);\r\n            }\r\n\r\n        } \r\n        else if (update.hasMessage()){\r\n            long chatId = update.getMessage().getChatId();\r\n            sendMessage(chatId, &quot;UserShared --&gt; &quot;+ update.getMessage().getUserShared());\r\n            sendMessage(chatId, &quot;ChatShared --&gt; &quot;+ update.getMessage().getChatShared());\r\n            sendMessage(chatId, &quot;CurrentChatId --&gt; &quot;+chatId);\r\n        }\r\n    }\r\n```\r\n","title":"How to get information about any user having only user_id in telegram bot in Java?","body":"<p>I use Java and <a href=\"https://mvnrepository.com/artifact/org.telegram/telegrambots\" rel=\"nofollow noreferrer\">telegrambots</a> library. Using the <a href=\"https://core.telegram.org/bots/api#keyboardbuttonrequestuser\" rel=\"nofollow noreferrer\">keyboardButtonRequestUser</a> method, I can get the user_id of an outside user, but how to collect all the information about outside user with only the user_id?</p>\n<pre><code>    public void onUpdateReceived(Update update) {\n\n        if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\n\n            String massageText = update.getMessage().getText();\n            long chatId = update.getMessage().getChatId();\n            User user = update.getMessage().getFrom();\n\n            if (massageText.equals(&quot;/start&quot;)) {\n// UserShared --&gt; UserShared(requestId=732633638, userId=6165875618)\n                System.out.println(&quot;OutsideUserId = 6165875618 --&gt; &quot; + &quot;...????&quot;);\n\n                startCommandReceived(chatId, update.getMessage().getChat().getFirstName());\n            } \n            else {\n                sendMessage(chatId, &quot;Sorry, command was not recognized&quot;);\n            }\n\n        } \n        else if (update.hasMessage()){\n            long chatId = update.getMessage().getChatId();\n            sendMessage(chatId, &quot;UserShared --&gt; &quot;+ update.getMessage().getUserShared());\n            sendMessage(chatId, &quot;ChatShared --&gt; &quot;+ update.getMessage().getChatShared());\n            sendMessage(chatId, &quot;CurrentChatId --&gt; &quot;+chatId);\n        }\n    }\n</code></pre>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1680588525,"post_id":75925961,"comment_id":133919140,"body_markdown":"Thats because you are making changes to the parameter `ListNode head`. not the class variables `static ListNode head = null;`. You can either remove the ListNode parameter from the method, or use `this` to refer to head inside the method to resolve the issue. This also has to do with Java [pass by value or pass by reference](https://stackoverflow.com/q/40480/16034206), so you should read up on that to find out why `temp.next = head; head = temp;` did not work the way you expect.","body":"Thats because you are making changes to the parameter <code>ListNode head</code>. not the class variables <code>static ListNode head = null;</code>. You can either remove the ListNode parameter from the method, or use <code>this</code> to refer to head inside the method to resolve the issue. This also has to do with Java <a href=\"https://stackoverflow.com/q/40480/16034206\">pass by value or pass by reference</a>, so you should read up on that to find out why <code>temp.next = head; head = temp;</code> did not work the way you expect."}],"answers":[{"tags":[],"owner":{"account_id":3970181,"reputation":109,"user_id":3274968,"display_name":"Md Wahidul Azam"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680591697,"creation_date":1680591697,"answer_id":75926382,"question_id":75925961,"body_markdown":"Here is what you need to do:\r\n\r\n        class ListNode{\r\n      int data;\r\n      ListNode next;\r\n    \r\n      ListNode(int data)\r\n      {\r\n        this.data = data;\r\n        this.next = null;\r\n      }\r\n    }\r\n    \r\n    class Operations{\r\n      static ListNode head = null;\r\n    \r\n      void insertStart(int num)\r\n      {\r\n        ListNode temp = new ListNode(num);\r\n        if (head == null)\r\n        {\r\n          head = temp;\r\n        }\r\n        else{\r\n          temp.next = head;\r\n          head = temp;\r\n        }\r\n      }\r\n    \r\n      void display(ListNode head){\r\n        ListNode temp = head;\r\n        while (temp != null)\r\n        {\r\n          System.out.println(temp.data+&quot;-&gt;&quot;);\r\n          temp = temp.next;\r\n        }\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        Operations l1 = new Operations();\r\n        l1.insertStart(5);\r\n        l1.insertStart(4);\r\n        l1.insertStart(3);\r\n        l1.insertStart(2);\r\n        l1.insertStart(1);\r\n        l1.display(head);\r\n      }\r\n    }","title":"Why is the Linked List implementation not working","body":"<p>Here is what you need to do:</p>\n<pre><code>    class ListNode{\n  int data;\n  ListNode next;\n\n  ListNode(int data)\n  {\n    this.data = data;\n    this.next = null;\n  }\n}\n\nclass Operations{\n  static ListNode head = null;\n\n  void insertStart(int num)\n  {\n    ListNode temp = new ListNode(num);\n    if (head == null)\n    {\n      head = temp;\n    }\n    else{\n      temp.next = head;\n      head = temp;\n    }\n  }\n\n  void display(ListNode head){\n    ListNode temp = head;\n    while (temp != null)\n    {\n      System.out.println(temp.data+&quot;-&gt;&quot;);\n      temp = temp.next;\n    }\n  }\n\n  public static void main(String[] args) {\n    Operations l1 = new Operations();\n    l1.insertStart(5);\n    l1.insertStart(4);\n    l1.insertStart(3);\n    l1.insertStart(2);\n    l1.insertStart(1);\n    l1.display(head);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680621182,"creation_date":1680621182,"answer_id":75931054,"question_id":75925961,"body_markdown":"The problem is that you pass `head` as an argument to your `insert` method, and so it is a local variable. Any assignment to a local variable will not be seen by the caller.\r\n\r\nBut, taking a step back, it should not be necessary to pass `head` as argument to a method of your linked list instance. That instance should know &quot;itself&quot; what its head is. And that reveals another problem: `head` should not be a *static* member of your class, but an instance variable: every instance of `Operations` should have its own head.\r\n\r\nNot a problem, but the implementation of `insert` doesn&#39;t really need the `if...else` construct. In either case you can assign `temp.next=head`, and in either case you want to set `head=temp`.\r\n\r\nSo correct your code as follows:\r\n\r\n```\r\nclass ListNode{\r\n  int data;\r\n  ListNode next;\r\n\r\n  ListNode(int data)\r\n  {\r\n    this.data = data;\r\n    this.next = null;\r\n  }\r\n}\r\n\r\nclass Operations{\r\n  ListNode head = null; // Should not be static! Every instance has its own head\r\n\r\n  void insertStart(int num) // head should not be an argument. Use the instance variable.\r\n  {\r\n    ListNode temp = new ListNode(num);\r\n    // No distinction needed between empty list or non-empty list:\r\n    temp.next = head;\r\n    head = temp;\r\n  }\r\n\r\n  void display(){ // head should not be an argument. Use the instance variable.\r\n    ListNode temp = head;\r\n    while (temp != null)\r\n    {\r\n      System.out.print(temp.data+&quot;-&gt;&quot;); // Output on same line\r\n      temp = temp.next;\r\n    }\r\n    System.out.println(&quot;null&quot;); // Terminate the line\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    Operations l1 = new Operations();\r\n    l1.insertStart(5); // Don&#39;t pass the head as argument.\r\n    l1.insertStart(4);\r\n    l1.insertStart(3);\r\n    l1.insertStart(2);\r\n    l1.insertStart(1);\r\n    l1.display();\r\n  }\r\n}\r\n```\r\n","title":"Why is the Linked List implementation not working","body":"<p>The problem is that you pass <code>head</code> as an argument to your <code>insert</code> method, and so it is a local variable. Any assignment to a local variable will not be seen by the caller.</p>\n<p>But, taking a step back, it should not be necessary to pass <code>head</code> as argument to a method of your linked list instance. That instance should know &quot;itself&quot; what its head is. And that reveals another problem: <code>head</code> should not be a <em>static</em> member of your class, but an instance variable: every instance of <code>Operations</code> should have its own head.</p>\n<p>Not a problem, but the implementation of <code>insert</code> doesn't really need the <code>if...else</code> construct. In either case you can assign <code>temp.next=head</code>, and in either case you want to set <code>head=temp</code>.</p>\n<p>So correct your code as follows:</p>\n<pre><code>class ListNode{\n  int data;\n  ListNode next;\n\n  ListNode(int data)\n  {\n    this.data = data;\n    this.next = null;\n  }\n}\n\nclass Operations{\n  ListNode head = null; // Should not be static! Every instance has its own head\n\n  void insertStart(int num) // head should not be an argument. Use the instance variable.\n  {\n    ListNode temp = new ListNode(num);\n    // No distinction needed between empty list or non-empty list:\n    temp.next = head;\n    head = temp;\n  }\n\n  void display(){ // head should not be an argument. Use the instance variable.\n    ListNode temp = head;\n    while (temp != null)\n    {\n      System.out.print(temp.data+&quot;-&gt;&quot;); // Output on same line\n      temp = temp.next;\n    }\n    System.out.println(&quot;null&quot;); // Terminate the line\n  }\n\n  public static void main(String[] args) {\n    Operations l1 = new Operations();\n    l1.insertStart(5); // Don't pass the head as argument.\n    l1.insertStart(4);\n    l1.insertStart(3);\n    l1.insertStart(2);\n    l1.insertStart(1);\n    l1.display();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":28209784,"reputation":11,"user_id":21562262,"display_name":"BeginnerCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680621182,"creation_date":1680588216,"question_id":75925961,"body_markdown":"So, im trying to learn the implementation of linked list in java. I created a method to insert in the start but when i run it through main, i don&#39;t see any output returned.\r\n\r\n```\r\nclass ListNode{\r\n  int data;\r\n  ListNode next;\r\n\r\n  ListNode(int data)\r\n  {\r\n    this.data = data;\r\n    this.next = null;\r\n  }\r\n}\r\n\r\nclass Operations{\r\n  static ListNode head = null;\r\n\r\n  void insertStart(int num, ListNode head)\r\n  {\r\n    ListNode temp = new ListNode(num);\r\n    if (head == null)\r\n    {\r\n      head = temp;\r\n    }\r\n    else{\r\n      temp.next = head;\r\n      head = temp;\r\n    }\r\n  }\r\n\r\n  void display(ListNode head){\r\n    ListNode temp = head;\r\n    while (temp != null)\r\n    {\r\n      System.out.println(temp.data+&quot;-&gt;&quot;);\r\n      temp = temp.next;\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    Operations l1 = new Operations();\r\n    l1.insertStart(5,head);\r\n    l1.insertStart(4, head);\r\n    l1.insertStart(3, head);\r\n    l1.insertStart(2, head);\r\n    l1.insertStart(1, head);\r\n    l1.display(head);\r\n  }\r\n}\r\n```\r\n\r\nCan someone please help me, i can&#39;t seem to find the error. Everything seems perfect.","title":"Why is the Linked List implementation not working","body":"<p>So, im trying to learn the implementation of linked list in java. I created a method to insert in the start but when i run it through main, i don't see any output returned.</p>\n<pre><code>class ListNode{\n  int data;\n  ListNode next;\n\n  ListNode(int data)\n  {\n    this.data = data;\n    this.next = null;\n  }\n}\n\nclass Operations{\n  static ListNode head = null;\n\n  void insertStart(int num, ListNode head)\n  {\n    ListNode temp = new ListNode(num);\n    if (head == null)\n    {\n      head = temp;\n    }\n    else{\n      temp.next = head;\n      head = temp;\n    }\n  }\n\n  void display(ListNode head){\n    ListNode temp = head;\n    while (temp != null)\n    {\n      System.out.println(temp.data+&quot;-&gt;&quot;);\n      temp = temp.next;\n    }\n  }\n\n  public static void main(String[] args) {\n    Operations l1 = new Operations();\n    l1.insertStart(5,head);\n    l1.insertStart(4, head);\n    l1.insertStart(3, head);\n    l1.insertStart(2, head);\n    l1.insertStart(1, head);\n    l1.display(head);\n  }\n}\n</code></pre>\n<p>Can someone please help me, i can't seem to find the error. Everything seems perfect.</p>\n"},{"tags":["java","out-of-memory"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":13,"creation_date":1369735879,"post_id":16789288,"comment_id":24193901,"body_markdown":"Operating systems have limits on the number of threads that you can create. Why are you creating more than 32k threads? Your system does most likely not have thousands of processor cores, creating so many threads is not useful. Use a thread pool (`ExecutorService`) instead.","body":"Operating systems have limits on the number of threads that you can create. Why are you creating more than 32k threads? Your system does most likely not have thousands of processor cores, creating so many threads is not useful. Use a thread pool (<code>ExecutorService</code>) instead."},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369736869,"post_id":16789288,"comment_id":24194427,"body_markdown":"Thanks for the reply.\n\nWe are using an open source library and trying to load test that. Any that open source library is creating so many threads.\n\nBut what i dont understand, is when &quot;top&quot; is showing 50% free memory then why OutOfMemory Error.","body":"Thanks for the reply.  We are using an open source library and trying to load test that. Any that open source library is creating so many threads.  But what i dont understand, is when &quot;top&quot; is showing 50% free memory then why OutOfMemory Error."},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369737119,"post_id":16789288,"comment_id":24194557,"body_markdown":"The open source library that we are using in ICE4j Library","body":"The open source library that we are using in ICE4j Library"},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":17,"creation_date":1369737412,"post_id":16789288,"comment_id":24194708,"body_markdown":"OutOfMemoryError does **not** necessarily mean heap space, or &quot;general&quot; RAM, was exhausted.  In this case it&#39;s clear that the failure was due to the OS not having the resources to allocate an extra thread.  Having 50% free memory is irrelevant to this particular failure.","body":"OutOfMemoryError does <b>not</b> necessarily mean heap space, or &quot;general&quot; RAM, was exhausted.  In this case it&#39;s clear that the failure was due to the OS not having the resources to allocate an extra thread.  Having 50% free memory is irrelevant to this particular failure."},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":2,"creation_date":1369737840,"post_id":16789288,"comment_id":24194919,"body_markdown":"What are the other resources required for creating new threads.\n\nWe were under the impression that if we increase the RAM, then we may able to create more threads.\n\nKindly guide us","body":"What are the other resources required for creating new threads.  We were under the impression that if we increase the RAM, then we may able to create more threads.  Kindly guide us"},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369744252,"post_id":16789288,"comment_id":24198338,"body_markdown":"We tried using ExecutorService, then also number of threads are 32K, it is because all threads are forever live threads.","body":"We tried using ExecutorService, then also number of threads are 32K, it is because all threads are forever live threads."},{"owner":{"account_id":1617353,"reputation":534,"user_id":1494680,"accept_rate":100,"display_name":"Omer"},"score":0,"creation_date":1530818096,"post_id":16789288,"comment_id":89378596,"body_markdown":"there is seems to be some open source lib which creating threads but not able to finish/stop the threads properly, may be all the threads were created and went into sleep mode.","body":"there is seems to be some open source lib which creating threads but not able to finish/stop the threads properly, may be all the threads were created and went into sleep mode."},{"owner":{"account_id":9216482,"reputation":125,"user_id":6847427,"display_name":"Harshad Chhaiya"},"score":0,"creation_date":1582624515,"post_id":16789288,"comment_id":106832750,"body_markdown":"@DeepakTewani - I am facing a similar issue. Did you get the solution?","body":"@DeepakTewani - I am facing a similar issue. Did you get the solution?"}],"answers":[{"comments":[{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":1,"creation_date":1369737338,"post_id":16789449,"comment_id":24194662,"body_markdown":"Thanks for the reply\n\nWe are using an open source library ICE4j and trying to load test that.\n\nCant we increase the limit of threads in OS when we know that there is 50% memory left on the server.","body":"Thanks for the reply  We are using an open source library ICE4j and trying to load test that.  Cant we increase the limit of threads in OS when we know that there is 50% memory left on the server."},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":1,"creation_date":1369738881,"post_id":16789449,"comment_id":24195453,"body_markdown":"We are creating 11K clients that uses 32 K threads for reading, writing data on UDP sockets. Out of these 32 K threads, 10K threads are keep alive threads that are used to keep the socket open","body":"We are creating 11K clients that uses 32 K threads for reading, writing data on UDP sockets. Out of these 32 K threads, 10K threads are keep alive threads that are used to keep the socket open"}],"tags":[],"owner":{"account_id":2131420,"reputation":28903,"user_id":1892179,"accept_rate":84,"display_name":"Theodoros Chatzigiannakis"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1369736346,"creation_date":1369736020,"answer_id":16789449,"question_id":16789288,"body_markdown":"It&#39;s likely that your OS does not allow the number of threads you&#39;re trying to create, or you&#39;re hitting some limit in the JVM. Especially if it&#39;s such a round number as 32k, a limit of one kind or another is a very likely culprit.\r\n\r\nAre you sure you truly need 32k threads? Most modern languages have some kind of support for pools of reusable threads - I&#39;m sure Java has something in place too (like `ExecutorService`, as user Jesper mentioned). Perhaps you could request threads from such a pool, instead of manually creating new ones.","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>It's likely that your OS does not allow the number of threads you're trying to create, or you're hitting some limit in the JVM. Especially if it's such a round number as 32k, a limit of one kind or another is a very likely culprit.</p>\n\n<p>Are you sure you truly need 32k threads? Most modern languages have some kind of support for pools of reusable threads - I'm sure Java has something in place too (like <code>ExecutorService</code>, as user Jesper mentioned). Perhaps you could request threads from such a pool, instead of manually creating new ones.</p>\n"},{"comments":[{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":1,"creation_date":1369738922,"post_id":16789458,"comment_id":24195477,"body_markdown":"We have all already tried that change that is given on that link.\n\nBut result is same :(","body":"We have all already tried that change that is given on that link.  But result is same :("}],"tags":[],"owner":{"account_id":2714847,"reputation":1370,"user_id":2342446,"display_name":"Pavan Kumar K"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680177236,"creation_date":1369736038,"answer_id":16789458,"question_id":16789288,"body_markdown":"If your Job is failing because of `OutOfMemory` on nodes you can tweak the number of max maps and reducers and the JVM opts for each. `mapred.child.java.opts` (the default is `200Xmx`) usually has to be increased based on your data nodes specific hardware.\r\n\r\n[This link](http://www.mastertheboss.com/jboss-monitoring/how-to-solve-javalangoutofmemoryerror-unable-to-create-new-native-thread) might be helpful.","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>If your Job is failing because of <code>OutOfMemory</code> on nodes you can tweak the number of max maps and reducers and the JVM opts for each. <code>mapred.child.java.opts</code> (the default is <code>200Xmx</code>) usually has to be increased based on your data nodes specific hardware.</p>\n<p><a href=\"http://www.mastertheboss.com/jboss-monitoring/how-to-solve-javalangoutofmemoryerror-unable-to-create-new-native-thread\" rel=\"nofollow noreferrer\">This link</a> might be helpful.</p>\n"},{"comments":[{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369737435,"post_id":16789621,"comment_id":24194719,"body_markdown":"Thanks for the reply.\n\nWe are using an open source library ICE4j and trying to load test that. Cant we increase the limit of threads in OS when we know that there is 50% memory left on the server.","body":"Thanks for the reply.  We are using an open source library ICE4j and trying to load test that. Cant we increase the limit of threads in OS when we know that there is 50% memory left on the server."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1369737848,"post_id":16789621,"comment_id":24194927,"body_markdown":"Possibly, but I think it will not help you as such.  If you run out of resources when load testing you need to be able to control what happens in your application.  Why do you have 32000 threads active at once?","body":"Possibly, but I think it will not help you as such.  If you run out of resources when load testing you need to be able to control what happens in your application.  Why do you have 32000 threads active at once?"},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369738244,"post_id":16789621,"comment_id":24195130,"body_markdown":"We are creating 11K clients that uses 32 K threads for reading, writing data on UDP sockets. Out of these 32 K threads, 10K threads are keep alive threads that are used to keep the socket open","body":"We are creating 11K clients that uses 32 K threads for reading, writing data on UDP sockets. Out of these 32 K threads, 10K threads are keep alive threads that are used to keep the socket open"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1369738887,"post_id":16789621,"comment_id":24195460,"body_markdown":"I believe this problem is solved in modern web servers. Also udp can loose packets - any reason you do not just use a web server?","body":"I believe this problem is solved in modern web servers. Also udp can loose packets - any reason you do not just use a web server?"},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369739139,"post_id":16789621,"comment_id":24195585,"body_markdown":"We cant use web servers because, what are we creating are clients that would talk with other clients. Both the clients can be behind symmetric, asymmetric nats .\n\nFor their connectivity , we are using ice4j library.\n\nWhat i am not able to understand is , if server has 50% memory left then what jvm is not able to create more threads","body":"We cant use web servers because, what are we creating are clients that would talk with other clients. Both the clients can be behind symmetric, asymmetric nats .  For their connectivity , we are using ice4j library.  What i am not able to understand is , if server has 50% memory left then what jvm is not able to create more threads"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":10,"creation_date":1369739352,"post_id":16789621,"comment_id":24195681,"body_markdown":"Because OutOfMemory exception should have been named OutOfResources.  The operating system cannot provide the resource you need.  (And it turned out I did not know ice4j)","body":"Because OutOfMemory exception should have been named OutOfResources.  The operating system cannot provide the resource you need.  (And it turned out I did not know ice4j)"},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369740145,"post_id":16789621,"comment_id":24196075,"body_markdown":"So , if we use 16GB RAM (double the memory that we are using now), then,are we able to create double number threads then now?","body":"So , if we use 16GB RAM (double the memory that we are using now), then,are we able to create double number threads then now?"},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369740938,"post_id":16789621,"comment_id":24196518,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/30753/discussion-between-deepak-tewani-and-thorbjorn-ravn-andersen)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/30753/discussion-between-deepak-tewani-and-thorbjorn-ravn-andersen\">continue this discussion in chat</a>"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1369747782,"post_id":16789621,"comment_id":24200431,"body_markdown":"You misunderstand.  The reason Linux does not give you more threads is not because it is running out of memory but because you run into a limit set by Linux itself (this can be an arbitrary rule or because the data structure used isn&#39;t any larger).   Note that regardless of how much you raise this limit your application must still be able to cope.  I suggest you revisit your &quot;a thread per connection&quot; design.","body":"You misunderstand.  The reason Linux does not give you more threads is not because it is running out of memory but because you run into a limit set by Linux itself (this can be an arbitrary rule or because the data structure used isn&#39;t any larger).   Note that regardless of how much you raise this limit your application must still be able to cope.  I suggest you revisit your &quot;a thread per connection&quot; design."},{"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"score":0,"creation_date":1369750531,"post_id":16789621,"comment_id":24202238,"body_markdown":"We also tried ExecutorService for thread and then also the application is creating 32K threads. ExecutorService is creating so many threads because all the threads created by application are forever live threads.\n\nI understand that, Linux have a limit of giving threads to an application, but cant we increase this limit?","body":"We also tried ExecutorService for thread and then also the application is creating 32K threads. ExecutorService is creating so many threads because all the threads created by application are forever live threads.  I understand that, Linux have a limit of giving threads to an application, but cant we increase this limit?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1369760561,"post_id":16789621,"comment_id":24208134,"body_markdown":"Probably, but not something I&#39;ve interested me for so I do not know how.  Consider opening a new question asking that on the Linux SE site.","body":"Probably, but not something I&#39;ve interested me for so I do not know how.  Consider opening a new question asking that on the Linux SE site."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1369760695,"post_id":16789621,"comment_id":24208198,"body_markdown":"Also consider finding out how the ice4j community suggest you should solve this problem.  You might have missed something in the documentation.","body":"Also consider finding out how the ice4j community suggest you should solve this problem.  You might have missed something in the documentation."},{"owner":{"account_id":14410,"reputation":44184,"user_id":29639,"accept_rate":74,"display_name":"T.E.D."},"score":1,"creation_date":1377697404,"post_id":16789621,"comment_id":27180664,"body_markdown":"@DeepakTewani - Perhaps running two or more copies of your program will do what you want? Still, I&#39;d think if you are running the system low on threads and things are still working, most likely your program passed the load test. :-)","body":"@DeepakTewani - Perhaps running two or more copies of your program will do what you want? Still, I&#39;d think if you are running the system low on threads and things are still working, most likely your program passed the load test. :-)"}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":13,"down_vote_count":0,"up_vote_count":99,"is_accepted":false,"score":99,"last_activity_date":1680620980,"creation_date":1369736546,"answer_id":16789621,"question_id":16789288,"body_markdown":"This is not a memory problem even though the exception name highly suggests so, but an operating system resource problem.  You are running out of native threads, i.e. the amount of threads the operating system will allow your JVM to use.    \r\n\r\nThis is an uncommon problem, because you rarely need that many.  Do you have a lot of unconditional thread spawning where the threads should but doesn&#39;t finish?  \r\n\r\nYou might consider rewriting into using Callable/Runnables under the control of an Executor if at all possible.  There are plenty of standard executors with various behavior which your code can easily control.\r\n\r\n(There are many reasons why the number of threads is limited, but they vary from operating system to operating system)","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>This is not a memory problem even though the exception name highly suggests so, but an operating system resource problem.  You are running out of native threads, i.e. the amount of threads the operating system will allow your JVM to use.</p>\n<p>This is an uncommon problem, because you rarely need that many.  Do you have a lot of unconditional thread spawning where the threads should but doesn't finish?</p>\n<p>You might consider rewriting into using Callable/Runnables under the control of an Executor if at all possible.  There are plenty of standard executors with various behavior which your code can easily control.</p>\n<p>(There are many reasons why the number of threads is limited, but they vary from operating system to operating system)</p>\n"},{"tags":[],"owner":{"account_id":2094013,"reputation":377,"user_id":1863194,"display_name":"P-H"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1377697581,"creation_date":1377697176,"answer_id":18489590,"question_id":16789288,"body_markdown":"I would recommend to also look at the Thread Stack Size and see if you get more threads created. The default Thread Stack Size for [JRockit 1.5/1.6][1] is 1 MB for 64-bit VM on Linux OS. 32K threads will require a significant amount of physical and virtual memory to honor this requirement. \r\n\r\nTry to reduce the Stack Size to **512 KB** as a starting point and see if it helps creating more threads for your application. I also recommend to explore horizontal scaling e.g. splitting your application processing across more physical or virtual machines.\r\n\r\nWhen using a 64-bit VM, the true limit will depend on the OS physical and virtual memory availability and OS tuning parameters such as ulimitc. I also recommend the following article as a reference:\r\n\r\n[OutOfMemoryError: unable to create new native thread – Problem Demystified][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E13188_01/jrockit/docs50/tuning/config.html#1010137\r\n  [2]: http://javaeesupportpatterns.blogspot.com/2012/09/outofmemoryerror-unable-to-create-new.html","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>I would recommend to also look at the Thread Stack Size and see if you get more threads created. The default Thread Stack Size for <a href=\"http://docs.oracle.com/cd/E13188_01/jrockit/docs50/tuning/config.html#1010137\" rel=\"noreferrer\">JRockit 1.5/1.6</a> is 1 MB for 64-bit VM on Linux OS. 32K threads will require a significant amount of physical and virtual memory to honor this requirement. </p>\n\n<p>Try to reduce the Stack Size to <strong>512 KB</strong> as a starting point and see if it helps creating more threads for your application. I also recommend to explore horizontal scaling e.g. splitting your application processing across more physical or virtual machines.</p>\n\n<p>When using a 64-bit VM, the true limit will depend on the OS physical and virtual memory availability and OS tuning parameters such as ulimitc. I also recommend the following article as a reference:</p>\n\n<p><a href=\"http://javaeesupportpatterns.blogspot.com/2012/09/outofmemoryerror-unable-to-create-new.html\" rel=\"noreferrer\">OutOfMemoryError: unable to create new native thread – Problem Demystified</a></p>\n"},{"comments":[{"owner":{"account_id":2646962,"reputation":1172,"user_id":2289441,"accept_rate":67,"display_name":"ftrujillo"},"score":11,"creation_date":1457940372,"post_id":19445921,"comment_id":59616566,"body_markdown":"This is not a solution to the question.","body":"This is not a solution to the question."}],"tags":[],"owner":{"account_id":30705,"reputation":9267,"user_id":83843,"accept_rate":88,"display_name":"Flueras Bogdan"},"comment_count":1,"down_vote_count":10,"up_vote_count":4,"is_accepted":false,"score":-6,"last_activity_date":1382087808,"creation_date":1382087808,"answer_id":19445921,"question_id":16789288,"body_markdown":"First of all I wouldn&#39;t blame that much the OS/VM.. rather the developer who wrote the code that creates ***sooo many Threads***. \r\nBasically somewhere in your code (or 3rd party) ***a lot of threads are created without control***.\r\n \r\nCarefully review the stacktraces/code and control the number of threads that get created. Normally your app shouldn&#39;t need a large amount of threads, if it does it&#39;s a different problem.","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>First of all I wouldn't blame that much the OS/VM.. rather the developer who wrote the code that creates <strong><em>sooo many Threads</em></strong>. \nBasically somewhere in your code (or 3rd party) <strong><em>a lot of threads are created without control</em></strong>.</p>\n\n<p>Carefully review the stacktraces/code and control the number of threads that get created. Normally your app shouldn't need a large amount of threads, if it does it's a different problem.</p>\n"},{"tags":[],"owner":{"account_id":4132906,"reputation":11,"user_id":3390284,"display_name":"user3390284"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394143613,"creation_date":1394143613,"answer_id":22237089,"question_id":16789288,"body_markdown":"your JBoss configuration has some issues,\r\n/opt/jrockit-jdk1.6/bin/java -Xms512m -Xmx512m\r\nXms and Xmx are limiting your JBoss memory usage, to the configured value, so from the 8Gb you have the server is only ussing 512M + some extra for his own purpose, increase that number, remember to leave some free for the OS and other stuff running there and may be you get it running despite de unsavoury code.\r\nFixing the code would be nice too, if you can.","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>your JBoss configuration has some issues,\n/opt/jrockit-jdk1.6/bin/java -Xms512m -Xmx512m\nXms and Xmx are limiting your JBoss memory usage, to the configured value, so from the 8Gb you have the server is only ussing 512M + some extra for his own purpose, increase that number, remember to leave some free for the OS and other stuff running there and may be you get it running despite de unsavoury code.\nFixing the code would be nice too, if you can.</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1546985507,"post_id":34406802,"comment_id":95033819,"body_markdown":"How was the method blocking?  Never  returning?","body":"How was the method blocking?  Never  returning?"},{"owner":{"account_id":1533581,"reputation":169,"user_id":1430173,"display_name":"MichaelRom"},"score":0,"creation_date":1637766597,"post_id":34406802,"comment_id":123914593,"body_markdown":"Methods can block in many ways: waiting on some shared, synchronized object (in this case), waiting for a slow network call to timeout, or waiting just on some slow OS service.","body":"Methods can block in many ways: waiting on some shared, synchronized object (in this case), waiting for a slow network call to timeout, or waiting just on some slow OS service."}],"tags":[],"owner":{"account_id":1091302,"reputation":819,"user_id":1085899,"accept_rate":25,"display_name":"Madhu Cheepati"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1518400683,"creation_date":1450745131,"answer_id":34406802,"question_id":16789288,"body_markdown":"I encountered same issue during the load test, the reason is because of JVM is unable to create a new Java thread further. Below is the JVM source code \r\n\r\n\r\n    if (native_thread-&gt;osthread() == NULL) {    \r\n    // No one should hold a reference to the &#39;native_thread&#39;.    \r\n        delete native_thread;   \r\n    if (JvmtiExport::should_post_resource_exhausted()) {      \r\n        JvmtiExport::post_resource_exhausted(        \r\n            JVMTI_RESOURCE_EXHAUSTED_OOM_ERROR | \r\n            JVMTI_RESOURCE_EXHAUSTED_THREADS, \r\n            &quot;unable to create new native thread&quot;);    \r\n        } THROW_MSG(vmSymbols::java_lang_OutOfMemoryError(), &quot;unable to create new native thread&quot;);  \r\n    } Thread::start(native_thread);`\r\n\r\n\r\n&gt; Root cause : JVM throws this exception when\r\n&gt; JVMTI_RESOURCE_EXHAUSTED_OOM_ERROR (resources exhausted (means memory\r\n&gt; exhausted) ) or JVMTI_RESOURCE_EXHAUSTED_THREADS (Threads exhausted).\r\n\r\nIn my case Jboss is creating too many threads , to serve the request, but all the threads are blocked . Because of this, JVM is exhausted with threads as well with memory (each thread holds memory , which is not released , because each thread is blocked). \r\n\r\n Analyzed the java thread dumps observed nearly 61K threads are blocked by one of our method, which is causing this issue . Below is the portion of Thread dump \r\n\r\n    &quot;SimpleAsyncTaskExecutor-16562&quot; #38070 prio=5 os_prio=0 tid=0x00007f9985440000 nid=0x2ca6 waiting for monitor entry [0x00007f9d58c2d000]\r\n       java.lang.Thread.State: BLOCKED (on object monitor)\r\n\r\n","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>I encountered same issue during the load test, the reason is because of JVM is unable to create a new Java thread further. Below is the JVM source code </p>\n\n<pre><code>if (native_thread-&gt;osthread() == NULL) {    \n// No one should hold a reference to the 'native_thread'.    \n    delete native_thread;   \nif (JvmtiExport::should_post_resource_exhausted()) {      \n    JvmtiExport::post_resource_exhausted(        \n        JVMTI_RESOURCE_EXHAUSTED_OOM_ERROR | \n        JVMTI_RESOURCE_EXHAUSTED_THREADS, \n        \"unable to create new native thread\");    \n    } THROW_MSG(vmSymbols::java_lang_OutOfMemoryError(), \"unable to create new native thread\");  \n} Thread::start(native_thread);`\n</code></pre>\n\n<blockquote>\n  <p>Root cause : JVM throws this exception when\n  JVMTI_RESOURCE_EXHAUSTED_OOM_ERROR (resources exhausted (means memory\n  exhausted) ) or JVMTI_RESOURCE_EXHAUSTED_THREADS (Threads exhausted).</p>\n</blockquote>\n\n<p>In my case Jboss is creating too many threads , to serve the request, but all the threads are blocked . Because of this, JVM is exhausted with threads as well with memory (each thread holds memory , which is not released , because each thread is blocked). </p>\n\n<p>Analyzed the java thread dumps observed nearly 61K threads are blocked by one of our method, which is causing this issue . Below is the portion of Thread dump </p>\n\n<pre><code>\"SimpleAsyncTaskExecutor-16562\" #38070 prio=5 os_prio=0 tid=0x00007f9985440000 nid=0x2ca6 waiting for monitor entry [0x00007f9d58c2d000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1669838,"reputation":5840,"user_id":1536499,"accept_rate":63,"display_name":"anthonybell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465866915,"creation_date":1465866915,"answer_id":37801491,"question_id":16789288,"body_markdown":"\r\n\r\nI had this same issue and it turned out to be an improper usage of an java API.  I was initializing a builder in a batch processing method that was that not supposed to be initiallized more than once.\r\n\r\nBasically I was doing something like:\r\n\r\n    for (batch in batches) {\r\n        process_batch(batch)\r\n    }\r\n\r\n    def process_batch(batch) {\r\n        var client = TransportClient.builder().build()\r\n        client.processList(batch)\r\n    }\r\n\r\nwhen I should have done this:\r\n\r\n    for (batch in batches) {\r\n        var client = TransportClient.builder().build()\r\n        process_batch(batch, client)\r\n    }\r\n\r\n    def process_batch(batch, client) {\r\n        client.processList(batch)\r\n    }","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>I had this same issue and it turned out to be an improper usage of an java API.  I was initializing a builder in a batch processing method that was that not supposed to be initiallized more than once.</p>\n\n<p>Basically I was doing something like:</p>\n\n<pre><code>for (batch in batches) {\n    process_batch(batch)\n}\n\ndef process_batch(batch) {\n    var client = TransportClient.builder().build()\n    client.processList(batch)\n}\n</code></pre>\n\n<p>when I should have done this:</p>\n\n<pre><code>for (batch in batches) {\n    var client = TransportClient.builder().build()\n    process_batch(batch, client)\n}\n\ndef process_batch(batch, client) {\n    client.processList(batch)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1089130,"reputation":38502,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1475430623,"creation_date":1475430623,"answer_id":39819886,"question_id":16789288,"body_markdown":"You have a chance to face the `java.lang.OutOfMemoryError: Unable to create new native thread` whenever the JVM asks for a new thread from the OS. Whenever the underlying OS cannot allocate a new native thread, this OutOfMemoryError will be thrown. The exact limit for native threads is very platform-dependent thus its recommend to find out those limits by running a test similar to the below link example. But, in general, the situation causing `java.lang.OutOfMemoryError: Unable to create new native thread` goes through the following phases:\r\n\r\n 1. A new Java thread is requested by an application running inside the\r\n    JVM \r\n 2. JVM native code proxies the request to create a new native\r\n    thread to the OS The OS tries to create a new native thread which\r\n    requires memory to be allocated to the thread \r\n 3. The OS will refuse\r\n    native memory allocation either because the 32-bit Java process size\r\n    has depleted its memory address space – e.g. (2-4) GB process size\r\n    limit has been hit – or the virtual memory of the OS has been fully\r\n    depleted \r\n 4. The java.lang.OutOfMemoryError: Unable to create new native\r\n    thread error is thrown.\r\n\r\nReference: https://plumbr.eu/outofmemoryerror/unable-to-create-new-native-thread","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>You have a chance to face the <code>java.lang.OutOfMemoryError: Unable to create new native thread</code> whenever the JVM asks for a new thread from the OS. Whenever the underlying OS cannot allocate a new native thread, this OutOfMemoryError will be thrown. The exact limit for native threads is very platform-dependent thus its recommend to find out those limits by running a test similar to the below link example. But, in general, the situation causing <code>java.lang.OutOfMemoryError: Unable to create new native thread</code> goes through the following phases:</p>\n\n<ol>\n<li>A new Java thread is requested by an application running inside the\nJVM </li>\n<li>JVM native code proxies the request to create a new native\nthread to the OS The OS tries to create a new native thread which\nrequires memory to be allocated to the thread </li>\n<li>The OS will refuse\nnative memory allocation either because the 32-bit Java process size\nhas depleted its memory address space – e.g. (2-4) GB process size\nlimit has been hit – or the virtual memory of the OS has been fully\ndepleted </li>\n<li>The java.lang.OutOfMemoryError: Unable to create new native\nthread error is thrown.</li>\n</ol>\n\n<p>Reference: <a href=\"https://plumbr.eu/outofmemoryerror/unable-to-create-new-native-thread\" rel=\"nofollow\">https://plumbr.eu/outofmemoryerror/unable-to-create-new-native-thread</a></p>\n"},{"tags":[],"owner":{"account_id":11027675,"reputation":166,"user_id":8100016,"display_name":"mac7"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1500992117,"creation_date":1500992117,"answer_id":45305946,"question_id":16789288,"body_markdown":"I had the same problem due to ghost processes that didn&#39;t show up when using top in bash. This prevented the JVM to spawn more threads.\r\n\r\nFor me, it resolved when listing all java processes with [jps][1] (just execute `jps` in your shell) and killed them separately using the `kill -9 pid` bash command for each ghost process.\r\n\r\nThis might help in some scenarios.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/share/jps.html","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>I had the same problem due to ghost processes that didn't show up when using top in bash. This prevented the JVM to spawn more threads.</p>\n\n<p>For me, it resolved when listing all java processes with <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/share/jps.html\" rel=\"noreferrer\">jps</a> (just execute <code>jps</code> in your shell) and killed them separately using the <code>kill -9 pid</code> bash command for each ghost process.</p>\n\n<p>This might help in some scenarios.</p>\n"},{"tags":[],"owner":{"account_id":1346012,"reputation":21,"user_id":8521771,"display_name":"user8521771"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518807289,"creation_date":1518807289,"answer_id":48833198,"question_id":16789288,"body_markdown":"To find which processes are creating threads try:\r\n\r\n    ps huH\r\n\r\n\r\nI normally redirect output to a file and analysis the file offline (is thread count for each process is as expected or not) \r\n\r\n","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>To find which processes are creating threads try:</p>\n\n<pre><code>ps huH\n</code></pre>\n\n<p>I normally redirect output to a file and analysis the file offline (is thread count for each process is as expected or not) </p>\n"},{"tags":[],"owner":{"account_id":2443555,"reputation":638,"user_id":2131439,"display_name":"Maverick"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547100832,"creation_date":1547100832,"answer_id":54122840,"question_id":16789288,"body_markdown":"This error can surface because of following two reasons:\r\n  \r\n - There is no room in the memory to accommodate new threads.\r\n      \r\n - The number of threads exceeds the Operating System limit.\r\n\r\nI doubt that number of thread have exceeded the limit for the java process\r\n\r\nSo possibly chances are the issue is because of memory\r\nOne point to consider is \r\n\r\n&gt; threads are not created within the JVM heap. They are created outside\r\n&gt; the JVM heap. So if there is less room left in the RAM, after the JVM\r\n&gt; heap allocation, application will run into\r\n&gt; “java.lang.OutOfMemoryError: unable to create new native thread”.\r\n\r\nPossible Solution is to reduce the heap memory or increase the overall ram size ","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>This error can surface because of following two reasons:</p>\n\n<ul>\n<li><p>There is no room in the memory to accommodate new threads.</p></li>\n<li><p>The number of threads exceeds the Operating System limit.</p></li>\n</ul>\n\n<p>I doubt that number of thread have exceeded the limit for the java process</p>\n\n<p>So possibly chances are the issue is because of memory\nOne point to consider is </p>\n\n<blockquote>\n  <p>threads are not created within the JVM heap. They are created outside\n  the JVM heap. So if there is less room left in the RAM, after the JVM\n  heap allocation, application will run into\n  “java.lang.OutOfMemoryError: unable to create new native thread”.</p>\n</blockquote>\n\n<p>Possible Solution is to reduce the heap memory or increase the overall ram size </p>\n"},{"comments":[{"owner":{"account_id":185535,"reputation":6169,"user_id":422321,"accept_rate":100,"display_name":"sayap"},"score":2,"creation_date":1597132369,"post_id":55606297,"comment_id":112026482,"body_markdown":"To expand on this, if you SSH into a server infected by systemd and then start a java process from CLI, you can also hit the silly tasks limit imposed on the **sshd** service.","body":"To expand on this, if you SSH into a server infected by systemd and then start a java process from CLI, you can also hit the silly tasks limit imposed on the <b>sshd</b> service."},{"owner":{"account_id":2994178,"reputation":388,"user_id":2541030,"display_name":"Ivan Herlambang"},"score":0,"creation_date":1598704782,"post_id":55606297,"comment_id":112548946,"body_markdown":"Thanks! This is one of the solutions for thread problem. There&#39;s also an option called TasksMax (for more isolated settings) for services/systemd that are under\n[Service]\nTasksMax=(value). \nAt SUSE, the default value is 512 (which is very limited for production use). More info https://www.suse.com/support/kb/doc/?id=000015901\nsystemctl daemon-reload, and to check, systemctl show --property DefaultTasksMax (for global) or systemctl status ${serviceName}|grep -e Tasks (for TasksMax)\nThere&#39;s other things that cause &quot;unable to create new native Thread” issues, such as the ulimit setup.","body":"Thanks! This is one of the solutions for thread problem. There&#39;s also an option called TasksMax (for more isolated settings) for services/systemd that are under [Service] TasksMax=(value).  At SUSE, the default value is 512 (which is very limited for production use). More info <a href=\"https://www.suse.com/support/kb/doc/?id=000015901\" rel=\"nofollow noreferrer\">suse.com/support/kb/doc/?id=000015901</a> systemctl daemon-reload, and to check, systemctl show --property DefaultTasksMax (for global) or systemctl status ${serviceName}|grep -e Tasks (for TasksMax) There&#39;s other things that cause &quot;unable to create new native Thread” issues, such as the ulimit setup."}],"tags":[],"owner":{"account_id":6323824,"reputation":1258,"user_id":4910851,"accept_rate":50,"display_name":"Clement.Xu"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1554878730,"creation_date":1554878730,"answer_id":55606297,"question_id":16789288,"body_markdown":"If jvm is started via systemd, there might be a maxTasks per process limit (tasks actually mean threads) in some linux OS.\r\n\r\nYou can check this by running &quot;service &lt;serviceName&gt; status&quot; and check if there is a maxTasks limit. If there is, you can remove it by editing /etc/systemd/system.conf, adding a config: DefaultTasksMax=infinity","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>If jvm is started via systemd, there might be a maxTasks per process limit (tasks actually mean threads) in some linux OS.</p>\n\n<p>You can check this by running \"service  status\" and check if there is a maxTasks limit. If there is, you can remove it by editing /etc/systemd/system.conf, adding a config: DefaultTasksMax=infinity</p>\n"},{"comments":[{"owner":{"account_id":5588556,"reputation":8451,"user_id":4428471,"accept_rate":46,"display_name":"zhuguowei"},"score":0,"creation_date":1689328160,"post_id":66481644,"comment_id":135201034,"body_markdown":"I didn&#39;t expect that threads are also processes.","body":"I didn&#39;t expect that threads are also processes."}],"tags":[],"owner":{"account_id":9860832,"reputation":408,"user_id":7303912,"display_name":"Jose1755"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1615593960,"creation_date":1614885591,"answer_id":66481644,"question_id":16789288,"body_markdown":"I had the same problem in a centOS/Red Hat machine. You are reaching the threads limit, for the user, process, or an overall limit\r\n\r\nIn my case there was a limit on the number of threads a user can have. Which can be checked with, the line saying max user processes\r\n\r\n`ulimit -a `\r\n\r\nYou can see how many threads are running using this command\r\n\r\n`$ ps -elfT | wc -l`\r\n\r\nTo get how many threads your process is running (you can get your process pid using top or ps aux):\r\n\r\n`$ ps -p &lt;PROCESS_PID&gt; -lfT | wc -l`\r\n\r\nThe /proc/sys/kernel/threads-max file provides a system-wide limit for the number of threads. The root user can change that value\r\n\r\nTo change the limits (in this case to 4096 threads):\r\n\r\n`$ ulimit -u 4096 `\r\n\r\n\r\nYou can find more info here for Red Hat/centOs http://www.mastertheboss.com/jboss-server/jboss-monitoring/how-to-solve-javalangoutofmemoryerror-unable-to-create-new-native-thread\r\n","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>I had the same problem in a centOS/Red Hat machine. You are reaching the threads limit, for the user, process, or an overall limit</p>\n<p>In my case there was a limit on the number of threads a user can have. Which can be checked with, the line saying max user processes</p>\n<p><code>ulimit -a </code></p>\n<p>You can see how many threads are running using this command</p>\n<p><code>$ ps -elfT | wc -l</code></p>\n<p>To get how many threads your process is running (you can get your process pid using top or ps aux):</p>\n<p><code>$ ps -p &lt;PROCESS_PID&gt; -lfT | wc -l</code></p>\n<p>The /proc/sys/kernel/threads-max file provides a system-wide limit for the number of threads. The root user can change that value</p>\n<p>To change the limits (in this case to 4096 threads):</p>\n<p><code>$ ulimit -u 4096 </code></p>\n<p>You can find more info here for Red Hat/centOs <a href=\"http://www.mastertheboss.com/jboss-server/jboss-monitoring/how-to-solve-javalangoutofmemoryerror-unable-to-create-new-native-thread\" rel=\"noreferrer\">http://www.mastertheboss.com/jboss-server/jboss-monitoring/how-to-solve-javalangoutofmemoryerror-unable-to-create-new-native-thread</a></p>\n"},{"tags":[],"owner":{"account_id":1605316,"reputation":8784,"user_id":1485527,"accept_rate":100,"display_name":"jschnasse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624609057,"creation_date":1624519492,"answer_id":68111271,"question_id":16789288,"body_markdown":"**Are you starting your java app with system.d? This is for you!**\r\n\r\nI recently stumbled over `DefaultTasksMax` [1] which for some reason was limited to 60 on my machine - not enough for my new keycloak installation. \r\n\r\nKeycloak crashes with `java.lang.OutOfMemoryError : unable to create new native Thread` as soon as it hits the &#39;60&#39; limit (`ps -elfT | grep keycloak|wc -l`).\r\n\r\n**Solution**\r\n \r\n**1. Look up your system.d settings**\r\n\r\n`systemctl show --property DefaultTasksMax`\r\n\r\nIn my case. This printed `60`\r\n \r\n**2. Provide a higher value**\r\n\r\n`editor /etc/systemd/system.conf`\r\n\r\nEdit:\r\n```\r\nDefaultTasksMax=128\r\n```\r\n\r\nYou can also set a similar value `TaskMax` in your Unit-File. See [2].\r\n\r\n**3. Reload, Check, Restart**\r\n\r\n```\r\nsystemctl daemon-reload\r\nsystemctl show --property DefaultTasksMax\r\nsystemctl start keycloak\r\n\r\n```\r\n[1] https://www.freedesktop.org/software/systemd/man/systemd-system.conf.html\r\n\r\n[2] https://www.freedesktop.org/software/systemd/man/systemd.resource-control.html","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p><strong>Are you starting your java app with system.d? This is for you!</strong></p>\n<p>I recently stumbled over <code>DefaultTasksMax</code> [1] which for some reason was limited to 60 on my machine - not enough for my new keycloak installation.</p>\n<p>Keycloak crashes with <code>java.lang.OutOfMemoryError : unable to create new native Thread</code> as soon as it hits the '60' limit (<code>ps -elfT | grep keycloak|wc -l</code>).</p>\n<p><strong>Solution</strong></p>\n<p><strong>1. Look up your system.d settings</strong></p>\n<p><code>systemctl show --property DefaultTasksMax</code></p>\n<p>In my case. This printed <code>60</code></p>\n<p><strong>2. Provide a higher value</strong></p>\n<p><code>editor /etc/systemd/system.conf</code></p>\n<p>Edit:</p>\n<pre><code>DefaultTasksMax=128\n</code></pre>\n<p>You can also set a similar value <code>TaskMax</code> in your Unit-File. See [2].</p>\n<p><strong>3. Reload, Check, Restart</strong></p>\n<pre><code>systemctl daemon-reload\nsystemctl show --property DefaultTasksMax\nsystemctl start keycloak\n\n</code></pre>\n<p>[1] <a href=\"https://www.freedesktop.org/software/systemd/man/systemd-system.conf.html\" rel=\"nofollow noreferrer\">https://www.freedesktop.org/software/systemd/man/systemd-system.conf.html</a></p>\n<p>[2] <a href=\"https://www.freedesktop.org/software/systemd/man/systemd.resource-control.html\" rel=\"nofollow noreferrer\">https://www.freedesktop.org/software/systemd/man/systemd.resource-control.html</a></p>\n"}],"owner":{"account_id":2134433,"reputation":1697,"user_id":1894562,"display_name":"Deepak Tewani"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307053,"favorite_count":0,"down_vote_count":2,"up_vote_count":165,"answer_count":15,"score":163,"last_activity_date":1680620980,"creation_date":1369735485,"question_id":16789288,"body_markdown":"We are getting `&quot;java.lang.OutOfMemoryError : unable to create new native Thread`&quot; on 8GB RAM VM after 32k threads (ps -eLF| grep -c java)\r\n\r\nHowever, `&quot;top&quot; and &quot;free -m&quot; shows 50% free memory available`. JDk is 64 bit and tried with both HotSpot and JRockit.Server has Linux 2.6.18\r\n\r\nWe also tried `OS stack size (ulimit -s)` tweaking and max process(ulimit -u) limits, limit.conf increase but all in vain.\r\n\r\nAlso we tried almost all possible of heap size combinations, keeping it low, high etc.\r\n\r\nThe script we use to run application is \r\n\r\n    /opt/jrockit-jdk1.6/bin/java -Xms512m -Xmx512m -Xss128k -jar JavaNatSimulator.jar /opt/tools/jnatclients/natSimulator.properties\r\n\r\n\r\nWe have tried editing /etc/security/limits.conf  and ulimit but still that same\r\n\r\n    [root@jboss02 ~]# ulimit -a\r\n    core file size          (blocks, -c) 0\r\n    data seg size           (kbytes, -d) unlimited\r\n    scheduling priority             (-e) 0\r\n    file size               (blocks, -f) unlimited\r\n    pending signals                 (-i) 72192\r\n    max locked memory       (kbytes, -l) 32\r\n    max memory size         (kbytes, -m) unlimited\r\n    open files                      (-n) 65535\r\n    pipe size            (512 bytes, -p) 8\r\n    POSIX message queues     (bytes, -q) 819200\r\n    real-time priority              (-r) 0\r\n    stack size              (kbytes, -s) 10240\r\n    cpu time               (seconds, -t) unlimited\r\n    max user processes              (-u) 72192\r\n    virtual memory          (kbytes, -v) unlimited\r\n    file locks                      (-x) unlimited","title":"&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;","body":"<p>We are getting <code>&quot;java.lang.OutOfMemoryError : unable to create new native Thread</code>&quot; on 8GB RAM VM after 32k threads (ps -eLF| grep -c java)</p>\n<p>However, <code>&quot;top&quot; and &quot;free -m&quot; shows 50% free memory available</code>. JDk is 64 bit and tried with both HotSpot and JRockit.Server has Linux 2.6.18</p>\n<p>We also tried <code>OS stack size (ulimit -s)</code> tweaking and max process(ulimit -u) limits, limit.conf increase but all in vain.</p>\n<p>Also we tried almost all possible of heap size combinations, keeping it low, high etc.</p>\n<p>The script we use to run application is</p>\n<pre><code>/opt/jrockit-jdk1.6/bin/java -Xms512m -Xmx512m -Xss128k -jar JavaNatSimulator.jar /opt/tools/jnatclients/natSimulator.properties\n</code></pre>\n<p>We have tried editing /etc/security/limits.conf  and ulimit but still that same</p>\n<pre><code>[root@jboss02 ~]# ulimit -a\ncore file size          (blocks, -c) 0\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 72192\nmax locked memory       (kbytes, -l) 32\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 65535\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) 10240\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 72192\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n</code></pre>\n"},{"tags":["java","amazon-sqs","spring-jms","jmstemplate"],"comments":[{"owner":{"account_id":2264642,"reputation":4169,"user_id":1993709,"accept_rate":36,"display_name":"Adi"},"score":0,"creation_date":1565560189,"post_id":56228658,"comment_id":101382226,"body_markdown":"Did you find a solution?","body":"Did you find a solution?"},{"owner":{"account_id":278046,"reputation":1175,"user_id":572408,"accept_rate":62,"display_name":"Ryan Quinn"},"score":0,"creation_date":1600278555,"post_id":56228658,"comment_id":113040373,"body_markdown":"Also facing this issue, any insights?","body":"Also facing this issue, any insights?"}],"answers":[{"comments":[{"owner":{"account_id":9131190,"reputation":156,"user_id":6792739,"accept_rate":89,"display_name":"Roxcly"},"score":0,"creation_date":1604590712,"post_id":64394381,"comment_id":114398602,"body_markdown":"This worked as far as I have tested it. I am generally not a fan of overriding behaviors like this, in cases of updates and such, but I really couldn&#39;t find any other way or even mentions of this. What am I breaking by doing this override on &quot;rollbackOnExceptionIfNecessary&quot;?","body":"This worked as far as I have tested it. I am generally not a fan of overriding behaviors like this, in cases of updates and such, but I really couldn&#39;t find any other way or even mentions of this. What am I breaking by doing this override on &quot;rollbackOnExceptionIfNecessary&quot;?"},{"owner":{"account_id":3725757,"reputation":3130,"user_id":3099704,"accept_rate":70,"display_name":"Sedat Gokcen"},"score":1,"creation_date":1604598950,"post_id":64394381,"comment_id":114402807,"body_markdown":"I mentioned about this in the answer. You can take a look at `session.recover()` link in the answer. It basically just negative acknowledges the messages, which means setting visibility timeouts to 0.","body":"I mentioned about this in the answer. You can take a look at <code>session.recover()</code> link in the answer. It basically just negative acknowledges the messages, which means setting visibility timeouts to 0."}],"tags":[],"owner":{"account_id":3725757,"reputation":3130,"user_id":3099704,"accept_rate":70,"display_name":"Sedat Gokcen"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1680620948,"creation_date":1602872127,"answer_id":64394381,"question_id":56228658,"body_markdown":"In case of an exception, visibility timeout of the failed message is set to 0 via [ChangeMessageVisibility][1] so SQS will send this message immediately even though queue has a different `visibilityTimeout` setting.\r\n\r\n\r\nHow does that happen?\r\n\r\nAs you can see [here][2], Spring JMS&#39; `AbstractMessageListenerContainer` briefly does this:\r\n\r\n    try {\r\n\t\tinvokeListener(session, message); // This is your @JMSListener method\r\n\t}\r\n\tcatch (JMSException | RuntimeException | Error ex) {\r\n\t\trollbackOnExceptionIfNecessary(session, ex);\r\n\t\tthrow ex;\r\n\t}\r\n\tcommitIfNecessary(session, message);\r\n\r\nOn `rollbackOnExceptionIfNecessary` method, [session.recover()][3] will be invoked because:\r\n\r\n1. `session.getTransacted()` will always be false since SQS does not support transactions. See [here][4].\r\n2. `isClientAcknowledge(session)` will return true because you&#39;re using CLIENT_ACKNOWLEDGE mode.\r\n\r\nAnd lastly [recover() of SQSSession][5] **negative acknowledges** the message, which means setting `visibilityTimeout` of that specific message to 0, causes SQS to try sending that message immediately.\r\n\r\nThe easiest way to override this behavior would be implementing a `CustomJmsListenerContainerFactory` &amp; `CustomMessageListenerContainer` instead of using `DefaultJmsListenerContainerFactory` &amp; `DefaultMessageListenerContainer`.\r\n\r\n    public class CustomMessageListenerContainer extends DefaultMessageListenerContainer {\r\n\r\n        public CustomMessageListenerContainer() {\r\n            super();\r\n        }\r\n\r\n        @Override\r\n        protected void rollbackOnExceptionIfNecessary(Session session, Throwable ex) {\r\n            // do nothing, so that &quot;visibilityTimeout&quot; will stay same\r\n        }\r\n\r\n    }\r\n\r\n    public class CustomJmsListenerContainerFactory extends DefaultJmsListenerContainerFactory {\r\n        \r\n        @Override\r\n\t    protected DefaultMessageListenerContainer createContainerInstance() {\r\n\t\t    return new CustomMessageListenerContainer();\r\n\t    }\r\n    }\r\n\r\nAnd make it a Spring bean either with `@Component` or just like you did in `JmsConfig`:\r\n\r\n    @Bean\r\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory(ConnectionFactory connectionFactory) {\r\n        DefaultJmsListenerContainerFactory factory = new CustomJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory);\r\n        // and set other stuff on factory\r\n        return factory;\r\n    }\r\n\r\n**NOTE**:   \r\nIf your application is consuming other type of data sources along SQS with JMS, make sure to use different Container and ContainerFactory for them so that `rollbackOnExceptionIfNecessary` behaves as expected.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_ChangeMessageVisibility.html\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/master/spring-jms/src/main/java/org/springframework/jms/listener/AbstractMessageListenerContainer.java#L663\r\n  [3]: https://github.com/spring-projects/spring-framework/blob/702a05e9264ea2cf67c4028927dfbf55a82ee57b/spring-jms/src/main/java/org/springframework/jms/listener/AbstractMessageListenerContainer.java#L819\r\n  [4]: https://github.com/awslabs/amazon-sqs-java-messaging-lib/blob/master/src/main/java/com/amazon/sqs/javamessaging/SQSSession.java#L733\r\n  [5]: https://github.com/awslabs/amazon-sqs-java-messaging-lib/blob/master/src/main/java/com/amazon/sqs/javamessaging/SQSSession.java#L469","title":"SQS Message visibility timeout being set to 0 when exception is thrown and @JMSListener","body":"<p>In case of an exception, visibility timeout of the failed message is set to 0 via <a href=\"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_ChangeMessageVisibility.html\" rel=\"nofollow noreferrer\">ChangeMessageVisibility</a> so SQS will send this message immediately even though queue has a different <code>visibilityTimeout</code> setting.</p>\n<p>How does that happen?</p>\n<p>As you can see <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-jms/src/main/java/org/springframework/jms/listener/AbstractMessageListenerContainer.java#L663\" rel=\"nofollow noreferrer\">here</a>, Spring JMS' <code>AbstractMessageListenerContainer</code> briefly does this:</p>\n<pre><code>try {\n    invokeListener(session, message); // This is your @JMSListener method\n}\ncatch (JMSException | RuntimeException | Error ex) {\n    rollbackOnExceptionIfNecessary(session, ex);\n    throw ex;\n}\ncommitIfNecessary(session, message);\n</code></pre>\n<p>On <code>rollbackOnExceptionIfNecessary</code> method, <a href=\"https://github.com/spring-projects/spring-framework/blob/702a05e9264ea2cf67c4028927dfbf55a82ee57b/spring-jms/src/main/java/org/springframework/jms/listener/AbstractMessageListenerContainer.java#L819\" rel=\"nofollow noreferrer\">session.recover()</a> will be invoked because:</p>\n<ol>\n<li><code>session.getTransacted()</code> will always be false since SQS does not support transactions. See <a href=\"https://github.com/awslabs/amazon-sqs-java-messaging-lib/blob/master/src/main/java/com/amazon/sqs/javamessaging/SQSSession.java#L733\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li><code>isClientAcknowledge(session)</code> will return true because you're using CLIENT_ACKNOWLEDGE mode.</li>\n</ol>\n<p>And lastly <a href=\"https://github.com/awslabs/amazon-sqs-java-messaging-lib/blob/master/src/main/java/com/amazon/sqs/javamessaging/SQSSession.java#L469\" rel=\"nofollow noreferrer\">recover() of SQSSession</a> <strong>negative acknowledges</strong> the message, which means setting <code>visibilityTimeout</code> of that specific message to 0, causes SQS to try sending that message immediately.</p>\n<p>The easiest way to override this behavior would be implementing a <code>CustomJmsListenerContainerFactory</code> &amp; <code>CustomMessageListenerContainer</code> instead of using <code>DefaultJmsListenerContainerFactory</code> &amp; <code>DefaultMessageListenerContainer</code>.</p>\n<pre><code>public class CustomMessageListenerContainer extends DefaultMessageListenerContainer {\n\n    public CustomMessageListenerContainer() {\n        super();\n    }\n\n    @Override\n    protected void rollbackOnExceptionIfNecessary(Session session, Throwable ex) {\n        // do nothing, so that &quot;visibilityTimeout&quot; will stay same\n    }\n\n}\n\npublic class CustomJmsListenerContainerFactory extends DefaultJmsListenerContainerFactory {\n    \n    @Override\n    protected DefaultMessageListenerContainer createContainerInstance() {\n        return new CustomMessageListenerContainer();\n    }\n}\n</code></pre>\n<p>And make it a Spring bean either with <code>@Component</code> or just like you did in <code>JmsConfig</code>:</p>\n<pre><code>@Bean\npublic DefaultJmsListenerContainerFactory jmsListenerContainerFactory(ConnectionFactory connectionFactory) {\n    DefaultJmsListenerContainerFactory factory = new CustomJmsListenerContainerFactory();\n    factory.setConnectionFactory(connectionFactory);\n    // and set other stuff on factory\n    return factory;\n}\n</code></pre>\n<p><strong>NOTE</strong>:<br />\nIf your application is consuming other type of data sources along SQS with JMS, make sure to use different Container and ContainerFactory for them so that <code>rollbackOnExceptionIfNecessary</code> behaves as expected.</p>\n"}],"owner":{"account_id":2261446,"reputation":171,"user_id":1991430,"display_name":"Robert P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3530,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1680620948,"creation_date":1558389323,"question_id":56228658,"body_markdown":"I have a simple Spring Boot service that listens to an AWS SQS queue using JMSTemplate.  Everything works as expected when the message is properly handled. \r\n\r\nI am using CLIENT_ACKNOWLEDGE so when an exception is thrown during processing, the message is received again.  However the Default Visibility Timeout setting on the SQS queue is being ignored and the message is being received again immediately.\r\n\r\nThe SQS queue is configured with a 30 second Default Visibility Timeout and a re-drive policy of 20 receives before putting the message on a DLQ.\r\n\r\nI have disabled the service and used the SQS Console to verify that the Default Visibility Timeout is properly set.  I have also tried adding the JMS Message to the method signature and performing manual validation.\r\n\r\n\r\nHere is code for the JMS Configuration:\r\n```java\r\n@Configuration\r\n@EnableJms\r\nclass JmsConfig\r\n{\r\n\r\n    @Bean\r\n    @Conditional(AWSEnvironmentCondition.class)\r\n    public SQSConnectionFactory connectionFactory(@Value(&quot;${AWS_REGION}&quot;) String awsRegion)\r\n    {\r\n        return new SQSConnectionFactory(\r\n            new ProviderConfiguration(),\r\n            AmazonSQSClientBuilder.standard()\r\n                                  .withRegion(Regions.fromName(awsRegion))\r\n                                  .withCredentials(new DefaultAWSCredentialsProviderChain())\r\n        );\r\n    }\r\n\r\n    @Bean\r\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory(ConnectionFactory connectionFactory)\r\n    {\r\n        DefaultJmsListenerContainerFactory factory =\r\n            new DefaultJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory);\r\n        factory.setDestinationResolver(new DynamicDestinationResolver());\r\n        factory.setConcurrency(&quot;3-10&quot;);\r\n        factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\r\n        factory.setErrorHandler(defaultErrorHandler());\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public ErrorHandler defaultErrorHandler()\r\n    {\r\n        return new ErrorHandler()\r\n        {\r\n            @Override\r\n            public void handleError(Throwable throwable)\r\n            {\r\n                LOG.error(&quot;JMS message listener error: {}&quot;, throwable.getMessage());\r\n            }\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    public JmsTemplate defaultJmsTemplate(ConnectionFactory connectionFactory)\r\n    {\r\n        return new JmsTemplate(connectionFactory);\r\n    }\r\n}\r\n```\r\n\r\nAnd here is code for the Listener:\r\n```java\r\n@Component\r\npublic class MessagingListener\r\n{\r\n    @Autowired\r\n    private MessageService _messageService;\r\n\r\n    @Autowired\r\n    private Validator _validator;\r\n\r\n    @JmsListener(destination = &quot;myqueue&quot;)\r\n    public void receiveMessage(String messageJson)\r\n    {\r\n        try\r\n        {\r\n            LOG.info(&quot;Received message&quot;);\r\n\r\n            // The following line throws an IOException is the message is not JSON.\r\n            MyMessage myMessage = MAPPER.readvalue(messageJson, MyMessage.class);\r\n\r\n            Set&lt;ConstraintViolation&lt;MyMessage&gt;&gt; _validator.validate(myMessage);\r\n            if (CollectionUtils.isNotEmpty(violations))\r\n            {\r\n                String errorMessage = violations.stream()\r\n                        .map(v -&gt; String.join(&quot; : &quot;, v.getPropertyPath().iterator().next().getName(),\r\n                                v.getMessage()))\r\n                LOG.error(&quot;Exception occurred while validating the model, details: {}&quot;, errorMessage)\r\n                throw new ValidationException(errorMessage);\r\n            }\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            LOG.error(&quot;Error parsing message&quot;, e);\r\n            throw new ValidationException(&quot;Error parsing message, details: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen a message is placed on the SQS queue with either invalid JSON or JSON that that does not pass validation, the message is received 20 times very quickly and then ends up on the DLQ.  What needs to be done so that the Default Visibility Timeout setting in SQS is respected?","title":"SQS Message visibility timeout being set to 0 when exception is thrown and @JMSListener","body":"<p>I have a simple Spring Boot service that listens to an AWS SQS queue using JMSTemplate.  Everything works as expected when the message is properly handled. </p>\n\n<p>I am using CLIENT_ACKNOWLEDGE so when an exception is thrown during processing, the message is received again.  However the Default Visibility Timeout setting on the SQS queue is being ignored and the message is being received again immediately.</p>\n\n<p>The SQS queue is configured with a 30 second Default Visibility Timeout and a re-drive policy of 20 receives before putting the message on a DLQ.</p>\n\n<p>I have disabled the service and used the SQS Console to verify that the Default Visibility Timeout is properly set.  I have also tried adding the JMS Message to the method signature and performing manual validation.</p>\n\n<p>Here is code for the JMS Configuration:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableJms\nclass JmsConfig\n{\n\n    @Bean\n    @Conditional(AWSEnvironmentCondition.class)\n    public SQSConnectionFactory connectionFactory(@Value(\"${AWS_REGION}\") String awsRegion)\n    {\n        return new SQSConnectionFactory(\n            new ProviderConfiguration(),\n            AmazonSQSClientBuilder.standard()\n                                  .withRegion(Regions.fromName(awsRegion))\n                                  .withCredentials(new DefaultAWSCredentialsProviderChain())\n        );\n    }\n\n    @Bean\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory(ConnectionFactory connectionFactory)\n    {\n        DefaultJmsListenerContainerFactory factory =\n            new DefaultJmsListenerContainerFactory();\n        factory.setConnectionFactory(connectionFactory);\n        factory.setDestinationResolver(new DynamicDestinationResolver());\n        factory.setConcurrency(\"3-10\");\n        factory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\n        factory.setErrorHandler(defaultErrorHandler());\n        return factory;\n    }\n\n    @Bean\n    public ErrorHandler defaultErrorHandler()\n    {\n        return new ErrorHandler()\n        {\n            @Override\n            public void handleError(Throwable throwable)\n            {\n                LOG.error(\"JMS message listener error: {}\", throwable.getMessage());\n            }\n        };\n    }\n\n    @Bean\n    public JmsTemplate defaultJmsTemplate(ConnectionFactory connectionFactory)\n    {\n        return new JmsTemplate(connectionFactory);\n    }\n}\n</code></pre>\n\n<p>And here is code for the Listener:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MessagingListener\n{\n    @Autowired\n    private MessageService _messageService;\n\n    @Autowired\n    private Validator _validator;\n\n    @JmsListener(destination = \"myqueue\")\n    public void receiveMessage(String messageJson)\n    {\n        try\n        {\n            LOG.info(\"Received message\");\n\n            // The following line throws an IOException is the message is not JSON.\n            MyMessage myMessage = MAPPER.readvalue(messageJson, MyMessage.class);\n\n            Set&lt;ConstraintViolation&lt;MyMessage&gt;&gt; _validator.validate(myMessage);\n            if (CollectionUtils.isNotEmpty(violations))\n            {\n                String errorMessage = violations.stream()\n                        .map(v -&gt; String.join(\" : \", v.getPropertyPath().iterator().next().getName(),\n                                v.getMessage()))\n                LOG.error(\"Exception occurred while validating the model, details: {}\", errorMessage)\n                throw new ValidationException(errorMessage);\n            }\n        }\n        catch (IOException e)\n        {\n            LOG.error(\"Error parsing message\", e);\n            throw new ValidationException(\"Error parsing message, details: \" + e.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>When a message is placed on the SQS queue with either invalid JSON or JSON that that does not pass validation, the message is received 20 times very quickly and then ends up on the DLQ.  What needs to be done so that the Default Visibility Timeout setting in SQS is respected?</p>\n"},{"tags":["java","github","path"],"comments":[{"owner":{"account_id":1946485,"reputation":291,"user_id":6524124,"accept_rate":43,"display_name":"user1751510"},"score":0,"creation_date":1680620641,"post_id":75903085,"comment_id":133927046,"body_markdown":"This was my bad.\nI thought i was calling the candidate/control with two different lambdas, but i had reverted that change.","body":"This was my bad. I thought i was calling the candidate/control with two different lambdas, but i had reverted that change."}],"answers":[{"tags":[],"owner":{"account_id":1946485,"reputation":291,"user_id":6524124,"accept_rate":43,"display_name":"user1751510"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680620835,"creation_date":1680620835,"answer_id":75930998,"question_id":75903085,"body_markdown":"This was my bad. I thought i was calling the candidate/control with two different lambdas, but i haI do see the mismatch now \r\n\r\n``` \r\nscientist.test-experiment.candidate.exception count = 0 \r\nscientist.test-experiment.mismatch count = 1 \r\n\r\n```\r\n\r\nAdding a new `Callable` for candidate as the second argument and passing in below, fixed my issue\r\n```\r\n\r\ncallWithExperiment(() -&gt; getAnalyticsInfos(startTime, endTime), \r\n() -&gt; getAnalyticsInfos(startTime, startTime),\r\n&quot;Running candidate `getAnalyticsInfoByTime`&quot;);\r\n\r\n```","title":"Scientist4J - Unable to produce a mismatch even when the candidate path is set to null intentionally","body":"<p>This was my bad. I thought i was calling the candidate/control with two different lambdas, but i haI do see the mismatch now</p>\n<pre><code>scientist.test-experiment.candidate.exception count = 0 \nscientist.test-experiment.mismatch count = 1 \n\n</code></pre>\n<p>Adding a new <code>Callable</code> for candidate as the second argument and passing in below, fixed my issue</p>\n<pre><code>\ncallWithExperiment(() -&gt; getAnalyticsInfos(startTime, endTime), \n() -&gt; getAnalyticsInfos(startTime, startTime),\n&quot;Running candidate `getAnalyticsInfoByTime`&quot;);\n\n</code></pre>\n"}],"owner":{"account_id":1946485,"reputation":291,"user_id":6524124,"accept_rate":43,"display_name":"user1751510"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75930998,"answer_count":1,"score":0,"last_activity_date":1680620835,"creation_date":1680300445,"question_id":75903085,"body_markdown":"I am trying to experiment with Scientist4j.  Mostly as a way to check if there is a mismatch in response between the new and old code paths.\r\nBut i cannot seem to trigger a Mismatch. Even if i intentionally sent the response on the candidate path to `null`.\r\nNot sure what i am missing.\r\n\r\nHere is a sample of my code calling the experiment\r\n```\r\n//Calling the candidate path with startTime, startTime(instead of endtime) to see what mismatch would look like\r\n\r\ncallWithExperiment(() -&gt; getAnalyticsInfos(startTime, startTime), &quot;Running candidate `getAnalyticsInfoByTime`&quot;);\r\n\r\nprivate &lt;T&gt; List&lt;T&gt; callWithExperiment(Callable&lt;List&lt;T&gt;&gt; callable, String logMessage) {\r\n        try {\r\n            final DropwizardMetricsProvider dropwizardMetricsProvider = new DropwizardMetricsProvider();\r\n            Experiment&lt;List&lt;T&gt;&gt; experiment = new Experiment&lt;&gt;(&quot;analytics-experiment&quot;, dropwizardMetricsProvider);\r\n            experiment.run(\r\n                    () -&gt; callable.call(),\r\n                    () -&gt; {\r\n                        log.info(logMessage);\r\n                        Random random = new Random();\r\n                        Thread.sleep(random.nextInt(5) * 100);\r\n                        return callable.call();\r\n             });\r\n\r\n              ConsoleReporter reporter = ConsoleReporter.forRegistry((MetricRegistry) experiment.getMetricsProvider().getRegistry())\r\n                .convertRatesTo(TimeUnit.SECONDS)\r\n                .convertDurationsTo(TimeUnit.MILLISECONDS)\r\n                .build();\r\n             reporter.start(10, TimeUnit.MINUTES);\r\n             reporter.report();\r\n             reporter.stop();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\nBelow is where i am trying to introduce a mismatch by setting the analytics result to `null`.\r\n```\r\n private List&lt;AnalyticsInfo&gt; getAnalyticsInfos(long startTime, long endTime) {\r\n        return withClient(client -&gt; {\r\n            GetAnalyticsInfoRequest req = new GetAnalyticsInfoRequest().setStartTime(startTime).setEndTime(endTime);\r\n            GetAnalyticsInfoResponse resp = client.geAnalyticsInfo(req);\r\n            List&lt;AnalyticsInfo&gt; results = resp.getInfo();\r\n//Intentionally setting bad response when startTime == endTime\r\n            if(startTime == endTime){\r\n                log.info(&quot;Updating results to null&quot;);\r\n                results = null;\r\n            }\r\n            if(results != null){\r\n                return results.parallelStream()\r\n                        .map(Transformer::toAnalyticsInfo)\r\n                        .collect(Collectors.toList());\r\n            }\r\n            return null;\r\n        });\r\n    }\r\n```\r\n\r\nHere are the my results from the experiment\r\n\r\n```\r\n3/31/23 9:39:50 PM =============================================================\r\n-- Counters --------------------------------------------------------------------\r\nscientist.analytics-experiment.candidate.exception\r\ncount = 0\r\nscientist.analytics-experiment.mismatch\r\ncount = 0\r\nscientist.analytics-experiment.total\r\ncount = 1\r\n-- Timers ----------------------------------------------------------------------\r\nscientist.analytics-experiment.candidate\r\ncount = 1\r\nsum = 24135238\r\nmean rate = 9.77 calls/second\r\n1-minute rate = 0.00 calls/second\r\n5-minute rate = 0.00 calls/second\r\n15-minute rate = 0.00 calls/second\r\nmin = 24.14 milliseconds\r\nmax = 24.14 milliseconds\r\nmean = 24.14 milliseconds\r\nstddev = 0.00 milliseconds\r\nmedian = 24.14 milliseconds\r\n75% &lt;= 24.14 milliseconds\r\n95% &lt;= 24.14 milliseconds\r\n98% &lt;= 24.14 milliseconds\r\n99% &lt;= 24.14 milliseconds\r\n99.9% &lt;= 24.14 milliseconds\r\nscientist.analytics-experiment.control\r\ncount = 1\r\nsum = 76235890\r\nmean rate = 9.73 calls/second\r\n1-minute rate = 0.00 calls/second\r\n5-minute rate = 0.00 calls/second\r\n15-minute rate = 0.00 calls/second\r\nmin = 76.24 milliseconds\r\nmax = 76.24 milliseconds\r\nmean = 76.24 milliseconds\r\nstddev = 0.00 milliseconds\r\nmedian = 76.24 milliseconds\r\n75% &lt;= 76.24 milliseconds\r\n95% &lt;= 76.24 milliseconds\r\n98% &lt;= 76.24 milliseconds\r\n99% &lt;= 76.24 milliseconds\r\n99.9% &lt;= 76.24 milliseconds\r\n```\r\n\r\nIf someone can let me know if i am missing something that would be great","title":"Scientist4J - Unable to produce a mismatch even when the candidate path is set to null intentionally","body":"<p>I am trying to experiment with Scientist4j.  Mostly as a way to check if there is a mismatch in response between the new and old code paths.\nBut i cannot seem to trigger a Mismatch. Even if i intentionally sent the response on the candidate path to <code>null</code>.\nNot sure what i am missing.</p>\n<p>Here is a sample of my code calling the experiment</p>\n<pre><code>//Calling the candidate path with startTime, startTime(instead of endtime) to see what mismatch would look like\n\ncallWithExperiment(() -&gt; getAnalyticsInfos(startTime, startTime), &quot;Running candidate `getAnalyticsInfoByTime`&quot;);\n\nprivate &lt;T&gt; List&lt;T&gt; callWithExperiment(Callable&lt;List&lt;T&gt;&gt; callable, String logMessage) {\n        try {\n            final DropwizardMetricsProvider dropwizardMetricsProvider = new DropwizardMetricsProvider();\n            Experiment&lt;List&lt;T&gt;&gt; experiment = new Experiment&lt;&gt;(&quot;analytics-experiment&quot;, dropwizardMetricsProvider);\n            experiment.run(\n                    () -&gt; callable.call(),\n                    () -&gt; {\n                        log.info(logMessage);\n                        Random random = new Random();\n                        Thread.sleep(random.nextInt(5) * 100);\n                        return callable.call();\n             });\n\n              ConsoleReporter reporter = ConsoleReporter.forRegistry((MetricRegistry) experiment.getMetricsProvider().getRegistry())\n                .convertRatesTo(TimeUnit.SECONDS)\n                .convertDurationsTo(TimeUnit.MILLISECONDS)\n                .build();\n             reporter.start(10, TimeUnit.MINUTES);\n             reporter.report();\n             reporter.stop();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n<p>Below is where i am trying to introduce a mismatch by setting the analytics result to <code>null</code>.</p>\n<pre><code> private List&lt;AnalyticsInfo&gt; getAnalyticsInfos(long startTime, long endTime) {\n        return withClient(client -&gt; {\n            GetAnalyticsInfoRequest req = new GetAnalyticsInfoRequest().setStartTime(startTime).setEndTime(endTime);\n            GetAnalyticsInfoResponse resp = client.geAnalyticsInfo(req);\n            List&lt;AnalyticsInfo&gt; results = resp.getInfo();\n//Intentionally setting bad response when startTime == endTime\n            if(startTime == endTime){\n                log.info(&quot;Updating results to null&quot;);\n                results = null;\n            }\n            if(results != null){\n                return results.parallelStream()\n                        .map(Transformer::toAnalyticsInfo)\n                        .collect(Collectors.toList());\n            }\n            return null;\n        });\n    }\n</code></pre>\n<p>Here are the my results from the experiment</p>\n<pre><code>3/31/23 9:39:50 PM =============================================================\n-- Counters --------------------------------------------------------------------\nscientist.analytics-experiment.candidate.exception\ncount = 0\nscientist.analytics-experiment.mismatch\ncount = 0\nscientist.analytics-experiment.total\ncount = 1\n-- Timers ----------------------------------------------------------------------\nscientist.analytics-experiment.candidate\ncount = 1\nsum = 24135238\nmean rate = 9.77 calls/second\n1-minute rate = 0.00 calls/second\n5-minute rate = 0.00 calls/second\n15-minute rate = 0.00 calls/second\nmin = 24.14 milliseconds\nmax = 24.14 milliseconds\nmean = 24.14 milliseconds\nstddev = 0.00 milliseconds\nmedian = 24.14 milliseconds\n75% &lt;= 24.14 milliseconds\n95% &lt;= 24.14 milliseconds\n98% &lt;= 24.14 milliseconds\n99% &lt;= 24.14 milliseconds\n99.9% &lt;= 24.14 milliseconds\nscientist.analytics-experiment.control\ncount = 1\nsum = 76235890\nmean rate = 9.73 calls/second\n1-minute rate = 0.00 calls/second\n5-minute rate = 0.00 calls/second\n15-minute rate = 0.00 calls/second\nmin = 76.24 milliseconds\nmax = 76.24 milliseconds\nmean = 76.24 milliseconds\nstddev = 0.00 milliseconds\nmedian = 76.24 milliseconds\n75% &lt;= 76.24 milliseconds\n95% &lt;= 76.24 milliseconds\n98% &lt;= 76.24 milliseconds\n99% &lt;= 76.24 milliseconds\n99.9% &lt;= 76.24 milliseconds\n</code></pre>\n<p>If someone can let me know if i am missing something that would be great</p>\n"},{"tags":["java","spring","spring-security","http-headers"],"owner":{"account_id":21556503,"reputation":1,"user_id":15891649,"display_name":"Jo&#227;o Pedro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680620613,"creation_date":1680620613,"question_id":75930962,"body_markdown":"I ran a PCI scan over one app that I have and the report states a vulnerability - HTTP Security Header Not Detected. The report has a very straight forward explanation of what is causing and what the solution could be. Basically I need to set: \r\nX-Content-Type-Options: nosniff\r\nStrict-Transport-Security: &quot;max-age=31536000; includeSubDomains&quot;.\r\n\r\nMy app is a huge spring framework portal with 4 modules. After some research, I tried to adapt the Java Configuration that is described in docs.spring.io, using spring-security. It&#39;s looks like a simple change and that&#39;s why I&#39;m wondering what might be wrong in my solution.\r\n\r\nAfter adding the vulnerability fix I don&#39;t have any errors in the portal. The issue is that the PCI scan result was exactly the same, so my changes did nothing.\r\n\r\n\r\n\r\nSo, I added this java file on each module\r\n..\\src\\main\\java\\src\\is\\compny\\common\\WebSecurityConfig.java\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable();\r\n        http\r\n                .headers()\r\n                .httpStrictTransportSecurity()\r\n                .requestMatcher(AnyRequestMatcher.INSTANCE)\r\n                .includeSubDomains(true)\r\n                .maxAgeInSeconds(31536000);\r\n\r\n    }\r\n}\r\n```\r\nThe `http.csrf().disable();` should fix the X-Content-Type-Options and the rest should fix the Strict-Transport-Security. \r\n\r\nAm I missing something in this solution? Did I add the class on the wrong place? Do I have to call the configure method anywhere?\r\n\r\nThanks in advance!","title":"HTTP Security Header Not Detected - Spring framework","body":"<p>I ran a PCI scan over one app that I have and the report states a vulnerability - HTTP Security Header Not Detected. The report has a very straight forward explanation of what is causing and what the solution could be. Basically I need to set:\nX-Content-Type-Options: nosniff\nStrict-Transport-Security: &quot;max-age=31536000; includeSubDomains&quot;.</p>\n<p>My app is a huge spring framework portal with 4 modules. After some research, I tried to adapt the Java Configuration that is described in docs.spring.io, using spring-security. It's looks like a simple change and that's why I'm wondering what might be wrong in my solution.</p>\n<p>After adding the vulnerability fix I don't have any errors in the portal. The issue is that the PCI scan result was exactly the same, so my changes did nothing.</p>\n<p>So, I added this java file on each module\n..\\src\\main\\java\\src\\is\\compny\\common\\WebSecurityConfig.java</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http\n                .headers()\n                .httpStrictTransportSecurity()\n                .requestMatcher(AnyRequestMatcher.INSTANCE)\n                .includeSubDomains(true)\n                .maxAgeInSeconds(31536000);\n\n    }\n}\n</code></pre>\n<p>The <code>http.csrf().disable();</code> should fix the X-Content-Type-Options and the rest should fix the Strict-Transport-Security.</p>\n<p>Am I missing something in this solution? Did I add the class on the wrong place? Do I have to call the configure method anywhere?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"score":0,"creation_date":1680589096,"post_id":75923693,"comment_id":133919224,"body_markdown":"I tried &quot;--add-exports java.base/jdk.internal.misc=ALL-UNNAMED&quot; and still got the same error (added it to the question). I&#39;ll try RuntimeMXBean next.","body":"I tried &quot;--add-exports java.base/jdk.internal.misc=ALL-UNNAMED&quot; and still got the same error (added it to the question). I&#39;ll try RuntimeMXBean next."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680604673,"post_id":75923693,"comment_id":133922752,"body_markdown":"**1.** `--add-exports` also needed for compiling; **2.** virtual machine options (`-D`, `--add-exports`) must come BEFORE the class name when executing `java` (anything after the class name is passed as ARGUMENT to `main` method of your code)","body":"<b>1.</b> <code>--add-exports</code> also needed for compiling; <b>2.</b> virtual machine options (<code>-D</code>, <code>--add-exports</code>) must come BEFORE the class name when executing <code>java</code> (anything after the class name is passed as ARGUMENT to <code>main</code> method of your code)"},{"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"score":0,"creation_date":1680620391,"post_id":75923693,"comment_id":133926951,"body_markdown":"Oh, you are right... between all the things I tried I apparently mixup up the order... now it works indeed... thanks!","body":"Oh, you are right... between all the things I tried I apparently mixup up the order... now it works indeed... thanks!"}],"owner":{"account_id":2757427,"reputation":2709,"user_id":2375105,"accept_rate":62,"display_name":"traveh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680620412,"creation_date":1680555251,"question_id":75923693,"body_markdown":"How can I check during runtime that `java.lang.Integer.IntegerCache.high` was set to a certain value.\r\n\r\nFor example, lets say that I want to check that the program was executed with `-Djava.lang.Integer.IntegerCache.high=10000`.\r\n\r\nI can&#39;t use `System.getProperty` because apparently Java saves this property to &quot;saved properties&quot;. In Java 19 Integer class the code reads the value with:\r\n\r\n    String integerCacheHighPropValue =\r\n        VM.getSavedProperty(&quot;java.lang.Integer.IntegerCache.high&quot;);\r\n\r\nBut if I import `jdk.internal.misc.VM` I get this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class percolation.Main (in unnamed module @0x1e80bfe8) cannot access class jdk.internal.misc.VM (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @0x1e80bfe8\r\n    \tat percolation.Main.main(Main.java:14)\r\n","title":"How to check if IntegerCache.high was set?","body":"<p>How can I check during runtime that <code>java.lang.Integer.IntegerCache.high</code> was set to a certain value.</p>\n<p>For example, lets say that I want to check that the program was executed with <code>-Djava.lang.Integer.IntegerCache.high=10000</code>.</p>\n<p>I can't use <code>System.getProperty</code> because apparently Java saves this property to &quot;saved properties&quot;. In Java 19 Integer class the code reads the value with:</p>\n<pre><code>String integerCacheHighPropValue =\n    VM.getSavedProperty(&quot;java.lang.Integer.IntegerCache.high&quot;);\n</code></pre>\n<p>But if I import <code>jdk.internal.misc.VM</code> I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class percolation.Main (in unnamed module @0x1e80bfe8) cannot access class jdk.internal.misc.VM (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @0x1e80bfe8\n    at percolation.Main.main(Main.java:14)\n</code></pre>\n"},{"tags":["java","netbeans","netbeans-8.2"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1533308688,"post_id":51674788,"comment_id":90313862,"body_markdown":"AFAIK NetBeans 8.2 is not compatible with Java 9 or higher. You may want to install Java 8.","body":"AFAIK NetBeans 8.2 is not compatible with Java 9 or higher. You may want to install Java 8."},{"owner":{"account_id":12552641,"reputation":124,"user_id":9135969,"display_name":"florian de wulf"},"score":0,"creation_date":1533309063,"post_id":51674788,"comment_id":90314116,"body_markdown":"Oh this was the problem my bad, thanks man.","body":"Oh this was the problem my bad, thanks man."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1533310553,"post_id":51674788,"comment_id":90314973,"body_markdown":"You can run Java 9 and higher with [NetBeans 9](https://netbeans.apache.org/download/nb90/nb90.html) which was released last week. NetBeans 9 can be installed and run concurrently with NetBeans 8.2; the two releases do not impact each other at all.","body":"You can run Java 9 and higher with <a href=\"https://netbeans.apache.org/download/nb90/nb90.html\" rel=\"nofollow noreferrer\">NetBeans 9</a> which was released last week. NetBeans 9 can be installed and run concurrently with NetBeans 8.2; the two releases do not impact each other at all."},{"owner":{"account_id":7502159,"reputation":9977,"user_id":7594961,"accept_rate":57,"display_name":"Bertram Gilfoyle"},"score":0,"creation_date":1549450677,"post_id":51674788,"comment_id":95903810,"body_markdown":"Possible duplicate of [JDK was not found on the computer for NetBeans 6.5](https://stackoverflow.com/questions/13079472/jdk-was-not-found-on-the-computer-for-netbeans-6-5)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/13079472/jdk-was-not-found-on-the-computer-for-netbeans-6-5\">JDK was not found on the computer for NetBeans 6.5</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1549705235,"post_id":51674788,"comment_id":96005452,"body_markdown":"@Anees Given the cause and solution is different, I&#39;m not sure that is an appropriate duplicate.","body":"@Anees Given the cause and solution is different, I&#39;m not sure that is an appropriate duplicate."},{"owner":{"account_id":7502159,"reputation":9977,"user_id":7594961,"accept_rate":57,"display_name":"Bertram Gilfoyle"},"score":0,"creation_date":1549710450,"post_id":51674788,"comment_id":96006452,"body_markdown":"@MarkRotteveel Sorry I don&#39;t understand what you are saying. Can you clarify it? Are you referring to the  comment or the answer I have posted?","body":"@MarkRotteveel Sorry I don&#39;t understand what you are saying. Can you clarify it? Are you referring to the  comment or the answer I have posted?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1549713084,"post_id":51674788,"comment_id":96007045,"body_markdown":"@Anees I&#39;m responding to your proposed duplicate. If it had been a response to your answer, I would have posted my comment on your answer.","body":"@Anees I&#39;m responding to your proposed duplicate. If it had been a response to your answer, I would have posted my comment on your answer."},{"owner":{"account_id":7502159,"reputation":9977,"user_id":7594961,"accept_rate":57,"display_name":"Bertram Gilfoyle"},"score":0,"creation_date":1549715066,"post_id":51674788,"comment_id":96007535,"body_markdown":"Of course that is how you should do it. But your comment &quot;Given the cause and solution is different&quot;  is still confusing me. What solution? You mean the accepted answer in the post I have mentioned?","body":"Of course that is how you should do it. But your comment &quot;Given the cause and solution is different&quot;  is still confusing me. What solution? You mean the accepted answer in the post I have mentioned?"}],"answers":[{"tags":[],"owner":{"account_id":13912420,"reputation":185,"user_id":10045218,"display_name":"sethsource"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1533313221,"creation_date":1533313221,"answer_id":51676636,"question_id":51674788,"body_markdown":"Java 8 is still the standard for now. Uninstall java 10 and install this and reset your env vars.\r\n\r\nhttp://www.oracle.com/technetwork/pt/java/javase/downloads/jdk8-downloads-2133151.html\r\n\r\n","title":"JDK was not found on the computer for netbeans 8.2","body":"<p>Java 8 is still the standard for now. Uninstall java 10 and install this and reset your env vars.</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/pt/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/pt/java/javase/downloads/jdk8-downloads-2133151.html</a></p>\n"},{"tags":[],"owner":{"account_id":11284008,"reputation":54,"user_id":8793845,"display_name":"Tharaka Ratnayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533544662,"creation_date":1533544662,"answer_id":51703610,"question_id":51674788,"body_markdown":"Your computer is 64bit. so your jdk should be in Program Files not Program Files(x86)\r\n\r\n    C:\\Users\\admin\\Downloads&gt;netbeans-8.2-windows.exe -javahome &quot;C:\\Program Files\\Java\\jdk-10.0.2&quot;","title":"JDK was not found on the computer for netbeans 8.2","body":"<p>Your computer is 64bit. so your jdk should be in Program Files not Program Files(x86)</p>\n\n<pre><code>C:\\Users\\admin\\Downloads&gt;netbeans-8.2-windows.exe -javahome \"C:\\Program Files\\Java\\jdk-10.0.2\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7502159,"reputation":9977,"user_id":7594961,"accept_rate":57,"display_name":"Bertram Gilfoyle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549483721,"creation_date":1549449123,"answer_id":54551453,"question_id":51674788,"body_markdown":"JDK 8 was the latest version at time of NetBeans 8.2 is developed. For that reason, **JDK 8 is required for installing and running all NetBeans Bundles of version 8.0 - 8.02**. They do not run on JDK 9 or later.\r\n\r\n[Download JDK 8][1]\r\n&lt;br&gt;[Download latest version of NetBeans][2]\r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n  [2]: https://netbeans.apache.org/download/index.html","title":"JDK was not found on the computer for netbeans 8.2","body":"<p>JDK 8 was the latest version at time of NetBeans 8.2 is developed. For that reason, <strong>JDK 8 is required for installing and running all NetBeans Bundles of version 8.0 - 8.02</strong>. They do not run on JDK 9 or later.</p>\n\n<p><a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">Download JDK 8</a>\n<br><a href=\"https://netbeans.apache.org/download/index.html\" rel=\"nofollow noreferrer\">Download latest version of NetBeans</a></p>\n"}],"owner":{"account_id":12552641,"reputation":124,"user_id":9135969,"display_name":"florian de wulf"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16850,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51676636,"answer_count":3,"score":1,"last_activity_date":1680620385,"creation_date":1533306410,"question_id":51674788,"body_markdown":"I got the following message when opening NetBeans that JDK has not been found on this computer. I have got the JDK installed, and set the bin directory in the environment.  Btw, I am using Windows 10 Pro 64 bit.\r\n\r\nI have tried this in the command prompt.\r\n\r\n    C:\\Users\\admin\\Downloads&gt;netbeans-8.2-windows.exe --javahome &quot;C:\\Program Files (x86)\\Java\\jdk-10.0.2&quot;\r\n\r\nBut then I get this message.\r\n\r\n    It&#39;s only the launcher stub.\r\n    OS: x64\r\n\r\nDoes someone know what I can do about this?\r\nThanks.","title":"JDK was not found on the computer for netbeans 8.2","body":"<p>I got the following message when opening NetBeans that JDK has not been found on this computer. I have got the JDK installed, and set the bin directory in the environment.  Btw, I am using Windows 10 Pro 64 bit.</p>\n<p>I have tried this in the command prompt.</p>\n<pre><code>C:\\Users\\admin\\Downloads&gt;netbeans-8.2-windows.exe --javahome &quot;C:\\Program Files (x86)\\Java\\jdk-10.0.2&quot;\n</code></pre>\n<p>But then I get this message.</p>\n<pre><code>It's only the launcher stub.\nOS: x64\n</code></pre>\n<p>Does someone know what I can do about this?\nThanks.</p>\n"},{"tags":["java","xml","android-studio"],"answers":[{"tags":[],"owner":{"account_id":17625096,"reputation":126,"user_id":12790285,"display_name":"ahmednawazCS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611213216,"creation_date":1611213216,"answer_id":65822631,"question_id":65541815,"body_markdown":"Update Material design library to the latest version in build.Gradle(Module:App) file\r\ni.e \r\n\r\n```implementation &#39;com.google.android.material:material:1.3.0-rc01&#39;```","title":"AAPT: error: attribute startIconDrawable not found","body":"<p>Update Material design library to the latest version in build.Gradle(Module:App) file\ni.e</p>\n<p><code>implementation 'com.google.android.material:material:1.3.0-rc01'</code></p>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611214868,"creation_date":1611214533,"answer_id":65822921,"question_id":65541815,"body_markdown":"Better use the latest **stable** version - than a release candidate:\r\n\r\n    implementation &quot;com.google.android.material:material:1.2.1&quot;\r\n\r\nAnything later than `1.1.0-alpha05` should work, as it had been added [there](https://github.com/material-components/material-components-android/commit/2642ff2697899791682b1556bb0ea774bd06592f#diff-f9daefe114434ebc5a06997bc6386a9df2496cd2c05e057905fa40e4eea9717aR56).","title":"AAPT: error: attribute startIconDrawable not found","body":"<p>Better use the latest <strong>stable</strong> version - than a release candidate:</p>\n<pre><code>implementation &quot;com.google.android.material:material:1.2.1&quot;\n</code></pre>\n<p>Anything later than <code>1.1.0-alpha05</code> should work, as it had been added <a href=\"https://github.com/material-components/material-components-android/commit/2642ff2697899791682b1556bb0ea774bd06592f#diff-f9daefe114434ebc5a06997bc6386a9df2496cd2c05e057905fa40e4eea9717aR56\" rel=\"nofollow noreferrer\">there</a>.</p>\n"},{"tags":[],"owner":{"account_id":24190667,"reputation":1,"user_id":18149910,"display_name":"Abdullah Kahtan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680620226,"creation_date":1680620226,"answer_id":75930899,"question_id":65541815,"body_markdown":"remove the attribute `app:startIconDrawable=&quot;@drawable/ic_email&quot;`\r\n\r\nthen your code will be like:\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/textinputlayoutCorreo&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n            android:layout_width=&quot;299dp&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:hint=&quot;Correo&quot;\r\n            android:textColor=&quot;@color/colorNegro&quot;\r\n            app:counterEnabled=&quot;true&quot;\r\n            app:counterMaxLength=&quot;30&quot;\r\n            app:helperText=&quot;Requerido&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/textinputlayoutContrasena&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:id=&quot;@+id/editTextcorreo&quot;\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;54dp&quot;\r\n                android:inputType=&quot;textEmailAddress&quot;\r\n                android:textColor=&quot;@color/colorNegro&quot;\r\n                android:maxLength=&quot;30&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\nthen the error will gone","title":"AAPT: error: attribute startIconDrawable not found","body":"<p>remove the attribute <code>app:startIconDrawable=&quot;@drawable/ic_email&quot;</code></p>\n<p>then your code will be like:</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/textinputlayoutCorreo&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n        android:layout_width=&quot;299dp&quot;\n        android:layout_height=&quot;80dp&quot;\n        android:hint=&quot;Correo&quot;\n        android:textColor=&quot;@color/colorNegro&quot;\n        app:counterEnabled=&quot;true&quot;\n        app:counterMaxLength=&quot;30&quot;\n        app:helperText=&quot;Requerido&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/textinputlayoutContrasena&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        android:layout_marginBottom=&quot;10dp&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/editTextcorreo&quot;\n            android:layout_width=&quot;300dp&quot;\n            android:layout_height=&quot;54dp&quot;\n            android:inputType=&quot;textEmailAddress&quot;\n            android:textColor=&quot;@color/colorNegro&quot;\n            android:maxLength=&quot;30&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>then the error will gone</p>\n"}],"owner":{"account_id":16608415,"reputation":15,"user_id":12004631,"display_name":"JUAN MIGUEL DIAZ HERNANDEZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680620226,"creation_date":1609607332,"question_id":65541815,"body_markdown":"I have an error:\r\nC: \\ Users \\ juan_ \\ AndroidStudioProjects \\ DermaApp \\ app \\ src \\ main \\ res \\ layout \\ activity_login.xml: 33: AAPT: error: attribute startIconDrawable (aka com.example.example: startIconDrawable) not found.\r\n\r\n\r\nThe error is in this line of the XML :        app:startIconDrawable=&quot;@drawable/ic_email&quot;\r\n\r\n\r\n\r\n\r\n\r\n     &lt;com.google.android.material.textfield.TextInputLayout\r\n            android:id=&quot;@+id/textinputlayoutCorreo&quot;\r\n            app:startIconDrawable=&quot;@drawable/ic_email&quot;\r\n            style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\r\n            android:layout_width=&quot;299dp&quot;\r\n            android:layout_height=&quot;80dp&quot;\r\n            android:hint=&quot;Correo&quot;\r\n            android:textColor=&quot;@color/colorNegro&quot;\r\n            app:counterEnabled=&quot;true&quot;\r\n            app:counterMaxLength=&quot;30&quot;\r\n            app:helperText=&quot;Requerido&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/textinputlayoutContrasena&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n                android:id=&quot;@+id/editTextcorreo&quot;\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;54dp&quot;\r\n                android:inputType=&quot;textEmailAddress&quot;\r\n                android:textColor=&quot;@color/colorNegro&quot;\r\n                android:maxLength=&quot;30&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;","title":"AAPT: error: attribute startIconDrawable not found","body":"<p>I have an error:\nC: \\ Users \\ juan_ \\ AndroidStudioProjects \\ DermaApp \\ app \\ src \\ main \\ res \\ layout \\ activity_login.xml: 33: AAPT: error: attribute startIconDrawable (aka com.example.example: startIconDrawable) not found.</p>\n<p>The error is in this line of the XML :        app:startIconDrawable=&quot;@drawable/ic_email&quot;</p>\n<pre><code> &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/textinputlayoutCorreo&quot;\n        app:startIconDrawable=&quot;@drawable/ic_email&quot;\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;\n        android:layout_width=&quot;299dp&quot;\n        android:layout_height=&quot;80dp&quot;\n        android:hint=&quot;Correo&quot;\n        android:textColor=&quot;@color/colorNegro&quot;\n        app:counterEnabled=&quot;true&quot;\n        app:counterMaxLength=&quot;30&quot;\n        app:helperText=&quot;Requerido&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/textinputlayoutContrasena&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        android:layout_marginBottom=&quot;10dp&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/editTextcorreo&quot;\n            android:layout_width=&quot;300dp&quot;\n            android:layout_height=&quot;54dp&quot;\n            android:inputType=&quot;textEmailAddress&quot;\n            android:textColor=&quot;@color/colorNegro&quot;\n            android:maxLength=&quot;30&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":3,"creation_date":1680539243,"post_id":75921684,"comment_id":133911944,"body_markdown":"Well, try out the newer java.time package instead.","body":"Well, try out the newer java.time package instead."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":4,"creation_date":1680539358,"post_id":75921684,"comment_id":133911965,"body_markdown":"To expand a bit on @JustanotherJavaprogrammer&#39;s comment: `java.util.Calandar` is a poor API, and has been recognized as such for a long time. The `java.time` package is basically &quot;calendar version 2&quot;, and fixes a bunch of issues. So the short answer to your &quot;why&quot; question is: &quot;probably for no good reason, and whoever wrote that code probably regrets it now&quot;. (Time and calendar stuff is generally a lot harder than people first assume, so it&#39;s not surprising that &quot;version 1&quot; didn&#39;t get everything right.)","body":"To expand a bit on @JustanotherJavaprogrammer&#39;s comment: <code>java.util.Calandar</code> is a poor API, and has been recognized as such for a long time. The <code>java.time</code> package is basically &quot;calendar version 2&quot;, and fixes a bunch of issues. So the short answer to your &quot;why&quot; question is: &quot;probably for no good reason, and whoever wrote that code probably regrets it now&quot;. (Time and calendar stuff is generally a lot harder than people first assume, so it&#39;s not surprising that &quot;version 1&quot; didn&#39;t get everything right.)"},{"owner":{"account_id":8734849,"reputation":31,"user_id":6533825,"display_name":"Ronald Bieber"},"score":1,"creation_date":1680540287,"post_id":75921684,"comment_id":133912182,"body_markdown":"I guess I will go with the comments from &quot;Just another Java programmer&quot; and @yshavit . Still frustrating, but not worth the effort to ponder on legacy API.","body":"I guess I will go with the comments from &quot;Just another Java programmer&quot; and @yshavit . Still frustrating, but not worth the effort to ponder on legacy API."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1680542381,"post_id":75921684,"comment_id":133912686,"body_markdown":"[documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html#get(int)) of `get()`: &quot;*Returns the value of the given calendar field. ... The normalization and validation are handled by the complete() method, ...*&quot;, `complete()`: &quot;*... Then, the computeFields() method is called to calculate all calendar field values.*&quot; and `isSet()`: &quot;*Determines if the given calendar field has a value set, including cases that the value has been set by internal fields calculations triggered by a get method call.*&quot; (as mentioned above, &quot;a poor API&quot;)","body":"<a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html#get(int)\" rel=\"nofollow noreferrer\">documentation</a> of <code>get()</code>: &quot;<i>Returns the value of the given calendar field. ... The normalization and validation are handled by the complete() method, ...</i>&quot;, <code>complete()</code>: &quot;<i>... Then, the computeFields() method is called to calculate all calendar field values.</i>&quot; and <code>isSet()</code>: &quot;<i>Determines if the given calendar field has a value set, including cases that the value has been set by internal fields calculations triggered by a get method call.</i>&quot; (as mentioned above, &quot;a poor API&quot;)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1680581147,"post_id":75921684,"comment_id":133918242,"body_markdown":"@user16320675 Please make an Answer of your Comment so that we can mark this Question as resolved.","body":"@user16320675 Please make an Answer of your Comment so that we can mark this Question as resolved."}],"answers":[{"comments":[{"owner":{"account_id":8734849,"reputation":31,"user_id":6533825,"display_name":"Ronald Bieber"},"score":2,"creation_date":1680646207,"post_id":75930865,"comment_id":133933091,"body_markdown":"Thank you for the thorough explanation. I switched my code to `java.time` and it was totally worth it! The new code is more compact and more intuitive. Usually I hate it when for a question &quot;how can I make A work&quot; the answer is &quot;you shouldn&#39;t do A, B is much cooler (I think)&quot;, but in this case it is very appropriate.","body":"Thank you for the thorough explanation. I switched my code to <code>java.time</code> and it was totally worth it! The new code is more compact and more intuitive. Usually I hate it when for a question &quot;how can I make A work&quot; the answer is &quot;you shouldn&#39;t do A, B is much cooler (I think)&quot;, but in this case it is very appropriate."}],"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680620048,"creation_date":1680620048,"answer_id":75930865,"question_id":75921684,"body_markdown":"I do not know &quot;why should it be acceptable for a get-method to change any object&#39;s properties&quot;, but it is working as documented:\r\n\r\n[Documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#get(int)) of `get(int)`:\r\n&gt; Returns the value of the given calendar field. ... The normalization and validation are handled by the [complete()](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#complete()) method, which process is calendar system dependent.\r\n\r\nAnd of `complete()`:\r\n&gt; Fills in any unset fields in the calendar fields. ... Then, the [computeFields()](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#computeFields()) method is called to calculate all calendar field values.\r\n\r\nAlso relevant, [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#isSet(int)) of `isSet(int)` (emphasis mine):\r\n&gt; Determines if the given calendar field has a value set, **including cases that the value has been set by internal fields calculations triggered by a get method call.**\r\n\r\n---\r\n\r\nPlease note that the `java.util.Date`, `java.util.Calendar`, `java.text.DateFormat` and similar (sub-classes) were outdated by the `java.time` package (and sub-packages) in Java 8 (2014!) - it is recommended to use the new classes!","title":"Why does Calendar.get() set a previously unset value?","body":"<p>I do not know &quot;why should it be acceptable for a get-method to change any object's properties&quot;, but it is working as documented:</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#get(int)\" rel=\"nofollow noreferrer\">Documentation</a> of <code>get(int)</code>:</p>\n<blockquote>\n<p>Returns the value of the given calendar field. ... The normalization and validation are handled by the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#complete()\" rel=\"nofollow noreferrer\">complete()</a> method, which process is calendar system dependent.</p>\n</blockquote>\n<p>And of <code>complete()</code>:</p>\n<blockquote>\n<p>Fills in any unset fields in the calendar fields. ... Then, the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#computeFields()\" rel=\"nofollow noreferrer\">computeFields()</a> method is called to calculate all calendar field values.</p>\n</blockquote>\n<p>Also relevant, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#isSet(int)\" rel=\"nofollow noreferrer\">documentation</a> of <code>isSet(int)</code> (emphasis mine):</p>\n<blockquote>\n<p>Determines if the given calendar field has a value set, <strong>including cases that the value has been set by internal fields calculations triggered by a get method call.</strong></p>\n</blockquote>\n<hr />\n<p>Please note that the <code>java.util.Date</code>, <code>java.util.Calendar</code>, <code>java.text.DateFormat</code> and similar (sub-classes) were outdated by the <code>java.time</code> package (and sub-packages) in Java 8 (2014!) - it is recommended to use the new classes!</p>\n"}],"owner":{"account_id":8734849,"reputation":31,"user_id":6533825,"display_name":"Ronald Bieber"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75930865,"answer_count":1,"score":1,"last_activity_date":1680620048,"creation_date":1680539110,"question_id":75921684,"body_markdown":"It appears that Java&#39;s Calendar.get()-Method has the habit of changing a Calendar&#39;s property when being used on unset values.\r\nExample:\r\n```\r\nimport java.util.Calendar;\r\nimport java.util.GregorianCalendar;\r\n\r\npublic class Spielwiese {\r\n\t\r\n    public static void main(String[] argv) {\r\n\t\tCalendar cal = new GregorianCalendar();\r\n\t\tcal.clear();\r\n\t\tSystem.out.println(\r\n\t\t\t\t&quot;initially: isSet == &quot; + cal.isSet(Calendar.DAY_OF_MONTH) + &quot;\\n&quot; +\r\n\t\t\t\t&quot;asking for value anyway: &quot; + cal.get(Calendar.DAY_OF_MONTH) + &quot;\\n&quot; +\r\n\t\t\t\t&quot;now changed: isSet == &quot; + cal.isSet(Calendar.DAY_OF_MONTH)); \r\n\t}\r\n}\r\n```\r\nOutput:\r\n```\r\ninitially: isSet == false\r\nasking for value anyway: 1\r\nnow changed: isSet == true\r\n```\r\nWhy should it be acceptable for a get-method to change any object&#39;s properties?","title":"Why does Calendar.get() set a previously unset value?","body":"<p>It appears that Java's Calendar.get()-Method has the habit of changing a Calendar's property when being used on unset values.\nExample:</p>\n<pre><code>import java.util.Calendar;\nimport java.util.GregorianCalendar;\n\npublic class Spielwiese {\n    \n    public static void main(String[] argv) {\n        Calendar cal = new GregorianCalendar();\n        cal.clear();\n        System.out.println(\n                &quot;initially: isSet == &quot; + cal.isSet(Calendar.DAY_OF_MONTH) + &quot;\\n&quot; +\n                &quot;asking for value anyway: &quot; + cal.get(Calendar.DAY_OF_MONTH) + &quot;\\n&quot; +\n                &quot;now changed: isSet == &quot; + cal.isSet(Calendar.DAY_OF_MONTH)); \n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>initially: isSet == false\nasking for value anyway: 1\nnow changed: isSet == true\n</code></pre>\n<p>Why should it be acceptable for a get-method to change any object's properties?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":3,"creation_date":1530021962,"post_id":51044873,"comment_id":89080883,"body_markdown":"Did you try checking [the source](http://developer.classpath.org/doc/java/lang/Thread-source.html)?","body":"Did you try checking <a href=\"http://developer.classpath.org/doc/java/lang/Thread-source.html\" rel=\"nofollow noreferrer\">the source</a>?"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1530024828,"creation_date":1530024828,"answer_id":51045853,"question_id":51044873,"body_markdown":"The `Thread` constructor uses the given `Runnable` object as the thread&#39;s _delegate_.\r\n\r\nAll of the magic happens in the `start()` method.  That&#39;s the method that creates a new operating system thread, and arranges for `this.run()` to be called within it.\r\n\r\nIf `this` is a subclass of `Thread`, then `this.run()` calls the subclass&#39;s `run()` method.\r\n\r\nIf `this` is a `Thread` instance with a delegate, then `this.run()` calls the delegate&#39;s `run()` method.\r\n\r\nIf `this` is a `Thread` instance with no delegate, then `this.run()` returns without doing anything, and the new thread immediately terminates.","title":"Implementation of Thread Constructor","body":"<p>The <code>Thread</code> constructor uses the given <code>Runnable</code> object as the thread's <em>delegate</em>.</p>\n\n<p>All of the magic happens in the <code>start()</code> method.  That's the method that creates a new operating system thread, and arranges for <code>this.run()</code> to be called within it.</p>\n\n<p>If <code>this</code> is a subclass of <code>Thread</code>, then <code>this.run()</code> calls the subclass's <code>run()</code> method.</p>\n\n<p>If <code>this</code> is a <code>Thread</code> instance with a delegate, then <code>this.run()</code> calls the delegate's <code>run()</code> method.</p>\n\n<p>If <code>this</code> is a <code>Thread</code> instance with no delegate, then <code>this.run()</code> returns without doing anything, and the new thread immediately terminates.</p>\n"}],"owner":{"account_id":13845729,"reputation":1,"user_id":9994917,"display_name":"n.v.r Srikar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680618730,"creation_date":1530021898,"question_id":51044873,"body_markdown":"    Thread a = new Thread(new Runnable(){\r\n        @Override         \r\n        Public void run(){\r\n         \r\n        }\r\n    });\r\n\r\nWhen `start()` is invoked on a run method on the anonymous runnable object will be invoked. What might be the implementation in the Thread constructor to make it happen?\r\n\r\nWill it cast the anonymous runnable object to a Thread object in some way and point it to a?\r\n\r\n\r\n","title":"Implementation of Thread Constructor","body":"<pre><code>Thread a = new Thread(new Runnable(){\n    @Override         \n    Public void run(){\n\n    }\n});\n</code></pre>\n\n<p>When <code>start()</code> is invoked on a run method on the anonymous runnable object will be invoked. What might be the implementation in the Thread constructor to make it happen?</p>\n\n<p>Will it cast the anonymous runnable object to a Thread object in some way and point it to a?</p>\n"},{"tags":["java","anylogic"],"answers":[{"comments":[{"owner":{"account_id":16986941,"reputation":43,"user_id":12287482,"display_name":"jiz148"},"score":0,"creation_date":1680622220,"post_id":75930625,"comment_id":133927564,"body_markdown":"Thank you Benjamin,\nThe problem I&#39;m see here is that, for example, the agent being picked up has one property called qty. And at the next block I tried `traceln(agent.contents.get(0).qty)`, I then through me `qty cannot be resolved` error. I printed the typle of `agent.contents.get(0)`, it gives me `combined.A` (assuming the picked up agent type is A)","body":"Thank you Benjamin, The problem I&#39;m see here is that, for example, the agent being picked up has one property called qty. And at the next block I tried <code>traceln(agent.contents.get(0).qty)</code>, I then through me <code>qty cannot be resolved</code> error. I printed the typle of <code>agent.contents.get(0)</code>, it gives me <code>combined.A</code> (assuming the picked up agent type is A)"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1680704018,"post_id":75930625,"comment_id":133943440,"body_markdown":"Please always open new issues for new questions, SOF does not work like a forum. Also, upvote answers when they actually solve the original question. Happy to help with this new issue, just create a new post. Why? See https://benjamin-schumann.squarespace.com/blog/2021/4/1/how-to-win-at-anylogic-on-stackoverflow","body":"Please always open new issues for new questions, SOF does not work like a forum. Also, upvote answers when they actually solve the original question. Happy to help with this new issue, just create a new post. Why? See <a href=\"https://benjamin-schumann.squarespace.com/blog/2021/4/1/how-to-win-at-anylogic-on-stackoverflow\" rel=\"nofollow noreferrer\">benjamin-schumann.squarespace.com/blog/2021/4/1/&hellip;</a>"}],"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680618672,"creation_date":1680618672,"answer_id":75930625,"question_id":75930525,"body_markdown":"Within the pickup object itself, you can use `container.contents()` to get a list of the agents picked up already. `container` refers to the agent picking up.\r\n\r\nAfterwards, the agent that picked up agents can access them using `.contents()`.\r\n\r\nSome examples are in the [help][1]:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://anylogic.help/library-reference-guides/process-modeling-library/pickup.html#pickup\r\n  [2]: https://i.stack.imgur.com/yDC3M.png","title":"Anylogic select agents after Pickup","body":"<p>Within the pickup object itself, you can use <code>container.contents()</code> to get a list of the agents picked up already. <code>container</code> refers to the agent picking up.</p>\n<p>Afterwards, the agent that picked up agents can access them using <code>.contents()</code>.</p>\n<p>Some examples are in the <a href=\"https://anylogic.help/library-reference-guides/process-modeling-library/pickup.html#pickup\" rel=\"nofollow noreferrer\">help</a>:\n<a href=\"https://i.stack.imgur.com/yDC3M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yDC3M.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16986941,"reputation":43,"user_id":12287482,"display_name":"jiz148"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680618672,"creation_date":1680618089,"question_id":75930525,"body_markdown":"After agent A picked up agents [a, b, c, ...],\r\nhow can I select the picked up agent, for example, c, without using Dropoff?\r\n\r\n\r\nI&#39;m new to Anylogic, so pardon me if the question does not make sense. ","title":"Anylogic select agents after Pickup","body":"<p>After agent A picked up agents [a, b, c, ...],\nhow can I select the picked up agent, for example, c, without using Dropoff?</p>\n<p>I'm new to Anylogic, so pardon me if the question does not make sense.</p>\n"},{"tags":["java","file","nfs","delete-file"],"comments":[{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":1,"creation_date":1274310250,"post_id":2870034,"comment_id":2915637,"body_markdown":"You should show some of your code, such as how you&#39;re using FileUtils.  Are you using the file you&#39;re deleting elsewhere?  Also, have you looked at deleteOnExit?","body":"You should show some of your code, such as how you&#39;re using FileUtils.  Are you using the file you&#39;re deleting elsewhere?  Also, have you looked at deleteOnExit?"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1274323092,"post_id":2870034,"comment_id":2916328,"body_markdown":"If you want people to anwser your questions in the future, please accept the answers for the questions you have asked.","body":"If you want people to anwser your questions in the future, please accept the answers for the questions you have asked."}],"answers":[{"tags":[],"owner":{"account_id":98074,"reputation":5494,"user_id":265683,"accept_rate":67,"display_name":"RenegadeAndy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1274311044,"creation_date":1274311044,"answer_id":2870091,"question_id":2870034,"body_markdown":"I fixed it.\r\n\r\nI hadnt close a previous buffered reader - meaning the delete couldnt get a lock on the file!","title":"Java file delete on NFS drive","body":"<p>I fixed it.</p>\n\n<p>I hadnt close a previous buffered reader - meaning the delete couldnt get a lock on the file!</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681063070,"post_id":75930592,"comment_id":133995065,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75930592/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26682180,"reputation":1,"user_id":20291988,"display_name":"Kyle Seaman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680618454,"creation_date":1680618454,"answer_id":75930592,"question_id":2870034,"body_markdown":"I had a similar issue.\r\n\r\nI had a bunch of .nfs files that were busy and couldn&#39;t delete. It was because I had a RandomFileAccess that I never closed. Once I closed it, the resource was no longer busy.","title":"Java file delete on NFS drive","body":"<p>I had a similar issue.</p>\n<p>I had a bunch of .nfs files that were busy and couldn't delete. It was because I had a RandomFileAccess that I never closed. Once I closed it, the resource was no longer busy.</p>\n"}],"owner":{"account_id":98074,"reputation":5494,"user_id":265683,"accept_rate":67,"display_name":"RenegadeAndy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3867,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":2870091,"answer_count":2,"score":0,"last_activity_date":1680618454,"creation_date":1274309968,"question_id":2870034,"body_markdown":"I am trying to delete a file on a NFS drive.\r\n\r\nI have had other problems manipulating files on remote drives such as moving a file - however i got around it by not using the conventional method i.e renameFile but instead properly using input and output streams.\r\n\r\nHowever using the File.delete() returns false , and I have heard suggestions on using the apache commons io FileUtils class - however it just throws an IO exception.\r\n\r\nDoes anybody have any suggestions on a way to delete a file on a network mounted drive using java?\r\n\r\n","title":"Java file delete on NFS drive","body":"<p>I am trying to delete a file on a NFS drive.</p>\n\n<p>I have had other problems manipulating files on remote drives such as moving a file - however i got around it by not using the conventional method i.e renameFile but instead properly using input and output streams.</p>\n\n<p>However using the File.delete() returns false , and I have heard suggestions on using the apache commons io FileUtils class - however it just throws an IO exception.</p>\n\n<p>Does anybody have any suggestions on a way to delete a file on a network mounted drive using java?</p>\n"},{"tags":["java","spring-boot","jwt","token"],"answers":[{"tags":[],"owner":{"account_id":36098,"reputation":813,"user_id":102778,"accept_rate":11,"display_name":"Galkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680618427,"creation_date":1680618427,"answer_id":75930588,"question_id":75608603,"body_markdown":"I think this can give you an idea how to solve you problem.\r\n\r\nFirstly, you need to generated a JWT token with the roles claim.\r\n\r\n    public String generateToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\r\n      List&lt;String&gt; roles = new ArrayList&lt;&gt;();\r\n      Map&lt;String, Object&gt; rolesClaim = new HashMap&lt;&gt;();\r\n      userDetails.getAuthorities().forEach(a -&gt; roles.add(a.getAuthority()));\r\n      rolesClaim.put(&quot;roles&quot;, roles);\r\n    \r\n      return Jwts\r\n              .builder()\r\n              .setClaims(extraClaims)\r\n              .setIssuer(issuer)\r\n              .setAudience(audience)\r\n              .setSubject(userDetails.getUsername())\r\n              .setIssuedAt(new Date(System.currentTimeMillis()))\r\n              .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 10)) // 10 minutes\r\n              .signWith(getSignInKey(), SignatureAlgorithm.HS256)\r\n              .addClaims(rolesClaim)\r\n              .compact();\r\n    }\r\n\r\nSecondly, you can extract the roles claim.\r\n\r\n    Claims extractAllClaims = Jwts\r\n              .parserBuilder()\r\n              .setSigningKey(getSignInKey())\r\n              .build()\r\n              .parseClaimsJws(token)\r\n              .getBody();\r\n\r\n    List&lt;String&gt; claimRoles = extractAllClaims.get(&quot;roles&quot;, List.class);\r\n    \r\n","title":"Issue with extracting &quot;role&quot; claim from JWT token in Spring API","body":"<p>I think this can give you an idea how to solve you problem.</p>\n<p>Firstly, you need to generated a JWT token with the roles claim.</p>\n<pre><code>public String generateToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\n  List&lt;String&gt; roles = new ArrayList&lt;&gt;();\n  Map&lt;String, Object&gt; rolesClaim = new HashMap&lt;&gt;();\n  userDetails.getAuthorities().forEach(a -&gt; roles.add(a.getAuthority()));\n  rolesClaim.put(&quot;roles&quot;, roles);\n\n  return Jwts\n          .builder()\n          .setClaims(extraClaims)\n          .setIssuer(issuer)\n          .setAudience(audience)\n          .setSubject(userDetails.getUsername())\n          .setIssuedAt(new Date(System.currentTimeMillis()))\n          .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 10)) // 10 minutes\n          .signWith(getSignInKey(), SignatureAlgorithm.HS256)\n          .addClaims(rolesClaim)\n          .compact();\n}\n</code></pre>\n<p>Secondly, you can extract the roles claim.</p>\n<pre><code>Claims extractAllClaims = Jwts\n          .parserBuilder()\n          .setSigningKey(getSignInKey())\n          .build()\n          .parseClaimsJws(token)\n          .getBody();\n\nList&lt;String&gt; claimRoles = extractAllClaims.get(&quot;roles&quot;, List.class);\n</code></pre>\n"}],"owner":{"account_id":27250885,"reputation":1,"user_id":20775364,"display_name":"Amine Frira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1077,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680618427,"creation_date":1677702071,"question_id":75608603,"body_markdown":"I am working on a Spring API that uses JWT authentication. I am trying to extract the &quot;role&quot; claim from the JWT token to determine whether the user is an admin or not. However, even though the JWT token contains the &quot;role&quot; claim, I am still seeing Role extracted from JWT: null in my logs.\r\n\r\nHere&#39;s what I&#39;ve tried so far:\r\n\r\n- Checked that the JWT token being sent in the API request contains the &quot;role&quot; claim. I used an online tool to decode the token and verified that the claim is present, it in fact contains the role &quot;admin&quot; which is what im looking for.\r\n- Added print statements to the code that generates the JWT token to check that the &quot;role&quot; claim is being added to the token correctly. The print statements confirm that the &quot;role&quot; claim is being added with the correct value.\r\n- Added print statements to the JWT parsing code to check that the &quot;role&quot; claim is being extracted correctly. However, the logs still show Role extracted from JWT: null.\r\n- Checked that the JWT token being sent in the API request matches the one being generated by the code. I printed the entire JWT token being sent in the API request and compared it to the one being generated by the code, and they appear to be the same.\r\nHere&#39;s the relevant code:\r\n\r\n```\r\n// Code that generates JWT token\r\n    private String createToken(Map&lt;String, Object&gt; claims , String subject){\r\n        return Jwts.builder()\r\n                .setClaims(claims)\r\n                .setSubject(subject)\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis()+1000*60*60*2))\r\n                .signWith(SignatureAlgorithm.HS256,secret).compact();\r\n    }\r\n```\r\n\r\n```\r\n    public boolean isAdmin(){\r\n        System.out.println(&quot;Role extracted from JWT: &quot; + claims.get(&quot;role&quot;));\r\n        return &quot;admin&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\r\n    }\r\n```\r\n\r\nDoes anyone have any suggestions on what else I could try to resolve this issue?\r\nAny help would be greatly appreciated!","title":"Issue with extracting &quot;role&quot; claim from JWT token in Spring API","body":"<p>I am working on a Spring API that uses JWT authentication. I am trying to extract the &quot;role&quot; claim from the JWT token to determine whether the user is an admin or not. However, even though the JWT token contains the &quot;role&quot; claim, I am still seeing Role extracted from JWT: null in my logs.</p>\n<p>Here's what I've tried so far:</p>\n<ul>\n<li>Checked that the JWT token being sent in the API request contains the &quot;role&quot; claim. I used an online tool to decode the token and verified that the claim is present, it in fact contains the role &quot;admin&quot; which is what im looking for.</li>\n<li>Added print statements to the code that generates the JWT token to check that the &quot;role&quot; claim is being added to the token correctly. The print statements confirm that the &quot;role&quot; claim is being added with the correct value.</li>\n<li>Added print statements to the JWT parsing code to check that the &quot;role&quot; claim is being extracted correctly. However, the logs still show Role extracted from JWT: null.</li>\n<li>Checked that the JWT token being sent in the API request matches the one being generated by the code. I printed the entire JWT token being sent in the API request and compared it to the one being generated by the code, and they appear to be the same.\nHere's the relevant code:</li>\n</ul>\n<pre><code>// Code that generates JWT token\n    private String createToken(Map&lt;String, Object&gt; claims , String subject){\n        return Jwts.builder()\n                .setClaims(claims)\n                .setSubject(subject)\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis()+1000*60*60*2))\n                .signWith(SignatureAlgorithm.HS256,secret).compact();\n    }\n</code></pre>\n<pre><code>    public boolean isAdmin(){\n        System.out.println(&quot;Role extracted from JWT: &quot; + claims.get(&quot;role&quot;));\n        return &quot;admin&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\n    }\n</code></pre>\n<p>Does anyone have any suggestions on what else I could try to resolve this issue?\nAny help would be greatly appreciated!</p>\n"},{"tags":["java","intellij-idea","code-coverage"],"comments":[{"owner":{"account_id":169767,"reputation":2742,"user_id":396033,"accept_rate":89,"display_name":"Kamil"},"score":0,"creation_date":1513592920,"post_id":47866274,"comment_id":82697822,"body_markdown":"Could you please share some example names of test classes? It&#39;s hard to guess what kind of regular expression should be used, if an output is unknown.","body":"Could you please share some example names of test classes? It&#39;s hard to guess what kind of regular expression should be used, if an output is unknown."},{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":0,"creation_date":1513609346,"post_id":47866274,"comment_id":82707465,"body_markdown":"I&#39;ve added a name as example.","body":"I&#39;ve added a name as example."}],"answers":[{"tags":[],"owner":{"account_id":7666910,"reputation":61,"user_id":5810389,"display_name":"Robin"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1516615555,"creation_date":1516615555,"answer_id":48378963,"question_id":47866274,"body_markdown":"I have the same issue using a very basic pattern like\r\n\r\n    com.example.myproject.somecode.*\r\n\r\nWhile including works as expected, excluding has no effect at all.\r\n\r\nThis is seems to be a known issue in IntelliJ. See [Code coverage Report includes excluded packages][1]\r\n\r\nIf you don&#39;t have too many packages in your project, you could still do the opposite and include only those packages you want using several active include patterns together.\r\n\r\nAlternatively you can use the now free IntelliJ plugin [Open Clover][2] which offers much better coverage configuration and result browsing than IntelliJ ships with.\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-184699\r\n  [2]: http://openclover.org/\r\n","title":"How to exclude files from IntelliJ code coverage by name pattern?","body":"<p>I have the same issue using a very basic pattern like</p>\n\n<pre><code>com.example.myproject.somecode.*\n</code></pre>\n\n<p>While including works as expected, excluding has no effect at all.</p>\n\n<p>This is seems to be a known issue in IntelliJ. See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-184699\" rel=\"noreferrer\">Code coverage Report includes excluded packages</a></p>\n\n<p>If you don't have too many packages in your project, you could still do the opposite and include only those packages you want using several active include patterns together.</p>\n\n<p>Alternatively you can use the now free IntelliJ plugin <a href=\"http://openclover.org/\" rel=\"noreferrer\">Open Clover</a> which offers much better coverage configuration and result browsing than IntelliJ ships with.</p>\n"},{"comments":[{"owner":{"account_id":18334788,"reputation":49,"user_id":13352424,"display_name":"Rayshaun Thompson"},"score":0,"creation_date":1680618034,"post_id":75930509,"comment_id":133926288,"body_markdown":"I will add that after doing this the one time, it seems impossible to get the test classes for me to show up in the coverage report. I&#39;ve removed the exclusion pattern and they still won&#39;t come back","body":"I will add that after doing this the one time, it seems impossible to get the test classes for me to show up in the coverage report. I&#39;ve removed the exclusion pattern and they still won&#39;t come back"}],"tags":[],"owner":{"account_id":18334788,"reputation":49,"user_id":13352424,"display_name":"Rayshaun Thompson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680617992,"creation_date":1680617992,"answer_id":75930509,"question_id":47866274,"body_markdown":"As of IntelliJ 2021.1.1, it appears very basic regex is accepted. In my own project, the package `com.foo.bar.service.*` is included in the coverage options. Sadly, this includes all the test classes as well, which I want excluded from the report.\r\n\r\nTo exclude those test classes, add one of them manually. Since my project has a naming standard for test classes, I can edit the text of the exclusion from `com.foo.bar.service.ClassTest` to read `com.foo.bar.service.*Test`. This will exclude all the test classes from the report as well as not include them in coverage calculations.","title":"How to exclude files from IntelliJ code coverage by name pattern?","body":"<p>As of IntelliJ 2021.1.1, it appears very basic regex is accepted. In my own project, the package <code>com.foo.bar.service.*</code> is included in the coverage options. Sadly, this includes all the test classes as well, which I want excluded from the report.</p>\n<p>To exclude those test classes, add one of them manually. Since my project has a naming standard for test classes, I can edit the text of the exclusion from <code>com.foo.bar.service.ClassTest</code> to read <code>com.foo.bar.service.*Test</code>. This will exclude all the test classes from the report as well as not include them in coverage calculations.</p>\n"}],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10352,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1680617992,"creation_date":1513592278,"question_id":47866274,"body_markdown":"I&#39;m using IntelliJ 2017.3 to measure the code coverage of my tests. The code base contains some more or less dumb classes that should be excluded from this measurement. I want to exclude all classes which contain `Factory` as part of their name (example: `AverageOperatorFactoy`) and tried it with the patterns `*Factory` and `.*Factory` (although it seems like regex are not used here), but IntelliJ still shows factories in the coverage report.\r\n\r\n**How can I exclude classes with a name pattern?**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qybQ3.png","title":"How to exclude files from IntelliJ code coverage by name pattern?","body":"<p>I'm using IntelliJ 2017.3 to measure the code coverage of my tests. The code base contains some more or less dumb classes that should be excluded from this measurement. I want to exclude all classes which contain <code>Factory</code> as part of their name (example: <code>AverageOperatorFactoy</code>) and tried it with the patterns <code>*Factory</code> and <code>.*Factory</code> (although it seems like regex are not used here), but IntelliJ still shows factories in the coverage report.</p>\n\n<p><strong>How can I exclude classes with a name pattern?</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/qybQ3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qybQ3.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":9450683,"reputation":1291,"user_id":7027682,"display_name":"Jan Schmitz"},"comment_count":0,"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1607505797,"creation_date":1607505469,"answer_id":65213835,"question_id":65207427,"body_markdown":"`@CsvSource` has an attribute called `nullValues`.\r\nSee the [documentation][1].\r\n\r\n&gt; A list of strings that should be interpreted as null references.\r\n\r\n    @CsvSource(value= {&quot;null, null&quot;,\r\n                       &quot;foo, bar&quot;}\r\n               , nullValues={&quot;null&quot;})\r\n\r\n----\r\n\r\nThe other option is to simply don&#39;t pass any value as stated in the previously linked documentation.\r\n\r\n&gt; Please note that unquoted empty values will always be converted to null references regardless of the value of this nullValues attribute; whereas, a quoted empty string will be treated as an emptyValue().\r\n\r\n    @CsvSource({&quot;,&quot;,\r\n                &quot;foo, bar&quot;})\r\n\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/CsvSource.html#nullValues()","title":"Junit 5 - How to pass in multiple null values for @CsvSource?","body":"<p><code>@CsvSource</code> has an attribute called <code>nullValues</code>.\nSee the <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/CsvSource.html#nullValues()\" rel=\"noreferrer\">documentation</a>.</p>\n<blockquote>\n<p>A list of strings that should be interpreted as null references.</p>\n</blockquote>\n<pre><code>@CsvSource(value= {&quot;null, null&quot;,\n                   &quot;foo, bar&quot;}\n           , nullValues={&quot;null&quot;})\n</code></pre>\n<hr />\n<p>The other option is to simply don't pass any value as stated in the previously linked documentation.</p>\n<blockquote>\n<p>Please note that unquoted empty values will always be converted to null references regardless of the value of this nullValues attribute; whereas, a quoted empty string will be treated as an emptyValue().</p>\n</blockquote>\n<pre><code>@CsvSource({&quot;,&quot;,\n            &quot;foo, bar&quot;})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7533198,"reputation":1546,"user_id":5720532,"display_name":"Abderrazzak Nejeoui"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1643111967,"creation_date":1608460389,"answer_id":65378969,"question_id":65207427,"body_markdown":"You can use nullValues as explained above by @Jan Schmitz, or you can just discard null values like this:\r\n```java\r\n@CsvSource({\r\n  &quot;,&quot;,\r\n  &quot;foo, bar&quot;\r\n})\r\n```","title":"Junit 5 - How to pass in multiple null values for @CsvSource?","body":"<p>You can use nullValues as explained above by @Jan Schmitz, or you can just discard null values like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CsvSource({\n  &quot;,&quot;,\n  &quot;foo, bar&quot;\n})\n</code></pre>\n"}],"owner":{"account_id":5682834,"reputation":5282,"user_id":4493352,"accept_rate":89,"display_name":"夢のの夢"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25050,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":65213835,"answer_count":2,"score":35,"last_activity_date":1680617973,"creation_date":1607464167,"question_id":65207427,"body_markdown":"I am modifying a test method from single parameter to multiple:\r\n\r\n```\r\n@ParameterizedTest\r\n@NullSource\r\n@ValueSource({&quot;foo&quot;, &quot;bar&quot;..})\r\nvoid shouldReturnFalse(String x) {\r\n  assertThat(someMethod(x)).isFalse();\r\n}\r\n\r\n@ParameterizedTest\r\n@CsvSource({\r\n  &quot;null, null&quot;,\r\n  &quot;foo, bar&quot;\r\n})\r\nvoid shouldReturnFalse(String x, String y) {\r\n  assertThat(someMethod(x, y)).isFalse();\r\n}\r\n```\r\n\r\n`null` here is passed in as a String literal instead of a null literal. As a result, this test fails. This test previously works with single argument with `@NullSource`, but it gives following error when switched to multiple:\r\n\r\n&gt; org.junit.jupiter.api.extension.ParameterResolutionException: No ParameterResolver registered for parameter...\r\n\r\nI couldn&#39;t find a workaround for this and the solutions I saw were rather hacky and cumbersome. Is there a easier way for providing values with `null`?","title":"Junit 5 - How to pass in multiple null values for @CsvSource?","body":"<p>I am modifying a test method from single parameter to multiple:</p>\n<pre><code>@ParameterizedTest\n@NullSource\n@ValueSource({&quot;foo&quot;, &quot;bar&quot;..})\nvoid shouldReturnFalse(String x) {\n  assertThat(someMethod(x)).isFalse();\n}\n\n@ParameterizedTest\n@CsvSource({\n  &quot;null, null&quot;,\n  &quot;foo, bar&quot;\n})\nvoid shouldReturnFalse(String x, String y) {\n  assertThat(someMethod(x, y)).isFalse();\n}\n</code></pre>\n<p><code>null</code> here is passed in as a String literal instead of a null literal. As a result, this test fails. This test previously works with single argument with <code>@NullSource</code>, but it gives following error when switched to multiple:</p>\n<blockquote>\n<p>org.junit.jupiter.api.extension.ParameterResolutionException: No ParameterResolver registered for parameter...</p>\n</blockquote>\n<p>I couldn't find a workaround for this and the solutions I saw were rather hacky and cumbersome. Is there a easier way for providing values with <code>null</code>?</p>\n"},{"tags":["java","plugins","google-calendar-api","refresh-token","oauth-refresh-token"],"owner":{"account_id":28213372,"reputation":1,"user_id":21565258,"display_name":"Mukul Soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680617753,"creation_date":1680617650,"question_id":75930436,"body_markdown":"I am trying to create a java class for Event Creation using google service account with downloaded json credentials. I have given the Owner permission to the generated gmail id for authentication and have added Calendar Scopes as well. \r\n\r\n**Error Unexpected error refreshing access token**\r\n\r\n```\r\n[com.google.auth.oauth2.OAuth2Credentials.unwrapDirectFuture(OAuth2Credentials.java:323), \r\ncom.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:170),\r\n com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:967),\r\n com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:96),\r\n com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:91),\r\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:415),\r\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:525),\r\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:466),\r\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:576)]\r\n```\r\n\r\nHere is code for authentication where the json from json file is being passed. \r\n\r\nAlso, do we need to add code for refresh token when we are passing credentials using service account json creds? \r\n\r\n```\r\nauthenticate(){\r\n     String json; //json credentials. \r\n     json = String.format(jsonFormat, null);\r\n     return GoogleCredentials.fromStream(new ByteArrayInputStream(json.getBytes()))\r\n\t\t\t\t\t.createScoped(scopeList)\r\n\t\t\t.createDelegated((GMAIL_USER));\r\n}\r\n```\r\n\r\n```\r\ncreateEvent(){\r\n  GoogleCredentials credentials = null;\r\n\r\n\r\n\r\ntry {\r\n\t\t\tcredentials = authenticate();\r\n\r\n\t\t\tSystem.out.println(&quot;Got Credentials:  &quot; + credentials);\r\n\t\t\tSystem.out.println(&quot;---------------Got Credentials-----------------------&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Error :&quot;+ e.getMessage());\r\n\r\n\t\t}\r\n\r\n\r\ntry {\r\n\t\t\t\r\n\t\t\t// Connecting to the service\r\n\t\t\tJsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\r\n\t\t\tNetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n\t\t\tHttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\r\n\t\t\tCalendar service = new Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer)\r\n\t\t\t\t\t.setApplicationName(APPLICATION_NAME).build();\r\n\r\n\t\t\tEvent event = new Event().setSummary((E_SUMMARY)).setLocation((E_LOCATION)).setDescription((E_DESC));\r\n\r\n\t\t\tString temp = (E_START_DATE);// local variable\r\n\t\t\tDateTime startDateTime = new DateTime(temp);\r\n\t\t\tEventDateTime start = new EventDateTime().setDateTime(startDateTime).setTimeZone(&quot;America/Los_Angeles&quot;); // Change\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// America/Los_Angeles\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// check\r\n\t\t\tevent.setStart(start);\r\n\r\n\t\t\ttemp = (E_END_DATE);// re-assigned to end time.\r\n\t\t\tDateTime endDateTime = new DateTime(temp);\r\n\t\t\tEventDateTime end = new EventDateTime().setDateTime(endDateTime).setTimeZone(&quot;America/Los_Angeles&quot;);\r\n\t\t\tevent.setEnd(end);\r\n\r\n\t\t\tString[] recurrence = new String[] { &quot;RRULE:FREQ=DAILY;COUNT=2&quot; };\r\n\t\t\tevent.setRecurrence(Arrays.asList(recurrence));\r\n\r\n\t\t\tEventAttendee[] attendees = new EventAttendee[] { new EventAttendee().setEmail(&quot;abc@gmail.com&quot;),\r\n\t\t\t\t\tnew EventAttendee().setEmail(&quot;def@gmail.com&quot;), };\r\n\t\t\tevent.setAttendees(Arrays.asList(attendees));\r\n\r\n\t\t\tEventReminder[] reminderOverrides = new EventReminder[] {\r\n\t\t\t\t\tnew EventReminder().setMethod(&quot;email&quot;).setMinutes(24 * 60),\r\n\t\t\t\t\tnew EventReminder().setMethod(&quot;popup&quot;).setMinutes(10), };\r\n\t\t\tEvent.Reminders reminders = new Event.Reminders().setUseDefault(false)\r\n\t\t\t\t\t.setOverrides(Arrays.asList(reminderOverrides));\r\n\t\t\tevent.setReminders(reminders);\r\n\r\n\t\t\tString calendarId = E_CALENDAR_TYPE;\r\n\t\t\tevent = service.events().insert(calendarId, event).execute();\r\n\t\t\tSystem.out.printf(&quot;Event created: %s\\n&quot;, event.getHtmlLink());\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;--------Inside last catch block --------&quot;);\r\n\t\t\tSystem.out.println(&quot;Error &quot; + e.getMessage());\r\n\t\t\tSystem.out.println(Arrays.toString(e.getStackTrace()));\r\n\t\t\t\r\n\t\t}\r\n}\r\n```\r\n\r\n","title":"Google Service Account: Unexpected error refreshing access token","body":"<p>I am trying to create a java class for Event Creation using google service account with downloaded json credentials. I have given the Owner permission to the generated gmail id for authentication and have added Calendar Scopes as well.</p>\n<p><strong>Error Unexpected error refreshing access token</strong></p>\n<pre><code>[com.google.auth.oauth2.OAuth2Credentials.unwrapDirectFuture(OAuth2Credentials.java:323), \ncom.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:170),\n com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:967),\n com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:96),\n com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:91),\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:415),\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:525),\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:466),\n com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:576)]\n</code></pre>\n<p>Here is code for authentication where the json from json file is being passed.</p>\n<p>Also, do we need to add code for refresh token when we are passing credentials using service account json creds?</p>\n<pre><code>authenticate(){\n     String json; //json credentials. \n     json = String.format(jsonFormat, null);\n     return GoogleCredentials.fromStream(new ByteArrayInputStream(json.getBytes()))\n                    .createScoped(scopeList)\n            .createDelegated((GMAIL_USER));\n}\n</code></pre>\n<pre><code>createEvent(){\n  GoogleCredentials credentials = null;\n\n\n\ntry {\n            credentials = authenticate();\n\n            System.out.println(&quot;Got Credentials:  &quot; + credentials);\n            System.out.println(&quot;---------------Got Credentials-----------------------&quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;Error :&quot;+ e.getMessage());\n\n        }\n\n\ntry {\n            \n            // Connecting to the service\n            JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\n            NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n            HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\n            Calendar service = new Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer)\n                    .setApplicationName(APPLICATION_NAME).build();\n\n            Event event = new Event().setSummary((E_SUMMARY)).setLocation((E_LOCATION)).setDescription((E_DESC));\n\n            String temp = (E_START_DATE);// local variable\n            DateTime startDateTime = new DateTime(temp);\n            EventDateTime start = new EventDateTime().setDateTime(startDateTime).setTimeZone(&quot;America/Los_Angeles&quot;); // Change\n                                                                                                                        // America/Los_Angeles\n                                                                                                                                                                                                                    // check\n            event.setStart(start);\n\n            temp = (E_END_DATE);// re-assigned to end time.\n            DateTime endDateTime = new DateTime(temp);\n            EventDateTime end = new EventDateTime().setDateTime(endDateTime).setTimeZone(&quot;America/Los_Angeles&quot;);\n            event.setEnd(end);\n\n            String[] recurrence = new String[] { &quot;RRULE:FREQ=DAILY;COUNT=2&quot; };\n            event.setRecurrence(Arrays.asList(recurrence));\n\n            EventAttendee[] attendees = new EventAttendee[] { new EventAttendee().setEmail(&quot;abc@gmail.com&quot;),\n                    new EventAttendee().setEmail(&quot;def@gmail.com&quot;), };\n            event.setAttendees(Arrays.asList(attendees));\n\n            EventReminder[] reminderOverrides = new EventReminder[] {\n                    new EventReminder().setMethod(&quot;email&quot;).setMinutes(24 * 60),\n                    new EventReminder().setMethod(&quot;popup&quot;).setMinutes(10), };\n            Event.Reminders reminders = new Event.Reminders().setUseDefault(false)\n                    .setOverrides(Arrays.asList(reminderOverrides));\n            event.setReminders(reminders);\n\n            String calendarId = E_CALENDAR_TYPE;\n            event = service.events().insert(calendarId, event).execute();\n            System.out.printf(&quot;Event created: %s\\n&quot;, event.getHtmlLink());\n\n        } catch (Exception e) {\n            System.out.println(&quot;--------Inside last catch block --------&quot;);\n            System.out.println(&quot;Error &quot; + e.getMessage());\n            System.out.println(Arrays.toString(e.getStackTrace()));\n            \n        }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-sdk","aws-sts"],"answers":[{"comments":[{"owner":{"account_id":8202545,"reputation":33,"user_id":6173407,"display_name":"Fatboyover"},"score":0,"creation_date":1680627781,"post_id":75930422,"comment_id":133928982,"body_markdown":"Thanks for the reply - however I have updated the `IAM` policy to match the above and it&#39;s still not working. e.g. I&#39;m getting the same error","body":"Thanks for the reply - however I have updated the <code>IAM</code> policy to match the above and it&#39;s still not working. e.g. I&#39;m getting the same error"}],"tags":[],"owner":{"account_id":1329738,"reputation":5834,"user_id":1273882,"accept_rate":39,"display_name":"Ankush Jain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680617571,"creation_date":1680617571,"answer_id":75930422,"question_id":75927843,"body_markdown":"Trust Policy for `my-query-role` IAM Role in Account 2 is wrong in your case. \r\n\r\nYou should update the **Principal** field to have the ARN of account 1&#39;s IAM Role `account-1-role`.\r\n\r\n### Trust Policy - IAM Role - Account 2\r\n```\r\n{\r\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n    &quot;Statement&quot;: [\r\n        {\r\n            &quot;Effect&quot;: &quot;Allow&quot;,\r\n            &quot;Principal&quot;: {\r\n                &quot;AWS&quot;: [\r\n                    &quot;&lt;THIS SHOULD BE THE ARN OF IAM ROLE IN ACCOUNT 1&gt;&quot;\r\n                ]\r\n            },\r\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\r\n        }\r\n    ]\r\n}\r\n```","title":"Cross-Account IAM Access Using AWS SDK via assumed-role giving error","body":"<p>Trust Policy for <code>my-query-role</code> IAM Role in Account 2 is wrong in your case.</p>\n<p>You should update the <strong>Principal</strong> field to have the ARN of account 1's IAM Role <code>account-1-role</code>.</p>\n<h3>Trust Policy - IAM Role - Account 2</h3>\n<pre><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Principal&quot;: {\n                &quot;AWS&quot;: [\n                    &quot;&lt;THIS SHOULD BE THE ARN OF IAM ROLE IN ACCOUNT 1&gt;&quot;\n                ]\n            },\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\n        }\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":8202545,"reputation":33,"user_id":6173407,"display_name":"Fatboyover"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680617571,"creation_date":1680601296,"question_id":75927843,"body_markdown":"I am attempting to assume a role in another AWS account through an assumed role, authorising using the `WebIdentityTokenFileCredentialsProvider` via the AWS STS SDK. This is ran on a `k8s` instance, with credentials provided to access a specific role within an account.\r\n\r\ne.g. **Account 1** has credentials on the `k8s` pod for the `account-1-role`, and wants to assume the `my-query-role` role that exists in **Account 2**.\r\n\r\nMy current policy looks like this:\r\n\r\n&lt;b&gt;Account 1 `account-1-role` Permission Policy&lt;/b&gt;\r\n\r\n```code\r\n{\r\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n    &quot;Statement&quot;: [\r\n        {\r\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;,\r\n            &quot;Effect&quot;: &quot;Allow&quot;,\r\n            &quot;Resource&quot;: [\r\n                &quot;arn:aws:iam::&lt;account_2_id&gt;:role/my-query-role&quot;\r\n            ]\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n&lt;b&gt;Account 2 `my-query-role` Trust Policy&lt;/b&gt;\r\n\r\n```code\r\n{\r\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n    &quot;Statement&quot;: [\r\n        {\r\n            &quot;Effect&quot;: &quot;Allow&quot;,\r\n            &quot;Principal&quot;: {\r\n                &quot;AWS&quot;: [\r\n                    &quot;arn:aws:iam::&lt;account_1_id&gt;:root&quot;\r\n                ]\r\n            },\r\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n&lt;b&gt;Java&lt;/b&gt;\r\n\r\n```java\r\nAwsCredentialsProvider awsCredentialsProvider = WebIdentityTokenFileCredentialsProvider.create();\r\n\r\nStsClient stsClient = StsClient.builder()\r\n        .credentialsProvider(awsCredentialsProvider)\r\n        .region(Region.EU_WEST_1)\r\n        .build();\r\n\r\nAssumeRoleRequest assumeRoleRequest = AssumeRoleRequest.builder()\r\n        .roleArn(&quot;arn:aws:iam::&lt;account_2_id&gt;:role/my-query-role&quot;)\r\n        .roleSessionName(MANAGED_PROMETHEUS_ROLE_SESSION)\r\n        .build();\r\n\r\nAssumeRoleResponse assumeRoleResponse = stsClient.assumeRole(assumeRoleRequest);\r\n```\r\n\r\n&lt;b&gt;Problem&lt;/b&gt;\r\n\r\nHowever, then when I attempt to assume through the role through the AWS `StsClient`, I get the following error:\r\n\r\n```code\r\nsoftware.amazon.awssdk.services.sts.model.StsException: User: arn:aws:sts::&lt;account_1_id&gt;:assumed-role/&lt;account_1_role&gt;/aws-sdk-java-1680536628314 \r\nis not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::&lt;account_2_id&gt;:role/my-query-role \r\n(Service: Sts, Status Code: 403, Request ID: 9aa79d21-344f-41b1-a251-8f81bb23af8c)\r\n``` \r\n\r\nMy question is, do I have to provide a separate policy for the `StsClient` to be able to use the permission? I thought from reading the documentation that the assumed-role would have the same policy as the parent role, so would be trusted by &lt;b&gt;Account 2&lt;/b&gt;. However the ARN does seem to be in a different format\r\n\r\ne.g. `arn:aws:sts::&lt;account_1_id&gt;:assumed-role` rather than `arn:aws:sts::&lt;account_1_id&gt;:role`","title":"Cross-Account IAM Access Using AWS SDK via assumed-role giving error","body":"<p>I am attempting to assume a role in another AWS account through an assumed role, authorising using the <code>WebIdentityTokenFileCredentialsProvider</code> via the AWS STS SDK. This is ran on a <code>k8s</code> instance, with credentials provided to access a specific role within an account.</p>\n<p>e.g. <strong>Account 1</strong> has credentials on the <code>k8s</code> pod for the <code>account-1-role</code>, and wants to assume the <code>my-query-role</code> role that exists in <strong>Account 2</strong>.</p>\n<p>My current policy looks like this:</p>\n<p><b>Account 1 <code>account-1-role</code> Permission Policy</b></p>\n<pre><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;,\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Resource&quot;: [\n                &quot;arn:aws:iam::&lt;account_2_id&gt;:role/my-query-role&quot;\n            ]\n        }\n    ]\n}\n</code></pre>\n<p><b>Account 2 <code>my-query-role</code> Trust Policy</b></p>\n<pre><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Principal&quot;: {\n                &quot;AWS&quot;: [\n                    &quot;arn:aws:iam::&lt;account_1_id&gt;:root&quot;\n                ]\n            },\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\n        }\n    ]\n}\n</code></pre>\n<p><b>Java</b></p>\n<pre class=\"lang-java prettyprint-override\"><code>AwsCredentialsProvider awsCredentialsProvider = WebIdentityTokenFileCredentialsProvider.create();\n\nStsClient stsClient = StsClient.builder()\n        .credentialsProvider(awsCredentialsProvider)\n        .region(Region.EU_WEST_1)\n        .build();\n\nAssumeRoleRequest assumeRoleRequest = AssumeRoleRequest.builder()\n        .roleArn(&quot;arn:aws:iam::&lt;account_2_id&gt;:role/my-query-role&quot;)\n        .roleSessionName(MANAGED_PROMETHEUS_ROLE_SESSION)\n        .build();\n\nAssumeRoleResponse assumeRoleResponse = stsClient.assumeRole(assumeRoleRequest);\n</code></pre>\n<p><b>Problem</b></p>\n<p>However, then when I attempt to assume through the role through the AWS <code>StsClient</code>, I get the following error:</p>\n<pre><code>software.amazon.awssdk.services.sts.model.StsException: User: arn:aws:sts::&lt;account_1_id&gt;:assumed-role/&lt;account_1_role&gt;/aws-sdk-java-1680536628314 \nis not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::&lt;account_2_id&gt;:role/my-query-role \n(Service: Sts, Status Code: 403, Request ID: 9aa79d21-344f-41b1-a251-8f81bb23af8c)\n</code></pre>\n<p>My question is, do I have to provide a separate policy for the <code>StsClient</code> to be able to use the permission? I thought from reading the documentation that the assumed-role would have the same policy as the parent role, so would be trusted by <b>Account 2</b>. However the ARN does seem to be in a different format</p>\n<p>e.g. <code>arn:aws:sts::&lt;account_1_id&gt;:assumed-role</code> rather than <code>arn:aws:sts::&lt;account_1_id&gt;:role</code></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9700,"page":525,"page_size":100}
