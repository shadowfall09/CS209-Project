{"items":[{"tags":["java","android","kotlin","permissions","camera"],"comments":[{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673359241,"post_id":75071042,"comment_id":132477217,"body_markdown":"If you disguise your files as non-media using a proprietary file extension, would that hide them from general scanning, but allow you to find those (and only those) files?","body":"If you disguise your files as non-media using a proprietary file extension, would that hide them from general scanning, but allow you to find those (and only those) files?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1673359743,"post_id":75071042,"comment_id":132477403,"body_markdown":"You can use both getFilesDir() and getExternalFilesDir() and you do not need any permission to do so. Use those app specific directories.","body":"You can use both getFilesDir() and getExternalFilesDir() and you do not need any permission to do so. Use those app specific directories."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673359853,"post_id":75071042,"comment_id":132477458,"body_markdown":"And of course you will NOT use the mediastore to save your files as mediastore is all public.","body":"And of course you will NOT use the mediastore to save your files as mediastore is all public."},{"owner":{"account_id":19212153,"reputation":362,"user_id":14037747,"display_name":"Nelson SUle"},"score":0,"creation_date":1673361159,"post_id":75071042,"comment_id":132478015,"body_markdown":"@ThomasTimbul Yes that is an option. to change the File extension on image save","body":"@ThomasTimbul Yes that is an option. to change the File extension on image save"},{"owner":{"account_id":19212153,"reputation":362,"user_id":14037747,"display_name":"Nelson SUle"},"score":0,"creation_date":1673361270,"post_id":75071042,"comment_id":132478077,"body_markdown":"@blackapps. Thanks. I will do some modifications then","body":"@blackapps. Thanks. I will do some modifications then"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1673369390,"post_id":75071042,"comment_id":132481185,"body_markdown":"Changing extension of an image file is not possible on Android 11+ devices as Android will accept only image file extensions in public directories like Pictures and DCIM.","body":"Changing extension of an image file is not possible on Android 11+ devices as Android will accept only image file extensions in public directories like Pictures and DCIM."}],"answers":[{"tags":[],"owner":{"account_id":19212153,"reputation":362,"user_id":14037747,"display_name":"Nelson SUle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680733333,"creation_date":1680733333,"answer_id":75944393,"question_id":75071042,"body_markdown":"I was able to achieve hiding pictures taken by the camera app by creating a hidden directory done by adding a dot before the directory name. I eliminated the use of mediastore library totally. The function below did the trick.\r\n\r\n    private fun getOutputDirectory(): File{\r\n            val mediaDir = externalMediaDirs.firstOrNull()?.let {mFile -&gt;\r\n                File(mFile, &quot;.${resources.getString(R.string.app_name)}&quot;).apply {\r\n                    mkdirs()\r\n                }\r\n            }\r\n    \r\n            return if(mediaDir != null &amp;&amp; mediaDir.exists())\r\n                mediaDir else filesDir\r\n        }","title":"How do I encrypt or hide pictures taken using a certain camera app from the phone&#39;s public gallery?","body":"<p>I was able to achieve hiding pictures taken by the camera app by creating a hidden directory done by adding a dot before the directory name. I eliminated the use of mediastore library totally. The function below did the trick.</p>\n<pre><code>private fun getOutputDirectory(): File{\n        val mediaDir = externalMediaDirs.firstOrNull()?.let {mFile -&gt;\n            File(mFile, &quot;.${resources.getString(R.string.app_name)}&quot;).apply {\n                mkdirs()\n            }\n        }\n\n        return if(mediaDir != null &amp;&amp; mediaDir.exists())\n            mediaDir else filesDir\n    }\n</code></pre>\n"}],"owner":{"account_id":19212153,"reputation":362,"user_id":14037747,"display_name":"Nelson SUle"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680733333,"creation_date":1673359121,"question_id":75071042,"body_markdown":"I am working on a simple camera app whose pictures should only be visible in the app that created the pictures. I am testing with Samsung galaxy phone running on android 12. My snippets are in kotlin\r\nI want to save to a directory that does not get scanned for media. However, I think I might have a permission problem trying to access the data directory such as &quot;```/data/user/0/com.example.demo.camerax/files/CameraXDemo/```&quot;. \r\nWhenever I attempt to save pictures, I get the error &quot;Failed to write destination file&quot;\r\n\r\n```  val metadata = Metadata().apply {\r\n            // Mirror image when using the front camera\r\n            isReversedHorizontal = lensFacing == CameraSelector.DEFAULT_FRONT_CAMERA\r\n        }\r\n        MediaStore.Images.Media.EXTERNAL_CONTENT_URI\r\n        // Options fot the output image file\r\n        val outputOptions = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            val extn = &quot;beg&quot;\r\n            val filename = System.currentTimeMillis()\r\n            val contentValues = ContentValues().apply {\r\n                put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;$filename&quot;)\r\n                put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;)\r\n                put(MediaStore.MediaColumns.RELATIVE_PATH, oDir)\r\n            }\r\n\r\n            val contentResolver = requireContext().contentResolver\r\n\r\n            // Create the output uri\r\n            val contentUri = MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\r\n\r\n            OutputFileOptions.Builder(contentResolver, contentUri, contentValues)\r\n        } else {\r\n            File(oDir).mkdirs()\r\n            val file = File(oDir, &quot;${System.currentTimeMillis()}.jpg&quot;)\r\n\r\n            OutputFileOptions.Builder(file)\r\n        }.setMetadata(metadata).build()\r\n```\r\n\r\nThis is the snippet that should create the directory above and save the pictures.\r\nI have set my permissions in the Manifest file as follows\r\n```\r\n &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n```\r\n\r\nAndroid Marshmallow requires that the user will grant permission in order to make modifications. Here&#39;s how I implemented this\r\n\r\n```\r\nprivate val permissions = mutableListOf(\r\n        Manifest.permission.CAMERA,\r\n        Manifest.permission.RECORD_AUDIO,\r\n        Manifest.permission.READ_EXTERNAL_STORAGE,\r\n        Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n    ).apply {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            add(Manifest.permission.ACCESS_MEDIA_LOCATION)\r\n        }\r\n    }\r\n\r\n    private val permissionRequest = registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { permissions -&gt;\r\n        if (permissions.all { it.value }) {\r\n            onPermissionGranted()\r\n        } else {\r\n            view?.let { v -&gt;\r\n                Snackbar.make(v, R.string.message_no_permissions, Snackbar.LENGTH_INDEFINITE)\r\n                    .setAction(R.string.label_ok) { ActivityCompat.finishAffinity(requireActivity()) }\r\n                    .show()\r\n            }\r\n        }\r\n    }```\r\n\r\nIs there a better approach to hiding pictures taken","title":"How do I encrypt or hide pictures taken using a certain camera app from the phone&#39;s public gallery?","body":"<p>I am working on a simple camera app whose pictures should only be visible in the app that created the pictures. I am testing with Samsung galaxy phone running on android 12. My snippets are in kotlin\nI want to save to a directory that does not get scanned for media. However, I think I might have a permission problem trying to access the data directory such as &quot;<code>/data/user/0/com.example.demo.camerax/files/CameraXDemo/</code>&quot;.\nWhenever I attempt to save pictures, I get the error &quot;Failed to write destination file&quot;</p>\n<pre><code>            // Mirror image when using the front camera\n            isReversedHorizontal = lensFacing == CameraSelector.DEFAULT_FRONT_CAMERA\n        }\n        MediaStore.Images.Media.EXTERNAL_CONTENT_URI\n        // Options fot the output image file\n        val outputOptions = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            val extn = &quot;beg&quot;\n            val filename = System.currentTimeMillis()\n            val contentValues = ContentValues().apply {\n                put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;$filename&quot;)\n                put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;)\n                put(MediaStore.MediaColumns.RELATIVE_PATH, oDir)\n            }\n\n            val contentResolver = requireContext().contentResolver\n\n            // Create the output uri\n            val contentUri = MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY)\n\n            OutputFileOptions.Builder(contentResolver, contentUri, contentValues)\n        } else {\n            File(oDir).mkdirs()\n            val file = File(oDir, &quot;${System.currentTimeMillis()}.jpg&quot;)\n\n            OutputFileOptions.Builder(file)\n        }.setMetadata(metadata).build()\n</code></pre>\n<p>This is the snippet that should create the directory above and save the pictures.\nI have set my permissions in the Manifest file as follows</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\n</code></pre>\n<p>Android Marshmallow requires that the user will grant permission in order to make modifications. Here's how I implemented this</p>\n<pre><code>private val permissions = mutableListOf(\n        Manifest.permission.CAMERA,\n        Manifest.permission.RECORD_AUDIO,\n        Manifest.permission.READ_EXTERNAL_STORAGE,\n        Manifest.permission.WRITE_EXTERNAL_STORAGE,\n    ).apply {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            add(Manifest.permission.ACCESS_MEDIA_LOCATION)\n        }\n    }\n\n    private val permissionRequest = registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { permissions -&gt;\n        if (permissions.all { it.value }) {\n            onPermissionGranted()\n        } else {\n            view?.let { v -&gt;\n                Snackbar.make(v, R.string.message_no_permissions, Snackbar.LENGTH_INDEFINITE)\n                    .setAction(R.string.label_ok) { ActivityCompat.finishAffinity(requireActivity()) }\n                    .show()\n            }\n        }\n    }```\n\nIs there a better approach to hiding pictures taken\n</code></pre>\n"},{"tags":["java","spring-boot","jersey","spring-boot-actuator","open-telemetry"],"comments":[{"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"score":1,"creation_date":1680720384,"post_id":75746779,"comment_id":133947830,"body_markdown":"what version of the OTel Java agent are you using? versions prior to [v1.19.0](https://github.com/open-telemetry/opentelemetry-java-instrumentation/releases/tag/v1.19.0) have a big problem with newer versions of Spring Boot","body":"what version of the OTel Java agent are you using? versions prior to <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/releases/tag/v1.19.0\" rel=\"nofollow noreferrer\">v1.19.0</a> have a big problem with newer versions of Spring Boot"}],"answers":[{"tags":[],"owner":{"account_id":10076777,"reputation":213,"user_id":7448604,"display_name":"KJ0797"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680733328,"creation_date":1680733328,"answer_id":75944391,"question_id":75746779,"body_markdown":"We resolved this issue by upgrading the OTel Java Agent to v1.22. It seems like the older version (1.18 in our case) had some sort of mysterious port conflict that wasn&#39;t obvious. ","title":"Conflicts between SpringBoot/Jersey and Splunk/OTel collector","body":"<p>We resolved this issue by upgrading the OTel Java Agent to v1.22. It seems like the older version (1.18 in our case) had some sort of mysterious port conflict that wasn't obvious.</p>\n"}],"owner":{"account_id":10076777,"reputation":213,"user_id":7448604,"display_name":"KJ0797"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75944391,"answer_count":1,"score":1,"last_activity_date":1680733328,"creation_date":1678893851,"question_id":75746779,"body_markdown":"My organization is deploying an API that uses Spring Boot alongside Jersey. This is required because of a dependency that sets up some endpoints and uses Jersey, but our usual infrastructure supports Spring Boot based APIs. \r\n\r\nIn a local cluster, we were able to run the pod just fine. But, when deploying to our K8s cluster, the readiness/liveness probes failed and the pod entered a CrashLoopBackoff state. The liveness/readiness probes are set up using Spring Actuator. \r\n\r\nHowever, we were able to deploy the application to the cluster when we **disabled our OTEL Agent** that sends metrics to Splunk. We do not see any port conflict with the OTEL Agent and the application. As far as we can tell, there may be some sort of conflict between the agent and Jersey, but we are stumped as to what. \r\n\r\nHas anyone faced a similar issue with OpenTelemetry and SpringBoot/Jersey applications?\r\n\r\nSome of the `application.properties`:\r\n```\r\n# These application properties allow Spring Boot Actuator to handle `/api/users/actuator/*` requests,\r\n# while `/api/users/v2/*` requests will be handled by the application &amp; Jersey endpoints\r\nserver.servlet.context-path=/api/users\r\nspring.jersey.application-path=/v2\r\n```\r\nUsing splunk_otel_java: https://github.com/signalfx/splunk-otel-java","title":"Conflicts between SpringBoot/Jersey and Splunk/OTel collector","body":"<p>My organization is deploying an API that uses Spring Boot alongside Jersey. This is required because of a dependency that sets up some endpoints and uses Jersey, but our usual infrastructure supports Spring Boot based APIs.</p>\n<p>In a local cluster, we were able to run the pod just fine. But, when deploying to our K8s cluster, the readiness/liveness probes failed and the pod entered a CrashLoopBackoff state. The liveness/readiness probes are set up using Spring Actuator.</p>\n<p>However, we were able to deploy the application to the cluster when we <strong>disabled our OTEL Agent</strong> that sends metrics to Splunk. We do not see any port conflict with the OTEL Agent and the application. As far as we can tell, there may be some sort of conflict between the agent and Jersey, but we are stumped as to what.</p>\n<p>Has anyone faced a similar issue with OpenTelemetry and SpringBoot/Jersey applications?</p>\n<p>Some of the <code>application.properties</code>:</p>\n<pre><code># These application properties allow Spring Boot Actuator to handle `/api/users/actuator/*` requests,\n# while `/api/users/v2/*` requests will be handled by the application &amp; Jersey endpoints\nserver.servlet.context-path=/api/users\nspring.jersey.application-path=/v2\n</code></pre>\n<p>Using splunk_otel_java: <a href=\"https://github.com/signalfx/splunk-otel-java\" rel=\"nofollow noreferrer\">https://github.com/signalfx/splunk-otel-java</a></p>\n"},{"tags":["java","inputstream","outputstream"],"comments":[{"owner":{"account_id":177749,"reputation":20281,"user_id":409279,"accept_rate":91,"display_name":"Dan Lugg"},"score":0,"creation_date":1680727886,"post_id":75943559,"comment_id":133949455,"body_markdown":"Voting to close because duplicate? X/Y? Too broad?","body":"Voting to close because duplicate? X/Y? Too broad?"},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1680728335,"post_id":75943559,"comment_id":133949555,"body_markdown":"An example that reproduces the issue would help. Can you provide the definition of IOUtils.copy and initialise the inflatedInputStream.","body":"An example that reproduces the issue would help. Can you provide the definition of IOUtils.copy and initialise the inflatedInputStream."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1680731459,"post_id":75943559,"comment_id":133950072,"body_markdown":"Possibly related: https://stackoverflow.com/questions/66771680/javas-gzipoutputstream-refuses-to-flush (note that I am the author of the answer to that question, though it is not necessarily the problem that you observe).","body":"Possibly related: <a href=\"https://stackoverflow.com/questions/66771680/javas-gzipoutputstream-refuses-to-flush\" title=\"javas gzipoutputstream refuses to flush\">stackoverflow.com/questions/66771680/&hellip;</a> (note that I am the author of the answer to that question, though it is not necessarily the problem that you observe)."},{"owner":{"account_id":177749,"reputation":20281,"user_id":409279,"accept_rate":91,"display_name":"Dan Lugg"},"score":0,"creation_date":1680731973,"post_id":75943559,"comment_id":133950164,"body_markdown":"@jon-hanson -- Updated the question accordingly; `inflatedInputStream` is just read off disk, or from memory (*the former in this example*), and `IOUtils` is from Apache Commons which I&#39;ve linked.","body":"@jon-hanson -- Updated the question accordingly; <code>inflatedInputStream</code> is just read off disk, or from memory (<i>the former in this example</i>), and <code>IOUtils</code> is from Apache Commons which I&#39;ve linked."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1680791834,"post_id":75943559,"comment_id":133960458,"body_markdown":"@DanLugg Your current implementation is unsafe/unreliable as you have no idea or control over whether the background thread is up to date with the last read/write/flush operation. You were lucky the first part worked, just add `Thread.sleep(1000)` before `var inflatedBytes = inflatedOutputStream.toByteArray();` and it will probably fix the second case.","body":"@DanLugg Your current implementation is unsafe/unreliable as you have no idea or control over whether the background thread is up to date with the last read/write/flush operation. You were lucky the first part worked, just add <code>Thread.sleep(1000)</code> before <code>var inflatedBytes = inflatedOutputStream.toByteArray();</code> and it will probably fix the second case."},{"owner":{"account_id":177749,"reputation":20281,"user_id":409279,"accept_rate":91,"display_name":"Dan Lugg"},"score":0,"creation_date":1680802296,"post_id":75943559,"comment_id":133963087,"body_markdown":"@DuncG You got it; alright, I&#39;m going to take a different approach to this.","body":"@DuncG You got it; alright, I&#39;m going to take a different approach to this."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1680802627,"post_id":75943559,"comment_id":133963161,"body_markdown":"@DanLugg You would be able to make it work on close stream by overriding Pipe classes and make `close()` join on the thread to ensure final state is correct, though not possible to handle `flush()`","body":"@DanLugg You would be able to make it work on close stream by overriding Pipe classes and make <code>close()</code> join on the thread to ensure final state is correct, though not possible to handle <code>flush()</code>"}],"answers":[{"comments":[{"owner":{"account_id":177749,"reputation":20281,"user_id":409279,"accept_rate":91,"display_name":"Dan Lugg"},"score":0,"creation_date":1680732305,"post_id":75944109,"comment_id":133950198,"body_markdown":"Thank you @Queeg -- So, focusing on the second example, deflate on read (*or perhaps encrypt on read, for the BC/PGP example I also provided*) the primary use case here are other APIs that expect an `InputStream` (*looking at AWS SDK*) that is used as the source from which to write to an external resource (*reading off your provided `InputStream` to persist a file/object*). If the provided wrapped `InputStream` would deflate/encrypt on the fly, I can avoid creating temp files to which I&#39;d otherwise need to write the entire deflated/encrypted payload, and then create an `InputStream` from.","body":"Thank you @Queeg -- So, focusing on the second example, deflate on read (<i>or perhaps encrypt on read, for the BC/PGP example I also provided</i>) the primary use case here are other APIs that expect an <code>InputStream</code> (<i>looking at AWS SDK</i>) that is used as the source from which to write to an external resource (<i>reading off your provided <code>InputStream</code> to persist a file/object</i>). If the provided wrapped <code>InputStream</code> would deflate/encrypt on the fly, I can avoid creating temp files to which I&#39;d otherwise need to write the entire deflated/encrypted payload, and then create an <code>InputStream</code> from."},{"owner":{"account_id":177749,"reputation":20281,"user_id":409279,"accept_rate":91,"display_name":"Dan Lugg"},"score":0,"creation_date":1680732390,"post_id":75944109,"comment_id":133950209,"body_markdown":"... The issue of course being, that I&#39;m presented with an wrapped `OutputStream` that will deflate/encrypt on write out-of-the-box in the GZIP and BC/PGP cases. Was there an obvious issue in my `inputTransformingOutputStream` implementation? As mentioned, `outputTransformingInputStream` seems to be working just fine.","body":"... The issue of course being, that I&#39;m presented with an wrapped <code>OutputStream</code> that will deflate/encrypt on write out-of-the-box in the GZIP and BC/PGP cases. Was there an obvious issue in my <code>inputTransformingOutputStream</code> implementation? As mentioned, <code>outputTransformingInputStream</code> seems to be working just fine."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1680776587,"post_id":75944109,"comment_id":133956769,"body_markdown":"Maybe what you are really searching for is a way to chain operations, such as you can do on the Un*x command line with pipe characters: Inputstream-&gt;Process-&gt;OutputStream-&gt;InputStream-&gt;Process-&gt;Outputstream... So all you might need is an OutputStream that can provide the data as an InputStream. Whether it uses the disk or some other control mechanism (such as block the write operation) is up to the implementation.","body":"Maybe what you are really searching for is a way to chain operations, such as you can do on the Un*x command line with pipe characters: Inputstream-&gt;Process-&gt;OutputStream-&gt;InputStream-&gt;Process-&gt;Ou&zwnj;&#8203;tputstream... So all you might need is an OutputStream that can provide the data as an InputStream. Whether it uses the disk or some other control mechanism (such as block the write operation) is up to the implementation."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680730114,"creation_date":1680730114,"answer_id":75944109,"question_id":75943559,"body_markdown":"while I can share your observation, I do not see an issue here. Let&#39;s look at the two missing examples:\r\n\r\n* Inflate on write (missing; example use-case of inflating compressed data on-the-fly from a socket to disk)\r\n* Deflate on read (missing; example use-case of deflating uncompressed data on-the-fly from disk to a socket)\r\n\r\nIn both cases you need to read data, process (inflate/deflate) and write it.\r\nFor these three steps it is of little effect whether you move the processing to the left side (read and inflate/deflate) or the right side (inflate/deflate and write). For the same reason it also is of little effect is one of them is left and the other one right.\r\n\r\nYou can definitely build the use cases you mentioned with the existing classes.","title":"Reversing InputStream/OutputStream (Bi-Directional) Operations","body":"<p>while I can share your observation, I do not see an issue here. Let's look at the two missing examples:</p>\n<ul>\n<li>Inflate on write (missing; example use-case of inflating compressed data on-the-fly from a socket to disk)</li>\n<li>Deflate on read (missing; example use-case of deflating uncompressed data on-the-fly from disk to a socket)</li>\n</ul>\n<p>In both cases you need to read data, process (inflate/deflate) and write it.\nFor these three steps it is of little effect whether you move the processing to the left side (read and inflate/deflate) or the right side (inflate/deflate and write). For the same reason it also is of little effect is one of them is left and the other one right.</p>\n<p>You can definitely build the use cases you mentioned with the existing classes.</p>\n"}],"owner":{"account_id":177749,"reputation":20281,"user_id":409279,"accept_rate":91,"display_name":"Dan Lugg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680787322,"answer_count":1,"score":-1,"last_activity_date":1680733207,"creation_date":1680724974,"question_id":75943559,"body_markdown":"I&#39;ve observed that many libraries only support stream processing in one direction, such as compression, encryption, etc.\r\n\r\n[`GZIPInputStream`][GZIPInputStream]/[`GZIPOutputStream`][GZIPOutputStream] makes the assumption that you will only inflate-on-read (*wrapping an [`InputStream`][InputStream]*) and deflate-on-write (*wrapping an [`OutputStream`][OutputStream]*).\r\n\r\nLikewise, many examples of PGP via BouncyCastle only perform decrypt-on-read (*again, wrapping an [`InputStream`][InputStream]*) and encrypt-on-write (*again, wrapping an [`OutputStream`][OutputStream]*)\r\n\r\nBasing off a mix of examples I&#39;ve encountered across SO and elsewhere, I&#39;m trying to write a set of generic utility functions, which will allow (*probably via piping with [`PipedInputStream`][PipedInputStream]/[`PipedOutputStream`][PipedOutputStream]*) the ability to support bi-directional stream processing, such as with GZIP:\r\n\r\n- Inflate on read (*supported out-of-the-box*)\r\n- Deflate on write (*supported out-of-the-box*)\r\n- **Inflate on write** (*missing; example use-case of inflating compressed data on-the-fly from a socket to disk*)\r\n- **Deflate on read** (*missing; example use-case of deflating uncompressed data on-the-fly from disk to a socket*)\r\n\r\nFor the case of running an [`InputStream`][InputStream] through [`OutputStream`][OutputStream] processing (*deflate on write*), the following code works:\r\n\r\n(*see also: [`IOUtils`](https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html#copy-java.io.InputStream-java.io.OutputStream-)*)\r\n\r\n```java\r\nstatic InputStream outputTransformingInputStream(InputStream inputStream, Function&lt;OutputStream, OutputStream&gt; transformer) {\r\n    try {\r\n        var pipedInputStream = new PipedInputStream();\r\n        var pipedOutputStream = new PipedOutputStream(pipedInputStream);\r\n        var transformerThread = new Thread(() -&gt; {\r\n            try (var transformerOutputStream = transformer.apply(pipedOutputStream)) {\r\n                IOUtils.copy(inputStream, transformerOutputStream);\r\n                transformerOutputStream.flush();\r\n            } \r\n            catch (IOException exception) {\r\n                throw new RuntimeException(exception);\r\n            }\r\n        });\r\n        transformerThread.start();\r\n        return pipedInputStream;\r\n    }\r\n    catch (IOException exception) {\r\n        throw new RuntimeException(exception);\r\n    }\r\n}\r\n```\r\n\r\nUsed with, for example:\r\n\r\n```java\r\n// Deflating when reading from an InputStream\r\nvar inflatedInputStream = new FileInputStream(&quot;/path/to/file.txt&quot;);\r\nvar deflatingInputStream = outputTransformingInputStream(inflatedInputStream, GZIPOutputStream::new);\r\nvar deflatedBytes = deflatingInputStream.readAllBytes(); // Works &#128077;\r\n```\r\n\r\nThe inverse approach isn&#39;t working (*resulting in an empty `byte[]`*) and perhaps it&#39;s just because I&#39;ve been staring at streams and pipes too long and I&#39;ve got the order out of whack:\r\n\r\n(*see also: [`IOUtils`](https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html#copy-java.io.InputStream-java.io.OutputStream-)*)\r\n\r\n```java\r\nstatic OutputStream inputTransformingOutputStream(OutputStream outputStream, Function&lt;InputStream, InputStream&gt; transformer) {\r\n    try {\r\n        var pipedOutputStream = new PipedOutputStream();\r\n        var pipedInputStream = new PipedInputStream(pipedOutputStream);\r\n        var transformerThread = new Thread(() -&gt; {\r\n            try (var transformingInputStream = transformer.apply(pipedInputStream)) {\r\n                IOUtils.copy(transformingInputStream, outputStream);\r\n                outputStream.flush();\r\n            }\r\n            catch (IOException exception) {\r\n                throw new RuntimeException(exception);\r\n            }\r\n        });\r\n        transformerThread.start();\r\n        return pipedOutputStream;\r\n    }\r\n    catch (IOException exception) {\r\n        throw new RuntimeException(exception);\r\n    }\r\n}\r\n```\r\n\r\nAnd this example invocation is resulting in an empty `inflatedBytes`.\r\n\r\n```java\r\n// Inflating when writing to an OutputStream\r\nvar inflatedOutputStream = new ByteArrayOutputStream();\r\nvar inflatingOutputStream = StreamFactory.inputTransformingOutputStream(inflatedOutputStream, GZIPInputStream::new);\r\ninflatingOutputStream.write(deflatedBytes); // deflatedBytes previously deflated, see above\r\ninflatingOutputStream.flush();\r\nvar inflatedBytes = inflatedOutputStream.toByteArray(); // Empty &#128078;\r\n```\r\n\r\nSo, questions(s):\r\n\r\n- Are the [`PipedInputStream`][PipedInputStream]/[`PipedOutputStream`][PipedOutputStream] utility method examples the best approach for genericizing this functionality?\r\n- If so, can someone tell me where I went wrong in the `inputTransformingOutputStream` function?\r\n- If not, what would be a better approach to create generic support for bi-directional stream processing?\r\n\r\n---\r\n\r\nSo my continued mention of GZIP and inflate/deflate probably looks like that&#39;s specifically what I&#39;m trying to do.\r\n\r\nMore generically, given libraries `Foo` and `Bar` that do unidirectional transformations of stream data:\r\n\r\n```java\r\ninterface FooService {\r\n     InputStream enfooify(InputStream inputStream);\r\n     OutputStream defooify(OutputStream outputStream);\r\n}\r\n\r\ninterface BarService {\r\n    InputStream enbarify(InputStream inputStream);\r\n    OutputStream debarify(OutputStream outputStream);\r\n}\r\n```\r\n\r\nI&#39;m trying to create a generic solution to:\r\n- `enfooify` an [`OutputStream`][OutputStream] (*on write*), or\r\n- `debarify` an [`InputStream`][InputStream] (*on read*)\r\n- etc.\r\n\r\nLess about GZIP, or PGP, or anything in particular, and more about supporting generic bi-directional stream data transformation when a library doesn&#39;t already.\r\n\r\n  [InputStream]: https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html  \r\n  [OutputStream]: https://docs.oracle.com/javase/9/docs/api/java/io/OutputStream.html  \r\n  [GZIPInputStream]: https://docs.oracle.com/javase/9/docs/api/java/util/zip/GZIPInputStream.html  \r\n  [GZIPOutputStream]: https://docs.oracle.com/javase/9/docs/api/java/util/zip/GZIPOutputStream.html\r\n  [PipedInputStream]: https://docs.oracle.com/javase/9/docs/api/java/io/PipedInputStream.html\r\n  [PipedOutputStream]: https://docs.oracle.com/javase/9/docs/api/java/io/PipedOutputStream.html","title":"Reversing InputStream/OutputStream (Bi-Directional) Operations","body":"<p>I've observed that many libraries only support stream processing in one direction, such as compression, encryption, etc.</p>\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/zip/GZIPInputStream.html\" rel=\"nofollow noreferrer\"><code>GZIPInputStream</code></a>/<a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/zip/GZIPOutputStream.html\" rel=\"nofollow noreferrer\"><code>GZIPOutputStream</code></a> makes the assumption that you will only inflate-on-read (<em>wrapping an <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html\" rel=\"nofollow noreferrer\"><code>InputStream</code></a></em>) and deflate-on-write (<em>wrapping an <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/OutputStream.html\" rel=\"nofollow noreferrer\"><code>OutputStream</code></a></em>).</p>\n<p>Likewise, many examples of PGP via BouncyCastle only perform decrypt-on-read (<em>again, wrapping an <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html\" rel=\"nofollow noreferrer\"><code>InputStream</code></a></em>) and encrypt-on-write (<em>again, wrapping an <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/OutputStream.html\" rel=\"nofollow noreferrer\"><code>OutputStream</code></a></em>)</p>\n<p>Basing off a mix of examples I've encountered across SO and elsewhere, I'm trying to write a set of generic utility functions, which will allow (<em>probably via piping with <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/PipedInputStream.html\" rel=\"nofollow noreferrer\"><code>PipedInputStream</code></a>/<a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/PipedOutputStream.html\" rel=\"nofollow noreferrer\"><code>PipedOutputStream</code></a></em>) the ability to support bi-directional stream processing, such as with GZIP:</p>\n<ul>\n<li>Inflate on read (<em>supported out-of-the-box</em>)</li>\n<li>Deflate on write (<em>supported out-of-the-box</em>)</li>\n<li><strong>Inflate on write</strong> (<em>missing; example use-case of inflating compressed data on-the-fly from a socket to disk</em>)</li>\n<li><strong>Deflate on read</strong> (<em>missing; example use-case of deflating uncompressed data on-the-fly from disk to a socket</em>)</li>\n</ul>\n<p>For the case of running an <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html\" rel=\"nofollow noreferrer\"><code>InputStream</code></a> through <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/OutputStream.html\" rel=\"nofollow noreferrer\"><code>OutputStream</code></a> processing (<em>deflate on write</em>), the following code works:</p>\n<p>(<em>see also: <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html#copy-java.io.InputStream-java.io.OutputStream-\" rel=\"nofollow noreferrer\"><code>IOUtils</code></a></em>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>static InputStream outputTransformingInputStream(InputStream inputStream, Function&lt;OutputStream, OutputStream&gt; transformer) {\n    try {\n        var pipedInputStream = new PipedInputStream();\n        var pipedOutputStream = new PipedOutputStream(pipedInputStream);\n        var transformerThread = new Thread(() -&gt; {\n            try (var transformerOutputStream = transformer.apply(pipedOutputStream)) {\n                IOUtils.copy(inputStream, transformerOutputStream);\n                transformerOutputStream.flush();\n            } \n            catch (IOException exception) {\n                throw new RuntimeException(exception);\n            }\n        });\n        transformerThread.start();\n        return pipedInputStream;\n    }\n    catch (IOException exception) {\n        throw new RuntimeException(exception);\n    }\n}\n</code></pre>\n<p>Used with, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Deflating when reading from an InputStream\nvar inflatedInputStream = new FileInputStream(&quot;/path/to/file.txt&quot;);\nvar deflatingInputStream = outputTransformingInputStream(inflatedInputStream, GZIPOutputStream::new);\nvar deflatedBytes = deflatingInputStream.readAllBytes(); // Works 👍\n</code></pre>\n<p>The inverse approach isn't working (<em>resulting in an empty <code>byte[]</code></em>) and perhaps it's just because I've been staring at streams and pipes too long and I've got the order out of whack:</p>\n<p>(<em>see also: <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html#copy-java.io.InputStream-java.io.OutputStream-\" rel=\"nofollow noreferrer\"><code>IOUtils</code></a></em>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>static OutputStream inputTransformingOutputStream(OutputStream outputStream, Function&lt;InputStream, InputStream&gt; transformer) {\n    try {\n        var pipedOutputStream = new PipedOutputStream();\n        var pipedInputStream = new PipedInputStream(pipedOutputStream);\n        var transformerThread = new Thread(() -&gt; {\n            try (var transformingInputStream = transformer.apply(pipedInputStream)) {\n                IOUtils.copy(transformingInputStream, outputStream);\n                outputStream.flush();\n            }\n            catch (IOException exception) {\n                throw new RuntimeException(exception);\n            }\n        });\n        transformerThread.start();\n        return pipedOutputStream;\n    }\n    catch (IOException exception) {\n        throw new RuntimeException(exception);\n    }\n}\n</code></pre>\n<p>And this example invocation is resulting in an empty <code>inflatedBytes</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Inflating when writing to an OutputStream\nvar inflatedOutputStream = new ByteArrayOutputStream();\nvar inflatingOutputStream = StreamFactory.inputTransformingOutputStream(inflatedOutputStream, GZIPInputStream::new);\ninflatingOutputStream.write(deflatedBytes); // deflatedBytes previously deflated, see above\ninflatingOutputStream.flush();\nvar inflatedBytes = inflatedOutputStream.toByteArray(); // Empty 👎\n</code></pre>\n<p>So, questions(s):</p>\n<ul>\n<li>Are the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/PipedInputStream.html\" rel=\"nofollow noreferrer\"><code>PipedInputStream</code></a>/<a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/PipedOutputStream.html\" rel=\"nofollow noreferrer\"><code>PipedOutputStream</code></a> utility method examples the best approach for genericizing this functionality?</li>\n<li>If so, can someone tell me where I went wrong in the <code>inputTransformingOutputStream</code> function?</li>\n<li>If not, what would be a better approach to create generic support for bi-directional stream processing?</li>\n</ul>\n<hr />\n<p>So my continued mention of GZIP and inflate/deflate probably looks like that's specifically what I'm trying to do.</p>\n<p>More generically, given libraries <code>Foo</code> and <code>Bar</code> that do unidirectional transformations of stream data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface FooService {\n     InputStream enfooify(InputStream inputStream);\n     OutputStream defooify(OutputStream outputStream);\n}\n\ninterface BarService {\n    InputStream enbarify(InputStream inputStream);\n    OutputStream debarify(OutputStream outputStream);\n}\n</code></pre>\n<p>I'm trying to create a generic solution to:</p>\n<ul>\n<li><code>enfooify</code> an <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/OutputStream.html\" rel=\"nofollow noreferrer\"><code>OutputStream</code></a> (<em>on write</em>), or</li>\n<li><code>debarify</code> an <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html\" rel=\"nofollow noreferrer\"><code>InputStream</code></a> (<em>on read</em>)</li>\n<li>etc.</li>\n</ul>\n<p>Less about GZIP, or PGP, or anything in particular, and more about supporting generic bi-directional stream data transformation when a library doesn't already.</p>\n"},{"tags":["java","android","beacon","altbeacon"],"answers":[{"comments":[{"owner":{"account_id":28149305,"reputation":15,"user_id":21511150,"display_name":"xavi999"},"score":0,"creation_date":1681163441,"post_id":75944307,"comment_id":134009512,"body_markdown":"Thanks for your guide, I will make sure to follow your advice in order to make the estimates as accurate as possible.","body":"Thanks for your guide, I will make sure to follow your advice in order to make the estimates as accurate as possible."}],"tags":[],"owner":{"account_id":1574065,"reputation":64130,"user_id":1461050,"accept_rate":89,"display_name":"davidgyoung"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680732841,"creation_date":1680732348,"answer_id":75944307,"question_id":75942153,"body_markdown":"Bluetooth distance estimates are precisely that -- estimates.  They are not highly accurate measurements.  To understand why they are often not accurate, what you can use them for and what you should not try to use them for, please read my blost,  [&quot;How Far Can You Go?&quot;](http://www.davidgyoungtech.com/2020/05/15/how-far-can-you-go).\r\n\r\nThe variations in estimates shown in your question are a bit extreme, so there may be a particularly large variance in the fluctuation in the beacon signal.  Updating your question to include the RSSI of the beacon detection would be helpful.\r\n\r\nIn order to make them as accurate as possible, the best things you can do are:\r\n\r\n1. Configure your beacon(s) to advertise at as high of a transmitter power level as possible, ideally +3 dBm or higher.\r\n2. Configure your beacon(s) to advertise as frequently as possible -- at least 10Hz for best results.\r\n3. Calibrate your beacon. \r\n\r\nThe specific steps on how to do each of the above depends on your beacon manufacturer -- consult your beacon manufacturer&#39;s documentation to see how to do each one.\r\n\r\nTo find out which one of the above issues is the primary driver of the problem, you might use the BeaconScope app to analyze the transmission.  If you tap on the individual beacon transmission and let it collect data for 30+ seconds, then take and attach a screenshot, it may provide info about the quality of the beacon advertisements that may be affecting distance estimate fluctuation.","title":"AltBeacon Library - Inconsistent beacon distance scans, is there a solution?","body":"<p>Bluetooth distance estimates are precisely that -- estimates.  They are not highly accurate measurements.  To understand why they are often not accurate, what you can use them for and what you should not try to use them for, please read my blost,  <a href=\"http://www.davidgyoungtech.com/2020/05/15/how-far-can-you-go\" rel=\"nofollow noreferrer\">&quot;How Far Can You Go?&quot;</a>.</p>\n<p>The variations in estimates shown in your question are a bit extreme, so there may be a particularly large variance in the fluctuation in the beacon signal.  Updating your question to include the RSSI of the beacon detection would be helpful.</p>\n<p>In order to make them as accurate as possible, the best things you can do are:</p>\n<ol>\n<li>Configure your beacon(s) to advertise at as high of a transmitter power level as possible, ideally +3 dBm or higher.</li>\n<li>Configure your beacon(s) to advertise as frequently as possible -- at least 10Hz for best results.</li>\n<li>Calibrate your beacon.</li>\n</ol>\n<p>The specific steps on how to do each of the above depends on your beacon manufacturer -- consult your beacon manufacturer's documentation to see how to do each one.</p>\n<p>To find out which one of the above issues is the primary driver of the problem, you might use the BeaconScope app to analyze the transmission.  If you tap on the individual beacon transmission and let it collect data for 30+ seconds, then take and attach a screenshot, it may provide info about the quality of the beacon advertisements that may be affecting distance estimate fluctuation.</p>\n"}],"owner":{"account_id":28149305,"reputation":15,"user_id":21511150,"display_name":"xavi999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75944307,"answer_count":1,"score":0,"last_activity_date":1680732841,"creation_date":1680713828,"question_id":75942153,"body_markdown":"While using the AltBeacon Library for my Android app, experimenting with 3 iBeacons, I found that the calculted distances to these devices were very inconsistent, even varying ~90% between scans, which jeopardizes the user experience if the application is using a live user marker.\r\n\r\n\r\n\r\nHere&#39;s an example of three of my consecutive scans:\r\n\r\n\r\n\r\n```\r\nI/Dist&#226;ncias: Distance1: 7.871763695020549\r\nI/Dist&#226;ncias: Distance2: 1.189846194110576\r\nI/Dist&#226;ncias: Distance3: 0.30794614765743855\r\n\r\nI/Dist&#226;ncias: Distance1: 8.06442034917746\r\nI/Dist&#226;ncias: Distance2: 0.28282208519983487\r\nI/Dist&#226;ncias: Distance3: 0.30794614765743855\r\n\r\nI/Dist&#226;ncias: Distance1: 1.1589719262969496\r\nI/Dist&#226;ncias: Distance2: 0.2540181211096404\r\nI/Dist&#226;ncias: Distance3: 0.30794614765743855\r\n```\r\n\r\nThese distances were taken without moving the smartphone that was running the application.\r\n\r\nWe can see that beacon 3 values are the same, however, beacon number 1&#39;s values took a huge hit on the third scan, providing a wrong and innacurate distance, comparing with the latter ones.\r\n\r\nDoes this happen for a specific reason or is there any way we can reduce these big impacts on the calculated distances?\r\n","title":"AltBeacon Library - Inconsistent beacon distance scans, is there a solution?","body":"<p>While using the AltBeacon Library for my Android app, experimenting with 3 iBeacons, I found that the calculted distances to these devices were very inconsistent, even varying ~90% between scans, which jeopardizes the user experience if the application is using a live user marker.</p>\n<p>Here's an example of three of my consecutive scans:</p>\n<pre><code>I/Distâncias: Distance1: 7.871763695020549\nI/Distâncias: Distance2: 1.189846194110576\nI/Distâncias: Distance3: 0.30794614765743855\n\nI/Distâncias: Distance1: 8.06442034917746\nI/Distâncias: Distance2: 0.28282208519983487\nI/Distâncias: Distance3: 0.30794614765743855\n\nI/Distâncias: Distance1: 1.1589719262969496\nI/Distâncias: Distance2: 0.2540181211096404\nI/Distâncias: Distance3: 0.30794614765743855\n</code></pre>\n<p>These distances were taken without moving the smartphone that was running the application.</p>\n<p>We can see that beacon 3 values are the same, however, beacon number 1's values took a huge hit on the third scan, providing a wrong and innacurate distance, comparing with the latter ones.</p>\n<p>Does this happen for a specific reason or is there any way we can reduce these big impacts on the calculated distances?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":5,"creation_date":1385561210,"post_id":20244554,"comment_id":30193289,"body_markdown":"That&#39;s a nice ticket!","body":"That&#39;s a nice ticket!"},{"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"score":3,"creation_date":1385561217,"post_id":20244554,"comment_id":30193292,"body_markdown":"very nice arrangement by the way:-D","body":"very nice arrangement by the way:-D"},{"owner":{"account_id":447521,"reputation":3274,"user_id":841176,"display_name":"Konstantin"},"score":1,"creation_date":1385561465,"post_id":20244554,"comment_id":30193446,"body_markdown":"print spaces in loop based on total length - length of string variable","body":"print spaces in loop based on total length - length of string variable"},{"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"score":1,"creation_date":1385561467,"post_id":20244554,"comment_id":30193448,"body_markdown":"You need to fix the number of characters for sh3 and stick with the border","body":"You need to fix the number of characters for sh3 and stick with the border"},{"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"score":3,"creation_date":1385562184,"post_id":20244554,"comment_id":30193896,"body_markdown":"Also take care that the show name should not exceed the total length of the ticket width.","body":"Also take care that the show name should not exceed the total length of the ticket width."},{"owner":{"account_id":10418328,"reputation":828,"user_id":7681696,"display_name":"GtdDev"},"score":0,"creation_date":1675210905,"post_id":20244554,"comment_id":132879003,"body_markdown":"Please, check my solution for this trouble in: https://stackoverflow.com/questions/32790698/console-output-to-frame-text-area/75278927#75278927 Thanks","body":"Please, check my solution for this trouble in: <a href=\"https://stackoverflow.com/questions/32790698/console-output-to-frame-text-area/75278927#75278927\" title=\"console output to frame text area\">stackoverflow.com/questions/32790698/&hellip;</a> Thanks"}],"answers":[{"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":0,"creation_date":1385561779,"post_id":20244701,"comment_id":30193650,"body_markdown":"I didn&#39;t test the `calcSpaces` method, but the concept is clear.","body":"I didn&#39;t test the <code>calcSpaces</code> method, but the concept is clear."},{"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"score":1,"creation_date":1385562389,"post_id":20244701,"comment_id":30194024,"body_markdown":"care needs to be taken if `sh3.length()` exceeds `n`","body":"care needs to be taken if <code>sh3.length()</code> exceeds <code>n</code>"},{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":0,"creation_date":1385562414,"post_id":20244701,"comment_id":30194039,"body_markdown":"@NarendraPathai Good note. Indeed, OP has some additional things to do.","body":"@NarendraPathai Good note. Indeed, OP has some additional things to do."}],"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1385561463,"creation_date":1385561463,"answer_id":20244701,"question_id":20244554,"body_markdown":"Since you know the length of the line, and all lines have the same length, you can do something like that:\r\n\r\nSuppose `n` is the length of the line. Since `sh3` will begin from the 15 place, you can calculate how many spaces are needed after `sh3`.\r\n\r\n    System.out.println(&quot;#     Show:    &quot;+sh3+calcSpaces()+&quot;#&quot;);\r\n\r\nWhere `calcSpaces` can easily be implemented as you know the length of `sh3`..\r\n\r\n    private String calcSpaces(String sh3) {\r\n        String res = &quot;&quot;;\r\n        for(int i = 0; i &lt; n - sh3.length(); i++){\r\n           res += &quot; &quot;;  //You might want to use StringBuilder instead.. \r\n        }               //it&#39;s a good practice, although performance is not \r\n    }                   //significant here\r\n\r\nI also advise you to read about [`Formatter`][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html","title":"Creating a border with System.out.println()","body":"<p>Since you know the length of the line, and all lines have the same length, you can do something like that:</p>\n\n<p>Suppose <code>n</code> is the length of the line. Since <code>sh3</code> will begin from the 15 place, you can calculate how many spaces are needed after <code>sh3</code>.</p>\n\n<pre><code>System.out.println(\"#     Show:    \"+sh3+calcSpaces()+\"#\");\n</code></pre>\n\n<p>Where <code>calcSpaces</code> can easily be implemented as you know the length of <code>sh3</code>..</p>\n\n<pre><code>private String calcSpaces(String sh3) {\n    String res = \"\";\n    for(int i = 0; i &lt; n - sh3.length(); i++){\n       res += \" \";  //You might want to use StringBuilder instead.. \n    }               //it's a good practice, although performance is not \n}                   //significant here\n</code></pre>\n\n<p>I also advise you to read about <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"noreferrer\"><code>Formatter</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":2322010,"reputation":761,"user_id":2037482,"display_name":"Jan Heinrich Reimer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385561837,"creation_date":1385561533,"answer_id":20244731,"question_id":20244554,"body_markdown":"You can get the length of sh3 using ```sh3.length()```\r\nThen you can add spaces to fit your border.\r\n\r\n    int spacesNum = 35 - sh3.length();\r\n    String spaces = &quot;&quot;;\r\n    for(int i = spacesNum; i &gt; 0; i++){\r\n        spaces += &quot; &quot;;\r\n    }\r\n    \r\n    System.out.println(&quot;###################################################&quot;); \r\n    System.out.println(&quot;#    **** WEST END THEATRE BOOKING SYSTEM ****    #&quot;); \r\n    System.out.println(&quot;#                                                 #&quot;); \r\n    System.out.println(&quot;#                 T I C K E T                     #&quot;); \r\n    System.out.println(&quot;#                                                 #&quot;); \r\n    System.out.println(&quot;#     Show:    &quot;+sh3+spaces+&quot;#&quot;); \r\n    System.out.println(&quot;#     Theatre: Her Majesty&#39;s                      #&quot;); \r\n    System.out.println(&quot;#     Price:   65                                 #&quot;); \r\n    System.out.println(&quot;###################################################&quot;);","title":"Creating a border with System.out.println()","body":"<p>You can get the length of sh3 using <code>sh3.length()</code>\nThen you can add spaces to fit your border.</p>\n\n<pre><code>int spacesNum = 35 - sh3.length();\nString spaces = \"\";\nfor(int i = spacesNum; i &gt; 0; i++){\n    spaces += \" \";\n}\n\nSystem.out.println(\"###################################################\"); \nSystem.out.println(\"#    **** WEST END THEATRE BOOKING SYSTEM ****    #\"); \nSystem.out.println(\"#                                                 #\"); \nSystem.out.println(\"#                 T I C K E T                     #\"); \nSystem.out.println(\"#                                                 #\"); \nSystem.out.println(\"#     Show:    \"+sh3+spaces+\"#\"); \nSystem.out.println(\"#     Theatre: Her Majesty's                      #\"); \nSystem.out.println(\"#     Price:   65                                 #\"); \nSystem.out.println(\"###################################################\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1634848,"reputation":4777,"user_id":1508629,"accept_rate":53,"display_name":"commit"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1385561552,"creation_date":1385561552,"answer_id":20244741,"question_id":20244554,"body_markdown":"Yes it is tricky way:\r\n\r\n            String sh3 = &quot;StackOverflow&quot;;\r\n    \t\tString sh4 = &quot;&quot;;\r\n    \t\tfor(int i=0;i&lt;35-sh3.length();i++){\r\n    \t\t\tsh4 += &quot; &quot;;\r\n    \t\t}\r\n    \t\tsh4 += &quot;#&quot;;\r\n    \t\tSystem.out.println(&quot;###################################################&quot;); \r\n    \t\tSystem.out.println(&quot;#    **** WEST END THEATRE BOOKING SYSTEM ****    #&quot;); \r\n    \t\tSystem.out.println(&quot;#                                                 #&quot;); \r\n    \t\tSystem.out.println(&quot;#                 T I C K E T                     #&quot;); \r\n    \t\tSystem.out.println(&quot;#                                                 #&quot;); \r\n    \t\tSystem.out.println(&quot;#     Show:    &quot; + sh3 + sh4 ); \r\n    \t\tSystem.out.println(&quot;#     Theatre: Her Majesty&#39;s                      #&quot;); \r\n    \t\tSystem.out.println(&quot;#     Price:   65                                 #&quot;); \r\n    \t\tSystem.out.println(&quot;###################################################&quot;);","title":"Creating a border with System.out.println()","body":"<p>Yes it is tricky way:</p>\n\n<pre><code>        String sh3 = \"StackOverflow\";\n        String sh4 = \"\";\n        for(int i=0;i&lt;35-sh3.length();i++){\n            sh4 += \" \";\n        }\n        sh4 += \"#\";\n        System.out.println(\"###################################################\"); \n        System.out.println(\"#    **** WEST END THEATRE BOOKING SYSTEM ****    #\"); \n        System.out.println(\"#                                                 #\"); \n        System.out.println(\"#                 T I C K E T                     #\"); \n        System.out.println(\"#                                                 #\"); \n        System.out.println(\"#     Show:    \" + sh3 + sh4 ); \n        System.out.println(\"#     Theatre: Her Majesty's                      #\"); \n        System.out.println(\"#     Price:   65                                 #\"); \n        System.out.println(\"###################################################\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2889076,"reputation":5019,"user_id":2478264,"display_name":"Manuel Manhart"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1385561624,"creation_date":1385561624,"answer_id":20244764,"question_id":20244554,"body_markdown":"The fastest way would be:\r\n\r\n    System.out.print(&quot;#     Show:    &quot; + sh3);\r\n    for (int i = 0; i &lt; 34-sh3.length(); i++) {\r\n        System.out.print(&quot; &quot;);\r\n    }\r\n    System.out.println(&quot; #&quot;);\r\n","title":"Creating a border with System.out.println()","body":"<p>The fastest way would be:</p>\n\n<pre><code>System.out.print(\"#     Show:    \" + sh3);\nfor (int i = 0; i &lt; 34-sh3.length(); i++) {\n    System.out.print(\" \");\n}\nSystem.out.println(\" #\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3392345,"reputation":10946,"user_id":2846923,"accept_rate":100,"display_name":"The Guy with The Hat"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1385840407,"creation_date":1385561690,"answer_id":20244784,"question_id":20244554,"body_markdown":"Personally, I would use either a [`Formatter`][1] or `PrintStream`&#39;s [`printf()`][2] method.\r\n\r\nYou can use `printf()` like this:\r\n\r\n    System.out.printf(&quot;#     Show:    %-35#\\n&quot;, sh3);\r\n\r\nWhen the first string gets printed, the `%-35` in it gets replaced with `sh3` plus some spaces. The `%` begins the escape sequence, the `-` makes `sh3` be on the left side of the allocated space, and the `35` allocates 35 characters of space for `sh3`. Any of those 35 characters not filled by `sh3` get filled with spaces.\r\n\r\nTo read more about `printf()`&#39;s syntax, go [here][3].\r\n\r\nEDIT: I forgot to mention the `\\n`. In a `String`, `\\n` is an escape sequence which creates a new line. e.g.:\r\n\r\n    System.out.println(&quot;abc\\n123&quot;);\r\n\r\nis the same as\r\n\r\n    System.out.println(&quot;abc&quot;);\r\n    System.out.println(&quot;123&quot;);\r\n\r\n`printf()`, unlike `println()`, does not create a new line at the end of the `String` it prints. The `\\n` manually creates a new line, which is necessary to make the program act as expected.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax","title":"Creating a border with System.out.println()","body":"<p>Personally, I would use either a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"nofollow\"><code>Formatter</code></a> or <code>PrintStream</code>'s <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29\" rel=\"nofollow\"><code>printf()</code></a> method.</p>\n\n<p>You can use <code>printf()</code> like this:</p>\n\n<pre><code>System.out.printf(\"#     Show:    %-35#\\n\", sh3);\n</code></pre>\n\n<p>When the first string gets printed, the <code>%-35</code> in it gets replaced with <code>sh3</code> plus some spaces. The <code>%</code> begins the escape sequence, the <code>-</code> makes <code>sh3</code> be on the left side of the allocated space, and the <code>35</code> allocates 35 characters of space for <code>sh3</code>. Any of those 35 characters not filled by <code>sh3</code> get filled with spaces.</p>\n\n<p>To read more about <code>printf()</code>'s syntax, go <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow\">here</a>.</p>\n\n<p>EDIT: I forgot to mention the <code>\\n</code>. In a <code>String</code>, <code>\\n</code> is an escape sequence which creates a new line. e.g.:</p>\n\n<pre><code>System.out.println(\"abc\\n123\");\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>System.out.println(\"abc\");\nSystem.out.println(\"123\");\n</code></pre>\n\n<p><code>printf()</code>, unlike <code>println()</code>, does not create a new line at the end of the <code>String</code> it prints. The <code>\\n</code> manually creates a new line, which is necessary to make the program act as expected.</p>\n"},{"comments":[{"owner":{"account_id":467709,"reputation":3040,"user_id":873263,"accept_rate":86,"display_name":"Aaron Blenkush"},"score":1,"creation_date":1385568529,"post_id":20244837,"comment_id":30198452,"body_markdown":"+1 for identifying the basic concepts instead of just dumping code.","body":"+1 for identifying the basic concepts instead of just dumping code."},{"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"score":0,"creation_date":1385622927,"post_id":20244837,"comment_id":30220439,"body_markdown":"@AaronBlenkush Thanks. Yes its better to show path than just give the whole code and not let OP think anything. IMHO","body":"@AaronBlenkush Thanks. Yes its better to show path than just give the whole code and not let OP think anything. IMHO"}],"tags":[],"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1385561848,"creation_date":1385561848,"answer_id":20244837,"question_id":20244554,"body_markdown":"I know I am not providing the code for this, but I am pointing to the process of thinking and then leaving implementation to you.\r\n\r\nThere are 4 properties in play, out of which you know the `total size of line`, also you know the `length of the string` and you know how much space is to be left  can be easily found. \r\n\r\nAnd all you will need is a loop that will calculate how much spaces should be left.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/P0fIh.png","title":"Creating a border with System.out.println()","body":"<p>I know I am not providing the code for this, but I am pointing to the process of thinking and then leaving implementation to you.</p>\n\n<p>There are 4 properties in play, out of which you know the <code>total size of line</code>, also you know the <code>length of the string</code> and you know how much space is to be left  can be easily found. </p>\n\n<p>And all you will need is a loop that will calculate how much spaces should be left.</p>\n\n<p><img src=\"https://i.stack.imgur.com/P0fIh.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":10418328,"reputation":828,"user_id":7681696,"display_name":"GtdDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675294725,"creation_date":1675294364,"answer_id":75317281,"question_id":20244554,"body_markdown":"Here is my Two seconds contribuition.. Alittle overkill, but it fits the demand...\r\n\r\nCheck in: https://github.com/codegtd/tdd-log-panel\r\n\r\n``` lang-java\r\npublic class ConsolePanel {\r\n\r\n  public static void main(String[] args) {\r\n\r\n    panel(\r\n         21,\r\n         2,\r\n         3,\r\n         3,\r\n         Border.BOLD,\r\n         Border.DOUBLE,\r\n         Border.DOUBLE,\r\n         Border.THIN,\r\n         true,\r\n         true,\r\n         &quot;My Title&quot;, &quot;My First Topic text&quot;, &quot;My Second Topic text&quot;\r\n    );\r\n  }\r\n\r\n  public static void simplePanel(String... texts) {\r\n\r\n    panel(\r\n         21,\r\n         5,\r\n         1,\r\n         1,\r\n         Border.DOUBLE,\r\n         Border.DOUBLE,\r\n         Border.THIN,\r\n         Border.THIN,\r\n         true,\r\n         true,\r\n         texts\r\n    );\r\n  }\r\n\r\n  public static void simplePanelScalable(int scale, String... texts) {\r\n\r\n    panel(\r\n         scale,\r\n         5,\r\n         1,\r\n         1,\r\n         Border.DOUBLE,\r\n         Border.DOUBLE,\r\n         Border.THIN,\r\n         Border.THIN,\r\n         true,\r\n         true,\r\n         texts\r\n    );\r\n  }\r\n\r\n  public static void panel(\r\n       int scale,\r\n       int margin,\r\n       int upSpace,\r\n       int downSpace,\r\n       Border cornersFormat,\r\n       Border centerMarksFormat,\r\n       Border horizontalLinesFormat,\r\n       Border verticalLinesFormat,\r\n       boolean uppercaseTitle,\r\n       boolean centralizeTitle,\r\n       String... titleAndOthers) {\r\n\r\n    var estimatedAdjustmentFactor = 3;\r\n    var title = titleAndOthers[0];\r\n    var marginTitle = scale - (title.length() / 2) - estimatedAdjustmentFactor;\r\n    var formattedTexts =\r\n         Stream.of(titleAndOthers)\r\n               .map(item -&gt; item.equals(title) &amp;&amp; centralizeTitle ? &quot; &quot;.repeat(\r\n                    marginTitle) + title : item)\r\n               .map(item -&gt; item.equals(\r\n                    title) &amp;&amp; uppercaseTitle ? item.toUpperCase() : item)\r\n               .toArray();\r\n\r\n    var marginLimitedBySize = Math.min(margin, scale);\r\n\r\n    // scale + margin discrepacies eliminated\r\n    if (marginLimitedBySize % 2 != 0) -- marginLimitedBySize;\r\n    if (scale % 2 != 0) ++ scale;\r\n\r\n    int fullSize = (scale * 2) - marginLimitedBySize;\r\n    if (fullSize % 2 == 0) ++ fullSize;\r\n    else -- fullSize;\r\n\r\n    var whitespaceMargin = &quot; &quot;.repeat(marginLimitedBySize);\r\n    var externalUpSpaces = &quot;\\n&quot;.repeat(upSpace);\r\n    var externalBottomSpaces = &quot;\\n&quot;.repeat(downSpace);\r\n\r\n    var upperFace = upperLine(scale, cornersFormat, centerMarksFormat, horizontalLinesFormat);\r\n    var divider = middleLine(scale, cornersFormat, centerMarksFormat, horizontalLinesFormat);\r\n    var bottomFace = bottomLine(scale, cornersFormat, centerMarksFormat, horizontalLinesFormat);\r\n    var faceLine = faceLine(verticalLinesFormat);\r\n\r\n    var titleTextArea = String.valueOf(fullSize);\r\n    var textPreparation = new StringBuilder();\r\n    textPreparation.append(externalUpSpaces)\r\n                   .append(upperFace)\r\n                   .append(faceLine)\r\n                   .append(&quot;%s%%-%ss&quot;.formatted(whitespaceMargin, titleTextArea))\r\n                   .append(faceLine)\r\n                   .append(&quot;\\n&quot;)\r\n                   .append(divider);\r\n\r\n    // &quot;-1&quot; Because the first element in the Array was used as title\r\n    // The discont-number in bodyTextArea/fullsize, subtract the size of &quot;ordinal-ASC&quot; and &quot;) &quot;\r\n    var bodyTextArea = String.valueOf(fullSize - 4);\r\n    var topicEnumeration = 0;\r\n    var ordinalSymbolEnumerator = &#39;\\u2070&#39;;\r\n    for (int i = formattedTexts.length - 1; i &gt; 0; i--) {\r\n      ++ topicEnumeration;\r\n      textPreparation.append(faceLine)\r\n                     .append(&quot;%s%s%s) %%-%ss&quot;.formatted(\r\n                          whitespaceMargin,\r\n                          topicEnumeration,\r\n                          ordinalSymbolEnumerator,\r\n                          bodyTextArea\r\n                     ))\r\n                     .append(faceLine)\r\n                     .append(&quot;\\n&quot;);\r\n    }\r\n    textPreparation.append(bottomFace)\r\n                   .append(externalBottomSpaces);\r\n    System.out.printf(textPreparation.toString(), formattedTexts);\r\n  }\r\n\r\n  private static String generateLine(char baseChar, int scale, char BASE_LINE) {\r\n\r\n    return\r\n         String\r\n              .valueOf(baseChar)\r\n              .repeat(scale)\r\n              .replace(baseChar, BASE_LINE);\r\n  }\r\n\r\n  private static String upperLine(\r\n       int scale,\r\n       Border corner,\r\n       Border centerMark,\r\n       Border line) {\r\n\r\n    ArrayList&lt;Character&gt; borderStylingItems = new ArrayList&lt;&gt;();\r\n    switch (corner) {\r\n      case BOLD -&gt; {\r\n        borderStylingItems.add(BoldFont.UPPER_LEFT_CORNER.code);\r\n        borderStylingItems.add(BoldFont.UPPER_RIGHT_CORNER.code);\r\n      }\r\n      case THIN -&gt; {\r\n        borderStylingItems.add(ThinFont.UPPER_LEFT_CORNER.code);\r\n        borderStylingItems.add(ThinFont.UPPER_RIGHT_CORNER.code);\r\n      }\r\n      case DOUBLE -&gt; {\r\n        borderStylingItems.add(DoubleFont.UPPER_LEFT_CORNER.code);\r\n        borderStylingItems.add(DoubleFont.UPPER_RIGHT_CORNER.code);\r\n      }\r\n    }\r\n\r\n    switch (centerMark) {\r\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\r\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\r\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\r\n    }\r\n\r\n    switch (line) {\r\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\r\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\r\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\r\n    }\r\n\r\n    var baseline = generateLine(&#39;_&#39;, scale, borderStylingItems.get(3));\r\n\r\n    return borderStylingItems.get(0) + baseline +\r\n           borderStylingItems.get(2) + baseline +\r\n           borderStylingItems.get(1) + &quot;\\n&quot;;\r\n  }\r\n\r\n  private static String middleLine(\r\n       int scale,\r\n       Border corner,\r\n       Border centerMark,\r\n       Border baseLine\r\n  ) {\r\n\r\n    ArrayList&lt;Character&gt; borderStylingItems = new ArrayList&lt;&gt;();\r\n    switch (corner) {\r\n      case BOLD -&gt; {\r\n        borderStylingItems.add(BoldFont.MIDDLE_LEFT.code);\r\n        borderStylingItems.add(BoldFont.MIDDLE_RIGHT.code);\r\n      }\r\n      case THIN -&gt; {\r\n        borderStylingItems.add(ThinFont.MIDDLE_LEFT.code);\r\n        borderStylingItems.add(ThinFont.MIDDLE_RIGHT.code);\r\n      }\r\n      case DOUBLE -&gt; {\r\n        borderStylingItems.add(DoubleFont.MIDDLE_LEFT.code);\r\n        borderStylingItems.add(DoubleFont.MIDDLE_RIGHT.code);\r\n      }\r\n    }\r\n\r\n    switch (centerMark) {\r\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\r\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\r\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\r\n    }\r\n\r\n    switch (baseLine) {\r\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\r\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\r\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\r\n    }\r\n\r\n    var divider = generateLine(&#39;_&#39;, scale, borderStylingItems.get(3));\r\n\r\n    return borderStylingItems.get(0) + divider +\r\n           borderStylingItems.get(2) + divider +\r\n           borderStylingItems.get(1) + &quot;\\n&quot;;\r\n  }\r\n\r\n  private static String bottomLine(\r\n       int scale,\r\n       Border corner,\r\n       Border centerMark,\r\n       Border baseLine) {\r\n\r\n    ArrayList&lt;Character&gt; borderStylingItems = new ArrayList&lt;&gt;();\r\n    switch (corner) {\r\n      case BOLD -&gt; {\r\n        borderStylingItems.add(BoldFont.LOWER_LEFT_CORNER.code);\r\n        borderStylingItems.add(BoldFont.LOWER_RIGHT_CORNER.code);\r\n      }\r\n      case THIN -&gt; {\r\n        borderStylingItems.add(ThinFont.LOWER_LEFT_CORNER.code);\r\n        borderStylingItems.add(ThinFont.LOWER_RIGHT_CORNER.code);\r\n      }\r\n      case DOUBLE -&gt; {\r\n        borderStylingItems.add(DoubleFont.LOWER_LEFT_CORNER.code);\r\n        borderStylingItems.add(DoubleFont.LOWER_RIGHT_CORNER.code);\r\n      }\r\n    }\r\n\r\n    switch (centerMark) {\r\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\r\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\r\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\r\n    }\r\n\r\n    switch (baseLine) {\r\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\r\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\r\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\r\n    }\r\n\r\n    var baseline = generateLine(&#39;_&#39;, scale, borderStylingItems.get(3));\r\n\r\n    return borderStylingItems.get(0) + baseline +\r\n           borderStylingItems.get(2) + baseline +\r\n           borderStylingItems.get(1) + &quot;\\n&quot;;\r\n  }\r\n\r\n  private static Character faceLine(Border corner) {\r\n\r\n    return switch (corner) {\r\n      case BOLD -&gt; BoldFont.FACE_LINE.code;\r\n      case THIN -&gt; ThinFont.FACE_LINE.code;\r\n      case DOUBLE -&gt; DoubleFont.FACE_LINE.code;\r\n    };\r\n  }\r\n\r\n  private enum BoldFont {\r\n\r\n    FACE_LINE(&#39;\\u2503&#39;),\r\n    BASE_LINE(&#39;\\u2501&#39;),\r\n    UPPER_LEFT_CORNER(&#39;\\u250F&#39;),\r\n    UPPER_RIGHT_CORNER(&#39;\\u2513&#39;),\r\n    MIDDLE_LEFT(&#39;\\u2523&#39;),\r\n    MIDDLE_RIGHT(&#39;\\u252B&#39;),\r\n    LOWER_LEFT_CORNER(&#39;\\u2517&#39;),\r\n    LOWER_RIGHT_CORNER(&#39;\\u251B&#39;);\r\n\r\n    private final char code;\r\n\r\n    BoldFont(char code) {\r\n\r\n      this.code = code;\r\n    }\r\n  }\r\n\r\n  private enum ThinFont {\r\n\r\n    FACE_LINE(&#39;\\u2502&#39;),\r\n    BASE_LINE(&#39;\\u2500&#39;),\r\n    UPPER_LEFT_CORNER(&#39;\\u250C&#39;),\r\n    UPPER_RIGHT_CORNER(&#39;\\u2510&#39;),\r\n    MIDDLE_LEFT(&#39;\\u252C&#39;),\r\n    MIDDLE_RIGHT(&#39;\\u2524&#39;),\r\n    LOWER_LEFT_CORNER(&#39;\\u2514&#39;),\r\n    LOWER_RIGHT_CORNER(&#39;\\u2518&#39;);\r\n\r\n    private final char code;\r\n\r\n    ThinFont(char code) {\r\n\r\n      this.code = code;\r\n    }\r\n  }\r\n\r\n  private enum DoubleFont {\r\n\r\n    FACE_LINE(&#39;\\u2551&#39;),\r\n    BASE_LINE(&#39;\\u2550&#39;),\r\n    UPPER_LEFT_CORNER(&#39;\\u2554&#39;),\r\n    UPPER_RIGHT_CORNER(&#39;\\u2557&#39;),\r\n    MIDDLE_LEFT(&#39;\\u2560&#39;),\r\n    MIDDLE_RIGHT(&#39;\\u2563&#39;),\r\n    LOWER_LEFT_CORNER(&#39;\\u255A&#39;),\r\n    LOWER_RIGHT_CORNER(&#39;\\u255D&#39;);\r\n\r\n    private final char code;\r\n\r\n    DoubleFont(char code) {\r\n\r\n      this.code = code;\r\n    }\r\n  }\r\n\r\n  private enum Border {\r\n    BOLD, THIN, DOUBLE\r\n  }\r\n}\r\n\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m5PlJ.png\r\n","title":"Creating a border with System.out.println()","body":"<p>Here is my Two seconds contribuition.. Alittle overkill, but it fits the demand...</p>\n<p>Check in: <a href=\"https://github.com/codegtd/tdd-log-panel\" rel=\"nofollow noreferrer\">https://github.com/codegtd/tdd-log-panel</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ConsolePanel {\n\n  public static void main(String[] args) {\n\n    panel(\n         21,\n         2,\n         3,\n         3,\n         Border.BOLD,\n         Border.DOUBLE,\n         Border.DOUBLE,\n         Border.THIN,\n         true,\n         true,\n         &quot;My Title&quot;, &quot;My First Topic text&quot;, &quot;My Second Topic text&quot;\n    );\n  }\n\n  public static void simplePanel(String... texts) {\n\n    panel(\n         21,\n         5,\n         1,\n         1,\n         Border.DOUBLE,\n         Border.DOUBLE,\n         Border.THIN,\n         Border.THIN,\n         true,\n         true,\n         texts\n    );\n  }\n\n  public static void simplePanelScalable(int scale, String... texts) {\n\n    panel(\n         scale,\n         5,\n         1,\n         1,\n         Border.DOUBLE,\n         Border.DOUBLE,\n         Border.THIN,\n         Border.THIN,\n         true,\n         true,\n         texts\n    );\n  }\n\n  public static void panel(\n       int scale,\n       int margin,\n       int upSpace,\n       int downSpace,\n       Border cornersFormat,\n       Border centerMarksFormat,\n       Border horizontalLinesFormat,\n       Border verticalLinesFormat,\n       boolean uppercaseTitle,\n       boolean centralizeTitle,\n       String... titleAndOthers) {\n\n    var estimatedAdjustmentFactor = 3;\n    var title = titleAndOthers[0];\n    var marginTitle = scale - (title.length() / 2) - estimatedAdjustmentFactor;\n    var formattedTexts =\n         Stream.of(titleAndOthers)\n               .map(item -&gt; item.equals(title) &amp;&amp; centralizeTitle ? &quot; &quot;.repeat(\n                    marginTitle) + title : item)\n               .map(item -&gt; item.equals(\n                    title) &amp;&amp; uppercaseTitle ? item.toUpperCase() : item)\n               .toArray();\n\n    var marginLimitedBySize = Math.min(margin, scale);\n\n    // scale + margin discrepacies eliminated\n    if (marginLimitedBySize % 2 != 0) -- marginLimitedBySize;\n    if (scale % 2 != 0) ++ scale;\n\n    int fullSize = (scale * 2) - marginLimitedBySize;\n    if (fullSize % 2 == 0) ++ fullSize;\n    else -- fullSize;\n\n    var whitespaceMargin = &quot; &quot;.repeat(marginLimitedBySize);\n    var externalUpSpaces = &quot;\\n&quot;.repeat(upSpace);\n    var externalBottomSpaces = &quot;\\n&quot;.repeat(downSpace);\n\n    var upperFace = upperLine(scale, cornersFormat, centerMarksFormat, horizontalLinesFormat);\n    var divider = middleLine(scale, cornersFormat, centerMarksFormat, horizontalLinesFormat);\n    var bottomFace = bottomLine(scale, cornersFormat, centerMarksFormat, horizontalLinesFormat);\n    var faceLine = faceLine(verticalLinesFormat);\n\n    var titleTextArea = String.valueOf(fullSize);\n    var textPreparation = new StringBuilder();\n    textPreparation.append(externalUpSpaces)\n                   .append(upperFace)\n                   .append(faceLine)\n                   .append(&quot;%s%%-%ss&quot;.formatted(whitespaceMargin, titleTextArea))\n                   .append(faceLine)\n                   .append(&quot;\\n&quot;)\n                   .append(divider);\n\n    // &quot;-1&quot; Because the first element in the Array was used as title\n    // The discont-number in bodyTextArea/fullsize, subtract the size of &quot;ordinal-ASC&quot; and &quot;) &quot;\n    var bodyTextArea = String.valueOf(fullSize - 4);\n    var topicEnumeration = 0;\n    var ordinalSymbolEnumerator = '\\u2070';\n    for (int i = formattedTexts.length - 1; i &gt; 0; i--) {\n      ++ topicEnumeration;\n      textPreparation.append(faceLine)\n                     .append(&quot;%s%s%s) %%-%ss&quot;.formatted(\n                          whitespaceMargin,\n                          topicEnumeration,\n                          ordinalSymbolEnumerator,\n                          bodyTextArea\n                     ))\n                     .append(faceLine)\n                     .append(&quot;\\n&quot;);\n    }\n    textPreparation.append(bottomFace)\n                   .append(externalBottomSpaces);\n    System.out.printf(textPreparation.toString(), formattedTexts);\n  }\n\n  private static String generateLine(char baseChar, int scale, char BASE_LINE) {\n\n    return\n         String\n              .valueOf(baseChar)\n              .repeat(scale)\n              .replace(baseChar, BASE_LINE);\n  }\n\n  private static String upperLine(\n       int scale,\n       Border corner,\n       Border centerMark,\n       Border line) {\n\n    ArrayList&lt;Character&gt; borderStylingItems = new ArrayList&lt;&gt;();\n    switch (corner) {\n      case BOLD -&gt; {\n        borderStylingItems.add(BoldFont.UPPER_LEFT_CORNER.code);\n        borderStylingItems.add(BoldFont.UPPER_RIGHT_CORNER.code);\n      }\n      case THIN -&gt; {\n        borderStylingItems.add(ThinFont.UPPER_LEFT_CORNER.code);\n        borderStylingItems.add(ThinFont.UPPER_RIGHT_CORNER.code);\n      }\n      case DOUBLE -&gt; {\n        borderStylingItems.add(DoubleFont.UPPER_LEFT_CORNER.code);\n        borderStylingItems.add(DoubleFont.UPPER_RIGHT_CORNER.code);\n      }\n    }\n\n    switch (centerMark) {\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\n    }\n\n    switch (line) {\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\n    }\n\n    var baseline = generateLine('_', scale, borderStylingItems.get(3));\n\n    return borderStylingItems.get(0) + baseline +\n           borderStylingItems.get(2) + baseline +\n           borderStylingItems.get(1) + &quot;\\n&quot;;\n  }\n\n  private static String middleLine(\n       int scale,\n       Border corner,\n       Border centerMark,\n       Border baseLine\n  ) {\n\n    ArrayList&lt;Character&gt; borderStylingItems = new ArrayList&lt;&gt;();\n    switch (corner) {\n      case BOLD -&gt; {\n        borderStylingItems.add(BoldFont.MIDDLE_LEFT.code);\n        borderStylingItems.add(BoldFont.MIDDLE_RIGHT.code);\n      }\n      case THIN -&gt; {\n        borderStylingItems.add(ThinFont.MIDDLE_LEFT.code);\n        borderStylingItems.add(ThinFont.MIDDLE_RIGHT.code);\n      }\n      case DOUBLE -&gt; {\n        borderStylingItems.add(DoubleFont.MIDDLE_LEFT.code);\n        borderStylingItems.add(DoubleFont.MIDDLE_RIGHT.code);\n      }\n    }\n\n    switch (centerMark) {\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\n    }\n\n    switch (baseLine) {\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\n    }\n\n    var divider = generateLine('_', scale, borderStylingItems.get(3));\n\n    return borderStylingItems.get(0) + divider +\n           borderStylingItems.get(2) + divider +\n           borderStylingItems.get(1) + &quot;\\n&quot;;\n  }\n\n  private static String bottomLine(\n       int scale,\n       Border corner,\n       Border centerMark,\n       Border baseLine) {\n\n    ArrayList&lt;Character&gt; borderStylingItems = new ArrayList&lt;&gt;();\n    switch (corner) {\n      case BOLD -&gt; {\n        borderStylingItems.add(BoldFont.LOWER_LEFT_CORNER.code);\n        borderStylingItems.add(BoldFont.LOWER_RIGHT_CORNER.code);\n      }\n      case THIN -&gt; {\n        borderStylingItems.add(ThinFont.LOWER_LEFT_CORNER.code);\n        borderStylingItems.add(ThinFont.LOWER_RIGHT_CORNER.code);\n      }\n      case DOUBLE -&gt; {\n        borderStylingItems.add(DoubleFont.LOWER_LEFT_CORNER.code);\n        borderStylingItems.add(DoubleFont.LOWER_RIGHT_CORNER.code);\n      }\n    }\n\n    switch (centerMark) {\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\n    }\n\n    switch (baseLine) {\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\n    }\n\n    var baseline = generateLine('_', scale, borderStylingItems.get(3));\n\n    return borderStylingItems.get(0) + baseline +\n           borderStylingItems.get(2) + baseline +\n           borderStylingItems.get(1) + &quot;\\n&quot;;\n  }\n\n  private static Character faceLine(Border corner) {\n\n    return switch (corner) {\n      case BOLD -&gt; BoldFont.FACE_LINE.code;\n      case THIN -&gt; ThinFont.FACE_LINE.code;\n      case DOUBLE -&gt; DoubleFont.FACE_LINE.code;\n    };\n  }\n\n  private enum BoldFont {\n\n    FACE_LINE('\\u2503'),\n    BASE_LINE('\\u2501'),\n    UPPER_LEFT_CORNER('\\u250F'),\n    UPPER_RIGHT_CORNER('\\u2513'),\n    MIDDLE_LEFT('\\u2523'),\n    MIDDLE_RIGHT('\\u252B'),\n    LOWER_LEFT_CORNER('\\u2517'),\n    LOWER_RIGHT_CORNER('\\u251B');\n\n    private final char code;\n\n    BoldFont(char code) {\n\n      this.code = code;\n    }\n  }\n\n  private enum ThinFont {\n\n    FACE_LINE('\\u2502'),\n    BASE_LINE('\\u2500'),\n    UPPER_LEFT_CORNER('\\u250C'),\n    UPPER_RIGHT_CORNER('\\u2510'),\n    MIDDLE_LEFT('\\u252C'),\n    MIDDLE_RIGHT('\\u2524'),\n    LOWER_LEFT_CORNER('\\u2514'),\n    LOWER_RIGHT_CORNER('\\u2518');\n\n    private final char code;\n\n    ThinFont(char code) {\n\n      this.code = code;\n    }\n  }\n\n  private enum DoubleFont {\n\n    FACE_LINE('\\u2551'),\n    BASE_LINE('\\u2550'),\n    UPPER_LEFT_CORNER('\\u2554'),\n    UPPER_RIGHT_CORNER('\\u2557'),\n    MIDDLE_LEFT('\\u2560'),\n    MIDDLE_RIGHT('\\u2563'),\n    LOWER_LEFT_CORNER('\\u255A'),\n    LOWER_RIGHT_CORNER('\\u255D');\n\n    private final char code;\n\n    DoubleFont(char code) {\n\n      this.code = code;\n    }\n  }\n\n  private enum Border {\n    BOLD, THIN, DOUBLE\n  }\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/m5PlJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m5PlJ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3580086,"reputation":107,"user_id":2988501,"accept_rate":83,"display_name":"user2988501"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3716,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":20244837,"answer_count":7,"score":3,"last_activity_date":1680732599,"creation_date":1385561063,"question_id":20244554,"body_markdown":"Is there anyway to create this sort of arrangement, without the `String` variable `sh3` affecting the border? I&#39;m really stumped here, my Java knowledge is pretty much limited to what you see here if that helps?\r\n\r\n\r\n\r\n\r\n    System.out.println(&quot;###################################################&quot;); \r\n    System.out.println(&quot;#    **** WEST END THEATRE BOOKING SYSTEM ****    #&quot;); \r\n    System.out.println(&quot;#                                                 #&quot;); \r\n    System.out.println(&quot;#                 T I C K E T                     #&quot;); \r\n    System.out.println(&quot;#                                                 #&quot;); \r\n    System.out.println(&quot;#     Show:    &quot;+sh3+&quot;                            #&quot;); \r\n    System.out.println(&quot;#     Theatre: Her Majesty&#39;s                      #&quot;); \r\n    System.out.println(&quot;#     Price:   65                                 #&quot;); \r\n    System.out.println(&quot;###################################################&quot;);\r\n\r\n ","title":"Creating a border with System.out.println()","body":"<p>Is there anyway to create this sort of arrangement, without the <code>String</code> variable <code>sh3</code> affecting the border? I'm really stumped here, my Java knowledge is pretty much limited to what you see here if that helps?</p>\n\n<pre><code>System.out.println(\"###################################################\"); \nSystem.out.println(\"#    **** WEST END THEATRE BOOKING SYSTEM ****    #\"); \nSystem.out.println(\"#                                                 #\"); \nSystem.out.println(\"#                 T I C K E T                     #\"); \nSystem.out.println(\"#                                                 #\"); \nSystem.out.println(\"#     Show:    \"+sh3+\"                            #\"); \nSystem.out.println(\"#     Theatre: Her Majesty's                      #\"); \nSystem.out.println(\"#     Price:   65                                 #\"); \nSystem.out.println(\"###################################################\");\n</code></pre>\n"},{"tags":["java","swing","jframe","jbutton","jtextarea"],"answers":[{"comments":[{"owner":{"account_id":6981202,"reputation":17,"user_id":5354051,"display_name":"mr.robot"},"score":0,"creation_date":1443216220,"post_id":32790727,"comment_id":53420684,"body_markdown":"but, i still dont get an output on the same frame as buttons. Code compiles, but does not give output...","body":"but, i still dont get an output on the same frame as buttons. Code compiles, but does not give output..."},{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":0,"creation_date":1443216608,"post_id":32790727,"comment_id":53420823,"body_markdown":"@mr.robot You should have mentioned in your question that the `JTextArea` isn&#39;t even visible on the frame. I addressed this in the edit of my answer","body":"@mr.robot You should have mentioned in your question that the <code>JTextArea</code> isn&#39;t even visible on the frame. I addressed this in the edit of my answer"}],"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1443216574,"creation_date":1443215535,"answer_id":32790727,"question_id":32790698,"body_markdown":"Using `System.out.println(&quot;You threw d4 and got &quot; + n);` causes the print to the console.\r\n\r\nYou should use the [`JTextArea#append`][1] method instead.\r\nYour code would become:\r\n\r\n    final JTextArea output = new JTextArea(&quot; a &quot;);\r\n\r\n    JButton buttond4  = new JButton();\r\n    buttond4.setText(&quot;d4&quot;);\r\n    buttond4.addActionListener(new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent actionEvent) {\r\n            int n = rand.nextInt(4) + 1;\r\n            output.append(&quot;You threw d4 and got &quot; + n + &quot;\\n&quot;);\r\n\r\n        }\r\n    });\r\n\r\nEdit:\r\n\r\nYou also need to add the `output` to the `JFrame`. You tried this by using\r\n\r\n    frame.add(output);\r\n    frame.add(panel);\r\n\r\nbut that won&#39;t work. The content pane of a `JFrame` by default has a `BorderLayout`, and calling `add` will add the component in the `BorderLayout#CENTER`. That area can only contain one component.\r\n\r\nNow you have two options:\r\n\r\n- Change the `LayoutManager`. [This][2] is a good overview of the standard available `LayoutManager`s.\r\n- Keep the current `LayoutManager`, and add the two components to different areas, e.g.\r\n\r\n        frame.add(output, BorderLayout.CENTER);\r\n        frame.add(panel, BorderLayout.SOUTH);\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/javax/swing/JTextArea.html#append-java.lang.String-\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\r\n","title":"Console output to Frame, text area?","body":"<p>Using <code>System.out.println(\"You threw d4 and got \" + n);</code> causes the print to the console.</p>\n\n<p>You should use the <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/swing/JTextArea.html#append-java.lang.String-\" rel=\"nofollow\"><code>JTextArea#append</code></a> method instead.\nYour code would become:</p>\n\n<pre><code>final JTextArea output = new JTextArea(\" a \");\n\nJButton buttond4  = new JButton();\nbuttond4.setText(\"d4\");\nbuttond4.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent actionEvent) {\n        int n = rand.nextInt(4) + 1;\n        output.append(\"You threw d4 and got \" + n + \"\\n\");\n\n    }\n});\n</code></pre>\n\n<p>Edit:</p>\n\n<p>You also need to add the <code>output</code> to the <code>JFrame</code>. You tried this by using</p>\n\n<pre><code>frame.add(output);\nframe.add(panel);\n</code></pre>\n\n<p>but that won't work. The content pane of a <code>JFrame</code> by default has a <code>BorderLayout</code>, and calling <code>add</code> will add the component in the <code>BorderLayout#CENTER</code>. That area can only contain one component.</p>\n\n<p>Now you have two options:</p>\n\n<ul>\n<li>Change the <code>LayoutManager</code>. <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow\">This</a> is a good overview of the standard available <code>LayoutManager</code>s.</li>\n<li><p>Keep the current <code>LayoutManager</code>, and add the two components to different areas, e.g.</p>\n\n<pre><code>frame.add(output, BorderLayout.CENTER);\nframe.add(panel, BorderLayout.SOUTH);\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10418328,"reputation":828,"user_id":7681696,"display_name":"GtdDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680732471,"creation_date":1675032334,"answer_id":75278927,"question_id":32790698,"body_markdown":"\r\nA little bit overkill, but I hope it can help - JAVA CODE:\r\n\r\n``` lang-java\r\n\r\npublic class ConsolePanel {\r\n\r\n  public static void main(String[] args) {\r\n\r\n    panel(\r\n         21,\r\n         2,\r\n         3,\r\n         3,\r\n         Border.BOLD,\r\n         Border.DOUBLE,\r\n         Border.DOUBLE,\r\n         Border.THIN,\r\n         true,\r\n         true,\r\n         &quot;My Title&quot;, &quot;My First Topic text&quot;, &quot;My Second Topic text&quot;\r\n    );\r\n  }\r\n\r\n  public static void simplePanel(String... texts) {\r\n\r\n    panel(\r\n         21,\r\n         5,\r\n         1,\r\n         1,\r\n         Border.DOUBLE,\r\n         Border.DOUBLE,\r\n         Border.THIN,\r\n         Border.THIN,\r\n         true,\r\n         true,\r\n         texts\r\n    );\r\n  }\r\n\r\n  public static void simplePanelScalable(int scale, String... texts) {\r\n\r\n    panel(\r\n         scale,\r\n         5,\r\n         1,\r\n         1,\r\n         Border.DOUBLE,\r\n         Border.DOUBLE,\r\n         Border.THIN,\r\n         Border.THIN,\r\n         true,\r\n         true,\r\n         texts\r\n    );\r\n  }\r\n\r\n  public static void panel(\r\n       int scale,\r\n       int margin,\r\n       int upSpace,\r\n       int downSpace,\r\n       Border cornersFormat,\r\n       Border centerMarksFormat,\r\n       Border horizontalLinesFormat,\r\n       Border verticalLinesFormat,\r\n       boolean uppercaseTitle,\r\n       boolean centralizeTitle,\r\n       String... titleAndOthers) {\r\n\r\n    var estimatedAdjustmentFactor = 3;\r\n    var title = titleAndOthers[0];\r\n    var marginTitle = scale - (title.length() / 2) - estimatedAdjustmentFactor;\r\n    var formattedTexts =\r\n         Stream.of(titleAndOthers)\r\n               .map(item -&gt; item.equals(title) &amp;&amp; centralizeTitle ? &quot; &quot;.repeat(\r\n                    marginTitle) + title : item)\r\n               .map(item -&gt; item.equals(\r\n                    title) &amp;&amp; uppercaseTitle ? item.toUpperCase() : item)\r\n               .toArray();\r\n\r\n    var marginLimitedBySize = Math.min(margin, scale);\r\n\r\n    // scale + margin discrepacies eliminated\r\n    if (marginLimitedBySize % 2 != 0) -- marginLimitedBySize;\r\n    if (scale % 2 != 0) ++ scale;\r\n\r\n    int fullSize = (scale * 2) - marginLimitedBySize;\r\n    if (fullSize % 2 == 0) ++ fullSize;\r\n    else -- fullSize;\r\n\r\n    var whitespaceMargin = &quot; &quot;.repeat(marginLimitedBySize);\r\n    var externalUpSpaces = &quot;\\n&quot;.repeat(upSpace);\r\n    var externalBottomSpaces = &quot;\\n&quot;.repeat(downSpace);\r\n\r\n    var upperFace = upperLine(scale, cornersFormat, centerMarksFormat, horizontalLinesFormat);\r\n    var divider = middleLine(scale, cornersFormat, centerMarksFormat, horizontalLinesFormat);\r\n    var bottomFace = bottomLine(scale, cornersFormat, centerMarksFormat, horizontalLinesFormat);\r\n    var faceLine = faceLine(verticalLinesFormat);\r\n\r\n    var titleTextArea = String.valueOf(fullSize);\r\n    var textPreparation = new StringBuilder();\r\n    textPreparation.append(externalUpSpaces)\r\n                   .append(upperFace)\r\n                   .append(faceLine)\r\n                   .append(&quot;%s%%-%ss&quot;.formatted(whitespaceMargin, titleTextArea))\r\n                   .append(faceLine)\r\n                   .append(&quot;\\n&quot;)\r\n                   .append(divider);\r\n\r\n    // &quot;-1&quot; Because the first element in the Array was used as title\r\n    // The discont-number in bodyTextArea/fullsize, subtract the size of &quot;ordinal-ASC&quot; and &quot;) &quot;\r\n    var bodyTextArea = String.valueOf(fullSize - 4);\r\n    var topicEnumeration = 0;\r\n    var ordinalSymbolEnumerator = &#39;\\u2070&#39;;\r\n    for (int i = formattedTexts.length - 1; i &gt; 0; i--) {\r\n      ++ topicEnumeration;\r\n      textPreparation.append(faceLine)\r\n                     .append(&quot;%s%s%s) %%-%ss&quot;.formatted(\r\n                          whitespaceMargin,\r\n                          topicEnumeration,\r\n                          ordinalSymbolEnumerator,\r\n                          bodyTextArea\r\n                     ))\r\n                     .append(faceLine)\r\n                     .append(&quot;\\n&quot;);\r\n    }\r\n    textPreparation.append(bottomFace)\r\n                   .append(externalBottomSpaces);\r\n    System.out.printf(textPreparation.toString(), formattedTexts);\r\n  }\r\n\r\n  private static String generateLine(char baseChar, int scale, char BASE_LINE) {\r\n\r\n    return\r\n         String\r\n              .valueOf(baseChar)\r\n              .repeat(scale)\r\n              .replace(baseChar, BASE_LINE);\r\n  }\r\n\r\n  private static String upperLine(\r\n       int scale,\r\n       Border corner,\r\n       Border centerMark,\r\n       Border line) {\r\n\r\n    ArrayList&lt;Character&gt; borderStylingItems = new ArrayList&lt;&gt;();\r\n    switch (corner) {\r\n      case BOLD -&gt; {\r\n        borderStylingItems.add(BoldFont.UPPER_LEFT_CORNER.code);\r\n        borderStylingItems.add(BoldFont.UPPER_RIGHT_CORNER.code);\r\n      }\r\n      case THIN -&gt; {\r\n        borderStylingItems.add(ThinFont.UPPER_LEFT_CORNER.code);\r\n        borderStylingItems.add(ThinFont.UPPER_RIGHT_CORNER.code);\r\n      }\r\n      case DOUBLE -&gt; {\r\n        borderStylingItems.add(DoubleFont.UPPER_LEFT_CORNER.code);\r\n        borderStylingItems.add(DoubleFont.UPPER_RIGHT_CORNER.code);\r\n      }\r\n    }\r\n\r\n    switch (centerMark) {\r\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\r\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\r\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\r\n    }\r\n\r\n    switch (line) {\r\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\r\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\r\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\r\n    }\r\n\r\n    var baseline = generateLine(&#39;_&#39;, scale, borderStylingItems.get(3));\r\n\r\n    return borderStylingItems.get(0) + baseline +\r\n           borderStylingItems.get(2) + baseline +\r\n           borderStylingItems.get(1) + &quot;\\n&quot;;\r\n  }\r\n\r\n  private static String middleLine(\r\n       int scale,\r\n       Border corner,\r\n       Border centerMark,\r\n       Border baseLine\r\n  ) {\r\n\r\n    ArrayList&lt;Character&gt; borderStylingItems = new ArrayList&lt;&gt;();\r\n    switch (corner) {\r\n      case BOLD -&gt; {\r\n        borderStylingItems.add(BoldFont.MIDDLE_LEFT.code);\r\n        borderStylingItems.add(BoldFont.MIDDLE_RIGHT.code);\r\n      }\r\n      case THIN -&gt; {\r\n        borderStylingItems.add(ThinFont.MIDDLE_LEFT.code);\r\n        borderStylingItems.add(ThinFont.MIDDLE_RIGHT.code);\r\n      }\r\n      case DOUBLE -&gt; {\r\n        borderStylingItems.add(DoubleFont.MIDDLE_LEFT.code);\r\n        borderStylingItems.add(DoubleFont.MIDDLE_RIGHT.code);\r\n      }\r\n    }\r\n\r\n    switch (centerMark) {\r\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\r\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\r\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\r\n    }\r\n\r\n    switch (baseLine) {\r\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\r\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\r\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\r\n    }\r\n\r\n    var divider = generateLine(&#39;_&#39;, scale, borderStylingItems.get(3));\r\n\r\n    return borderStylingItems.get(0) + divider +\r\n           borderStylingItems.get(2) + divider +\r\n           borderStylingItems.get(1) + &quot;\\n&quot;;\r\n  }\r\n\r\n  private static String bottomLine(\r\n       int scale,\r\n       Border corner,\r\n       Border centerMark,\r\n       Border baseLine) {\r\n\r\n    ArrayList&lt;Character&gt; borderStylingItems = new ArrayList&lt;&gt;();\r\n    switch (corner) {\r\n      case BOLD -&gt; {\r\n        borderStylingItems.add(BoldFont.LOWER_LEFT_CORNER.code);\r\n        borderStylingItems.add(BoldFont.LOWER_RIGHT_CORNER.code);\r\n      }\r\n      case THIN -&gt; {\r\n        borderStylingItems.add(ThinFont.LOWER_LEFT_CORNER.code);\r\n        borderStylingItems.add(ThinFont.LOWER_RIGHT_CORNER.code);\r\n      }\r\n      case DOUBLE -&gt; {\r\n        borderStylingItems.add(DoubleFont.LOWER_LEFT_CORNER.code);\r\n        borderStylingItems.add(DoubleFont.LOWER_RIGHT_CORNER.code);\r\n      }\r\n    }\r\n\r\n    switch (centerMark) {\r\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\r\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\r\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\r\n    }\r\n\r\n    switch (baseLine) {\r\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\r\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\r\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\r\n    }\r\n\r\n    var baseline = generateLine(&#39;_&#39;, scale, borderStylingItems.get(3));\r\n\r\n    return borderStylingItems.get(0) + baseline +\r\n           borderStylingItems.get(2) + baseline +\r\n           borderStylingItems.get(1) + &quot;\\n&quot;;\r\n  }\r\n\r\n  private static Character faceLine(Border corner) {\r\n\r\n    return switch (corner) {\r\n      case BOLD -&gt; BoldFont.FACE_LINE.code;\r\n      case THIN -&gt; ThinFont.FACE_LINE.code;\r\n      case DOUBLE -&gt; DoubleFont.FACE_LINE.code;\r\n    };\r\n  }\r\n\r\n  private enum BoldFont {\r\n\r\n    FACE_LINE(&#39;\\u2503&#39;),\r\n    BASE_LINE(&#39;\\u2501&#39;),\r\n    UPPER_LEFT_CORNER(&#39;\\u250F&#39;),\r\n    UPPER_RIGHT_CORNER(&#39;\\u2513&#39;),\r\n    MIDDLE_LEFT(&#39;\\u2523&#39;),\r\n    MIDDLE_RIGHT(&#39;\\u252B&#39;),\r\n    LOWER_LEFT_CORNER(&#39;\\u2517&#39;),\r\n    LOWER_RIGHT_CORNER(&#39;\\u251B&#39;);\r\n\r\n    private final char code;\r\n\r\n    BoldFont(char code) {\r\n\r\n      this.code = code;\r\n    }\r\n  }\r\n\r\n  private enum ThinFont {\r\n\r\n    FACE_LINE(&#39;\\u2502&#39;),\r\n    BASE_LINE(&#39;\\u2500&#39;),\r\n    UPPER_LEFT_CORNER(&#39;\\u250C&#39;),\r\n    UPPER_RIGHT_CORNER(&#39;\\u2510&#39;),\r\n    MIDDLE_LEFT(&#39;\\u252C&#39;),\r\n    MIDDLE_RIGHT(&#39;\\u2524&#39;),\r\n    LOWER_LEFT_CORNER(&#39;\\u2514&#39;),\r\n    LOWER_RIGHT_CORNER(&#39;\\u2518&#39;);\r\n\r\n    private final char code;\r\n\r\n    ThinFont(char code) {\r\n\r\n      this.code = code;\r\n    }\r\n  }\r\n\r\n  private enum DoubleFont {\r\n\r\n    FACE_LINE(&#39;\\u2551&#39;),\r\n    BASE_LINE(&#39;\\u2550&#39;),\r\n    UPPER_LEFT_CORNER(&#39;\\u2554&#39;),\r\n    UPPER_RIGHT_CORNER(&#39;\\u2557&#39;),\r\n    MIDDLE_LEFT(&#39;\\u2560&#39;),\r\n    MIDDLE_RIGHT(&#39;\\u2563&#39;),\r\n    LOWER_LEFT_CORNER(&#39;\\u255A&#39;),\r\n    LOWER_RIGHT_CORNER(&#39;\\u255D&#39;);\r\n\r\n    private final char code;\r\n\r\n    DoubleFont(char code) {\r\n\r\n      this.code = code;\r\n    }\r\n  }\r\n\r\n  private enum Border {\r\n    BOLD, THIN, DOUBLE\r\n  }\r\n}\r\n```\r\n\r\nResult:\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n\r\nCheck It in: https://github.com/codegtd/tdd-log-panel\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9qHl0.png\r\n  [2]: https://i.stack.imgur.com/cYT16.png\r\n  [3]: https://i.stack.imgur.com/ZgGlA.png\r\n  [4]: https://i.stack.imgur.com/CRvb6.png","title":"Console output to Frame, text area?","body":"<p>A little bit overkill, but I hope it can help - JAVA CODE:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class ConsolePanel {\n\n  public static void main(String[] args) {\n\n    panel(\n         21,\n         2,\n         3,\n         3,\n         Border.BOLD,\n         Border.DOUBLE,\n         Border.DOUBLE,\n         Border.THIN,\n         true,\n         true,\n         &quot;My Title&quot;, &quot;My First Topic text&quot;, &quot;My Second Topic text&quot;\n    );\n  }\n\n  public static void simplePanel(String... texts) {\n\n    panel(\n         21,\n         5,\n         1,\n         1,\n         Border.DOUBLE,\n         Border.DOUBLE,\n         Border.THIN,\n         Border.THIN,\n         true,\n         true,\n         texts\n    );\n  }\n\n  public static void simplePanelScalable(int scale, String... texts) {\n\n    panel(\n         scale,\n         5,\n         1,\n         1,\n         Border.DOUBLE,\n         Border.DOUBLE,\n         Border.THIN,\n         Border.THIN,\n         true,\n         true,\n         texts\n    );\n  }\n\n  public static void panel(\n       int scale,\n       int margin,\n       int upSpace,\n       int downSpace,\n       Border cornersFormat,\n       Border centerMarksFormat,\n       Border horizontalLinesFormat,\n       Border verticalLinesFormat,\n       boolean uppercaseTitle,\n       boolean centralizeTitle,\n       String... titleAndOthers) {\n\n    var estimatedAdjustmentFactor = 3;\n    var title = titleAndOthers[0];\n    var marginTitle = scale - (title.length() / 2) - estimatedAdjustmentFactor;\n    var formattedTexts =\n         Stream.of(titleAndOthers)\n               .map(item -&gt; item.equals(title) &amp;&amp; centralizeTitle ? &quot; &quot;.repeat(\n                    marginTitle) + title : item)\n               .map(item -&gt; item.equals(\n                    title) &amp;&amp; uppercaseTitle ? item.toUpperCase() : item)\n               .toArray();\n\n    var marginLimitedBySize = Math.min(margin, scale);\n\n    // scale + margin discrepacies eliminated\n    if (marginLimitedBySize % 2 != 0) -- marginLimitedBySize;\n    if (scale % 2 != 0) ++ scale;\n\n    int fullSize = (scale * 2) - marginLimitedBySize;\n    if (fullSize % 2 == 0) ++ fullSize;\n    else -- fullSize;\n\n    var whitespaceMargin = &quot; &quot;.repeat(marginLimitedBySize);\n    var externalUpSpaces = &quot;\\n&quot;.repeat(upSpace);\n    var externalBottomSpaces = &quot;\\n&quot;.repeat(downSpace);\n\n    var upperFace = upperLine(scale, cornersFormat, centerMarksFormat, horizontalLinesFormat);\n    var divider = middleLine(scale, cornersFormat, centerMarksFormat, horizontalLinesFormat);\n    var bottomFace = bottomLine(scale, cornersFormat, centerMarksFormat, horizontalLinesFormat);\n    var faceLine = faceLine(verticalLinesFormat);\n\n    var titleTextArea = String.valueOf(fullSize);\n    var textPreparation = new StringBuilder();\n    textPreparation.append(externalUpSpaces)\n                   .append(upperFace)\n                   .append(faceLine)\n                   .append(&quot;%s%%-%ss&quot;.formatted(whitespaceMargin, titleTextArea))\n                   .append(faceLine)\n                   .append(&quot;\\n&quot;)\n                   .append(divider);\n\n    // &quot;-1&quot; Because the first element in the Array was used as title\n    // The discont-number in bodyTextArea/fullsize, subtract the size of &quot;ordinal-ASC&quot; and &quot;) &quot;\n    var bodyTextArea = String.valueOf(fullSize - 4);\n    var topicEnumeration = 0;\n    var ordinalSymbolEnumerator = '\\u2070';\n    for (int i = formattedTexts.length - 1; i &gt; 0; i--) {\n      ++ topicEnumeration;\n      textPreparation.append(faceLine)\n                     .append(&quot;%s%s%s) %%-%ss&quot;.formatted(\n                          whitespaceMargin,\n                          topicEnumeration,\n                          ordinalSymbolEnumerator,\n                          bodyTextArea\n                     ))\n                     .append(faceLine)\n                     .append(&quot;\\n&quot;);\n    }\n    textPreparation.append(bottomFace)\n                   .append(externalBottomSpaces);\n    System.out.printf(textPreparation.toString(), formattedTexts);\n  }\n\n  private static String generateLine(char baseChar, int scale, char BASE_LINE) {\n\n    return\n         String\n              .valueOf(baseChar)\n              .repeat(scale)\n              .replace(baseChar, BASE_LINE);\n  }\n\n  private static String upperLine(\n       int scale,\n       Border corner,\n       Border centerMark,\n       Border line) {\n\n    ArrayList&lt;Character&gt; borderStylingItems = new ArrayList&lt;&gt;();\n    switch (corner) {\n      case BOLD -&gt; {\n        borderStylingItems.add(BoldFont.UPPER_LEFT_CORNER.code);\n        borderStylingItems.add(BoldFont.UPPER_RIGHT_CORNER.code);\n      }\n      case THIN -&gt; {\n        borderStylingItems.add(ThinFont.UPPER_LEFT_CORNER.code);\n        borderStylingItems.add(ThinFont.UPPER_RIGHT_CORNER.code);\n      }\n      case DOUBLE -&gt; {\n        borderStylingItems.add(DoubleFont.UPPER_LEFT_CORNER.code);\n        borderStylingItems.add(DoubleFont.UPPER_RIGHT_CORNER.code);\n      }\n    }\n\n    switch (centerMark) {\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\n    }\n\n    switch (line) {\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\n    }\n\n    var baseline = generateLine('_', scale, borderStylingItems.get(3));\n\n    return borderStylingItems.get(0) + baseline +\n           borderStylingItems.get(2) + baseline +\n           borderStylingItems.get(1) + &quot;\\n&quot;;\n  }\n\n  private static String middleLine(\n       int scale,\n       Border corner,\n       Border centerMark,\n       Border baseLine\n  ) {\n\n    ArrayList&lt;Character&gt; borderStylingItems = new ArrayList&lt;&gt;();\n    switch (corner) {\n      case BOLD -&gt; {\n        borderStylingItems.add(BoldFont.MIDDLE_LEFT.code);\n        borderStylingItems.add(BoldFont.MIDDLE_RIGHT.code);\n      }\n      case THIN -&gt; {\n        borderStylingItems.add(ThinFont.MIDDLE_LEFT.code);\n        borderStylingItems.add(ThinFont.MIDDLE_RIGHT.code);\n      }\n      case DOUBLE -&gt; {\n        borderStylingItems.add(DoubleFont.MIDDLE_LEFT.code);\n        borderStylingItems.add(DoubleFont.MIDDLE_RIGHT.code);\n      }\n    }\n\n    switch (centerMark) {\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\n    }\n\n    switch (baseLine) {\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\n    }\n\n    var divider = generateLine('_', scale, borderStylingItems.get(3));\n\n    return borderStylingItems.get(0) + divider +\n           borderStylingItems.get(2) + divider +\n           borderStylingItems.get(1) + &quot;\\n&quot;;\n  }\n\n  private static String bottomLine(\n       int scale,\n       Border corner,\n       Border centerMark,\n       Border baseLine) {\n\n    ArrayList&lt;Character&gt; borderStylingItems = new ArrayList&lt;&gt;();\n    switch (corner) {\n      case BOLD -&gt; {\n        borderStylingItems.add(BoldFont.LOWER_LEFT_CORNER.code);\n        borderStylingItems.add(BoldFont.LOWER_RIGHT_CORNER.code);\n      }\n      case THIN -&gt; {\n        borderStylingItems.add(ThinFont.LOWER_LEFT_CORNER.code);\n        borderStylingItems.add(ThinFont.LOWER_RIGHT_CORNER.code);\n      }\n      case DOUBLE -&gt; {\n        borderStylingItems.add(DoubleFont.LOWER_LEFT_CORNER.code);\n        borderStylingItems.add(DoubleFont.LOWER_RIGHT_CORNER.code);\n      }\n    }\n\n    switch (centerMark) {\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\n    }\n\n    switch (baseLine) {\n      case BOLD -&gt; borderStylingItems.add(BoldFont.BASE_LINE.code);\n      case THIN -&gt; borderStylingItems.add(ThinFont.BASE_LINE.code);\n      case DOUBLE -&gt; borderStylingItems.add(DoubleFont.BASE_LINE.code);\n    }\n\n    var baseline = generateLine('_', scale, borderStylingItems.get(3));\n\n    return borderStylingItems.get(0) + baseline +\n           borderStylingItems.get(2) + baseline +\n           borderStylingItems.get(1) + &quot;\\n&quot;;\n  }\n\n  private static Character faceLine(Border corner) {\n\n    return switch (corner) {\n      case BOLD -&gt; BoldFont.FACE_LINE.code;\n      case THIN -&gt; ThinFont.FACE_LINE.code;\n      case DOUBLE -&gt; DoubleFont.FACE_LINE.code;\n    };\n  }\n\n  private enum BoldFont {\n\n    FACE_LINE('\\u2503'),\n    BASE_LINE('\\u2501'),\n    UPPER_LEFT_CORNER('\\u250F'),\n    UPPER_RIGHT_CORNER('\\u2513'),\n    MIDDLE_LEFT('\\u2523'),\n    MIDDLE_RIGHT('\\u252B'),\n    LOWER_LEFT_CORNER('\\u2517'),\n    LOWER_RIGHT_CORNER('\\u251B');\n\n    private final char code;\n\n    BoldFont(char code) {\n\n      this.code = code;\n    }\n  }\n\n  private enum ThinFont {\n\n    FACE_LINE('\\u2502'),\n    BASE_LINE('\\u2500'),\n    UPPER_LEFT_CORNER('\\u250C'),\n    UPPER_RIGHT_CORNER('\\u2510'),\n    MIDDLE_LEFT('\\u252C'),\n    MIDDLE_RIGHT('\\u2524'),\n    LOWER_LEFT_CORNER('\\u2514'),\n    LOWER_RIGHT_CORNER('\\u2518');\n\n    private final char code;\n\n    ThinFont(char code) {\n\n      this.code = code;\n    }\n  }\n\n  private enum DoubleFont {\n\n    FACE_LINE('\\u2551'),\n    BASE_LINE('\\u2550'),\n    UPPER_LEFT_CORNER('\\u2554'),\n    UPPER_RIGHT_CORNER('\\u2557'),\n    MIDDLE_LEFT('\\u2560'),\n    MIDDLE_RIGHT('\\u2563'),\n    LOWER_LEFT_CORNER('\\u255A'),\n    LOWER_RIGHT_CORNER('\\u255D');\n\n    private final char code;\n\n    DoubleFont(char code) {\n\n      this.code = code;\n    }\n  }\n\n  private enum Border {\n    BOLD, THIN, DOUBLE\n  }\n}\n</code></pre>\n<p>Result:\n<a href=\"https://i.stack.imgur.com/9qHl0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9qHl0.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/cYT16.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cYT16.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/ZgGlA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZgGlA.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/CRvb6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CRvb6.png\" alt=\"enter image description here\" /></a></p>\n<p>Check It in: <a href=\"https://github.com/codegtd/tdd-log-panel\" rel=\"nofollow noreferrer\">https://github.com/codegtd/tdd-log-panel</a></p>\n"},{"tags":[],"owner":{"account_id":10418328,"reputation":828,"user_id":7681696,"display_name":"GtdDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680732420,"creation_date":1680732420,"answer_id":75944318,"question_id":32790698,"body_markdown":"Thats a code version in Dart/Flutter\r\n\r\nCheck It in: https://github.com/codegtd/tdd-log-panel-flutter-dart\r\n\r\n```\r\n// @formatter:off\r\nvoid main() {\r\n\r\n  DartPanel().scalablePanel(\r\n      scale: 21,\r\n      texts: [&quot;Simple Panel Scalable&quot;, &quot;My First Topic&quot;]);\r\n\r\n  DartPanel().simplePanel(\r\n      texts: [&quot;Simple Panel&quot;, &quot;My First Topic&quot;]);\r\n\r\n  DartPanel().panel(\r\n        scale: 21,\r\n        margin: 2,\r\n        upSpace: 3,\r\n        downSpace: 3,\r\n        cornersFormat: _Border.BOLD,\r\n        centerMarksFormat: _Border.DOUBLE,\r\n        horizontalFacesFormat: _Border.DOUBLE,\r\n        lateralFacesFormat: _Border.THIN,\r\n        isUppercaseTitle: true,\r\n        isCentralizedTitle: true,\r\n        titleAndOthers: [&quot;My Panel&quot;,&quot;First Topic&quot;,&quot;Second Topic&quot;]);\r\n  }\r\n\r\nclass DartPanel {\r\n\r\n  void simplePanel({\r\n    required List&lt;String&gt; texts}) {\r\n    panel(\r\n        scale: 21,\r\n        margin: 5,\r\n        upSpace: 1,\r\n        downSpace: 1,\r\n        cornersFormat: _Border.DOUBLE,\r\n        centerMarksFormat: _Border.DOUBLE,\r\n        horizontalFacesFormat: _Border.THIN,\r\n        lateralFacesFormat: _Border.THIN,\r\n        isUppercaseTitle: true,\r\n        isCentralizedTitle: true,\r\n        titleAndOthers:texts);\r\n  }\r\n\r\n  void scalablePanel({\r\n    required int scale,\r\n    required List&lt;String&gt; texts}) {\r\n    panel(\r\n        scale: scale,\r\n        margin:5,\r\n        upSpace: 1,\r\n        downSpace: 1,\r\n        cornersFormat: _Border.DOUBLE,\r\n        centerMarksFormat: _Border.DOUBLE,\r\n        horizontalFacesFormat: _Border.THIN,\r\n        lateralFacesFormat: _Border.THIN,\r\n        isUppercaseTitle: true,\r\n        isCentralizedTitle: true,\r\n        titleAndOthers: texts);\r\n  }\r\n\r\n  void panel({\r\n    required int scale,\r\n    required int margin,\r\n    required int upSpace,\r\n    required int downSpace,\r\n    required _Border cornersFormat,\r\n    required _Border centerMarksFormat,\r\n    required _Border horizontalFacesFormat,\r\n    required _Border lateralFacesFormat,\r\n    required bool isUppercaseTitle,\r\n    required bool isCentralizedTitle,\r\n    required List&lt;String&gt; titleAndOthers,}\r\n  ) {\r\n    var estimatedAdjustmentFactor = 3;\r\n    var title = titleAndOthers[0];\r\n    var marginTitle = scale - (title.length / 2).round() - estimatedAdjustmentFactor;\r\n    var titleAndTopics =\r\n    titleAndOthers\r\n     .map((item) =&gt; item == title &amp;&amp; isCentralizedTitle ? (&#39; &#39; * marginTitle) + title : item)\r\n     .map((item) =&gt; item == title &amp;&amp; isUppercaseTitle ? item.toUpperCase() : item)\r\n     .toList();\r\n\r\n    var marginLimitedBySize = margin &lt; scale ? margin : scale;\r\n\r\n    /*╔════════════════════════════════════════╗\r\n      ║ scale + margin discrepacies eliminated ║\r\n      ╚════════════════════════════════════════╝*/\r\n    if (marginLimitedBySize.isOdd) --marginLimitedBySize;\r\n    if (scale.isOdd) ++scale;\r\n\r\n    int fullSize = (scale * 2) - marginLimitedBySize;\r\n    if (fullSize.isEven) ++fullSize; else --fullSize;\r\n\r\n    var topicMargin = (&#39; &#39; * marginLimitedBySize);\r\n    var externalUpSpaces = &#39;\\n&#39; * upSpace;\r\n    var externalBottomSpaces = &#39;\\n&#39; * downSpace;\r\n\r\n    var upperFace = _createUpperFace(\r\n      scale, cornersFormat, centerMarksFormat, horizontalFacesFormat);\r\n\r\n    var dividerFace = _createDividerFace(\r\n      scale, cornersFormat, centerMarksFormat, horizontalFacesFormat);\r\n\r\n    var bottomFace = _createBottomFace(\r\n      scale, cornersFormat, centerMarksFormat, horizontalFacesFormat);\r\n\r\n    var leftLateralFace = _createLateralFace(lateralFacesFormat);\r\n    var rightLateralFace = _createLateralFace(lateralFacesFormat);\r\n\r\n    var titleTextArea = &#39; &#39; * (fullSize - titleAndTopics[0].length - 2);\r\n    var textPreparation = StringBuffer()\r\n      ..write(externalUpSpaces)\r\n      ..write(upperFace)\r\n      ..write(rightLateralFace)\r\n      ..write(&#39;$topicMargin ${titleAndTopics[0]} $titleTextArea&#39;)\r\n      ..write(leftLateralFace)\r\n      ..write(&#39;\\n&#39;)\r\n      ..write(dividerFace);\r\n\r\n    /*╔═══════════════════════════════════════════════════════════════╗\r\n      ║ &quot;-1&quot; Because the first element in the Array was used as title ║\r\n      ║ The discont-number in fillUpSpaces/fullsize, subtract the size║\r\n      ║ of &quot;ordinal-ASC&quot; and &quot;) &quot;                                     ║\r\n      ╚═══════════════════════════════════════════════════════════════╝*/\r\n    var topicEnumerator = 0;\r\n    var symbolEnumerator = &#39;\\u2070&#39;;\r\n    for (int i = titleAndTopics.length - 1; i &gt; 0; i--) {\r\n      ++topicEnumerator;\r\n      var fillUpSpaces = &#39; &#39; * (fullSize - titleAndTopics[topicEnumerator].length - 4);\r\n      textPreparation\r\n        ..write(leftLateralFace)\r\n        ..write(\r\n            &#39;$topicMargin&#39;\r\n            &#39;$topicEnumerator&#39;\r\n            &#39;$symbolEnumerator) &#39;\r\n            &#39;${titleAndTopics[topicEnumerator]}&#39;\r\n            &#39;$fillUpSpaces&#39;)\r\n        ..write(leftLateralFace)\r\n        ..write(&#39;\\n&#39;);\r\n    }\r\n\r\n    textPreparation\r\n      ..write(bottomFace)\r\n      ..write(externalBottomSpaces);\r\n\r\n    print(&#39;$textPreparation&#39;);\r\n  }\r\n\r\n  String _createLateralFace(_Border corner) {\r\n    switch (corner) {\r\n      case _Border.BOLD:   return _BoldFont.FACE_LINE.code;\r\n      case _Border.THIN:   return _ThinFont.FACE_LINE.code;\r\n      case _Border.DOUBLE: return _DoubleFont.FACE_LINE.code;\r\n      default:             return &#39;&#39;;\r\n    }\r\n  }\r\n\r\n\r\n\r\n  String _createUpperFace(\r\n      int scale,\r\n      _Border corner,\r\n      _Border centerMark,\r\n      _Border line) {\r\n    List&lt;String&gt; borderStylingItems = [];\r\n\r\n    switch (corner) {\r\n      case _Border.BOLD:\r\n        borderStylingItems.add(_BoldFont.UPPER_LEFT_CORNER.code);\r\n        borderStylingItems.add(_BoldFont.UPPER_RIGHT_CORNER.code); break;\r\n      case _Border.THIN:\r\n        borderStylingItems.add(_ThinFont.UPPER_LEFT_CORNER.code);\r\n        borderStylingItems.add(_ThinFont.UPPER_RIGHT_CORNER.code); break;\r\n      case _Border.DOUBLE:\r\n        borderStylingItems.add(_DoubleFont.UPPER_LEFT_CORNER.code);\r\n        borderStylingItems.add(_DoubleFont.UPPER_RIGHT_CORNER.code); break;\r\n    }\r\n\r\n    switch (centerMark) {\r\n      case _Border.BOLD:\r\n        borderStylingItems.add(_BoldFont.BASE_LINE.code); break;\r\n      case _Border.THIN:\r\n        borderStylingItems.add(_ThinFont.BASE_LINE.code); break;\r\n      case _Border.DOUBLE:\r\n        borderStylingItems.add(_DoubleFont.BASE_LINE.code); break;\r\n    }\r\n\r\n    switch (line) {\r\n      case _Border.BOLD:\r\n        borderStylingItems.add(_BoldFont.BASE_LINE.code); break;\r\n      case _Border.THIN:\r\n        borderStylingItems.add(_ThinFont.BASE_LINE.code); break;\r\n      case _Border.DOUBLE:\r\n        borderStylingItems.add(_DoubleFont.BASE_LINE.code); break;\r\n    }\r\n\r\n    String upperFace = _faceGenerator(&#39;_&#39;, ((scale * 2)+1), borderStylingItems[2]);\r\n\r\n    return borderStylingItems[0] + upperFace + borderStylingItems[1] + &quot;\\n&quot;;\r\n  }\r\n\r\n  String _createDividerFace(\r\n      int scale,\r\n      _Border corner,\r\n      _Border centerMark,\r\n      _Border baseLine) {\r\n    List&lt;String&gt; borderStylingItems = [];\r\n    switch (corner) {\r\n      case _Border.BOLD:\r\n        borderStylingItems.add(_BoldFont.MIDDLE_LEFT.code);\r\n        borderStylingItems.add(_BoldFont.MIDDLE_RIGHT.code); break;\r\n      case _Border.THIN:\r\n        borderStylingItems.add(_ThinFont.MIDDLE_LEFT.code);\r\n        borderStylingItems.add(_ThinFont.MIDDLE_RIGHT.code); break;\r\n      case _Border.DOUBLE:\r\n        borderStylingItems.add(_DoubleFont.MIDDLE_LEFT.code);\r\n        borderStylingItems.add(_DoubleFont.MIDDLE_RIGHT.code); break;\r\n    }\r\n\r\n    switch (centerMark) {\r\n      case _Border.BOLD:\r\n        borderStylingItems.add(_BoldFont.BASE_LINE.code); break;\r\n      case _Border.THIN:\r\n        borderStylingItems.add(_ThinFont.BASE_LINE.code); break;\r\n      case _Border.DOUBLE:\r\n        borderStylingItems.add(_DoubleFont.BASE_LINE.code); break;\r\n    }\r\n\r\n    switch (baseLine) {\r\n      case _Border.BOLD:\r\n        borderStylingItems.add(_BoldFont.BASE_LINE.code); break;\r\n      case _Border.THIN:\r\n        borderStylingItems.add(_ThinFont.BASE_LINE.code); break;\r\n      case _Border.DOUBLE:\r\n        borderStylingItems.add(_DoubleFont.BASE_LINE.code); break;\r\n    }\r\n\r\n    var panelDivider = _faceGenerator(&#39;_&#39;, scale, borderStylingItems[3]);\r\n\r\n    return\r\n        borderStylingItems[0] +\r\n        panelDivider +\r\n        borderStylingItems[2] +\r\n        panelDivider +\r\n        borderStylingItems[1] +\r\n        &quot;\\n&quot;;\r\n  }\r\n\r\n  String _createBottomFace(\r\n      int scale,\r\n      _Border corner,\r\n      _Border centerMark,\r\n      _Border baseLine,\r\n      ) {\r\n    List&lt;String&gt; borderStylingItems = [];\r\n\r\n    switch (corner) {\r\n      case _Border.BOLD:\r\n        borderStylingItems.add(_BoldFont.LOWER_LEFT_CORNER.code);\r\n        borderStylingItems.add(_BoldFont.LOWER_RIGHT_CORNER.code); break;\r\n      case _Border.THIN:\r\n        borderStylingItems.add(_ThinFont.LOWER_LEFT_CORNER.code);\r\n        borderStylingItems.add(_ThinFont.LOWER_RIGHT_CORNER.code); break;\r\n      case _Border.DOUBLE:\r\n        borderStylingItems.add(_DoubleFont.LOWER_LEFT_CORNER.code);\r\n        borderStylingItems.add(_DoubleFont.LOWER_RIGHT_CORNER.code); break;\r\n    }\r\n\r\n    switch (centerMark) {\r\n      case _Border.BOLD:\r\n        borderStylingItems.add(_BoldFont.BASE_LINE.code); break;\r\n      case _Border.THIN:\r\n        borderStylingItems.add(_ThinFont.BASE_LINE.code); break;\r\n      case _Border.DOUBLE:\r\n        borderStylingItems.add(_DoubleFont.BASE_LINE.code); break;\r\n    }\r\n\r\n    switch (baseLine) {\r\n      case _Border.BOLD:\r\n        borderStylingItems.add(_BoldFont.BASE_LINE.code); break;\r\n      case _Border.THIN:\r\n        borderStylingItems.add(_ThinFont.BASE_LINE.code); break;\r\n      case _Border.DOUBLE:\r\n        borderStylingItems.add(_DoubleFont.BASE_LINE.code); break;\r\n    }\r\n\r\n    var bottonFace = _faceGenerator(&#39;_&#39;, scale, borderStylingItems[3]);\r\n\r\n    return\r\n        borderStylingItems[0] +\r\n        bottonFace +\r\n        borderStylingItems[2] +\r\n        bottonFace +\r\n        borderStylingItems[1] +\r\n        &quot;\\n&quot;;\r\n  }\r\n\r\n  String _faceGenerator(\r\n      String baseChar,\r\n      int scale,\r\n      String BASE_LINE) {\r\n    return (baseChar * scale).replaceAll(baseChar, BASE_LINE);\r\n  }\r\n}\r\n\r\nenum _BoldFont {\r\n  FACE_LINE(&#39;\\u2503&#39;),\r\n  BASE_LINE(&#39;\\u2501&#39;),\r\n  UPPER_LEFT_CORNER(&#39;\\u250F&#39;),\r\n  UPPER_RIGHT_CORNER(&#39;\\u2513&#39;),\r\n  MIDDLE_LEFT(&#39;\\u2523&#39;),\r\n  MIDDLE_RIGHT(&#39;\\u252B&#39;),\r\n  LOWER_LEFT_CORNER(&#39;\\u2517&#39;),\r\n  LOWER_RIGHT_CORNER(&#39;\\u251B&#39;);\r\n\r\n  final String code;\r\n\r\n  const _BoldFont(this.code);\r\n}\r\n\r\nenum _ThinFont {\r\n  FACE_LINE(&#39;\\u2502&#39;),\r\n  BASE_LINE(&#39;\\u2500&#39;),\r\n  UPPER_LEFT_CORNER(&#39;\\u250C&#39;),\r\n  UPPER_RIGHT_CORNER(&#39;\\u2510&#39;),\r\n  MIDDLE_LEFT(&#39;\\u252C&#39;),\r\n  MIDDLE_RIGHT(&#39;\\u2524&#39;),\r\n  LOWER_LEFT_CORNER(&#39;\\u2514&#39;),\r\n  LOWER_RIGHT_CORNER(&#39;\\u2518&#39;);\r\n\r\n  final String code;\r\n\r\n  const _ThinFont(this.code);\r\n}\r\n\r\nenum _DoubleFont {\r\n  FACE_LINE(&#39;\\u2551&#39;),\r\n  BASE_LINE(&#39;\\u2550&#39;),\r\n  UPPER_LEFT_CORNER(&#39;\\u2554&#39;),\r\n  UPPER_RIGHT_CORNER(&#39;\\u2557&#39;),\r\n  MIDDLE_LEFT(&#39;\\u2560&#39;),\r\n  MIDDLE_RIGHT(&#39;\\u2563&#39;),\r\n  LOWER_LEFT_CORNER(&#39;\\u255A&#39;),\r\n  LOWER_RIGHT_CORNER(&#39;\\u255D&#39;);\r\n\r\n  final String code;\r\n\r\n  const _DoubleFont(this.code);\r\n}\r\n\r\nenum _Border { BOLD, THIN, DOUBLE }\r\n// @formatter:on\r\n\r\n```","title":"Console output to Frame, text area?","body":"<p>Thats a code version in Dart/Flutter</p>\n<p>Check It in: <a href=\"https://github.com/codegtd/tdd-log-panel-flutter-dart\" rel=\"nofollow noreferrer\">https://github.com/codegtd/tdd-log-panel-flutter-dart</a></p>\n<pre><code>// @formatter:off\nvoid main() {\n\n  DartPanel().scalablePanel(\n      scale: 21,\n      texts: [&quot;Simple Panel Scalable&quot;, &quot;My First Topic&quot;]);\n\n  DartPanel().simplePanel(\n      texts: [&quot;Simple Panel&quot;, &quot;My First Topic&quot;]);\n\n  DartPanel().panel(\n        scale: 21,\n        margin: 2,\n        upSpace: 3,\n        downSpace: 3,\n        cornersFormat: _Border.BOLD,\n        centerMarksFormat: _Border.DOUBLE,\n        horizontalFacesFormat: _Border.DOUBLE,\n        lateralFacesFormat: _Border.THIN,\n        isUppercaseTitle: true,\n        isCentralizedTitle: true,\n        titleAndOthers: [&quot;My Panel&quot;,&quot;First Topic&quot;,&quot;Second Topic&quot;]);\n  }\n\nclass DartPanel {\n\n  void simplePanel({\n    required List&lt;String&gt; texts}) {\n    panel(\n        scale: 21,\n        margin: 5,\n        upSpace: 1,\n        downSpace: 1,\n        cornersFormat: _Border.DOUBLE,\n        centerMarksFormat: _Border.DOUBLE,\n        horizontalFacesFormat: _Border.THIN,\n        lateralFacesFormat: _Border.THIN,\n        isUppercaseTitle: true,\n        isCentralizedTitle: true,\n        titleAndOthers:texts);\n  }\n\n  void scalablePanel({\n    required int scale,\n    required List&lt;String&gt; texts}) {\n    panel(\n        scale: scale,\n        margin:5,\n        upSpace: 1,\n        downSpace: 1,\n        cornersFormat: _Border.DOUBLE,\n        centerMarksFormat: _Border.DOUBLE,\n        horizontalFacesFormat: _Border.THIN,\n        lateralFacesFormat: _Border.THIN,\n        isUppercaseTitle: true,\n        isCentralizedTitle: true,\n        titleAndOthers: texts);\n  }\n\n  void panel({\n    required int scale,\n    required int margin,\n    required int upSpace,\n    required int downSpace,\n    required _Border cornersFormat,\n    required _Border centerMarksFormat,\n    required _Border horizontalFacesFormat,\n    required _Border lateralFacesFormat,\n    required bool isUppercaseTitle,\n    required bool isCentralizedTitle,\n    required List&lt;String&gt; titleAndOthers,}\n  ) {\n    var estimatedAdjustmentFactor = 3;\n    var title = titleAndOthers[0];\n    var marginTitle = scale - (title.length / 2).round() - estimatedAdjustmentFactor;\n    var titleAndTopics =\n    titleAndOthers\n     .map((item) =&gt; item == title &amp;&amp; isCentralizedTitle ? (' ' * marginTitle) + title : item)\n     .map((item) =&gt; item == title &amp;&amp; isUppercaseTitle ? item.toUpperCase() : item)\n     .toList();\n\n    var marginLimitedBySize = margin &lt; scale ? margin : scale;\n\n    /*╔════════════════════════════════════════╗\n      ║ scale + margin discrepacies eliminated ║\n      ╚════════════════════════════════════════╝*/\n    if (marginLimitedBySize.isOdd) --marginLimitedBySize;\n    if (scale.isOdd) ++scale;\n\n    int fullSize = (scale * 2) - marginLimitedBySize;\n    if (fullSize.isEven) ++fullSize; else --fullSize;\n\n    var topicMargin = (' ' * marginLimitedBySize);\n    var externalUpSpaces = '\\n' * upSpace;\n    var externalBottomSpaces = '\\n' * downSpace;\n\n    var upperFace = _createUpperFace(\n      scale, cornersFormat, centerMarksFormat, horizontalFacesFormat);\n\n    var dividerFace = _createDividerFace(\n      scale, cornersFormat, centerMarksFormat, horizontalFacesFormat);\n\n    var bottomFace = _createBottomFace(\n      scale, cornersFormat, centerMarksFormat, horizontalFacesFormat);\n\n    var leftLateralFace = _createLateralFace(lateralFacesFormat);\n    var rightLateralFace = _createLateralFace(lateralFacesFormat);\n\n    var titleTextArea = ' ' * (fullSize - titleAndTopics[0].length - 2);\n    var textPreparation = StringBuffer()\n      ..write(externalUpSpaces)\n      ..write(upperFace)\n      ..write(rightLateralFace)\n      ..write('$topicMargin ${titleAndTopics[0]} $titleTextArea')\n      ..write(leftLateralFace)\n      ..write('\\n')\n      ..write(dividerFace);\n\n    /*╔═══════════════════════════════════════════════════════════════╗\n      ║ &quot;-1&quot; Because the first element in the Array was used as title ║\n      ║ The discont-number in fillUpSpaces/fullsize, subtract the size║\n      ║ of &quot;ordinal-ASC&quot; and &quot;) &quot;                                     ║\n      ╚═══════════════════════════════════════════════════════════════╝*/\n    var topicEnumerator = 0;\n    var symbolEnumerator = '\\u2070';\n    for (int i = titleAndTopics.length - 1; i &gt; 0; i--) {\n      ++topicEnumerator;\n      var fillUpSpaces = ' ' * (fullSize - titleAndTopics[topicEnumerator].length - 4);\n      textPreparation\n        ..write(leftLateralFace)\n        ..write(\n            '$topicMargin'\n            '$topicEnumerator'\n            '$symbolEnumerator) '\n            '${titleAndTopics[topicEnumerator]}'\n            '$fillUpSpaces')\n        ..write(leftLateralFace)\n        ..write('\\n');\n    }\n\n    textPreparation\n      ..write(bottomFace)\n      ..write(externalBottomSpaces);\n\n    print('$textPreparation');\n  }\n\n  String _createLateralFace(_Border corner) {\n    switch (corner) {\n      case _Border.BOLD:   return _BoldFont.FACE_LINE.code;\n      case _Border.THIN:   return _ThinFont.FACE_LINE.code;\n      case _Border.DOUBLE: return _DoubleFont.FACE_LINE.code;\n      default:             return '';\n    }\n  }\n\n\n\n  String _createUpperFace(\n      int scale,\n      _Border corner,\n      _Border centerMark,\n      _Border line) {\n    List&lt;String&gt; borderStylingItems = [];\n\n    switch (corner) {\n      case _Border.BOLD:\n        borderStylingItems.add(_BoldFont.UPPER_LEFT_CORNER.code);\n        borderStylingItems.add(_BoldFont.UPPER_RIGHT_CORNER.code); break;\n      case _Border.THIN:\n        borderStylingItems.add(_ThinFont.UPPER_LEFT_CORNER.code);\n        borderStylingItems.add(_ThinFont.UPPER_RIGHT_CORNER.code); break;\n      case _Border.DOUBLE:\n        borderStylingItems.add(_DoubleFont.UPPER_LEFT_CORNER.code);\n        borderStylingItems.add(_DoubleFont.UPPER_RIGHT_CORNER.code); break;\n    }\n\n    switch (centerMark) {\n      case _Border.BOLD:\n        borderStylingItems.add(_BoldFont.BASE_LINE.code); break;\n      case _Border.THIN:\n        borderStylingItems.add(_ThinFont.BASE_LINE.code); break;\n      case _Border.DOUBLE:\n        borderStylingItems.add(_DoubleFont.BASE_LINE.code); break;\n    }\n\n    switch (line) {\n      case _Border.BOLD:\n        borderStylingItems.add(_BoldFont.BASE_LINE.code); break;\n      case _Border.THIN:\n        borderStylingItems.add(_ThinFont.BASE_LINE.code); break;\n      case _Border.DOUBLE:\n        borderStylingItems.add(_DoubleFont.BASE_LINE.code); break;\n    }\n\n    String upperFace = _faceGenerator('_', ((scale * 2)+1), borderStylingItems[2]);\n\n    return borderStylingItems[0] + upperFace + borderStylingItems[1] + &quot;\\n&quot;;\n  }\n\n  String _createDividerFace(\n      int scale,\n      _Border corner,\n      _Border centerMark,\n      _Border baseLine) {\n    List&lt;String&gt; borderStylingItems = [];\n    switch (corner) {\n      case _Border.BOLD:\n        borderStylingItems.add(_BoldFont.MIDDLE_LEFT.code);\n        borderStylingItems.add(_BoldFont.MIDDLE_RIGHT.code); break;\n      case _Border.THIN:\n        borderStylingItems.add(_ThinFont.MIDDLE_LEFT.code);\n        borderStylingItems.add(_ThinFont.MIDDLE_RIGHT.code); break;\n      case _Border.DOUBLE:\n        borderStylingItems.add(_DoubleFont.MIDDLE_LEFT.code);\n        borderStylingItems.add(_DoubleFont.MIDDLE_RIGHT.code); break;\n    }\n\n    switch (centerMark) {\n      case _Border.BOLD:\n        borderStylingItems.add(_BoldFont.BASE_LINE.code); break;\n      case _Border.THIN:\n        borderStylingItems.add(_ThinFont.BASE_LINE.code); break;\n      case _Border.DOUBLE:\n        borderStylingItems.add(_DoubleFont.BASE_LINE.code); break;\n    }\n\n    switch (baseLine) {\n      case _Border.BOLD:\n        borderStylingItems.add(_BoldFont.BASE_LINE.code); break;\n      case _Border.THIN:\n        borderStylingItems.add(_ThinFont.BASE_LINE.code); break;\n      case _Border.DOUBLE:\n        borderStylingItems.add(_DoubleFont.BASE_LINE.code); break;\n    }\n\n    var panelDivider = _faceGenerator('_', scale, borderStylingItems[3]);\n\n    return\n        borderStylingItems[0] +\n        panelDivider +\n        borderStylingItems[2] +\n        panelDivider +\n        borderStylingItems[1] +\n        &quot;\\n&quot;;\n  }\n\n  String _createBottomFace(\n      int scale,\n      _Border corner,\n      _Border centerMark,\n      _Border baseLine,\n      ) {\n    List&lt;String&gt; borderStylingItems = [];\n\n    switch (corner) {\n      case _Border.BOLD:\n        borderStylingItems.add(_BoldFont.LOWER_LEFT_CORNER.code);\n        borderStylingItems.add(_BoldFont.LOWER_RIGHT_CORNER.code); break;\n      case _Border.THIN:\n        borderStylingItems.add(_ThinFont.LOWER_LEFT_CORNER.code);\n        borderStylingItems.add(_ThinFont.LOWER_RIGHT_CORNER.code); break;\n      case _Border.DOUBLE:\n        borderStylingItems.add(_DoubleFont.LOWER_LEFT_CORNER.code);\n        borderStylingItems.add(_DoubleFont.LOWER_RIGHT_CORNER.code); break;\n    }\n\n    switch (centerMark) {\n      case _Border.BOLD:\n        borderStylingItems.add(_BoldFont.BASE_LINE.code); break;\n      case _Border.THIN:\n        borderStylingItems.add(_ThinFont.BASE_LINE.code); break;\n      case _Border.DOUBLE:\n        borderStylingItems.add(_DoubleFont.BASE_LINE.code); break;\n    }\n\n    switch (baseLine) {\n      case _Border.BOLD:\n        borderStylingItems.add(_BoldFont.BASE_LINE.code); break;\n      case _Border.THIN:\n        borderStylingItems.add(_ThinFont.BASE_LINE.code); break;\n      case _Border.DOUBLE:\n        borderStylingItems.add(_DoubleFont.BASE_LINE.code); break;\n    }\n\n    var bottonFace = _faceGenerator('_', scale, borderStylingItems[3]);\n\n    return\n        borderStylingItems[0] +\n        bottonFace +\n        borderStylingItems[2] +\n        bottonFace +\n        borderStylingItems[1] +\n        &quot;\\n&quot;;\n  }\n\n  String _faceGenerator(\n      String baseChar,\n      int scale,\n      String BASE_LINE) {\n    return (baseChar * scale).replaceAll(baseChar, BASE_LINE);\n  }\n}\n\nenum _BoldFont {\n  FACE_LINE('\\u2503'),\n  BASE_LINE('\\u2501'),\n  UPPER_LEFT_CORNER('\\u250F'),\n  UPPER_RIGHT_CORNER('\\u2513'),\n  MIDDLE_LEFT('\\u2523'),\n  MIDDLE_RIGHT('\\u252B'),\n  LOWER_LEFT_CORNER('\\u2517'),\n  LOWER_RIGHT_CORNER('\\u251B');\n\n  final String code;\n\n  const _BoldFont(this.code);\n}\n\nenum _ThinFont {\n  FACE_LINE('\\u2502'),\n  BASE_LINE('\\u2500'),\n  UPPER_LEFT_CORNER('\\u250C'),\n  UPPER_RIGHT_CORNER('\\u2510'),\n  MIDDLE_LEFT('\\u252C'),\n  MIDDLE_RIGHT('\\u2524'),\n  LOWER_LEFT_CORNER('\\u2514'),\n  LOWER_RIGHT_CORNER('\\u2518');\n\n  final String code;\n\n  const _ThinFont(this.code);\n}\n\nenum _DoubleFont {\n  FACE_LINE('\\u2551'),\n  BASE_LINE('\\u2550'),\n  UPPER_LEFT_CORNER('\\u2554'),\n  UPPER_RIGHT_CORNER('\\u2557'),\n  MIDDLE_LEFT('\\u2560'),\n  MIDDLE_RIGHT('\\u2563'),\n  LOWER_LEFT_CORNER('\\u255A'),\n  LOWER_RIGHT_CORNER('\\u255D');\n\n  final String code;\n\n  const _DoubleFont(this.code);\n}\n\nenum _Border { BOLD, THIN, DOUBLE }\n// @formatter:on\n\n</code></pre>\n"}],"owner":{"account_id":6981202,"reputation":17,"user_id":5354051,"display_name":"mr.robot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32790727,"answer_count":3,"score":0,"last_activity_date":1680732471,"creation_date":1443215327,"question_id":32790698,"body_markdown":"I am learning java, I have created a dice thrower - when i press the button it throws a dice - but the output is in the console. How can I output in the same frame with the buttons.\r\n\r\n// sorry i am not native english speaking person, but i hope you get the idea.\r\n    \r\n\r\n    import javax.swing.*;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Random;\r\n    import javax.swing.JTextArea;\r\n\r\n    public class Main {\r\n\r\n    public static void main(String s[]){\r\n        Random  rand = new Random();\r\n\r\n        JFrame frame = new JFrame(&quot;Dice Thrower 2000&quot;);\r\n        JPanel panel=new JPanel();\r\n        panel.setLayout(new FlowLayout());\r\n        JLabel label = new JLabel(&quot;Throw dice&quot;);\r\n        JLabel label1 = new JLabel(&quot;You got : &quot;);\r\n        JTextArea output = new JTextArea(&quot; a &quot;);\r\n\r\n        JButton buttond4  = new JButton();\r\n        buttond4.setText(&quot;d4&quot;);\r\n        buttond4.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent actionEvent) {\r\n                int n = rand.nextInt(4) + 1;\r\n                System.out.println(&quot;You threw d4 and got &quot; + n);\r\n\r\n            }\r\n        });\r\n\r\n\r\n        JButton buttond6 = new JButton();\r\n        buttond6.setText(&quot;d6&quot;);\r\n        buttond6.addActionListener(new ActionListener() {...});\r\n      \r\n        JButton buttond8 = new JButton();\r\n        buttond8.setText(&quot;d8&quot;);\r\n        buttond8.addActionListener(new ActionListener() {...});\r\n\r\n        JButton buttond10 = new JButton();\r\n        buttond10.setText(&quot;d10&quot;);\r\n        buttond10.addActionListener(new ActionListener() {...});\r\n\r\n\r\n        JButton buttond12 = new JButton();\r\n        buttond12.setText(&quot;d12&quot;);\r\n        buttond12.addActionListener(new ActionListener() {...});\r\n\r\n        JButton buttond20 = new JButton();\r\n        buttond20.setText(&quot;d20&quot;);\r\n        buttond20.addActionListener(new ActionListener() {...});\r\n\r\n        panel.add(label);\r\n        panel.add(buttond4);\r\n\r\n        panel.add(buttond6);\r\n        panel.add(buttond8);\r\n        panel.add(buttond10);\r\n        panel.add(buttond12);\r\n        panel.add(buttond20);\r\n        panel.add(label1);\r\n\r\n\r\n\r\n        frame.add(output);\r\n        frame.add(panel);\r\n        frame.setSize(500, 200);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n}\r\n\r\nI have provided buttons d4  - extended code, the code for rest buttons is almost identical.","title":"Console output to Frame, text area?","body":"<p>I am learning java, I have created a dice thrower - when i press the button it throws a dice - but the output is in the console. How can I output in the same frame with the buttons.</p>\n\n<p>// sorry i am not native english speaking person, but i hope you get the idea.</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\nimport javax.swing.JTextArea;\n\npublic class Main {\n\npublic static void main(String s[]){\n    Random  rand = new Random();\n\n    JFrame frame = new JFrame(\"Dice Thrower 2000\");\n    JPanel panel=new JPanel();\n    panel.setLayout(new FlowLayout());\n    JLabel label = new JLabel(\"Throw dice\");\n    JLabel label1 = new JLabel(\"You got : \");\n    JTextArea output = new JTextArea(\" a \");\n\n    JButton buttond4  = new JButton();\n    buttond4.setText(\"d4\");\n    buttond4.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent actionEvent) {\n            int n = rand.nextInt(4) + 1;\n            System.out.println(\"You threw d4 and got \" + n);\n\n        }\n    });\n\n\n    JButton buttond6 = new JButton();\n    buttond6.setText(\"d6\");\n    buttond6.addActionListener(new ActionListener() {...});\n\n    JButton buttond8 = new JButton();\n    buttond8.setText(\"d8\");\n    buttond8.addActionListener(new ActionListener() {...});\n\n    JButton buttond10 = new JButton();\n    buttond10.setText(\"d10\");\n    buttond10.addActionListener(new ActionListener() {...});\n\n\n    JButton buttond12 = new JButton();\n    buttond12.setText(\"d12\");\n    buttond12.addActionListener(new ActionListener() {...});\n\n    JButton buttond20 = new JButton();\n    buttond20.setText(\"d20\");\n    buttond20.addActionListener(new ActionListener() {...});\n\n    panel.add(label);\n    panel.add(buttond4);\n\n    panel.add(buttond6);\n    panel.add(buttond8);\n    panel.add(buttond10);\n    panel.add(buttond12);\n    panel.add(buttond20);\n    panel.add(label1);\n\n\n\n    frame.add(output);\n    frame.add(panel);\n    frame.setSize(500, 200);\n    frame.setLocationRelativeTo(null);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setVisible(true);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I have provided buttons d4  - extended code, the code for rest buttons is almost identical.</p>\n"},{"tags":["java","transactions","timeout","jta","atomikos"],"answers":[{"tags":[],"owner":{"account_id":6509695,"reputation":6576,"user_id":5037430,"display_name":"u-ways"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680732366,"creation_date":1680732366,"answer_id":75944310,"question_id":72727160,"body_markdown":"Most of the TransactionsEssentials JTA settings can be tweaked using the `jta.properties` file (placed at the root of your classpath) or `transactions.properties` (also can be placed in your main resources folder)\r\n\r\nThe configurations of interest are:\r\n\r\n| Property name | Description | Since |\r\n| -- | -- | -- |\r\n| `com.atomikos.icatch.max_timeout` | Specifies the maximum timeout (in milliseconds) that can be allowed for transactions. Defaults to 300000. This means that calls to UserTransaction.setTransactionTimeout() with a value higher than configured here will be max&#39;ed to this value. For 4.x or higher, a value of 0 means no maximum (i.e., unlimited timeouts are allowed). NOTE: as of 5.0, using 0 interferes with recovery. Instead, use Long.MAX_VALUE to specify unlimited. | 3.x, 4.x |\r\n| `com.atomikos.icatch.default_jta_timeout` | The default timeout for JTA transactions (optional, defaults to 10000 ms) | 3.4, 4.x |\r\n\r\nSo if you configured your `transactions.properties` file with:\r\n\r\n```yaml\r\n# transactions.properties\r\n# .../src/main/resources/transactions.properties\r\n# Max timeout for any JTA transactions. (10 seconds)\r\ncom.atomikos.icatch.max_timeout=10000\r\n# Default timeout for any JTA transactions. (5 seconds)\r\ncom.atomikos.icatch.default_jta_timeout=5000\r\n```\r\n\r\nIt should do the trick to allow for a maximum of 10 seconds.\r\n\r\nSee: [Atomikos - JtaProperties - Transaction manager](https://www.atomikos.com/Documentation/JtaProperties?sortcol=0;table=5;up=0#JVM_40System_41_Properties)","title":"Reducing transaction timeout in JTA with Atomikos","body":"<p>Most of the TransactionsEssentials JTA settings can be tweaked using the <code>jta.properties</code> file (placed at the root of your classpath) or <code>transactions.properties</code> (also can be placed in your main resources folder)</p>\n<p>The configurations of interest are:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Property name</th>\n<th>Description</th>\n<th>Since</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>com.atomikos.icatch.max_timeout</code></td>\n<td>Specifies the maximum timeout (in milliseconds) that can be allowed for transactions. Defaults to 300000. This means that calls to UserTransaction.setTransactionTimeout() with a value higher than configured here will be max'ed to this value. For 4.x or higher, a value of 0 means no maximum (i.e., unlimited timeouts are allowed). NOTE: as of 5.0, using 0 interferes with recovery. Instead, use Long.MAX_VALUE to specify unlimited.</td>\n<td>3.x, 4.x</td>\n</tr>\n<tr>\n<td><code>com.atomikos.icatch.default_jta_timeout</code></td>\n<td>The default timeout for JTA transactions (optional, defaults to 10000 ms)</td>\n<td>3.4, 4.x</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>So if you configured your <code>transactions.properties</code> file with:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># transactions.properties\n# .../src/main/resources/transactions.properties\n# Max timeout for any JTA transactions. (10 seconds)\ncom.atomikos.icatch.max_timeout=10000\n# Default timeout for any JTA transactions. (5 seconds)\ncom.atomikos.icatch.default_jta_timeout=5000\n</code></pre>\n<p>It should do the trick to allow for a maximum of 10 seconds.</p>\n<p>See: <a href=\"https://www.atomikos.com/Documentation/JtaProperties?sortcol=0;table=5;up=0#JVM_40System_41_Properties\" rel=\"nofollow noreferrer\">Atomikos - JtaProperties - Transaction manager</a></p>\n"}],"owner":{"account_id":177799,"reputation":1059,"user_id":409363,"accept_rate":0,"display_name":"karansardana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680732366,"creation_date":1655973726,"question_id":72727160,"body_markdown":"I&#39;m trying to reduce the default timeout of 300 seconds with JTA + Atomikos. However, it&#39;s not working as it keeps taking 300 seconds to time out.\r\n\r\nWhat I want to do is:\r\n\r\n- `UserTransaction`: Set the timeout to 10 seconds.\r\n- `UserTransactionManager`: Set timeout to 10 seconds.\r\n\r\n```java\r\nUserTransactionImp userTransaction = new UserTransactionImp();\r\n\r\nuserTransaction.setTransactionTimeout(10);\r\n\r\n// ...\r\n\r\nUserTransactionManager transactionManager= new UserTransactionManager();\r\ntransactionManager.setTransactionTimeout(10); // may not be necessary as I do set this on the transaction\r\n\r\n// ...\r\n\r\nJtaTransactionManager jtaTransactionManager = new JtaTransactionManager(userTransaction,transactionManager);\r\n\r\n// ...\r\n\r\nTransactionTemplate templ = new TransactionTemplate(jtaTransactionManager, new DefaultTransaction());\r\n\r\ntempl.execute(callback -&gt; {\r\n  // code to update the DB\r\n})\r\n```\r\n\r\nHow I am testing this:\r\n\r\n1. Locking a row via SQLDeveloper,\r\n2. Try to update the same row via the app,\r\n4. Keeps waiting for the lock,\r\n3. Times out eventually.\r\n\r\nI expected this to time out after 10 seconds based on the setting I have done above. However, it keeps on waiting for 300 seconds before it times out.\r\n\r\nNot sure where else I need to configure this.","title":"Reducing transaction timeout in JTA with Atomikos","body":"<p>I'm trying to reduce the default timeout of 300 seconds with JTA + Atomikos. However, it's not working as it keeps taking 300 seconds to time out.</p>\n<p>What I want to do is:</p>\n<ul>\n<li><code>UserTransaction</code>: Set the timeout to 10 seconds.</li>\n<li><code>UserTransactionManager</code>: Set timeout to 10 seconds.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>UserTransactionImp userTransaction = new UserTransactionImp();\n\nuserTransaction.setTransactionTimeout(10);\n\n// ...\n\nUserTransactionManager transactionManager= new UserTransactionManager();\ntransactionManager.setTransactionTimeout(10); // may not be necessary as I do set this on the transaction\n\n// ...\n\nJtaTransactionManager jtaTransactionManager = new JtaTransactionManager(userTransaction,transactionManager);\n\n// ...\n\nTransactionTemplate templ = new TransactionTemplate(jtaTransactionManager, new DefaultTransaction());\n\ntempl.execute(callback -&gt; {\n  // code to update the DB\n})\n</code></pre>\n<p>How I am testing this:</p>\n<ol>\n<li>Locking a row via SQLDeveloper,</li>\n<li>Try to update the same row via the app,</li>\n<li>Keeps waiting for the lock,</li>\n<li>Times out eventually.</li>\n</ol>\n<p>I expected this to time out after 10 seconds based on the setting I have done above. However, it keeps on waiting for 300 seconds before it times out.</p>\n<p>Not sure where else I need to configure this.</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-starter-parent"],"comments":[{"owner":{"account_id":7339273,"reputation":323,"user_id":5589507,"display_name":"feltspar"},"score":0,"creation_date":1680112798,"post_id":75880523,"comment_id":133843856,"body_markdown":"This is all I have found so far. But does not seem to be exact match\nhttps://github.com/spring-projects/spring-framework/issues/29562","body":"This is all I have found so far. But does not seem to be exact match <a href=\"https://github.com/spring-projects/spring-framework/issues/29562\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/29562</a>"}],"answers":[{"comments":[{"owner":{"account_id":3155211,"reputation":79,"user_id":2667766,"display_name":"Eelco"},"score":0,"creation_date":1699866306,"post_id":75944302,"comment_id":136580108,"body_markdown":"I thinks this is a better solution: https://stackoverflow.com/questions/75452756/commonsmultipartfile-cannot-be-resolved-to-a-type","body":"I thinks this is a better solution: <a href=\"https://stackoverflow.com/questions/75452756/commonsmultipartfile-cannot-be-resolved-to-a-type\" title=\"commonsmultipartfile cannot be resolved to a type\">stackoverflow.com/questions/75452756/&hellip;</a>"}],"tags":[],"owner":{"account_id":7339273,"reputation":323,"user_id":5589507,"display_name":"feltspar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680732322,"creation_date":1680732322,"answer_id":75944302,"question_id":75880523,"body_markdown":"I was able to use the library mentioned here:  [github.com/spring-projects/spring-framework/issues/29562][1] \r\n\r\nHere is the equivalent code from the question: \r\n\r\npublic class MyMultipartResolver extends StandardServletMultipartResolver {\r\n\r\n\tprivate boolean resolveLazily = false;\r\n\tprivate String supportedMimeTypes;\r\n\r\n\t@Autowired\r\n\tprivate SessionService sessionService;\r\n\r\n\t@Autowired\r\n\tprivate UserFileUploadEventService userFileUploadEventService;\r\n\r\n\t@Value(&quot;${file.supportedMimeTypes}&quot;)\r\n\tpublic void setSupportedMimeTypes(String value) {\r\n\t\tsupportedMimeTypes = value;\r\n\t}\r\n\t\r\n\t@Value(&quot;${upload.document.max.file.size}&quot;)\r\n\tprivate int maxFileSize;\r\n\r\n\t@Value(&quot;${scep.executable.path}&quot;)\r\n\tprivate String scepExePath;\r\n\r\n\t@Value(&quot;${upload.document.directory}&quot;)\r\n\tprivate String uploadedDocumentPath;\r\n\r\n\tpublic TamsMultipartResolver() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setResolveLazily(boolean resolveLazily) {\r\n\t\tthis.resolveLazily = resolveLazily;\r\n\t}\r\n\r\n\t/*\r\n\t * (non-Javadoc)\r\n\t * @see org.springframework.web.multipart.commons.CommonsMultipartResolver#resolveMultipart(javax.servlet.http.HttpServletRequest)\r\n\t */\r\n\t@Override\r\n\tpublic MultipartHttpServletRequest resolveMultipart(final HttpServletRequest request) throws MultipartException {\r\n\t\tAssert.notNull(request, &quot;Request must not be null&quot;);\r\n\t\tif (this.resolveLazily) {\r\n\t\t\treturn new DefaultMultipartHttpServletRequest(request) {\r\n\t\t\t\t@Override\r\n\t\t\t\tprotected void initializeMultipart() {\r\n\t\t\t\t\tMultipartHttpServletRequest parsingResult = resolveMultipart(request);\r\n\r\n\t\t\t\t\tvalidateAttachment(Objects.requireNonNull(parsingResult.getFile(&quot;file&quot;)));\r\n\t\t\t\t\tsetMultipartFiles(parsingResult.getMultiFileMap());\r\n\t\t\t\t\tsetMultipartParameters(getSanitizedMultipartparameters(parsingResult.getParameterMap()));\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tMultipartHttpServletRequest parsingResult = resolveMultipart(request);\r\n\t\t\tvalidateAttachment(Objects.requireNonNull(parsingResult.getFile(&quot;file&quot;)));\r\n\r\n\t\t\t/*Map&lt;String, String&gt; newMap = parsingResult.getFileMap().entrySet()\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.collect(HashMap::new, (map, entry) -&gt; {\r\n\t\t\t\t\t\tmap.put(entry.getKey(), entry.getValue().getContentType());\r\n\t\t\t\t\t}, HashMap::putAll);*/\r\n\r\n\t\t\tMap&lt;String, String&gt; mpParamContentTypes = new HashMap&lt;&gt;();\r\n\t\t\tfor (Map.Entry&lt;String, MultipartFile&gt; entry : parsingResult.getFileMap().entrySet()) {\r\n\t\t\t\tString key = entry.getKey();\r\n\t\t\t\tMultipartFile value = entry.getValue();\r\n\t\t\t\tString contentType = value.getContentType();\r\n\t\t\t\tmpParamContentTypes.put(key, contentType);\r\n\t\t\t}\r\n\r\n\t\t\treturn new DefaultMultipartHttpServletRequest(request, parsingResult.getMultiFileMap(), getSanitizedMultipartparameters(parsingResult.getParameterMap()),\r\n\t\t\t\t\tmpParamContentTypes);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate Map&lt;String, String[]&gt; getSanitizedMultipartparameters(Map&lt;String, String[]&gt; mpParams) {\r\n\t\tif (mpParams != null) {\r\n\t\t\tHashMap&lt;String, String[]&gt; encodedParams = new HashMap&lt;String, String[]&gt;();\r\n\t\t\tfor (String key : mpParams.keySet()) {\r\n\t\t\t\tencodedParams.put(key, AntiSamyHelper.sanitizeXSS(mpParams.get(key)));\r\n\t\t\t}\r\n\t\t\treturn encodedParams;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic void validateAttachment(MultipartFile file) throws BadRequestException {\r\n\t\tfinal int fileSize = new Long(file.getSize()).intValue();\r\n\t\tfinal String simpleFileName = file.getOriginalFilename();\r\n\t\tif (simpleFileName.length() &gt; 0) {\r\n\t\t\tif (isFrequecyAttack()) {\r\n\t\t\t\tthrow new BadRequestException(RestConstants.FILE_UPLOAD_FREQUENCY_VIOLATION);\r\n\t\t\t}\r\n\t\t\tif (!isValidMimeType(file)) {\r\n\t\t\t\tthrow new BadRequestException(RestConstants.FILE_UPLOAD_INVALID_FILE_TYPE);\r\n\t\t\t}\r\n\t\t\tif (fileSize &gt; maxFileSize) {\r\n\t\t\t\tthrow new BadRequestException(RestConstants.FILE_UPLOAD_INVALID_FILE_SIZE);\r\n\t\t\t}\r\n\t\t\tif (containsThreat(file)) {\r\n\t\t\t\tthrow new BadRequestException(RestConstants.FILE_UPLOAD_MALICIOUS_FILE_DETECTED);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthrow new BadRequestException(RestConstants.FILE_UPLOAD_INVALID_FILE_TYPE);\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://%20github.com/spring-projects/spring-framework/issues/29562","title":"What is the alternate to org.springframework.web.multipart.MultipartResolver;","body":"<p>I was able to use the library mentioned here:  <a href=\"https://%20github.com/spring-projects/spring-framework/issues/29562\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/29562</a></p>\n<p>Here is the equivalent code from the question:</p>\n<p>public class MyMultipartResolver extends StandardServletMultipartResolver {</p>\n<pre><code>private boolean resolveLazily = false;\nprivate String supportedMimeTypes;\n\n@Autowired\nprivate SessionService sessionService;\n\n@Autowired\nprivate UserFileUploadEventService userFileUploadEventService;\n\n@Value(&quot;${file.supportedMimeTypes}&quot;)\npublic void setSupportedMimeTypes(String value) {\n    supportedMimeTypes = value;\n}\n\n@Value(&quot;${upload.document.max.file.size}&quot;)\nprivate int maxFileSize;\n\n@Value(&quot;${scep.executable.path}&quot;)\nprivate String scepExePath;\n\n@Value(&quot;${upload.document.directory}&quot;)\nprivate String uploadedDocumentPath;\n\npublic TamsMultipartResolver() {\n    super();\n}\n\n@Override\npublic void setResolveLazily(boolean resolveLazily) {\n    this.resolveLazily = resolveLazily;\n}\n\n/*\n * (non-Javadoc)\n * @see org.springframework.web.multipart.commons.CommonsMultipartResolver#resolveMultipart(javax.servlet.http.HttpServletRequest)\n */\n@Override\npublic MultipartHttpServletRequest resolveMultipart(final HttpServletRequest request) throws MultipartException {\n    Assert.notNull(request, &quot;Request must not be null&quot;);\n    if (this.resolveLazily) {\n        return new DefaultMultipartHttpServletRequest(request) {\n            @Override\n            protected void initializeMultipart() {\n                MultipartHttpServletRequest parsingResult = resolveMultipart(request);\n\n                validateAttachment(Objects.requireNonNull(parsingResult.getFile(&quot;file&quot;)));\n                setMultipartFiles(parsingResult.getMultiFileMap());\n                setMultipartParameters(getSanitizedMultipartparameters(parsingResult.getParameterMap()));\n            }\n        };\n    } else {\n        MultipartHttpServletRequest parsingResult = resolveMultipart(request);\n        validateAttachment(Objects.requireNonNull(parsingResult.getFile(&quot;file&quot;)));\n\n        /*Map&lt;String, String&gt; newMap = parsingResult.getFileMap().entrySet()\n                .stream()\n                .collect(HashMap::new, (map, entry) -&gt; {\n                    map.put(entry.getKey(), entry.getValue().getContentType());\n                }, HashMap::putAll);*/\n\n        Map&lt;String, String&gt; mpParamContentTypes = new HashMap&lt;&gt;();\n        for (Map.Entry&lt;String, MultipartFile&gt; entry : parsingResult.getFileMap().entrySet()) {\n            String key = entry.getKey();\n            MultipartFile value = entry.getValue();\n            String contentType = value.getContentType();\n            mpParamContentTypes.put(key, contentType);\n        }\n\n        return new DefaultMultipartHttpServletRequest(request, parsingResult.getMultiFileMap(), getSanitizedMultipartparameters(parsingResult.getParameterMap()),\n                mpParamContentTypes);\n    }\n}\n\nprivate Map&lt;String, String[]&gt; getSanitizedMultipartparameters(Map&lt;String, String[]&gt; mpParams) {\n    if (mpParams != null) {\n        HashMap&lt;String, String[]&gt; encodedParams = new HashMap&lt;String, String[]&gt;();\n        for (String key : mpParams.keySet()) {\n            encodedParams.put(key, AntiSamyHelper.sanitizeXSS(mpParams.get(key)));\n        }\n        return encodedParams;\n    }\n    return null;\n}\n\npublic void validateAttachment(MultipartFile file) throws BadRequestException {\n    final int fileSize = new Long(file.getSize()).intValue();\n    final String simpleFileName = file.getOriginalFilename();\n    if (simpleFileName.length() &gt; 0) {\n        if (isFrequecyAttack()) {\n            throw new BadRequestException(RestConstants.FILE_UPLOAD_FREQUENCY_VIOLATION);\n        }\n        if (!isValidMimeType(file)) {\n            throw new BadRequestException(RestConstants.FILE_UPLOAD_INVALID_FILE_TYPE);\n        }\n        if (fileSize &gt; maxFileSize) {\n            throw new BadRequestException(RestConstants.FILE_UPLOAD_INVALID_FILE_SIZE);\n        }\n        if (containsThreat(file)) {\n            throw new BadRequestException(RestConstants.FILE_UPLOAD_MALICIOUS_FILE_DETECTED);\n        }\n    } else {\n        throw new BadRequestException(RestConstants.FILE_UPLOAD_INVALID_FILE_TYPE);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7339273,"reputation":323,"user_id":5589507,"display_name":"feltspar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75944302,"answer_count":1,"score":1,"last_activity_date":1680732322,"creation_date":1680111958,"question_id":75880523,"body_markdown":"I am upgrading `spring-boot-starter-parent` from version `2.5.3` to `3.0.0`\r\n\r\nI was using the `org.springframework.web.multipart.commons.CommonsMultipartResolver;` (extending it) for my file upload needs \r\n\r\n - setting sizes of max uploads.\r\n - Getting file params\r\n - validating attachments etc\r\n\r\n \r\nHowever in the new version `CommonsMultipartResolver` is no longer supported. \r\nI need help to figure out what I can use as an alternate. \r\n\r\nExample of code: \r\n\r\n    public class MyMultipartResolver extends CommonsMultipartResolver {\r\n    \r\n    \tprivate boolean resolveLazily = false;\r\n    \tprivate String supportedMimeTypes;\r\n    \r\n    \t@Autowired\r\n    \tprivate SessionService sessionService;\r\n    \r\n    \t@Autowired\r\n    \tprivate UserFileUploadEventService userFileUploadEventService;\r\n    \r\n    \t@Value(&quot;${file.supportedMimeTypes}&quot;)\r\n    \tpublic void setSupportedMimeTypes(String value) {\r\n    \t\tsupportedMimeTypes = value;\r\n    \t}\r\n    \t\r\n    \t@Value(&quot;${upload.document.max.file.size}&quot;)\r\n    \tprivate int maxFileSize;\r\n    \r\n    \t@Value(&quot;${scep.executable.path}&quot;)\r\n    \tprivate String scepExePath;\r\n    \r\n    \t@Value(&quot;${upload.document.directory}&quot;)\r\n    \tprivate String uploadedDocumentPath;\r\n    \r\n    \tpublic TamsMultipartResolver() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void setResolveLazily(boolean resolveLazily) {\r\n    \t\tthis.resolveLazily = resolveLazily;\r\n    \t}\r\n    \r\n    \t\r\n    \t@Override\r\n    \tpublic MultipartHttpServletRequest resolveMultipart(final HttpServletRequest request) throws MultipartException {\r\n    \t\tAssert.notNull(request, &quot;Request must not be null&quot;);\r\n    \t\tif (this.resolveLazily) {\r\n    \t\t\treturn new DefaultMultipartHttpServletRequest(request) {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tprotected void initializeMultipart() {\r\n    \t\t\t\t\tMultipartParsingResult parsingResult = parseRequest(request);\r\n    \t\t\t\t\tvalidateAttachment(parsingResult.getMultipartFiles().getFirst(&quot;file&quot;));\r\n    \t\t\t\t\tsetMultipartFiles(parsingResult.getMultipartFiles());\r\n    \t\t\t\t\tsetMultipartParameters(getSanitizedMultipartparameters(parsingResult));\r\n    \t\t\t\t}\r\n    \t\t\t};\r\n    \t\t} else {\r\n    \t\t\tMultipartParsingResult parsingResult = parseRequest(request);\r\n    \t\t\tvalidateAttachment(parsingResult.getMultipartFiles().getFirst(&quot;file&quot;));\r\n    \t\t\treturn new DefaultMultipartHttpServletRequest(request, parsingResult.getMultipartFiles(), getSanitizedMultipartparameters(parsingResult),\r\n    \t\t\t\t\tparsingResult.getMultipartParameterContentTypes());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate Map&lt;String, String[]&gt; getSanitizedMultipartparameters(MultipartParsingResult parsingResult) {\r\n    \t\tMap&lt;String, String[]&gt; mpParams = parsingResult.getMultipartParameters();\r\n    \t\tif (mpParams != null) {\r\n    \t\t\tHashMap&lt;String, String[]&gt; encodedParams = new HashMap&lt;String, String[]&gt;();\r\n    \t\t\tfor (String key : mpParams.keySet()) {\r\n    \t\t\t\tencodedParams.put(key, AntiSamyHelper.sanitizeXSS(mpParams.get(key)));\r\n    \t\t\t}\r\n    \t\t\treturn encodedParams;\r\n    \t\t}\r\n    \t\treturn mpParams;\r\n    \t}\r\n    \r\n    \tpublic void validateAttachment(MultipartFile file) throws BadRequestException {\r\n    \t\tfinal int fileSize = new Long(file.getSize()).intValue();\r\n    \t\tfinal String simpleFileName = file.getOriginalFilename();\r\n    \t\tif (simpleFileName.length() &gt; 0) {\r\n    \t\t\tif (isFrequecyAttack()) {\r\n    \t\t\t\tthrow new BadRequestException(RestConstants.FILE_UPLOAD_FREQUENCY_VIOLATION);\r\n    \t\t\t}\r\n    \t\t\tif (!isValidMimeType(file)) {\r\n    \t\t\t\tthrow new BadRequestException(RestConstants.FILE_UPLOAD_INVALID_FILE_TYPE);\r\n    \t\t\t}\r\n    \t\t\tif (fileSize &gt; maxFileSize) {\r\n    \t\t\t\tthrow new BadRequestException(RestConstants.FILE_UPLOAD_INVALID_FILE_SIZE);\r\n    \t\t\t}\r\n    \t\t\tif (containsThreat(file)) {\r\n    \t\t\t\tthrow new BadRequestException(RestConstants.FILE_UPLOAD_MALICIOUS_FILE_DETECTED);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tthrow new BadRequestException(RestConstants.FILE_UPLOAD_INVALID_FILE_TYPE);\r\n    \t\t}\r\n    \t}","title":"What is the alternate to org.springframework.web.multipart.MultipartResolver;","body":"<p>I am upgrading <code>spring-boot-starter-parent</code> from version <code>2.5.3</code> to <code>3.0.0</code></p>\n<p>I was using the <code>org.springframework.web.multipart.commons.CommonsMultipartResolver;</code> (extending it) for my file upload needs</p>\n<ul>\n<li>setting sizes of max uploads.</li>\n<li>Getting file params</li>\n<li>validating attachments etc</li>\n</ul>\n<p>However in the new version <code>CommonsMultipartResolver</code> is no longer supported.\nI need help to figure out what I can use as an alternate.</p>\n<p>Example of code:</p>\n<pre><code>public class MyMultipartResolver extends CommonsMultipartResolver {\n\n    private boolean resolveLazily = false;\n    private String supportedMimeTypes;\n\n    @Autowired\n    private SessionService sessionService;\n\n    @Autowired\n    private UserFileUploadEventService userFileUploadEventService;\n\n    @Value(&quot;${file.supportedMimeTypes}&quot;)\n    public void setSupportedMimeTypes(String value) {\n        supportedMimeTypes = value;\n    }\n    \n    @Value(&quot;${upload.document.max.file.size}&quot;)\n    private int maxFileSize;\n\n    @Value(&quot;${scep.executable.path}&quot;)\n    private String scepExePath;\n\n    @Value(&quot;${upload.document.directory}&quot;)\n    private String uploadedDocumentPath;\n\n    public TamsMultipartResolver() {\n        super();\n    }\n\n    @Override\n    public void setResolveLazily(boolean resolveLazily) {\n        this.resolveLazily = resolveLazily;\n    }\n\n    \n    @Override\n    public MultipartHttpServletRequest resolveMultipart(final HttpServletRequest request) throws MultipartException {\n        Assert.notNull(request, &quot;Request must not be null&quot;);\n        if (this.resolveLazily) {\n            return new DefaultMultipartHttpServletRequest(request) {\n                @Override\n                protected void initializeMultipart() {\n                    MultipartParsingResult parsingResult = parseRequest(request);\n                    validateAttachment(parsingResult.getMultipartFiles().getFirst(&quot;file&quot;));\n                    setMultipartFiles(parsingResult.getMultipartFiles());\n                    setMultipartParameters(getSanitizedMultipartparameters(parsingResult));\n                }\n            };\n        } else {\n            MultipartParsingResult parsingResult = parseRequest(request);\n            validateAttachment(parsingResult.getMultipartFiles().getFirst(&quot;file&quot;));\n            return new DefaultMultipartHttpServletRequest(request, parsingResult.getMultipartFiles(), getSanitizedMultipartparameters(parsingResult),\n                    parsingResult.getMultipartParameterContentTypes());\n        }\n    }\n\n    private Map&lt;String, String[]&gt; getSanitizedMultipartparameters(MultipartParsingResult parsingResult) {\n        Map&lt;String, String[]&gt; mpParams = parsingResult.getMultipartParameters();\n        if (mpParams != null) {\n            HashMap&lt;String, String[]&gt; encodedParams = new HashMap&lt;String, String[]&gt;();\n            for (String key : mpParams.keySet()) {\n                encodedParams.put(key, AntiSamyHelper.sanitizeXSS(mpParams.get(key)));\n            }\n            return encodedParams;\n        }\n        return mpParams;\n    }\n\n    public void validateAttachment(MultipartFile file) throws BadRequestException {\n        final int fileSize = new Long(file.getSize()).intValue();\n        final String simpleFileName = file.getOriginalFilename();\n        if (simpleFileName.length() &gt; 0) {\n            if (isFrequecyAttack()) {\n                throw new BadRequestException(RestConstants.FILE_UPLOAD_FREQUENCY_VIOLATION);\n            }\n            if (!isValidMimeType(file)) {\n                throw new BadRequestException(RestConstants.FILE_UPLOAD_INVALID_FILE_TYPE);\n            }\n            if (fileSize &gt; maxFileSize) {\n                throw new BadRequestException(RestConstants.FILE_UPLOAD_INVALID_FILE_SIZE);\n            }\n            if (containsThreat(file)) {\n                throw new BadRequestException(RestConstants.FILE_UPLOAD_MALICIOUS_FILE_DETECTED);\n            }\n        } else {\n            throw new BadRequestException(RestConstants.FILE_UPLOAD_INVALID_FILE_TYPE);\n        }\n    }\n</code></pre>\n"},{"tags":["java","reactjs","json","mongodb","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1680645214,"post_id":75933719,"comment_id":133932903,"body_markdown":"If `posts` is a truthy string, `posts?.map(...)` will throw `posts?.map is not a function`.","body":"If <code>posts</code> is a truthy string, <code>posts?.map(...)</code> will throw <code>posts?.map is not a function</code>."},{"owner":{"account_id":25435045,"reputation":64,"user_id":19238892,"display_name":"Youssef_Ayman168"},"score":0,"creation_date":1680646244,"post_id":75933719,"comment_id":133933105,"body_markdown":"no, it will not! because it&#39;s like telling js okay if I have posts and this posts contains a map then do this...but it it&#39;s not, ignore it and don&#39;t throw an error","body":"no, it will not! because it&#39;s like telling js okay if I have posts and this posts contains a map then do this...but it it&#39;s not, ignore it and don&#39;t throw an error"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1680730269,"post_id":75933719,"comment_id":133949888,"body_markdown":"Er, yes, it will throw that error, because I tested it in my browser console and it did throw that error. Try it for yourself if you don&#39;t believe me. `posts?.map(...)` is checking whether `posts` is falsy before attempting to call `.map` on it, it is not checking whether `posts.map` is undefined (and hence falsy). Perhaps you meant something like `posts &amp;&amp; posts.map &amp;&amp; posts.map(...)`, which does make this check?","body":"Er, yes, it will throw that error, because I tested it in my browser console and it did throw that error. Try it for yourself if you don&#39;t believe me. <code>posts?.map(...)</code> is checking whether <code>posts</code> is falsy before attempting to call <code>.map</code> on it, it is not checking whether <code>posts.map</code> is undefined (and hence falsy). Perhaps you meant something like <code>posts &amp;&amp; posts.map &amp;&amp; posts.map(...)</code>, which does make this check?"},{"owner":{"account_id":25435045,"reputation":64,"user_id":19238892,"display_name":"Youssef_Ayman168"},"score":0,"creation_date":1680733354,"post_id":75933719,"comment_id":133950359,"body_markdown":"yes, and also to avoid this long statement make the initial state an empty array.","body":"yes, and also to avoid this long statement make the initial state an empty array."}],"tags":[],"owner":{"account_id":25435045,"reputation":64,"user_id":19238892,"display_name":"Youssef_Ayman168"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680641172,"creation_date":1680641172,"answer_id":75933719,"question_id":75933599,"body_markdown":"Because your code is async and not immediately fetched and might take time, until the data is fetched your data is undefined, and the posts are empty string until the data is fetched, then it&#39;ll update to be replaced with data\r\n\r\ntherefore this error was thrown to your console, because the String instance has no method named &quot;map&quot;\r\n\r\nso to solve this problem you have to solutions.\r\n\r\nthe first one is to add the ternary operator (?) after the word posts, to be like that **posts?.map()** this will make the code only work if the data exists and it has a map method (in other words, if the data is an array)\r\n\r\nor the second solution is defining the initial state value an empty array","title":"posts.map is not a function React Spring Boot WebSocket","body":"<p>Because your code is async and not immediately fetched and might take time, until the data is fetched your data is undefined, and the posts are empty string until the data is fetched, then it'll update to be replaced with data</p>\n<p>therefore this error was thrown to your console, because the String instance has no method named &quot;map&quot;</p>\n<p>so to solve this problem you have to solutions.</p>\n<p>the first one is to add the ternary operator (?) after the word posts, to be like that <strong>posts?.map()</strong> this will make the code only work if the data exists and it has a map method (in other words, if the data is an array)</p>\n<p>or the second solution is defining the initial state value an empty array</p>\n"},{"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1680645309,"post_id":75933796,"comment_id":133932923,"body_markdown":"If `posts` is a truthy string, `posts?.map(...)` will throw `posts?.map is not a function`.","body":"If <code>posts</code> is a truthy string, <code>posts?.map(...)</code> will throw <code>posts?.map is not a function</code>."}],"tags":[],"owner":{"account_id":21080587,"reputation":50,"user_id":15495013,"display_name":"Taki Kauser"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680641887,"creation_date":1680641887,"answer_id":75933796,"question_id":75933599,"body_markdown":"First make initial state an empty array like this piece of code:\r\n\r\n    const [posts, setPosts]: any = useState([]);\r\n\r\nAnd then, use ternary operator while using map function, like:\r\n\r\n    posts &amp;&amp; posts?.map(() =&gt; {})","title":"posts.map is not a function React Spring Boot WebSocket","body":"<p>First make initial state an empty array like this piece of code:</p>\n<pre><code>const [posts, setPosts]: any = useState([]);\n</code></pre>\n<p>And then, use ternary operator while using map function, like:</p>\n<pre><code>posts &amp;&amp; posts?.map(() =&gt; {})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"score":0,"creation_date":1680722145,"post_id":75934113,"comment_id":133948210,"body_markdown":"I solved my problem in the same way as you said, I parsed the string that I receive from the server into js objects using: JSON.parse (greeting.body), thank you!","body":"I solved my problem in the same way as you said, I parsed the string that I receive from the server into js objects using: JSON.parse (greeting.body), thank you!"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1680732152,"post_id":75934113,"comment_id":133950181,"body_markdown":"@panic08: glad you&#39;ve been able to solve your problem. Apologies if the language of my answer was perhaps a bit too critical; I&#39;ve revised it and toned it down a bit. It seems I was wrong to assume that Axios was returning parsed JS objects to you. I would have expected that it would do this for you, I&#39;m not sure why it hasn&#39;t.","body":"@panic08: glad you&#39;ve been able to solve your problem. Apologies if the language of my answer was perhaps a bit too critical; I&#39;ve revised it and toned it down a bit. It seems I was wrong to assume that Axios was returning parsed JS objects to you. I would have expected that it would do this for you, I&#39;m not sure why it hasn&#39;t."}],"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680731968,"creation_date":1680645106,"answer_id":75934113,"question_id":75933599,"body_markdown":"The other answers have picked up on the fact that you need `posts` to be initialised to be an array when you declare it using the `useState` hook in the following line:\r\n\r\n```js\r\n  const [posts, setPosts]: any = useState([])       // [], not &quot;&quot;\r\n```\r\n\r\nbut they seem to have missed the problem in this piece of code:\r\n\r\n```js\r\n                  console.log(greeting.body)\r\n                  const tempParsedJson = JSON.stringify(greeting.body)\r\n                  console.log(tempParsedJson)\r\n                  setPosts(tempParsedJson)\r\n```\r\n`greeting.body` looked good to me: according to your first `console.log` output, it looked to be an array containing some objects, and you could certainly `.map` over that if that were the case. However, on further inspection, if it actually were parsed JSON data, your browser would display that differently. In particular, you&#39;d be able to expand parts of the JSON data.\r\n\r\nHowever, in the line below that, you&#39;re not helping yourself.\r\n\r\nYou take the data you have in `greeting.body`, and then you stringify it. You then name your variable to give yourself the impression you&#39;ve &#39;parsed&#39; JSON, which is unhelpful. You haven&#39;t parsed JSON here, in fact, you&#39;ve done the opposite. Parsing is the process of converting a string of JSON into JavaScript objects and arrays, stringifying is converting the other way.\r\n\r\nTherefore, the fix is not to call `JSON.stringify` on `greeting.body`, but to call `JSON.parse` on it instead.\r\n\r\nYour Java back-end may have send JSON over the network to your front-end. I would expect that Axios would have parsed this JSON into JavaScript objects for you, so you can start using them straight away, but for reasons I&#39;m unsure about, this seems not to be the case.\r\n\r\nNote that I don&#39;t have your back-end and haven&#39;t run this code, so there could be other problems. I am only explaining how to fix the &quot;posts.map is not a function&quot; error.","title":"posts.map is not a function React Spring Boot WebSocket","body":"<p>The other answers have picked up on the fact that you need <code>posts</code> to be initialised to be an array when you declare it using the <code>useState</code> hook in the following line:</p>\n<pre class=\"lang-js prettyprint-override\"><code>  const [posts, setPosts]: any = useState([])       // [], not &quot;&quot;\n</code></pre>\n<p>but they seem to have missed the problem in this piece of code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>                  console.log(greeting.body)\n                  const tempParsedJson = JSON.stringify(greeting.body)\n                  console.log(tempParsedJson)\n                  setPosts(tempParsedJson)\n</code></pre>\n<p><code>greeting.body</code> looked good to me: according to your first <code>console.log</code> output, it looked to be an array containing some objects, and you could certainly <code>.map</code> over that if that were the case. However, on further inspection, if it actually were parsed JSON data, your browser would display that differently. In particular, you'd be able to expand parts of the JSON data.</p>\n<p>However, in the line below that, you're not helping yourself.</p>\n<p>You take the data you have in <code>greeting.body</code>, and then you stringify it. You then name your variable to give yourself the impression you've 'parsed' JSON, which is unhelpful. You haven't parsed JSON here, in fact, you've done the opposite. Parsing is the process of converting a string of JSON into JavaScript objects and arrays, stringifying is converting the other way.</p>\n<p>Therefore, the fix is not to call <code>JSON.stringify</code> on <code>greeting.body</code>, but to call <code>JSON.parse</code> on it instead.</p>\n<p>Your Java back-end may have send JSON over the network to your front-end. I would expect that Axios would have parsed this JSON into JavaScript objects for you, so you can start using them straight away, but for reasons I'm unsure about, this seems not to be the case.</p>\n<p>Note that I don't have your back-end and haven't run this code, so there could be other problems. I am only explaining how to fix the &quot;posts.map is not a function&quot; error.</p>\n"}],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75934113,"answer_count":3,"score":0,"last_activity_date":1680731968,"creation_date":1680640214,"question_id":75933599,"body_markdown":"in general, I have a problem. I want to send a message to an endpoint, in which to send all messages from the database to the web socket topic so that the client can receive them all. Here is my method for sending a message (I use MONGODB):\r\n```\r\n@PostMapping(&quot;/send&quot;)\r\n    public void sendMessage(@RequestBody Message message){\r\n        mongoTemplate.insert(message);\r\n\r\n    simpMessagingTemplate.convertAndSend(&quot;/topic/greetings&quot;, mongoTemplate.query(Message.class).as(Message.class).all());\r\n    }\r\n```\r\nIn general, nothing out of the ordinary, There are no problems with this, everything goes to the topic, everything is cool. Now all this needs to be caught on the client, for this I wrote the following code:\r\n```\r\nvar stompClient: any = null;\r\nconst SockJS = require(&#39;sockjs-client&#39;)\r\nconst Stomp = require(&#39;stompjs&#39;)\r\nfunction App() {\r\n  const [posts, setPosts]: any = useState(&quot;&quot;)\r\n  const [handleInput, setHandleInput] = useState(&quot;&quot;)\r\n\r\n\r\n  function setValueInput(e: any){\r\n    setHandleInput(e.target.value);\r\n  }\r\n  function sendMessage(e: any){\r\n    e.preventDefault();\r\n    axios.post(&#39;http://localhost:8080/api/send&#39;, {\r\n      id: Date.now(),\r\n      text: handleInput,\r\n    })\r\n        .then(function (response) {\r\n          setHandleInput(&quot;&quot;);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n  }\r\n  useEffect(function (){\r\n      let Sock = new SockJS(&#39;http://localhost:8080/ws&#39;)\r\n\r\n      stompClient= Stomp.over(Sock)\r\n\r\n      stompClient.debug = null\r\n\r\n      setTimeout(function() {\r\n          stompClient.connect({},function (frame: any){\r\n\r\n\r\n              console.log(`Connected: ${frame}`)\r\n\r\n\r\n              stompClient.subscribe(&quot;/topic/greetings&quot;, function (greeting: any) {\r\n                  console.log(greeting.body)\r\n                  const tempParsedJson = JSON.stringify(greeting.body)\r\n                  console.log(tempParsedJson)\r\n                  setPosts(tempParsedJson)\r\n              });\r\n\r\n          }, 1200)})\r\n  }, [])\r\n\r\n  return (\r\n    &lt;div className=&quot;App&quot;&gt;\r\n        {posts &amp;&amp; posts.map((data: any) =&gt; (\r\n    &lt;Form key={data.id} {...data}/&gt;\r\n            ))}\r\n      &lt;div className={style.dop}&gt;\r\n        &lt;input onChange={setValueInput} value={handleInput} className={style.input}/&gt;\r\n        &lt;a onClick={sendMessage} className={style.button}&gt;Submit&lt;/a&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  );\r\n}\r\n\r\nexport default App;\r\n```\r\nIn short, we successfully subscribe to the topic, everything is fine again, but until I need to get the objects. In the console I see this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GyKJu.png\r\nThe first is what I get from Java, the second is what I&#39;m trying to translate into JSON. After sending messages, according to my code, we see that I am trying to display this data separately in each element, but when I try I get an error: \r\n\r\n**ERROR\r\nposts.map is not a function**\r\n\r\nI hope you can help, I don&#39;t know what to do. By the way, I tried to translate List in Java through gson to json, but the same error is displayed ..\r\nHelp please..\r\nMy Form:\r\n```\r\nconst Form: React.FC&lt;Props&gt; = ({id, text}) =&gt; {\r\n    function handleDelete(e: any) {\r\n        e.preventDefault();\r\n        axios.post(&#39;http://localhost:8080/api/deleteMessage&#39;, {\r\n            id: id,\r\n            text: text,\r\n        })\r\n            .then(function (response) {\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    }\r\n    return (\r\n        &lt;div&gt;\r\n            &lt;div className={style.wrapper}&gt;\r\n                &lt;div className={style.coontainer}&gt;\r\n                    &lt;div className={style.form}&gt;\r\n                        &lt;p&gt;{text}&lt;/p&gt;\r\n                        &lt;a onClick={handleDelete} style={{display: &quot;inline&quot;, margin: &quot;0 20px&quot;, color: &quot;white&quot;, cursor: &quot;pointer&quot;}}&gt;Удалить&lt;/a&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    );\r\n};\r\n\r\nexport default Form;\r\n```","title":"posts.map is not a function React Spring Boot WebSocket","body":"<p>in general, I have a problem. I want to send a message to an endpoint, in which to send all messages from the database to the web socket topic so that the client can receive them all. Here is my method for sending a message (I use MONGODB):</p>\n<pre><code>@PostMapping(&quot;/send&quot;)\n    public void sendMessage(@RequestBody Message message){\n        mongoTemplate.insert(message);\n\n    simpMessagingTemplate.convertAndSend(&quot;/topic/greetings&quot;, mongoTemplate.query(Message.class).as(Message.class).all());\n    }\n</code></pre>\n<p>In general, nothing out of the ordinary, There are no problems with this, everything goes to the topic, everything is cool. Now all this needs to be caught on the client, for this I wrote the following code:</p>\n<pre><code>var stompClient: any = null;\nconst SockJS = require('sockjs-client')\nconst Stomp = require('stompjs')\nfunction App() {\n  const [posts, setPosts]: any = useState(&quot;&quot;)\n  const [handleInput, setHandleInput] = useState(&quot;&quot;)\n\n\n  function setValueInput(e: any){\n    setHandleInput(e.target.value);\n  }\n  function sendMessage(e: any){\n    e.preventDefault();\n    axios.post('http://localhost:8080/api/send', {\n      id: Date.now(),\n      text: handleInput,\n    })\n        .then(function (response) {\n          setHandleInput(&quot;&quot;);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n  }\n  useEffect(function (){\n      let Sock = new SockJS('http://localhost:8080/ws')\n\n      stompClient= Stomp.over(Sock)\n\n      stompClient.debug = null\n\n      setTimeout(function() {\n          stompClient.connect({},function (frame: any){\n\n\n              console.log(`Connected: ${frame}`)\n\n\n              stompClient.subscribe(&quot;/topic/greetings&quot;, function (greeting: any) {\n                  console.log(greeting.body)\n                  const tempParsedJson = JSON.stringify(greeting.body)\n                  console.log(tempParsedJson)\n                  setPosts(tempParsedJson)\n              });\n\n          }, 1200)})\n  }, [])\n\n  return (\n    &lt;div className=&quot;App&quot;&gt;\n        {posts &amp;&amp; posts.map((data: any) =&gt; (\n    &lt;Form key={data.id} {...data}/&gt;\n            ))}\n      &lt;div className={style.dop}&gt;\n        &lt;input onChange={setValueInput} value={handleInput} className={style.input}/&gt;\n        &lt;a onClick={sendMessage} className={style.button}&gt;Submit&lt;/a&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n\nexport default App;\n</code></pre>\n<p>In short, we successfully subscribe to the topic, everything is fine again, but until I need to get the objects. In the console I see this:</p>\n<p><a href=\"https://i.stack.imgur.com/GyKJu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GyKJu.png\" alt=\"enter image description here\" /></a></p>\n<p>The first is what I get from Java, the second is what I'm trying to translate into JSON. After sending messages, according to my code, we see that I am trying to display this data separately in each element, but when I try I get an error:</p>\n<p><strong>ERROR\nposts.map is not a function</strong></p>\n<p>I hope you can help, I don't know what to do. By the way, I tried to translate List in Java through gson to json, but the same error is displayed ..\nHelp please..\nMy Form:</p>\n<pre><code>const Form: React.FC&lt;Props&gt; = ({id, text}) =&gt; {\n    function handleDelete(e: any) {\n        e.preventDefault();\n        axios.post('http://localhost:8080/api/deleteMessage', {\n            id: id,\n            text: text,\n        })\n            .then(function (response) {\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n    }\n    return (\n        &lt;div&gt;\n            &lt;div className={style.wrapper}&gt;\n                &lt;div className={style.coontainer}&gt;\n                    &lt;div className={style.form}&gt;\n                        &lt;p&gt;{text}&lt;/p&gt;\n                        &lt;a onClick={handleDelete} style={{display: &quot;inline&quot;, margin: &quot;0 20px&quot;, color: &quot;white&quot;, cursor: &quot;pointer&quot;}}&gt;Удалить&lt;/a&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    );\n};\n\nexport default Form;\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"answers":[{"comments":[{"owner":{"account_id":10013318,"reputation":1021,"user_id":7405507,"display_name":"Igor"},"score":0,"creation_date":1528398991,"post_id":50748584,"comment_id":88504817,"body_markdown":"Updated my question. I want to disable Java linting, yes. I know that I can disable the extension pack completely but would prefer a more elegant solution if possible.","body":"Updated my question. I want to disable Java linting, yes. I know that I can disable the extension pack completely but would prefer a more elegant solution if possible."},{"owner":{"account_id":11286859,"reputation":72,"user_id":8277481,"display_name":"Shadow OverLoad"},"score":0,"creation_date":1528403191,"post_id":50748584,"comment_id":88506928,"body_markdown":"You can go to settings and search for &quot;lint&quot;, you should be able to disable it from there, specific for a language you choose","body":"You can go to settings and search for &quot;lint&quot;, you should be able to disable it from there, specific for a language you choose"},{"owner":{"account_id":10013318,"reputation":1021,"user_id":7405507,"display_name":"Igor"},"score":4,"creation_date":1528403311,"post_id":50748584,"comment_id":88506995,"body_markdown":"As already mentioned in my question, I did that but there seem to be `lint` settings for all the other languages (HTML, CSS, PHP, Ruby, Python) *except* Java.","body":"As already mentioned in my question, I did that but there seem to be <code>lint</code> settings for all the other languages (HTML, CSS, PHP, Ruby, Python) <i>except</i> Java."},{"owner":{"account_id":2075379,"reputation":65,"user_id":1848888,"display_name":"Binay Budhathoki"},"score":0,"creation_date":1641451265,"post_id":50748584,"comment_id":124809061,"body_markdown":"This problem was so annoying, I disabled the Language Support for Java(TM) by Red Hat Extension, this was the part of Extension Pack for Java. If incase any one is still looking into this.","body":"This problem was so annoying, I disabled the Language Support for Java(TM) by Red Hat Extension, this was the part of Extension Pack for Java. If incase any one is still looking into this."}],"tags":[],"owner":{"account_id":11286859,"reputation":72,"user_id":8277481,"display_name":"Shadow OverLoad"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528398540,"creation_date":1528398540,"answer_id":50748584,"question_id":50746201,"body_markdown":"Your question was not clear so I will write about two possible issues you might be experiencing.\r\n\r\n1: \r\n\r\nYou have Java Extension Pack installed and want to disable it&#39;s linting.\r\nGo to the extension page, find your extension and click disable / remove extension. If you&#39;ve disabled the extension you can restart it at anytime.\r\n\r\n2:\r\n\r\nYou have Java Extension Pack installed that has Java linting in it but you can not see it, instead it is marking your Java files as other languages. You are now seeing linting but not for your Java language extension.\r\nIf this is the case should see the name of the linted language in the bottom blue bar, on the right. click it and change it to Java. You should be good to go.","title":"VSCode: disable Java linting","body":"<p>Your question was not clear so I will write about two possible issues you might be experiencing.</p>\n\n<p>1: </p>\n\n<p>You have Java Extension Pack installed and want to disable it's linting.\nGo to the extension page, find your extension and click disable / remove extension. If you've disabled the extension you can restart it at anytime.</p>\n\n<p>2:</p>\n\n<p>You have Java Extension Pack installed that has Java linting in it but you can not see it, instead it is marking your Java files as other languages. You are now seeing linting but not for your Java language extension.\nIf this is the case should see the name of the linted language in the bottom blue bar, on the right. click it and change it to Java. You should be good to go.</p>\n"},{"tags":[],"owner":{"account_id":12786842,"reputation":1,"user_id":9252999,"display_name":"Juan David Vel&#225;squez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680731962,"creation_date":1680731962,"answer_id":75944271,"question_id":50746201,"body_markdown":" searching this you can disable it: @ext:redhat.java hint","title":"VSCode: disable Java linting","body":"<p>searching this you can disable it: @ext:redhat.java hint</p>\n"}],"owner":{"account_id":10013318,"reputation":1021,"user_id":7405507,"display_name":"Igor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5124,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1680731962,"creation_date":1528389203,"question_id":50746201,"body_markdown":"I have VSCode with Java Extension Pack installed.\r\n\r\nI want to temporarily disable linting/error highlighting in a single Java file. In user settings I only see linting-related settings for all the other languages (HTML, CSS, PHP, Ruby, Python) *except* Java.\r\n\r\nA workaround would be to disable Java Extension Pack completely and restart VSCode but I would like to find a more elegant solution if possible. Any ideas?","title":"VSCode: disable Java linting","body":"<p>I have VSCode with Java Extension Pack installed.</p>\n\n<p>I want to temporarily disable linting/error highlighting in a single Java file. In user settings I only see linting-related settings for all the other languages (HTML, CSS, PHP, Ruby, Python) <em>except</em> Java.</p>\n\n<p>A workaround would be to disable Java Extension Pack completely and restart VSCode but I would like to find a more elegant solution if possible. Any ideas?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":7101356,"reputation":1190,"user_id":5432763,"display_name":"Arpit Agrawal"},"score":0,"creation_date":1550082066,"post_id":54676857,"comment_id":96143100,"body_markdown":"Yes, i know. Poster has declared 2 controllers for the same route which has optional status request param and causing ambigious controller exception. Please read my solution carefully. I am suggesting to create a single controller to get request param which is optional. If status is not provided, call `findAll()` otherwise call `getTasksByStatus()`. I don&#39;t see any issue here. Can you please tell me what i have suggested wrongly?","body":"Yes, i know. Poster has declared 2 controllers for the same route which has optional status request param and causing ambigious controller exception. Please read my solution carefully. I am suggesting to create a single controller to get request param which is optional. If status is not provided, call <code>findAll()</code> otherwise call <code>getTasksByStatus()</code>. I don&#39;t see any issue here. Can you please tell me what i have suggested wrongly?"},{"owner":{"account_id":7101356,"reputation":1190,"user_id":5432763,"display_name":"Arpit Agrawal"},"score":0,"creation_date":1550082454,"post_id":54676857,"comment_id":96143307,"body_markdown":"Actually, it solves the issue because now their is only 1 controller for route `/tasks`. So i don&#39;t think there is any ambiguity in routing so solution should work. Why do you think, this is not the answer?","body":"Actually, it solves the issue because now their is only 1 controller for route <code>&#47;tasks</code>. So i don&#39;t think there is any ambiguity in routing so solution should work. Why do you think, this is not the answer?"},{"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"score":0,"creation_date":1550082569,"post_id":54676857,"comment_id":96143366,"body_markdown":"Ok, this will, you&#39;re right. I didn&#39;t see you collapsing those controllers into one, my mistake.","body":"Ok, this will, you&#39;re right. I didn&#39;t see you collapsing those controllers into one, my mistake."},{"owner":{"account_id":7101356,"reputation":1190,"user_id":5432763,"display_name":"Arpit Agrawal"},"score":1,"creation_date":1550082864,"post_id":54676857,"comment_id":96143501,"body_markdown":"@Andronicus your mistake cost me 2 downvotes for a working solution. Please be careful before actually putting a negative comment.","body":"@Andronicus your mistake cost me 2 downvotes for a working solution. Please be careful before actually putting a negative comment."},{"owner":{"account_id":12359469,"reputation":1567,"user_id":9014183,"accept_rate":100,"display_name":"Royce"},"score":0,"creation_date":1550083009,"post_id":54676857,"comment_id":96143559,"body_markdown":"@ArpitAgrawal indeed this solution seems to work. However, I don&#39;t know if it&#39;s me, but the null test is a bit dirty no? xD Spring don&#39;t have methods to do this properly (to test if I a parameter is present or not)?","body":"@ArpitAgrawal indeed this solution seems to work. However, I don&#39;t know if it&#39;s me, but the null test is a bit dirty no? xD Spring don&#39;t have methods to do this properly (to test if I a parameter is present or not)?"},{"owner":{"account_id":7101356,"reputation":1190,"user_id":5432763,"display_name":"Arpit Agrawal"},"score":0,"creation_date":1550083224,"post_id":54676857,"comment_id":96143652,"body_markdown":"@N.Lamblin I don&#39;t think anything can be done here because it&#39;s a request param. What spring does for you is set it to null since its optional. I personally don&#39;t think anything can be done here. But let&#39;s see if more experienced people from community have any views regarding this. If this works, can you please mark this as an answer?","body":"@N.Lamblin I don&#39;t think anything can be done here because it&#39;s a request param. What spring does for you is set it to null since its optional. I personally don&#39;t think anything can be done here. But let&#39;s see if more experienced people from community have any views regarding this. If this works, can you please mark this as an answer?"},{"owner":{"account_id":12359469,"reputation":1567,"user_id":9014183,"accept_rate":100,"display_name":"Royce"},"score":0,"creation_date":1550083455,"post_id":54676857,"comment_id":96143751,"body_markdown":"Yep i will mark it as answer, and post another question to know if spring own methods to test if a parameter exists or not. Thanks.","body":"Yep i will mark it as answer, and post another question to know if spring own methods to test if a parameter exists or not. Thanks."}],"tags":[],"owner":{"account_id":7101356,"reputation":1190,"user_id":5432763,"display_name":"Arpit Agrawal"},"comment_count":7,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1550082700,"creation_date":1550081729,"answer_id":54676857,"question_id":54676727,"body_markdown":"You can do something like this :\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/tasks&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @ExposesResourceFor(Task.class)\r\n    public class TaskRepresentation {\r\n\r\n        private final TaskResource taskResource;\r\n    \r\n        public TaskRepresentation(TaskResource taskResource) {\r\n            this.taskResource = taskResource;\r\n        }\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;?&gt; getTasksStatus(@RequestParam(value=&quot;status&quot;, required=false) Integer status) {\r\n            if(status==null){\r\n                return new ResponseEntity&lt;&gt;(this.taskResource.findAll(), HttpStatus.OK);\r\n            }\r\n            return new ResponseEntity&lt;&gt;(this.taskResource.getTasksByStatus(status.intValue()), HttpStatus.OK);\r\n        }\r\n    }","title":"@GetMapping, ambigious mapping","body":"<p>You can do something like this :</p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/tasks\", produces = MediaType.APPLICATION_JSON_VALUE)\n@ExposesResourceFor(Task.class)\npublic class TaskRepresentation {\n\n    private final TaskResource taskResource;\n\n    public TaskRepresentation(TaskResource taskResource) {\n        this.taskResource = taskResource;\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;?&gt; getTasksStatus(@RequestParam(value=\"status\", required=false) Integer status) {\n        if(status==null){\n            return new ResponseEntity&lt;&gt;(this.taskResource.findAll(), HttpStatus.OK);\n        }\n        return new ResponseEntity&lt;&gt;(this.taskResource.getTasksByStatus(status.intValue()), HttpStatus.OK);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680731579,"creation_date":1550089028,"answer_id":54678740,"question_id":54676727,"body_markdown":"Coming from the other answer, as this one&#39;s more specific.\r\nYou can narrow down your endpoint mapping by specifying the necessary query parameters.\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;?&gt; getAllTasks() {\r\n       return ResponseEntity.ok().body(this.taskResource.findAll());\r\n    }\r\n    \r\n    @GetMapping(params = &quot;status&quot;)\r\n    public ResponseEntity&lt;?&gt; getAllTasksWithStatus(@RequestParam(&quot;status&quot;) final int status) {\r\n       return ResponseEntity.ok().body(this.taskResource.getTasksByStatus(status));\r\n    }\r\n\r\nDocs [link][1].\r\n\r\nNote: as params is an array, you can specify multiple values with \r\n\r\n    @GetMapping(params = { &quot;status&quot;, &quot;date&quot; })\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#params--","title":"@GetMapping, ambigious mapping","body":"<p>Coming from the other answer, as this one's more specific.\nYou can narrow down your endpoint mapping by specifying the necessary query parameters.</p>\n<pre><code>@GetMapping\npublic ResponseEntity&lt;?&gt; getAllTasks() {\n   return ResponseEntity.ok().body(this.taskResource.findAll());\n}\n\n@GetMapping(params = &quot;status&quot;)\npublic ResponseEntity&lt;?&gt; getAllTasksWithStatus(@RequestParam(&quot;status&quot;) final int status) {\n   return ResponseEntity.ok().body(this.taskResource.getTasksByStatus(status));\n}\n</code></pre>\n<p>Docs <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestMapping.html#params--\" rel=\"nofollow noreferrer\">link</a>.</p>\n<p>Note: as params is an array, you can specify multiple values with</p>\n<pre><code>@GetMapping(params = { &quot;status&quot;, &quot;date&quot; })\n</code></pre>\n"}],"owner":{"account_id":12359469,"reputation":1567,"user_id":9014183,"accept_rate":100,"display_name":"Royce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54678740,"answer_count":2,"score":0,"last_activity_date":1680731579,"creation_date":1550081207,"question_id":54676727,"body_markdown":"I&#39;m trying to create several routes for `@GetMapping`. For example, `localhost:8080/tasks` and `localhost:8080/tasks/?status=...`\r\n\r\nSo I created several methods as below.\r\n\r\n**Controller**\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/tasks&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @ExposesResourceFor(Task.class)\r\n    public class TaskRepresentation {\r\n    \r\n        private final TaskResource taskResource;\r\n    \r\n        public TaskRepresentation(TaskResource taskResource) {\r\n            this.taskResource = taskResource;\r\n        }\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;?&gt; getAllTasks() {\r\n            return new ResponseEntity&lt;&gt;(this.taskResource.findAll(), HttpStatus.OK);\r\n        }\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;?&gt; getTasksStatus(@RequestParam(&quot;status&quot;) int status) {\r\n            return new ResponseEntity&lt;&gt;(this.taskResource.getTasksByStatus(status), HttpStatus.OK);\r\n        }\r\n    }\r\n\r\n**Resource**\r\n\r\n    @RepositoryRestResource(collectionResourceRel = &quot;task&quot;)\r\n    public interface TaskResource extends JpaRepository&lt;Task, String&gt; {\r\n    \r\n        @GetMapping\r\n        List&lt;Tache&gt; getTasksByStatus(@RequestParam int status);\r\n    \r\n    }\r\n\r\n**Error**\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;requestMappingHandlerMapping&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Ambiguous mapping. Cannot map &#39;taskRepresentation&#39; method \r\n    public org.springframework.http.ResponseEntity&lt;?&gt; org.miage.tache.boundary.TacheRepresentation.getTasksStatus(int)\r\n    to {GET /tasks, produces [application/json]}: There is already &#39;taskRepresentation&#39; bean method\r\n\r\n(The only solution is to create only one route for @GetMapping with optionnal params?)\r\n\r\nCan you help me ?\r\n\r\nThanks for help.","title":"@GetMapping, ambigious mapping","body":"<p>I'm trying to create several routes for <code>@GetMapping</code>. For example, <code>localhost:8080/tasks</code> and <code>localhost:8080/tasks/?status=...</code></p>\n\n<p>So I created several methods as below.</p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/tasks\", produces = MediaType.APPLICATION_JSON_VALUE)\n@ExposesResourceFor(Task.class)\npublic class TaskRepresentation {\n\n    private final TaskResource taskResource;\n\n    public TaskRepresentation(TaskResource taskResource) {\n        this.taskResource = taskResource;\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;?&gt; getAllTasks() {\n        return new ResponseEntity&lt;&gt;(this.taskResource.findAll(), HttpStatus.OK);\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;?&gt; getTasksStatus(@RequestParam(\"status\") int status) {\n        return new ResponseEntity&lt;&gt;(this.taskResource.getTasksByStatus(status), HttpStatus.OK);\n    }\n}\n</code></pre>\n\n<p><strong>Resource</strong></p>\n\n<pre><code>@RepositoryRestResource(collectionResourceRel = \"task\")\npublic interface TaskResource extends JpaRepository&lt;Task, String&gt; {\n\n    @GetMapping\n    List&lt;Tache&gt; getTasksByStatus(@RequestParam int status);\n\n}\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'taskRepresentation' method \npublic org.springframework.http.ResponseEntity&lt;?&gt; org.miage.tache.boundary.TacheRepresentation.getTasksStatus(int)\nto {GET /tasks, produces [application/json]}: There is already 'taskRepresentation' bean method\n</code></pre>\n\n<p>(The only solution is to create only one route for @GetMapping with optionnal params?)</p>\n\n<p>Can you help me ?</p>\n\n<p>Thanks for help.</p>\n"},{"tags":["java","spring","monitoring","recovery","atomikos"],"answers":[{"tags":[],"owner":{"account_id":38554,"reputation":484,"user_id":110737,"display_name":"Guy Pardon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480776467,"creation_date":1480776467,"answer_id":40949009,"question_id":40462108,"body_markdown":"(I am from Atomikos)\r\n\r\nMonitoring transaction recovery with built-in tools is something we reserve for our customers and we are working hard to support their needs in that. Please contact us via https://www.atomikos.com to find out more.\r\n\r\nThanks,\r\nGuy","title":"How to monitor atomikos transaction recovery process?","body":"<p>(I am from Atomikos)</p>\n\n<p>Monitoring transaction recovery with built-in tools is something we reserve for our customers and we are working hard to support their needs in that. Please contact us via <a href=\"https://www.atomikos.com\" rel=\"nofollow noreferrer\">https://www.atomikos.com</a> to find out more.</p>\n\n<p>Thanks,\nGuy</p>\n"},{"tags":[],"owner":{"account_id":6078955,"reputation":365,"user_id":4745335,"display_name":"kasopey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520621484,"creation_date":1520621484,"answer_id":49200328,"question_id":40462108,"body_markdown":"You can inspect your current Atomikos transactions via objects in:\r\n\r\n    JmxLogAdministrator.getInstance().getLogControl().getAdminTransactions();\r\n\r\nDetailed methods desctiption:\r\nhttps://www.atomikos.com/downloads/transactions-essentials/com/atomikos/AtomikosTransactionsEssentials/javadoc/3.7/com/atomikos/icatch/admin/AdminTransaction.html","title":"How to monitor atomikos transaction recovery process?","body":"<p>You can inspect your current Atomikos transactions via objects in:</p>\n\n<pre><code>JmxLogAdministrator.getInstance().getLogControl().getAdminTransactions();\n</code></pre>\n\n<p>Detailed methods desctiption:\n<a href=\"https://www.atomikos.com/downloads/transactions-essentials/com/atomikos/AtomikosTransactionsEssentials/javadoc/3.7/com/atomikos/icatch/admin/AdminTransaction.html\" rel=\"nofollow noreferrer\">https://www.atomikos.com/downloads/transactions-essentials/com/atomikos/AtomikosTransactionsEssentials/javadoc/3.7/com/atomikos/icatch/admin/AdminTransaction.html</a></p>\n"},{"tags":[],"owner":{"account_id":6509695,"reputation":6576,"user_id":5037430,"display_name":"u-ways"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680731482,"creation_date":1680731482,"answer_id":75944236,"question_id":40462108,"body_markdown":"This is possible with commercial Atomikos 5.x as it comes with a decent library called &quot;transactions-monitoring-logs&quot;. \r\n\r\nIt will pick up which (supported) logging library you use (e.g. Log4J) and every minute (by default) it will output system health statistics. Some of these monitoring logs are:\r\n * OLTP Monitoring\r\n * Connection Pool Monitoring\r\n * Recovery Monitoring\r\n * System Health Monitoring\r\n * Transaction Trace Monitoring\r\n\r\nHere is a log sample for System Health Monitoring:\r\n\r\n```log\r\n2023-04-05T21:57:24.477&lt;ins&gt;01:00 type=Statistics totalEventCountSinceLastPublish=0 percentCommitted=0.0 percentAborted=0.0 percentTimeout=0.0 percentExpiredInDoubt=0.0 percentHeuristic=0.0 commitsPerSecond=0.0 averageTransactionDurationMillis=0 maxTransactionDurationMillis=0 averageTimeoutDurationMillis=0 maxTimeoutDurationMillis=0 committedCount=0 abortedCount=0 timeoutCount=0 expiredInDoubtCount=0 heuristicCount=0\r\n```\r\n\r\nAnd here is another for Recovery Monitoring:\r\n\r\n```log\r\n2023-04-05T22:41:30.124&lt;/ins&gt;01:00 type=RecoveryFailedEvent uniqueResourceName=xa-data-source\r\n```\r\n\r\nYou can modify the log level (and format) if required using:\r\n\r\n\r\n|Property name|Meaning| Since |\r\n|---|---|---|\r\n|com.atomikos.monitoring.interval_seconds|The interval between output of system health statistics. Defaults to 60 seconds.|5.0|\r\n|com.atomikos.monitoring.logs.format|Specifies the transactions output format for monitoring. Defaults to key-value. Set to json if you prefer JSON output.|5.0|","title":"How to monitor atomikos transaction recovery process?","body":"<p>This is possible with commercial Atomikos 5.x as it comes with a decent library called &quot;transactions-monitoring-logs&quot;.</p>\n<p>It will pick up which (supported) logging library you use (e.g. Log4J) and every minute (by default) it will output system health statistics. Some of these monitoring logs are:</p>\n<ul>\n<li>OLTP Monitoring</li>\n<li>Connection Pool Monitoring</li>\n<li>Recovery Monitoring</li>\n<li>System Health Monitoring</li>\n<li>Transaction Trace Monitoring</li>\n</ul>\n<p>Here is a log sample for System Health Monitoring:</p>\n<pre><code>2023-04-05T21:57:24.477&lt;ins&gt;01:00 type=Statistics totalEventCountSinceLastPublish=0 percentCommitted=0.0 percentAborted=0.0 percentTimeout=0.0 percentExpiredInDoubt=0.0 percentHeuristic=0.0 commitsPerSecond=0.0 averageTransactionDurationMillis=0 maxTransactionDurationMillis=0 averageTimeoutDurationMillis=0 maxTimeoutDurationMillis=0 committedCount=0 abortedCount=0 timeoutCount=0 expiredInDoubtCount=0 heuristicCount=0\n</code></pre>\n<p>And here is another for Recovery Monitoring:</p>\n<pre><code>2023-04-05T22:41:30.124&lt;/ins&gt;01:00 type=RecoveryFailedEvent uniqueResourceName=xa-data-source\n</code></pre>\n<p>You can modify the log level (and format) if required using:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Property name</th>\n<th>Meaning</th>\n<th>Since</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>com.atomikos.monitoring.interval_seconds</td>\n<td>The interval between output of system health statistics. Defaults to 60 seconds.</td>\n<td>5.0</td>\n</tr>\n<tr>\n<td>com.atomikos.monitoring.logs.format</td>\n<td>Specifies the transactions output format for monitoring. Defaults to key-value. Set to json if you prefer JSON output.</td>\n<td>5.0</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":368171,"reputation":753,"user_id":714805,"accept_rate":58,"display_name":"virtualpathum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":677,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1680731482,"creation_date":1478512056,"question_id":40462108,"body_markdown":"Having gone through the [AtmoikosAPISpecification][1] , [AtomikosTransactionGuide][2] and some other web references we have some idea about how the Atomikos transaction manager works and how the transaction recovery process work in 2PC environment.\r\n\r\nIf we need to understand and monitor the actual recovery processes happening inside a production environment what are the existing tools or mechanism which we can use?\r\n\r\nIs it possible to configure JMX to monitor the atomikos recovery process or do we need to implement recovery monitor tool using interfaces such as LogControl,LogAdministrator and AdminTransaction by our own?\r\n\r\nWe need to get some idea about actual XA resources which causing the problems, The root cause,  The current status of the recovery process, Affected transactions etc..\r\n\r\nDoes following code in JMX configuration provide such details?\r\n\r\n        &lt;!--  \r\n         Configure the Atomikos JMX transaction  \r\n         service to administer pending transactions  \r\n       --&gt; \r\n        &lt;bean id=&quot;jmxTransactionService&quot;  \r\n               class=&quot;com.atomikos.icatch.admin.jmx.JmxTransactionService&quot;&gt; \r\n           &lt;!-- Optional: show only heuristic problem cases --&gt; \r\n           &lt;property name=&quot;heuristicsOnly&quot; value=&quot;true&quot;/&gt; \r\n        &lt;/bean&gt; \r\n\r\n\r\n  [1]: https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=3&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwi71PCln5bQAhXBsY8KHWU2C3kQFgglMAI&amp;url=https%3A%2F%2Fwiki.kuali.org%2Fdownload%2Fattachments%2F82838026%2FAtomikosAPISpecification.pdf%3Fapi%3Dv2&amp;usg=AFQjCNEz9SsWoIFaki8uk975hpgXSMtQ4Q&amp;sig2=UMzWHQvGTYhG7VMCnnZv3Q&amp;bvm=bv.137904068,d.c2I\r\n  [2]: https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=4&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwi71PCln5bQAhXBsY8KHWU2C3kQFggrMAM&amp;url=https%3A%2F%2Fwiki.kuali.org%2Fdownload%2Fattachments%2F18121702%2FAtomikosTransactionsGuide.pdf&amp;usg=AFQjCNGvvhNAkxNTBFtxOyjgmrHMNDfnJA&amp;sig2=119ANVtkoW9C6hXG_2YrbA&amp;bvm=bv.137904068,d.c2I\r\n\r\nThanks ","title":"How to monitor atomikos transaction recovery process?","body":"<p>Having gone through the <a href=\"https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=3&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwi71PCln5bQAhXBsY8KHWU2C3kQFgglMAI&amp;url=https%3A%2F%2Fwiki.kuali.org%2Fdownload%2Fattachments%2F82838026%2FAtomikosAPISpecification.pdf%3Fapi%3Dv2&amp;usg=AFQjCNEz9SsWoIFaki8uk975hpgXSMtQ4Q&amp;sig2=UMzWHQvGTYhG7VMCnnZv3Q&amp;bvm=bv.137904068,d.c2I\" rel=\"nofollow noreferrer\">AtmoikosAPISpecification</a> , <a href=\"https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=4&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwi71PCln5bQAhXBsY8KHWU2C3kQFggrMAM&amp;url=https%3A%2F%2Fwiki.kuali.org%2Fdownload%2Fattachments%2F18121702%2FAtomikosTransactionsGuide.pdf&amp;usg=AFQjCNGvvhNAkxNTBFtxOyjgmrHMNDfnJA&amp;sig2=119ANVtkoW9C6hXG_2YrbA&amp;bvm=bv.137904068,d.c2I\" rel=\"nofollow noreferrer\">AtomikosTransactionGuide</a> and some other web references we have some idea about how the Atomikos transaction manager works and how the transaction recovery process work in 2PC environment.</p>\n\n<p>If we need to understand and monitor the actual recovery processes happening inside a production environment what are the existing tools or mechanism which we can use?</p>\n\n<p>Is it possible to configure JMX to monitor the atomikos recovery process or do we need to implement recovery monitor tool using interfaces such as LogControl,LogAdministrator and AdminTransaction by our own?</p>\n\n<p>We need to get some idea about actual XA resources which causing the problems, The root cause,  The current status of the recovery process, Affected transactions etc..</p>\n\n<p>Does following code in JMX configuration provide such details?</p>\n\n<pre><code>    &lt;!--  \n     Configure the Atomikos JMX transaction  \n     service to administer pending transactions  \n   --&gt; \n    &lt;bean id=\"jmxTransactionService\"  \n           class=\"com.atomikos.icatch.admin.jmx.JmxTransactionService\"&gt; \n       &lt;!-- Optional: show only heuristic problem cases --&gt; \n       &lt;property name=\"heuristicsOnly\" value=\"true\"/&gt; \n    &lt;/bean&gt; \n</code></pre>\n\n<p>Thanks </p>\n"},{"tags":["java","android-studio","android-gradle-plugin","android-testing"],"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680731385,"creation_date":1680730855,"question_id":75944182,"body_markdown":"Android studio: androidTest is run in Java SE environment, not Android.\r\n\r\nTests are in androidTest source set.\r\n\r\n```java\r\n    @RunWith(Parameterized.class)\r\n    public class MyTest {\r\n    \r\n         @Test\r\n         public void testHello() {\r\n              String vendor = System.getProperty(&quot;java.specification.vendor&quot;);\r\n              assertEquals(&quot;The Android Project&quot;, vendor);\r\n         }\r\n    }\r\n```\r\nRight click the method, there is no &quot;Run/Debug&quot; on context menu. From menu bar,\r\n\r\n&gt; Run &gt; Debug testHello:\r\n\r\nthe vendor is &quot;Oracle Corporation&quot;, not &quot;The Android Project&quot;.\r\n\r\nFrom command line, \r\n\r\n    gradlew :subproject1:connectedAndroidTest\r\n\r\nit will be run in Android environment as expected.\r\n\r\nAndroid Studio: 2022.1.1 update1","title":"Android Studio: androidTest is run in Java SE environment, not Android","body":"<p>Android studio: androidTest is run in Java SE environment, not Android.</p>\n<p>Tests are in androidTest source set.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @RunWith(Parameterized.class)\n    public class MyTest {\n    \n         @Test\n         public void testHello() {\n              String vendor = System.getProperty(&quot;java.specification.vendor&quot;);\n              assertEquals(&quot;The Android Project&quot;, vendor);\n         }\n    }\n</code></pre>\n<p>Right click the method, there is no &quot;Run/Debug&quot; on context menu. From menu bar,</p>\n<blockquote>\n<p>Run &gt; Debug testHello:</p>\n</blockquote>\n<p>the vendor is &quot;Oracle Corporation&quot;, not &quot;The Android Project&quot;.</p>\n<p>From command line,</p>\n<pre><code>gradlew :subproject1:connectedAndroidTest\n</code></pre>\n<p>it will be run in Android environment as expected.</p>\n<p>Android Studio: 2022.1.1 update1</p>\n"},{"tags":["java","eclipse","tomcat","tomcat9","eclipse-photon"],"answers":[{"tags":[],"owner":{"account_id":13794201,"reputation":32,"user_id":9955788,"display_name":"Chiragkumar Maniar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532060817,"creation_date":1532008900,"answer_id":51424637,"question_id":51419758,"body_markdown":"You need the dependency my friend. Dependency is missing for that particular descriptor. \r\nIf you are working using maven project and want add dependency or you wanna download (for both) I&#39;m sharing a link with you. \r\n--&gt; Download or copy paste the dependency to the POM.XML file. \r\n\r\n--&gt; If you download then project--&gt;build path --&gt; Configure Build Path --&gt; Libraries --&gt; Add External Jars. Put your jar file here.\r\n\r\n\r\nLINK : `https://mvnrepository.com/artifact/javax.servlet/jstl/1.2`","title":"&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt; Eclipse photon jdk 10 Tomcat 9","body":"<p>You need the dependency my friend. Dependency is missing for that particular descriptor. \nIf you are working using maven project and want add dependency or you wanna download (for both) I'm sharing a link with you. \n--> Download or copy paste the dependency to the POM.XML file. </p>\n\n<p>--> If you download then project-->build path --> Configure Build Path --> Libraries --> Add External Jars. Put your jar file here.</p>\n\n<p>LINK : <code>https://mvnrepository.com/artifact/javax.servlet/jstl/1.2</code></p>\n"},{"tags":[],"owner":{"account_id":21738330,"reputation":11,"user_id":16046039,"display_name":"Abhishek Varun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638719733,"creation_date":1638699927,"answer_id":70233362,"question_id":51419758,"body_markdown":"Yes, this error comes when you do not have `jstl` jar file.\r\n\r\nPlease, add these two files and this error should go away:\r\n \r\n1. `javax.servlet.jsp.jstl-version`\r\n2. `javax.servlet.jsp.jstl-api-version`\r\n\r\nThis is working 100% for me in Eclipse.\r\n\r\nNote: right now I am not using Maven but these can be added in `pom.xml` as well.","title":"&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt; Eclipse photon jdk 10 Tomcat 9","body":"<p>Yes, this error comes when you do not have <code>jstl</code> jar file.</p>\n<p>Please, add these two files and this error should go away:</p>\n<ol>\n<li><code>javax.servlet.jsp.jstl-version</code></li>\n<li><code>javax.servlet.jsp.jstl-api-version</code></li>\n</ol>\n<p>This is working 100% for me in Eclipse.</p>\n<p>Note: right now I am not using Maven but these can be added in <code>pom.xml</code> as well.</p>\n"}],"owner":{"account_id":13990521,"reputation":21,"user_id":10104595,"display_name":"uwe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6929,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680731227,"creation_date":1531994598,"question_id":51419758,"body_markdown":"I&#39;m working on a project for my university. In that project, we should create a web service with eclipse photon, Tomcat 9 and Java 10.\r\n\r\nI&#39;ve already installed the eclipse, tomcat, axis2, and java.\r\n\r\neclipse Version: Photon Release (4.8.0)\r\n\r\njava: 10-JDK\r\n\r\naxis2: axis2-1.7.8\r\n\r\nAlso, my eclipse is fully configured (standard configuration with necessary settings for tomcat, java, and axis) and the tomcat server is running.\r\nMy problem is when I create a web service I&#39;ll get the following error message for one line in different files created during web service construction.\r\n\r\nCannot find the tag library descriptor for &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n\r\nI&#39;ve tried with different versions for eclipse and tomcat. Think there is an error in versions. All FAQ and articles I&#39;ve found are made with previous versions and they solve this. So I&#39;m convinced that somebody can give assistance\r\n\r\nHow can I solve this problem?\r\nThanks so much and If you need further information I&#39;ll try to collect and share.","title":"&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt; Eclipse photon jdk 10 Tomcat 9","body":"<p>I'm working on a project for my university. In that project, we should create a web service with eclipse photon, Tomcat 9 and Java 10.</p>\n\n<p>I've already installed the eclipse, tomcat, axis2, and java.</p>\n\n<p>eclipse Version: Photon Release (4.8.0)</p>\n\n<p>java: 10-JDK</p>\n\n<p>axis2: axis2-1.7.8</p>\n\n<p>Also, my eclipse is fully configured (standard configuration with necessary settings for tomcat, java, and axis) and the tomcat server is running.\nMy problem is when I create a web service I'll get the following error message for one line in different files created during web service construction.</p>\n\n<p>Cannot find the tag library descriptor for &lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %></p>\n\n<p>I've tried with different versions for eclipse and tomcat. Think there is an error in versions. All FAQ and articles I've found are made with previous versions and they solve this. So I'm convinced that somebody can give assistance</p>\n\n<p>How can I solve this problem?\nThanks so much and If you need further information I'll try to collect and share.</p>\n"},{"tags":["java","java-bytecode-asm","bytecode-manipulation"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1680742394,"post_id":75941564,"comment_id":133951380,"body_markdown":"You run the transformation on the dependency, creating a new jar file, which can be used to compile against. Still a bad idea to rely on an agent to run stuff.","body":"You run the transformation on the dependency, creating a new jar file, which can be used to compile against. Still a bad idea to rely on an agent to run stuff."},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":0,"creation_date":1680763971,"post_id":75941564,"comment_id":133954022,"body_markdown":"@JohannesKuhn Sure, but this whole exercise is just for educational purposes. I won&#39;t use stuff like java agents for production code :P. Even reflection code should be used as minimum as possible imho.","body":"@JohannesKuhn Sure, but this whole exercise is just for educational purposes. I won&#39;t use stuff like java agents for production code :P. Even reflection code should be used as minimum as possible imho."}],"answers":[{"tags":[],"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680730305,"creation_date":1680730305,"answer_id":75944128,"question_id":75941564,"body_markdown":"As stated in the question, the compiler is indeed not aware of the modifications made to the bytecode of the class. Therefore, you can&#39;t call `ClassX.aNewBooleanField` directly. Thus you need to fall back to reflection:\r\n\r\n    var modifiedClass = Class.forName(&quot;ClassX&quot;);\r\n    var field = modifiedClass.getField(&quot;aNewBooleanField&quot;);\r\n    System.out.println(field.getBoolean(null));\r\n\r\nAs you can compile your code now, you can run it with the java agent and above code will print out the `true` value!","title":"Use java agent with manipulated java bytecode (ASM)","body":"<p>As stated in the question, the compiler is indeed not aware of the modifications made to the bytecode of the class. Therefore, you can't call <code>ClassX.aNewBooleanField</code> directly. Thus you need to fall back to reflection:</p>\n<pre><code>var modifiedClass = Class.forName(&quot;ClassX&quot;);\nvar field = modifiedClass.getField(&quot;aNewBooleanField&quot;);\nSystem.out.println(field.getBoolean(null));\n</code></pre>\n<p>As you can compile your code now, you can run it with the java agent and above code will print out the <code>true</code> value!</p>\n"}],"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680730408,"creation_date":1680709905,"question_id":75941564,"body_markdown":"I am trying to figure out how [ASM][1] works, with the help of [A Guide to Java Bytecode Manipulation with ASM][2]. I followed the tutorial and created an &#39;extra&#39; static field for the Integer class. Here is the simplified logic of the  Instrumentation class:\r\n\r\n    public static void premain(String agentArgs, Instrumentation inst) {\r\n      inst.addTransformer(new ClassFileTransformer() {\r\n        @Override\r\n        public byte[] transform(ClassLoader loader, String className, Class&lt;?&gt; classBeingRedefined, ProtectionDomain protectionDomain, final byte[] buffer) {\r\n          if (className.equals(&quot;ClassX&quot;)) {\r\n            var reader = new ClassReader(bytes);\r\n            var writer = new ClassWriter(reader, 0);\r\n            var visitor = new ClassVisitor() { // simplified\r\n              @Override\r\n              public void visitEnd() {\r\n                if (!isFieldPresent) {\r\n                  var fv = cv.visitField(ACC_PUBLIC + ACC_STATIC, &quot;aNewBooleanField&quot;, BOOLEAN_TYPE.toString(), null, true);\r\n                  if (fv != null) fv.visitEnd();\r\n                }\r\n                cv.visitEnd();\r\n              }\r\n            };\r\n            reader.accept(visitor, 0);\r\n            return writer.toByteArray();\r\n          }\r\n          return buffer;\r\n        }\r\n      });\r\n    }\r\n\r\nI packaged the ASM code with maven; now I am trying the run it, but I got no clue how to use it. I expected I should be able to to something like this:\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(ClassX.aNewBooleanField);\r\n    }\r\n\r\nThis won&#39;t compile of course, as the compiler is not aware of the extra field. I tried adding the java agent&#185; as the tutorial suggest, but I don&#39;t understand that either. How can the compiler be aware of a process (the agent) that operates at runtime?\r\n\r\nSo bottom line question would be, how do I use the ASM manipulated code?\r\n\r\n---\r\n&#185; `-javaagent:&quot;/&lt;path&gt;/.m2/repository/org/example/try-asm/1.0-SNAPSHOT/try-asm-1.0-SNAPSHOT.jar&quot;`\r\n\r\n  [1]: https://asm.ow2.io\r\n  [2]: https://www.baeldung.com/java-asm","title":"Use java agent with manipulated java bytecode (ASM)","body":"<p>I am trying to figure out how <a href=\"https://asm.ow2.io\" rel=\"nofollow noreferrer\">ASM</a> works, with the help of <a href=\"https://www.baeldung.com/java-asm\" rel=\"nofollow noreferrer\">A Guide to Java Bytecode Manipulation with ASM</a>. I followed the tutorial and created an 'extra' static field for the Integer class. Here is the simplified logic of the  Instrumentation class:</p>\n<pre><code>public static void premain(String agentArgs, Instrumentation inst) {\n  inst.addTransformer(new ClassFileTransformer() {\n    @Override\n    public byte[] transform(ClassLoader loader, String className, Class&lt;?&gt; classBeingRedefined, ProtectionDomain protectionDomain, final byte[] buffer) {\n      if (className.equals(&quot;ClassX&quot;)) {\n        var reader = new ClassReader(bytes);\n        var writer = new ClassWriter(reader, 0);\n        var visitor = new ClassVisitor() { // simplified\n          @Override\n          public void visitEnd() {\n            if (!isFieldPresent) {\n              var fv = cv.visitField(ACC_PUBLIC + ACC_STATIC, &quot;aNewBooleanField&quot;, BOOLEAN_TYPE.toString(), null, true);\n              if (fv != null) fv.visitEnd();\n            }\n            cv.visitEnd();\n          }\n        };\n        reader.accept(visitor, 0);\n        return writer.toByteArray();\n      }\n      return buffer;\n    }\n  });\n}\n</code></pre>\n<p>I packaged the ASM code with maven; now I am trying the run it, but I got no clue how to use it. I expected I should be able to to something like this:</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(ClassX.aNewBooleanField);\n}\n</code></pre>\n<p>This won't compile of course, as the compiler is not aware of the extra field. I tried adding the java agent¹ as the tutorial suggest, but I don't understand that either. How can the compiler be aware of a process (the agent) that operates at runtime?</p>\n<p>So bottom line question would be, how do I use the ASM manipulated code?</p>\n<hr />\n<p>¹ <code>-javaagent:&quot;/&lt;path&gt;/.m2/repository/org/example/try-asm/1.0-SNAPSHOT/try-asm-1.0-SNAPSHOT.jar&quot;</code></p>\n"},{"tags":["java","android","android-studio","build.gradle"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1680067399,"post_id":75873347,"comment_id":133831957,"body_markdown":"What is `$nav_version`? Why aren&#39;t you using that same variable when declaring your other Navigation dependencies (which right now used a fixed value of `2.3.5`?","body":"What is <code>$nav_version</code>? Why aren&#39;t you using that same variable when declaring your other Navigation dependencies (which right now used a fixed value of <code>2.3.5</code>?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1680302259,"post_id":75873347,"comment_id":133881349,"body_markdown":"@ianhanniballake thanks for your comment. &quot;why aren&#39;t you using that same variable when declaring your other Navigation dependencies (which right now used a fixed value of 2.3.5&quot;. what do you mean by that","body":"@ianhanniballake thanks for your comment. &quot;why aren&#39;t you using that same variable when declaring your other Navigation dependencies (which right now used a fixed value of 2.3.5&quot;. what do you mean by that"},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1680304338,"post_id":75873347,"comment_id":133881623,"body_markdown":"You seem to be mixing and matching different versions of Navigation dependencies. Why?","body":"You seem to be mixing and matching different versions of Navigation dependencies. Why?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1680305658,"post_id":75873347,"comment_id":133881772,"body_markdown":"Which ones are you referring to? I always inserted the dependencies that I was told were necessary for certain functionality","body":"Which ones are you referring to? I always inserted the dependencies that I was told were necessary for certain functionality"},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1680306794,"post_id":75873347,"comment_id":133881896,"body_markdown":"You do see that you have 4 dependencies on the Navigation library right? Two using `$nav_version` and two using `2.3.5`?","body":"You do see that you have 4 dependencies on the Navigation library right? Two using <code>$nav_version</code> and two using <code>2.3.5</code>?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1680307714,"post_id":75873347,"comment_id":133881979,"body_markdown":"Yes I see that. WHich one is the correct one? I always added the dependencies because I was told by anone (most probably here in Stackoverflow) that I should add it for some specific functionality","body":"Yes I see that. WHich one is the correct one? I always added the dependencies because I was told by anone (most probably here in Stackoverflow) that I should add it for some specific functionality"},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1680318176,"post_id":75873347,"comment_id":133882704,"body_markdown":"I asked &quot;why are they using different versions&quot;, including all four is fine, using different versions for each is not.","body":"I asked &quot;why are they using different versions&quot;, including all four is fine, using different versions for each is not."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1680325508,"post_id":75873347,"comment_id":133883272,"body_markdown":"@ianhanniballake: Thanks for your comment. Which one shall I use `$nav_version` or `2.3.5`?","body":"@ianhanniballake: Thanks for your comment. Which one shall I use <code>$nav_version</code> or <code>2.3.5</code>?"},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1680328948,"post_id":75873347,"comment_id":133883505,"body_markdown":"What is `$nav_version`?","body":"What is <code>$nav_version</code>?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1680400780,"post_id":75873347,"comment_id":133891812,"body_markdown":"@ianhanniballake I don&#39;t know what `$nav_version` is. I guess it is a library for Android Jetpack navigation or for AndroidX, but I am not sure. What else shall I use instead of it?","body":"@ianhanniballake I don&#39;t know what <code>$nav_version</code> is. I guess it is a library for Android Jetpack navigation or for AndroidX, but I am not sure. What else shall I use instead of it?"},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1680403853,"post_id":75873347,"comment_id":133892004,"body_markdown":"`$nav_version` is a variable you&#39;ve declared in one of your `build.gradle` files. Find where that variable is declared.","body":"<code>$nav_version</code> is a variable you&#39;ve declared in one of your <code>build.gradle</code> files. Find where that variable is declared."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1680501725,"post_id":75873347,"comment_id":133903025,"body_markdown":"@ianhanniballake: I have the following command `buildscript {\n    ext.nav_version = &#39;2.4.1&#39;` Is that the specificaiton of `$nav_version`? And what exactly would you advice me to do","body":"@ianhanniballake: I have the following command <code>buildscript {     ext.nav_version = &#39;2.4.1&#39;</code> Is that the specificaiton of <code>$nav_version</code>? And what exactly would you advice me to do"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1680674045,"post_id":75873347,"comment_id":133935980,"body_markdown":"@ianhanniballake: Any comments to my last comment? I&#39;ll highly appreciate every further comment from you","body":"@ianhanniballake: Any comments to my last comment? I&#39;ll highly appreciate every further comment from you"}],"answers":[{"comments":[{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1680302202,"post_id":75882696,"comment_id":133881339,"body_markdown":"thanks moon for your answer. i usw java. why shall i remove the 4th depedency about constraint layout","body":"thanks moon for your answer. i usw java. why shall i remove the 4th depedency about constraint layout"},{"owner":{"account_id":18603122,"reputation":36,"user_id":13557471,"display_name":"mubbashir"},"score":0,"creation_date":1680390360,"post_id":75882696,"comment_id":133891090,"body_markdown":"Sorry for the wrong number I mentioned before. You should remove 5th and 6th dependency ending with ktx because at run time, compiler get confused between kotlin and java classes and throws this error.","body":"Sorry for the wrong number I mentioned before. You should remove 5th and 6th dependency ending with ktx because at run time, compiler get confused between kotlin and java classes and throws this error."}],"tags":[],"owner":{"account_id":18603122,"reputation":36,"user_id":13557471,"display_name":"mubbashir"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680390243,"creation_date":1680129052,"answer_id":75882696,"question_id":75873347,"body_markdown":"Remove the last 2 dependencies if you are using kotlin. If you are using java, then remove 5th and 6th dependencies. Sync project, and it should resolve the error.","title":"Duplicate class androidx.navigation.ui. after installing Android Studio on a new device","body":"<p>Remove the last 2 dependencies if you are using kotlin. If you are using java, then remove 5th and 6th dependencies. Sync project, and it should resolve the error.</p>\n"},{"comments":[{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1680761680,"post_id":75944135,"comment_id":133953596,"body_markdown":"Thanks for your answer and effort Ian. I really appreciate it.","body":"Thanks for your answer and effort Ian. I really appreciate it."}],"tags":[],"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680730389,"creation_date":1680730389,"answer_id":75944135,"question_id":75873347,"body_markdown":"You have four dependencies on Navigation:\r\n    \r\n    implementation &#39;androidx.navigation:navigation-fragment-ktx:2.3.5&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui-ktx:2.3.5&#39;\r\n    \r\n    implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\r\n\r\nAs you&#39;ve stated, you have declared your `$nav_version` as `ext.nav_version = &#39;2.4.1&#39;`.\r\n\r\nYou can&#39;t mix and match versions of Navigation - they all need to match exactly. Since you already have a variable, your `$nav_version`, just use that for all four dependencies. That way, they will always match exactly:\r\n\r\n    // These lines were changed to use $nav_version\r\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\r\n    \r\n    // These lines stayed the same\r\n    implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\r\n    implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;","title":"Duplicate class androidx.navigation.ui. after installing Android Studio on a new device","body":"<p>You have four dependencies on Navigation:</p>\n<pre><code>implementation 'androidx.navigation:navigation-fragment-ktx:2.3.5'\nimplementation 'androidx.navigation:navigation-ui-ktx:2.3.5'\n\nimplementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\nimplementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\n</code></pre>\n<p>As you've stated, you have declared your <code>$nav_version</code> as <code>ext.nav_version = '2.4.1'</code>.</p>\n<p>You can't mix and match versions of Navigation - they all need to match exactly. Since you already have a variable, your <code>$nav_version</code>, just use that for all four dependencies. That way, they will always match exactly:</p>\n<pre><code>// These lines were changed to use $nav_version\nimplementation &quot;androidx.navigation:navigation-fragment-ktx:$nav_version&quot;\nimplementation &quot;androidx.navigation:navigation-ui-ktx:$nav_version&quot;\n\n// These lines stayed the same\nimplementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\nimplementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\n</code></pre>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75944135,"answer_count":2,"score":0,"last_activity_date":1680730389,"creation_date":1680066680,"question_id":75873347,"body_markdown":"I have an Android App as an Android Studio project and I just installed Android Studio on a new device and tried to run the app in an Android Studio Emulator which was not a problem using the old device. However, in the new device I get the errors:\r\n\r\n     Duplicate class androidx.navigation.ActivityKt found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ActivityNavArgsLazyKt found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ActivityNavArgsLazyKt$navArgs$1 found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ActivityNavigatorDestinationBuilder found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ActivityNavigatorDestinationBuilderKt found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ActivityNavigatorExtrasKt found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.AnimBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavActionBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavArgsLazy found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavArgsLazyKt found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavArgumentBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavControllerKt found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavDeepLinkDsl found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavDeepLinkDslBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavDeepLinkDslBuilderKt found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavDestinationBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavDestinationDsl found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavGraphBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavGraphBuilderKt found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavGraphKt found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavGraphViewModelLazyKt found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavGraphViewModelLazyKt$navGraphViewModels$1 found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavGraphViewModelLazyKt$navGraphViewModels$backStackEntry$2 found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavGraphViewModelLazyKt$navGraphViewModels$storeProducer$1 found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavHostKt found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavOptionsBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavOptionsBuilderKt found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavOptionsDsl found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.NavigatorProviderKt found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.PopUpToBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ViewKt found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.fragment.DialogFragmentNavigatorDestinationBuilder found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.fragment.DialogFragmentNavigatorDestinationBuilderKt found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.fragment.FragmentKt found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.fragment.FragmentNavArgsLazyKt found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.fragment.FragmentNavArgsLazyKt$navArgs$1 found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.fragment.FragmentNavigatorDestinationBuilder found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.fragment.FragmentNavigatorDestinationBuilderKt found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.fragment.FragmentNavigatorExtrasKt found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ui.ActivityKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ui.AppBarConfigurationKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ui.AppBarConfigurationKt$AppBarConfiguration$1 found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ui.AppBarConfigurationKt$AppBarConfiguration$2 found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ui.AppBarConfigurationKt$AppBarConfiguration$3 found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ui.AppBarConfigurationKt$sam$i$androidx_navigation_ui_AppBarConfiguration_OnNavigateUpListener$0 found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ui.BottomNavigationViewKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ui.CollapsingToolbarLayoutKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ui.MenuItemKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ui.NavControllerKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ui.NavigationViewKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\r\n    Duplicate class androidx.navigation.ui.ToolbarKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\r\n\r\nHere is my build.grandle file:\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;kotlin-android&#39;\r\n    }\r\n    \r\n    apply plugin: &quot;androidx.navigation.safeargs&quot;\r\n    \r\n    android {\r\n        compileSdkVersion 31\r\n        buildToolsVersion &quot;30.0.3&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.game&quot;\r\n            minSdkVersion 24\r\n            targetSdkVersion 31\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            viewBinding {\r\n                enabled = true\r\n            }\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.core:core-ktx:1.3.2&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n        implementation &quot;androidx.constraintlayout:constraintlayout:2.1.3&quot;\r\n    \r\n        implementation &#39;androidx.navigation:navigation-fragment-ktx:2.3.5&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui-ktx:2.3.5&#39;\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n        implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\r\n        implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\r\n    }\r\n\r\nDo you know what I can do in order to fix this issue and can you tell me why at the new device it is a problem why at the older device it has not been a problem for years?","title":"Duplicate class androidx.navigation.ui. after installing Android Studio on a new device","body":"<p>I have an Android App as an Android Studio project and I just installed Android Studio on a new device and tried to run the app in an Android Studio Emulator which was not a problem using the old device. However, in the new device I get the errors:</p>\n<pre><code> Duplicate class androidx.navigation.ActivityKt found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\nDuplicate class androidx.navigation.ActivityNavArgsLazyKt found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\nDuplicate class androidx.navigation.ActivityNavArgsLazyKt$navArgs$1 found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\nDuplicate class androidx.navigation.ActivityNavigatorDestinationBuilder found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\nDuplicate class androidx.navigation.ActivityNavigatorDestinationBuilderKt found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\nDuplicate class androidx.navigation.ActivityNavigatorExtrasKt found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\nDuplicate class androidx.navigation.AnimBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavActionBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavArgsLazy found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavArgsLazyKt found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavArgumentBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavControllerKt found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\nDuplicate class androidx.navigation.NavDeepLinkDsl found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavDeepLinkDslBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavDeepLinkDslBuilderKt found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavDestinationBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavDestinationDsl found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavGraphBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavGraphBuilderKt found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavGraphKt found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavGraphViewModelLazyKt found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\nDuplicate class androidx.navigation.NavGraphViewModelLazyKt$navGraphViewModels$1 found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\nDuplicate class androidx.navigation.NavGraphViewModelLazyKt$navGraphViewModels$backStackEntry$2 found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\nDuplicate class androidx.navigation.NavGraphViewModelLazyKt$navGraphViewModels$storeProducer$1 found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\nDuplicate class androidx.navigation.NavHostKt found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\nDuplicate class androidx.navigation.NavOptionsBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavOptionsBuilderKt found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavOptionsDsl found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.NavigatorProviderKt found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.PopUpToBuilder found in modules navigation-common-2.4.1-runtime (androidx.navigation:navigation-common:2.4.1) and navigation-common-ktx-2.3.5-runtime (androidx.navigation:navigation-common-ktx:2.3.5)\nDuplicate class androidx.navigation.ViewKt found in modules navigation-runtime-2.4.1-runtime (androidx.navigation:navigation-runtime:2.4.1) and navigation-runtime-ktx-2.3.5-runtime (androidx.navigation:navigation-runtime-ktx:2.3.5)\nDuplicate class androidx.navigation.fragment.DialogFragmentNavigatorDestinationBuilder found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\nDuplicate class androidx.navigation.fragment.DialogFragmentNavigatorDestinationBuilderKt found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\nDuplicate class androidx.navigation.fragment.FragmentKt found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\nDuplicate class androidx.navigation.fragment.FragmentNavArgsLazyKt found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\nDuplicate class androidx.navigation.fragment.FragmentNavArgsLazyKt$navArgs$1 found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\nDuplicate class androidx.navigation.fragment.FragmentNavigatorDestinationBuilder found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\nDuplicate class androidx.navigation.fragment.FragmentNavigatorDestinationBuilderKt found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\nDuplicate class androidx.navigation.fragment.FragmentNavigatorExtrasKt found in modules navigation-fragment-2.4.1-runtime (androidx.navigation:navigation-fragment:2.4.1) and navigation-fragment-ktx-2.3.5-runtime (androidx.navigation:navigation-fragment-ktx:2.3.5)\nDuplicate class androidx.navigation.ui.ActivityKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\nDuplicate class androidx.navigation.ui.AppBarConfigurationKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\nDuplicate class androidx.navigation.ui.AppBarConfigurationKt$AppBarConfiguration$1 found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\nDuplicate class androidx.navigation.ui.AppBarConfigurationKt$AppBarConfiguration$2 found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\nDuplicate class androidx.navigation.ui.AppBarConfigurationKt$AppBarConfiguration$3 found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\nDuplicate class androidx.navigation.ui.AppBarConfigurationKt$sam$i$androidx_navigation_ui_AppBarConfiguration_OnNavigateUpListener$0 found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\nDuplicate class androidx.navigation.ui.BottomNavigationViewKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\nDuplicate class androidx.navigation.ui.CollapsingToolbarLayoutKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\nDuplicate class androidx.navigation.ui.MenuItemKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\nDuplicate class androidx.navigation.ui.NavControllerKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\nDuplicate class androidx.navigation.ui.NavigationViewKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\nDuplicate class androidx.navigation.ui.ToolbarKt found in modules navigation-ui-2.4.1-runtime (androidx.navigation:navigation-ui:2.4.1) and navigation-ui-ktx-2.3.5-runtime (androidx.navigation:navigation-ui-ktx:2.3.5)\n</code></pre>\n<p>Here is my build.grandle file:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n}\n\napply plugin: &quot;androidx.navigation.safeargs&quot;\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion &quot;30.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.example.game&quot;\n        minSdkVersion 24\n        targetSdkVersion 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n        viewBinding {\n            enabled = true\n        }\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.3.2'\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation &quot;androidx.constraintlayout:constraintlayout:2.1.3&quot;\n\n    implementation 'androidx.navigation:navigation-fragment-ktx:2.3.5'\n    implementation 'androidx.navigation:navigation-ui-ktx:2.3.5'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\n    implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\n}\n</code></pre>\n<p>Do you know what I can do in order to fix this issue and can you tell me why at the new device it is a problem why at the older device it has not been a problem for years?</p>\n"},{"tags":["java","classloader","minecraft"],"comments":[{"owner":{"account_id":25226910,"reputation":23,"user_id":19062635,"display_name":"Dannn"},"score":0,"creation_date":1652547763,"post_id":72239484,"comment_id":127634878,"body_markdown":"yeah, makes sense, when i look at all the loaded classes more of them have names like abc dss, probably they are obfuscated, can i deobfuscate them?","body":"yeah, makes sense, when i look at all the loaded classes more of them have names like abc dss, probably they are obfuscated, can i deobfuscate them?"}],"answers":[{"tags":[],"owner":{"account_id":28226675,"reputation":1,"user_id":21576563,"display_name":"Flamey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680730297,"creation_date":1680729857,"answer_id":75944080,"question_id":72239484,"body_markdown":"I know I&#39;m late but\r\n\r\nMinecraft is obfuscated You need to use the obfuscated names for this to work\r\n\r\nin Minecraft 1.8.9 net.minecraft.client.Minecraft&#39;s obfuscated name is ave so you need to use:\r\n\r\n    Class.forName(&quot;ave&quot;); \r\n\r\ninstead of \r\n\r\n    Class.forName(&quot;net.minecraft.client.Minecraft&quot;);\r\n\r\nuse [MCPMappingViewer][1] to find out what the obfuscated names are :)\r\n\r\n\r\n  [1]: https://github.com/bspkrs/MCPMappingViewer","title":"How can I get the Minecraft class loader?","body":"<p>I know I'm late but</p>\n<p>Minecraft is obfuscated You need to use the obfuscated names for this to work</p>\n<p>in Minecraft 1.8.9 net.minecraft.client.Minecraft's obfuscated name is ave so you need to use:</p>\n<pre><code>Class.forName(&quot;ave&quot;); \n</code></pre>\n<p>instead of</p>\n<pre><code>Class.forName(&quot;net.minecraft.client.Minecraft&quot;);\n</code></pre>\n<p>use <a href=\"https://github.com/bspkrs/MCPMappingViewer\" rel=\"nofollow noreferrer\">MCPMappingViewer</a> to find out what the obfuscated names are :)</p>\n"}],"owner":{"account_id":25226910,"reputation":23,"user_id":19062635,"display_name":"Dannn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680730297,"creation_date":1652525319,"question_id":72239484,"body_markdown":"I&#39;m loading an agent to Minecraft JVM and when I get all the loaded classes from the instrumentation, most of them are not there. My code looks like \r\n```java\r\nClass.forName(&quot;net.minecraft.client.Minecraft&quot;);\r\n``` \r\nand I get a ClassNotFoundException. I think it is because most of the Minecraft classes are loaded in a different ClassLoader. Any idea of how can I get this ClassLoader?","title":"How can I get the Minecraft class loader?","body":"<p>I'm loading an agent to Minecraft JVM and when I get all the loaded classes from the instrumentation, most of them are not there. My code looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class.forName(&quot;net.minecraft.client.Minecraft&quot;);\n</code></pre>\n<p>and I get a ClassNotFoundException. I think it is because most of the Minecraft classes are loaded in a different ClassLoader. Any idea of how can I get this ClassLoader?</p>\n"},{"tags":["java","spring","postgresql","docker","docker-compose"],"comments":[{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1680671702,"post_id":75935304,"comment_id":133935603,"body_markdown":"What is DB on url section? Is it address of host?","body":"What is DB on url section? Is it address of host?"},{"owner":{"account_id":21023381,"reputation":23,"user_id":15449203,"display_name":"Johni"},"score":0,"creation_date":1680673960,"post_id":75935304,"comment_id":133935964,"body_markdown":"Yes it&#39;s the database host. \n\nIt&#39;s the db service in docker-compose, from my understanding, the name of services can be used as host inside the docker network. Seeing as both of my services in the same network, it makes sense for me to use the name as host","body":"Yes it&#39;s the database host.   It&#39;s the db service in docker-compose, from my understanding, the name of services can be used as host inside the docker network. Seeing as both of my services in the same network, it makes sense for me to use the name as host"},{"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"score":0,"creation_date":1680678712,"post_id":75935304,"comment_id":133936875,"body_markdown":"Maybe try to surround your url with quotes","body":"Maybe try to surround your url with quotes"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1680680731,"post_id":75935304,"comment_id":133937313,"body_markdown":"My recommendation is to remove the network bridge, and to try basic first before introducing properties https://www.baeldung.com/spring-boot-postgresql-docker","body":"My recommendation is to remove the network bridge, and to try basic first before introducing properties <a href=\"https://www.baeldung.com/spring-boot-postgresql-docker\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-postgresql-docker</a>"},{"owner":{"account_id":465725,"reputation":81,"user_id":7404894,"display_name":"Matthieu Lambert"},"score":0,"creation_date":1680710635,"post_id":75935304,"comment_id":133945475,"body_markdown":"Remove the bridge, if the error is still present, send the result of `docker-compose ps`","body":"Remove the bridge, if the error is still present, send the result of <code>docker-compose ps</code>"}],"answers":[{"comments":[{"owner":{"account_id":12601401,"reputation":13828,"user_id":9164010,"display_name":"ErikMD"},"score":0,"creation_date":1681234122,"post_id":75944050,"comment_id":134022517,"body_markdown":"Hi @Johni, did you get a chance to test the approach I suggested?","body":"Hi @Johni, did you get a chance to test the approach I suggested?"}],"tags":[],"owner":{"account_id":12601401,"reputation":13828,"user_id":9164010,"display_name":"ErikMD"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680730183,"creation_date":1680729533,"answer_id":75944050,"question_id":75935304,"body_markdown":"## Side remark\r\n\r\n&gt; (…) this docker-compose meant for production (…)\r\n\r\nBeware, the lines\r\n\r\n```\r\n    ports:\r\n      - ${DATABASE_PORT}:5432\r\n```\r\n\r\nare risky because it means the database will be reachable directly from the host.\r\n\r\nThis is unnecessary for the `api` service to reach the `db` service.\r\n\r\nSo, just remove this property if the configuration is intended for prod,\r\nand add the following property in both services:\r\n\r\n```\r\n    networks:\r\n      - app-network\r\n```\r\n\r\n## Suggestion for the main issue\r\n\r\nIt is difficult to suggest a direct fix for your issue because some info is lacking *and* the error looks fishy (it says *must start with &#39;jdbc&#39;* while it already starts with &#39;jdbc&#39;).\r\n\r\nSo, just let me suggest an alternative, simpler design:\r\n\r\n1. Use less environment variables to specify the database URL and **don&#39;t include the Java-specific `jdbc:` prefix.**\r\n2. Create a `DataSource` class (→ rely on regular Java programming instead of a mere `application.properties` file), thus following some idea from [this Baeldung tutorial](https://www.baeldung.com/spring-boot-configure-data-source-programmatic#configuring-a-datasource-bean).\r\n3. And replace your `SPRING_PROFILES_ACTIVE=&quot;prod&quot; … docker-compose -f docker-compose.yml up -d` code with a simpler CLI command, with fewer variables and using `.env` files if need be.\r\n\r\nHere is a complete setup example (under MIT license):\r\n\r\n### Step 1\r\n\r\n&gt; docker-compose.yml\r\n\r\n```yaml\r\nservices:\r\n  db:\r\n    image: &#39;postgres:13&#39;\r\n    environment:\r\n      POSTGRES_DB: ${DATABASE_NAME}\r\n      POSTGRES_USER: ${DATABASE_USER}\r\n      POSTGRES_PASSWORD: ${DATABASE_PASSWORD}\r\n    networks:\r\n      - app-network\r\n    volumes:\r\n      - app-db:/var/lib/postgresql/data\r\n\r\n  api:\r\n    image: ghcr.io/mycoolproject/apiproject:latest\r\n    ports:\r\n      - &#39;8080:8080&#39;\r\n    environment:\r\n      DATABASE_NO_SSL: &quot;true&quot;\r\n      DATABASE_URL: ${DATABASE_POSTGRES_URL}\r\n    networks:\r\n      - app-network\r\n    depends_on:\r\n      - db\r\nnetworks:\r\n  app-network:\r\n    driver: bridge\r\nvolumes:\r\n  app-db:\r\n    driver: local\r\n```\r\n\r\n&gt; .env (containing sensitive values)\r\n\r\n```yaml\r\n# If you edit DATABASE_NAME or USER or PASSWORD, also edit DATABASE_POSTGRES_URL.\r\nDATABASE_NAME = &quot;mydb&quot;\r\nDATABASE_USER = &quot;admin&quot;\r\nDATABASE_PASSWORD = &quot;admin123&quot;\r\nDATABASE_POSTGRES_URL = &quot;postgres://admin:admin123@db:5432/mydb&quot;\r\n# Here: db is the docker-compose service identifier &amp; 5432 should always be 5432.\r\n```\r\n\r\n&gt; .gitignore\r\n\r\n```\r\n.env\r\n```\r\n\r\n### Step 2\r\n\r\n&gt; DataConfig.java\r\n\r\n```java\r\npackage project.app;\r\n\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\n\r\n@Configuration\r\npublic class DataConfig {\r\n\r\n    @Bean\r\n    public DataSource dataSource() throws URISyntaxException {\r\n        String DBURL = System.getenv(&quot;DATABASE_URL&quot;);\r\n        String NOSSL = System.getenv(&quot;DATABASE_NO_SSL&quot;);\r\n        if (DBURL != null &amp;&amp; DBURL.length() &gt; 0) {\r\n            URI dbUri = new URI(DBURL);\r\n            String username = dbUri.getUserInfo().split(&quot;:&quot;)[0];\r\n            String password = dbUri.getUserInfo().split(&quot;:&quot;)[1];\r\n            String jdbcUrl = &quot;jdbc:postgresql://&quot; + dbUri.getHost() + &#39;:&#39; + dbUri.getPort() + dbUri.getPath()\r\n                    + (&quot;true&quot;.equals(NOSSL) ? &quot;&quot; : &quot;?sslmode=require&quot;);\r\n            System.err.println(&quot;*** DataConfig: jdbc:postgresql://_&quot;);\r\n            DataSourceBuilder basicDataSource = DataSourceBuilder.create();\r\n            basicDataSource.driverClassName(&quot;org.postgresql.Driver&quot;);\r\n            basicDataSource.url(jdbcUrl);\r\n            basicDataSource.username(username);\r\n            basicDataSource.password(password);\r\n            return basicDataSource.build();\r\n        } else { // useful for in-memory test\r\n            DataSourceBuilder basicDataSource = DataSourceBuilder.create();\r\n            basicDataSource.driverClassName(&quot;org.h2.Driver&quot;);\r\n            String jdbcUrl = &quot;jdbc:h2:mem:test&quot;;\r\n            System.err.println(&quot;*** DataConfig: jdbc:h2:_&quot;);\r\n            basicDataSource.url(jdbcUrl);\r\n            basicDataSource.username(&quot;TODO&quot;);\r\n            basicDataSource.password(&quot;&quot;);\r\n            return basicDataSource.build();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### Step 3\r\n\r\nJust run:\r\n\r\n```sh\r\ndocker compose config  # to check variables interpolation\r\ndocker compose up -d   # to run the stack\r\n```\r\n\r\nIndeed: `-f docker-compose.yml` is always unnecessary, and `DATABASE_USER=&quot;admin&quot; …` is always parsed from the `.env` file.","title":"Cannot connect Postgres database with Spring Boot in docker-compose","body":"<h2>Side remark</h2>\n<blockquote>\n<p>(…) this docker-compose meant for production (…)</p>\n</blockquote>\n<p>Beware, the lines</p>\n<pre><code>    ports:\n      - ${DATABASE_PORT}:5432\n</code></pre>\n<p>are risky because it means the database will be reachable directly from the host.</p>\n<p>This is unnecessary for the <code>api</code> service to reach the <code>db</code> service.</p>\n<p>So, just remove this property if the configuration is intended for prod,\nand add the following property in both services:</p>\n<pre><code>    networks:\n      - app-network\n</code></pre>\n<h2>Suggestion for the main issue</h2>\n<p>It is difficult to suggest a direct fix for your issue because some info is lacking <em>and</em> the error looks fishy (it says <em>must start with 'jdbc'</em> while it already starts with 'jdbc').</p>\n<p>So, just let me suggest an alternative, simpler design:</p>\n<ol>\n<li>Use less environment variables to specify the database URL and <strong>don't include the Java-specific <code>jdbc:</code> prefix.</strong></li>\n<li>Create a <code>DataSource</code> class (→ rely on regular Java programming instead of a mere <code>application.properties</code> file), thus following some idea from <a href=\"https://www.baeldung.com/spring-boot-configure-data-source-programmatic#configuring-a-datasource-bean\" rel=\"nofollow noreferrer\">this Baeldung tutorial</a>.</li>\n<li>And replace your <code>SPRING_PROFILES_ACTIVE=&quot;prod&quot; … docker-compose -f docker-compose.yml up -d</code> code with a simpler CLI command, with fewer variables and using <code>.env</code> files if need be.</li>\n</ol>\n<p>Here is a complete setup example (under MIT license):</p>\n<h3>Step 1</h3>\n<blockquote>\n<p>docker-compose.yml</p>\n</blockquote>\n<pre class=\"lang-yaml prettyprint-override\"><code>services:\n  db:\n    image: 'postgres:13'\n    environment:\n      POSTGRES_DB: ${DATABASE_NAME}\n      POSTGRES_USER: ${DATABASE_USER}\n      POSTGRES_PASSWORD: ${DATABASE_PASSWORD}\n    networks:\n      - app-network\n    volumes:\n      - app-db:/var/lib/postgresql/data\n\n  api:\n    image: ghcr.io/mycoolproject/apiproject:latest\n    ports:\n      - '8080:8080'\n    environment:\n      DATABASE_NO_SSL: &quot;true&quot;\n      DATABASE_URL: ${DATABASE_POSTGRES_URL}\n    networks:\n      - app-network\n    depends_on:\n      - db\nnetworks:\n  app-network:\n    driver: bridge\nvolumes:\n  app-db:\n    driver: local\n</code></pre>\n<blockquote>\n<p>.env (containing sensitive values)</p>\n</blockquote>\n<pre class=\"lang-yaml prettyprint-override\"><code># If you edit DATABASE_NAME or USER or PASSWORD, also edit DATABASE_POSTGRES_URL.\nDATABASE_NAME = &quot;mydb&quot;\nDATABASE_USER = &quot;admin&quot;\nDATABASE_PASSWORD = &quot;admin123&quot;\nDATABASE_POSTGRES_URL = &quot;postgres://admin:admin123@db:5432/mydb&quot;\n# Here: db is the docker-compose service identifier &amp; 5432 should always be 5432.\n</code></pre>\n<blockquote>\n<p>.gitignore</p>\n</blockquote>\n<pre><code>.env\n</code></pre>\n<h3>Step 2</h3>\n<blockquote>\n<p>DataConfig.java</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>package project.app;\n\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.sql.DataSource;\nimport java.net.URI;\nimport java.net.URISyntaxException;\n\n@Configuration\npublic class DataConfig {\n\n    @Bean\n    public DataSource dataSource() throws URISyntaxException {\n        String DBURL = System.getenv(&quot;DATABASE_URL&quot;);\n        String NOSSL = System.getenv(&quot;DATABASE_NO_SSL&quot;);\n        if (DBURL != null &amp;&amp; DBURL.length() &gt; 0) {\n            URI dbUri = new URI(DBURL);\n            String username = dbUri.getUserInfo().split(&quot;:&quot;)[0];\n            String password = dbUri.getUserInfo().split(&quot;:&quot;)[1];\n            String jdbcUrl = &quot;jdbc:postgresql://&quot; + dbUri.getHost() + ':' + dbUri.getPort() + dbUri.getPath()\n                    + (&quot;true&quot;.equals(NOSSL) ? &quot;&quot; : &quot;?sslmode=require&quot;);\n            System.err.println(&quot;*** DataConfig: jdbc:postgresql://_&quot;);\n            DataSourceBuilder basicDataSource = DataSourceBuilder.create();\n            basicDataSource.driverClassName(&quot;org.postgresql.Driver&quot;);\n            basicDataSource.url(jdbcUrl);\n            basicDataSource.username(username);\n            basicDataSource.password(password);\n            return basicDataSource.build();\n        } else { // useful for in-memory test\n            DataSourceBuilder basicDataSource = DataSourceBuilder.create();\n            basicDataSource.driverClassName(&quot;org.h2.Driver&quot;);\n            String jdbcUrl = &quot;jdbc:h2:mem:test&quot;;\n            System.err.println(&quot;*** DataConfig: jdbc:h2:_&quot;);\n            basicDataSource.url(jdbcUrl);\n            basicDataSource.username(&quot;TODO&quot;);\n            basicDataSource.password(&quot;&quot;);\n            return basicDataSource.build();\n        }\n    }\n}\n</code></pre>\n<h3>Step 3</h3>\n<p>Just run:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker compose config  # to check variables interpolation\ndocker compose up -d   # to run the stack\n</code></pre>\n<p>Indeed: <code>-f docker-compose.yml</code> is always unnecessary, and <code>DATABASE_USER=&quot;admin&quot; …</code> is always parsed from the <code>.env</code> file.</p>\n"}],"owner":{"account_id":21023381,"reputation":23,"user_id":15449203,"display_name":"Johni"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680730183,"creation_date":1680663367,"question_id":75935304,"body_markdown":"I&#39;m running the following docker-compose on my vps to start up my stack which include a Postgres database and a Spring Boot api. Both are spun up in containers in the same network. Locally, I run the api separately (not in a container) while the database is ran in one, and the api is able to connect to it by specifying the port it exposes to the host. \r\n\r\nNow, this docker-compose meant for production is a whole dilemma. What can I try next?\r\n\r\nHere&#39;s my docker-compose:\r\n\r\n    version: &quot;3.8&quot;\r\n    \r\n    networks:\r\n      app-network:\r\n        driver: bridge\r\n    \r\n    services:\r\n      db:\r\n        image: postgres\r\n        ports:\r\n          - ${DATABASE_PORT}:5432\r\n        environment:\r\n          - POSTGRES_USER=${DATABASE_USER}\r\n          - POSTGRES_PASSWORD=${DATABASE_PASSWORD}\r\n          - POSTGRES_DB=${DATABASE_NAME}\r\n      api:\r\n        image: ghcr.io/mycoolproject/apiproject:latest\r\n        ports:\r\n          - ${API_PORT}:${API_PORT}\r\n        depends_on:\r\n          - db\r\n        environment:\r\n          - SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE}\r\n          - DATABASE_NAME=${DATABASE_NAME}\r\n          - DATABASE_USER=${DATABASE_USER}\r\n          - DATABASE_PASSWORD=${DATABASE_PASSWORD}\r\n\r\n\r\nHere&#39;s how I run it: \r\n\r\n    SPRING_PROFILES_ACTIVE=&quot;prod&quot; \\\r\n                DATABASE_PORT=&quot;5233&quot; \\\r\n                DATABASE_NAME=&quot;api-db&quot; \\\r\n                DATABASE_USER=&quot;admin&quot; \\\r\n                DATABASE_PASSWORD=&quot;admin123&quot; \\\r\n                API_PORT=&quot;8080&quot; \\\r\n                docker-compose -f docker-compose.yml up -d\r\n\r\nHere&#39;s my application.properties: \r\n\r\n    spring.profiles.active=${SPRING_PROFILES_ACTIVE}\r\n    \r\n    spring.datasource.username=${DATABASE_USER}\r\n    spring.datasource.password=${DATABASE_PASSWORD}\r\n    \r\n    spring.datasource.url=jdbc:postgresql://db:5432/${DATABASE_NAME}\r\n\r\nAnd here&#39;s the error I get: **(URL must start with &#39;jdbc&#39;)**\r\n\r\n\r\n     org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; [...] Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalArgumentException: URL must start with &#39;jdbc&#39;\r\n\r\n","title":"Cannot connect Postgres database with Spring Boot in docker-compose","body":"<p>I'm running the following docker-compose on my vps to start up my stack which include a Postgres database and a Spring Boot api. Both are spun up in containers in the same network. Locally, I run the api separately (not in a container) while the database is ran in one, and the api is able to connect to it by specifying the port it exposes to the host.</p>\n<p>Now, this docker-compose meant for production is a whole dilemma. What can I try next?</p>\n<p>Here's my docker-compose:</p>\n<pre><code>version: &quot;3.8&quot;\n\nnetworks:\n  app-network:\n    driver: bridge\n\nservices:\n  db:\n    image: postgres\n    ports:\n      - ${DATABASE_PORT}:5432\n    environment:\n      - POSTGRES_USER=${DATABASE_USER}\n      - POSTGRES_PASSWORD=${DATABASE_PASSWORD}\n      - POSTGRES_DB=${DATABASE_NAME}\n  api:\n    image: ghcr.io/mycoolproject/apiproject:latest\n    ports:\n      - ${API_PORT}:${API_PORT}\n    depends_on:\n      - db\n    environment:\n      - SPRING_PROFILES_ACTIVE=${SPRING_PROFILES_ACTIVE}\n      - DATABASE_NAME=${DATABASE_NAME}\n      - DATABASE_USER=${DATABASE_USER}\n      - DATABASE_PASSWORD=${DATABASE_PASSWORD}\n</code></pre>\n<p>Here's how I run it:</p>\n<pre><code>SPRING_PROFILES_ACTIVE=&quot;prod&quot; \\\n            DATABASE_PORT=&quot;5233&quot; \\\n            DATABASE_NAME=&quot;api-db&quot; \\\n            DATABASE_USER=&quot;admin&quot; \\\n            DATABASE_PASSWORD=&quot;admin123&quot; \\\n            API_PORT=&quot;8080&quot; \\\n            docker-compose -f docker-compose.yml up -d\n</code></pre>\n<p>Here's my application.properties:</p>\n<pre><code>spring.profiles.active=${SPRING_PROFILES_ACTIVE}\n\nspring.datasource.username=${DATABASE_USER}\nspring.datasource.password=${DATABASE_PASSWORD}\n\nspring.datasource.url=jdbc:postgresql://db:5432/${DATABASE_NAME}\n</code></pre>\n<p>And here's the error I get: <strong>(URL must start with 'jdbc')</strong></p>\n<pre><code> org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' [...] Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalArgumentException: URL must start with 'jdbc'\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680669872,"post_id":75935501,"comment_id":133935410,"body_markdown":"Look at your filter. Look at the location of the `chain` call.","body":"Look at your filter. Look at the location of the <code>chain</code> call."},{"owner":{"account_id":27903581,"reputation":37,"user_id":21307309,"display_name":"noob555"},"score":0,"creation_date":1680709912,"post_id":75935501,"comment_id":133945256,"body_markdown":"@tgdavies i put chain call at the right place and i still see the same issue","body":"@tgdavies i put chain call at the right place and i still see the same issue"}],"answers":[{"tags":[],"owner":{"account_id":18955284,"reputation":181,"user_id":13831999,"display_name":"dhakalkumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680676146,"creation_date":1680676146,"answer_id":75936274,"question_id":75935501,"body_markdown":"In the *doFilterInternal* method of ***JwtRequestFilter*** class, the call to  `chain.doFilter(request, response)` should be in the if condition.\r\n\r\n\r\n    if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\r\n            jwtToken = requestTokenHeader.substring(7);\r\n            Logger.info(&quot;Token Value: &quot; + jwtToken);\r\n            chain.doFilter(request, response);\r\n        }\r\n\r\nThe else block should contain the logic for the invalid token.\r\n\r\n     else {\r\n            Logger.warn(&quot;Invalid Token&quot;);\r\n            // code to send invalid token message to the user\r\n     }\r\n\r\n","title":"Rest API not returning results after adding security filter","body":"<p>In the <em>doFilterInternal</em> method of <em><strong>JwtRequestFilter</strong></em> class, the call to  <code>chain.doFilter(request, response)</code> should be in the if condition.</p>\n<pre><code>if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\n        jwtToken = requestTokenHeader.substring(7);\n        Logger.info(&quot;Token Value: &quot; + jwtToken);\n        chain.doFilter(request, response);\n    }\n</code></pre>\n<p>The else block should contain the logic for the invalid token.</p>\n<pre><code> else {\n        Logger.warn(&quot;Invalid Token&quot;);\n        // code to send invalid token message to the user\n }\n</code></pre>\n"}],"owner":{"account_id":27903581,"reputation":37,"user_id":21307309,"display_name":"noob555"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680729234,"creation_date":1680666573,"question_id":75935501,"body_markdown":"I have a POST Rest endpoint which returns a list of Strings upon successful execution. Recently i attempted to secure it using Spring Security. Nothing crazy, i attempted simple implementation which checks if Bearer token provided is not null. \r\n\r\nThis is my SecurityConfig class:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        @Autowired\r\n        private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n\r\n        @Autowired\r\n        private JwtRequestFilter jwtRequestFilter;\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity.csrf().disable()\r\n                .authorizeRequests().antMatchers(&quot;/home&quot;).permitAll()\r\n                .anyRequest().authenticated().and()\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(jwtAuthenticationEntryPoint).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n           httpSecurity.addFilterBefore(jwtRequestFilter, BasicAuthenticationFilter.class);\r\n    }\r\n}\r\n\r\n\r\nThis is my JwtAuthenticationEntryPoint class:\r\n\r\n    @Component\r\n    public class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint, \r\n    Serializable {\r\n\r\n        @Override\r\n        public void commence(HttpServletRequest request, HttpServletResponse response,\r\n                         AuthenticationException authException) throws IOException {\r\n            String token = request.getHeader(&quot;Authorization&quot;);\r\n            if (token == null) {\r\n              response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAnd below is my Filter class:\r\n\r\n    @Component\r\n    public class JwtRequestFilter extends OncePerRequestFilter {\r\n\r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse \r\n                       response, FilterChain chain) throws ServletException, IOException {\r\n            chain.doFilter(request, response);\r\n        }\r\n    }\r\n      \r\n\r\nWhen i access the Rest API(through postman) providing a null token, it returns 401 UnAuthorized as expected. But when i access it by providing a valid Bearer token(not providing it here for security reasons), it returns 200 ok http status, but the response is null in the postman body(expected response is list of strings). What i am thinking is that the control is not going back to the Rest Controller API after the filter(httpSecurity.addFilterBefore) is processed in SecurityConfig. Is there a way to fix this? I changed POST to GET and i still see the problem.             ","title":"Rest API not returning results after adding security filter","body":"<p>I have a POST Rest endpoint which returns a list of Strings upon successful execution. Recently i attempted to secure it using Spring Security. Nothing crazy, i attempted simple implementation which checks if Bearer token provided is not null.</p>\n<p>This is my SecurityConfig class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n\n    @Autowired\n    private JwtRequestFilter jwtRequestFilter;\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable()\n            .authorizeRequests().antMatchers(&quot;/home&quot;).permitAll()\n            .anyRequest().authenticated().and()\n            .exceptionHandling()\n            .authenticationEntryPoint(jwtAuthenticationEntryPoint).and()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n       httpSecurity.addFilterBefore(jwtRequestFilter, BasicAuthenticationFilter.class);\n}\n</code></pre>\n<p>}</p>\n<p>This is my JwtAuthenticationEntryPoint class:</p>\n<pre><code>@Component\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint, \nSerializable {\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response,\n                     AuthenticationException authException) throws IOException {\n        String token = request.getHeader(&quot;Authorization&quot;);\n        if (token == null) {\n          response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\n        }\n    }\n}\n</code></pre>\n<p>And below is my Filter class:</p>\n<pre><code>@Component\npublic class JwtRequestFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse \n                   response, FilterChain chain) throws ServletException, IOException {\n        chain.doFilter(request, response);\n    }\n}\n  \n</code></pre>\n<p>When i access the Rest API(through postman) providing a null token, it returns 401 UnAuthorized as expected. But when i access it by providing a valid Bearer token(not providing it here for security reasons), it returns 200 ok http status, but the response is null in the postman body(expected response is list of strings). What i am thinking is that the control is not going back to the Rest Controller API after the filter(httpSecurity.addFilterBefore) is processed in SecurityConfig. Is there a way to fix this? I changed POST to GET and i still see the problem.</p>\n"},{"tags":["java","regex","regex-negation"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":4,"creation_date":1324595693,"post_id":8610743,"comment_id":10686861,"body_markdown":"Couldn&#39;t you just match and negate whether or not it matched? That&#39;s the general-purpose solution for any regex w/o rewriting the regex.","body":"Couldn&#39;t you just match and negate whether or not it matched? That&#39;s the general-purpose solution for any regex w/o rewriting the regex."},{"owner":{"account_id":331387,"reputation":914,"user_id":656031,"accept_rate":76,"display_name":"Wayne"},"score":2,"creation_date":1324600461,"post_id":8610743,"comment_id":10687600,"body_markdown":"This matching coding is part of an existing framework which cannot be changed without breaking other things.","body":"This matching coding is part of an existing framework which cannot be changed without breaking other things."}],"answers":[{"comments":[{"owner":{"account_id":467210,"reputation":1836,"user_id":872425,"accept_rate":36,"display_name":"Mark"},"score":0,"creation_date":1502916180,"post_id":8611094,"comment_id":78403288,"body_markdown":"So will this work for any regex? i.e. `String negateRegex(String regex) { return &quot;(?!&quot; + regex + &quot;$).*&quot;; }` would work as expected? Can this negate itself? i.e. would `negateRegex(negateRegex(regex))` be functionally the same as `regex`?","body":"So will this work for any regex? i.e. <code>String negateRegex(String regex) { return &quot;(?!&quot; + regex + &quot;$).*&quot;; }</code> would work as expected? Can this negate itself? i.e. would <code>negateRegex(negateRegex(regex))</code> be functionally the same as <code>regex</code>?"},{"owner":{"account_id":467210,"reputation":1836,"user_id":872425,"accept_rate":36,"display_name":"Mark"},"score":0,"creation_date":1502916784,"post_id":8611094,"comment_id":78403545,"body_markdown":"Hmm, I&#39;ve done some preliminary testing here[1] and it does seem to be working in all the cases I&#39;ve tried, including negating a negation. [1] http://www.regexplanet.com/advanced/java/index.html","body":"Hmm, I&#39;ve done some preliminary testing here[1] and it does seem to be working in all the cases I&#39;ve tried, including negating a negation. [1] <a href=\"http://www.regexplanet.com/advanced/java/index.html\" rel=\"nofollow noreferrer\">regexplanet.com/advanced/java/index.html</a>"},{"owner":{"account_id":3909148,"reputation":1206,"user_id":3234979,"accept_rate":60,"display_name":"ntysdd"},"score":0,"creation_date":1506668629,"post_id":8611094,"comment_id":79921231,"body_markdown":"I don&#39;t believe you can manipulate regex like string. Do you consider \\Q and \\E? Do you consider backslash at the end?","body":"I don&#39;t believe you can manipulate regex like string. Do you consider \\Q and \\E? Do you consider backslash at the end?"}],"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"comment_count":3,"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1324598948,"creation_date":1324598948,"answer_id":8611094,"question_id":8610743,"body_markdown":"You need to add anchors. The original regex (minus the unneeded parentheses):\r\n\r\n    /.{0,4}\r\n\r\n...matches a string that *contains* a slash followed by zero to four more characters.  But, because you&#39;re using the `matches()` method it&#39;s automatically anchored, as if it were really:\r\n\r\n    ^/.{0,4}$\r\n\r\nTo achieve the inverse of that, you can&#39;t rely on automatic anchoring; you have to make at least the end anchor explicit within the lookahead.  You also have to &quot;pad&quot; the regex with a `.*` because `matches()` requires the regex to consume the whole string:\r\n\r\n    (?!/.{0,4}$).*\r\n\r\nBut I recommend that you explicitly anchor the whole regex, like so:\r\n\r\n    ^(?!/.{0,4}$).*$\r\n\r\nIt does no harm, and it makes your intention perfectly clear, especially to people who learned regexes from other flavors like Perl or JavaScript.  The automatic anchoring of the `matches()` method is highly unusual.","title":"how to negate any regular expression in Java","body":"<p>You need to add anchors. The original regex (minus the unneeded parentheses):</p>\n\n<pre><code>/.{0,4}\n</code></pre>\n\n<p>...matches a string that <em>contains</em> a slash followed by zero to four more characters.  But, because you're using the <code>matches()</code> method it's automatically anchored, as if it were really:</p>\n\n<pre><code>^/.{0,4}$\n</code></pre>\n\n<p>To achieve the inverse of that, you can't rely on automatic anchoring; you have to make at least the end anchor explicit within the lookahead.  You also have to \"pad\" the regex with a <code>.*</code> because <code>matches()</code> requires the regex to consume the whole string:</p>\n\n<pre><code>(?!/.{0,4}$).*\n</code></pre>\n\n<p>But I recommend that you explicitly anchor the whole regex, like so:</p>\n\n<pre><code>^(?!/.{0,4}$).*$\n</code></pre>\n\n<p>It does no harm, and it makes your intention perfectly clear, especially to people who learned regexes from other flavors like Perl or JavaScript.  The automatic anchoring of the <code>matches()</code> method is highly unusual.</p>\n"},{"tags":[],"owner":{"account_id":1891014,"reputation":3150,"user_id":1709089,"display_name":"dajavax"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1598039392,"creation_date":1598039392,"answer_id":63529254,"question_id":8610743,"body_markdown":"I know this is a really old question but hopefully my answer can help anyone looking for this in the future.\r\n\r\nWhile [Alan Moore](https://stackoverflow.com/users/20938/alan-moore)&#39;s answer is almost correct. You would need to group the whole regex too, or else you risk anchoring only part of the original regex.\r\n\r\nFor example if you want to negate the following regex: `abc|def` (which matches either `&quot;abc&quot;` or `&quot;def&quot;`\r\n\r\nPrepending `(?!` and appending `$).*`. You will end up with `(?!abc|def$).*`.\r\n\r\nThe anchor here is only applying to `def`, meaning that `&quot;abcx&quot;` will not match when it should.\r\n\r\nI would rather prepend `(?!(?:`and append `)$).*`.\r\n\r\n    String negateRegex(String regex) {\r\n        return &quot;(?!(?:&quot; + regex + &quot;)$).*&quot;;\r\n    }\r\n\r\nFrom my testing it looks like `negateRegex(negateRegex(regex))` would indeed be functionally the same as `regex`.","title":"how to negate any regular expression in Java","body":"<p>I know this is a really old question but hopefully my answer can help anyone looking for this in the future.</p>\n<p>While <a href=\"https://stackoverflow.com/users/20938/alan-moore\">Alan Moore</a>'s answer is almost correct. You would need to group the whole regex too, or else you risk anchoring only part of the original regex.</p>\n<p>For example if you want to negate the following regex: <code>abc|def</code> (which matches either <code>&quot;abc&quot;</code> or <code>&quot;def&quot;</code></p>\n<p>Prepending <code>(?!</code> and appending <code>$).*</code>. You will end up with <code>(?!abc|def$).*</code>.</p>\n<p>The anchor here is only applying to <code>def</code>, meaning that <code>&quot;abcx&quot;</code> will not match when it should.</p>\n<p>I would rather prepend <code>(?!(?:</code>and append <code>)$).*</code>.</p>\n<pre><code>String negateRegex(String regex) {\n    return &quot;(?!(?:&quot; + regex + &quot;)$).*&quot;;\n}\n</code></pre>\n<p>From my testing it looks like <code>negateRegex(negateRegex(regex))</code> would indeed be functionally the same as <code>regex</code>.</p>\n"},{"tags":[],"owner":{"account_id":21189004,"reputation":59,"user_id":15581823,"display_name":"Ave Maria - Hail Mary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680729108,"creation_date":1649298443,"answer_id":71775651,"question_id":8610743,"body_markdown":"Assuming our regex is MYREG, match other lines with:\r\n\r\n```\r\n^(?:(?!.*MYREG).*)$\r\n```\r\n","title":"how to negate any regular expression in Java","body":"<p>Assuming our regex is MYREG, match other lines with:</p>\n<pre><code>^(?:(?!.*MYREG).*)$\n</code></pre>\n"}],"owner":{"account_id":331387,"reputation":914,"user_id":656031,"accept_rate":76,"display_name":"Wayne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43903,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":8611094,"answer_count":3,"score":17,"last_activity_date":1680729108,"creation_date":1324595549,"question_id":8610743,"body_markdown":"I have a regular expression which I want to negate, e.g.\r\n\r\n    /(.{0,4})\r\n\r\nwhich String.matches returns the following \r\n\r\n    &quot;/1234&quot; true\r\n    &quot;/12&quot; true\r\n    &quot;/&quot; true\r\n    &quot;&quot; false\r\n    &quot;1234&quot; false\r\n    &quot;/12345&quot; false\r\n\r\nIs there a way to negate (using regx only) to the above so that the results are:\r\n\r\n    &quot;/1234&quot; false\r\n    &quot;/12&quot; false\r\n    &quot;/&quot; false\r\n    &quot;&quot; true\r\n    &quot;1234&quot; true\r\n    &quot;/12345&quot; true\r\n\r\nI&#39;m looking for a general solution that would work for any regx without re-writing the whole regex.\r\n\r\nI have looked at the following \r\nhttps://stackoverflow.com/questions/2637675/how-to-negate-the-whole-regex using (?! pattern), but that doesn&#39;t seem to work for me.\r\n\r\nThe following regx\r\n\r\n    (?!/(.{0,4}))\r\n\r\nreturns the following:\r\n\r\n    &quot;/1234&quot; false\r\n    &quot;/12&quot; false\r\n    &quot;/&quot; false\r\n    &quot;&quot; true\r\n    &quot;1234&quot; false\r\n    &quot;/12345&quot; false\r\n\r\nwhich is not what I want.\r\nAny help would be appreciated.\r\n\r\n","title":"how to negate any regular expression in Java","body":"<p>I have a regular expression which I want to negate, e.g.</p>\n\n<pre><code>/(.{0,4})\n</code></pre>\n\n<p>which String.matches returns the following </p>\n\n<pre><code>\"/1234\" true\n\"/12\" true\n\"/\" true\n\"\" false\n\"1234\" false\n\"/12345\" false\n</code></pre>\n\n<p>Is there a way to negate (using regx only) to the above so that the results are:</p>\n\n<pre><code>\"/1234\" false\n\"/12\" false\n\"/\" false\n\"\" true\n\"1234\" true\n\"/12345\" true\n</code></pre>\n\n<p>I'm looking for a general solution that would work for any regx without re-writing the whole regex.</p>\n\n<p>I have looked at the following \n<a href=\"https://stackoverflow.com/questions/2637675/how-to-negate-the-whole-regex\">How to negate the whole regex?</a> using (?! pattern), but that doesn't seem to work for me.</p>\n\n<p>The following regx</p>\n\n<pre><code>(?!/(.{0,4}))\n</code></pre>\n\n<p>returns the following:</p>\n\n<pre><code>\"/1234\" false\n\"/12\" false\n\"/\" false\n\"\" true\n\"1234\" false\n\"/12345\" false\n</code></pre>\n\n<p>which is not what I want.\nAny help would be appreciated.</p>\n"},{"tags":["java","javafx","maven-shade-plugin"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1680720425,"post_id":75942913,"comment_id":133947840,"body_markdown":"It seems to be saying the exception occurs in line 14 of the FXML file. Do you have an `&lt;fx:include&gt;` in the FXML?","body":"It seems to be saying the exception occurs in line 14 of the FXML file. Do you have an <code>&lt;fx:include&gt;</code> in the FXML?"},{"owner":{"account_id":7801308,"reputation":462,"user_id":5900660,"accept_rate":100,"display_name":"Conor Egan"},"score":0,"creation_date":1680721075,"post_id":75942913,"comment_id":133948009,"body_markdown":"I do not have `&lt;fx:include&gt;`","body":"I do not have <code>&lt;fx:include&gt;</code>"},{"owner":{"account_id":7801308,"reputation":462,"user_id":5900660,"accept_rate":100,"display_name":"Conor Egan"},"score":0,"creation_date":1680721115,"post_id":75942913,"comment_id":133948016,"body_markdown":"Line 14 is:\n`&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;720.0&quot; prefWidth=&quot;1280.0&quot; stylesheets=&quot;@../style/style.css&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;appname.controller.RenameController&quot;&gt;`","body":"Line 14 is: <code>&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;720.0&quot; prefWidth=&quot;1280.0&quot; stylesheets=&quot;@..&#47;style&#47;style.css&quot; xmlns=&quot;http:&#47;&#47;javafx.com&#47;javafx&#47;19&quot; xmlns:fx=&quot;http:&#47;&#47;javafx.com&#47;fxml&#47;1&quot; fx:controller=&quot;appname.controller.RenameController&quot;&gt;</code>"},{"owner":{"account_id":7801308,"reputation":462,"user_id":5900660,"accept_rate":100,"display_name":"Conor Egan"},"score":0,"creation_date":1680722492,"post_id":75942913,"comment_id":133948276,"body_markdown":"There is, I just forgot to add it in the description, sorry. I&#39;ve updated the description now.","body":"There is, I just forgot to add it in the description, sorry. I&#39;ve updated the description now."},{"owner":{"account_id":7801308,"reputation":462,"user_id":5900660,"accept_rate":100,"display_name":"Conor Egan"},"score":1,"creation_date":1680727826,"post_id":75942913,"comment_id":133949443,"body_markdown":"After recreating the minimal reproducable example, I found the issue was due to loading a properties file in the static block of a class loaded by the controller. I am yet to find the exact line of code that broke it but will post an answer when I do.","body":"After recreating the minimal reproducable example, I found the issue was due to loading a properties file in the static block of a class loaded by the controller. I am yet to find the exact line of code that broke it but will post an answer when I do."}],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1680764878,"post_id":75944000,"comment_id":133954199,"body_markdown":"As you discovered the hard way, static blocks in Java code are almost always a bad idea.  When there is an uncaught exception in a static block, the class fails to load.  If that happens, it can cause weird and unforeseen consequences.  Even your updated code is a [bad idea](https://stackoverflow.com/questions/2070293/why-doesnt-java-allow-to-throw-a-checked-exception-from-static-initialization-b#comment54228450_15289277).  If your properties fail to load, the loading class and likely your app will be unrecoverably broken My suggestion is to never write code in static blocks.","body":"As you discovered the hard way, static blocks in Java code are almost always a bad idea.  When there is an uncaught exception in a static block, the class fails to load.  If that happens, it can cause weird and unforeseen consequences.  Even your updated code is a <a href=\"https://stackoverflow.com/questions/2070293/why-doesnt-java-allow-to-throw-a-checked-exception-from-static-initialization-b#comment54228450_15289277\">bad idea</a>.  If your properties fail to load, the loading class and likely your app will be unrecoverably broken My suggestion is to never write code in static blocks."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1680773436,"post_id":75944000,"comment_id":133956052,"body_markdown":"@jewelsea even taking into account the everything-might-happen-after-static-initializers-throw still wondering how the outcome of the first version here would lead to a location-not-found (which always is a broken resource lookup when loading a fxml)","body":"@jewelsea even taking into account the everything-might-happen-after-static-initializers-throw still wondering how the outcome of the first version here would lead to a location-not-found (which always is a broken resource lookup when loading a fxml)"},{"owner":{"account_id":7801308,"reputation":462,"user_id":5900660,"accept_rate":100,"display_name":"Conor Egan"},"score":0,"creation_date":1680803509,"post_id":75944000,"comment_id":133963363,"body_markdown":"Okay thank you for the suggestion, I wasn&#39;t aware of that. I&#39;ll look into a better solution for loading properties!","body":"Okay thank you for the suggestion, I wasn&#39;t aware of that. I&#39;ll look into a better solution for loading properties!"},{"owner":{"account_id":7801308,"reputation":462,"user_id":5900660,"accept_rate":100,"display_name":"Conor Egan"},"score":0,"creation_date":1680803532,"post_id":75944000,"comment_id":133963369,"body_markdown":"And for the line that failed, it was `try (InputStream is = Files.newInputStream(Paths.get(uri)))`. Not sure why, however.","body":"And for the line that failed, it was <code>try (InputStream is = Files.newInputStream(Paths.get(uri)))</code>. Not sure why, however."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1680815436,"post_id":75944000,"comment_id":133965775,"body_markdown":"File-based access to resources will fail if the resource is not a `File`.  If you build a jar of your application, then the resource is a jar entry accessed via the [`jar:` protocol](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/JarURLConnection.html), not a file accessed via the `file:` protocol.  You are using shade to put everything in a jar, so file-based access to the resource fails.  As a rule, never try to read a resource using the `File` protocol, instead use only the resource access methods from the class or class loader.","body":"File-based access to resources will fail if the resource is not a <code>File</code>.  If you build a jar of your application, then the resource is a jar entry accessed via the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/JarURLConnection.html\" rel=\"nofollow noreferrer\"><code>jar:</code> protocol</a>, not a file accessed via the <code>file:</code> protocol.  You are using shade to put everything in a jar, so file-based access to the resource fails.  As a rule, never try to read a resource using the <code>File</code> protocol, instead use only the resource access methods from the class or class loader."}],"tags":[],"owner":{"account_id":7801308,"reputation":462,"user_id":5900660,"accept_rate":100,"display_name":"Conor Egan"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680729037,"creation_date":1680729037,"answer_id":75944000,"question_id":75942913,"body_markdown":"The issue was related to loading a .properties file in the static block of a class, and that class was loaded by the controller. I didn&#39;t include it in the example as I didn&#39;t think it was relevant, but I guess I was wrong.\r\n\r\nThe code that failed:\r\n```java\r\n...\r\nprivate static final String API_KEY;\r\n\r\nstatic {\r\n\tfinal String apiKeysPath = &quot;properties/api_keys.properties&quot;;\r\n\tfinal URL res = MyClass.class.getClassLoader().getResource(apiKeysPath);\r\n\tif (res == null) {\r\n\t\tthrow new UncheckedIOException(new FileNotFoundException(apiKeysPath));\r\n\t}\r\n\r\n\tfinal URI uri;\r\n\ttry {\r\n\t\turi = res.toURI();\r\n\t} catch (URISyntaxException ex) {\r\n\t\tthrow new IllegalArgumentException(ex);\r\n\t}\r\n\r\n\tfinal Properties properties = new Properties();\r\n\ttry (InputStream is = Files.newInputStream(Paths.get(uri))) {\r\n\t\tproperties.load(is);\r\n\t} catch (IOException e) {\r\n\t\tthrow new UncheckedIOException(&quot;Failed to load resource&quot;, e);\r\n\t}\r\n\r\n\tAPI_KEY = properties.getProperty(&quot;API_KEY&quot;);\r\n}\r\n...\r\n```\r\n\r\nThe code that works:\r\n```java\r\n...\r\nprivate static final String API_KEY;\r\n\r\nstatic {\r\n    final String apiKeysPath = &quot;/properties/api_keys.properties&quot;;\r\n    final InputStream res = MyClass.class.getResourceAsStream(apiKeysPath);\r\n\r\n    final Properties properties = new Properties();\r\n    try {\r\n        properties.load(res);\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n    API_KEY = properties.getProperty(&quot;API_KEY&quot;);\r\n}\r\n...\r\n```\r\n\r\nMaybe this can help someone in the future.","title":"JavaFX build with shade, LoadException?","body":"<p>The issue was related to loading a .properties file in the static block of a class, and that class was loaded by the controller. I didn't include it in the example as I didn't think it was relevant, but I guess I was wrong.</p>\n<p>The code that failed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nprivate static final String API_KEY;\n\nstatic {\n    final String apiKeysPath = &quot;properties/api_keys.properties&quot;;\n    final URL res = MyClass.class.getClassLoader().getResource(apiKeysPath);\n    if (res == null) {\n        throw new UncheckedIOException(new FileNotFoundException(apiKeysPath));\n    }\n\n    final URI uri;\n    try {\n        uri = res.toURI();\n    } catch (URISyntaxException ex) {\n        throw new IllegalArgumentException(ex);\n    }\n\n    final Properties properties = new Properties();\n    try (InputStream is = Files.newInputStream(Paths.get(uri))) {\n        properties.load(is);\n    } catch (IOException e) {\n        throw new UncheckedIOException(&quot;Failed to load resource&quot;, e);\n    }\n\n    API_KEY = properties.getProperty(&quot;API_KEY&quot;);\n}\n...\n</code></pre>\n<p>The code that works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nprivate static final String API_KEY;\n\nstatic {\n    final String apiKeysPath = &quot;/properties/api_keys.properties&quot;;\n    final InputStream res = MyClass.class.getResourceAsStream(apiKeysPath);\n\n    final Properties properties = new Properties();\n    try {\n        properties.load(res);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n\n    API_KEY = properties.getProperty(&quot;API_KEY&quot;);\n}\n...\n</code></pre>\n<p>Maybe this can help someone in the future.</p>\n"}],"owner":{"account_id":7801308,"reputation":462,"user_id":5900660,"accept_rate":100,"display_name":"Conor Egan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75944000,"answer_count":1,"score":1,"last_activity_date":1680729037,"creation_date":1680719407,"question_id":75942913,"body_markdown":"After following this SO post (https://stackoverflow.com/questions/55335147/javafx-build-with-shade-location-is-required-where-is-it-looking), I have configured my project to be the same. But when running:\r\n```\r\njava -jar .\\target\\app-name-1.0.0-ALPHA.jar\r\n```\r\n\r\nI get the following exception:\r\n```\r\nException in Application start method\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Exception in Application start method\r\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n        at java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: javafx.fxml.LoadException:\r\nfile:/C:/Users/user/Documents/app-name/target/app-name-1.0.0-ALPHA.jar!/view/rename.fxml:14\r\n...\r\nCaused by: java.lang.NullPointerException: Location is required.\r\n```\r\n\r\nI load the fxml file like this:\r\n```java\r\nfinal Parent root = FXMLLoader.load(getClass().getResource(&quot;/view/rename.fxml&quot;));\r\n```\r\n\r\nINPUT:\r\n```\r\nsrc/main/java/app-name/AppLauncher.java (class that does not extend Application)\r\nsrc/main/java/app-name/AppMain.java     (class that does extend Application)\r\nsrc/main/resources/view/rename.fxml\r\n```\r\n\r\nOUTPUT:\r\n```\r\ntarget/classes/app-name/AppLauncher.class\r\ntarget/classes/app-name/AppMain.class\r\ntarget/classes/view/rename.fxml\r\ntarget/classes/style/style.css\r\ntarget/app-name-1.0.0-ALPHA.jar\r\n```\r\n\r\npom.xml:\r\n```xml\r\n&lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;javafx.version&gt;19&lt;/javafx.version&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;dependencies&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-shade-plugin --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- JavaFX --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- JavaFX: cross-platform fat jar --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n    &lt;classifier&gt;win&lt;/classifier&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n    &lt;classifier&gt;linux&lt;/classifier&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n    &lt;classifier&gt;mac&lt;/classifier&gt;\r\n&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n&lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.10.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;release&gt;19&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n    &lt;!-- For fat jar --&gt;\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.4.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;transformers&gt;\r\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                            &lt;mainClass&gt;uk.co.conoregan.showrenamer.ShowRenamerLauncher&lt;/mainClass&gt;\r\n                        &lt;/transformer&gt;\r\n                    &lt;/transformers&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nAnd to package, I am using:\r\n```\r\nmvn clean package\r\n```\r\n\r\nwhich does show an error, but after reading it I assumed it was not the cause of my issue:\r\n```\r\nchecker-qual-3.5.0.jar, commons-codec-1.10.jar, commons-collections4-4.2.jar, commons-dbcp-1.4.jar, commons-io-2.6.jar, commons-lang3-3.3.2.jar, commons-pool-1.6.jar, jdependency-2.8.0.jar, jdom2-2.0.6.1.jar define 1 overlapping resource: \r\n  - META-INF/LICENSE.txt\r\njavafx-graphics-19-linux.jar, javafx-graphics-19-mac.jar define 320 overlapping classes and resources: \r\n  - com.sun.prism.es2.BufferFactory\r\n  - com.sun.prism.es2.ES2Context\r\n  - com.sun.prism.es2.ES2Context$1\r\n  - com.sun.prism.es2.ES2Graphics\r\n  - com.sun.prism.es2.ES2Light\r\n  - com.sun.prism.es2.ES2Mesh\r\n  - com.sun.prism.es2.ES2Mesh$ES2MeshDisposerRecord\r\n  - com.sun.prism.es2.ES2MeshView\r\n  - com.sun.prism.es2.ES2MeshView$ES2MeshViewDisposerRecord\r\n  - com.sun.prism.es2.ES2PhongMaterial\r\n  - 310 more...\r\ncommons-codec-1.10.jar, commons-collections4-4.2.jar, commons-dbcp-1.4.jar, commons-io-2.6.jar, commons-lang3-3.3.2.jar, commons-pool-1.6.jar, jdependency-2.8.0.jar define 1 overlapping resource: \r\n  - META-INF/NOTICE.txt\r\njavafx-graphics-19-linux.jar, javafx-graphics-19-mac.jar, javafx-graphics-19-win.jar define 2828 overlapping classes and resources: \r\n  - META-INF/substrate/config/jniconfig-aarch64-android.json\r\n  - META-INF/substrate/config/jniconfig-aarch64-darwin.json\r\n  - META-INF/substrate/config/jniconfig-aarch64-linux.json\r\n  - META-INF/substrate/config/jniconfig-arm64-ios.json\r\n  - META-INF/substrate/config/jniconfig-x86_64-darwin.json\r\n  - META-INF/substrate/config/jniconfig-x86_64-ios.json\r\n  - META-INF/substrate/config/jniconfig-x86_64-linux.json\r\n  - META-INF/substrate/config/jniconfig-x86_64-windows.json\r\n  - META-INF/substrate/config/jniconfig.json\r\n  - META-INF/substrate/config/reflectionconfig-aarch64-darwin.json\r\n  - 2818 more...\r\ncommons-logging-1.1.1.jar, jcl-over-slf4j-1.7.7.jar define 6 overlapping classes: \r\n  - org.apache.commons.logging.Log\r\n  - org.apache.commons.logging.LogConfigurationException\r\n  - org.apache.commons.logging.LogFactory\r\n  - org.apache.commons.logging.impl.NoOpLog\r\n  - org.apache.commons.logging.impl.SimpleLog\r\n  - org.apache.commons.logging.impl.SimpleLog$1\r\njavafx-base-19-win.jar, javafx-controls-19-win.jar, javafx-fxml-19-win.jar, javafx-graphics-19-linux.jar, javafx-graphics-19-mac.jar, javafx-graphics-19-win.jar define 1 overlapping resource: \r\n  - META-INF/substrate/config/reflectionconfig.json\r\nmaven-shade-plugin has detected that some class files are\r\npresent in two or more JARs. When this happens, only one\r\nsingle version of the class is copied to the uber jar.\r\nUsually this is not harmful and you can skip these warnings,\r\notherwise try to manually exclude artifacts based on\r\nmvn dependency:tree -Ddetail=true and the above output.\r\nSee https://maven.apache.org/plugins/maven-shade-plugin/\r\n```\r\n\r\nHave I done something wrong?","title":"JavaFX build with shade, LoadException?","body":"<p>After following this SO post (<a href=\"https://stackoverflow.com/questions/55335147/javafx-build-with-shade-location-is-required-where-is-it-looking\">JavaFX build with shade, Location is required. Where is it looking?</a>), I have configured my project to be the same. But when running:</p>\n<pre><code>java -jar .\\target\\app-name-1.0.0-ALPHA.jar\n</code></pre>\n<p>I get the following exception:</p>\n<pre><code>Exception in Application start method\nException in thread &quot;main&quot; java.lang.RuntimeException: Exception in Application start method\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n        at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: javafx.fxml.LoadException:\nfile:/C:/Users/user/Documents/app-name/target/app-name-1.0.0-ALPHA.jar!/view/rename.fxml:14\n...\nCaused by: java.lang.NullPointerException: Location is required.\n</code></pre>\n<p>I load the fxml file like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Parent root = FXMLLoader.load(getClass().getResource(&quot;/view/rename.fxml&quot;));\n</code></pre>\n<p>INPUT:</p>\n<pre><code>src/main/java/app-name/AppLauncher.java (class that does not extend Application)\nsrc/main/java/app-name/AppMain.java     (class that does extend Application)\nsrc/main/resources/view/rename.fxml\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>target/classes/app-name/AppLauncher.class\ntarget/classes/app-name/AppMain.class\ntarget/classes/view/rename.fxml\ntarget/classes/style/style.css\ntarget/app-name-1.0.0-ALPHA.jar\n</code></pre>\n<p>pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;javafx.version&gt;19&lt;/javafx.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-shade-plugin --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.4.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- JavaFX --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- JavaFX: cross-platform fat jar --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;classifier&gt;win&lt;/classifier&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;classifier&gt;linux&lt;/classifier&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n    &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;classifier&gt;mac&lt;/classifier&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.10.1&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;release&gt;19&lt;/release&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n    &lt;!-- For fat jar --&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;shade&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;transformers&gt;\n                        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                            &lt;mainClass&gt;uk.co.conoregan.showrenamer.ShowRenamerLauncher&lt;/mainClass&gt;\n                        &lt;/transformer&gt;\n                    &lt;/transformers&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>And to package, I am using:</p>\n<pre><code>mvn clean package\n</code></pre>\n<p>which does show an error, but after reading it I assumed it was not the cause of my issue:</p>\n<pre><code>checker-qual-3.5.0.jar, commons-codec-1.10.jar, commons-collections4-4.2.jar, commons-dbcp-1.4.jar, commons-io-2.6.jar, commons-lang3-3.3.2.jar, commons-pool-1.6.jar, jdependency-2.8.0.jar, jdom2-2.0.6.1.jar define 1 overlapping resource: \n  - META-INF/LICENSE.txt\njavafx-graphics-19-linux.jar, javafx-graphics-19-mac.jar define 320 overlapping classes and resources: \n  - com.sun.prism.es2.BufferFactory\n  - com.sun.prism.es2.ES2Context\n  - com.sun.prism.es2.ES2Context$1\n  - com.sun.prism.es2.ES2Graphics\n  - com.sun.prism.es2.ES2Light\n  - com.sun.prism.es2.ES2Mesh\n  - com.sun.prism.es2.ES2Mesh$ES2MeshDisposerRecord\n  - com.sun.prism.es2.ES2MeshView\n  - com.sun.prism.es2.ES2MeshView$ES2MeshViewDisposerRecord\n  - com.sun.prism.es2.ES2PhongMaterial\n  - 310 more...\ncommons-codec-1.10.jar, commons-collections4-4.2.jar, commons-dbcp-1.4.jar, commons-io-2.6.jar, commons-lang3-3.3.2.jar, commons-pool-1.6.jar, jdependency-2.8.0.jar define 1 overlapping resource: \n  - META-INF/NOTICE.txt\njavafx-graphics-19-linux.jar, javafx-graphics-19-mac.jar, javafx-graphics-19-win.jar define 2828 overlapping classes and resources: \n  - META-INF/substrate/config/jniconfig-aarch64-android.json\n  - META-INF/substrate/config/jniconfig-aarch64-darwin.json\n  - META-INF/substrate/config/jniconfig-aarch64-linux.json\n  - META-INF/substrate/config/jniconfig-arm64-ios.json\n  - META-INF/substrate/config/jniconfig-x86_64-darwin.json\n  - META-INF/substrate/config/jniconfig-x86_64-ios.json\n  - META-INF/substrate/config/jniconfig-x86_64-linux.json\n  - META-INF/substrate/config/jniconfig-x86_64-windows.json\n  - META-INF/substrate/config/jniconfig.json\n  - META-INF/substrate/config/reflectionconfig-aarch64-darwin.json\n  - 2818 more...\ncommons-logging-1.1.1.jar, jcl-over-slf4j-1.7.7.jar define 6 overlapping classes: \n  - org.apache.commons.logging.Log\n  - org.apache.commons.logging.LogConfigurationException\n  - org.apache.commons.logging.LogFactory\n  - org.apache.commons.logging.impl.NoOpLog\n  - org.apache.commons.logging.impl.SimpleLog\n  - org.apache.commons.logging.impl.SimpleLog$1\njavafx-base-19-win.jar, javafx-controls-19-win.jar, javafx-fxml-19-win.jar, javafx-graphics-19-linux.jar, javafx-graphics-19-mac.jar, javafx-graphics-19-win.jar define 1 overlapping resource: \n  - META-INF/substrate/config/reflectionconfig.json\nmaven-shade-plugin has detected that some class files are\npresent in two or more JARs. When this happens, only one\nsingle version of the class is copied to the uber jar.\nUsually this is not harmful and you can skip these warnings,\notherwise try to manually exclude artifacts based on\nmvn dependency:tree -Ddetail=true and the above output.\nSee https://maven.apache.org/plugins/maven-shade-plugin/\n</code></pre>\n<p>Have I done something wrong?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1680704247,"post_id":75940290,"comment_id":133943505,"body_markdown":"https://tomcat.apache.org/tomcat-8.5-doc/introduction.html#Why_Use_CATALINA_BASE","body":"<a href=\"https://tomcat.apache.org/tomcat-8.5-doc/introduction.html#Why_Use_CATALINA_BASE\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-8.5-doc/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680728857,"creation_date":1680728857,"answer_id":75943972,"question_id":75940290,"body_markdown":"You are confused about when the environment variable takes effect.\r\n\r\nOn Windows, environment variables such as `CATAILNA_HOME` and `CATALINA_BASE` are not used by the [service-runner](https://commons.apache.org/proper/commons-daemon/procrun.html) when starting/stopping the service. Instead, those environment variables are *only* used by the `bin/service.bat` script to configure the service, where those values are copied into the `catalina.home` and `catalina.base` Java system properties.\r\n\r\nIf you want to change the way the service runs, you will need to edit the service using `tomcatXw.exe` and modify those environment variables. You can also delete the service and reinstall/configure it using `bin/service.bat` again.\r\n\r\nOn Windows, it never makes any sense to set global environment variables to try to control Tomcat, because they are ignored after the service has been defined.","title":"Tomcat reads wrong evironment variable value","body":"<p>You are confused about when the environment variable takes effect.</p>\n<p>On Windows, environment variables such as <code>CATAILNA_HOME</code> and <code>CATALINA_BASE</code> are not used by the <a href=\"https://commons.apache.org/proper/commons-daemon/procrun.html\" rel=\"nofollow noreferrer\">service-runner</a> when starting/stopping the service. Instead, those environment variables are <em>only</em> used by the <code>bin/service.bat</code> script to configure the service, where those values are copied into the <code>catalina.home</code> and <code>catalina.base</code> Java system properties.</p>\n<p>If you want to change the way the service runs, you will need to edit the service using <code>tomcatXw.exe</code> and modify those environment variables. You can also delete the service and reinstall/configure it using <code>bin/service.bat</code> again.</p>\n<p>On Windows, it never makes any sense to set global environment variables to try to control Tomcat, because they are ignored after the service has been defined.</p>\n"}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75943972,"answer_count":1,"score":0,"last_activity_date":1680728857,"creation_date":1680702707,"question_id":75940290,"body_markdown":"I&#39;ve set up my env var as follows\r\n[![enter image description here][1]][1]\r\n\r\nBut when I start the service I see:\r\n\r\n```\r\n05-Apr-2023 15:05:38.441 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\r\n05-Apr-2023 15:05:38.441 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         C:\\apache-tomcat-9.0.73\r\n05-Apr-2023 15:05:38.442 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         C:\\apache-tomcat-9.0.73\r\n05-Apr-2023 15:05:38.442 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=C:\\apache-tomcat-9.0.73\r\n05-Apr-2023 15:05:38.442 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=C:\\apache-tomcat-9.0.73\r\n```\r\n\r\nSo i looked here:\r\n\r\n\r\n[![enter image description here][2]][2]\r\n  \r\n\r\nI changed it to:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nstarted again the service:\r\n\r\n```\r\n05-Apr-2023 15:41:02.426 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         C:\\Projects\\java_app\\instance\r\n05-Apr-2023 15:41:02.427 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         C:\\apache-tomcat-9.0.73\r\n05-Apr-2023 15:41:02.427 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=C:\\apache-tomcat-9.0.73\r\n05-Apr-2023 15:41:02.427 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=C:\\Projects\\java_app\\instance\r\n```\r\n\r\nwhich begs the question... what&#39;s the pourpose of the CATALINA_BASE env var?\r\n\r\n  [1]: https://i.stack.imgur.com/pXtk2.png\r\n  [2]: https://i.stack.imgur.com/7Jjw1.png\r\n  [3]: https://i.stack.imgur.com/7CEcW.png","title":"Tomcat reads wrong evironment variable value","body":"<p>I've set up my env var as follows\n<a href=\"https://i.stack.imgur.com/pXtk2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pXtk2.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I start the service I see:</p>\n<pre><code>05-Apr-2023 15:05:38.441 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\n05-Apr-2023 15:05:38.441 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         C:\\apache-tomcat-9.0.73\n05-Apr-2023 15:05:38.442 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         C:\\apache-tomcat-9.0.73\n05-Apr-2023 15:05:38.442 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=C:\\apache-tomcat-9.0.73\n05-Apr-2023 15:05:38.442 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=C:\\apache-tomcat-9.0.73\n</code></pre>\n<p>So i looked here:</p>\n<p><a href=\"https://i.stack.imgur.com/7Jjw1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Jjw1.png\" alt=\"enter image description here\" /></a></p>\n<p>I changed it to:</p>\n<p><a href=\"https://i.stack.imgur.com/7CEcW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7CEcW.png\" alt=\"enter image description here\" /></a></p>\n<p>started again the service:</p>\n<pre><code>05-Apr-2023 15:41:02.426 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         C:\\Projects\\java_app\\instance\n05-Apr-2023 15:41:02.427 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         C:\\apache-tomcat-9.0.73\n05-Apr-2023 15:41:02.427 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=C:\\apache-tomcat-9.0.73\n05-Apr-2023 15:41:02.427 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=C:\\Projects\\java_app\\instance\n</code></pre>\n<p>which begs the question... what's the pourpose of the CATALINA_BASE env var?</p>\n"},{"tags":["java","spring","spring-boot","spring-retry"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1680508594,"post_id":75917145,"comment_id":133904266,"body_markdown":"The method is `private` so that won&#39;t work. Because it cannot be proxied, and the fact that it is `private` also means that it is internally invoked.","body":"The method is <code>private</code> so that won&#39;t work. Because it cannot be proxied, and the fact that it is <code>private</code> also means that it is internally invoked."},{"owner":{"account_id":18013946,"reputation":39,"user_id":13092873,"display_name":"Anushka"},"score":0,"creation_date":1680508719,"post_id":75917145,"comment_id":133904292,"body_markdown":"so how to fix it? Yes it is invoked inside the same class.","body":"so how to fix it? Yes it is invoked inside the same class."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680509090,"post_id":75917145,"comment_id":133904374,"body_markdown":"It has to be public and will only work if it is an invocation into the object, so you should place it on the outer method (the one that is calling this). Or setup load or compile timeweaving (which in my experience is a bit more difficult).","body":"It has to be public and will only work if it is an invocation into the object, so you should place it on the outer method (the one that is calling this). Or setup load or compile timeweaving (which in my experience is a bit more difficult)."},{"owner":{"account_id":18013946,"reputation":39,"user_id":13092873,"display_name":"Anushka"},"score":0,"creation_date":1680521392,"post_id":75917145,"comment_id":133907057,"body_markdown":"Can you give some example? I have a class which has 2 separate methods...1 is caller and other one is the retryable one, which is being called","body":"Can you give some example? I have a class which has 2 separate methods...1 is caller and other one is the retryable one, which is being called"}],"answers":[{"comments":[{"owner":{"account_id":18013946,"reputation":39,"user_id":13092873,"display_name":"Anushka"},"score":0,"creation_date":1680537720,"post_id":75919356,"comment_id":133911577,"body_markdown":"Why does it have to be this way?","body":"Why does it have to be this way?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680597419,"post_id":75919356,"comment_id":133921001,"body_markdown":"This has nothing to do with avoidance, but is a result of proxy based AOP which is being used. And internal method calls simply don&#39;t pass through the proxy.","body":"This has nothing to do with avoidance, but is a result of proxy based AOP which is being used. And internal method calls simply don&#39;t pass through the proxy."},{"owner":{"account_id":18013946,"reputation":39,"user_id":13092873,"display_name":"Anushka"},"score":0,"creation_date":1680606224,"post_id":75919356,"comment_id":133923092,"body_markdown":"ok thanks, I was confused as to why it would need to be in separate file.","body":"ok thanks, I was confused as to why it would need to be in separate file."},{"owner":{"account_id":18013946,"reputation":39,"user_id":13092873,"display_name":"Anushka"},"score":0,"creation_date":1680674744,"post_id":75919356,"comment_id":133936110,"body_markdown":"this helped works now.","body":"this helped works now."}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680525366,"creation_date":1680523869,"answer_id":75919356,"question_id":75917145,"body_markdown":"Spring retry uses AOP to implement the functionality, you need to make the annotated methods public and make sure they are called from outside the object doing the retries. Calling the method with the retryable logic from another method on the same class means the interceptor code doesn&#39;t execute, it has to be called from outside for the proxy to work. \r\n\r\nPut the retry logic in its own component class, separate from the code that calls it.","title":"@retryable is not triggering the code, what could be the reason?","body":"<p>Spring retry uses AOP to implement the functionality, you need to make the annotated methods public and make sure they are called from outside the object doing the retries. Calling the method with the retryable logic from another method on the same class means the interceptor code doesn't execute, it has to be called from outside for the proxy to work.</p>\n<p>Put the retry logic in its own component class, separate from the code that calls it.</p>\n"}],"owner":{"account_id":18013946,"reputation":39,"user_id":13092873,"display_name":"Anushka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680728788,"creation_date":1680508311,"question_id":75917145,"body_markdown":"I have a spring boot project added these dependecies:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nBut still it doesnt pick up,\r\n\r\n    @Retryable(value = customeExcep.class, maxAttempts = 5, backoff = @Backoff(delay = 1))\r\n    private void execute() throws Exception {\r\n        ///logic\r\n        }catch(customeExcep e){\r\n            System.out.println(&quot;this exception is thrown &quot;+e);\r\n            throw e;\r\n        }\r\n    }\r\n\r\nand application.class has @EnableRetry added.\r\nthis method is throwing exception of type customeExcep\r\n\r\nAny suggestions??","title":"@retryable is not triggering the code, what could be the reason?","body":"<p>I have a spring boot project added these dependecies:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n        &lt;version&gt;1.3.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>But still it doesnt pick up,</p>\n<pre><code>@Retryable(value = customeExcep.class, maxAttempts = 5, backoff = @Backoff(delay = 1))\nprivate void execute() throws Exception {\n    ///logic\n    }catch(customeExcep e){\n        System.out.println(&quot;this exception is thrown &quot;+e);\n        throw e;\n    }\n}\n</code></pre>\n<p>and application.class has @EnableRetry added.\nthis method is throwing exception of type customeExcep</p>\n<p>Any suggestions??</p>\n"},{"tags":["java","arraylist","hashmap"],"comments":[{"owner":{"account_id":26262923,"reputation":447,"user_id":19933941,"display_name":"llesha"},"score":0,"creation_date":1680435855,"post_id":75911181,"comment_id":133894905,"body_markdown":"What do you expect to get as a result? Hashmap is a structure without an order.  \nDo you want to get sorted List&lt;Pair&lt;String, List&lt;Assignmentsdata&gt;&gt; where first element in pair is the teacher&#39;s name and the second one is the corresponding value from an original map?","body":"What do you expect to get as a result? Hashmap is a structure without an order.   Do you want to get sorted List&lt;Pair&lt;String, List&lt;Assignmentsdata&gt;&gt; where first element in pair is the teacher&#39;s name and the second one is the corresponding value from an original map?"},{"owner":{"account_id":14159345,"reputation":462,"user_id":10229072,"display_name":"Ifan 767"},"score":0,"creation_date":1680440232,"post_id":75911181,"comment_id":133895424,"body_markdown":"@llesha thanks for the comment, i have updated the question with the expected output.","body":"@llesha thanks for the comment, i have updated the question with the expected output."},{"owner":{"account_id":26262923,"reputation":447,"user_id":19933941,"display_name":"llesha"},"score":0,"creation_date":1680441605,"post_id":75911181,"comment_id":133895614,"body_markdown":"@Yaqub this indeed is impossible, because maps are unsortable structures. There is the [SortedMap](https://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html), but it sorts entries by keys, not values.","body":"@Yaqub this indeed is impossible, because maps are unsortable structures. There is the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/SortedMap.html\" rel=\"nofollow noreferrer\">SortedMap</a>, but it sorts entries by keys, not values."}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680508335,"creation_date":1680462509,"answer_id":75914087,"question_id":75911181,"body_markdown":"As you probably know, there&#39;s no such thing in java as a `SortedList` but there is a `SortedSet`. \r\n\r\nWhen using a `SortedSet` it&#39;s important that the `Comparator` only returns `0` when the items are equal. Let&#39;s assume that we can uniquely identify a `Assignmentsdata` via `Assignmentsdata.getId()`.\r\n\r\nIn that case, we can do the following:\r\n\r\n```\r\nComparator&lt;Assignmentsdata&gt; comparator = Comparator\r\n   .comparing(Assignmentsdata::getProgress) // used for sorting\r\n   .thenComparing(Assignmentsdata::getId);  // used when two elements have the same progress\r\n\r\nMap&lt;String, SortedSet&lt;Assignmentsdata&gt;&gt; result = liveAssignments\r\n   .stream()\r\n   .collect(Collectors.groupingBy(\r\n      Assignmentsdata::getTeacherId,\r\n      Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(comparator))\r\n   ));\r\n\r\n","title":"Sort a Map of &lt;String,List&lt;CustomObject&gt;&gt; based on the one variable of CustomObject?","body":"<p>As you probably know, there's no such thing in java as a <code>SortedList</code> but there is a <code>SortedSet</code>.</p>\n<p>When using a <code>SortedSet</code> it's important that the <code>Comparator</code> only returns <code>0</code> when the items are equal. Let's assume that we can uniquely identify a <code>Assignmentsdata</code> via <code>Assignmentsdata.getId()</code>.</p>\n<p>In that case, we can do the following:</p>\n<pre><code>Comparator&lt;Assignmentsdata&gt; comparator = Comparator\n   .comparing(Assignmentsdata::getProgress) // used for sorting\n   .thenComparing(Assignmentsdata::getId);  // used when two elements have the same progress\n\nMap&lt;String, SortedSet&lt;Assignmentsdata&gt;&gt; result = liveAssignments\n   .stream()\n   .collect(Collectors.groupingBy(\n      Assignmentsdata::getTeacherId,\n      Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(comparator))\n   ));\n\n</code></pre>\n"}],"owner":{"account_id":14159345,"reputation":462,"user_id":10229072,"display_name":"Ifan 767"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1680513574,"accepted_answer_id":75914087,"answer_count":1,"score":0,"last_activity_date":1680728707,"creation_date":1680428003,"question_id":75911181,"body_markdown":"I have studied the questions that are about sorting the map, most of those are sorting thap with single key and single values and most of those don&#39;t have unique value. Like this [question][1].\r\n\r\nI am grouping the list based on the teacherID.\r\n\r\n    Map&lt;String, List&lt;Assignmentsdata&gt;&gt; result = liveAssignments.stream().collect(Collectors.groupingBy(Assignmentsdata::getTeacherId));\r\n\r\n Now students see the assignments added by teachers in the form of groups. but now I want to sort those groups based on the variable totalCompletedAssignments. And now I am lost on how to sort the above map, and at the same time, I don&#39;t want multiple loops. Like If a students have not done one assignment at all from teacherA, its place is on top.\r\n\r\n**Current Output**: At index 0 --&gt;TeacherA[(Assignment1-&gt;Progress = 10) (Assignment2-&gt; progress 2)] At index 1--&gt; TeacherB[(Assignment1-&gt;Progress = 10) (Assignment2-&gt; progress 0)]\r\n\r\nSince TeacherB group have an assignment that has 0 progress so far, so it is expected to be at first index like this \r\n\r\n**Expected OutPut**:At index 0--&gt; TeacherB[(Assignment1-&gt;Progress = 10) (Assignment2-&gt; progress 0)] At index 1 --&gt;TeacherA[(Assignment1-&gt;Progress = 10) (Assignment2-&gt; progress 2)]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/109383/sort-a-mapkey-value-by-values","title":"Sort a Map of &lt;String,List&lt;CustomObject&gt;&gt; based on the one variable of CustomObject?","body":"<p>I have studied the questions that are about sorting the map, most of those are sorting thap with single key and single values and most of those don't have unique value. Like this <a href=\"https://stackoverflow.com/questions/109383/sort-a-mapkey-value-by-values\">question</a>.</p>\n<p>I am grouping the list based on the teacherID.</p>\n<pre><code>Map&lt;String, List&lt;Assignmentsdata&gt;&gt; result = liveAssignments.stream().collect(Collectors.groupingBy(Assignmentsdata::getTeacherId));\n</code></pre>\n<p>Now students see the assignments added by teachers in the form of groups. but now I want to sort those groups based on the variable totalCompletedAssignments. And now I am lost on how to sort the above map, and at the same time, I don't want multiple loops. Like If a students have not done one assignment at all from teacherA, its place is on top.</p>\n<p><strong>Current Output</strong>: At index 0 --&gt;TeacherA[(Assignment1-&gt;Progress = 10) (Assignment2-&gt; progress 2)] At index 1--&gt; TeacherB[(Assignment1-&gt;Progress = 10) (Assignment2-&gt; progress 0)]</p>\n<p>Since TeacherB group have an assignment that has 0 progress so far, so it is expected to be at first index like this</p>\n<p><strong>Expected OutPut</strong>:At index 0--&gt; TeacherB[(Assignment1-&gt;Progress = 10) (Assignment2-&gt; progress 0)] At index 1 --&gt;TeacherA[(Assignment1-&gt;Progress = 10) (Assignment2-&gt; progress 2)]</p>\n"},{"tags":["java","android","paseto"],"owner":{"account_id":3780862,"reputation":79,"user_id":3140383,"display_name":"Lorne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680727556,"creation_date":1680727556,"question_id":75943827,"body_markdown":"I am trying to utilize the [jpaseto library](https://github.com/paseto-toolkit/jpaseto#install-jdk-gradle) and when I run the following code, I get this error: `dev.paseto.jpaseto.PasetoKeyException: Failed to generate Ed25519 key pair`  The exception is thrown on the second line.\r\n\r\n```\r\nKeyPair keyPair = Keys.keyPairFor(Version.V2);\r\nString token = Pasetos.V2.PUBLIC.builder()\r\n                .setSubject(&quot;Joe&quot;)\r\n                .setPrivateKey(keyPair.getPrivate())\r\n                .compact();\r\n```\r\n\r\nI am working in Android Studio and having the following in my `build.gradle` file:\r\n```\r\nimplementation &#39;dev.paseto:jpaseto-api:0.6.0&#39;\r\n    runtimeOnly &#39;dev.paseto:jpaseto-impl:0.6.0&#39;,\r\n            &#39;dev.paseto:jpaseto-jackson:0.6.0&#39;,\r\n\r\n            // Uncomment the next lines if you want to use Bouncy Castle, supports all Paseto formats\r\n            &#39;dev.paseto:jpaseto-bouncy-castle:0.6.0&#39;\r\n```\r\n\r\nCan someone tell me what I&#39;m doing wrong?\r\n\r\n","title":"I&#39;m having trouble generating a token with the jpaseto library using V2.PUBLIC","body":"<p>I am trying to utilize the <a href=\"https://github.com/paseto-toolkit/jpaseto#install-jdk-gradle\" rel=\"nofollow noreferrer\">jpaseto library</a> and when I run the following code, I get this error: <code>dev.paseto.jpaseto.PasetoKeyException: Failed to generate Ed25519 key pair</code>  The exception is thrown on the second line.</p>\n<pre><code>KeyPair keyPair = Keys.keyPairFor(Version.V2);\nString token = Pasetos.V2.PUBLIC.builder()\n                .setSubject(&quot;Joe&quot;)\n                .setPrivateKey(keyPair.getPrivate())\n                .compact();\n</code></pre>\n<p>I am working in Android Studio and having the following in my <code>build.gradle</code> file:</p>\n<pre><code>implementation 'dev.paseto:jpaseto-api:0.6.0'\n    runtimeOnly 'dev.paseto:jpaseto-impl:0.6.0',\n            'dev.paseto:jpaseto-jackson:0.6.0',\n\n            // Uncomment the next lines if you want to use Bouncy Castle, supports all Paseto formats\n            'dev.paseto:jpaseto-bouncy-castle:0.6.0'\n</code></pre>\n<p>Can someone tell me what I'm doing wrong?</p>\n"},{"tags":["java","android","cordova"],"answers":[{"comments":[{"owner":{"display_name":"user6057915"},"score":0,"creation_date":1680739141,"post_id":75943792,"comment_id":133951038,"body_markdown":"thank you very much for your answer, and your efforts :) \nI am quite sure the problem was that this was in fact a cordova android application and as soon as I compiled it, the entire file system was android based.\nHowever I was able to solve my problem in a different way - will post that. thx though","body":"thank you very much for your answer, and your efforts :)  I am quite sure the problem was that this was in fact a cordova android application and as soon as I compiled it, the entire file system was android based. However I was able to solve my problem in a different way - will post that. thx though"}],"tags":[],"owner":{"account_id":389916,"reputation":9994,"user_id":749657,"accept_rate":83,"display_name":"Eric"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680727312,"creation_date":1680727312,"answer_id":75943792,"question_id":75940385,"body_markdown":"When the app is compiled, the structure goes as follow in `app/src/main`\r\n\r\n      assets/www\r\n      java\r\n      libs\r\n      res\r\n\r\nSo I guess you&#39;re trying to target `./../assets/www/index.html` relative to the java folder....","title":"Java read file content from cordova index.html","body":"<p>When the app is compiled, the structure goes as follow in <code>app/src/main</code></p>\n<pre><code>  assets/www\n  java\n  libs\n  res\n</code></pre>\n<p>So I guess you're trying to target <code>./../assets/www/index.html</code> relative to the java folder....</p>\n"}],"owner":{"display_name":"user6057915"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680740528,"answer_count":1,"score":0,"last_activity_date":1680727312,"creation_date":1680703301,"question_id":75940385,"body_markdown":"I want to read the file content of cordova asset index.html file using Java. This is the code I am currently using.\r\n\r\n\r\n```\r\n        Path filePath = Paths.get(&quot;file:///android_asset/www/index.html&quot;);\r\n        Charset charset = StandardCharsets.UTF_8;\r\n\r\n        try {\r\n            List&lt;String&gt; lines = Files.readAllLines(filePath, charset);\r\n            for(String line: lines) {\r\n                System.out.println(line);\r\n            }\r\n        } catch (IOException ex) {\r\n            System.out.format(&quot;I/O error: %s%n&quot;, ex);\r\n        }\r\n \r\n```\r\n\r\nI get the following error message: I/O error: java.nio.file.NoSuchFileException: file:/android_asset/www/index.html\r\n\r\nI have also tried setting file path to &quot;index.html&quot; and &quot;www/index.html&quot; which also shows the same error. I just don&#39;t know which path I have to use here. \r\n\r\n","title":"Java read file content from cordova index.html","body":"<p>I want to read the file content of cordova asset index.html file using Java. This is the code I am currently using.</p>\n<pre><code>        Path filePath = Paths.get(&quot;file:///android_asset/www/index.html&quot;);\n        Charset charset = StandardCharsets.UTF_8;\n\n        try {\n            List&lt;String&gt; lines = Files.readAllLines(filePath, charset);\n            for(String line: lines) {\n                System.out.println(line);\n            }\n        } catch (IOException ex) {\n            System.out.format(&quot;I/O error: %s%n&quot;, ex);\n        }\n \n</code></pre>\n<p>I get the following error message: I/O error: java.nio.file.NoSuchFileException: file:/android_asset/www/index.html</p>\n<p>I have also tried setting file path to &quot;index.html&quot; and &quot;www/index.html&quot; which also shows the same error. I just don't know which path I have to use here.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":7980951,"reputation":2013,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"score":0,"creation_date":1680791103,"post_id":75942146,"comment_id":133960241,"body_markdown":"I have 2 return types because I have 2 a little bit different endpoints tha should return full data and limited data (simpleDto). So can I stil use inheritance like in my example?","body":"I have 2 return types because I have 2 a little bit different endpoints tha should return full data and limited data (simpleDto). So can I stil use inheritance like in my example?"}],"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680713806,"creation_date":1680713806,"answer_id":75942146,"question_id":75942061,"body_markdown":"It looks like these methods are identical but one of them operates on a subclass. You can use generics to write these in one go.\r\n\r\n```\r\nprivate &lt;T extends WarehouseSimpleSearchFilter&gt; T getWarehouseSimpleSearchFilter(\r\n  Set&lt;Long&gt; carrierIds,\r\n  Set&lt;Long&gt; shipperIds,\r\n  Authorization authorization,\r\n  T searchFilter\r\n) {\r\n  ...\r\n}\r\n```\r\n\r\nHowever, there are a few things to note here.\r\n\r\nFirst, it looks like you always just mutate the `searchFilter` argument and return it. If that&#39;s the case, you could just return `void` and take a `WarehouseSimpleSearchFilter` as argument. There&#39;s no sense in returning the same value you were passed in, unless you&#39;re designing a [fluent interface](https://en.wikipedia.org/wiki/Fluent_interface) (and the argument in question is not the receiver in your example, so that doesn&#39;t apply here).\r\n\r\nSecond, I challenge the use of inheritance here. You have a parent class which seems to be a &quot;simple&quot; search filter, and then you subclass it to enrich functionality. This is a classic antipattern that used to be taught in schools, and your &quot;simple&quot; search filter is very likely to become a [fragile base class](https://en.wikipedia.org/wiki/Fragile_base_class). Inheritance should model an &quot;is-a&quot; relationship. And while I can&#39;t see what methods are available on your search filter, the naming convention alone suggests to me that an &quot;enriched&quot; search filter is not, in fact, a simple search filter. It looks like you&#39;re using inheritance as a tool of implementation convenience, not to correctly model the object space.\r\n\r\nInstead, I would suggest having an interface that represents the abstract API backing both the simple and enriched search filters. If there&#39;s significant common functionality between the two that *doesn&#39;t* depend on any specific state of the class, then it can be factored out into static methods somewhere or default methods on the interface itself. Then each of your search filter implementations can be implementors of that interface and your generic function can take an interface (or bounded generic of an interface, as above) as argument.","title":"Java - two almost teh same methods with different return type","body":"<p>It looks like these methods are identical but one of them operates on a subclass. You can use generics to write these in one go.</p>\n<pre><code>private &lt;T extends WarehouseSimpleSearchFilter&gt; T getWarehouseSimpleSearchFilter(\n  Set&lt;Long&gt; carrierIds,\n  Set&lt;Long&gt; shipperIds,\n  Authorization authorization,\n  T searchFilter\n) {\n  ...\n}\n</code></pre>\n<p>However, there are a few things to note here.</p>\n<p>First, it looks like you always just mutate the <code>searchFilter</code> argument and return it. If that's the case, you could just return <code>void</code> and take a <code>WarehouseSimpleSearchFilter</code> as argument. There's no sense in returning the same value you were passed in, unless you're designing a <a href=\"https://en.wikipedia.org/wiki/Fluent_interface\" rel=\"nofollow noreferrer\">fluent interface</a> (and the argument in question is not the receiver in your example, so that doesn't apply here).</p>\n<p>Second, I challenge the use of inheritance here. You have a parent class which seems to be a &quot;simple&quot; search filter, and then you subclass it to enrich functionality. This is a classic antipattern that used to be taught in schools, and your &quot;simple&quot; search filter is very likely to become a <a href=\"https://en.wikipedia.org/wiki/Fragile_base_class\" rel=\"nofollow noreferrer\">fragile base class</a>. Inheritance should model an &quot;is-a&quot; relationship. And while I can't see what methods are available on your search filter, the naming convention alone suggests to me that an &quot;enriched&quot; search filter is not, in fact, a simple search filter. It looks like you're using inheritance as a tool of implementation convenience, not to correctly model the object space.</p>\n<p>Instead, I would suggest having an interface that represents the abstract API backing both the simple and enriched search filters. If there's significant common functionality between the two that <em>doesn't</em> depend on any specific state of the class, then it can be factored out into static methods somewhere or default methods on the interface itself. Then each of your search filter implementations can be implementors of that interface and your generic function can take an interface (or bounded generic of an interface, as above) as argument.</p>\n"}],"owner":{"account_id":7980951,"reputation":2013,"user_id":6022333,"accept_rate":100,"display_name":"Matley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75942146,"answer_count":1,"score":0,"last_activity_date":1680727155,"creation_date":1680713239,"question_id":75942061,"body_markdown":"I wonder how can I avoid duplicating code in my example below. I have two methods where one of the parameters is slightly different and a little bit different object is returned (one of them - simple - has less object fields)\r\n\r\n```\r\npublic class WarehouseSimpleSearchFilter {\r\n    long companyId;\r\n    private Set&lt;Long&gt; shipperIds;\r\n    private Set&lt;Long&gt; carrierIds;\r\n}\r\n```\r\n\r\n```\r\npublic class WarehouseSearchFilter extends WarehouseSimpleSearchFilter {\r\n    long companyId;\r\n    private String search;\r\n    private Boolean isLocked;\r\n}\r\n```\r\n\r\n\r\n```\r\nprivate WarehouseSimpleSearchFilter getWarehouseSimpleSearchFilter(Set&lt;Long&gt; carrierIds, Set&lt;Long&gt; shipperIds, Authorization authorization, WarehouseSimpleSearchFilter searchFilter) {\r\n        if (CollectionUtils.isEmpty(carrierIds) &amp;&amp; CollectionUtils.isEmpty(shipperIds)) {\r\n            final Set&lt;Long&gt; newCarrierIds = getCompanyId(WarehousePermission.READ_AVAILABLE, authorization);\r\n            final Set&lt;Long&gt; newShipperIds = getCompanyIds(WarehousePermission.READ_COMPANY, authorization);\r\n            searchFilter.setCarrierIds(newCarrierIds);\r\n            searchFilter.setShipperIds(newShipperIds);\r\n            return searchFilter;\r\n        }\r\n        if (!CollectionUtils.isEmpty(carrierIds)) {\r\n            checkPermission(WarehousePermission.READ_AVAILABLE, authorization);\r\n            searchFilter.setCarrierIds(Collections.unmodifiableSet(carrierIds));\r\n        }\r\n        if (!CollectionUtils.isEmpty(shipperIds)) {\r\n            checkPermission(WarehousePermission.READ_COMPANY, authorization);\r\n            searchFilter.setShipperIds(Collections.unmodifiableSet(shipperIds));\r\n        }\r\n        return searchFilter;\r\n    }\r\n\r\n    private WarehouseSearchFilter getWarehouseSearchFilter(Set&lt;Long&gt; carrierIds, Set&lt;Long&gt; shipperIds, Authorization authorization, WarehouseSearchFilter searchFilter) {\r\n        if (CollectionUtils.isEmpty(carrierIds) &amp;&amp; CollectionUtils.isEmpty(shipperIds)) {\r\n            final Set&lt;Long&gt; newCarrierIds = getCompanyIds(WarehousePermission.READ_AVAILABLE, authorization);\r\n            final Set&lt;Long&gt; newShipperIds = getCompanyIds(WarehousePermission.READ_COMPANY, authorization);\r\n            searchFilter.setCarrierIds(newCarrierIds);\r\n            searchFilter.setShipperIds(newShipperIds);\r\n            return searchFilter;\r\n        }\r\n        if (!CollectionUtils.isEmpty(carrierIds)) {\r\n            checkPermission(WarehousePermission.READ_AVAILABLE, authorization);\r\n            searchFilter.setCarrierIds(Collections.unmodifiableSet(carrierIds));\r\n        }\r\n        if (!CollectionUtils.isEmpty(shipperIds)) {\r\n            checkPermission(WarehousePermission.READ_COMPANY, authorization);\r\n            searchFilter.setShipperIds(Collections.unmodifiableSet(shipperIds));\r\n        }\r\n        return searchFilter;\r\n    }\r\n```","title":"Java - two almost teh same methods with different return type","body":"<p>I wonder how can I avoid duplicating code in my example below. I have two methods where one of the parameters is slightly different and a little bit different object is returned (one of them - simple - has less object fields)</p>\n<pre><code>public class WarehouseSimpleSearchFilter {\n    long companyId;\n    private Set&lt;Long&gt; shipperIds;\n    private Set&lt;Long&gt; carrierIds;\n}\n</code></pre>\n<pre><code>public class WarehouseSearchFilter extends WarehouseSimpleSearchFilter {\n    long companyId;\n    private String search;\n    private Boolean isLocked;\n}\n</code></pre>\n<pre><code>private WarehouseSimpleSearchFilter getWarehouseSimpleSearchFilter(Set&lt;Long&gt; carrierIds, Set&lt;Long&gt; shipperIds, Authorization authorization, WarehouseSimpleSearchFilter searchFilter) {\n        if (CollectionUtils.isEmpty(carrierIds) &amp;&amp; CollectionUtils.isEmpty(shipperIds)) {\n            final Set&lt;Long&gt; newCarrierIds = getCompanyId(WarehousePermission.READ_AVAILABLE, authorization);\n            final Set&lt;Long&gt; newShipperIds = getCompanyIds(WarehousePermission.READ_COMPANY, authorization);\n            searchFilter.setCarrierIds(newCarrierIds);\n            searchFilter.setShipperIds(newShipperIds);\n            return searchFilter;\n        }\n        if (!CollectionUtils.isEmpty(carrierIds)) {\n            checkPermission(WarehousePermission.READ_AVAILABLE, authorization);\n            searchFilter.setCarrierIds(Collections.unmodifiableSet(carrierIds));\n        }\n        if (!CollectionUtils.isEmpty(shipperIds)) {\n            checkPermission(WarehousePermission.READ_COMPANY, authorization);\n            searchFilter.setShipperIds(Collections.unmodifiableSet(shipperIds));\n        }\n        return searchFilter;\n    }\n\n    private WarehouseSearchFilter getWarehouseSearchFilter(Set&lt;Long&gt; carrierIds, Set&lt;Long&gt; shipperIds, Authorization authorization, WarehouseSearchFilter searchFilter) {\n        if (CollectionUtils.isEmpty(carrierIds) &amp;&amp; CollectionUtils.isEmpty(shipperIds)) {\n            final Set&lt;Long&gt; newCarrierIds = getCompanyIds(WarehousePermission.READ_AVAILABLE, authorization);\n            final Set&lt;Long&gt; newShipperIds = getCompanyIds(WarehousePermission.READ_COMPANY, authorization);\n            searchFilter.setCarrierIds(newCarrierIds);\n            searchFilter.setShipperIds(newShipperIds);\n            return searchFilter;\n        }\n        if (!CollectionUtils.isEmpty(carrierIds)) {\n            checkPermission(WarehousePermission.READ_AVAILABLE, authorization);\n            searchFilter.setCarrierIds(Collections.unmodifiableSet(carrierIds));\n        }\n        if (!CollectionUtils.isEmpty(shipperIds)) {\n            checkPermission(WarehousePermission.READ_COMPANY, authorization);\n            searchFilter.setShipperIds(Collections.unmodifiableSet(shipperIds));\n        }\n        return searchFilter;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","open-telemetry","javaagents"],"answers":[{"tags":[],"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680726760,"creation_date":1680726760,"answer_id":75943740,"question_id":75475201,"body_markdown":"OpenTelemetry Java agent extensions live in the isolated `AgentClassLoader` which is why they don&#39;t have access to Spring classes.\r\n\r\nI&#39;d suggest:\r\n* Add the `userId` to the SERVER span at the beginning of the request\r\n  * (as a side note, this seems like it would be a nice addition to the OpenTelemetry auto-instrumentation, since there&#39;s already an OpenTelemetry attribute to store it in [`enduser.id`](https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/trace/semantic_conventions/span-general.md#general-identity-attributes))\r\n* In your SpanProcessor, copy the `userId` down from parent to child, e.g.\r\n\r\n  ```\r\n  @Override\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  public void onStart(Context parentContext, ReadWriteSpan span) {\r\n    Span parentSpan = Span.fromContextOrNull(parentContext);\r\n    if (!(parentSpan instanceof ReadableSpan)) {\r\n      return;\r\n    }\r\n    ReadableSpan parentReadableSpan = (ReadableSpan) parentSpan;\r\n\r\n    ...\r\n  }\r\n  ```\r\n","title":"OpenTelemetry Java agent extension to add Spring authenticated User id in Span attributes","body":"<p>OpenTelemetry Java agent extensions live in the isolated <code>AgentClassLoader</code> which is why they don't have access to Spring classes.</p>\n<p>I'd suggest:</p>\n<ul>\n<li><p>Add the <code>userId</code> to the SERVER span at the beginning of the request</p>\n<ul>\n<li>(as a side note, this seems like it would be a nice addition to the OpenTelemetry auto-instrumentation, since there's already an OpenTelemetry attribute to store it in <a href=\"https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/trace/semantic_conventions/span-general.md#general-identity-attributes\" rel=\"nofollow noreferrer\"><code>enduser.id</code></a>)</li>\n</ul>\n</li>\n<li><p>In your SpanProcessor, copy the <code>userId</code> down from parent to child, e.g.</p>\n<pre><code>@Override\n@SuppressWarnings(&quot;unchecked&quot;)\npublic void onStart(Context parentContext, ReadWriteSpan span) {\n  Span parentSpan = Span.fromContextOrNull(parentContext);\n  if (!(parentSpan instanceof ReadableSpan)) {\n    return;\n  }\n  ReadableSpan parentReadableSpan = (ReadableSpan) parentSpan;\n\n  ...\n}\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":13512904,"reputation":98,"user_id":9748566,"display_name":"PhilKes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680726760,"creation_date":1676564834,"question_id":75475201,"body_markdown":"I have a Spring Boot 2.7.5 application running with an `opentelemetry-javaagent.jar` that includes some custom extensions. I now want to add a custom `SpanProcessor` that adds an attribute `userId` to all Spans corresponding to incoming HTTP Requests to the Spring REST API.\r\nHow can I do that?\r\n\r\nIn Spring I would get the authenticated user&#39;s id/information with:\r\n```java\r\nSecurityContextHolder.getContext().getAuthentication();\r\n```\r\n\r\nBut can I access the Spring Security Context from within the `SpanProcessor` in my javaagent?\r\n\r\n\r\nI tried finding an example of a otel-javaagent extension accessing any Spring Beans but could not find any yet.","title":"OpenTelemetry Java agent extension to add Spring authenticated User id in Span attributes","body":"<p>I have a Spring Boot 2.7.5 application running with an <code>opentelemetry-javaagent.jar</code> that includes some custom extensions. I now want to add a custom <code>SpanProcessor</code> that adds an attribute <code>userId</code> to all Spans corresponding to incoming HTTP Requests to the Spring REST API.\nHow can I do that?</p>\n<p>In Spring I would get the authenticated user's id/information with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SecurityContextHolder.getContext().getAuthentication();\n</code></pre>\n<p>But can I access the Spring Security Context from within the <code>SpanProcessor</code> in my javaagent?</p>\n<p>I tried finding an example of a otel-javaagent extension accessing any Spring Beans but could not find any yet.</p>\n"},{"tags":["java","eclipse","build","path","export"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1680752030,"post_id":75943450,"comment_id":133952410,"body_markdown":"Before answering the question, make sure, what do you want to achieve? (a) Produce an executable jar? (b) Export the entire project folder as a zip file, which can be used to import the project on another machine using Eclipse?","body":"Before answering the question, make sure, what do you want to achieve? (a) Produce an executable jar? (b) Export the entire project folder as a zip file, which can be used to import the project on another machine using Eclipse?"}],"answers":[{"comments":[{"owner":{"account_id":24279434,"reputation":9,"user_id":18226217,"display_name":"Michael Stewart"},"score":0,"creation_date":1680724877,"post_id":75943504,"comment_id":133948820,"body_markdown":"We are forced to export as a zip file for the class I am in","body":"We are forced to export as a zip file for the class I am in"},{"owner":{"account_id":5977652,"reputation":394,"user_id":4697928,"display_name":"Abishek Stephen"},"score":0,"creation_date":1680725003,"post_id":75943504,"comment_id":133948849,"body_markdown":"You can&#39;t execute a zip file using JVM","body":"You can&#39;t execute a zip file using JVM"},{"owner":{"account_id":24279434,"reputation":9,"user_id":18226217,"display_name":"Michael Stewart"},"score":0,"creation_date":1680725295,"post_id":75943504,"comment_id":133948902,"body_markdown":"Its not executing its importing the zip file back into eclipse and then executing it","body":"Its not executing its importing the zip file back into eclipse and then executing it"},{"owner":{"account_id":5977652,"reputation":394,"user_id":4697928,"display_name":"Abishek Stephen"},"score":0,"creation_date":1680725498,"post_id":75943504,"comment_id":133948950,"body_markdown":"Just open the project folder in Explorer/Finder and zip it using some compression tool","body":"Just open the project folder in Explorer/Finder and zip it using some compression tool"}],"tags":[],"owner":{"account_id":5977652,"reputation":394,"user_id":4697928,"display_name":"Abishek Stephen"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680724539,"creation_date":1680724539,"answer_id":75943504,"question_id":75943450,"body_markdown":"A .zip file is a collection of files and folders that are typically compressed for reducing storage space and improving portability. A Java project is exported to a .jar file and not a .zip file so the JVM can open the archive and execute the code.\r\n\r\nFrom your question I see that you want to export your code to an executable archive, but the file extension is incorrectly given as .zip instead of .jar.\r\n\r\nI would recommend you to learn more about how Java files are packaged into .jar file, entry point, manifest, and similar processes [here][1]\r\n\r\n\r\n  [1]: https://www.albany.edu/faculty/jmower/geog/gog692/ImportExportJARFiles.htm","title":"Trying to export a working zip file from Eclipse but exported file when imported has no packages or build path","body":"<p>A .zip file is a collection of files and folders that are typically compressed for reducing storage space and improving portability. A Java project is exported to a .jar file and not a .zip file so the JVM can open the archive and execute the code.</p>\n<p>From your question I see that you want to export your code to an executable archive, but the file extension is incorrectly given as .zip instead of .jar.</p>\n<p>I would recommend you to learn more about how Java files are packaged into .jar file, entry point, manifest, and similar processes <a href=\"https://www.albany.edu/faculty/jmower/geog/gog692/ImportExportJARFiles.htm\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"comments":[{"owner":{"account_id":24279434,"reputation":9,"user_id":18226217,"display_name":"Michael Stewart"},"score":0,"creation_date":1680725015,"post_id":75943508,"comment_id":133948851,"body_markdown":"Even with those two selected it makes no difference","body":"Even with those two selected it makes no difference"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1680725376,"post_id":75943508,"comment_id":133948920,"body_markdown":"`.classpath` is what stores the paths to your source folders, so that doesn&#39;t make sense. Do you have an updated image? Maybe less aggressively cropped when showing the reimported result?","body":"<code>.classpath</code> is what stores the paths to your source folders, so that doesn&#39;t make sense. Do you have an updated image? Maybe less aggressively cropped when showing the reimported result?"},{"owner":{"account_id":24279434,"reputation":9,"user_id":18226217,"display_name":"Michael Stewart"},"score":0,"creation_date":1680725682,"post_id":75943508,"comment_id":133949002,"body_markdown":"Just updated it so you can see better the top is the original folder and the bottom is the imported version.","body":"Just updated it so you can see better the top is the original folder and the bottom is the imported version."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1680726876,"post_id":75943508,"comment_id":133949280,"body_markdown":"@MichaelStewart According to your screenshot you have imported it as subfolder into an existing project instead of a project of its own. Use _File &gt; Import...: General &gt; Existing Projects into Workspace_ and choosing _Selecting archive file: ..._","body":"@MichaelStewart According to your screenshot you have imported it as subfolder into an existing project instead of a project of its own. Use <i>File &gt; Import...: General &gt; Existing Projects into Workspace</i> and choosing <i>Selecting archive file: ...</i>"}],"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680724595,"creation_date":1680724595,"answer_id":75943508,"question_id":75943450,"body_markdown":"In the original image, the files that control project definitions and the Java Build Path, `.project` and `.classpath` respectively, where not selected. You&#39;ll want to keep including the `.settings` folder.","title":"Trying to export a working zip file from Eclipse but exported file when imported has no packages or build path","body":"<p>In the original image, the files that control project definitions and the Java Build Path, <code>.project</code> and <code>.classpath</code> respectively, where not selected. You'll want to keep including the <code>.settings</code> folder.</p>\n"}],"owner":{"account_id":24279434,"reputation":9,"user_id":18226217,"display_name":"Michael Stewart"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680725755,"creation_date":1680724012,"question_id":75943450,"body_markdown":"I have a working program on my computer. When I try to export it using \r\n[These export settings][1]\r\n\r\n\r\nit gets bugged on reimport and the file structure is \r\n[this file structure][2]\r\nIt has no build path or packages and therefore does not run. Is there something wrong I am doing? Is it possible my settings are bad?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/quSRg.png\r\n  [2]:https://i.stack.imgur.com/BMxYa.png","title":"Trying to export a working zip file from Eclipse but exported file when imported has no packages or build path","body":"<p>I have a working program on my computer. When I try to export it using\n<a href=\"https://i.stack.imgur.com/quSRg.png\" rel=\"nofollow noreferrer\">These export settings</a></p>\n<p>it gets bugged on reimport and the file structure is\n<a href=\"https://i.stack.imgur.com/BMxYa.png\" rel=\"nofollow noreferrer\">this file structure</a>\nIt has no build path or packages and therefore does not run. Is there something wrong I am doing? Is it possible my settings are bad?</p>\n"},{"tags":["java","spring-boot","bootstrap-4","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680698098,"post_id":75934993,"comment_id":133941610,"body_markdown":"Thank you! What about the dropdown? Do you have any ideas?","body":"Thank you! What about the dropdown? Do you have any ideas?"},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1680707139,"post_id":75934993,"comment_id":133944375,"body_markdown":"You shouldn&#39;t be using `th:value` on the dropdown, instead use `th:selected` on the `&lt;option /&gt;`s in the list.","body":"You shouldn&#39;t be using <code>th:value</code> on the dropdown, instead use <code>th:selected</code> on the <code>&lt;option &#47;&gt;</code>s in the list."},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680724930,"post_id":75934993,"comment_id":133948833,"body_markdown":"Can you provide a code snippet? I want it to be dynamic, not static (that is, reflect the current value of the field, whatever it is)","body":"Can you provide a code snippet? I want it to be dynamic, not static (that is, reflect the current value of the field, whatever it is)"},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1680725256,"post_id":75934993,"comment_id":133948896,"body_markdown":"I added an example.","body":"I added an example."},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1680725440,"post_id":75934993,"comment_id":133948935,"body_markdown":"I am wondering, could it be less verbose? It was so much more concise when it was a model attribute","body":"I am wondering, could it be less verbose? It was so much more concise when it was a model attribute"}],"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680725246,"creation_date":1680657768,"answer_id":75934993,"question_id":75933915,"body_markdown":"You cannot use generated variables like `${user}` from `user: ${users}` as a `th:object` for a form.  From the docs:\r\n\r\n&gt; Values for th:object attributes in form tags must be variable expressions (${...}) specifying only the name of a model attribute, without property navigation.\r\n\r\n(Since `${user}` is not the name of a model attribute, it fails this check.)\r\n\r\nIf you want to use multiple forms like you are doing, you can&#39;t use the built in `th:` attributes like `object` and `field`.  You can to manually create them using `th:name` and `th:value`.\r\n\r\n\r\n----\r\n\r\n`&lt;select /&gt;` example:\r\n\r\n    &lt;fieldset&gt;\r\n      &lt;label for=&quot;departments&quot;&gt;Department: &lt;/label&gt;\r\n      &lt;select id=&quot;departments&quot; name=&quot;department&quot;&gt;\r\n        &lt;option th:selected=&quot;${user.department == &#39;accounting&#39;}&quot; value=&quot;accounting&quot;&gt;Accounting&lt;/option&gt;\r\n        &lt;option th:selected=&quot;${user.department == &#39;sales&#39;}&quot; value=&quot;sales&quot;&gt;Sales&lt;/option&gt;\r\n        &lt;option th:selected=&quot;${user.department == &#39;information technology&#39;}&quot; value=&quot;information technology&quot;&gt;IT&lt;/option&gt;\r\n        &lt;option th:selected=&quot;${user.department == &#39;human resources&#39;}&quot; value=&quot;human resources&quot;&gt;HR&lt;/option&gt;\r\n      &lt;/select&gt;\r\n    &lt;/fieldset&gt;\r\n\r\n","title":"Thymeleaf can&#39;t access a list item&#39;s fields in my Bootstrap 4 project within the scope (&quot;Neither BindingResult nor plain target object...&quot;). Why?","body":"<p>You cannot use generated variables like <code>${user}</code> from <code>user: ${users}</code> as a <code>th:object</code> for a form.  From the docs:</p>\n<blockquote>\n<p>Values for th:object attributes in form tags must be variable expressions (${...}) specifying only the name of a model attribute, without property navigation.</p>\n</blockquote>\n<p>(Since <code>${user}</code> is not the name of a model attribute, it fails this check.)</p>\n<p>If you want to use multiple forms like you are doing, you can't use the built in <code>th:</code> attributes like <code>object</code> and <code>field</code>.  You can to manually create them using <code>th:name</code> and <code>th:value</code>.</p>\n<hr />\n<p><code>&lt;select /&gt;</code> example:</p>\n<pre><code>&lt;fieldset&gt;\n  &lt;label for=&quot;departments&quot;&gt;Department: &lt;/label&gt;\n  &lt;select id=&quot;departments&quot; name=&quot;department&quot;&gt;\n    &lt;option th:selected=&quot;${user.department == 'accounting'}&quot; value=&quot;accounting&quot;&gt;Accounting&lt;/option&gt;\n    &lt;option th:selected=&quot;${user.department == 'sales'}&quot; value=&quot;sales&quot;&gt;Sales&lt;/option&gt;\n    &lt;option th:selected=&quot;${user.department == 'information technology'}&quot; value=&quot;information technology&quot;&gt;IT&lt;/option&gt;\n    &lt;option th:selected=&quot;${user.department == 'human resources'}&quot; value=&quot;human resources&quot;&gt;HR&lt;/option&gt;\n  &lt;/select&gt;\n&lt;/fieldset&gt;\n</code></pre>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75934993,"answer_count":1,"score":0,"last_activity_date":1680725246,"creation_date":1680643034,"question_id":75933915,"body_markdown":"I made a modal in my Bootstrap 4 view. But I get an error\r\n```\r\nERROR 328 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.spring6.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;admin&quot; - line 87, col 78)] with root cause\r\n\r\njava.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;user&#39; available as request attribute\r\n\tat org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:926) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n```\r\nHere&#39;s a code snippet from my HTML view. I left a comment to show you which line causes an error\r\n```html\r\n    &lt;tbody&gt;\r\n    &lt;!-- remember this user object below, I&#39;ll be referencing it later --&gt;\r\n                            &lt;tr th:each=&quot;user: ${users}&quot;&gt;\r\n                                &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\r\n                                &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\r\n                                &lt;td th:text=&quot;${user.lastName}&quot;&gt;&lt;/td&gt;\r\n                                &lt;td th:text=&quot;${user.department}&quot;&gt;&lt;/td&gt;\r\n                                &lt;td th:text=&quot;${user.salary}&quot;&gt;&lt;/td&gt;\r\n                                &lt;td th:text=&quot;${user.age}&quot;&gt;&lt;/td&gt;\r\n                                &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\r\n                                &lt;td&gt;\r\n                                    &lt;span th:each=&quot;role, iter : ${user.authorities}&quot;\r\n                                          th:text=&quot;${role.authority == &#39;USER&#39; ? &#39;U&#39; : (role.authority == &#39;ADMIN&#39; ? &#39;A&#39; : &#39;&#39;)} + ${iter.last ? &#39;&#39; : &#39; &#39;}&quot;&gt;&lt;/span&gt;\r\n                                &lt;/td&gt;\r\n                                &lt;td th:text=&quot;${user.isEnabled() ? &#39;+&#39; : &#39;-&#39;}&quot;&gt;&lt;/td&gt;\r\n    &lt;td class=&quot;btn-group btn-group-sm&quot;&gt;\r\n                                    &lt;a class=&quot;btn btn-outline-primary&quot; data-toggle=&quot;modal&quot; th:data-target=&quot;${&#39;#updateModal&#39; + user.username}&quot;&gt;Update&lt;/a&gt;\r\n                                    &lt;div class=&quot;modal&quot; th:id=&quot;${&#39;updateModal&#39; + user.username}&quot;&gt;\r\n                                        &lt;div class=&quot;modal-dialog&quot;&gt;\r\n                                            &lt;div class=&quot;modal-content&quot;&gt;\r\n\r\n                                                &lt;div class=&quot;modal-header&quot;&gt;\r\n                                                    &lt;h4 class=&quot;modal-title&quot; th:text=&quot;${&#39;Edit &#39; + user.name + &#39; &#39; + user.lastName + &#39; (&#39; + user.username + &#39;)&#39;}&quot;&gt;&lt;/h4&gt;\r\n                                                    &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot;&gt;&amp;times;&lt;/button&gt;\r\n                                                &lt;/div&gt;\r\n\r\n                                                &lt;div class=&quot;modal-body&quot;&gt;\r\n                                                    &lt;p th:text=&quot;&#39;For the sake of privacy, you are only allowed to change the user\\&#39;s department &#39; +\r\n                                                        &#39;and salary. If you think &#39; + ${user.name} + &#39;\\&#39;s personal info needs to be altered, please request them to do so&#39;&quot;&gt;&lt;/p&gt;\r\n\r\n&lt;!-- I also tried removing this th:object altogether ↓--&gt;\r\n\r\n                                                    &lt;form th:action=&quot;@{/save-user}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\r\n    \r\n    &lt;!-- below is line 87 that causes an error. the user I try to reference here is the same user from th:each=&quot;user: ${users} in the code above --&gt;\r\n    \r\n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.id}&quot;&gt;\r\n\r\n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.username}&quot;&gt;\r\n\r\n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.password}&quot;&gt;\r\n\r\n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.name}&quot;&gt;\r\n\r\n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.lastName}&quot;&gt;\r\n\r\n                                                        &lt;fieldset&gt;\r\n                                                            &lt;label for=&quot;departments&quot;&gt;Department: &lt;/label&gt;\r\n                                                            &lt;select id=&quot;departments&quot; th:field=&quot;${user.department}&quot;&gt;\r\n                                                                &lt;option th:value=&quot;accounting&quot;&gt;Accounting&lt;/option&gt;\r\n                                                                &lt;option th:value=&quot;sales&quot;&gt;Sales&lt;/option&gt;\r\n                                                                &lt;option th:value=&quot;&#39;information technology&#39;&quot;&gt;IT&lt;/option&gt;\r\n                                                                &lt;option th:value=&quot;&#39;human resources&#39;&quot;&gt;HR&lt;/option&gt;\r\n                                                            &lt;/select&gt;\r\n                                                        &lt;/fieldset&gt;\r\n\r\n                                                        &lt;fieldset&gt;\r\n                                                            &lt;label for=&quot;salary&quot;&gt;Salary: &lt;/label&gt;\r\n                                                            &lt;input id=&quot;salary&quot; th:field=&quot;${user.salary}&quot;/&gt;\r\n                                                        &lt;/fieldset&gt;\r\n\r\n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.age}&quot;&gt;\r\n\r\n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.email}&quot;&gt;\r\n\r\n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.enabledByte}&quot;&gt;\r\n\r\n                                                        &lt;input type=&quot;hidden&quot; th:name=&quot;authorities&quot;\r\n                                                               th:value=&quot;${#strings.toString(user.authorities)}&quot;/&gt;\r\n\r\n                                                        &lt;input class=&quot;main-button&quot; type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n                                                    &lt;/form&gt;\r\n                                                &lt;/div&gt;\r\n                                            &lt;/div&gt;\r\n                                        &lt;/div&gt;\r\n                                    &lt;/div&gt;\r\n```\r\n**For some reason, at line 87, Thymeleaf seemingly can&#39;t access that forEach user&#39;s fields anymore even though it&#39;s within the scope – the `&lt;tr&gt;` element that has the `th:each` attribute. Could you please tell me why that&#39;s so and how I can fix it?**\r\n\r\nThe controller looks like this. As you see, there are no other attributes there that have the same name (&quot;user&quot;)\r\n```java\r\n    @GetMapping(&quot;/admin&quot;)\r\n    public String admin(Model model, Authentication authentication) {\r\n        model.addAttribute(&quot;users&quot;, service.getAllExceptLoggedUser(authentication))\r\n                .addAttribute(&quot;loggedUser&quot;, service.getLoggedUser(authentication))\r\n                .addAttribute(&quot;newUser&quot;, new User())\r\n                .addAttribute(&quot;adminRoleSet&quot;, service.getAdminRoleSet());\r\n        return &quot;admin&quot;;\r\n    }\r\n```\r\nAlso, the IDE doesn&#39;t underline &quot;user&quot; anywhere in my view code so it apparently knows what user I&#39;m talking about\r\n\r\nI read these StackOverflow questions: [1][1], [2][2], [3][3], [4][4]. They don&#39;t seem to have much to do with my question although they refer to the same error message\r\n\r\n**UPD:** For some reason, changing, for example, this\r\n```html\r\n&lt;input type=&quot;hidden&quot; th:field=&quot;${user.id}&quot;&gt;\r\n```\r\nto this\r\n```html\r\n&lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${user.id}&quot;&gt;\r\n```\r\nhelped. It seems so anyway, I haven&#39;t properly tested it yet. At least, I am now able to see the view, the modals pop up. Feel free to share your ideas on what that &quot;some&quot; reason might be in the comments (or even write a full-fledged answer)\r\n\r\nThough there&#39;s one but. I hoped a user&#39;s current department will be selected in the drop-down list. Instead, it&#39;s simply the first one\r\n```html\r\n&lt;fieldset&gt;\r\n     &lt;label for=&quot;departments&quot;&gt;Department: &lt;/label&gt;\r\n     &lt;select id=&quot;departments&quot; name=&quot;department&quot; th:value=&quot;${user.department}&quot;&gt;\r\n                  &lt;option th:value=&quot;accounting&quot;&gt;Accounting&lt;/option&gt;\r\n                  &lt;option th:value=&quot;sales&quot;&gt;Sales&lt;/option&gt;\r\n                  &lt;option th:value=&quot;&#39;information technology&#39;&quot;&gt;IT&lt;/option&gt;\r\n                  &lt;option th:value=&quot;&#39;human resources&#39;&quot;&gt;HR&lt;/option&gt;\r\n     &lt;/select&gt;\r\n&lt;/fieldset&gt;\r\n```\r\nThe salary is displayed fine, on the other hand\r\n```html\r\n&lt;fieldset&gt;\r\n      &lt;label for=&quot;salary&quot;&gt;Salary: &lt;/label&gt;\r\n      &lt;input id=&quot;salary&quot; name=&quot;salary&quot; th:value=&quot;${user.salary}&quot;/&gt;\r\n&lt;/fieldset&gt;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/8781558/neither-bindingresult-nor-plain-target-object-for-bean-name-available-as-request\r\n  [2]: https://ru.stackoverflow.com/questions/1301884/neither-bindingresult-nor-plain-target-object-for-bean-name-addto-available-as\r\n  [3]: https://stackoverflow.com/questions/36375891/spring-4-neither-bindingresult-nor-plain-target-object\r\n  [4]: https://stackoverflow.com/questions/50928637/neither-bindingresult-nor-plain-target-object-for-bean-name-phonebook-availabl","title":"Thymeleaf can&#39;t access a list item&#39;s fields in my Bootstrap 4 project within the scope (&quot;Neither BindingResult nor plain target object...&quot;). Why?","body":"<p>I made a modal in my Bootstrap 4 view. But I get an error</p>\n<pre><code>ERROR 328 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.spring6.processor.SpringInputGeneralFieldTagProcessor' (template: &quot;admin&quot; - line 87, col 78)] with root cause\n\njava.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'user' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:926) ~[spring-webmvc-6.0.7.jar:6.0.7]\n</code></pre>\n<p>Here's a code snippet from my HTML view. I left a comment to show you which line causes an error</p>\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;tbody&gt;\n    &lt;!-- remember this user object below, I'll be referencing it later --&gt;\n                            &lt;tr th:each=&quot;user: ${users}&quot;&gt;\n                                &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\n                                &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\n                                &lt;td th:text=&quot;${user.lastName}&quot;&gt;&lt;/td&gt;\n                                &lt;td th:text=&quot;${user.department}&quot;&gt;&lt;/td&gt;\n                                &lt;td th:text=&quot;${user.salary}&quot;&gt;&lt;/td&gt;\n                                &lt;td th:text=&quot;${user.age}&quot;&gt;&lt;/td&gt;\n                                &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\n                                &lt;td&gt;\n                                    &lt;span th:each=&quot;role, iter : ${user.authorities}&quot;\n                                          th:text=&quot;${role.authority == 'USER' ? 'U' : (role.authority == 'ADMIN' ? 'A' : '')} + ${iter.last ? '' : ' '}&quot;&gt;&lt;/span&gt;\n                                &lt;/td&gt;\n                                &lt;td th:text=&quot;${user.isEnabled() ? '+' : '-'}&quot;&gt;&lt;/td&gt;\n    &lt;td class=&quot;btn-group btn-group-sm&quot;&gt;\n                                    &lt;a class=&quot;btn btn-outline-primary&quot; data-toggle=&quot;modal&quot; th:data-target=&quot;${'#updateModal' + user.username}&quot;&gt;Update&lt;/a&gt;\n                                    &lt;div class=&quot;modal&quot; th:id=&quot;${'updateModal' + user.username}&quot;&gt;\n                                        &lt;div class=&quot;modal-dialog&quot;&gt;\n                                            &lt;div class=&quot;modal-content&quot;&gt;\n\n                                                &lt;div class=&quot;modal-header&quot;&gt;\n                                                    &lt;h4 class=&quot;modal-title&quot; th:text=&quot;${'Edit ' + user.name + ' ' + user.lastName + ' (' + user.username + ')'}&quot;&gt;&lt;/h4&gt;\n                                                    &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot;&gt;&amp;times;&lt;/button&gt;\n                                                &lt;/div&gt;\n\n                                                &lt;div class=&quot;modal-body&quot;&gt;\n                                                    &lt;p th:text=&quot;'For the sake of privacy, you are only allowed to change the user\\'s department ' +\n                                                        'and salary. If you think ' + ${user.name} + '\\'s personal info needs to be altered, please request them to do so'&quot;&gt;&lt;/p&gt;\n\n&lt;!-- I also tried removing this th:object altogether ↓--&gt;\n\n                                                    &lt;form th:action=&quot;@{/save-user}&quot; th:object=&quot;${user}&quot; method=&quot;post&quot;&gt;\n    \n    &lt;!-- below is line 87 that causes an error. the user I try to reference here is the same user from th:each=&quot;user: ${users} in the code above --&gt;\n    \n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.id}&quot;&gt;\n\n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.username}&quot;&gt;\n\n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.password}&quot;&gt;\n\n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.name}&quot;&gt;\n\n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.lastName}&quot;&gt;\n\n                                                        &lt;fieldset&gt;\n                                                            &lt;label for=&quot;departments&quot;&gt;Department: &lt;/label&gt;\n                                                            &lt;select id=&quot;departments&quot; th:field=&quot;${user.department}&quot;&gt;\n                                                                &lt;option th:value=&quot;accounting&quot;&gt;Accounting&lt;/option&gt;\n                                                                &lt;option th:value=&quot;sales&quot;&gt;Sales&lt;/option&gt;\n                                                                &lt;option th:value=&quot;'information technology'&quot;&gt;IT&lt;/option&gt;\n                                                                &lt;option th:value=&quot;'human resources'&quot;&gt;HR&lt;/option&gt;\n                                                            &lt;/select&gt;\n                                                        &lt;/fieldset&gt;\n\n                                                        &lt;fieldset&gt;\n                                                            &lt;label for=&quot;salary&quot;&gt;Salary: &lt;/label&gt;\n                                                            &lt;input id=&quot;salary&quot; th:field=&quot;${user.salary}&quot;/&gt;\n                                                        &lt;/fieldset&gt;\n\n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.age}&quot;&gt;\n\n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.email}&quot;&gt;\n\n                                                        &lt;input type=&quot;hidden&quot; th:field=&quot;${user.enabledByte}&quot;&gt;\n\n                                                        &lt;input type=&quot;hidden&quot; th:name=&quot;authorities&quot;\n                                                               th:value=&quot;${#strings.toString(user.authorities)}&quot;/&gt;\n\n                                                        &lt;input class=&quot;main-button&quot; type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n                                                    &lt;/form&gt;\n                                                &lt;/div&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n</code></pre>\n<p><strong>For some reason, at line 87, Thymeleaf seemingly can't access that forEach user's fields anymore even though it's within the scope – the <code>&lt;tr&gt;</code> element that has the <code>th:each</code> attribute. Could you please tell me why that's so and how I can fix it?</strong></p>\n<p>The controller looks like this. As you see, there are no other attributes there that have the same name (&quot;user&quot;)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(&quot;/admin&quot;)\n    public String admin(Model model, Authentication authentication) {\n        model.addAttribute(&quot;users&quot;, service.getAllExceptLoggedUser(authentication))\n                .addAttribute(&quot;loggedUser&quot;, service.getLoggedUser(authentication))\n                .addAttribute(&quot;newUser&quot;, new User())\n                .addAttribute(&quot;adminRoleSet&quot;, service.getAdminRoleSet());\n        return &quot;admin&quot;;\n    }\n</code></pre>\n<p>Also, the IDE doesn't underline &quot;user&quot; anywhere in my view code so it apparently knows what user I'm talking about</p>\n<p>I read these StackOverflow questions: <a href=\"https://stackoverflow.com/questions/8781558/neither-bindingresult-nor-plain-target-object-for-bean-name-available-as-request\">1</a>, <a href=\"https://ru.stackoverflow.com/questions/1301884/neither-bindingresult-nor-plain-target-object-for-bean-name-addto-available-as\">2</a>, <a href=\"https://stackoverflow.com/questions/36375891/spring-4-neither-bindingresult-nor-plain-target-object\">3</a>, <a href=\"https://stackoverflow.com/questions/50928637/neither-bindingresult-nor-plain-target-object-for-bean-name-phonebook-availabl\">4</a>. They don't seem to have much to do with my question although they refer to the same error message</p>\n<p><strong>UPD:</strong> For some reason, changing, for example, this</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;hidden&quot; th:field=&quot;${user.id}&quot;&gt;\n</code></pre>\n<p>to this</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${user.id}&quot;&gt;\n</code></pre>\n<p>helped. It seems so anyway, I haven't properly tested it yet. At least, I am now able to see the view, the modals pop up. Feel free to share your ideas on what that &quot;some&quot; reason might be in the comments (or even write a full-fledged answer)</p>\n<p>Though there's one but. I hoped a user's current department will be selected in the drop-down list. Instead, it's simply the first one</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;fieldset&gt;\n     &lt;label for=&quot;departments&quot;&gt;Department: &lt;/label&gt;\n     &lt;select id=&quot;departments&quot; name=&quot;department&quot; th:value=&quot;${user.department}&quot;&gt;\n                  &lt;option th:value=&quot;accounting&quot;&gt;Accounting&lt;/option&gt;\n                  &lt;option th:value=&quot;sales&quot;&gt;Sales&lt;/option&gt;\n                  &lt;option th:value=&quot;'information technology'&quot;&gt;IT&lt;/option&gt;\n                  &lt;option th:value=&quot;'human resources'&quot;&gt;HR&lt;/option&gt;\n     &lt;/select&gt;\n&lt;/fieldset&gt;\n</code></pre>\n<p>The salary is displayed fine, on the other hand</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;fieldset&gt;\n      &lt;label for=&quot;salary&quot;&gt;Salary: &lt;/label&gt;\n      &lt;input id=&quot;salary&quot; name=&quot;salary&quot; th:value=&quot;${user.salary}&quot;/&gt;\n&lt;/fieldset&gt;\n</code></pre>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":15573539,"reputation":2428,"user_id":11235205,"display_name":"Minh-Long Luu"},"score":1,"creation_date":1680710777,"post_id":75941659,"comment_id":133945520,"body_markdown":"You can try adding more details about *did try some things but nothing worked.*","body":"You can try adding more details about <i>did try some things but nothing worked.</i>"},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1680710851,"post_id":75941659,"comment_id":133945539,"body_markdown":"show the code you&#39;ve written where you made an attempt to solve this problem","body":"show the code you&#39;ve written where you made an attempt to solve this problem"},{"owner":{"account_id":27063280,"reputation":21,"user_id":20615009,"display_name":"David"},"score":0,"creation_date":1680712530,"post_id":75941659,"comment_id":133946024,"body_markdown":"I tried to start a timer that should start after the command was executed so it should stop the bot from getting another command. But that was probably nonsense and just threw a lot of errors. I basically just want a cooldown that says &quot;Wait another 20 minutes until you can use this command again&quot; or something like that.","body":"I tried to start a timer that should start after the command was executed so it should stop the bot from getting another command. But that was probably nonsense and just threw a lot of errors. I basically just want a cooldown that says &quot;Wait another 20 minutes until you can use this command again&quot; or something like that."}],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680725138,"creation_date":1680724818,"answer_id":75943543,"question_id":75941659,"body_markdown":"You can store a timestamp of when the command was last used and then only allow using it if the time passed since that timestamp is over an hour.\r\n\r\nHere is an example:\r\n\r\n```java\r\nprivate final Map&lt;Long, Long&gt; timestamps = new HashMap&lt;&gt;();\r\n\r\n@Override\r\npublic void onMessageReceived(MessageReceivedEvent event) {\r\n    if (!event.getContentRaw().equals(&quot;&gt;deadchat&quot;)) return;\r\n    long channelId = event.getChannel().getIdLong();\r\n    long now = System.currentTimeMillis();\r\n    Long lastUsed = timestamps.get(channelId);\r\n    // Check how long ago the timestamp was\r\n    if (lastUsed != null &amp;&amp; now - lastUsed &lt; TimeUnit.HOURS.toMillis(1)) {\r\n        return; // cooldown of 1 hour\r\n    }\r\n    // Update timestamp to now, next use only permitted in an hour\r\n    timestamps.put(channelId, now);\r\n    \r\n    .... code that runs command ....\r\n}\r\n```","title":"Create a command that can only be used once in a specific timespan (JDA)","body":"<p>You can store a timestamp of when the command was last used and then only allow using it if the time passed since that timestamp is over an hour.</p>\n<p>Here is an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Map&lt;Long, Long&gt; timestamps = new HashMap&lt;&gt;();\n\n@Override\npublic void onMessageReceived(MessageReceivedEvent event) {\n    if (!event.getContentRaw().equals(&quot;&gt;deadchat&quot;)) return;\n    long channelId = event.getChannel().getIdLong();\n    long now = System.currentTimeMillis();\n    Long lastUsed = timestamps.get(channelId);\n    // Check how long ago the timestamp was\n    if (lastUsed != null &amp;&amp; now - lastUsed &lt; TimeUnit.HOURS.toMillis(1)) {\n        return; // cooldown of 1 hour\n    }\n    // Update timestamp to now, next use only permitted in an hour\n    timestamps.put(channelId, now);\n    \n    .... code that runs command ....\n}\n</code></pre>\n"}],"owner":{"account_id":27063280,"reputation":21,"user_id":20615009,"display_name":"David"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680725138,"creation_date":1680710497,"question_id":75941659,"body_markdown":"I&#39;m trying to code a `&gt;deadchat` command that can only be used once an hour, so people don&#39;t misuse it. I tried a few things like simple timers but nothing seems to work. Is there a specific method for that? (It&#39;s a simple text command in a MessageReceivedEvent if that matters)\r\n\r\n*btw: Please don&#39;t immediately close my post for too few details. It&#39;s just a simple question. If you need to know something more, ask. Also don&#39;t harass me for not knowing this. I&#39;m still learning. I did search on Google and this platform and I did try some things but nothing worked.*","title":"Create a command that can only be used once in a specific timespan (JDA)","body":"<p>I'm trying to code a <code>&gt;deadchat</code> command that can only be used once an hour, so people don't misuse it. I tried a few things like simple timers but nothing seems to work. Is there a specific method for that? (It's a simple text command in a MessageReceivedEvent if that matters)</p>\n<p><em>btw: Please don't immediately close my post for too few details. It's just a simple question. If you need to know something more, ask. Also don't harass me for not knowing this. I'm still learning. I did search on Google and this platform and I did try some things but nothing worked.</em></p>\n"},{"tags":["java","spring-boot","dockerfile","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680724955,"creation_date":1680724955,"answer_id":75943557,"question_id":75458058,"body_markdown":"Since you are getting an `OutOfMemoryError`, I&#39;d recommend using `-XX:+HeapDumpOnOutOfMemoryError` and then analyzing the heap dump in Eclipse MemoryAnalyzer, specifically looking at the leak suspect report.","title":"Java Open Telemetry Class Loading Issue","body":"<p>Since you are getting an <code>OutOfMemoryError</code>, I'd recommend using <code>-XX:+HeapDumpOnOutOfMemoryError</code> and then analyzing the heap dump in Eclipse MemoryAnalyzer, specifically looking at the leak suspect report.</p>\n"}],"owner":{"account_id":3239856,"reputation":87,"user_id":2733170,"display_name":"Raj V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680724955,"creation_date":1676454979,"question_id":75458058,"body_markdown":"I have a spring boot java project, which has a open telemetry jar. The service is packaged as a docker image and it is deployed on Kubernetes.\r\n\r\nWhen the service starts, this open telemetry jar tries to instantiate okHttpClient internally and fails. This instantiation in the open telemetry jar doesn&#39;t seem have retry limits, so it tries to load the class repeatedly. Eventually, the service shutsdown with OutOfMemoryError.\r\n\r\nThis behavior is sporadic. For eg - if there are multiple instances of the service running, occasionally 1 or 2 instances fail with this error. But when these instances are killed and restarted the issue doesn&#39;t come up again.\r\n\r\nAlso, the issue could not be replicated in the developer machines.\r\n\r\nCan someone please give me pointers on how to debug this issue?\r\n","title":"Java Open Telemetry Class Loading Issue","body":"<p>I have a spring boot java project, which has a open telemetry jar. The service is packaged as a docker image and it is deployed on Kubernetes.</p>\n<p>When the service starts, this open telemetry jar tries to instantiate okHttpClient internally and fails. This instantiation in the open telemetry jar doesn't seem have retry limits, so it tries to load the class repeatedly. Eventually, the service shutsdown with OutOfMemoryError.</p>\n<p>This behavior is sporadic. For eg - if there are multiple instances of the service running, occasionally 1 or 2 instances fail with this error. But when these instances are killed and restarted the issue doesn't come up again.</p>\n<p>Also, the issue could not be replicated in the developer machines.</p>\n<p>Can someone please give me pointers on how to debug this issue?</p>\n"},{"tags":["java","android","android-layout","screen","pixel"],"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680724950,"creation_date":1680724867,"question_id":75943547,"body_markdown":"Imagine that I have for example an ImageView that is inside a ConstraintLayout and it has the following constraints:\r\n\r\n```\r\n    android:id=&quot;@+id/myimageview&quot;\r\n    app:layout_constraintTop_toBottomOf=&quot;@id/myguideline&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n```\r\n\r\n&quot;myguideline&quot; has the following attributes:\r\n```\r\n\r\n&lt;androidx.constraintlayout.widget.Guideline\r\n    android:id=&quot;@+id/guideline&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    app:layout_constraintGuide_percent=&quot;0.4&quot; /&gt;\r\n```\r\n\r\n\r\nNow what I have thought that could be how Android determines the height of the ImageView is -&gt; \r\n     ImageView&#39;s height = usable_screen_height*0.6 (0.6 as the guideline is 0.4 so it is (1-0.4))\r\n\r\nI have tried to see if what I have thought is okay, so I have done the following:\r\n\r\n**First-&gt;** Calculation of usable screen\r\n```\r\n    Configuration configuration = getResources().getConfiguration();\r\n    float screenHeightDp = configuration.screenHeightDp;\r\n    float screenHeightPx = convertDptoPx(screenHeightDp, this)\r\n\r\n    public static float convertDptoPx(float dp, Context context){\r\n    return dp * ((float) context.getResources().getDisplayMetrics().densityDpi / \r\n    DisplayMetrics.DENSITY_DEFAULT);\r\n     }\r\n```\r\n**Second-&gt;** Calculation of ImageView&#39;s height:\r\n```\r\n     double imageviewcalculatedheight = Math.round(screenHeightPx * 0.6);\r\n\r\n```\r\n**Third-&gt;** Get the real height of the ImageView to compare it later with imageviewsheight\r\n```\r\n   ImageView myimageview = findViewById(R.id.myimageview);\r\n    myimageview.post(() -&gt; {\r\n               double realimageviewheight=myimageview.getHeight();\r\n    });\r\n```\r\n\r\n**Finaly-&gt;** Compare the calculated height with the real height\r\n\r\n     imageviewcalculatedheight==realimageviewheight ?\r\n\r\n\r\n\r\nI can answer that question and the answer is no. The difference is of only one pixel, but I don&#39;t understand why there is a pixel of difference if I have used the usable screen height to make the calculation... So how does Android set the height of the ImageView?","title":"How does Android calculate an element&#39;s height that is in a ConstraintLayout?","body":"<p>Imagine that I have for example an ImageView that is inside a ConstraintLayout and it has the following constraints:</p>\n<pre><code>    android:id=&quot;@+id/myimageview&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/myguideline&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n</code></pre>\n<p>&quot;myguideline&quot; has the following attributes:</p>\n<pre><code>\n&lt;androidx.constraintlayout.widget.Guideline\n    android:id=&quot;@+id/guideline&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:layout_constraintGuide_percent=&quot;0.4&quot; /&gt;\n</code></pre>\n<p>Now what I have thought that could be how Android determines the height of the ImageView is -&gt;\nImageView's height = usable_screen_height*0.6 (0.6 as the guideline is 0.4 so it is (1-0.4))</p>\n<p>I have tried to see if what I have thought is okay, so I have done the following:</p>\n<p><strong>First-&gt;</strong> Calculation of usable screen</p>\n<pre><code>    Configuration configuration = getResources().getConfiguration();\n    float screenHeightDp = configuration.screenHeightDp;\n    float screenHeightPx = convertDptoPx(screenHeightDp, this)\n\n    public static float convertDptoPx(float dp, Context context){\n    return dp * ((float) context.getResources().getDisplayMetrics().densityDpi / \n    DisplayMetrics.DENSITY_DEFAULT);\n     }\n</code></pre>\n<p><strong>Second-&gt;</strong> Calculation of ImageView's height:</p>\n<pre><code>     double imageviewcalculatedheight = Math.round(screenHeightPx * 0.6);\n\n</code></pre>\n<p><strong>Third-&gt;</strong> Get the real height of the ImageView to compare it later with imageviewsheight</p>\n<pre><code>   ImageView myimageview = findViewById(R.id.myimageview);\n    myimageview.post(() -&gt; {\n               double realimageviewheight=myimageview.getHeight();\n    });\n</code></pre>\n<p><strong>Finaly-&gt;</strong> Compare the calculated height with the real height</p>\n<pre><code> imageviewcalculatedheight==realimageviewheight ?\n</code></pre>\n<p>I can answer that question and the answer is no. The difference is of only one pixel, but I don't understand why there is a pixel of difference if I have used the usable screen height to make the calculation... So how does Android set the height of the ImageView?</p>\n"},{"tags":["java","spring-boot","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1680724241,"creation_date":1680724241,"answer_id":75943477,"question_id":75555133,"body_markdown":"My guess is that you are using the old annotation:\r\n\r\n&gt; `io.opentelemetry.extension.annotations.WithSpan`\r\n\r\nand `-Dotel.instrumentation.opentelemetry-instrumentation-annotations.enabled=true` applies to the new annotation:\r\n\r\n&gt; `io.opentelemetry.instrumentation.annotations.WithSpan`.","title":"Opentelemetry Java agent Not Send Span after config","body":"<p>My guess is that you are using the old annotation:</p>\n<blockquote>\n<p><code>io.opentelemetry.extension.annotations.WithSpan</code></p>\n</blockquote>\n<p>and <code>-Dotel.instrumentation.opentelemetry-instrumentation-annotations.enabled=true</code> applies to the new annotation:</p>\n<blockquote>\n<p><code>io.opentelemetry.instrumentation.annotations.WithSpan</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":13216359,"reputation":13,"user_id":9544756,"display_name":"J.chawol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75943477,"answer_count":1,"score":1,"last_activity_date":1680724241,"creation_date":1677232901,"question_id":75555133,"body_markdown":"Like tittle said after i set Vm Option\r\n```\r\n-Dotel.traces.exporter=jaeger\r\n-Dotel.metrics.exporter=none\r\n-Dotel.exporter.jaeger.endpoint=http://localhost:14250\r\n-Dotel.instrumentation.common.default-enabled=false\r\n-Dotel.instrumentation.opentelemetry-api.enabled=true\r\n-Dotel.instrumentation.opentelemetry-instrumentation-annotations.enabled=true\r\n```\r\nthe agent stop send any span to jaeger anymore\r\n\r\nacording to this doc https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/\r\nThe section Enable manual instrumentation only\r\nit&#39;s should only Export span with @Withspan annotation\r\nBut it&#39;s seems like export nothing \r\n\r\nAny Help?","title":"Opentelemetry Java agent Not Send Span after config","body":"<p>Like tittle said after i set Vm Option</p>\n<pre><code>-Dotel.traces.exporter=jaeger\n-Dotel.metrics.exporter=none\n-Dotel.exporter.jaeger.endpoint=http://localhost:14250\n-Dotel.instrumentation.common.default-enabled=false\n-Dotel.instrumentation.opentelemetry-api.enabled=true\n-Dotel.instrumentation.opentelemetry-instrumentation-annotations.enabled=true\n</code></pre>\n<p>the agent stop send any span to jaeger anymore</p>\n<p>acording to this doc <a href=\"https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/\" rel=\"nofollow noreferrer\">https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/</a>\nThe section Enable manual instrumentation only\nit's should only Export span with @Withspan annotation\nBut it's seems like export nothing</p>\n<p>Any Help?</p>\n"},{"tags":["java","docker","dockerfile","docker-machine","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680724047,"creation_date":1680724047,"answer_id":75943455,"question_id":75605629,"body_markdown":"&gt; Error opening zip file or JAR manifest missing :\r\n/agent/opentelemetry-javaagent.jar\r\n\r\nthis usually means that the file is not present, not readable (e.g. permissions), or it is not a valid jar file","title":"Create dockerFile along with java agent return error","body":"<blockquote>\n<p>Error opening zip file or JAR manifest missing :\n/agent/opentelemetry-javaagent.jar</p>\n</blockquote>\n<p>this usually means that the file is not present, not readable (e.g. permissions), or it is not a valid jar file</p>\n"}],"owner":{"account_id":4496339,"reputation":3703,"user_id":3656056,"accept_rate":53,"display_name":"VelNaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680724047,"creation_date":1677683724,"question_id":75605629,"body_markdown":"I am trying to dockerize a spring-boot application along with otel-javaagent but no-luck getting below exception all the time,\r\n\r\n```none\r\nPicked up JAVA_TOOL_OPTIONS:\r\n-javaagent:/agent/opentelemetry-javaagent.jar -Dotel.traces.exporter=otel -Dotel.metrics.exporter=none … (more) … Error occurred during initialization of VM agent library failed to\r\ninit: instrument Error opening zip file or JAR manifest missing :\r\n/agent/opentelemetry-javaagent.jar\r\n```\r\n\r\nThis is my dockerFile,\r\n\r\n    FROM maven:3.8.3-amazoncorretto-17\r\n    \r\n    RUN mkdir -p /agent\r\n    ADD https://github.com/open-telemetry/opentelemetry-java-instrumentation/releases/latest/download/opentelemetry-javaagent.jar /agent/opentelemetry-javaagent.jar\r\n    \r\n    ENV JAVA_TOOL_OPTIONS=&quot;-javaagent:/agent/opentelemetry-javaagent.jar \\\r\n    -Dotel.traces.exporter=xray \\\r\n    -Dotel.metrics.exporter=none&quot;\r\n    \r\n    VOLUME /srv/logs\r\n    \r\n    ARG JAR_FILE\r\n    COPY ${JAR_FILE} device-backend.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/device-backend.jar&quot;]\r\n\r\n\r\nBelow logs where generated when I generate a jar file,\r\n\r\n\r\n     [1/4] FROM docker.io/library/maven:3.8.3-amazoncorretto-17@sha256:02af1d85d3cd514a6489e2bc1c35c9af826d02f92297fd1c505b66cafad30213\r\n         https://github.com/open-telemetry/opentelemetry-java-instrumentation/releases/latest/download/opentelemetry-javaagent.jar [done: 1.023s]\r\n         [background] read source files 34.40MB [done: 2.319s]\r\n         [2/4] RUN mkdir -p /agent [cached]\r\n         [3/4] ADD https://github.com/open-telemetry/opentelemetry-java-instrumentation/releases/latest/download/opentelemetry-javaagent.jar /agent/opentelemetry-javaagent.jar [cached]\r\n         [4/4] COPY app/target/*.jar device-backend.jar [cached]\r\n         exporting to image [done: 20ms]\r\n\r\n\r\nI believe the jar file was downloaded and present in the path I mentioned but still the container is getting restarted with above exception. ","title":"Create dockerFile along with java agent return error","body":"<p>I am trying to dockerize a spring-boot application along with otel-javaagent but no-luck getting below exception all the time,</p>\n<pre class=\"lang-none prettyprint-override\"><code>Picked up JAVA_TOOL_OPTIONS:\n-javaagent:/agent/opentelemetry-javaagent.jar -Dotel.traces.exporter=otel -Dotel.metrics.exporter=none … (more) … Error occurred during initialization of VM agent library failed to\ninit: instrument Error opening zip file or JAR manifest missing :\n/agent/opentelemetry-javaagent.jar\n</code></pre>\n<p>This is my dockerFile,</p>\n<pre><code>FROM maven:3.8.3-amazoncorretto-17\n\nRUN mkdir -p /agent\nADD https://github.com/open-telemetry/opentelemetry-java-instrumentation/releases/latest/download/opentelemetry-javaagent.jar /agent/opentelemetry-javaagent.jar\n\nENV JAVA_TOOL_OPTIONS=&quot;-javaagent:/agent/opentelemetry-javaagent.jar \\\n-Dotel.traces.exporter=xray \\\n-Dotel.metrics.exporter=none&quot;\n\nVOLUME /srv/logs\n\nARG JAR_FILE\nCOPY ${JAR_FILE} device-backend.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/device-backend.jar&quot;]\n</code></pre>\n<p>Below logs where generated when I generate a jar file,</p>\n<pre><code> [1/4] FROM docker.io/library/maven:3.8.3-amazoncorretto-17@sha256:02af1d85d3cd514a6489e2bc1c35c9af826d02f92297fd1c505b66cafad30213\n     https://github.com/open-telemetry/opentelemetry-java-instrumentation/releases/latest/download/opentelemetry-javaagent.jar [done: 1.023s]\n     [background] read source files 34.40MB [done: 2.319s]\n     [2/4] RUN mkdir -p /agent [cached]\n     [3/4] ADD https://github.com/open-telemetry/opentelemetry-java-instrumentation/releases/latest/download/opentelemetry-javaagent.jar /agent/opentelemetry-javaagent.jar [cached]\n     [4/4] COPY app/target/*.jar device-backend.jar [cached]\n     exporting to image [done: 20ms]\n</code></pre>\n<p>I believe the jar file was downloaded and present in the path I mentioned but still the container is getting restarted with above exception.</p>\n"},{"tags":["java","automation","sonarqube"],"comments":[{"owner":{"account_id":68275,"reputation":1090,"user_id":199290,"accept_rate":84,"display_name":"Apache"},"score":0,"creation_date":1386767448,"post_id":20519939,"comment_id":30677550,"body_markdown":"Those 1200 cases for example does not sound like a real problem at all. Can&#39;t you just make it show errors only? (by the way any formatting tool like &quot;astyle&quot; could format your files. **but** I don&#39;t know if this is what it complains about. Edit your Q, include code of such error.)","body":"Those 1200 cases for example does not sound like a real problem at all. Can&#39;t you just make it show errors only? (by the way any formatting tool like &quot;astyle&quot; could format your files. <b>but</b> I don&#39;t know if this is what it complains about. Edit your Q, include code of such error.)"},{"owner":{"account_id":3362815,"reputation":161,"user_id":2824247,"display_name":"Prakhar Dixit"},"score":0,"creation_date":1386832915,"post_id":20519939,"comment_id":30709284,"body_markdown":"I know it is stupid and my first solution also was to remove them from the report , but the management wants it ! I have used the eclipse plugin for java code formatting and solved most of them.Thanks.","body":"I know it is stupid and my first solution also was to remove them from the report , but the management wants it ! I have used the eclipse plugin for java code formatting and solved most of them.Thanks."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1507823968,"post_id":20519939,"comment_id":80374456,"body_markdown":"See: http://www.walkmod.com/ and https://github.com/walkmod/","body":"See: <a href=\"http://www.walkmod.com/\" rel=\"nofollow noreferrer\">walkmod.com</a> and <a href=\"https://github.com/walkmod/\" rel=\"nofollow noreferrer\">github.com/walkmod</a>"},{"owner":{"account_id":6470949,"reputation":382,"user_id":5011127,"accept_rate":0,"display_name":"jpl"},"score":0,"creation_date":1590392135,"post_id":20519939,"comment_id":109652117,"body_markdown":"Today walkmod is a dead project with many issues.","body":"Today walkmod is a dead project with many issues."}],"answers":[{"comments":[{"owner":{"account_id":3362815,"reputation":161,"user_id":2824247,"display_name":"Prakhar Dixit"},"score":0,"creation_date":1386843841,"post_id":20520390,"comment_id":30714779,"body_markdown":"I don&#39;t want sonar to make changes , I am looking for a separate tool or plugin to do that after I have done code analysis from sonar.\nAnd the statement on separate lines is just an example , that could be solved by using code formatting.\nFor a better example I have 280 cases of &quot;if/else/for/while/do statements should always use curly braces&quot; , its painful to add 287*2 curly braces manually !! Or around 1000 cases of &quot;Avoid commented-out lines of code&quot; ....is there a way to do this automatically by giving instructions to a plugin ?","body":"I don&#39;t want sonar to make changes , I am looking for a separate tool or plugin to do that after I have done code analysis from sonar. And the statement on separate lines is just an example , that could be solved by using code formatting. For a better example I have 280 cases of &quot;if/else/for/while/do statements should always use curly braces&quot; , its painful to add 287*2 curly braces manually !! Or around 1000 cases of &quot;Avoid commented-out lines of code&quot; ....is there a way to do this automatically by giving instructions to a plugin ?"},{"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"score":0,"creation_date":1386844806,"post_id":20520390,"comment_id":30715311,"body_markdown":"Curlies can also be added by Save Actions or formatting in Eclipse. Comments are a different story, but can be achieved by regex replacement. But again, these are minor issues and could be removed from the profile or be edited.","body":"Curlies can also be added by Save Actions or formatting in Eclipse. Comments are a different story, but can be achieved by regex replacement. But again, these are minor issues and could be removed from the profile or be edited."}],"tags":[],"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1386768362,"creation_date":1386768362,"answer_id":20520390,"question_id":20519939,"body_markdown":"I don&#39;t think I would want Sonar to change source. It&#39;s a code *analyzer*. \r\n\r\nYou could configure your IDE to format on save and do an initial format of all afflicted source files, so that it puts the satements on separate lines.\r\n\r\nAlso, you might want to review the importance of the problem and change/edit the Quality Profile.","title":"Automate fixes for issues found by Sonar","body":"<p>I don't think I would want Sonar to change source. It's a code <em>analyzer</em>. </p>\n\n<p>You could configure your IDE to format on save and do an initial format of all afflicted source files, so that it puts the satements on separate lines.</p>\n\n<p>Also, you might want to review the importance of the problem and change/edit the Quality Profile.</p>\n"},{"comments":[{"owner":{"account_id":3362815,"reputation":161,"user_id":2824247,"display_name":"Prakhar Dixit"},"score":0,"creation_date":1386844231,"post_id":20522895,"comment_id":30714992,"body_markdown":"Thanks for the tool.\nBut i am looking for something that can actually do the code change in bulk for me.","body":"Thanks for the tool. But i am looking for something that can actually do the code change in bulk for me."}],"tags":[],"owner":{"account_id":425859,"reputation":4608,"user_id":806736,"accept_rate":75,"display_name":"Mithfindel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386775153,"creation_date":1386775153,"answer_id":20522895,"question_id":20519939,"body_markdown":"If you want to apply the same resolution to a big number of issues, you can use the [Bulk Change][1] feature (introduced in SonarQube 3.7 LTS).\r\n\r\nIn your particular case, you could also define [issue exclusion rules][2] to prevent these issues from being raised on selected parts of the code (introduced in SonarQube 4.0).\r\n\r\nFinally, if a particular rule annoys you to the point that it prevents you from working on real issues, you can disable this rule altogether in your quality profile.\r\n\r\n  [1]: http://docs.codehaus.org/display/SONAR/Bulk+Changes+on+Issues\r\n  [2]: http://docs.codehaus.org/display/SONAR/Narrowing+the+Focus#NarrowingtheFocus-IgnoreIssues","title":"Automate fixes for issues found by Sonar","body":"<p>If you want to apply the same resolution to a big number of issues, you can use the <a href=\"http://docs.codehaus.org/display/SONAR/Bulk+Changes+on+Issues\" rel=\"nofollow\">Bulk Change</a> feature (introduced in SonarQube 3.7 LTS).</p>\n\n<p>In your particular case, you could also define <a href=\"http://docs.codehaus.org/display/SONAR/Narrowing+the+Focus#NarrowingtheFocus-IgnoreIssues\" rel=\"nofollow\">issue exclusion rules</a> to prevent these issues from being raised on selected parts of the code (introduced in SonarQube 4.0).</p>\n\n<p>Finally, if a particular rule annoys you to the point that it prevents you from working on real issues, you can disable this rule altogether in your quality profile.</p>\n"},{"tags":[],"owner":{"account_id":2461839,"reputation":921,"user_id":2145839,"display_name":"Fabrice TIERCELIN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509303227,"creation_date":1509303227,"answer_id":47003999,"question_id":20519939,"body_markdown":"Do it step by step (for Eclipse IDE):\r\n\r\n1. You can use *Save action* on your whole project: Right-click on your Java project source -&gt; Source -&gt; Format...\r\n1. Right-click on your Java project source -&gt; Source -&gt; Clean Up...\r\n1. Use the *[AutoRefactor][1]* plugin: Right-click on your code -&gt; AutoRefactor -&gt; Automatic refactoring\r\n1. Use [WalkMod][2] (not tested).\r\n\r\n\r\n  [1]: https://marketplace.eclipse.org/content/autorefactor\r\n  [2]: http://www.walkmod.com/","title":"Automate fixes for issues found by Sonar","body":"<p>Do it step by step (for Eclipse IDE):</p>\n\n<ol>\n<li>You can use <em>Save action</em> on your whole project: Right-click on your Java project source -> Source -> Format...</li>\n<li>Right-click on your Java project source -> Source -> Clean Up...</li>\n<li>Use the <em><a href=\"https://marketplace.eclipse.org/content/autorefactor\" rel=\"nofollow noreferrer\">AutoRefactor</a></em> plugin: Right-click on your code -> AutoRefactor -> Automatic refactoring</li>\n<li>Use <a href=\"http://www.walkmod.com/\" rel=\"nofollow noreferrer\">WalkMod</a> (not tested).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9330550,"reputation":158,"user_id":6926440,"display_name":"Ashutosh Kumar Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1528980677,"creation_date":1528813725,"answer_id":50819653,"question_id":20519939,"body_markdown":"Currently there are no tools available for automatic fixing of sonarube bugs. There is [walkmod][1], but it is only for trivial code-smells.\r\n\r\nI am currently writing an automatic repair tool for sonarube bugs in java. It uses INRIA&#39;s [spoon][2] to fix the bugs. The github repo is [sonarqube-repair][3]. It has fixes for five bugs: rule numbers [1854][4], [1948][5], [2055][6], [2259][7] and [2095][8]. I will update this answer once there is some significant progress.\r\n\r\n\r\n  [1]: https://github.com/walkmod/walkmod-sonar-plugin\r\n  [2]: http://spoon.gforge.inria.fr/\r\n  [3]: https://github.com/kth-tcs/sonarqube-repair\r\n  [4]: https://rules.sonarsource.com/java/type/Bug/RSPEC-1854\r\n  [5]: https://rules.sonarsource.com/java/type/Bug/RSPEC-1948\r\n  [6]: https://rules.sonarsource.com/java/type/Bug/RSPEC-2055\r\n  [7]: https://rules.sonarsource.com/java/type/Bug/RSPEC-2259\r\n  [8]: https://rules.sonarsource.com/java/type/Bug/RSPEC-2095","title":"Automate fixes for issues found by Sonar","body":"<p>Currently there are no tools available for automatic fixing of sonarube bugs. There is <a href=\"https://github.com/walkmod/walkmod-sonar-plugin\" rel=\"noreferrer\">walkmod</a>, but it is only for trivial code-smells.</p>\n\n<p>I am currently writing an automatic repair tool for sonarube bugs in java. It uses INRIA's <a href=\"http://spoon.gforge.inria.fr/\" rel=\"noreferrer\">spoon</a> to fix the bugs. The github repo is <a href=\"https://github.com/kth-tcs/sonarqube-repair\" rel=\"noreferrer\">sonarqube-repair</a>. It has fixes for five bugs: rule numbers <a href=\"https://rules.sonarsource.com/java/type/Bug/RSPEC-1854\" rel=\"noreferrer\">1854</a>, <a href=\"https://rules.sonarsource.com/java/type/Bug/RSPEC-1948\" rel=\"noreferrer\">1948</a>, <a href=\"https://rules.sonarsource.com/java/type/Bug/RSPEC-2055\" rel=\"noreferrer\">2055</a>, <a href=\"https://rules.sonarsource.com/java/type/Bug/RSPEC-2259\" rel=\"noreferrer\">2259</a> and <a href=\"https://rules.sonarsource.com/java/type/Bug/RSPEC-2095\" rel=\"noreferrer\">2095</a>. I will update this answer once there is some significant progress.</p>\n"},{"tags":[],"owner":{"account_id":15629944,"reputation":1,"user_id":11276505,"display_name":"Romain D."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561534861,"creation_date":1561534861,"answer_id":56767671,"question_id":20519939,"body_markdown":"You should try https://www.sonarlint.org/, that should do the trick.","title":"Automate fixes for issues found by Sonar","body":"<p>You should try <a href=\"https://www.sonarlint.org/\" rel=\"nofollow noreferrer\">https://www.sonarlint.org/</a>, that should do the trick.</p>\n"},{"tags":[],"owner":{"account_id":16590714,"reputation":1,"user_id":11988959,"display_name":"Karuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566992487,"creation_date":1566992487,"answer_id":57691594,"question_id":20519939,"body_markdown":"You could use Viofixer tool -  https://www.viofixer.com/ \r\n\r\nVioFixer does automatic remediation of the issues reported by sonarqube. VioFixer help reduce the development time and secures completed applications by providing automatic vulnerability remediation options in the coding stage of software development. \r\n","title":"Automate fixes for issues found by Sonar","body":"<p>You could use Viofixer tool -  <a href=\"https://www.viofixer.com/\" rel=\"nofollow noreferrer\">https://www.viofixer.com/</a> </p>\n\n<p>VioFixer does automatic remediation of the issues reported by sonarqube. VioFixer help reduce the development time and secures completed applications by providing automatic vulnerability remediation options in the coding stage of software development. </p>\n"},{"tags":[],"owner":{"account_id":6470949,"reputation":382,"user_id":5011127,"accept_rate":0,"display_name":"jpl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590391946,"creation_date":1590391946,"answer_id":61997747,"question_id":20519939,"body_markdown":"Now JavaPerf Consulting launches a service offering tooled to resolve faults identified by SonarQube see more http://www.jperf.com. Soon you will have the product with a command line interface and automatic update.","title":"Automate fixes for issues found by Sonar","body":"<p>Now JavaPerf Consulting launches a service offering tooled to resolve faults identified by SonarQube see more <a href=\"http://www.jperf.com\" rel=\"nofollow noreferrer\">http://www.jperf.com</a>. Soon you will have the product with a command line interface and automatic update.</p>\n"},{"tags":[],"owner":{"account_id":1546528,"reputation":2209,"user_id":1439964,"accept_rate":64,"display_name":"blacelle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680723909,"creation_date":1680723909,"answer_id":75943435,"question_id":20519939,"body_markdown":"Cleanthat enables automatic fixing of various issues as reported by Sonar, PMD, CheckStyle and others.\r\n\r\n - See https://github.com/solven-eu/cleanthat\r\n - Sonar: https://github.com/solven-eu/cleanthat/blob/master/MUTATORS_BY_TAG.generated.MD#sonar\r\n\r\nIt is available through `mvn`, `gradle`, and as a GitHub App.","title":"Automate fixes for issues found by Sonar","body":"<p>Cleanthat enables automatic fixing of various issues as reported by Sonar, PMD, CheckStyle and others.</p>\n<ul>\n<li>See <a href=\"https://github.com/solven-eu/cleanthat\" rel=\"nofollow noreferrer\">https://github.com/solven-eu/cleanthat</a></li>\n<li>Sonar: <a href=\"https://github.com/solven-eu/cleanthat/blob/master/MUTATORS_BY_TAG.generated.MD#sonar\" rel=\"nofollow noreferrer\">https://github.com/solven-eu/cleanthat/blob/master/MUTATORS_BY_TAG.generated.MD#sonar</a></li>\n</ul>\n<p>It is available through <code>mvn</code>, <code>gradle</code>, and as a GitHub App.</p>\n"}],"owner":{"account_id":3362815,"reputation":161,"user_id":2824247,"display_name":"Prakhar Dixit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21759,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":20520390,"answer_count":8,"score":11,"last_activity_date":1680723909,"creation_date":1386767176,"question_id":20519939,"body_markdown":"I am working on fixing issues caught by sonar on a very old Java project(8 years old approximately ).\r\nIt is a huge project with a lot of faulty code that is caught by sonar.\r\nAlthough they are very trivial fixes but there are a number of them.\r\nIs there a way to automatically fix a series of similar issues ?\r\nLike i have around 1200 cases of &quot;statements should be on separate lines&quot; , to do it manually would take ages.\r\nCan i automate these fixes somehow ?\r\n","title":"Automate fixes for issues found by Sonar","body":"<p>I am working on fixing issues caught by sonar on a very old Java project(8 years old approximately ).\nIt is a huge project with a lot of faulty code that is caught by sonar.\nAlthough they are very trivial fixes but there are a number of them.\nIs there a way to automatically fix a series of similar issues ?\nLike i have around 1200 cases of \"statements should be on separate lines\" , to do it manually would take ages.\nCan i automate these fixes somehow ?</p>\n"},{"tags":["java","maven","jetty","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680723723,"creation_date":1680722657,"answer_id":75943296,"question_id":75671978,"body_markdown":"Try something like this:\r\n\r\n```\r\n&lt;project&gt;\r\n  ...\r\n\r\n  &lt;properties&gt;\r\n    &lt;opentelemetry.version&gt;1.24.0&lt;/opentelemetry.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;download-opentelemetry-javaagent&lt;/id&gt;\r\n            &lt;phase&gt;process-resources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;artifactItems&gt;\r\n                &lt;artifactItem&gt;\r\n                  &lt;groupId&gt;io.opentelemetry.javaagent&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;opentelemetry-javaagent&lt;/artifactId&gt;\r\n                  &lt;version&gt;${opentelemetry.version}&lt;/version&gt;\r\n                  &lt;destFileName&gt;opentelemetry-javaagent.jar&lt;/destFileName&gt;\r\n                &lt;/artifactItem&gt;\r\n              &lt;/artifactItems&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n        ...\r\n        &lt;configuration&gt;\r\n          ...\r\n          &lt;jvmArgs&gt;\r\n            &lt;jvmArg&gt;-javaagent:${project.build.directory}/opentelemetry-javaagent.jar&lt;/jvmArg&gt;\r\n          &lt;/jvmArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```","title":"How to instrument jetty plugin from maven with open telemetry?","body":"<p>Try something like this:</p>\n<pre><code>&lt;project&gt;\n  ...\n\n  &lt;properties&gt;\n    &lt;opentelemetry.version&gt;1.24.0&lt;/opentelemetry.version&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.5.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;download-opentelemetry-javaagent&lt;/id&gt;\n            &lt;phase&gt;process-resources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;artifactItems&gt;\n                &lt;artifactItem&gt;\n                  &lt;groupId&gt;io.opentelemetry.javaagent&lt;/groupId&gt;\n                  &lt;artifactId&gt;opentelemetry-javaagent&lt;/artifactId&gt;\n                  &lt;version&gt;${opentelemetry.version}&lt;/version&gt;\n                  &lt;destFileName&gt;opentelemetry-javaagent.jar&lt;/destFileName&gt;\n                &lt;/artifactItem&gt;\n              &lt;/artifactItems&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n        &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n        ...\n        &lt;configuration&gt;\n          ...\n          &lt;jvmArgs&gt;\n            &lt;jvmArg&gt;-javaagent:${project.build.directory}/opentelemetry-javaagent.jar&lt;/jvmArg&gt;\n          &lt;/jvmArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"}],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680723723,"creation_date":1678272068,"question_id":75671978,"body_markdown":"I am experimenting with adding open-telemetry to my Java projects.\r\n\r\nI have a project where I have an API based on swagger-ui as a jersey-based servlet. \r\n\r\nI normally run this using the jetty-maven plugin as a war:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jetty-maven-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;webApp&gt;\r\n                        &lt;war&gt;${project.build.directory}/main-api.war&lt;/war&gt;\r\n                    &lt;/webApp&gt;\r\n\r\n                    &lt;scan&gt;1&lt;/scan&gt;\r\n                    &lt;contextHandlers&gt;\r\n                        &lt;contextHandler implementation=&quot;org.eclipse.jetty.server.handler.ContextHandler&quot;&gt;\r\n                            &lt;contextPath&gt;/swagger-ui&lt;/contextPath&gt;\r\n                            &lt;resourceBase&gt;${project.build.directory}/${project.build.finalName}/swagger-ui\r\n                            &lt;/resourceBase&gt;\r\n                            &lt;handler implementation=&quot;org.eclipse.jetty.server.handler.ResourceHandler&quot;/&gt;\r\n                        &lt;/contextHandler&gt;\r\n                    &lt;/contextHandlers&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nHow can I add the  [opentelemetry-java-instrumentation][1] as java-agent to this proces?\r\n\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java-instrumentation%20opentelemetry-java-instrumentation","title":"How to instrument jetty plugin from maven with open telemetry?","body":"<p>I am experimenting with adding open-telemetry to my Java projects.</p>\n<p>I have a project where I have an API based on swagger-ui as a jersey-based servlet.</p>\n<p>I normally run this using the jetty-maven plugin as a war:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${jetty-maven-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;webApp&gt;\n                    &lt;war&gt;${project.build.directory}/main-api.war&lt;/war&gt;\n                &lt;/webApp&gt;\n\n                &lt;scan&gt;1&lt;/scan&gt;\n                &lt;contextHandlers&gt;\n                    &lt;contextHandler implementation=&quot;org.eclipse.jetty.server.handler.ContextHandler&quot;&gt;\n                        &lt;contextPath&gt;/swagger-ui&lt;/contextPath&gt;\n                        &lt;resourceBase&gt;${project.build.directory}/${project.build.finalName}/swagger-ui\n                        &lt;/resourceBase&gt;\n                        &lt;handler implementation=&quot;org.eclipse.jetty.server.handler.ResourceHandler&quot;/&gt;\n                    &lt;/contextHandler&gt;\n                &lt;/contextHandlers&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>How can I add the  <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation%20opentelemetry-java-instrumentation\" rel=\"nofollow noreferrer\">opentelemetry-java-instrumentation</a> as java-agent to this proces?</p>\n"},{"tags":["java","spring-boot","maven","spring-data-jpa","spring-rest"],"comments":[{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":0,"creation_date":1680699713,"post_id":75939722,"comment_id":133942140,"body_markdown":"&quot;_I used @Entity to create a table in mysql_&quot; I don&#39;t think `@Entity` creates tables - it just tells Spring which table to associate with.","body":"&quot;<i>I used @Entity to create a table in mysql</i>&quot; I don&#39;t think <code>@Entity</code> creates tables - it just tells Spring which table to associate with."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680723365,"creation_date":1680723365,"answer_id":75943384,"question_id":75939722,"body_markdown":"Please add following property. This is needed to enable an automatic generation of database tables from entities.\r\n\r\n    spring.jpa.generate-ddl=true","title":"How to solve the problem with creating a table in mysql using java?","body":"<p>Please add following property. This is needed to enable an automatic generation of database tables from entities.</p>\n<pre><code>spring.jpa.generate-ddl=true\n</code></pre>\n"}],"owner":{"account_id":27959269,"reputation":11,"user_id":21351444,"display_name":"Ira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75943384,"answer_count":1,"score":0,"last_activity_date":1680723365,"creation_date":1680699500,"question_id":75939722,"body_markdown":"I used @Entity to create a table in mysql. The program runs, but the table isn&#39;t created\r\n\r\n\r\npom.xml:\r\n\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.springboot.blog&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springboot-blog-rest-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;springboot-blog-rest-api&lt;/name&gt;\r\n\t&lt;description&gt;Spring boot blog application rest api&amp;apos;s&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\napplication.properties:\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/myblog\r\nspring.datasource.username=root\r\nspring.datasource.password=Yourschool2\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\nspring.jpa.properties.ddl-auto=update\r\n```\r\n\r\n\r\nclass Post:\r\n```\r\npackage com.springboot.blog.entity;\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n\r\n@Entity\r\n@Table(\r\n        name=&quot;posts&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;title&quot;})}\r\n)\r\npublic class Post {\r\n    @Id\r\n    @GeneratedValue(\r\n            strategy =  GenerationType.IDENTITY\r\n    )\r\n    private Long id;\r\n\r\n    @Column( name = &quot;title&quot;, nullable = false)\r\n    private String title;\r\n    @Column(name = &quot;description&quot;, nullable = false)\r\n    private String description;\r\n\r\n    @Column(name = &quot;content&quot;, nullable = false)\r\n    private String content;\r\n}\r\n```\r\n\r\nAnd the main method:\r\n```\r\npackage com.springboot.blog;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class SpringbootBlogRestApiApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(SpringbootBlogRestApiApplication.class, args);\r\n  }\r\n```\r\n\r\n\r\n\r\n\r\nI tried to delete\r\n`\r\n@Table(\r\n        name=&quot;posts&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;title&quot;})}\r\n)`\r\nfrom Post class. I thought I made wrong properties here.\r\nI also tried to сhange `    @GeneratedValue(\r\n            strategy =  GenerationType.IDENTITY\r\n    )`\r\nto \r\n`    @GeneratedValue(\r\n            strategy =  GenerationType.AUTO\r\n    )\r\n`\r\n\r\nNothing helps. I&#39;m new in spring. Can you say what may help to solve the problem?","title":"How to solve the problem with creating a table in mysql using java?","body":"<p>I used @Entity to create a table in mysql. The program runs, but the table isn't created</p>\n<p>pom.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.springboot.blog&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot-blog-rest-api&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springboot-blog-rest-api&lt;/name&gt;\n    &lt;description&gt;Spring boot blog application rest api&amp;apos;s&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/myblog\nspring.datasource.username=root\nspring.datasource.password=Yourschool2\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n\nspring.jpa.properties.ddl-auto=update\n</code></pre>\n<p>class Post:</p>\n<pre><code>package com.springboot.blog.entity;\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n\n@Entity\n@Table(\n        name=&quot;posts&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;title&quot;})}\n)\npublic class Post {\n    @Id\n    @GeneratedValue(\n            strategy =  GenerationType.IDENTITY\n    )\n    private Long id;\n\n    @Column( name = &quot;title&quot;, nullable = false)\n    private String title;\n    @Column(name = &quot;description&quot;, nullable = false)\n    private String description;\n\n    @Column(name = &quot;content&quot;, nullable = false)\n    private String content;\n}\n</code></pre>\n<p>And the main method:</p>\n<pre><code>package com.springboot.blog;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SpringbootBlogRestApiApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(SpringbootBlogRestApiApplication.class, args);\n  }\n</code></pre>\n<p>I tried to delete\n<code> @Table( name=&quot;posts&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;title&quot;})} )</code>\nfrom Post class. I thought I made wrong properties here.\nI also tried to сhange <code>    @GeneratedValue( strategy =  GenerationType.IDENTITY )</code>\nto\n<code>   @GeneratedValue( strategy =  GenerationType.AUTO )</code></p>\n<p>Nothing helps. I'm new in spring. Can you say what may help to solve the problem?</p>\n"},{"tags":["java","google-cloud-storage","google-bigquery-java"],"answers":[{"tags":[],"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680723271,"creation_date":1680723271,"answer_id":75943374,"question_id":75902224,"body_markdown":"Issue is with escaping double quotes in the csv file. They need to be escaped with another double quotes for double quotes inside the csv field.\r\n\r\n&gt; &quot;PagerDuty - Research adding attachments to \\\\&quot;Create PD Incident\\\\&quot; shortcut&quot;\r\n\r\nthey have to be replaced with the below field\r\n\r\n&gt;&quot;PagerDuty - Research adding attachments to &quot;&quot;Create PD Incident&quot;&quot; shortcut&quot;\r\n\r\n","title":"BQ load from csv file stored in storage using java client","body":"<p>Issue is with escaping double quotes in the csv file. They need to be escaped with another double quotes for double quotes inside the csv field.</p>\n<blockquote>\n<p>&quot;PagerDuty - Research adding attachments to \\&quot;Create PD Incident\\&quot; shortcut&quot;</p>\n</blockquote>\n<p>they have to be replaced with the below field</p>\n<blockquote>\n<p>&quot;PagerDuty - Research adding attachments to &quot;&quot;Create PD Incident&quot;&quot; shortcut&quot;</p>\n</blockquote>\n"}],"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75943374,"answer_count":1,"score":1,"last_activity_date":1680723271,"creation_date":1680291719,"question_id":75902224,"body_markdown":"Tried to load into existing BQ table from csv file stored in the bucket using google BQ client but ran into this error. Not sure how can I figure out this position in the csv file. I replaced all the NULL strings with &quot;&quot; values and also surrounding each column with double quote. Thougth I solved all issues but ran into this issue and don&#39;t know how to get around it. Any help would be appreciated.\r\n\r\n&gt; &quot;com.google.cloud.bigquery.BigQueryException: Error while reading\r\n&gt; data, error message: Error detected while parsing row starting at\r\n&gt; position: 178031. Error: Data between close double quote (&quot;) and field\r\n&gt; separator. File: gs://merch-meter/Merch-Meter-jira-issues-03-31-2023&quot;\r\n\r\nThis is the code that generates a row in the csv file\r\n\r\n    public static String createCsvRecord(Issue issue) {\r\n    \t\tString sprintstartdate = (issue.getSprintstartdate() == null) ? &quot;&quot; : DateUtil.getUtcDatetime(issue.getSprintstartdate());\r\n    \t\tString sprintenddate = (issue.getSprintenddate() == null) ? &quot;&quot; : DateUtil.getUtcDatetime(issue.getSprintenddate());\r\n    \t\tString createddate = (issue.getCreateddate() == null) ? &quot;&quot; : DateUtil.getUtcDatetime(issue.getCreateddate());\r\n    \t\tString completeddate = (issue.getCompleteddate() == null) ? &quot;&quot; : DateUtil.getUtcDatetime(issue.getCompleteddate());\r\n    \t\tString lastupdateddate = (issue.getLastupdateddate() == null) ? &quot;&quot; : DateUtil.getUtcDatetime(issue.getLastupdateddate());\r\n    \t\tString issueName = Utils.escapeSpecialCharacters(issue.getIssueName());\r\n    \t\tString parentId = StringUtils.isNotBlank(issue.getParentId())? issue.getParentId():&quot;&quot;;\r\n    \t\tString parentType = StringUtils.isNotBlank(issue.getParentType())? issue.getParentType():&quot;&quot;;\r\n    \t\tString lastUpdatedUser = StringUtils.isNotBlank(issue.getLastupdateduser()) &amp;&amp;\r\n    \t\t\t\t!issue.getLastupdateduser().equalsIgnoreCase(&quot;null&quot;)? issue.getLastupdateduser():&quot;&quot;;\r\n    \t\tString labels = Utils.escapeSpecialCharacters(issue.getLabels());\r\n    \t\tif(StringUtils.isNotBlank(issueName) &amp;&amp; StringUtils.contains(issueName, &quot;,&quot;))\r\n    \t\t\tissueName = issueName.replace(&quot;,&quot;, &quot; &quot;);\r\n    \r\n    \t\tStringBuilder csvStringBuilder = new StringBuilder();\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getTeamid()).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getJiraboardid()).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getIssueid()).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getIssuetype()).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getSprintId()).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getStatus()).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(createddate).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(completeddate).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(sprintstartdate).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(sprintenddate).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(lastUpdatedUser).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(lastupdateddate).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getIssuepoints().intValue()).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getCreator_emailAddress()).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getCreator_displayName()).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getCreator_accountId()).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.isCreator_isActive()).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getComponents()).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(labels).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(issueName).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(parentId).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(parentType).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.isDeleted()).append(&quot;\\&quot;,&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\&quot;&quot;).append(DateUtil.getUtcDatetime(new Date())).append(&quot;\\&quot;&quot;);\r\n    \t\tcsvStringBuilder.append(&quot;\\n&quot;);\r\n    \t\treturn csvStringBuilder.toString();\r\n    \t}\r\n\r\nLet me know if you need the csv file and will upload it to G drive after redacting it.","title":"BQ load from csv file stored in storage using java client","body":"<p>Tried to load into existing BQ table from csv file stored in the bucket using google BQ client but ran into this error. Not sure how can I figure out this position in the csv file. I replaced all the NULL strings with &quot;&quot; values and also surrounding each column with double quote. Thougth I solved all issues but ran into this issue and don't know how to get around it. Any help would be appreciated.</p>\n<blockquote>\n<p>&quot;com.google.cloud.bigquery.BigQueryException: Error while reading\ndata, error message: Error detected while parsing row starting at\nposition: 178031. Error: Data between close double quote (&quot;) and field\nseparator. File: gs://merch-meter/Merch-Meter-jira-issues-03-31-2023&quot;</p>\n</blockquote>\n<p>This is the code that generates a row in the csv file</p>\n<pre><code>public static String createCsvRecord(Issue issue) {\n        String sprintstartdate = (issue.getSprintstartdate() == null) ? &quot;&quot; : DateUtil.getUtcDatetime(issue.getSprintstartdate());\n        String sprintenddate = (issue.getSprintenddate() == null) ? &quot;&quot; : DateUtil.getUtcDatetime(issue.getSprintenddate());\n        String createddate = (issue.getCreateddate() == null) ? &quot;&quot; : DateUtil.getUtcDatetime(issue.getCreateddate());\n        String completeddate = (issue.getCompleteddate() == null) ? &quot;&quot; : DateUtil.getUtcDatetime(issue.getCompleteddate());\n        String lastupdateddate = (issue.getLastupdateddate() == null) ? &quot;&quot; : DateUtil.getUtcDatetime(issue.getLastupdateddate());\n        String issueName = Utils.escapeSpecialCharacters(issue.getIssueName());\n        String parentId = StringUtils.isNotBlank(issue.getParentId())? issue.getParentId():&quot;&quot;;\n        String parentType = StringUtils.isNotBlank(issue.getParentType())? issue.getParentType():&quot;&quot;;\n        String lastUpdatedUser = StringUtils.isNotBlank(issue.getLastupdateduser()) &amp;&amp;\n                !issue.getLastupdateduser().equalsIgnoreCase(&quot;null&quot;)? issue.getLastupdateduser():&quot;&quot;;\n        String labels = Utils.escapeSpecialCharacters(issue.getLabels());\n        if(StringUtils.isNotBlank(issueName) &amp;&amp; StringUtils.contains(issueName, &quot;,&quot;))\n            issueName = issueName.replace(&quot;,&quot;, &quot; &quot;);\n\n        StringBuilder csvStringBuilder = new StringBuilder();\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getTeamid()).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getJiraboardid()).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getIssueid()).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getIssuetype()).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getSprintId()).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getStatus()).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(createddate).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(completeddate).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(sprintstartdate).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(sprintenddate).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(lastUpdatedUser).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(lastupdateddate).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getIssuepoints().intValue()).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getCreator_emailAddress()).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getCreator_displayName()).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getCreator_accountId()).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.isCreator_isActive()).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.getComponents()).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(labels).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(issueName).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(parentId).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(parentType).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(issue.isDeleted()).append(&quot;\\&quot;,&quot;);\n        csvStringBuilder.append(&quot;\\&quot;&quot;).append(DateUtil.getUtcDatetime(new Date())).append(&quot;\\&quot;&quot;);\n        csvStringBuilder.append(&quot;\\n&quot;);\n        return csvStringBuilder.toString();\n    }\n</code></pre>\n<p>Let me know if you need the csv file and will upload it to G drive after redacting it.</p>\n"},{"tags":["java","ordinals","icu4j"],"comments":[{"owner":{"display_name":"user15773347"},"score":0,"creation_date":1680707401,"post_id":75941066,"comment_id":133944462,"body_markdown":"You can use PluralRules. https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/com/ibm/icu/text/PluralRules.html","body":"You can use PluralRules. <a href=\"https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/com/ibm/icu/text/PluralRules.html\" rel=\"nofollow noreferrer\">unicode-org.github.io/icu-docs/apidoc/released/icu4j/com/ibm&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1680709119,"post_id":75941066,"comment_id":133945021,"body_markdown":"For me, your code does not return `0`. It throws `java.text.ParseException: Unparseable number: &quot;FOURTH&quot;`.","body":"For me, your code does not return <code>0</code>. It throws <code>java.text.ParseException: Unparseable number: &quot;FOURTH&quot;</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680721843,"post_id":75941066,"comment_id":133948154,"body_markdown":"Interestingly, I found several existing questions that ask about integer to ordinal text, but this is the only Question I could find asking about the opposite, ordinal text to integer.","body":"Interestingly, I found several existing questions that ask about integer to ordinal text, but this is the only Question I could find asking about the opposite, ordinal text to integer."}],"answers":[{"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1680717751,"post_id":75942580,"comment_id":133947231,"body_markdown":"Nice! A word of warning: This works for `THIRTY-THIRD` - but for `THIRTYTHIRD`, it incorrectly returns `30` (with no errors). So, this relies on hyphenation (and spelling, of course).","body":"Nice! A word of warning: This works for <code>THIRTY-THIRD</code> - but for <code>THIRTYTHIRD</code>, it incorrectly returns <code>30</code> (with no errors). So, this relies on hyphenation (and spelling, of course)."}],"tags":[],"owner":{"account_id":25566369,"reputation":66,"user_id":19347667,"display_name":"Christian Phillips"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680722540,"creation_date":1680716846,"answer_id":75942580,"question_id":75941066,"body_markdown":"So I read up on the [Javadoc documentation][1] of [icu4j][2] and the [`RuleBasedNumberFormat`][3] does not have FOURTH as a parsable string although it does support four. And instead of using [`RuleBasedNumberFormat.ORDINAL`][4] uses [RuleBasedNumberFormat.SPELLOUT][5]. \r\n\r\n\r\n```java\r\nRuleBasedNumberFormat formatter = new RuleBasedNumberFormat( Locale.US , RuleBasedNumberFormat.SPELLOUT );\r\ntry\r\n{\r\n    int result = formatter.parse( &quot;FOURTH&quot;.toLowerCase( Locale.ROOT ) ).intValue();\r\n    System.out.println( &quot;result = &quot; + result );\r\n}\r\ncatch ( ParseException e )\r\n{\r\n    … add code to handle exception.\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;4\r\n\r\nThis is what the code should look like and make sure to use .toLowerCase(Locale.ROOT) because parse does not work on upperCase strings.\r\n\r\n\r\n  [1]: https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/\r\n  [2]: https://unicode-org.github.io/icu/userguide/icu4j/\r\n  [3]: https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/com/ibm/icu/text/RuleBasedNumberFormat.html\r\n  [4]: https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/com/ibm/icu/text/RuleBasedNumberFormat.html#ORDINAL\r\n  [5]: https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/com/ibm/icu/text/RuleBasedNumberFormat.html#SPELLOUT","title":"Convert an ordinal string to an integer with icu4j","body":"<p>So I read up on the <a href=\"https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/\" rel=\"nofollow noreferrer\">Javadoc documentation</a> of <a href=\"https://unicode-org.github.io/icu/userguide/icu4j/\" rel=\"nofollow noreferrer\">icu4j</a> and the <a href=\"https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/com/ibm/icu/text/RuleBasedNumberFormat.html\" rel=\"nofollow noreferrer\"><code>RuleBasedNumberFormat</code></a> does not have FOURTH as a parsable string although it does support four. And instead of using <a href=\"https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/com/ibm/icu/text/RuleBasedNumberFormat.html#ORDINAL\" rel=\"nofollow noreferrer\"><code>RuleBasedNumberFormat.ORDINAL</code></a> uses <a href=\"https://unicode-org.github.io/icu-docs/apidoc/released/icu4j/com/ibm/icu/text/RuleBasedNumberFormat.html#SPELLOUT\" rel=\"nofollow noreferrer\">RuleBasedNumberFormat.SPELLOUT</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>RuleBasedNumberFormat formatter = new RuleBasedNumberFormat( Locale.US , RuleBasedNumberFormat.SPELLOUT );\ntry\n{\n    int result = formatter.parse( &quot;FOURTH&quot;.toLowerCase( Locale.ROOT ) ).intValue();\n    System.out.println( &quot;result = &quot; + result );\n}\ncatch ( ParseException e )\n{\n    … add code to handle exception.\n}\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>4</p>\n</blockquote>\n<p>This is what the code should look like and make sure to use .toLowerCase(Locale.ROOT) because parse does not work on upperCase strings.</p>\n"}],"owner":{"account_id":20807291,"reputation":33,"user_id":15281963,"display_name":"dojie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75942580,"answer_count":1,"score":3,"last_activity_date":1680722540,"creation_date":1680707113,"question_id":75941066,"body_markdown":"I am attempting to convert an ordinal string, say &quot;FOURTH&quot; to integer 4. How can I accomplish this with the [*International Components for Unicode*][1] library for Java, [icu4j][2]?\r\n\r\n```\r\nRuleBasedNumberFormat formatter = new RuleBasedNumberFormat(Locale.US, RuleBasedNumberFormat.ORDINAL);\r\n\r\nreturn formatter.parse(&quot;FOURTH&quot;).intValue();\r\n```\r\n\r\nSeems like this is not working, as 0 is being returned.\r\nI&#39;m expecting this to return 4.\r\n\r\nAny help would be appreciated. Thank you. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/International_Components_for_Unicode\r\n  [2]: https://unicode-org.github.io/icu/userguide/icu4j/","title":"Convert an ordinal string to an integer with icu4j","body":"<p>I am attempting to convert an ordinal string, say &quot;FOURTH&quot; to integer 4. How can I accomplish this with the <a href=\"https://en.wikipedia.org/wiki/International_Components_for_Unicode\" rel=\"nofollow noreferrer\"><em>International Components for Unicode</em></a> library for Java, <a href=\"https://unicode-org.github.io/icu/userguide/icu4j/\" rel=\"nofollow noreferrer\">icu4j</a>?</p>\n<pre><code>RuleBasedNumberFormat formatter = new RuleBasedNumberFormat(Locale.US, RuleBasedNumberFormat.ORDINAL);\n\nreturn formatter.parse(&quot;FOURTH&quot;).intValue();\n</code></pre>\n<p>Seems like this is not working, as 0 is being returned.\nI'm expecting this to return 4.</p>\n<p>Any help would be appreciated. Thank you.</p>\n"},{"tags":["java","maven","configuration","version","maven-compiler-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1606239590,"post_id":64991402,"comment_id":114901520,"body_markdown":"Please upgrade your maven-compiler-plugin version....The configuration is given for the maven-war-plugin which does not handle such configuration. The plugin is maven-compile-plugin instead... Why do you have a separate maven-war-pugin configured? Furthermore if you like to set encoding please set the property: `&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;` that  will make the  `&lt;encoding&gt;..&lt;/encoding&gt;` in your configuration superfluous.","body":"Please upgrade your maven-compiler-plugin version....The configuration is given for the maven-war-plugin which does not handle such configuration. The plugin is maven-compile-plugin instead... Why do you have a separate maven-war-pugin configured? Furthermore if you like to set encoding please set the property: <code>&lt;project.build.sourceEncoding&gt;UTF-8&lt;&#47;project.build.sourceEnc&zwnj;&#8203;oding&gt;</code> that  will make the  <code>&lt;encoding&gt;..&lt;&#47;encoding&gt;</code> in your configuration superfluous."},{"owner":{"account_id":20030956,"reputation":21,"user_id":14683743,"display_name":"White Dante"},"score":0,"creation_date":1606242445,"post_id":64991402,"comment_id":114902920,"body_markdown":"I am not interested to replace the &quot;maven-war-plugin&quot; with &quot;maven-compile-plugin&quot;.  The reason why is that it will give me a Warning &quot;An illegal reflective access operation has occurred&quot; when i upgrade to jdk 1.9+.   Thanks K for the advice about the sourceEncoding. I will try it :)","body":"I am not interested to replace the &quot;maven-war-plugin&quot; with &quot;maven-compile-plugin&quot;.  The reason why is that it will give me a Warning &quot;An illegal reflective access operation has occurred&quot; when i upgrade to jdk 1.9+.   Thanks K for the advice about the sourceEncoding. I will try it :)"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1606245122,"post_id":64991402,"comment_id":114904049,"body_markdown":"Please follow khmarbaise&#39;s advice. You use the the maven war plugin incorrectly. The configuration need to be in the maven compile plugin.","body":"Please follow khmarbaise&#39;s advice. You use the the maven war plugin incorrectly. The configuration need to be in the maven compile plugin."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1606245962,"post_id":64991402,"comment_id":114904383,"body_markdown":"The error message is telling you that there is a problem with maven-compiler-plugin.  That is the configuration you need to fix, not maven-war-plugin.","body":"The error message is telling you that there is a problem with maven-compiler-plugin.  That is the configuration you need to fix, not maven-war-plugin."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1606256951,"post_id":64991402,"comment_id":114908630,"body_markdown":"Consider using a better IDE which can help you fix things like this.","body":"Consider using a better IDE which can help you fix things like this."},{"owner":{"account_id":20030956,"reputation":21,"user_id":14683743,"display_name":"White Dante"},"score":0,"creation_date":1608157288,"post_id":64991402,"comment_id":115500605,"body_markdown":"@VGR, the maven-compiler-plugin is nowhere found in my pom.xml file.  Therefore, i assume if not provided, an internal version can be used when running from Maven Build Install and/or if it is provided from the pom in the &lt;properties&gt; section.","body":"@VGR, the maven-compiler-plugin is nowhere found in my pom.xml file.  Therefore, i assume if not provided, an internal version can be used when running from Maven Build Install and/or if it is provided from the pom in the &lt;properties&gt; section."}],"answers":[{"tags":[],"owner":{"account_id":1529851,"reputation":1106,"user_id":9486645,"display_name":"Supercoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680722330,"creation_date":1606238028,"answer_id":64991507,"question_id":64991402,"body_markdown":"Add the following lines in your pom.xml file should resolve your problem.   \r\n\r\n   \t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\nfor java 11 use:\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n\r\nIf you may take in consideration the advises that were provided to you. You would have 2 options to choose from: \r\n\r\n**Option 1)** If you keep the &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;. Update version to the latest then add the properties with the compiler info and sourceEncoding but **remove the configuration lines**:\r\n\r\n    &lt;properties&gt;\r\n    \t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n    \t\r\n    \t..\r\n    \t&lt;plugin&gt;\r\n    \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        \t&lt;version&gt;3.3.1&lt;/version&gt;\r\n    \t&lt;/plugin&gt;\r\n    \t..\r\n    &lt;/build&gt;\r\n\r\n**Option 2)** If you replace &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt; with the &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; ** There are no need to add/replace the source, target and encoding to the properties**.  Make sure to update the version to the latest:\r\n\r\n\r\n    &lt;build&gt;\r\n    \t..\r\n    \t&lt;plugin&gt;\r\n    \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t&lt;configuration&gt;\r\n    \t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n    \t\t&lt;/configuration&gt;\r\n    \t&lt;/plugin&gt;\r\n    \t..\r\n    &lt;/build&gt;\r\n\r\n","title":"java 1.7+ is not supported in -source 1.5 errors","body":"<p>Add the following lines in your pom.xml file should resolve your problem.</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>for java 11 use:</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>If you may take in consideration the advises that were provided to you. You would have 2 options to choose from:</p>\n<p><strong>Option 1)</strong> If you keep the maven-war-plugin. Update version to the latest then add the properties with the compiler info and sourceEncoding but <strong>remove the configuration lines</strong>:</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n&lt;build&gt;\n    \n    ..\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/plugin&gt;\n    ..\n&lt;/build&gt;\n</code></pre>\n<p><strong>Option 2)</strong> If you replace maven-war-plugin with the maven-compiler-plugin ** There are no need to add/replace the source, target and encoding to the properties**.  Make sure to update the version to the latest:</p>\n<pre><code>&lt;build&gt;\n    ..\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    ..\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":20030956,"reputation":21,"user_id":14683743,"display_name":"White Dante"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680722330,"creation_date":1606237617,"question_id":64991402,"body_markdown":"I&#39;m getting all sort of java errors not supported in -source 1.5 when creating my Maven Install in eclipse.  There is nothing wrong with my code. \r\n\r\nErrors follows:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1\r\n    [23,62] multi-catch statement is not supported in -source 1.5 \r\n    [241,29] try-with-resources is not supported in -source 1.5\r\n    [156,64] diamond operator is not supported in -source 1.5\r\n\r\nMy pom configuration follows:\r\n\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.3&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;","title":"java 1.7+ is not supported in -source 1.5 errors","body":"<p>I'm getting all sort of java errors not supported in -source 1.5 when creating my Maven Install in eclipse.  There is nothing wrong with my code.</p>\n<p>Errors follows:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1\n[23,62] multi-catch statement is not supported in -source 1.5 \n[241,29] try-with-resources is not supported in -source 1.5\n[156,64] diamond operator is not supported in -source 1.5\n</code></pre>\n<p>My pom configuration follows:</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.3&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1680759240,"post_id":75942334,"comment_id":133953226,"body_markdown":"I cannot spot the issue at a first glance, but since you&#39;re using Java, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseAuthentication).","body":"I cannot spot the issue at a first glance, but since you&#39;re using Java, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseAuthentication\" rel=\"nofollow noreferrer\">repo</a>."},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1680768222,"post_id":75942334,"comment_id":133954903,"body_markdown":"You added this library ? `implementation &quot;com.google.firebase:firebase-core:17.2.0&quot;\nimplementation &quot;com.google.firebase:firebase-auth:19.1.0&quot;\nimplementation &quot;com.google.firebase:firebase-firestore:21.1.1&quot;\nimplementation &quot;com.google.android.gms:play-services-auth:17.0.0&quot;\nimplementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0-beta01&#39;`","body":"You added this library ? <code>implementation &quot;com.google.firebase:firebase-core:17.2.0&quot; implementation &quot;com.google.firebase:firebase-auth:19.1.0&quot; implementation &quot;com.google.firebase:firebase-firestore:21.1.1&quot; implementation &quot;com.google.android.gms:play-services-auth:17.0.0&quot; implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0-beta01&#39;</code>"}],"answers":[{"comments":[{"owner":{"account_id":27706333,"reputation":11,"user_id":21149884,"display_name":"Hussain Mohiuddin Boogeyman"},"score":0,"creation_date":1680749350,"post_id":75943250,"comment_id":133952158,"body_markdown":"it is still not working","body":"it is still not working"},{"owner":{"account_id":27706333,"reputation":11,"user_id":21149884,"display_name":"Hussain Mohiuddin Boogeyman"},"score":0,"creation_date":1680749470,"post_id":75943250,"comment_id":133952173,"body_markdown":"sir still not working","body":"sir still not working"}],"tags":[],"owner":{"account_id":5767670,"reputation":623,"user_id":4552093,"display_name":"craya"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680722233,"creation_date":1680722233,"answer_id":75943250,"question_id":75942334,"body_markdown":"The `createAccount` view isn&#39;t starting the activity because you defined the `logtxt` view to start the activity.  You would need to move the `startActivity` call into your listener on `createAccount` for it to work as you&#39;re describing.","title":"How to redirect the user from register activity to main activity?","body":"<p>The <code>createAccount</code> view isn't starting the activity because you defined the <code>logtxt</code> view to start the activity.  You would need to move the <code>startActivity</code> call into your listener on <code>createAccount</code> for it to work as you're describing.</p>\n"}],"owner":{"account_id":27706333,"reputation":11,"user_id":21149884,"display_name":"Hussain Mohiuddin Boogeyman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680722233,"creation_date":1680715145,"question_id":75942334,"body_markdown":"I want to redirect the user to &quot;LoginActivity&quot; when he clicks the button &quot;CreateAccount&quot; but it is not doing it, need help!  \r\nwhen I click the &quot;CreateAccount&quot; button once nothing happens but for the second time the Toast shows there is already a user with the same emailadress and in my database the user was registered, Can&#39;t figure out any problem.\r\n\r\n    //register activity\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.text.TextUtils;\r\n    import android.util.Log;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Objects;\r\n    \r\n    public class RegisterActivity extends AppCompatActivity {\r\n        private EditText FullName, UserName, EmailAdress, Password,ConfirmPassword;\r\n        private DatabaseReference Mrootref;\r\n        private FirebaseAuth Mauth;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_register);\r\n    \r\n            FullName=findViewById(R.id.FullName);\r\n            UserName=findViewById(R.id.UserName);\r\n            EmailAdress=findViewById(R.id.EmailAddress);\r\n            Password=findViewById(R.id.Password);\r\n            ConfirmPassword=findViewById(R.id.ConfirmPassword);\r\n            Button createAccount = findViewById(R.id.CreateAccount);\r\n            TextView logtxt = findViewById(R.id.blogin);\r\n    \r\n    //        Database Reference\r\n            Mrootref=FirebaseDatabase.getInstance().getReference();\r\n            Mauth=FirebaseAuth.getInstance();\r\n    \r\n    \r\n    \r\n            createAccount.setOnClickListener(view -&gt; {\r\n                String txtFullName=FullName.getText().toString();\r\n                String txtUserName=UserName.getText().toString();\r\n                String txtEmailAdress=EmailAdress.getText().toString();\r\n                String txtPassword=Password.getText().toString();\r\n                String txtConfirmPassword=ConfirmPassword.getText().toString();\r\n                if(TextUtils.isEmpty(txtFullName)||TextUtils.isEmpty(txtUserName)||TextUtils.isEmpty(txtEmailAdress)||TextUtils.isEmpty(txtPassword)||TextUtils.isEmpty(txtConfirmPassword)) {\r\n                    Toast.makeText(RegisterActivity.this, &quot;You have missed something&quot;, Toast.LENGTH_SHORT).show();\r\n                }else if (txtPassword.length() &lt;= 7) {\r\n                        Toast.makeText(RegisterActivity.this, &quot;The Password must have atleast 8 character&quot;, Toast.LENGTH_SHORT).show();\r\n                    }else if(!txtPassword.equals(txtConfirmPassword)) {\r\n                        Toast.makeText(RegisterActivity.this, &quot;The Password You Entered is not same check it again&quot;, Toast.LENGTH_SHORT).show();\r\n                    }else{\r\n                    registerUser(txtFullName, txtUserName, txtEmailAdress, txtPassword);\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n            logtxt.setOnClickListener(view -&gt; startActivity(new Intent(RegisterActivity.this,LoginActivity.class)));\r\n    \r\n    //        Removeable Lines\r\n            TextView skip = findViewById(R.id.skip);\r\n            skip.setOnClickListener(view -&gt; {\r\n                Intent hmActivity = new Intent(RegisterActivity.this, MainActivity.class);\r\n                startActivity(hmActivity);\r\n            });\r\n        }\r\n        public void registerUser(final String FullName, final String UserName, final String EmailAdress, final String Password){\r\n            Mauth.createUserWithEmailAndPassword(EmailAdress, Password).addOnSuccessListener(authResult -&gt; {\r\n                HashMap&lt;String, Object&gt; map=new HashMap&lt;&gt;();\r\n                map.put(&quot;fullname&quot;, FullName);\r\n                map.put(&quot;username&quot;, UserName);\r\n                map.put(&quot;emailadress&quot;, EmailAdress);\r\n                map.put(&quot;id&quot;, Objects.requireNonNull(Mauth.getCurrentUser()).getUid());\r\n    \r\n                Mrootref.child(&quot;Users&quot;).child(Mauth.getCurrentUser().getUid()).setValue(map).addOnCompleteListener(task -&gt; {\r\n                    if (task.isSuccessful()){\r\n                        Intent intent=new Intent(RegisterActivity.this, LoginActivity.class).addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                        Log.d(&quot;RegisterActivity&quot;, &quot;User registration completed&quot;);\r\n                        Toast.makeText(RegisterActivity.this, &quot;Welcome to DreamOway!&quot;, Toast.LENGTH_SHORT).show();\r\n                        Log.d(&quot;RegisterActivity&quot;, &quot;Starting MainActivity&quot;);\r\n                        startActivity(intent);\r\n                        finish();\r\n                    }\r\n                });\r\n            }).addOnFailureListener(e -&gt; {\r\n                Log.d(&quot;RegisterActivity&quot;, &quot;Error in database operation: &quot; + e.getMessage());\r\n            });\r\n        }\r\n    }\r\n    \r\n\r\n```\r\napp level gradle build \r\n```\r\n\r\n    \r\n    `plugins {\r\n         id &#39;com.android.application&#39; id &#39;com.google.gms.google-services&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.example.dreamoway&#39; compileSdk 33\r\n        defaultConfig {\r\n        applicationId &quot;com.example.dreamoway&quot;\r\n        minSdk 26\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    }\r\n    \r\n    dependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-bom:31.4.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    }`\r\n\r\n`//project level gradle.build`\r\n\r\n    `buildscript { dependencies {\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n    \r\n    }\r\n    } plugins { id &#39;com.android.application&#39; version &#39;7.4.2&#39; apply false id &#39;com.android.library&#39; version &#39;7.4.2&#39; apply false id &#39;com.google.android.libraries.mapsplatform.secrets-gradle-plugin&#39; version &#39;2.0.1&#39; apply false }`","title":"How to redirect the user from register activity to main activity?","body":"<p>I want to redirect the user to &quot;LoginActivity&quot; when he clicks the button &quot;CreateAccount&quot; but it is not doing it, need help!<br />\nwhen I click the &quot;CreateAccount&quot; button once nothing happens but for the second time the Toast shows there is already a user with the same emailadress and in my database the user was registered, Can't figure out any problem.</p>\n<pre><code>//register activity\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport androidx.appcompat.app.AppCompatActivity;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\nimport java.util.HashMap;\nimport java.util.Objects;\n\npublic class RegisterActivity extends AppCompatActivity {\n    private EditText FullName, UserName, EmailAdress, Password,ConfirmPassword;\n    private DatabaseReference Mrootref;\n    private FirebaseAuth Mauth;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n\n        FullName=findViewById(R.id.FullName);\n        UserName=findViewById(R.id.UserName);\n        EmailAdress=findViewById(R.id.EmailAddress);\n        Password=findViewById(R.id.Password);\n        ConfirmPassword=findViewById(R.id.ConfirmPassword);\n        Button createAccount = findViewById(R.id.CreateAccount);\n        TextView logtxt = findViewById(R.id.blogin);\n\n//        Database Reference\n        Mrootref=FirebaseDatabase.getInstance().getReference();\n        Mauth=FirebaseAuth.getInstance();\n\n\n\n        createAccount.setOnClickListener(view -&gt; {\n            String txtFullName=FullName.getText().toString();\n            String txtUserName=UserName.getText().toString();\n            String txtEmailAdress=EmailAdress.getText().toString();\n            String txtPassword=Password.getText().toString();\n            String txtConfirmPassword=ConfirmPassword.getText().toString();\n            if(TextUtils.isEmpty(txtFullName)||TextUtils.isEmpty(txtUserName)||TextUtils.isEmpty(txtEmailAdress)||TextUtils.isEmpty(txtPassword)||TextUtils.isEmpty(txtConfirmPassword)) {\n                Toast.makeText(RegisterActivity.this, &quot;You have missed something&quot;, Toast.LENGTH_SHORT).show();\n            }else if (txtPassword.length() &lt;= 7) {\n                    Toast.makeText(RegisterActivity.this, &quot;The Password must have atleast 8 character&quot;, Toast.LENGTH_SHORT).show();\n                }else if(!txtPassword.equals(txtConfirmPassword)) {\n                    Toast.makeText(RegisterActivity.this, &quot;The Password You Entered is not same check it again&quot;, Toast.LENGTH_SHORT).show();\n                }else{\n                registerUser(txtFullName, txtUserName, txtEmailAdress, txtPassword);\n            }\n        });\n\n\n\n        logtxt.setOnClickListener(view -&gt; startActivity(new Intent(RegisterActivity.this,LoginActivity.class)));\n\n//        Removeable Lines\n        TextView skip = findViewById(R.id.skip);\n        skip.setOnClickListener(view -&gt; {\n            Intent hmActivity = new Intent(RegisterActivity.this, MainActivity.class);\n            startActivity(hmActivity);\n        });\n    }\n    public void registerUser(final String FullName, final String UserName, final String EmailAdress, final String Password){\n        Mauth.createUserWithEmailAndPassword(EmailAdress, Password).addOnSuccessListener(authResult -&gt; {\n            HashMap&lt;String, Object&gt; map=new HashMap&lt;&gt;();\n            map.put(&quot;fullname&quot;, FullName);\n            map.put(&quot;username&quot;, UserName);\n            map.put(&quot;emailadress&quot;, EmailAdress);\n            map.put(&quot;id&quot;, Objects.requireNonNull(Mauth.getCurrentUser()).getUid());\n\n            Mrootref.child(&quot;Users&quot;).child(Mauth.getCurrentUser().getUid()).setValue(map).addOnCompleteListener(task -&gt; {\n                if (task.isSuccessful()){\n                    Intent intent=new Intent(RegisterActivity.this, LoginActivity.class).addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                    Log.d(&quot;RegisterActivity&quot;, &quot;User registration completed&quot;);\n                    Toast.makeText(RegisterActivity.this, &quot;Welcome to DreamOway!&quot;, Toast.LENGTH_SHORT).show();\n                    Log.d(&quot;RegisterActivity&quot;, &quot;Starting MainActivity&quot;);\n                    startActivity(intent);\n                    finish();\n                }\n            });\n        }).addOnFailureListener(e -&gt; {\n            Log.d(&quot;RegisterActivity&quot;, &quot;Error in database operation: &quot; + e.getMessage());\n        });\n    }\n}\n</code></pre>\n<pre><code>app level gradle build \n</code></pre>\n<pre><code>`plugins {\n     id 'com.android.application' id 'com.google.gms.google-services'\n}\n\nandroid {\n    namespace 'com.example.dreamoway' compileSdk 33\n    defaultConfig {\n    applicationId &quot;com.example.dreamoway&quot;\n    minSdk 26\n    targetSdk 33\n    versionCode 1\n    versionName &quot;1.0&quot;\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n}\n\ndependencies {\nimplementation 'androidx.appcompat:appcompat:1.6.1'\nimplementation 'com.google.android.material:material:1.8.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\nimplementation 'de.hdodenhof:circleimageview:3.1.0'\nimplementation 'com.google.firebase:firebase-database:20.1.0'\nimplementation 'com.google.firebase:firebase-auth:21.2.0'\nimplementation 'com.google.firebase:firebase-bom:31.4.0'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.5'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}`\n</code></pre>\n<p><code>//project level gradle.build</code></p>\n<pre><code>`buildscript { dependencies {\n    classpath 'com.google.gms:google-services:4.3.15'\n\n}\n} plugins { id 'com.android.application' version '7.4.2' apply false id 'com.android.library' version '7.4.2' apply false id 'com.google.android.libraries.mapsplatform.secrets-gradle-plugin' version '2.0.1' apply false }`\n</code></pre>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1680802809,"post_id":75943229,"comment_id":133963199,"body_markdown":"Draw to a FrameBuffer instead of a Pixmap. You can get the color buffer texture from the FrameBuffer to draw into your scene.","body":"Draw to a FrameBuffer instead of a Pixmap. You can get the color buffer texture from the FrameBuffer to draw into your scene."}],"owner":{"account_id":25790037,"reputation":11,"user_id":19534248,"display_name":"MyCatBulka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680722018,"creation_date":1680722018,"question_id":75943229,"body_markdown":"Is there any way to display new pictures every frame in LibGDX that doesn&#39;t call a new texture object every frame as it takes so long?\r\n\r\n\r\nI need to draw a new image on each frame, but if I translate this image into a Pixmap from which the texture is created, then the fps drops from 4000-5000 frames to 40-60. Moreover, the transfer of the image from the BufferedImage to the Pixmap does not take so long, and the creation of the Texture object is completed very slowly.","title":"How to display a rapidly changing image in libGDX?","body":"<p>Is there any way to display new pictures every frame in LibGDX that doesn't call a new texture object every frame as it takes so long?</p>\n<p>I need to draw a new image on each frame, but if I translate this image into a Pixmap from which the texture is created, then the fps drops from 4000-5000 frames to 40-60. Moreover, the transfer of the image from the BufferedImage to the Pixmap does not take so long, and the creation of the Texture object is completed very slowly.</p>\n"},{"tags":["java","spring","jakarta-ee","ejb","spring-java-config"],"answers":[{"comments":[{"owner":{"account_id":390557,"reputation":1327,"user_id":750703,"accept_rate":62,"display_name":"Pierre"},"score":0,"creation_date":1466004311,"post_id":37839602,"comment_id":63140084,"body_markdown":"additionally, you can inject your properties if you want to externalise those.","body":"additionally, you can inject your properties if you want to externalise those."}],"tags":[],"owner":{"account_id":390557,"reputation":1327,"user_id":750703,"accept_rate":62,"display_name":"Pierre"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1466004268,"creation_date":1466004268,"answer_id":37839602,"question_id":37818227,"body_markdown":"You don&#39;t need to call explicity the afterProperties method since that&#39;s part of spring bean lifecycle. Additionally if you declare the bean as a factory bean, spring will automatically use the getObject to get the real object when it is needed. Here is the modified code\r\n\r\n        @Bean\r\n    public FactoryBean getLoginManagerFactory(){\r\n        SimpleRemoteStatelessSessionProxyFactoryBean factory = new SimpleRemoteStatelessSessionProxyFactoryBean();\r\n        String beanName = &quot;jndi.ejb3.LoginManager&quot;;\r\n        factory.setJndiName(beanName);\r\n        factory.setBusinessInterface(LoginManager.class);\r\n        Properties p = new Properties();\r\n        p.setProperty(&quot;java.naming.factory.initial&quot;, &quot;org.jnp.interfaces.NamingContextFactory&quot; );\r\n        p.setProperty(&quot;java.naming.factory.url.pkgs&quot;, &quot;org.jboss.naming:org.jnp.interfaces&quot; );\r\n        p.setProperty(&quot;java.naming.provider.url&quot;, &quot;jnp:localhost:1099&quot;);\r\n        factory.setJndiEnvironment(p);\r\n    return factory;\r\n    }\r\n\r\n","title":"How to define Remote EJBs Beans in Spring using annotation-based configuration (ie: JavaConfig)","body":"<p>You don't need to call explicity the afterProperties method since that's part of spring bean lifecycle. Additionally if you declare the bean as a factory bean, spring will automatically use the getObject to get the real object when it is needed. Here is the modified code</p>\n\n<pre><code>    @Bean\npublic FactoryBean getLoginManagerFactory(){\n    SimpleRemoteStatelessSessionProxyFactoryBean factory = new SimpleRemoteStatelessSessionProxyFactoryBean();\n    String beanName = \"jndi.ejb3.LoginManager\";\n    factory.setJndiName(beanName);\n    factory.setBusinessInterface(LoginManager.class);\n    Properties p = new Properties();\n    p.setProperty(\"java.naming.factory.initial\", \"org.jnp.interfaces.NamingContextFactory\" );\n    p.setProperty(\"java.naming.factory.url.pkgs\", \"org.jboss.naming:org.jnp.interfaces\" );\n    p.setProperty(\"java.naming.provider.url\", \"jnp:localhost:1099\");\n    factory.setJndiEnvironment(p);\nreturn factory;\n}\n</code></pre>\n"}],"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3188,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37839602,"answer_count":1,"score":2,"last_activity_date":1680721713,"creation_date":1465924145,"question_id":37818227,"body_markdown":"I&#39;m trying to figure out the best way to define Remote EJB 3 beans in Spring 4.x using JavaConfig (annotation-based configuration).\r\n\r\nI&#39;ve looked at the [Spring Docs for `&lt;jee:remote-slsb&gt;`][1] and have hacked together a functional configuration, but it is terrible:\r\n\r\n    @Bean\r\n    public LoginManager getLoginManager(){\r\n    \tSimpleRemoteStatelessSessionProxyFactoryBean factory = new SimpleRemoteStatelessSessionProxyFactoryBean();\r\n    \tString beanName = &quot;jndi.ejb3.LoginManager&quot;;\r\n    \tfactory.setJndiName(beanName);\r\n    \tfactory.setBusinessInterface(LoginManager.class);\r\n    \tProperties p = new Properties();\r\n    \tp.setProperty(&quot;java.naming.factory.initial&quot;, &quot;org.jnp.interfaces.NamingContextFactory&quot; );\r\n    \tp.setProperty(&quot;java.naming.factory.url.pkgs&quot;, &quot;org.jboss.naming:org.jnp.interfaces&quot; );\r\n    \tp.setProperty(&quot;java.naming.provider.url&quot;, &quot;jnp:localhost:1099&quot;);\r\n    \tfactory.setJndiEnvironment(p);\r\n    \ttry {\r\n    \t\tfactory.afterPropertiesSet();\r\n    \t} catch (NamingException e1) {\r\n    \t\te1.printStackTrace();\r\n    \t}\r\n    \treturn (LoginManager) factory.getObject();\r\n    }\r\n\r\n\r\nI shouldn&#39;t be calling `afterPropertiesSet()` in the bean definition, and I would have expected that the `getObject()` should be automatically called by Spring.  Furthermore, it also means defining the factory for every Remote EJB that I want to load, which doesn&#39;t seem right.  I would have liked/expected a way I could define a reusable factory and just pass it the Interface/JNDI name for each bean creation, but that doesn&#39;t work.\r\n\r\nThe [spring docs][2] indicate:\r\n\r\n&gt; Also, with @Bean methods, you will typically choose to use\r\n&gt; programmatic JNDI lookups: either using Spring’s\r\n&gt; JndiTemplate/JndiLocatorDelegate helpers or straight JNDI\r\n&gt; InitialContext usage, but not the JndiObjectFactoryBean variant which\r\n&gt; would force you to declare the return type as the FactoryBean type\r\n&gt; instead of the actual target type, making it harder to use for\r\n&gt; cross-reference calls in other @Bean methods that intend to refer to\r\n&gt; the provided resource here.\r\n\r\nSo now I&#39;m confused what to do.\r\n\r\nThe [EJB Specific spring docs][3] also recommend using the `SimpleRemoteStatelessSessionProxyFactoryBean`:\r\n\r\n&gt; Defining explicit `&lt;jee:local-slsb&gt;` / `&lt;jee:remote-slsb&gt;` lookups simply\r\n&gt; provides consistent and more explicit EJB access configuration.\r\n\r\n\r\nSo how do I do this cleanly?\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/xsd-configuration.html#xsd-config-body-schemas-jee-remote-slsb\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-java-lifecycle-callbacks\r\n  [3]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/ejb.html#ejb-access-ejb2-ejb3","title":"How to define Remote EJBs Beans in Spring using annotation-based configuration (ie: JavaConfig)","body":"<p>I'm trying to figure out the best way to define Remote EJB 3 beans in Spring 4.x using JavaConfig (annotation-based configuration).</p>\n\n<p>I've looked at the <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/xsd-configuration.html#xsd-config-body-schemas-jee-remote-slsb\" rel=\"nofollow\">Spring Docs for <code>&lt;jee:remote-slsb&gt;</code></a> and have hacked together a functional configuration, but it is terrible:</p>\n\n<pre><code>@Bean\npublic LoginManager getLoginManager(){\n    SimpleRemoteStatelessSessionProxyFactoryBean factory = new SimpleRemoteStatelessSessionProxyFactoryBean();\n    String beanName = \"jndi.ejb3.LoginManager\";\n    factory.setJndiName(beanName);\n    factory.setBusinessInterface(LoginManager.class);\n    Properties p = new Properties();\n    p.setProperty(\"java.naming.factory.initial\", \"org.jnp.interfaces.NamingContextFactory\" );\n    p.setProperty(\"java.naming.factory.url.pkgs\", \"org.jboss.naming:org.jnp.interfaces\" );\n    p.setProperty(\"java.naming.provider.url\", \"jnp:localhost:1099\");\n    factory.setJndiEnvironment(p);\n    try {\n        factory.afterPropertiesSet();\n    } catch (NamingException e1) {\n        e1.printStackTrace();\n    }\n    return (LoginManager) factory.getObject();\n}\n</code></pre>\n\n<p>I shouldn't be calling <code>afterPropertiesSet()</code> in the bean definition, and I would have expected that the <code>getObject()</code> should be automatically called by Spring.  Furthermore, it also means defining the factory for every Remote EJB that I want to load, which doesn't seem right.  I would have liked/expected a way I could define a reusable factory and just pass it the Interface/JNDI name for each bean creation, but that doesn't work.</p>\n\n<p>The <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-java-lifecycle-callbacks\" rel=\"nofollow\">spring docs</a> indicate:</p>\n\n<blockquote>\n  <p>Also, with @Bean methods, you will typically choose to use\n  programmatic JNDI lookups: either using Spring’s\n  JndiTemplate/JndiLocatorDelegate helpers or straight JNDI\n  InitialContext usage, but not the JndiObjectFactoryBean variant which\n  would force you to declare the return type as the FactoryBean type\n  instead of the actual target type, making it harder to use for\n  cross-reference calls in other @Bean methods that intend to refer to\n  the provided resource here.</p>\n</blockquote>\n\n<p>So now I'm confused what to do.</p>\n\n<p>The <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/ejb.html#ejb-access-ejb2-ejb3\" rel=\"nofollow\">EJB Specific spring docs</a> also recommend using the <code>SimpleRemoteStatelessSessionProxyFactoryBean</code>:</p>\n\n<blockquote>\n  <p>Defining explicit <code>&lt;jee:local-slsb&gt;</code> / <code>&lt;jee:remote-slsb&gt;</code> lookups simply\n  provides consistent and more explicit EJB access configuration.</p>\n</blockquote>\n\n<p>So how do I do this cleanly?</p>\n"},{"tags":["java","activemq","amqp","qpid"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1680622940,"post_id":75931201,"comment_id":133927737,"body_markdown":"Can you elaborate on your use-case? There is no concept of routing key or even of &quot;VirtualTopic&quot; in JMS. If you want to keep your code portable so that you can swap brokers eventually you should almost certainly avoid these non-spec elements as they will be have different or not even be available on other brokers.","body":"Can you elaborate on your use-case? There is no concept of routing key or even of &quot;VirtualTopic&quot; in JMS. If you want to keep your code portable so that you can swap brokers eventually you should almost certainly avoid these non-spec elements as they will be have different or not even be available on other brokers."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1680623097,"post_id":75931201,"comment_id":133927782,"body_markdown":"Also, keep in mind that if you&#39;re using Qpid JMS and Spring Boot 3 with ActiveMQ &quot;Classic&quot; you will have limited functionality since ActiveMQ &quot;Classic&quot; doesn&#39;t fully implement JMS 2.","body":"Also, keep in mind that if you&#39;re using Qpid JMS and Spring Boot 3 with ActiveMQ &quot;Classic&quot; you will have limited functionality since ActiveMQ &quot;Classic&quot; doesn&#39;t fully implement JMS 2."},{"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"score":0,"creation_date":1680625121,"post_id":75931201,"comment_id":133928252,"body_markdown":"Also keep in mind that amqp-1-0-client-jms 0.32 is a deprecated client that doesn&#39;t support the complete AMQP 1.0 JMS mapping which will likely cause issues with most JMS / AMQP brokers","body":"Also keep in mind that amqp-1-0-client-jms 0.32 is a deprecated client that doesn&#39;t support the complete AMQP 1.0 JMS mapping which will likely cause issues with most JMS / AMQP brokers"},{"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"score":0,"creation_date":1680625382,"post_id":75931201,"comment_id":133928317,"body_markdown":"And also keep in mind the &quot;routing-key&quot; is not a mechanic in the AMQP 1.0 specification but a leftover from the non-standard AMQP 0.10 draft which is not an official specification.","body":"And also keep in mind the &quot;routing-key&quot; is not a mechanic in the AMQP 1.0 specification but a leftover from the non-standard AMQP 0.10 draft which is not an official specification."},{"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"score":0,"creation_date":1680678462,"post_id":75931201,"comment_id":133936835,"body_markdown":"ok thanks for all this explaination! thats more clear for me ;) i m just at the beginning of my research. thanks","body":"ok thanks for all this explaination! thats more clear for me ;) i m just at the beginning of my research. thanks"},{"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"score":0,"creation_date":1680698790,"post_id":75931201,"comment_id":133941829,"body_markdown":"@JustinBertram another question, does it possible with apache qpid to send an exchange with binding TEST.* and activemq forward this message on all queue that match this pattern? i think amqp work like this no or i miss something? thanks","body":"@JustinBertram another question, does it possible with apache qpid to send an exchange with binding TEST.* and activemq forward this message on all queue that match this pattern? i think amqp work like this no or i miss something? thanks"},{"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"score":0,"creation_date":1680699681,"post_id":75931201,"comment_id":133942130,"body_markdown":"AMQP 1.0 doesn&#39;t have the same mechanics as the older AMQP 0.x draft specifications, there are no exchanges or bindings.  You should have a read of the AMQP 1.0 specification.","body":"AMQP 1.0 doesn&#39;t have the same mechanics as the older AMQP 0.x draft specifications, there are no exchanges or bindings.  You should have a read of the AMQP 1.0 specification."},{"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"score":0,"creation_date":1680702173,"post_id":75931201,"comment_id":133942828,"body_markdown":"I would suggest framing a new question based just on use of a singular client like Qpid JMS and the broker (Artemis) and what it is you want to accomplish using Topics and Queues as those are the client mechanics you would be working with along with broker configuration..","body":"I would suggest framing a new question based just on use of a singular client like Qpid JMS and the broker (Artemis) and what it is you want to accomplish using Topics and Queues as those are the client mechanics you would be working with along with broker configuration.."}],"answers":[{"tags":[],"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680721553,"creation_date":1680721553,"answer_id":75943172,"question_id":75931201,"body_markdown":"Consider inverting your app design to have consumers declare their interest vs the publisher sending to a list (or wildcard match) of destinations.\r\n\r\nA good tenant of pub-sub is to separate producers and consumers from addressing and this reduces coupling. This is one of the more powerful features of Virtual Topics-- they are super practical. \r\n\r\nThere is nothing out-of-spec about using Virtual Topics. Producers simply publish to a topic, and consumers read from queues. This capability is available in several JMS-spec brokers, and does not lock you into ActiveMQ. The difference with ActiveMQ 5 is that the administrative overhead is super low.\r\n\r\n1. Publish message to a &#39;topic&#39; - &quot;TEST.EVENT&quot; \r\n\r\n2. Any interested consumer registers themselves by connecting and creating a queue (or the queue can be created administratively) &quot;Consumers.APP-1.TEST.EVENT&quot;, &quot;Consumers.APP-2.TEST.EVENT&quot;, etc. You also have the capability for consumers to register selectors, so they only get filtered messages.\r\n\r\n3. As a bonus, networking brokers in a cluster becomes more straight-forward as their are unexpected hang-ups when clustering topics.\r\n\r\n4. This is not protocol or language specific. You can send/recv using different programming languages (Java, .NET, JavaScript, Pythong, etc) or protocols --  AMQP, JMS (openwire), STOMP, MQTT, etc and it &quot;just works&quot;","title":"AMQP Qpid ActiveMQ routing key","body":"<p>Consider inverting your app design to have consumers declare their interest vs the publisher sending to a list (or wildcard match) of destinations.</p>\n<p>A good tenant of pub-sub is to separate producers and consumers from addressing and this reduces coupling. This is one of the more powerful features of Virtual Topics-- they are super practical.</p>\n<p>There is nothing out-of-spec about using Virtual Topics. Producers simply publish to a topic, and consumers read from queues. This capability is available in several JMS-spec brokers, and does not lock you into ActiveMQ. The difference with ActiveMQ 5 is that the administrative overhead is super low.</p>\n<ol>\n<li><p>Publish message to a 'topic' - &quot;TEST.EVENT&quot;</p>\n</li>\n<li><p>Any interested consumer registers themselves by connecting and creating a queue (or the queue can be created administratively) &quot;Consumers.APP-1.TEST.EVENT&quot;, &quot;Consumers.APP-2.TEST.EVENT&quot;, etc. You also have the capability for consumers to register selectors, so they only get filtered messages.</p>\n</li>\n<li><p>As a bonus, networking brokers in a cluster becomes more straight-forward as their are unexpected hang-ups when clustering topics.</p>\n</li>\n<li><p>This is not protocol or language specific. You can send/recv using different programming languages (Java, .NET, JavaScript, Pythong, etc) or protocols --  AMQP, JMS (openwire), STOMP, MQTT, etc and it &quot;just works&quot;</p>\n</li>\n</ol>\n"}],"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680721553,"creation_date":1680622202,"question_id":75931201,"body_markdown":"I&#39;m using ActiveMQ &quot;Classic,&quot; and I want to use AMQP protocol.\r\n\r\nFor the moment I am trying to use AMQP 1.0 and the Java client Qpid JMS client 2.2.0 and qpid-amqp-1-0-client-jms 0.32 with Spring Boot 3 and `jakarta` package.\r\n\r\nThe final goal is to fully use AMQP and after possibly replace ActiveMQ by another broker without changing my code, but I use VirtualTopic, and if I understand AMQP can do the same thing like VirtualTopic by using &quot;routing key&quot; with wildcard.\r\n\r\nI have configure a simple Java sender and consumer and all work fine, but now i want to use &quot;routing key&quot; to publish a message on topic `TEST.*`, but I&#39;m stuck here and I don&#39;t know how to set my routing key with wildcard.","title":"AMQP Qpid ActiveMQ routing key","body":"<p>I'm using ActiveMQ &quot;Classic,&quot; and I want to use AMQP protocol.</p>\n<p>For the moment I am trying to use AMQP 1.0 and the Java client Qpid JMS client 2.2.0 and qpid-amqp-1-0-client-jms 0.32 with Spring Boot 3 and <code>jakarta</code> package.</p>\n<p>The final goal is to fully use AMQP and after possibly replace ActiveMQ by another broker without changing my code, but I use VirtualTopic, and if I understand AMQP can do the same thing like VirtualTopic by using &quot;routing key&quot; with wildcard.</p>\n<p>I have configure a simple Java sender and consumer and all work fine, but now i want to use &quot;routing key&quot; to publish a message on topic <code>TEST.*</code>, but I'm stuck here and I don't know how to set my routing key with wildcard.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":893101,"reputation":3385,"user_id":931004,"accept_rate":100,"display_name":"Ghokun"},"score":0,"creation_date":1680602160,"post_id":75927951,"comment_id":133922148,"body_markdown":"Why don&#39;t you test it by adding breakpoints or debug logs?","body":"Why don&#39;t you test it by adding breakpoints or debug logs?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680603049,"post_id":75927951,"comment_id":133922367,"body_markdown":"Although an `@Bean` method in an `@Component` (sort of) works, don&#39;t go down that path as it doesn&#39;t do what you think it does. Also an `@Bean` on a `void` method is pretty much useless.","body":"Although an <code>@Bean</code> method in an <code>@Component</code> (sort of) works, don&#39;t go down that path as it doesn&#39;t do what you think it does. Also an <code>@Bean</code> on a <code>void</code> method is pretty much useless."},{"owner":{"account_id":13427296,"reputation":319,"user_id":9688211,"display_name":"Kaepxer"},"score":0,"creation_date":1680603505,"post_id":75927951,"comment_id":133922482,"body_markdown":"@Ghokun I already tested it. They may not be related, that&#39;s why I write `Are they related?` in my question. May it works in 99 of 100, I&#39;m trying to be sure, learning it certainly.","body":"@Ghokun I already tested it. They may not be related, that&#39;s why I write <code>Are they related?</code> in my question. May it works in 99 of 100, I&#39;m trying to be sure, learning it certainly."},{"owner":{"account_id":13427296,"reputation":319,"user_id":9688211,"display_name":"Kaepxer"},"score":0,"creation_date":1680603553,"post_id":75927951,"comment_id":133922494,"body_markdown":"@M.Deinum Just an example, I didn&#39;t notice when I wrote. Thanks","body":"@M.Deinum Just an example, I didn&#39;t notice when I wrote. Thanks"},{"owner":{"account_id":13427296,"reputation":319,"user_id":9688211,"display_name":"Kaepxer"},"score":0,"creation_date":1680604152,"post_id":75927951,"comment_id":133922635,"body_markdown":"@Ghokun two answer and they are not matching with eachother. how about that?","body":"@Ghokun two answer and they are not matching with eachother. how about that?"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1680605162,"post_id":75927951,"comment_id":133922858,"body_markdown":"just put `system.out.println` into each and see for yourself...","body":"just put <code>system.out.println</code> into each and see for yourself..."},{"owner":{"account_id":13427296,"reputation":319,"user_id":9688211,"display_name":"Kaepxer"},"score":0,"creation_date":1680605394,"post_id":75927951,"comment_id":133922916,"body_markdown":"@JAsgarov just answered same suggestion above.","body":"@JAsgarov just answered same suggestion above."},{"owner":{"account_id":893101,"reputation":3385,"user_id":931004,"accept_rate":100,"display_name":"Ghokun"},"score":0,"creation_date":1680689531,"post_id":75927951,"comment_id":133939411,"body_markdown":"@kaepxer You are not giving enough context. You tested and what was the result? What did you expect and was not as expected? I also agree with M. Deinum. Bean inside a component does not make much sense. It will not be proxied and new instance will be created each time.","body":"@kaepxer You are not giving enough context. You tested and what was the result? What did you expect and was not as expected? I also agree with M. Deinum. Bean inside a component does not make much sense. It will not be proxied and new instance will be created each time."},{"owner":{"account_id":13427296,"reputation":319,"user_id":9688211,"display_name":"Kaepxer"},"score":0,"creation_date":1680721901,"post_id":75927951,"comment_id":133948170,"body_markdown":"@Ghokun In my test result was 1-3-2 but does it matter since `@PostConstruct` and `@Bean` may not even be even related? I&#39;m not expecting anything, just trying to know it. And for bean inside a component, as I cleared it out above, it was mistake and edited my post now. Other than everything else, it&#39;s a clear and objective question, instead of making it so complicated how about to contribute for answer?","body":"@Ghokun In my test result was 1-3-2 but does it matter since <code>@PostConstruct</code> and <code>@Bean</code> may not even be even related? I&#39;m not expecting anything, just trying to know it. And for bean inside a component, as I cleared it out above, it was mistake and edited my post now. Other than everything else, it&#39;s a clear and objective question, instead of making it so complicated how about to contribute for answer?"}],"owner":{"account_id":13427296,"reputation":319,"user_id":9688211,"display_name":"Kaepxer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680721444,"creation_date":1680601906,"question_id":75927951,"body_markdown":"I&#39;m trying to understand lifecycle of spring bean. Does @PostConstruct annotated method called before @Bean annotated method and after all dependecies injected? Are they related?\r\n\r\n    @Configuration\r\n    public class MyBean{\r\n        \r\n        @Autowired\r\n        private MyBean myBean; //1\r\n    \r\n        @Bean\r\n        public void testMethod() {\r\n         ... //2\r\n        }\r\n    \r\n        @PostConstruct\r\n        public void testPostConsturctMethod() {\r\n         ... //3\r\n        }\r\n    }\r\n\r\n1-) Is cycle order will be 1-3-2?\r\n\r\n\r\n    @Configuration\r\n    public class MyBean extends MySuperClass {\r\n        \r\n        @Autowired\r\n        private MyBean myBean; //1\r\n    \r\n        @PostConstruct\r\n        public void testPostConsturctMethod() {\r\n         ... //3\r\n        }\r\n    }\r\n\r\n    public class MySuperClass {\r\n    \r\n        @Bean\r\n        public void testMethod() {\r\n         ... //2\r\n        }\r\n    }\r\n\r\n2-) Does it change when @Bean annotated method is in super class and others in child? Like child&#39;s cycle begin when super&#39;s end? Or it&#39;s merged?","title":"Does @PostConstruct call before @Bean annotated created?","body":"<p>I'm trying to understand lifecycle of spring bean. Does @PostConstruct annotated method called before @Bean annotated method and after all dependecies injected? Are they related?</p>\n<pre><code>@Configuration\npublic class MyBean{\n    \n    @Autowired\n    private MyBean myBean; //1\n\n    @Bean\n    public void testMethod() {\n     ... //2\n    }\n\n    @PostConstruct\n    public void testPostConsturctMethod() {\n     ... //3\n    }\n}\n</code></pre>\n<p>1-) Is cycle order will be 1-3-2?</p>\n<pre><code>@Configuration\npublic class MyBean extends MySuperClass {\n    \n    @Autowired\n    private MyBean myBean; //1\n\n    @PostConstruct\n    public void testPostConsturctMethod() {\n     ... //3\n    }\n}\n\npublic class MySuperClass {\n\n    @Bean\n    public void testMethod() {\n     ... //2\n    }\n}\n</code></pre>\n<p>2-) Does it change when @Bean annotated method is in super class and others in child? Like child's cycle begin when super's end? Or it's merged?</p>\n"},{"tags":["java","date","timezone","gson"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1451031975,"post_id":34461208,"comment_id":56664463,"body_markdown":"get rid of the `Z` and have it in your local TZ","body":"get rid of the <code>Z</code> and have it in your local TZ"}],"answers":[{"comments":[{"owner":{"account_id":4159006,"reputation":7683,"user_id":3409503,"accept_rate":33,"display_name":"anthony"},"score":0,"creation_date":1451033295,"post_id":34461322,"comment_id":56664707,"body_markdown":"Great ! Thank you Sazzad !","body":"Great ! Thank you Sazzad !"}],"tags":[],"owner":{"account_id":1089130,"reputation":38502,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1451032605,"creation_date":1451032605,"answer_id":34461322,"question_id":34461208,"body_markdown":"\r\n\r\nYou haven&#39;t set the timezone only added a Z to the end of the date/time, so it will look like a GMT date/time but this doesn&#39;t change the value.\r\n\r\nSet the timezone to GMT and it will be correct.\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);\r\n    sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n\r\n","title":"Gson deserialize Java.util.Date with timezone","body":"<p>You haven't set the timezone only added a Z to the end of the date/time, so it will look like a GMT date/time but this doesn't change the value.</p>\n\n<p>Set the timezone to GMT and it will be correct.</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\");\nsdf.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1680721341,"creation_date":1451697158,"answer_id":34561636,"question_id":34461208,"body_markdown":"# java.time\r\n\r\nThe accepted Answer is correct. But outdated. The java.text.SimpleDateFormat and java.util.Date classes have been outmoded by the [java.time][1] framework added to Java 8 and later. Much easier to use and more sensible.\r\n\r\n## ISO 8601\r\n\r\nThe format of your input string complies with the [ISO 8601][2] standard. The java.time classes use ISO 8601 as their default formats when parsing/generating string representations of date-time values.\r\n\r\n    String input = &quot;2015-12-24T17:41:54+01:00&quot;;\r\n\r\n## Offset-From-UTC\r\n\r\nThat input string includes an [offset-from-UTC][3] of `+01:00`, meaning an hour ahead of UTC. \r\n\r\n    ZonedDateTime zdt = ZonedDateTime.parse ( input );\r\n    ZoneId z = zdt.getZone ();\r\n\r\n## Offset versus Time Zone\r\n\r\nBut that offset is *not* a time zone. A time zone is an offset *plus* rules for handling anomaly adjustments such as Daylight Saving Time (DST). So you may well want to assign [a specific time zone][4] you have in mind as being intended by that string. Perhaps you intended [Amsterdam time][5]. \r\n\r\nWe can apply a time zone to get another [`ZonedDateTime`][6] object. This pattern of creating a new object based on an old object’s values rather than changing the old values directly is known as [immutable objects][7].\r\n\r\nA [`ZoneId`][8] is a full time zone in java.time. Its subclass [`ZoneOffset`][9] is for simple offset-from-UTC values without the adjustment rules.\r\n\r\n    ZoneId zoneIdAmsterdam = ZoneId.of ( &quot;Europe/Amsterdam&quot; );\r\n    ZonedDateTime zdtAmsterdam = zdt.withZoneSameInstant ( zoneIdAmsterdam );\r\n\r\n# `toString`\r\n\r\nWhen you call `toString` such as in a `System.out.println`, java.time classes generate a String representation of the date-time value using [ISO 8601][2] format.\r\n\r\nNote that java.time extends ISO 8601 by appending the name of an assigned time zone in square brackets in addition to the offset-from-UTC number. For example, `[Europe/Amsterdam]`.\r\n\r\n        System.out.println ( &quot;zdt: &quot; + zdt + &quot; at zoneId z: &quot; + z + &quot; adjusted to zoneIdAmsterdam: &quot; + zoneIdAmsterdam + &quot; is zdtAmsterdam: &quot; + zdtAmsterdam );\r\n\r\n\r\n&gt;zdt: 2015-12-24T17:41:54+01:00 at zoneId z: +01:00 adjusted to zoneIdAmsterdam: Europe/Amsterdam is zdtAmsterdam: 2015-12-24T17:41:54+01:00[Europe/Amsterdam]\r\n\r\n## `Instant`\r\n\r\nGenerally in our business logic and data storage we work strictly in UTC, applying a time zone only for presentation to the user. For this purpose, pass and store an instance of the [`Instant`][10] class. This class represents a moment on the timeline in UTC.\r\n\r\n    Instant instant = zdt.toInstant();\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [4]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [5]: https://en.wikipedia.org/wiki/Europe/Amsterdam\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [7]: https://en.wikipedia.org/wiki/Immutable_object\r\n  [8]: http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\r\n  [9]: http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html\r\n  [10]: http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html","title":"Gson deserialize Java.util.Date with timezone","body":"<h1>java.time</h1>\n<p>The accepted Answer is correct. But outdated. The java.text.SimpleDateFormat and java.util.Date classes have been outmoded by the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework added to Java 8 and later. Much easier to use and more sensible.</p>\n<h2>ISO 8601</h2>\n<p>The format of your input string complies with the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard. The java.time classes use ISO 8601 as their default formats when parsing/generating string representations of date-time values.</p>\n<pre><code>String input = &quot;2015-12-24T17:41:54+01:00&quot;;\n</code></pre>\n<h2>Offset-From-UTC</h2>\n<p>That input string includes an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset-from-UTC</a> of <code>+01:00</code>, meaning an hour ahead of UTC.</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.parse ( input );\nZoneId z = zdt.getZone ();\n</code></pre>\n<h2>Offset versus Time Zone</h2>\n<p>But that offset is <em>not</em> a time zone. A time zone is an offset <em>plus</em> rules for handling anomaly adjustments such as Daylight Saving Time (DST). So you may well want to assign <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">a specific time zone</a> you have in mind as being intended by that string. Perhaps you intended <a href=\"https://en.wikipedia.org/wiki/Europe/Amsterdam\" rel=\"nofollow noreferrer\">Amsterdam time</a>.</p>\n<p>We can apply a time zone to get another <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> object. This pattern of creating a new object based on an old object’s values rather than changing the old values directly is known as <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable objects</a>.</p>\n<p>A <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"nofollow noreferrer\"><code>ZoneId</code></a> is a full time zone in java.time. Its subclass <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html\" rel=\"nofollow noreferrer\"><code>ZoneOffset</code></a> is for simple offset-from-UTC values without the adjustment rules.</p>\n<pre><code>ZoneId zoneIdAmsterdam = ZoneId.of ( &quot;Europe/Amsterdam&quot; );\nZonedDateTime zdtAmsterdam = zdt.withZoneSameInstant ( zoneIdAmsterdam );\n</code></pre>\n<h1><code>toString</code></h1>\n<p>When you call <code>toString</code> such as in a <code>System.out.println</code>, java.time classes generate a String representation of the date-time value using <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format.</p>\n<p>Note that java.time extends ISO 8601 by appending the name of an assigned time zone in square brackets in addition to the offset-from-UTC number. For example, <code>[Europe/Amsterdam]</code>.</p>\n<pre><code>    System.out.println ( &quot;zdt: &quot; + zdt + &quot; at zoneId z: &quot; + z + &quot; adjusted to zoneIdAmsterdam: &quot; + zoneIdAmsterdam + &quot; is zdtAmsterdam: &quot; + zdtAmsterdam );\n</code></pre>\n<blockquote>\n<p>zdt: 2015-12-24T17:41:54+01:00 at zoneId z: +01:00 adjusted to zoneIdAmsterdam: Europe/Amsterdam is zdtAmsterdam: 2015-12-24T17:41:54+01:00[Europe/Amsterdam]</p>\n</blockquote>\n<h2><code>Instant</code></h2>\n<p>Generally in our business logic and data storage we work strictly in UTC, applying a time zone only for presentation to the user. For this purpose, pass and store an instance of the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> class. This class represents a moment on the timeline in UTC.</p>\n<pre><code>Instant instant = zdt.toInstant();\n</code></pre>\n"}],"owner":{"account_id":4159006,"reputation":7683,"user_id":3409503,"accept_rate":33,"display_name":"anthony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6672,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":34461322,"answer_count":2,"score":3,"last_activity_date":1680721341,"creation_date":1451031564,"question_id":34461208,"body_markdown":"I deserialize a json string with date:\r\n\r\n    &quot;created_at&quot;: &quot;2015-12-24T17:41:54+01:00&quot;,\r\n\r\nI set date format for gsonBuilder:\r\n\r\n    GsonBuilder gsonBuilder = new GsonBuilder();\r\n    gsonBuilder.setDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;).create();\r\n\r\nThe deserialization works without crash; unfortunately when I print the result it&#39;s not correct:\r\n\r\n    SimpleDateFormat ft = new SimpleDateFormat (&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;);\r\n    String str = ft.format(response.createdAt);\r\n\r\nThe result is:\r\n\r\n    2015-12-24T11:41:54-0500\r\n\r\ninstead of:\r\n\r\n    2015-12-24T17:41:54+01:00","title":"Gson deserialize Java.util.Date with timezone","body":"<p>I deserialize a json string with date:</p>\n\n<pre><code>\"created_at\": \"2015-12-24T17:41:54+01:00\",\n</code></pre>\n\n<p>I set date format for gsonBuilder:</p>\n\n<pre><code>GsonBuilder gsonBuilder = new GsonBuilder();\ngsonBuilder.setDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\").create();\n</code></pre>\n\n<p>The deserialization works without crash; unfortunately when I print the result it's not correct:</p>\n\n<pre><code>SimpleDateFormat ft = new SimpleDateFormat (\"yyyy-MM-dd'T'HH:mm:ssZ\");\nString str = ft.format(response.createdAt);\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>2015-12-24T11:41:54-0500\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>2015-12-24T17:41:54+01:00\n</code></pre>\n"},{"tags":["java","android","ssl","x509certificate","android-keystore"],"comments":[{"owner":{"account_id":9932553,"reputation":101,"user_id":12333862,"display_name":"Lawrence NK1G"},"score":0,"creation_date":1643392428,"post_id":70897815,"comment_id":125336312,"body_markdown":"Also tested with a noname chinese tablet running 8.0; same results","body":"Also tested with a noname chinese tablet running 8.0; same results"}],"answers":[{"tags":[],"owner":{"account_id":12451140,"reputation":1,"user_id":9065762,"display_name":"Dmitry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658851095,"creation_date":1658850992,"answer_id":73126453,"question_id":70897815,"body_markdown":"I had the same issue using emulator and some other devices.\r\nThe only way that helps is to use PKCS12 KeyStore (as file) instead of AndroidKeyStore.","title":"Why is AndroidKeyStore transforming PrivateKeyEntry into a TrustedCertifiateEntry?","body":"<p>I had the same issue using emulator and some other devices.\nThe only way that helps is to use PKCS12 KeyStore (as file) instead of AndroidKeyStore.</p>\n"},{"tags":[],"owner":{"account_id":28173762,"reputation":1,"user_id":21531853,"display_name":"Kentaro Mitsuyasu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680721316,"creation_date":1680222478,"answer_id":75893914,"question_id":70897815,"body_markdown":"I tried and same issue occurred.\r\nI have succeeded as follow steps.\r\n\r\n1. create a self-signed key pair not using Android Keystore.\r\nkeypair remains just on memory.\r\n\r\n2. create CSR using the keypair. \r\n\r\n3. create certificate signed by CA.\r\n\r\n4. save both privatekey on memory and certificate signed pair to Android Keystore simultaneously \r\n```\r\nkeyStore.setEntry(keyPairAlias, KeyStore.PrivateKeyEntry(keypair.private, arrayOf(x509Certificate)), null)\r\n```","title":"Why is AndroidKeyStore transforming PrivateKeyEntry into a TrustedCertifiateEntry?","body":"<p>I tried and same issue occurred.\nI have succeeded as follow steps.</p>\n<ol>\n<li><p>create a self-signed key pair not using Android Keystore.\nkeypair remains just on memory.</p>\n</li>\n<li><p>create CSR using the keypair.</p>\n</li>\n<li><p>create certificate signed by CA.</p>\n</li>\n<li><p>save both privatekey on memory and certificate signed pair to Android Keystore simultaneously</p>\n</li>\n</ol>\n<pre><code>keyStore.setEntry(keyPairAlias, KeyStore.PrivateKeyEntry(keypair.private, arrayOf(x509Certificate)), null)\n</code></pre>\n"}],"owner":{"account_id":9932553,"reputation":101,"user_id":12333862,"display_name":"Lawrence NK1G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680721316,"creation_date":1643390955,"question_id":70897815,"body_markdown":"Test platform is a Motorola G5, running 8.1.0; BouncyCastle 1.56\r\n\r\nI am trying to use client certificates with the AndroidKeyStore.\r\n\r\nUsing KeyPairgenerator and KeyPairGeneratorSpec I can create a self-signed keypair with the CN of &quot;temporary&quot;; and behind the scenes, the library stores it in the AndroidKeyStore under the alias given to KPGS.Builder.\r\n\r\nI later getEntry() and am given a KeyStore.PrivateKeyEntry as expceted.\r\n\r\nI extract the key data from this, and pass it to the bouncy castle CertificationRequest class, I pass the cert to my corporate CA, and they send me back a certificate chain (two X509 keys appended; one for the DN that I created, and their self-signed cert)\r\n\r\n(Taking the certs apart with openssl x509 … reveals nothing unexpected)\r\n\r\nUp to here, everything works as documented.\r\n\r\nNow comes the weirdness ... \r\n\r\nThe documentation mentions in passing that you can &quot;replace the self-signed certificate with a &#39;real one&#39; later&quot; and I do that with the following code:\r\n\r\n```\r\n\t\tKeyStore.PrivateKeyEntry entry = (KeyStore.PrivateKeyEntry) keyStore.getEntry(mykey,null);\r\n\t\tKeyStore.PrivateKeyEntry replacement = new KeyStore.PrivateKeyEntry(entry.getPrivateKey(),\r\n\t\t\t\t\t\t\t\t\t\t    certs);\r\n\t\tkeyStore.setEntry(mykey,replacement,null);\r\n\t\tKeyStore.Entry nowItIs = keyStore.getEntry(mykey,null);\r\n\t\tLog.v(TAG, String.format(&quot;After storing, the key is now a %s&quot;, \r\n\t\t\t\t\t nowItIs.getClass().getSimpleName()));\r\n```\r\nHere&#39;s the mysterious transformation:  in theory, nowItIs should be identical to replacement ... but it&#39;s not:  it is a TrustedCertificateEntry.\r\n\r\nSomeone else posted of the same problem several years ago, but there was no resolution.\r\n\r\n\r\n ","title":"Why is AndroidKeyStore transforming PrivateKeyEntry into a TrustedCertifiateEntry?","body":"<p>Test platform is a Motorola G5, running 8.1.0; BouncyCastle 1.56</p>\n<p>I am trying to use client certificates with the AndroidKeyStore.</p>\n<p>Using KeyPairgenerator and KeyPairGeneratorSpec I can create a self-signed keypair with the CN of &quot;temporary&quot;; and behind the scenes, the library stores it in the AndroidKeyStore under the alias given to KPGS.Builder.</p>\n<p>I later getEntry() and am given a KeyStore.PrivateKeyEntry as expceted.</p>\n<p>I extract the key data from this, and pass it to the bouncy castle CertificationRequest class, I pass the cert to my corporate CA, and they send me back a certificate chain (two X509 keys appended; one for the DN that I created, and their self-signed cert)</p>\n<p>(Taking the certs apart with openssl x509 … reveals nothing unexpected)</p>\n<p>Up to here, everything works as documented.</p>\n<p>Now comes the weirdness ...</p>\n<p>The documentation mentions in passing that you can &quot;replace the self-signed certificate with a 'real one' later&quot; and I do that with the following code:</p>\n<pre><code>        KeyStore.PrivateKeyEntry entry = (KeyStore.PrivateKeyEntry) keyStore.getEntry(mykey,null);\n        KeyStore.PrivateKeyEntry replacement = new KeyStore.PrivateKeyEntry(entry.getPrivateKey(),\n                                            certs);\n        keyStore.setEntry(mykey,replacement,null);\n        KeyStore.Entry nowItIs = keyStore.getEntry(mykey,null);\n        Log.v(TAG, String.format(&quot;After storing, the key is now a %s&quot;, \n                     nowItIs.getClass().getSimpleName()));\n</code></pre>\n<p>Here's the mysterious transformation:  in theory, nowItIs should be identical to replacement ... but it's not:  it is a TrustedCertificateEntry.</p>\n<p>Someone else posted of the same problem several years ago, but there was no resolution.</p>\n"},{"tags":["java","classloader","byte-buddy","open-telemetry","javaagents"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678901885,"creation_date":1678901885,"answer_id":75748280,"question_id":75735740,"body_markdown":"I assume that these variables are on the boot loader, or they are final and primitive such that they are inlined during compilation.\r\n\r\nAdvice code is copied to the targeted method. It is at it was written there. As a result, it will have a different scope of visibility and access.","title":"Can&#39;t use static variable in @Advice.OnMethodEnter method in opentelemetry javaagent extension","body":"<p>I assume that these variables are on the boot loader, or they are final and primitive such that they are inlined during compilation.</p>\n<p>Advice code is copied to the targeted method. It is at it was written there. As a result, it will have a different scope of visibility and access.</p>\n"},{"tags":[],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679042128,"creation_date":1679036587,"answer_id":75764615,"question_id":75735740,"body_markdown":"I think this is how extensions are implemented in opentelemetry agent. I checked the current thread classloader, it&#39;s my application class loader. So application classloader tries to load MethodAdvice class but it is not present in the application classpath. So it is required to add the extension jar to the classpath. I&#39;ve just added the extension as a dependency in my multimodule project and the issue was resolved.\r\n\r\nUPD: But now I have another issue( - java.lang.NoSuchFieldError if CONST field more complicated and requires initialization in static block.","title":"Can&#39;t use static variable in @Advice.OnMethodEnter method in opentelemetry javaagent extension","body":"<p>I think this is how extensions are implemented in opentelemetry agent. I checked the current thread classloader, it's my application class loader. So application classloader tries to load MethodAdvice class but it is not present in the application classpath. So it is required to add the extension jar to the classpath. I've just added the extension as a dependency in my multimodule project and the issue was resolved.</p>\n<p>UPD: But now I have another issue( - java.lang.NoSuchFieldError if CONST field more complicated and requires initialization in static block.</p>\n"},{"comments":[{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":1,"creation_date":1680774978,"post_id":75943099,"comment_id":133956380,"body_markdown":"Yes, you&#39;re right. I solved this issue here - https://stackoverflow.com/questions/75508576/noclassdeffounderror-when-trying-to-use-opentelemetry-instrumenter-in-javaagent","body":"Yes, you&#39;re right. I solved this issue here - <a href=\"https://stackoverflow.com/questions/75508576/noclassdeffounderror-when-trying-to-use-opentelemetry-instrumenter-in-javaagent\" title=\"noclassdeffounderror when trying to use opentelemetry instrumenter in javaagent\">stackoverflow.com/questions/75508576/&hellip;</a>"}],"tags":[],"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680720932,"creation_date":1680720932,"answer_id":75943099,"question_id":75735740,"body_markdown":"The OpenTelemetry Java agent loads Advice classes inside of its own isolated `AgentClassLoader`.\r\n\r\nBut the Advice method bytecode is inlined into the instrumented application classes.\r\n\r\nAnd application classes do not have access to the `AgentClassLoader`.\r\n\r\nYou&#39;ll want to move your constant to a &quot;helper&quot; class, which this OTel Java agent will inject into the application class loader, and so will be accessible from your advice.\r\n\r\nThis documentation should help: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/contributing/writing-instrumentation-module.md#write-an-instrumentationmodule-step-by-step","title":"Can&#39;t use static variable in @Advice.OnMethodEnter method in opentelemetry javaagent extension","body":"<p>The OpenTelemetry Java agent loads Advice classes inside of its own isolated <code>AgentClassLoader</code>.</p>\n<p>But the Advice method bytecode is inlined into the instrumented application classes.</p>\n<p>And application classes do not have access to the <code>AgentClassLoader</code>.</p>\n<p>You'll want to move your constant to a &quot;helper&quot; class, which this OTel Java agent will inject into the application class loader, and so will be accessible from your advice.</p>\n<p>This documentation should help: <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/contributing/writing-instrumentation-module.md#write-an-instrumentationmodule-step-by-step\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/contributing/writing-instrumentation-module.md#write-an-instrumentationmodule-step-by-step</a></p>\n"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75943099,"answer_count":3,"score":1,"last_activity_date":1680720932,"creation_date":1678810447,"question_id":75735740,"body_markdown":"I&#39;m trying to create an extension for opentelemetry javaagent. I need some static variables outside the methods to handle spans. But I get the error `java.lang.ClassNotFoundException` for a class where static variables are defined. The simplest code to reproduce:\r\n\r\n    public static class MethodAdvice {\r\n    \r\n            public static Integer CONST = 123;\r\n    \r\n            @Advice.OnMethodEnter(suppress = Throwable.class)\r\n            public static void onEnter() {\r\n                try {\r\n                    System.out.println(CONST.toString());\r\n    //                Class.forName(MethodAdvice.class.getName());\r\n                } catch (Throwable e) {\r\n                    System.out.println(&quot;ERROR: &quot; + e.getCause().toString());\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n\r\nI get error when using CONST static variable for the first time. The same if I try to load the class. How can I use a static variable defined outside of the @Advice method? As I can see the [opentelemetry library][1] uses static variables outside the methods and it works, but I can&#39;t figure out how it is handled there.\r\n\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/a51535d08ee02b3e8e9d8d8390e5b362a1199a2e/instrumentation/methods/javaagent/src/main/java/io/opentelemetry/javaagent/instrumentation/methods/MethodInstrumentation.java","title":"Can&#39;t use static variable in @Advice.OnMethodEnter method in opentelemetry javaagent extension","body":"<p>I'm trying to create an extension for opentelemetry javaagent. I need some static variables outside the methods to handle spans. But I get the error <code>java.lang.ClassNotFoundException</code> for a class where static variables are defined. The simplest code to reproduce:</p>\n<pre><code>public static class MethodAdvice {\n\n        public static Integer CONST = 123;\n\n        @Advice.OnMethodEnter(suppress = Throwable.class)\n        public static void onEnter() {\n            try {\n                System.out.println(CONST.toString());\n//                Class.forName(MethodAdvice.class.getName());\n            } catch (Throwable e) {\n                System.out.println(&quot;ERROR: &quot; + e.getCause().toString());\n                throw new RuntimeException(e);\n            }\n        }\n    }\n</code></pre>\n<p>I get error when using CONST static variable for the first time. The same if I try to load the class. How can I use a static variable defined outside of the @Advice method? As I can see the <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/a51535d08ee02b3e8e9d8d8390e5b362a1199a2e/instrumentation/methods/javaagent/src/main/java/io/opentelemetry/javaagent/instrumentation/methods/MethodInstrumentation.java\" rel=\"nofollow noreferrer\">opentelemetry library</a> uses static variables outside the methods and it works, but I can't figure out how it is handled there.</p>\n"},{"tags":["java","android","android-appbarlayout","swiperefreshlayout","material3"],"answers":[{"tags":[],"owner":{"account_id":23683815,"reputation":21,"user_id":17709040,"display_name":"FOUR BITS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680720923,"creation_date":1680720923,"answer_id":75943097,"question_id":75942475,"body_markdown":"Using `app:liftOnScrollTargetViewId=&quot;@id/nestedScroll&quot;` on app bar layout solves it.\r\n\r\nReference: https://github.com/material-components/material-components-android/issues/2825","title":"Weird AppBarLayout and SwipeRefreshLayout Behavior in Material 3","body":"<p>Using <code>app:liftOnScrollTargetViewId=&quot;@id/nestedScroll&quot;</code> on app bar layout solves it.</p>\n<p>Reference: <a href=\"https://github.com/material-components/material-components-android/issues/2825\" rel=\"nofollow noreferrer\">https://github.com/material-components/material-components-android/issues/2825</a></p>\n"}],"owner":{"account_id":23683815,"reputation":21,"user_id":17709040,"display_name":"FOUR BITS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75943097,"answer_count":1,"score":0,"last_activity_date":1680720923,"creation_date":1680716119,"question_id":75942475,"body_markdown":"I&#39;m creating an app that has swipe-to-refresh feature with Material 3 (Material You) design. But when scrolling the content under the SwipeRefreshLayout, the app bar doesn&#39;t lift properly as expected. It works correctly when the SwipeRefreshLayout is refreshing.\r\n\r\n`activity-main.xml`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        app:liftOnScroll=&quot;true&quot;&gt;\r\n\r\n        &lt;com.google.android.material.appbar.MaterialToolbar\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n\r\n            app:title=&quot;App Bar and Swipe Layout&quot;\r\n            app:titleCentered=&quot;true&quot;/&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n\r\n        app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;&gt;\r\n\r\n        &lt;androidx.core.widget.NestedScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n\r\n                android:text=&quot;Long lorem ipsum text...&quot;/&gt;\r\n\r\n        &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\n\r\n`MainActivity.java`\r\n```\r\npackage com.fourbits.appbarandswiperefresh;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n}\r\n```\r\n\r\nI tried to change my SwipeRefreshLayout androidx dependency version from 1.2.0-alpha01 to 1.1.0, but the problem still exists.\r\n\r\nI expect that the app bar will lift properly when the content is scrolled under the SwipeRefreshLayout.","title":"Weird AppBarLayout and SwipeRefreshLayout Behavior in Material 3","body":"<p>I'm creating an app that has swipe-to-refresh feature with Material 3 (Material You) design. But when scrolling the content under the SwipeRefreshLayout, the app bar doesn't lift properly as expected. It works correctly when the SwipeRefreshLayout is refreshing.</p>\n<p><code>activity-main.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n\n    android:fitsSystemWindows=&quot;true&quot;\n\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n\n        android:fitsSystemWindows=&quot;true&quot;\n        app:liftOnScroll=&quot;true&quot;&gt;\n\n        &lt;com.google.android.material.appbar.MaterialToolbar\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n\n            app:title=&quot;App Bar and Swipe Layout&quot;\n            app:titleCentered=&quot;true&quot;/&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n\n        app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;&gt;\n\n        &lt;androidx.core.widget.NestedScrollView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n\n                android:text=&quot;Long lorem ipsum text...&quot;/&gt;\n\n        &lt;/androidx.core.widget.NestedScrollView&gt;\n\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p><code>MainActivity.java</code></p>\n<pre><code>package com.fourbits.appbarandswiperefresh;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n<p>I tried to change my SwipeRefreshLayout androidx dependency version from 1.2.0-alpha01 to 1.1.0, but the problem still exists.</p>\n<p>I expect that the app bar will lift properly when the content is scrolled under the SwipeRefreshLayout.</p>\n"},{"tags":["java","spring-boot","logging","log4j"],"answers":[{"comments":[{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1681215768,"post_id":75943007,"comment_id":134017406,"body_markdown":"I struggle with the configuration. I&#39;m using java 17. Only warnings and error are logged and the logs are twice in graylog because they are still logged to system.out as well.","body":"I struggle with the configuration. I&#39;m using java 17. Only warnings and error are logged and the logs are twice in graylog because they are still logged to system.out as well."},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1681215805,"post_id":75943007,"comment_id":134017423,"body_markdown":"config looks like this:\n\n&lt;Configuration packages=&quot;biz.paluch.logging.gelf.log4j2,io.sentry.log4j2&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Gelf name=&quot;Gelf&quot; host=&quot;tcp:graylog...&quot; port=&quot;12000&quot;&gt;\n            &lt;Field name=&quot;timestamp&quot; pattern=&quot;%d{dd MMM yyyy HH:mm:ss,SSS}&quot;/&gt;\n        &lt;/Gelf&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;javax.net.ssl&quot; level=&quot;TRACE&quot;&gt;\n            &lt;AppenderRef ref=&quot;Gelf&quot;/&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;","body":"config looks like this:  &lt;Configuration packages=&quot;biz.paluch.logging.gelf.log4j2,io.sentry.log4j2&quot;&gt;     &lt;Appenders&gt;         &lt;Gelf name=&quot;Gelf&quot; host=&quot;tcp:graylog...&quot; port=&quot;12000&quot;&gt;             &lt;Field name=&quot;timestamp&quot; pattern=&quot;%d{dd MMM yyyy HH:mm:ss,SSS}&quot;/&gt;         &lt;/Gelf&gt;     &lt;/Appenders&gt;     &lt;Loggers&gt;         &lt;Logger name=&quot;javax.net.ssl&quot; level=&quot;TRACE&quot;&gt;             &lt;AppenderRef ref=&quot;Gelf&quot;/&gt;         &lt;/Logger&gt;     &lt;/Loggers&gt; &lt;/Configuration&gt;"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1681218064,"post_id":75943007,"comment_id":134018014,"body_markdown":"@sge: add an `additivity=&quot;false&quot;` attribute to the &quot;javax.net.ssl&quot; logger. With `additivity=&quot;true&quot;` (the default), every message logged is also passed to the appenders from the parent logger.","body":"@sge: add an <code>additivity=&quot;false&quot;</code> attribute to the &quot;javax.net.ssl&quot; logger. With <code>additivity=&quot;true&quot;</code> (the default), every message logged is also passed to the appenders from the parent logger."},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1681220785,"post_id":75943007,"comment_id":134018890,"body_markdown":"thanks , additivity=&quot;false&quot; fixed the duplicated log entries. But i still see only warning even if javax.net.ssl: TRACE is set as log level","body":"thanks , additivity=&quot;false&quot; fixed the duplicated log entries. But i still see only warning even if javax.net.ssl: TRACE is set as log level"}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680720150,"creation_date":1680720150,"answer_id":75943007,"question_id":75938644,"body_markdown":"In order to capture debug messages from [Oracle&#39;s SSL implementation](https://docs.oracle.com/en/java/javase/17/security/oracle-providers.html#GUID-7093246A-31A3-4304-AC5F-5FB6400405E2) you need:\r\n\r\n 1. Configure it to use a proper logging API instead of `System.out`,\r\n 2. Use a logging layout that allows for multiline messages.\r\n\r\nRedirect SunJSEE debug\r\n----------------------\r\n\r\nSince Java 8, SunJSSE can use a proper logging API if you set the `javax.net.debug` variable to an **empty** string, e.g. with `-Djavax.net.debug=`. The actual logging API depends on the Java version:\r\n\r\n * Java 8 uses `java.util.logging`. You&#39;ll need [`log4j-jul`](https://logging.apache.org/log4j/2.x/log4j-jul.html) to forward it to the Log4j 2.x API,\r\n * Java 9 and later uses [`System.Logger`](https://docs.oracle.com/javase/9/docs/api/java/lang/System.Logger.html). You&#39;ll need [`log4j-jpl`](https://logging.apache.org/log4j/2.x/log4j-jpl.html) to forward it to the Log4j 2.x API. Alternatively `System.Logger` binds by default to `java.util.logging`.\r\n\r\nChange logging layout\r\n---------------------\r\n\r\nTo easily import your SunJSSE logs into Graylog you probably want to use a GELF layout. Your `log4j2-spring.xml` file would look like this:\r\n\r\n```lang-xml\r\n&lt;Configuration name=&quot;app&quot; status=&quot;WARN&quot;&gt;\r\n  &lt;Appenders&gt;\r\n    &lt;File name=&quot;FILE&quot; fileName=&quot;${sys:LOG_FILE}&quot;&gt;\r\n      &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:GelfLayout.json&quot;/&gt;\r\n    &lt;/File&gt;\r\n  &lt;/Appenders&gt;\r\n  &lt;Loggers&gt;\r\n    &lt;Root level=&quot;INFO&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;FILE&quot;/&gt;\r\n    &lt;/Root&gt;\r\n    &lt;Logger name=&quot;javax.net.ssl&quot; level=&quot;DEBUG&quot;/&gt;\r\n  &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n(you need [`log4j-layout-json-template`](https://logging.apache.org/log4j/2.x/manual/json-template-layout.html) for this).\r\n\r\nAlternatively you can use an [RFC5424 layout](https://logging.apache.org/log4j/2.x/manual/layouts.html#RFC5424Layout) and escape the new lines:\r\n\r\n```lang-xml\r\n&lt;Configuration name=&quot;app&quot; status=&quot;WARN&quot;&gt;\r\n  &lt;Appenders&gt;\r\n    &lt;File name=&quot;FILE&quot; fileName=&quot;${sys:LOG_FILE}&quot;&gt;\r\n      &lt;Rfc5424Layout newLine=&quot;true&quot; newLineEscape=&quot; &quot;/&gt;\r\n    &lt;/File&gt;\r\n  &lt;/Appenders&gt;\r\n  &lt;Loggers&gt;\r\n    &lt;Root level=&quot;INFO&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;FILE&quot;/&gt;\r\n    &lt;/Root&gt;\r\n    &lt;Logger name=&quot;javax.net.ssl&quot; level=&quot;DEBUG&quot;/&gt;\r\n  &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n","title":"How to handle multiline sytem.out.println&#39;s in log4j","body":"<p>In order to capture debug messages from <a href=\"https://docs.oracle.com/en/java/javase/17/security/oracle-providers.html#GUID-7093246A-31A3-4304-AC5F-5FB6400405E2\" rel=\"nofollow noreferrer\">Oracle's SSL implementation</a> you need:</p>\n<ol>\n<li>Configure it to use a proper logging API instead of <code>System.out</code>,</li>\n<li>Use a logging layout that allows for multiline messages.</li>\n</ol>\n<h2>Redirect SunJSEE debug</h2>\n<p>Since Java 8, SunJSSE can use a proper logging API if you set the <code>javax.net.debug</code> variable to an <strong>empty</strong> string, e.g. with <code>-Djavax.net.debug=</code>. The actual logging API depends on the Java version:</p>\n<ul>\n<li>Java 8 uses <code>java.util.logging</code>. You'll need <a href=\"https://logging.apache.org/log4j/2.x/log4j-jul.html\" rel=\"nofollow noreferrer\"><code>log4j-jul</code></a> to forward it to the Log4j 2.x API,</li>\n<li>Java 9 and later uses <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/System.Logger.html\" rel=\"nofollow noreferrer\"><code>System.Logger</code></a>. You'll need <a href=\"https://logging.apache.org/log4j/2.x/log4j-jpl.html\" rel=\"nofollow noreferrer\"><code>log4j-jpl</code></a> to forward it to the Log4j 2.x API. Alternatively <code>System.Logger</code> binds by default to <code>java.util.logging</code>.</li>\n</ul>\n<h2>Change logging layout</h2>\n<p>To easily import your SunJSSE logs into Graylog you probably want to use a GELF layout. Your <code>log4j2-spring.xml</code> file would look like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Configuration name=&quot;app&quot; status=&quot;WARN&quot;&gt;\n  &lt;Appenders&gt;\n    &lt;File name=&quot;FILE&quot; fileName=&quot;${sys:LOG_FILE}&quot;&gt;\n      &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:GelfLayout.json&quot;/&gt;\n    &lt;/File&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;INFO&quot;&gt;\n      &lt;AppenderRef ref=&quot;FILE&quot;/&gt;\n    &lt;/Root&gt;\n    &lt;Logger name=&quot;javax.net.ssl&quot; level=&quot;DEBUG&quot;/&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>(you need <a href=\"https://logging.apache.org/log4j/2.x/manual/json-template-layout.html\" rel=\"nofollow noreferrer\"><code>log4j-layout-json-template</code></a> for this).</p>\n<p>Alternatively you can use an <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#RFC5424Layout\" rel=\"nofollow noreferrer\">RFC5424 layout</a> and escape the new lines:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Configuration name=&quot;app&quot; status=&quot;WARN&quot;&gt;\n  &lt;Appenders&gt;\n    &lt;File name=&quot;FILE&quot; fileName=&quot;${sys:LOG_FILE}&quot;&gt;\n      &lt;Rfc5424Layout newLine=&quot;true&quot; newLineEscape=&quot; &quot;/&gt;\n    &lt;/File&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;INFO&quot;&gt;\n      &lt;AppenderRef ref=&quot;FILE&quot;/&gt;\n    &lt;/Root&gt;\n    &lt;Logger name=&quot;javax.net.ssl&quot; level=&quot;DEBUG&quot;/&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680720150,"creation_date":1680692720,"question_id":75938644,"body_markdown":"When i enable the logs for ssl handshake in a spring boot application each system.out.println is logged as a single entry in graylog. I&#39;m looking for a solution in java that keeps the multilines together.\r\n\r\n    javax.net.ssl|DEBUG|EF|http-nio-auto-1-exec-5|2023-03-31 10:28:37.444 CEST|SSLExtensions.java:272|Ignore, context unavailable extension: renegotiation_info\r\n    javax.net.ssl|DEBUG|EF|http-nio-auto-1-exec-5|2023-03-31 10:28:37.445 CEST|ClientHello.java:641|Produced ClientHello handshake message (\r\n    &quot;ClientHello&quot;: {\r\n      &quot;client version&quot;      : &quot;TLSv1.2&quot;,\r\n      &quot;random&quot;              : &quot;19F2B67470FA4E573D50B452679D7F794D527517E&quot;,\r\n      &quot;session id&quot;          : &quot;0A68F7268E1A29EA4F1AEC6943453D31C9EA02EEC8&quot;,\r\n      &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256(0xCCA9), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030),\r\n\r\nOnly the javax.net.ssl.... line should be logged as single entry in graylog.\r\n\r\nI would like to know if a log4j appender or a PrintStream (that could be assign to System.setOut(...)) already exists where a pattern can be defined which lines should be hold together?\r\nFilebeat would be an option (https://www.elastic.co/guide/en/beats/filebeat/current/multiline-examples.html) but would prefer a solution that can be configured in the spring boot application. Logstash is not in use.\r\n","title":"How to handle multiline sytem.out.println&#39;s in log4j","body":"<p>When i enable the logs for ssl handshake in a spring boot application each system.out.println is logged as a single entry in graylog. I'm looking for a solution in java that keeps the multilines together.</p>\n<pre><code>javax.net.ssl|DEBUG|EF|http-nio-auto-1-exec-5|2023-03-31 10:28:37.444 CEST|SSLExtensions.java:272|Ignore, context unavailable extension: renegotiation_info\njavax.net.ssl|DEBUG|EF|http-nio-auto-1-exec-5|2023-03-31 10:28:37.445 CEST|ClientHello.java:641|Produced ClientHello handshake message (\n&quot;ClientHello&quot;: {\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\n  &quot;random&quot;              : &quot;19F2B67470FA4E573D50B452679D7F794D527517E&quot;,\n  &quot;session id&quot;          : &quot;0A68F7268E1A29EA4F1AEC6943453D31C9EA02EEC8&quot;,\n  &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256(0xCCA9), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030),\n</code></pre>\n<p>Only the javax.net.ssl.... line should be logged as single entry in graylog.</p>\n<p>I would like to know if a log4j appender or a PrintStream (that could be assign to System.setOut(...)) already exists where a pattern can be defined which lines should be hold together?\nFilebeat would be an option (<a href=\"https://www.elastic.co/guide/en/beats/filebeat/current/multiline-examples.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/beats/filebeat/current/multiline-examples.html</a>) but would prefer a solution that can be configured in the spring boot application. Logstash is not in use.</p>\n"},{"tags":["java","maven","encoding","windows-10"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1680686173,"post_id":75937640,"comment_id":133938599,"body_markdown":"Which version of surefire-plugin do you use? Also please show the tests... Which version of JDK, Spring Boot etc. do you use?","body":"Which version of surefire-plugin do you use? Also please show the tests... Which version of JDK, Spring Boot etc. do you use?"},{"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"score":0,"creation_date":1680719863,"post_id":75937640,"comment_id":133947714,"body_markdown":"JDK 17, SB 2.7.0, in pom.xml there are no surefire plugin","body":"JDK 17, SB 2.7.0, in pom.xml there are no surefire plugin"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1680720145,"post_id":75937640,"comment_id":133947775,"body_markdown":"Using Spring Boot means it&#39;s defining maven-surefire-plugin on it&#39;s own.. you should check the logging output which versions is being used?","body":"Using Spring Boot means it&#39;s defining maven-surefire-plugin on it&#39;s own.. you should check the logging output which versions is being used?"},{"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"score":0,"creation_date":1680767306,"post_id":75937640,"comment_id":133954696,"body_markdown":"maven-compiler-plugin:3.10.1\nmaven-resources-plugin:3.2.0, it already has log &quot;Using &#39;UTF-8&#39; encoding to copy filtered resources.&quot;\nmaven-surefire-plugin:2.22.2, no mention encoding in logs","body":"maven-compiler-plugin:3.10.1 maven-resources-plugin:3.2.0, it already has log &quot;Using &#39;UTF-8&#39; encoding to copy filtered resources.&quot; maven-surefire-plugin:2.22.2, no mention encoding in logs"}],"answers":[{"comments":[{"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"score":0,"creation_date":1680719903,"post_id":75940035,"comment_id":133947724,"body_markdown":"thanks, but adding it to project didn&#39;t help","body":"thanks, but adding it to project didn&#39;t help"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1680720091,"post_id":75940035,"comment_id":133947762,"body_markdown":"This property is implicitly set by using `project.build.sourceEncoding` See https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#encoding","body":"This property is implicitly set by using <code>project.build.sourceEncoding</code> See <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#encoding\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/&hellip;</a>"}],"tags":[],"owner":{"display_name":"user15773347"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680701307,"creation_date":1680701307,"answer_id":75940035,"question_id":75937640,"body_markdown":"You can try to set the encoding for the maven-surefire-plugin.\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;YOUR_VERSION&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Maven test doesn&#39;t pass on Windows 10 because of encoding","body":"<p>You can try to set the encoding for the maven-surefire-plugin.</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;version&gt;YOUR_VERSION&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680719660,"creation_date":1680685832,"question_id":75937640,"body_markdown":"I have project on Spring Boot, Java and Maven, but my test doesn&#39;t pass because actual result I get something like &quot;РўР&#181;РєСЃС‚&quot; (I use non-latin letters). But when I launch tests in IntelliJ IDEA, they pass correctly. I have no plugin &quot;maven-surefire-plugin&quot; in pom.xml.\r\nI tried\r\n```\r\n&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n```\r\nand \r\n```\r\n    &lt;configuration&gt;\r\n        &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\r\n    &lt;/configuration&gt;\r\n```\r\nWhat can I do to make tests pass?","title":"Maven test doesn&#39;t pass on Windows 10 because of encoding","body":"<p>I have project on Spring Boot, Java and Maven, but my test doesn't pass because actual result I get something like &quot;РўРµРєСЃС‚&quot; (I use non-latin letters). But when I launch tests in IntelliJ IDEA, they pass correctly. I have no plugin &quot;maven-surefire-plugin&quot; in pom.xml.\nI tried</p>\n<pre><code>&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n</code></pre>\n<p>and</p>\n<pre><code>    &lt;configuration&gt;\n        &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\n    &lt;/configuration&gt;\n</code></pre>\n<p>What can I do to make tests pass?</p>\n"},{"tags":["java","android","kotlin","autofill","android-autofill-manager"],"answers":[{"comments":[{"owner":{"account_id":7155897,"reputation":1146,"user_id":8207701,"accept_rate":54,"display_name":"Bucky"},"score":0,"creation_date":1680082182,"post_id":75871875,"comment_id":133835297,"body_markdown":"I kinda wanted to auto complete texts using GPT on Android automatically whenever an user inputs a specific command in textfield. But I guess it&#39;s not possible to do that.","body":"I kinda wanted to auto complete texts using GPT on Android automatically whenever an user inputs a specific command in textfield. But I guess it&#39;s not possible to do that."},{"owner":{"account_id":2647979,"reputation":1049,"user_id":2290295,"accept_rate":80,"display_name":"Ruslan"},"score":0,"creation_date":1680083309,"post_id":75871875,"comment_id":133835585,"body_markdown":"I see. Maybe integration with Keyboards will works for your case? But I don&#39;t have experience with it, only with regular autofill, so I can&#39;t help much.","body":"I see. Maybe integration with Keyboards will works for your case? But I don&#39;t have experience with it, only with regular autofill, so I can&#39;t help much."}],"tags":[],"owner":{"account_id":2647979,"reputation":1049,"user_id":2290295,"accept_rate":80,"display_name":"Ruslan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680046133,"creation_date":1680046133,"answer_id":75871875,"question_id":75870544,"body_markdown":"In addition to what you declared in Manifest, user have to  enable you service as preferred autofill method in device settings. Please refer to official documentation [Build Autofill Services][1] for more details if you haven&#39;t seen it yet. \r\n\r\nBut generally speaking, Autofill Service can&#39;t and shouldn&#39;t have access to all data entered by user in third party apps for security reasons. As you already mentioned, the service will receive a callback if a view in third party app explicitly declared as `android:importantForAutofill=&quot;yes&quot;`.\r\n\r\nAlso, you may be interested in this article - [Integrate autofill with keyboards][2]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/text/autofill-services\r\n  [2]: https://developer.android.com/guide/topics/text/ime-autofill","title":"Filling data on text field of another app Android","body":"<p>In addition to what you declared in Manifest, user have to  enable you service as preferred autofill method in device settings. Please refer to official documentation <a href=\"https://developer.android.com/guide/topics/text/autofill-services\" rel=\"nofollow noreferrer\">Build Autofill Services</a> for more details if you haven't seen it yet.</p>\n<p>But generally speaking, Autofill Service can't and shouldn't have access to all data entered by user in third party apps for security reasons. As you already mentioned, the service will receive a callback if a view in third party app explicitly declared as <code>android:importantForAutofill=&quot;yes&quot;</code>.</p>\n<p>Also, you may be interested in this article - <a href=\"https://developer.android.com/guide/topics/text/ime-autofill\" rel=\"nofollow noreferrer\">Integrate autofill with keyboards</a></p>\n"},{"tags":[],"owner":{"account_id":24939805,"reputation":11,"user_id":18805850,"display_name":"Ahaan Ugale"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680719649,"creation_date":1680719649,"answer_id":75942952,"question_id":75870544,"body_markdown":"Autofill isn&#39;t going to help you here. It isn&#39;t designed for receiving text entered anywhere. The service would only receive input text if it&#39;s an autofillable field and the user accepts a dialog to save the data; and even then cannot edit that entered text.\r\n\r\nThe &quot;integrate with keyboards&quot; mentioned in the other answer doesn&#39;t help either -- it&#39;s just another UI surface for autofill, it doesn&#39;t change how it functions.\r\n\r\nA keyboard app itself might be able to do what you&#39;re trying. Or maybe an accessibility service, though publishing on Google Play would require adhering to the accessibility service policies there.","title":"Filling data on text field of another app Android","body":"<p>Autofill isn't going to help you here. It isn't designed for receiving text entered anywhere. The service would only receive input text if it's an autofillable field and the user accepts a dialog to save the data; and even then cannot edit that entered text.</p>\n<p>The &quot;integrate with keyboards&quot; mentioned in the other answer doesn't help either -- it's just another UI surface for autofill, it doesn't change how it functions.</p>\n<p>A keyboard app itself might be able to do what you're trying. Or maybe an accessibility service, though publishing on Google Play would require adhering to the accessibility service policies there.</p>\n"}],"owner":{"account_id":7155897,"reputation":1146,"user_id":8207701,"accept_rate":54,"display_name":"Bucky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680719649,"creation_date":1680033343,"question_id":75870544,"body_markdown":"So I&#39;m trying to get what the user is typing on another app and if it matches my pre defined string, I need to fill it with something inside that text field without them having to open my app.\r\n\r\nI tried using AutoFillService, but it&#39;s not working for some reasons,\r\n```\r\n&lt;service\r\n    android:name=&quot;.MyServiceClass&quot;\r\n    android:label=&quot;MyServiceClass&quot;\r\n    android:permission=&quot;android.permission.BIND_AUTOFILL_SERVICE&quot;\r\n    android:exported=&quot;true&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.service.autofill.AutofillService&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;meta-data\r\n    android:name=&quot;android.autofill&quot;\r\n    android:resource=&quot;@xml/service_configuration&quot; /&gt;\r\n&lt;/service&gt;\r\n```\r\nIn Java Service Class,\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    public class MyServiceClass extends AutofillService {\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n        }\r\n    \r\n        @Override\r\n        public void onConnected() {\r\n    \r\n            super.onConnected();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onFillRequest(@NonNull FillRequest fillRequest, @NonNull CancellationSignal cancellationSignal, @NonNull FillCallback fillCallback) {\r\n            List&lt;FillContext&gt; fillContexts = fillRequest.getFillContexts();\r\n            Dataset dataset = null;\r\n    \r\n            for (FillContext context : fillContexts) {\r\n                AssistStructure structure = context.getStructure();\r\n                Bundle extras = structure.getWindowNodeAt(0).getRootViewNode().getExtras();\r\n                System.out.println(extras);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onSaveRequest(@NonNull SaveRequest saveRequest, @NonNull SaveCallback saveCallback) {\r\n    \r\n        }\r\n    }\r\n\r\nSo when I enter any texts on another app, I&#39;m not getting any signals on my service class. As per my knowledge it only works when the third party app uses the `requestAutofill();` function or something, but tried using it on an app that requires email and password, but i still didn&#39;t get any callbacks.\r\n\r\nAlso is there any ways to get the texts from a textfield of any app, doesn&#39;t matter if they use requestAutoFill or not?\r\n\r\nFor example, getting text from what the user is typing in whatsapp edittext field..\r\n\r\nIs that possible in Android?\r\n\r\n\r\n","title":"Filling data on text field of another app Android","body":"<p>So I'm trying to get what the user is typing on another app and if it matches my pre defined string, I need to fill it with something inside that text field without them having to open my app.</p>\n<p>I tried using AutoFillService, but it's not working for some reasons,</p>\n<pre><code>&lt;service\n    android:name=&quot;.MyServiceClass&quot;\n    android:label=&quot;MyServiceClass&quot;\n    android:permission=&quot;android.permission.BIND_AUTOFILL_SERVICE&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.service.autofill.AutofillService&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;meta-data\n    android:name=&quot;android.autofill&quot;\n    android:resource=&quot;@xml/service_configuration&quot; /&gt;\n&lt;/service&gt;\n</code></pre>\n<p>In Java Service Class,</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.O)\npublic class MyServiceClass extends AutofillService {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    @Override\n    public void onConnected() {\n\n        super.onConnected();\n    }\n\n\n    @Override\n    public void onFillRequest(@NonNull FillRequest fillRequest, @NonNull CancellationSignal cancellationSignal, @NonNull FillCallback fillCallback) {\n        List&lt;FillContext&gt; fillContexts = fillRequest.getFillContexts();\n        Dataset dataset = null;\n\n        for (FillContext context : fillContexts) {\n            AssistStructure structure = context.getStructure();\n            Bundle extras = structure.getWindowNodeAt(0).getRootViewNode().getExtras();\n            System.out.println(extras);\n        }\n    }\n\n    @Override\n    public void onSaveRequest(@NonNull SaveRequest saveRequest, @NonNull SaveCallback saveCallback) {\n\n    }\n}\n</code></pre>\n<p>So when I enter any texts on another app, I'm not getting any signals on my service class. As per my knowledge it only works when the third party app uses the <code>requestAutofill();</code> function or something, but tried using it on an app that requires email and password, but i still didn't get any callbacks.</p>\n<p>Also is there any ways to get the texts from a textfield of any app, doesn't matter if they use requestAutoFill or not?</p>\n<p>For example, getting text from what the user is typing in whatsapp edittext field..</p>\n<p>Is that possible in Android?</p>\n"},{"tags":["java","git","github","github-actions","artifactory"],"answers":[{"tags":[],"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605630427,"creation_date":1605630427,"answer_id":64879259,"question_id":64878131,"body_markdown":"You can upload the jars produced by the build from _Repo A_ as a [build artifact][1] then use the [download-workflow-artifact action][2] step in _Repo B_ to download it.\r\n\r\n\r\n  [1]: https://docs.github.com/en/free-pro-team@latest/actions/guides/storing-workflow-data-as-artifacts\r\n  [2]: https://github.com/marketplace/actions/download-workflow-artifact","title":"Use resources(like jar files) of a github repo in another repo using github actions?","body":"<p>You can upload the jars produced by the build from <em>Repo A</em> as a <a href=\"https://docs.github.com/en/free-pro-team@latest/actions/guides/storing-workflow-data-as-artifacts\" rel=\"nofollow noreferrer\">build artifact</a> then use the <a href=\"https://github.com/marketplace/actions/download-workflow-artifact\" rel=\"nofollow noreferrer\">download-workflow-artifact action</a> step in <em>Repo B</em> to download it.</p>\n"}],"owner":{"account_id":10982886,"reputation":21,"user_id":8069468,"display_name":"nauki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680719385,"creation_date":1605626576,"question_id":64878131,"body_markdown":"I have two repositories and Repo A and Repo B and I am using GitHub actions in both repositories. Repo A creates some jar files which are required to run Repo B.\r\n\r\nbuild.yml file of Repo A\r\n```\r\nname: Repo A\r\non:\r\n  pull_request:\r\n  push:  \r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: &#39;PREP - GitHub context&#39;\r\n        env:\r\n          GITHUB_CONTEXT: ${{ toJson(github) }}\r\n        run: echo &quot;$GITHUB_CONTEXT&quot;\r\n\r\n      - name: &#39;SETUP - Checkout PR branch&#39;\r\n        if: github.event_name == &#39;pull_request&#39;\r\n        uses: &#39;actions/checkout@v2&#39;\r\n        with:\r\n          ref: &#39;${{ github.event.pull_request.head.sha }}&#39;\r\n\r\n      - name: &#39;SETUP - Checkout Branch Code &#39;\r\n        if: github.event_name == &#39;push&#39;\r\n        uses: &#39;actions/checkout@v2&#39;\r\n        with:\r\n          ref: &#39;${{ github.ref }}&#39;\r\n\r\n      - name: &#39;SETUP - JAVA JDK 1.8&#39;\r\n        uses: actions/setup-java@v1\r\n        with:\r\n          java-version: 1.8\r\n\r\n      - name: &#39;SETUP - Cache Gradle packages&#39;\r\n        uses: &#39;actions/cache@v2&#39;\r\n        with:\r\n          path: &#39;~/.gradle/caches&#39;\r\n          key: ${{ runner.os }}-gradle-${{ hashFiles(&#39;**/*.gradle&#39;) }}\r\n          restore-keys: ${{ runner.os }}-gradle\r\n\r\n      - name: &#39;BUILD - Code Build &amp; Unit Tests&#39;\r\n        run: | \r\n          sudo ./gradlew build\r\n```\r\nRepo B has a similar build.yml file\r\n\r\n\r\nIt becomes easier when these repositories are build in local, it uses .gradle and .m2 of local to get those jars in external libraries.\r\n\r\nHere I am not able to figure out how to use jars from repo A in Repo B because each job in a workflow executes in a fresh instance of the virtual machine.\r\n\r\nI came up with one solution to write a few lines to clone and build Repo A in the build.yml file of Repo B but it would take a long time to build.\r\n\r\nAnd I also want to know how Jfrog helps in this?","title":"Use resources(like jar files) of a github repo in another repo using github actions?","body":"<p>I have two repositories and Repo A and Repo B and I am using GitHub actions in both repositories. Repo A creates some jar files which are required to run Repo B.</p>\n<p>build.yml file of Repo A</p>\n<pre><code>name: Repo A\non:\n  pull_request:\n  push:  \njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - name: 'PREP - GitHub context'\n        env:\n          GITHUB_CONTEXT: ${{ toJson(github) }}\n        run: echo &quot;$GITHUB_CONTEXT&quot;\n\n      - name: 'SETUP - Checkout PR branch'\n        if: github.event_name == 'pull_request'\n        uses: 'actions/checkout@v2'\n        with:\n          ref: '${{ github.event.pull_request.head.sha }}'\n\n      - name: 'SETUP - Checkout Branch Code '\n        if: github.event_name == 'push'\n        uses: 'actions/checkout@v2'\n        with:\n          ref: '${{ github.ref }}'\n\n      - name: 'SETUP - JAVA JDK 1.8'\n        uses: actions/setup-java@v1\n        with:\n          java-version: 1.8\n\n      - name: 'SETUP - Cache Gradle packages'\n        uses: 'actions/cache@v2'\n        with:\n          path: '~/.gradle/caches'\n          key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle') }}\n          restore-keys: ${{ runner.os }}-gradle\n\n      - name: 'BUILD - Code Build &amp; Unit Tests'\n        run: | \n          sudo ./gradlew build\n</code></pre>\n<p>Repo B has a similar build.yml file</p>\n<p>It becomes easier when these repositories are build in local, it uses .gradle and .m2 of local to get those jars in external libraries.</p>\n<p>Here I am not able to figure out how to use jars from repo A in Repo B because each job in a workflow executes in a fresh instance of the virtual machine.</p>\n<p>I came up with one solution to write a few lines to clone and build Repo A in the build.yml file of Repo B but it would take a long time to build.</p>\n<p>And I also want to know how Jfrog helps in this?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1639752952,"post_id":70394089,"comment_id":124436190,"body_markdown":"Safe to assume your `folder/folder` is actually `com/.../` that matches your `import` statements? From which directory do you run Gradle? Does it interpret the relative path relative to the current directory or to `build.gradle`? If you run from the top directory, try removing the `../` from paths like `implementation fileTree(&#39;../lib&#39;)`.","body":"Safe to assume your <code>folder&#47;folder</code> is actually <code>com&#47;...&#47;</code> that matches your <code>import</code> statements? From which directory do you run Gradle? Does it interpret the relative path relative to the current directory or to <code>build.gradle</code>? If you run from the top directory, try removing the <code>..&#47;</code> from paths like <code>implementation fileTree(&#39;..&#47;lib&#39;)</code>."},{"owner":{"account_id":11011110,"reputation":25,"user_id":8088447,"display_name":"Mihai Popescu"},"score":0,"creation_date":1639755131,"post_id":70394089,"comment_id":124437050,"body_markdown":"Yes, those paths are only for example. I tried with absolut and relative paths but with no success...","body":"Yes, those paths are only for example. I tried with absolut and relative paths but with no success..."}],"answers":[{"comments":[{"owner":{"account_id":11011110,"reputation":25,"user_id":8088447,"display_name":"Mihai Popescu"},"score":0,"creation_date":1639989993,"post_id":70400549,"comment_id":124479621,"body_markdown":"Unfortunately changing the layout is not an option... I will try to switch to kotlin though. One thing I must point out: setting the `JavaLanguageVersion` to 8 did not worked. I had to set `options.release = 8` property inside the `JavaCompile` task. I think the `srcDirs` method from `java sourceSets` only looks one level, but I have 3 levels of folders so I had to include them all. Is there a function that looks for java files no matter how nested they are?","body":"Unfortunately changing the layout is not an option... I will try to switch to kotlin though. One thing I must point out: setting the <code>JavaLanguageVersion</code> to 8 did not worked. I had to set <code>options.release = 8</code> property inside the <code>JavaCompile</code> task. I think the <code>srcDirs</code> method from <code>java sourceSets</code> only looks one level, but I have 3 levels of folders so I had to include them all. Is there a function that looks for java files no matter how nested they are?"},{"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":0,"creation_date":1680719512,"post_id":70400549,"comment_id":133947631,"body_markdown":"You should not set `options.release`, the toolchain setting should work. If it is not, something is very strange or missing. `srcDir`s should be set to the directories where the package structure starts. But you have a turing-complete language available, so if you don&#39;t want to do it manually, just list the directory and automatically add all subdirectories as `srcDir`.","body":"You should not set <code>options.release</code>, the toolchain setting should work. If it is not, something is very strange or missing. <code>srcDir</code>s should be set to the directories where the package structure starts. But you have a turing-complete language available, so if you don&#39;t want to do it manually, just list the directory and automatically add all subdirectories as <code>srcDir</code>."}],"tags":[],"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680719264,"creation_date":1639793951,"answer_id":70400549,"question_id":70394089,"body_markdown":"Allow me to give you some general advice first.\r\nI can strongly recommend using the Kotlin DSL instead of the Groovy DSL.\r\nYou instantly get strongly typed code in the build scripts and much better IDE support.\r\n\r\nAlso you should imho consider changing your project layout to be more like most other Java projects out there and especially not use a `libs` directory, but use normal dependencies in a repository where transitive dependencies are then handled automatically and so on.\r\n\r\nBut to answer your actual question, this is the complete build script in Groovy DSL that you want:\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\nbuildDir = &#39;../bin&#39;\r\n\r\njava {\r\n    toolchain {\r\n        languageVersion.set(JavaLanguageVersion.of(8))\r\n    }\r\n}\r\n\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDirs = [&#39;../src/folder/folder&#39;]\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(&#39;../lib&#39;)\r\n}\r\n```\r\n\r\nAnd this is the matching Kotlin DSL version:\r\n```kts\r\nplugins {\r\n    java\r\n}\r\n\r\nsetBuildDir(&quot;../bin&quot;)\r\n\r\njava {\r\n    toolchain {\r\n        languageVersion.set(JavaLanguageVersion.of(8))\r\n    }\r\n}\r\n\r\nsourceSets {\r\n    main {\r\n        java {\r\n            setSrcDirs(listOf(&quot;../src/folder/folder&quot;))\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation(fileTree(&quot;../lib&quot;))\r\n}\r\n```","title":"gradle does not import local java libraries","body":"<p>Allow me to give you some general advice first.\nI can strongly recommend using the Kotlin DSL instead of the Groovy DSL.\nYou instantly get strongly typed code in the build scripts and much better IDE support.</p>\n<p>Also you should imho consider changing your project layout to be more like most other Java projects out there and especially not use a <code>libs</code> directory, but use normal dependencies in a repository where transitive dependencies are then handled automatically and so on.</p>\n<p>But to answer your actual question, this is the complete build script in Groovy DSL that you want:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\nbuildDir = '../bin'\n\njava {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(8))\n    }\n}\n\nsourceSets {\n    main {\n        java {\n            srcDirs = ['../src/folder/folder']\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree('../lib')\n}\n</code></pre>\n<p>And this is the matching Kotlin DSL version:</p>\n<pre><code>plugins {\n    java\n}\n\nsetBuildDir(&quot;../bin&quot;)\n\njava {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(8))\n    }\n}\n\nsourceSets {\n    main {\n        java {\n            setSrcDirs(listOf(&quot;../src/folder/folder&quot;))\n        }\n    }\n}\n\ndependencies {\n    implementation(fileTree(&quot;../lib&quot;))\n}\n</code></pre>\n"}],"owner":{"account_id":11011110,"reputation":25,"user_id":8088447,"display_name":"Mihai Popescu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70400549,"answer_count":1,"score":0,"last_activity_date":1680719264,"creation_date":1639748392,"question_id":70394089,"body_markdown":"I have the following folder structure:\r\n\r\n -bin\r\n\r\n -build/build.gradle (the gradle script)\r\n\r\n -lib/[*.jar] (libraries that the project is using)\r\n\r\n -src/folder/folder/[*.java] (project&#39;s source code)\r\n\r\nThe following content for the build.gradle script:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;groovy&#39;\r\n}\r\n\r\nbuildDir = new File(&#39;../bin&#39;) \r\nsourceCompatibility = JavaVersion.VERSION_1_8 \r\n\r\nsourceSets { \r\n    main { \r\n        java { \r\n            allJava.srcDirs = [ &#39;../src/folder/folder/ &#39;] \r\n            compileClasspath = fileTree(&#39;../bin&#39;) \r\n        } \r\n    } \r\n} \r\n\r\nrepositories {\r\n    flatDir {\r\n        dirs &#39;../lib&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(&#39;../lib&#39;)\r\n}\r\n\r\ntasks.register(&#39;javac&#39;, JavaCompile) { \r\n    println &#39;Call javac&#39; \r\n    source.forEach { e -&gt; println e} \r\n\r\n    classpath = sourceSets.main.compileClasspath \r\n    destinationDirectory = file(&#39;../bin&#39;) \r\n    source sourceSets.main.allJava.srcDirs \r\n    includes.add(&#39;*.java&#39;) \r\n    sourceCompatibility = JavaVersion.VERSION_1_8 \r\n}\r\n\r\n```\r\n\r\nWhen running ```gradle javac ``` I got the error: ``` error: cannot find symbol\r\nimport com...```\r\n\r\nThe documentations clearly says: \r\n\r\n    dependencies {\r\n    .\r\n    .\r\n    .\r\n        //putting all jars from &#39;libs&#39; onto compile classpath\r\n        implementation fileTree(&#39;libs&#39;)\r\n    }\r\n\r\nI&#39;m using Gradle 7.3.1 \r\n","title":"gradle does not import local java libraries","body":"<p>I have the following folder structure:</p>\n<p>-bin</p>\n<p>-build/build.gradle (the gradle script)</p>\n<p>-lib/[*.jar] (libraries that the project is using)</p>\n<p>-src/folder/folder/[*.java] (project's source code)</p>\n<p>The following content for the build.gradle script:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'groovy'\n}\n\nbuildDir = new File('../bin') \nsourceCompatibility = JavaVersion.VERSION_1_8 \n\nsourceSets { \n    main { \n        java { \n            allJava.srcDirs = [ '../src/folder/folder/ '] \n            compileClasspath = fileTree('../bin') \n        } \n    } \n} \n\nrepositories {\n    flatDir {\n        dirs '../lib'\n    }\n}\n\ndependencies {\n    implementation fileTree('../lib')\n}\n\ntasks.register('javac', JavaCompile) { \n    println 'Call javac' \n    source.forEach { e -&gt; println e} \n\n    classpath = sourceSets.main.compileClasspath \n    destinationDirectory = file('../bin') \n    source sourceSets.main.allJava.srcDirs \n    includes.add('*.java') \n    sourceCompatibility = JavaVersion.VERSION_1_8 \n}\n\n</code></pre>\n<p>When running <code>gradle javac </code> I got the error: <code> error: cannot find symbol import com...</code></p>\n<p>The documentations clearly says:</p>\n<pre><code>dependencies {\n.\n.\n.\n    //putting all jars from 'libs' onto compile classpath\n    implementation fileTree('libs')\n}\n</code></pre>\n<p>I'm using Gradle 7.3.1</p>\n"},{"tags":["java","multithreading","sockets"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1680744455,"post_id":75942832,"comment_id":133951622,"body_markdown":"Why does closing the server socket necessarily terminate in-progress connections?  That would seem to be a design choice.","body":"Why does closing the server socket necessarily terminate in-progress connections?  That would seem to be a design choice."}],"owner":{"account_id":12303918,"reputation":1053,"user_id":8977557,"accept_rate":80,"display_name":"Agrudge Amicus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680718847,"creation_date":1680718847,"question_id":75942832,"body_markdown":"While making an attempt to shut-down a server, the server must be waiting (via `accept()` method) for new threads to make connection. My question is same as the question posted here:\r\n\r\nhttps://stackoverflow.com/questions/2983835/how-can-i-interrupt-a-serversocket-accept-method\r\n\r\nBut I have few other questions/reservations about the offered solutions:\r\n\r\n\r\n1: In case I use `close()` then it will close the server socket and eventually the client threads who are still in execution - they will be brought down. This is something I want to avoid in order to cleanly shutdown the server (let every thread complete and no new client thread/connection to be made).\r\n\r\n2: In case I use some kind of time-out for the `accept()` - what if the time-out happens, the control flow marches ahead and before the control flow can again reaches `accept()`, some client attempts for a new connection?\r\n\r\n","title":"shutting down a server which still has clients processing some threads","body":"<p>While making an attempt to shut-down a server, the server must be waiting (via <code>accept()</code> method) for new threads to make connection. My question is same as the question posted here:</p>\n<p><a href=\"https://stackoverflow.com/questions/2983835/how-can-i-interrupt-a-serversocket-accept-method\">How can I interrupt a ServerSocket accept() method?</a></p>\n<p>But I have few other questions/reservations about the offered solutions:</p>\n<p>1: In case I use <code>close()</code> then it will close the server socket and eventually the client threads who are still in execution - they will be brought down. This is something I want to avoid in order to cleanly shutdown the server (let every thread complete and no new client thread/connection to be made).</p>\n<p>2: In case I use some kind of time-out for the <code>accept()</code> - what if the time-out happens, the control flow marches ahead and before the control flow can again reaches <code>accept()</code>, some client attempts for a new connection?</p>\n"},{"tags":["java","c#","kotlin","discriminated-union"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1522068282,"post_id":49491593,"comment_id":85986790,"body_markdown":"You are asking about Java, but show no Java code. I feel this isn&#39;t right.","body":"You are asking about Java, but show no Java code. I feel this isn&#39;t right."},{"owner":{"account_id":8632125,"reputation":1991,"user_id":6463426,"display_name":"dumetrulo"},"score":2,"creation_date":1522069228,"post_id":49491593,"comment_id":85987507,"body_markdown":"Neither C# nor Java have union types, and any workarounds will be awkward to use at best. For a .NET language that does have union types, please look at F#.","body":"Neither C# nor Java have union types, and any workarounds will be awkward to use at best. For a .NET language that does have union types, please look at F#."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":1,"creation_date":1522069575,"post_id":49491593,"comment_id":85987776,"body_markdown":"Looks perhaps like you are looking for [java.util.Optional](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html) from Java 8.","body":"Looks perhaps like you are looking for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">java.util.Optional</a> from Java 8."},{"owner":{"account_id":8191460,"reputation":13817,"user_id":7366707,"accept_rate":86,"display_name":"Salem"},"score":1,"creation_date":1522070103,"post_id":49491593,"comment_id":85988123,"body_markdown":"There isn&#39;t anything exactly equivalent - but why do you need a Java solution, when you already have one in Kotlin, which has perfectly working interop?","body":"There isn&#39;t anything exactly equivalent - but why do you need a Java solution, when you already have one in Kotlin, which has perfectly working interop?"},{"owner":{"account_id":2016925,"reputation":571,"user_id":1804010,"display_name":"Michal Pawluk"},"score":0,"creation_date":1522070190,"post_id":49491593,"comment_id":85988188,"body_markdown":"@dumetrulo, you can easily simulate union types in C# without much typing, not as cleanly as in F# but perfectly usable, you can also do pattern-match generic types which is rather difficult in Java due to generic types erasure. The question how to achieve the same in Java.","body":"@dumetrulo, you can easily simulate union types in C# without much typing, not as cleanly as in F# but perfectly usable, you can also do pattern-match generic types which is rather difficult in Java due to generic types erasure. The question how to achieve the same in Java."},{"owner":{"account_id":2016925,"reputation":571,"user_id":1804010,"display_name":"Michal Pawluk"},"score":0,"creation_date":1522070665,"post_id":49491593,"comment_id":85988542,"body_markdown":"@Moira, you are right, unfortunately Java is the only approved JVM technology at my worklplace.","body":"@Moira, you are right, unfortunately Java is the only approved JVM technology at my worklplace."},{"owner":{"account_id":2016925,"reputation":571,"user_id":1804010,"display_name":"Michal Pawluk"},"score":1,"creation_date":1522072573,"post_id":49491593,"comment_id":85989880,"body_markdown":"@OldCurmudgeon, I seems like the java.util.Optional should do the job in case of the Option/Maybe type. Thanks for the suggestion.","body":"@OldCurmudgeon, I seems like the java.util.Optional should do the job in case of the Option/Maybe type. Thanks for the suggestion."},{"owner":{"account_id":2016925,"reputation":571,"user_id":1804010,"display_name":"Michal Pawluk"},"score":0,"creation_date":1522072729,"post_id":49491593,"comment_id":85989989,"body_markdown":"Thanks All, I guess I&#39;ll need to start my Java learning excersise with something more down-to-the-earth.","body":"Thanks All, I guess I&#39;ll need to start my Java learning excersise with something more down-to-the-earth."}],"answers":[{"comments":[{"owner":{"account_id":368,"reputation":44335,"user_id":459,"accept_rate":81,"display_name":"dlamblin"},"score":0,"creation_date":1637627082,"post_id":51092768,"comment_id":123872176,"body_markdown":"Strikes me as hard to read and reason with, compared to some syntactic union type support.","body":"Strikes me as hard to read and reason with, compared to some syntactic union type support."},{"owner":{"account_id":3461870,"reputation":16885,"user_id":2898715,"accept_rate":92,"display_name":"Eric"},"score":0,"creation_date":1637960000,"post_id":51092768,"comment_id":123969728,"body_markdown":"@dlamblin , i agree. I wrote this up a while ago when Java didn&#39;t have native union type support. I&#39;m not sure if Java has union type support not or not now though","body":"@dlamblin , i agree. I wrote this up a while ago when Java didn&#39;t have native union type support. I&#39;m not sure if Java has union type support not or not now though"},{"owner":{"account_id":368,"reputation":44335,"user_id":459,"accept_rate":81,"display_name":"dlamblin"},"score":0,"creation_date":1638218786,"post_id":51092768,"comment_id":124025369,"body_markdown":"I was trying to find out, it seems not as yet no.","body":"I was trying to find out, it seems not as yet no."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1641996178,"post_id":51092768,"comment_id":124954475,"body_markdown":"There is a preview feature to get pattern matching in Java, based on switch expressions: https://openjdk.java.net/jeps/406 - seems quite comprehensive for the time being.","body":"There is a preview feature to get pattern matching in Java, based on switch expressions: <a href=\"https://openjdk.java.net/jeps/406\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/406</a> - seems quite comprehensive for the time being."}],"tags":[],"owner":{"account_id":3461870,"reputation":16885,"user_id":2898715,"accept_rate":92,"display_name":"Eric"},"comment_count":4,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1680718776,"creation_date":1530232169,"answer_id":51092768,"question_id":49491593,"body_markdown":"in the specific case you mentioned, the following would work:\r\n\r\n* (as @oldcurmudgeon mentioned) [`java.util.Optional`](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html) it also has [a `map` function](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-).\r\n* there&#39;s also the guava library, that has [`com.google.common.base.Optional`](https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/Optional.html), in case you want it for java version 7 and below. the equivalent of `map` here would be [the `transform` function](https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/Optional.html#transform(com.google.common.base.Function)).\r\n\r\nJava doesn&#39;t have pattern matching. The closest you can get to pattern matching in Java is with [the visitor pattern](https://refactoring.guru/design-patterns/visitor).\r\n\r\nusage:\r\n\r\n```java\r\nUnionType unionType = new TypeA();\r\n    \r\nInteger count = unionType.when(new UnionType.Cases&lt;Integer&gt;() {\r\n    @Override\r\n    public Integer is(TypeA typeA) {\r\n        // TypeA-specific handling code\r\n    }\r\n\r\n    @Override\r\n    public Integer is(TypeB typeB) {\r\n        // TypeB-specific handling code\r\n    }\r\n});\r\n```\r\n\r\nboilerplate code:\r\n\r\n```java\r\ninterface UnionType {\r\n    &lt;R&gt; R when(Cases&lt;R&gt; c);\r\n    \r\n    interface Cases&lt;R&gt; {\r\n        R is(TypeA typeA);\r\n    \r\n        R is(TypeB typeB);\r\n    }\r\n}\r\n    \r\nclass TypeA implements UnionType {\r\n\r\n    // ... TypeA-specific code ...\r\n\r\n    @Override\r\n    public &lt;R&gt; R when(Cases&lt;R&gt; cases) {\r\n        return cases.is(this);\r\n    }\r\n}\r\n    \r\nclass TypeB implements UnionType {\r\n\r\n    // ... TypeB-specific code ...\r\n\r\n    @Override\r\n    public &lt;R&gt; R when(Cases&lt;R&gt; cases) {\r\n        return cases.is(this);\r\n    }\r\n}\r\n```","title":"Union types in Java","body":"<p>in the specific case you mentioned, the following would work:</p>\n<ul>\n<li>(as @oldcurmudgeon mentioned) <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>java.util.Optional</code></a> it also has <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">a <code>map</code> function</a>.</li>\n<li>there's also the guava library, that has <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/Optional.html\" rel=\"nofollow noreferrer\"><code>com.google.common.base.Optional</code></a>, in case you want it for java version 7 and below. the equivalent of <code>map</code> here would be <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/Optional.html#transform(com.google.common.base.Function)\" rel=\"nofollow noreferrer\">the <code>transform</code> function</a>.</li>\n</ul>\n<p>Java doesn't have pattern matching. The closest you can get to pattern matching in Java is with <a href=\"https://refactoring.guru/design-patterns/visitor\" rel=\"nofollow noreferrer\">the visitor pattern</a>.</p>\n<p>usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>UnionType unionType = new TypeA();\n    \nInteger count = unionType.when(new UnionType.Cases&lt;Integer&gt;() {\n    @Override\n    public Integer is(TypeA typeA) {\n        // TypeA-specific handling code\n    }\n\n    @Override\n    public Integer is(TypeB typeB) {\n        // TypeB-specific handling code\n    }\n});\n</code></pre>\n<p>boilerplate code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface UnionType {\n    &lt;R&gt; R when(Cases&lt;R&gt; c);\n    \n    interface Cases&lt;R&gt; {\n        R is(TypeA typeA);\n    \n        R is(TypeB typeB);\n    }\n}\n    \nclass TypeA implements UnionType {\n\n    // ... TypeA-specific code ...\n\n    @Override\n    public &lt;R&gt; R when(Cases&lt;R&gt; cases) {\n        return cases.is(this);\n    }\n}\n    \nclass TypeB implements UnionType {\n\n    // ... TypeB-specific code ...\n\n    @Override\n    public &lt;R&gt; R when(Cases&lt;R&gt; cases) {\n        return cases.is(this);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19355910,"reputation":121,"user_id":14152249,"display_name":"solru"},"score":1,"creation_date":1663496030,"post_id":72726250,"comment_id":130249294,"body_markdown":"Why not use overloads in such case?","body":"Why not use overloads in such case?"},{"owner":{"account_id":2636896,"reputation":874,"user_id":2281318,"accept_rate":70,"display_name":"Antoine"},"score":0,"creation_date":1663574451,"post_id":72726250,"comment_id":130263285,"body_markdown":"@solru Do you mean defining `doSomething(String[] values)` and `doSomething(double[] values)`? In my case, completely valid solution, but both do-something methods were different enough to deserve different names (IMO). However, if you mean defining `myFunc(String[] values)` and `myFunc(double[] values)`, that was undesirable, because I would end-up with &quot;two copies&quot; of the same function (my acual `myFunc` does more than just the if-else above)","body":"@solru Do you mean defining <code>doSomething(String[] values)</code> and <code>doSomething(double[] values)</code>? In my case, completely valid solution, but both do-something methods were different enough to deserve different names (IMO). However, if you mean defining <code>myFunc(String[] values)</code> and <code>myFunc(double[] values)</code>, that was undesirable, because I would end-up with &quot;two copies&quot; of the same function (my acual <code>myFunc</code> does more than just the if-else above)"},{"owner":{"account_id":13601740,"reputation":328,"user_id":13629726,"display_name":"nir shahar"},"score":1,"creation_date":1677884750,"post_id":72726250,"comment_id":133432294,"body_markdown":"I fail to understand how this solves the problem. You will still need to know what you are working with beforehand... And in any case, this function is really bad design-wise since it aggregates multiple responsibilities of different actions into one method (which makes it harder to use, extend, and change in the future)","body":"I fail to understand how this solves the problem. You will still need to know what you are working with beforehand... And in any case, this function is really bad design-wise since it aggregates multiple responsibilities of different actions into one method (which makes it harder to use, extend, and change in the future)"}],"tags":[],"owner":{"account_id":2636896,"reputation":874,"user_id":2281318,"accept_rate":70,"display_name":"Antoine"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655969580,"creation_date":1655969580,"answer_id":72726250,"question_id":49491593,"body_markdown":"When I bumped into this, my function needed to handle `double[]` or `String[]`. So I always passed both (setting the non-existing one to `null`) and the function was something like\r\n\r\n```\r\npublic void myFunc(String[] valuesCategorical, double[] valuesNumeric){\r\n    if (valuesCategorical == null){\r\n        doSomethingWithCategorical(valuesCategorical);\r\n    } else {\r\n        doSomethingWithNumeric(valuesNumeric);\r\n    }\r\n}\r\n```","title":"Union types in Java","body":"<p>When I bumped into this, my function needed to handle <code>double[]</code> or <code>String[]</code>. So I always passed both (setting the non-existing one to <code>null</code>) and the function was something like</p>\n<pre><code>public void myFunc(String[] valuesCategorical, double[] valuesNumeric){\n    if (valuesCategorical == null){\n        doSomethingWithCategorical(valuesCategorical);\n    } else {\n        doSomethingWithNumeric(valuesNumeric);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2016925,"reputation":571,"user_id":1804010,"display_name":"Michal Pawluk"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35541,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":2,"score":23,"last_activity_date":1680718776,"creation_date":1522067577,"question_id":49491593,"body_markdown":"I&#39;ve been working with C# for a while and trying to get more familiar with Java. So I&#39;m trying to migrate some of the basic patterns I use on daily basis in C# even only to understand the gap between JVM and dotnet and figure out how to deal with them. Here is the first problem I encountered - an option type - somethiong which is quite easy to achieve in many languages i.e. Koltlin: \r\n\r\n    sealed class Option&lt;out T : Any&gt; {\r\n        object None : Option&lt;Nothing&gt;()\r\n        data class Some&lt;out T : Any&gt;(val value: T) : Option&lt;T&gt;()}\r\n\r\nso I can easily create a map functor:\r\n\r\n    fun &lt;T : Any, B : Any&gt; Option&lt;T&gt;.map(f: (T) -&gt; B): Option&lt;B&gt; =\r\n        when (this) {\r\n            is Option.None -&gt; Option.None\r\n            is Option.Some -&gt; Option.Some(f(this.value))} \r\n\r\nIs this something I can achieve in Java? Im not concerned about the lack of extentions methods, I can live without that, but how to perform the actual type matching without having to rely on an unchecked cast? At least thats what IntelliJ is complaining about...\r\n\r\n\r\n","title":"Union types in Java","body":"<p>I've been working with C# for a while and trying to get more familiar with Java. So I'm trying to migrate some of the basic patterns I use on daily basis in C# even only to understand the gap between JVM and dotnet and figure out how to deal with them. Here is the first problem I encountered - an option type - somethiong which is quite easy to achieve in many languages i.e. Koltlin:</p>\n<pre><code>sealed class Option&lt;out T : Any&gt; {\n    object None : Option&lt;Nothing&gt;()\n    data class Some&lt;out T : Any&gt;(val value: T) : Option&lt;T&gt;()}\n</code></pre>\n<p>so I can easily create a map functor:</p>\n<pre><code>fun &lt;T : Any, B : Any&gt; Option&lt;T&gt;.map(f: (T) -&gt; B): Option&lt;B&gt; =\n    when (this) {\n        is Option.None -&gt; Option.None\n        is Option.Some -&gt; Option.Some(f(this.value))} \n</code></pre>\n<p>Is this something I can achieve in Java? Im not concerned about the lack of extentions methods, I can live without that, but how to perform the actual type matching without having to rely on an unchecked cast? At least thats what IntelliJ is complaining about...</p>\n"},{"tags":["java","apache-spark","dataset","hadoop-yarn","core"],"comments":[{"owner":{"account_id":2233894,"reputation":5674,"user_id":1970832,"accept_rate":83,"display_name":"Rahul Sharma"},"score":0,"creation_date":1511204815,"post_id":47399087,"comment_id":81751823,"body_markdown":"which resource manager are you using? yarn or mesos","body":"which resource manager are you using? yarn or mesos"},{"owner":{"account_id":761868,"reputation":890,"user_id":784587,"accept_rate":54,"display_name":"Rougher"},"score":0,"creation_date":1511205429,"post_id":47399087,"comment_id":81752200,"body_markdown":"I&#39;m using yarn.","body":"I&#39;m using yarn."},{"owner":{"account_id":2233894,"reputation":5674,"user_id":1970832,"accept_rate":83,"display_name":"Rahul Sharma"},"score":0,"creation_date":1511210567,"post_id":47399087,"comment_id":81754941,"body_markdown":"Extract required queue parameters from [yarn cluster API](https://hadoop.apache.org/docs/stable/hadoop-yarn/hadoop-yarn-site/ResourceManagerRest.html#Cluster_Scheduler_API) then use it in coalesce","body":"Extract required queue parameters from <a href=\"https://hadoop.apache.org/docs/stable/hadoop-yarn/hadoop-yarn-site/ResourceManagerRest.html#Cluster_Scheduler_API\" rel=\"nofollow noreferrer\">yarn cluster API</a> then use it in coalesce"}],"answers":[{"comments":[{"owner":{"account_id":761868,"reputation":890,"user_id":784587,"accept_rate":54,"display_name":"Rougher"},"score":1,"creation_date":1511370893,"post_id":47405382,"comment_id":81835795,"body_markdown":"sc.getExecutorStorageStatus.length - 1 is good for me. Thank you","body":"sc.getExecutorStorageStatus.length - 1 is good for me. Thank you"},{"owner":{"account_id":1920862,"reputation":3756,"user_id":1732418,"accept_rate":53,"display_name":"tribbloid"},"score":2,"creation_date":1532578877,"post_id":47405382,"comment_id":90029698,"body_markdown":"sometimes executor cores are overprovisioned or underprovisioned, which means JVM runtime function may be inaccurate.","body":"sometimes executor cores are overprovisioned or underprovisioned, which means JVM runtime function may be inaccurate."},{"owner":{"account_id":309832,"reputation":13267,"user_id":622495,"accept_rate":87,"display_name":"Sim"},"score":1,"creation_date":1532809189,"post_id":47405382,"comment_id":90115631,"body_markdown":"@tribbloid absolutely true and also true in the case of complex dynamic pool provisioning in various cluster management systems. This is for the common/easy case and needs to be adjusted for complex scenarios.","body":"@tribbloid absolutely true and also true in the case of complex dynamic pool provisioning in various cluster management systems. This is for the common/easy case and needs to be adjusted for complex scenarios."},{"owner":{"account_id":462799,"reputation":191,"user_id":865309,"display_name":"Andy Kershaw"},"score":0,"creation_date":1566884950,"post_id":47405382,"comment_id":101784640,"body_markdown":"In this code sample, _coresPerExecutor is not assigned to.","body":"In this code sample, _coresPerExecutor is not assigned to."},{"owner":{"account_id":309832,"reputation":13267,"user_id":622495,"accept_rate":87,"display_name":"Sim"},"score":0,"creation_date":1568262069,"post_id":47405382,"comment_id":102220039,"body_markdown":"@AndyKershaw I think you are mistaken `private var _coresPerExecutor: Int = 0`.","body":"@AndyKershaw I think you are mistaken <code>private var _coresPerExecutor: Int = 0</code>."},{"owner":{"account_id":4792898,"reputation":2863,"user_id":3871549,"display_name":"Denis Makarenko"},"score":3,"creation_date":1582328436,"post_id":47405382,"comment_id":106752627,"body_markdown":"FYI getExecutorStorageStatus is no longer available as of Spark 2.4.4","body":"FYI getExecutorStorageStatus is no longer available as of Spark 2.4.4"},{"owner":{"account_id":309832,"reputation":13267,"user_id":622495,"accept_rate":87,"display_name":"Sim"},"score":0,"creation_date":1582423500,"post_id":47405382,"comment_id":106772202,"body_markdown":"Thanks for the reminder @DenisMakarenko. We updated our code long ago but I did not update this answer.","body":"Thanks for the reminder @DenisMakarenko. We updated our code long ago but I did not update this answer."},{"owner":{"account_id":27620,"reputation":8746,"user_id":73046,"accept_rate":55,"display_name":"James Moore"},"score":0,"creation_date":1587224615,"post_id":47405382,"comment_id":108428878,"body_markdown":"Since you&#39;re hacking around anyway, you don&#39;t really need that violator.  Just do ```val env: org.apache.spark.SparkEnv = sc.getClass.getMethod(&quot;env&quot;).invoke(sc).asInstanceOf[org.apache.spark.SparkEnv]```.  Handy from a spark-shell, too.","body":"Since you&#39;re hacking around anyway, you don&#39;t really need that violator.  Just do <code>val env: org.apache.spark.SparkEnv = sc.getClass.getMethod(&quot;env&quot;).invoke(sc).asInstanceOf[org.apa&zwnj;&#8203;che.spark.SparkEnv]</code>.  Handy from a spark-shell, too."},{"owner":{"account_id":309832,"reputation":13267,"user_id":622495,"accept_rate":87,"display_name":"Sim"},"score":0,"creation_date":1587271213,"post_id":47405382,"comment_id":108442521,"body_markdown":"@JamesMoore I prefer compile-time errors to runtime errors in case APIs change.","body":"@JamesMoore I prefer compile-time errors to runtime errors in case APIs change."},{"owner":{"account_id":462799,"reputation":191,"user_id":865309,"display_name":"Andy Kershaw"},"score":0,"creation_date":1599737904,"post_id":47405382,"comment_id":112869842,"body_markdown":"@Sim I assumed _coresPerExecutor was meant to hold the result of the calculation to avoid repeating it and that&#39;s why it&#39;s a var? Subtracting one for the driver doesn&#39;t work if you run single threaded when testing. I currently use Math.max(sparkSession.sparkContext.getExecutorMemoryStatus.size - 1, 1) as getExecutorMemoryStatus is still available.","body":"@Sim I assumed _coresPerExecutor was meant to hold the result of the calculation to avoid repeating it and that&#39;s why it&#39;s a var? Subtracting one for the driver doesn&#39;t work if you run single threaded when testing. I currently use Math.max(sparkSession.sparkContext.getExecutorMemoryStatus.s&zwnj;&#8203;ize - 1, 1) as getExecutorMemoryStatus is still available."},{"owner":{"account_id":309832,"reputation":13267,"user_id":622495,"accept_rate":87,"display_name":"Sim"},"score":0,"creation_date":1603982824,"post_id":47405382,"comment_id":114213129,"body_markdown":"@AndyKershaw I&#39;d strongly recommend against testing with a single worker thread: turning off parallelism can hide certain types of problems until production. We test with 2+ executors and 2+ partitions.","body":"@AndyKershaw I&#39;d strongly recommend against testing with a single worker thread: turning off parallelism can hide certain types of problems until production. We test with 2+ executors and 2+ partitions."},{"owner":{"account_id":462799,"reputation":191,"user_id":865309,"display_name":"Andy Kershaw"},"score":1,"creation_date":1607527791,"post_id":47405382,"comment_id":115301640,"body_markdown":"@Sim Correct. Debugging would have been a better word for me to use as sometimes it is helpful to do that single threaded.","body":"@Sim Correct. Debugging would have been a better word for me to use as sometimes it is helpful to do that single threaded."}],"tags":[],"owner":{"account_id":309832,"reputation":13267,"user_id":622495,"accept_rate":87,"display_name":"Sim"},"comment_count":12,"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1582423477,"creation_date":1511239498,"answer_id":47405382,"question_id":47399087,"body_markdown":"There are ways to get both the number of executors and the number of cores in a cluster from Spark. Here is a bit of Scala utility code that I&#39;ve used in the past. You should easily be able to adapt it to Java. There are two key ideas:\r\n\r\n1. The number of workers is the number of executors minus one or `sc.getExecutorStorageStatus.length - 1`.\r\n\r\n2. The number of cores per worker can be obtained by executing `java.lang.Runtime.getRuntime.availableProcessors` on a worker.\r\n\r\nThe rest of the code is boilerplate for adding convenience methods to `SparkContext` using Scala implicits. I wrote the code for 1.x years ago, which is why it is not using `SparkSession`.\r\n\r\nOne final point: it is often a good idea to coalesce to a multiple of your cores as this can improve performance in the case of skewed data. In practice, I use anywhere between 1.5x and 4x, depending on the size of data and whether the job is running on a shared cluster or not.\r\n\r\n&lt;!-- language: scala --&gt;\r\n\r\n    import org.apache.spark.SparkContext\r\n\r\n    import scala.language.implicitConversions\r\n\r\n\r\n    class RichSparkContext(val sc: SparkContext) {\r\n\r\n      def executorCount: Int =\r\n        sc.getExecutorStorageStatus.length - 1 // one is the driver\r\n\r\n      def coresPerExecutor: Int =\r\n        RichSparkContext.coresPerExecutor(sc)\r\n\r\n      def coreCount: Int =\r\n        executorCount * coresPerExecutor\r\n\r\n      def coreCount(coresPerExecutor: Int): Int =\r\n        executorCount * coresPerExecutor\r\n\r\n    }\r\n\r\n\r\n    object RichSparkContext {\r\n\r\n      trait Enrichment {\r\n        implicit def enrichMetadata(sc: SparkContext): RichSparkContext =\r\n          new RichSparkContext(sc)\r\n      }\r\n\r\n      object implicits extends Enrichment\r\n\r\n      private var _coresPerExecutor: Int = 0\r\n\r\n      def coresPerExecutor(sc: SparkContext): Int =\r\n        synchronized {\r\n          if (_coresPerExecutor == 0)\r\n            sc.range(0, 1).map(_ =&gt; java.lang.Runtime.getRuntime.availableProcessors).collect.head\r\n          else _coresPerExecutor\r\n        }\r\n\r\n    }\r\n\r\n**Update**\r\n\r\nRecently, `getExecutorStorageStatus` has been removed. We have switched to using `SparkEnv`&#39;s `blockManager.master.getStorageStatus.length - 1` (the minus one is for the driver again). The normal way to get to it, via `env` of `SparkContext` is not accessible outside of the `org.apache.spark` package. Therefore, we use an encapsulation violation pattern:\r\n\r\n&lt;!-- language: scala --&gt;\r\n\r\n\tpackage org.apache.spark\r\n\r\n\tobject EncapsulationViolator {\r\n\t  def sparkEnv(sc: SparkContext): SparkEnv = sc.env\r\n\t}\r\n","title":"Spark: get number of cluster cores programmatically","body":"<p>There are ways to get both the number of executors and the number of cores in a cluster from Spark. Here is a bit of Scala utility code that I've used in the past. You should easily be able to adapt it to Java. There are two key ideas:</p>\n\n<ol>\n<li><p>The number of workers is the number of executors minus one or <code>sc.getExecutorStorageStatus.length - 1</code>.</p></li>\n<li><p>The number of cores per worker can be obtained by executing <code>java.lang.Runtime.getRuntime.availableProcessors</code> on a worker.</p></li>\n</ol>\n\n<p>The rest of the code is boilerplate for adding convenience methods to <code>SparkContext</code> using Scala implicits. I wrote the code for 1.x years ago, which is why it is not using <code>SparkSession</code>.</p>\n\n<p>One final point: it is often a good idea to coalesce to a multiple of your cores as this can improve performance in the case of skewed data. In practice, I use anywhere between 1.5x and 4x, depending on the size of data and whether the job is running on a shared cluster or not.</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>import org.apache.spark.SparkContext\n\nimport scala.language.implicitConversions\n\n\nclass RichSparkContext(val sc: SparkContext) {\n\n  def executorCount: Int =\n    sc.getExecutorStorageStatus.length - 1 // one is the driver\n\n  def coresPerExecutor: Int =\n    RichSparkContext.coresPerExecutor(sc)\n\n  def coreCount: Int =\n    executorCount * coresPerExecutor\n\n  def coreCount(coresPerExecutor: Int): Int =\n    executorCount * coresPerExecutor\n\n}\n\n\nobject RichSparkContext {\n\n  trait Enrichment {\n    implicit def enrichMetadata(sc: SparkContext): RichSparkContext =\n      new RichSparkContext(sc)\n  }\n\n  object implicits extends Enrichment\n\n  private var _coresPerExecutor: Int = 0\n\n  def coresPerExecutor(sc: SparkContext): Int =\n    synchronized {\n      if (_coresPerExecutor == 0)\n        sc.range(0, 1).map(_ =&gt; java.lang.Runtime.getRuntime.availableProcessors).collect.head\n      else _coresPerExecutor\n    }\n\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Recently, <code>getExecutorStorageStatus</code> has been removed. We have switched to using <code>SparkEnv</code>'s <code>blockManager.master.getStorageStatus.length - 1</code> (the minus one is for the driver again). The normal way to get to it, via <code>env</code> of <code>SparkContext</code> is not accessible outside of the <code>org.apache.spark</code> package. Therefore, we use an encapsulation violation pattern:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>package org.apache.spark\n\nobject EncapsulationViolator {\n  def sparkEnv(sc: SparkContext): SparkEnv = sc.env\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1584402410,"creation_date":1584402410,"answer_id":60714602,"question_id":47399087,"body_markdown":"Found this while looking for the answer to pretty much the same question.\r\n\r\nI found that:\r\n\r\n    Dataset ds = ...\r\n    ds.coalesce(sc.defaultParallelism());\r\n\r\ndoes exactly what the OP was looking for.\r\n\r\nFor example, my 5 node x 8 core cluster returns 40 for the `defaultParallelism`.\r\n","title":"Spark: get number of cluster cores programmatically","body":"<p>Found this while looking for the answer to pretty much the same question.</p>\n\n<p>I found that:</p>\n\n<pre><code>Dataset ds = ...\nds.coalesce(sc.defaultParallelism());\n</code></pre>\n\n<p>does exactly what the OP was looking for.</p>\n\n<p>For example, my 5 node x 8 core cluster returns 40 for the <code>defaultParallelism</code>.</p>\n"},{"comments":[{"owner":{"account_id":27620,"reputation":8746,"user_id":73046,"accept_rate":55,"display_name":"James Moore"},"score":0,"creation_date":1586982976,"post_id":60725137,"comment_id":108334881,"body_markdown":"java.lang.Runtime.getRuntime.availableProcessors tells you how many cpus are on the current machine.  Can&#39;t assume that&#39;s true for all machines in the cluster.","body":"java.lang.Runtime.getRuntime.availableProcessors tells you how many cpus are on the current machine.  Can&#39;t assume that&#39;s true for all machines in the cluster."},{"owner":{"account_id":1560941,"reputation":1075,"user_id":1450817,"accept_rate":84,"display_name":"zaxme"},"score":0,"creation_date":1587032233,"post_id":60725137,"comment_id":108351568,"body_markdown":"@JamesMoore you are correct. This works only in the case the Driver and Worker nodes are of the same node type.","body":"@JamesMoore you are correct. This works only in the case the Driver and Worker nodes are of the same node type."},{"owner":{"account_id":17817973,"reputation":51,"user_id":12941052,"display_name":"capt-mac"},"score":0,"creation_date":1657728276,"post_id":60725137,"comment_id":128881158,"body_markdown":"@zaxme I ran this and only got a value for java.lang.Runtime.getRuntime.availableProcessors, and get 0 for sc.statusTracker.getExecutorInfos.length. Is there an appropriate time to request this? I am using with EMR cluster, not databricks. Thanks!","body":"@zaxme I ran this and only got a value for java.lang.Runtime.getRuntime.availableProcessors, and get 0 for sc.statusTracker.getExecutorInfos.length. Is there an appropriate time to request this? I am using with EMR cluster, not databricks. Thanks!"},{"owner":{"account_id":1560941,"reputation":1075,"user_id":1450817,"accept_rate":84,"display_name":"zaxme"},"score":0,"creation_date":1657744984,"post_id":60725137,"comment_id":128886590,"body_markdown":"@capt-mac I haven&#39;t worked with EMR but maybe this would be useful for you - https://stackoverflow.com/a/46513788/1450817","body":"@capt-mac I haven&#39;t worked with EMR but maybe this would be useful for you - <a href=\"https://stackoverflow.com/a/46513788/1450817\">stackoverflow.com/a/46513788/1450817</a>"},{"owner":{"account_id":17817973,"reputation":51,"user_id":12941052,"display_name":"capt-mac"},"score":0,"creation_date":1658155887,"post_id":60725137,"comment_id":128975022,"body_markdown":"@zaxme thanks, this looks like I would just manually feed in the info, suggested threads appear to give number of processors, which I can currently get. I need a way for executors to provide a value (sc.statusTracker.getExecutorInfos.length returns 0), which would allow me to programmatically tell my jobs how many partitions to give without having to set up a config for it","body":"@zaxme thanks, this looks like I would just manually feed in the info, suggested threads appear to give number of processors, which I can currently get. I need a way for executors to provide a value (sc.statusTracker.getExecutorInfos.length returns 0), which would allow me to programmatically tell my jobs how many partitions to give without having to set up a config for it"}],"tags":[],"owner":{"account_id":1560941,"reputation":1075,"user_id":1450817,"accept_rate":84,"display_name":"zaxme"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587032284,"creation_date":1584457915,"answer_id":60725137,"question_id":47399087,"body_markdown":"According to [Databricks][1] if the driver and executors are of the same node type, this is the way to go:\r\n\r\n    java.lang.Runtime.getRuntime.availableProcessors * (sc.statusTracker.getExecutorInfos.length -1)\r\n\r\n  [1]: https://kb.databricks.com/clusters/calculate-number-of-cores.html","title":"Spark: get number of cluster cores programmatically","body":"<p>According to <a href=\"https://kb.databricks.com/clusters/calculate-number-of-cores.html\" rel=\"nofollow noreferrer\">Databricks</a> if the driver and executors are of the same node type, this is the way to go:</p>\n\n<pre><code>java.lang.Runtime.getRuntime.availableProcessors * (sc.statusTracker.getExecutorInfos.length -1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27620,"reputation":8746,"user_id":73046,"accept_rate":55,"display_name":"James Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587228030,"creation_date":1587228030,"answer_id":61292693,"question_id":47399087,"body_markdown":"You could run jobs on every machine and ask it for the number of cores, but that&#39;s not necessarily what&#39;s available for Spark (as pointed out by @tribbloid in a comment on another answer):\r\n\r\n    import spark.implicits._\r\n    import scala.collection.JavaConverters._\r\n    import sys.process._\r\n    val procs = (1 to 1000).toDF.map(_ =&gt; &quot;hostname&quot;.!!.trim -&gt; java.lang.Runtime.getRuntime.availableProcessors).collectAsList().asScala.toMap\r\n    val nCpus = procs.values.sum\r\n\r\nRunning it in the shell (on a tiny test cluster with two workers) gives:\r\n\r\n    scala&gt; :paste\r\n    // Entering paste mode (ctrl-D to finish)\r\n    \r\n        import spark.implicits._\r\n        import scala.collection.JavaConverters._\r\n        import sys.process._\r\n        val procs = (1 to 1000).toDF.map(_ =&gt; &quot;hostname&quot;.!!.trim -&gt; java.lang.Runtime.getRuntime.availableProcessors).collectAsList().asScala.toMap\r\n        val nCpus = procs.values.sum\r\n    \r\n    // Exiting paste mode, now interpreting.\r\n    \r\n    import spark.implicits._                                                        \r\n    import scala.collection.JavaConverters._\r\n    import sys.process._\r\n    procs: scala.collection.immutable.Map[String,Int] = Map(ip-172-31-76-201.ec2.internal -&gt; 2, ip-172-31-74-242.ec2.internal -&gt; 2)\r\n    nCpus: Int = 4\r\n\r\n\r\nAdd zeros to your range if you typically have _lots_ of machines in your cluster.  Even on my two-machine cluster 10000 completes in a couple seconds.\r\n\r\nThis is probably only useful if you want more information than sc.defaultParallelism() will give you (as in @SteveC &#39;s answer)","title":"Spark: get number of cluster cores programmatically","body":"<p>You could run jobs on every machine and ask it for the number of cores, but that's not necessarily what's available for Spark (as pointed out by @tribbloid in a comment on another answer):</p>\n\n<pre><code>import spark.implicits._\nimport scala.collection.JavaConverters._\nimport sys.process._\nval procs = (1 to 1000).toDF.map(_ =&gt; \"hostname\".!!.trim -&gt; java.lang.Runtime.getRuntime.availableProcessors).collectAsList().asScala.toMap\nval nCpus = procs.values.sum\n</code></pre>\n\n<p>Running it in the shell (on a tiny test cluster with two workers) gives:</p>\n\n<pre><code>scala&gt; :paste\n// Entering paste mode (ctrl-D to finish)\n\n    import spark.implicits._\n    import scala.collection.JavaConverters._\n    import sys.process._\n    val procs = (1 to 1000).toDF.map(_ =&gt; \"hostname\".!!.trim -&gt; java.lang.Runtime.getRuntime.availableProcessors).collectAsList().asScala.toMap\n    val nCpus = procs.values.sum\n\n// Exiting paste mode, now interpreting.\n\nimport spark.implicits._                                                        \nimport scala.collection.JavaConverters._\nimport sys.process._\nprocs: scala.collection.immutable.Map[String,Int] = Map(ip-172-31-76-201.ec2.internal -&gt; 2, ip-172-31-74-242.ec2.internal -&gt; 2)\nnCpus: Int = 4\n</code></pre>\n\n<p>Add zeros to your range if you typically have <em>lots</em> of machines in your cluster.  Even on my two-machine cluster 10000 completes in a couple seconds.</p>\n\n<p>This is probably only useful if you want more information than sc.defaultParallelism() will give you (as in @SteveC 's answer)</p>\n"},{"comments":[{"owner":{"account_id":4023216,"reputation":20427,"user_id":3312636,"accept_rate":83,"display_name":"Sarath Subramanian"},"score":0,"creation_date":1670842831,"post_id":74660097,"comment_id":131958983,"body_markdown":"What is &quot;test&quot; in the 4th line? It is throwing error due to this","body":"What is &quot;test&quot; in the 4th line? It is throwing error due to this"}],"tags":[],"owner":{"account_id":21672064,"reputation":21,"user_id":15989565,"display_name":"Andrew P"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680717640,"creation_date":1670006016,"answer_id":74660097,"question_id":47399087,"body_markdown":"For all of those that aren&#39;t using yarn clusters: If you are doing it in Python/Databricks here is a function I wrote that will help solve the opportunity. This will get you both the number of worker nodes as well as the number of CPU&#39;s and return the multiplied final CPU count of your worker distribution.\r\n\r\n    def GetDistCPUCount():\r\n        nWorkers = int(spark.sparkContext.getConf().get(&#39;spark.databricks.clusterUsageTags.clusterTargetWorkers&#39;))\r\n        GetType = spark.sparkContext.getConf().get(&#39;spark.databricks.clusterUsageTags.clusterNodeType&#39;)\r\n        GetSubString = pd.Series(GetType).str.split(pat = &#39;_&#39;, expand = True)\r\n        GetNumber = GetSubString[1].str.extract(&#39;(\\d+)&#39;)\r\n        ParseOutString = GetNumber.iloc[0,0]\r\n        WorkerCPUs = int(ParseOutString)\r\n        nCPUs = nWorkers * WorkerCPUs\r\n        return nCPUs","title":"Spark: get number of cluster cores programmatically","body":"<p>For all of those that aren't using yarn clusters: If you are doing it in Python/Databricks here is a function I wrote that will help solve the opportunity. This will get you both the number of worker nodes as well as the number of CPU's and return the multiplied final CPU count of your worker distribution.</p>\n<pre><code>def GetDistCPUCount():\n    nWorkers = int(spark.sparkContext.getConf().get('spark.databricks.clusterUsageTags.clusterTargetWorkers'))\n    GetType = spark.sparkContext.getConf().get('spark.databricks.clusterUsageTags.clusterNodeType')\n    GetSubString = pd.Series(GetType).str.split(pat = '_', expand = True)\n    GetNumber = GetSubString[1].str.extract('(\\d+)')\n    ParseOutString = GetNumber.iloc[0,0]\n    WorkerCPUs = int(ParseOutString)\n    nCPUs = nWorkers * WorkerCPUs\n    return nCPUs\n</code></pre>\n"}],"owner":{"account_id":761868,"reputation":890,"user_id":784587,"accept_rate":54,"display_name":"Rougher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21235,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":47405382,"answer_count":5,"score":16,"last_activity_date":1680717640,"creation_date":1511203815,"question_id":47399087,"body_markdown":"I run my spark application in yarn cluster. In my code I use number available cores of queue for creating partitions on my dataset:\r\n\r\n    Dataset ds = ...\r\n    ds.coalesce(config.getNumberOfCores());\r\n\r\nMy question: how can I get number available cores of queue by programmatically way and not by configuration?","title":"Spark: get number of cluster cores programmatically","body":"<p>I run my spark application in yarn cluster. In my code I use number available cores of queue for creating partitions on my dataset:</p>\n\n<pre><code>Dataset ds = ...\nds.coalesce(config.getNumberOfCores());\n</code></pre>\n\n<p>My question: how can I get number available cores of queue by programmatically way and not by configuration?</p>\n"},{"tags":["java","elasticsearch","flux","spring-webclient"],"answers":[{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1680569252,"post_id":75922060,"comment_id":133917124,"body_markdown":"Many thanks for the clear writing. The underlying ReactiveElasticsearchTemplate uses apache http client for the actual http requests. I would like to use webclient only, and also avoid an extra dependency. Would you have an example with Webclient only for the bulk? I will award the bounty if you have. In the meanwhile, upvote as it is a clear answer.","body":"Many thanks for the clear writing. The underlying ReactiveElasticsearchTemplate uses apache http client for the actual http requests. I would like to use webclient only, and also avoid an extra dependency. Would you have an example with Webclient only for the bulk? I will award the bounty if you have. In the meanwhile, upvote as it is a clear answer."},{"owner":{"account_id":5644474,"reputation":451,"user_id":4467091,"display_name":"Oleg Maksymuk"},"score":0,"creation_date":1680572844,"post_id":75922060,"comment_id":133917431,"body_markdown":"starting from spring boot 3.x.x they only support webclient and highlevel client is deprecated \nso it is not a problem if you use spring boot 3+\nbut notice that it use new java client v8+ and could get data only from elasticsearch 8+\nin my set up I use spring boot 3.0.5, java 17, and spring boot starter elasticsearch that has transitive dependency org.elasticsearch.client:elasticsearch-rest-client:8.5.3\n\nI think this one uses what you need org.springframework.data:spring-data-elasticsearch:5.0.4","body":"starting from spring boot 3.x.x they only support webclient and highlevel client is deprecated  so it is not a problem if you use spring boot 3+ but notice that it use new java client v8+ and could get data only from elasticsearch 8+ in my set up I use spring boot 3.0.5, java 17, and spring boot starter elasticsearch that has transitive dependency org.elasticsearch.client:elasticsearch-rest-client:8.5.3  I think this one uses what you need org.springframework.data:spring-data-elasticsearch:5.0.4"},{"owner":{"account_id":5644474,"reputation":451,"user_id":4467091,"display_name":"Oleg Maksymuk"},"score":0,"creation_date":1680572849,"post_id":75922060,"comment_id":133917432,"body_markdown":"But I recommend to check docs: https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.reactive","body":"But I recommend to check docs: <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.reactive\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/elasticsearch/docs/current/refere&zwnj;&#8203;nce/&hellip;</a>"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1680575118,"post_id":75922060,"comment_id":133917692,"body_markdown":"agreed @Oleg, it is not that we haven&#39;t checked on spring data elastic. As you said, the whole stack needs to be bumped up (which we are not ready yet). Furthermore, that would require to bring an entire dependency, while you can see the request only takes couple of lines. We just want to leverage elastic _bulk rest endpoint and construct the http request manually. If you that have handy, that would be great","body":"agreed @Oleg, it is not that we haven&#39;t checked on spring data elastic. As you said, the whole stack needs to be bumped up (which we are not ready yet). Furthermore, that would require to bring an entire dependency, while you can see the request only takes couple of lines. We just want to leverage elastic _bulk rest endpoint and construct the http request manually. If you that have handy, that would be great"},{"owner":{"account_id":5644474,"reputation":451,"user_id":4467091,"display_name":"Oleg Maksymuk"},"score":0,"creation_date":1680615624,"post_id":75922060,"comment_id":133925609,"body_markdown":"what version of elastic (docker image version) do you use ?","body":"what version of elastic (docker image version) do you use ?"},{"owner":{"account_id":5644474,"reputation":451,"user_id":4467091,"display_name":"Oleg Maksymuk"},"score":0,"creation_date":1680615774,"post_id":75922060,"comment_id":133925654,"body_markdown":"If you need lightweight solution u could send data into elastic directly using webclient:\nPOST /&lt;target&gt;/_doc/\nIndex One: https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html\nIndex Bulk: https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html","body":"If you need lightweight solution u could send data into elastic directly using webclient: POST /&lt;target&gt;/_doc/ Index One: <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/reference/current/&hellip;</a> Index Bulk: <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/reference/current/&hellip;</a>"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1680615966,"post_id":75922060,"comment_id":133925717,"body_markdown":"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html -&gt; this is exactly what I am trying to use (please see original post with webflux request), but not working, hence the stack overflow post. I tried with Elastic from version 7.6 all the way to 8.7","body":"<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/reference/current/&hellip;</a> -&gt; this is exactly what I am trying to use (please see original post with webflux request), but not working, hence the stack overflow post. I tried with Elastic from version 7.6 all the way to 8.7"}],"tags":[],"owner":{"account_id":5644474,"reputation":451,"user_id":4467091,"display_name":"Oleg Maksymuk"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680541825,"creation_date":1680541825,"answer_id":75922060,"question_id":75857635,"body_markdown":"Since you are using webclient I assume you also use spring so \r\n\r\nCheckout spring api for reactive elastic search operations:\r\nhttps://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.reactive.operations \r\n\r\nAnd use Reactive Elasticsearch template: https://docs.spring.io/spring-data/elasticsearch/docs/4.2.0-M3/api/index.html?org/springframework/data/elasticsearch/core/ReactiveElasticsearchTemplate.html\r\n\r\n\r\n    protected reactor.core.publisher.Flux&lt;org.elasticsearch.action.bulk.BulkItemResponse&gt; doBulkOperation(List&lt;?&gt; queries,\r\n                                                                                                      BulkOptions bulkOptions,\r\n                                                                                                      IndexCoordinates index)\r\n\r\n\r\nhere is example\r\n\r\n```java\r\n@SpringBootApplication\r\n@RestController\r\n@Import(ReactiveElasticsearchRestClientAutoConfiguration.class)\r\npublic class ElasticDemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ElasticDemoApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tReactiveElasticsearchTemplate template(@Autowired ReactiveElasticsearchClient client) {\r\n\t\treturn new ReactiveElasticsearchTemplate(client);\r\n\t}\r\n\r\n\t@Autowired\r\n\tApplicationContext context;\r\n\r\n\t@GetMapping\r\n\tMono&lt;String&gt; triggerBulk() {\r\n\r\n\r\n\t\tfinal ArrayList&lt;UpdateQuery&gt; es = new ArrayList&lt;&gt;();\r\n\r\n\t\tes.add(UpdateQuery.builder(UUID.randomUUID().toString())\r\n\t\t\t\t.withDocument(Document.create().append(&quot;key1&quot;, &quot;val1&quot;)).build());\r\n\t\tes.add(UpdateQuery.builder(UUID.randomUUID().toString())\r\n\t\t\t\t.withDocument(Document.create().append(&quot;key2&quot;, &quot;val2&quot;)).build());\r\n\t\tes.add(UpdateQuery.builder(UUID.randomUUID().toString())\r\n\t\t\t\t.withDocument(Document.create().append(&quot;key3&quot;, &quot;val3&quot;)).build());\r\n\t\tes.add(UpdateQuery.builder(UUID.randomUUID().toString())\r\n\t\t\t\t.withDocument(Document.create().append(&quot;key4&quot;, &quot;val4&quot;)).build());\r\n\r\n\r\n\t\treturn context.getBean(ReactiveElasticsearchTemplate.class)\r\n\t\t\t\t.bulkUpdate(es, IndexCoordinates.of(&quot;myIndex&quot;))\r\n\t\t\t\t.map(x -&gt; &quot;OK&quot;);\r\n\t}\r\n}\r\n\r\n```\r\n```\r\nspring.elasticsearch.uris=https://localhost:9200\r\nspring.elasticsearch.username=&lt;user&gt;\r\nspring.elasticsearch.password=&lt;pass&gt;\r\n```","title":"Spring WebClient to send Flux to ElasticSearch using /_bulk api","body":"<p>Since you are using webclient I assume you also use spring so</p>\n<p>Checkout spring api for reactive elastic search operations:\n<a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.reactive.operations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.reactive.operations</a></p>\n<p>And use Reactive Elasticsearch template: <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/4.2.0-M3/api/index.html?org/springframework/data/elasticsearch/core/ReactiveElasticsearchTemplate.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/4.2.0-M3/api/index.html?org/springframework/data/elasticsearch/core/ReactiveElasticsearchTemplate.html</a></p>\n<pre><code>protected reactor.core.publisher.Flux&lt;org.elasticsearch.action.bulk.BulkItemResponse&gt; doBulkOperation(List&lt;?&gt; queries,\n                                                                                                  BulkOptions bulkOptions,\n                                                                                                  IndexCoordinates index)\n</code></pre>\n<p>here is example</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@RestController\n@Import(ReactiveElasticsearchRestClientAutoConfiguration.class)\npublic class ElasticDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ElasticDemoApplication.class, args);\n    }\n\n    @Bean\n    ReactiveElasticsearchTemplate template(@Autowired ReactiveElasticsearchClient client) {\n        return new ReactiveElasticsearchTemplate(client);\n    }\n\n    @Autowired\n    ApplicationContext context;\n\n    @GetMapping\n    Mono&lt;String&gt; triggerBulk() {\n\n\n        final ArrayList&lt;UpdateQuery&gt; es = new ArrayList&lt;&gt;();\n\n        es.add(UpdateQuery.builder(UUID.randomUUID().toString())\n                .withDocument(Document.create().append(&quot;key1&quot;, &quot;val1&quot;)).build());\n        es.add(UpdateQuery.builder(UUID.randomUUID().toString())\n                .withDocument(Document.create().append(&quot;key2&quot;, &quot;val2&quot;)).build());\n        es.add(UpdateQuery.builder(UUID.randomUUID().toString())\n                .withDocument(Document.create().append(&quot;key3&quot;, &quot;val3&quot;)).build());\n        es.add(UpdateQuery.builder(UUID.randomUUID().toString())\n                .withDocument(Document.create().append(&quot;key4&quot;, &quot;val4&quot;)).build());\n\n\n        return context.getBean(ReactiveElasticsearchTemplate.class)\n                .bulkUpdate(es, IndexCoordinates.of(&quot;myIndex&quot;))\n                .map(x -&gt; &quot;OK&quot;);\n    }\n}\n\n</code></pre>\n<pre><code>spring.elasticsearch.uris=https://localhost:9200\nspring.elasticsearch.username=&lt;user&gt;\nspring.elasticsearch.password=&lt;pass&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1680647875,"post_id":75931683,"comment_id":133933321,"body_markdown":"Yes, agreed, and if you look at my ```.body(windowFlux, Foo.class)``` and ```bulkCreateCommande```, it is the same. Yet, I am getting a 400 bad request. Would you know why? Do you have a working sample please?","body":"Yes, agreed, and if you look at my <code>.body(windowFlux, Foo.class)</code> and <code>bulkCreateCommande</code>, it is the same. Yet, I am getting a 400 bad request. Would you know why? Do you have a working sample please?"}],"tags":[],"owner":{"account_id":5644474,"reputation":451,"user_id":4467091,"display_name":"Oleg Maksymuk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680625396,"creation_date":1680625396,"answer_id":75931683,"question_id":75857635,"body_markdown":"Here is how your payload should looks like when send request to bulk api\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yApIq.png","title":"Spring WebClient to send Flux to ElasticSearch using /_bulk api","body":"<p>Here is how your payload should looks like when send request to bulk api</p>\n<p><a href=\"https://i.stack.imgur.com/yApIq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yApIq.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1680715692,"post_id":75939353,"comment_id":133946740,"body_markdown":"agreed @Bibek, I also thought of that. But you can see in my sample ```.uri(&quot;my_index/_bulk&quot;)``` the index is within the uri. As per the doc and tested with Postman, having the index there is valid.","body":"agreed @Bibek, I also thought of that. But you can see in my sample <code>.uri(&quot;my_index&#47;_bulk&quot;)</code> the index is within the uri. As per the doc and tested with Postman, having the index there is valid."}],"tags":[],"owner":{"account_id":9734936,"reputation":296,"user_id":7218496,"accept_rate":40,"display_name":"Bibek Khadka"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680697126,"creation_date":1680697126,"answer_id":75939353,"question_id":75857635,"body_markdown":"I think the problem is with \r\n\r\n    String bulkCreateCommande = &quot;{ \\&quot;create\\&quot; : {} }\\n&quot; + jsonStringOfOnePojo + &quot;\\n&quot;;\r\nIts missing the `_index` parameter.\r\n\r\nIf you could share a reference of what is working for you via curl or Postman tool, I think it would be helpful to debug since that&#39;s basically what you are trying to achieve via code.","title":"Spring WebClient to send Flux to ElasticSearch using /_bulk api","body":"<p>I think the problem is with</p>\n<pre><code>String bulkCreateCommande = &quot;{ \\&quot;create\\&quot; : {} }\\n&quot; + jsonStringOfOnePojo + &quot;\\n&quot;;\n</code></pre>\n<p>Its missing the <code>_index</code> parameter.</p>\n<p>If you could share a reference of what is working for you via curl or Postman tool, I think it would be helpful to debug since that's basically what you are trying to achieve via code.</p>\n"},{"tags":[],"owner":{"account_id":5644474,"reputation":451,"user_id":4467091,"display_name":"Oleg Maksymuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680717496,"creation_date":1680717496,"answer_id":75942664,"question_id":75857635,"body_markdown":"```java\r\n\r\n\r\n    @Bean\r\n    WebClient elasticWebClient() {\r\n        return WebClient.builder()\r\n                .baseUrl(&quot;http://localhost:9200&quot;)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .build();\r\n    }\r\n\r\n\r\n  @Autowired ObjectMapper mapper;\r\n    @GetMapping(&quot;write&quot;)\r\n    Mono&lt;Map&gt; write() throws IOException {\r\n\r\n        Function&lt;Object, String&gt; mapToString = new Function&lt;Object, String&gt;() {\r\n            @Override\r\n            public String apply(Object o) {\r\n                try {\r\n                    return mapper.writeValueAsString(o);\r\n                } catch (JsonProcessingException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        };\r\n\r\n        final Map&lt;String, Map&lt;String, String&gt;&gt; headingJson = Map.of(&quot;index&quot;, Map.of(&quot;_index&quot;, &quot;new_index&quot;));\r\n        final Map&lt;String, String&gt; value1 = Map.of(&quot;name&quot;, &quot;name1&quot;, &quot;description&quot;, &quot;description1&quot;);\r\n        final Map&lt;String, String&gt; value2 = Map.of(&quot;name&quot;, &quot;name2&quot;, &quot;description&quot;, &quot;description2&quot;);\r\n        final Map&lt;String, String&gt; value3 = Map.of(&quot;name&quot;, &quot;name3&quot;, &quot;description&quot;, &quot;description3&quot;);\r\n        final Map&lt;String, String&gt; value4 = Map.of(&quot;name&quot;, &quot;name4&quot;, &quot;description&quot;, &quot;description4&quot;);\r\n        final Map&lt;String, String&gt; value5 = Map.of(&quot;name&quot;, &quot;name5&quot;, &quot;description&quot;, &quot;description5&quot;);\r\n        final Map&lt;String, String&gt; value6 = Map.of(&quot;name&quot;, &quot;name6&quot;, &quot;description&quot;, &quot;description6&quot;);\r\n\r\n        final String requestBody = Stream.of(value1, value2, value3, value4, value5, value6)\r\n                .flatMap(val -&gt; Stream.of(headingJson, val))\r\n                .map(mapToString)\r\n                .collect(Collectors.joining(&quot;\\n&quot;, &quot;&quot;, &quot;\\n&quot;));\r\n\r\n\r\n        return client\r\n                .post()\r\n                .uri(u -&gt; u.path(&quot;_bulk&quot;).build())\r\n                .bodyValue(requestBody)\r\n                .exchangeToMono(clientResponse -&gt; clientResponse.toEntity(Map.class))\r\n                .map(HttpEntity::getBody);\r\n```","title":"Spring WebClient to send Flux to ElasticSearch using /_bulk api","body":"<pre class=\"lang-java prettyprint-override\"><code>\n\n    @Bean\n    WebClient elasticWebClient() {\n        return WebClient.builder()\n                .baseUrl(&quot;http://localhost:9200&quot;)\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .build();\n    }\n\n\n  @Autowired ObjectMapper mapper;\n    @GetMapping(&quot;write&quot;)\n    Mono&lt;Map&gt; write() throws IOException {\n\n        Function&lt;Object, String&gt; mapToString = new Function&lt;Object, String&gt;() {\n            @Override\n            public String apply(Object o) {\n                try {\n                    return mapper.writeValueAsString(o);\n                } catch (JsonProcessingException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        };\n\n        final Map&lt;String, Map&lt;String, String&gt;&gt; headingJson = Map.of(&quot;index&quot;, Map.of(&quot;_index&quot;, &quot;new_index&quot;));\n        final Map&lt;String, String&gt; value1 = Map.of(&quot;name&quot;, &quot;name1&quot;, &quot;description&quot;, &quot;description1&quot;);\n        final Map&lt;String, String&gt; value2 = Map.of(&quot;name&quot;, &quot;name2&quot;, &quot;description&quot;, &quot;description2&quot;);\n        final Map&lt;String, String&gt; value3 = Map.of(&quot;name&quot;, &quot;name3&quot;, &quot;description&quot;, &quot;description3&quot;);\n        final Map&lt;String, String&gt; value4 = Map.of(&quot;name&quot;, &quot;name4&quot;, &quot;description&quot;, &quot;description4&quot;);\n        final Map&lt;String, String&gt; value5 = Map.of(&quot;name&quot;, &quot;name5&quot;, &quot;description&quot;, &quot;description5&quot;);\n        final Map&lt;String, String&gt; value6 = Map.of(&quot;name&quot;, &quot;name6&quot;, &quot;description&quot;, &quot;description6&quot;);\n\n        final String requestBody = Stream.of(value1, value2, value3, value4, value5, value6)\n                .flatMap(val -&gt; Stream.of(headingJson, val))\n                .map(mapToString)\n                .collect(Collectors.joining(&quot;\\n&quot;, &quot;&quot;, &quot;\\n&quot;));\n\n\n        return client\n                .post()\n                .uri(u -&gt; u.path(&quot;_bulk&quot;).build())\n                .bodyValue(requestBody)\n                .exchangeToMono(clientResponse -&gt; clientResponse.toEntity(Map.class))\n                .map(HttpEntity::getBody);\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75942664,"answer_count":4,"score":1,"last_activity_date":1680717496,"creation_date":1679931181,"question_id":75857635,"body_markdown":"What I would like to achieve:\r\n\r\n- Use Spring WebClient to send a **Flux** to ElasticSearch leveraging the ```/_bulk``` api.\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html\r\n\r\nWhat I have tried:\r\n\r\nUsing this code:\r\n\r\n```\r\npublic class BulkInsertOfFluxUsingWebClientBulkRestApi {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        WebClient client = WebClient.create(&quot;http://127.0.0.1:9200/&quot;).mutate().clientConnector(new ReactorClientHttpConnector(HttpClient.create().wiretap(true))).build();\r\n        Flux&lt;String&gt; createCommandFlux = Flux.interval(Duration.ofMillis(100))\r\n                .map(i -&gt; {\r\n                    try {\r\n                        Foo onePojo = new Foo(LocalDateTime.now().toString(), String.valueOf(i));\r\n                        String jsonStringOfOnePojo = new ObjectMapper().writeValueAsString(onePojo);\r\n                        String bulkCreateCommande = &quot;{ \\&quot;create\\&quot; : {} }\\n&quot; + jsonStringOfOnePojo + &quot;\\n&quot;;\r\n                        return bulkCreateCommande;\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                        return &quot;&quot;;\r\n                    }\r\n                });\r\n        \r\n        Disposable disposable = createCommandFlux\r\n                .window(100) \r\n                .flatMap(windowFlux -&gt; client\r\n                        .post()\r\n                        .uri(&quot;my_index/_bulk&quot;)\r\n                        .contentType(MediaType.APPLICATION_NDJSON)\r\n                        .body(windowFlux, Foo.class)\r\n                        .exchange()\r\n                        .doOnNext(response -&gt; System.out.println(response))\r\n                        .flatMap(clientResponse -&gt; clientResponse.bodyToMono(String.class)))\r\n                .subscribe();\r\n        Thread.sleep(1000000);\r\n        disposable.dispose();\r\n    }\r\n```\r\n\r\nNote: \r\n- This is just using reactive Spring WebClient, not another http client, not the ElsaticSearch java client etc.\r\n- It is trying to save a Flux (which can be infinite) inside ElasticSearch\r\n- I would like to avoid making one http request per object, therefore, &quot;grouping&quot; them and sending them as bulk leveraging the ```/_bulk``` api.\r\n\r\nIssue:\r\n\r\nUnfortunately, this code is currently returning http 400 bad request.","title":"Spring WebClient to send Flux to ElasticSearch using /_bulk api","body":"<p>What I would like to achieve:</p>\n<ul>\n<li>Use Spring WebClient to send a <strong>Flux</strong> to ElasticSearch leveraging the <code>/_bulk</code> api.</li>\n</ul>\n<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html</a></p>\n<p>What I have tried:</p>\n<p>Using this code:</p>\n<pre><code>public class BulkInsertOfFluxUsingWebClientBulkRestApi {\n\n    public static void main(String[] args) throws InterruptedException {\n        WebClient client = WebClient.create(&quot;http://127.0.0.1:9200/&quot;).mutate().clientConnector(new ReactorClientHttpConnector(HttpClient.create().wiretap(true))).build();\n        Flux&lt;String&gt; createCommandFlux = Flux.interval(Duration.ofMillis(100))\n                .map(i -&gt; {\n                    try {\n                        Foo onePojo = new Foo(LocalDateTime.now().toString(), String.valueOf(i));\n                        String jsonStringOfOnePojo = new ObjectMapper().writeValueAsString(onePojo);\n                        String bulkCreateCommande = &quot;{ \\&quot;create\\&quot; : {} }\\n&quot; + jsonStringOfOnePojo + &quot;\\n&quot;;\n                        return bulkCreateCommande;\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                        return &quot;&quot;;\n                    }\n                });\n        \n        Disposable disposable = createCommandFlux\n                .window(100) \n                .flatMap(windowFlux -&gt; client\n                        .post()\n                        .uri(&quot;my_index/_bulk&quot;)\n                        .contentType(MediaType.APPLICATION_NDJSON)\n                        .body(windowFlux, Foo.class)\n                        .exchange()\n                        .doOnNext(response -&gt; System.out.println(response))\n                        .flatMap(clientResponse -&gt; clientResponse.bodyToMono(String.class)))\n                .subscribe();\n        Thread.sleep(1000000);\n        disposable.dispose();\n    }\n</code></pre>\n<p>Note:</p>\n<ul>\n<li>This is just using reactive Spring WebClient, not another http client, not the ElsaticSearch java client etc.</li>\n<li>It is trying to save a Flux (which can be infinite) inside ElasticSearch</li>\n<li>I would like to avoid making one http request per object, therefore, &quot;grouping&quot; them and sending them as bulk leveraging the <code>/_bulk</code> api.</li>\n</ul>\n<p>Issue:</p>\n<p>Unfortunately, this code is currently returning http 400 bad request.</p>\n"},{"tags":["java","eclemma"],"answers":[{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":3,"creation_date":1499417187,"post_id":44966380,"comment_id":76907656,"body_markdown":"Who said anything about a Maven project?","body":"Who said anything about a Maven project?"},{"owner":{"account_id":9628370,"reputation":3463,"user_id":7147233,"accept_rate":78,"display_name":"WhatsThePoint"},"score":3,"creation_date":1499418202,"post_id":44966380,"comment_id":76908412,"body_markdown":"you cant just assume that the OP is using maven","body":"you cant just assume that the OP is using maven"},{"owner":{"account_id":109168,"reputation":31181,"user_id":289396,"accept_rate":89,"display_name":"JoseK"},"score":1,"creation_date":1501837517,"post_id":44966380,"comment_id":77965765,"body_markdown":"Worked for me as well with a Gradle project","body":"Worked for me as well with a Gradle project"}],"tags":[],"owner":{"account_id":11226207,"reputation":141,"user_id":8235754,"display_name":"Priyesh"},"comment_count":3,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1530887875,"creation_date":1499417029,"answer_id":44966380,"question_id":44108835,"body_markdown":"I had similar problem. This is what I did.\r\n\r\n1. Refreshed the project.\r\n2. Updated the maven project.\r\n3. Configured the Coverage. You may want to include some additional jars if you are trying to get the coverage over some dependencies.\r\n\r\nIt worked for me.","title":"Error while loading coverage session (code 5001)","body":"<p>I had similar problem. This is what I did.</p>\n\n<ol>\n<li>Refreshed the project.</li>\n<li>Updated the maven project.</li>\n<li>Configured the Coverage. You may want to include some additional jars if you are trying to get the coverage over some dependencies.</li>\n</ol>\n\n<p>It worked for me.</p>\n"},{"comments":[{"owner":{"account_id":5619712,"reputation":1229,"user_id":4449975,"accept_rate":47,"display_name":"B98"},"score":0,"creation_date":1528021724,"post_id":47693844,"comment_id":88340704,"body_markdown":"FWIW, in a similar case an exception trace correctly named a Java source file that had gone missing, and, actually, I had re-generated Java sources after changing a name. But the original `.class` file was still present in the output folder. Deleting the stale file and refreshing the source package view fixed it.","body":"FWIW, in a similar case an exception trace correctly named a Java source file that had gone missing, and, actually, I had re-generated Java sources after changing a name. But the original <code>.class</code> file was still present in the output folder. Deleting the stale file and refreshing the source package view fixed it."},{"owner":{"account_id":15681680,"reputation":142,"user_id":11315439,"display_name":"PriyaS"},"score":0,"creation_date":1660280062,"post_id":47693844,"comment_id":129499829,"body_markdown":"I faced this issue while running the junits. So I added junit jar in the libraries and the issue was resolved.","body":"I faced this issue while running the junits. So I added junit jar in the libraries and the issue was resolved."}],"tags":[],"owner":{"account_id":5278604,"reputation":795,"user_id":4214684,"display_name":"RCB"},"comment_count":2,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1512733777,"creation_date":1512645335,"answer_id":47693844,"question_id":44108835,"body_markdown":"I had the same error. The suggestions in [this answer][1] did not fix it for me. The thing that finally did fix it was:\r\n\r\n - Right click a source folder and select Build Path &gt; Configure Output Folder...\r\n - Select &quot;Project&#39;s default output folder&quot; (even if it happens to be the same path entered in &quot;Specific output folder&quot;)\r\n - Click OK\r\n - Refresh the project\r\n\r\nIt seems a bit nonsensical, but did the trick for me.\r\n\r\n  [1]: https://stackoverflow.com/a/44966380/4214684","title":"Error while loading coverage session (code 5001)","body":"<p>I had the same error. The suggestions in <a href=\"https://stackoverflow.com/a/44966380/4214684\">this answer</a> did not fix it for me. The thing that finally did fix it was:</p>\n\n<ul>\n<li>Right click a source folder and select Build Path > Configure Output Folder...</li>\n<li>Select \"Project's default output folder\" (even if it happens to be the same path entered in \"Specific output folder\")</li>\n<li>Click OK</li>\n<li>Refresh the project</li>\n</ul>\n\n<p>It seems a bit nonsensical, but did the trick for me.</p>\n"},{"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1530890512,"post_id":50460298,"comment_id":89407775,"body_markdown":"Where is this located?  I can&#39;t find any configurations for Emma.","body":"Where is this located?  I can&#39;t find any configurations for Emma."}],"tags":[],"owner":{"account_id":13622373,"reputation":1,"user_id":9826436,"display_name":"nxp girmiti"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1526966367,"creation_date":1526966367,"answer_id":50460298,"question_id":44108835,"body_markdown":"Go to Coverage Configurations-&gt; select only required one.\r\n","title":"Error while loading coverage session (code 5001)","body":"<p>Go to Coverage Configurations-> select only required one.</p>\n"},{"tags":[],"owner":{"account_id":8876475,"reputation":59,"user_id":6628435,"display_name":"Swaty"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1536253733,"creation_date":1536253733,"answer_id":52209110,"question_id":44108835,"body_markdown":"This worked for me. \r\n\r\nRight click a source folder\r\nselect Build Path &gt; Configure Output Folder...\r\nSelect &quot;Project&#39;s default output folder&quot; (even if it happens to be the same path entered in &quot;Specific output folder&quot;)\r\nClick OK\r\nRefresh the project. ","title":"Error while loading coverage session (code 5001)","body":"<p>This worked for me. </p>\n\n<p>Right click a source folder\nselect Build Path > Configure Output Folder...\nSelect \"Project's default output folder\" (even if it happens to be the same path entered in \"Specific output folder\")\nClick OK\nRefresh the project. </p>\n"},{"tags":[],"owner":{"account_id":10147386,"reputation":475,"user_id":7495124,"display_name":"JavaGeek"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1557409747,"creation_date":1557409747,"answer_id":56060928,"question_id":44108835,"body_markdown":"I had the exact same problem, here is how i fixed it:\r\n\r\n- Update maven project\r\n- Build the project with mvn clean install and make sure &#39;Skip Tests&#39; is unchecked\r\n- Now run the coverage\r\n\r\nThe reason for this error is that it can&#39;t find the class in the target folder which it won&#39;t until you build the project along with all the test case class files that you want coverage on. Hope this helps!","title":"Error while loading coverage session (code 5001)","body":"<p>I had the exact same problem, here is how i fixed it:</p>\n\n<ul>\n<li>Update maven project</li>\n<li>Build the project with mvn clean install and make sure 'Skip Tests' is unchecked</li>\n<li>Now run the coverage</li>\n</ul>\n\n<p>The reason for this error is that it can't find the class in the target folder which it won't until you build the project along with all the test case class files that you want coverage on. Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":20607069,"reputation":11,"user_id":15127062,"display_name":"Carlos Gamboa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612233094,"creation_date":1612233094,"answer_id":66002879,"question_id":44108835,"body_markdown":"another tips that work for me was delete the temporal eclipse folder .metadata... etc.\r\n\r\nThen i delete my project from my Workspace(Not the disk), I have imported the project again en voila !! Its Work my coverage!!!!","title":"Error while loading coverage session (code 5001)","body":"<p>another tips that work for me was delete the temporal eclipse folder .metadata... etc.</p>\n<p>Then i delete my project from my Workspace(Not the disk), I have imported the project again en voila !! Its Work my coverage!!!!</p>\n"},{"tags":[],"owner":{"account_id":3175632,"reputation":11,"user_id":3112526,"display_name":"Salman"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1612981984,"creation_date":1612981984,"answer_id":66142944,"question_id":44108835,"body_markdown":"Keep &#39;skip test&#39; checkbox un-checked during project build using eclipse-maven plugin.\r\nAnd after that run the coverage. This worked for me.","title":"Error while loading coverage session (code 5001)","body":"<p>Keep 'skip test' checkbox un-checked during project build using eclipse-maven plugin.\nAnd after that run the coverage. This worked for me.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1652166729,"post_id":72172256,"comment_id":127533789,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72172256/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22515468,"reputation":11,"user_id":16709751,"display_name":"Naman Bhansali"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652100383,"creation_date":1652100383,"answer_id":72172256,"question_id":44108835,"body_markdown":"Simply Cleaning or Updating the project works in most of the cases!","title":"Error while loading coverage session (code 5001)","body":"<p>Simply Cleaning or Updating the project works in most of the cases!</p>\n"},{"tags":[],"owner":{"account_id":28225339,"reputation":1,"user_id":21575443,"display_name":"Rajni Paneru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680717493,"creation_date":1680717493,"answer_id":75942663,"question_id":44108835,"body_markdown":"for me just go to source(below build path) and click on format and its fine.","title":"Error while loading coverage session (code 5001)","body":"<p>for me just go to source(below build path) and click on format and its fine.</p>\n"}],"owner":{"display_name":"user5459039"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20633,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":9,"score":10,"last_activity_date":1680717493,"creation_date":1495443898,"question_id":44108835,"body_markdown":"I got the following error when I am trying to check coverage using EclEmma, please help me out:\r\n\r\n&gt; Error while loading coverage session (code 5001). Error while\r\n&gt; analyzing package fragment root java at\r\n&gt; F/solo-repository/target/test-classes (code 5007). File not found:\r\n&gt; D:\\RDM\r\n&gt; Services\\solo-repository\\target\\test-classes\\com\\charter\\solo\\account\\repository\\AccountBillInformationRepositoryTest.class.\r\n&gt; D:\\RDM\r\n&gt; Services\\solo-repository\\target\\test-classes\\com\\charter\\solo\\account\\repository\\AccountBillInformationRepositoryTest.class\r\n&gt; (The system cannot find the path specified)","title":"Error while loading coverage session (code 5001)","body":"<p>I got the following error when I am trying to check coverage using EclEmma, please help me out:</p>\n\n<blockquote>\n  <p>Error while loading coverage session (code 5001). Error while\n  analyzing package fragment root java at\n  F/solo-repository/target/test-classes (code 5007). File not found:\n  D:\\RDM\n  Services\\solo-repository\\target\\test-classes\\com\\charter\\solo\\account\\repository\\AccountBillInformationRepositoryTest.class.\n  D:\\RDM\n  Services\\solo-repository\\target\\test-classes\\com\\charter\\solo\\account\\repository\\AccountBillInformationRepositoryTest.class\n  (The system cannot find the path specified)</p>\n</blockquote>\n"},{"tags":["java","android","google-maps","adb"],"answers":[{"comments":[{"owner":{"account_id":9460316,"reputation":231,"user_id":7034228,"display_name":"teacher-too"},"score":0,"creation_date":1491013103,"post_id":43137244,"comment_id":73380877,"body_markdown":"I am run &quot; lsof -n -i4TCP:5037 | grep LISTEN&quot;","body":"I am run &quot; lsof -n -i4TCP:5037 | grep LISTEN&quot;"},{"owner":{"account_id":9460316,"reputation":231,"user_id":7034228,"display_name":"teacher-too"},"score":0,"creation_date":1491016110,"post_id":43137244,"comment_id":73381354,"body_markdown":"show --&gt;\nadb     6796 ulucu    7u  IPv4 0x440443a854b64753      0t0  TCP 127.0.0.1:5037 (LISTEN)\n------------The adb is using 5037\n------------kill it,then ,&quot;adb devices&quot;\n------------The same error","body":"show --&gt; adb     6796 ulucu    7u  IPv4 0x440443a854b64753      0t0  TCP 127.0.0.1:5037 (LISTEN) ------------The adb is using 5037 ------------kill it,then ,&quot;adb devices&quot; ------------The same error"}],"tags":[],"owner":{"account_id":7698989,"reputation":13215,"user_id":5832311,"display_name":"abielita"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1490952656,"creation_date":1490952656,"answer_id":43137244,"question_id":43131020,"body_markdown":"Based from this [thread](https://stackoverflow.com/questions/34850734/adb-cannot-bind-tcp5037), you cannot connect because the address is already in use. You may try `busybox netstat -antp` to check who is using the port. Here&#39;s another workaroung which might help:\r\n\r\n&gt; Solve this problem on `MacBook` by first running the following command\r\n&gt; to list the process which is using port `5037`\r\n&gt; \r\n&gt;     lsof -n -i4TCP:5037 | grep LISTEN\r\n&gt; \r\n&gt; Then, I kill it:\r\n&gt; \r\n&gt;     kill -9 &lt;PID&gt;\r\n&gt; \r\n&gt; Then, `adb devices` works!\r\n\r\nHope this helps!","title":"adb cannot connect to daemon at tcp:5037","body":"<p>Based from this <a href=\"https://stackoverflow.com/questions/34850734/adb-cannot-bind-tcp5037\">thread</a>, you cannot connect because the address is already in use. You may try <code>busybox netstat -antp</code> to check who is using the port. Here's another workaroung which might help:</p>\n\n<blockquote>\n  <p>Solve this problem on <code>MacBook</code> by first running the following command\n  to list the process which is using port <code>5037</code></p>\n\n<pre><code>lsof -n -i4TCP:5037 | grep LISTEN\n</code></pre>\n  \n  <p>Then, I kill it:</p>\n\n<pre><code>kill -9 &lt;PID&gt;\n</code></pre>\n  \n  <p>Then, <code>adb devices</code> works!</p>\n</blockquote>\n\n<p>Hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":9460316,"reputation":231,"user_id":7034228,"display_name":"teacher-too"},"score":0,"creation_date":1491442992,"post_id":43239887,"comment_id":73558552,"body_markdown":"Thank you for your answer。My system is MAC OS。The problem solved。\nReason is the latest system and adb 1.0.39 incompatible。\nI use the adb 1.0.36 was no problem。","body":"Thank you for your answer。My system is MAC OS。The problem solved。 Reason is the latest system and adb 1.0.39 incompatible。 I use the adb 1.0.36 was no problem。"}],"tags":[],"owner":{"account_id":6819534,"reputation":385,"user_id":5247121,"accept_rate":100,"display_name":"Nils Fett"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491420075,"creation_date":1491420075,"answer_id":43239887,"question_id":43131020,"body_markdown":"Same problem here on Ubuntu. \r\n\r\nnils@nils-MS-7597:~$ adb devices\r\nList of devices attached\r\n* daemon not running. starting it now at tcp:5037 *\r\nerror: could not install *smartsocket* listener: Address already in use\r\nADB server didn&#39;t ACK\r\n* failed to start daemon *\r\nerror: cannot connect to daemon\r\n\r\nThere is only adb listening on port 5037. Killing it does not help.\r\n\r\nDid update sdk before. Don&#39;t know if that could be the reason.\r\n\r\nBut redownload android sdk solved it for me:\r\n\r\n\r\n\r\n# download android sdk\r\nwget http://dl.google.com/android/android-sdk_r24.2-linux.tgz\r\n\r\ntar -xvf android-sdk_r24.2-linux.tgz\r\ncd android-sdk-linux/tools\r\n\r\n# install all sdk packages\r\n./android update sdk --no-ui","title":"adb cannot connect to daemon at tcp:5037","body":"<p>Same problem here on Ubuntu. </p>\n\n<p>nils@nils-MS-7597:~$ adb devices\nList of devices attached\n* daemon not running. starting it now at tcp:5037 *\nerror: could not install <em>smartsocket</em> listener: Address already in use\nADB server didn't ACK\n* failed to start daemon *\nerror: cannot connect to daemon</p>\n\n<p>There is only adb listening on port 5037. Killing it does not help.</p>\n\n<p>Did update sdk before. Don't know if that could be the reason.</p>\n\n<p>But redownload android sdk solved it for me:</p>\n\n<h1>download android sdk</h1>\n\n<p>wget <a href=\"http://dl.google.com/android/android-sdk_r24.2-linux.tgz\" rel=\"nofollow noreferrer\">http://dl.google.com/android/android-sdk_r24.2-linux.tgz</a></p>\n\n<p>tar -xvf android-sdk_r24.2-linux.tgz\ncd android-sdk-linux/tools</p>\n\n<h1>install all sdk packages</h1>\n\n<p>./android update sdk --no-ui</p>\n"},{"tags":[],"owner":{"account_id":2588672,"reputation":143,"user_id":3518931,"display_name":"Sinapse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491459983,"creation_date":1491459983,"answer_id":43247323,"question_id":43131020,"body_markdown":"I cannot believe they totally remove the standalone sdk, they force you to install the latest platform-tools which cause this issue, and you cannot downgrade from the sdkmanager. What a shame.\r\nAnyway, just manually downgrade adb to version 1.0.36 and it should work. There is hundreds of issues like these on the internet. Sad.","title":"adb cannot connect to daemon at tcp:5037","body":"<p>I cannot believe they totally remove the standalone sdk, they force you to install the latest platform-tools which cause this issue, and you cannot downgrade from the sdkmanager. What a shame.\nAnyway, just manually downgrade adb to version 1.0.36 and it should work. There is hundreds of issues like these on the internet. Sad.</p>\n"},{"comments":[{"owner":{"account_id":962249,"reputation":56,"user_id":986349,"display_name":"Rafi Ali Khan"},"score":0,"creation_date":1492546975,"post_id":43466238,"comment_id":74018861,"body_markdown":"Thanks. This work for me on MacOS. Would never have figured it out. It happened after updating some of the packages to 25.0.x version.","body":"Thanks. This work for me on MacOS. Would never have figured it out. It happened after updating some of the packages to 25.0.x version."},{"owner":{"account_id":962249,"reputation":56,"user_id":986349,"display_name":"Rafi Ali Khan"},"score":0,"creation_date":1492548567,"post_id":43466238,"comment_id":74019805,"body_markdown":"[what my sdk manager looks like](https://ibb.co/mGrOFk) Clearly the path still points to 24.4.1_1 while the Android SDK Tools show 25.0.x (downloaded 25.0.2 as suggested by vbevans94 replaced the folder).","body":"<a href=\"https://ibb.co/mGrOFk\" rel=\"nofollow noreferrer\">what my sdk manager looks like</a> Clearly the path still points to 24.4.1_1 while the Android SDK Tools show 25.0.x (downloaded 25.0.2 as suggested by vbevans94 replaced the folder)."},{"owner":{"account_id":3836661,"reputation":339,"user_id":3180784,"accept_rate":50,"display_name":"Ajit"},"score":0,"creation_date":1492676159,"post_id":43466238,"comment_id":74081315,"body_markdown":"Thanks, After digging couple of weeks, this solved my problem.","body":"Thanks, After digging couple of weeks, this solved my problem."},{"owner":{"account_id":1482742,"reputation":3434,"user_id":6680585,"accept_rate":84,"display_name":"Tom Taylor"},"score":0,"creation_date":1584602915,"post_id":43466238,"comment_id":107487939,"body_markdown":"Just, killing the other process worked for me. Thanks a lot !","body":"Just, killing the other process worked for me. Thanks a lot !"},{"owner":{"account_id":11279088,"reputation":369,"user_id":8272212,"display_name":"ali sampson"},"score":0,"creation_date":1680715511,"post_id":43466238,"comment_id":133946698,"body_markdown":"After days of searching and trying so many solutions online, this solved my issue. Thanks so much.","body":"After days of searching and trying so many solutions online, this solved my issue. Thanks so much."}],"tags":[],"owner":{"account_id":1053210,"reputation":1520,"user_id":1123041,"display_name":"vbevans94"},"comment_count":5,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1492500764,"creation_date":1492500764,"answer_id":43466238,"question_id":43131020,"body_markdown":"If you have updated to Platform Tools 25.0.4(you can check running *android* from command line) and it&#39;s not working\r\n\r\nJust download previous stable version e.g: [https://dl.google.com/android/repository/platform-tools_r25.0.2-macosx.zip][1]\r\n\r\nThen go to your Android SDK home directory and replace platform-tools folder with the downloaded one.\r\n\r\nThen do:\r\n\r\n    ps aux | grep 5037\r\n    kill -9 &lt;pid of process of your incorrectly running adb&gt;\r\n\r\nAnd go\r\n\r\n    adb devices\r\n\r\n  [1]: https://dl.google.com/android/repository/platform-tools_r25.0.2-macosx.zip","title":"adb cannot connect to daemon at tcp:5037","body":"<p>If you have updated to Platform Tools 25.0.4(you can check running <em>android</em> from command line) and it's not working</p>\n\n<p>Just download previous stable version e.g: <a href=\"https://dl.google.com/android/repository/platform-tools_r25.0.2-macosx.zip\" rel=\"noreferrer\">https://dl.google.com/android/repository/platform-tools_r25.0.2-macosx.zip</a></p>\n\n<p>Then go to your Android SDK home directory and replace platform-tools folder with the downloaded one.</p>\n\n<p>Then do:</p>\n\n<pre><code>ps aux | grep 5037\nkill -9 &lt;pid of process of your incorrectly running adb&gt;\n</code></pre>\n\n<p>And go</p>\n\n<pre><code>adb devices\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2983257,"reputation":3053,"user_id":2532762,"accept_rate":44,"display_name":"1mike12"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538784314,"creation_date":1538784314,"answer_id":52674589,"question_id":43131020,"body_markdown":"I tried every answer here and on a few of the other threads here.\r\n\r\n* deleted ~/.android folder\r\n* killing the server (which doesn&#39;t work because it still says can&#39;t ACK)\r\n* greping the process \r\n\r\nMy adb was through brew, so I just ran `brew cask reinstall android-platform-tools` and it worked again. \r\n","title":"adb cannot connect to daemon at tcp:5037","body":"<p>I tried every answer here and on a few of the other threads here.</p>\n\n<ul>\n<li>deleted ~/.android folder</li>\n<li>killing the server (which doesn't work because it still says can't ACK)</li>\n<li>greping the process </li>\n</ul>\n\n<p>My adb was through brew, so I just ran <code>brew cask reinstall android-platform-tools</code> and it worked again. </p>\n"},{"tags":[],"owner":{"account_id":2853883,"reputation":1355,"user_id":2450494,"display_name":"pvalle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575255219,"creation_date":1575255219,"answer_id":59132062,"question_id":43131020,"body_markdown":"The solution to my problem was to run Android Studio **AS ADMINISTRATOR**, it seems that when I updated Android Studio to 3.5.2 somehow the status changed, causing me the problem.","title":"adb cannot connect to daemon at tcp:5037","body":"<p>The solution to my problem was to run Android Studio <strong>AS ADMINISTRATOR</strong>, it seems that when I updated Android Studio to 3.5.2 somehow the status changed, causing me the problem.</p>\n"},{"comments":[{"owner":{"account_id":5588617,"reputation":2316,"user_id":4428520,"display_name":"loved.by.Jesus"},"score":0,"creation_date":1663108244,"post_id":59242290,"comment_id":130161015,"body_markdown":"It worked for me. I got the error `cannot connect to daemon at tcp:5037: Connection timed out` because the daemon was not running. `adb-reconnect` started the daemon.","body":"It worked for me. I got the error <code>cannot connect to daemon at tcp:5037: Connection timed out</code> because the daemon was not running. <code>adb-reconnect</code> started the daemon."}],"tags":[],"owner":{"account_id":5878968,"reputation":682,"user_id":4628993,"accept_rate":100,"display_name":"Acau&#227; Pitta"},"comment_count":1,"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1575863396,"creation_date":1575863396,"answer_id":59242290,"question_id":43131020,"body_markdown":"    adb kill-server\r\n\r\nif happens an error with port:\r\n\r\n`adb reconnect` solve it for me","title":"adb cannot connect to daemon at tcp:5037","body":"<pre><code>adb kill-server\n</code></pre>\n\n<p>if happens an error with port:</p>\n\n<p><code>adb reconnect</code> solve it for me</p>\n"},{"tags":[],"owner":{"account_id":13663910,"reputation":4216,"user_id":10199138,"display_name":"MJ Studio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665537772,"creation_date":1665537772,"answer_id":74035527,"question_id":43131020,"body_markdown":"# Restart your PC\r\n\r\nThis is the only way worked for me.","title":"adb cannot connect to daemon at tcp:5037","body":"<h1>Restart your PC</h1>\n<p>This is the only way worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11279088,"reputation":369,"user_id":8272212,"display_name":"ali sampson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680716950,"creation_date":1680716950,"answer_id":75942595,"question_id":43131020,"body_markdown":"I was able to resolve this issue by following @vbevans94 steps.\r\n\r\nAnyone running Android Studio `Electric Eel` and flutter `SDK 3.7.9` will definitely be experiencing this.\r\nAll I did was to download `SDK Platforms tools 33.0.2` from [https://androidsdkmanager.azurewebsites.net/Platformtools][1], anything upwards didn&#39;t work for me. \r\n\r\nExtract the file and navigate to this path `/android-sdk-path/platform-tools` and replace it with the new folder `platform-tools`. Restart `Android Studio`, Visual Studio Code or any other editor you&#39;re using and boom you&#39;re good to go.\r\n\r\n\r\n  [1]: https://androidsdkmanager.azurewebsites.net/Platformtools","title":"adb cannot connect to daemon at tcp:5037","body":"<p>I was able to resolve this issue by following @vbevans94 steps.</p>\n<p>Anyone running Android Studio <code>Electric Eel</code> and flutter <code>SDK 3.7.9</code> will definitely be experiencing this.\nAll I did was to download <code>SDK Platforms tools 33.0.2</code> from <a href=\"https://androidsdkmanager.azurewebsites.net/Platformtools\" rel=\"nofollow noreferrer\">https://androidsdkmanager.azurewebsites.net/Platformtools</a>, anything upwards didn't work for me.</p>\n<p>Extract the file and navigate to this path <code>/android-sdk-path/platform-tools</code> and replace it with the new folder <code>platform-tools</code>. Restart <code>Android Studio</code>, Visual Studio Code or any other editor you're using and boom you're good to go.</p>\n"}],"owner":{"account_id":9460316,"reputation":231,"user_id":7034228,"display_name":"teacher-too"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106723,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":9,"score":23,"last_activity_date":1680716950,"creation_date":1490924412,"question_id":43131020,"body_markdown":"My adb can&#39;t connect devices.\r\nI am runing `adb start-server`\r\n\r\n```\r\n    ulucudeMacBook-Pro:~ ulucu$ adb start-server\r\n    * daemon not running. starting it now at tcp:5037 *\r\n    * daemon started successfully *\r\n```\r\n\r\nThen run &quot;**lsof -i tcp:5037**&quot;\r\n\r\n```\r\n    ulucudeMacBook-Pro:~ ulucu$ lsof -i tcp:5037\r\n    COMMAND  PID  USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME\r\n    adb     2308 ulucu    7u  IPv4 0x440443a862048a7b      0t0  TCP localhost:5037 (LISTEN)\r\n```\r\n\r\nBut when I run `adb kill-server`\r\n\r\n```\r\n    ulucudeMacBook-Pro:~ ulucu$ adb kill-server\r\n    * server not running *\r\n```\r\n\r\nor run `adb devices` or `adb shell`\r\n\r\n```\r\n    List of devices attached\r\n    * daemon not running. starting it now at tcp:5037 *\r\n    adb E 03-31 09:30:26  2350 95705 usb_osx.cpp:333] Could not open interface: e00002c5\r\n    adb E 03-31 09:30:26  2350 95705 usb_osx.cpp:294] Could not find device interface\r\n    error: could not install *smartsocket* listener: Address already in use\r\n    ADB server didn&#39;t ACK\r\n    * failed to start daemon *\r\n    error: cannot connect to daemon\r\n```\r\n\r\nThe adb has been running.  \r\nNo other processes using &quot;5037&quot; port.  \r\nNo other simulator like &quot;genymotion&quot;.  \r\nMy system is Mac 10.12.14.  \r\nMy adb version is 1.0.39.  \r\n\r\nWhat&#39;s the problem?","title":"adb cannot connect to daemon at tcp:5037","body":"<p>My adb can't connect devices.\nI am runing <code>adb start-server</code></p>\n\n<pre><code>    ulucudeMacBook-Pro:~ ulucu$ adb start-server\n    * daemon not running. starting it now at tcp:5037 *\n    * daemon started successfully *\n</code></pre>\n\n<p>Then run \"<strong>lsof -i tcp:5037</strong>\"</p>\n\n<pre><code>    ulucudeMacBook-Pro:~ ulucu$ lsof -i tcp:5037\n    COMMAND  PID  USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME\n    adb     2308 ulucu    7u  IPv4 0x440443a862048a7b      0t0  TCP localhost:5037 (LISTEN)\n</code></pre>\n\n<p>But when I run <code>adb kill-server</code></p>\n\n<pre><code>    ulucudeMacBook-Pro:~ ulucu$ adb kill-server\n    * server not running *\n</code></pre>\n\n<p>or run <code>adb devices</code> or <code>adb shell</code></p>\n\n<pre><code>    List of devices attached\n    * daemon not running. starting it now at tcp:5037 *\n    adb E 03-31 09:30:26  2350 95705 usb_osx.cpp:333] Could not open interface: e00002c5\n    adb E 03-31 09:30:26  2350 95705 usb_osx.cpp:294] Could not find device interface\n    error: could not install *smartsocket* listener: Address already in use\n    ADB server didn't ACK\n    * failed to start daemon *\n    error: cannot connect to daemon\n</code></pre>\n\n<p>The adb has been running.<br>\nNo other processes using \"5037\" port.<br>\nNo other simulator like \"genymotion\".<br>\nMy system is Mac 10.12.14.<br>\nMy adb version is 1.0.39.  </p>\n\n<p>What's the problem?</p>\n"},{"tags":["java","maven","netbeans","jpanel"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1680717233,"post_id":75942539,"comment_id":133947107,"body_markdown":"cause your class does not have main method so create main method and create JFrame instance and setit contentpane with an instance of that jpanel","body":"cause your class does not have main method so create main method and create JFrame instance and setit contentpane with an instance of that jpanel"},{"owner":{"account_id":19757022,"reputation":1,"user_id":14467076,"display_name":"Rizki Aswangga Adiluhur"},"score":0,"creation_date":1680721883,"post_id":75942539,"comment_id":133948167,"body_markdown":"Thanks for the info, i just create JFrame instead of JPanel and it works flawlessly...","body":"Thanks for the info, i just create JFrame instead of JPanel and it works flawlessly..."},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1680722163,"post_id":75942539,"comment_id":133948214,"body_markdown":"you welcome check this https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html to know more about top level container and why you needed jframe to run your program as jpanel is not top level","body":"you welcome check this <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/toplevel.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/&hellip;</a> to know more about top level container and why you needed jframe to run your program as jpanel is not top level"}],"owner":{"account_id":19757022,"reputation":1,"user_id":14467076,"display_name":"Rizki Aswangga Adiluhur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680716570,"creation_date":1680716570,"question_id":75942539,"body_markdown":"so i&#39;m a beginner to code on Java for my Project on Netbeans. On my project i&#39;ve created a Java Package, and inside that Package i created a JPanel Form for the GUI, however when i try to right click the JPanel, the &quot;Run File&quot; button is grayed out, what is the issue? \r\n\r\n(i can run from a Java Class)\r\n\r\nBelow is the code generated from the JPanel Form, with little of modifications :\r\n\r\n\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JPanel.java to edit this template\r\n */\r\npackage GUI;\r\n\r\nimport javax.swing.JFrame;\r\n\r\n/**\r\n *\r\n * @author rizkiaswangga\r\n */\r\npublic class Menu2 extends javax.swing.JPanel {\r\n\r\n    /**\r\n     * Creates new form Menu2\r\n     */\r\n    public Menu2() {\r\n        initComponents();\r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jTextField1 = new javax.swing.JTextField();\r\n        jTextField2 = new javax.swing.JTextField();\r\n        jButton1 = new javax.swing.JButton();\r\n\r\n        jTextField1.setText(&quot;Welcome To Our Game Store !&quot;);\r\n        jTextField1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jTextField1ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jTextField2.setText(&quot;You Can Browse Your Game Here&quot;);\r\n        jTextField2.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jTextField2ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jButton1.setBackground(new java.awt.Color(153, 153, 255));\r\n        jButton1.setForeground(new java.awt.Color(102, 255, 51));\r\n        jButton1.setText(&quot;Browse Games&quot;);\r\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton1ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);\r\n        this.setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\r\n                .addGap(0, 0, Short.MAX_VALUE)\r\n                .addComponent(jButton1)\r\n                .addGap(23, 23, 23))\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(99, 99, 99)\r\n                        .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(89, 89, 89)\r\n                        .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))\r\n                .addContainerGap(99, Short.MAX_VALUE))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(21, 21, 21)\r\n                .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                .addComponent(jTextField2)\r\n                .addGap(55, 55, 55)\r\n                .addComponent(jButton1)\r\n                .addGap(137, 137, 137))\r\n        );\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void jTextField1ActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n        // TODO add your handling code here:\r\n    }                                           \r\n\r\n    private void jTextField2ActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n        // TODO add your handling code here:\r\n    }                                           \r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n        // Go To Browse Games :\r\n        JFrame Browse = new JFrame();\r\n        Browse.show();\r\n        \r\n        dispose();\r\n    }                                        \r\n\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton jButton1;\r\n    private javax.swing.JTextField jTextField1;\r\n    private javax.swing.JTextField jTextField2;\r\n    // End of variables declaration                   \r\n}\r\n\r\n```\r\n\r\n\r\nN.B. i&#39;ve used Apache Netbeans 16 on Arch Linux downloaded from repo, and i created Java with Maven\r\n\r\ni&#39;ve tried to make a new project, restarting Netbeans, and still, running the file from JPanel doesn&#39;t work","title":"Why Cant I Right Click And Run A JPanel Form Inside A Package On Netbeans?","body":"<p>so i'm a beginner to code on Java for my Project on Netbeans. On my project i've created a Java Package, and inside that Package i created a JPanel Form for the GUI, however when i try to right click the JPanel, the &quot;Run File&quot; button is grayed out, what is the issue?</p>\n<p>(i can run from a Java Class)</p>\n<p>Below is the code generated from the JPanel Form, with little of modifications :</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JPanel.java to edit this template\n */\npackage GUI;\n\nimport javax.swing.JFrame;\n\n/**\n *\n * @author rizkiaswangga\n */\npublic class Menu2 extends javax.swing.JPanel {\n\n    /**\n     * Creates new form Menu2\n     */\n    public Menu2() {\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jTextField1 = new javax.swing.JTextField();\n        jTextField2 = new javax.swing.JTextField();\n        jButton1 = new javax.swing.JButton();\n\n        jTextField1.setText(&quot;Welcome To Our Game Store !&quot;);\n        jTextField1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jTextField1ActionPerformed(evt);\n            }\n        });\n\n        jTextField2.setText(&quot;You Can Browse Your Game Here&quot;);\n        jTextField2.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jTextField2ActionPerformed(evt);\n            }\n        });\n\n        jButton1.setBackground(new java.awt.Color(153, 153, 255));\n        jButton1.setForeground(new java.awt.Color(102, 255, 51));\n        jButton1.setText(&quot;Browse Games&quot;);\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);\n        this.setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\n                .addGap(0, 0, Short.MAX_VALUE)\n                .addComponent(jButton1)\n                .addGap(23, 23, 23))\n            .addGroup(layout.createSequentialGroup()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(99, 99, 99)\n                        .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(89, 89, 89)\n                        .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                .addContainerGap(99, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(21, 21, 21)\n                .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addComponent(jTextField2)\n                .addGap(55, 55, 55)\n                .addComponent(jButton1)\n                .addGap(137, 137, 137))\n        );\n    }// &lt;/editor-fold&gt;                        \n\n    private void jTextField1ActionPerformed(java.awt.event.ActionEvent evt) {                                            \n        // TODO add your handling code here:\n    }                                           \n\n    private void jTextField2ActionPerformed(java.awt.event.ActionEvent evt) {                                            \n        // TODO add your handling code here:\n    }                                           \n\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n        // Go To Browse Games :\n        JFrame Browse = new JFrame();\n        Browse.show();\n        \n        dispose();\n    }                                        \n\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JTextField jTextField1;\n    private javax.swing.JTextField jTextField2;\n    // End of variables declaration                   \n}\n\n</code></pre>\n<p>N.B. i've used Apache Netbeans 16 on Arch Linux downloaded from repo, and i created Java with Maven</p>\n<p>i've tried to make a new project, restarting Netbeans, and still, running the file from JPanel doesn't work</p>\n"},{"tags":["java","kubernetes","devops","istio","warm-up"],"answers":[{"tags":[],"owner":{"account_id":27678628,"reputation":1,"user_id":21127892,"display_name":"Сергей Птушкин"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675277759,"creation_date":1675277759,"answer_id":75314923,"question_id":74517652,"body_markdown":"If you are using Kubernetes Ingress controller, then you can use the Peak EWMA load balancing mechanism.\r\n\r\nYou need add annotation for you ingress resource:\r\n\r\n`nginx.ingress.kubernetes.io/load-balance: ewma`\r\n\r\nSee docs:\r\n\r\nhttps://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#load-balance\r\n\r\n","title":"gradually warm java application in k8s with istio","body":"<p>If you are using Kubernetes Ingress controller, then you can use the Peak EWMA load balancing mechanism.</p>\n<p>You need add annotation for you ingress resource:</p>\n<p><code>nginx.ingress.kubernetes.io/load-balance: ewma</code></p>\n<p>See docs:</p>\n<p><a href=\"https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#load-balance\" rel=\"nofollow noreferrer\">https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/configmap/#load-balance</a></p>\n"},{"tags":[],"owner":{"account_id":4175532,"reputation":79,"user_id":3422182,"display_name":"Fesswood"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680716511,"creation_date":1680716511,"answer_id":75942527,"question_id":74517652,"body_markdown":"So you can do it in several ways, params in Destination Rules and traffic splitting by VirtualService\r\n\r\nSimple way by using **warmupDurationSecs**:\r\n\r\nThe warmupDurationSecs parameter of LoadBalancerSettings section in Istio [DestinationRule][1] can be used to control the gradual increase of traffic to a new pod. When a new version of a deployment is applied, Istio can gradually increase the traffic to pods from updated deployment over a specified period of time to allow jvm compile all needed hotspot without throttling.\r\n\r\n\r\n``` YAML\r\napiVersion: networking.istio.io/v1alpha3\r\nkind: DestinationRule\r\nmetadata:\r\n  name: my-service-destination-rule\r\nspec:\r\n  host: my-service\r\n  trafficPolicy:\r\n    loadBalancer:\r\n      simple: ROUND_ROBIN\r\n      warmupDurationSecs: 180s\r\n  subsets:\r\n  - name: v1\r\n    labels:\r\n      version: v1\r\n  - name: v2\r\n    labels:\r\n      version: v2\r\n```\r\n\r\nSo during 180 second istio will increase amount of traffic that will be send to pod, speed of growing will be almost linear:\r\n[![enter image description here][2]][2]\r\n \r\n\r\n\r\nMore complex way with **VirtualService**:\r\n\r\nUsing Destination rule from previous code sample you can define a virtual service with two routes that have different weights:\r\n\r\n``` YAML\r\napiVersion: networking.istio.io/v1alpha3\r\nkind: VirtualService\r\nmetadata:\r\n  name: reviews\r\nspec:\r\n  hosts:\r\n    - reviews\r\n  http:\r\n  - route:\r\n    - destination:\r\n        host: reviews\r\n        subset: v1\r\n      weight: 90\r\n    - destination:\r\n        host: reviews\r\n        subset: v2\r\n      weight: 10\r\n``` \r\n\r\nAnd then update it time to time to increase traffic that will be send to new version `v2`, see more in [istio&#39;s tutorial][3].\r\n\r\n\r\n  [1]: https://istio.io/latest/docs/reference/config/networking/destination-rule/#LoadBalancerSettings\r\n  [2]: https://i.stack.imgur.com/iZLQJ.png\r\n  [3]: https://istio.io/latest/docs/tasks/traffic-management/traffic-shifting/","title":"gradually warm java application in k8s with istio","body":"<p>So you can do it in several ways, params in Destination Rules and traffic splitting by VirtualService</p>\n<p>Simple way by using <strong>warmupDurationSecs</strong>:</p>\n<p>The warmupDurationSecs parameter of LoadBalancerSettings section in Istio <a href=\"https://istio.io/latest/docs/reference/config/networking/destination-rule/#LoadBalancerSettings\" rel=\"nofollow noreferrer\">DestinationRule</a> can be used to control the gradual increase of traffic to a new pod. When a new version of a deployment is applied, Istio can gradually increase the traffic to pods from updated deployment over a specified period of time to allow jvm compile all needed hotspot without throttling.</p>\n<pre><code>apiVersion: networking.istio.io/v1alpha3\nkind: DestinationRule\nmetadata:\n  name: my-service-destination-rule\nspec:\n  host: my-service\n  trafficPolicy:\n    loadBalancer:\n      simple: ROUND_ROBIN\n      warmupDurationSecs: 180s\n  subsets:\n  - name: v1\n    labels:\n      version: v1\n  - name: v2\n    labels:\n      version: v2\n</code></pre>\n<p>So during 180 second istio will increase amount of traffic that will be send to pod, speed of growing will be almost linear:\n<a href=\"https://i.stack.imgur.com/iZLQJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iZLQJ.png\" alt=\"enter image description here\" /></a></p>\n<p>More complex way with <strong>VirtualService</strong>:</p>\n<p>Using Destination rule from previous code sample you can define a virtual service with two routes that have different weights:</p>\n<pre><code>apiVersion: networking.istio.io/v1alpha3\nkind: VirtualService\nmetadata:\n  name: reviews\nspec:\n  hosts:\n    - reviews\n  http:\n  - route:\n    - destination:\n        host: reviews\n        subset: v1\n      weight: 90\n    - destination:\n        host: reviews\n        subset: v2\n      weight: 10\n</code></pre>\n<p>And then update it time to time to increase traffic that will be send to new version <code>v2</code>, see more in <a href=\"https://istio.io/latest/docs/tasks/traffic-management/traffic-shifting/\" rel=\"nofollow noreferrer\">istio's tutorial</a>.</p>\n"}],"owner":{"account_id":13328960,"reputation":91,"user_id":9621020,"display_name":"Anup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680716511,"creation_date":1669027417,"question_id":74517652,"body_markdown":"I have JVM-based applications that deliver excellent performance but need some time to “warm up” before reaching the top speed.\r\n\r\nistio api (DestinationRule) does not support endpoint level weight, while envoy does.\r\n\r\nI want a simple strategy: at the beginning when the pod is ready, the weight (qps) of that pod keeps a low level and increases over time \r\n\r\neg: lets I want the warm-up time to be 120 seconds. 2 pods have 50%-50% traffic, and when a new pod launches it will handle low traffic and increase over time and will reach 33% in 120 sec.\r\n\r\n\r\nLet&#39;s take an example I have one deployment where 2 pods are running and I&#39;m going to deploy a new version for my app when a new pod came traffic is equally divided by 33% each into 3 pods the new pods are unable to handle the traffic because the application needs some time to warm up and initiate the thread to handle the heavy load the same issue is coming during HPA (horizontal pod scaling).\r\n\r\nI need a solution to warm up the pod and handle traffic gradually for new pods based on time duration \r\n\r\n\r\n\r\n\r\n","title":"gradually warm java application in k8s with istio","body":"<p>I have JVM-based applications that deliver excellent performance but need some time to “warm up” before reaching the top speed.</p>\n<p>istio api (DestinationRule) does not support endpoint level weight, while envoy does.</p>\n<p>I want a simple strategy: at the beginning when the pod is ready, the weight (qps) of that pod keeps a low level and increases over time</p>\n<p>eg: lets I want the warm-up time to be 120 seconds. 2 pods have 50%-50% traffic, and when a new pod launches it will handle low traffic and increase over time and will reach 33% in 120 sec.</p>\n<p>Let's take an example I have one deployment where 2 pods are running and I'm going to deploy a new version for my app when a new pod came traffic is equally divided by 33% each into 3 pods the new pods are unable to handle the traffic because the application needs some time to warm up and initiate the thread to handle the heavy load the same issue is coming during HPA (horizontal pod scaling).</p>\n<p>I need a solution to warm up the pod and handle traffic gradually for new pods based on time duration</p>\n"},{"tags":["java","hibernate","orm","jpa","annotations"],"answers":[{"comments":[{"owner":{"account_id":51696,"reputation":2035,"user_id":154496,"accept_rate":67,"display_name":"Michał Mech"},"score":13,"creation_date":1258932286,"post_id":1780362,"comment_id":1666779,"body_markdown":"I see, but the entities (@Entity) are in separate Maven project, so jar-file name can change on every build.\nI&#39;m looking something to scan all in specific package or classpath.\nI&#39;m just to lazy to type many, many &lt;class&gt; elements in persistence.xml file.","body":"I see, but the entities (@Entity) are in separate Maven project, so jar-file name can change on every build. I&#39;m looking something to scan all in specific package or classpath. I&#39;m just to lazy to type many, many &lt;class&gt; elements in persistence.xml file."},{"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1258932896,"post_id":1780362,"comment_id":1666808,"body_markdown":"On every build?! I won&#39;t even ask why but... you could use filtering to solve this.","body":"On every build?! I won&#39;t even ask why but... you could use filtering to solve this."},{"owner":{"account_id":51696,"reputation":2035,"user_id":154496,"accept_rate":67,"display_name":"Michał Mech"},"score":0,"creation_date":1258965048,"post_id":1780362,"comment_id":1668254,"body_markdown":"Not everyone exactly but I want to be resistant to changes.","body":"Not everyone exactly but I want to be resistant to changes."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":5,"creation_date":1317404635,"post_id":1780362,"comment_id":9241139,"body_markdown":"Ancient thread, I know, but have a look at the [jpa-maven-plugin](http://github.com/ljnelson/jpa-maven-plugin).","body":"Ancient thread, I know, but have a look at the <a href=\"http://github.com/ljnelson/jpa-maven-plugin\" rel=\"nofollow noreferrer\">jpa-maven-plugin</a>."},{"owner":{"account_id":1099852,"reputation":321,"user_id":1092531,"accept_rate":44,"display_name":"med_alpa"},"score":0,"creation_date":1477415035,"post_id":1780362,"comment_id":67753720,"body_markdown":"You can use &lt;mapping-file&gt; element  (which contains the list of the entities) in persistence.xml, so you can keep the same name of the used files and integrate them in the build of the referenced jars.","body":"You can use &lt;mapping-file&gt; element  (which contains the list of the entities) in persistence.xml, so you can keep the same name of the used files and integrate them in the build of the referenced jars."},{"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"score":0,"creation_date":1499255759,"post_id":1780362,"comment_id":76826438,"body_markdown":"`&lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot; /&gt;` did not work with WildFly 8.2.1.Final (Hibernate 4.3.7.Final), but this: https://stackoverflow.com/a/44925520/1915920","body":"<code>&lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot; &#47;&gt;</code> did not work with WildFly 8.2.1.Final (Hibernate 4.3.7.Final), but this: <a href=\"https://stackoverflow.com/a/44925520/1915920\">stackoverflow.com/a/44925520/1915920</a>"},{"owner":{"account_id":4019175,"reputation":317,"user_id":3310179,"display_name":"Hosseinmp76"},"score":0,"creation_date":1584089041,"post_id":1780362,"comment_id":107334453,"body_markdown":"hibernate.archive.autodetection does not work for me on java se. hibernate 6.0.0.Alpha4","body":"hibernate.archive.autodetection does not work for me on java se. hibernate 6.0.0.Alpha4"},{"owner":{"account_id":2986719,"reputation":4999,"user_id":2535335,"display_name":"Johannes Jander"},"score":0,"creation_date":1591912734,"post_id":1780362,"comment_id":110244065,"body_markdown":"There is a more recent fork for the jpa-maven-plugin here: https://github.com/iSnow/jpa-maven-plugin","body":"There is a more recent fork for the jpa-maven-plugin here: <a href=\"https://github.com/iSnow/jpa-maven-plugin\" rel=\"nofollow noreferrer\">github.com/iSnow/jpa-maven-plugin</a>"}],"tags":[],"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":8,"down_vote_count":0,"up_vote_count":81,"is_accepted":true,"score":81,"last_activity_date":1593070014,"creation_date":1258931437,"answer_id":1780362,"question_id":1780341,"body_markdown":"The persistence.xml has a `jar-file` that you can use. From [the Java EE  5 tutorial][1]:\r\n\r\n&gt; &lt;!-- language: xml --&gt;\r\n&gt; \r\n&gt;     &lt;persistence&gt;\r\n&gt;         &lt;persistence-unit name=&quot;OrderManagement&quot;&gt;\r\n&gt;             &lt;description&gt;This unit manages orders and customers.\r\n&gt;                 It does not rely on any vendor-specific features and can\r\n&gt;                 therefore be deployed to any persistence provider.\r\n&gt;             &lt;/description&gt;\r\n&gt;             &lt;jta-data-source&gt;jdbc/MyOrderDB&lt;/jta-data-source&gt;\r\n&gt;             &lt;jar-file&gt;MyOrderApp.jar&lt;/jar-file&gt;\r\n&gt;             &lt;class&gt;com.widgets.Order&lt;/class&gt;\r\n&gt;             &lt;class&gt;com.widgets.Customer&lt;/class&gt;\r\n&gt;         &lt;/persistence-unit&gt;\r\n&gt;     &lt;/persistence&gt;\r\n&gt; \r\n\r\nThis file defines a persistence unit\r\nnamed `OrderManagement`, which uses a\r\nJTA-aware data source `jdbc/MyOrderDB`. The `jar-file` and `class` elements specify managed persistence classes: entity classes, embeddable classes, and mapped superclasses. The `jar-file` element specifies JAR files that are visible to the packaged persistence unit that contain managed persistence classes, while the `class` element explicitly names managed persistence classes.\r\n\r\nIn the case of Hibernate, have a look at the [Chapter2. Setup and configuration][2] too for more details.\r\n\r\n**EDIT:** Actually, If you don&#39;t mind not being spec compliant, Hibernate supports auto-detection even in Java SE. To do so, add the `hibernate.archive.autodetection` property:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n\r\n    &lt;persistence-unit name=&quot;eventractor&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n      &lt;!-- This is required to be spec compliant, Hibernate however supports\r\n           auto-detection even in JSE.\r\n      &lt;class&gt;pl.michalmech.eventractor.domain.User&lt;/class&gt;\r\n      &lt;class&gt;pl.michalmech.eventractor.domain.Address&lt;/class&gt;\r\n      &lt;class&gt;pl.michalmech.eventractor.domain.City&lt;/class&gt;\r\n      &lt;class&gt;pl.michalmech.eventractor.domain.Country&lt;/class&gt;\r\n       --&gt;\r\n\r\n      &lt;properties&gt;\r\n        &lt;!-- Scan for annotated classes and Hibernate mapping XML files --&gt;\r\n        &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class, hbm&quot;/&gt;\r\n\r\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot; /&gt;\r\n        &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E19159-01/819-3669/bnbrj/index.html\r\n  [2]: http://docs.jboss.org/hibernate/stable/entitymanager/reference/en/html/configuration.html","title":"Do I need &lt;class&gt; elements in persistence.xml?","body":"<p>The persistence.xml has a <code>jar-file</code> that you can use. From <a href=\"https://docs.oracle.com/cd/E19159-01/819-3669/bnbrj/index.html\" rel=\"nofollow noreferrer\">the Java EE  5 tutorial</a>:</p>\n<blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;persistence&gt;\n    &lt;persistence-unit name=&quot;OrderManagement&quot;&gt;\n        &lt;description&gt;This unit manages orders and customers.\n            It does not rely on any vendor-specific features and can\n            therefore be deployed to any persistence provider.\n        &lt;/description&gt;\n        &lt;jta-data-source&gt;jdbc/MyOrderDB&lt;/jta-data-source&gt;\n        &lt;jar-file&gt;MyOrderApp.jar&lt;/jar-file&gt;\n        &lt;class&gt;com.widgets.Order&lt;/class&gt;\n        &lt;class&gt;com.widgets.Customer&lt;/class&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n</blockquote>\n<p>This file defines a persistence unit\nnamed <code>OrderManagement</code>, which uses a\nJTA-aware data source <code>jdbc/MyOrderDB</code>. The <code>jar-file</code> and <code>class</code> elements specify managed persistence classes: entity classes, embeddable classes, and mapped superclasses. The <code>jar-file</code> element specifies JAR files that are visible to the packaged persistence unit that contain managed persistence classes, while the <code>class</code> element explicitly names managed persistence classes.</p>\n<p>In the case of Hibernate, have a look at the <a href=\"http://docs.jboss.org/hibernate/stable/entitymanager/reference/en/html/configuration.html\" rel=\"nofollow noreferrer\">Chapter2. Setup and configuration</a> too for more details.</p>\n<p><strong>EDIT:</strong> Actually, If you don't mind not being spec compliant, Hibernate supports auto-detection even in Java SE. To do so, add the <code>hibernate.archive.autodetection</code> property:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;persistence-unit name=&quot;eventractor&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n  &lt;!-- This is required to be spec compliant, Hibernate however supports\n       auto-detection even in JSE.\n  &lt;class&gt;pl.michalmech.eventractor.domain.User&lt;/class&gt;\n  &lt;class&gt;pl.michalmech.eventractor.domain.Address&lt;/class&gt;\n  &lt;class&gt;pl.michalmech.eventractor.domain.City&lt;/class&gt;\n  &lt;class&gt;pl.michalmech.eventractor.domain.Country&lt;/class&gt;\n   --&gt;\n\n  &lt;properties&gt;\n    &lt;!-- Scan for annotated classes and Hibernate mapping XML files --&gt;\n    &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class, hbm&quot;/&gt;\n\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot; /&gt;\n    &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n  &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"score":2,"creation_date":1499254875,"post_id":1780437,"comment_id":76825780,"body_markdown":"`&lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;` did not work with WildFly 8.2.1.Final + Hibernate 4.3.7","body":"<code>&lt;exclude-unlisted-classes&gt;false&lt;&#47;exclude-unlisted-classes&gt;</code> did not work with WildFly 8.2.1.Final + Hibernate 4.3.7"}],"tags":[],"owner":{"account_id":28669,"reputation":35122,"user_id":76799,"accept_rate":72,"display_name":"Mads Mob&#230;k"},"comment_count":1,"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1455134443,"creation_date":1258933262,"answer_id":1780437,"question_id":1780341,"body_markdown":"In **Java SE environment, by specification you have to specify all classes** as you have done:\r\n&gt;A list of all named managed persistence classes must be specified in Java SE environments to insure portability\r\n\r\nand\r\n\r\n&gt;If it is not intended that the annotated persistence classes contained in the root of the persistence unit be included in the persistence unit, the exclude-unlisted-classes element should be used. The exclude-unlisted-classes element is not intended for use in Java SE environments.\r\n\r\n(JSR-000220 6.2.1.6)\r\n\r\nIn **Java EE environments, you do not** have to do this as the provider scans for annotations for you. \r\n\r\nUnofficially, you can try to set `&lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;` in your persistence.xml. This parameter defaults to `false` in EE and `true`in SE. Both &lt;a href=&quot;http://wiki.eclipse.org/Packaging_and_Deploying_EclipseLink_JPA_Applications_%28ELUG%29#How_to_Specify_Managed_Classes&quot;&gt;EclipseLink&lt;/a&gt; and &lt;a href=&quot;http://www.oracle.com/technology/products/ias/toplink/jpa/howto/java-se-usage.html&quot;&gt;Toplink&lt;/a&gt; supports this as far I can tell. But you should not rely on it working in SE, according to spec, as stated above.\r\n\r\n\r\nYou can TRY the following (may or may not work in SE-environments):\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;persistence-unit name=&quot;eventractor&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n         &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n\r\n        &lt;properties&gt;\r\n                &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n","title":"Do I need &lt;class&gt; elements in persistence.xml?","body":"<p>In <strong>Java SE environment, by specification you have to specify all classes</strong> as you have done:</p>\n\n<blockquote>\n  <p>A list of all named managed persistence classes must be specified in Java SE environments to insure portability</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>If it is not intended that the annotated persistence classes contained in the root of the persistence unit be included in the persistence unit, the exclude-unlisted-classes element should be used. The exclude-unlisted-classes element is not intended for use in Java SE environments.</p>\n</blockquote>\n\n<p>(JSR-000220 6.2.1.6)</p>\n\n<p>In <strong>Java EE environments, you do not</strong> have to do this as the provider scans for annotations for you. </p>\n\n<p>Unofficially, you can try to set <code>&lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;</code> in your persistence.xml. This parameter defaults to <code>false</code> in EE and <code>true</code>in SE. Both <a href=\"http://wiki.eclipse.org/Packaging_and_Deploying_EclipseLink_JPA_Applications_%28ELUG%29#How_to_Specify_Managed_Classes\" rel=\"noreferrer\">EclipseLink</a> and <a href=\"http://www.oracle.com/technology/products/ias/toplink/jpa/howto/java-se-usage.html\" rel=\"noreferrer\">Toplink</a> supports this as far I can tell. But you should not rely on it working in SE, according to spec, as stated above.</p>\n\n<p>You can TRY the following (may or may not work in SE-environments):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;persistence-unit name=\"eventractor\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n     &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n\n    &lt;properties&gt;\n            &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"validate\" /&gt;\n            &lt;property name=\"hibernate.show_sql\" value=\"true\" /&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26957,"reputation":564391,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1283673971,"post_id":3598025,"comment_id":3832365,"body_markdown":"Auto detection of entities in Java SE is just not part of JPA. Applications relying on this are not portable.","body":"Auto detection of entities in Java SE is just not part of JPA. Applications relying on this are not portable."}],"tags":[],"owner":{"account_id":193118,"reputation":389,"user_id":434639,"accept_rate":50,"display_name":"Chuck Stephanski"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1283146424,"creation_date":1283145309,"answer_id":3598025,"question_id":1780341,"body_markdown":"Hibernate doesn&#39;t support `&lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;` under SE, (another poster mentioned this works with TopLink and EclipseLink). \r\n\r\nThere are tools that will auto-generate the list of classes to persistence.xml e.g. the Import Database Schema wizard in IntelliJ. Once you&#39;ve got your project&#39;s initial classes in persistence.xml it should be simple to add/remove single classes by hand as your project progresses.","title":"Do I need &lt;class&gt; elements in persistence.xml?","body":"<p>Hibernate doesn't support <code>&lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;</code> under SE, (another poster mentioned this works with TopLink and EclipseLink). </p>\n\n<p>There are tools that will auto-generate the list of classes to persistence.xml e.g. the Import Database Schema wizard in IntelliJ. Once you've got your project's initial classes in persistence.xml it should be simple to add/remove single classes by hand as your project progresses.</p>\n"},{"comments":[{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":0,"creation_date":1440054903,"post_id":6994078,"comment_id":52116880,"body_markdown":"I used `persistenceXmlLocation` property in my `LocalContainerEntityManagerFactoryBean` settings. But all the queries are working even if I omit the `&lt;class&gt;` elements. Its on a Spring/Hibernate/Maven application. But in you hint you say that _&quot;When not using persistenceXmlLocation I could omit these &lt;class&gt; elements.&quot;_ but its the other way around for me.","body":"I used <code>persistenceXmlLocation</code> property in my <code>LocalContainerEntityManagerFactoryBean</code> settings. But all the queries are working even if I omit the <code>&lt;class&gt;</code> elements. Its on a Spring/Hibernate/Maven application. But in you hint you say that <i>&quot;When not using persistenceXmlLocation I could omit these &lt;class&gt; elements.&quot;</i> but its the other way around for me."},{"owner":{"account_id":3352991,"reputation":4106,"user_id":2816631,"accept_rate":50,"display_name":"Artem Novikov"},"score":0,"creation_date":1472415857,"post_id":6994078,"comment_id":65731415,"body_markdown":"@Ethan you&#39;re right, because persistenceXmlLocation overrides packagesToScan - if you look in the sources. So don&#39;t use it, when using packagesToScan.","body":"@Ethan you&#39;re right, because persistenceXmlLocation overrides packagesToScan - if you look in the sources. So don&#39;t use it, when using packagesToScan."}],"tags":[],"owner":{"account_id":55234,"reputation":15884,"user_id":165345,"accept_rate":54,"display_name":"Ethan Leroy"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1312882430,"creation_date":1312882430,"answer_id":6994078,"question_id":1780341,"body_markdown":"It&#39;s not a solution but a hint for those using Spring:\r\n\r\nI tried to use `org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean` with setting `persistenceXmlLocation` but with this I had to provide the `&lt;class&gt;` elements (even if the `persistenceXmlLocation` just pointed to `META-INF/persistence.xml`).\r\n\r\nWhen **not** using `persistenceXmlLocation` I could omit these `&lt;class&gt;` elements.","title":"Do I need &lt;class&gt; elements in persistence.xml?","body":"<p>It's not a solution but a hint for those using Spring:</p>\n\n<p>I tried to use <code>org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean</code> with setting <code>persistenceXmlLocation</code> but with this I had to provide the <code>&lt;class&gt;</code> elements (even if the <code>persistenceXmlLocation</code> just pointed to <code>META-INF/persistence.xml</code>).</p>\n\n<p>When <strong>not</strong> using <code>persistenceXmlLocation</code> I could omit these <code>&lt;class&gt;</code> elements.</p>\n"},{"comments":[{"owner":{"account_id":2632633,"reputation":547,"user_id":2278186,"display_name":"SatA"},"score":0,"creation_date":1398791497,"post_id":12137034,"comment_id":35798738,"body_markdown":"Worked for me! The scenario was spring 4 + hibernate + jpa2 + maven.\nJUnit testing didn&#39;t find my entities but with this setting it did the job.","body":"Worked for me! The scenario was spring 4 + hibernate + jpa2 + maven. JUnit testing didn&#39;t find my entities but with this setting it did the job."}],"tags":[],"owner":{"account_id":1785331,"reputation":121,"user_id":1626903,"display_name":"Christopher Yang"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1523529563,"creation_date":1346048399,"answer_id":12137034,"question_id":1780341,"body_markdown":"For those running JPA in Spring, from version 3.1 onwards, you can set `packagesToScan` property under `LocalContainerEntityManagerFactoryBean` and get rid of persistence.xml altogether.\r\n\r\n[Here&#39;s the low-down][1]\r\n\r\n\r\n  [1]: http://www.baeldung.com/2011/12/13/the-persistence-layer-with-spring-3-1-and-jpa/","title":"Do I need &lt;class&gt; elements in persistence.xml?","body":"<p>For those running JPA in Spring, from version 3.1 onwards, you can set <code>packagesToScan</code> property under <code>LocalContainerEntityManagerFactoryBean</code> and get rid of persistence.xml altogether.</p>\n\n<p><a href=\"http://www.baeldung.com/2011/12/13/the-persistence-layer-with-spring-3-1-and-jpa/\" rel=\"nofollow noreferrer\">Here's the low-down</a></p>\n"},{"tags":[],"owner":{"account_id":1885461,"reputation":41,"user_id":1704775,"display_name":"Spencer Loveridge"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1348784550,"creation_date":1348784550,"answer_id":12630897,"question_id":1780341,"body_markdown":"Not sure if you&#39;re doing something similar to what I am doing, but Im generating a load of source java from an XSD using JAXB in a seperate component using Maven. Lets say this artifact is called &quot;base-model&quot;\r\n\r\nI wanted to import this artifact containing the java source and run hibernate over all classes in my &quot;base-model&quot; artifact jar and not specify each &lt;class&gt; explicitly. Im adding &quot;base-model&quot; as a dependency for my hibernate component but the trouble is the &lt;jar-file&gt; tag in persistence.xml only allows you to specify absolute paths. \r\n\r\nThe way I got round it is to copy my &quot;base-model&quot; jar dependency explictly to my target dir and also strip the version of it. So whereas if I build my &quot;base-model&quot; artifact it generate &quot;base-model-1.0-SNAPSHOT.jar&quot;, the copy-resources step copies it as &quot;base-model.jar&quot;. \r\n\r\nSo in your pom for the hibernate component:\r\n\r\n    \t\t\t&lt;!-- We want to copy across all our artifacts containing java code\r\n\t\t\tgenerated from our scheams. We copy them across and strip the version\r\n\t\t\tso that our persistence.xml can reference them directly in the tag\r\n\t\t\t&lt;jar-file&gt;target/dependency/${artifactId}.jar&lt;/jar-file&gt; --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;copy-dependencies&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\t\t\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;includeArtifactIds&gt;base-model&lt;/includeArtifactIds&gt;\r\n\t\t\t\t\t&lt;stripVersion&gt;true&lt;/stripVersion&gt;\r\n\t\t\t\t&lt;/configuration&gt;\t\t\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nThen I call the hibernate plugin in the next phase &quot;process-classes&quot;:\r\n\r\n    \t\t\t&lt;!-- Generate the schema DDL --&gt;\r\n \t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;generate-ddl&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-classes&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;hbm2ddl&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;components&gt;\r\n\t\t\t\t\t\t&lt;component&gt;\r\n\t\t\t\t\t\t\t&lt;name&gt;hbm2java&lt;/name&gt;\r\n\t\t\t\t\t\t\t&lt;implementation&gt;annotationconfiguration&lt;/implementation&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;/src/main/java&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t&lt;/component&gt;\r\n\t\t\t\t\t&lt;/components&gt;\r\n\t\t\t\t\t&lt;componentProperties&gt;\r\n\t\t\t\t\t\t&lt;persistenceunit&gt;mysql&lt;/persistenceunit&gt;\r\n\t\t\t\t\t\t&lt;implementation&gt;jpaconfiguration&lt;/implementation&gt;\r\n\t\t\t\t\t\t&lt;create&gt;true&lt;/create&gt;\r\n\t\t\t\t\t\t&lt;export&gt;false&lt;/export&gt;\r\n\t\t\t\t\t\t&lt;drop&gt;true&lt;/drop&gt;\r\n\t\t\t\t\t\t&lt;outputfilename&gt;mysql-schema.sql&lt;/outputfilename&gt;\r\n\t\t\t\t\t&lt;/componentProperties&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nand finally in my persistence.xml I can explicitly set the location of the jar thus:\r\n\r\n    &lt;jar-file&gt;target/dependency/base-model.jar&lt;/jar-file&gt;\r\n\r\nand add the property:\r\n\r\n    &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class, hbm&quot;/&gt;\r\n\r\n","title":"Do I need &lt;class&gt; elements in persistence.xml?","body":"<p>Not sure if you're doing something similar to what I am doing, but Im generating a load of source java from an XSD using JAXB in a seperate component using Maven. Lets say this artifact is called \"base-model\"</p>\n\n<p>I wanted to import this artifact containing the java source and run hibernate over all classes in my \"base-model\" artifact jar and not specify each  explicitly. Im adding \"base-model\" as a dependency for my hibernate component but the trouble is the  tag in persistence.xml only allows you to specify absolute paths. </p>\n\n<p>The way I got round it is to copy my \"base-model\" jar dependency explictly to my target dir and also strip the version of it. So whereas if I build my \"base-model\" artifact it generate \"base-model-1.0-SNAPSHOT.jar\", the copy-resources step copies it as \"base-model.jar\". </p>\n\n<p>So in your pom for the hibernate component:</p>\n\n<pre><code>            &lt;!-- We want to copy across all our artifacts containing java code\n        generated from our scheams. We copy them across and strip the version\n        so that our persistence.xml can reference them directly in the tag\n        &lt;jar-file&gt;target/dependency/${artifactId}.jar&lt;/jar-file&gt; --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-dependencies&lt;/id&gt;\n                    &lt;phase&gt;process-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;       \n            &lt;configuration&gt;\n                &lt;includeArtifactIds&gt;base-model&lt;/includeArtifactIds&gt;\n                &lt;stripVersion&gt;true&lt;/stripVersion&gt;\n            &lt;/configuration&gt;        \n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Then I call the hibernate plugin in the next phase \"process-classes\":</p>\n\n<pre><code>            &lt;!-- Generate the schema DDL --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;generate-ddl&lt;/id&gt;\n                    &lt;phase&gt;process-classes&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;hbm2ddl&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;components&gt;\n                    &lt;component&gt;\n                        &lt;name&gt;hbm2java&lt;/name&gt;\n                        &lt;implementation&gt;annotationconfiguration&lt;/implementation&gt;\n                        &lt;outputDirectory&gt;/src/main/java&lt;/outputDirectory&gt;\n                    &lt;/component&gt;\n                &lt;/components&gt;\n                &lt;componentProperties&gt;\n                    &lt;persistenceunit&gt;mysql&lt;/persistenceunit&gt;\n                    &lt;implementation&gt;jpaconfiguration&lt;/implementation&gt;\n                    &lt;create&gt;true&lt;/create&gt;\n                    &lt;export&gt;false&lt;/export&gt;\n                    &lt;drop&gt;true&lt;/drop&gt;\n                    &lt;outputfilename&gt;mysql-schema.sql&lt;/outputfilename&gt;\n                &lt;/componentProperties&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>and finally in my persistence.xml I can explicitly set the location of the jar thus:</p>\n\n<pre><code>&lt;jar-file&gt;target/dependency/base-model.jar&lt;/jar-file&gt;\n</code></pre>\n\n<p>and add the property:</p>\n\n<pre><code>&lt;property name=\"hibernate.archive.autodetection\" value=\"class, hbm\"/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":287674,"reputation":2988,"user_id":587641,"accept_rate":42,"display_name":"xtian"},"score":0,"creation_date":1502444416,"post_id":17854418,"comment_id":78222769,"body_markdown":"This is what I was looking for!","body":"This is what I was looking for!"},{"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":0,"creation_date":1570528839,"post_id":17854418,"comment_id":102933391,"body_markdown":"Works with EclipseLink, too!","body":"Works with EclipseLink, too!"}],"tags":[],"owner":{"account_id":3092193,"reputation":106,"user_id":2618098,"display_name":"Arek Trzepacz"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1374745393,"creation_date":1374745393,"answer_id":17854418,"question_id":1780341,"body_markdown":"You can provide for `jar-file` element path to a folder with compiled classes. For example I added something like that when I prepared persistence.xml to some integration tests:\r\n\r\n     &lt;jar-file&gt;file:../target/classes&lt;/jar-file&gt;\r\n","title":"Do I need &lt;class&gt; elements in persistence.xml?","body":"<p>You can provide for <code>jar-file</code> element path to a folder with compiled classes. For example I added something like that when I prepared persistence.xml to some integration tests:</p>\n\n<pre><code> &lt;jar-file&gt;file:../target/classes&lt;/jar-file&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3352991,"reputation":4106,"user_id":2816631,"accept_rate":50,"display_name":"Artem Novikov"},"score":9,"creation_date":1472395738,"post_id":21622259,"comment_id":65725533,"body_markdown":"Why upvote? OP doesn&#39;t even mentions Eclipse and this answer doesn&#39;t show what this Eclipse feature does under the hood so that one could do that wihout an IDE.","body":"Why upvote? OP doesn&#39;t even mentions Eclipse and this answer doesn&#39;t show what this Eclipse feature does under the hood so that one could do that wihout an IDE."},{"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"score":2,"creation_date":1499254787,"post_id":21622259,"comment_id":76825732,"body_markdown":"@Artem Novikov: I find this to harsh since often the question arises out of different environments and here we want to help or give hints that are useful! (like for me) It&#39;s useful since Eclipse is a common IDE for developing like this and under the hood is not so important, but I guess it will include all relevant workspace projects (e.g. my project is depending on).","body":"@Artem Novikov: I find this to harsh since often the question arises out of different environments and here we want to help or give hints that are useful! (like for me) It&#39;s useful since Eclipse is a common IDE for developing like this and under the hood is not so important, but I guess it will include all relevant workspace projects (e.g. my project is depending on)."},{"owner":{"account_id":328375,"reputation":1972,"user_id":651288,"accept_rate":20,"display_name":"Pierluigi Vernetto"},"score":0,"creation_date":1511783640,"post_id":21622259,"comment_id":81976311,"body_markdown":"https://stackoverflow.com/questions/17951297/is-there-a-way-to-scan-jpa-entities-not-to-declare-persistent-classes-in-a-persi nice trick, but apparently it works only if entities end up in same classloader as the persistence.xml","body":"<a href=\"https://stackoverflow.com/questions/17951297/is-there-a-way-to-scan-jpa-entities-not-to-declare-persistent-classes-in-a-persi\" title=\"is there a way to scan jpa entities not to declare persistent classes in a persi\">stackoverflow.com/questions/17951297/&hellip;</a> nice trick, but apparently it works only if entities end up in same classloader as the persistence.xml"},{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":1,"creation_date":1533294999,"post_id":21622259,"comment_id":90305313,"body_markdown":"@abbas Please show the `persistence.xml` that Eclipse generates.","body":"@abbas Please show the <code>persistence.xml</code> that Eclipse generates."}],"tags":[],"owner":{"account_id":2109967,"reputation":6673,"user_id":1875434,"accept_rate":67,"display_name":"abbas"},"comment_count":4,"down_vote_count":7,"up_vote_count":19,"is_accepted":false,"score":12,"last_activity_date":1461432587,"creation_date":1391759884,"answer_id":21622259,"question_id":1780341,"body_markdown":"&gt; Do I need Class elements in persistence.xml?\r\n\r\nNo, you don&#39;t necessarily. Here is how you do it in Eclipse (Kepler tested):\r\n\r\nRight click on the project, click **Properties**, select **JPA**, in the **Persistence class management** tick **Discover annotated classes automatically**.\r\n\r\n![enter image description here][1] \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oODvB.png","title":"Do I need &lt;class&gt; elements in persistence.xml?","body":"<blockquote>\n  <p>Do I need Class elements in persistence.xml?</p>\n</blockquote>\n\n<p>No, you don't necessarily. Here is how you do it in Eclipse (Kepler tested):</p>\n\n<p>Right click on the project, click <strong>Properties</strong>, select <strong>JPA</strong>, in the <strong>Persistence class management</strong> tick <strong>Discover annotated classes automatically</strong>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/oODvB.png\" alt=\"enter image description here\"> </p>\n"},{"comments":[{"owner":{"account_id":1716770,"reputation":602,"user_id":1573673,"display_name":"markus"},"score":2,"creation_date":1431424242,"post_id":25908447,"comment_id":48479872,"body_markdown":"do you have more information about this? does this work by accident or is it written in the specification? Is it dependent on the implementation?","body":"do you have more information about this? does this work by accident or is it written in the specification? Is it dependent on the implementation?"},{"owner":{"account_id":4951732,"reputation":189,"user_id":3985437,"display_name":"eriskooo"},"score":0,"creation_date":1433408694,"post_id":25908447,"comment_id":49343403,"body_markdown":"scanner is in class extending AbstractScannerImpl, hibernate - no idea if it&#39;s bug or feature, sorry","body":"scanner is in class extending AbstractScannerImpl, hibernate - no idea if it&#39;s bug or feature, sorry"},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":1,"creation_date":1476809849,"post_id":25908447,"comment_id":67499346,"body_markdown":"In Java SE with Hibernate 5.1.2.Final, this solution doesn&#39;t work. Hibernate expects a jar filename (`java.lang.IllegalArgumentException: Unable to visit JAR file:`).","body":"In Java SE with Hibernate 5.1.2.Final, this solution doesn&#39;t work. Hibernate expects a jar filename (<code>java.lang.IllegalArgumentException: Unable to visit JAR file:</code>)."},{"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"score":1,"creation_date":1499254331,"post_id":25908447,"comment_id":76825426,"body_markdown":"works! :) with WildFly 8.2.1.Final + Hibernate 4.3.7.Final","body":"works! :) with WildFly 8.2.1.Final + Hibernate 4.3.7.Final"},{"owner":{"account_id":8396,"reputation":24329,"user_id":15108,"accept_rate":89,"display_name":"boutta"},"score":0,"creation_date":1500378908,"post_id":25908447,"comment_id":77299925,"body_markdown":"Thx man, searched a lot and this is the neatest solution available. Wildfly10 + Hibernate 5.0.7 working.","body":"Thx man, searched a lot and this is the neatest solution available. Wildfly10 + Hibernate 5.0.7 working."}],"tags":[],"owner":{"account_id":4951732,"reputation":189,"user_id":3985437,"display_name":"eriskooo"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1411030949,"creation_date":1411030949,"answer_id":25908447,"question_id":1780341,"body_markdown":"for JPA 2+ this does the trick\r\n\r\n     &lt;jar-file&gt;&lt;/jar-file&gt;\r\n\r\nscan all jars in war for annotated @Entity classes\r\n","title":"Do I need &lt;class&gt; elements in persistence.xml?","body":"<p>for JPA 2+ this does the trick</p>\n\n<pre><code> &lt;jar-file&gt;&lt;/jar-file&gt;\n</code></pre>\n\n<p>scan all jars in war for annotated @Entity classes</p>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474031525,"creation_date":1471488823,"answer_id":39009266,"question_id":1780341,"body_markdown":"I&#39;m not sure this solution is under the spec but I think I can share for others.\r\n\r\n\r\n## dependency tree\r\n### my-entities.jar\r\nContains entity classes only. No `META-INF/persistence.xml`.\r\n\r\n### my-services.jar\r\nDepends on `my-entities`. Contains EJBs only.\r\n\r\n### my-resources.jar\r\nDepends on `my-services`. Contains resource classes and `META-INF/persistence.xml`.\r\n\r\n## problems\r\n* How can we specify `&lt;jar-file/&gt;` element in `my-resources` as the version-postfixed artifact name of a transient dependency?\r\n* How can we sync the `&lt;jar-file/&gt;` element&#39;s value and the actual transient dependency&#39;s one?\r\n\r\n## solution\r\n### direct (redundant?) dependency and resource filtering\r\nI put a property and a dependency in `my-resources/pom.xml`.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;properties&gt;\r\n      &lt;my-entities.version&gt;x.y.z-SNAPSHOT&lt;/my-entities.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;!-- this is actually a transitive dependency --&gt;\r\n        &lt;groupId&gt;...&lt;/groupId&gt;\r\n        &lt;artifactId&gt;my-entities&lt;/artifactId&gt;\r\n        &lt;version&gt;${my-entities.version}&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt; &lt;!-- other values won&#39;t work --&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;...&lt;/groupId&gt;\r\n        &lt;artifactId&gt;my-services&lt;/artifactId&gt;\r\n        &lt;version&gt;some.very.sepecific&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;dependencies&gt;\r\n\r\nNow get the `persistence.xml` ready for being filtered\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence ...&gt;\r\n      &lt;persistence-unit name=&quot;myPU&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        ...\r\n        &lt;jar-file&gt;lib/my-entities-${my-entities.version}.jar&lt;/jar-file&gt;\r\n        ...\r\n      &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n### Maven Enforcer Plugin\r\nWith the `dependencyConvergence` rule, we can assure that the `my-entities`&#39; version is same in both direct and transitive.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.1&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;enforce&lt;/id&gt;\r\n          &lt;configuration&gt;\r\n            &lt;rules&gt;\r\n               &lt;dependencyConvergence/&gt;\r\n            &lt;/rules&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;enforce&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n","title":"Do I need &lt;class&gt; elements in persistence.xml?","body":"<p>I'm not sure this solution is under the spec but I think I can share for others.</p>\n\n<h2>dependency tree</h2>\n\n<h3>my-entities.jar</h3>\n\n<p>Contains entity classes only. No <code>META-INF/persistence.xml</code>.</p>\n\n<h3>my-services.jar</h3>\n\n<p>Depends on <code>my-entities</code>. Contains EJBs only.</p>\n\n<h3>my-resources.jar</h3>\n\n<p>Depends on <code>my-services</code>. Contains resource classes and <code>META-INF/persistence.xml</code>.</p>\n\n<h2>problems</h2>\n\n<ul>\n<li>How can we specify <code>&lt;jar-file/&gt;</code> element in <code>my-resources</code> as the version-postfixed artifact name of a transient dependency?</li>\n<li>How can we sync the <code>&lt;jar-file/&gt;</code> element's value and the actual transient dependency's one?</li>\n</ul>\n\n<h2>solution</h2>\n\n<h3>direct (redundant?) dependency and resource filtering</h3>\n\n<p>I put a property and a dependency in <code>my-resources/pom.xml</code>.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;my-entities.version&gt;x.y.z-SNAPSHOT&lt;/my-entities.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;!-- this is actually a transitive dependency --&gt;\n    &lt;groupId&gt;...&lt;/groupId&gt;\n    &lt;artifactId&gt;my-entities&lt;/artifactId&gt;\n    &lt;version&gt;${my-entities.version}&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt; &lt;!-- other values won't work --&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;...&lt;/groupId&gt;\n    &lt;artifactId&gt;my-services&lt;/artifactId&gt;\n    &lt;version&gt;some.very.sepecific&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;dependencies&gt;\n</code></pre>\n\n<p>Now get the <code>persistence.xml</code> ready for being filtered</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence ...&gt;\n  &lt;persistence-unit name=\"myPU\" transaction-type=\"JTA\"&gt;\n    ...\n    &lt;jar-file&gt;lib/my-entities-${my-entities.version}.jar&lt;/jar-file&gt;\n    ...\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n\n<h3>Maven Enforcer Plugin</h3>\n\n<p>With the <code>dependencyConvergence</code> rule, we can assure that the <code>my-entities</code>' version is same in both direct and transitive.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n  &lt;version&gt;1.4.1&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;enforce&lt;/id&gt;\n      &lt;configuration&gt;\n        &lt;rules&gt;\n           &lt;dependencyConvergence/&gt;\n        &lt;/rules&gt;\n      &lt;/configuration&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;enforce&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6806635,"reputation":11895,"user_id":5238158,"accept_rate":75,"display_name":"Gandhi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566818764,"creation_date":1566818764,"answer_id":57657013,"question_id":1780341,"body_markdown":"Not necessarily in all cases.\r\n\r\nI m using Jboss 7.0.8 and Eclipselink 2.7.0. In my case to load entities without adding the same in persistence.xml, I added the following system property in Jboss Standalone XML:\r\n\r\n`&lt;property name=&quot;eclipselink.archive.factory&quot; value=&quot;org.jipijapa.eclipselink.JBossArchiveFactoryImpl&quot;/&gt;`\r\n","title":"Do I need &lt;class&gt; elements in persistence.xml?","body":"<p>Not necessarily in all cases.</p>\n\n<p>I m using Jboss 7.0.8 and Eclipselink 2.7.0. In my case to load entities without adding the same in persistence.xml, I added the following system property in Jboss Standalone XML:</p>\n\n<p><code>&lt;property name=\"eclipselink.archive.factory\" value=\"org.jipijapa.eclipselink.JBossArchiveFactoryImpl\"/&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":7278875,"reputation":2373,"user_id":5549301,"accept_rate":38,"display_name":"Udara Seneviratne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680715751,"creation_date":1680715751,"answer_id":75942416,"question_id":1780341,"body_markdown":"I solved this issue by linking the jar file as below.\r\n\r\n    &lt;persistence-unit name=&quot;omPersistenceUnit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n    \t  &lt;jar-file&gt;file://home/xxxx/yyyy.core-lib-1.2.0-SNAPSHOT.jar&lt;/jar-file&gt;\r\n    \t&lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.OracleDialect&quot; /&gt;\r\n    \t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\r\n    \t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;none&quot; /&gt;\r\n    \t\t&lt;property name=&quot;hibernate.cache.region.factory_class&quot; value=&quot;org.hibernate.cache.ehcache.EhCacheRegionFactory&quot; /&gt;\r\n    \t\t&lt;property name=&quot;hibernate.cache.use_second_level_cache&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;hibernate.cache.use_query_cache&quot; value=&quot;true&quot; /&gt;\r\n    \t&lt;/properties&gt;\r\n      &lt;/persistence-unit&gt;","title":"Do I need &lt;class&gt; elements in persistence.xml?","body":"<p>I solved this issue by linking the jar file as below.</p>\n<pre><code>&lt;persistence-unit name=&quot;omPersistenceUnit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n      &lt;jar-file&gt;file://home/xxxx/yyyy.core-lib-1.2.0-SNAPSHOT.jar&lt;/jar-file&gt;\n    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n    &lt;properties&gt;\n        &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.OracleDialect&quot; /&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;none&quot; /&gt;\n        &lt;property name=&quot;hibernate.cache.region.factory_class&quot; value=&quot;org.hibernate.cache.ehcache.EhCacheRegionFactory&quot; /&gt;\n        &lt;property name=&quot;hibernate.cache.use_second_level_cache&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;hibernate.cache.use_query_cache&quot; value=&quot;true&quot; /&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n</code></pre>\n"}],"owner":{"account_id":51696,"reputation":2035,"user_id":154496,"accept_rate":67,"display_name":"Michał Mech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165885,"favorite_count":0,"down_vote_count":0,"up_vote_count":115,"accepted_answer_id":1780362,"answer_count":12,"score":115,"last_activity_date":1680715751,"creation_date":1258930662,"question_id":1780341,"body_markdown":"I have very simple persistance.xml file:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;1.0&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;persistence-unit name=&quot;eventractor&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    \t\t&lt;class&gt;pl.michalmech.eventractor.domain.User&lt;/class&gt;\r\n    \t\t&lt;class&gt;pl.michalmech.eventractor.domain.Address&lt;/class&gt;\r\n    \t\t&lt;class&gt;pl.michalmech.eventractor.domain.City&lt;/class&gt;\r\n    \t\t&lt;class&gt;pl.michalmech.eventractor.domain.Country&lt;/class&gt;\r\n    \r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/persistence-unit&gt;\r\n    \r\n    &lt;/persistence&gt;\r\n\r\nand it works.\r\n\r\nBut when I remove `&lt;class&gt;` elements application doesn&#39;t see entities (all classes are annotated with `@Entity`).\r\n\r\nIs there any automatic mechanism to scan for `@Entity` classes?","title":"Do I need &lt;class&gt; elements in persistence.xml?","body":"<p>I have very simple persistance.xml file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"1.0\"\n    xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd\"&gt;\n\n    &lt;persistence-unit name=\"eventractor\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n        &lt;class&gt;pl.michalmech.eventractor.domain.User&lt;/class&gt;\n        &lt;class&gt;pl.michalmech.eventractor.domain.Address&lt;/class&gt;\n        &lt;class&gt;pl.michalmech.eventractor.domain.City&lt;/class&gt;\n        &lt;class&gt;pl.michalmech.eventractor.domain.Country&lt;/class&gt;\n\n        &lt;properties&gt;\n            &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"validate\" /&gt;\n            &lt;property name=\"hibernate.show_sql\" value=\"true\" /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n\n&lt;/persistence&gt;\n</code></pre>\n\n<p>and it works.</p>\n\n<p>But when I remove <code>&lt;class&gt;</code> elements application doesn't see entities (all classes are annotated with <code>@Entity</code>).</p>\n\n<p>Is there any automatic mechanism to scan for <code>@Entity</code> classes?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1680590729,"post_id":75925211,"comment_id":133919488,"body_markdown":"I can&#39;t reproduce your issue","body":"I can&#39;t reproduce your issue"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":1,"creation_date":1680597109,"post_id":75925211,"comment_id":133920930,"body_markdown":"is there any chance of using `PhysicalData` from different packages? additionally, check if you have any special lombok configuration.","body":"is there any chance of using <code>PhysicalData</code> from different packages? additionally, check if you have any special lombok configuration."}],"answers":[{"comments":[{"owner":{"account_id":22767536,"reputation":15,"user_id":16925377,"display_name":"wanttobebestprogramer"},"score":0,"creation_date":1680745063,"post_id":75942414,"comment_id":133951701,"body_markdown":"I solved the problem in the way you described，Thanks a lot  for clarifying this out","body":"I solved the problem in the way you described，Thanks a lot  for clarifying this out"}],"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680715745,"creation_date":1680715745,"answer_id":75942414,"question_id":75925211,"body_markdown":"You used `@Accessors(chain = true)`. With that will Lombok generate this:\r\n\r\n```java\r\npublic class FunctionHistory implements IBaseHistory {\r\n\r\n   // fields\r\n\r\n   public FunctionHistory setPhysicalData(PhysicalData physicalData) {\r\n      this.physicalData = physicalData;\r\n      return this;\r\n   }\r\n\r\n   // some more\r\n}\r\n```\r\n\r\nThis is not matching your interface.\r\n\r\n\r\nAnd here are some options:\r\n\r\n1. Remove `@Accessors(chain = true)`\r\n2. Change the interface\r\n3. Put `@Accessors(chain = false)` onto your field.\r\n\r\nAnd here are the related Lombok docs:  \r\nhttps://projectlombok.org/features/experimental/Accessors","title":"Why does the class that implements the interface have @Data and@Accessors(chain = true) that need to override the set method but not the get method?","body":"<p>You used <code>@Accessors(chain = true)</code>. With that will Lombok generate this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FunctionHistory implements IBaseHistory {\n\n   // fields\n\n   public FunctionHistory setPhysicalData(PhysicalData physicalData) {\n      this.physicalData = physicalData;\n      return this;\n   }\n\n   // some more\n}\n</code></pre>\n<p>This is not matching your interface.</p>\n<p>And here are some options:</p>\n<ol>\n<li>Remove <code>@Accessors(chain = true)</code></li>\n<li>Change the interface</li>\n<li>Put <code>@Accessors(chain = false)</code> onto your field.</li>\n</ol>\n<p>And here are the related Lombok docs:<br />\n<a href=\"https://projectlombok.org/features/experimental/Accessors\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/experimental/Accessors</a></p>\n"}],"owner":{"account_id":22767536,"reputation":15,"user_id":16925377,"display_name":"wanttobebestprogramer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75942414,"answer_count":1,"score":0,"last_activity_date":1680715745,"creation_date":1680577474,"question_id":75925211,"body_markdown":"I have an interface\r\n\r\n```java\r\npublic interface IBaseHistory {\r\n    String getCoId();\r\n    void setPhysicalData(PhysicalData physicalData);\r\n}\r\n```\r\n\r\nAnd a class that implements it,\r\n\r\n```java\r\n@Data\r\n@Accessors(chain = true)\r\npublic class FunctionHistory  implements Serializable, IBaseHistory {\r\n    private String coId;\r\n    private PhysicalData physicalData;\r\n}\r\n```\r\n\r\nWhich says:\r\n\r\n```\r\nentity.FunctionHistory is not abstract and does not override the abstract method setPhysicalData(service.IBaseHistory.entity.PhysicalData)\r\n```\r\n\r\nI deleted the setPhysicalData method and the program was able to compile.","title":"Why does the class that implements the interface have @Data and@Accessors(chain = true) that need to override the set method but not the get method?","body":"<p>I have an interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface IBaseHistory {\n    String getCoId();\n    void setPhysicalData(PhysicalData physicalData);\n}\n</code></pre>\n<p>And a class that implements it,</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Accessors(chain = true)\npublic class FunctionHistory  implements Serializable, IBaseHistory {\n    private String coId;\n    private PhysicalData physicalData;\n}\n</code></pre>\n<p>Which says:</p>\n<pre><code>entity.FunctionHistory is not abstract and does not override the abstract method setPhysicalData(service.IBaseHistory.entity.PhysicalData)\n</code></pre>\n<p>I deleted the setPhysicalData method and the program was able to compile.</p>\n"},{"tags":["java","spring","eclipse","user-interface","runtime-error"],"answers":[{"tags":[],"owner":{"account_id":28200974,"reputation":57,"user_id":21554764,"display_name":"Milind Vedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680643084,"creation_date":1680642258,"answer_id":75933834,"question_id":75933645,"body_markdown":"In &quot;/saveCashier&quot; controller instantiate the Model then create a model attribute with list of all the cashiers as follows :\r\n```\r\n  @PostMapping(&quot;/saveCashier&quot;)\r\n    public String save(@ModelAttribute  Cashier c, //Object of cashier created as c with details retrieved from the client side\r\n    Model model\r\n    //Model instantiated\r\n    ) {\r\n      cservice.save(c); // cashier saved\r\n      List&lt;Cashier&gt; cashiers=cservice.getAllCashier(); //fetched list of all cahiers\r\n        model.addAttribute(&quot;cashiers&quot;, cashiers) // List of all cashiers added as attribute\r\n        return &quot;redirect:/cashierList&quot;;\r\n        \r\n        \r\n    }\r\n```\r\nIf you are unable to understand @ModelAttribute Cashier c then use RequestParam to get data from the client side then instantiate a new cashier object and set it fields using data retrieved using RequestParam. Then save it and add list of all cashiers to a model attribute like below:\r\n```\r\n @PostMapping(&quot;/saveCashier&quot;)\r\n    public String save( @RequestParam (&quot;name&quot;) String name, //Similary for other properties of cashier like date of birth or anything\r\n    Model model //Model instantiated\r\n    ) {\r\n    Cashier c = new Cashier();\r\n    c.setName(name);\r\n    //Similarly for other fields\r\n\r\n     cservice.save(c); // cashier saved\r\n     List&lt;Cashier&gt; cashiers=cservice.getAllCashier(); //fetched list of all cahiers\r\n    \r\n     model.addAttribute(&quot;cashiers&quot;, cashiers) // List of all cashiers added as attribute\r\n\r\n     return &quot;redirect:/cashierList&quot;;\r\n        \r\n        \r\n    }\r\n```","title":"No primary or single unique constructor found for interface org.springframework.ui.Model","body":"<p>In &quot;/saveCashier&quot; controller instantiate the Model then create a model attribute with list of all the cashiers as follows :</p>\n<pre><code>  @PostMapping(&quot;/saveCashier&quot;)\n    public String save(@ModelAttribute  Cashier c, //Object of cashier created as c with details retrieved from the client side\n    Model model\n    //Model instantiated\n    ) {\n      cservice.save(c); // cashier saved\n      List&lt;Cashier&gt; cashiers=cservice.getAllCashier(); //fetched list of all cahiers\n        model.addAttribute(&quot;cashiers&quot;, cashiers) // List of all cashiers added as attribute\n        return &quot;redirect:/cashierList&quot;;\n        \n        \n    }\n</code></pre>\n<p>If you are unable to understand @ModelAttribute Cashier c then use RequestParam to get data from the client side then instantiate a new cashier object and set it fields using data retrieved using RequestParam. Then save it and add list of all cashiers to a model attribute like below:</p>\n<pre><code> @PostMapping(&quot;/saveCashier&quot;)\n    public String save( @RequestParam (&quot;name&quot;) String name, //Similary for other properties of cashier like date of birth or anything\n    Model model //Model instantiated\n    ) {\n    Cashier c = new Cashier();\n    c.setName(name);\n    //Similarly for other fields\n\n     cservice.save(c); // cashier saved\n     List&lt;Cashier&gt; cashiers=cservice.getAllCashier(); //fetched list of all cahiers\n    \n     model.addAttribute(&quot;cashiers&quot;, cashiers) // List of all cashiers added as attribute\n\n     return &quot;redirect:/cashierList&quot;;\n        \n        \n    }\n</code></pre>\n"}],"owner":{"account_id":26505463,"reputation":1,"user_id":20141687,"display_name":"əbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680715613,"creation_date":1680640601,"question_id":75933645,"body_markdown":"I need some help, if I need to start my project, I am encountering such an Error. What could be the reason?\r\n\r\nConsole:\r\n```\r\nNo primary or single unique constructor found for interface org.springframework.ui.Model\r\n```\r\n\r\nCode:\r\n\r\n```\r\npackage com.Elesgerli.MarketShop_Azer.Controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\nimport com.Elesgerli.MarketShop_Azer.Entity.Cashier;\r\nimport com.Elesgerli.MarketShop_Azer.Service.cashierService;\r\nimport com.Elesgerli.MarketShop_Azer.Service.productService;\r\n\r\n@Controller\r\npublic class CashierController{\r\n\r\n\t@Autowired\r\n\tprivate cashierService cservice;\r\n\r\n\t@Autowired\r\n\tprivate productService pservice;\r\n\t\r\n\t@PostMapping(&quot;/saveCashier&quot;)\r\n\tpublic String save( @RequestBody @ModelAttribute  Model m ,Cashier c) {\r\n\t\tList&lt;Cashier&gt; cashiers=cservice.getAllCashier();\r\n\t\tm.addAttribute(&quot;cashier&quot;, c);\r\n\t\tcservice.save(c);\r\n\t\treturn &quot;redirect:/cashierList&quot;;\r\n\t}\r\n\r\n\t@RequestMapping(&quot;/delete/{id}&quot;)\r\n\t    public String deleteUser(@PathVariable Integer id) {\r\n\t\t cservice.deletebyId(id);\t\r\n\t\t return &quot;redirect:/cashierList&quot;;\r\n\t }\r\n}\r\n```\r\n\r\nI wanted to add a new product by running my project, but it gave such an error.","title":"No primary or single unique constructor found for interface org.springframework.ui.Model","body":"<p>I need some help, if I need to start my project, I am encountering such an Error. What could be the reason?</p>\n<p>Console:</p>\n<pre><code>No primary or single unique constructor found for interface org.springframework.ui.Model\n</code></pre>\n<p>Code:</p>\n<pre><code>package com.Elesgerli.MarketShop_Azer.Controller;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport com.Elesgerli.MarketShop_Azer.Entity.Cashier;\nimport com.Elesgerli.MarketShop_Azer.Service.cashierService;\nimport com.Elesgerli.MarketShop_Azer.Service.productService;\n\n@Controller\npublic class CashierController{\n\n    @Autowired\n    private cashierService cservice;\n\n    @Autowired\n    private productService pservice;\n    \n    @PostMapping(&quot;/saveCashier&quot;)\n    public String save( @RequestBody @ModelAttribute  Model m ,Cashier c) {\n        List&lt;Cashier&gt; cashiers=cservice.getAllCashier();\n        m.addAttribute(&quot;cashier&quot;, c);\n        cservice.save(c);\n        return &quot;redirect:/cashierList&quot;;\n    }\n\n    @RequestMapping(&quot;/delete/{id}&quot;)\n        public String deleteUser(@PathVariable Integer id) {\n         cservice.deletebyId(id);   \n         return &quot;redirect:/cashierList&quot;;\n     }\n}\n</code></pre>\n<p>I wanted to add a new product by running my project, but it gave such an error.</p>\n"},{"tags":["java","android","flutter","telephony"],"answers":[{"tags":[],"owner":{"account_id":22283678,"reputation":11,"user_id":16511700,"display_name":"Sayam Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680715582,"creation_date":1680715582,"answer_id":75942396,"question_id":75938831,"body_markdown":"Update: It works after downgrading the flutter version. Apparently the latest version of flutter is not friendly with background functions.","title":"Flutter app crashes after receiving sms when using telephony package","body":"<p>Update: It works after downgrading the flutter version. Apparently the latest version of flutter is not friendly with background functions.</p>\n"}],"owner":{"account_id":22283678,"reputation":11,"user_id":16511700,"display_name":"Sayam Sarkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680715582,"creation_date":1680693983,"question_id":75938831,"body_markdown":"I have an app that will automatically scan incoming sms. Everything seems to work fine in debug, but in release version of the app, it is crashing when a new sms is received. Here is the stack trace. I am using telephony package and have given all permissions as stated in the telephony package documentation(https://pub.dev/packages/telephony). I have also used `@pragma(&#39;vm:entry-point&#39;)` before calling background functions.\r\n\r\n\r\n    E/AndroidRuntime(22045): FATAL EXCEPTION: main\r\n    E/AndroidRuntime(22045): Process: com.example.expense, PID: 22045\r\n    E/AndroidRuntime(22045): java.lang.RuntimeException: Unable to start receiver com.shounakmulay.telephony.sms.IncomingSmsReceiver: java.lang.NullPointerException: Attempt to read from field &#39;java.lang.String io.flutter.view.FlutterCallbackInformation.callbackLibraryPath&#39; on a null object reference in method &#39;java.lang.String a1.a$b.toString()&#39;\r\n    E/AndroidRuntime(22045):        at android.app.ActivityThread.handleReceiver(ActivityThread.java:4561)\r\n    E/AndroidRuntime(22045):        at android.app.ActivityThread.-$$Nest$mhandleReceiver(Unknown Source:0)\r\n    E/AndroidRuntime(22045):        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2308)\r\n    E/AndroidRuntime(22045):        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n    E/AndroidRuntime(22045):        at android.os.Looper.loopOnce(Looper.java:240)\r\n    E/AndroidRuntime(22045):        at android.os.Looper.loop(Looper.java:351)\r\n    E/AndroidRuntime(22045):        at android.app.ActivityThread.main(ActivityThread.java:8364)\r\n    E/AndroidRuntime(22045):        at java.lang.reflect.Method.invoke(Native Method)\r\n    E/AndroidRuntime(22045):        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:584)\r\n    E/AndroidRuntime(22045):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1013)\r\n    E/AndroidRuntime(22045): Caused by: java.lang.NullPointerException: Attempt to read from field &#39;java.lang.String io.flutter.view.FlutterCallbackInformation.callbackLibraryPath&#39; on a null object reference in method &#39;java.lang.String a1.a$b.toString()&#39;\r\n    E/AndroidRuntime(22045):        at a1.a$b.toString(Unknown Source:22)\r\n    E/AndroidRuntime(22045):        at java.lang.String.valueOf(String.java:3657)\r\n    E/AndroidRuntime(22045):        at java.lang.StringBuilder.append(StringBuilder.java:132)\r\n    E/AndroidRuntime(22045):        at a1.a.i(Unknown Source:27)\r\n    E/AndroidRuntime(22045):        at s0.b.k(Unknown Source:62)\r\n    E/AndroidRuntime(22045):        at com.shounakmulay.telephony.sms.IncomingSmsReceiver.b(Unknown Source:30)\r\n    E/AndroidRuntime(22045):        at com.shounakmulay.telephony.sms.IncomingSmsReceiver.c(Unknown Source:129)\r\n    E/AndroidRuntime(22045):        at com.shounakmulay.telephony.sms.IncomingSmsReceiver.onReceive(Unknown Source:86)\r\n    E/AndroidRuntime(22045):        at android.app.ActivityThread.handleReceiver(ActivityThread.java:4545)\r\n    E/AndroidRuntime(22045):        ... 9 more\r\n\r\n\r\nI used `@pragma(&#39;vm:entry-point&#39;)` before calling background functions.","title":"Flutter app crashes after receiving sms when using telephony package","body":"<p>I have an app that will automatically scan incoming sms. Everything seems to work fine in debug, but in release version of the app, it is crashing when a new sms is received. Here is the stack trace. I am using telephony package and have given all permissions as stated in the telephony package documentation(<a href=\"https://pub.dev/packages/telephony\" rel=\"nofollow noreferrer\">https://pub.dev/packages/telephony</a>). I have also used <code>@pragma('vm:entry-point')</code> before calling background functions.</p>\n<pre><code>E/AndroidRuntime(22045): FATAL EXCEPTION: main\nE/AndroidRuntime(22045): Process: com.example.expense, PID: 22045\nE/AndroidRuntime(22045): java.lang.RuntimeException: Unable to start receiver com.shounakmulay.telephony.sms.IncomingSmsReceiver: java.lang.NullPointerException: Attempt to read from field 'java.lang.String io.flutter.view.FlutterCallbackInformation.callbackLibraryPath' on a null object reference in method 'java.lang.String a1.a$b.toString()'\nE/AndroidRuntime(22045):        at android.app.ActivityThread.handleReceiver(ActivityThread.java:4561)\nE/AndroidRuntime(22045):        at android.app.ActivityThread.-$$Nest$mhandleReceiver(Unknown Source:0)\nE/AndroidRuntime(22045):        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2308)\nE/AndroidRuntime(22045):        at android.os.Handler.dispatchMessage(Handler.java:106)\nE/AndroidRuntime(22045):        at android.os.Looper.loopOnce(Looper.java:240)\nE/AndroidRuntime(22045):        at android.os.Looper.loop(Looper.java:351)\nE/AndroidRuntime(22045):        at android.app.ActivityThread.main(ActivityThread.java:8364)\nE/AndroidRuntime(22045):        at java.lang.reflect.Method.invoke(Native Method)\nE/AndroidRuntime(22045):        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:584)\nE/AndroidRuntime(22045):        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1013)\nE/AndroidRuntime(22045): Caused by: java.lang.NullPointerException: Attempt to read from field 'java.lang.String io.flutter.view.FlutterCallbackInformation.callbackLibraryPath' on a null object reference in method 'java.lang.String a1.a$b.toString()'\nE/AndroidRuntime(22045):        at a1.a$b.toString(Unknown Source:22)\nE/AndroidRuntime(22045):        at java.lang.String.valueOf(String.java:3657)\nE/AndroidRuntime(22045):        at java.lang.StringBuilder.append(StringBuilder.java:132)\nE/AndroidRuntime(22045):        at a1.a.i(Unknown Source:27)\nE/AndroidRuntime(22045):        at s0.b.k(Unknown Source:62)\nE/AndroidRuntime(22045):        at com.shounakmulay.telephony.sms.IncomingSmsReceiver.b(Unknown Source:30)\nE/AndroidRuntime(22045):        at com.shounakmulay.telephony.sms.IncomingSmsReceiver.c(Unknown Source:129)\nE/AndroidRuntime(22045):        at com.shounakmulay.telephony.sms.IncomingSmsReceiver.onReceive(Unknown Source:86)\nE/AndroidRuntime(22045):        at android.app.ActivityThread.handleReceiver(ActivityThread.java:4545)\nE/AndroidRuntime(22045):        ... 9 more\n</code></pre>\n<p>I used <code>@pragma('vm:entry-point')</code> before calling background functions.</p>\n"},{"tags":["java","mysql","jsqlparser"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1550835457,"post_id":54826242,"comment_id":96427224,"body_markdown":"I would guess there is a documentation for that.","body":"I would guess there is a documentation for that."}],"answers":[{"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551098460,"creation_date":1551098460,"answer_id":54866455,"question_id":54826242,"body_markdown":"**PlainSelect** does represent a simple select statement, like:\r\n\r\n    SELECT * FROM mytable\r\n\r\nwhile **SetOperationList** represents a set operation using multiple **PlainSelect**s (https://en.wikipedia.org/wiki/Set_operations_(SQL)).\r\n\r\n    SELECT a FROM mytable\r\n    UNION\r\n    SELECT b FROM mytable2\r\n\r\n\r\n---\r\n\r\nThe downvote is not ok, due to the missing javadocs for this classes.","title":"PlainSelect and SetOperationList in jsql parser","body":"<p><strong>PlainSelect</strong> does represent a simple select statement, like:</p>\n\n<pre><code>SELECT * FROM mytable\n</code></pre>\n\n<p>while <strong>SetOperationList</strong> represents a set operation using multiple <strong>PlainSelect</strong>s (<a href=\"https://en.wikipedia.org/wiki/Set_operations_(SQL)\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Set_operations_(SQL)</a>).</p>\n\n<pre><code>SELECT a FROM mytable\nUNION\nSELECT b FROM mytable2\n</code></pre>\n\n<hr>\n\n<p>The downvote is not ok, due to the missing javadocs for this classes.</p>\n"},{"tags":[],"owner":{"account_id":174171,"reputation":1053,"user_id":403372,"display_name":"Joviano Dias"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680715073,"creation_date":1680715073,"answer_id":75942318,"question_id":54826242,"body_markdown":"Essentially the thing to keep in mind when parsing them in JSQLParser is that if it is a SetOperationList (i.e. Using UNION INTERSECT etc) - It needs to be parsed differently\r\n\r\n`selectTableStatement.getSelectBody().getClass().getSimpleName().equals(&quot;PlainSelect&quot;)` is key\r\n\r\nThe error encountered if parsing them as the same is \r\n`net.sf.jsqlparser.statement.select.SetOperationList cannot be cast to net.sf.jsqlparser.statement.select.PlainSelect`\r\n    \r\n    private static List&lt;String&gt; extractSelectTableSelectItems(Select selectTableStatement){\r\n        List&lt;String&gt; fields = new ArrayList&lt;&gt;();\r\n\r\n        if(selectTableStatement.getSelectBody().getClass().getSimpleName().equals(&quot;PlainSelect&quot;)) {\r\n\r\n            PlainSelect plainSelect = (PlainSelect) selectTableStatement.getSelectBody();\r\n            List&lt;SelectItem&gt; selectItems = plainSelect.getSelectItems();\r\n            for(SelectItem selectItem : selectItems) {\r\n                fields.add(selectItem.toString());\r\n            }\r\n        } else if(selectTableStatement.getSelectBody().getClass().getSimpleName().equals(&quot;SetOperationList&quot;)) {\r\n            \r\n            SetOperationList setOperationList = (SetOperationList) selectTableStatement.getSelectBody();\r\n            List&lt;SelectBody&gt; selectBodyList = setOperationList.getSelects();\r\n            for(SelectBody selectBody: selectBodyList) {\r\n                PlainSelect plainSelect = (PlainSelect) selectBody;\r\n                List&lt;SelectItem&gt; selectItems = plainSelect.getSelectItems();\r\n                for(SelectItem selectItem : selectItems) {\r\n                    fields.add(selectItem.toString());\r\n                }\r\n            }\r\n        }\r\n        \r\n        return fields;\r\n    }","title":"PlainSelect and SetOperationList in jsql parser","body":"<p>Essentially the thing to keep in mind when parsing them in JSQLParser is that if it is a SetOperationList (i.e. Using UNION INTERSECT etc) - It needs to be parsed differently</p>\n<p><code>selectTableStatement.getSelectBody().getClass().getSimpleName().equals(&quot;PlainSelect&quot;)</code> is key</p>\n<p>The error encountered if parsing them as the same is\n<code>net.sf.jsqlparser.statement.select.SetOperationList cannot be cast to net.sf.jsqlparser.statement.select.PlainSelect</code></p>\n<pre><code>private static List&lt;String&gt; extractSelectTableSelectItems(Select selectTableStatement){\n    List&lt;String&gt; fields = new ArrayList&lt;&gt;();\n\n    if(selectTableStatement.getSelectBody().getClass().getSimpleName().equals(&quot;PlainSelect&quot;)) {\n\n        PlainSelect plainSelect = (PlainSelect) selectTableStatement.getSelectBody();\n        List&lt;SelectItem&gt; selectItems = plainSelect.getSelectItems();\n        for(SelectItem selectItem : selectItems) {\n            fields.add(selectItem.toString());\n        }\n    } else if(selectTableStatement.getSelectBody().getClass().getSimpleName().equals(&quot;SetOperationList&quot;)) {\n        \n        SetOperationList setOperationList = (SetOperationList) selectTableStatement.getSelectBody();\n        List&lt;SelectBody&gt; selectBodyList = setOperationList.getSelects();\n        for(SelectBody selectBody: selectBodyList) {\n            PlainSelect plainSelect = (PlainSelect) selectBody;\n            List&lt;SelectItem&gt; selectItems = plainSelect.getSelectItems();\n            for(SelectItem selectItem : selectItems) {\n                fields.add(selectItem.toString());\n            }\n        }\n    }\n    \n    return fields;\n}\n</code></pre>\n"}],"owner":{"account_id":15015686,"reputation":139,"user_id":10838772,"display_name":"Pawan Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":651,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1680715073,"creation_date":1550835385,"question_id":54826242,"body_markdown":"what is the difference between PlainSelect and SetOperationList in jsql parser","title":"PlainSelect and SetOperationList in jsql parser","body":"<p>what is the difference between PlainSelect and SetOperationList in jsql parser</p>\n"},{"tags":["java","eclipse","protocol-buffers"],"comments":[{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1460445846,"post_id":36564953,"comment_id":60732118,"body_markdown":"Maybe this one helps http://stackoverflow.com/questions/4044891/linking-to-generated-java-protobuf-code-in-eclipse","body":"Maybe this one helps <a href=\"http://stackoverflow.com/questions/4044891/linking-to-generated-java-protobuf-code-in-eclipse\" title=\"linking to generated java protobuf code in eclipse\">stackoverflow.com/questions/4044891/&hellip;</a>"},{"owner":{"account_id":7943781,"reputation":41,"user_id":5996905,"display_name":"Noor"},"score":0,"creation_date":1460453415,"post_id":36564953,"comment_id":60737213,"body_markdown":"Thanks for your reply, now I am doing same as generate a java file from outside and link to eclipse but I need to generate the  java file from example.proto file within eclipse, is it possible?","body":"Thanks for your reply, now I am doing same as generate a java file from outside and link to eclipse but I need to generate the  java file from example.proto file within eclipse, is it possible?"},{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":1,"creation_date":1460459351,"post_id":36564953,"comment_id":60741458,"body_markdown":"If your project build is done for example by `Maven` you could create a build step for the `generate` phase and later map this step to the build in eclipse with the `Lifecycle Mappings`.","body":"If your project build is done for example by <code>Maven</code> you could create a build step for the <code>generate</code> phase and later map this step to the build in eclipse with the <code>Lifecycle Mappings</code>."},{"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1478273305,"post_id":36564953,"comment_id":68101084,"body_markdown":"I don&#39;t believe you did thorough search as you can&#39;t tell difference between compiler and recognizing. Protoc is compiler that will generate ..java file, while to recognize you just need an Editor like https://marketplace.eclipse.org/content/minimalist-proto-files-editor-protocol-buffers-and-grpc. See also http://stackoverflow.com/questions/40426366/automatically-generate-java-from-proto-in-eclipse-ide","body":"I don&#39;t believe you did thorough search as you can&#39;t tell difference between compiler and recognizing. Protoc is compiler that will generate ..java file, while to recognize you just need an Editor like <a href=\"https://marketplace.eclipse.org/content/minimalist-proto-files-editor-protocol-buffers-and-grpc\" rel=\"nofollow noreferrer\">marketplace.eclipse.org/content/&hellip;</a>. See also <a href=\"http://stackoverflow.com/questions/40426366/automatically-generate-java-from-proto-in-eclipse-ide\" title=\"automatically generate java from proto in eclipse ide\">stackoverflow.com/questions/40426366/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28130656,"reputation":1,"user_id":21495277,"display_name":"shankar prajapat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680714948,"creation_date":1680714470,"answer_id":75942241,"question_id":36564953,"body_markdown":"Add below plugin in your pom.xml and\r\nput your proto files in **src&gt;main&gt;proto** folder and then right click on ur project **Maven&gt;Update Project...**. After that clean ur project.\r\n\r\n    &lt;plugin&gt;&lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;&lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;&lt;version&gt;1.6.2&lt;/version&gt;&lt;executions&gt;&lt;execution&gt;&lt;phase&gt;initialize&lt;/phase&gt;&lt;goals&gt;&lt;goal&gt;detect&lt;/goal&gt;&lt;/goals&gt;&lt;/execution&gt;&lt;/executions&gt;&lt;/plugin&gt;&lt;plugin&gt;&lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;&lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;&lt;version&gt;0.6.1&lt;/version&gt;&lt;configuration&gt;&lt;protocArtifact&gt;com.google.protobuf:protoc:3.3.0:exe:${os.detected.classifier}&lt;/protocArtifact&gt;&lt;pluginId&gt;grpc-java&lt;/pluginId&gt;&lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.4.0:exe:mac&lt;/pluginArtifact&gt;&lt;/configuration&gt;&lt;executions&gt;&lt;execution&gt;&lt;goals&gt;&lt;goal&gt;compile&lt;/goal&gt;&lt;goal&gt;compile-custom&lt;/goal&gt;&lt;/goals&gt;&lt;/execution&gt;&lt;/executions&gt;&lt;/plugin&gt;","title":"How to generate the java file from .proto file in eclipse","body":"<p>Add below plugin in your pom.xml and\nput your proto files in <strong>src&gt;main&gt;proto</strong> folder and then right click on ur project <strong>Maven&gt;Update Project...</strong>. After that clean ur project.</p>\n<pre><code>&lt;plugin&gt;&lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;&lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;&lt;version&gt;1.6.2&lt;/version&gt;&lt;executions&gt;&lt;execution&gt;&lt;phase&gt;initialize&lt;/phase&gt;&lt;goals&gt;&lt;goal&gt;detect&lt;/goal&gt;&lt;/goals&gt;&lt;/execution&gt;&lt;/executions&gt;&lt;/plugin&gt;&lt;plugin&gt;&lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;&lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;&lt;version&gt;0.6.1&lt;/version&gt;&lt;configuration&gt;&lt;protocArtifact&gt;com.google.protobuf:protoc:3.3.0:exe:${os.detected.classifier}&lt;/protocArtifact&gt;&lt;pluginId&gt;grpc-java&lt;/pluginId&gt;&lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.4.0:exe:mac&lt;/pluginArtifact&gt;&lt;/configuration&gt;&lt;executions&gt;&lt;execution&gt;&lt;goals&gt;&lt;goal&gt;compile&lt;/goal&gt;&lt;goal&gt;compile-custom&lt;/goal&gt;&lt;/goals&gt;&lt;/execution&gt;&lt;/executions&gt;&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":7943781,"reputation":41,"user_id":5996905,"display_name":"Noor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2367,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680714948,"creation_date":1460441760,"question_id":36564953,"body_markdown":"I have added the protoc compiler in my eclipse and now its recognize the .proto files but now I am struck to generate the java file from .proto file in eclipse. I searched so many references but not able to get this information more, if any one knows regarding this please help me advance thank you!!!  ","title":"How to generate the java file from .proto file in eclipse","body":"<p>I have added the protoc compiler in my eclipse and now its recognize the .proto files but now I am struck to generate the java file from .proto file in eclipse. I searched so many references but not able to get this information more, if any one knows regarding this please help me advance thank you!!!  </p>\n"},{"tags":["java","design-patterns","singleton","lazy-loading","inner-classes"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1680708622,"post_id":75941189,"comment_id":133944846,"body_markdown":"Don&#39;t write many questions in one post. Focus only on single problem that you want to get answer.","body":"Don&#39;t write many questions in one post. Focus only on single problem that you want to get answer."},{"owner":{"account_id":28224015,"reputation":29,"user_id":21574317,"display_name":"idash"},"score":0,"creation_date":1680708770,"post_id":75941189,"comment_id":133944917,"body_markdown":"First of all, hello and thank you for your response. By asking multiple questions, I am just trying to detail and  share explicitly my way of thinking. Didnt you just see I said I was new to this ? By downgrading my post, you are just pulling me down and not up","body":"First of all, hello and thank you for your response. By asking multiple questions, I am just trying to detail and  share explicitly my way of thinking. Didnt you just see I said I was new to this ? By downgrading my post, you are just pulling me down and not up"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1680708946,"post_id":75941189,"comment_id":133944974,"body_markdown":"Since you are new here, I recommend you to read [How to ask a question](https://StackOverflow.com/help/how-to-ask).","body":"Since you are new here, I recommend you to read <a href=\"https://StackOverflow.com/help/how-to-ask\">How to ask a question</a>."},{"owner":{"account_id":28224015,"reputation":29,"user_id":21574317,"display_name":"idash"},"score":0,"creation_date":1680709537,"post_id":75941189,"comment_id":133945147,"body_markdown":"@Hulk thank you for your response. Not really, because I dont understand why the LazyHolder class would be created during the method call. In fact the java compiler should normally see that the LazyHolder class is used somewhere in the code, so the compiler, when building  the byte codes, should put some instructions like :&quot; load the LazyHolder class before starting the main execution&quot; ..","body":"@Hulk thank you for your response. Not really, because I dont understand why the LazyHolder class would be created during the method call. In fact the java compiler should normally see that the LazyHolder class is used somewhere in the code, so the compiler, when building  the byte codes, should put some instructions like :&quot; load the LazyHolder class before starting the main execution&quot; .."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1680709967,"post_id":75941189,"comment_id":133945272,"body_markdown":"It&#39;s the opposite.  The Java language specification requires that classes are not loaded until they are used at run time.  So the Java compiler is expressly forbidden from &quot;seeing that the LazyHolder class is used ... load(ing) the LazyHolder class before starting the main execution.&quot;  The JVM is *required* to wait until the class is actually invoked or referenced in some way at run time, then the class is loaded.","body":"It&#39;s the opposite.  The Java language specification requires that classes are not loaded until they are used at run time.  So the Java compiler is expressly forbidden from &quot;seeing that the LazyHolder class is used ... load(ing) the LazyHolder class before starting the main execution.&quot;  The JVM is <i>required</i> to wait until the class is actually invoked or referenced in some way at run time, then the class is loaded."},{"owner":{"account_id":28224015,"reputation":29,"user_id":21574317,"display_name":"idash"},"score":0,"creation_date":1680710255,"post_id":75941189,"comment_id":133945356,"body_markdown":"@markspace oh okay I see now, I didnt know that thank you a lot ! Does it work the same for all compilers like in C/C++, ADA etc. ?","body":"@markspace oh okay I see now, I didnt know that thank you a lot ! Does it work the same for all compilers like in C/C++, ADA etc. ?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":3,"creation_date":1680711232,"post_id":75941189,"comment_id":133945655,"body_markdown":"No, most compilers are the opposite of Java.  Check the language spec of whatever you are using.","body":"No, most compilers are the opposite of Java.  Check the language spec of whatever you are using."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680777459,"post_id":75941189,"comment_id":133956965,"body_markdown":"The duplicate linked by Hulk does answer your question, see the topvoted answer: _&quot;The JVM defers initializing the InstanceHolder class until it is actually used,&quot;_","body":"The duplicate linked by Hulk does answer your question, see the topvoted answer: <i>&quot;The JVM defers initializing the InstanceHolder class until it is actually used,&quot;</i>"}],"owner":{"account_id":28224015,"reputation":29,"user_id":21574317,"display_name":"idash"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1680777468,"answer_count":0,"score":0,"last_activity_date":1680714151,"creation_date":1680707750,"question_id":75941189,"body_markdown":"I am trying to understand the following code snippet that apparently is a lazy-loading example of the `singleton` attribute in the `LazyHolder` class.\r\n\r\n```java\r\nclass Singleton {\r\n  // My private inner class containing my future lazy loading attribute\r\n  private static class LazyHolder {\r\n    private static Singleton singleton = new Singleton();\r\n  }\r\n\r\n  public static Singleton getSingleton() {\r\n    return LazyHolder.singleton;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\nclass Main {\r\n  public static main(String[] args) {\r\n    Singleton s = Singleton.getSingleton();\r\n  }\r\n}\r\n```\r\n\r\nAccording to some online courses I have been following, the `private static singleton` instance will be created at the line:\r\n\r\n\r\n```java\r\nSingleton s = Singleton.getSingleton()\r\n```\r\n\r\nBut since the `singleton` attribute is `static`, I thought it&#39;s created during the `LazyHolder` class definition. So my question is:\r\n\r\nWhen is the `LazyHolder` class really created?\r\n* is it created when the `Singleton` class is created, because `LazyHolder` is an attribute of `Singleton` class, or\r\n* is it created when we enter in the `getSingleton()` method of `Singleton` class?\r\n\r\nI would really appreciate an explanation of what&#39;s happening during the runtime execution.","title":"How does lazy loading variable work using inner classes in Java?","body":"<p>I am trying to understand the following code snippet that apparently is a lazy-loading example of the <code>singleton</code> attribute in the <code>LazyHolder</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Singleton {\n  // My private inner class containing my future lazy loading attribute\n  private static class LazyHolder {\n    private static Singleton singleton = new Singleton();\n  }\n\n  public static Singleton getSingleton() {\n    return LazyHolder.singleton;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n  public static main(String[] args) {\n    Singleton s = Singleton.getSingleton();\n  }\n}\n</code></pre>\n<p>According to some online courses I have been following, the <code>private static singleton</code> instance will be created at the line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Singleton s = Singleton.getSingleton()\n</code></pre>\n<p>But since the <code>singleton</code> attribute is <code>static</code>, I thought it's created during the <code>LazyHolder</code> class definition. So my question is:</p>\n<p>When is the <code>LazyHolder</code> class really created?</p>\n<ul>\n<li>is it created when the <code>Singleton</code> class is created, because <code>LazyHolder</code> is an attribute of <code>Singleton</code> class, or</li>\n<li>is it created when we enter in the <code>getSingleton()</code> method of <code>Singleton</code> class?</li>\n</ul>\n<p>I would really appreciate an explanation of what's happening during the runtime execution.</p>\n"},{"tags":["java","gradle","pmd"],"comments":[{"owner":{"account_id":1153502,"reputation":1700,"user_id":1134715,"display_name":"Joe Seff"},"score":0,"creation_date":1603800624,"post_id":41294499,"comment_id":114145702,"body_markdown":"Just comment them out with //","body":"Just comment them out with //"}],"answers":[{"comments":[{"owner":{"account_id":1008897,"reputation":5355,"user_id":1021915,"accept_rate":72,"display_name":"Liam M"},"score":0,"creation_date":1482461969,"post_id":41294547,"comment_id":69791877,"body_markdown":"thanks for the suggestion, but given the choice I would rather build an xml rules file, rather than mixing grooxy and xml (which would have me rightfully flamed on review!). If that is the only option then I better start rolling that rules file :).","body":"thanks for the suggestion, but given the choice I would rather build an xml rules file, rather than mixing grooxy and xml (which would have me rightfully flamed on review!). If that is the only option then I better start rolling that rules file :)."},{"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":0,"creation_date":1482476529,"post_id":41294547,"comment_id":69795778,"body_markdown":"You can use a `MarkupBuilder` to generate the XML with Groovy code.","body":"You can use a <code>MarkupBuilder</code> to generate the XML with Groovy code."}],"tags":[],"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680714013,"creation_date":1482461285,"answer_id":41294547,"question_id":41294499,"body_markdown":"You don&#39;t have to define the XML in a file, you can define it inline via the incubating [ruleSetConfig](https://docs.gradle.org/current/dsl/org.gradle.api.plugins.quality.PmdExtension.html#org.gradle.api.plugins.quality.PmdExtension:ruleSetConfig) property.\r\n\r\nHere an example in Kotlin DSL:\r\n```kts\r\npmd {\r\n    ruleSetConfig = resources.text.fromString(\r\n        &quot;&quot;&quot;\r\n            &lt;the rule set config here&gt;\r\n        &quot;&quot;&quot;.trimIndent()\r\n    )\r\n}\r\n```","title":"Exclude PMD rule in build.gradle file","body":"<p>You don't have to define the XML in a file, you can define it inline via the incubating <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.plugins.quality.PmdExtension.html#org.gradle.api.plugins.quality.PmdExtension:ruleSetConfig\" rel=\"nofollow noreferrer\">ruleSetConfig</a> property.</p>\n<p>Here an example in Kotlin DSL:</p>\n<pre><code>pmd {\n    ruleSetConfig = resources.text.fromString(\n        &quot;&quot;&quot;\n            &lt;the rule set config here&gt;\n        &quot;&quot;&quot;.trimIndent()\n    )\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21188847,"reputation":17,"user_id":15581690,"display_name":"Abothula Ganesh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1617874888,"creation_date":1617874888,"answer_id":67001360,"question_id":41294499,"body_markdown":"use below snippet in your build.gradle \r\n\r\n    pmd {\r\n        sourceSets = [ project.sourceSets.main ]\r\n        ruleSetFiles = rootProject.files(&quot;codequality/pmd-ruleset.xml&quot;)\r\n        ruleSets = []\r\n    \r\n        pmdMain {\r\n            excludes = [\r\n                    &#39;**/Application.*&#39;\r\n            ]\r\n        }\r\n    }","title":"Exclude PMD rule in build.gradle file","body":"<p>use below snippet in your build.gradle</p>\n<pre><code>pmd {\n    sourceSets = [ project.sourceSets.main ]\n    ruleSetFiles = rootProject.files(&quot;codequality/pmd-ruleset.xml&quot;)\n    ruleSets = []\n\n    pmdMain {\n        excludes = [\n                '**/Application.*'\n        ]\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1008897,"reputation":5355,"user_id":1021915,"accept_rate":72,"display_name":"Liam M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5282,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1680714013,"creation_date":1482460894,"question_id":41294499,"body_markdown":"I&#39;m using Gradle to configure and run PMD over my source code. My build gradle file contains the following configuration for the PMD plugin:\r\n\r\n    pmd {\r\n        ruleSets = [\r\n            &#39;java-android&#39;,\r\n            &#39;java-basic&#39;,\r\n            &#39;java-braces&#39;,\r\n            ...,\r\n            &#39;java-controverial&#39;\r\n        ]\r\n    }\r\n\r\nI&#39;ve have explicity enabled all checks within my build.gradle file and wish to disable those I deem unnecessary as I encounter them. The first rule I wish to disable is the [`UnnecessaryConstructor`](https://pmd.github.io/pmd-5.5.1/pmd-java/rules/java/controversial.html#UnnecessaryConstructor) rule.\r\n\r\nCan I disable this rule from within my build.gradle file, or must I define an xml rules file and disable the rule from within there?","title":"Exclude PMD rule in build.gradle file","body":"<p>I'm using Gradle to configure and run PMD over my source code. My build gradle file contains the following configuration for the PMD plugin:</p>\n\n<pre><code>pmd {\n    ruleSets = [\n        'java-android',\n        'java-basic',\n        'java-braces',\n        ...,\n        'java-controverial'\n    ]\n}\n</code></pre>\n\n<p>I've have explicity enabled all checks within my build.gradle file and wish to disable those I deem unnecessary as I encounter them. The first rule I wish to disable is the <a href=\"https://pmd.github.io/pmd-5.5.1/pmd-java/rules/java/controversial.html#UnnecessaryConstructor\" rel=\"nofollow noreferrer\"><code>UnnecessaryConstructor</code></a> rule.</p>\n\n<p>Can I disable this rule from within my build.gradle file, or must I define an xml rules file and disable the rule from within there?</p>\n"},{"tags":["java","selenium-webdriver","webdriver","testng","web-testing"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1680719532,"post_id":75942040,"comment_id":133947640,"body_markdown":"you could either close the ad, or scroll a bit more (as long as the ad doesn&#39;t follow the element). It may be easier to just close the ad if the exception appears when clicking and then click your original element again. (no need for actions or scrolling... the click() method already scrolls the element into view)  You could also just run a click using javascript, but not a great test case since a user wouldn&#39;t do that.","body":"you could either close the ad, or scroll a bit more (as long as the ad doesn&#39;t follow the element). It may be easier to just close the ad if the exception appears when clicking and then click your original element again. (no need for actions or scrolling... the click() method already scrolls the element into view)  You could also just run a click using javascript, but not a great test case since a user wouldn&#39;t do that."},{"owner":{"account_id":8888464,"reputation":149,"user_id":6635980,"display_name":"Kojer Defor"},"score":0,"creation_date":1680723258,"post_id":75942040,"comment_id":133948423,"body_markdown":"Ty, I&#39;ve decided to zoom out","body":"Ty, I&#39;ve decided to zoom out"}],"owner":{"account_id":8888464,"reputation":149,"user_id":6635980,"display_name":"Kojer Defor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680713579,"creation_date":1680713089,"question_id":75942040,"body_markdown":"I&#39;m trying to click on the element on the main page from site demoQA, but I&#39;m facing issue that google ads block my click. \r\nI&#39;ve already tried to \r\n`moveToElement()` from Actions class and with \r\n\r\n    driver.execute_script(&quot;arguments[0].scrollIntoView();&quot;, element)\r\n\r\nbut it didn&#39;t help. \r\nHow can I locate element to execute the test without hardcode?\r\n\r\n    @BeforeMethod\r\n    public void setUp() {\r\n        WebDriverManager.chromedriver().setup();\r\n        ChromeOptions options = new ChromeOptions().addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        driver = new ChromeDriver(options);\r\n        driver.manage().window().maximize();\r\n        driver.get(&quot;https://demoqa.com/&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void navigateTest() {\r\n        By framesLink = By.xpath(&quot;(//h5[text()=&#39;Alerts, Frame &amp; Windows&#39;])[1]&quot;);\r\n        Actions action = new Actions(driver);\r\n        action.moveToElement(driver.findElement(framesLink), 0, 0);\r\n        driver.findElement(framesLink).click();\r\n    } \r\n\r\n    //element click intercepted:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Q0Bp.png","title":"Move To Element via Actions with Selenium","body":"<p>I'm trying to click on the element on the main page from site demoQA, but I'm facing issue that google ads block my click.\nI've already tried to\n<code>moveToElement()</code> from Actions class and with</p>\n<pre><code>driver.execute_script(&quot;arguments[0].scrollIntoView();&quot;, element)\n</code></pre>\n<p>but it didn't help.\nHow can I locate element to execute the test without hardcode?</p>\n<pre><code>@BeforeMethod\npublic void setUp() {\n    WebDriverManager.chromedriver().setup();\n    ChromeOptions options = new ChromeOptions().addArguments(&quot;--remote-allow-origins=*&quot;);\n    driver = new ChromeDriver(options);\n    driver.manage().window().maximize();\n    driver.get(&quot;https://demoqa.com/&quot;);\n}\n\n@Test\npublic void navigateTest() {\n    By framesLink = By.xpath(&quot;(//h5[text()='Alerts, Frame &amp; Windows'])[1]&quot;);\n    Actions action = new Actions(driver);\n    action.moveToElement(driver.findElement(framesLink), 0, 0);\n    driver.findElement(framesLink).click();\n} \n\n//element click intercepted:\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6Q0Bp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Q0Bp.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","logging","exception-safety","exception-safe"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1680707881,"post_id":75941036,"comment_id":133944615,"body_markdown":"There is pretty much no such thing as &quot;best practice&quot;. People have different opinions about things, especially programmers.","body":"There is pretty much no such thing as &quot;best practice&quot;. People have different opinions about things, especially programmers."}],"answers":[{"comments":[{"owner":{"account_id":482558,"reputation":29193,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":1,"creation_date":1680708918,"post_id":75941360,"comment_id":133944961,"body_markdown":"I was about to write the same. I think logging generally should be simple enough that there should be no need for exception handling.","body":"I was about to write the same. I think logging generally should be simple enough that there should be no need for exception handling."},{"owner":{"account_id":28223914,"reputation":9,"user_id":21574233,"display_name":"Rossomoto"},"score":0,"creation_date":1680722990,"post_id":75941360,"comment_id":133948370,"body_markdown":"Unfortunately, on the projects I work on, this approach is not feasible: there already is a lot of suboptimal code and management mandate the preference. of fast development over quality one, so &quot;doing things the right way&quot; is not a policy I can enforce.&lt;br/&gt;&lt;br/&gt;\n\nAlso, even if I were able to, I wouln&#39;t be able to enforce that policy in the future, when other (usually less experienced people) will take over the code&lt;br/&gt;&lt;br/&gt;\nSo my problem is not &quot;how to do logging correctly&quot; (that is out of the question).\nMy problem is &quot;how to do logging without the logging breaking the application&quot;.","body":"Unfortunately, on the projects I work on, this approach is not feasible: there already is a lot of suboptimal code and management mandate the preference. of fast development over quality one, so &quot;doing things the right way&quot; is not a policy I can enforce.&lt;br/&gt;&lt;br/&gt;  Also, even if I were able to, I wouln&#39;t be able to enforce that policy in the future, when other (usually less experienced people) will take over the code&lt;br/&gt;&lt;br/&gt; So my problem is not &quot;how to do logging correctly&quot; (that is out of the question). My problem is &quot;how to do logging without the logging breaking the application&quot;."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1680865610,"post_id":75941360,"comment_id":133972055,"body_markdown":"So the question is: &quot;I know that my code is poor, how can I make it exception-safe without changing it?&quot;.  Sorry, no solution.","body":"So the question is: &quot;I know that my code is poor, how can I make it exception-safe without changing it?&quot;.  Sorry, no solution."}],"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680708730,"creation_date":1680708730,"answer_id":75941360,"question_id":75941036,"body_markdown":"To be safe don&#39;t log expressions or the result of a method call.  Log plain variables only: primitive types or bean types with a `toString()` generated by your IDE; in the latter case don&#39;t call `toString()` explicitly.","title":"Exception-safe logging in java","body":"<p>To be safe don't log expressions or the result of a method call.  Log plain variables only: primitive types or bean types with a <code>toString()</code> generated by your IDE; in the latter case don't call <code>toString()</code> explicitly.</p>\n"}],"owner":{"account_id":28223914,"reputation":9,"user_id":21574233,"display_name":"Rossomoto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1680717629,"answer_count":1,"score":0,"last_activity_date":1680713443,"creation_date":1680706978,"question_id":75941036,"body_markdown":"I have a (probably) weird question about logging in an exception-safe way in java.\r\n\r\nLet&#39;s say I have this code in java:\r\n\r\n\r\n```java\r\nif (log.isDebugEnabled())\r\n{\r\n    log.debug(...expression...);\r\n}\r\n```\r\n\r\nIs there a best practice for logging `...expression..` in a way that any exception during evaluation doesn&#39;t make my application fail?\r\n\r\n\r\nFor example, I&#39;d like this code to not break my application:\r\n\r\n```java\r\nif (log.isDebugEnabled())\r\n{\r\n    log.debug(&quot;a divided by b is &quot; + (a/b)); // throws an exception if b is zero\r\n}\r\n```\r\n\r\nI can obviously write my own wrapper that uses a lambda function *(something like wrapperLog.debug(()-&gt;&quot;a divided by b is &quot; + (a/b));* but I&#39;d like to know if there is a best practice for these kind of situations.\r\n","title":"Exception-safe logging in java","body":"<p>I have a (probably) weird question about logging in an exception-safe way in java.</p>\n<p>Let's say I have this code in java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (log.isDebugEnabled())\n{\n    log.debug(...expression...);\n}\n</code></pre>\n<p>Is there a best practice for logging <code>...expression..</code> in a way that any exception during evaluation doesn't make my application fail?</p>\n<p>For example, I'd like this code to not break my application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (log.isDebugEnabled())\n{\n    log.debug(&quot;a divided by b is &quot; + (a/b)); // throws an exception if b is zero\n}\n</code></pre>\n<p>I can obviously write my own wrapper that uses a lambda function <em>(something like wrapperLog.debug(()-&gt;&quot;a divided by b is &quot; + (a/b));</em> but I'd like to know if there is a best practice for these kind of situations.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2317394,"reputation":600,"user_id":2034128,"display_name":"etnguyen03"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586380156,"creation_date":1586380156,"answer_id":61110072,"question_id":61110033,"body_markdown":"This is because your `Family` class only has a six-argument constructor requiring all of the six fields to be provided. Your call:\r\n\r\n    Family person = new Family(&quot;CHRIS&quot;, &quot;PEREZ&quot;, 31);\r\n\r\nonly provides three of the six required. You could override the constructor, for instance:\r\n\r\n    public Family(String firstName, String lastName, int age) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.age = age;\r\n        ...\r\n    }\r\n\r\nbut you should do something with the rest of the fields that you didn&#39;t provide here that you provide in the other constructor.","title":"Error The constructor Family(String, String, int) is undefined","body":"<p>This is because your <code>Family</code> class only has a six-argument constructor requiring all of the six fields to be provided. Your call:</p>\n\n<pre><code>Family person = new Family(\"CHRIS\", \"PEREZ\", 31);\n</code></pre>\n\n<p>only provides three of the six required. You could override the constructor, for instance:</p>\n\n<pre><code>public Family(String firstName, String lastName, int age) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.age = age;\n    ...\n}\n</code></pre>\n\n<p>but you should do something with the rest of the fields that you didn't provide here that you provide in the other constructor.</p>\n"},{"comments":[{"owner":{"account_id":17920535,"reputation":53,"user_id":13020524,"display_name":"iampython2134"},"score":0,"creation_date":1586381068,"post_id":61110088,"comment_id":108111760,"body_markdown":"Thank you. I included the rest the parameters but still getting that error.","body":"Thank you. I included the rest the parameters but still getting that error."},{"owner":{"account_id":17920535,"reputation":53,"user_id":13020524,"display_name":"iampython2134"},"score":0,"creation_date":1586382405,"post_id":61110088,"comment_id":108112251,"body_markdown":"Same exact error.  Does it matter i have to different files? a Family and a Main one?","body":"Same exact error.  Does it matter i have to different files? a Family and a Main one?"},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1586382941,"post_id":61110088,"comment_id":108112425,"body_markdown":"So you&#39;re getting an error that says `Family(String, String, int) is undefined` from a line of code that calls the 6-parameter constructor? That&#39;s unlikely. The very least the error is different","body":"So you&#39;re getting an error that says <code>Family(String, String, int) is undefined</code> from a line of code that calls the 6-parameter constructor? That&#39;s unlikely. The very least the error is different"},{"owner":{"account_id":17920535,"reputation":53,"user_id":13020524,"display_name":"iampython2134"},"score":0,"creation_date":1586383423,"post_id":61110088,"comment_id":108112601,"body_markdown":"The constructor Family(String, String, int, String, String, String) is undefined. It added the extra three parameters i was missing.","body":"The constructor Family(String, String, int, String, String, String) is undefined. It added the extra three parameters i was missing."},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1586383729,"post_id":61110088,"comment_id":108112696,"body_markdown":"You&#39;re passing `String` for phone number, like `&quot;(555) 123-456&quot;` but the method declaration has `int` so it can only accept numbers like 555123456. It probably should be string","body":"You&#39;re passing <code>String</code> for phone number, like <code>&quot;(555) 123-456&quot;</code> but the method declaration has <code>int</code> so it can only accept numbers like 555123456. It probably should be string"},{"owner":{"account_id":17920535,"reputation":53,"user_id":13020524,"display_name":"iampython2134"},"score":0,"creation_date":1586383872,"post_id":61110088,"comment_id":108112754,"body_markdown":"Yea i changed that when i replied. I made them all a string except age but didnt make a difference. Im probably making some newbie error somewhere.","body":"Yea i changed that when i replied. I made them all a string except age but didnt make a difference. Im probably making some newbie error somewhere."},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1586384493,"post_id":61110088,"comment_id":108112948,"body_markdown":"Try deleting all compiled class files, it&#39;s possible one of the classes is not getting recompiled despite having changed the source file","body":"Try deleting all compiled class files, it&#39;s possible one of the classes is not getting recompiled despite having changed the source file"}],"tags":[],"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586381544,"creation_date":1586380216,"answer_id":61110088,"question_id":61110033,"body_markdown":"You&#39;re calling the `Family` class constructor like this:\r\n\r\n    Family person = new Family(&quot;CHRIS&quot;, &quot;PEREZ&quot;, 31);\r\n\r\nBut the only constructor in the class is defined like this:\r\n\r\n    public Family(String firstName, String lastName, int age, int phoneNumber,\r\n        String dob, String married) {\r\n\r\nSee that it has more parameters than you&#39;re passing in: `phoneNumber, dob, married`. In Java you have to give values to all parameters:\r\n\r\n    Family person = new Family(&quot;CHRIS&quot;, &quot;PEREZ&quot;, 31, 123456, &quot;5/Apr/1975&quot;, &quot;who&#39;s asking&quot;);\r\n\r\nOr, you need to define a new constructor that needs only firstName, lastName and age.","title":"Error The constructor Family(String, String, int) is undefined","body":"<p>You're calling the <code>Family</code> class constructor like this:</p>\n\n<pre><code>Family person = new Family(\"CHRIS\", \"PEREZ\", 31);\n</code></pre>\n\n<p>But the only constructor in the class is defined like this:</p>\n\n<pre><code>public Family(String firstName, String lastName, int age, int phoneNumber,\n    String dob, String married) {\n</code></pre>\n\n<p>See that it has more parameters than you're passing in: <code>phoneNumber, dob, married</code>. In Java you have to give values to all parameters:</p>\n\n<pre><code>Family person = new Family(\"CHRIS\", \"PEREZ\", 31, 123456, \"5/Apr/1975\", \"who's asking\");\n</code></pre>\n\n<p>Or, you need to define a new constructor that needs only firstName, lastName and age.</p>\n"},{"tags":[],"owner":{"account_id":27366898,"reputation":11,"user_id":20873584,"display_name":"gideb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680713414,"creation_date":1680703311,"answer_id":75940390,"question_id":61110033,"body_markdown":"This can also happen when calling the constructor arguments in the wrong order that you specified them in.","title":"Error The constructor Family(String, String, int) is undefined","body":"<p>This can also happen when calling the constructor arguments in the wrong order that you specified them in.</p>\n"}],"owner":{"account_id":17920535,"reputation":53,"user_id":13020524,"display_name":"iampython2134"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2020,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":61110088,"answer_count":3,"score":-1,"last_activity_date":1680713414,"creation_date":1586380000,"question_id":61110033,"body_markdown":"I am fairly new to Java. I am getting an error &quot;The constructor Family(String, String, int) is undefined&quot;. Im not sure what this means. Need a bit of help here please.\r\n\r\nEDIT: I was missing the extra 3 parameters and also was missing quotes around 31.\r\n\r\nMain.java\r\n\r\n    public class Main {\r\n\t\r\n\r\n    public static void main(String[] args){\r\n        Family person = new Family(&quot;CHRIS&quot;, &quot;PEREZ&quot;, 31);\r\n        String person1 = person.getPerson();\r\n\t\tSystem.out.println(person1);\t\r\n    }\r\n\r\n    }\r\n\r\n\r\nFamily.java\r\n\r\n    public class Family {\r\n\t\r\n\tString firstName;\r\n\tString lastName;\r\n\tint age;\r\n\tint phoneNumber;\r\n\tString dob;\r\n\tString married;\r\n\t\r\n\tpublic Family(String firstName, String lastName, int age, int phoneNumber,\r\n\t\t\tString dob, String married) {\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t\tthis.age = age;\r\n\t\tthis.phoneNumber = phoneNumber;\r\n\t\tthis.dob = dob;\r\n\t\tthis.married =  married;\r\n\t\t\r\n\t\r\n\tpublic String getPerson() {\r\n\t\treturn (&quot;Hi my name is&quot;+this.firstName+&quot; &quot;+ this.lastName+&quot;.&quot;+&quot;I am &quot;+this.age+&quot; years old.&quot;);\r\n\t}\r\n\t\r\n    }\r\n\r\n","title":"Error The constructor Family(String, String, int) is undefined","body":"<p>I am fairly new to Java. I am getting an error \"The constructor Family(String, String, int) is undefined\". Im not sure what this means. Need a bit of help here please.</p>\n\n<p>EDIT: I was missing the extra 3 parameters and also was missing quotes around 31.</p>\n\n<p>Main.java</p>\n\n<pre><code>public class Main {\n\n\npublic static void main(String[] args){\n    Family person = new Family(\"CHRIS\", \"PEREZ\", 31);\n    String person1 = person.getPerson();\n    System.out.println(person1);    \n}\n\n}\n</code></pre>\n\n<p>Family.java</p>\n\n<pre><code>public class Family {\n\nString firstName;\nString lastName;\nint age;\nint phoneNumber;\nString dob;\nString married;\n\npublic Family(String firstName, String lastName, int age, int phoneNumber,\n        String dob, String married) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.age = age;\n    this.phoneNumber = phoneNumber;\n    this.dob = dob;\n    this.married =  married;\n\n\npublic String getPerson() {\n    return (\"Hi my name is\"+this.firstName+\" \"+ this.lastName+\".\"+\"I am \"+this.age+\" years old.\");\n}\n\n}\n</code></pre>\n"},{"tags":["java","arraylist","mouseevent","jlabel","mouselistener"],"comments":[{"owner":{"account_id":2818344,"reputation":10518,"user_id":2422778,"display_name":"Mike Szyndel"},"score":0,"creation_date":1680711029,"post_id":75941718,"comment_id":133945585,"body_markdown":"Welcome to StackOverflow, please take a look at [How to create a Minimal, Reproducible Example\n](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Welcome to StackOverflow, please take a look at [How to create a Minimal, Reproducible Example ](<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>)"},{"owner":{"account_id":10667736,"reputation":909,"user_id":7942383,"display_name":"luckydog32"},"score":0,"creation_date":1680712071,"post_id":75941718,"comment_id":133945898,"body_markdown":"OK cool. So it looks like your square knows when it got clicked on, but it doesn&#39;t know what&#39;s in the rest of the game panel. The GamePanel does though, so the next step is to create a method in GamePanel that Square can call that says &quot;hey I&#39;m square at i/j and I&#39;ve been clicked on. Then from game panel run a &quot;Flood Fill&quot; algorithm. You can Google that term if you get stuck on that part.","body":"OK cool. So it looks like your square knows when it got clicked on, but it doesn&#39;t know what&#39;s in the rest of the game panel. The GamePanel does though, so the next step is to create a method in GamePanel that Square can call that says &quot;hey I&#39;m square at i/j and I&#39;ve been clicked on. Then from game panel run a &quot;Flood Fill&quot; algorithm. You can Google that term if you get stuck on that part."},{"owner":{"account_id":28219078,"reputation":1,"user_id":21570112,"display_name":"c o m a"},"score":0,"creation_date":1680713707,"post_id":75941718,"comment_id":133946306,"body_markdown":"@luckydog32 thanku, i will learn about this algorithm and will update my code later as soon as possible, thank u again for ur advise!","body":"@luckydog32 thanku, i will learn about this algorithm and will update my code later as soon as possible, thank u again for ur advise!"},{"owner":{"account_id":28219078,"reputation":1,"user_id":21570112,"display_name":"c o m a"},"score":0,"creation_date":1680766115,"post_id":75941718,"comment_id":133954451,"body_markdown":"i have complete my code, thank u guys again very muchhh","body":"i have complete my code, thank u guys again very muchhh"}],"owner":{"account_id":28219078,"reputation":1,"user_id":21570112,"display_name":"c o m a"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680713322,"creation_date":1680710799,"question_id":75941718,"body_markdown":"I&#39;m a beginner at Java, here I&#39;m trying to create a Minesweeper game (I still have to learn a lot, so I&#39;m challenging myself by making this game with JLabel, not JButton or any things that is the same kind, by the way, the code is all by myself :&gt; proudly I can say, haha). Anyway, I&#39;m at the part where I need to detect if a slot contains a bomb, or a number, or none. You know, when playing, if you click on a slot that contains nothing, the game will automatically open all the nearby slot (which also contain nothing). My idea is to use MouseAdapter, so I can use MouseEvent.getSource(), or getButton(). But I&#39;m literally stuck! Can someone figure out what do I need to do? It will be very thankful! (and so for my bad English, I&#39;m not a native speaker)\r\n\r\nFirst, I have to inform that I make two package in the same folder, one is for the display, or UI, and one is all the values that connects to the other one.\r\n\r\n(Sorry I don&#39;t have enough reputation! So you would mind click the link to see my image)\r\n\r\n[PACKAGES](https://i.stack.imgur.com/Xcluh.png)\r\n\r\nThis is the &quot;Square&quot; class, which is a JLabel, I want each of the slot inside the game to interact with player&#39;s mouse, so I implement the MouseListener here.\r\n\r\n```java\r\npackage Graphics;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class Square extends JLabel implements MouseListener {\t\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tpublic int squareWidth = 50, squareLength = 50;\r\n\tColor foreGround;\r\n\t\r\n\tColor grass1 = new Color(170, 215, 80);\r\n\tColor grass2 = new Color(165, 210, 75);\r\n\tColor dirt1 = new Color(230, 195, 160);\r\n\tColor dirt2 = new Color(215, 185, 155);\r\n\r\n\tpublic Square(int x, int y, Color fg, Color bg) {\r\n\t\tforeGround = fg;\r\n\t\tthis.setForeground(bg);\r\n\t\tthis.setFont(new Font(&quot;ArcadeClassic&quot;, Font.BOLD, 40));\r\n\t\tthis.setHorizontalAlignment(JLabel.CENTER);\r\n\t\tthis.setPreferredSize(getPreferredSize());\r\n\t\tthis.setBounds(x, y, squareWidth, squareLength);\r\n\t\tthis.setBackground(bg);\r\n\t\tthis.setOpaque(true);\r\n\t\tthis.addMouseListener(this);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseClicked(MouseEvent e) {}\r\n\t@Override\r\n\tpublic void mousePressed(MouseEvent e) {}\r\n\t@Override\r\n\tpublic void mouseReleased(MouseEvent e) {\r\n\t\tthis.setForeground(foreGround);\r\n\t\tif(this.getBackground().getRed() == 170) this.setBackground(dirt1);\r\n\t\tif(this.getBackground().getRed() == 165) this.setBackground(dirt2);\r\n\t\tSystem.out.println(&quot;&quot; + this.getX() + &quot; - &quot;  + this.getY());\r\n\t}\r\n\t@Override\r\n\tpublic void mouseEntered(MouseEvent e) {}\r\n\t@Override\r\n\tpublic void mouseExited(MouseEvent e) {}\r\n\t\r\n}\r\n```\r\n\r\nThis is inside the &quot;GamePanel&quot; class, &quot;extends JPanel&quot;, I&#39;m just trying to initialize a 2-D ArrayList with datatype is Square, set the x-coord, y-coord, background color and foreground color for the slot.\r\n\r\n```java\r\npackage Graphics;\r\n\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\nimport Logics.Field;\r\n\r\npublic class GamePanel extends JPanel {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tColor grass1 = new Color(170, 215, 80);\r\n\tColor grass2 = new Color(165, 210, 75);\r\n\tColor dirt1 = new Color(230, 195, 160);\r\n\tColor dirt2 = new Color(215, 185, 155);\r\n\t\r\n\tint row = 5, col = 5;\r\n\tSquare square[][] = new Square[row][col];\r\n\tField field = new Field(row, col);\r\n\t\r\n\tpublic GamePanel() {\r\n\t\tthis.setBackground(new Color(75, 120, 45));\t\t\r\n\t\tfield.createBomb(3);\r\n\t\tfield.printValue();\t\t\r\n\t\tint x = 20, y = 5;\r\n\t\tint len = 0;\r\n\t\tbyte step = 0;\t\t\r\n\t\tfor(int i = 0; i &lt; row; i++) {\r\n\t\t\tfor(int j = 0; j &lt; col; j++) {\r\n\t\t\t\tColor temp = null;\r\n\t\t\t\tswitch(field.getValue(i, j)) {\r\n\t\t\t\t\tcase 1: {\r\n\t\t\t\t\t\ttemp = Color.blue; break;}\r\n\t\t\t\t\tcase 2: {\r\n\t\t\t\t\t\ttemp = new Color(75, 120, 45); break;}\r\n\t\t\t\t\tcase 3: {\r\n\t\t\t\t\t\ttemp = Color.red; break;}\r\n\t\t\t\t\tcase 4: {\r\n\t\t\t\t\t\ttemp = new Color(125, 30, 165); break;}\r\n\t\t\t\t\tcase 5: {\r\n\t\t\t\t\t\ttemp = new Color(255, 145, 0); break;}\r\n\t\t\t\t\tcase 6: {\r\n\t\t\t\t\t\ttemp = new Color(0, 150, 170); break;}}\r\n\t\t\t\tif(step == 0) {\r\n\t\t\t\t\tsquare[i][j] = new Square(x, y, temp, grass1);\r\n\t\t\t\t\tstep = 1;}\r\n\t\t\t\telse {\r\n\t\t\t\t\tsquare[i][j] = new Square(x, y, temp, grass2);\r\n\t\t\t\t\tstep = 0;}\r\n\t\t\t\tthis.add(square[i][j]);\r\n\t\t\t\tx += square[i][j].squareWidth;\r\n\t\t\t\tlen = square[i][j].squareLength;}\r\n\t\t\ty += len;\r\n\t\t\tx = 20;}\r\n\t\tthis.setSquareText();\r\n\t\tthis.setLayout(null);\r\n\t}\r\n\t\r\n\tpublic void setSquareText() {\r\n\t\tfor(int i = 0; i &lt; row; i++) {\r\n\t\t\tfor(int j = 0; j &lt; col; j++) {\r\n\t\t\t\tif(field.getValue(i, j) == 0) square[i][j].setText(&quot;&quot;);\r\n\t\t\t\telse if(field.getValue(i, j) == -1) square[i][j].setText(&quot;x&quot;);\r\n\t\t\t\telse square[i][j].setText(Integer.toString(field.getValue(i, j)));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nIf needed, I will capture the Logics package for you guys! (Sorry if the code is hard to watch, I have to shorten it down so that I can capture it!)","title":"Is there a way to detect a mouse action which is a &quot;isReleased&quot; on a JLabel?","body":"<p>I'm a beginner at Java, here I'm trying to create a Minesweeper game (I still have to learn a lot, so I'm challenging myself by making this game with JLabel, not JButton or any things that is the same kind, by the way, the code is all by myself :&gt; proudly I can say, haha). Anyway, I'm at the part where I need to detect if a slot contains a bomb, or a number, or none. You know, when playing, if you click on a slot that contains nothing, the game will automatically open all the nearby slot (which also contain nothing). My idea is to use MouseAdapter, so I can use MouseEvent.getSource(), or getButton(). But I'm literally stuck! Can someone figure out what do I need to do? It will be very thankful! (and so for my bad English, I'm not a native speaker)</p>\n<p>First, I have to inform that I make two package in the same folder, one is for the display, or UI, and one is all the values that connects to the other one.</p>\n<p>(Sorry I don't have enough reputation! So you would mind click the link to see my image)</p>\n<p><a href=\"https://i.stack.imgur.com/Xcluh.png\" rel=\"nofollow noreferrer\">PACKAGES</a></p>\n<p>This is the &quot;Square&quot; class, which is a JLabel, I want each of the slot inside the game to interact with player's mouse, so I implement the MouseListener here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Graphics;\n\nimport java.awt.*;\nimport java.awt.event.*;\n\nimport javax.swing.*;\n\npublic class Square extends JLabel implements MouseListener {   \n    \n    private static final long serialVersionUID = 1L;\n    \n    public int squareWidth = 50, squareLength = 50;\n    Color foreGround;\n    \n    Color grass1 = new Color(170, 215, 80);\n    Color grass2 = new Color(165, 210, 75);\n    Color dirt1 = new Color(230, 195, 160);\n    Color dirt2 = new Color(215, 185, 155);\n\n    public Square(int x, int y, Color fg, Color bg) {\n        foreGround = fg;\n        this.setForeground(bg);\n        this.setFont(new Font(&quot;ArcadeClassic&quot;, Font.BOLD, 40));\n        this.setHorizontalAlignment(JLabel.CENTER);\n        this.setPreferredSize(getPreferredSize());\n        this.setBounds(x, y, squareWidth, squareLength);\n        this.setBackground(bg);\n        this.setOpaque(true);\n        this.addMouseListener(this);\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {}\n    @Override\n    public void mousePressed(MouseEvent e) {}\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        this.setForeground(foreGround);\n        if(this.getBackground().getRed() == 170) this.setBackground(dirt1);\n        if(this.getBackground().getRed() == 165) this.setBackground(dirt2);\n        System.out.println(&quot;&quot; + this.getX() + &quot; - &quot;  + this.getY());\n    }\n    @Override\n    public void mouseEntered(MouseEvent e) {}\n    @Override\n    public void mouseExited(MouseEvent e) {}\n    \n}\n</code></pre>\n<p>This is inside the &quot;GamePanel&quot; class, &quot;extends JPanel&quot;, I'm just trying to initialize a 2-D ArrayList with datatype is Square, set the x-coord, y-coord, background color and foreground color for the slot.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Graphics;\n\nimport java.awt.*;\nimport javax.swing.*;\n\nimport Logics.Field;\n\npublic class GamePanel extends JPanel {\n\n    private static final long serialVersionUID = 1L;\n    \n    Color grass1 = new Color(170, 215, 80);\n    Color grass2 = new Color(165, 210, 75);\n    Color dirt1 = new Color(230, 195, 160);\n    Color dirt2 = new Color(215, 185, 155);\n    \n    int row = 5, col = 5;\n    Square square[][] = new Square[row][col];\n    Field field = new Field(row, col);\n    \n    public GamePanel() {\n        this.setBackground(new Color(75, 120, 45));     \n        field.createBomb(3);\n        field.printValue();     \n        int x = 20, y = 5;\n        int len = 0;\n        byte step = 0;      \n        for(int i = 0; i &lt; row; i++) {\n            for(int j = 0; j &lt; col; j++) {\n                Color temp = null;\n                switch(field.getValue(i, j)) {\n                    case 1: {\n                        temp = Color.blue; break;}\n                    case 2: {\n                        temp = new Color(75, 120, 45); break;}\n                    case 3: {\n                        temp = Color.red; break;}\n                    case 4: {\n                        temp = new Color(125, 30, 165); break;}\n                    case 5: {\n                        temp = new Color(255, 145, 0); break;}\n                    case 6: {\n                        temp = new Color(0, 150, 170); break;}}\n                if(step == 0) {\n                    square[i][j] = new Square(x, y, temp, grass1);\n                    step = 1;}\n                else {\n                    square[i][j] = new Square(x, y, temp, grass2);\n                    step = 0;}\n                this.add(square[i][j]);\n                x += square[i][j].squareWidth;\n                len = square[i][j].squareLength;}\n            y += len;\n            x = 20;}\n        this.setSquareText();\n        this.setLayout(null);\n    }\n    \n    public void setSquareText() {\n        for(int i = 0; i &lt; row; i++) {\n            for(int j = 0; j &lt; col; j++) {\n                if(field.getValue(i, j) == 0) square[i][j].setText(&quot;&quot;);\n                else if(field.getValue(i, j) == -1) square[i][j].setText(&quot;x&quot;);\n                else square[i][j].setText(Integer.toString(field.getValue(i, j)));\n            }\n        }\n    }\n    \n}\n</code></pre>\n<p>If needed, I will capture the Logics package for you guys! (Sorry if the code is hard to watch, I have to shorten it down so that I can capture it!)</p>\n"},{"tags":["python","java","json","mongodb","gridfs"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680713601,"post_id":75941480,"comment_id":133946283,"body_markdown":"Are you really Java serialization and writing to MongoDB with that? Don&#39;t do that. Java serialization is specific to Java, it is not generic. Why aren&#39;t you writing `list.toJSONString()` directly to MongoDB instead?","body":"Are you really Java serialization and writing to MongoDB with that? Don&#39;t do that. Java serialization is specific to Java, it is not generic. Why aren&#39;t you writing <code>list.toJSONString()</code> directly to MongoDB instead?"},{"owner":{"account_id":3078546,"reputation":687,"user_id":2607331,"accept_rate":55,"display_name":"Tushar Saurabh"},"score":0,"creation_date":1680720008,"post_id":75941480,"comment_id":133947745,"body_markdown":"@MarkRotteveel - Thanks for your response. I had a doubt that Java serialization is specific to Java,  but tutorialspoint mentions it as &quot;JVM independent&quot;. Java doc also doesnt mention anything, hence I thought I am doing it wrong. Any way, thanks for confirming. I tried and tested what you said and output is as expected. Thanks again!!","body":"@MarkRotteveel - Thanks for your response. I had a doubt that Java serialization is specific to Java,  but tutorialspoint mentions it as &quot;JVM independent&quot;. Java doc also doesnt mention anything, hence I thought I am doing it wrong. Any way, thanks for confirming. I tried and tested what you said and output is as expected. Thanks again!!"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680766637,"post_id":75941480,"comment_id":133954553,"body_markdown":"&quot;JVM independent&quot; means that you can serialize from one JVM to another JVM, even between different JVM versions and released by different vendors. JVM stands for Java Virtual Machine. Java serialization is a binary protocol, which is what trips you up now. Of course, in theory, you could deserialize in a different language, but then you need to write a deserializer which implements the right binary processing, and you didn&#39;t (and there are additional issues even then). If you want to serialize between platforms, you need to use a generic serialization format (e.g. XML, JSON, protobuf, etc).","body":"&quot;JVM independent&quot; means that you can serialize from one JVM to another JVM, even between different JVM versions and released by different vendors. JVM stands for Java Virtual Machine. Java serialization is a binary protocol, which is what trips you up now. Of course, in theory, you could deserialize in a different language, but then you need to write a deserializer which implements the right binary processing, and you didn&#39;t (and there are additional issues even then). If you want to serialize between platforms, you need to use a generic serialization format (e.g. XML, JSON, protobuf, etc)."}],"owner":{"account_id":3078546,"reputation":687,"user_id":2607331,"accept_rate":55,"display_name":"Tushar Saurabh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680713152,"creation_date":1680709424,"question_id":75941480,"body_markdown":"Context - On daily basis application log files are generated for external REST calls. I am trying to parse the log files and extract information related to external REST call. The information extracted are StartTime of Rest Call, EndTime when response was received, payloads etc. This information is collected and collated for a particular session in a waterfall diagram so as to visualize how much time is spent in each call.\r\n\r\nProblem - For one of the log files, the collated information for a particular session is more than 16MB and hence I have to use GridFS. The REST call information is collected in a custom object. I serialised the object and uploaded to GridFS. On Jupyter Notebook, I am extracting the data, however the data has some additional characters. In the below example, I have converted the object to a string (idea was to use json.loads in Python), but when I extract in Python, I get the following.\r\n\r\nExtraction:\r\n```python\r\nimport javaobj.v2 as javaobj\r\npObj = javaobj.loads(fs.get(record[&#39;calls&#39;]).read())\r\npObj.dump()\r\n```\r\n\r\nThe output of dump instruction is:\r\n\r\n```none\r\n&#39;[String 7e0000: \\&#39;[{&quot;tokenId&quot;:&quot;a6fc52b3-0c60-4332-b866-09f3fe8b243f&quot;,&quot;responseTime&quot;:540.2587,&quot;requestPayload&quot;:null,&quot;responsePayload&quot;:&quot;{\\\\\\\\&quot;Identifiers\\\\\\\\&quot;:[{\\\\\\\\&quot;Name\\\\\\\\&quot;:\\\\\\\\&quot;XXXX MANAGEMENT LLC-CISA\\\\\\\\&quot;,\\\\\\\\&quot;Number\\\\\\\\&quot;:\\\\\\\\&quot;0012345\\\\\\\\&quot;,\\\\\\\\&quot;SubNumber\\\\\\\\&quot;:\\\\\\\\&quot;00099\\\\\\\\&quot;,\\\\\\\\&quot;Sourceode\\\\\\\\&quot;:null,\\\\\\\\&quot;SourceGroups\\\\\\\\&quot;:null,\\\\\\\\&quot;IsPrimary\\\\\\\\&quot;:false}],\\\\\\\\&quot;serviceConsumerId\\\\\\\\&quot;:\\\\\\\\&quot;YYY\\\\\\\\&quot;,\\\\\\\\&quot;serviceConsumerSystemId\\\\\\\\&quot;:\\\\\\\\&quot;001\\\\\\\\&quot;,\\\\\\\\&quot;service ....\r\n```\r\nThe string has too many slash as escape character, then it starts with text &quot;String 7e0000&quot;. Obviously json.loads in Python will fail.\r\n\r\nBelow is the code that I used to serialize the object and store: \r\n\r\nMethod to convert the custom object to String\r\n\r\n```java\r\npublic static String convertToString(ArrayList&lt;LogStructure&gt; logs){\r\n    StringBuilder sBuilder = new StringBuilder();\r\n    sBuilder.append(&quot;[&quot;);\r\n    for (LogStructure log: logs){\r\n        sBuilder.append(getString(log));\r\n        sBuilder.append(&quot;,&quot;);\r\n    }\r\n    return sBuilder.toString();\r\n}\r\n\r\npublic static String getString(LogStructure log){\r\n    StringBuilder sBuilder = new StringBuilder();\r\n    sBuilder.append(&quot;{logLevel:&quot;);\r\n    sBuilder.append(log.logLevel);\r\n    sBuilder.append(&quot;,logInjestionDateTime:&quot;);\r\n    sBuilder.append(log.logInjestionDateTime);\r\n    sBuilder.append(&quot;,serverName:&quot;);\r\n    sBuilder.append(log.serverName);\r\n\r\n    sBuilder.append(&quot;,serviceName:&quot;);\r\n    sBuilder.append(log.serviceName);\r\n\r\n    sBuilder.append(&quot;,serviceEndPoint:&quot;);\r\n    sBuilder.append(log.serviceEndPoint);\r\n\r\n    sBuilder.append(&quot;,startTime:&quot;);\r\n    sBuilder.append(log.startTime);\r\n\r\n    sBuilder.append(&quot;,endTime:&quot;);\r\n    sBuilder.append(log.endTime);\r\n\r\n    sBuilder.append(&quot;,responseTime:&quot;);\r\n    sBuilder.append(log.responseTime);\r\n\r\n    sBuilder.append(&quot;,message:&quot;);\r\n    sBuilder.append(log.message);\r\n\r\n    sBuilder.append(&quot;,endTime:&quot;);\r\n    sBuilder.append(log.endTime);\r\n\r\n    sBuilder.append(&quot;,requestId:&quot;);\r\n    sBuilder.append(log.requestId);\r\n\r\n    sBuilder.append(&quot;,tokenId:&quot;);\r\n    sBuilder.append(log.tokenId);\r\n\r\n    sBuilder.append(&quot;,userId:&quot;);\r\n    sBuilder.append(log.userId);\r\n\r\n    sBuilder.append(&quot;,requestPayload:&quot;);\r\n    sBuilder.append(log.requestPayload);\r\n\r\n    sBuilder.append(&quot;,responsePayload:&quot;);\r\n    sBuilder.append(log.responsePayload);\r\n\r\n    sBuilder.append(&quot;,payloadType:&quot;);\r\n    sBuilder.append(log.payloadType);\r\n    sBuilder.append(&quot;}&quot;);\r\n\r\n    return sBuilder.toString();\r\n}\r\n```\r\n\r\nUpload to GridFs in App.java\r\n\r\n\r\n```\r\nJSONArray list = new JSONArray();\r\nfor(LogStructure temp: tempObject){\r\n    totalCalls++;\r\n    JSONObject obj = new JSONObject();\r\n    //BasicDBObject basicDBObject = new BasicDBObject();\r\n    obj.put(&quot;logLevel&quot;, temp.logLevel);\r\n    obj.put(&quot;logInjestionDateTime&quot;, temp.logInjestionDateTime);\r\n    obj.put(&quot;serverName&quot;, temp.serverName);\r\n    obj.put(&quot;serviceName&quot;, temp.serviceName);\r\n    obj.put(&quot;serviceEndPoint&quot;, temp.serviceEndPoint);\r\n    obj.put(&quot;startTime&quot;, temp.startTime);\r\n    obj.put(&quot;endTime&quot;, temp.endTime);\r\n    obj.put(&quot;responseTime&quot;, temp.responseTime);\r\n    obj.put(&quot;message&quot;, temp.message);\r\n    obj.put(&quot;requestId&quot;, temp.requestId);\r\n    obj.put(&quot;tokenId&quot;, temp.tokenId);\r\n    obj.put(&quot;requestPayload&quot;, temp.requestPayload);\r\n    obj.put(&quot;responsePayload&quot;, temp.responsePayload);\r\n    obj.put(&quot;payloadType&quot;, temp.payloadType);\r\n    list.add(obj);\r\n}\r\n\r\nByteArrayOutputStream baos = new ByteArrayOutputStream();\r\nObjectOutputStream oos;\r\ntry {\r\n     oos = new ObjectOutputStream(baos);\r\n     oos.writeObject(list.toJSONString());\r\n     oos.flush();\r\n     oos.close();\r\n} catch (IOException e) {\r\n    // TODO Auto-generated catch block\r\n    e.printStackTrace();\r\n}\r\nInputStream is = new ByteArrayInputStream(baos.toByteArray());\r\n// ObjectOutputStream is = new ObjectOutputStream(null);\r\n                       \r\n\r\nGridFSBucket gridFSBucket = mongo.getGridFsBucket(mDb, &quot;Logs&quot;);\r\nObjectId objectId = mongo.uploadToGrid(is, gridFSBucket);\r\ndoc.append(&quot;totalCalls&quot;, totalCalls);\r\ndoc.append(&quot;calls&quot;, objectId);\r\nmongo.insertDocument(mCollection, doc);\r\n```\r\n\r\nI referred to the below links to understand about GridFs and serialization of object.\r\n\r\nhttps://mongodb.github.io/mongo-java-driver/3.5/driver/tutorials/gridfs/\r\nhttps://howtodoinjava.com/java/serialization/custom-serialization-readobject-writeobject/\r\nhttps://www.baeldung.com/java-serialization\r\n\r\nCurrently, the way Java is storing in MongoDB and extracting it, has some specific texts related to Java. For example, the first attempt was to serialize the ArrayList object as it is, however when I extracted the data in python, the string had &quot;System.*.ArrayList&quot;. Then I tried storing the data as JsonObject using simple.json library. Default serialization had object&#39;s memory address. Then I used toJsonString method and tried to save as string expecting that the final string will be of pattern \r\n\r\n&gt; &quot;{\\&quot;key\\&quot;: [{\\&quot;key1\\&quot;:value},{\\&quot;key2\\&quot;:value}]}&quot;\r\n\r\nThis will allow me to use json.loads function and get a dictionary.\r\n\r\n","title":"Writing large objects in MongoDB&#39;s GridFS &amp; extracting it in Python","body":"<p>Context - On daily basis application log files are generated for external REST calls. I am trying to parse the log files and extract information related to external REST call. The information extracted are StartTime of Rest Call, EndTime when response was received, payloads etc. This information is collected and collated for a particular session in a waterfall diagram so as to visualize how much time is spent in each call.</p>\n<p>Problem - For one of the log files, the collated information for a particular session is more than 16MB and hence I have to use GridFS. The REST call information is collected in a custom object. I serialised the object and uploaded to GridFS. On Jupyter Notebook, I am extracting the data, however the data has some additional characters. In the below example, I have converted the object to a string (idea was to use json.loads in Python), but when I extract in Python, I get the following.</p>\n<p>Extraction:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import javaobj.v2 as javaobj\npObj = javaobj.loads(fs.get(record['calls']).read())\npObj.dump()\n</code></pre>\n<p>The output of dump instruction is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>'[String 7e0000: \\'[{&quot;tokenId&quot;:&quot;a6fc52b3-0c60-4332-b866-09f3fe8b243f&quot;,&quot;responseTime&quot;:540.2587,&quot;requestPayload&quot;:null,&quot;responsePayload&quot;:&quot;{\\\\\\\\&quot;Identifiers\\\\\\\\&quot;:[{\\\\\\\\&quot;Name\\\\\\\\&quot;:\\\\\\\\&quot;XXXX MANAGEMENT LLC-CISA\\\\\\\\&quot;,\\\\\\\\&quot;Number\\\\\\\\&quot;:\\\\\\\\&quot;0012345\\\\\\\\&quot;,\\\\\\\\&quot;SubNumber\\\\\\\\&quot;:\\\\\\\\&quot;00099\\\\\\\\&quot;,\\\\\\\\&quot;Sourceode\\\\\\\\&quot;:null,\\\\\\\\&quot;SourceGroups\\\\\\\\&quot;:null,\\\\\\\\&quot;IsPrimary\\\\\\\\&quot;:false}],\\\\\\\\&quot;serviceConsumerId\\\\\\\\&quot;:\\\\\\\\&quot;YYY\\\\\\\\&quot;,\\\\\\\\&quot;serviceConsumerSystemId\\\\\\\\&quot;:\\\\\\\\&quot;001\\\\\\\\&quot;,\\\\\\\\&quot;service ....\n</code></pre>\n<p>The string has too many slash as escape character, then it starts with text &quot;String 7e0000&quot;. Obviously json.loads in Python will fail.</p>\n<p>Below is the code that I used to serialize the object and store:</p>\n<p>Method to convert the custom object to String</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String convertToString(ArrayList&lt;LogStructure&gt; logs){\n    StringBuilder sBuilder = new StringBuilder();\n    sBuilder.append(&quot;[&quot;);\n    for (LogStructure log: logs){\n        sBuilder.append(getString(log));\n        sBuilder.append(&quot;,&quot;);\n    }\n    return sBuilder.toString();\n}\n\npublic static String getString(LogStructure log){\n    StringBuilder sBuilder = new StringBuilder();\n    sBuilder.append(&quot;{logLevel:&quot;);\n    sBuilder.append(log.logLevel);\n    sBuilder.append(&quot;,logInjestionDateTime:&quot;);\n    sBuilder.append(log.logInjestionDateTime);\n    sBuilder.append(&quot;,serverName:&quot;);\n    sBuilder.append(log.serverName);\n\n    sBuilder.append(&quot;,serviceName:&quot;);\n    sBuilder.append(log.serviceName);\n\n    sBuilder.append(&quot;,serviceEndPoint:&quot;);\n    sBuilder.append(log.serviceEndPoint);\n\n    sBuilder.append(&quot;,startTime:&quot;);\n    sBuilder.append(log.startTime);\n\n    sBuilder.append(&quot;,endTime:&quot;);\n    sBuilder.append(log.endTime);\n\n    sBuilder.append(&quot;,responseTime:&quot;);\n    sBuilder.append(log.responseTime);\n\n    sBuilder.append(&quot;,message:&quot;);\n    sBuilder.append(log.message);\n\n    sBuilder.append(&quot;,endTime:&quot;);\n    sBuilder.append(log.endTime);\n\n    sBuilder.append(&quot;,requestId:&quot;);\n    sBuilder.append(log.requestId);\n\n    sBuilder.append(&quot;,tokenId:&quot;);\n    sBuilder.append(log.tokenId);\n\n    sBuilder.append(&quot;,userId:&quot;);\n    sBuilder.append(log.userId);\n\n    sBuilder.append(&quot;,requestPayload:&quot;);\n    sBuilder.append(log.requestPayload);\n\n    sBuilder.append(&quot;,responsePayload:&quot;);\n    sBuilder.append(log.responsePayload);\n\n    sBuilder.append(&quot;,payloadType:&quot;);\n    sBuilder.append(log.payloadType);\n    sBuilder.append(&quot;}&quot;);\n\n    return sBuilder.toString();\n}\n</code></pre>\n<p>Upload to GridFs in App.java</p>\n<pre><code>JSONArray list = new JSONArray();\nfor(LogStructure temp: tempObject){\n    totalCalls++;\n    JSONObject obj = new JSONObject();\n    //BasicDBObject basicDBObject = new BasicDBObject();\n    obj.put(&quot;logLevel&quot;, temp.logLevel);\n    obj.put(&quot;logInjestionDateTime&quot;, temp.logInjestionDateTime);\n    obj.put(&quot;serverName&quot;, temp.serverName);\n    obj.put(&quot;serviceName&quot;, temp.serviceName);\n    obj.put(&quot;serviceEndPoint&quot;, temp.serviceEndPoint);\n    obj.put(&quot;startTime&quot;, temp.startTime);\n    obj.put(&quot;endTime&quot;, temp.endTime);\n    obj.put(&quot;responseTime&quot;, temp.responseTime);\n    obj.put(&quot;message&quot;, temp.message);\n    obj.put(&quot;requestId&quot;, temp.requestId);\n    obj.put(&quot;tokenId&quot;, temp.tokenId);\n    obj.put(&quot;requestPayload&quot;, temp.requestPayload);\n    obj.put(&quot;responsePayload&quot;, temp.responsePayload);\n    obj.put(&quot;payloadType&quot;, temp.payloadType);\n    list.add(obj);\n}\n\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nObjectOutputStream oos;\ntry {\n     oos = new ObjectOutputStream(baos);\n     oos.writeObject(list.toJSONString());\n     oos.flush();\n     oos.close();\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\nInputStream is = new ByteArrayInputStream(baos.toByteArray());\n// ObjectOutputStream is = new ObjectOutputStream(null);\n                       \n\nGridFSBucket gridFSBucket = mongo.getGridFsBucket(mDb, &quot;Logs&quot;);\nObjectId objectId = mongo.uploadToGrid(is, gridFSBucket);\ndoc.append(&quot;totalCalls&quot;, totalCalls);\ndoc.append(&quot;calls&quot;, objectId);\nmongo.insertDocument(mCollection, doc);\n</code></pre>\n<p>I referred to the below links to understand about GridFs and serialization of object.</p>\n<p><a href=\"https://mongodb.github.io/mongo-java-driver/3.5/driver/tutorials/gridfs/\" rel=\"nofollow noreferrer\">https://mongodb.github.io/mongo-java-driver/3.5/driver/tutorials/gridfs/</a>\n<a href=\"https://howtodoinjava.com/java/serialization/custom-serialization-readobject-writeobject/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java/serialization/custom-serialization-readobject-writeobject/</a>\n<a href=\"https://www.baeldung.com/java-serialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-serialization</a></p>\n<p>Currently, the way Java is storing in MongoDB and extracting it, has some specific texts related to Java. For example, the first attempt was to serialize the ArrayList object as it is, however when I extracted the data in python, the string had &quot;System.*.ArrayList&quot;. Then I tried storing the data as JsonObject using simple.json library. Default serialization had object's memory address. Then I used toJsonString method and tried to save as string expecting that the final string will be of pattern</p>\n<blockquote>\n<p>&quot;{&quot;key&quot;: [{&quot;key1&quot;:value},{&quot;key2&quot;:value}]}&quot;</p>\n</blockquote>\n<p>This will allow me to use json.loads function and get a dictionary.</p>\n"},{"tags":["java","string","substring"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680636564,"creation_date":1680636564,"answer_id":75933141,"question_id":75933114,"body_markdown":"Regex to the rescue:\r\n\r\n    String start = sentence.replaceAll(&quot;(?&lt;=Administrator).*&quot;, &quot;&quot;);\r\n\r\nThis works by matching everything after `Administrator` and replacing it with nothing (effectively &quot;deleting&quot; it).\r\n\r\nThe key part of the regex is the look behind `(?&lt;=Administrator)`, which matches immediately after `Administrator` - *between* the `r` and the space.\r\n","title":"Java - How to extract a substring from start until the end of a particular word in a string?","body":"<p>Regex to the rescue:</p>\n<pre><code>String start = sentence.replaceAll(&quot;(?&lt;=Administrator).*&quot;, &quot;&quot;);\n</code></pre>\n<p>This works by matching everything after <code>Administrator</code> and replacing it with nothing (effectively &quot;deleting&quot; it).</p>\n<p>The key part of the regex is the look behind <code>(?&lt;=Administrator)</code>, which matches immediately after <code>Administrator</code> - <em>between</em> the <code>r</code> and the space.</p>\n"},{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1680640103,"post_id":75933149,"comment_id":133931920,"body_markdown":"This isn&#39;t really helpful because you don&#39;t explain how to choose the `21` - if you&#39;re going to have a hard-coded value, you may as well just hard-code `&quot;I am an Administrator&quot;`, because at least you can easily see what that means. You should explain how to choose the 21 at runtime.","body":"This isn&#39;t really helpful because you don&#39;t explain how to choose the <code>21</code> - if you&#39;re going to have a hard-coded value, you may as well just hard-code <code>&quot;I am an Administrator&quot;</code>, because at least you can easily see what that means. You should explain how to choose the 21 at runtime."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681040048,"post_id":75933149,"comment_id":133992136,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75933149/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24155011,"reputation":31,"user_id":18119367,"display_name":"kerolos William"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680636607,"creation_date":1680636607,"answer_id":75933149,"question_id":75933114,"body_markdown":"use substring method \r\nex \r\nString s = &quot;hello&quot;\r\n\r\n    s.substring(0,2)\r\n\r\noutput = he\r\nin your example it will be \r\n\r\n    sentence.substring(0,21)\r\n\r\n","title":"Java - How to extract a substring from start until the end of a particular word in a string?","body":"<p>use substring method\nex\nString s = &quot;hello&quot;</p>\n<pre><code>s.substring(0,2)\n</code></pre>\n<p>output = he\nin your example it will be</p>\n<pre><code>sentence.substring(0,21)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1680636838,"post_id":75933173,"comment_id":133931181,"body_markdown":"(Except with `&quot;` instead of smart quotes)","body":"(Except with <code>&quot;</code> instead of smart quotes)"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680636896,"creation_date":1680636781,"answer_id":75933173,"question_id":75933114,"body_markdown":"`indexOf` is what you need. Try:\r\n\r\n    sentence.substring(0, sentence.indexOf(“Administrator”) + ”Administrator”.length())","title":"Java - How to extract a substring from start until the end of a particular word in a string?","body":"<p><code>indexOf</code> is what you need. Try:</p>\n<pre><code>sentence.substring(0, sentence.indexOf(“Administrator”) + ”Administrator”.length())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680637325,"creation_date":1680637325,"answer_id":75933231,"question_id":75933114,"body_markdown":"You can use `String#indexOf(str:String):int` in various ways to grab parts of string efficiently.\r\n\r\n```java\r\npublic class StringUtils {\r\n    public static final String sentence = &quot;I am an Administrator of my building&quot;;\r\n    public static final String term = &quot;Administrator&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        // &quot;I am an Administrator&quot;\r\n        System.out.println(headStringInclusive(sentence, term));\r\n\r\n        // &quot;Administrator of my building&quot;\r\n        System.out.println(tailStringInclusive(sentence, term));\r\n\r\n        // &quot;I am an &quot;\r\n        System.out.println(headStringExclusive(sentence, term));\r\n\r\n        // &quot; of my building&quot;\r\n        System.out.println(tailStringExclusive(sentence, term));\r\n    }\r\n\r\n    public static String headStringInclusive(String str, String term) {\r\n        int index = str.indexOf(term);\r\n        return index != -1 ? str.substring(0, index + term.length()) : str;\r\n    }\r\n\r\n    public static String tailStringInclusive(String str, String term) {\r\n        int index = str.lastIndexOf(term);\r\n        return index != -1 ? str.substring(index) : str;\r\n    }\r\n\r\n    public static String headStringExclusive(String str, String term) {\r\n        int index = str.indexOf(term);\r\n        return index != -1 ? str.substring(0, index) : str;\r\n    }\r\n\r\n    public static String tailStringExclusive(String str, String term) {\r\n        int index = str.lastIndexOf(term);\r\n        return index != -1 ? str.substring(index + term.length()) : str;\r\n    }\r\n}\r\n\r\n```","title":"Java - How to extract a substring from start until the end of a particular word in a string?","body":"<p>You can use <code>String#indexOf(str:String):int</code> in various ways to grab parts of string efficiently.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringUtils {\n    public static final String sentence = &quot;I am an Administrator of my building&quot;;\n    public static final String term = &quot;Administrator&quot;;\n\n    public static void main(String[] args) {\n        // &quot;I am an Administrator&quot;\n        System.out.println(headStringInclusive(sentence, term));\n\n        // &quot;Administrator of my building&quot;\n        System.out.println(tailStringInclusive(sentence, term));\n\n        // &quot;I am an &quot;\n        System.out.println(headStringExclusive(sentence, term));\n\n        // &quot; of my building&quot;\n        System.out.println(tailStringExclusive(sentence, term));\n    }\n\n    public static String headStringInclusive(String str, String term) {\n        int index = str.indexOf(term);\n        return index != -1 ? str.substring(0, index + term.length()) : str;\n    }\n\n    public static String tailStringInclusive(String str, String term) {\n        int index = str.lastIndexOf(term);\n        return index != -1 ? str.substring(index) : str;\n    }\n\n    public static String headStringExclusive(String str, String term) {\n        int index = str.indexOf(term);\n        return index != -1 ? str.substring(0, index) : str;\n    }\n\n    public static String tailStringExclusive(String str, String term) {\n        int index = str.lastIndexOf(term);\n        return index != -1 ? str.substring(index + term.length()) : str;\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680712904,"creation_date":1680712375,"answer_id":75941955,"question_id":75933114,"body_markdown":"I would write a method to take a sentence and its replacement.  The following also preserves end of sentence punctuation.\r\n```\r\nString[][] sentences = {\r\n        {&quot;I am an Administrator of my building.&quot;, &quot;Administrator&quot;},\r\n        {&quot;I am a teacher of math students.&quot;, &quot;teacher&quot;},\r\n        {&quot;I am a parent of two children!!&quot;, &quot;parent&quot;}};\r\n\r\nfor(String[] info : sentences) {\r\n    String result = trimAfterWord(info[0], info[1]);\r\n    System.out.println(result);\r\n}\r\n```\r\nprints\r\n```\r\nI am an Administrator.\r\nI am a teacher.\r\nI am a parent!!\r\n```\r\n- `(?i)` - do case independent matching for word.  Existing case of word will be kept in result.\r\n- `(.*?)` - do a reluctant match to ensure grabbing all punctuation if it exists.\r\n- `$` - only preserve punctuation at end of sentence.\r\n- `$1$2` - back references to captured `word` and `Punct`\r\n```\r\npublic static String trimAfterWord(String sentence, String word) {\r\n    return sentence.replaceFirst(&quot;(?i)(&quot;+word+&quot;).*?(\\\\p{Punct}*)$&quot;, &quot;$1$2&quot;);\r\n}\r\n```\r\nFor more useful information on regular expressions and pattern matching check out [Pattern](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/regex/Pattern.html#sum).","title":"Java - How to extract a substring from start until the end of a particular word in a string?","body":"<p>I would write a method to take a sentence and its replacement.  The following also preserves end of sentence punctuation.</p>\n<pre><code>String[][] sentences = {\n        {&quot;I am an Administrator of my building.&quot;, &quot;Administrator&quot;},\n        {&quot;I am a teacher of math students.&quot;, &quot;teacher&quot;},\n        {&quot;I am a parent of two children!!&quot;, &quot;parent&quot;}};\n\nfor(String[] info : sentences) {\n    String result = trimAfterWord(info[0], info[1]);\n    System.out.println(result);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>I am an Administrator.\nI am a teacher.\nI am a parent!!\n</code></pre>\n<ul>\n<li><code>(?i)</code> - do case independent matching for word.  Existing case of word will be kept in result.</li>\n<li><code>(.*?)</code> - do a reluctant match to ensure grabbing all punctuation if it exists.</li>\n<li><code>$</code> - only preserve punctuation at end of sentence.</li>\n<li><code>$1$2</code> - back references to captured <code>word</code> and <code>Punct</code></li>\n</ul>\n<pre><code>public static String trimAfterWord(String sentence, String word) {\n    return sentence.replaceFirst(&quot;(?i)(&quot;+word+&quot;).*?(\\\\p{Punct}*)$&quot;, &quot;$1$2&quot;);\n}\n</code></pre>\n<p>For more useful information on regular expressions and pattern matching check out <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/regex/Pattern.html#sum\" rel=\"nofollow noreferrer\">Pattern</a>.</p>\n"}],"owner":{"account_id":7073901,"reputation":558,"user_id":5414637,"accept_rate":50,"display_name":"AutoTester999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75933141,"answer_count":5,"score":1,"last_activity_date":1680712904,"creation_date":1680636261,"question_id":75933114,"body_markdown":"**Input string:**\r\n\r\n    String sentence = &quot;I am an Administrator of my building&quot;;\r\n\r\n**Desired Output String** = `&quot;I am an Administrator&quot;`\r\n\r\nPattern for extracting the substring: Get the substring starting from the beginning of the &#39;`sentence`&#39; string and until the end of the word &#39;`Administrator`&#39;.\r\n\r\nI could get the `endIndex` of &#39;Administrator&#39; and then use `substring(int beginIndex, int endIndex)`\r\n\r\nNot sure if this is the most efficient way to do it.\r\nWhat would the efficient or short way to achieve this?","title":"Java - How to extract a substring from start until the end of a particular word in a string?","body":"<p><strong>Input string:</strong></p>\n<pre><code>String sentence = &quot;I am an Administrator of my building&quot;;\n</code></pre>\n<p><strong>Desired Output String</strong> = <code>&quot;I am an Administrator&quot;</code></p>\n<p>Pattern for extracting the substring: Get the substring starting from the beginning of the '<code>sentence</code>' string and until the end of the word '<code>Administrator</code>'.</p>\n<p>I could get the <code>endIndex</code> of 'Administrator' and then use <code>substring(int beginIndex, int endIndex)</code></p>\n<p>Not sure if this is the most efficient way to do it.\nWhat would the efficient or short way to achieve this?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1301014,"reputation":8110,"user_id":1250929,"accept_rate":72,"display_name":"Kristy Welsh"},"score":0,"creation_date":1680696748,"post_id":75939201,"comment_id":133941161,"body_markdown":"I think we need a screen shot or some code in order to help you.","body":"I think we need a screen shot or some code in order to help you."},{"owner":{"account_id":27808716,"reputation":122,"user_id":21231507,"display_name":"Bhavyesh Patel"},"score":0,"creation_date":1680701420,"post_id":75939201,"comment_id":133942642,"body_markdown":"Provide screenshot so anyone can understand your problem.","body":"Provide screenshot so anyone can understand your problem."}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680712862,"creation_date":1680712862,"answer_id":75942015,"question_id":75939201,"body_markdown":"Users can set their own font size preferences on the device, and that scaling factor is used in *sp* units, which is *dp* multiplied by the current font scaling. That&#39;s why you (usually) use *sp* when setting font sizes instead of *dp*, so it adapts to the user&#39;s preferences and looks consistent with other apps.\r\n\r\nWhich means it&#39;s something you have to test when you&#39;re designing your layout! Set the emulator/device&#39;s text size to the largest and smallest values, and make sure it looks ok. And do the same on the smallest screen size you support (the layout editor lets you preview other screen sizes too). If you&#39;re [building your layout as a responsive design][1] then you can make sure the layout adapts nicely to the available space, and that includes when `TextView`s get bigger.\r\n\r\nThis is an accessibility feature, and you need to cater for those larger sizes in case some of your users need it, so this is something you need to handle. Space is always at a premium on mobile devices, and *personally* I feel like it&#39;s ok to let the extremely large sizes look a little less slick - if the user needs huge text they probably care more about functionality than aesthetics, right? So I feel like it&#39;s ok to let the huge sizes fill space, eat into margins etc. *if necessary*.\r\n\r\nAnother thing you can do is look at your writing - if a text label is a problem when it&#39;s at a larger text size, maybe the label&#39;s text is too long anyway? Short, concise labels don&#39;t need to grow as much, and you&#39;ll have more space to work with. [Here&#39;s the Material style guide][2] if it helps (don&#39;t forget this applies to translations too!)\r\n\r\nAnd finally, I said for text you *mostly* use *sp* - but if you have any elements that *shouldn&#39;t* resize, you can use *dp* to get a fixed real-world size on every screen. This only applies to elements that are **large enough that everyone can read them**, and that don&#39;t need to scale relative to the other text. Graphical elements, basically - like how a clock app displays the digits at a fixed size. If that applies in your design anywhere, you can use *dp* to get a fixed size that works for everyone\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/large-screens/support-different-screen-sizes#responsive_design\r\n  [2]: https://m2.material.io/design/communication/writing.html","title":"After change font size in device setting app ui is deformed","body":"<p>Users can set their own font size preferences on the device, and that scaling factor is used in <em>sp</em> units, which is <em>dp</em> multiplied by the current font scaling. That's why you (usually) use <em>sp</em> when setting font sizes instead of <em>dp</em>, so it adapts to the user's preferences and looks consistent with other apps.</p>\n<p>Which means it's something you have to test when you're designing your layout! Set the emulator/device's text size to the largest and smallest values, and make sure it looks ok. And do the same on the smallest screen size you support (the layout editor lets you preview other screen sizes too). If you're <a href=\"https://developer.android.com/guide/topics/large-screens/support-different-screen-sizes#responsive_design\" rel=\"nofollow noreferrer\">building your layout as a responsive design</a> then you can make sure the layout adapts nicely to the available space, and that includes when <code>TextView</code>s get bigger.</p>\n<p>This is an accessibility feature, and you need to cater for those larger sizes in case some of your users need it, so this is something you need to handle. Space is always at a premium on mobile devices, and <em>personally</em> I feel like it's ok to let the extremely large sizes look a little less slick - if the user needs huge text they probably care more about functionality than aesthetics, right? So I feel like it's ok to let the huge sizes fill space, eat into margins etc. <em>if necessary</em>.</p>\n<p>Another thing you can do is look at your writing - if a text label is a problem when it's at a larger text size, maybe the label's text is too long anyway? Short, concise labels don't need to grow as much, and you'll have more space to work with. <a href=\"https://m2.material.io/design/communication/writing.html\" rel=\"nofollow noreferrer\">Here's the Material style guide</a> if it helps (don't forget this applies to translations too!)</p>\n<p>And finally, I said for text you <em>mostly</em> use <em>sp</em> - but if you have any elements that <em>shouldn't</em> resize, you can use <em>dp</em> to get a fixed real-world size on every screen. This only applies to elements that are <strong>large enough that everyone can read them</strong>, and that don't need to scale relative to the other text. Graphical elements, basically - like how a clock app displays the digits at a fixed size. If that applies in your design anywhere, you can use <em>dp</em> to get a fixed size that works for everyone</p>\n"}],"owner":{"account_id":14151957,"reputation":390,"user_id":10223665,"display_name":"mmfarzaneh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75942015,"answer_count":1,"score":0,"last_activity_date":1680712862,"creation_date":1680696182,"question_id":75939201,"body_markdown":"My application was working without problems until the user changed the font size of the phone and increased its size\r\nWith this font change, all the software became bigger and I don&#39;t know what changes I should make in the app to be able to manage this change.\r\nThank you for your guidance.","title":"After change font size in device setting app ui is deformed","body":"<p>My application was working without problems until the user changed the font size of the phone and increased its size\nWith this font change, all the software became bigger and I don't know what changes I should make in the app to be able to manage this change.\nThank you for your guidance.</p>\n"},{"tags":["java","maven","security","dependencies","maven-dependency-check-plugin"],"answers":[{"tags":[],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680712583,"creation_date":1680712583,"answer_id":75941981,"question_id":75887918,"body_markdown":"Well, so far I have found no better way, then to clone project again,\r\nupdate some dependencis and run `mvn dependency-check:check` again,\r\nand then copy 1st and 2nd reports in one place and compare.","title":"security issues analysis via mvn dependency-check:check and better report","body":"<p>Well, so far I have found no better way, then to clone project again,\nupdate some dependencis and run <code>mvn dependency-check:check</code> again,\nand then copy 1st and 2nd reports in one place and compare.</p>\n"}],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680712583,"creation_date":1680177180,"question_id":75887918,"body_markdown":"Within maven project, I can do\r\n\r\n    mvn dependency-check:check\r\n\r\nfor the tools to download NVD CVE security issues database, analyze\r\nand show report, what dependencies have known security issues.\r\n\r\n\r\nHowever, as solution would be update several dependencies e.g. via Spring Boot update,\r\nI would like to see how many security issues would be solved that one.\r\nE.g. updating from x.y.5 to x.y.10 will solve n security issues:\r\n\r\nOr better for every security issue, what is version that solves it.","title":"security issues analysis via mvn dependency-check:check and better report","body":"<p>Within maven project, I can do</p>\n<pre><code>mvn dependency-check:check\n</code></pre>\n<p>for the tools to download NVD CVE security issues database, analyze\nand show report, what dependencies have known security issues.</p>\n<p>However, as solution would be update several dependencies e.g. via Spring Boot update,\nI would like to see how many security issues would be solved that one.\nE.g. updating from x.y.5 to x.y.10 will solve n security issues:</p>\n<p>Or better for every security issue, what is version that solves it.</p>\n"},{"tags":["java","tomcat","exception"],"answers":[{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410260583,"creation_date":1410260583,"answer_id":25743004,"question_id":25742913,"body_markdown":"If you have some process listening on port 8080 then you can always configure tomcat to listen on a different port. To change the listener port by editing your `server.xml` located under tomcat server `conf` directory.\r\n\r\nSearch for `Connector port=&quot;8080&quot;` in server.xml and change the port number to some other port.","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>If you have some process listening on port 8080 then you can always configure tomcat to listen on a different port. To change the listener port by editing your <code>server.xml</code> located under tomcat server <code>conf</code> directory.</p>\n\n<p>Search for <code>Connector port=\"8080\"</code> in server.xml and change the port number to some other port.</p>\n"},{"tags":[],"owner":{"account_id":317980,"reputation":11814,"user_id":634958,"accept_rate":100,"display_name":"S1LENT WARRIOR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410260652,"creation_date":1410260652,"answer_id":25743025,"question_id":25742913,"body_markdown":"The error: \r\n\r\n&gt; Tomcat: java.net.BindException: Address already in use: JVM_Bind\r\n&gt; &lt;null&gt;:80\r\n\r\n suggests that the port 80 is already in use.  \r\nYou may either: \r\n\r\n - Try searching for that process and stop it OR\r\n - Make your tomcat to run on different (free) port\r\n\r\nSee also: https://stackoverflow.com/questions/5310945/deployment-errorstarting-of-tomcat-failed-the-server-port-8080-is-already-in-u","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>The error: </p>\n\n<blockquote>\n  <p>Tomcat: java.net.BindException: Address already in use: JVM_Bind\n  :80</p>\n</blockquote>\n\n<p>suggests that the port 80 is already in use.<br>\nYou may either: </p>\n\n<ul>\n<li>Try searching for that process and stop it OR</li>\n<li>Make your tomcat to run on different (free) port</li>\n</ul>\n\n<p>See also: <a href=\"https://stackoverflow.com/questions/5310945/deployment-errorstarting-of-tomcat-failed-the-server-port-8080-is-already-in-u\">Deployment error:Starting of Tomcat failed, the server port 8080 is already in use</a></p>\n"},{"comments":[{"owner":{"account_id":369935,"reputation":4762,"user_id":717584,"accept_rate":87,"display_name":"iamjustcoder"},"score":0,"creation_date":1410343367,"post_id":25743055,"comment_id":40286486,"body_markdown":"i did the same command to find port &quot;80&quot;.\n&quot;TCP    172.25.164.79:49767    172.25.172.6:80        TIME_WAIT       0&quot;","body":"i did the same command to find port &quot;80&quot;. &quot;TCP    172.25.164.79:49767    172.25.172.6:80        TIME_WAIT       0&quot;"}],"tags":[],"owner":{"account_id":428654,"reputation":1900,"user_id":811117,"display_name":"csaba.sulyok"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1410260727,"creation_date":1410260727,"answer_id":25743055,"question_id":25742913,"body_markdown":"PID 0 is the System Idle Process, which is surely not listening to port 80. How did you check which process was using the port?\r\n\r\nYou can use\r\n\r\n    netstat /nao | findstr &quot;80&quot;\r\n\r\nto find the PID and check what process it is.","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>PID 0 is the System Idle Process, which is surely not listening to port 80. How did you check which process was using the port?</p>\n\n<p>You can use</p>\n\n<pre><code>netstat /nao | findstr \"80\"\n</code></pre>\n\n<p>to find the PID and check what process it is.</p>\n"},{"tags":[],"owner":{"account_id":1713170,"reputation":1549,"user_id":1570793,"accept_rate":44,"display_name":"George Papatheodorou"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1410261279,"creation_date":1410261279,"answer_id":25743238,"question_id":25742913,"body_markdown":"Setting Tomcat to listen to port 80 is **WRONG** , for development the 8080 is a good port to use. For production use, just set up an apache that shall forward your requests to your tomcat. [Here][1] is a how to. \r\n\r\n\r\n  [1]: http://www.ntu.edu.sg/home/ehchua/programming/howto/ApachePlusTomcat_HowTo.html","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>Setting Tomcat to listen to port 80 is <strong>WRONG</strong> , for development the 8080 is a good port to use. For production use, just set up an apache that shall forward your requests to your tomcat. <a href=\"http://www.ntu.edu.sg/home/ehchua/programming/howto/ApachePlusTomcat_HowTo.html\" rel=\"noreferrer\">Here</a> is a how to. </p>\n"},{"tags":[],"owner":{"account_id":22370,"reputation":158143,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1500541671,"creation_date":1428354587,"answer_id":29479742,"question_id":25742913,"body_markdown":"The error:\r\n\r\n&gt; java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80\r\n\r\nmeans that another application is listening on port 80.\r\n\r\nYou can check which process is using this port by `lsof` command, e.g. `sudo lsof -i:80`. Then stop or kill it.\r\n\r\nIf won&#39;t help finding application running on the same port, the common mistake is the Tomcat misconfiguration.\r\n\r\nFor example by default Tomcat listens on port 8005 for SHUTDOWN command and if you set another Connector to listen on the same port, you&#39;ll get port conflict.\r\n\r\nSo please double check in `server.xml` whether these ports are different:\r\n\r\n    &lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\r\n        &lt;Connector port=&quot;8983&quot; protocol=&quot;HTTP/1.1&quot;","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>The error:</p>\n\n<blockquote>\n  <p>java.net.BindException: Address already in use: JVM_Bind :80</p>\n</blockquote>\n\n<p>means that another application is listening on port 80.</p>\n\n<p>You can check which process is using this port by <code>lsof</code> command, e.g. <code>sudo lsof -i:80</code>. Then stop or kill it.</p>\n\n<p>If won't help finding application running on the same port, the common mistake is the Tomcat misconfiguration.</p>\n\n<p>For example by default Tomcat listens on port 8005 for SHUTDOWN command and if you set another Connector to listen on the same port, you'll get port conflict.</p>\n\n<p>So please double check in <code>server.xml</code> whether these ports are different:</p>\n\n<pre><code>&lt;Server port=\"8005\" shutdown=\"SHUTDOWN\"&gt;\n    &lt;Connector port=\"8983\" protocol=\"HTTP/1.1\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":0,"creation_date":1565791224,"post_id":32045417,"comment_id":101462242,"body_markdown":"Both works for me. It basically tells you the port which is in use already. So that it will be listed in the prompt.","body":"Both works for me. It basically tells you the port which is in use already. So that it will be listed in the prompt."}],"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565791170,"creation_date":1439798675,"answer_id":32045417,"question_id":25742913,"body_markdown":"Use the following command to find if your tomcat port is already in use,\r\n\r\n    netstat -a -b\r\n\r\n    netstat -a -o | findstr :port\r\n\r\nFor example\r\n\r\n    netstat -a -o | findstr :8080\r\n\r\n**Exception**:\r\n`java.net.BindException: Address already in use: JVM_Bind:80`\r\n\r\nmeans that port 80 is configured by your Tomcat server and it is already used by some other application running on your computer. Please quit Skype if open or change the default port in Skype or other application&#39;s port to something other than 80. Or change the tomcat port to something else than 80(e.g. 8080 or 9090) in the server.xml file under the config folder of your tomcat installation directory.\r\n\r\n**Exception**:\r\n`java.net.BindException: Address already in use: JVM_Bind`\r\n\r\nmeans you din&#39;t stop the tomcat server properly and you are trying to start the server again. In Eclipse, the solution for me was to remove the project from the servers tab and right click and run the project as Run on server. This added the project back to the Tomcat 7 and I din&#39;t get the BindException error. This was due to closing eclipse the last time you used without stopping the Tomcat server.","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>Use the following command to find if your tomcat port is already in use,</p>\n\n<pre><code>netstat -a -b\n\nnetstat -a -o | findstr :port\n</code></pre>\n\n<p>For example</p>\n\n<pre><code>netstat -a -o | findstr :8080\n</code></pre>\n\n<p><strong>Exception</strong>:\n<code>java.net.BindException: Address already in use: JVM_Bind:80</code></p>\n\n<p>means that port 80 is configured by your Tomcat server and it is already used by some other application running on your computer. Please quit Skype if open or change the default port in Skype or other application's port to something other than 80. Or change the tomcat port to something else than 80(e.g. 8080 or 9090) in the server.xml file under the config folder of your tomcat installation directory.</p>\n\n<p><strong>Exception</strong>:\n<code>java.net.BindException: Address already in use: JVM_Bind</code></p>\n\n<p>means you din't stop the tomcat server properly and you are trying to start the server again. In Eclipse, the solution for me was to remove the project from the servers tab and right click and run the project as Run on server. This added the project back to the Tomcat 7 and I din't get the BindException error. This was due to closing eclipse the last time you used without stopping the Tomcat server.</p>\n"},{"tags":[],"owner":{"account_id":1445425,"reputation":1080,"user_id":1364101,"accept_rate":12,"display_name":"ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446728023,"creation_date":1446728023,"answer_id":33545082,"question_id":25742913,"body_markdown":"I do a goofy mistake and It take me 2 hour to solve It.I mentioned it here for other persons may be help them.The mistake was I enable ssl connector and changed both https and http ports to same number .","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>I do a goofy mistake and It take me 2 hour to solve It.I mentioned it here for other persons may be help them.The mistake was I enable ssl connector and changed both https and http ports to same number .</p>\n"},{"tags":[],"owner":{"account_id":7304266,"reputation":561,"user_id":5565746,"display_name":"Vineela Thonupunuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474995211,"creation_date":1474995211,"answer_id":39730309,"question_id":25742913,"body_markdown":"I deleted my server and added it back. IT happened because I shut down the eclipse manually via task manager and it did not shut down the tomcat. ","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>I deleted my server and added it back. IT happened because I shut down the eclipse manually via task manager and it did not shut down the tomcat. </p>\n"},{"tags":[],"owner":{"account_id":10896323,"reputation":1,"user_id":8010162,"display_name":"selvan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494765207,"creation_date":1494765207,"answer_id":43963935,"question_id":25742913,"body_markdown":"C:\\Program Files (x86)\\Apache Software Foundation\\Tomcat 7.0\\conf\r\n\r\n\r\nYour Port ID in Server.xml File in Source folder is 8080. change the Port Number to 8081...etc \r\n","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>C:\\Program Files (x86)\\Apache Software Foundation\\Tomcat 7.0\\conf</p>\n\n<p>Your Port ID in Server.xml File in Source folder is 8080. change the Port Number to 8081...etc </p>\n"},{"tags":[],"owner":{"account_id":11856768,"reputation":11,"user_id":8676583,"display_name":"mahesh Y"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1527612008,"creation_date":1506431951,"answer_id":46427704,"question_id":25742913,"body_markdown":"I faced this problem while working in a spring project with tomcat:\r\n\r\n&gt; Address already in use: JVM_Bind &lt;null&gt;\r\n\r\n[![screenshot of bin folder][1]][1]\r\n\r\nTo resolve the issue I ran a shutdown.bat file in tomcat/bin folder.\r\n\r\n  [1]: https://i.stack.imgur.com/S44Dx.png","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>I faced this problem while working in a spring project with tomcat:</p>\n\n<blockquote>\n  <p>Address already in use: JVM_Bind </p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/S44Dx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S44Dx.png\" alt=\"screenshot of bin folder\"></a></p>\n\n<p>To resolve the issue I ran a shutdown.bat file in tomcat/bin folder.</p>\n"},{"tags":[],"owner":{"account_id":7637556,"reputation":789,"user_id":5790669,"display_name":"Yash P Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508806889,"creation_date":1508806889,"answer_id":46900644,"question_id":25742913,"body_markdown":"I completely forgot that I had previously installed another version of Apache Tomcat, which was causing this problem. So, just try uninstalling the previous version. Hope it helps.","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>I completely forgot that I had previously installed another version of Apache Tomcat, which was causing this problem. So, just try uninstalling the previous version. Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545149438,"creation_date":1545149438,"answer_id":53837000,"question_id":25742913,"body_markdown":"Make sure &lt;apache-tomcat-directory&gt;/webapps/ROOT file is there and it has all the icons, WEB-INF, and index.jsp is in the folder. \r\n\r\nWhen you startup Tomcat, it will run this code in `&lt;Tomcat-Directory&gt;/conf/web.xml` directory: \r\n\r\n    &lt;welcome-file-list&gt;\r\n       &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n\r\nThe location of index.jsp is in `&lt;Tomcat-Directory&gt;/webapps/ROOT/index.jsp`\r\n\r\n\r\nAlso, try running tomcat from the &lt;Tomcat-Directory&gt;/bin directory using `./catalina.sh start` instead of `./startup.sh`. For some reason, `./startup.sh` isn&#39;t as reliable. ","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>Make sure /webapps/ROOT file is there and it has all the icons, WEB-INF, and index.jsp is in the folder. </p>\n\n<p>When you startup Tomcat, it will run this code in <code>&lt;Tomcat-Directory&gt;/conf/web.xml</code> directory: </p>\n\n<pre><code>&lt;welcome-file-list&gt;\n   &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n</code></pre>\n\n<p>The location of index.jsp is in <code>&lt;Tomcat-Directory&gt;/webapps/ROOT/index.jsp</code></p>\n\n<p>Also, try running tomcat from the /bin directory using <code>./catalina.sh start</code> instead of <code>./startup.sh</code>. For some reason, <code>./startup.sh</code> isn't as reliable. </p>\n"},{"tags":[],"owner":{"account_id":1414740,"reputation":471,"user_id":1340615,"display_name":"ganesh phirke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565705498,"creation_date":1565705498,"answer_id":57479599,"question_id":25742913,"body_markdown":"I came across same issue. I was getting error  **Unable to open debugger port (127.0.0.1:63936): java.net.BindException &quot;Address already in use: JVM_Bind&quot;** \r\nI tried above all option but any how its not resolved. Solution which worked for me is, I started the server and then stopped and again started in debug mode. then the server got started in debug mode.","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>I came across same issue. I was getting error  <strong>Unable to open debugger port (127.0.0.1:63936): java.net.BindException \"Address already in use: JVM_Bind\"</strong> \nI tried above all option but any how its not resolved. Solution which worked for me is, I started the server and then stopped and again started in debug mode. then the server got started in debug mode.</p>\n"},{"tags":[],"owner":{"account_id":12292851,"reputation":21,"user_id":8969454,"display_name":"Eric Bulgrin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680712391,"creation_date":1680712391,"answer_id":75941959,"question_id":25742913,"body_markdown":"It is possible, like in my case, that a Windows update could cause this issue.\r\n\r\nAs pointed out in another answer, tomcat listens for the SHUTDOWN command on port 8005 by default. A Windows update caused this port to be reserved by a vital Windows process that was not appearing when I searched for running processes on port 8005 through the command prompt.\r\n\r\nTo fix this, I simply needed to change the port in my server.xml:\r\n```\r\n&lt;Server port=&quot;8006&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\r\n```\r\n","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>It is possible, like in my case, that a Windows update could cause this issue.</p>\n<p>As pointed out in another answer, tomcat listens for the SHUTDOWN command on port 8005 by default. A Windows update caused this port to be reserved by a vital Windows process that was not appearing when I searched for running processes on port 8005 through the command prompt.</p>\n<p>To fix this, I simply needed to change the port in my server.xml:</p>\n<pre><code>&lt;Server port=&quot;8006&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":369935,"reputation":4762,"user_id":717584,"accept_rate":87,"display_name":"iamjustcoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137899,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":25743238,"answer_count":14,"score":10,"last_activity_date":1680712391,"creation_date":1410260336,"question_id":25742913,"body_markdown":"I am getting binding exception while starting the Tomcat server. \r\nI tried to kill the process that which is using &#39;80&#39; as couple of processes are using it.\r\n\r\nGetting error, while killing process id is &#39;0&#39;:\r\n\r\n&gt; ERROR: The process with PID 0 could not be terminated. Reason: This is\r\n&gt; critical system process. Taskkill cannot end this process.\r\n\r\nHow to fix this?\r\n\r\nI don&#39;t need to use another port to run the tomcat server.","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>I am getting binding exception while starting the Tomcat server. \nI tried to kill the process that which is using '80' as couple of processes are using it.</p>\n\n<p>Getting error, while killing process id is '0':</p>\n\n<blockquote>\n  <p>ERROR: The process with PID 0 could not be terminated. Reason: This is\n  critical system process. Taskkill cannot end this process.</p>\n</blockquote>\n\n<p>How to fix this?</p>\n\n<p>I don't need to use another port to run the tomcat server.</p>\n"},{"tags":["java","selenium-webdriver","winappdriver"],"comments":[{"owner":{"account_id":7783163,"reputation":1123,"user_id":5888946,"accept_rate":58,"display_name":"Tony"},"score":0,"creation_date":1681238324,"post_id":75941856,"comment_id":134023456,"body_markdown":"sorry about the formatting:\n\nI looked at other constructors and ended up having to do it this way, which worked:\n\n  HttpCommandExecutor exec = new HttpCommandExecutor(new URL(&quot;http://127.0.0.1:4723/&quot;));\n  DesiredCapabilities dcaps = new DesiredCapabilities();\n  // code to set capabilities\n  WindowsDriver app = new WindowsDriver(exec, dcaps);\n\ninstead of\n\n  DesiredCapabilities dcaps = new DesiredCapabilities();\n  // code to set capabilities\n  WindowsDriver app = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723/&quot;), dcaps);","body":"sorry about the formatting:  I looked at other constructors and ended up having to do it this way, which worked:    HttpCommandExecutor exec = new HttpCommandExecutor(new URL(&quot;<a href=\"http://127.0.0.1:4723/&quot;\" rel=\"nofollow noreferrer\">127.0.0.1:4723/&quot;</a>));   DesiredCapabilities dcaps = new DesiredCapabilities();   // code to set capabilities   WindowsDriver app = new WindowsDriver(exec, dcaps);  instead of    DesiredCapabilities dcaps = new DesiredCapabilities();   // code to set capabilities   WindowsDriver app = new WindowsDriver(new URL(&quot;<a href=\"http://127.0.0.1:4723/&quot;\" rel=\"nofollow noreferrer\">127.0.0.1:4723/&quot;</a>), dcaps);"}],"owner":{"account_id":7783163,"reputation":1123,"user_id":5888946,"accept_rate":58,"display_name":"Tony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680712206,"creation_date":1680711706,"question_id":75941856,"body_markdown":"This is referring to a previous post,\r\nhttps://stackoverflow.com/questions/75939992/winappdriver-could-not-start-a-new-session-response-code-400-message-missing , where I mentioned that I start WinAppDriver and even though I specified appId as a desired capability it said it was missing.  I am using Selenium and WinAppDriver with Java in Eclipse.\r\n\r\nAfter a lot of debugging, I noticed when I started WinAppDriver the init code takes all the capability names and prefixes an &quot;appium:&quot; to them to make w3c safe apparently.  When WinAppDriver starts up it gets an appium:appId, not appId, so it says it is missing.\r\n\r\nI am not sure how to keep it from appending &quot;winium:&quot; or how to have the session strip off the &quot;appium:&quot;.  Any sugegstions?\r\n\r\nI will repeat some startup code here from my data provider.\r\n\r\n    WindowsDriver app = null;\r\n    try {\r\n        DesiredCapabilities caps = new DesiredCapabilities();\r\n        caps.setCapability(&quot;appId&quot;, &quot;src\\\\main\\\\respurces\\\\dummy.bat&quot;);\r\n        caps.setCapability(&quot;platformName&quot;, &quot;Windows&quot;);\r\n        caps.setCapability(&quot;deviceName&quot;, &quot;WindowsPC&quot;);\r\n        app = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), caps);\r\n        app.manage().timeouts().implicitlyWait(2, TimeUnit.SECONDS);\r\n        testData.drv = app;\r\n    } catch (Exception e) {\r\n        throw new AssertionError(e.getMessage(), e);\r\n    }\r\n\r\n\r\n","title":"winappdriver capabilities being changed","body":"<p>This is referring to a previous post,\n<a href=\"https://stackoverflow.com/questions/75939992/winappdriver-could-not-start-a-new-session-response-code-400-message-missing\">WinAppDriver: Could not start a new session. Response code 400. Message: Missing command parameter: appId</a> , where I mentioned that I start WinAppDriver and even though I specified appId as a desired capability it said it was missing.  I am using Selenium and WinAppDriver with Java in Eclipse.</p>\n<p>After a lot of debugging, I noticed when I started WinAppDriver the init code takes all the capability names and prefixes an &quot;appium:&quot; to them to make w3c safe apparently.  When WinAppDriver starts up it gets an appium:appId, not appId, so it says it is missing.</p>\n<p>I am not sure how to keep it from appending &quot;winium:&quot; or how to have the session strip off the &quot;appium:&quot;.  Any sugegstions?</p>\n<p>I will repeat some startup code here from my data provider.</p>\n<pre><code>WindowsDriver app = null;\ntry {\n    DesiredCapabilities caps = new DesiredCapabilities();\n    caps.setCapability(&quot;appId&quot;, &quot;src\\\\main\\\\respurces\\\\dummy.bat&quot;);\n    caps.setCapability(&quot;platformName&quot;, &quot;Windows&quot;);\n    caps.setCapability(&quot;deviceName&quot;, &quot;WindowsPC&quot;);\n    app = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), caps);\n    app.manage().timeouts().implicitlyWait(2, TimeUnit.SECONDS);\n    testData.drv = app;\n} catch (Exception e) {\n    throw new AssertionError(e.getMessage(), e);\n}\n</code></pre>\n"},{"tags":["java","encryption","ssh","cryptography","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679898327,"creation_date":1459935589,"answer_id":36447225,"question_id":36445272,"body_markdown":"See [JSch change log](http://www.jcraft.com/jsch/ChangeLog) for *&quot;Changes since version 0.1.52&quot;*:\r\n\r\n&gt; - change: Logjam: diffie-hellman-group-exchange-sha256 and\r\n          diffie-hellman-group-exchange-sha1 will use 2048-bit key on\r\n          Java8&#39;s SunJCE, thanks to JDK-6521495 and JDK-7044060.\r\n\r\nSo you are correct that you need JSch 0.1.53, but you also need these fixes in your JDK:\r\n\r\n- https://bugs.java.com/bugdatabase/view_bug?bug_id=6521495\r\n- https://bugs.openjdk.org/browse/JDK-7044060","title":"Using 2048 bit primes in JSch","body":"<p>See <a href=\"http://www.jcraft.com/jsch/ChangeLog\" rel=\"nofollow noreferrer\">JSch change log</a> for <em>&quot;Changes since version 0.1.52&quot;</em>:</p>\n<blockquote>\n<ul>\n<li>change: Logjam: diffie-hellman-group-exchange-sha256 and\ndiffie-hellman-group-exchange-sha1 will use 2048-bit key on\nJava8's SunJCE, thanks to JDK-6521495 and JDK-7044060.</li>\n</ul>\n</blockquote>\n<p>So you are correct that you need JSch 0.1.53, but you also need these fixes in your JDK:</p>\n<ul>\n<li><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6521495\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6521495</a></li>\n<li><a href=\"https://bugs.openjdk.org/browse/JDK-7044060\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-7044060</a></li>\n</ul>\n"}],"owner":{"account_id":2277428,"reputation":91,"user_id":5011702,"accept_rate":25,"display_name":"Vino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4714,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680711933,"creation_date":1459930558,"question_id":36445272,"body_markdown":"I am trying to attempt SSH connection from my Java application to an external server of client. The client has enhanced the security and they are not accepting 1024 bit primes but my JSch is sending only 1024 bit primes.\r\n\r\nPlease find verbose error output from my application below:\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n    INFO  |: Launching [sftp] handler\r\n    INFO  |: Creating SFTP session to host [server1] with logger for JSch\r\n    INFO  |: Connecting via public/private key.\r\n    INFO  |: Session created.\r\n    INFO  |: Connecting to server1 port 22\r\n    INFO  |: Connection established\r\n    INFO  |: Remote version string: SSH-2.0-VShell_4_1_1_862 VShell\r\n    INFO  |: Local version string: SSH-2.0-JSCH-0.1.53\r\n    INFO  |: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\n    INFO  |: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\n    INFO  |: SSH_MSG_KEXINIT sent\r\n    INFO  |: SSH_MSG_KEXINIT received\r\n    INFO  |: kex: server: diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha1,ecdh-sha2-nistp521,ecdh-sha2-nistp384,ecdh-sha2-nistp256,diffie-hellman-group-exchange-sha256\r\n    INFO  |: kex: server: ecdsa-sha2-nistp256,ssh-dss,ssh-rsa\r\n    INFO  |: kex: server: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-cbc\r\n    INFO  |: kex: server: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-cbc\r\n    INFO  |: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\r\n    INFO  |: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\r\n    INFO  |: kex: server: zlib@openssh.com,zlib,none\r\n    INFO  |: kex: server: zlib@openssh.com,zlib,none\r\n    INFO  |: kex: client: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\r\n    INFO  |: kex: client: ssh-rsa,ssh-dss\r\n    INFO  |: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\r\n    INFO  |: kex: client: aes128-cbc,3des-cbc\r\n    INFO  |: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n    INFO  |: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n    INFO  |: kex: server-&gt;client aes128-cbc hmac-sha1 none\r\n    INFO  |: kex: client-&gt;server aes128-ctr hmac-sha1 none\r\n    INFO  |: SSH_MSG_KEX_DH_GEX_REQUEST(1024&lt;1024&lt;1024) sent\r\n    INFO  |: expecting SSH_MSG_KEX_DH_GEX_GROUP\r\n    INFO  |: Disconnecting from server1 port 22\r\n    ERROR |: Unable to connect to SFTP server. com.jcraft.jsch.JSchException: SSH_MSG_DISCONNECT: 11 No appropriate prime between 1024 and 1024 is available.  en\r\n    INFO  |: -----------------------------------------------------------------------------------------------\r\n\r\nFew other blogs suggested upgrading to JSch version 0.1.53 would fix the issue but I am already using 0.1.53 version in my application.\r\n\r\nWhen I try to connect from command line using verbose option I am able to connect:\r\n\r\n    $ sftp -v username@server1\r\n    Connecting to server1...\r\n    OpenSSH_5.3p1, OpenSSL 1.0.1e-fips 11 Feb 2013\r\n    debug1: Reading configuration data /etc/ssh/ssh_config\r\n    debug1: Applying options for *\r\n    debug1: Connecting to server1 [10.XX.XXX.XXX] port 22.\r\n    debug1: Connection established.\r\n    debug1: identity file /.ssh/id_rsa type 1\r\n    debug1: identity file /.ssh/id_rsa-cert type -1\r\n    debug1: identity file /.ssh/id_dsa type -1\r\n    debug1: identity file /.ssh/id_dsa-cert type -1\r\n    debug1: identity file /.ssh/id_ecdsa type -1\r\n    debug1: identity file /.ssh/id_ecdsa-cert type -1\r\n    debug1: Remote protocol version 2.0, remote software version VShell_4_1_1_862 VShell\r\n    debug1: no match: VShell_4_1_1_862 VShell\r\n    debug1: Enabling compatibility mode for protocol 2.0\r\n    debug1: Local version string SSH-2.0-OpenSSH_5.3\r\n    debug1: SSH2_MSG_KEXINIT sent\r\n    debug1: SSH2_MSG_KEXINIT received\r\n    debug1: kex: server-&gt;client aes128-ctr hmac-sha1 none\r\n    debug1: kex: client-&gt;server aes128-ctr hmac-sha1 none\r\n    debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;8192) sent\r\n    debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\r\n    debug1: SSH2_MSG_KEX_DH_GEX_INIT sent\r\n    debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\r\n    debug1: Host &#39;server1&#39; is known and matches the RSA host key.\r\n    debug1: Found key in /.ssh/known_hosts:155\r\n    debug1: ssh_rsa_verify: signature correct\r\n    debug1: SSH2_MSG_NEWKEYS sent\r\n    debug1: expecting SSH2_MSG_NEWKEYS\r\n    debug1: SSH2_MSG_NEWKEYS received\r\n    debug1: SSH2_MSG_SERVICE_REQUEST sent\r\n    debug1: SSH2_MSG_SERVICE_ACCEPT received\r\n    debug1: Authentications that can continue: publickey,password\r\n    debug1: Next authentication method: publickey\r\n    debug1: Offering public key: /.ssh/id_rsa\r\n    debug1: Server accepts key: pkalg ssh-rsa blen 277\r\n    debug1: read PEM private key done: type RSA\r\n    debug1: Authentication succeeded (publickey).\r\n    debug1: channel 0: new [client-session]\r\n    debug1: Entering interactive session.\r\n    debug1: Sending environment.\r\n    debug1: Sending env LANG = en_GB\r\n    debug1: Sending subsystem: sftp\r\n    sftp&gt;\r\n\r\nNote: I am using SSH-2 RSA 2048 bit keys for connectivity using my application and in command line as well. The only difference I could observe using my application and command line is:\r\n\r\nMy application is sending the below information when connecting:\r\n\r\n    INFO  |: SSH_MSG_KEX_DH_GEX_REQUEST(1024&lt;1024&lt;1024) sent\r\n\r\nWhereas command line connectivity is sending below information when connecting:\r\n\r\n    debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;8192) sent\r\n\r\nAny suggestion on how to change my application to send SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;8192) would be much helpful.","title":"Using 2048 bit primes in JSch","body":"<p>I am trying to attempt SSH connection from my Java application to an external server of client. The client has enhanced the security and they are not accepting 1024 bit primes but my JSch is sending only 1024 bit primes.</p>\n\n<p>Please find verbose error output from my application below:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>INFO  |: Launching [sftp] handler\nINFO  |: Creating SFTP session to host [server1] with logger for JSch\nINFO  |: Connecting via public/private key.\nINFO  |: Session created.\nINFO  |: Connecting to server1 port 22\nINFO  |: Connection established\nINFO  |: Remote version string: SSH-2.0-VShell_4_1_1_862 VShell\nINFO  |: Local version string: SSH-2.0-JSCH-0.1.53\nINFO  |: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\nINFO  |: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\nINFO  |: SSH_MSG_KEXINIT sent\nINFO  |: SSH_MSG_KEXINIT received\nINFO  |: kex: server: diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha1,ecdh-sha2-nistp521,ecdh-sha2-nistp384,ecdh-sha2-nistp256,diffie-hellman-group-exchange-sha256\nINFO  |: kex: server: ecdsa-sha2-nistp256,ssh-dss,ssh-rsa\nINFO  |: kex: server: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-cbc\nINFO  |: kex: server: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-cbc\nINFO  |: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\nINFO  |: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\nINFO  |: kex: server: zlib@openssh.com,zlib,none\nINFO  |: kex: server: zlib@openssh.com,zlib,none\nINFO  |: kex: client: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\nINFO  |: kex: client: ssh-rsa,ssh-dss\nINFO  |: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\nINFO  |: kex: client: aes128-cbc,3des-cbc\nINFO  |: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO  |: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO  |: kex: server-&gt;client aes128-cbc hmac-sha1 none\nINFO  |: kex: client-&gt;server aes128-ctr hmac-sha1 none\nINFO  |: SSH_MSG_KEX_DH_GEX_REQUEST(1024&lt;1024&lt;1024) sent\nINFO  |: expecting SSH_MSG_KEX_DH_GEX_GROUP\nINFO  |: Disconnecting from server1 port 22\nERROR |: Unable to connect to SFTP server. com.jcraft.jsch.JSchException: SSH_MSG_DISCONNECT: 11 No appropriate prime between 1024 and 1024 is available.  en\nINFO  |: -----------------------------------------------------------------------------------------------\n</code></pre>\n\n<p>Few other blogs suggested upgrading to JSch version 0.1.53 would fix the issue but I am already using 0.1.53 version in my application.</p>\n\n<p>When I try to connect from command line using verbose option I am able to connect:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ sftp -v username@server1\nConnecting to server1...\nOpenSSH_5.3p1, OpenSSL 1.0.1e-fips 11 Feb 2013\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\ndebug1: Connecting to server1 [10.XX.XXX.XXX] port 22.\ndebug1: Connection established.\ndebug1: identity file /.ssh/id_rsa type 1\ndebug1: identity file /.ssh/id_rsa-cert type -1\ndebug1: identity file /.ssh/id_dsa type -1\ndebug1: identity file /.ssh/id_dsa-cert type -1\ndebug1: identity file /.ssh/id_ecdsa type -1\ndebug1: identity file /.ssh/id_ecdsa-cert type -1\ndebug1: Remote protocol version 2.0, remote software version VShell_4_1_1_862 VShell\ndebug1: no match: VShell_4_1_1_862 VShell\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_5.3\ndebug1: SSH2_MSG_KEXINIT sent\ndebug1: SSH2_MSG_KEXINIT received\ndebug1: kex: server-&gt;client aes128-ctr hmac-sha1 none\ndebug1: kex: client-&gt;server aes128-ctr hmac-sha1 none\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;8192) sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\ndebug1: Host 'server1' is known and matches the RSA host key.\ndebug1: Found key in /.ssh/known_hosts:155\ndebug1: ssh_rsa_verify: signature correct\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug1: SSH2_MSG_NEWKEYS received\ndebug1: SSH2_MSG_SERVICE_REQUEST sent\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug1: Authentications that can continue: publickey,password\ndebug1: Next authentication method: publickey\ndebug1: Offering public key: /.ssh/id_rsa\ndebug1: Server accepts key: pkalg ssh-rsa blen 277\ndebug1: read PEM private key done: type RSA\ndebug1: Authentication succeeded (publickey).\ndebug1: channel 0: new [client-session]\ndebug1: Entering interactive session.\ndebug1: Sending environment.\ndebug1: Sending env LANG = en_GB\ndebug1: Sending subsystem: sftp\nsftp&gt;\n</code></pre>\n\n<p>Note: I am using SSH-2 RSA 2048 bit keys for connectivity using my application and in command line as well. The only difference I could observe using my application and command line is:</p>\n\n<p>My application is sending the below information when connecting:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>INFO  |: SSH_MSG_KEX_DH_GEX_REQUEST(1024&lt;1024&lt;1024) sent\n</code></pre>\n\n<p>Whereas command line connectivity is sending below information when connecting:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;8192) sent\n</code></pre>\n\n<p>Any suggestion on how to change my application to send SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;8192) would be much helpful.</p>\n"},{"tags":["java","string","printf","newline"],"answers":[{"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1353580727,"post_id":13510743,"comment_id":18493397,"body_markdown":"Doesn&#39;t `%n` tell the compiler to go to `System.getProperty(&quot;line.separator&quot;)` which supposed to be a new line?","body":"Doesn&#39;t <code>%n</code> tell the compiler to go to <code>System.getProperty(&quot;line.separator&quot;)</code> which supposed to be a new line?"},{"owner":{"account_id":1335455,"reputation":181,"user_id":1278336,"accept_rate":0,"display_name":"Beth Ann Meredith"},"score":0,"creation_date":1353580768,"post_id":13510743,"comment_id":18493422,"body_markdown":"Hey Rohit,  I tried and it doesn&#39;t even print out her name or who she is compatible with at all.","body":"Hey Rohit,  I tried and it doesn&#39;t even print out her name or who she is compatible with at all."},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1353580991,"post_id":13510743,"comment_id":18493520,"body_markdown":"@Maroun85.. Yeah you are right. Forgot that. Re-checked the OP to get what exactly he got wrong. Thanks :)","body":"@Maroun85.. Yeah you are right. Forgot that. Re-checked the OP to get what exactly he got wrong. Thanks :)"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1353581024,"post_id":13510743,"comment_id":18493540,"body_markdown":"@BethAnnMeredith.. I think it should work. Can you post what you tried? May be you missed somthing.","body":"@BethAnnMeredith.. I think it should work. Can you post what you tried? May be you missed somthing."},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1353581573,"post_id":13510743,"comment_id":18493810,"body_markdown":"@BethAnnMeredith.. Do remember to mark the answer as accepted by clicking the arrow besides it.","body":"@BethAnnMeredith.. Do remember to mark the answer as accepted by clicking the arrow besides it."},{"owner":{"account_id":15525540,"reputation":587,"user_id":11211041,"display_name":"Snostorp"},"score":0,"creation_date":1680424587,"post_id":13510743,"comment_id":133893557,"body_markdown":"Don&#39;t use \\n, %n is safer: https://stackoverflow.com/a/31981167/11211041","body":"Don&#39;t use \\n, %n is safer: <a href=\"https://stackoverflow.com/a/31981167/11211041\">stackoverflow.com/a/31981167/11211041</a>"}],"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":6,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1353581684,"creation_date":1353580430,"answer_id":13510743,"question_id":13510661,"body_markdown":"`%n` should have worked. But the problem is, you have just used it at the end in your format string. You need to insert it at appropriate places: -\r\n\r\n    &quot;%-15s %15s %15s %n %45s %n %45s&quot;\r\n\r\n\r\n----------\r\n\r\n\r\nYou can also use `&quot;\\n&quot;` between your format specifiers to print a newline: -\r\n\r\n    System.out.printf (&quot;%-15s %15s %15s \\n %45s \\n %45s&quot;, \r\n                         n, &quot; is compatible with &quot;, dates[k],dates[k+1],dates[k+2]);\r\n\r\nAlso, I have increased the `length` of last two names from `15` to `45`, to format them just below the previous names.\r\n\r\n\r\n","title":"Is &quot;%n&quot; correct as a newline using printf in Java?","body":"<p><code>%n</code> should have worked. But the problem is, you have just used it at the end in your format string. You need to insert it at appropriate places: -</p>\n\n<pre><code>\"%-15s %15s %15s %n %45s %n %45s\"\n</code></pre>\n\n<hr>\n\n<p>You can also use <code>\"\\n\"</code> between your format specifiers to print a newline: -</p>\n\n<pre><code>System.out.printf (\"%-15s %15s %15s \\n %45s \\n %45s\", \n                     n, \" is compatible with \", dates[k],dates[k+1],dates[k+2]);\n</code></pre>\n\n<p>Also, I have increased the <code>length</code> of last two names from <code>15</code> to <code>45</code>, to format them just below the previous names.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1353580710,"creation_date":1353580710,"answer_id":13510852,"question_id":13510661,"body_markdown":"Yes, `%n` is a newline in printf. See the documentation of [java.util.Formatter][1], specifically the conversion table which specifies:\r\n\r\n&gt; &#39;`n`&#39; \tline separator \tThe result is the platform-specific line separator \r\n\r\nYour output currently only has a linebreak at the end, not at the points that you seem to want them. You would need to use a format like:\r\n\r\n    &quot;%-15s %15s %15s %n %15s %n %15s %n&quot;\r\n\r\n(and maybe some tabs thrown in there for alignment).\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html","title":"Is &quot;%n&quot; correct as a newline using printf in Java?","body":"<p>Yes, <code>%n</code> is a newline in printf. See the documentation of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"noreferrer\">java.util.Formatter</a>, specifically the conversion table which specifies:</p>\n\n<blockquote>\n  <p>'<code>n</code>'     line separator  The result is the platform-specific line separator </p>\n</blockquote>\n\n<p>Your output currently only has a linebreak at the end, not at the points that you seem to want them. You would need to use a format like:</p>\n\n<pre><code>\"%-15s %15s %15s %n %15s %n %15s %n\"\n</code></pre>\n\n<p>(and maybe some tabs thrown in there for alignment).</p>\n"},{"tags":[],"owner":{"account_id":1587724,"reputation":1822,"user_id":1471699,"accept_rate":29,"display_name":"Srinivas B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680710936,"creation_date":1353580712,"answer_id":13510853,"question_id":13510661,"body_markdown":"You can try this:\r\n\r\n    if (count == 3) {\r\n        System.out.printf(&quot;%-15s %15s %15s %15s %15s %n&quot;, n, &quot; is compatible with&quot;,\r\n                dates[k],dates[k+1],dates[k+2]+&quot;\\n&quot;);\r\n    }","title":"Is &quot;%n&quot; correct as a newline using printf in Java?","body":"<p>You can try this:</p>\n<pre><code>if (count == 3) {\n    System.out.printf(&quot;%-15s %15s %15s %15s %15s %n&quot;, n, &quot; is compatible with&quot;,\n            dates[k],dates[k+1],dates[k+2]+&quot;\\n&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1335455,"reputation":181,"user_id":1278336,"accept_rate":0,"display_name":"Beth Ann Meredith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55493,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1680710936,"creation_date":1353580157,"question_id":13510661,"body_markdown":"I&#39;m new to Java and I&#39;m at my wits&#39; end.  \r\n\r\nI have got my program to work, but I need help with the formatting when printing out.\r\n\r\n    if(count == 3)\r\n        System.out.printf (&quot;%-15s %15s %15s %15s %15s %n&quot;, n, &quot; is compatible with &quot;,dates[k],dates[k+1],dates[k+2]);\r\n\r\nMy output is:\r\n \r\n    Stacey Francis   is compatible with     Owen Farrell   Jack Clifford  Joshua Watkins \r\n\r\nI would like my output to be (without repeating stacey francis name or &quot;is compatible with&quot;:\r\n\r\n    Stacey Francis   is compatible with  Owen Farrell\r\n                                     \r\n                              Jack Clifford\r\n                                     \r\n                              Joshua Watkins\r\n\r\nJust wondering how to go about this?","title":"Is &quot;%n&quot; correct as a newline using printf in Java?","body":"<p>I'm new to Java and I'm at my wits' end.</p>\n<p>I have got my program to work, but I need help with the formatting when printing out.</p>\n<pre><code>if(count == 3)\n    System.out.printf (&quot;%-15s %15s %15s %15s %15s %n&quot;, n, &quot; is compatible with &quot;,dates[k],dates[k+1],dates[k+2]);\n</code></pre>\n<p>My output is:</p>\n<pre><code>Stacey Francis   is compatible with     Owen Farrell   Jack Clifford  Joshua Watkins \n</code></pre>\n<p>I would like my output to be (without repeating stacey francis name or &quot;is compatible with&quot;:</p>\n<pre><code>Stacey Francis   is compatible with  Owen Farrell\n                                 \n                          Jack Clifford\n                                 \n                          Joshua Watkins\n</code></pre>\n<p>Just wondering how to go about this?</p>\n"},{"tags":["java","spring-boot","generics"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1680709211,"post_id":75941410,"comment_id":133945049,"body_markdown":"Can you show a compilation output?","body":"Can you show a compilation output?"},{"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1680709274,"post_id":75941410,"comment_id":133945072,"body_markdown":"Please see my updates @RomanC","body":"Please see my updates @RomanC"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680714319,"post_id":75941410,"comment_id":133946437,"body_markdown":"Don&#39;t use raw types (not that adding a generic type will help here, though)","body":"Don&#39;t use raw types (not that adding a generic type will help here, though)"}],"answers":[{"tags":[],"owner":{"account_id":10761390,"reputation":97,"user_id":7917687,"display_name":"Ashad0203"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680710696,"creation_date":1680710057,"answer_id":75941592,"question_id":75941410,"body_markdown":"The compiler error is caused by the fruitExecutorMap field being defined as a Map that can hold any AbstractFruitExecutor instance. When calling fruitExecutorMap.get(fruit.getClass()), the returned value is of an unknown type that extends AbstractFruit, causing a compatibility issue. To fix this, use a bounded wildcard for the fruitExecutorMap field to only accept AbstractFruitExecutor instances that can handle a specific subtype of AbstractFruit. This guarantees compatibility between the type of fruitExecutor and fruit, resolving the error.\r\n```java\r\nprivate Map&lt;Class&lt;? extends AbstractFruit&gt;, AbstractFruitExecutor&lt;? extends AbstractFruit&gt;&gt; fruitExecutorMap;\r\n\r\n```\r\nAlternate solution is to use Visitor Design pattern\r\n```java\r\npublic interface FruitVisitor {\r\n    void visit(Apple apple);\r\n    void visit(Pear pear);\r\n    void visit(Orange orange);\r\n    // Add visit methods for other concrete subclasses of AbstractFruit as needed\r\n}\r\n\r\npublic abstract class AbstractFruit {\r\n    // ...\r\n    public abstract void accept(FruitVisitor visitor);\r\n}\r\n\r\npublic class Apple extends AbstractFruit {\r\n    // ...\r\n    @Override\r\n    public void accept(FruitVisitor visitor) {\r\n        visitor.visit(this);\r\n    }\r\n}\r\n\r\npublic class Pear extends AbstractFruit {\r\n    // ...\r\n    @Override\r\n    public void accept(FruitVisitor visitor) {\r\n        visitor.visit(this);\r\n    }\r\n}\r\n\r\npublic class Orange extends AbstractFruit {\r\n    // ...\r\n    @Override\r\n    public void accept(FruitVisitor visitor) {\r\n        visitor.visit(this);\r\n    }\r\n}\r\n\r\npublic class FruitProcessingContext {\r\n    // Define any context information needed for fruit processing\r\n}\r\n\r\n@Service\r\npublic class FruitExecutionDispatch implements FruitVisitor {\r\n\r\n    @Autowired\r\n    private FruitProcessingContext fpc;\r\n\r\n    public void executeAll(List&lt;AbstractFruit&gt; fruits) {\r\n        fruits.forEach(fruit -&gt; fruit.accept(this));\r\n    }\r\n\r\n    @Override\r\n    public void visit(Apple apple) {\r\n        // Logic for processing an apple goes here\r\n    }\r\n\r\n    @Override\r\n    public void visit(Pear pear) {\r\n        // Logic for processing a pear goes here\r\n    }\r\n\r\n    @Override\r\n    public void visit(Orange orange) {\r\n        // Logic for processing an orange goes here\r\n    }\r\n\r\n    // Implement additional visit methods for other concrete subclasses of AbstractFruit as needed\r\n}\r\n\r\n```","title":"Dispatching subclasses to their respective executor in Spring Boot","body":"<p>The compiler error is caused by the fruitExecutorMap field being defined as a Map that can hold any AbstractFruitExecutor instance. When calling fruitExecutorMap.get(fruit.getClass()), the returned value is of an unknown type that extends AbstractFruit, causing a compatibility issue. To fix this, use a bounded wildcard for the fruitExecutorMap field to only accept AbstractFruitExecutor instances that can handle a specific subtype of AbstractFruit. This guarantees compatibility between the type of fruitExecutor and fruit, resolving the error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Map&lt;Class&lt;? extends AbstractFruit&gt;, AbstractFruitExecutor&lt;? extends AbstractFruit&gt;&gt; fruitExecutorMap;\n\n</code></pre>\n<p>Alternate solution is to use Visitor Design pattern</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface FruitVisitor {\n    void visit(Apple apple);\n    void visit(Pear pear);\n    void visit(Orange orange);\n    // Add visit methods for other concrete subclasses of AbstractFruit as needed\n}\n\npublic abstract class AbstractFruit {\n    // ...\n    public abstract void accept(FruitVisitor visitor);\n}\n\npublic class Apple extends AbstractFruit {\n    // ...\n    @Override\n    public void accept(FruitVisitor visitor) {\n        visitor.visit(this);\n    }\n}\n\npublic class Pear extends AbstractFruit {\n    // ...\n    @Override\n    public void accept(FruitVisitor visitor) {\n        visitor.visit(this);\n    }\n}\n\npublic class Orange extends AbstractFruit {\n    // ...\n    @Override\n    public void accept(FruitVisitor visitor) {\n        visitor.visit(this);\n    }\n}\n\npublic class FruitProcessingContext {\n    // Define any context information needed for fruit processing\n}\n\n@Service\npublic class FruitExecutionDispatch implements FruitVisitor {\n\n    @Autowired\n    private FruitProcessingContext fpc;\n\n    public void executeAll(List&lt;AbstractFruit&gt; fruits) {\n        fruits.forEach(fruit -&gt; fruit.accept(this));\n    }\n\n    @Override\n    public void visit(Apple apple) {\n        // Logic for processing an apple goes here\n    }\n\n    @Override\n    public void visit(Pear pear) {\n        // Logic for processing a pear goes here\n    }\n\n    @Override\n    public void visit(Orange orange) {\n        // Logic for processing an orange goes here\n    }\n\n    // Implement additional visit methods for other concrete subclasses of AbstractFruit as needed\n}\n\n</code></pre>\n"}],"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75941592,"answer_count":1,"score":0,"last_activity_date":1680710696,"creation_date":1680709032,"question_id":75941410,"body_markdown":"Java 11 and Spring Boot here (if that makes a difference). I have the following POJOs:\r\n```\r\npublic abstract class AbstractFruit {\r\n    private String name;\r\n    private String description;\r\n    private Integer quantity;\r\n    // ...etc.\r\n    // getters, setters &amp; ctor omitted for brevity\r\n}\r\n\r\npublic class Apple extends AbstractFruit {\r\n    private AppleType appleType;\r\n    // etc.\r\n}\r\n\r\npublic class Pear extends AbstractFruit { ... }\r\n\r\npublic class Orange extends AbstractFruit { ... }\r\n\r\n// etc., dozens more\r\n```\r\n\r\nAnd for each of these `AbstractFruit` subclasses, there is a respective `AbstractFruitExecutor` class that executes instances of that fruit:\r\n```\r\npublic abstract class AbstractFruitExecutor&lt;E extends AbstractFruit&gt; {\r\n\r\n    protected abstract void execute(FruitProcessingContext fpc, E fruit);\r\n\r\n    // other stuff, omitted for brevity\r\n}\r\n\r\npublic class AppleExecutor extends AbstractFruitExecutor&lt;Apple&gt; { ... }\r\npublic class PearExecutor extends AbstractFruitExecutor&lt;Pear&gt; { ... }\r\npublic class OrangeExecutor extends AbstractFruitExecutor&lt;Orange&gt; { ... }\r\n```\r\n\r\nI will be given a `List&lt;AbstractFruit&gt;` and need to send each element in the list to its respective executor:\r\n```\r\n@Service\r\npublic class FruitExecutionDispatch {\r\n\r\n    @Autowired\r\n    private Map&lt;Class&lt;? extends AbstractFruit&gt;, AbstractFruitExecutor&gt; fruitExecutorMap;\r\n\r\n    public void executeAll(List&lt;AbstractFruit&gt; fruits, FruitProcessingContext fpc) {\r\n\r\n        fruits.forEach(fruit -&gt; {\r\n            AbstractFruitExecutor&lt;?&gt; fruitExecutor = findFruitExecutor(fruit).orElseThrow();\r\n            fruitExecutor.execute(fpc, fruit);\r\n        });\r\n\r\n    }\r\n\r\n    private Optional&lt;AbstractFruitExecutor&lt;?&gt;&gt; findFruitExecutor(AbstractFruit fruit) {\r\n        return Optional.ofNullable(fruitExecutorMap.get(fruit.getClass()));\r\n    }\r\n\r\n}\r\n```\r\n\r\nUnfortunately the above code produces a compiler error:\r\n&gt; &quot;_Required type: capture of ?, Provided: AbstractFruit_&quot;\r\n\r\nThe above is IntelliJ IDE error. On the command line when I try to run the app I get:\r\n```\r\n  where CAP#1 is a fresh type-variable:\r\n    CAP#1 extends AbstractFruit from capture of ?\r\n```\r\n\r\nCan someone spot where I&#39;m going awry and explain how I can fix this compiler error? Also if there are any better design patterns or utilities that Spring/Boot offers to help with this, I&#39;m all ears. Thanks in advance!","title":"Dispatching subclasses to their respective executor in Spring Boot","body":"<p>Java 11 and Spring Boot here (if that makes a difference). I have the following POJOs:</p>\n<pre><code>public abstract class AbstractFruit {\n    private String name;\n    private String description;\n    private Integer quantity;\n    // ...etc.\n    // getters, setters &amp; ctor omitted for brevity\n}\n\npublic class Apple extends AbstractFruit {\n    private AppleType appleType;\n    // etc.\n}\n\npublic class Pear extends AbstractFruit { ... }\n\npublic class Orange extends AbstractFruit { ... }\n\n// etc., dozens more\n</code></pre>\n<p>And for each of these <code>AbstractFruit</code> subclasses, there is a respective <code>AbstractFruitExecutor</code> class that executes instances of that fruit:</p>\n<pre><code>public abstract class AbstractFruitExecutor&lt;E extends AbstractFruit&gt; {\n\n    protected abstract void execute(FruitProcessingContext fpc, E fruit);\n\n    // other stuff, omitted for brevity\n}\n\npublic class AppleExecutor extends AbstractFruitExecutor&lt;Apple&gt; { ... }\npublic class PearExecutor extends AbstractFruitExecutor&lt;Pear&gt; { ... }\npublic class OrangeExecutor extends AbstractFruitExecutor&lt;Orange&gt; { ... }\n</code></pre>\n<p>I will be given a <code>List&lt;AbstractFruit&gt;</code> and need to send each element in the list to its respective executor:</p>\n<pre><code>@Service\npublic class FruitExecutionDispatch {\n\n    @Autowired\n    private Map&lt;Class&lt;? extends AbstractFruit&gt;, AbstractFruitExecutor&gt; fruitExecutorMap;\n\n    public void executeAll(List&lt;AbstractFruit&gt; fruits, FruitProcessingContext fpc) {\n\n        fruits.forEach(fruit -&gt; {\n            AbstractFruitExecutor&lt;?&gt; fruitExecutor = findFruitExecutor(fruit).orElseThrow();\n            fruitExecutor.execute(fpc, fruit);\n        });\n\n    }\n\n    private Optional&lt;AbstractFruitExecutor&lt;?&gt;&gt; findFruitExecutor(AbstractFruit fruit) {\n        return Optional.ofNullable(fruitExecutorMap.get(fruit.getClass()));\n    }\n\n}\n</code></pre>\n<p>Unfortunately the above code produces a compiler error:</p>\n<blockquote>\n<p>&quot;<em>Required type: capture of ?, Provided: AbstractFruit</em>&quot;</p>\n</blockquote>\n<p>The above is IntelliJ IDE error. On the command line when I try to run the app I get:</p>\n<pre><code>  where CAP#1 is a fresh type-variable:\n    CAP#1 extends AbstractFruit from capture of ?\n</code></pre>\n<p>Can someone spot where I'm going awry and explain how I can fix this compiler error? Also if there are any better design patterns or utilities that Spring/Boot offers to help with this, I'm all ears. Thanks in advance!</p>\n"},{"tags":["java","lambda","foreach","java-stream","indexof"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1446124215,"post_id":33415089,"comment_id":54619884,"body_markdown":"How about replacing `day` at the end with nothing, i.e. apply `String#replaceAll(&quot;day$&quot;, &quot;&quot;)` to all elements. Just an idea how to get rid of the condition. If you can&#39;t write the changed elements back to the list (I don&#39;t know that API that well yet but &quot;forEach&quot; indicates it is not possible) you could collect them into a new list.","body":"How about replacing <code>day</code> at the end with nothing, i.e. apply <code>String#replaceAll(&quot;day$&quot;, &quot;&quot;)</code> to all elements. Just an idea how to get rid of the condition. If you can&#39;t write the changed elements back to the list (I don&#39;t know that API that well yet but &quot;forEach&quot; indicates it is not possible) you could collect them into a new list."},{"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"score":0,"creation_date":1446124274,"post_id":33415089,"comment_id":54619930,"body_markdown":"why don&#39;t you simply iterate over the list with a for loop?","body":"why don&#39;t you simply iterate over the list with a for loop?"},{"owner":{"account_id":5155415,"reputation":337,"user_id":4156963,"accept_rate":33,"display_name":"Pavan"},"score":0,"creation_date":1446124401,"post_id":33415089,"comment_id":54620004,"body_markdown":"@Thanigaiarasu I have done the same thing, you can see that in question. my question is after this operation my list should have elements without &quot;day&quot;","body":"@Thanigaiarasu I have done the same thing, you can see that in question. my question is after this operation my list should have elements without &quot;day&quot;"},{"owner":{"account_id":2403437,"reputation":1315,"user_id":2100584,"display_name":"Tomas"},"score":1,"creation_date":1446130673,"post_id":33415089,"comment_id":54624850,"body_markdown":"@wero Because he wants to know how to do this using a lambda?","body":"@wero Because he wants to know how to do this using a lambda?"}],"answers":[{"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1446124533,"post_id":33415274,"comment_id":54620112,"body_markdown":"Funny, my solution looked like yours :D. So I don&#39;t need to post it.","body":"Funny, my solution looked like yours :D. So I don&#39;t need to post it."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1446124767,"post_id":33415274,"comment_id":54620285,"body_markdown":"I think your `s.substring(0, s.indexOf(&quot;day&quot;))` would be better written as `s.substring(0, s.length()-3)`; that way you don&#39;t run the risk of hitting an earlier occurrence of `&quot;day&quot;` in the string.","body":"I think your <code>s.substring(0, s.indexOf(&quot;day&quot;))</code> would be better written as <code>s.substring(0, s.length()-3)</code>; that way you don&#39;t run the risk of hitting an earlier occurrence of <code>&quot;day&quot;</code> in the string."},{"owner":{"account_id":4127389,"reputation":2900,"user_id":3386144,"accept_rate":73,"display_name":"TNT"},"score":0,"creation_date":1446124901,"post_id":33415274,"comment_id":54620376,"body_markdown":"@khelwood Or better yet `lastIndexOf`. But thanks for the heads up.","body":"@khelwood Or better yet <code>lastIndexOf</code>. But thanks for the heads up."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1446125104,"post_id":33415274,"comment_id":54620528,"body_markdown":"@TNT better yet why? you&#39;re just performing an extra search that you already know the result of.","body":"@TNT better yet why? you&#39;re just performing an extra search that you already know the result of."},{"owner":{"account_id":4127389,"reputation":2900,"user_id":3386144,"accept_rate":73,"display_name":"TNT"},"score":0,"creation_date":1446125510,"post_id":33415274,"comment_id":54620836,"body_markdown":"@khelwood You have a point. I was thinking more in terms of readability as if it would be easier to note that the range of the substring ends at the index of the last occurrence of &quot;day&quot;. But like you said, that&#39;s already known, and that seems like a better solution as well.","body":"@khelwood You have a point. I was thinking more in terms of readability as if it would be easier to note that the range of the substring ends at the index of the last occurrence of &quot;day&quot;. But like you said, that&#39;s already known, and that seems like a better solution as well."}],"tags":[],"owner":{"account_id":4127389,"reputation":2900,"user_id":3386144,"accept_rate":73,"display_name":"TNT"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1446125568,"creation_date":1446124461,"answer_id":33415274,"question_id":33415089,"body_markdown":"Iterating over the stream using `forEach` won&#39;t work; you need to map each of the elements you modified to a new stream using `map`. Then you can collect the results back to your list.\r\n\r\n    daysList = daysList.stream()\r\n\t\t\t.map(s -&gt; s.endsWith(&quot;day&quot;) ? s.substring(0, s.length()-3) : s)\r\n\t\t\t.collect(Collectors.toList());","title":"How to do substring in some elements of string list using lambda","body":"<p>Iterating over the stream using <code>forEach</code> won't work; you need to map each of the elements you modified to a new stream using <code>map</code>. Then you can collect the results back to your list.</p>\n\n<pre><code>daysList = daysList.stream()\n        .map(s -&gt; s.endsWith(\"day\") ? s.substring(0, s.length()-3) : s)\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":376033,"reputation":716,"user_id":4088809,"display_name":"Tahar Bakir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446124997,"creation_date":1446124997,"answer_id":33415458,"question_id":33415089,"body_markdown":"    List&lt;String&gt; daysList = Arrays.asList(&quot;sunday&quot;, &quot;monday&quot;, \r\n                                          &quot;tuesday&quot;, &quot;wednesday&quot;,\r\n                                           &quot;fri&quot;, &quot;satur&quot; \r\n                                          );\r\n\r\n\r\n    List&lt;String&gt; res = daysList.stream()\r\n                                .map(s -&gt; s.replace(&quot;day&quot;,&quot;&quot;))\r\n                                .collect(Collectors.toList());","title":"How to do substring in some elements of string list using lambda","body":"<pre><code>List&lt;String&gt; daysList = Arrays.asList(\"sunday\", \"monday\", \n                                      \"tuesday\", \"wednesday\",\n                                       \"fri\", \"satur\" \n                                      );\n\n\nList&lt;String&gt; res = daysList.stream()\n                            .map(s -&gt; s.replace(\"day\",\"\"))\n                            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1446124998,"creation_date":1446124998,"answer_id":33415459,"question_id":33415089,"body_markdown":"Most of the answers here make use of a Stream, but you should not be using a Stream at all:\r\n\r\n    daysList.replaceAll(s -&gt; s.replaceFirst(&quot;day$&quot;, &quot;&quot;));\r\n","title":"How to do substring in some elements of string list using lambda","body":"<p>Most of the answers here make use of a Stream, but you should not be using a Stream at all:</p>\n\n<pre><code>daysList.replaceAll(s -&gt; s.replaceFirst(\"day$\", \"\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213972,"reputation":13,"user_id":467660,"display_name":"Rintu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531391094,"creation_date":1531391094,"answer_id":51303191,"question_id":33415089,"body_markdown":"**Sub String with decimal points sorting** .\r\n\r\nString arr[]=  {&quot;2.4&quot;,&quot;4.2&quot;,&quot;3.1&quot;,&quot;5.7&quot;,&quot;3.0&quot;,&quot;2.01&quot;,&quot;7.06&quot;,&quot;6.003&quot;};\r\n\t\t\r\nList&lt;String&gt; newList =Arrays.asList(arr);\r\nnewList.stream().map(n -&gt; n.substring(n.indexOf(&#39;.&#39;)) ).collect(Collectors.toList()).stream().sorted().forEach(n -&gt; System.out.println(n));;","title":"How to do substring in some elements of string list using lambda","body":"<p><strong>Sub String with decimal points sorting</strong> .</p>\n\n<p>String arr[]=  {\"2.4\",\"4.2\",\"3.1\",\"5.7\",\"3.0\",\"2.01\",\"7.06\",\"6.003\"};</p>\n\n<p>List newList =Arrays.asList(arr);\nnewList.stream().map(n -> n.substring(n.indexOf('.')) ).collect(Collectors.toList()).stream().sorted().forEach(n -> System.out.println(n));;</p>\n"}],"owner":{"account_id":5155415,"reputation":337,"user_id":4156963,"accept_rate":33,"display_name":"Pavan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19392,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":33415459,"answer_count":4,"score":8,"last_activity_date":1680710659,"creation_date":1446123943,"question_id":33415089,"body_markdown":"Below is my list of String.\r\n\r\n    [&quot;sunday&quot;, &quot;monday&quot;, &quot;tuesday&quot;, &quot;wednesday&quot;, &quot;thurs&quot;, &quot;fri&quot;, &quot;satur&quot;]\r\n\r\nI want to do remove &quot;**day**&quot; from the elements, if it is ending with &quot;day&quot;.  \r\n\r\nExpected Output in the list:\r\n\r\n    [&quot;sun&quot;, &quot;mon&quot;, &quot;tues&quot;, &quot;wednes&quot;, &quot;thurs&quot;, &quot;fri&quot;, &quot;satur&quot;]\r\n\r\n**How to do this using Lambda?**\r\n\r\nI have tried the below code, but was unable to assign the value to the list:\r\n\r\n    daysList.stream().forEach(s -&gt; {\r\n        if (s.endsWith(&quot;day&quot;)) {\r\n            s = s.substring(0, s.indexOf(&quot;day&quot;));\r\n        }\r\n    });\r\n","title":"How to do substring in some elements of string list using lambda","body":"<p>Below is my list of String.</p>\n<pre><code>[&quot;sunday&quot;, &quot;monday&quot;, &quot;tuesday&quot;, &quot;wednesday&quot;, &quot;thurs&quot;, &quot;fri&quot;, &quot;satur&quot;]\n</code></pre>\n<p>I want to do remove &quot;<strong>day</strong>&quot; from the elements, if it is ending with &quot;day&quot;.</p>\n<p>Expected Output in the list:</p>\n<pre><code>[&quot;sun&quot;, &quot;mon&quot;, &quot;tues&quot;, &quot;wednes&quot;, &quot;thurs&quot;, &quot;fri&quot;, &quot;satur&quot;]\n</code></pre>\n<p><strong>How to do this using Lambda?</strong></p>\n<p>I have tried the below code, but was unable to assign the value to the list:</p>\n<pre><code>daysList.stream().forEach(s -&gt; {\n    if (s.endsWith(&quot;day&quot;)) {\n        s = s.substring(0, s.indexOf(&quot;day&quot;));\n    }\n});\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1680789187,"post_id":75938725,"comment_id":133959770,"body_markdown":"What Camel version?\nHow do you call the rest endpoint? Note that you have declared the rest as a GET which mean there is no payload, so if you want to upload a file, then you likely want to use POST instead","body":"What Camel version? How do you call the rest endpoint? Note that you have declared the rest as a GET which mean there is no payload, so if you want to upload a file, then you likely want to use POST instead"},{"owner":{"account_id":27794050,"reputation":1,"user_id":21219951,"display_name":"Adwaita"},"score":0,"creation_date":1680790141,"post_id":75938725,"comment_id":133960009,"body_markdown":"@Claus Ibsen, I am using 3.3.0 as Camel version. I want to use this rest end point as Producer, so that it can be processed to produce the json.","body":"@Claus Ibsen, I am using 3.3.0 as Camel version. I want to use this rest end point as Producer, so that it can be processed to produce the json."},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1681019867,"post_id":75938725,"comment_id":133990205,"body_markdown":"Camel 3.3.0 is very old, if you can try with latest 3.x release like 3.20.3, or 3.14.x if you must stay on Java 8.","body":"Camel 3.3.0 is very old, if you can try with latest 3.x release like 3.20.3, or 3.14.x if you must stay on Java 8."}],"owner":{"account_id":27794050,"reputation":1,"user_id":21219951,"display_name":"Adwaita"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680710519,"creation_date":1680693154,"question_id":75938725,"body_markdown":"I want to read an Excel file and convert it to a json file through camel REST. But when I tried to access the API inside my route it&#39;s saying:\r\n\r\n&gt; Route: route1 started and consuming from: servlet: /api/convertFile\r\n\r\nAfter this no progress is happening.\r\n\r\nI have tried as below:\r\n\r\n```\r\npublic void configure() throws Exception {\r\n    from(&quot;rest:get:/api/convertFile?host=http://localhost:8080&quot;).autoStartup(false).setHeader(Exchange.HTTP_QUERY, simple(queryparams).process(jsonProcessor);\r\n}\r\n```\r\n\r\nI am expecting after hitting the rest endpoint, it will process the Excel file to json file.\r\n\r\nAny help is highly appreciated.","title":"camel producer is not working while processing a json","body":"<p>I want to read an Excel file and convert it to a json file through camel REST. But when I tried to access the API inside my route it's saying:</p>\n<blockquote>\n<p>Route: route1 started and consuming from: servlet: /api/convertFile</p>\n</blockquote>\n<p>After this no progress is happening.</p>\n<p>I have tried as below:</p>\n<pre><code>public void configure() throws Exception {\n    from(&quot;rest:get:/api/convertFile?host=http://localhost:8080&quot;).autoStartup(false).setHeader(Exchange.HTTP_QUERY, simple(queryparams).process(jsonProcessor);\n}\n</code></pre>\n<p>I am expecting after hitting the rest endpoint, it will process the Excel file to json file.</p>\n<p>Any help is highly appreciated.</p>\n"},{"tags":["java","kubernetes","fabric8-kubernetes-client"],"comments":[{"owner":{"account_id":19088824,"reputation":50,"user_id":13939499,"display_name":"Parneet Raghuvanshi"},"score":0,"creation_date":1680718493,"post_id":75941664,"comment_id":133947402,"body_markdown":"this feature is under implementation, https://github.com/fabric8io/kubernetes-client/pull/4712/files#diff-b95b04f298d96edfaaefd6c00f835dba2dd308eee090ba0c8ea35c22610b2851R80\n\nso any work around till then?","body":"this feature is under implementation, <a href=\"https://github.com/fabric8io/kubernetes-client/pull/4712/files#diff-b95b04f298d96edfaaefd6c00f835dba2dd308eee090ba0c8ea35c22610b2851R80\" rel=\"nofollow noreferrer\">github.com/fabric8io/kubernetes-client/pull/4712/&hellip;</a>  so any work around till then?"}],"owner":{"account_id":19088824,"reputation":50,"user_id":13939499,"display_name":"Parneet Raghuvanshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680710518,"creation_date":1680710518,"question_id":75941664,"body_markdown":"I am trying to create a config-map form a file, using k8s client.\r\n\r\ncontent of application.properties, I have this file as File java object.\r\n\r\n```\r\npropertyOne=&quot;Something_One&quot;\r\npropertyTwo=&quot;Something_Two&quot;\r\n```\r\n\r\nnow I have no clue, how I should create a config-map.\r\n**ConfigMapBuilder** has few options for **.withData()** or **.addToData()** but these consumes only **Map\\&lt;String, String\\&gt;**\r\n\r\nMy goal is to create this config-map, and assign this to a Pod using **EnvFromSourceBuilder**, by using config-map name and assigning that to my **ContainerBuilder**, and only blocker is creating Config-Map.\r\n\r\nCan anyone please help me out, thanks in advance :)","title":"Create Config-Map from my properties file, using k8s client","body":"<p>I am trying to create a config-map form a file, using k8s client.</p>\n<p>content of application.properties, I have this file as File java object.</p>\n<pre><code>propertyOne=&quot;Something_One&quot;\npropertyTwo=&quot;Something_Two&quot;\n</code></pre>\n<p>now I have no clue, how I should create a config-map.\n<strong>ConfigMapBuilder</strong> has few options for <strong>.withData()</strong> or <strong>.addToData()</strong> but these consumes only <strong>Map&lt;String, String&gt;</strong></p>\n<p>My goal is to create this config-map, and assign this to a Pod using <strong>EnvFromSourceBuilder</strong>, by using config-map name and assigning that to my <strong>ContainerBuilder</strong>, and only blocker is creating Config-Map.</p>\n<p>Can anyone please help me out, thanks in advance :)</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1680699319,"post_id":75939554,"comment_id":133942010,"body_markdown":"Where do you deploy your artifacts to?","body":"Where do you deploy your artifacts to?"},{"owner":{"account_id":12400527,"reputation":425,"user_id":9038008,"display_name":"Shikhar Chaudhary"},"score":0,"creation_date":1681283781,"post_id":75939554,"comment_id":134029697,"body_markdown":"in nexus repository","body":"in nexus repository"}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680710348,"creation_date":1680710348,"answer_id":75941636,"question_id":75939554,"body_markdown":"If you execute `mvn install` first on &quot;Customer&quot; project and then also on &quot;PROJECT 2&quot; (on the same machine!), it will work.\r\n\r\nIf you want to build &quot;PROJECT 2&quot; on a different machine you must configure a server where you deploy (using `mvn deploy`) the jars of &quot;Customer&quot; so that they are available to everyone without recompiling them each time.","title":"Could not resolve dependencies for maven project with a dependency (which is a child in a multi maven module project)","body":"<p>If you execute <code>mvn install</code> first on &quot;Customer&quot; project and then also on &quot;PROJECT 2&quot; (on the same machine!), it will work.</p>\n<p>If you want to build &quot;PROJECT 2&quot; on a different machine you must configure a server where you deploy (using <code>mvn deploy</code>) the jars of &quot;Customer&quot; so that they are available to everyone without recompiling them each time.</p>\n"}],"owner":{"account_id":12400527,"reputation":425,"user_id":9038008,"display_name":"Shikhar Chaudhary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680710348,"creation_date":1680698513,"question_id":75939554,"body_markdown":"I have a multi maven module **project** name customer which has 2 modules in it\r\n\r\n 1.  common-module (it contains DTO, enums)\r\n 2.  service-module (service logic)\r\n\r\nBoth, have customer as it&#39;s parent and the module uses Maven inheritance.\r\nSo hierarchy is\r\n\r\n - Customer pom.xml\r\n    \r\n      - common-module pom.xml\r\n      - service-module pom.xml\r\n\r\n\r\n**Problem** : When i try to use the dependency of common-module in another **project**  name PROJECT 2 i get below exception \r\n\r\n\r\n    [ERROR] Failed to execute goal on project PROJECT 2: Could not resolve dependencies \r\n     for project PROJECT 2:jar:1.0-SNAPSHOT: Failed to collect dependencies at \r\n     com.test:common-module:jar:0.0.2-SNAPSHOT: Failed to read artifact descriptor for \r\n     Could not find artifact com.test:common-module:jar:customer:pom:0.0.2-SNAPSHOT\r\n\r\n\r\nHow can i resolve common-module dependency in another project when the common-module uses maven inheritance?","title":"Could not resolve dependencies for maven project with a dependency (which is a child in a multi maven module project)","body":"<p>I have a multi maven module <strong>project</strong> name customer which has 2 modules in it</p>\n<ol>\n<li>common-module (it contains DTO, enums)</li>\n<li>service-module (service logic)</li>\n</ol>\n<p>Both, have customer as it's parent and the module uses Maven inheritance.\nSo hierarchy is</p>\n<ul>\n<li><p>Customer pom.xml</p>\n<ul>\n<li>common-module pom.xml</li>\n<li>service-module pom.xml</li>\n</ul>\n</li>\n</ul>\n<p><strong>Problem</strong> : When i try to use the dependency of common-module in another <strong>project</strong>  name PROJECT 2 i get below exception</p>\n<pre><code>[ERROR] Failed to execute goal on project PROJECT 2: Could not resolve dependencies \n for project PROJECT 2:jar:1.0-SNAPSHOT: Failed to collect dependencies at \n com.test:common-module:jar:0.0.2-SNAPSHOT: Failed to read artifact descriptor for \n Could not find artifact com.test:common-module:jar:customer:pom:0.0.2-SNAPSHOT\n</code></pre>\n<p>How can i resolve common-module dependency in another project when the common-module uses maven inheritance?</p>\n"},{"tags":["java","eclipse","eclipse-plugin"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1652363836,"post_id":72216566,"comment_id":127592316,"body_markdown":"Sorry, but this is very hard to follow. Show us details of the project such as the MANIFEST.MF and the .project file.","body":"Sorry, but this is very hard to follow. Show us details of the project such as the MANIFEST.MF and the .project file."},{"owner":{"account_id":3733432,"reputation":43,"user_id":3105059,"display_name":"Toms Teteris"},"score":0,"creation_date":1652367771,"post_id":72216566,"comment_id":127593997,"body_markdown":"Here is [MANIFEST.MF](https://github.com/Mafioziks/JEB__Extension/blob/update-and-fix/META-INF/MANIFEST.MF) file and here is [.project](https://github.com/Mafioziks/JEB__Extension/blob/update-and-fix/.project) file. @greg-449","body":"Here is <a href=\"https://github.com/Mafioziks/JEB__Extension/blob/update-and-fix/META-INF/MANIFEST.MF\" rel=\"nofollow noreferrer\">MANIFEST.MF</a> file and here is <a href=\"https://github.com/Mafioziks/JEB__Extension/blob/update-and-fix/.project\" rel=\"nofollow noreferrer\">.project</a> file. @greg-449"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1652397397,"post_id":72216566,"comment_id":127603027,"body_markdown":"Your question tells the project is not shown as plugin project, your `.project` it&#39;s a non-Java plugin project and your `MANIFEST.MF` tells it&#39;s a Java plugin project. If the `MANIFEST.MF` is right, in `.project` the `org.eclipse.jdt.core.javabuilder` builder and `org.eclipse.jdt.core.javanature` nature is missing.","body":"Your question tells the project is not shown as plugin project, your <code>.project</code> it&#39;s a non-Java plugin project and your <code>MANIFEST.MF</code> tells it&#39;s a Java plugin project. If the <code>MANIFEST.MF</code> is right, in <code>.project</code> the <code>org.eclipse.jdt.core.javabuilder</code> builder and <code>org.eclipse.jdt.core.javanature</code> nature is missing."},{"owner":{"account_id":3733432,"reputation":43,"user_id":3105059,"display_name":"Toms Teteris"},"score":0,"creation_date":1652442022,"post_id":72216566,"comment_id":127613038,"body_markdown":"@howlger I tried to add both natures, refresh project and even restarted eclipse but it did not made any changes for me.","body":"@howlger I tried to add both natures, refresh project and even restarted eclipse but it did not made any changes for me."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1652444099,"post_id":72216566,"comment_id":127613782,"body_markdown":"Add it as a builder and a nature: `&lt;buildCommand&gt;&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;&lt;arguments/&gt;&lt;/buildCommand&gt;` and `&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;`","body":"Add it as a builder and a nature: <code>&lt;buildCommand&gt;&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;&#47;name&gt;&lt;&zwnj;&#8203;arguments&#47;&gt;&lt;&#47;buildCo&zwnj;&#8203;mmand&gt;</code> and <code>&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;&#47;nature&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":20927372,"reputation":113,"user_id":15407307,"display_name":"hrdom"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680710013,"creation_date":1680710013,"answer_id":75941582,"question_id":72216566,"body_markdown":"The reason for me why it not showing it in the export list is because I selected &quot;**Binary projects**&quot; in **Import As-Import Plug-ins and Fragments**.\r\nI change it to &quot;**Projects with source folders**&quot;. This can then be displayed in &quot;Deployable plug-ins and fragments&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FyH7R.png\r\n  [2]: https://i.stack.imgur.com/FaiSV.png","title":"Exporting Eclipse plugin not able to see project as plugin project","body":"<p>The reason for me why it not showing it in the export list is because I selected &quot;<strong>Binary projects</strong>&quot; in <strong>Import As-Import Plug-ins and Fragments</strong>.\nI change it to &quot;<strong>Projects with source folders</strong>&quot;. This can then be displayed in &quot;Deployable plug-ins and fragments&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/FyH7R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FyH7R.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/FaiSV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FaiSV.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3733432,"reputation":43,"user_id":3105059,"display_name":"Toms Teteris"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680710013,"creation_date":1652362348,"question_id":72216566,"body_markdown":"I am working on Eclipse plugin. At the beginning exporting of it worked fine but I guess that after updating Eclipse it broke down. Eclipse started to mentioned that I have uninstalled some equinox packages. It took time till I understood that version of Eclipse made a problems and I reinstalled older version of Eclipse. Now I am again able to run sample environment with plugin but I still am not able to export plugin. In export form where I need to select deployable plugin and/or fragments I don&#39;t have listed anything. From what I found I understand that it might be problem with importing project in Eclipse as it might not remove information that project is external and thus not listing as project that could be exported. But I did not find any way to prove this case.\r\n\r\nIs there anybody having any idea how to solve this kind of issue?","title":"Exporting Eclipse plugin not able to see project as plugin project","body":"<p>I am working on Eclipse plugin. At the beginning exporting of it worked fine but I guess that after updating Eclipse it broke down. Eclipse started to mentioned that I have uninstalled some equinox packages. It took time till I understood that version of Eclipse made a problems and I reinstalled older version of Eclipse. Now I am again able to run sample environment with plugin but I still am not able to export plugin. In export form where I need to select deployable plugin and/or fragments I don't have listed anything. From what I found I understand that it might be problem with importing project in Eclipse as it might not remove information that project is external and thus not listing as project that could be exported. But I did not find any way to prove this case.</p>\n<p>Is there anybody having any idea how to solve this kind of issue?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1680715260,"post_id":75941566,"comment_id":133946636,"body_markdown":"How is it programmed to send data? Show some code.","body":"How is it programmed to send data? Show some code."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680722392,"post_id":75941566,"comment_id":133948258,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28224413,"reputation":1,"user_id":21574656,"display_name":"Electro Rent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680709927,"creation_date":1680709927,"question_id":75941566,"body_markdown":"Hello fellow developers,\r\n\r\nI am having trouble with an Android app I am working on that is programmed to send GPS data to a web service every 2 hours. The issue is that after about a day or two, the service appears to be interrupted on the phone, and data is no longer sent. The data starts sending again either when one touches the phone or the service is started again from the app or the phone is switched off and turned back on.\r\n\r\nAll Android settings are set to not let the app go to sleep and to ignore battery optimization for my app, and it is also a foreground service.\r\n\r\nI am wondering if anyone has any insight into what could be causing this issue and how to fix it? I appreciate any help or advice you can offer!\r\n\r\nTo troubleshoot this issue, I have tried the following with no success:\r\n\r\nI have checked the app for error messages or exceptions, but none are being thrown when it stops sending data to the web service.\r\nI have set an alarm to see that keeps the app working in non-interactive mode. It works for a few days and then stops again even with the alarm set and going off everyday.\r\nI have checked the web service logs, but there are no errors or issues on that side that would prevent the data from being received.\r\nI have tested the app on multiple devices, and the issue occurs mostly in Sony Xperia, Samsung S22 etc.\r\nI have tried different intervals for sending the GPS data to the web service (e.g., every 10 mins), but the issue persists.\r\nI have tried wakelock/caffeine apps to keep the CPU running.","title":"My Android app stops sending data to the web service after a day or two","body":"<p>Hello fellow developers,</p>\n<p>I am having trouble with an Android app I am working on that is programmed to send GPS data to a web service every 2 hours. The issue is that after about a day or two, the service appears to be interrupted on the phone, and data is no longer sent. The data starts sending again either when one touches the phone or the service is started again from the app or the phone is switched off and turned back on.</p>\n<p>All Android settings are set to not let the app go to sleep and to ignore battery optimization for my app, and it is also a foreground service.</p>\n<p>I am wondering if anyone has any insight into what could be causing this issue and how to fix it? I appreciate any help or advice you can offer!</p>\n<p>To troubleshoot this issue, I have tried the following with no success:</p>\n<p>I have checked the app for error messages or exceptions, but none are being thrown when it stops sending data to the web service.\nI have set an alarm to see that keeps the app working in non-interactive mode. It works for a few days and then stops again even with the alarm set and going off everyday.\nI have checked the web service logs, but there are no errors or issues on that side that would prevent the data from being received.\nI have tested the app on multiple devices, and the issue occurs mostly in Sony Xperia, Samsung S22 etc.\nI have tried different intervals for sending the GPS data to the web service (e.g., every 10 mins), but the issue persists.\nI have tried wakelock/caffeine apps to keep the CPU running.</p>\n"},{"tags":["java","android","google-play-services","android-location"],"answers":[{"tags":[],"owner":{"account_id":26318201,"reputation":5076,"user_id":19980636,"display_name":"Krokomot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680709902,"creation_date":1680709902,"answer_id":75941563,"question_id":75838826,"body_markdown":"Also [`LocationRequest.setPriority()`][1] has become deprecated and been replaced by [`LocationRequest.Builder.setPriority()`][2] where\r\n\r\n&gt; The default value is [`Priority.PRIORITY_BALANCED_POWER_ACCURACY`][3].\r\n\r\nSo in your case you don&#39;t need to call `setPriority()` at all.\r\n\r\nFurther note, that `PRIORITY_BALANCED_POWER_ACCURACY` has been moved from **class** [`LocationRequest`][4] to **interface** [`Priority`][5].\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest#setPriority(int)\r\n  [2]: https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.Builder#setPriority(int)\r\n  [3]: https://developers.google.com/android/reference/com/google/android/gms/location/Priority#PRIORITY_BALANCED_POWER_ACCURACY\r\n  [4]: https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest\r\n  [5]: https://developers.google.com/android/reference/com/google/android/gms/location/Priority","title":"where is declared the constante Priority.PRIORITY_BALANCED_POWER_ACCURACY?","body":"<p>Also <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest#setPriority(int)\" rel=\"nofollow noreferrer\"><code>LocationRequest.setPriority()</code></a> has become deprecated and been replaced by <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.Builder#setPriority(int)\" rel=\"nofollow noreferrer\"><code>LocationRequest.Builder.setPriority()</code></a> where</p>\n<blockquote>\n<p>The default value is <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/Priority#PRIORITY_BALANCED_POWER_ACCURACY\" rel=\"nofollow noreferrer\"><code>Priority.PRIORITY_BALANCED_POWER_ACCURACY</code></a>.</p>\n</blockquote>\n<p>So in your case you don't need to call <code>setPriority()</code> at all.</p>\n<p>Further note, that <code>PRIORITY_BALANCED_POWER_ACCURACY</code> has been moved from <strong>class</strong> <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest\" rel=\"nofollow noreferrer\"><code>LocationRequest</code></a> to <strong>interface</strong> <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/Priority\" rel=\"nofollow noreferrer\"><code>Priority</code></a>.</p>\n"}],"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75941563,"answer_count":1,"score":2,"last_activity_date":1680709902,"creation_date":1679700696,"question_id":75838826,"body_markdown":"When I read the doc : https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest then say that `PRIORITY_BALANCED_POWER_ACCURACY` is deprecated and that we must use instead `Priority.PRIORITY_BALANCED_POWER_ACCURACY`. but when i do so i receive :\r\n\r\n&gt; error: cannot find symbol                                             \r\n&gt; .setPriority(Priority.PRIORITY_BALANCED_POWER_ACCURACY)\r\n\r\nWhat did I miss ?","title":"where is declared the constante Priority.PRIORITY_BALANCED_POWER_ACCURACY?","body":"<p>When I read the doc : <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest\" rel=\"nofollow noreferrer\">https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest</a> then say that <code>PRIORITY_BALANCED_POWER_ACCURACY</code> is deprecated and that we must use instead <code>Priority.PRIORITY_BALANCED_POWER_ACCURACY</code>. but when i do so i receive :</p>\n<blockquote>\n<p>error: cannot find symbol<br />\n.setPriority(Priority.PRIORITY_BALANCED_POWER_ACCURACY)</p>\n</blockquote>\n<p>What did I miss ?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1680709802,"post_id":75938482,"comment_id":133945230,"body_markdown":"Welcome to stackoverflow. This is not a free code-writing service. We can help with problems in your code, but we don&#39;t do your homework for you. See [ask].","body":"Welcome to stackoverflow. This is not a free code-writing service. We can help with problems in your code, but we don&#39;t do your homework for you. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":10761390,"reputation":97,"user_id":7917687,"display_name":"Ashad0203"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1680692894,"creation_date":1680692424,"answer_id":75938603,"question_id":75938482,"body_markdown":"Below code should work\r\n\r\n```java\r\n@Autowired\r\n    private AddressRepository addressRepository;\r\n\r\n    @Override\r\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\r\n\r\n        if (addressRepository.findByAddress(s).isPresent()) {\r\n            return false; // address already exists\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\r\nBelow is the AddressRepository Code\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface AddressRepository extends CrudRepository&lt;Address, Long&gt; {\r\n\r\n    Optional&lt;Address&gt; findByAddress(String address);\r\n}","title":"Logic to check unique constraints in springboot using custom validator","body":"<p>Below code should work</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\n    private AddressRepository addressRepository;\n\n    @Override\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\n\n        if (addressRepository.findByAddress(s).isPresent()) {\n            return false; // address already exists\n        }\n\n        return true;\n    }\n\n\nBelow is the AddressRepository Code\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface AddressRepository extends CrudRepository&lt;Address, Long&gt; {\n\n    Optional&lt;Address&gt; findByAddress(String address);\n}\n</code></pre>\n"}],"owner":{"account_id":25882721,"reputation":21,"user_id":19611476,"display_name":"Abdullaah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1680761930,"accepted_answer_id":75938603,"answer_count":1,"score":0,"last_activity_date":1680709854,"creation_date":1680691552,"question_id":75938482,"body_markdown":"```\r\npackage com.assessment.crud.validate;\r\n\r\nimport jakarta.validation.ConstraintValidator;\r\nimport jakarta.validation.ConstraintValidatorContext;\r\n\r\npublic class AddressValidator implements ConstraintValidator&lt;AddressValid,String&gt; {\r\n    @Override\r\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\r\n        // logic\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nIn above spring boot code I want to write logic to check if address field is unique.","title":"Logic to check unique constraints in springboot using custom validator","body":"<pre><code>package com.assessment.crud.validate;\n\nimport jakarta.validation.ConstraintValidator;\nimport jakarta.validation.ConstraintValidatorContext;\n\npublic class AddressValidator implements ConstraintValidator&lt;AddressValid,String&gt; {\n    @Override\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\n        // logic\n        return false;\n    }\n}\n</code></pre>\n<p>In above spring boot code I want to write logic to check if address field is unique.</p>\n"},{"tags":["java","http-get","okhttp","query-string"],"comments":[{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1431207737,"post_id":30142626,"comment_id":48399022,"body_markdown":"What&#39;s preventing you from simply including it into the URL? new Request.Builder()\n        .url(&quot;http://publicobject.com?param1=value1&amp;param2=value2&quot;)\n        .build();","body":"What&#39;s preventing you from simply including it into the URL? new Request.Builder()         .url(&quot;<a href=\"http://publicobject.com?param1=value1&amp;param2=value2&quot;\" rel=\"nofollow noreferrer\">publicobject.com?param1=value1&amp;param2=value2&quot;</a>)         .build();"}],"answers":[{"comments":[{"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"score":2,"creation_date":1431196003,"post_id":30143238,"comment_id":48395634,"body_markdown":"We&#39;re adding a new HttpUrl class that can do this in the next release.","body":"We&#39;re adding a new HttpUrl class that can do this in the next release."},{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1431196051,"post_id":30143238,"comment_id":48395648,"body_markdown":"@JesseWilson that is a nice improvemend :-)","body":"@JesseWilson that is a nice improvemend :-)"}],"tags":[],"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1450087807,"creation_date":1431194054,"answer_id":30143238,"question_id":30142626,"body_markdown":"As mentioned in the other answer, okhttp v2.4 offers new functionality that does make this possible.\r\n\r\nSee http://square.github.io/okhttp/2.x/okhttp/com/squareup/okhttp/HttpUrl.Builder.html#addQueryParameter-java.lang.String-java.lang.String-\r\n\r\n----------\r\n\r\n\r\n----------\r\n\r\n\r\nThis is not possible with the current version of okhttp, [there is no method provided that will handle this for you][1]. \r\n\r\nThe next best thing is building an url string or an `URL` object (found in `java.net.URL`) with the query included yourself, and pass that to the request builder of okhttp.\r\n\r\n![enter image description here][2]\r\n\r\nAs you can see, the Request.Builder can take either a String or an URL.\r\n\r\nExamples on how to build an url can be found at https://stackoverflow.com/questions/883136/is-there-a-good-url-builder-for-java\r\n\r\n  [1]: http://square.github.io/okhttp/javadoc/com/squareup/okhttp/Request.Builder.html\r\n  [2]: http://i.stack.imgur.com/VWZC0.png","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>As mentioned in the other answer, okhttp v2.4 offers new functionality that does make this possible.</p>\n\n<p>See <a href=\"http://square.github.io/okhttp/2.x/okhttp/com/squareup/okhttp/HttpUrl.Builder.html#addQueryParameter-java.lang.String-java.lang.String-\" rel=\"noreferrer\">http://square.github.io/okhttp/2.x/okhttp/com/squareup/okhttp/HttpUrl.Builder.html#addQueryParameter-java.lang.String-java.lang.String-</a></p>\n\n<hr>\n\n<hr>\n\n<p>This is not possible with the current version of okhttp, <a href=\"http://square.github.io/okhttp/javadoc/com/squareup/okhttp/Request.Builder.html\" rel=\"noreferrer\">there is no method provided that will handle this for you</a>. </p>\n\n<p>The next best thing is building an url string or an <code>URL</code> object (found in <code>java.net.URL</code>) with the query included yourself, and pass that to the request builder of okhttp.</p>\n\n<p><img src=\"https://i.stack.imgur.com/VWZC0.png\" alt=\"enter image description here\"></p>\n\n<p>As you can see, the Request.Builder can take either a String or an URL.</p>\n\n<p>Examples on how to build an url can be found at <a href=\"https://stackoverflow.com/questions/883136/is-there-a-good-url-builder-for-java\">What is the idiomatic way to compose a URL or URI in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":174525,"reputation":3879,"user_id":403950,"accept_rate":75,"display_name":"Sofi Software LLC"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1434569995,"creation_date":1434569995,"answer_id":30900889,"question_id":30142626,"body_markdown":"As of right now (okhttp 2.4), HttpUrl.Builder now has methods addQueryParameter and addEncodedQueryParameter.","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>As of right now (okhttp 2.4), HttpUrl.Builder now has methods addQueryParameter and addEncodedQueryParameter.</p>\n"},{"tags":[],"owner":{"account_id":6819840,"reputation":4881,"user_id":5247331,"accept_rate":77,"display_name":"Vitaly Zinchenko"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1440181984,"creation_date":1440181984,"answer_id":32147187,"question_id":30142626,"body_markdown":"Use HttpUrl class&#39;s functions:\r\n\r\n    //adds the pre-encoded query parameter to this URL&#39;s query string\r\n    addEncodedQueryParameter(String encodedName, String encodedValue)\r\n    \r\n    //encodes the query parameter using UTF-8 and adds it to this URL&#39;s query string\r\n    addQueryParameter(String name, String value)\r\n\r\n\r\nmore detailed: https://stackoverflow.com/a/32146909/5247331","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>Use HttpUrl class's functions:</p>\n\n<pre><code>//adds the pre-encoded query parameter to this URL's query string\naddEncodedQueryParameter(String encodedName, String encodedValue)\n\n//encodes the query parameter using UTF-8 and adds it to this URL's query string\naddQueryParameter(String name, String value)\n</code></pre>\n\n<p>more detailed: <a href=\"https://stackoverflow.com/a/32146909/5247331\">https://stackoverflow.com/a/32146909/5247331</a></p>\n"},{"tags":[],"owner":{"account_id":5595387,"reputation":11077,"user_id":4433326,"accept_rate":67,"display_name":"Louis CAD"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1672936798,"creation_date":1444565446,"answer_id":33064793,"question_id":30142626,"body_markdown":"Here&#39;s my interceptor\r\n\r\n        private static class AuthInterceptor implements Interceptor {\r\n\r\n        private String mApiKey;\r\n\r\n        public AuthInterceptor(String apiKey) {\r\n            mApiKey = apiKey;\r\n        }\r\n\r\n        @Override\r\n        public Response intercept(Chain chain) throws IOException {\r\n            HttpUrl url = chain.request().url()\r\n                    .newBuilder()\r\n                    .addQueryParameter(&quot;api_key&quot;, mApiKey)\r\n                    .build();\r\n            Request request = chain.request().newBuilder().url(url).build();\r\n            return chain.proceed(request);\r\n        }\r\n    }","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>Here's my interceptor</p>\n<pre><code>    private static class AuthInterceptor implements Interceptor {\n\n    private String mApiKey;\n\n    public AuthInterceptor(String apiKey) {\n        mApiKey = apiKey;\n    }\n\n    @Override\n    public Response intercept(Chain chain) throws IOException {\n        HttpUrl url = chain.request().url()\n                .newBuilder()\n                .addQueryParameter(&quot;api_key&quot;, mApiKey)\n                .build();\n        Request request = chain.request().newBuilder().url(url).build();\n        return chain.proceed(request);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484302043,"creation_date":1484302043,"answer_id":41631981,"question_id":30142626,"body_markdown":"You can create a newBuilder from existing HttoUrl and add query parameters there. Sample interceptor code:\r\n\r\n        Request req = it.request()\r\n        return chain.proceed(\r\n            req.newBuilder()\r\n                .url(\r\n                    req.url().newBuilder()\r\n                    .addQueryParameter(&quot;v&quot;, &quot;5.60&quot;)\r\n                    .build());\r\n        .build());","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>You can create a newBuilder from existing HttoUrl and add query parameters there. Sample interceptor code:</p>\n\n<pre><code>    Request req = it.request()\n    return chain.proceed(\n        req.newBuilder()\n            .url(\n                req.url().newBuilder()\n                .addQueryParameter(\"v\", \"5.60\")\n                .build());\n    .build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1990391,"reputation":6498,"user_id":1784529,"display_name":"Yun CHEN"},"comment_count":0,"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1574932397,"creation_date":1490533230,"answer_id":43029045,"question_id":30142626,"body_markdown":"For okhttp3:\r\n    \r\n    private static final OkHttpClient client = new OkHttpClient().newBuilder()\r\n        .connectTimeout(10, TimeUnit.SECONDS)\r\n        .readTimeout(30, TimeUnit.SECONDS)\r\n        .build();\r\n    \r\n    public static void get(String url, Map&lt;String,String&gt;params, Callback responseCallback) {\r\n        HttpUrl.Builder httpBuilder = HttpUrl.parse(url).newBuilder();\r\n        if (params != null) {\r\n           for(Map.Entry&lt;String, String&gt; param : params.entrySet()) {\r\n               httpBuilder.addQueryParameter(param.getKey(),param.getValue());\r\n           }\r\n        }\r\n        Request request = new Request.Builder().url(httpBuilder.build()).build();\r\n        client.newCall(request).enqueue(responseCallback);\r\n    }","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>For okhttp3:</p>\n\n<pre><code>private static final OkHttpClient client = new OkHttpClient().newBuilder()\n    .connectTimeout(10, TimeUnit.SECONDS)\n    .readTimeout(30, TimeUnit.SECONDS)\n    .build();\n\npublic static void get(String url, Map&lt;String,String&gt;params, Callback responseCallback) {\n    HttpUrl.Builder httpBuilder = HttpUrl.parse(url).newBuilder();\n    if (params != null) {\n       for(Map.Entry&lt;String, String&gt; param : params.entrySet()) {\n           httpBuilder.addQueryParameter(param.getKey(),param.getValue());\n       }\n    }\n    Request request = new Request.Builder().url(httpBuilder.build()).build();\n    client.newCall(request).enqueue(responseCallback);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":211039,"reputation":444,"user_id":2566313,"accept_rate":60,"display_name":"marcode_ely"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1516203419,"creation_date":1516203419,"answer_id":48304760,"question_id":30142626,"body_markdown":"I finally did my code, hope the following code can help you guys. I build the URL first using \r\n\r\n&gt; `HttpUrl httpUrl = new HttpUrl.Builder()`\r\n\r\nThen pass the URL to `Request requesthttp` hope it helps .\r\n\r\n    public class NetActions {\r\n    \r\n        OkHttpClient client = new OkHttpClient();\r\n    \r\n        public String getStudentById(String code) throws IOException, NullPointerException {\r\n    \r\n            HttpUrl httpUrl = new HttpUrl.Builder()\r\n                    .scheme(&quot;https&quot;)\r\n                    .host(&quot;subdomain.apiweb.com&quot;)\r\n                    .addPathSegment(&quot;api&quot;)\r\n                    .addPathSegment(&quot;v1&quot;)\r\n                    .addPathSegment(&quot;students&quot;)\r\n                    .addPathSegment(code) // &lt;- 8873 code passthru parameter on method\r\n                    .addQueryParameter(&quot;auth_token&quot;, &quot;71x23768234hgjwqguygqew&quot;)\r\n                    // Each addPathSegment separated add a / symbol to the final url\r\n                    // finally my Full URL is: \r\n                    // https://subdomain.apiweb.com/api/v1/students/8873?auth_token=71x23768234hgjwqguygqew\r\n                    .build();\r\n    \r\n            System.out.println(httpUrl.toString());\r\n    \r\n            Request requesthttp = new Request.Builder()\r\n                    .addHeader(&quot;accept&quot;, &quot;application/json&quot;)\r\n                    .url(httpUrl) // &lt;- Finally put httpUrl in here\r\n                    .build();\r\n    \r\n            Response response = client.newCall(requesthttp).execute();\r\n            return response.body().string();\r\n        }\r\n    }","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>I finally did my code, hope the following code can help you guys. I build the URL first using </p>\n\n<blockquote>\n  <p><code>HttpUrl httpUrl = new HttpUrl.Builder()</code></p>\n</blockquote>\n\n<p>Then pass the URL to <code>Request requesthttp</code> hope it helps .</p>\n\n<pre><code>public class NetActions {\n\n    OkHttpClient client = new OkHttpClient();\n\n    public String getStudentById(String code) throws IOException, NullPointerException {\n\n        HttpUrl httpUrl = new HttpUrl.Builder()\n                .scheme(\"https\")\n                .host(\"subdomain.apiweb.com\")\n                .addPathSegment(\"api\")\n                .addPathSegment(\"v1\")\n                .addPathSegment(\"students\")\n                .addPathSegment(code) // &lt;- 8873 code passthru parameter on method\n                .addQueryParameter(\"auth_token\", \"71x23768234hgjwqguygqew\")\n                // Each addPathSegment separated add a / symbol to the final url\n                // finally my Full URL is: \n                // https://subdomain.apiweb.com/api/v1/students/8873?auth_token=71x23768234hgjwqguygqew\n                .build();\n\n        System.out.println(httpUrl.toString());\n\n        Request requesthttp = new Request.Builder()\n                .addHeader(\"accept\", \"application/json\")\n                .url(httpUrl) // &lt;- Finally put httpUrl in here\n                .build();\n\n        Response response = client.newCall(requesthttp).execute();\n        return response.body().string();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6829513,"reputation":3942,"user_id":5254103,"accept_rate":0,"display_name":"BaiJiFeiLong"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678261899,"creation_date":1678261899,"answer_id":75670483,"question_id":30142626,"body_markdown":"One-line example:\r\n```java\r\nassert HttpUrl.parse(&quot;https://httpbin.org/get&quot;)\r\n        .newBuilder()\r\n        .addQueryParameter(&quot;hello&quot;, &quot;world&quot;)\r\n        .build()\r\n        .equals(&quot;https://httpbin.org/get?hello=world&quot;);\r\n```","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>One-line example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assert HttpUrl.parse(&quot;https://httpbin.org/get&quot;)\n        .newBuilder()\n        .addQueryParameter(&quot;hello&quot;, &quot;world&quot;)\n        .build()\n        .equals(&quot;https://httpbin.org/get?hello=world&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25500409,"reputation":11,"user_id":19293776,"display_name":"nitro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680709724,"creation_date":1680709724,"answer_id":75941532,"question_id":30142626,"body_markdown":"Beased on https://www.digitalocean.com/community/tutorials/okhttp-android-example-tutorial\r\n\r\n    HttpUrl.Builder urlBuilder = HttpUrl.parse(&quot;https://example.COM/\r\n    /** we are creating a url*/\r\n    THE_API_PATH&quot;).newBuilder();\r\n\r\n     /**Adding parameters*/\r\n    urlBuilder.addQueryParameter(&quot;website&quot;, &quot;www.example.com&quot;);\r\n    urlBuilder.addQueryParameter(&quot;tutorials&quot;, &quot;android&quot;);\r\n\r\n    /** building url and converting it to string */\r\n    String url = urlBuilder.build().toString();\r\n\r\n\r\n    /** creating request so we could give it to OkHTTP */\r\n    Request request = new Request.Builder()\r\n                     .url(url)\r\n                     .build();\r\n\r\n\r\n    OkHttpClient client = new OkHttpClient();\r\n     client.newCall(request).enqueue(new Callback() {\r\n      @Override\r\n      public void onFailure(Call call, IOException e) {\r\n        Log.i(&quot;HTTP &quot; ,  &quot; &quot; +  e.toString() );\r\n        call.cancel();\r\n      }\r\n\r\n      @Override\r\n      public void onResponse(Call call, Response response) throws IOException {\r\n\r\n        final String myResponse = response.body().string();\r\n\r\n        MainActivity.this.runOnUiThread(new Runnable() {\r\n          @Override\r\n          public void run() {\r\n            Log.i(&quot;HTTP &quot; , &quot;Response it&#39;s :&quot; + myResponse );\r\n           /** this it&#39;s your Response to String \r\n            if you are using json , convert your string .\r\n             better to not do that in main thread*/\r\n          }\r\n        });\r\n\r\n      }\r\n    });","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>Beased on <a href=\"https://www.digitalocean.com/community/tutorials/okhttp-android-example-tutorial\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/okhttp-android-example-tutorial</a></p>\n<pre><code>HttpUrl.Builder urlBuilder = HttpUrl.parse(&quot;https://example.COM/\n/** we are creating a url*/\nTHE_API_PATH&quot;).newBuilder();\n\n /**Adding parameters*/\nurlBuilder.addQueryParameter(&quot;website&quot;, &quot;www.example.com&quot;);\nurlBuilder.addQueryParameter(&quot;tutorials&quot;, &quot;android&quot;);\n\n/** building url and converting it to string */\nString url = urlBuilder.build().toString();\n\n\n/** creating request so we could give it to OkHTTP */\nRequest request = new Request.Builder()\n                 .url(url)\n                 .build();\n\n\nOkHttpClient client = new OkHttpClient();\n client.newCall(request).enqueue(new Callback() {\n  @Override\n  public void onFailure(Call call, IOException e) {\n    Log.i(&quot;HTTP &quot; ,  &quot; &quot; +  e.toString() );\n    call.cancel();\n  }\n\n  @Override\n  public void onResponse(Call call, Response response) throws IOException {\n\n    final String myResponse = response.body().string();\n\n    MainActivity.this.runOnUiThread(new Runnable() {\n      @Override\n      public void run() {\n        Log.i(&quot;HTTP &quot; , &quot;Response it's :&quot; + myResponse );\n       /** this it's your Response to String \n        if you are using json , convert your string .\n         better to not do that in main thread*/\n      }\n    });\n\n  }\n});\n</code></pre>\n"}],"owner":{"account_id":1977136,"reputation":3547,"user_id":1774679,"accept_rate":84,"display_name":"Jerikc XIONG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109623,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":30143238,"answer_count":9,"score":61,"last_activity_date":1680709724,"creation_date":1431190428,"question_id":30142626,"body_markdown":"I am using the latest okhttp version: **okhttp-2.3.0.jar**\r\n\r\nHow to add query parameters to GET request in okhttp in java ?\r\n\r\nI found a [related question][1] about android, but no answer here!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29875325/add-query-params-to-a-get-request-in-okhttp-in-android","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>I am using the latest okhttp version: <strong>okhttp-2.3.0.jar</strong></p>\n\n<p>How to add query parameters to GET request in okhttp in java ?</p>\n\n<p>I found a <a href=\"https://stackoverflow.com/questions/29875325/add-query-params-to-a-get-request-in-okhttp-in-android\">related question</a> about android, but no answer here!</p>\n"},{"tags":["java","graphql","graphql-java"],"owner":{"account_id":5121316,"reputation":2890,"user_id":4104760,"accept_rate":36,"display_name":"George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680708866,"creation_date":1680708866,"question_id":75941386,"body_markdown":"The libraries I am using are [GraphQL Java Tools][1] and [Java Dataloader][2]\r\n\r\nMy schema looks like this:\r\n\r\n```\r\ntype Query {\r\n  internals(ids: [String!]!): [Internal]\r\n}\r\n\r\ntype Internal {\r\n  fieldA: String\r\n  fieldB: Int\r\n}\r\n```\r\n\r\nAnd the graphQL API I&#39;m querying has a schema like this:\r\n\r\n```\r\ntype Query {\r\n  externals(ids: [String!]!): External\r\n}\r\n\r\ntype External {\r\n  field1: String\r\n  nested: Nested\r\n}\r\n\r\ntype Nested {\r\n  field2: String\r\n}\r\n```\r\n\r\nWhen I receive a query, I want to generate a query with only the requested fields.\r\n\r\nFor example, I receive a query like this:\r\n\r\n```\r\nquery Example {\r\n  internals(ids: [&quot;id1&quot;, &quot;id2&quot;]) {\r\n    fieldA\r\n  }\r\n}\r\n```\r\n\r\nI should send a request to the other API this:\r\n\r\n```\r\nquery External {\r\n  externals(ids: [&quot;id1&quot;, &quot;id2&quot;]) {\r\n    field1\r\n  }\r\n}\r\n```\r\n\r\nCurrently I am thinking of having `InternalResolver` with the methods for each field, but that means sending 1 request per field (example, not actual code):\r\n\r\n```\r\npublic class InternalResolver implements GraphQLResolver&lt;Internal&gt; {\r\n  public String fieldA() {\r\n    return httpResponseFromExternal().getField1();\r\n  }\r\n\r\n  public Integer fieldB() {\r\n    return httpResponseFromExternal().getNested().getField2();\r\n  }\r\n}\r\n```\r\n\r\nHow do I get all the fields together and sent all at once?\r\n\r\n  [1]: https://www.graphql-java-kickstart.com/tools/\r\n  [2]: https://github.com/graphql-java/java-dataloader","title":"Java GraphQL fields map to another GraphQL API","body":"<p>The libraries I am using are <a href=\"https://www.graphql-java-kickstart.com/tools/\" rel=\"nofollow noreferrer\">GraphQL Java Tools</a> and <a href=\"https://github.com/graphql-java/java-dataloader\" rel=\"nofollow noreferrer\">Java Dataloader</a></p>\n<p>My schema looks like this:</p>\n<pre><code>type Query {\n  internals(ids: [String!]!): [Internal]\n}\n\ntype Internal {\n  fieldA: String\n  fieldB: Int\n}\n</code></pre>\n<p>And the graphQL API I'm querying has a schema like this:</p>\n<pre><code>type Query {\n  externals(ids: [String!]!): External\n}\n\ntype External {\n  field1: String\n  nested: Nested\n}\n\ntype Nested {\n  field2: String\n}\n</code></pre>\n<p>When I receive a query, I want to generate a query with only the requested fields.</p>\n<p>For example, I receive a query like this:</p>\n<pre><code>query Example {\n  internals(ids: [&quot;id1&quot;, &quot;id2&quot;]) {\n    fieldA\n  }\n}\n</code></pre>\n<p>I should send a request to the other API this:</p>\n<pre><code>query External {\n  externals(ids: [&quot;id1&quot;, &quot;id2&quot;]) {\n    field1\n  }\n}\n</code></pre>\n<p>Currently I am thinking of having <code>InternalResolver</code> with the methods for each field, but that means sending 1 request per field (example, not actual code):</p>\n<pre><code>public class InternalResolver implements GraphQLResolver&lt;Internal&gt; {\n  public String fieldA() {\n    return httpResponseFromExternal().getField1();\n  }\n\n  public Integer fieldB() {\n    return httpResponseFromExternal().getNested().getField2();\n  }\n}\n</code></pre>\n<p>How do I get all the fields together and sent all at once?</p>\n"},{"tags":["java","spring","jpa","jdbc"],"comments":[{"owner":{"account_id":2460030,"reputation":118398,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":1,"creation_date":1566398202,"post_id":57591764,"comment_id":101645434,"body_markdown":"Try removing the hyphens from the UUID string values.","body":"Try removing the hyphens from the UUID string values."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1566401759,"post_id":57591764,"comment_id":101647421,"body_markdown":"What is the datatype of `user_id`?","body":"What is the datatype of <code>user_id</code>?"},{"owner":{"account_id":14251843,"reputation":269,"user_id":10295271,"display_name":"annswerg"},"score":0,"creation_date":1566456098,"post_id":57591764,"comment_id":101663093,"body_markdown":"@MarkRotteveel, uuid","body":"@MarkRotteveel, uuid"},{"owner":{"account_id":14251843,"reputation":269,"user_id":10295271,"display_name":"annswerg"},"score":0,"creation_date":1566456340,"post_id":57591764,"comment_id":101663204,"body_markdown":"@GordThompson, then I get MethodArgumentTypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.UUID&#39;; nested exception is java.lang.IllegalArgumentException: Invalid UUID string: e7485042b46b11e9986ab74e614de0b0","body":"@GordThompson, then I get MethodArgumentTypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.UUID&#39;; nested exception is java.lang.IllegalArgumentException: Invalid UUID string: e7485042b46b11e9986ab74e614de0b0"},{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":1,"creation_date":1575030621,"post_id":57591764,"comment_id":104441467,"body_markdown":"Removing the hyphens means you&#39;ll end up with a String that does not respect the UUID format conventions. Reconversion from a binary format into a valid UUID thus results in a type mismatch.","body":"Removing the hyphens means you&#39;ll end up with a String that does not respect the UUID format conventions. Reconversion from a binary format into a valid UUID thus results in a type mismatch."},{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1578058260,"post_id":57591764,"comment_id":105325125,"body_markdown":"@kateswerg did you eventually sort it out?","body":"@kateswerg did you eventually sort it out?"},{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":0,"creation_date":1578304126,"post_id":57591764,"comment_id":105383067,"body_markdown":"@EnricoGiurin I did sort it out. Please read my answer thoroughly to understand what exactly is causing it and how to solve it.","body":"@EnricoGiurin I did sort it out. Please read my answer thoroughly to understand what exactly is causing it and how to solve it."}],"answers":[{"comments":[{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":0,"creation_date":1575022884,"post_id":57603664,"comment_id":104437950,"body_markdown":"How is this even possible? ddl-auto=none will prevent tables from being created in your h2 database and thus no entry can be inserted.... Furthermore: if you&#39;re working with spring boot and have h2 on your classpath (scope test), h2 is automatically configured for you making your configuration redundant (except for the console enabled = true)","body":"How is this even possible? ddl-auto=none will prevent tables from being created in your h2 database and thus no entry can be inserted.... Furthermore: if you&#39;re working with spring boot and have h2 on your classpath (scope test), h2 is automatically configured for you making your configuration redundant (except for the console enabled = true)"},{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1578058351,"post_id":57603664,"comment_id":105325171,"body_markdown":"this is fully unrelated to the subject of the question","body":"this is fully unrelated to the subject of the question"}],"tags":[],"owner":{"account_id":14251843,"reputation":269,"user_id":10295271,"display_name":"annswerg"},"comment_count":2,"down_vote_count":5,"up_vote_count":0,"is_accepted":true,"score":-5,"last_activity_date":1566457194,"creation_date":1566457194,"answer_id":57603664,"question_id":57591764,"body_markdown":"I resolved this problem by adding `spring.jpa.hibernate.ddl-auto=none` to my `application.properties` file","title":"Caused by: org.h2.jdbc.JdbcSQLDataException: Hexadecimal string contains non-hex character","body":"<p>I resolved this problem by adding <code>spring.jpa.hibernate.ddl-auto=none</code> to my <code>application.properties</code> file</p>\n"},{"tags":[],"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1633096532,"creation_date":1575029506,"answer_id":59104565,"question_id":57591764,"body_markdown":"The actual cause of this problem is the mapping between your object and the generated `create table` statement by hibernate (`ddl-auto:create`) used to create your h2 database schema. \r\n\r\nIf you enable the output of the those `ddl` statements using:\r\n\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n    spring.jpa.properties.hibernate.use_sql_comments=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    logging.level.org.hibernate.type=TRACE\r\n\r\nyou will most likely see that your `UUID` class has been mapped to a **binary** column in your database. \r\n\r\n\r\n    Hibernate: \r\n        create table &lt;your_table&gt; (\r\n            id bigint generated by default as identity,\r\n            ...,\r\n            &lt;your_object&gt; binary(255),\r\n            ...\r\n            primary key (id)\r\n        )\r\n\r\nThis means that your uuid-string is mapped onto a binary column and thus contains illegal characters. You need a  `varchar(&lt;uuid-length&gt;)` column to store a uuid. There are several solution strategies, one of them is defining a type, see this [StackOverflow answer][1]. You can read on `binary` columns on the official [MySQL reference site][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4346898/problems-mapping-uuid-in-jpa-hibernate\r\n  [2]: https://dev.mysql.com/doc/refman/8.0/en/binary-varbinary.html","title":"Caused by: org.h2.jdbc.JdbcSQLDataException: Hexadecimal string contains non-hex character","body":"<p>The actual cause of this problem is the mapping between your object and the generated <code>create table</code> statement by hibernate (<code>ddl-auto:create</code>) used to create your h2 database schema.</p>\n<p>If you enable the output of the those <code>ddl</code> statements using:</p>\n<pre><code>spring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.use_sql_comments=true\nspring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.type=TRACE\n</code></pre>\n<p>you will most likely see that your <code>UUID</code> class has been mapped to a <strong>binary</strong> column in your database.</p>\n<pre><code>Hibernate: \n    create table &lt;your_table&gt; (\n        id bigint generated by default as identity,\n        ...,\n        &lt;your_object&gt; binary(255),\n        ...\n        primary key (id)\n    )\n</code></pre>\n<p>This means that your uuid-string is mapped onto a binary column and thus contains illegal characters. You need a  <code>varchar(&lt;uuid-length&gt;)</code> column to store a uuid. There are several solution strategies, one of them is defining a type, see this <a href=\"https://stackoverflow.com/questions/4346898/problems-mapping-uuid-in-jpa-hibernate\">StackOverflow answer</a>. You can read on <code>binary</code> columns on the official <a href=\"https://dev.mysql.com/doc/refman/8.0/en/binary-varbinary.html\" rel=\"nofollow noreferrer\">MySQL reference site</a>.</p>\n"},{"comments":[{"owner":{"account_id":6358143,"reputation":8730,"user_id":4934640,"accept_rate":88,"display_name":"Evandro Coan"},"score":0,"creation_date":1595020933,"post_id":59591355,"comment_id":111341330,"body_markdown":"Can you explain what this do?","body":"Can you explain what this do?"},{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":0,"creation_date":1604412823,"post_id":59591355,"comment_id":114335882,"body_markdown":"My answer, actually explains what causes this and does not provide a copy paste answer. ;-)","body":"My answer, actually explains what causes this and does not provide a copy paste answer. ;-)"}],"tags":[],"owner":{"account_id":3260083,"reputation":1087,"user_id":2745810,"accept_rate":71,"display_name":"kmarabet"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1578146251,"creation_date":1578146251,"answer_id":59591355,"question_id":57591764,"body_markdown":"Using **spring.datasource.url=jdbc:h2:mem:testdb;MODE=MYSQL** fixed it for me.\r\n\r\nOr adding an annotation @Type to the UUID field should fix the issue:\r\n\r\n    @Id\r\n    @Type(type=&quot;uuid-char&quot;)\r\n    private UUID user_id;\r\n","title":"Caused by: org.h2.jdbc.JdbcSQLDataException: Hexadecimal string contains non-hex character","body":"<p>Using <strong>spring.datasource.url=jdbc:h2:mem:testdb;MODE=MYSQL</strong> fixed it for me.</p>\n\n<p>Or adding an annotation @Type to the UUID field should fix the issue:</p>\n\n<pre><code>@Id\n@Type(type=\"uuid-char\")\nprivate UUID user_id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680708682,"creation_date":1680708682,"answer_id":75941351,"question_id":57591764,"body_markdown":"This can also be caused by having a foreign key constraint on a table, that is incorrect (ie one table has UUID as the key, and the other has varchar as the key).\r\n\r\nexample:\r\n\r\nImagine you have\r\n\r\n    user.id =&gt; UUID\r\n    some_table.user_id =&gt; varchar(255)\r\n\r\nYou will get this error if you have the following constraint on `some_table` \r\n\r\n     constraint fk_user_id foreign key (user_id) references user,\r\n\r\n\r\n\r\n\r\n\r\n","title":"Caused by: org.h2.jdbc.JdbcSQLDataException: Hexadecimal string contains non-hex character","body":"<p>This can also be caused by having a foreign key constraint on a table, that is incorrect (ie one table has UUID as the key, and the other has varchar as the key).</p>\n<p>example:</p>\n<p>Imagine you have</p>\n<pre><code>user.id =&gt; UUID\nsome_table.user_id =&gt; varchar(255)\n</code></pre>\n<p>You will get this error if you have the following constraint on <code>some_table</code></p>\n<pre><code> constraint fk_user_id foreign key (user_id) references user,\n</code></pre>\n"}],"owner":{"account_id":14251843,"reputation":269,"user_id":10295271,"display_name":"annswerg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13668,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":57603664,"answer_count":4,"score":7,"last_activity_date":1680708682,"creation_date":1566390929,"question_id":57591764,"body_markdown":"I&#39;m trying to write tests using in-memory DB. \r\nI wrote an sql to clean and store data to DB. But I have an exception:\r\n\r\n    Caused by: org.h2.jdbc.JdbcSQLDataException: Hexadecimal string contains non-hex character: &quot;e7485042-b46b-11e9-986a-b74e614de0b0&quot;; SQL statement:\r\n    insert into users (user_id, name, created_on, modified_on) values (&#39;e7485042-b46b-11e9-986a-b74e614de0b0&#39;, &#39;Ann&#39;, null, null) -- (&#39;e7485042-b46b-11e9-986a-b74e614de0b0&#39;, &#39;Ann&#39;, NULL, NULL) [90004-199]\r\n\r\nMy sql:\r\n    \r\n    insert into users (user_id, name, created_on, modified_on) values (&#39;e7485042-b46b-11e9-986a-b74e614de0b0&#39;, &#39;Ann&#39;, null, null);\r\n    \r\n    insert into product(product_id, name, created_on, modified_on) VALUES (&#39;f3a775de-b46b-11e9-95e4-af440b6044e6&#39;, &#39;product1&#39;, &#39;2019-08-01 17:51:51.000000&#39;, &#39;2019-08-01 17:51:51.000000&#39;);\r\n    \r\n    insert into products_users(user_id, product_id) VALUES (&#39;e7485042-b46b-11e9-986a-b74e614de0b0&#39;, &#39;f3a775de-b46b-11e9-95e4-af440b6044e6&#39;);\r\n\r\nMy application.properties:\r\n\r\n    spring.h2.console.enabled=true\r\n    spring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    \r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\n","title":"Caused by: org.h2.jdbc.JdbcSQLDataException: Hexadecimal string contains non-hex character","body":"<p>I'm trying to write tests using in-memory DB. \nI wrote an sql to clean and store data to DB. But I have an exception:</p>\n\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLDataException: Hexadecimal string contains non-hex character: \"e7485042-b46b-11e9-986a-b74e614de0b0\"; SQL statement:\ninsert into users (user_id, name, created_on, modified_on) values ('e7485042-b46b-11e9-986a-b74e614de0b0', 'Ann', null, null) -- ('e7485042-b46b-11e9-986a-b74e614de0b0', 'Ann', NULL, NULL) [90004-199]\n</code></pre>\n\n<p>My sql:</p>\n\n<pre><code>insert into users (user_id, name, created_on, modified_on) values ('e7485042-b46b-11e9-986a-b74e614de0b0', 'Ann', null, null);\n\ninsert into product(product_id, name, created_on, modified_on) VALUES ('f3a775de-b46b-11e9-95e4-af440b6044e6', 'product1', '2019-08-01 17:51:51.000000', '2019-08-01 17:51:51.000000');\n\ninsert into products_users(user_id, product_id) VALUES ('e7485042-b46b-11e9-986a-b74e614de0b0', 'f3a775de-b46b-11e9-95e4-af440b6044e6');\n</code></pre>\n\n<p>My application.properties:</p>\n\n<pre><code>spring.h2.console.enabled=true\nspring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\n\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n"},{"tags":["java","spring-boot","oauth-2.0"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1680715501,"post_id":75941312,"comment_id":133946695,"body_markdown":"Calling a resource server with an access token is OAuth2 client job. No surprise that Spring Security repositories for tokens are in OAuth2 client lib. what is the front-end written with? Is your spring application exposing a REST API? a templated UI (Thymeleaf or alike)? both?","body":"Calling a resource server with an access token is OAuth2 client job. No surprise that Spring Security repositories for tokens are in OAuth2 client lib. what is the front-end written with? Is your spring application exposing a REST API? a templated UI (Thymeleaf or alike)? both?"}],"owner":{"account_id":1488593,"reputation":848,"user_id":2090322,"accept_rate":38,"display_name":"Sergiob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680708493,"creation_date":1680708493,"question_id":75941312,"body_markdown":"I have a spring boot application that must call a OAuth2 Authentication server then cache the access token to be used with Retrofit (for java) to call several endpoints of a remote OAuth2 Resource Server, I succeeded to create the Authentication and Resource server but I&#39;m not able to cache the token returned by the Authentication server to pass it to Retrofit (with HttOk) in order to call the resource server. I&#39;m using Spring Boot 3.0.5 and the last features introduced for the OAuth2 security protocol, I cannot intercept the token to be used with Retrofit when I call the Authentication  Server. The Authentication  server code is very simple (and it works):\r\n\r\n     \r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import org.apache.commons.logging.Log;\r\n    import org.apache.commons.logging.LogFactory;\r\n    import org.springframework.beans.factory.InitializingBean;\r\n    import org.springframework.context.MessageSource;\r\n    import org.springframework.context.MessageSourceAware;\r\n    import org.springframework.context.support.MessageSourceAccessor;\r\n    import org.springframework.core.log.LogMessage;\r\n    import org.springframework.security.core.Authentication;\r\n    import org.springframework.security.core.AuthenticationException;\r\n    import org.springframework.security.core.CredentialsContainer;\r\n    import org.springframework.security.core.SpringSecurityMessageSource;\r\n    import org.springframework.util.Assert;\r\n    import org.springframework.util.CollectionUtils;\r\n    \r\n    public class ProviderManager implements AuthenticationManager, MessageSourceAware, InitializingBean {\r\n        private static final Log logger = LogFactory.getLog(ProviderManager.class);\r\n        private AuthenticationEventPublisher eventPublisher;\r\n        private List&lt;AuthenticationProvider&gt; providers;\r\n        protected MessageSourceAccessor messages;\r\n        private AuthenticationManager parent;\r\n        private boolean eraseCredentialsAfterAuthentication;\r\n    \r\n        public ProviderManager(AuthenticationProvider... providers) {\r\n            this(Arrays.asList(providers), (AuthenticationManager)null);\r\n        }\r\n    \r\n        public ProviderManager(List&lt;AuthenticationProvider&gt; providers) {\r\n            this(providers, (AuthenticationManager)null);\r\n        }\r\n    \r\n        public ProviderManager(List&lt;AuthenticationProvider&gt; providers, AuthenticationManager parent) {\r\n            this.eventPublisher = new NullEventPublisher();\r\n            this.providers = Collections.emptyList();\r\n            this.messages = SpringSecurityMessageSource.getAccessor();\r\n            this.eraseCredentialsAfterAuthentication = true;\r\n            Assert.notNull(providers, &quot;providers list cannot be null&quot;);\r\n            this.providers = providers;\r\n            this.parent = parent;\r\n            this.checkState();\r\n        }\r\n    \r\n        public void afterPropertiesSet() {\r\n            this.checkState();\r\n        }\r\n    \r\n        private void checkState() {\r\n            Assert.isTrue(this.parent != null || !this.providers.isEmpty(), &quot;A parent AuthenticationManager or a list of AuthenticationProviders is required&quot;);\r\n            Assert.isTrue(!CollectionUtils.contains(this.providers.iterator(), (Object)null), &quot;providers list cannot contain null values&quot;);\r\n        }\r\n    \r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            Class&lt;? extends Authentication&gt; toTest = authentication.getClass();\r\n            AuthenticationException lastException = null;\r\n            AuthenticationException parentException = null;\r\n            Authentication result = null;\r\n            Authentication parentResult = null;\r\n            int currentPosition = 0;\r\n            int size = this.providers.size();\r\n            Iterator var9 = this.getProviders().iterator();\r\n    \r\n            while(var9.hasNext()) {\r\n                AuthenticationProvider provider = (AuthenticationProvider)var9.next();\r\n                if (provider.supports(toTest)) {\r\n                    if (logger.isTraceEnabled()) {\r\n                        Log var10000 = logger;\r\n                        String var10002 = provider.getClass().getSimpleName();\r\n                        ++currentPosition;\r\n                        var10000.trace(LogMessage.format(&quot;Authenticating request with %s (%d/%d)&quot;, var10002, currentPosition, size));\r\n                    }\r\n    \r\n                    try {\r\n                        result = provider.authenticate(authentication);\r\n                        if (result != null) {\r\n                            this.copyDetails(authentication, result);\r\n                            break;\r\n                        }\r\n                    } catch (InternalAuthenticationServiceException | AccountStatusException var14) {\r\n                        this.prepareException(var14, authentication);\r\n                        throw var14;\r\n                    } catch (AuthenticationException var15) {\r\n                        lastException = var15;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            if (result == null &amp;&amp; this.parent != null) {\r\n                try {\r\n                    parentResult = this.parent.authenticate(authentication);\r\n                    result = parentResult;\r\n                } catch (ProviderNotFoundException var12) {\r\n                } catch (AuthenticationException var13) {\r\n                    parentException = var13;\r\n                    lastException = var13;\r\n                }\r\n            }\r\n    \r\n            if (result != null) {\r\n                if (this.eraseCredentialsAfterAuthentication &amp;&amp; result instanceof CredentialsContainer) {\r\n                    ((CredentialsContainer)result).eraseCredentials();\r\n                }\r\n    \r\n                if (parentResult == null) {\r\n                    this.eventPublisher.publishAuthenticationSuccess(result);\r\n                }\r\n    \r\n                return result;\r\n            } else {\r\n                if (lastException == null) {\r\n                    lastException = new ProviderNotFoundException(this.messages.getMessage(&quot;ProviderManager.providerNotFound&quot;, new Object[]{toTest.getName()}, &quot;No AuthenticationProvider found for {0}&quot;));\r\n                }\r\n    \r\n                if (parentException == null) {\r\n                    this.prepareException((AuthenticationException)lastException, authentication);\r\n                }\r\n    \r\n                throw lastException;\r\n            }\r\n        }\r\n    \r\n        private void prepareException(AuthenticationException ex, Authentication auth) {\r\n            this.eventPublisher.publishAuthenticationFailure(ex, auth);\r\n        }\r\n    \r\n        private void copyDetails(Authentication source, Authentication dest) {\r\n            if (dest instanceof AbstractAuthenticationToken token &amp;&amp; dest.getDetails() == null) {\r\n                token.setDetails(source.getDetails());\r\n            }\r\n    \r\n        }\r\n    \r\n        public List&lt;AuthenticationProvider&gt; getProviders() {\r\n            return this.providers;\r\n        }\r\n    \r\n        public void setMessageSource(MessageSource messageSource) {\r\n            this.messages = new MessageSourceAccessor(messageSource);\r\n        }\r\n    \r\n        public void setAuthenticationEventPublisher(AuthenticationEventPublisher eventPublisher) {\r\n            Assert.notNull(eventPublisher, &quot;AuthenticationEventPublisher cannot be null&quot;);\r\n            this.eventPublisher = eventPublisher;\r\n        }\r\n    \r\n        public void setEraseCredentialsAfterAuthentication(boolean eraseSecretData) {\r\n            this.eraseCredentialsAfterAuthentication = eraseSecretData;\r\n        }\r\n    \r\n        public boolean isEraseCredentialsAfterAuthentication() {\r\n            return this.eraseCredentialsAfterAuthentication;\r\n        }\r\n    \r\n        private static final class NullEventPublisher implements AuthenticationEventPublisher {\r\n            private NullEventPublisher() {\r\n            }\r\n    \r\n            public void publishAuthenticationFailure(AuthenticationException exception, Authentication authentication) {\r\n            }\r\n    \r\n            public void publishAuthenticationSuccess(Authentication authentication) {\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI need to have the possibility to cache the access token generated by the code above and then use it when I call the remote endpoints with Retrofit. The problem is that I don&#39;t know where to catch the returned access token. The code above works with INSOMNIA, but I&#39;m not able to replicate the Java code to emulate INSOMNIA&#39;S call.\r\n\r\nPlease Help\r\n","title":"Spring Boot OAuth2 access token and resource server","body":"<p>I have a spring boot application that must call a OAuth2 Authentication server then cache the access token to be used with Retrofit (for java) to call several endpoints of a remote OAuth2 Resource Server, I succeeded to create the Authentication and Resource server but I'm not able to cache the token returned by the Authentication server to pass it to Retrofit (with HttOk) in order to call the resource server. I'm using Spring Boot 3.0.5 and the last features introduced for the OAuth2 security protocol, I cannot intercept the token to be used with Retrofit when I call the Authentication  Server. The Authentication  server code is very simple (and it works):</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Iterator;\nimport java.util.List;\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.springframework.beans.factory.InitializingBean;\nimport org.springframework.context.MessageSource;\nimport org.springframework.context.MessageSourceAware;\nimport org.springframework.context.support.MessageSourceAccessor;\nimport org.springframework.core.log.LogMessage;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.core.CredentialsContainer;\nimport org.springframework.security.core.SpringSecurityMessageSource;\nimport org.springframework.util.Assert;\nimport org.springframework.util.CollectionUtils;\n\npublic class ProviderManager implements AuthenticationManager, MessageSourceAware, InitializingBean {\n    private static final Log logger = LogFactory.getLog(ProviderManager.class);\n    private AuthenticationEventPublisher eventPublisher;\n    private List&lt;AuthenticationProvider&gt; providers;\n    protected MessageSourceAccessor messages;\n    private AuthenticationManager parent;\n    private boolean eraseCredentialsAfterAuthentication;\n\n    public ProviderManager(AuthenticationProvider... providers) {\n        this(Arrays.asList(providers), (AuthenticationManager)null);\n    }\n\n    public ProviderManager(List&lt;AuthenticationProvider&gt; providers) {\n        this(providers, (AuthenticationManager)null);\n    }\n\n    public ProviderManager(List&lt;AuthenticationProvider&gt; providers, AuthenticationManager parent) {\n        this.eventPublisher = new NullEventPublisher();\n        this.providers = Collections.emptyList();\n        this.messages = SpringSecurityMessageSource.getAccessor();\n        this.eraseCredentialsAfterAuthentication = true;\n        Assert.notNull(providers, &quot;providers list cannot be null&quot;);\n        this.providers = providers;\n        this.parent = parent;\n        this.checkState();\n    }\n\n    public void afterPropertiesSet() {\n        this.checkState();\n    }\n\n    private void checkState() {\n        Assert.isTrue(this.parent != null || !this.providers.isEmpty(), &quot;A parent AuthenticationManager or a list of AuthenticationProviders is required&quot;);\n        Assert.isTrue(!CollectionUtils.contains(this.providers.iterator(), (Object)null), &quot;providers list cannot contain null values&quot;);\n    }\n\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        Class&lt;? extends Authentication&gt; toTest = authentication.getClass();\n        AuthenticationException lastException = null;\n        AuthenticationException parentException = null;\n        Authentication result = null;\n        Authentication parentResult = null;\n        int currentPosition = 0;\n        int size = this.providers.size();\n        Iterator var9 = this.getProviders().iterator();\n\n        while(var9.hasNext()) {\n            AuthenticationProvider provider = (AuthenticationProvider)var9.next();\n            if (provider.supports(toTest)) {\n                if (logger.isTraceEnabled()) {\n                    Log var10000 = logger;\n                    String var10002 = provider.getClass().getSimpleName();\n                    ++currentPosition;\n                    var10000.trace(LogMessage.format(&quot;Authenticating request with %s (%d/%d)&quot;, var10002, currentPosition, size));\n                }\n\n                try {\n                    result = provider.authenticate(authentication);\n                    if (result != null) {\n                        this.copyDetails(authentication, result);\n                        break;\n                    }\n                } catch (InternalAuthenticationServiceException | AccountStatusException var14) {\n                    this.prepareException(var14, authentication);\n                    throw var14;\n                } catch (AuthenticationException var15) {\n                    lastException = var15;\n                }\n            }\n        }\n\n        if (result == null &amp;&amp; this.parent != null) {\n            try {\n                parentResult = this.parent.authenticate(authentication);\n                result = parentResult;\n            } catch (ProviderNotFoundException var12) {\n            } catch (AuthenticationException var13) {\n                parentException = var13;\n                lastException = var13;\n            }\n        }\n\n        if (result != null) {\n            if (this.eraseCredentialsAfterAuthentication &amp;&amp; result instanceof CredentialsContainer) {\n                ((CredentialsContainer)result).eraseCredentials();\n            }\n\n            if (parentResult == null) {\n                this.eventPublisher.publishAuthenticationSuccess(result);\n            }\n\n            return result;\n        } else {\n            if (lastException == null) {\n                lastException = new ProviderNotFoundException(this.messages.getMessage(&quot;ProviderManager.providerNotFound&quot;, new Object[]{toTest.getName()}, &quot;No AuthenticationProvider found for {0}&quot;));\n            }\n\n            if (parentException == null) {\n                this.prepareException((AuthenticationException)lastException, authentication);\n            }\n\n            throw lastException;\n        }\n    }\n\n    private void prepareException(AuthenticationException ex, Authentication auth) {\n        this.eventPublisher.publishAuthenticationFailure(ex, auth);\n    }\n\n    private void copyDetails(Authentication source, Authentication dest) {\n        if (dest instanceof AbstractAuthenticationToken token &amp;&amp; dest.getDetails() == null) {\n            token.setDetails(source.getDetails());\n        }\n\n    }\n\n    public List&lt;AuthenticationProvider&gt; getProviders() {\n        return this.providers;\n    }\n\n    public void setMessageSource(MessageSource messageSource) {\n        this.messages = new MessageSourceAccessor(messageSource);\n    }\n\n    public void setAuthenticationEventPublisher(AuthenticationEventPublisher eventPublisher) {\n        Assert.notNull(eventPublisher, &quot;AuthenticationEventPublisher cannot be null&quot;);\n        this.eventPublisher = eventPublisher;\n    }\n\n    public void setEraseCredentialsAfterAuthentication(boolean eraseSecretData) {\n        this.eraseCredentialsAfterAuthentication = eraseSecretData;\n    }\n\n    public boolean isEraseCredentialsAfterAuthentication() {\n        return this.eraseCredentialsAfterAuthentication;\n    }\n\n    private static final class NullEventPublisher implements AuthenticationEventPublisher {\n        private NullEventPublisher() {\n        }\n\n        public void publishAuthenticationFailure(AuthenticationException exception, Authentication authentication) {\n        }\n\n        public void publishAuthenticationSuccess(Authentication authentication) {\n        }\n    }\n}\n</code></pre>\n<p>I need to have the possibility to cache the access token generated by the code above and then use it when I call the remote endpoints with Retrofit. The problem is that I don't know where to catch the returned access token. The code above works with INSOMNIA, but I'm not able to replicate the Java code to emulate INSOMNIA'S call.</p>\n<p>Please Help</p>\n"},{"tags":["java","mongodb","deserialization"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680766763,"post_id":75941151,"comment_id":133954576,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28223201,"reputation":1,"user_id":21573618,"display_name":"vin_081990"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680707564,"creation_date":1680707564,"question_id":75941151,"body_markdown":"I have a java Object \r\nModel, with attributes.\r\n- id\r\n- type\r\n-data \r\nThe data attribute is of type ModelData which can have two child classes ModelA, ModelB.\r\n\r\nThe Model object is received as an input to a REST API Post call and is persisted directly to a ModelRepository in MongoDB.\r\nBut while reading the persisted object, I need to identify if the data object is of type ModelA or ModelB. How do i add a custom deserializing logic to the MongoDB read \r\n\r\nI tried to save the object to Mongo and read. While reading I need to identify if the data object is of type ModelA or ModelB. How do i add a custom deserializing logic to the MongoDB read  ","title":"Custom Deserialization during MongoDB read","body":"<p>I have a java Object\nModel, with attributes.</p>\n<ul>\n<li>id</li>\n<li>type\n-data\nThe data attribute is of type ModelData which can have two child classes ModelA, ModelB.</li>\n</ul>\n<p>The Model object is received as an input to a REST API Post call and is persisted directly to a ModelRepository in MongoDB.\nBut while reading the persisted object, I need to identify if the data object is of type ModelA or ModelB. How do i add a custom deserializing logic to the MongoDB read</p>\n<p>I tried to save the object to Mongo and read. While reading I need to identify if the data object is of type ModelA or ModelB. How do i add a custom deserializing logic to the MongoDB read</p>\n"},{"tags":["java","spring-boot","flyway"],"answers":[{"comments":[{"owner":{"account_id":1746128,"reputation":2925,"user_id":1596308,"accept_rate":78,"display_name":"Adam"},"score":0,"creation_date":1681201070,"post_id":75941128,"comment_id":134013990,"body_markdown":"Perfect! The table was not named exactly like that, but it was easy enough to find, thank you.","body":"Perfect! The table was not named exactly like that, but it was easy enough to find, thank you."}],"tags":[],"owner":{"display_name":"user15773347"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680707453,"creation_date":1680707453,"answer_id":75941128,"question_id":75940590,"body_markdown":"Try something like this:\r\n\r\n        try (PreparedStatement statement = connection.prepareStatement(&quot;SELECT COUNT(*) FROM foobar.flyway_schema_history&quot;)) {\r\n        ResultSet rs = statement.executeQuery();\r\n        if (!(rs.next() &amp;&amp; rs.getInt(1) &gt; 0)) {\r\n            // metadata table does not exist, run script to resolve the issue\r\n            // run your script\r\n        }\r\n        // start Spring Boot application\r\n    }\r\n\r\nThis code checks if your metadata table exists. `If` not, run your script.","title":"Detect if sql database has the following: Found non-empty schema &#39;foobar&#39; without metadata table","body":"<p>Try something like this:</p>\n<pre><code>    try (PreparedStatement statement = connection.prepareStatement(&quot;SELECT COUNT(*) FROM foobar.flyway_schema_history&quot;)) {\n    ResultSet rs = statement.executeQuery();\n    if (!(rs.next() &amp;&amp; rs.getInt(1) &gt; 0)) {\n        // metadata table does not exist, run script to resolve the issue\n        // run your script\n    }\n    // start Spring Boot application\n}\n</code></pre>\n<p>This code checks if your metadata table exists. <code>If</code> not, run your script.</p>\n"}],"owner":{"account_id":1746128,"reputation":2925,"user_id":1596308,"accept_rate":78,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75941128,"answer_count":1,"score":1,"last_activity_date":1680707453,"creation_date":1680704390,"question_id":75940590,"body_markdown":"If I run a certain test suite in our codebase, I end up with the this error when I try to start our spring boot app:\r\n\r\n    Caused by: com.googlecode.flyway.core.api.FlywayException: Found non-empty schema &#39;foobar&#39; without metadata table! Use init() first to initialize the metadata table.\r\n\r\nI have a script which resolves this and makes the db be in a good state. Then I can start the app.\r\n\r\nI want to detect this state and run this script automatically as part of the run configuration for the app.\r\n\r\nIn the java code I have access to java.sql.Connection. \r\n\r\nCan I with this connection object detect this issue?\r\n\r\nI tried inspecting connection.getMetadata() and connection.getSchema(). And also connection.getMetadata.getSchemas(). But everything I&#39;ve checked so far seem to be the same for the state when everything is fine and when I receive the FlyWay error.\r\n\r\n","title":"Detect if sql database has the following: Found non-empty schema &#39;foobar&#39; without metadata table","body":"<p>If I run a certain test suite in our codebase, I end up with the this error when I try to start our spring boot app:</p>\n<pre><code>Caused by: com.googlecode.flyway.core.api.FlywayException: Found non-empty schema 'foobar' without metadata table! Use init() first to initialize the metadata table.\n</code></pre>\n<p>I have a script which resolves this and makes the db be in a good state. Then I can start the app.</p>\n<p>I want to detect this state and run this script automatically as part of the run configuration for the app.</p>\n<p>In the java code I have access to java.sql.Connection.</p>\n<p>Can I with this connection object detect this issue?</p>\n<p>I tried inspecting connection.getMetadata() and connection.getSchema(). And also connection.getMetadata.getSchemas(). But everything I've checked so far seem to be the same for the state when everything is fine and when I receive the FlyWay error.</p>\n"},{"tags":["java","android","java-io","android-11"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624011083,"post_id":68032841,"comment_id":120246602,"body_markdown":"`folder.listfiles() is returning null` For which directory?","body":"<code>folder.listfiles() is returning null</code> For which directory?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624011564,"post_id":68032841,"comment_id":120246770,"body_markdown":"Try `File file = Environment.getExternalStorageDirectory();` As on an Android 11 device one can list root of external storage and you will obtain all public directories. (Also Download).\n` And you do not need any permission doing so.","body":"Try <code>File file = Environment.getExternalStorageDirectory();</code> As on an Android 11 device one can list root of external storage and you will obtain all public directories. (Also Download). ` And you do not need any permission doing so."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624011707,"post_id":68032841,"comment_id":120246828,"body_markdown":"You are sure null is returned and not an empty array? As i would rather expect an empty array.","body":"You are sure null is returned and not an empty array? As i would rather expect an empty array."},{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":0,"creation_date":1624035865,"post_id":68032841,"comment_id":120256866,"body_markdown":"folder.listfiles() is returning for every directory","body":"folder.listfiles() is returning for every directory"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624037587,"post_id":68032841,"comment_id":120257401,"body_markdown":"????????????????????? Is returning what?","body":"????????????????????? Is returning what?"},{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":0,"creation_date":1624067734,"post_id":68032841,"comment_id":120263862,"body_markdown":"Listen\nwhen we call folder.listfiles() method so also it return an array of file objects okay\nbut now folder.listfiles() method is returning null values in place of file object&#39;s array\ndid you get? You can see in Mainactivity.java oncreate method&#39;s else block third line.","body":"Listen when we call folder.listfiles() method so also it return an array of file objects okay but now folder.listfiles() method is returning null values in place of file object&#39;s array did you get? You can see in Mainactivity.java oncreate method&#39;s else block third line."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624084359,"post_id":68032841,"comment_id":120266048,"body_markdown":"You did not get me. And you did not answer my questions. And returning a null is something different as returning null values. The subject of your post still states that null is returned which i do not believe. And i did not hear you about empty array.","body":"You did not get me. And you did not answer my questions. And returning a null is something different as returning null values. The subject of your post still states that null is returned which i do not believe. And i did not hear you about empty array."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624084531,"post_id":68032841,"comment_id":120266070,"body_markdown":"So know the difference between allfiles==null and allfiles.length==0. The latter would be an empty array.","body":"So know the difference between allfiles==null and allfiles.length==0. The latter would be an empty array."},{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":0,"creation_date":1624290891,"post_id":68032841,"comment_id":120312593,"body_markdown":"Sir it is not executing the code\nfolder.listFiles()\nso nothing is happening that was I mean ghat is not returning any pointer or array or list anything","body":"Sir it is not executing the code folder.listFiles() so nothing is happening that was I mean ghat is not returning any pointer or array or list anything"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624291307,"post_id":68032841,"comment_id":120312775,"body_markdown":"Do you mean that your app hangs on that statement?","body":"Do you mean that your app hangs on that statement?"},{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":0,"creation_date":1624342211,"post_id":68032841,"comment_id":120325028,"body_markdown":"Yes my app terminate because of NullpointerExceprion on line MainActivity.java:\non line this this this and did you get that","body":"Yes my app terminate because of NullpointerExceprion on line MainActivity.java: on line this this this and did you get that"},{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":0,"creation_date":1624342582,"post_id":68032841,"comment_id":120325129,"body_markdown":"actually I was creating an App which saves whatsapp status and I successfully created it but It was working till android 9 not on 10 and 11 so I got this error so that&#39;s why I was looking for","body":"actually I was creating an App which saves whatsapp status and I successfully created it but It was working till android 9 not on 10 and 11 so I got this error so that&#39;s why I was looking for"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624347942,"post_id":68032841,"comment_id":120327120,"body_markdown":"I did not get it. How would that be possible?Please post the logcat.","body":"I did not get it. How would that be possible?Please post the logcat."},{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":0,"creation_date":1637680637,"post_id":68032841,"comment_id":123887989,"body_markdown":"@blackapps returning null for every directory not returning empty array","body":"@blackapps returning null for every directory not returning empty array"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1637683635,"post_id":68032841,"comment_id":123889375,"body_markdown":"Before you do the listing add `if ( !file.exists()) return;` listFiles() returns null for non existing directories.","body":"Before you do the listing add <code>if ( !file.exists()) return;</code> listFiles() returns null for non existing directories."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1637683680,"post_id":68032841,"comment_id":123889397,"body_markdown":"And `if ( ! file.isDirectory()) return;`. Also please remove all import lines and all code concerning permissions. All obscures your problem. We do believe you have the permissions.","body":"And <code>if ( ! file.isDirectory()) return;</code>. Also please remove all import lines and all code concerning permissions. All obscures your problem. We do believe you have the permissions."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648447268,"post_id":68032841,"comment_id":126616771,"body_markdown":"`File.listFiles()` returns `null` under several documented circumstances, including doesn&#39;t exist, not a directory, and no read permissions. *Ergo* at least one of those conditions applies.","body":"<code>File.listFiles()</code> returns <code>null</code> under several documented circumstances, including doesn&#39;t exist, not a directory, and no read permissions. <i>Ergo</i> at least one of those conditions applies."}],"answers":[{"comments":[{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":1,"creation_date":1624342492,"post_id":68062240,"comment_id":120325104,"body_markdown":"okay but if I give the path /storage/emulated/0/whatsapp/Media/.statuses then????\nactually I was creating an App which saves whatsapp status and I successfully created it but It was working till android 9 not on 10 and 11 so I got this error so that&#39;s why I was looking for","body":"okay but if I give the path /storage/emulated/0/whatsapp/Media/.statuses then???? actually I was creating an App which saves whatsapp status and I successfully created it but It was working till android 9 not on 10 and 11 so I got this error so that&#39;s why I was looking for"},{"owner":{"account_id":1823661,"reputation":115,"user_id":1657093,"accept_rate":50,"display_name":"Vivek"},"score":0,"creation_date":1633596459,"post_id":68062240,"comment_id":122803474,"body_markdown":"hi did you resolve it?","body":"hi did you resolve it?"},{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":0,"creation_date":1637680743,"post_id":68062240,"comment_id":123888026,"body_markdown":"No I did not resolve it till now","body":"No I did not resolve it till now"}],"tags":[],"owner":{"account_id":15881907,"reputation":1502,"user_id":11459434,"display_name":"Dharmender Manral"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661874531,"creation_date":1624248918,"answer_id":68062240,"question_id":68032841,"body_markdown":"Try with the following code it&#39;s working.\r\n  \r\n     //Add below permission in your manifest file\r\n     &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n\r\n    //Add below attribute in manifest application tag\r\n     android:requestLegacyExternalStorage=&quot;true&quot;\r\n\r\n    //Activity code, ask file read/write runtime permission\r\n    public class MainActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n        requestForPermission();\r\n        getFile();\r\n    }\r\n\r\n    private void getFile() {\r\n        File file;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n            file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString());\r\n        } else {\r\n            file = new File(Environment.getExternalStorageDirectory().toString() + &quot;/Download/&quot;);\r\n        }\r\n        File[] allfiles = null;\r\n        allfiles = file.listFiles();\r\n        if (file.exists()) {\r\n            tv.setText(&quot;Exist&quot;);\r\n        }\r\n        if (allfiles != null) {\r\n            Toast.makeText(this, &quot;length is &quot; + allfiles.length, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(this, &quot;Array is null&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    private void requestForPermission() {\r\n        ActivityCompat.requestPermissions(\r\n                this,\r\n                new String[]{\r\n                        android.Manifest.permission.READ_EXTERNAL_STORAGE,\r\n                        android.Manifest.permission.WRITE_EXTERNAL_STORAGE\r\n                },\r\n                101\r\n        );\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode) {\r\n            case 101:\r\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    getFile();\r\n                } else {\r\n                    //not granted\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    }","title":"File.listFiles() is returning null in android 11","body":"<p>Try with the following code it's working.</p>\n<pre><code> //Add below permission in your manifest file\n &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n\n\n//Add below attribute in manifest application tag\n android:requestLegacyExternalStorage=&quot;true&quot;\n\n//Activity code, ask file read/write runtime permission\npublic class MainActivity extends AppCompatActivity {\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main2);\n    requestForPermission();\n    getFile();\n}\n\nprivate void getFile() {\n    File file;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n        file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString());\n    } else {\n        file = new File(Environment.getExternalStorageDirectory().toString() + &quot;/Download/&quot;);\n    }\n    File[] allfiles = null;\n    allfiles = file.listFiles();\n    if (file.exists()) {\n        tv.setText(&quot;Exist&quot;);\n    }\n    if (allfiles != null) {\n        Toast.makeText(this, &quot;length is &quot; + allfiles.length, Toast.LENGTH_SHORT).show();\n    } else {\n        Toast.makeText(this, &quot;Array is null&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n\nprivate void requestForPermission() {\n    ActivityCompat.requestPermissions(\n            this,\n            new String[]{\n                    android.Manifest.permission.READ_EXTERNAL_STORAGE,\n                    android.Manifest.permission.WRITE_EXTERNAL_STORAGE\n            },\n            101\n    );\n}\n\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    switch (requestCode) {\n        case 101:\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                getFile();\n            } else {\n                //not granted\n            }\n            break;\n        default:\n            break;\n    }\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9022334,"reputation":53,"user_id":6722975,"accept_rate":60,"display_name":"Djen Nik"},"score":0,"creation_date":1673534298,"post_id":70527486,"comment_id":132524728,"body_markdown":"Thanks, you save my day. Your source code works but it remains validating use of MANAGE_EXTERNAL_STORAGE by Google Play Console :)","body":"Thanks, you save my day. Your source code works but it remains validating use of MANAGE_EXTERNAL_STORAGE by Google Play Console :)"}],"tags":[],"owner":{"account_id":3619499,"reputation":5613,"user_id":3018627,"display_name":"Subarata Talukder"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1680707134,"creation_date":1640838642,"answer_id":70527486,"question_id":68032841,"body_markdown":"&gt; According to your requirement you were trying to access list of files under  a directory by using ***listfiles()*** method. And want check\r\n&gt; it is working or not. But this returning ***null***.\r\n&gt; \r\n**First, Declare the *MANAGE_EXTERNAL_STORAGE* permission in the manifest.**\r\n\r\n    // For 30 and after\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n    \r\n    // For before 30\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\r\n        tools:node=&quot;merge&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.STORAGE&quot;\r\n        tools:node=&quot;merge&quot; /&gt;\r\n\r\n// For 30 and after\r\n&gt; Second, Use the ***ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION*** intent\r\n&gt; action to direct users to a system settings page where they can enable\r\n&gt; the following option for your app: Allow access to manage all files.\r\n\r\n**Write the code on your onCreate Method:**\r\n    \r\n    if (Build.VERSION.SDK_INT &lt; 30) {\r\n        if (!checkBefore30()) {\r\n            requestBefore30();\r\n        } else { \r\n          // User granted file permission, Access your file\r\n          readFiles();\r\n        }\r\n      } else if (Build.VERSION.SDK_INT &gt;= 30) {\r\n        check30AndAfter();\r\n      } else {\r\n        // User already has file access permission\r\n        readFiles();\r\n    }\r\n\r\n**Write those methods on your Activity:**\r\n\r\n    private boolean checkBefore30() {\r\n         return ContextCompat.checkSelfPermission(YourActivity.this,\r\n             Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED;\r\n    }\r\n\r\n\r\n    private void requestBefore30() {\r\n       if(ActivityCompat.shouldShowRequestPermissionRationale(YourActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE)) {\r\n                        Toast.makeText(LoginActivity.this, &quot;Storage permission required. Please allow this permission&quot;, Toast.LENGTH_LONG).show();\r\n                        ActivityCompat.requestPermissions(YourActivity.this, \r\n                                new String[]{android.Manifest.permission.READ_EXTERNAL_STORAGE}, 100);\r\n                    } else {\r\n                        ActivityCompat.requestPermissions(YourActivity.this, \r\n                                new String[]{android.Manifest.permission.READ_EXTERNAL_STORAGE}, 100);\r\n       }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        switch (requestCode) {\r\n            case 100:\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    // Permission for storage access successful!\r\n                    // Read your files now\r\n                } else {\r\n                    // Allow permission for storage access!\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.R)\r\n    private void check30AndAfter() {\r\n        if (!Environment.isExternalStorageManager()) {\r\n            try {\r\n                Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n                intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\r\n                intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\r\n                startActivityForResult(intent, 200);\r\n            } catch (Exception e) {\r\n                Intent intent = new Intent();\r\n                intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                startActivityForResult(intent, 200);\r\n            }\r\n        }\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.R)\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 200) {\r\n            if (30 &gt;= Build.VERSION_CODES.R) {\r\n                if (Environment.isExternalStorageManager()) {\r\n                    // Permission for storage access successful!\r\n                    // Read your files now\r\n                } else {\r\n                    // Allow permission for storage access!\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private void readFiles() {\r\n            File file;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString());\r\n            } else {\r\n                file = new File(Environment.getExternalStorageDirectory().toString() + &quot;/Download/&quot;);\r\n            }\r\n            File[] files= null;\r\n            files= file.listFiles();\r\n            if (file.exists()) {\r\n                //  files exist\r\n            }\r\n            if (allfiles != null) {\r\n                Toast.makeText(this, &quot; file length is&quot; + files.length, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;No files&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n\r\n**Hopefully your problem will be solved.**","title":"File.listFiles() is returning null in android 11","body":"<blockquote>\n<p>According to your requirement you were trying to access list of files under  a directory by using <em><strong>listfiles()</strong></em> method. And want check\nit is working or not. But this returning <em><strong>null</strong></em>.</p>\n</blockquote>\n<p><strong>First, Declare the <em>MANAGE_EXTERNAL_STORAGE</em> permission in the manifest.</strong></p>\n<pre><code>// For 30 and after\n&lt;uses-permission\n    android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n    tools:ignore=&quot;ScopedStorage&quot; /&gt;\n\n// For before 30\n&lt;uses-permission\n    android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\n    tools:node=&quot;merge&quot; /&gt;\n&lt;uses-permission\n    android:name=&quot;android.permission.STORAGE&quot;\n    tools:node=&quot;merge&quot; /&gt;\n</code></pre>\n<p>// For 30 and after</p>\n<blockquote>\n<p>Second, Use the <em><strong>ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION</strong></em> intent\naction to direct users to a system settings page where they can enable\nthe following option for your app: Allow access to manage all files.</p>\n</blockquote>\n<p><strong>Write the code on your onCreate Method:</strong></p>\n<pre><code>if (Build.VERSION.SDK_INT &lt; 30) {\n    if (!checkBefore30()) {\n        requestBefore30();\n    } else { \n      // User granted file permission, Access your file\n      readFiles();\n    }\n  } else if (Build.VERSION.SDK_INT &gt;= 30) {\n    check30AndAfter();\n  } else {\n    // User already has file access permission\n    readFiles();\n}\n</code></pre>\n<p><strong>Write those methods on your Activity:</strong></p>\n<pre><code>private boolean checkBefore30() {\n     return ContextCompat.checkSelfPermission(YourActivity.this,\n         Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED;\n}\n\n\nprivate void requestBefore30() {\n   if(ActivityCompat.shouldShowRequestPermissionRationale(YourActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE)) {\n                    Toast.makeText(LoginActivity.this, &quot;Storage permission required. Please allow this permission&quot;, Toast.LENGTH_LONG).show();\n                    ActivityCompat.requestPermissions(YourActivity.this, \n                            new String[]{android.Manifest.permission.READ_EXTERNAL_STORAGE}, 100);\n                } else {\n                    ActivityCompat.requestPermissions(YourActivity.this, \n                            new String[]{android.Manifest.permission.READ_EXTERNAL_STORAGE}, 100);\n   }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    switch (requestCode) {\n        case 100:\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                // Permission for storage access successful!\n                // Read your files now\n            } else {\n                // Allow permission for storage access!\n            }\n            break;\n    }\n}\n\n\n@RequiresApi(api = Build.VERSION_CODES.R)\nprivate void check30AndAfter() {\n    if (!Environment.isExternalStorageManager()) {\n        try {\n            Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n            intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\n            intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\n            startActivityForResult(intent, 200);\n        } catch (Exception e) {\n            Intent intent = new Intent();\n            intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n            startActivityForResult(intent, 200);\n        }\n    }\n}\n\n@RequiresApi(api = Build.VERSION_CODES.R)\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == 200) {\n        if (30 &gt;= Build.VERSION_CODES.R) {\n            if (Environment.isExternalStorageManager()) {\n                // Permission for storage access successful!\n                // Read your files now\n            } else {\n                // Allow permission for storage access!\n            }\n        }\n    }\n}\n\n\nprivate void readFiles() {\n        File file;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString());\n        } else {\n            file = new File(Environment.getExternalStorageDirectory().toString() + &quot;/Download/&quot;);\n        }\n        File[] files= null;\n        files= file.listFiles();\n        if (file.exists()) {\n            //  files exist\n        }\n        if (allfiles != null) {\n            Toast.makeText(this, &quot; file length is&quot; + files.length, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(this, &quot;No files&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n</code></pre>\n<p><strong>Hopefully your problem will be solved.</strong></p>\n"}],"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4642,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1680707134,"creation_date":1624009116,"question_id":68032841,"body_markdown":"I was  creating an application to test whether `File.listFiles()` method is working or not. To check this I made an application and I used it there but this returning null in place of an array.\r\nThis is my full code please help and I have granted all permissions for android 11\r\n\r\n\r\n**MainActivity.java**\r\n\r\n    package com.rajkumarcreations.file;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.net.Uri;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.provider.Settings;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import org.w3c.dom.Text;\r\n    \r\n    import java.io.File;\r\n    \r\n    import static android.Manifest.permission.READ_EXTERNAL_STORAGE;\r\n    import static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\r\n    import static android.os.Build.VERSION.SDK_INT;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    TextView tv;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            tv = (TextView) findViewById(R.id.btn);\r\n            if(!checkPermission()){\r\n                requestPermission();\r\n            }else{\r\n                File file = new File(Environment.getExternalStorageDirectory()+&quot;/Download/&quot;);\r\n                File[] allfiles = null;\r\n                allfiles = file.listFiles();\r\n                if(file.exists()){\r\n                    tv.setText(&quot;Exist&quot;);\r\n                }\r\n                if(allfiles!=null){\r\n                    Toast.makeText(this, &quot;length is &quot;+allfiles.length, Toast.LENGTH_SHORT).show();\r\n                }else{\r\n                    Toast.makeText(this, &quot;Array is null&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n    \r\n        private boolean checkPermission() {\r\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                return Environment.isExternalStorageManager();\r\n            } else {\r\n                int write = ContextCompat.checkSelfPermission(MainActivity.this, WRITE_EXTERNAL_STORAGE);\r\n                int read = ContextCompat.checkSelfPermission(MainActivity.this, READ_EXTERNAL_STORAGE);\r\n                return write == PackageManager.PERMISSION_GRANTED &amp;&amp; read == PackageManager.PERMISSION_GRANTED;\r\n            }\r\n        }\r\n    \r\n        private void requestPermission() {\r\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                try {\r\n                    Intent intent = new Intent(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                    intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\r\n                    intent.setData(Uri.parse(String.format(&quot;package:%s&quot;,new Object[]{getApplicationContext().getPackageName()})));\r\n                    startActivityForResult(intent, 2000);\r\n                } catch (Exception e) {\r\n                    Intent intent = new Intent();\r\n                    intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                    startActivityForResult(intent, 2000);\r\n                }\r\n            } else {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{WRITE_EXTERNAL_STORAGE,READ_EXTERNAL_STORAGE}, 333);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (requestCode == 2000) {\r\n                if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                    if (Environment.isExternalStorageManager()) {\r\n    \r\n                        Toast.makeText(this, &quot;Allow permissions granted&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                    } else {\r\n                        Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode,permissions,grantResults);\r\n            if (requestCode==333){\r\n                if (grantResults.length &gt; 0) {\r\n                    boolean WRITE_EXTERNAL_STORAGE = grantResults[0] == PackageManager.PERMISSION_GRANTED;\r\n                    boolean READ_EXTERNAL_STORAGE = grantResults[1] == PackageManager.PERMISSION_GRANTED;\r\n                    if (READ_EXTERNAL_STORAGE &amp;&amp; WRITE_EXTERNAL_STORAGE) {\r\n    \r\n                        Toast.makeText(this, &quot;All permissions granted&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                    } else {\r\n                        Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**Manifest File**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.rajkumarcreations.file&quot;&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:requestLegacyExternalStorage=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n\r\n**XML File**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Hello World!&quot;\r\n            android:id=&quot;@+id/btn&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n","title":"File.listFiles() is returning null in android 11","body":"<p>I was  creating an application to test whether <code>File.listFiles()</code> method is working or not. To check this I made an application and I used it there but this returning null in place of an array.\nThis is my full code please help and I have granted all permissions for android 11</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>package com.rajkumarcreations.file;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.provider.Settings;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport org.w3c.dom.Text;\n\nimport java.io.File;\n\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\nimport static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\nimport static android.os.Build.VERSION.SDK_INT;\n\npublic class MainActivity extends AppCompatActivity {\nTextView tv;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        tv = (TextView) findViewById(R.id.btn);\n        if(!checkPermission()){\n            requestPermission();\n        }else{\n            File file = new File(Environment.getExternalStorageDirectory()+&quot;/Download/&quot;);\n            File[] allfiles = null;\n            allfiles = file.listFiles();\n            if(file.exists()){\n                tv.setText(&quot;Exist&quot;);\n            }\n            if(allfiles!=null){\n                Toast.makeText(this, &quot;length is &quot;+allfiles.length, Toast.LENGTH_SHORT).show();\n            }else{\n                Toast.makeText(this, &quot;Array is null&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n    private boolean checkPermission() {\n        if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n            return Environment.isExternalStorageManager();\n        } else {\n            int write = ContextCompat.checkSelfPermission(MainActivity.this, WRITE_EXTERNAL_STORAGE);\n            int read = ContextCompat.checkSelfPermission(MainActivity.this, READ_EXTERNAL_STORAGE);\n            return write == PackageManager.PERMISSION_GRANTED &amp;&amp; read == PackageManager.PERMISSION_GRANTED;\n        }\n    }\n\n    private void requestPermission() {\n        if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n            try {\n                Intent intent = new Intent(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n                intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\n                intent.setData(Uri.parse(String.format(&quot;package:%s&quot;,new Object[]{getApplicationContext().getPackageName()})));\n                startActivityForResult(intent, 2000);\n            } catch (Exception e) {\n                Intent intent = new Intent();\n                intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n                startActivityForResult(intent, 2000);\n            }\n        } else {\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{WRITE_EXTERNAL_STORAGE,READ_EXTERNAL_STORAGE}, 333);\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == 2000) {\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n                if (Environment.isExternalStorageManager()) {\n\n                    Toast.makeText(this, &quot;Allow permissions granted&quot;, Toast.LENGTH_SHORT).show();\n\n                } else {\n                    Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode,permissions,grantResults);\n        if (requestCode==333){\n            if (grantResults.length &gt; 0) {\n                boolean WRITE_EXTERNAL_STORAGE = grantResults[0] == PackageManager.PERMISSION_GRANTED;\n                boolean READ_EXTERNAL_STORAGE = grantResults[1] == PackageManager.PERMISSION_GRANTED;\n                if (READ_EXTERNAL_STORAGE &amp;&amp; WRITE_EXTERNAL_STORAGE) {\n\n                    Toast.makeText(this, &quot;All permissions granted&quot;, Toast.LENGTH_SHORT).show();\n\n                } else {\n                    Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Manifest File</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.rajkumarcreations.file&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>XML File</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World!&quot;\n        android:id=&quot;@+id/btn&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","annotations"],"owner":{"account_id":19128152,"reputation":1,"user_id":13970687,"display_name":"gyspar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680707053,"creation_date":1680707053,"question_id":75941052,"body_markdown":"I want to hide `@EnabledIf` annotation in my custom annotation named `@ServiceEnabled` annotation in Java. It&#39;s something like proxy.\r\n\r\nLike this:\r\n\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.TYPE, ElementType.METHOD})\r\n@EnabledIf(value = &quot;#{services.isEnabled(&#39;&quot; + \r\n                                          value // &lt;-- How inject value here ? \r\n                                            + &quot;&#39;)}&quot;, loadContext = true)\r\npublic @interface ServiceEnabled {\r\n    \r\n    String value();\r\n}\r\n```\r\nAnd i want to use in class like this.\r\n```\r\n@ServiceEnabled(&quot;MyService&quot;)\r\npublic class ServicesChecker {}\r\n```\r\nthen value in `@EnabledIf` should be equal to `&quot;#{services.isEnabled(&#39;MyService&#39;)}&quot;`\r\n\r\nIs any way to do it in Java ? ","title":"Is it possible to create annotation which is proxy of another annotation?","body":"<p>I want to hide <code>@EnabledIf</code> annotation in my custom annotation named <code>@ServiceEnabled</code> annotation in Java. It's something like proxy.</p>\n<p>Like this:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.TYPE, ElementType.METHOD})\n@EnabledIf(value = &quot;#{services.isEnabled('&quot; + \n                                          value // &lt;-- How inject value here ? \n                                            + &quot;')}&quot;, loadContext = true)\npublic @interface ServiceEnabled {\n    \n    String value();\n}\n</code></pre>\n<p>And i want to use in class like this.</p>\n<pre><code>@ServiceEnabled(&quot;MyService&quot;)\npublic class ServicesChecker {}\n</code></pre>\n<p>then value in <code>@EnabledIf</code> should be equal to <code>&quot;#{services.isEnabled('MyService')}&quot;</code></p>\n<p>Is any way to do it in Java ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9703,"page":522,"page_size":100}
