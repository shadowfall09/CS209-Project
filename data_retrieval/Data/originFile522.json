{"items":[{"tags":["java","sql-server","spring","hibernate"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680236425,"post_id":75894471,"comment_id":133867486,"body_markdown":"is [this](https://stackoverflow.com/questions/51310878/how-select-distinct-value-with-pageable-spring-data-jpa) related?","body":"is <a href=\"https://stackoverflow.com/questions/51310878/how-select-distinct-value-with-pageable-spring-data-jpa\">this</a> related?"},{"owner":{"account_id":3835102,"reputation":116,"user_id":3179639,"display_name":"knoppix"},"score":0,"creation_date":1680249200,"post_id":75894471,"comment_id":133869387,"body_markdown":"@Erwin, I am using JPQL and not native SQL query","body":"@Erwin, I am using JPQL and not native SQL query"}],"owner":{"account_id":3835102,"reputation":116,"user_id":3179639,"display_name":"knoppix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680700879,"creation_date":1680230984,"question_id":75894471,"body_markdown":"I am creating a pageable query over SQL Server using JPA with Spring Data\r\nusing this repository call:\r\n```java\r\n    @Query(&quot;select distinct nat from TABE1 nat &quot; +\r\n            &quot;left join TABLE2 natr on natr.ID= nat.ID&quot; +\r\n            &quot;left join TABLE3 rec on rec.ID= natr.ID_&quot; +\r\n            &quot;left join TABLE4 ew on ew.ID= rec.ID_ &quot; +\r\n            &quot;where (ew.status = &#39;VA&#39; or nat.isM = true) &quot; +\r\n            &quot;and nat.expDate = :endTime &quot; +\r\n            &quot;and nat.dDate = :endTime&quot;\r\n    )\r\n    Page&lt;Entity1&gt; findAllActiveH(@Param(&quot;endTime&quot;) LocalDateTime endOfTime,\r\n                                                     Pageable pageable);\r\n```\r\nNext is the generated query with hibernate \r\n\r\n```SQL \r\n    select\r\n        distinct t.id as id1_47_,\r\n        t.creation_date as...\r\n        ...ALL column\r\n    from\r\n        TABLE t \r\n    left outer join\r\n     ..... ALL Joint \r\n    where\r\n       Conditions...\r\n    order by 1,\r\n        case \r\n            when t.creation_date is null then 1 \r\n            else 0 \r\n        end,\r\n        t.creation_date desc,\r\n        case \r\n            when lower(t.id) is null then 1 \r\n            else 0 \r\n        end,\r\n        lower(t.id) asc offset 0 rows fetch next 10 rows only\r\n```\r\nThe generated query append several &#39;order by&#39; regarding the pageable object but that throw the following exception \r\n\r\n&gt; ORDER BY items must appear in the select list if SELECT DISTINCT is specified\r\n\r\nand I can&#39;t remove the distinct to avoid data duplication \r\nany idea how to deal with pagination and distinct in spring data / hibernate and SQL Server?\r\n\r\nThanks","title":"Pagination with distinct clause using hibernate and SQL Server","body":"<p>I am creating a pageable query over SQL Server using JPA with Spring Data\nusing this repository call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Query(&quot;select distinct nat from TABE1 nat &quot; +\n            &quot;left join TABLE2 natr on natr.ID= nat.ID&quot; +\n            &quot;left join TABLE3 rec on rec.ID= natr.ID_&quot; +\n            &quot;left join TABLE4 ew on ew.ID= rec.ID_ &quot; +\n            &quot;where (ew.status = 'VA' or nat.isM = true) &quot; +\n            &quot;and nat.expDate = :endTime &quot; +\n            &quot;and nat.dDate = :endTime&quot;\n    )\n    Page&lt;Entity1&gt; findAllActiveH(@Param(&quot;endTime&quot;) LocalDateTime endOfTime,\n                                                     Pageable pageable);\n</code></pre>\n<p>Next is the generated query with hibernate</p>\n<pre><code>    select\n        distinct t.id as id1_47_,\n        t.creation_date as...\n        ...ALL column\n    from\n        TABLE t \n    left outer join\n     ..... ALL Joint \n    where\n       Conditions...\n    order by 1,\n        case \n            when t.creation_date is null then 1 \n            else 0 \n        end,\n        t.creation_date desc,\n        case \n            when lower(t.id) is null then 1 \n            else 0 \n        end,\n        lower(t.id) asc offset 0 rows fetch next 10 rows only\n</code></pre>\n<p>The generated query append several 'order by' regarding the pageable object but that throw the following exception</p>\n<blockquote>\n<p>ORDER BY items must appear in the select list if SELECT DISTINCT is specified</p>\n</blockquote>\n<p>and I can't remove the distinct to avoid data duplication\nany idea how to deal with pagination and distinct in spring data / hibernate and SQL Server?</p>\n<p>Thanks</p>\n"},{"tags":["java","winapi","progress-bar","nio","jna"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1680699245,"post_id":75939515,"comment_id":133941997,"body_markdown":"IMHO the usage of the `CopyFileEx` function is an implementation detail of the current JVM. I don&#39;t expect this to be exposed through any public API that you can access because any such API would be non-portable between Windows and probably all other platforms that the JVM can run on.","body":"IMHO the usage of the <code>CopyFileEx</code> function is an implementation detail of the current JVM. I don&#39;t expect this to be exposed through any public API that you can access because any such API would be non-portable between Windows and probably all other platforms that the JVM can run on."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680699434,"post_id":75939515,"comment_id":133942044,"body_markdown":"Maybe something like `InputStream in = new BufferedInputStream(\nnew ProgressMonitorInputStream(\nparentComponent,\n&quot;Reading &quot; + fileName,\nFiles.newInputStream(Path.of(fileName))));` See `ProgressMonitorInputStream` javadoc You can probably get more nio into that call too","body":"Maybe something like <code>InputStream in = new BufferedInputStream( new ProgressMonitorInputStream( parentComponent, &quot;Reading &quot; + fileName, Files.newInputStream(Path.of(fileName))));</code> See <code>ProgressMonitorInputStream</code> javadoc You can probably get more nio into that call too"},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1680699520,"post_id":75939515,"comment_id":133942074,"body_markdown":"@ThomasKl&#228;ger I was afraid that may be the case.","body":"@ThomasKl&#228;ger I was afraid that may be the case."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680700897,"post_id":75939515,"comment_id":133942500,"body_markdown":"What is the problem? `JProgressBar` can be used using the kind of thing I posted above","body":"What is the problem? <code>JProgressBar</code> can be used using the kind of thing I posted above"},{"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1680702252,"post_id":75939515,"comment_id":133942857,"body_markdown":"@g00se I want to use the native copy function because the target directory is on a remote SMB server and the native functions performed better than using Java input/output streams. I like your solution and will use it for local file operations, but it&#39;s not optimal for remote file operations. Also, it monitors how many bytes have been *read*, but not how many have been *transferred* to the remote filesystem.","body":"@g00se I want to use the native copy function because the target directory is on a remote SMB server and the native functions performed better than using Java input/output streams. I like your solution and will use it for local file operations, but it&#39;s not optimal for remote file operations. Also, it monitors how many bytes have been <i>read</i>, but not how many have been <i>transferred</i> to the remote filesystem."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680702988,"post_id":75939515,"comment_id":133943083,"body_markdown":"Are you sure that callback parameter `CALLBACK_CHUNK_FINISHED` is effectively telling you the size of your target? It&#39;s possible that it might be no different from calculating from the copying end. Also, since we&#39;re talking about the context of a single thread, the difference between what has been read and what has been copied will narrow, since blocking on write will occur if the destination is slow to transfer","body":"Are you sure that callback parameter <code>CALLBACK_CHUNK_FINISHED</code> is effectively telling you the size of your target? It&#39;s possible that it might be no different from calculating from the copying end. Also, since we&#39;re talking about the context of a single thread, the difference between what has been read and what has been copied will narrow, since blocking on write will occur if the destination is slow to transfer"}],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680700569,"creation_date":1680698230,"question_id":75939515,"body_markdown":"I read [here][1] that Java NIO&#39;s [`Files.copy(Path, Path, CopyOption...)`][2] method uses the Windows function [`CopyFileEx`][3] on Windows machines. The documentation for this function describes a `lpProgressRoutine` parameter:\r\n\r\n&gt; The address of a callback function of type LPPROGRESS_ROUTINE that is\r\n&gt; called each time another portion of the file has been copied. This\r\n&gt; parameter can be NULL. For more information on the progress callback\r\n&gt; function, see the [CopyProgressRoutine][4] function.\r\n\r\nI want to leverage this callback to use with a [`JProgressBar`][5]. Is there a way to do this with Java NIO or JNA?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/34774495/5645656\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#copy-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-\r\n  [3]: https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-copyfileexa?redirectedfrom=MSDN\r\n  [4]: https://learn.microsoft.com/en-us/windows/desktop/api/winbase/nc-winbase-lpprogress_routine\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html","title":"Can Java copy files with the lpProgressRoutine callback?","body":"<p>I read <a href=\"https://stackoverflow.com/a/34774495/5645656\">here</a> that Java NIO's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#copy-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-\" rel=\"nofollow noreferrer\"><code>Files.copy(Path, Path, CopyOption...)</code></a> method uses the Windows function <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-copyfileexa?redirectedfrom=MSDN\" rel=\"nofollow noreferrer\"><code>CopyFileEx</code></a> on Windows machines. The documentation for this function describes a <code>lpProgressRoutine</code> parameter:</p>\n<blockquote>\n<p>The address of a callback function of type LPPROGRESS_ROUTINE that is\ncalled each time another portion of the file has been copied. This\nparameter can be NULL. For more information on the progress callback\nfunction, see the <a href=\"https://learn.microsoft.com/en-us/windows/desktop/api/winbase/nc-winbase-lpprogress_routine\" rel=\"nofollow noreferrer\">CopyProgressRoutine</a> function.</p>\n</blockquote>\n<p>I want to leverage this callback to use with a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html\" rel=\"nofollow noreferrer\"><code>JProgressBar</code></a>. Is there a way to do this with Java NIO or JNA?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1680700122,"post_id":75939799,"comment_id":133942293,"body_markdown":"There Are Many Ways To Do This; What Have You Tried To Accomplish It?","body":"There Are Many Ways To Do This; What Have You Tried To Accomplish It?"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1680700204,"post_id":75939799,"comment_id":133942312,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#hasNext%28java.lang.String%29","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#hasNext%28java.lang.String%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1680700205,"post_id":75939799,"comment_id":133942313,"body_markdown":"use trim() then read","body":"use trim() then read"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1680700283,"post_id":75939799,"comment_id":133942327,"body_markdown":"Just check if the character you&#39;re at is a space, and if it is, return space instead of encoding it?","body":"Just check if the character you&#39;re at is a space, and if it is, return space instead of encoding it?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1680700313,"post_id":75939799,"comment_id":133942338,"body_markdown":"Simply test input char by ASCII number to see if it is a letter or not. But at least show us your own attempt to solve this issue in your question. Without this, it&#39;s nothing but a code writing request and not of help to future visitors.","body":"Simply test input char by ASCII number to see if it is a letter or not. But at least show us your own attempt to solve this issue in your question. Without this, it&#39;s nothing but a code writing request and not of help to future visitors."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1680700501,"post_id":75939799,"comment_id":133942395,"body_markdown":"Please check this link on: [How to search for similar questions on this site](https://www.google.com/search?q=site%3Astackoverflow.com+java+caesar+cipher+ignore+whitespace)","body":"Please check this link on: <a href=\"https://www.google.com/search?q=site%3Astackoverflow.com+java+caesar+cipher+ignore+whitespace\" rel=\"nofollow noreferrer\">How to search for similar questions on this site</a>"}],"answers":[{"tags":[],"owner":{"account_id":28216867,"reputation":84,"user_id":21568247,"display_name":"InvstIA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680700103,"creation_date":1680700103,"answer_id":75939831,"question_id":75939799,"body_markdown":"When the input string contains spaces, indexOf return -1\r\n\r\nThis causes the encryption loop to skip the space character entirely, an produce incorrect output\r\n\r\nI propose to modify the encryption func\r\n\r\n```java\r\npublic static String encyption(int shiftnumber, int EncrDecrpt, String plainText, String encryptStr,\r\n        String ALPHABET) {\r\n    int encryptPos = 0;\r\n    for (int i = 0; i &lt; plainText.length(); i++) {\r\n        char c = plainText.charAt(i);\r\n        if (c == &#39; &#39;) {\r\n            // If the current character is a space, skip it and continue to the next one\r\n            encryptStr += &quot; &quot;;\r\n            continue;\r\n        }\r\n        // get position of each character of inputStr in ALPHABET\r\n        int pos = ALPHABET.indexOf(c);\r\n\r\n        // get encrypted char for each char of inputStr\r\n\r\n        encryptPos = (shiftnumber + pos) % 29;\r\n        \r\n        \r\n        char encryptChar = ALPHABET.charAt(encryptPos);\r\n\r\n        // add encrypted char to encrypted string\r\n        encryptStr += encryptChar;\r\n\r\n    }\r\n    System.out.println(encryptStr);\r\n    return encryptStr;\r\n}\r\n```","title":"is there someone who can help to escape space in a string","body":"<p>When the input string contains spaces, indexOf return -1</p>\n<p>This causes the encryption loop to skip the space character entirely, an produce incorrect output</p>\n<p>I propose to modify the encryption func</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String encyption(int shiftnumber, int EncrDecrpt, String plainText, String encryptStr,\n        String ALPHABET) {\n    int encryptPos = 0;\n    for (int i = 0; i &lt; plainText.length(); i++) {\n        char c = plainText.charAt(i);\n        if (c == ' ') {\n            // If the current character is a space, skip it and continue to the next one\n            encryptStr += &quot; &quot;;\n            continue;\n        }\n        // get position of each character of inputStr in ALPHABET\n        int pos = ALPHABET.indexOf(c);\n\n        // get encrypted char for each char of inputStr\n\n        encryptPos = (shiftnumber + pos) % 29;\n        \n        \n        char encryptChar = ALPHABET.charAt(encryptPos);\n\n        // add encrypted char to encrypted string\n        encryptStr += encryptChar;\n\n    }\n    System.out.println(encryptStr);\n    return encryptStr;\n}\n</code></pre>\n"}],"owner":{"account_id":18548599,"reputation":95,"user_id":13515295,"display_name":"jonathan pascal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1680700403,"accepted_answer_id":75939831,"answer_count":1,"score":-1,"last_activity_date":1680700457,"creation_date":1680699859,"question_id":75939799,"body_markdown":"I&#39;ve got a simple caesar cipher program that takes input from a text file based on the same parameters. The problem I have is that when I use an input string with spaces, when my loop is going through the alphabet variable, it does not consider the space in the input file. What I would Like to Know Is If There Is A Way The Program Can&#39;t Consider The Space And If It Finds A Space In The Input File, It Will Pass To The Next Letter.\r\ndown is my code  \r\n\r\n    public static int shiftnumber = 0;\r\n\tpublic static int EncrDecrpt = 0;\r\n\r\n\tpublic static String plainText = &quot;&quot;;\r\n\tpublic static String encryptStr = &quot;&quot;;\r\n\tpublic static int languageInteger = 0;\r\n\tpublic static boolean turkish = false;\r\n\tpublic static boolean spanish = false;\r\n\tpublic static boolean english = false;\r\n\r\n\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tFile inputFile = new File(&quot;filename.txt&quot;);\r\n\t\tScanner scan = new Scanner(inputFile);\r\n\r\n\t\twhile (scan.hasNext()) {\r\n\r\n\t\t\tString line = scan.nextLine();\r\n\t\t\tString[] words = line.split(&quot;:&quot;);\r\n\r\n\t\t\tshiftnumber = Integer.parseInt(words[0]);\r\n\t\t\tEncrDecrpt = Integer.parseInt(words[1]);\r\n\t\t\tlanguageInteger = Integer.parseInt(words[2]);\r\n\t\t\tplainText = words[3].toLowerCase();\r\n\t\t\t\r\n\t\t\tSystem.out.println(line);\r\n\t\t\t// System.out.println(secondParameter);\r\n\r\n\t\t}\r\n\t\tencyption(shiftnumber, EncrDecrpt, plainText, encryptStr, ALPHABET);\r\n\r\n    public static String encyption(int shiftnumber, int EncrDecrpt, String plainText, String encryptStr,\r\n\t\t\tString ALPHABET) {\r\n\t\tint encryptPos = 0;\r\n\t\tfor (int i = 0; i &lt; plainText.length(); i++) {\r\n\t\t\t// get position of each character of inputStr in ALPHABET\r\n\t\t\tint pos = ALPHABET.indexOf(plainText.charAt(i));\r\n\r\n\t\t\t// get encrypted char for each char of inputStr\r\n\t\r\n\t\t\tencryptPos = (shiftnumber + pos) % 29;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tchar encryptChar = ALPHABET.charAt(encryptPos);\r\n\r\n\t\t\t// add encrypted char to encrypted string\r\n\t\t\tencryptStr += encryptChar;\r\n\r\n\t\t}\r\n\t\tSystem.out.println(encryptStr);\r\n\t\treturn encryptStr;\r\n\r\n\t}\r\n\r\n in the input file i have hello world with a shift 4 i get the output `lippsdasvh` instead of `LIPPS ASVPH`\r\n","title":"is there someone who can help to escape space in a string","body":"<p>I've got a simple caesar cipher program that takes input from a text file based on the same parameters. The problem I have is that when I use an input string with spaces, when my loop is going through the alphabet variable, it does not consider the space in the input file. What I would Like to Know Is If There Is A Way The Program Can't Consider The Space And If It Finds A Space In The Input File, It Will Pass To The Next Letter.\ndown is my code</p>\n<pre><code>public static int shiftnumber = 0;\npublic static int EncrDecrpt = 0;\n\npublic static String plainText = &quot;&quot;;\npublic static String encryptStr = &quot;&quot;;\npublic static int languageInteger = 0;\npublic static boolean turkish = false;\npublic static boolean spanish = false;\npublic static boolean english = false;\n\n\npublic static void main(String[] args) throws FileNotFoundException {\n    // TODO Auto-generated method stub\n    File inputFile = new File(&quot;filename.txt&quot;);\n    Scanner scan = new Scanner(inputFile);\n\n    while (scan.hasNext()) {\n\n        String line = scan.nextLine();\n        String[] words = line.split(&quot;:&quot;);\n\n        shiftnumber = Integer.parseInt(words[0]);\n        EncrDecrpt = Integer.parseInt(words[1]);\n        languageInteger = Integer.parseInt(words[2]);\n        plainText = words[3].toLowerCase();\n        \n        System.out.println(line);\n        // System.out.println(secondParameter);\n\n    }\n    encyption(shiftnumber, EncrDecrpt, plainText, encryptStr, ALPHABET);\n\npublic static String encyption(int shiftnumber, int EncrDecrpt, String plainText, String encryptStr,\n        String ALPHABET) {\n    int encryptPos = 0;\n    for (int i = 0; i &lt; plainText.length(); i++) {\n        // get position of each character of inputStr in ALPHABET\n        int pos = ALPHABET.indexOf(plainText.charAt(i));\n\n        // get encrypted char for each char of inputStr\n\n        encryptPos = (shiftnumber + pos) % 29;\n        \n        \n        char encryptChar = ALPHABET.charAt(encryptPos);\n\n        // add encrypted char to encrypted string\n        encryptStr += encryptChar;\n\n    }\n    System.out.println(encryptStr);\n    return encryptStr;\n\n}\n</code></pre>\n<p>in the input file i have hello world with a shift 4 i get the output <code>lippsdasvh</code> instead of <code>LIPPS ASVPH</code></p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680674727,"post_id":75934193,"comment_id":133936104,"body_markdown":"Are you sure you&#39;re authenticated with a Google account on the device where you&#39;re launching the app?","body":"Are you sure you&#39;re authenticated with a Google account on the device where you&#39;re launching the app?"},{"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"score":0,"creation_date":1680694193,"post_id":75934193,"comment_id":133940521,"body_markdown":"I&#39;m not authenticated with a Google account on the device. That&#39;s why `setFilterByAuthorizedAccounts` is set to `false`, so I could choose an account I want to log in with.","body":"I&#39;m not authenticated with a Google account on the device. That&#39;s why <code>setFilterByAuthorizedAccounts</code> is set to <code>false</code>, so I could choose an account I want to log in with."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":4,"creation_date":1680696207,"post_id":75934193,"comment_id":133941009,"body_markdown":"To choose an account, you have to be authenticated with the account first on the device. Have you even tried it? When you&#39;re using `.setFilterByAuthorizedAccounts(false)` it means that you want to show all accounts on the device. If you aren&#39;t authenticated, then there is nothing to show.","body":"To choose an account, you have to be authenticated with the account first on the device. Have you even tried it? When you&#39;re using <code>.setFilterByAuthorizedAccounts(false)</code> it means that you want to show all accounts on the device. If you aren&#39;t authenticated, then there is nothing to show."},{"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"score":0,"creation_date":1680697811,"post_id":75934193,"comment_id":133941505,"body_markdown":"Oh, alright, so I have to have every google account authenticated on the device? Because, now, that I&#39;ve authenticated my main google account on the device the authentication inside my app works, but it only shows the main account. I&#39;ve used other applications and there&#39;s almost always an option to authenticate with a new account without adding it to the device.","body":"Oh, alright, so I have to have every google account authenticated on the device? Because, now, that I&#39;ve authenticated my main google account on the device the authentication inside my app works, but it only shows the main account. I&#39;ve used other applications and there&#39;s almost always an option to authenticate with a new account without adding it to the device."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680700382,"post_id":75934193,"comment_id":133942360,"body_markdown":"Aside from my answer, since you&#39;re using Java, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseAuthentication).","body":"Aside from my answer, since you&#39;re using Java, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseAuthentication\" rel=\"nofollow noreferrer\">repo</a>."},{"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"score":1,"creation_date":1680701516,"post_id":75934193,"comment_id":133942669,"body_markdown":"I&#39;ve already read it. It&#39;s a nice resource, I need to read more about the differences between the one tap auth and the &quot;old&quot; way. But now, I have to find out why registerForActivityResult gives Activity.RESULT_CANCEL instead of RESULT_OK... eh.. why it cannot just work hahaha. Thanks for help, though","body":"I&#39;ve already read it. It&#39;s a nice resource, I need to read more about the differences between the one tap auth and the &quot;old&quot; way. But now, I have to find out why registerForActivityResult gives Activity.RESULT_CANCEL instead of RESULT_OK... eh.. why it cannot just work hahaha. Thanks for help, though"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1680700350,"creation_date":1680700350,"answer_id":75939878,"question_id":75934193,"body_markdown":"To be able to choose an account when you authenticate with Google in your app, you have to be authenticated first with that account on the device where you&#39;re launching the app. \r\n\r\nIf you&#39;re using in your code `.setFilterByAuthorizedAccounts(false)` it means that you want to show all accounts on the device. If you are not authenticated with any account, then there is nothing to show but an Exception.\r\n\r\nIf you want to be able to choose between multiple accounts, then you have to sign in with each account on the device.\r\n\r\n&gt; I&#39;ve used other applications and there&#39;s almost always an option to authenticate with a new account without adding it to the device.\r\n\r\nAll devices with Android have associated at least a Google account. So in order to be able to sign in with Google inside your app, you have to be authenticated on your device first or asked to sign in with a Google account.","title":"Firebase google one tap sign in Cannot find a matching credential","body":"<p>To be able to choose an account when you authenticate with Google in your app, you have to be authenticated first with that account on the device where you're launching the app.</p>\n<p>If you're using in your code <code>.setFilterByAuthorizedAccounts(false)</code> it means that you want to show all accounts on the device. If you are not authenticated with any account, then there is nothing to show but an Exception.</p>\n<p>If you want to be able to choose between multiple accounts, then you have to sign in with each account on the device.</p>\n<blockquote>\n<p>I've used other applications and there's almost always an option to authenticate with a new account without adding it to the device.</p>\n</blockquote>\n<p>All devices with Android have associated at least a Google account. So in order to be able to sign in with Google inside your app, you have to be authenticated on your device first or asked to sign in with a Google account.</p>\n"}],"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75939878,"answer_count":1,"score":3,"last_activity_date":1680700423,"creation_date":1680645885,"question_id":75934193,"body_markdown":"I want to implement signing in to my application using a Google account. I use Firebase to authenticate the user.\r\n\r\nI&#39;ve already read the documentation like million times. I&#39;ve added SH1 debug key to Firebase project as a fingerprint and I use `Web SDK configuration` from the Firebase as a web client id:\r\n[![this thing](https://i.stack.imgur.com/OoPSi.png)](https://i.stack.imgur.com/OoPSi.png)\r\n\r\nI&#39;ve got it set up in strings.xml file\r\n\r\n`&lt;string name=&quot;web_client_id&quot;&gt;**HERE**&lt;/string&gt;`\r\n\r\nthe rest of my code looks like this:\r\n\r\n```java\r\npublic class AuthFragment extends Fragment {\r\n    private FragmentAuthBinding binding;\r\n    private SignInClient oneTapClient;\r\n    ActivityResultLauncher&lt;Intent&gt; oneTapLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\r\n        result -&gt; {\r\n            if (result.getResultCode() == Activity.RESULT_OK) {\r\n                Intent data = result.getData();\r\n                try {\r\n                    var credential = oneTapClient.getSignInCredentialFromIntent(data);\r\n                    String idToken = credential.getGoogleIdToken();\r\n                } catch (ApiException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        });\r\n    public AuthFragment() {}\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        binding = FragmentAuthBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n    }\r\n\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        \r\n        HandleGoogleLogin();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n    void HandleGoogleLogin()\r\n    {\r\n        oneTapClient = Identity.getSignInClient(requireActivity());\r\n        var signInRequest = BeginSignInRequest.builder()\r\n                .setGoogleIdTokenRequestOptions(BeginSignInRequest.GoogleIdTokenRequestOptions.builder()\r\n                        .setSupported(true)\r\n                        .setServerClientId(getString(R.string.web_client_id))\r\n                        .setFilterByAuthorizedAccounts(false)\r\n                        .build())\r\n                .build();\r\n\r\n        var googleLoginButton = binding.googleLoginButton;\r\n        googleLoginButton.setOnClickListener(v -&gt; {\r\n            oneTapClient.beginSignIn(signInRequest)\r\n                    .addOnSuccessListener(requireActivity(), result -&gt; {\r\n                        var intentSenderRequest = new IntentSenderRequest\r\n                                .Builder(result.getPendingIntent().getIntentSender())\r\n                                .build();\r\n                        oneTapLauncher.launch(intentSenderRequest.getFillInIntent());\r\n                    })\r\n                    .addOnFailureListener(requireActivity(), e -&gt; {\r\n                        Log.d(&quot;googleLoginButton&quot;, &quot;oneTapClient.beginSignIn:onError - &quot; + e.getMessage());\r\n                        // Handle errors or continue presenting the signed-out UI\r\n                    });\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nthis is not the only way I&#39;ve tried to implement it. I&#39;ve also tried adding sh1 key to https://console.cloud.google.com/ and configuring OAuth 2.0 from the https://console.cloud.google.com/apis/credentials?project=myproject site:\r\n\r\n[![cloud.google](https://i.stack.imgur.com/1wGuh.png)](https://i.stack.imgur.com/1wGuh.png)\r\n\r\nbut nothing actually works.\r\n\r\nAll I always get is `Log.d(&quot;googleLoginButton&quot;, &quot;oneTapClient.beginSignIn:onError - &quot; + e.getMessage());` -&gt; `Cannot find a matching credential.`\r\n\r\nI don&#39;t know what I do wrong. Note that I&#39;ve got `setFilterByAuthorizedAccounts` set to `false`. \r\n\r\nHow can I make it work? What do I do wrong?\r\n\r\nI&#39;ve already read:\r\n\r\nhttps://stackoverflow.com/questions/61768804/getting-16-cannot-find-a-matching-credential-when-doing-one-tap-sign-in-and-s\r\n\r\nhttps://stackoverflow.com/questions/72175934/google-one-tap-sign-in\r\n\r\nhttps://stackoverflow.com/questions/70101036/firebase-google-auth-signing-out-and-logging-in-again-will-log-in-with-the-last\r\n\r\nhttps://stackoverflow.com/questions/42312758/when-users-signout-of-my-firebase-app-why-doesnt-it-also-signout-from-the-auth\r\n\r\nhttps://stackoverflow.com/questions/38707133/google-firebase-sign-out-and-forget-user-in-android-app\r\n\r\nhttps://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\r\n\r\nnothing helps.\r\n","title":"Firebase google one tap sign in Cannot find a matching credential","body":"<p>I want to implement signing in to my application using a Google account. I use Firebase to authenticate the user.</p>\n<p>I've already read the documentation like million times. I've added SH1 debug key to Firebase project as a fingerprint and I use <code>Web SDK configuration</code> from the Firebase as a web client id:\n<a href=\"https://i.stack.imgur.com/OoPSi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OoPSi.png\" alt=\"this thing\" /></a></p>\n<p>I've got it set up in strings.xml file</p>\n<p><code>&lt;string name=&quot;web_client_id&quot;&gt;**HERE**&lt;/string&gt;</code></p>\n<p>the rest of my code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AuthFragment extends Fragment {\n    private FragmentAuthBinding binding;\n    private SignInClient oneTapClient;\n    ActivityResultLauncher&lt;Intent&gt; oneTapLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\n        result -&gt; {\n            if (result.getResultCode() == Activity.RESULT_OK) {\n                Intent data = result.getData();\n                try {\n                    var credential = oneTapClient.getSignInCredentialFromIntent(data);\n                    String idToken = credential.getGoogleIdToken();\n                } catch (ApiException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n    public AuthFragment() {}\n\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        binding = FragmentAuthBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n    }\n\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        \n        HandleGoogleLogin();\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n    void HandleGoogleLogin()\n    {\n        oneTapClient = Identity.getSignInClient(requireActivity());\n        var signInRequest = BeginSignInRequest.builder()\n                .setGoogleIdTokenRequestOptions(BeginSignInRequest.GoogleIdTokenRequestOptions.builder()\n                        .setSupported(true)\n                        .setServerClientId(getString(R.string.web_client_id))\n                        .setFilterByAuthorizedAccounts(false)\n                        .build())\n                .build();\n\n        var googleLoginButton = binding.googleLoginButton;\n        googleLoginButton.setOnClickListener(v -&gt; {\n            oneTapClient.beginSignIn(signInRequest)\n                    .addOnSuccessListener(requireActivity(), result -&gt; {\n                        var intentSenderRequest = new IntentSenderRequest\n                                .Builder(result.getPendingIntent().getIntentSender())\n                                .build();\n                        oneTapLauncher.launch(intentSenderRequest.getFillInIntent());\n                    })\n                    .addOnFailureListener(requireActivity(), e -&gt; {\n                        Log.d(&quot;googleLoginButton&quot;, &quot;oneTapClient.beginSignIn:onError - &quot; + e.getMessage());\n                        // Handle errors or continue presenting the signed-out UI\n                    });\n        });\n    }\n}\n</code></pre>\n<p>this is not the only way I've tried to implement it. I've also tried adding sh1 key to <a href=\"https://console.cloud.google.com/\" rel=\"nofollow noreferrer\">https://console.cloud.google.com/</a> and configuring OAuth 2.0 from the <a href=\"https://console.cloud.google.com/apis/credentials?project=myproject\" rel=\"nofollow noreferrer\">https://console.cloud.google.com/apis/credentials?project=myproject</a> site:</p>\n<p><a href=\"https://i.stack.imgur.com/1wGuh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1wGuh.png\" alt=\"cloud.google\" /></a></p>\n<p>but nothing actually works.</p>\n<p>All I always get is <code>Log.d(&quot;googleLoginButton&quot;, &quot;oneTapClient.beginSignIn:onError - &quot; + e.getMessage());</code> -&gt; <code>Cannot find a matching credential.</code></p>\n<p>I don't know what I do wrong. Note that I've got <code>setFilterByAuthorizedAccounts</code> set to <code>false</code>.</p>\n<p>How can I make it work? What do I do wrong?</p>\n<p>I've already read:</p>\n<p><a href=\"https://stackoverflow.com/questions/61768804/getting-16-cannot-find-a-matching-credential-when-doing-one-tap-sign-in-and-s\">Getting &quot;16: Cannot find a matching credential&quot; when doing One Tap sign-in and sign-up on Android</a></p>\n<p><a href=\"https://stackoverflow.com/questions/72175934/google-one-tap-sign-in\">Google One Tap Sign In</a></p>\n<p><a href=\"https://stackoverflow.com/questions/70101036/firebase-google-auth-signing-out-and-logging-in-again-will-log-in-with-the-last\">Firebase Google auth, signing out and logging in again will log in with the last signed account</a></p>\n<p><a href=\"https://stackoverflow.com/questions/42312758/when-users-signout-of-my-firebase-app-why-doesnt-it-also-signout-from-the-auth\">When users SignOut of my Firebase app, why doesn&#39;t it also SignOut from the auth provider, say Google?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/38707133/google-firebase-sign-out-and-forget-user-in-android-app\">Google Firebase sign out and forget user in Android app</a></p>\n<p><a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d</a></p>\n<p>nothing helps.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1680697411,"post_id":75939348,"comment_id":133941375,"body_markdown":"Are you watching the variable while the debugger is still on that line? Because if that&#39;s the case the value has not been set yet. You&#39;ll have to wait till the line is executed (i.e., step to the next instruction).","body":"Are you watching the variable while the debugger is still on that line? Because if that&#39;s the case the value has not been set yet. You&#39;ll have to wait till the line is executed (i.e., step to the next instruction)."},{"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"score":0,"creation_date":1680697576,"post_id":75939348,"comment_id":133941431,"body_markdown":"No, I did step to the next function and profileId remained as &quot;&quot;. I was investigating it because I pass profileID into another method later and its &quot;&quot; at that point too.","body":"No, I did step to the next function and profileId remained as &quot;&quot;. I was investigating it because I pass profileID into another method later and its &quot;&quot; at that point too."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1680698224,"post_id":75939348,"comment_id":133941659,"body_markdown":"*I did step to the next function* - did profileId go out of scope?   But assuming the statement actually completes, it is vanishingly improbable that the right-hand side of an assignment does not set the left-hand variable, so the conclusion is there&#39;s something wrong with your tools or the way you&#39;re using them.","body":"<i>I did step to the next function</i> - did profileId go out of scope?   But assuming the statement actually completes, it is vanishingly improbable that the right-hand side of an assignment does not set the left-hand variable, so the conclusion is there&#39;s something wrong with your tools or the way you&#39;re using them."},{"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"score":0,"creation_date":1680698362,"post_id":75939348,"comment_id":133941701,"body_markdown":"Sorry i mistyped, I meant &quot;I did step to the next line&quot; . And no the profileId did not go out of scope.","body":"Sorry i mistyped, I meant &quot;I did step to the next line&quot; . And no the profileId did not go out of scope."},{"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"score":0,"creation_date":1680698758,"post_id":75939348,"comment_id":133941812,"body_markdown":"Its not about the tools, because profileId gets persisted in my database where it is &quot;&quot; at that point too.","body":"Its not about the tools, because profileId gets persisted in my database where it is &quot;&quot; at that point too."}],"answers":[{"tags":[],"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680699503,"creation_date":1680699503,"answer_id":75939723,"question_id":75939348,"body_markdown":"I figured out what was the problem. I will post the answer in case anyone in future encounters a similar problem. But after that particular line of code, I then executed a code that would be run on a different thread. \r\n\r\nUpon debugging the debugger wasn&#39;t able to properly step over the population of profileId because it would step to the code block that would execute on a different thread. \r\n\r\nWhen that thread would try to use profileId, it would take it as &quot;&quot; because that would be the value of it when the thread started running and the value of it when the code in the thread would need to use it. \r\n\r\nThe solution would be to start the thread once profileId is populated. ","title":"Function is returning value but variable it returns it into doesn&#39;t hold that value. Why?","body":"<p>I figured out what was the problem. I will post the answer in case anyone in future encounters a similar problem. But after that particular line of code, I then executed a code that would be run on a different thread.</p>\n<p>Upon debugging the debugger wasn't able to properly step over the population of profileId because it would step to the code block that would execute on a different thread.</p>\n<p>When that thread would try to use profileId, it would take it as &quot;&quot; because that would be the value of it when the thread started running and the value of it when the code in the thread would need to use it.</p>\n<p>The solution would be to start the thread once profileId is populated.</p>\n"}],"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75939723,"answer_count":1,"score":0,"last_activity_date":1680699503,"creation_date":1680697097,"question_id":75939348,"body_markdown":"When debugging I found that on this line of code: \r\n\r\n    String profileId = ((GlobalApplicationClass) getApplication()).getProfileId();\r\n \r\nOn the watch tab, `((GlobalApplicationClass) getApplication()).getProfileId()` returned the right value.\r\nHowever, on the watch tab , profileId was `&quot;&quot;`  (as is its initialised value in the GlobalApplicationClass).\r\n\r\nThis code was working fine and profileId was being populated with the correct value. \r\n\r\nNow, I do not understand why it&#39;s not getting populated. Why would calling the function return the right value but then it passes its initialised value into the profileId variable?","title":"Function is returning value but variable it returns it into doesn&#39;t hold that value. Why?","body":"<p>When debugging I found that on this line of code:</p>\n<pre><code>String profileId = ((GlobalApplicationClass) getApplication()).getProfileId();\n</code></pre>\n<p>On the watch tab, <code>((GlobalApplicationClass) getApplication()).getProfileId()</code> returned the right value.\nHowever, on the watch tab , profileId was <code>&quot;&quot;</code>  (as is its initialised value in the GlobalApplicationClass).</p>\n<p>This code was working fine and profileId was being populated with the correct value.</p>\n<p>Now, I do not understand why it's not getting populated. Why would calling the function return the right value but then it passes its initialised value into the profileId variable?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1409067498,"post_id":25509763,"comment_id":39821742,"body_markdown":"Are you sure you&#39;re importing this class in a class in your tests and not in your main code, right?","body":"Are you sure you&#39;re importing this class in a class in your tests and not in your main code, right?"},{"owner":{"account_id":2568689,"reputation":45222,"user_id":2761509,"accept_rate":67,"display_name":"VB_"},"score":0,"creation_date":1409067524,"post_id":25509763,"comment_id":39821760,"body_markdown":"@LuiggiMendoza yes, because it doesn&#39;t work only on my PC! ((","body":"@LuiggiMendoza yes, because it doesn&#39;t work only on my PC! (("},{"owner":{"account_id":1248144,"reputation":4402,"user_id":1209159,"accept_rate":36,"display_name":"Natalia"},"score":0,"creation_date":1409067637,"post_id":25509763,"comment_id":39821839,"body_markdown":"In such cases for me helps reimporting project (create as new maven project)","body":"In such cases for me helps reimporting project (create as new maven project)"},{"owner":{"account_id":2568689,"reputation":45222,"user_id":2761509,"accept_rate":67,"display_name":"VB_"},"score":0,"creation_date":1409067690,"post_id":25509763,"comment_id":39821870,"body_markdown":"@Natalia step-by-step please","body":"@Natalia step-by-step please"},{"owner":{"account_id":1248144,"reputation":4402,"user_id":1209159,"accept_rate":36,"display_name":"Natalia"},"score":0,"creation_date":1409068011,"post_id":25509763,"comment_id":39822066,"body_markdown":"@V_B I mean : Project -&gt; Import Project. As it works when you run from command line, than it is problem in idea.","body":"@V_B I mean : Project -&gt; Import Project. As it works when you run from command line, than it is problem in idea."},{"owner":{"account_id":2568689,"reputation":45222,"user_id":2761509,"accept_rate":67,"display_name":"VB_"},"score":0,"creation_date":1409068400,"post_id":25509763,"comment_id":39822291,"body_markdown":"@SparkOn that&#39;s work! Still Have no idea why it works for other people with hamcrest-core","body":"@SparkOn that&#39;s work! Still Have no idea why it works for other people with hamcrest-core"}],"answers":[{"tags":[],"owner":{"account_id":138907,"reputation":10999,"user_id":344155,"accept_rate":84,"display_name":"Paul Sanwald"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409067823,"creation_date":1409067823,"answer_id":25509929,"question_id":25509763,"body_markdown":"The way to figure this out is to run your tests from the command line, via `mvn verify`, and ensure that things compile and run correctly. This will allow you to determine whether the problem is in your POM configuration, or something unique to Intellij.\r\n\r\nIf it&#39;s a problem in Intellij, it is very likely to be something around folder configuration: generally only folders marked as &quot;Test Source Root&quot; will have access to things in the test scope. ","title":"Maven: test dependencies","body":"<p>The way to figure this out is to run your tests from the command line, via <code>mvn verify</code>, and ensure that things compile and run correctly. This will allow you to determine whether the problem is in your POM configuration, or something unique to Intellij.</p>\n\n<p>If it's a problem in Intellij, it is very likely to be something around folder configuration: generally only folders marked as \"Test Source Root\" will have access to things in the test scope. </p>\n"},{"tags":[],"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409068236,"creation_date":1409068236,"answer_id":25510069,"question_id":25509763,"body_markdown":"Ensure that the dependency is at least specified under `&lt;project&gt;&lt;dependencies&gt;` on not only under `&lt;project&gt;&lt;dependencyManagement&gt;&lt;dependencies&gt;`.","title":"Maven: test dependencies","body":"<p>Ensure that the dependency is at least specified under <code>&lt;project&gt;&lt;dependencies&gt;</code> on not only under <code>&lt;project&gt;&lt;dependencyManagement&gt;&lt;dependencies&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680699326,"creation_date":1680699326,"answer_id":75939692,"question_id":25509763,"body_markdown":"You might need to (re)load Maven dependencies. From the [docs](https://www.jetbrains.com/help/idea/delegate-build-and-run-actions-to-maven.html#maven_reimport):\r\n&quot; Every time you manually change the pom.xml file in the editor, you need to load the changes. IntelliJ IDEA displays a notification icon in the right part of the editor suggesting to Load Maven Changes made to the project (I).&quot;\r\n(Note this is the macOs shortcut, as I use macOS)\r\n\r\nAlternatively / in addition you might want to se auto-reload.\r\nFind how to in the [docs](https://www.jetbrains.com/help/idea/delegate-build-and-run-actions-to-maven.html#auto_reload_maven).\r\n","title":"Maven: test dependencies","body":"<p>You might need to (re)load Maven dependencies. From the <a href=\"https://www.jetbrains.com/help/idea/delegate-build-and-run-actions-to-maven.html#maven_reimport\" rel=\"nofollow noreferrer\">docs</a>:\n&quot; Every time you manually change the pom.xml file in the editor, you need to load the changes. IntelliJ IDEA displays a notification icon in the right part of the editor suggesting to Load Maven Changes made to the project (I).&quot;\n(Note this is the macOs shortcut, as I use macOS)</p>\n<p>Alternatively / in addition you might want to se auto-reload.\nFind how to in the <a href=\"https://www.jetbrains.com/help/idea/delegate-build-and-run-actions-to-maven.html#auto_reload_maven\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"}],"owner":{"account_id":2568689,"reputation":45222,"user_id":2761509,"accept_rate":67,"display_name":"VB_"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3081,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1680699326,"creation_date":1409067275,"question_id":25509763,"body_markdown":"**Problem:** Maven can&#39;t find some dependencies inside my tests\r\n\r\n    import org.hamcrest.core.StringStartsWith; // HIGHLIGHTED AS RED IN INTELLIJ\r\n\r\nIt&#39;s imported like this in my pom.xml:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI already tried:\r\n\r\n1. mvn test-compile\r\n2. Invalidate Intellij caches\r\n3. Restart Intellij\r\n4. Clear .m2 and rebuild project\r\n","title":"Maven: test dependencies","body":"<p><strong>Problem:</strong> Maven can't find some dependencies inside my tests</p>\n\n<pre><code>import org.hamcrest.core.StringStartsWith; // HIGHLIGHTED AS RED IN INTELLIJ\n</code></pre>\n\n<p>It's imported like this in my pom.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I already tried:</p>\n\n<ol>\n<li>mvn test-compile</li>\n<li>Invalidate Intellij caches</li>\n<li>Restart Intellij</li>\n<li>Clear .m2 and rebuild project</li>\n</ol>\n"},{"tags":["java","soap","wsdl"],"owner":{"account_id":13971674,"reputation":59,"user_id":10103160,"display_name":"KROGOT88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680699276,"creation_date":1680699276,"question_id":75939686,"body_markdown":"I have spring SOAP service on Kotlin. With wsdl file, I generated java classes for SOAP requests and responses. Is there any way to print Java primitive double types (it is &lt;xs:simpleType name=&quot;double&quot; id=&quot;double&quot;&gt;  in schema http://www.w3.org/2001/XMLSchema) without points?\r\n\r\nWhat I have now:\r\n\r\n&lt;field_tag&gt;1002775.0&lt;/field_tag&gt;\r\n\r\nWhat I want:\r\n\r\n&lt;field_tag&gt;1002775&lt;/field_tag&gt;\r\n\r\nI saw this nearest question\r\nhttps://stackoverflow.com/questions/7182533/using-jaxb-generated-class-for-an-element-that-requires-an-integer-with-a-patter/7194004#7194004\r\n\r\nBut do not understand how exactly in my case I must write the binds.xml file","title":"WSDL SOAP marshall double type without points","body":"<p>I have spring SOAP service on Kotlin. With wsdl file, I generated java classes for SOAP requests and responses. Is there any way to print Java primitive double types (it is &lt;xs:simpleType name=&quot;double&quot; id=&quot;double&quot;&gt;  in schema <a href=\"http://www.w3.org/2001/XMLSchema\" rel=\"nofollow noreferrer\">http://www.w3.org/2001/XMLSchema</a>) without points?</p>\n<p>What I have now:</p>\n<p>&lt;field_tag&gt;1002775.0&lt;/field_tag&gt;</p>\n<p>What I want:</p>\n<p>&lt;field_tag&gt;1002775&lt;/field_tag&gt;</p>\n<p>I saw this nearest question\n<a href=\"https://stackoverflow.com/questions/7182533/using-jaxb-generated-class-for-an-element-that-requires-an-integer-with-a-patter/7194004#7194004\">Using JAXB generated class for an element that requires an integer with a pattern</a></p>\n<p>But do not understand how exactly in my case I must write the binds.xml file</p>\n"},{"tags":["java","json","kotlin","jackson","redisson"],"comments":[{"owner":{"account_id":13980097,"reputation":85,"user_id":10096472,"display_name":"Simon Mitchell"},"score":0,"creation_date":1638230396,"post_id":70162687,"comment_id":124028601,"body_markdown":"&quot;&quot;@class&quot;: &quot;net.superiormc.user.UserProfileProvider&quot;&quot; this is the tag I am missing, Jackson used to add this automatically but no longer does.","body":"&quot;&quot;@class&quot;: &quot;net.superiormc.user.UserProfileProvider&quot;&quot; this is the tag I am missing, Jackson used to add this automatically but no longer does."}],"answers":[{"tags":[],"owner":{"account_id":13980097,"reputation":85,"user_id":10096472,"display_name":"Simon Mitchell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638236776,"creation_date":1638236776,"answer_id":70163324,"question_id":70162687,"body_markdown":"Fixed this by adding `@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS)` to the implementation class","title":"JsonJackson not adding @class","body":"<p>Fixed this by adding <code>@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS)</code> to the implementation class</p>\n"},{"tags":[],"owner":{"account_id":2156431,"reputation":7634,"user_id":1911548,"display_name":"Sergey Gornostaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680699077,"creation_date":1680699077,"answer_id":75939655,"question_id":70162687,"body_markdown":"If you don&#39;t want to annotate classes, it can be configured globally\r\n\r\n    var codec = new org.redisson.codec.JsonJacksonCodec(new ObjectMapper()\r\n        .enableDefaultTypingAsProperty(ObjectMapper.DefaultTyping.NON_FINAL, &quot;@class&quot;));\r\n\r\n    var config = new org.redisson.config.Config()\r\n        .setCodec(codec);","title":"JsonJackson not adding @class","body":"<p>If you don't want to annotate classes, it can be configured globally</p>\n<pre><code>var codec = new org.redisson.codec.JsonJacksonCodec(new ObjectMapper()\n    .enableDefaultTypingAsProperty(ObjectMapper.DefaultTyping.NON_FINAL, &quot;@class&quot;));\n\nvar config = new org.redisson.config.Config()\n    .setCodec(codec);\n</code></pre>\n"}],"owner":{"account_id":13980097,"reputation":85,"user_id":10096472,"display_name":"Simon Mitchell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680699077,"creation_date":1638230188,"question_id":70162687,"body_markdown":"I am using kotlin with redisson and jsonjackson as the serializer. Previously when I used jackson in java, it would automatically add a &#39;@class&#39; tag to the json so when I came to deserialize it, it would work fine and redisson would know what class to use. Now it no longer does this and when I try to get something out of an RMap&lt;UUID, UserProfile&gt; (UserProfile is an interface&quot;, it gives an error which says &quot;jacksonjson missing type id property &#39;@class&#39;&quot; which is obvisouly due to the json missing the &#39;@class&#39; tag.\r\n\r\nAnyone know how I can fix this and have jackson automatically add the @class tag like it previously did? Thank you ","title":"JsonJackson not adding @class","body":"<p>I am using kotlin with redisson and jsonjackson as the serializer. Previously when I used jackson in java, it would automatically add a '@class' tag to the json so when I came to deserialize it, it would work fine and redisson would know what class to use. Now it no longer does this and when I try to get something out of an RMap&lt;UUID, UserProfile&gt; (UserProfile is an interface&quot;, it gives an error which says &quot;jacksonjson missing type id property '@class'&quot; which is obvisouly due to the json missing the '@class' tag.</p>\n<p>Anyone know how I can fix this and have jackson automatically add the @class tag like it previously did? Thank you</p>\n"},{"tags":["java","jooq","jooq-codegen"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1680682694,"post_id":75930129,"comment_id":133937762,"body_markdown":"Do you have to use MySQL&#39;s encryption/decryption functions, or can you work with client side encryption/decryption as well? And what&#39;s the rationale for this decision?","body":"Do you have to use MySQL&#39;s encryption/decryption functions, or can you work with client side encryption/decryption as well? And what&#39;s the rationale for this decision?"},{"owner":{"account_id":12199095,"reputation":57,"user_id":8903828,"display_name":"introvertkernel"},"score":0,"creation_date":1680697058,"post_id":75930129,"comment_id":133941267,"body_markdown":"To not deviate from existing conventions in the system, I&#39;ve to use the MySQL&#39;s encryption/decryption methods.","body":"To not deviate from existing conventions in the system, I&#39;ve to use the MySQL&#39;s encryption/decryption methods."},{"owner":{"account_id":12199095,"reputation":57,"user_id":8903828,"display_name":"introvertkernel"},"score":0,"creation_date":1680697188,"post_id":75930129,"comment_id":133941307,"body_markdown":"I couldn&#39;t actually figure out the way to access current ```org.jooq.RecordContext``` inside ```Converter```","body":"I couldn&#39;t actually figure out the way to access current <code>org.jooq.RecordContext</code> inside <code>Converter</code>"},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1680697698,"post_id":75930129,"comment_id":133941474,"body_markdown":"Yeah, because that&#39;s already possible today. There&#39;s a pending feature request for the server side implementation, but it&#39;s not ready yet for jOOQ 3.18.","body":"Yeah, because that&#39;s already possible today. There&#39;s a pending feature request for the server side implementation, but it&#39;s not ready yet for jOOQ 3.18."},{"owner":{"account_id":12199095,"reputation":57,"user_id":8903828,"display_name":"introvertkernel"},"score":0,"creation_date":1680698024,"post_id":75930129,"comment_id":133941580,"body_markdown":"@LukasEder\nI&#39;ve updated my question, do you see any other possibility to achieve my goal in Jooq v.3.17.8 ?\nThanks.","body":"@LukasEder I&#39;ve updated my question, do you see any other possibility to achieve my goal in Jooq v.3.17.8 ? Thanks."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1680698155,"post_id":75930129,"comment_id":133941635,"body_markdown":"Couldn&#39;t find the feature request, so I created a new one, just in case: https://github.com/jOOQ/jOOQ/issues/14913","body":"Couldn&#39;t find the feature request, so I created a new one, just in case: <a href=\"https://github.com/jOOQ/jOOQ/issues/14913\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/14913</a>"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680698518,"creation_date":1680698518,"answer_id":75939555,"question_id":75930129,"body_markdown":"## An out of the box feature\r\n\r\nAs of jOOQ 3.18, there isn&#39;t an out of the box feature for this sort of computation. I&#39;ve created a feature request, as this isn&#39;t the first time someone was looking for it:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/14913\r\n\r\n## Custom implementation on the server side\r\n\r\nIf you must encrypt / decrypt on the server side using SQL expressions, perhaps you can get away with the new experimental [query object model][1] [traversal][2] and [replacement][3] features.\r\n\r\nThe idea is that you:\r\n\r\n- Specify which columns or types are supposed to be encrypted (either in a configuration or using a custom data type)\r\n- Then transform all SQL queries to always\r\n  - Replace `Field&lt;MyType&gt;` by `Field&lt;byte[]&gt;` using encryption in contexts where a bind variable is written\r\n  - Replace generated SQL for all `Field&lt;MyType&gt;` to decryption in contexts where a projection is made\r\n  - Leave other expressions untouched\r\n\r\n## Custom implementation on the client side\r\n\r\nAll of this seems much easier to achieve with a simple `Converter`, if you can encrypt / decrypt on the client instead of the server.\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/model-api/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/model-api/model-api-traversal/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/model-api/model-api-replacement/","title":"How to apply MySQL cryptography functions in Jooq custom Converter?","body":"<h2>An out of the box feature</h2>\n<p>As of jOOQ 3.18, there isn't an out of the box feature for this sort of computation. I've created a feature request, as this isn't the first time someone was looking for it:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/14913\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/14913</a></li>\n</ul>\n<h2>Custom implementation on the server side</h2>\n<p>If you must encrypt / decrypt on the server side using SQL expressions, perhaps you can get away with the new experimental <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/model-api/\" rel=\"nofollow noreferrer\">query object model</a> <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/model-api/model-api-traversal/\" rel=\"nofollow noreferrer\">traversal</a> and <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/model-api/model-api-replacement/\" rel=\"nofollow noreferrer\">replacement</a> features.</p>\n<p>The idea is that you:</p>\n<ul>\n<li>Specify which columns or types are supposed to be encrypted (either in a configuration or using a custom data type)</li>\n<li>Then transform all SQL queries to always\n<ul>\n<li>Replace <code>Field&lt;MyType&gt;</code> by <code>Field&lt;byte[]&gt;</code> using encryption in contexts where a bind variable is written</li>\n<li>Replace generated SQL for all <code>Field&lt;MyType&gt;</code> to decryption in contexts where a projection is made</li>\n<li>Leave other expressions untouched</li>\n</ul>\n</li>\n</ul>\n<h2>Custom implementation on the client side</h2>\n<p>All of this seems much easier to achieve with a simple <code>Converter</code>, if you can encrypt / decrypt on the client instead of the server.</p>\n"}],"owner":{"account_id":12199095,"reputation":57,"user_id":8903828,"display_name":"introvertkernel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75939555,"answer_count":1,"score":2,"last_activity_date":1680698518,"creation_date":1680615873,"question_id":75930129,"body_markdown":"I&#39;m trying to achieve below using Jooq library,\r\n\r\n - Encrypt and decrypt specified column using org.jooq.util.mysql.MySQLDSL methods\r\n - This must be a jooq global configuration, so that whenever a new query method return fetch/insert/update the record encryption/decryption should be automatically taken care.\r\n - Secret key for encryption/decryption will be value from the another column in the same table\r\n - I&#39;m trying to avoid Spring framework here.\r\n\r\nCurrently I&#39;m trying to do this using ```org.jooq.Converter``` and ```org.jooq.meta.jaxb.ForcedType``` But\r\n\r\n - Not able to access ```org.jooq.RecordContext``` in the CustomConverter class to get the secret key\r\n - Also I&#39;m not able to make this generic configuration\r\n\r\nLinks I&#39;m referring to:\r\n - https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/util/mysql/MySQLDSL.html\r\n - https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/util/mysql/MySQLDSL.html\r\n - https://www.jooq.org/doc/3.18/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-converter/\r\n - https://www.jooq.org/doc/latest/manual/sql-execution/fetching/data-type-conversion/\r\n\r\n\r\n\r\n\r\nUpdate:\r\nIn short this is what I&#39;m trying to achieve through Jooq:\r\n\r\n```\r\nCREATE TABLE TESTCRYPT(\r\nId mediumint AUTO_INCREMENT,\r\nSecret int NOT NULL,\r\nencrypteddata BLOB,\r\nPRIMARY KEY(Id)\r\n);\r\n\r\nINSERT INTO TESTCRYPT(Secret,encrypteddata) VALUE (&#39;1234&#39;,AES_ENCRYPT(&#39;my-data&#39;,&#39;1234&#39;));\r\n\r\nSELECT Secret ,AES_DECRYPT(encrypteddata,Secret) from TESTCRYPT t ;\r\n\r\n```","title":"How to apply MySQL cryptography functions in Jooq custom Converter?","body":"<p>I'm trying to achieve below using Jooq library,</p>\n<ul>\n<li>Encrypt and decrypt specified column using org.jooq.util.mysql.MySQLDSL methods</li>\n<li>This must be a jooq global configuration, so that whenever a new query method return fetch/insert/update the record encryption/decryption should be automatically taken care.</li>\n<li>Secret key for encryption/decryption will be value from the another column in the same table</li>\n<li>I'm trying to avoid Spring framework here.</li>\n</ul>\n<p>Currently I'm trying to do this using <code>org.jooq.Converter</code> and <code>org.jooq.meta.jaxb.ForcedType</code> But</p>\n<ul>\n<li>Not able to access <code>org.jooq.RecordContext</code> in the CustomConverter class to get the secret key</li>\n<li>Also I'm not able to make this generic configuration</li>\n</ul>\n<p>Links I'm referring to:</p>\n<ul>\n<li><a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/util/mysql/MySQLDSL.html\" rel=\"nofollow noreferrer\">https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/util/mysql/MySQLDSL.html</a></li>\n<li><a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/util/mysql/MySQLDSL.html\" rel=\"nofollow noreferrer\">https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/util/mysql/MySQLDSL.html</a></li>\n<li><a href=\"https://www.jooq.org/doc/3.18/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-converter/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/3.18/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-converter/</a></li>\n<li><a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/data-type-conversion/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/sql-execution/fetching/data-type-conversion/</a></li>\n</ul>\n<p>Update:\nIn short this is what I'm trying to achieve through Jooq:</p>\n<pre><code>CREATE TABLE TESTCRYPT(\nId mediumint AUTO_INCREMENT,\nSecret int NOT NULL,\nencrypteddata BLOB,\nPRIMARY KEY(Id)\n);\n\nINSERT INTO TESTCRYPT(Secret,encrypteddata) VALUE ('1234',AES_ENCRYPT('my-data','1234'));\n\nSELECT Secret ,AES_DECRYPT(encrypteddata,Secret) from TESTCRYPT t ;\n\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":15768058,"reputation":191,"user_id":11377832,"display_name":"Mahendra D"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1677344070,"creation_date":1599570360,"answer_id":63794586,"question_id":63786440,"body_markdown":"Figured out the solution.\r\n\r\n    DynamoDbIndex&lt;Entity_Class_Name&gt; secIndex = enhancedClient.table(\r\n        &quot;table_name&quot;, \r\n    \tTableSchema.fromBean(Entity_Class_Name.class)\r\n    ).index(&quot;secondary-index-name&quot;);\r\n\r\n    QueryConditional queryConditional = QueryConditional.keyEqualTo(\r\n        Key.builder()\r\n           .partitionValue(:value_to_query)\r\n           .build()\r\n    );\r\n\r\n    Iterable&lt;Page&lt;Entity_Class_Name&gt;&gt; results = (Iterable&lt;Page&lt;Entity_Class_Name&gt;&gt;) \r\n    secIndex.query(\r\n        QueryEnhancedRequest.builder()\r\n            .queryConditional(queryConditional)\r\n            .build()\r\n    );\r\n\r\n","title":"dynamodb enhanced : how to query using SecondaryIndex in java(spring-boot)","body":"<p>Figured out the solution.</p>\n<pre><code>DynamoDbIndex&lt;Entity_Class_Name&gt; secIndex = enhancedClient.table(\n    &quot;table_name&quot;, \n    TableSchema.fromBean(Entity_Class_Name.class)\n).index(&quot;secondary-index-name&quot;);\n\nQueryConditional queryConditional = QueryConditional.keyEqualTo(\n    Key.builder()\n       .partitionValue(:value_to_query)\n       .build()\n);\n\nIterable&lt;Page&lt;Entity_Class_Name&gt;&gt; results = (Iterable&lt;Page&lt;Entity_Class_Name&gt;&gt;) \nsecIndex.query(\n    QueryEnhancedRequest.builder()\n        .queryConditional(queryConditional)\n        .build()\n);\n</code></pre>\n"}],"owner":{"account_id":15768058,"reputation":191,"user_id":11377832,"display_name":"Mahendra D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5654,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680697664,"creation_date":1599532986,"question_id":63786440,"body_markdown":"\r\nI just started with spring-boot-dynamodb enhanced.&lt;br/&gt;\r\n[aws-skd-java2][1] has examples to query with partitionkey but I couldn&#39;t find examples to query with secondaryIndex. &lt;br/&gt;\r\nPlease suggest how to query using secondaryIndex with dynamodb-enhanced client.\r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/example_code/dynamodb/src/main/java/com/example/enhanced/dynamodb","title":"dynamodb enhanced : how to query using SecondaryIndex in java(spring-boot)","body":"<p>I just started with spring-boot-dynamodb enhanced.<br/>\n<a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/example_code/dynamodb/src/main/java/com/example/enhanced/dynamodb\" rel=\"nofollow noreferrer\">aws-skd-java2</a> has examples to query with partitionkey but I couldn't find examples to query with secondaryIndex. <br/>\nPlease suggest how to query using secondaryIndex with dynamodb-enhanced client.</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1680697799,"post_id":75934699,"comment_id":133941499,"body_markdown":"I think for the `null` case, it&#39;s be cleaner to `verify(mock).method(null)`.","body":"I think for the <code>null</code> case, it&#39;s be cleaner to <code>verify(mock).method(null)</code>."}],"answers":[{"tags":[],"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680681242,"creation_date":1680681242,"answer_id":75936926,"question_id":75934699,"body_markdown":"You can use `winCaptor.getAllValues()` method. It will not throw an exception if the `accept()` method was not called. Instead, it will return an empty list.","title":"Mockito Nullable ArgumentCaptor Value","body":"<p>You can use <code>winCaptor.getAllValues()</code> method. It will not throw an exception if the <code>accept()</code> method was not called. Instead, it will return an empty list.</p>\n"}],"owner":{"account_id":14964196,"reputation":398,"user_id":10803013,"display_name":"andresmonc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75936926,"answer_count":1,"score":1,"last_activity_date":1680697599,"creation_date":1680652676,"question_id":75934699,"body_markdown":"Is it possible to have a nullable ArgumentCaptor?\r\n\r\nI&#39;m trying to use the below method\r\n```\r\n    public Win getWin() {\r\n        ArgumentCaptor&lt;Win&gt; winCaptor = ArgumentCaptor\r\n                .forClass(Win.class);\r\n        Mockito.verify(producer, Mockito.atMostOnce()).accept(winCaptor.capture());\r\n        return winCaptor.getValue();\r\n    }\r\n```\r\n\r\nthis works fine when `producer.accept(win)` is called but I&#39;d like it to return null if it&#39;s not. Is this possible?\r\n\r\nI&#39;m currently getting this error\r\n```\r\nNo argument value was captured!\r\nYou might have forgotten to use argument.capture() in verify()...\r\n...or you used capture() in stubbing but stubbed method was not called.\r\nBe aware that it is recommended to use capture() only with verify()\r\n```","title":"Mockito Nullable ArgumentCaptor Value","body":"<p>Is it possible to have a nullable ArgumentCaptor?</p>\n<p>I'm trying to use the below method</p>\n<pre><code>    public Win getWin() {\n        ArgumentCaptor&lt;Win&gt; winCaptor = ArgumentCaptor\n                .forClass(Win.class);\n        Mockito.verify(producer, Mockito.atMostOnce()).accept(winCaptor.capture());\n        return winCaptor.getValue();\n    }\n</code></pre>\n<p>this works fine when <code>producer.accept(win)</code> is called but I'd like it to return null if it's not. Is this possible?</p>\n<p>I'm currently getting this error</p>\n<pre><code>No argument value was captured!\nYou might have forgotten to use argument.capture() in verify()...\n...or you used capture() in stubbing but stubbed method was not called.\nBe aware that it is recommended to use capture() only with verify()\n</code></pre>\n"},{"tags":["java","json","spring"],"comments":[{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1493888199,"post_id":43776916,"comment_id":74597038,"body_markdown":"You can base64 encode the file bytes and then send them as string.","body":"You can base64 encode the file bytes and then send them as string."},{"owner":{"account_id":7001651,"reputation":471,"user_id":5367503,"accept_rate":50,"display_name":"Wassim Makni"},"score":0,"creation_date":1493893777,"post_id":43776916,"comment_id":74600988,"body_markdown":"after encoding can I  decode it to retrieve the original file ?","body":"after encoding can I  decode it to retrieve the original file ?"}],"answers":[{"tags":[],"owner":{"account_id":8183552,"reputation":43,"user_id":6159971,"accept_rate":20,"display_name":"Vishal Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493886166,"creation_date":1493886166,"answer_id":43777548,"question_id":43776916,"body_markdown":"You can directly send bytes of the file or you can convert file into stream and then send.","title":"How to transfer files (PDF, images etc) in JSON?","body":"<p>You can directly send bytes of the file or you can convert file into stream and then send.</p>\n"}],"owner":{"account_id":7001651,"reputation":471,"user_id":5367503,"accept_rate":50,"display_name":"Wassim Makni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680697449,"creation_date":1493884164,"question_id":43776916,"body_markdown":"How to send file from my backend project to my frontend using `JSONObject` in Java so I want to know if it is possible and how? (I&#39;m using Spring framework)","title":"How to transfer files (PDF, images etc) in JSON?","body":"<p>How to send file from my backend project to my frontend using <code>JSONObject</code> in Java so I want to know if it is possible and how? (I'm using Spring framework)</p>\n"},{"tags":["java","c#","java-8"],"answers":[{"tags":[],"owner":{"account_id":295,"reputation":101679,"user_id":369,"accept_rate":93,"display_name":"Blorgbeard"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1463023305,"creation_date":1463023305,"answer_id":37176697,"question_id":37175297,"body_markdown":"You would have to declare a method outside of `Thing` (or a static `Thing` method), then you could pass a method-group reference to it:\r\n\r\n    private string GetName(Thing thing)\r\n    {\r\n        return thing.Name;\r\n    }\r\n\r\n    ...\r\n\r\n    List&lt;String&gt; nameList1 = thingList.Select(GetName).ToList();\r\n\r\nIn C# 6, you can also use an expression-bodied function to save a couple of lines:\r\n\r\n    private string GetName(Thing thing) =&gt; thing.Name;","title":"C# equivalent to Java 8 &quot;method reference&quot;","body":"<p>You would have to declare a method outside of <code>Thing</code> (or a static <code>Thing</code> method), then you could pass a method-group reference to it:</p>\n\n<pre><code>private string GetName(Thing thing)\n{\n    return thing.Name;\n}\n\n...\n\nList&lt;String&gt; nameList1 = thingList.Select(GetName).ToList();\n</code></pre>\n\n<p>In C# 6, you can also use an expression-bodied function to save a couple of lines:</p>\n\n<pre><code>private string GetName(Thing thing) =&gt; thing.Name;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3939508,"reputation":165,"user_id":3254545,"display_name":"Adriano Moreira"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1680697262,"creation_date":1551186172,"answer_id":54886170,"question_id":37175297,"body_markdown":"**C#** has an equivalent feature called **Method Group**.\r\n\r\nSee more:  \r\nhttps://stackoverflow.com/questions/886822/what-is-a-method-group-in-c\r\n\r\n\r\nSample:\r\n\r\n    private static int[] ParseInt(string s)\r\n    {\r\n        var t = ParseString(s);\r\n        var i = t.Select(x =&gt; int.Parse(x));\r\n        return i.ToArray();\r\n    }\r\n\r\n\r\nWith metod group:\r\n\r\n    private static int[] ParseInt(string s)\r\n    {\r\n        var t = ParseString(s);\r\n        var i = t.Select(int.Parse);\r\n        return i.ToArray();\r\n    }\r\n\r\n","title":"C# equivalent to Java 8 &quot;method reference&quot;","body":"<p><strong>C#</strong> has an equivalent feature called <strong>Method Group</strong>.</p>\n<p>See more:<br />\n<a href=\"https://stackoverflow.com/questions/886822/what-is-a-method-group-in-c\">What is a method group in C#?</a></p>\n<p>Sample:</p>\n<pre><code>private static int[] ParseInt(string s)\n{\n    var t = ParseString(s);\n    var i = t.Select(x =&gt; int.Parse(x));\n    return i.ToArray();\n}\n</code></pre>\n<p>With metod group:</p>\n<pre><code>private static int[] ParseInt(string s)\n{\n    var t = ParseString(s);\n    var i = t.Select(int.Parse);\n    return i.ToArray();\n}\n</code></pre>\n"}],"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12726,"favorite_count":0,"down_vote_count":2,"up_vote_count":40,"accepted_answer_id":37176697,"answer_count":2,"score":38,"last_activity_date":1680697262,"creation_date":1463012537,"question_id":37175297,"body_markdown":"I recently had the opportunity to tweak some Java code and was able to take advantage of some new Java 8 features. In one particular case I needed to get a List of (String) `.Name` properties from a List of objects. A simplified example of what I did was:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    // sample data: &lt;Thing&gt; objects have a single String property called &quot;Name&quot; \r\n    List&lt;Thing&gt; thingList =\r\n        new ArrayList&lt;&gt;(Arrays.asList(new Thing(&quot;Thing1&quot;), new Thing(&quot;Thing2&quot;)));\r\n\r\n    // first pass\r\n    List&lt;String&gt; nameList = new ArrayList&lt;&gt;();\r\n    thingList.forEach(x -&gt; nameList.add(x.getName()));\r\n\r\n    // refinement 1: use stream, map, and collect\r\n    List&lt;String&gt; nameList1 =\r\n        thingList.stream().map(x -&gt; x.getName()).collect(Collectors.toList());\r\n\r\n    // refinement 2: use &quot;Thing::getName&quot; method reference\r\n    List&lt;String&gt; nameList2 =\r\n        thingList.stream().map(Thing::getName).collect(Collectors.toList());\r\n\r\nI was curious to see how those approaches would translate to C#, and I got\r\n\r\n&lt;!-- language: lang-cs --&gt;\r\n\r\n    // sample data: &lt;Thing&gt; objects have a single String property called &quot;Name&quot;\r\n    var thingList = new List&lt;Thing&gt; { new Thing(&quot;Thing1&quot;), new Thing(&quot;Thing2&quot;) };\r\n\r\n    // first pass\r\n    var nameList = new List&lt;String&gt;();\r\n    thingList.ForEach(x =&gt; nameList.Add(x.Name));\r\n\r\n    // refinement 1: use Select and ToList\r\n    List&lt;String&gt; nameList1 = thingList.Select(x =&gt; x.Name).ToList();\r\n\r\nWhat I haven&#39;t found (yet?) is a C# equivalent of &quot;refinement 2&quot; to replace the Lambda expression with something (a little bit) more concise. Is there a C# equivalent to the Java 8 &quot;method reference&quot; in this case, given that I&#39;m trying to get a *property* of each object (which in Java is done using a `getProperty` *method*)?\r\n","title":"C# equivalent to Java 8 &quot;method reference&quot;","body":"<p>I recently had the opportunity to tweak some Java code and was able to take advantage of some new Java 8 features. In one particular case I needed to get a List of (String) <code>.Name</code> properties from a List of objects. A simplified example of what I did was:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// sample data: &lt;Thing&gt; objects have a single String property called \"Name\" \nList&lt;Thing&gt; thingList =\n    new ArrayList&lt;&gt;(Arrays.asList(new Thing(\"Thing1\"), new Thing(\"Thing2\")));\n\n// first pass\nList&lt;String&gt; nameList = new ArrayList&lt;&gt;();\nthingList.forEach(x -&gt; nameList.add(x.getName()));\n\n// refinement 1: use stream, map, and collect\nList&lt;String&gt; nameList1 =\n    thingList.stream().map(x -&gt; x.getName()).collect(Collectors.toList());\n\n// refinement 2: use \"Thing::getName\" method reference\nList&lt;String&gt; nameList2 =\n    thingList.stream().map(Thing::getName).collect(Collectors.toList());\n</code></pre>\n\n<p>I was curious to see how those approaches would translate to C#, and I got</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// sample data: &lt;Thing&gt; objects have a single String property called \"Name\"\nvar thingList = new List&lt;Thing&gt; { new Thing(\"Thing1\"), new Thing(\"Thing2\") };\n\n// first pass\nvar nameList = new List&lt;String&gt;();\nthingList.ForEach(x =&gt; nameList.Add(x.Name));\n\n// refinement 1: use Select and ToList\nList&lt;String&gt; nameList1 = thingList.Select(x =&gt; x.Name).ToList();\n</code></pre>\n\n<p>What I haven't found (yet?) is a C# equivalent of \"refinement 2\" to replace the Lambda expression with something (a little bit) more concise. Is there a C# equivalent to the Java 8 \"method reference\" in this case, given that I'm trying to get a <em>property</em> of each object (which in Java is done using a <code>getProperty</code> <em>method</em>)?</p>\n"},{"tags":["java","string","chararray"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680696879,"creation_date":1680696879,"answer_id":75939316,"question_id":75938888,"body_markdown":"C and C++ use the `char` type to represent a single byte.  However, `byte` and `char` are not the same thing in Java.  Unicode has [over 100,000 codepoints](https://unicode.org/faq/basic_q.html#2a), so obviously a single byte is not capable of representing all characters.  There is no choice other than using multiple bytes to represent some characters.\r\n\r\nThe exact method for using multiple bytes to represent a single character is known as a [Charset](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/package-summary.html), also known as a character encoding (or sometimes just encoding).\r\n\r\nThe most popular charset is [UTF-8](https://en.wikipedia.org/wiki/UTF-8), because it is a compact representation of Latin languages and because it is compatible with ASCII.  Your C++ library returned &quot;&#231;ap&quot; as a UTF-8 byte sequence.\r\n\r\nWhen your code does `new String(byteArray)`, it is using a Charset to translate the bytes to characters.  In modern versions of Java, that Charset is always UTF-8.  (Older versions of Java will use the systems default charset, which happens to be UTF-8 on all systems other than Windows.)\r\n\r\nWhen your code does `(char) byteArray[i]`, it is forcing each byte to act as its own character, ignoring the possibility of multi-byte sequences.  `&#231;` is represented in UTF-8 as the two bytes 0xc3 0xa7.  The two bytes are not separate characters;  together they represent a single char.\r\n\r\nIt is almost never correct to assume one byte is equivalent to one character.\r\n\r\n(Also, feel free to read the [obligatory Joel blog](https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/) on the subject.)\r\n","title":"Encoding behavior difference either using char buffer alone or by converting to byte array char-by-char","body":"<p>C and C++ use the <code>char</code> type to represent a single byte.  However, <code>byte</code> and <code>char</code> are not the same thing in Java.  Unicode has <a href=\"https://unicode.org/faq/basic_q.html#2a\" rel=\"nofollow noreferrer\">over 100,000 codepoints</a>, so obviously a single byte is not capable of representing all characters.  There is no choice other than using multiple bytes to represent some characters.</p>\n<p>The exact method for using multiple bytes to represent a single character is known as a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/package-summary.html\" rel=\"nofollow noreferrer\">Charset</a>, also known as a character encoding (or sometimes just encoding).</p>\n<p>The most popular charset is <a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">UTF-8</a>, because it is a compact representation of Latin languages and because it is compatible with ASCII.  Your C++ library returned &quot;ap&quot; as a UTF-8 byte sequence.</p>\n<p>When your code does <code>new String(byteArray)</code>, it is using a Charset to translate the bytes to characters.  In modern versions of Java, that Charset is always UTF-8.  (Older versions of Java will use the systems default charset, which happens to be UTF-8 on all systems other than Windows.)</p>\n<p>When your code does <code>(char) byteArray[i]</code>, it is forcing each byte to act as its own character, ignoring the possibility of multi-byte sequences.  <code></code> is represented in UTF-8 as the two bytes 0xc3 0xa7.  The two bytes are not separate characters;  together they represent a single char.</p>\n<p>It is almost never correct to assume one byte is equivalent to one character.</p>\n<p>(Also, feel free to read the <a href=\"https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/\" rel=\"nofollow noreferrer\">obligatory Joel blog</a> on the subject.)</p>\n"}],"owner":{"account_id":28220679,"reputation":3,"user_id":21571457,"display_name":"hltu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75939316,"answer_count":1,"score":0,"last_activity_date":1680696879,"creation_date":1680694349,"question_id":75938888,"body_markdown":"I am developing a Java application where I get a value of type `char[]` from an external C++ dll.\r\nThere are cases in which non-ASCII values are expected to be input.\r\nIn such a case, it works normally when I construct a `String` by only passing it a `byte[]` which is converted from the hex-string interpretation of the input value.\r\nOn the other hand, I had problem when I construct a `String` by passing a character array which is made up from a for-loop in which each `byte` is cast to `char`, one-by-one.\r\n\r\nIn the example below, a `char[]` variable is obtained from the aforementioned dll where the input is a string with the value &quot;&#231;ap&quot; but comes with a hex-string  value of `C3A76170`.\r\n\r\n```java\r\n// the StringUtil.toByteArray function converts hex-string to a byte array\r\nbyte[] byteArray = StringUtil.toByteArray(&quot;C3A76170&quot;);\r\n```\r\n\r\nBelow example yields the expected result:\r\n\r\n```java\r\nString s1 = new String(byteArray);\r\n\r\n// print\r\nSystem.out.println(s1)\r\n```\r\n\r\n```\r\n&#231;ap\r\n```\r\n\r\nBelow example **does not** yield the expected result:\r\n\r\n```java\r\nchar[] chars = new char[byteArray.length];\r\nfor (int i = 0; i &lt; chars.length; i++) {\r\n\tchars[i] = (char) byteArray[i];\r\n}\r\nString s2 = new String(chars);\r\n\r\n// print\r\nSystem.out.println(s2);\r\n```\r\n\r\n```\r\nap\r\n```\r\n\r\nIn the second example, the output is `&quot;ap&quot;` (where the character &quot;&#231;&quot; is apparently misinterpret as a different character).\r\n\r\nWhat can cause this discrepancy between outputs? What is the reasoning behind this behavior?","title":"Encoding behavior difference either using char buffer alone or by converting to byte array char-by-char","body":"<p>I am developing a Java application where I get a value of type <code>char[]</code> from an external C++ dll.\nThere are cases in which non-ASCII values are expected to be input.\nIn such a case, it works normally when I construct a <code>String</code> by only passing it a <code>byte[]</code> which is converted from the hex-string interpretation of the input value.\nOn the other hand, I had problem when I construct a <code>String</code> by passing a character array which is made up from a for-loop in which each <code>byte</code> is cast to <code>char</code>, one-by-one.</p>\n<p>In the example below, a <code>char[]</code> variable is obtained from the aforementioned dll where the input is a string with the value &quot;ap&quot; but comes with a hex-string  value of <code>C3A76170</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// the StringUtil.toByteArray function converts hex-string to a byte array\nbyte[] byteArray = StringUtil.toByteArray(&quot;C3A76170&quot;);\n</code></pre>\n<p>Below example yields the expected result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s1 = new String(byteArray);\n\n// print\nSystem.out.println(s1)\n</code></pre>\n<pre><code>ap\n</code></pre>\n<p>Below example <strong>does not</strong> yield the expected result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] chars = new char[byteArray.length];\nfor (int i = 0; i &lt; chars.length; i++) {\n    chars[i] = (char) byteArray[i];\n}\nString s2 = new String(chars);\n\n// print\nSystem.out.println(s2);\n</code></pre>\n<pre><code>ap\n</code></pre>\n<p>In the second example, the output is <code>&quot;ap&quot;</code> (where the character &quot;&quot; is apparently misinterpret as a different character).</p>\n<p>What can cause this discrepancy between outputs? What is the reasoning behind this behavior?</p>\n"},{"tags":["java","eclipse","eclipse-plugin"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1680672030,"post_id":75935648,"comment_id":133935643,"body_markdown":"Where a view should be placed by default has to be defined for each perspective: https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/reference/extension-points/org_eclipse_ui_perspectiveExtensions.html#e.view","body":"Where a view should be placed by default has to be defined for each perspective: <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/reference/extension-points/org_eclipse_ui_perspectiveExtensions.html#e.view\" rel=\"nofollow noreferrer\">help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/&hellip;</a>"}],"owner":{"account_id":23886461,"reputation":1,"user_id":17886581,"display_name":"Carl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680696867,"creation_date":1680668881,"question_id":75935648,"body_markdown":"I create a `org.eclipse.ui.IWorkbenchWindowActionDelegate` to open a `org.eclipse.ui.part.ViewPart`.\r\n\r\nViewPart seems always stay on the right, I want to let it stay on the bottom of perspective:\r\n\r\n[![this is right][1]][1]\r\n\r\nThis is my action code:\r\n```\r\npackage com.plugin.blog.demo.actions;\r\n\r\nimport org.eclipse.jface.action.IAction;\r\nimport org.eclipse.jface.viewers.ISelection;\r\nimport org.eclipse.swt.widgets.Layout;\r\nimport org.eclipse.swt.widgets.MessageBox;\r\nimport org.eclipse.ui.IWorkbenchPage;\r\nimport org.eclipse.ui.IWorkbenchWindow;\r\nimport org.eclipse.ui.IWorkbenchWindowActionDelegate;\r\nimport org.eclipse.ui.PartInitException;\r\nimport org.eclipse.ui.internal.Perspective;\r\n\r\npublic class OpenViewAction implements IWorkbenchWindowActionDelegate {\r\n    private IWorkbenchWindow mWindow;\r\n\t\r\n    @Override\r\n    public void run(IAction action) {\r\n        IWorkbenchPage page = mWindow.getActivePage();\r\n        if (page != null) {\r\n            try {\r\n                page.showView(&quot;com.plugin.blog.demo.view.DemoViewPart&quot;);\r\n                } catch (PartInitException e) {\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nI want to let ViewPart stay on the bottom.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7AMdF.png","title":"How to change the position of the ViewPart in perspective? (org.eclipse.ui.part.ViewPart)","body":"<p>I create a <code>org.eclipse.ui.IWorkbenchWindowActionDelegate</code> to open a <code>org.eclipse.ui.part.ViewPart</code>.</p>\n<p>ViewPart seems always stay on the right, I want to let it stay on the bottom of perspective:</p>\n<p><a href=\"https://i.stack.imgur.com/7AMdF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7AMdF.png\" alt=\"this is right\" /></a></p>\n<p>This is my action code:</p>\n<pre><code>package com.plugin.blog.demo.actions;\n\nimport org.eclipse.jface.action.IAction;\nimport org.eclipse.jface.viewers.ISelection;\nimport org.eclipse.swt.widgets.Layout;\nimport org.eclipse.swt.widgets.MessageBox;\nimport org.eclipse.ui.IWorkbenchPage;\nimport org.eclipse.ui.IWorkbenchWindow;\nimport org.eclipse.ui.IWorkbenchWindowActionDelegate;\nimport org.eclipse.ui.PartInitException;\nimport org.eclipse.ui.internal.Perspective;\n\npublic class OpenViewAction implements IWorkbenchWindowActionDelegate {\n    private IWorkbenchWindow mWindow;\n    \n    @Override\n    public void run(IAction action) {\n        IWorkbenchPage page = mWindow.getActivePage();\n        if (page != null) {\n            try {\n                page.showView(&quot;com.plugin.blog.demo.view.DemoViewPart&quot;);\n                } catch (PartInitException e) {\n            }\n        }\n    }\n</code></pre>\n<p>I want to let ViewPart stay on the bottom.</p>\n"},{"tags":["java","arrays","for-loop","random"],"comments":[{"owner":{"account_id":75351,"reputation":23659,"user_id":216190,"accept_rate":98,"display_name":"Kraken"},"score":0,"creation_date":1396605344,"post_id":22859324,"comment_id":34874196,"body_markdown":"You don&#39;t want to print the same number twice,hence everytime you&#39;ll have to decrease the range of Random number created","body":"You don&#39;t want to print the same number twice,hence everytime you&#39;ll have to decrease the range of Random number created"},{"owner":{"account_id":75351,"reputation":23659,"user_id":216190,"accept_rate":98,"display_name":"Kraken"},"score":0,"creation_date":1396605431,"post_id":22859324,"comment_id":34874259,"body_markdown":"Also, you are not removing the number from Array after you&#39;ve picked it. You are just printing it on the console.","body":"Also, you are not removing the number from Array after you&#39;ve picked it. You are just printing it on the console."},{"owner":{"account_id":75351,"reputation":23659,"user_id":216190,"accept_rate":98,"display_name":"Kraken"},"score":0,"creation_date":1396605539,"post_id":22859324,"comment_id":34874327,"body_markdown":"And since we don&#39;t live in caves, we don&#39;t wear human skins, please don&#39;t use Array. Cheers","body":"And since we don&#39;t live in caves, we don&#39;t wear human skins, please don&#39;t use Array. Cheers"}],"answers":[{"tags":[],"owner":{"account_id":4255535,"reputation":2091,"user_id":3481325,"accept_rate":42,"display_name":"Sanjay Rabari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396605213,"creation_date":1396605213,"answer_id":22859396,"question_id":22859324,"body_markdown":"You better use Set or Map to hold the data and then create random number which belongs in the length of the set/map and remove with that (random) index.","title":"how select randomly from an int array, then remove the selected element","body":"<p>You better use Set or Map to hold the data and then create random number which belongs in the length of the set/map and remove with that (random) index.</p>\n"},{"tags":[],"owner":{"account_id":4237053,"reputation":1725,"user_id":3467940,"display_name":"enterbios"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1396606889,"creation_date":1396605295,"answer_id":22859434,"question_id":22859324,"body_markdown":"You are missing the remove part. Try something like this:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Integer [] colm = {1,2,3,4,5,67,87};\r\n        final List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;(Arrays.asList(colm));\r\n        Random rand =  new Random();\r\n\r\n        for(int i = 0; (i&lt;5) &amp;&amp; (ints.size() &gt; 0); i ++) {\r\n            final int randomIndex = rand.nextInt(ints.size());\r\n            System.out.println(&quot; &quot; +  ints.get(randomIndex));\r\n            ints.remove(randomIndex);\r\n        }\r\n    }","title":"how select randomly from an int array, then remove the selected element","body":"<p>You are missing the remove part. Try something like this:</p>\n\n<pre><code>public static void main(String[] args)\n{\n    Integer [] colm = {1,2,3,4,5,67,87};\n    final List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;(Arrays.asList(colm));\n    Random rand =  new Random();\n\n    for(int i = 0; (i&lt;5) &amp;&amp; (ints.size() &gt; 0); i ++) {\n        final int randomIndex = rand.nextInt(ints.size());\n        System.out.println(\" \" +  ints.get(randomIndex));\n        ints.remove(randomIndex);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1396605405,"creation_date":1396605405,"answer_id":22859478,"question_id":22859324,"body_markdown":"Random doesn&#39;t give gurranty of unique number. you can do following instead.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] colm = { 1, 2, 3, 4, 5, 67, 87 };\r\n\t\tList l = new ArrayList();\r\n\t\tfor(int i: colm)\r\n\t\t\tl.add(i);\r\n\t\t\r\n\t\tCollections.shuffle(l);\r\n\r\n\t\tfor (int i = 0; i &lt; 5; i++)\r\n\t\t\tSystem.out.println(l.get(i));\r\n\r\n\t}","title":"how select randomly from an int array, then remove the selected element","body":"<p>Random doesn't give gurranty of unique number. you can do following instead.</p>\n\n<pre><code>public static void main(String[] args) {\n    int[] colm = { 1, 2, 3, 4, 5, 67, 87 };\n    List l = new ArrayList();\n    for(int i: colm)\n        l.add(i);\n\n    Collections.shuffle(l);\n\n    for (int i = 0; i &lt; 5; i++)\n        System.out.println(l.get(i));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7246067,"reputation":783,"user_id":5527914,"accept_rate":75,"display_name":"Harleen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599595155,"creation_date":1599595155,"answer_id":63800793,"question_id":22859324,"body_markdown":"    public static void removeElements(int[] arr) {\r\n    \t\tRandom random = new Random();\r\n    \r\n    \t\tList&lt;Integer&gt; list = Arrays.stream(arr).boxed().collect(Collectors.toList());\r\n    \r\n    \t\tint length = arr.length;\r\n    \t\twhile (length &gt; 0) {\r\n    \r\n    \t\t\tSystem.out.println(&quot;Size: &quot; + list.size());\r\n    \t\t\tif (list.size() == 1) {\r\n    \t\t\t\tint randomIndex = random.nextInt(list.size());\r\n    \t\t\t\tlist.remove(randomIndex);\r\n    \t\t\t\tSystem.out.println(&quot;Size:--&gt; &quot; + list.size());\r\n    \t\t\t\tbreak;\r\n    \t\t\t}else {\r\n    \t\t\t\tint randomIndex = random.nextInt(list.size() - 1);\r\n    \t\t\t\tif (arr == null || randomIndex &gt; arr.length) {\r\n    \t\t\t\t\tSystem.out.println(&quot;No Elements to be deleted&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tlist.remove(randomIndex);\r\n    \t\t\t\tSystem.out.println(&quot;Removed Element: &quot; + list.get(randomIndex));\r\n    \t\t\t\tlength--;\r\n    \r\n    \t\t\t\tif (length == 0)\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\n","title":"how select randomly from an int array, then remove the selected element","body":"<pre><code>public static void removeElements(int[] arr) {\n        Random random = new Random();\n\n        List&lt;Integer&gt; list = Arrays.stream(arr).boxed().collect(Collectors.toList());\n\n        int length = arr.length;\n        while (length &gt; 0) {\n\n            System.out.println(&quot;Size: &quot; + list.size());\n            if (list.size() == 1) {\n                int randomIndex = random.nextInt(list.size());\n                list.remove(randomIndex);\n                System.out.println(&quot;Size:--&gt; &quot; + list.size());\n                break;\n            }else {\n                int randomIndex = random.nextInt(list.size() - 1);\n                if (arr == null || randomIndex &gt; arr.length) {\n                    System.out.println(&quot;No Elements to be deleted&quot;);\n                }\n                list.remove(randomIndex);\n                System.out.println(&quot;Removed Element: &quot; + list.get(randomIndex));\n                length--;\n\n                if (length == 0)\n                    break;\n\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28208843,"reputation":1,"user_id":21561456,"display_name":"Jan Phillip Dacallos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680696502,"creation_date":1680695222,"answer_id":75939034,"question_id":22859324,"body_markdown":"    public static void main(String[] args) {\r\n    int[] colm = { 1, 2, 3, 4, 5, 67, 87 };\r\n    List l = new ArrayList();\r\n    for(int i: colm)\r\n        l.add(i);\r\n\r\n    Collections.shuffle(l);\r\n\r\n    for (int i = 0; i &lt; 5; i++)\r\n        System.out.println(l.get(i));\r\n\r\n    }","title":"how select randomly from an int array, then remove the selected element","body":"<pre><code>public static void main(String[] args) {\nint[] colm = { 1, 2, 3, 4, 5, 67, 87 };\nList l = new ArrayList();\nfor(int i: colm)\n    l.add(i);\n\nCollections.shuffle(l);\n\nfor (int i = 0; i &lt; 5; i++)\n    System.out.println(l.get(i));\n\n}\n</code></pre>\n"}],"owner":{"account_id":3570432,"reputation":113,"user_id":2980885,"accept_rate":60,"display_name":"user2980885"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7308,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":22859478,"answer_count":5,"score":4,"last_activity_date":1680696502,"creation_date":1396604989,"question_id":22859324,"body_markdown":"im trying to select randomly from an array to print it, then remove it from the array, to avoid printing out the same number twice. i am a bit of a java novice so was wondering if someone could point me where im going wrong. \r\n\r\n\r\n    \r\n\tpublic static void main(String[] args) {\r\n\t\tint[] colm = { 1, 2, 3, 4, 5, 67, 87 };\r\n\t\tRandom rand = new Random();\r\n\r\n\t\tfor (int i = 0; i &lt; 5; i++)\r\n\t\t\tSystem.out.println(&quot; &quot; + colm[rand.nextInt(colm.length)]);\r\n\r\n\t}\r\n\r\nthanks\r\n\r\n","title":"how select randomly from an int array, then remove the selected element","body":"<p>im trying to select randomly from an array to print it, then remove it from the array, to avoid printing out the same number twice. i am a bit of a java novice so was wondering if someone could point me where im going wrong. </p>\n\n<pre><code>public static void main(String[] args) {\n    int[] colm = { 1, 2, 3, 4, 5, 67, 87 };\n    Random rand = new Random();\n\n    for (int i = 0; i &lt; 5; i++)\n        System.out.println(\" \" + colm[rand.nextInt(colm.length)]);\n\n}\n</code></pre>\n\n<p>thanks</p>\n"},{"tags":["java","command-line","ide","vscode-extensions"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1670185038,"post_id":74680482,"comment_id":131811352,"body_markdown":"Eclipse has a &quot;launch&quot; parameter dialog.  Surely VSCode has something similar in the &quot;Run&quot; and &quot;Debug&quot; menus?","body":"Eclipse has a &quot;launch&quot; parameter dialog.  Surely VSCode has something similar in the &quot;Run&quot; and &quot;Debug&quot; menus?"}],"answers":[{"tags":[],"owner":{"account_id":13287766,"reputation":332,"user_id":9593286,"display_name":"KijeviGombooc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680696471,"creation_date":1680696471,"answer_id":75939242,"question_id":74680482,"body_markdown":"You need to add args parameter to a launch configuration:\r\nhttps://code.visualstudio.com/docs/java/java-debugging#_configuration-options","title":"Debugging Java programs with command line arguments from Visual Studio Code","body":"<p>You need to add args parameter to a launch configuration:\n<a href=\"https://code.visualstudio.com/docs/java/java-debugging#_configuration-options\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-debugging#_configuration-options</a></p>\n"}],"owner":{"account_id":9458657,"reputation":63,"user_id":7033131,"display_name":"mijen67"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680696471,"creation_date":1670184546,"question_id":74680482,"body_markdown":"I&#39;m using the &quot;Extension Pack for Java&quot; by Microsoft. \r\nIt works fine, I can add new class files, compile, run and debug them. \r\nIf I run extension command &quot;Java: Create Java Project&quot; I get a nice setup with subfolders for libraries, &quot;binaries&quot; and source, i.e. ./lib, ./bin, ./src. \r\n\r\nHowever, now I need to call a program with command line arguments. \r\n\r\nI can go to the terminal and run the program with command line arguments: \r\n\r\njava .\\src\\HelloWorld.java Argument1 Argument2 \r\n\r\nor compile it in VSC and run it from terminal using: \r\n\r\njava .\\bin\\ HelloWorld Argument1 Argument2 \r\n\r\nHowever, how can I add the arguments when starting the application from VSC? (running and/or debugging). \r\n\r\nI&#39;ve seen and tried quite a few guides on setting up various .json &quot;settings&quot; files for VSC but none of them seem to match the Java Extension pack setup. \r\n\r\nWhat is the simplest possible solution? (simple as in fewest possible text lines in .json file). \r\n","title":"Debugging Java programs with command line arguments from Visual Studio Code","body":"<p>I'm using the &quot;Extension Pack for Java&quot; by Microsoft.\nIt works fine, I can add new class files, compile, run and debug them.\nIf I run extension command &quot;Java: Create Java Project&quot; I get a nice setup with subfolders for libraries, &quot;binaries&quot; and source, i.e. ./lib, ./bin, ./src.</p>\n<p>However, now I need to call a program with command line arguments.</p>\n<p>I can go to the terminal and run the program with command line arguments:</p>\n<p>java .\\src\\HelloWorld.java Argument1 Argument2</p>\n<p>or compile it in VSC and run it from terminal using:</p>\n<p>java .\\bin\\ HelloWorld Argument1 Argument2</p>\n<p>However, how can I add the arguments when starting the application from VSC? (running and/or debugging).</p>\n<p>I've seen and tried quite a few guides on setting up various .json &quot;settings&quot; files for VSC but none of them seem to match the Java Extension pack setup.</p>\n<p>What is the simplest possible solution? (simple as in fewest possible text lines in .json file).</p>\n"},{"tags":["java","spring-boot","logging","rollingfileappender"],"owner":{"account_id":24276143,"reputation":31,"user_id":18223427,"display_name":"pryakks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680696095,"creation_date":1680696095,"question_id":75939187,"body_markdown":"ch.qos.logback.core.rolling.sizeandtimebasedrollingpolicy with 10MB size is not generating new file after the size limit reached to 10MB. \r\nsometimes it roll file at 12912KB and sometimes it goes upto 17216KB and sometimes at 10780KB.\r\n\r\nWhy there is inconsistency in the file size?\r\n\r\nI am trying to add logger to my spring boot application which will give log file of 10MB size and it will achieve the file once it reaches size &gt;10MB which results in creating a achieved file of 10MB","title":"ch.qos.logback.core.rolling.sizeandtimebasedrollingpolicy not honoring maxfilesize given","body":"<p>ch.qos.logback.core.rolling.sizeandtimebasedrollingpolicy with 10MB size is not generating new file after the size limit reached to 10MB.\nsometimes it roll file at 12912KB and sometimes it goes upto 17216KB and sometimes at 10780KB.</p>\n<p>Why there is inconsistency in the file size?</p>\n<p>I am trying to add logger to my spring boot application which will give log file of 10MB size and it will achieve the file once it reaches size &gt;10MB which results in creating a achieved file of 10MB</p>\n"},{"tags":["java","spring-boot","webserver","spring-webflux","http2"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1680705669,"post_id":75939162,"comment_id":133943928,"body_markdown":"Have you looked at the percentiles of the response times ? Maybe at 12K, responses took more time ? And what about memory ? Webflux is designed to manage back-pressure. Having a few thousand requests waiting should not be a problem. But, they might take more time to be answered, and while waiting, they should also consume memory. P.S there have been a video about that by Spring not long ago, you should find it on Spring channel on youtube.","body":"Have you looked at the percentiles of the response times ? Maybe at 12K, responses took more time ? And what about memory ? Webflux is designed to manage back-pressure. Having a few thousand requests waiting should not be a problem. But, they might take more time to be answered, and while waiting, they should also consume memory. P.S there have been a video about that by Spring not long ago, you should find it on Spring channel on youtube."},{"owner":{"account_id":18877730,"reputation":21,"user_id":13770876,"display_name":"shetty sharath"},"score":0,"creation_date":1680717485,"post_id":75939162,"comment_id":133947166,"body_markdown":"@amanin Yes, you are right. There is an increase in latency but did not observe an increase in memory.","body":"@amanin Yes, you are right. There is an increase in latency but did not observe an increase in memory."}],"owner":{"account_id":18877730,"reputation":21,"user_id":13770876,"display_name":"shetty sharath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680695899,"creation_date":1680695899,"question_id":75939162,"body_markdown":"I have  implemented a RestFul service using spring boot webflux reactive framework. Server has an endpoint with the GET method and with the resource /home/getData, which simply accepts the request and responds with http2 200 OK. There is no CPU intensive computation such as IO operation or DB access etc. But the CPU utilization of the server application goes up to 99.9%, if the TPS crosses beyond a certain level as given below. \r\n\r\nCPU utilization while pumping traffic to the server with two http2 client connection\r\n1. Pushed 1K traffic, CPU consumption was 25% \r\n2. Pushed 10K traffic, CPU computation was 99.9% \r\n3. Pushed 12K traffic, CPU consumption was 99.9%\r\n\r\nFrom above traffic pattern, I could see that the cpu utilization reached 99.9% at 10 tps (i.e. #2), further increasing the traffic rate to 12K tps(i.e. In #3), the server is able to successfully handle extra 2K traffic even though the CPU utilization reached the peak.\r\n \r\nHow is the server able to process extra 2K traffic in #3 when the cpu utilization is already at 99.9% in #2, Can someone please help me understand?","title":"How can Spring Boot Webflux process a little more data when CPU usage is already at 99.9%?","body":"<p>I have  implemented a RestFul service using spring boot webflux reactive framework. Server has an endpoint with the GET method and with the resource /home/getData, which simply accepts the request and responds with http2 200 OK. There is no CPU intensive computation such as IO operation or DB access etc. But the CPU utilization of the server application goes up to 99.9%, if the TPS crosses beyond a certain level as given below.</p>\n<p>CPU utilization while pumping traffic to the server with two http2 client connection</p>\n<ol>\n<li>Pushed 1K traffic, CPU consumption was 25%</li>\n<li>Pushed 10K traffic, CPU computation was 99.9%</li>\n<li>Pushed 12K traffic, CPU consumption was 99.9%</li>\n</ol>\n<p>From above traffic pattern, I could see that the cpu utilization reached 99.9% at 10 tps (i.e. #2), further increasing the traffic rate to 12K tps(i.e. In #3), the server is able to successfully handle extra 2K traffic even though the CPU utilization reached the peak.</p>\n<p>How is the server able to process extra 2K traffic in #3 when the cpu utilization is already at 99.9% in #2, Can someone please help me understand?</p>\n"},{"tags":["java","collections","immutability"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1680292173,"post_id":75901821,"comment_id":133879666,"body_markdown":"It is safe to assume a List is always ordered.  Set.of does not return a NavigableSet and Map.of does not return a NavigableMap, so **no,** you cannot safely assume they will have any particular ordering.  (And you shouldnt even assume a non-public class like ImmutableCollections exists;  the next version of Java may or may not choose to provide immutable collections and Maps in an entirely different manner.)","body":"It is safe to assume a List is always ordered.  Set.of does not return a NavigableSet and Map.of does not return a NavigableMap, so <b>no,</b> you cannot safely assume they will have any particular ordering.  (And you shouldnt even assume a non-public class like ImmutableCollections exists;  the next version of Java may or may not choose to provide immutable collections and Maps in an entirely different manner.)"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1680299617,"post_id":75901821,"comment_id":133881004,"body_markdown":"Does it say &quot;ImmutableCollections are always ordered&quot; in the doc?  If not, it&#39;s not safe to assume they are.","body":"Does it say &quot;ImmutableCollections are always ordered&quot; in the doc?  If not, it&#39;s not safe to assume they are."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1680510251,"post_id":75901821,"comment_id":133904619,"body_markdown":"Its not even safe to assume that the class `java.util.ImmutableCollections.MapN` exists. What do you even mean with ordered? The order has entirely different semantics for `LinkedHashMap` and `SortedMap`. What is your actual requirement? By the way, theres no point in the type parameter `T` here, it does not add anything to the method compared to just declare the parameter as `Object t`. Further, dont write expressions like `condition? true: false`. Just use `condition`.","body":"Its not even safe to assume that the class <code>java.util.ImmutableCollections.MapN</code> exists. What do you even mean with ordered? The order has entirely different semantics for <code>LinkedHashMap</code> and <code>SortedMap</code>. What is your actual requirement? By the way, theres no point in the type parameter <code>T</code> here, it does not add anything to the method compared to just declare the parameter as <code>Object t</code>. Further, dont write expressions like <code>condition? true: false</code>. Just use <code>condition</code>."},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1680543337,"post_id":75901821,"comment_id":133912922,"body_markdown":"@ArfurNarf : doc doesn&#39;t state that the resulting `ImmutableCollection` is unordered. It doesn&#39;t is tell anything about the ordering, from what I see.\n\n@Holger : by &quot;ordered&quot; I mean whether or not the `Iterator` from the resulting `Map` or `Set` will iterate elements in the order they were added to the Collection with e.g. `Set.of()`, or `Map.of()`. Lists should always be ordered, that&#39;s understood.","body":"@ArfurNarf : doc doesn&#39;t state that the resulting <code>ImmutableCollection</code> is unordered. It doesn&#39;t is tell anything about the ordering, from what I see.  @Holger : by &quot;ordered&quot; I mean whether or not the <code>Iterator</code> from the resulting <code>Map</code> or <code>Set</code> will iterate elements in the order they were added to the Collection with e.g. <code>Set.of()</code>, or <code>Map.of()</code>. Lists should always be ordered, that&#39;s understood."},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1680548314,"post_id":75901821,"comment_id":133914087,"body_markdown":"@VGR : I&#39;d like to determine, whether a given `EntrySet` from a `Map` or a `Set` is ordered, meaning, an `Iterator` from it will return elements in the order they were added - whithout creating a `Spliterator` from it just for the sake of getting the `Spliterator.ORDERED` characteristic. There&#39;re also other types, like `EnumMap` or `Attributes` that are ordered. In particular, I&#39;m in the unclear about the outcomes of static methods like `Set.of(E... elements)`, `Map.ofEntries(Entry... entries)`.","body":"@VGR : I&#39;d like to determine, whether a given <code>EntrySet</code> from a <code>Map</code> or a <code>Set</code> is ordered, meaning, an <code>Iterator</code> from it will return elements in the order they were added - whithout creating a <code>Spliterator</code> from it just for the sake of getting the <code>Spliterator.ORDERED</code> characteristic. There&#39;re also other types, like <code>EnumMap</code> or <code>Attributes</code> that are ordered. In particular, I&#39;m in the unclear about the outcomes of static methods like <code>Set.of(E... elements)</code>, <code>Map.ofEntries(Entry... entries)</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1680559823,"post_id":75901821,"comment_id":133916166,"body_markdown":"Then check [the documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html#unmodifiable).  Its very clear about such collections:  The iteration order of set elements is unspecified and is subject to change.  So the answer is, **the objects returned by Set.of and Map.of will never have a consistent order.**  Honestly, when I need a consisting ordering, I just use `new ArrayList&lt;&gt;(existingCollection)`.  The new List contains references, not copies of the objects, so its not expensive.","body":"Then check <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html#unmodifiable\" rel=\"nofollow noreferrer\">the documentation</a>.  Its very clear about such collections:  The iteration order of set elements is unspecified and is subject to change.  So the answer is, <b>the objects returned by Set.of and Map.of will never have a consistent order.</b>  Honestly, when I need a consisting ordering, I just use <code>new ArrayList&lt;&gt;(existingCollection)</code>.  The new List contains references, not copies of the objects, so its not expensive."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1680561596,"post_id":75901821,"comment_id":133916399,"body_markdown":"re *It doesn&#39;t is tell anything about the ordering, from what I see.*    &quot;The iteration order .. is unspecified and is subject to change.&quot; [Set interface](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html).  [Map interface](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html).   But ultimately it&#39;s your code; you can decide what undocumented assumptions you are willing to rely on.","body":"re <i>It doesn&#39;t is tell anything about the ordering, from what I see.</i>    &quot;The iteration order .. is unspecified and is subject to change.&quot; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\">Set interface</a>.  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map interface</a>.   But ultimately it&#39;s your code; you can decide what undocumented assumptions you are willing to rely on."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1680592409,"post_id":75901821,"comment_id":133919883,"body_markdown":"the documentation does not guarantee any order, it even specifies explicitly that there is none. even worse (for you), same `Set` created via `of` methods, will differ in the output from run to run, and this is [on purpose](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ImmutableCollections.java#L53..L59)","body":"the documentation does not guarantee any order, it even specifies explicitly that there is none. even worse (for you), same <code>Set</code> created via <code>of</code> methods, will differ in the output from run to run, and this is <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ImmutableCollections.java#L53..L59\" rel=\"nofollow noreferrer\">on purpose</a>"},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1681388176,"post_id":75901821,"comment_id":134050183,"body_markdown":"@Eugene TLDR; where in the source code does the non-ordering purpose manifest exactly?","body":"@Eugene TLDR; where in the source code does the non-ordering purpose manifest exactly?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1681458771,"post_id":75901821,"comment_id":134062659,"body_markdown":"@fozzybear everywhere where you iterate the elements.","body":"@fozzybear everywhere where you iterate the elements."},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1682090078,"post_id":75901821,"comment_id":134165851,"body_markdown":"@Eugene I meant: where in the source code of `ImmutableCollections`, which you&#39;ve linked here, is the (non-ordered) &#39;on purpose&#39; aspect explicitly documented?","body":"@Eugene I meant: where in the source code of <code>ImmutableCollections</code>, which you&#39;ve linked here, is the (non-ordered) &#39;on purpose&#39; aspect explicitly documented?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1682093214,"post_id":75901821,"comment_id":134166537,"body_markdown":"this has already been told you by VGR: &quot;the objects returned by Set.of and Map.of will never have a consistent order&quot;","body":"this has already been told you by VGR: &quot;the objects returned by Set.of and Map.of will never have a consistent order&quot;"},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1682420561,"post_id":75901821,"comment_id":134208934,"body_markdown":"Oh alright, sorry - I missed the obvious.","body":"Oh alright, sorry - I missed the obvious."}],"answers":[{"tags":[],"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680695603,"creation_date":1680615734,"answer_id":75930106,"question_id":75901821,"body_markdown":"It seems I&#39;ve been looking in the wrong place of the documentation - in the method&#39;s documentations instead of the `Interface` specifications, where the immutable variants are explicitly described - and indeed the `ImmutableCollections`&#39; static methods mentioned above generate `Sets` and  `Maps` without explicit ordering, which can be verified, e. g.:\r\n\r\n      final Map&lt;String, String&gt; map1 = Map.of(&quot;&quot;,&quot;&quot;, &quot; &quot;, &quot; &quot;);\r\n      final boolean isOrderedM1a = map1.keySet().spliterator().hasCharacteristics(ORDERED);\r\n      final boolean isOrderedM1b = map1.values().spliterator().hasCharacteristics(ORDERED);\r\n      final boolean isOrderedM1c = map1.entrySet().spliterator().hasCharacteristics(ORDERED);\r\n      final Map map2 = Map.ofEntries(new SimpleEntry(&quot;&quot;,&quot;&quot;), new SimpleEntry(&quot; &quot;, &quot; &quot;));\r\n      final boolean isOrderedM2a = map2.keySet().spliterator().hasCharacteristics(ORDERED);\r\n      final boolean isOrderedM2b = map2.values().spliterator().hasCharacteristics(ORDERED);\r\n      final boolean isOrderedM2c = map2.entrySet().spliterator().hasCharacteristics(ORDERED);\r\n      final Set set1 = Set.of(&quot;&quot;,&quot; &quot;);\r\n      final boolean isOrderedS1 = set1.spliterator().hasCharacteristics(ORDERED);\r\n      final Set set2 = Set.of(&quot;&quot;);\r\n      final boolean isOrderedS2 = set2.spliterator().hasCharacteristics(ORDERED);\r\n\r\nThe results all are `false`, as to be expected. In contrast, immutable Collections generated from `List.of()` are always ordered, which wasn&#39;t questioned here, though. Thanks for the clarification.\r\n\r\nInitially, I&#39;ve spotted a `Spliterator` result of `true` in the code somewhere while looking for an answer, which made me believe that these static methods might produce ordered results in general. Perhaps that was due to mixing up wrapped results of `Collections.unmodifiableSet()` and similar generated test data from already ordered Collections.\r\n\r\n**EDIT:**\r\n\r\nWhile working on the problem, I came across a solution how to create a `Spliterator` from an `Iterator`, by converting it into an `Iterable` via `Lambda` first and get the `ORDERED` characteristic from that like so:\r\n\r\n    Iterator iter = new ArrayList().iterator();\r\n    boolean isOrdered = ((Iterable)() -&gt; ((Iterator)t1)).spliterator().hasCharacteristics(ORDERED);\r\n\r\nUnfortunately, this won&#39;t preserve the `ORDERED` nature from the original `ArrayItr` and `isOrdered` will be `false`.\r\n\r\nI&#39;d have expected it to give the same result (`true`) as\r\n\r\n    boolean isOrdered = new ArrayList().spliterator().hasCharacteristics(ORDERED);\r\n\r\nbut it doesn&#39;t. Why is that and how to prevent losing the ordering in the first case - and is creating a spliterator &#39;expensive&#39;?\r\n\r\n**EDIT:** \r\nFrom what I see in the `Spliterator` doc, the reason should be:\r\n\r\n*Impl Note: The default implementation should usually be overridden. The spliterator returned by the default implementation [...] does not report any spliterator characteristics.*\r\n\r\nSo then the question would boil down to: \r\n&quot;Is it possible to create a Spliterator with preserved characteristics from the first case, whithout a custom overridden implementation?&quot;.","title":"Is it safe to assume &quot;java.util.ImmutableCollections&quot; are always ordered?","body":"<p>It seems I've been looking in the wrong place of the documentation - in the method's documentations instead of the <code>Interface</code> specifications, where the immutable variants are explicitly described - and indeed the <code>ImmutableCollections</code>' static methods mentioned above generate <code>Sets</code> and  <code>Maps</code> without explicit ordering, which can be verified, e. g.:</p>\n<pre><code>  final Map&lt;String, String&gt; map1 = Map.of(&quot;&quot;,&quot;&quot;, &quot; &quot;, &quot; &quot;);\n  final boolean isOrderedM1a = map1.keySet().spliterator().hasCharacteristics(ORDERED);\n  final boolean isOrderedM1b = map1.values().spliterator().hasCharacteristics(ORDERED);\n  final boolean isOrderedM1c = map1.entrySet().spliterator().hasCharacteristics(ORDERED);\n  final Map map2 = Map.ofEntries(new SimpleEntry(&quot;&quot;,&quot;&quot;), new SimpleEntry(&quot; &quot;, &quot; &quot;));\n  final boolean isOrderedM2a = map2.keySet().spliterator().hasCharacteristics(ORDERED);\n  final boolean isOrderedM2b = map2.values().spliterator().hasCharacteristics(ORDERED);\n  final boolean isOrderedM2c = map2.entrySet().spliterator().hasCharacteristics(ORDERED);\n  final Set set1 = Set.of(&quot;&quot;,&quot; &quot;);\n  final boolean isOrderedS1 = set1.spliterator().hasCharacteristics(ORDERED);\n  final Set set2 = Set.of(&quot;&quot;);\n  final boolean isOrderedS2 = set2.spliterator().hasCharacteristics(ORDERED);\n</code></pre>\n<p>The results all are <code>false</code>, as to be expected. In contrast, immutable Collections generated from <code>List.of()</code> are always ordered, which wasn't questioned here, though. Thanks for the clarification.</p>\n<p>Initially, I've spotted a <code>Spliterator</code> result of <code>true</code> in the code somewhere while looking for an answer, which made me believe that these static methods might produce ordered results in general. Perhaps that was due to mixing up wrapped results of <code>Collections.unmodifiableSet()</code> and similar generated test data from already ordered Collections.</p>\n<p><strong>EDIT:</strong></p>\n<p>While working on the problem, I came across a solution how to create a <code>Spliterator</code> from an <code>Iterator</code>, by converting it into an <code>Iterable</code> via <code>Lambda</code> first and get the <code>ORDERED</code> characteristic from that like so:</p>\n<pre><code>Iterator iter = new ArrayList().iterator();\nboolean isOrdered = ((Iterable)() -&gt; ((Iterator)t1)).spliterator().hasCharacteristics(ORDERED);\n</code></pre>\n<p>Unfortunately, this won't preserve the <code>ORDERED</code> nature from the original <code>ArrayItr</code> and <code>isOrdered</code> will be <code>false</code>.</p>\n<p>I'd have expected it to give the same result (<code>true</code>) as</p>\n<pre><code>boolean isOrdered = new ArrayList().spliterator().hasCharacteristics(ORDERED);\n</code></pre>\n<p>but it doesn't. Why is that and how to prevent losing the ordering in the first case - and is creating a spliterator 'expensive'?</p>\n<p><strong>EDIT:</strong>\nFrom what I see in the <code>Spliterator</code> doc, the reason should be:</p>\n<p><em>Impl Note: The default implementation should usually be overridden. The spliterator returned by the default implementation [...] does not report any spliterator characteristics.</em></p>\n<p>So then the question would boil down to:\n&quot;Is it possible to create a Spliterator with preserved characteristics from the first case, whithout a custom overridden implementation?&quot;.</p>\n"}],"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75930106,"answer_count":1,"score":0,"last_activity_date":1680695603,"creation_date":1680288473,"question_id":75901821,"body_markdown":"`java.util.ImmutableCollections` provides implementations for immutable `Collections`, as generated by static methods like `List.of()`, `Set.of()`, `Map.of()`; it&#39;s array-based internally. Is it safe to assume that Collections produced by said methods are always ordered?\r\n\r\nIf I have e. g. a method argument `T t` of Class type `java.util.ImmutableCollections.MapN`, can I (since it&#39;s a hidden internal Class) rely on \r\n\r\n    public static &lt;T&gt; boolean isOrderedMap(final T t) {\r\n        final boolean isOrderedMap = &quot;java.util.ImmutableCollections.MapN&quot;.equals(t.getClass().getCanonicalName()) \r\n           || t instanceof LinkedHashMap \r\n           || t instanceof SortedMap\r\n           || t instanceof EnumMap\r\n           || t instanceof Attributes\r\n        return isOrderedMap ? true : false;\r\n    }\r\nand assume that the result is indeed always true for such standard `Maps`, if they&#39;re supposed to be ordered (and similar for `Sets` and `Lists`)?","title":"Is it safe to assume &quot;java.util.ImmutableCollections&quot; are always ordered?","body":"<p><code>java.util.ImmutableCollections</code> provides implementations for immutable <code>Collections</code>, as generated by static methods like <code>List.of()</code>, <code>Set.of()</code>, <code>Map.of()</code>; it's array-based internally. Is it safe to assume that Collections produced by said methods are always ordered?</p>\n<p>If I have e. g. a method argument <code>T t</code> of Class type <code>java.util.ImmutableCollections.MapN</code>, can I (since it's a hidden internal Class) rely on</p>\n<pre><code>public static &lt;T&gt; boolean isOrderedMap(final T t) {\n    final boolean isOrderedMap = &quot;java.util.ImmutableCollections.MapN&quot;.equals(t.getClass().getCanonicalName()) \n       || t instanceof LinkedHashMap \n       || t instanceof SortedMap\n       || t instanceof EnumMap\n       || t instanceof Attributes\n    return isOrderedMap ? true : false;\n}\n</code></pre>\n<p>and assume that the result is indeed always true for such standard <code>Maps</code>, if they're supposed to be ordered (and similar for <code>Sets</code> and <code>Lists</code>)?</p>\n"},{"tags":["java","runnable"],"comments":[{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":21,"creation_date":1551120565,"post_id":5853167,"comment_id":96515767,"body_markdown":"Now you can use `Consumer&lt;T&gt;`.","body":"Now you can use <code>Consumer&lt;T&gt;</code>."},{"owner":{"account_id":1334496,"reputation":6147,"user_id":1277576,"display_name":"Francesco Galgani"},"score":2,"creation_date":1557320826,"post_id":5853167,"comment_id":98724960,"body_markdown":"I&#39;ve read the various answers to this question. It seems me strange that nobody told that you can add to your project the Runnables that you need (with one, two, three or more args) simply adding an appropriate interface. I created a commented gist here for who is interested: https://gist.github.com/jsfan3/3a66e711fd0fd233c5e4c467184adb7a","body":"I&#39;ve read the various answers to this question. It seems me strange that nobody told that you can add to your project the Runnables that you need (with one, two, three or more args) simply adding an appropriate interface. I created a commented gist here for who is interested: <a href=\"https://gist.github.com/jsfan3/3a66e711fd0fd233c5e4c467184adb7a\" rel=\"nofollow noreferrer\">gist.github.com/jsfan3/3a66e711fd0fd233c5e4c467184adb7a</a>"},{"owner":{"account_id":4400,"reputation":38401,"user_id":6583,"accept_rate":90,"display_name":"Epaga"},"score":0,"creation_date":1578560180,"post_id":5853167,"comment_id":105480290,"body_markdown":"This is NOT a duplicate to &quot;How can I pass a parameter to a Java thread&quot;. And the modern answer is, like @Alex78191 says: use `Consumer&lt;T&gt;`","body":"This is NOT a duplicate to &quot;How can I pass a parameter to a Java thread&quot;. And the modern answer is, like @Alex78191 says: use <code>Consumer&lt;T&gt;</code>"},{"owner":{"account_id":4394608,"reputation":341,"user_id":3582079,"accept_rate":0,"display_name":"musterjunk"},"score":0,"creation_date":1672937126,"post_id":5853167,"comment_id":132390407,"body_markdown":"I usually create a class that implements run() and pass what ever data I need into the constructor or accesser/setter.","body":"I usually create a class that implements run() and pass what ever data I need into the constructor or accesser/setter."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1675756272,"post_id":5853167,"comment_id":132991754,"body_markdown":"@Alex78191, can you further elaborate what you mean by use Consumer&lt;T&gt;?","body":"@Alex78191, can you further elaborate what you mean by use Consumer&lt;T&gt;?"},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1675797725,"post_id":5853167,"comment_id":133005023,"body_markdown":"@experimentunit1998X https://stackoverflow.com/a/59660705/4854931","body":"@experimentunit1998X <a href=\"https://stackoverflow.com/a/59660705/4854931\">stackoverflow.com/a/59660705/4854931</a>"}],"answers":[{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":1,"up_vote_count":258,"is_accepted":true,"score":257,"last_activity_date":1578627679,"creation_date":1304306272,"answer_id":5853198,"question_id":5853167,"body_markdown":"Well it&#39;s been almost 9 years since I originally posted this and to be honest, Java has made a couple improvements since then. I&#39;ll leave my original answer below, but there&#39;s no need for people to do what is in it. 9 years ago, during code review I would have questioned why they did it and maybe approved it, maybe not. With modern lambdas available, it&#39;s irresponsible to have such a highly voted answer recommending an antiquated approach (that, in all fairness, was dubious to begin with...) In modern Java, that code review would be immediately rejected, and this would be suggested:\r\n\r\n    void foo(final String str) {\r\n        Thread t = new Thread(() -&gt; someFunc(str));\r\n        t.start();\r\n    }\r\n\r\nAs before, details like handling that thread in a meaningful way is left as an exercise to the reader. But to put it bluntly, if you&#39;re afraid of using lambdas, you should be even more afraid of multi-threaded systems.\r\n\r\nOriginal answer, just because:\r\n\r\nYou can declare a class right in the method\r\n\r\n    void Foo(String str) {\r\n        class OneShotTask implements Runnable {\r\n            String str;\r\n            OneShotTask(String s) { str = s; }\r\n            public void run() {\r\n                someFunc(str);\r\n            }\r\n        }\r\n        Thread t = new Thread(new OneShotTask(str));\r\n        t.start();\r\n    }","title":"Runnable with a parameter?","body":"<p>Well it's been almost 9 years since I originally posted this and to be honest, Java has made a couple improvements since then. I'll leave my original answer below, but there's no need for people to do what is in it. 9 years ago, during code review I would have questioned why they did it and maybe approved it, maybe not. With modern lambdas available, it's irresponsible to have such a highly voted answer recommending an antiquated approach (that, in all fairness, was dubious to begin with...) In modern Java, that code review would be immediately rejected, and this would be suggested:</p>\n\n<pre><code>void foo(final String str) {\n    Thread t = new Thread(() -&gt; someFunc(str));\n    t.start();\n}\n</code></pre>\n\n<p>As before, details like handling that thread in a meaningful way is left as an exercise to the reader. But to put it bluntly, if you're afraid of using lambdas, you should be even more afraid of multi-threaded systems.</p>\n\n<p>Original answer, just because:</p>\n\n<p>You can declare a class right in the method</p>\n\n<pre><code>void Foo(String str) {\n    class OneShotTask implements Runnable {\n        String str;\n        OneShotTask(String s) { str = s; }\n        public void run() {\n            someFunc(str);\n        }\n    }\n    Thread t = new Thread(new OneShotTask(str));\n    t.start();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":294983,"reputation":5941,"user_id":599152,"display_name":"rlibby"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1304306314,"creation_date":1304306314,"answer_id":5853202,"question_id":5853167,"body_markdown":"You have two options:\r\n\r\n1. Define a named class.  Pass your parameter to the constructor of the named class.\r\n\r\n2. Have your anonymous class close over your &quot;parameter&quot;.  Be sure to mark it as `final`.","title":"Runnable with a parameter?","body":"<p>You have two options:</p>\n\n<ol>\n<li><p>Define a named class.  Pass your parameter to the constructor of the named class.</p></li>\n<li><p>Have your anonymous class close over your \"parameter\".  Be sure to mark it as <code>final</code>.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25471,"reputation":3066,"user_id":65488,"accept_rate":97,"display_name":"atlantis"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1304306442,"creation_date":1304306442,"answer_id":5853211,"question_id":5853167,"body_markdown":"I would first want to know what you are trying to accomplish here to need an argument to be passed to new Runnable() or to run().\r\nThe usual way should be to have a Runnable object which passes data(str) to its threads by setting member variables before starting. The run() method then uses these member variable values to do execute someFunc()","title":"Runnable with a parameter?","body":"<p>I would first want to know what you are trying to accomplish here to need an argument to be passed to new Runnable() or to run().\nThe usual way should be to have a Runnable object which passes data(str) to its threads by setting member variables before starting. The run() method then uses these member variable values to do execute someFunc()</p>\n"},{"tags":[],"owner":{"account_id":379574,"reputation":12030,"user_id":733034,"accept_rate":57,"display_name":"HaoQi Li"},"down_vote_count":2,"up_vote_count":54,"is_accepted":false,"score":52,"last_activity_date":1334877507,"creation_date":1334877507,"answer_id":10238196,"question_id":5853167,"body_markdown":"You could put it in a function.\r\n\r\n    String paramStr = &quot;a parameter&quot;;\r\n    Runnable myRunnable = createRunnable(paramStr);\r\n\r\n    private Runnable createRunnable(final String paramStr){\r\n\r\n        Runnable aRunnable = new Runnable(){\r\n            public void run(){\r\n                someFunc(paramStr);\r\n            }\r\n        };\r\n\r\n        return aRunnable;\r\n\r\n    }\r\n\r\n(When I used this, my parameter was an integer ID, which I used to make a hashmap of ID --&gt; myRunnables. That way, I can use the hashmap to post/remove different myRunnable objects in a handler.)","title":"Runnable with a parameter?","body":"<p>You could put it in a function.</p>\n\n<pre><code>String paramStr = \"a parameter\";\nRunnable myRunnable = createRunnable(paramStr);\n\nprivate Runnable createRunnable(final String paramStr){\n\n    Runnable aRunnable = new Runnable(){\n        public void run(){\n            someFunc(paramStr);\n        }\n    };\n\n    return aRunnable;\n\n}\n</code></pre>\n\n<p>(When I used this, my parameter was an integer ID, which I used to make a hashmap of ID --> myRunnables. That way, I can use the hashmap to post/remove different myRunnable objects in a handler.)</p>\n"},{"tags":[],"owner":{"account_id":2807872,"reputation":351,"user_id":2414742,"display_name":"Tommi Rouvali"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1369332452,"creation_date":1369331365,"answer_id":16720635,"question_id":5853167,"body_markdown":"    theView.post(new Runnable() {\r\n        String str;\r\n        @Override                            \r\n        public void run() {\r\n            par.Log(str);                              \r\n        }\r\n        public Runnable init(String pstr) {\r\n            this.str=pstr;\r\n            return(this);\r\n        }\r\n    }.init(str));\r\n\r\nCreate init function that returns object itself and initialize parameters with it.","title":"Runnable with a parameter?","body":"<pre><code>theView.post(new Runnable() {\n    String str;\n    @Override                            \n    public void run() {\n        par.Log(str);                              \n    }\n    public Runnable init(String pstr) {\n        this.str=pstr;\n        return(this);\n    }\n}.init(str));\n</code></pre>\n\n<p>Create init function that returns object itself and initialize parameters with it.</p>\n"},{"tags":[],"owner":{"account_id":108676,"reputation":10509,"user_id":288341,"accept_rate":83,"display_name":"ubiquibacon"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1391096520,"creation_date":1391096520,"answer_id":21460903,"question_id":5853167,"body_markdown":"I use the following class which implements the [Runnable][1] interface.  With this class you can easily create new threads with arguments\r\n\r\n\r\n    public abstract class RunnableArg implements Runnable {\r\n    \r\n        Object[] m_args;\r\n    \r\n        public RunnableArg() {\r\n        }\r\n    \r\n        public void run(Object... args) {\r\n            setArgs(args);\r\n            run();\r\n        }\r\n    \r\n        public void setArgs(Object... args) {\r\n            m_args = args;\r\n        }\r\n    \r\n        public int getArgCount() {\r\n            return m_args == null ? 0 : m_args.length;\r\n        }\r\n    \r\n        public Object[] getArgs() {\r\n            return m_args;\r\n        }\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html","title":"Runnable with a parameter?","body":"<p>I use the following class which implements the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html\">Runnable</a> interface.  With this class you can easily create new threads with arguments</p>\n\n<pre><code>public abstract class RunnableArg implements Runnable {\n\n    Object[] m_args;\n\n    public RunnableArg() {\n    }\n\n    public void run(Object... args) {\n        setArgs(args);\n        run();\n    }\n\n    public void setArgs(Object... args) {\n        m_args = args;\n    }\n\n    public int getArgCount() {\n        return m_args == null ? 0 : m_args.length;\n    }\n\n    public Object[] getArgs() {\n        return m_args;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4400,"reputation":38401,"user_id":6583,"accept_rate":90,"display_name":"Epaga"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1578561672,"creation_date":1578561672,"answer_id":59660705,"question_id":5853167,"body_markdown":"Since Java 8, the best answer is to use `Consumer&lt;T&gt;`:\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\r\n\r\nIt&#39;s one of the functional interfaces, which means you can call it as a lambda expression:\r\n\r\n    void doSomething(Consumer&lt;String&gt; something) {\r\n        something.accept(&quot;hello!&quot;);\r\n    }\r\n\r\n    ...\r\n\r\n    doSomething( (something) -&gt; System.out.println(something) )\r\n\r\n    ...","title":"Runnable with a parameter?","body":"<p>Since Java 8, the best answer is to use <code>Consumer&lt;T&gt;</code>:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html</a></p>\n\n<p>It's one of the functional interfaces, which means you can call it as a lambda expression:</p>\n\n<pre><code>void doSomething(Consumer&lt;String&gt; something) {\n    something.accept(\"hello!\");\n}\n\n...\n\ndoSomething( (something) -&gt; System.out.println(something) )\n\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22380441,"reputation":29,"user_id":16594125,"display_name":"Abdel Wadoud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628093463,"creation_date":1628093463,"answer_id":68654660,"question_id":5853167,"body_markdown":"\r\n\r\n    /**\r\n     * @author AbdelWadoud Rasmi\r\n     * &lt;p&gt;\r\n     * The goal of this class is to pass some parameters to a runnable instance, a good example is\r\n     * after caching a file you need to pass the new path to user to do some work on it.\r\n     */\r\n    public abstract class ParameterizedRunnable implements Runnable {\r\n        private Object[] params;\r\n    \r\n        /**\r\n         * @param params: parameters you want to pass the the runnable.\r\n         */\r\n        public ParameterizedRunnable(Object... params) {\r\n            this.params = params;\r\n        }\r\n    \r\n        /**\r\n         * Code you want to run\r\n         *\r\n         * @param params:parameters you want to pass the the runnable.\r\n         */\r\n        protected abstract void run(Object... params);\r\n    \r\n        @Override\r\n        public final void run() {\r\n            run(params);\r\n        }\r\n    \r\n        /**\r\n         * setting params\r\n         */\r\n        public void setParams(Object... params) {\r\n            this.params = params;\r\n        }\r\n    \r\n        /**\r\n         * getting params\r\n         */\r\n        public Object[] getParams() {\r\n            return params;\r\n        }\r\n    }","title":"Runnable with a parameter?","body":"<pre><code>/**\n * @author AbdelWadoud Rasmi\n * &lt;p&gt;\n * The goal of this class is to pass some parameters to a runnable instance, a good example is\n * after caching a file you need to pass the new path to user to do some work on it.\n */\npublic abstract class ParameterizedRunnable implements Runnable {\n    private Object[] params;\n\n    /**\n     * @param params: parameters you want to pass the the runnable.\n     */\n    public ParameterizedRunnable(Object... params) {\n        this.params = params;\n    }\n\n    /**\n     * Code you want to run\n     *\n     * @param params:parameters you want to pass the the runnable.\n     */\n    protected abstract void run(Object... params);\n\n    @Override\n    public final void run() {\n        run(params);\n    }\n\n    /**\n     * setting params\n     */\n    public void setParams(Object... params) {\n        this.params = params;\n    }\n\n    /**\n     * getting params\n     */\n    public Object[] getParams() {\n        return params;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636897146,"creation_date":1636897146,"answer_id":69963545,"question_id":5853167,"body_markdown":"Best way so far:\r\n\r\n    Consumer&lt;String&gt; oneShot = str -&gt; {\r\n        \r\n       somefunc(str);\r\n        \r\n    };\r\n    \r\n    oneShot.accept(&quot;myString&quot;);","title":"Runnable with a parameter?","body":"<p>Best way so far:</p>\n<pre><code>Consumer&lt;String&gt; oneShot = str -&gt; {\n    \n   somefunc(str);\n    \n};\n\noneShot.accept(&quot;myString&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16272565,"reputation":79,"user_id":11750685,"display_name":"dot_cr2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680695437,"creation_date":1680695437,"answer_id":75939066,"question_id":5853167,"body_markdown":"Create a new class that implements Runnable. In this class you can extend the run() method by making abstract methods of your choice.\r\n\r\n    public abstract class CCallback implements Runnable {\r\n    @Override\r\n    public void run() {}\r\n\r\n    public abstract void run(Object any);\r\n    \r\n    }\r\n\r\nNow you can use this class as a callback function like this:\r\n\r\n    public void whatever(CCallback callback) {\r\n        String any = &quot;any type of param&quot;;\r\n        if (callback != null)\r\n            callback.run(any);\r\n    }\r\n\r\n&quot;Whatever&quot; method can now finish its task before our runnable runs:\r\n\r\n    whatever(new CCallback() {\r\n        @Override\r\n        public void run(Object any) {\r\n            // Here you can reach &quot;any&quot;\r\n        }\r\n    });","title":"Runnable with a parameter?","body":"<p>Create a new class that implements Runnable. In this class you can extend the run() method by making abstract methods of your choice.</p>\n<pre><code>public abstract class CCallback implements Runnable {\n@Override\npublic void run() {}\n\npublic abstract void run(Object any);\n\n}\n</code></pre>\n<p>Now you can use this class as a callback function like this:</p>\n<pre><code>public void whatever(CCallback callback) {\n    String any = &quot;any type of param&quot;;\n    if (callback != null)\n        callback.run(any);\n}\n</code></pre>\n<p>&quot;Whatever&quot; method can now finish its task before our runnable runs:</p>\n<pre><code>whatever(new CCallback() {\n    @Override\n    public void run(Object any) {\n        // Here you can reach &quot;any&quot;\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":374916,"reputation":6704,"user_id":725417,"accept_rate":94,"display_name":"uTubeFan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233471,"favorite_count":0,"down_vote_count":0,"up_vote_count":211,"accepted_answer_id":5853198,"answer_count":10,"score":211,"last_activity_date":1680695437,"creation_date":1304305778,"question_id":5853167,"body_markdown":"I have a need for a &quot;Runnable that accepts a parameter&quot; although I know that such runnable doesn&#39;t really exist.\r\n\r\nThis may point to fundamental flaw in the design of my app and/or a mental block in my tired brain, so I am hoping to find here some advice on how to accomplish something like the following, *without* violating fundamental OO principles:\r\n\r\n      private Runnable mOneShotTask = new Runnable(String str) {\r\n        public void run(String str) {\r\n           someFunc(str);\r\n        }\r\n      };  \r\n\r\n\r\nAny idea how to accomplish something like the above?\r\n\r\n","title":"Runnable with a parameter?","body":"<p>I have a need for a \"Runnable that accepts a parameter\" although I know that such runnable doesn't really exist.</p>\n\n<p>This may point to fundamental flaw in the design of my app and/or a mental block in my tired brain, so I am hoping to find here some advice on how to accomplish something like the following, <em>without</em> violating fundamental OO principles:</p>\n\n<pre><code>  private Runnable mOneShotTask = new Runnable(String str) {\n    public void run(String str) {\n       someFunc(str);\n    }\n  };  \n</code></pre>\n\n<p>Any idea how to accomplish something like the above?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1680693403,"post_id":75938675,"comment_id":133940311,"body_markdown":"post the actual classes, it&#39;s hard understand the structure from output","body":"post the actual classes, it&#39;s hard understand the structure from output"}],"answers":[{"tags":[],"owner":{"account_id":7384360,"reputation":1070,"user_id":5619827,"accept_rate":80,"display_name":"Horsing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680694318,"creation_date":1680694318,"answer_id":75938881,"question_id":75938675,"body_markdown":"You can use `jackson` as you wish https://github.com/FasterXML/jackson .\r\n\r\nAnyway, issue [Deserialize JSON array to Map using jackson](https://stackoverflow.com/questions/39007668/deserialize-json-array-to-map-using-jackson) might be helpful.\r\n\r\nBy the way, methods `ObjectMapper#readValue` should be enough for most use cases.\r\n\r\nFor example: \r\n\r\n```java\r\npublic &lt;T&gt; T readValue(String content, TypeReference&lt;T&gt; valueTypeRef);\r\n```\r\n\r\nYou can deserialize `json` string into whatever class as you wish:\r\n\r\n```java\r\n//...\r\npublic static final ObjectMapper MAPPER = new ObjectMapper();\r\n//... to deserialize to List&lt;Map&lt;String,Object&gt;&gt;\r\nMAPPER.readValue(jsonString, new TypeReference&lt;List&lt;Map&lt;String,Object&gt;&gt;&gt;(){});\r\n```\r\n\r\nLet me know if any thing need to be updated.","title":"Better way to read list of object and generate JSON object","body":"<p>You can use <code>jackson</code> as you wish <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson</a> .</p>\n<p>Anyway, issue <a href=\"https://stackoverflow.com/questions/39007668/deserialize-json-array-to-map-using-jackson\">Deserialize JSON array to Map using jackson</a> might be helpful.</p>\n<p>By the way, methods <code>ObjectMapper#readValue</code> should be enough for most use cases.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; T readValue(String content, TypeReference&lt;T&gt; valueTypeRef);\n</code></pre>\n<p>You can deserialize <code>json</code> string into whatever class as you wish:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//...\npublic static final ObjectMapper MAPPER = new ObjectMapper();\n//... to deserialize to List&lt;Map&lt;String,Object&gt;&gt;\nMAPPER.readValue(jsonString, new TypeReference&lt;List&lt;Map&lt;String,Object&gt;&gt;&gt;(){});\n</code></pre>\n<p>Let me know if any thing need to be updated.</p>\n"}],"owner":{"account_id":13411028,"reputation":23,"user_id":9677490,"display_name":"Douglas Rezende"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680695090,"creation_date":1680692888,"question_id":75938675,"body_markdown":"I have a following list of objects\r\n```\r\n[ ObjectVO ( id = 151401 , code = 370 AAA , Origin id = 8628823 , state = SP , local = N , number = 998035 ) N , number=998039), ObjectVO(id=151401, code=370 AAA, Origin ID=8628853, state=SP, local=N , number=998041), ObjectVO(id=151402, code=371 AAA, Origin ID=8 state=SP, local=N, number=998035), ObjectVO(id=151402, code=371 MCC, Origin id=8628833, state=SP, local=N, number=998039), ObjectVO(id=151402, code=371). AAA, Origin ID=8628853, state=SP, local=N, number=998041),\r\nObjectVO ( id = 155852 , code = 0389 AAA , Origin id = 8627130 , state = SP , local = N , number = 996509 ) , number=996509)]\r\n```\r\n\r\n through desse list manage to json structure below:\r\n```\r\n[\r\n    {\r\n       &quot;id&quot;:151401,\r\n       &quot;observation&quot;:&quot;370 AAA&quot;,\r\n       &quot;input&quot;:[\r\n          {\r\n             &quot;id&quot;:0,\r\n             &quot;state&quot;:&quot;string&quot;\r\n             &quot;local&quot;:&quot;string&quot;\r\n             &quot;number&quot;:0\r\n          },\r\n          {\r\n             &quot;id&quot;:8628833,\r\n             &quot;state&quot;:&quot;SP&quot;\r\n             &quot;local&quot;:&quot;N&quot;,\r\n             &quot;number&quot;:9\r\n          } }\r\n       ]\r\n    } }\r\n]\r\n```\r\nCreate the following code for this:\r\n\r\n    MultiValueMap&lt;String, Map&lt;String,Object&gt;&gt; originalMap = new LinkedMultiValueMap&lt;&gt;();\r\n    for(Entry&lt;Object, List&lt;VoqueryBatch&gt;&gt; entry :\r\n        map1.entrySet()) {\r\n        originalMap . add ( entry . getKey ( ) . toString ( ) , Map . of (\r\n        &quot;id&quot;, entry.getValue().iterator().next().getId,\r\n        &quot;code&quot;, entry.getValue().iterator().next().getCode(),\r\n        &quot;idOrigin&quot;, entry.getValue().iterator().next().getIdOrigin(),\r\n        &quot;state&quot;, entry.getValue().iterator().next().getState(),\r\n        &quot;local&quot;, entry.getValue().iterator().next().getLocal(),\r\n        &quot;number&quot;, entry.getValue().iterator().next().getNumber()\r\n    ));\r\n    } }\r\n\r\n    List&lt;ObjectNode&gt; newList = new ArrayList&lt;&gt;();\r\n    for ( String entry : originalMap . keySet ()) {\r\n    List&lt;Map&lt;String, Object&gt;&gt; list = originalMap.get(entry);\r\n    ObjectNode objNode = new ObjectMapper().createObjectNode();\r\n    objNode.put(&quot;id&quot;, (Long)lotList.get(0).get(&quot;id&quot;));\r\n    objNode.put(&quot;observation&quot;, (String) list.get(0).get(&quot;observation&quot;));\r\n    ArrayNode array = new ObjectMapper().createArrayNode();\r\n    for ( Map &lt; String , Object &gt; myObj : list ) {\r\n    ObjectNode node = new ObjectMapper().createObjectNode();\r\n    node.put(&quot;id&quot;, (Long) myObj.get(&quot;idOrigin&quot;));\r\n    node.put(&quot;up&quot;, (String) myObj.get(&quot;state));\r\n    node.put(&quot;series&quot;, (String) myObj.get(&quot;local&quot;));\r\n    node.put(&quot;number&quot;, (Long) myObj.get(&quot;number&quot;));\r\n    array . add ( node ) ;\r\n    } }\r\n    lotNode.set(&quot;input&quot;, array);\r\n    newList . add ( node ) ;\r\n    } }\r\n\r\n    String jsonOutput = new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(newList);\r\n\r\nUsing a Map for that case makes more sense than using List, anyone have a better way to implement?\r\n\r\nThank you. ","title":"Better way to read list of object and generate JSON object","body":"<p>I have a following list of objects</p>\n<pre><code>[ ObjectVO ( id = 151401 , code = 370 AAA , Origin id = 8628823 , state = SP , local = N , number = 998035 ) N , number=998039), ObjectVO(id=151401, code=370 AAA, Origin ID=8628853, state=SP, local=N , number=998041), ObjectVO(id=151402, code=371 AAA, Origin ID=8 state=SP, local=N, number=998035), ObjectVO(id=151402, code=371 MCC, Origin id=8628833, state=SP, local=N, number=998039), ObjectVO(id=151402, code=371). AAA, Origin ID=8628853, state=SP, local=N, number=998041),\nObjectVO ( id = 155852 , code = 0389 AAA , Origin id = 8627130 , state = SP , local = N , number = 996509 ) , number=996509)]\n</code></pre>\n<p>through desse list manage to json structure below:</p>\n<pre><code>[\n    {\n       &quot;id&quot;:151401,\n       &quot;observation&quot;:&quot;370 AAA&quot;,\n       &quot;input&quot;:[\n          {\n             &quot;id&quot;:0,\n             &quot;state&quot;:&quot;string&quot;\n             &quot;local&quot;:&quot;string&quot;\n             &quot;number&quot;:0\n          },\n          {\n             &quot;id&quot;:8628833,\n             &quot;state&quot;:&quot;SP&quot;\n             &quot;local&quot;:&quot;N&quot;,\n             &quot;number&quot;:9\n          } }\n       ]\n    } }\n]\n</code></pre>\n<p>Create the following code for this:</p>\n<pre><code>MultiValueMap&lt;String, Map&lt;String,Object&gt;&gt; originalMap = new LinkedMultiValueMap&lt;&gt;();\nfor(Entry&lt;Object, List&lt;VoqueryBatch&gt;&gt; entry :\n    map1.entrySet()) {\n    originalMap . add ( entry . getKey ( ) . toString ( ) , Map . of (\n    &quot;id&quot;, entry.getValue().iterator().next().getId,\n    &quot;code&quot;, entry.getValue().iterator().next().getCode(),\n    &quot;idOrigin&quot;, entry.getValue().iterator().next().getIdOrigin(),\n    &quot;state&quot;, entry.getValue().iterator().next().getState(),\n    &quot;local&quot;, entry.getValue().iterator().next().getLocal(),\n    &quot;number&quot;, entry.getValue().iterator().next().getNumber()\n));\n} }\n\nList&lt;ObjectNode&gt; newList = new ArrayList&lt;&gt;();\nfor ( String entry : originalMap . keySet ()) {\nList&lt;Map&lt;String, Object&gt;&gt; list = originalMap.get(entry);\nObjectNode objNode = new ObjectMapper().createObjectNode();\nobjNode.put(&quot;id&quot;, (Long)lotList.get(0).get(&quot;id&quot;));\nobjNode.put(&quot;observation&quot;, (String) list.get(0).get(&quot;observation&quot;));\nArrayNode array = new ObjectMapper().createArrayNode();\nfor ( Map &lt; String , Object &gt; myObj : list ) {\nObjectNode node = new ObjectMapper().createObjectNode();\nnode.put(&quot;id&quot;, (Long) myObj.get(&quot;idOrigin&quot;));\nnode.put(&quot;up&quot;, (String) myObj.get(&quot;state));\nnode.put(&quot;series&quot;, (String) myObj.get(&quot;local&quot;));\nnode.put(&quot;number&quot;, (Long) myObj.get(&quot;number&quot;));\narray . add ( node ) ;\n} }\nlotNode.set(&quot;input&quot;, array);\nnewList . add ( node ) ;\n} }\n\nString jsonOutput = new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(newList);\n</code></pre>\n<p>Using a Map for that case makes more sense than using List, anyone have a better way to implement?</p>\n<p>Thank you.</p>\n"},{"tags":["java","email","jakarta-mail","mime-message"],"answers":[{"tags":[],"owner":{"account_id":22721,"reputation":6806,"user_id":56333,"accept_rate":64,"display_name":"abeger"},"down_vote_count":0,"up_vote_count":126,"is_accepted":true,"score":126,"last_activity_date":1384713626,"creation_date":1255538416,"answer_id":1567523,"question_id":1567467,"body_markdown":"OK, reading documentation about ALL the classes involved would have been helpful. The correct syntax should be \r\n\r\n    Message msg = new MimeMessage(mailSession);\r\n    msg.setFrom(new InternetAddress(&quot;mail@companyxyz.com&quot;, &quot;Company XYZ&quot;));\r\n\r\nSource: https://javamail.java.net/nonav/docs/api/javax/mail/internet/InternetAddress.html","title":"Setting the from name in a javax.mail.MimeMessage?","body":"<p>OK, reading documentation about ALL the classes involved would have been helpful. The correct syntax should be </p>\n\n<pre><code>Message msg = new MimeMessage(mailSession);\nmsg.setFrom(new InternetAddress(\"mail@companyxyz.com\", \"Company XYZ\"));\n</code></pre>\n\n<p>Source: <a href=\"https://javamail.java.net/nonav/docs/api/javax/mail/internet/InternetAddress.html\" rel=\"noreferrer\">https://javamail.java.net/nonav/docs/api/javax/mail/internet/InternetAddress.html</a></p>\n"},{"tags":[],"owner":{"account_id":67352,"reputation":12470,"user_id":197127,"accept_rate":69,"display_name":"checklist"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1366030564,"creation_date":1366030564,"answer_id":16015715,"question_id":1567467,"body_markdown":"If you want to store the email + the name in one string (easier than keeping two string):\r\n\r\n    Message msg = new MimeMessage(mailSession);\r\n    msg.setFrom(new InternetAddress(&quot;Company XYZ &lt;mail@companyxyz.com&gt;&quot;));","title":"Setting the from name in a javax.mail.MimeMessage?","body":"<p>If you want to store the email + the name in one string (easier than keeping two string):</p>\n\n<pre><code>Message msg = new MimeMessage(mailSession);\nmsg.setFrom(new InternetAddress(\"Company XYZ &lt;mail@companyxyz.com&gt;\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2994687,"reputation":31,"user_id":2541431,"display_name":"Adrian Adzik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1396009610,"creation_date":1396009610,"answer_id":22712838,"question_id":1567467,"body_markdown":"In case when I used localized text with special characters like \\u00FA I had problems with encoding email address alias for some pop3 clients if I&#39;d used just \r\n\r\n    MimeMessage m = new MimeMessage(session);\r\n    m.setFrom();\r\n\r\nIt can be resolved by separate email address and alias by invoke:\r\n\r\n    MimeMessage m = new MimeMessage(session);\r\n                m.setFrom(new InternetAddress(session.getProperty(&quot;mail.from&quot;), session.getProperty(&quot;mail.from.alias&quot;),&quot;UTF8&quot;));\r\n\r\nref: https://javamail.java.net/nonav/docs/api/javax/mail/internet/InternetAddress.html#InternetAddress(java.lang.String,%20java.lang.String,%20java.lang.String)","title":"Setting the from name in a javax.mail.MimeMessage?","body":"<p>In case when I used localized text with special characters like \\u00FA I had problems with encoding email address alias for some pop3 clients if I'd used just </p>\n\n<pre><code>MimeMessage m = new MimeMessage(session);\nm.setFrom();\n</code></pre>\n\n<p>It can be resolved by separate email address and alias by invoke:</p>\n\n<pre><code>MimeMessage m = new MimeMessage(session);\n            m.setFrom(new InternetAddress(session.getProperty(\"mail.from\"), session.getProperty(\"mail.from.alias\"),\"UTF8\"));\n</code></pre>\n\n<p>ref: <a href=\"https://javamail.java.net/nonav/docs/api/javax/mail/internet/InternetAddress.html#InternetAddress(java.lang.String,%20java.lang.String,%20java.lang.String)\" rel=\"nofollow\">https://javamail.java.net/nonav/docs/api/javax/mail/internet/InternetAddress.html#InternetAddress(java.lang.String,%20java.lang.String,%20java.lang.String)</a></p>\n"},{"tags":[],"owner":{"account_id":12834799,"reputation":21,"user_id":9284807,"display_name":"Rodrigo Turassa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521571381,"creation_date":1521566351,"answer_id":49390463,"question_id":1567467,"body_markdown":"    ic = new InitialContext();\r\n\r\n    final Session session = (Session) ic.lookupLink(snName);\r\n    final Properties props = session.getProperties();\r\n\r\n    props.put(&quot;mail.from&quot;, mailFrom); //blabla@mail.com\r\n    props.put(&quot;mail.from.alias&quot;, mailName);//&quot;joao Ninguem&quot;\r\n\r\n    // Create a message with the specified information.\r\n    final MimeMessage msg = new MimeMessage(session);\r\n    msg.setSubject(subject);\r\n    msg.setSentDate(new Date());\r\n\r\n    msg.setFrom(new InternetAddress(session.getProperty(&quot;mail.from&quot;), session.getProperty(&quot;mail.from.alias&quot;), &quot;UTF8&quot;));\r\n\r\n\r\n    msg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(mailTo, false));\r\n    msg.setContent(body, &quot;text/html&quot;);\r\n\r\n    // Create a transport.\r\n    Transport.send(msg);","title":"Setting the from name in a javax.mail.MimeMessage?","body":"<pre><code>ic = new InitialContext();\n\nfinal Session session = (Session) ic.lookupLink(snName);\nfinal Properties props = session.getProperties();\n\nprops.put(\"mail.from\", mailFrom); //blabla@mail.com\nprops.put(\"mail.from.alias\", mailName);//\"joao Ninguem\"\n\n// Create a message with the specified information.\nfinal MimeMessage msg = new MimeMessage(session);\nmsg.setSubject(subject);\nmsg.setSentDate(new Date());\n\nmsg.setFrom(new InternetAddress(session.getProperty(\"mail.from\"), session.getProperty(\"mail.from.alias\"), \"UTF8\"));\n\n\nmsg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(mailTo, false));\nmsg.setContent(body, \"text/html\");\n\n// Create a transport.\nTransport.send(msg);\n</code></pre>\n"}],"owner":{"account_id":22721,"reputation":6806,"user_id":56333,"accept_rate":64,"display_name":"abeger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57480,"favorite_count":0,"down_vote_count":1,"up_vote_count":52,"accepted_answer_id":1567523,"answer_count":4,"score":51,"last_activity_date":1680694881,"creation_date":1255537939,"question_id":1567467,"body_markdown":"Currently, our application uses a javax.mail to send email, using javax.mail.MailMessage. We set the From headers of the email this way:\r\n\r\n    Message msg = new MimeMessage(mailSession);\r\n    msg.setFrom(new InternetAddress(&quot;mail@companyxyz.com&quot;));\r\n\r\nThis works just fine, but we&#39;d like to make the &quot;From&quot; section a little more user-friendly. Currently, someone receiving an email will see &quot;mail@companyxyz.com&quot; in the &quot;From&quot; section of their inbox. Instead, we&#39;d like them to see &quot;Company XYZ&quot; there. I figure this is probably done with the addHeader() method, but I&#39;m not sure what the header name would be. \r\n","title":"Setting the from name in a javax.mail.MimeMessage?","body":"<p>Currently, our application uses a javax.mail to send email, using javax.mail.MailMessage. We set the From headers of the email this way:</p>\n\n<pre><code>Message msg = new MimeMessage(mailSession);\nmsg.setFrom(new InternetAddress(\"mail@companyxyz.com\"));\n</code></pre>\n\n<p>This works just fine, but we'd like to make the \"From\" section a little more user-friendly. Currently, someone receiving an email will see \"mail@companyxyz.com\" in the \"From\" section of their inbox. Instead, we'd like them to see \"Company XYZ\" there. I figure this is probably done with the addHeader() method, but I'm not sure what the header name would be. </p>\n"},{"tags":["java","azure","spring-data-jpa","azure-cosmosdb","azure-cosmosdb-sqlapi"],"answers":[{"tags":[],"owner":{"account_id":5172100,"reputation":4217,"user_id":4140278,"accept_rate":63,"display_name":"Pankaj Rawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585922298,"creation_date":1585922298,"answer_id":61013545,"question_id":60898820,"body_markdown":"I&#39;m putting my .net code here for reference, it will help you to write your spring code.\r\n\r\nYou have to create one database account and need keys (`DatabaseEndPoint` &amp; `DatabaseKey`). Then everthing you can create dynamically i.e database, collection etc. based on your tenant.\r\n\r\nIn .net, I use dependency injection to inject `IDocumentClient`. below is my configuration\r\n\r\n    string databaseEndPoint = ConfigurationManager.AppSettings[&quot;DatabaseEndPoint&quot;]; //Get from config file\r\n    string databaseKey = ConfigurationManager.AppSettings[&quot;DatabaseKey&quot;];//Get from config file\r\n    services.AddSingleton&lt;IDocumentClient&gt;(new DocumentClient(new System.Uri(databaseEndPoint), databaseKey,\r\n                new ConnectionPolicy\r\n                {\r\n                    ConnectionMode = ConnectionMode.Direct,\r\n                    ConnectionProtocol = Protocol.Tcp,\r\n                    RequestTimeout = TimeSpan.FromMinutes(5),//Groupasset sync has some timeout issue with large payload\r\n                    // Customize retry options for Throttled requests\r\n                    RetryOptions = new RetryOptions()\r\n                    {\r\n                        MaxRetryAttemptsOnThrottledRequests = 5,\r\n                        MaxRetryWaitTimeInSeconds = 60\r\n                    }\r\n                }\r\n            ));\r\n\r\n\r\n**BaseDAO/BaseRepository**\r\n\r\n    public abstract class BaseDao : IBaseDao\r\n    {\r\n        protected readonly IDocumentClient client;\r\n\r\n        protected BaseDao(IDocumentClient client)\r\n        {\r\n            this.client = client;\r\n        }\r\n\r\n        /// &lt;summary&gt;\r\n        /// Create Document in Database\r\n        /// &lt;/summary&gt;\r\n        /// &lt;param name=&quot;databaseId&quot;&gt;database name&lt;/param&gt;\r\n        /// &lt;param name=&quot;collectionId&quot;&gt;collection name&lt;/param&gt;\r\n        /// &lt;param name=&quot;document&quot;&gt;document object&lt;/param&gt;\r\n        /// &lt;returns&gt;&lt;/returns&gt;\r\n        public virtual async Task&lt;string&gt; CreateAsync(string databaseId, string collectionId, JObject document)\r\n        {\r\n            Document response = await client.CreateDocumentAsync(UriFactory.CreateDocumentCollectionUri(databaseId, collectionId), document);\r\n            return response.Id;\r\n        }\r\n    }\r\n\r\n Create DAO/Repository class and inherit from base DAO.\r\n\r\nIn my scenario, we are creating database based on `tenant` name i.e. google, microsoft etc. based on user (bill@microsoft.com) all query execute under one (microsoft) database.","title":"Spring Data CosmosDB multi tenant CosmosDB Configuration","body":"<p>I'm putting my .net code here for reference, it will help you to write your spring code.</p>\n\n<p>You have to create one database account and need keys (<code>DatabaseEndPoint</code> &amp; <code>DatabaseKey</code>). Then everthing you can create dynamically i.e database, collection etc. based on your tenant.</p>\n\n<p>In .net, I use dependency injection to inject <code>IDocumentClient</code>. below is my configuration</p>\n\n<pre><code>string databaseEndPoint = ConfigurationManager.AppSettings[\"DatabaseEndPoint\"]; //Get from config file\nstring databaseKey = ConfigurationManager.AppSettings[\"DatabaseKey\"];//Get from config file\nservices.AddSingleton&lt;IDocumentClient&gt;(new DocumentClient(new System.Uri(databaseEndPoint), databaseKey,\n            new ConnectionPolicy\n            {\n                ConnectionMode = ConnectionMode.Direct,\n                ConnectionProtocol = Protocol.Tcp,\n                RequestTimeout = TimeSpan.FromMinutes(5),//Groupasset sync has some timeout issue with large payload\n                // Customize retry options for Throttled requests\n                RetryOptions = new RetryOptions()\n                {\n                    MaxRetryAttemptsOnThrottledRequests = 5,\n                    MaxRetryWaitTimeInSeconds = 60\n                }\n            }\n        ));\n</code></pre>\n\n<p><strong>BaseDAO/BaseRepository</strong></p>\n\n<pre><code>public abstract class BaseDao : IBaseDao\n{\n    protected readonly IDocumentClient client;\n\n    protected BaseDao(IDocumentClient client)\n    {\n        this.client = client;\n    }\n\n    /// &lt;summary&gt;\n    /// Create Document in Database\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"databaseId\"&gt;database name&lt;/param&gt;\n    /// &lt;param name=\"collectionId\"&gt;collection name&lt;/param&gt;\n    /// &lt;param name=\"document\"&gt;document object&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    public virtual async Task&lt;string&gt; CreateAsync(string databaseId, string collectionId, JObject document)\n    {\n        Document response = await client.CreateDocumentAsync(UriFactory.CreateDocumentCollectionUri(databaseId, collectionId), document);\n        return response.Id;\n    }\n}\n</code></pre>\n\n<p>Create DAO/Repository class and inherit from base DAO.</p>\n\n<p>In my scenario, we are creating database based on <code>tenant</code> name i.e. google, microsoft etc. based on user (bill@microsoft.com) all query execute under one (microsoft) database.</p>\n"},{"tags":[],"owner":{"account_id":17250869,"reputation":114,"user_id":12491066,"display_name":"Theo van Kraay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680694690,"creation_date":1680694690,"answer_id":75938939,"question_id":60898820,"body_markdown":"From version **3.33.0** of the Spring Data Client Library for Azure Cosmos DB, you can now make your Spring Data Repository code dynamically reference and/or create different databases or containers in Azure Cosmos DB for each tenant, from the same application instance and the same client. To achieve this at database level, create a class which extends CosmosFactory:\r\n\r\n    public class MultiTenantDBCosmosFactory extends CosmosFactory {\r\n        private static final Logger logger = LoggerFactory.getLogger(MultiTenantDBCosmosFactory .class);\r\n        private CosmosAsyncClient client;\r\n        public String tenantId;\r\n    \r\n        public MultiTenantDBCosmosFactory (CosmosAsyncClient cosmosAsyncClient, String databaseName) {\r\n            super(cosmosAsyncClient, databaseName);\r\n            this.client = cosmosAsyncClient;\r\n            this.tenantId = databaseName;\r\n        }\r\n    \r\n        @Override\r\n        public String getDatabaseName() {\r\n            //have some logic here that will determine the tenant id in the current thread\r\n            //so you can set this.tenantId to be the current tenant\r\n            return this.tenantId;\r\n        }\r\n    }\r\n\r\nThen, in your configuration class, add your new MultiTenantDBCosmosFactory class as a bean:\r\n\r\n    @Bean \r\n     public MultiTenantDBCosmosFactory cosmosFactory(CosmosAsyncClient cosmosAsyncClient) {\r\n        return new MultiTenantDBCosmosFactory (cosmosAsyncClient, getDatabaseName());\r\n     }\r\n\r\nThe overridden `getDatabaseName()` will them be invoked polymorphically by every CRUD method you call on Spring Data `Repository`, so you will need to add some logic that will determine the tenant id in the current thread, and set that value to be returned. To do the same at container level instead, you would just override the `overrideContainerName()` method in CosmosFactory instead, and add similar logic.\r\n\r\nI&#39;ve written a blog, which goes into more detail on this, and has links to some extended samples, including how to capture request context (tenant) using `WebRequestInterceptor`. You can find the blog [here][1]. \r\n\r\n\r\n  [1]: https://devblogs.microsoft.com/cosmosdb/building-multi-tenant-java-apps-using-spring-data-and-azure-cosmos-db/","title":"Spring Data CosmosDB multi tenant CosmosDB Configuration","body":"<p>From version <strong>3.33.0</strong> of the Spring Data Client Library for Azure Cosmos DB, you can now make your Spring Data Repository code dynamically reference and/or create different databases or containers in Azure Cosmos DB for each tenant, from the same application instance and the same client. To achieve this at database level, create a class which extends CosmosFactory:</p>\n<pre><code>public class MultiTenantDBCosmosFactory extends CosmosFactory {\n    private static final Logger logger = LoggerFactory.getLogger(MultiTenantDBCosmosFactory .class);\n    private CosmosAsyncClient client;\n    public String tenantId;\n\n    public MultiTenantDBCosmosFactory (CosmosAsyncClient cosmosAsyncClient, String databaseName) {\n        super(cosmosAsyncClient, databaseName);\n        this.client = cosmosAsyncClient;\n        this.tenantId = databaseName;\n    }\n\n    @Override\n    public String getDatabaseName() {\n        //have some logic here that will determine the tenant id in the current thread\n        //so you can set this.tenantId to be the current tenant\n        return this.tenantId;\n    }\n}\n</code></pre>\n<p>Then, in your configuration class, add your new MultiTenantDBCosmosFactory class as a bean:</p>\n<pre><code>@Bean \n public MultiTenantDBCosmosFactory cosmosFactory(CosmosAsyncClient cosmosAsyncClient) {\n    return new MultiTenantDBCosmosFactory (cosmosAsyncClient, getDatabaseName());\n }\n</code></pre>\n<p>The overridden <code>getDatabaseName()</code> will them be invoked polymorphically by every CRUD method you call on Spring Data <code>Repository</code>, so you will need to add some logic that will determine the tenant id in the current thread, and set that value to be returned. To do the same at container level instead, you would just override the <code>overrideContainerName()</code> method in CosmosFactory instead, and add similar logic.</p>\n<p>I've written a blog, which goes into more detail on this, and has links to some extended samples, including how to capture request context (tenant) using <code>WebRequestInterceptor</code>. You can find the blog <a href=\"https://devblogs.microsoft.com/cosmosdb/building-multi-tenant-java-apps-using-spring-data-and-azure-cosmos-db/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":99559,"reputation":17675,"user_id":268850,"accept_rate":68,"display_name":"java_geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680694690,"creation_date":1585383495,"question_id":60898820,"body_markdown":"I am using CosmosDB in a multi-tenant application. Have a separate database for each tenant and the Collections for each tenant are in their own database.\r\n\r\nGiven that my application has to handle multiple tenants, I cannot have a single configuration for my repositories which has a pre-defined database. The database has to be dynamically configured based on the request context (tenant). How is it possible to achieve such a setup with Spring Data CosmosDB?\r\n\r\nHere&#39;s how the Repository Configuration is setup. As you can see, this has the database fixed through the application properties. In a real world scenario, the application has requests coming from different tenants; so will have to use different databases\r\n\r\n    @Configuration\r\n    @EnableCosmosRepositories\r\n    @Slf4j\r\n    public class UserRepositoryConfiguration extends AbstractCosmosConfiguration {\r\n    \r\n      @Autowired\r\n      private CosmosDBProperties properties;\r\n    \r\n      private CosmosKeyCredential cosmosKeyCredential;\r\n    \r\n          @Bean\r\n          @Primary\r\n          public CosmosDBConfig cosmosDbConfig() {\r\n            this.cosmosKeyCredential = new CosmosKeyCredential(properties.getKey());\r\n            CosmosDBConfig cosmosDBConfig = CosmosDBConfig.builder(properties.getUri(), cosmosKeyCredential,\r\n                properties.getDatabase()).build();\r\n            cosmosDBConfig.setPopulateQueryMetrics(properties.isPopulateQueryMetrics());\r\n            cosmosDBConfig.setResponseDiagnosticsProcessor(new ResponseDiagnosticsProcessorImplementation());\r\n            return cosmosDBConfig;\r\n          }\r\n        \r\n          public void switchToPrimaryKey() {\r\n            this.cosmosKeyCredential.key(properties.getKey());\r\n          }\r\n        \r\n          public void switchKey(String key) {\r\n            this.cosmosKeyCredential.key(key);\r\n          }\r\n        \r\n          private static class ResponseDiagnosticsProcessorImplementation implements ResponseDiagnosticsProcessor {\r\n        \r\n            @Override\r\n            public void processResponseDiagnostics(@Nullable ResponseDiagnostics responseDiagnostics) {\r\n              log.info(&quot;Response Diagnostics {}&quot;, responseDiagnostics);\r\n            }\r\n          }\r\n        }\r\n\r\n\r\n","title":"Spring Data CosmosDB multi tenant CosmosDB Configuration","body":"<p>I am using CosmosDB in a multi-tenant application. Have a separate database for each tenant and the Collections for each tenant are in their own database.</p>\n\n<p>Given that my application has to handle multiple tenants, I cannot have a single configuration for my repositories which has a pre-defined database. The database has to be dynamically configured based on the request context (tenant). How is it possible to achieve such a setup with Spring Data CosmosDB?</p>\n\n<p>Here's how the Repository Configuration is setup. As you can see, this has the database fixed through the application properties. In a real world scenario, the application has requests coming from different tenants; so will have to use different databases</p>\n\n<pre><code>@Configuration\n@EnableCosmosRepositories\n@Slf4j\npublic class UserRepositoryConfiguration extends AbstractCosmosConfiguration {\n\n  @Autowired\n  private CosmosDBProperties properties;\n\n  private CosmosKeyCredential cosmosKeyCredential;\n\n      @Bean\n      @Primary\n      public CosmosDBConfig cosmosDbConfig() {\n        this.cosmosKeyCredential = new CosmosKeyCredential(properties.getKey());\n        CosmosDBConfig cosmosDBConfig = CosmosDBConfig.builder(properties.getUri(), cosmosKeyCredential,\n            properties.getDatabase()).build();\n        cosmosDBConfig.setPopulateQueryMetrics(properties.isPopulateQueryMetrics());\n        cosmosDBConfig.setResponseDiagnosticsProcessor(new ResponseDiagnosticsProcessorImplementation());\n        return cosmosDBConfig;\n      }\n\n      public void switchToPrimaryKey() {\n        this.cosmosKeyCredential.key(properties.getKey());\n      }\n\n      public void switchKey(String key) {\n        this.cosmosKeyCredential.key(key);\n      }\n\n      private static class ResponseDiagnosticsProcessorImplementation implements ResponseDiagnosticsProcessor {\n\n        @Override\n        public void processResponseDiagnostics(@Nullable ResponseDiagnostics responseDiagnostics) {\n          log.info(\"Response Diagnostics {}\", responseDiagnostics);\n        }\n      }\n    }\n</code></pre>\n"},{"tags":["java","android","android-asynctask"],"comments":[{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1458553201,"post_id":36126762,"comment_id":59893971,"body_markdown":"this is url encoded data representing the word `` , just like space is encoded into `%20`, what is the problem?","body":"this is url encoded data representing the word <code></code> , just like space is encoded into <code>%20</code>, what is the problem?"},{"owner":{"account_id":7478417,"reputation":39,"user_id":5684030,"accept_rate":80,"display_name":"Mohamed Saber"},"score":0,"creation_date":1458553406,"post_id":36126762,"comment_id":59894110,"body_markdown":"yes i want to send it in url as  not as encoded data","body":"yes i want to send it in url as  not as encoded data"},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1458553518,"post_id":36126762,"comment_id":59894182,"body_markdown":"maybe you want to check this http://www.w3schools.com/tags/ref_urlencode.asp","body":"maybe you want to check this <a href=\"http://www.w3schools.com/tags/ref_urlencode.asp\" rel=\"nofollow noreferrer\">w3schools.com/tags/ref_urlencode.asp</a>"},{"owner":{"account_id":7478417,"reputation":39,"user_id":5684030,"accept_rate":80,"display_name":"Mohamed Saber"},"score":0,"creation_date":1458554442,"post_id":36126762,"comment_id":59894823,"body_markdown":"Thank you but still have the problem in decode the data","body":"Thank you but still have the problem in decode the data"},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1458554531,"post_id":36126762,"comment_id":59894881,"body_markdown":"you don&#39;t have to worry about the data on the sender side, what happens on the server side? when you read this param using server side code, what is the output of Decoding this param?","body":"you don&#39;t have to worry about the data on the sender side, what happens on the server side? when you read this param using server side code, what is the output of Decoding this param?"},{"owner":{"account_id":7478417,"reputation":39,"user_id":5684030,"accept_rate":80,"display_name":"Mohamed Saber"},"score":0,"creation_date":1458554737,"post_id":36126762,"comment_id":59895012,"body_markdown":"i use this\n\t\theader(&#39;Content-Type: application/json; charset=UTF-8&#39;);\nin the server side to back the data decoded but it return encoded data","body":"i use this \t\theader(&#39;Content-Type: application/json; charset=UTF-8&#39;); in the server side to back the data decoded but it return encoded data"},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1458555559,"post_id":36126762,"comment_id":59895548,"body_markdown":"why don&#39;t you post the server side snippet code related to reading the params?","body":"why don&#39;t you post the server side snippet code related to reading the params?"},{"owner":{"account_id":7478417,"reputation":39,"user_id":5684030,"accept_rate":80,"display_name":"Mohamed Saber"},"score":0,"creation_date":1458556175,"post_id":36126762,"comment_id":59895957,"body_markdown":"i write the server side code","body":"i write the server side code"}],"answers":[{"tags":[],"owner":{"account_id":2685066,"reputation":2603,"user_id":2319627,"accept_rate":75,"display_name":"Arun Shankar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1458553562,"creation_date":1458551978,"answer_id":36127026,"question_id":36126762,"body_markdown":"Try sending parameter using POST. Sample code is here:\r\n\r\n\r\n    private String sendHttpPost(String url, String msg)\r\n            throws Exception {\r\n    \r\n        HttpPost post = new HttpPost(url);\r\n    \r\n        StringEntity stringEntity = new StringEntity(msg, &quot;UTF-8&quot;);\r\n        post.setEntity(stringEntity);\r\n    \r\n    \r\n        return execute(post);\r\n    }\r\n\r\nor try this :\r\n\r\n    String unicodeUrl = URLEncoder.encode(url += &quot;?&quot; + paramString, &quot;UTF-8&quot;);\r\n    HttpPost post = new HttpPost(unicodeUrl);\r\n\r\n**UPDATE:**\r\n\r\nif your params =&quot;Some_String_In_Arabic&quot;, try this code :\r\n\r\n    DefaultHttpClient httpClient = new DefaultHttpClient();\r\n    //String paramString = URLEncodedUtils.format(params, HTTP.UTF_8);\r\n    \r\n    String unicodeUrl = URLEncoder.encode(url += &quot;?&quot; + params, &quot;UTF-8&quot;);\r\n    Log.d(&quot;URL&quot; , unicodeUrl);\r\n    HttpGet httpGet = new HttpGet(unicodeUrl);\r\n    \r\n    HttpResponse httpResponse = httpClient.execute(httpGet);\r\n    \r\n    HttpEntity httpEntity = httpResponse.getEntity();\r\n    is = httpEntity.getContent();\r\n\r\n\r\nand use urldecode method (of PHP) in your server side to get the string back in arabic form.","title":"send arabic words with http request GET android","body":"<p>Try sending parameter using POST. Sample code is here:</p>\n\n<pre><code>private String sendHttpPost(String url, String msg)\n        throws Exception {\n\n    HttpPost post = new HttpPost(url);\n\n    StringEntity stringEntity = new StringEntity(msg, \"UTF-8\");\n    post.setEntity(stringEntity);\n\n\n    return execute(post);\n}\n</code></pre>\n\n<p>or try this :</p>\n\n<pre><code>String unicodeUrl = URLEncoder.encode(url += \"?\" + paramString, \"UTF-8\");\nHttpPost post = new HttpPost(unicodeUrl);\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>if your params =\"Some_String_In_Arabic\", try this code :</p>\n\n<pre><code>DefaultHttpClient httpClient = new DefaultHttpClient();\n//String paramString = URLEncodedUtils.format(params, HTTP.UTF_8);\n\nString unicodeUrl = URLEncoder.encode(url += \"?\" + params, \"UTF-8\");\nLog.d(\"URL\" , unicodeUrl);\nHttpGet httpGet = new HttpGet(unicodeUrl);\n\nHttpResponse httpResponse = httpClient.execute(httpGet);\n\nHttpEntity httpEntity = httpResponse.getEntity();\nis = httpEntity.getContent();\n</code></pre>\n\n<p>and use urldecode method (of PHP) in your server side to get the string back in arabic form.</p>\n"},{"tags":[],"owner":{"account_id":23008759,"reputation":351,"user_id":17131562,"display_name":"Shahzeb Naqvi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680694544,"creation_date":1680694544,"answer_id":75938918,"question_id":36126762,"body_markdown":"\r\n\r\n      static Future GetSearch(searching, language) async {\r\n        try {\r\n          Map&lt;String, String&gt; headervalue = {\r\n            &quot;Content-Type&quot;: &quot;application/json&quot;,\r\n            //&#39;search&#39;: Uri.encodeFull(searching),\r\n            //&#39;search&#39;: searching,\r\n            &#39;search&#39;: &quot;${utf8.encode(searching)}&quot;,\r\n            &#39;language&#39;: language\r\n          };\r\n          var url1 = Uri.parse(\r\n              &quot;${BaseUrl.baseurl}/apikey&quot;);\r\n          var response = await http.get(url1, headers: headervalue);\r\n          print(&#39;search&#39; + searching); // print(response.body);\r\n          print(headervalue);\r\n          return response;\r\n        } catch (e) {\r\n          print(e);\r\n          // return onError(e, &quot;login/Users/login&quot;);\r\n        }\r\n      }\r\n\r\n\r\n\r\n\r\n&gt; &#39;search&#39;: &quot;${utf8.encode(searching)}&quot;, \r\n\r\nif your are getting \r\nFailed to read the &#39;headers&#39; property from &#39;RequestInit&#39;: String contains non ISO-8859-1 code point.\r\n\r\nif you are using search in multiple language if you use language other than english it gives an error of ISO so you have to encode this to client side and decode on server side to achieve the result","title":"send arabic words with http request GET android","body":"<pre><code>  static Future GetSearch(searching, language) async {\n    try {\n      Map&lt;String, String&gt; headervalue = {\n        &quot;Content-Type&quot;: &quot;application/json&quot;,\n        //'search': Uri.encodeFull(searching),\n        //'search': searching,\n        'search': &quot;${utf8.encode(searching)}&quot;,\n        'language': language\n      };\n      var url1 = Uri.parse(\n          &quot;${BaseUrl.baseurl}/apikey&quot;);\n      var response = await http.get(url1, headers: headervalue);\n      print('search' + searching); // print(response.body);\n      print(headervalue);\n      return response;\n    } catch (e) {\n      print(e);\n      // return onError(e, &quot;login/Users/login&quot;);\n    }\n  }\n</code></pre>\n<blockquote>\n<p>'search': &quot;${utf8.encode(searching)}&quot;,</p>\n</blockquote>\n<p>if your are getting\nFailed to read the 'headers' property from 'RequestInit': String contains non ISO-8859-1 code point.</p>\n<p>if you are using search in multiple language if you use language other than english it gives an error of ISO so you have to encode this to client side and decode on server side to achieve the result</p>\n"}],"owner":{"account_id":7478417,"reputation":39,"user_id":5684030,"accept_rate":80,"display_name":"Mohamed Saber"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2340,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36127026,"answer_count":2,"score":2,"last_activity_date":1680694544,"creation_date":1458551219,"question_id":36126762,"body_markdown":"i Want to send arabic (unicode) with the HTTP Request\r\n\r\nWhen using `URLEncodedUtils.format(params, HTTP.UTF_8);`\r\nit give `paramString` this value when the words are in arabic \r\n&quot;%D8%A7%D9%84%D9%82%D8%A7%D9%87%D8%B1%D9%87&quot;\r\n\r\nThis is my code:   \r\n\r\n    DefaultHttpClient httpClient = new DefaultHttpClient();\r\n    String paramString = URLEncodedUtils.format(params, HTTP.UTF_8);\r\n        \r\n    Log.d(&quot;Parser&quot; , paramString);\r\n    url += &quot;?&quot; + paramString;\r\n    Log.d(&quot;parser&quot; , url);\r\n    HttpGet httpGet = new HttpGet(url);\r\n        \r\n    HttpResponse httpResponse = httpClient.execute(httpGet);\r\n        \r\n    HttpEntity httpEntity = httpResponse.getEntity();\r\n    is = httpEntity.getContent();\r\nThe Server Code\r\n\r\n\r\n\r\n\r\n    function getShippingAddress($email)\r\n       {\r\n\t        \t$customerAddress = Mage::getModel(&#39;customer/address&#39;);\r\n\t\t        $customer = Mage::getModel(&#39;customer/customer&#39;);\r\n\t\t        $customer-&gt;setWebsiteId(Mage::app()-&gt;getWebsite()-&gt;getId());\r\n\t\t        $customer-&gt;loadByEmail($email);\r\n\t\t        $defaultShippingId = $customer-&gt;getDefaultShipping();\r\n\t            $customerAddress-&gt;load($defaultShippingId); \r\n\t\t        $response[&quot;success&quot;] = 1;\r\n\t\t        $response[&quot;data&quot;][0] = $customerAddress-&gt;getData(&#39;city&#39;);\r\n\t\t        $response[&quot;data&quot;][1] = $customerAddress-  &gt;getData(&#39;street&#39;);\r\n\t\t        $response[&quot;data&quot;][2] = $customerAddress-&gt;getData(&#39;telephone&#39;);\r\n\t\t    \r\n\t\t    \r\n\t\t    header(&#39;Content-Type: application/json; charset=utf-8&#39;);\r\n\t\t    return json_encode($response);\r\n    }\r\n\r\n","title":"send arabic words with http request GET android","body":"<p>i Want to send arabic (unicode) with the HTTP Request</p>\n\n<p>When using <code>URLEncodedUtils.format(params, HTTP.UTF_8);</code>\nit give <code>paramString</code> this value when the words are in arabic \n\"%D8%A7%D9%84%D9%82%D8%A7%D9%87%D8%B1%D9%87\"</p>\n\n<p>This is my code:   </p>\n\n<pre><code>DefaultHttpClient httpClient = new DefaultHttpClient();\nString paramString = URLEncodedUtils.format(params, HTTP.UTF_8);\n\nLog.d(\"Parser\" , paramString);\nurl += \"?\" + paramString;\nLog.d(\"parser\" , url);\nHttpGet httpGet = new HttpGet(url);\n\nHttpResponse httpResponse = httpClient.execute(httpGet);\n\nHttpEntity httpEntity = httpResponse.getEntity();\nis = httpEntity.getContent();\n</code></pre>\n\n<p>The Server Code</p>\n\n<pre><code>function getShippingAddress($email)\n   {\n            $customerAddress = Mage::getModel('customer/address');\n            $customer = Mage::getModel('customer/customer');\n            $customer-&gt;setWebsiteId(Mage::app()-&gt;getWebsite()-&gt;getId());\n            $customer-&gt;loadByEmail($email);\n            $defaultShippingId = $customer-&gt;getDefaultShipping();\n            $customerAddress-&gt;load($defaultShippingId); \n            $response[\"success\"] = 1;\n            $response[\"data\"][0] = $customerAddress-&gt;getData('city');\n            $response[\"data\"][1] = $customerAddress-  &gt;getData('street');\n            $response[\"data\"][2] = $customerAddress-&gt;getData('telephone');\n\n\n        header('Content-Type: application/json; charset=utf-8');\n        return json_encode($response);\n}\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-gmf"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1680680471,"post_id":75936637,"comment_id":133937262,"body_markdown":"Sure, your `ExampleClass` has no static `initDefaults()` method, so compilation would fail. There is no inheritance for static methods.","body":"Sure, your <code>ExampleClass</code> has no static <code>initDefaults()</code> method, so compilation would fail. There is no inheritance for static methods."},{"owner":{"account_id":3451522,"reputation":23,"user_id":2891104,"display_name":"manohar_b"},"score":0,"creation_date":1680680806,"post_id":75936637,"comment_id":133937326,"body_markdown":"I have other project with the same setup explained. There &#39;CustomSubclass.initDefaults();&#39; statement works and is not corrected to use Parent class(Parent.initDefaults();) but not with my case.","body":"I have other project with the same setup explained. There &#39;CustomSubclass.initDefaults();&#39; statement works and is not corrected to use Parent class(Parent.initDefaults();) but not with my case."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1680689235,"post_id":75936637,"comment_id":133939339,"body_markdown":"The compilation would not fail, but it&#39;s a code smell. Eclipse provides for this the warning/error _Indirect access to static member_ which is disabled by default and the clean-up (which also can be run as so-called _Save Action_) _Member Accesses &gt; Static Access_ which is enabled by default. Project specific settings can override these defaults.","body":"The compilation would not fail, but it&#39;s a code smell. Eclipse provides for this the warning/error <i>Indirect access to static member</i> which is disabled by default and the clean-up (which also can be run as so-called <i>Save Action</i>) <i>Member Accesses &gt; Static Access</i> which is enabled by default. Project specific settings can override these defaults."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1680689313,"post_id":75936637,"comment_id":133939360,"body_markdown":"@GyroGearless The compilation would not fail (see my comment above).","body":"@GyroGearless The compilation would not fail (see my comment above)."},{"owner":{"account_id":3451522,"reputation":23,"user_id":2891104,"display_name":"manohar_b"},"score":0,"creation_date":1680691636,"post_id":75936637,"comment_id":133939876,"body_markdown":"@howlger You are right. It is the project specific settings for the **Save Action** configuration. Thanks a lot for your help.","body":"@howlger You are right. It is the project specific settings for the <b>Save Action</b> configuration. Thanks a lot for your help."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680694499,"creation_date":1680694499,"answer_id":75938911,"question_id":75936637,"body_markdown":"Eclipse provides for this **code smell** (the compilation would not fail, but it&#39;s harder to read, a bit slower and there is no real benefit since static methods cannot be overridden):\r\n\r\n - the **warning/error *Indirect access to static member which*** is disabled by default and\r\n - the **clean-up or/and save action *Member Accesses &gt; Static Access*** which is enabled by default.\r\n\r\nThese defaults **can be overridden by** the following **project specific settings** (tick the *Enable project specific setting* checkbox):\r\n - Warning/error: ***Project &gt; Properties: Java Compiler &gt; Errors/Warnings***\r\n - Clean up: ***Project &gt; Properties: Java Code Style &gt; Clean Up***\r\n - Save action: ***Project &gt; Properties: Java Editor &gt; Save Actions***","title":"Eclipse automatically imports superclass for a subclass statement","body":"<p>Eclipse provides for this <strong>code smell</strong> (the compilation would not fail, but it's harder to read, a bit slower and there is no real benefit since static methods cannot be overridden):</p>\n<ul>\n<li>the <strong>warning/error <em>Indirect access to static member which</em></strong> is disabled by default and</li>\n<li>the <strong>clean-up or/and save action <em>Member Accesses &gt; Static Access</em></strong> which is enabled by default.</li>\n</ul>\n<p>These defaults <strong>can be overridden by</strong> the following <strong>project specific settings</strong> (tick the <em>Enable project specific setting</em> checkbox):</p>\n<ul>\n<li>Warning/error: <em><strong>Project &gt; Properties: Java Compiler &gt; Errors/Warnings</strong></em></li>\n<li>Clean up: <em><strong>Project &gt; Properties: Java Code Style &gt; Clean Up</strong></em></li>\n<li>Save action: <em><strong>Project &gt; Properties: Java Editor &gt; Save Actions</strong></em></li>\n</ul>\n"}],"owner":{"account_id":3451522,"reputation":23,"user_id":2891104,"display_name":"manohar_b"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75938911,"answer_count":1,"score":0,"last_activity_date":1680694499,"creation_date":1680679091,"question_id":75936637,"body_markdown":"I have a Parent class(from GMF to be specific) with static initializer method initDefaults\r\n\r\n```\r\npublic Class Parent{\r\n\r\n  public static initDefaults(){\r\n   ...\r\n  }\r\n}\r\n```\r\n\r\nI have a custom child class that extends the Parent class\r\n```\r\npublic Class CustomSubclass extends Parent{\r\n  \r\n  public CustomSubclass(){\r\n   super();\r\n   ..\r\n  }\r\n\r\n}\r\n```\r\n\r\nIn my calling class I am calling `initDefaults` method with the CustomSubclass name i.e., \r\n`CustomSubclass.initDefaults()` but eclipse automatically corrects this and types `Parent.initDefaults()`. \r\n```\r\npublic Class ExampleClass{\r\n\r\n  public void initializer(){\r\n    // CustomSubclass.initDefaults(); this is what I typed\r\n    Parent.initDefaults(); // this is what eclipse corrected\r\n    ...\r\n  }\r\n}\r\n```\r\nBoth `ExampleClass` and `CustomSubclass` reside under same package while `Parent` is from GMF as dependency.\r\n\r\nWhy is this happening? I have other plugin project with the same setup and there this is not the case and the `CustomSubclass` name is retained as it is. But I did not implement the other plugin project.\r\n\r\n\r\n\r\nWhenever I am typing the subclass name with superclass method, the superclass is automatically imported and eclipse corrects the subclass name with the superclass name.","title":"Eclipse automatically imports superclass for a subclass statement","body":"<p>I have a Parent class(from GMF to be specific) with static initializer method initDefaults</p>\n<pre><code>public Class Parent{\n\n  public static initDefaults(){\n   ...\n  }\n}\n</code></pre>\n<p>I have a custom child class that extends the Parent class</p>\n<pre><code>public Class CustomSubclass extends Parent{\n  \n  public CustomSubclass(){\n   super();\n   ..\n  }\n\n}\n</code></pre>\n<p>In my calling class I am calling <code>initDefaults</code> method with the CustomSubclass name i.e.,\n<code>CustomSubclass.initDefaults()</code> but eclipse automatically corrects this and types <code>Parent.initDefaults()</code>.</p>\n<pre><code>public Class ExampleClass{\n\n  public void initializer(){\n    // CustomSubclass.initDefaults(); this is what I typed\n    Parent.initDefaults(); // this is what eclipse corrected\n    ...\n  }\n}\n</code></pre>\n<p>Both <code>ExampleClass</code> and <code>CustomSubclass</code> reside under same package while <code>Parent</code> is from GMF as dependency.</p>\n<p>Why is this happening? I have other plugin project with the same setup and there this is not the case and the <code>CustomSubclass</code> name is retained as it is. But I did not implement the other plugin project.</p>\n<p>Whenever I am typing the subclass name with superclass method, the superclass is automatically imported and eclipse corrects the subclass name with the superclass name.</p>\n"},{"tags":["java","spring","swagger","swagger-3.0","wordnik"],"owner":{"account_id":28222059,"reputation":21,"user_id":21572636,"display_name":"RoboRed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680694351,"creation_date":1680694351,"question_id":75938889,"body_markdown":"Working on some legacy code. So I&#39;m trying to upgrade from wordnik libary to swagger v3.\r\n\r\n\r\n\r\n&lt;bean id=&quot;swaggerResourceJSON&quot; class=&quot;com.wordnik.swagger.jaxrs.listing.ApiListingResourceJSON&quot;/&gt;\r\n\r\n    &lt;!-- Swagger writers --&gt;\r\n    &lt;bean id=&quot;resourceWriter&quot; class=&quot;com.wordnik.swagger.jaxrs.listing.ResourceListingProvider&quot;/&gt;\r\n    &lt;bean id=&quot;apiWriter&quot; class=&quot;com.wordnik.swagger.jaxrs.listing.ApiDeclarationProvider&quot;/&gt;\r\n\r\n    &lt;jaxrs:server address=&quot;/swagger&quot; id=&quot;swagger&quot;&gt;\r\n        &lt;jaxrs:serviceBeans&gt;\r\n            &lt;ref bean=&quot;swaggerResourceJSON&quot;/&gt;\r\n        &lt;/jaxrs:serviceBeans&gt;\r\n        &lt;jaxrs:providers&gt;\r\n            &lt;ref bean=&quot;resourceWriter&quot;/&gt;\r\n            &lt;ref bean=&quot;apiWriter&quot;/&gt;\r\n        &lt;/jaxrs:providers&gt;\r\n    &lt;/jaxrs:server&gt;\r\n\r\n    &lt;bean id=&quot;swaggerConfig&quot; class=&quot;com.wordnik.swagger.jaxrs.config.BeanConfig&quot;&gt;\r\n        &lt;property name=&quot;resourcePackage&quot; value=&quot;com.foo.fooo&quot;/&gt;\r\n        &lt;property name=&quot;basePath&quot; value=&quot;/foo/V3/&quot;/&gt;\r\n        &lt;property name=&quot;title&quot; value=&quot;Foo service integration&quot;/&gt;\r\n        &lt;property name=&quot;scan&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nSo setup for looks something like this, in XML file.\r\nMy question, what alternatives for &quot;resourceWriter&quot;, &quot;apiWriter&quot; and &quot;swaggerConfig&quot; in this case.\r\nBecause it is old code it was not done in Spring boot, but regular Spring.\r\n\r\nDon&#39;t seems to find alternatives in v3 of Swagger for this classes.\r\n\r\nSorry for my bad english\r\n\r\nUpgrade Swagger version","title":"Migrating from Swagger 1 to version 3","body":"<p>Working on some legacy code. So I'm trying to upgrade from wordnik libary to swagger v3.</p>\n\n<pre><code>&lt;!-- Swagger writers --&gt;\n&lt;bean id=&quot;resourceWriter&quot; class=&quot;com.wordnik.swagger.jaxrs.listing.ResourceListingProvider&quot;/&gt;\n&lt;bean id=&quot;apiWriter&quot; class=&quot;com.wordnik.swagger.jaxrs.listing.ApiDeclarationProvider&quot;/&gt;\n\n&lt;jaxrs:server address=&quot;/swagger&quot; id=&quot;swagger&quot;&gt;\n    &lt;jaxrs:serviceBeans&gt;\n        &lt;ref bean=&quot;swaggerResourceJSON&quot;/&gt;\n    &lt;/jaxrs:serviceBeans&gt;\n    &lt;jaxrs:providers&gt;\n        &lt;ref bean=&quot;resourceWriter&quot;/&gt;\n        &lt;ref bean=&quot;apiWriter&quot;/&gt;\n    &lt;/jaxrs:providers&gt;\n&lt;/jaxrs:server&gt;\n\n&lt;bean id=&quot;swaggerConfig&quot; class=&quot;com.wordnik.swagger.jaxrs.config.BeanConfig&quot;&gt;\n    &lt;property name=&quot;resourcePackage&quot; value=&quot;com.foo.fooo&quot;/&gt;\n    &lt;property name=&quot;basePath&quot; value=&quot;/foo/V3/&quot;/&gt;\n    &lt;property name=&quot;title&quot; value=&quot;Foo service integration&quot;/&gt;\n    &lt;property name=&quot;scan&quot; value=&quot;true&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>So setup for looks something like this, in XML file.\nMy question, what alternatives for &quot;resourceWriter&quot;, &quot;apiWriter&quot; and &quot;swaggerConfig&quot; in this case.\nBecause it is old code it was not done in Spring boot, but regular Spring.</p>\n<p>Don't seems to find alternatives in v3 of Swagger for this classes.</p>\n<p>Sorry for my bad english</p>\n<p>Upgrade Swagger version</p>\n"},{"tags":["java","spring-boot","kubernetes","microservices","kubernetes-ingress"],"comments":[{"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"score":0,"creation_date":1586381189,"post_id":61110127,"comment_id":108111807,"body_markdown":"Any reason someone downvoted the question without even bothering to add a comment ?","body":"Any reason someone downvoted the question without even bothering to add a comment ?"},{"owner":{"account_id":12578470,"reputation":366,"user_id":9150059,"display_name":"Nitb"},"score":0,"creation_date":1591968478,"post_id":61110127,"comment_id":110263224,"body_markdown":"Why not setup a virtual network and allow certain subdomains to communicate to each other using Endpoint IP address. E.g In Azure world, create vnet and vnet gateway for each kubernates cluster and then create a Connection between them. We have done that on GCP and Azure. Worked beautifully.","body":"Why not setup a virtual network and allow certain subdomains to communicate to each other using Endpoint IP address. E.g In Azure world, create vnet and vnet gateway for each kubernates cluster and then create a Connection between them. We have done that on GCP and Azure. Worked beautifully."}],"answers":[{"tags":[],"owner":{"account_id":2063414,"reputation":41809,"user_id":1839482,"accept_rate":19,"display_name":"Arghya Sadhu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586402760,"creation_date":1586402760,"answer_id":61113453,"question_id":61110127,"body_markdown":"Use ingress for inter cluster communication and use cluster ip type service for intra cluster communication between two micro services.","title":"Best way for inter-cluster communication between microservices on Kubernetes?","body":"<p>Use ingress for inter cluster communication and use cluster ip type service for intra cluster communication between two micro services.</p>\n"},{"tags":[],"owner":{"account_id":16473399,"reputation":3715,"user_id":11901958,"display_name":"Mr.KoopaKiller"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1680694054,"creation_date":1586423164,"answer_id":61117579,"question_id":61110127,"body_markdown":"\r\nYou can expose you application using services, there are some kind of services you can use:\r\n\r\n&gt;-   `ClusterIP`: Exposes the Service on a cluster-internal IP. Choosing this value makes the Service only reachable from within the cluster. This is the default  `ServiceType`.\r\n&gt;\r\n&gt;-   [`NodePort`](https://kubernetes.io/docs/concepts/services-networking/service/#nodeport): Exposes the Service on each Nodes IP at a static port (the  `NodePort`). A  `ClusterIP`  Service, to which the  `NodePort`  Service routes, is automatically created. Youll be able to contact the  `NodePort`  Service, from outside the cluster, by requesting  `&lt;NodeIP&gt;:&lt;NodePort&gt;`.\r\n&gt;\r\n&gt;-   [`LoadBalancer`](https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer): Exposes the Service externally using a cloud providers load balancer.  `NodePort`  and  `ClusterIP`  Services, to which the external load balancer routes, are automatically created.\r\n&gt;-   [`ExternalName`](https://kubernetes.io/docs/concepts/services-networking/service/#externalname): Maps the Service to the contents of the  `externalName`  field (e.g.  `foo.bar.example.com`), by returning a  `CNAME`  record\r\n\r\nFor **internal communication** you  an use service type `ClusterIP`, and you could configure the service dns for your applications instead an IP. \r\nI.e.: a service called `my-app-1` could be reach internnaly using the dns `http://my-app-1` or with fqdn `http://my-app-1.&lt;namespace&gt;.svc.cluster.local`.\r\n\r\nFor **external communication**, you can use `NodePort` or `LoadBalancer`.\r\n\r\n`NodePort` is good when you have few nodes and know the ip of all of them. And yes, by the [service docs](https://kubernetes.io/docs/concepts/services-networking/service/#nodeport) you can specify a specific port number:\r\n\r\n&gt;If you want a specific port number, you can specify a value in the `nodePort` field. The control plane will either allocate you that port or report that the API transaction failed. This means that you need to take care of possible port collisions yourself. You also have to use a valid port number, one thats inside the range configured for NodePort use.\r\n\r\n`LoadBalancer` give you more flexibility, because you don&#39;t need to know all node ips, you just must to know the service IP and port. But `LoadBalancer` is only supported in cloudproviders, if you wan to implement in bare-metal cluster, I recomend you take a look in [MetalLB](https://metallb.universe.tf/).\r\n\r\nFinally, there is another option that is use `ingress`, in my point of view is the best way to expose HTTP applications externally, because you can create rules by path and host, and it gives you much more flexibility than services. But **only** HTTP/HTTPS is supported, if you need TCP then go to Services.\r\n\r\nI&#39;d recommend you take a look in these links to understand in deep how services and ingress works:\r\n\r\n[Kubernetes Services](https://kubernetes.io/docs/concepts/services-networking/service/)\r\n\r\n[Kubernetes Ingress](https://kubernetes.io/docs/concepts/services-networking/ingress/)\r\n\r\n[NGINX Ingress](https://kubernetes.github.io/ingress-nginx/)","title":"Best way for inter-cluster communication between microservices on Kubernetes?","body":"<p>You can expose you application using services, there are some kind of services you can use:</p>\n<blockquote>\n<ul>\n<li><p><code>ClusterIP</code>: Exposes the Service on a cluster-internal IP. Choosing this value makes the Service only reachable from within the cluster. This is the default  <code>ServiceType</code>.</p>\n</li>\n<li><p><a href=\"https://kubernetes.io/docs/concepts/services-networking/service/#nodeport\" rel=\"nofollow noreferrer\"><code>NodePort</code></a>: Exposes the Service on each Nodes IP at a static port (the  <code>NodePort</code>). A  <code>ClusterIP</code>  Service, to which the  <code>NodePort</code>  Service routes, is automatically created. Youll be able to contact the  <code>NodePort</code>  Service, from outside the cluster, by requesting  <code>&lt;NodeIP&gt;:&lt;NodePort&gt;</code>.</p>\n</li>\n<li><p><a href=\"https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer\" rel=\"nofollow noreferrer\"><code>LoadBalancer</code></a>: Exposes the Service externally using a cloud providers load balancer.  <code>NodePort</code>  and  <code>ClusterIP</code>  Services, to which the external load balancer routes, are automatically created.</p>\n</li>\n<li><p><a href=\"https://kubernetes.io/docs/concepts/services-networking/service/#externalname\" rel=\"nofollow noreferrer\"><code>ExternalName</code></a>: Maps the Service to the contents of the  <code>externalName</code>  field (e.g.  <code>foo.bar.example.com</code>), by returning a  <code>CNAME</code>  record</p>\n</li>\n</ul>\n</blockquote>\n<p>For <strong>internal communication</strong> you  an use service type <code>ClusterIP</code>, and you could configure the service dns for your applications instead an IP.\nI.e.: a service called <code>my-app-1</code> could be reach internnaly using the dns <code>http://my-app-1</code> or with fqdn <code>http://my-app-1.&lt;namespace&gt;.svc.cluster.local</code>.</p>\n<p>For <strong>external communication</strong>, you can use <code>NodePort</code> or <code>LoadBalancer</code>.</p>\n<p><code>NodePort</code> is good when you have few nodes and know the ip of all of them. And yes, by the <a href=\"https://kubernetes.io/docs/concepts/services-networking/service/#nodeport\" rel=\"nofollow noreferrer\">service docs</a> you can specify a specific port number:</p>\n<blockquote>\n<p>If you want a specific port number, you can specify a value in the <code>nodePort</code> field. The control plane will either allocate you that port or report that the API transaction failed. This means that you need to take care of possible port collisions yourself. You also have to use a valid port number, one thats inside the range configured for NodePort use.</p>\n</blockquote>\n<p><code>LoadBalancer</code> give you more flexibility, because you don't need to know all node ips, you just must to know the service IP and port. But <code>LoadBalancer</code> is only supported in cloudproviders, if you wan to implement in bare-metal cluster, I recomend you take a look in <a href=\"https://metallb.universe.tf/\" rel=\"nofollow noreferrer\">MetalLB</a>.</p>\n<p>Finally, there is another option that is use <code>ingress</code>, in my point of view is the best way to expose HTTP applications externally, because you can create rules by path and host, and it gives you much more flexibility than services. But <strong>only</strong> HTTP/HTTPS is supported, if you need TCP then go to Services.</p>\n<p>I'd recommend you take a look in these links to understand in deep how services and ingress works:</p>\n<p><a href=\"https://kubernetes.io/docs/concepts/services-networking/service/\" rel=\"nofollow noreferrer\">Kubernetes Services</a></p>\n<p><a href=\"https://kubernetes.io/docs/concepts/services-networking/ingress/\" rel=\"nofollow noreferrer\">Kubernetes Ingress</a></p>\n<p><a href=\"https://kubernetes.github.io/ingress-nginx/\" rel=\"nofollow noreferrer\">NGINX Ingress</a></p>\n"},{"tags":[],"owner":{"account_id":13182676,"reputation":8648,"user_id":9521610,"display_name":"VAS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586964430,"creation_date":1586964430,"answer_id":61232519,"question_id":61110127,"body_markdown":"Your design is pretty close to **Istio Multicluster** example. \r\n\r\nBy following the steps in the [Istio multicluster lab][1] you&#39;ll get two clusters with one Istio control plane that balance the traffic between two ClusterIP Services located in two independent Kubernetes clusters. \r\n\r\nThe lab&#39;s [configuration][3] watches the traffic load, but rewriting the Controller Pod code you can configure it to switch the traffic to the Second Cluster if the Cluster One&#39;s Service has no endpoints ( all pods of the certain type are not in Ready state). \r\n\r\n\r\nIt&#39;s just an example, you can change `istiowatcher.go` [code][2] to implement any logic you want. \r\n\r\n---\r\n\r\nThere is [more advanced solution][4] using **Admiral** as an Istio Multicluster management automation tool.\r\n\r\n&gt;Admiral provides automatic configuration for an Istio mesh spanning multiple clusters to work as a single mesh based on a unique service identifier that associates workloads running on multiple clusters to a service. It also provides automatic provisioning and syncing of Istio configuration across clusters. This removes the burden on developers and mesh operators, which helps scale beyond a few clusters.\r\n\r\nThis solution solves these key requirements for modern Kubernetes infrastructure:\r\n\r\n- Creation of service DNS entries decoupled from the namespace, as described in Features of multi-mesh deployments.\r\n- Service discovery across many clusters.\r\n- Supporting active-active &amp; HA/DR deployments. We also had to support these crucial resiliency patterns with services being deployed in globally unique namespaces across discrete clusters.\r\n\r\nThis solution may become very useful in a full scale.\r\n\r\n[1]: https://codelabs.developers.google.com/codelabs/istio-multi-burst/#0\r\n[2]: https://codelabs.developers.google.com/codelabs/istio-multi-burst/#16\r\n[3]: https://codelabs.developers.google.com/codelabs/istio-multi-burst/#7\r\n[4]: https://istio.io/blog/2020/multi-cluster-mesh-automation/","title":"Best way for inter-cluster communication between microservices on Kubernetes?","body":"<p>Your design is pretty close to <strong>Istio Multicluster</strong> example. </p>\n\n<p>By following the steps in the <a href=\"https://codelabs.developers.google.com/codelabs/istio-multi-burst/#0\" rel=\"nofollow noreferrer\">Istio multicluster lab</a> you'll get two clusters with one Istio control plane that balance the traffic between two ClusterIP Services located in two independent Kubernetes clusters. </p>\n\n<p>The lab's <a href=\"https://codelabs.developers.google.com/codelabs/istio-multi-burst/#7\" rel=\"nofollow noreferrer\">configuration</a> watches the traffic load, but rewriting the Controller Pod code you can configure it to switch the traffic to the Second Cluster if the Cluster One's Service has no endpoints ( all pods of the certain type are not in Ready state). </p>\n\n<p>It's just an example, you can change <code>istiowatcher.go</code> <a href=\"https://codelabs.developers.google.com/codelabs/istio-multi-burst/#16\" rel=\"nofollow noreferrer\">code</a> to implement any logic you want. </p>\n\n<hr>\n\n<p>There is <a href=\"https://istio.io/blog/2020/multi-cluster-mesh-automation/\" rel=\"nofollow noreferrer\">more advanced solution</a> using <strong>Admiral</strong> as an Istio Multicluster management automation tool.</p>\n\n<blockquote>\n  <p>Admiral provides automatic configuration for an Istio mesh spanning multiple clusters to work as a single mesh based on a unique service identifier that associates workloads running on multiple clusters to a service. It also provides automatic provisioning and syncing of Istio configuration across clusters. This removes the burden on developers and mesh operators, which helps scale beyond a few clusters.</p>\n</blockquote>\n\n<p>This solution solves these key requirements for modern Kubernetes infrastructure:</p>\n\n<ul>\n<li>Creation of service DNS entries decoupled from the namespace, as described in Features of multi-mesh deployments.</li>\n<li>Service discovery across many clusters.</li>\n<li>Supporting active-active &amp; HA/DR deployments. We also had to support these crucial resiliency patterns with services being deployed in globally unique namespaces across discrete clusters.</li>\n</ul>\n\n<p>This solution may become very useful in a full scale.</p>\n"}],"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8190,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":61117579,"answer_count":3,"score":8,"last_activity_date":1680694054,"creation_date":1586380411,"question_id":61110127,"body_markdown":"I am new to microservices and want to understand what is the best way I can implement below behaviour in microservices deployed on Kubernetes :\r\n\r\nThere are 2 different K8s clusters. Microservice B is deployed on both the clusters.\r\n\r\nNow if a Microservice A calls Microservice B and Bs pods are not available in cluster 1, then the call should go to B of cluster 2.\r\n\r\nI could have imagined to implement this functionality by using Netflix OSS but here I am not using it.\r\n\r\nAlso, keeping aside the inter-cluster communication aside for a second, how should I communicate between microservices ?\r\n\r\nOne way that I know is to create Kubernetes Service of type NodePort for each microservice and use the IP and the nodePort in the calling microservice.\r\n\r\nQuestion : What if someone deletes the target microservice&#39;s K8s Service? A new nodePort will be randomly assigned by K8s while recreating the K8s service and then again I will have to go back to my calling microservice and change the nodePort of the target microservice. How can I decouple from the nodePort?\r\n\r\nI researched about kubedns but seems like it only works within a cluster.\r\n\r\nI have very limited knowledge about Istio and Kubernetes Ingress. Does any one of these provide something what I am looking for ?\r\n\r\n\r\nSorry for a long question. Any sort of guidance will be very helpful.","title":"Best way for inter-cluster communication between microservices on Kubernetes?","body":"<p>I am new to microservices and want to understand what is the best way I can implement below behaviour in microservices deployed on Kubernetes :</p>\n\n<p>There are 2 different K8s clusters. Microservice B is deployed on both the clusters.</p>\n\n<p>Now if a Microservice A calls Microservice B and Bs pods are not available in cluster 1, then the call should go to B of cluster 2.</p>\n\n<p>I could have imagined to implement this functionality by using Netflix OSS but here I am not using it.</p>\n\n<p>Also, keeping aside the inter-cluster communication aside for a second, how should I communicate between microservices ?</p>\n\n<p>One way that I know is to create Kubernetes Service of type NodePort for each microservice and use the IP and the nodePort in the calling microservice.</p>\n\n<p>Question : What if someone deletes the target microservice's K8s Service? A new nodePort will be randomly assigned by K8s while recreating the K8s service and then again I will have to go back to my calling microservice and change the nodePort of the target microservice. How can I decouple from the nodePort?</p>\n\n<p>I researched about kubedns but seems like it only works within a cluster.</p>\n\n<p>I have very limited knowledge about Istio and Kubernetes Ingress. Does any one of these provide something what I am looking for ?</p>\n\n<p>Sorry for a long question. Any sort of guidance will be very helpful.</p>\n"},{"tags":["java","oracle","plsql","ddl"],"comments":[{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1491172879,"post_id":43173752,"comment_id":73422589,"body_markdown":"In 11gR2 (1.5.0_51) it doesn&#39;t seem to like the `final String`, although the full error message doesn&#39;t list plain `String` as expected either, it seems to compile OK with just that `final` keyword removed. I can&#39;t test in 12c right now, is it also the case for you?","body":"In 11gR2 (1.5.0_51) it doesn&#39;t seem to like the <code>final String</code>, although the full error message doesn&#39;t list plain <code>String</code> as expected either, it seems to compile OK with just that <code>final</code> keyword removed. I can&#39;t test in 12c right now, is it also the case for you?"},{"owner":{"account_id":2291339,"reputation":2450,"user_id":2014053,"accept_rate":100,"display_name":"alexgibbs"},"score":0,"creation_date":1491176035,"post_id":43173752,"comment_id":73423191,"body_markdown":"Thanks @AlexPoole That is interesting. Though the removal of any final keyword makes me sad, that could be a workable compromise. I&#39;m away from my machine for a couple hours, but I&#39;ll follow up with whether 12c sees it the same as 11g.","body":"Thanks @AlexPoole That is interesting. Though the removal of any final keyword makes me sad, that could be a workable compromise. I&#39;m away from my machine for a couple hours, but I&#39;ll follow up with whether 12c sees it the same as 11g."},{"owner":{"account_id":2291339,"reputation":2450,"user_id":2014053,"accept_rate":100,"display_name":"alexgibbs"},"score":0,"creation_date":1491191693,"post_id":43173752,"comment_id":73426159,"body_markdown":"@AlexPoole Sure enough, the only change required for this to load successfully in 12c as well is dropping the `final` modifier in the loop.  Though I&#39;m admittedly a bit bewildered at `final` causing the trouble and I&#39;d be interested background on why `final` isn&#39;t supported here, that clears this hurdle away.  I would accept that as an answer to proximal cause and a viable path forward.  Thanks for taking a look.","body":"@AlexPoole Sure enough, the only change required for this to load successfully in 12c as well is dropping the <code>final</code> modifier in the loop.  Though I&#39;m admittedly a bit bewildered at <code>final</code> causing the trouble and I&#39;d be interested background on why <code>final</code> isn&#39;t supported here, that clears this hurdle away.  I would accept that as an answer to proximal cause and a viable path forward.  Thanks for taking a look."},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1491230681,"post_id":43173752,"comment_id":73448423,"body_markdown":"I haven&#39;t figured out why this is needed though, or been able to find anything that looks relevant on MoS.","body":"I haven&#39;t figured out why this is needed though, or been able to find anything that looks relevant on MoS."}],"answers":[{"tags":[],"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1491231342,"creation_date":1491231342,"answer_id":43187904,"question_id":43173752,"body_markdown":"Oracle seems to be doing some strange pre-processing on the Java code that is flagging the `final String string` in the for-each loop as a problem. The error isn&#39;t coming from the Java compiler - as you&#39;d expect, since this is valid. I can&#39;t see anything about this issue, including on My Oracle Support.\r\n\r\nIt isn&#39;t, as @JonHeller noted in an edit comment, anything to do with the string concatenation, but also isn&#39;t anything to do with dynamic SQL - in 11gR2 anyway I still see the same ORA-29536 error if I just run the DDL directly from a SQL prompt, using your second code block.\r\n\r\n    CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED &quot;LoopingTest&quot; AS \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public final class LoopingTest {\r\n        public static String greet(final String userName) {\r\n            final List&lt;String&gt; emptyList = Arrays.asList(userName);\r\n            for (final String string : emptyList) {\r\n                System.out.println(string);\r\n            }\r\n            return &quot;Hello &quot; + userName;\r\n        }\r\n    }\r\n    /\r\n    \r\n    Error report -\r\n    ORA-29536: badly formed source: Encountered &quot;final String string :&quot; at line 7, column 14.\r\n    Was expecting one of:\r\n        &quot;boolean&quot; ...\r\n    ...\r\n\r\nAs a workaround you can just remove the `final` keyword:\r\n\r\n    CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED &quot;LoopingTest&quot; AS \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public final class LoopingTest {\r\n        public static String greet(final String userName) {\r\n            final List&lt;String&gt; emptyList = Arrays.asList(userName);\r\n            // remove &#39;final&#39; to avoid ORA-29536\r\n            // for (final String string : emptyList) {\r\n            for (String string : emptyList) {\r\n                System.out.println(string);\r\n            }\r\n            return &quot;Hello &quot; + userName;\r\n        }\r\n    }\r\n    /\r\n    \r\n    Java source LoopingTest compiled\r\n\r\nOr in your original PL/SQL code:\r\n\r\n    DECLARE\r\n      V_SQL_TEXT CLOB := &#39; &#39; ||\r\n                         &#39;CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED &quot;LoopingTest&quot; AS &#39; ||\r\n                         &#39;import java.util.Arrays; &#39; ||\r\n                         &#39;import java.util.List; &#39; ||\r\n                         &#39; &#39; ||\r\n                         &#39;public final class LoopingTest { &#39; ||\r\n                         &#39;public static String greet(final String userName){ &#39; ||\r\n                         &#39;final List&lt;String&gt; emptyList = Arrays.asList(userName); &#39; ||\r\n                         -- remove &#39;final&#39; to avoid ORA-29536\r\n                         -- &#39;for (final String string : emptyList){ &#39; ||\r\n                         &#39;for (String string : emptyList){ &#39; ||\r\n                         &#39;System.out.println(string); &#39; ||\r\n                         &#39;} &#39; ||\r\n                         &#39;return &quot;Hello &quot; + userName; &#39; ||\r\n                         &#39;} &#39; ||\r\n                         &#39;} &#39;;\r\n    BEGIN\r\n      EXECUTE IMMEDIATE V_SQL_TEXT;\r\n    END;\r\n    /\r\n    \r\n    PL/SQL procedure successfully completed.\r\n\r\nYou should consider raising a service request with Oracle, to see if they can explain and/or fix the problem.","title":"Oracle ORA-29536 on DDL-loading java source into the database","body":"<p>Oracle seems to be doing some strange pre-processing on the Java code that is flagging the <code>final String string</code> in the for-each loop as a problem. The error isn't coming from the Java compiler - as you'd expect, since this is valid. I can't see anything about this issue, including on My Oracle Support.</p>\n\n<p>It isn't, as @JonHeller noted in an edit comment, anything to do with the string concatenation, but also isn't anything to do with dynamic SQL - in 11gR2 anyway I still see the same ORA-29536 error if I just run the DDL directly from a SQL prompt, using your second code block.</p>\n\n<pre><code>CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED \"LoopingTest\" AS \nimport java.util.Arrays;\nimport java.util.List;\n\npublic final class LoopingTest {\n    public static String greet(final String userName) {\n        final List&lt;String&gt; emptyList = Arrays.asList(userName);\n        for (final String string : emptyList) {\n            System.out.println(string);\n        }\n        return \"Hello \" + userName;\n    }\n}\n/\n\nError report -\nORA-29536: badly formed source: Encountered \"final String string :\" at line 7, column 14.\nWas expecting one of:\n    \"boolean\" ...\n...\n</code></pre>\n\n<p>As a workaround you can just remove the <code>final</code> keyword:</p>\n\n<pre><code>CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED \"LoopingTest\" AS \nimport java.util.Arrays;\nimport java.util.List;\n\npublic final class LoopingTest {\n    public static String greet(final String userName) {\n        final List&lt;String&gt; emptyList = Arrays.asList(userName);\n        // remove 'final' to avoid ORA-29536\n        // for (final String string : emptyList) {\n        for (String string : emptyList) {\n            System.out.println(string);\n        }\n        return \"Hello \" + userName;\n    }\n}\n/\n\nJava source LoopingTest compiled\n</code></pre>\n\n<p>Or in your original PL/SQL code:</p>\n\n<pre><code>DECLARE\n  V_SQL_TEXT CLOB := ' ' ||\n                     'CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED \"LoopingTest\" AS ' ||\n                     'import java.util.Arrays; ' ||\n                     'import java.util.List; ' ||\n                     ' ' ||\n                     'public final class LoopingTest { ' ||\n                     'public static String greet(final String userName){ ' ||\n                     'final List&lt;String&gt; emptyList = Arrays.asList(userName); ' ||\n                     -- remove 'final' to avoid ORA-29536\n                     -- 'for (final String string : emptyList){ ' ||\n                     'for (String string : emptyList){ ' ||\n                     'System.out.println(string); ' ||\n                     '} ' ||\n                     'return \"Hello \" + userName; ' ||\n                     '} ' ||\n                     '} ';\nBEGIN\n  EXECUTE IMMEDIATE V_SQL_TEXT;\nEND;\n/\n\nPL/SQL procedure successfully completed.\n</code></pre>\n\n<p>You should consider raising a service request with Oracle, to see if they can explain and/or fix the problem.</p>\n"}],"owner":{"account_id":2291339,"reputation":2450,"user_id":2014053,"accept_rate":100,"display_name":"alexgibbs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3570,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43187904,"answer_count":1,"score":1,"last_activity_date":1680693992,"creation_date":1491168660,"question_id":43173752,"body_markdown":"I&#39;m looking into wrapping some java functions in pl/sql but am encountering an ORA-29536 on the colon character in for-loops when loading the java source.  \r\nI was hoping to understand why the database has difficulty with this, as it doesn&#39;t appear to be misinterpreting the colon and trying to bind, and to get any suggestions on a path forward.  \r\nI&#39;d like to avoid refactoring the source to abolish all for-loops, and would like to avoid using the loadjava tool if possible.  \r\nDatabase is 12cR1, with ojdk is 1.6.0_71.  \r\n\r\nHere&#39;s an example.  \r\nGiven these two trivial hello-world-type classes:  \r\n\r\n    public final class HelloWorld {\r\n        public static String greet(final String userName) {\r\n            return &quot;Hello &quot; + userName;\r\n        }\r\n    }\r\n\r\nAnd:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public final class LoopingTest {\r\n        public static String greet(final String userName) {\r\n            final List&lt;String&gt; emptyList = Arrays.asList(userName);\r\n            for (final String string : emptyList) {\r\n                System.out.println(string);\r\n            }\r\n            return &quot;Hello &quot; + userName;\r\n        }\r\n    }\r\n\r\nWhen I compile into the database, the first goes in fine and registers `JAVA SOURCE` and `JAVA CLASS` objects ok (I&#39;m using dynamic SQL and a clob in this example since the eventual target will be &gt;32K characters, with enough `@`, `&amp;`, etc. to complicate escaping in a raw script):  \r\n\r\n    BEGIN\r\n        EXECUTE IMMEDIATE\r\n        &#39;\r\n            CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED &quot;HelloWorld&quot; AS \r\n            public final class HelloWorld {\r\n                public static String greet(final String userName) {\r\n                    return &quot;Hello &quot; + userName;\r\n                }\r\n            }\r\n    \t&#39;;\r\n    END;\r\n    /\r\n    \r\n    PL/SQL procedure successfully completed.\r\n\r\nBut the second fails to import:\r\n\r\n    BEGIN\r\n        EXECUTE IMMEDIATE\r\n        &#39;\r\n            CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED &quot;HelloWorld&quot; AS \r\n            import java.util.Arrays;\r\n            import java.util.List;\r\n            \r\n            public final class LoopingTest {\r\n                public static String greet(final String userName) {\r\n                    final List&lt;String&gt; emptyList = Arrays.asList(userName);\r\n                    for (final String string : emptyList) {\r\n                        System.out.println(string);\r\n                    }\r\n                    return &quot;Hello &quot; + userName;\r\n                }\r\n            }\r\n        &#39;;\r\n    END;\r\n    /\r\n    \r\n    ERROR at line 1:\r\n    ORA-29536: badly formed source: Encountered &quot;final String string :&quot; at line 1,\r\n    column 195.\r\n\r\nI wondered if there are any changes I can make to coax oracle into loading this.  \r\nIf using loadjava is the only way to import I can accept that, but I&#39;d prefer loading in one step DDL if possible.  Thanks\r\n\r\n","title":"Oracle ORA-29536 on DDL-loading java source into the database","body":"<p>I'm looking into wrapping some java functions in pl/sql but am encountering an ORA-29536 on the colon character in for-loops when loading the java source.<br>\nI was hoping to understand why the database has difficulty with this, as it doesn't appear to be misinterpreting the colon and trying to bind, and to get any suggestions on a path forward.<br>\nI'd like to avoid refactoring the source to abolish all for-loops, and would like to avoid using the loadjava tool if possible.<br>\nDatabase is 12cR1, with ojdk is 1.6.0_71.  </p>\n\n<p>Here's an example.<br>\nGiven these two trivial hello-world-type classes:  </p>\n\n<pre><code>public final class HelloWorld {\n    public static String greet(final String userName) {\n        return \"Hello \" + userName;\n    }\n}\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\npublic final class LoopingTest {\n    public static String greet(final String userName) {\n        final List&lt;String&gt; emptyList = Arrays.asList(userName);\n        for (final String string : emptyList) {\n            System.out.println(string);\n        }\n        return \"Hello \" + userName;\n    }\n}\n</code></pre>\n\n<p>When I compile into the database, the first goes in fine and registers <code>JAVA SOURCE</code> and <code>JAVA CLASS</code> objects ok (I'm using dynamic SQL and a clob in this example since the eventual target will be >32K characters, with enough <code>@</code>, <code>&amp;</code>, etc. to complicate escaping in a raw script):  </p>\n\n<pre><code>BEGIN\n    EXECUTE IMMEDIATE\n    '\n        CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED \"HelloWorld\" AS \n        public final class HelloWorld {\n            public static String greet(final String userName) {\n                return \"Hello \" + userName;\n            }\n        }\n    ';\nEND;\n/\n\nPL/SQL procedure successfully completed.\n</code></pre>\n\n<p>But the second fails to import:</p>\n\n<pre><code>BEGIN\n    EXECUTE IMMEDIATE\n    '\n        CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED \"HelloWorld\" AS \n        import java.util.Arrays;\n        import java.util.List;\n\n        public final class LoopingTest {\n            public static String greet(final String userName) {\n                final List&lt;String&gt; emptyList = Arrays.asList(userName);\n                for (final String string : emptyList) {\n                    System.out.println(string);\n                }\n                return \"Hello \" + userName;\n            }\n        }\n    ';\nEND;\n/\n\nERROR at line 1:\nORA-29536: badly formed source: Encountered \"final String string :\" at line 1,\ncolumn 195.\n</code></pre>\n\n<p>I wondered if there are any changes I can make to coax oracle into loading this.<br>\nIf using loadjava is the only way to import I can accept that, but I'd prefer loading in one step DDL if possible.  Thanks</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":43980,"reputation":22154,"user_id":128812,"display_name":"gpeche"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1405970924,"creation_date":1405970924,"answer_id":24873138,"question_id":24872617,"body_markdown":"You want [`DefaultMessageListenerContainer`][1]:\r\n\r\n    @Bean\r\n    public DefaultMessageListenerContainer jmsListenerContainer() {\r\n        DefaultMessageListenerContainer dmlc = new DefaultMessageListenerContainer();\r\n        dmlc.setConnectionFactory(connectionFactory());\r\n        dmlc.setDestination(new ActiveMQQueue(&quot;orders.queue&quot;));\r\n\r\n        // To schedule our concurrent listening tasks\r\n        dmlc.setTaskExecutor(taskExecutor());\r\n\r\n        // To perform actual message processing\r\n        dmlc.setMessageListener(messageListener());\r\n\r\n        dmlc.setConcurrentConsumers(10);\r\n\r\n        // ... more parameters that you might want to inject ...\r\n        return dmlc;\r\n    }\r\n\r\n\r\nRead [the JMS namespace documentation][2] for information about mapping XML parameters to Java parameters.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jms.html#jms-namespace","title":"Spring annotation equivalent for jms:listener-container","body":"<p>You want <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html\"><code>DefaultMessageListenerContainer</code></a>:</p>\n\n<pre><code>@Bean\npublic DefaultMessageListenerContainer jmsListenerContainer() {\n    DefaultMessageListenerContainer dmlc = new DefaultMessageListenerContainer();\n    dmlc.setConnectionFactory(connectionFactory());\n    dmlc.setDestination(new ActiveMQQueue(\"orders.queue\"));\n\n    // To schedule our concurrent listening tasks\n    dmlc.setTaskExecutor(taskExecutor());\n\n    // To perform actual message processing\n    dmlc.setMessageListener(messageListener());\n\n    dmlc.setConcurrentConsumers(10);\n\n    // ... more parameters that you might want to inject ...\n    return dmlc;\n}\n</code></pre>\n\n<p>Read <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jms.html#jms-namespace\">the JMS namespace documentation</a> for information about mapping XML parameters to Java parameters.</p>\n"}],"owner":{"account_id":4763312,"reputation":1693,"user_id":3850156,"accept_rate":60,"display_name":"smilin_stan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8363,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":24873138,"answer_count":1,"score":10,"last_activity_date":1680693949,"creation_date":1405969070,"question_id":24872617,"body_markdown":"I&#39;m looking into JMS using Spring and wish to create a some concurrent consumers of a particular queue when my MVC webapp starts up.\r\n\r\nI&#39;ve seen the following XML config elsewhere on SO (https://stackoverflow.com/a/6861144):\r\n\r\n\t&lt;jms:listener-container concurrency=&quot;10&quot;&gt;\r\n\t\t&lt;jms:listener destination=&quot;some.queue&quot; ref=&quot;fooService&quot; method=&quot;handleNewFoo&quot;/&gt;\r\n\t&lt;/jms:listener-container&gt;\r\n\r\nI&#39;m using Spring configuration in Java as opposed to XML. Can someone please help out with the syntax for Spring annotation?\r\n\r\nMy existing JmsConfiguration.java looks like:\r\n\r\n\t@Configuration\r\n\t@ComponentScan(basePackages=&quot;net.domain.orders&quot;)\r\n\tpublic class JmsConfiguration {\r\n\r\n\t\t@Bean\r\n\t\tpublic JmsTemplate jmsTemplate() {\r\n\t\t\tJmsTemplate jmsTemplate = new JmsTemplate();\r\n\t\t\tjmsTemplate.setDefaultDestination(new ActiveMQQueue(&quot;orders.queue&quot;));\r\n\t\t\tjmsTemplate.setConnectionFactory(connectionFactory());\r\n\t\t\treturn jmsTemplate;\r\n\t\t}\r\n \r\n\t\t@Bean\r\n\t\tpublic ActiveMQConnectionFactory connectionFactory() {\r\n\t\t\tActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\r\n\t\t\tactiveMQConnectionFactory.setBrokerURL(&quot;tcp://localhost:61616&quot;);\r\n\t\t\treturn activeMQConnectionFactory;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nI have searched many examples but all I have found so far are XML-based.","title":"Spring annotation equivalent for jms:listener-container","body":"<p>I'm looking into JMS using Spring and wish to create a some concurrent consumers of a particular queue when my MVC webapp starts up.</p>\n\n<p>I've seen the following XML config elsewhere on SO (<a href=\"https://stackoverflow.com/a/6861144\">https://stackoverflow.com/a/6861144</a>):</p>\n\n<pre><code>&lt;jms:listener-container concurrency=\"10\"&gt;\n    &lt;jms:listener destination=\"some.queue\" ref=\"fooService\" method=\"handleNewFoo\"/&gt;\n&lt;/jms:listener-container&gt;\n</code></pre>\n\n<p>I'm using Spring configuration in Java as opposed to XML. Can someone please help out with the syntax for Spring annotation?</p>\n\n<p>My existing JmsConfiguration.java looks like:</p>\n\n<pre><code>@Configuration\n@ComponentScan(basePackages=\"net.domain.orders\")\npublic class JmsConfiguration {\n\n    @Bean\n    public JmsTemplate jmsTemplate() {\n        JmsTemplate jmsTemplate = new JmsTemplate();\n        jmsTemplate.setDefaultDestination(new ActiveMQQueue(\"orders.queue\"));\n        jmsTemplate.setConnectionFactory(connectionFactory());\n        return jmsTemplate;\n    }\n\n    @Bean\n    public ActiveMQConnectionFactory connectionFactory() {\n        ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\n        activeMQConnectionFactory.setBrokerURL(\"tcp://localhost:61616\");\n        return activeMQConnectionFactory;\n    }\n\n}\n</code></pre>\n\n<p>I have searched many examples but all I have found so far are XML-based.</p>\n"},{"tags":["java","postgresql","hibernate","hql"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1589456795,"post_id":61785837,"comment_id":109305043,"body_markdown":"What postgresql, hibernate version and hibernate dialect do you use?","body":"What postgresql, hibernate version and hibernate dialect do you use?"},{"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"score":0,"creation_date":1589473389,"post_id":61785837,"comment_id":109315447,"body_markdown":"Postgresql 12; Hibernate 5.4.11 Final;","body":"Postgresql 12; Hibernate 5.4.11 Final;"},{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1589473520,"post_id":61785837,"comment_id":109315519,"body_markdown":"What hibernate dialect do you use?","body":"What hibernate dialect do you use?"},{"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"score":0,"creation_date":1589473943,"post_id":61785837,"comment_id":109315744,"body_markdown":"Postgresql 12; Hibernate 5.4.11 Final; org.hibernate.dialect.HSQLDialect.  Sorry, it auto-posted my last response while I was afk.","body":"Postgresql 12; Hibernate 5.4.11 Final; org.hibernate.dialect.HSQLDialect.  Sorry, it auto-posted my last response while I was afk."},{"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"score":0,"creation_date":1589474866,"post_id":61785837,"comment_id":109316201,"body_markdown":"Upon further research, it turns out that HSQLDialect is for HyperSQL and HyperSonics, not HQL.  I switched to PostgreSQLDialect, and now it works.  Strange, because I was getting an error message for PostgreSQLDialect that went away after changing.  I must have fixed whatever was causing that error.","body":"Upon further research, it turns out that HSQLDialect is for HyperSQL and HyperSonics, not HQL.  I switched to PostgreSQLDialect, and now it works.  Strange, because I was getting an error message for PostgreSQLDialect that went away after changing.  I must have fixed whatever was causing that error."}],"answers":[{"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589475531,"creation_date":1589474353,"answer_id":61802694,"question_id":61785837,"body_markdown":"You use wrong hibernate dialect. The `org.hibernate.dialect.HSQLDialect` dialect is intended to use with the [HyperSQL](http://hsqldb.org/) database.\r\n\r\nThe `org.hibernate.dialect.PostgreSQL10Dialect` dialect is more suitable for your case.","title":"Not able to fetch SequenceInformation and not finding Column start_with in ResultSet","body":"<p>You use wrong hibernate dialect. The <code>org.hibernate.dialect.HSQLDialect</code> dialect is intended to use with the <a href=\"http://hsqldb.org/\" rel=\"nofollow noreferrer\">HyperSQL</a> database.</p>\n\n<p>The <code>org.hibernate.dialect.PostgreSQL10Dialect</code> dialect is more suitable for your case.</p>\n"}],"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680693639,"creation_date":1589408019,"question_id":61785837,"body_markdown":"I am seeing the below error when running a small test program to check that my Hibernate config is correct.  I checked that the sequence for each table has valid settings--the max value is less than Long&#39;s MAX_VALUE.  My entity classes use annotation-based configuration and are all listed within my cfg.xml file.  I was able to insert at least one record into each table using pgAdmin, so I know that sequences are working.  This error is occurring when the the program tries to get a SessionFactory\r\n\r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n//\t\t\tSystem.err.println(new File(&quot;.&quot;).getAbsolutePath());\r\n//\t\t\tConfiguration configuration = new Configuration();\r\n//\t\t\tConfiguration configure = configuration.configure(TypesDaoFt.class.getResource(&quot;./hibernate.cfg.xml&quot;));\r\n//\t\t\tsf = configure.buildSessionFactory();\r\n\r\n\t\t\tStandardServiceRegistry ssr = new StandardServiceRegistryBuilder().configure(new File(&quot;./hibernate.cfg.xml&quot;)).build();\r\n\t\t\tMetadata md = new MetadataSources(ssr).getMetadataBuilder().build();\r\n\t\t\tsf = md.getSessionFactoryBuilder().build();\r\n\t\t} catch(Throwable t) {\r\n\t\t\tSystem.err.println(&quot;Failed to build SessionFactory.&quot;);\r\n\t\t\tt.printStackTrace();\r\n\t\t\tif(sf != null) {\r\n\t\t\t\tsf.close();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n`\r\nERROR: Could not fetch the SequenceInformation from the database\r\norg.postgresql.util.PSQLException: The column name start_with was not found in this ResultSet.\r\n\tat org.postgresql.jdbc.PgResultSet.findColumn(PgResultSet.java:2589)\r\n\tat org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2485)\r\n\tat org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.resultSetStartValueSize(SequenceInformationExtractorLegacyImpl.java:129)\r\n\tat org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:59)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.sequenceInformationList(JdbcEnvironmentImpl.java:403)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.&lt;init&gt;(JdbcEnvironmentImpl.java:268)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:114)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:83)\r\n\tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:473)\r\n\tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:84)\r\n\tat com.javaduckspizza.ftesters.TypesDaoFt.main(TypesDaoFt.java:30)\r\n`","title":"Not able to fetch SequenceInformation and not finding Column start_with in ResultSet","body":"<p>I am seeing the below error when running a small test program to check that my Hibernate config is correct.  I checked that the sequence for each table has valid settings--the max value is less than Long's MAX_VALUE.  My entity classes use annotation-based configuration and are all listed within my cfg.xml file.  I was able to insert at least one record into each table using pgAdmin, so I know that sequences are working.  This error is occurring when the the program tries to get a SessionFactory</p>\n\n<pre><code>    public static void main(String[] args) {\n        try {\n//          System.err.println(new File(\".\").getAbsolutePath());\n//          Configuration configuration = new Configuration();\n//          Configuration configure = configuration.configure(TypesDaoFt.class.getResource(\"./hibernate.cfg.xml\"));\n//          sf = configure.buildSessionFactory();\n\n            StandardServiceRegistry ssr = new StandardServiceRegistryBuilder().configure(new File(\"./hibernate.cfg.xml\")).build();\n            Metadata md = new MetadataSources(ssr).getMetadataBuilder().build();\n            sf = md.getSessionFactoryBuilder().build();\n        } catch(Throwable t) {\n            System.err.println(\"Failed to build SessionFactory.\");\n            t.printStackTrace();\n            if(sf != null) {\n                sf.close();\n            }\n        }\n    }\n</code></pre>\n\n<p><code>\nERROR: Could not fetch the SequenceInformation from the database\norg.postgresql.util.PSQLException: The column name start_with was not found in this ResultSet.\n    at org.postgresql.jdbc.PgResultSet.findColumn(PgResultSet.java:2589)\n    at org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2485)\n    at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.resultSetStartValueSize(SequenceInformationExtractorLegacyImpl.java:129)\n    at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:59)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.sequenceInformationList(JdbcEnvironmentImpl.java:403)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.&lt;init&gt;(JdbcEnvironmentImpl.java:268)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:114)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:83)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:473)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:84)\n    at com.javaduckspizza.ftesters.TypesDaoFt.main(TypesDaoFt.java:30)\n</code></p>\n"},{"tags":["java","quarkus","graalvm"],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680693527,"creation_date":1680693527,"answer_id":75938769,"question_id":75937246,"body_markdown":"You can add a GraalVM substitution for this. It would looks something like:\r\n\r\n\r\n\r\n    import com.oracle.svm.core.annotate.Alias;\r\n    import com.oracle.svm.core.annotate.Substitute;\r\n    import com.oracle.svm.core.annotate.TargetClass;\r\n    \r\n    ...\r\n    \r\n    \r\n    @TargetClass(value = WhateverTheClassNameIs.class)\r\n    public final class WhateverTheClassNameIsSubstitutions {\r\n    \r\n      @Substitute \r\n      public static RequestExecutor&lt;String, String&gt; create(RequestHttp requestHttp) {\r\n        switch (requestHttp.getRequestType()) {\r\n          case APACHE_HTTP:\r\n            return new ApacheSimplePostRequestExecutor(requestHttp);\r\n          default:\r\n            throw new IllegalArgumentException(&quot;error http type&quot;);\r\n        }\r\n      }\r\n    \r\n    }","title":"How to exclude specified class initialize when build graalVM native image?","body":"<p>You can add a GraalVM substitution for this. It would looks something like:</p>\n<pre><code>import com.oracle.svm.core.annotate.Alias;\nimport com.oracle.svm.core.annotate.Substitute;\nimport com.oracle.svm.core.annotate.TargetClass;\n\n...\n\n\n@TargetClass(value = WhateverTheClassNameIs.class)\npublic final class WhateverTheClassNameIsSubstitutions {\n\n  @Substitute \n  public static RequestExecutor&lt;String, String&gt; create(RequestHttp requestHttp) {\n    switch (requestHttp.getRequestType()) {\n      case APACHE_HTTP:\n        return new ApacheSimplePostRequestExecutor(requestHttp);\n      default:\n        throw new IllegalArgumentException(&quot;error http type&quot;);\n    }\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4789373,"reputation":338,"user_id":3868994,"accept_rate":25,"display_name":"JsonSong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75938769,"answer_count":1,"score":0,"last_activity_date":1680693527,"creation_date":1680683303,"question_id":75937246,"body_markdown":"I import a lib ,and there is a factory like this : \r\n```java\r\n  public static RequestExecutor&lt;String, String&gt; create(RequestHttp requestHttp) {\r\n    switch (requestHttp.getRequestType()) {\r\n      case APACHE_HTTP:\r\n        return new ApacheSimplePostRequestExecutor(requestHttp);\r\n      case JODD_HTTP:\r\n        return new JoddHttpSimplePostRequestExecutor(requestHttp);\r\n      case OK_HTTP:\r\n        return new OkHttpSimplePostRequestExecutor(requestHttp);\r\n      default:\r\n        throw new IllegalArgumentException(&quot;error http type&quot;);\r\n    }\r\n  }\r\n```\r\nI use the default ApacheSimplePostRequestExecutor, the other two case code was never executed , and of couse , no JoddHttp or OkHttp dependence in my namespace .\r\nthe code work fine in jvm \r\nbut when i build for native image \r\n\r\n``` sh\r\n[INFO] [io.quarkus.deployment.pkg.steps.NativeImageBuildRunner] /opt/graalvm/bin/native-image -J-Dsun.nio.ch.maxUpdateArraySize=100 -J-Djava.util.logging.manager=org.jboss.logmanager.LogManager -J-Dlogging.initial-configurator.min-level=500 -J-Dvertx.logger-delegate-factory-class-name=io.quarkus.vertx.core.runtime.VertxLogDelegateFactory -J-Dvertx.disableDnsResolver=true -J-Dio.netty.noUnsafe=true -J-Dio.netty.leakDetection.level=DISABLED -J-Dio.netty.allocator.maxOrder=3 -J-Duser.language=en -J-Duser.country=US -J-Dfile.encoding=UTF-8 --features=io.quarkus.runner.Feature,io.quarkus.runtime.graal.ResourcesFeature,io.quarkus.runtime.graal.DisableLoggingFeature -J--add-exports=java.security.jgss/sun.security.krb5=ALL-UNNAMED -J--add-opens=java.base/java.text=ALL-UNNAMED -J--add-opens=java.base/java.io=ALL-UNNAMED -J--add-opens=java.base/java.lang.invoke=ALL-UNNAMED -J--add-opens=java.base/java.util=ALL-UNNAMED -H:+CollectImageBuildStatistics -H:ImageBuildStatisticsFile=jsa2-1.0-SNAPSHOT-runner-timing-stats.json -H:BuildOutputJSONFile=jsa2-1.0-SNAPSHOT-runner-build-output-stats.json --initialize-at-run-time=me.chanjar.weixin.common.util.http,me.chanjar.weixin.common.util.http.okhttp.OkHttpSimplePostRequestExecutor -H:+PrintClassInitialization -H:+AllowFoldMethods -J-Djava.awt.headless=true --no-fallback --link-at-build-time -H:+ReportExceptionStackTraces -H:-AddAllCharsets --enable-url-protocols=http -H:NativeLinkerOption=-no-pie -H:-UseServiceLoaderFeature -H:+StackTrace -J--add-exports=org.graalvm.sdk/org.graalvm.nativeimage.impl=ALL-UNNAMED -J--add-exports=org.graalvm.nativeimage.builder/com.oracle.svm.core.jdk=ALL-UNNAMED --exclude-config io\\.netty\\.netty-codec /META-INF/native-image/io\\.netty/netty-codec/generated/handlers/reflect-config\\.json --exclude-config io\\.netty\\.netty-handler /META-INF/native-image/io\\.netty/netty-handler/generated/handlers/reflect-config\\.json jsa2-1.0-SNAPSHOT-runner -jar jsa2-1.0-SNAPSHOT-runner.jar\r\n```\r\nthe error is : \r\n``` java\r\nCaused by: org.graalvm.compiler.java.BytecodeParser$BytecodeParserError: com.oracle.graal.pointsto.constraints.UnresolvedElementException: Discovered unresolved field during parsing: okhttp3.RequestBody.Companion. This error is reported at image build time because class me.chanjar.weixin.common.util.http.okhttp.OkHttpSimplePostRequestExecutor is registered for linking at image build time by command line\r\n```\r\nlook like the native build still try to build no used  JoddHttpSimplePostRequestExecutor ,OkHttpSimplePostRequestExecutor. \r\n\r\nIs there any way to exclude native build for the two class ? \r\nI use --initialize-at-run-time but it to no effect .\r\n","title":"How to exclude specified class initialize when build graalVM native image?","body":"<p>I import a lib ,and there is a factory like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static RequestExecutor&lt;String, String&gt; create(RequestHttp requestHttp) {\n    switch (requestHttp.getRequestType()) {\n      case APACHE_HTTP:\n        return new ApacheSimplePostRequestExecutor(requestHttp);\n      case JODD_HTTP:\n        return new JoddHttpSimplePostRequestExecutor(requestHttp);\n      case OK_HTTP:\n        return new OkHttpSimplePostRequestExecutor(requestHttp);\n      default:\n        throw new IllegalArgumentException(&quot;error http type&quot;);\n    }\n  }\n</code></pre>\n<p>I use the default ApacheSimplePostRequestExecutor, the other two case code was never executed , and of couse , no JoddHttp or OkHttp dependence in my namespace .\nthe code work fine in jvm\nbut when i build for native image</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[INFO] [io.quarkus.deployment.pkg.steps.NativeImageBuildRunner] /opt/graalvm/bin/native-image -J-Dsun.nio.ch.maxUpdateArraySize=100 -J-Djava.util.logging.manager=org.jboss.logmanager.LogManager -J-Dlogging.initial-configurator.min-level=500 -J-Dvertx.logger-delegate-factory-class-name=io.quarkus.vertx.core.runtime.VertxLogDelegateFactory -J-Dvertx.disableDnsResolver=true -J-Dio.netty.noUnsafe=true -J-Dio.netty.leakDetection.level=DISABLED -J-Dio.netty.allocator.maxOrder=3 -J-Duser.language=en -J-Duser.country=US -J-Dfile.encoding=UTF-8 --features=io.quarkus.runner.Feature,io.quarkus.runtime.graal.ResourcesFeature,io.quarkus.runtime.graal.DisableLoggingFeature -J--add-exports=java.security.jgss/sun.security.krb5=ALL-UNNAMED -J--add-opens=java.base/java.text=ALL-UNNAMED -J--add-opens=java.base/java.io=ALL-UNNAMED -J--add-opens=java.base/java.lang.invoke=ALL-UNNAMED -J--add-opens=java.base/java.util=ALL-UNNAMED -H:+CollectImageBuildStatistics -H:ImageBuildStatisticsFile=jsa2-1.0-SNAPSHOT-runner-timing-stats.json -H:BuildOutputJSONFile=jsa2-1.0-SNAPSHOT-runner-build-output-stats.json --initialize-at-run-time=me.chanjar.weixin.common.util.http,me.chanjar.weixin.common.util.http.okhttp.OkHttpSimplePostRequestExecutor -H:+PrintClassInitialization -H:+AllowFoldMethods -J-Djava.awt.headless=true --no-fallback --link-at-build-time -H:+ReportExceptionStackTraces -H:-AddAllCharsets --enable-url-protocols=http -H:NativeLinkerOption=-no-pie -H:-UseServiceLoaderFeature -H:+StackTrace -J--add-exports=org.graalvm.sdk/org.graalvm.nativeimage.impl=ALL-UNNAMED -J--add-exports=org.graalvm.nativeimage.builder/com.oracle.svm.core.jdk=ALL-UNNAMED --exclude-config io\\.netty\\.netty-codec /META-INF/native-image/io\\.netty/netty-codec/generated/handlers/reflect-config\\.json --exclude-config io\\.netty\\.netty-handler /META-INF/native-image/io\\.netty/netty-handler/generated/handlers/reflect-config\\.json jsa2-1.0-SNAPSHOT-runner -jar jsa2-1.0-SNAPSHOT-runner.jar\n</code></pre>\n<p>the error is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Caused by: org.graalvm.compiler.java.BytecodeParser$BytecodeParserError: com.oracle.graal.pointsto.constraints.UnresolvedElementException: Discovered unresolved field during parsing: okhttp3.RequestBody.Companion. This error is reported at image build time because class me.chanjar.weixin.common.util.http.okhttp.OkHttpSimplePostRequestExecutor is registered for linking at image build time by command line\n</code></pre>\n<p>look like the native build still try to build no used  JoddHttpSimplePostRequestExecutor ,OkHttpSimplePostRequestExecutor.</p>\n<p>Is there any way to exclude native build for the two class ?\nI use --initialize-at-run-time but it to no effect .</p>\n"},{"tags":["java","spring-boot","azure","azure-cosmosdb","azure-cosmosdb-sqlapi"],"answers":[{"tags":[],"owner":{"account_id":17250869,"reputation":114,"user_id":12491066,"display_name":"Theo van Kraay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680693337,"creation_date":1680692166,"answer_id":75938571,"question_id":72108956,"body_markdown":"How to design the data layer for multi-tenant apps in Azure Cosmos DB will depend on the level of tenant density you want at both the application tier and the database tier. There is no one-fits-all &quot;best practice&quot;, as this will be a value judgement/trade-off between cost of tenant resources and performance. \r\n\r\nIt seems from your question that your preference is to have high tenant density at the application tier (i.e. be able to reference and/or create many tenant resources from a single application instance), while keeping performance isolation at the database tier (to avoid the &quot;noisy neighbour&quot; problem).\r\n\r\nTo answer the question of how to dynamically set the container name or database name before executing a CRUD operation: from version **3.33.0** of the Spring Data Client Library for Azure Cosmos DB, you can now make your Spring Data Repository code dynamically reference and/or create different databases or containers in Azure Cosmos DB for each tenant, from the same application instance and the same client. To achieve this at database level, create a class which extends CosmosFactory:\r\n\r\n    public class MultiTenantDBCosmosFactory extends CosmosFactory {\r\n        private static final Logger logger = LoggerFactory.getLogger(MultiTenantDBCosmosFactory .class);\r\n        private CosmosAsyncClient client;\r\n        public String tenantId;\r\n    \r\n        public MultiTenantDBCosmosFactory (CosmosAsyncClient cosmosAsyncClient, String databaseName) {\r\n            super(cosmosAsyncClient, databaseName);\r\n            this.client = cosmosAsyncClient;\r\n            this.tenantId = databaseName;\r\n        }\r\n    \r\n        @Override\r\n        public String getDatabaseName() {\r\n            //have some logic here that will determine the tenant id in the current thread\r\n            //so you can set this.tenantId to be the current tenant\r\n            return this.tenantId;\r\n        }\r\n    }\r\n\r\nThen, in your configuration class, add your new MultiTenantDBCosmosFactory class as a bean:\r\n\r\n    @Bean \r\n     public MultiTenantDBCosmosFactory cosmosFactory(CosmosAsyncClient cosmosAsyncClient) {\r\n        return new MultiTenantDBCosmosFactory (cosmosAsyncClient, getDatabaseName());\r\n     }\r\n\r\nThe overridden `getDatabaseName()` will then be invoked polymorphically by every CRUD method you call on Spring Data `Repository`, so you will need to add some logic that will determine the tenant id in the current thread, and set that value to be returned. To do the same at container level instead, you would just override the `overrideContainerName()` method in CosmosFactory instead, and add similar logic.\r\n\r\nI&#39;ve written a blog, which goes into more detail on this, and has links to extended samples. You can find the blog [here][1]. \r\n\r\n\r\n  [1]: https://devblogs.microsoft.com/cosmosdb/building-multi-tenant-java-apps-using-spring-data-and-azure-cosmos-db/","title":"Azure Cosmos DB multitenancy Java SDK","body":"<p>How to design the data layer for multi-tenant apps in Azure Cosmos DB will depend on the level of tenant density you want at both the application tier and the database tier. There is no one-fits-all &quot;best practice&quot;, as this will be a value judgement/trade-off between cost of tenant resources and performance.</p>\n<p>It seems from your question that your preference is to have high tenant density at the application tier (i.e. be able to reference and/or create many tenant resources from a single application instance), while keeping performance isolation at the database tier (to avoid the &quot;noisy neighbour&quot; problem).</p>\n<p>To answer the question of how to dynamically set the container name or database name before executing a CRUD operation: from version <strong>3.33.0</strong> of the Spring Data Client Library for Azure Cosmos DB, you can now make your Spring Data Repository code dynamically reference and/or create different databases or containers in Azure Cosmos DB for each tenant, from the same application instance and the same client. To achieve this at database level, create a class which extends CosmosFactory:</p>\n<pre><code>public class MultiTenantDBCosmosFactory extends CosmosFactory {\n    private static final Logger logger = LoggerFactory.getLogger(MultiTenantDBCosmosFactory .class);\n    private CosmosAsyncClient client;\n    public String tenantId;\n\n    public MultiTenantDBCosmosFactory (CosmosAsyncClient cosmosAsyncClient, String databaseName) {\n        super(cosmosAsyncClient, databaseName);\n        this.client = cosmosAsyncClient;\n        this.tenantId = databaseName;\n    }\n\n    @Override\n    public String getDatabaseName() {\n        //have some logic here that will determine the tenant id in the current thread\n        //so you can set this.tenantId to be the current tenant\n        return this.tenantId;\n    }\n}\n</code></pre>\n<p>Then, in your configuration class, add your new MultiTenantDBCosmosFactory class as a bean:</p>\n<pre><code>@Bean \n public MultiTenantDBCosmosFactory cosmosFactory(CosmosAsyncClient cosmosAsyncClient) {\n    return new MultiTenantDBCosmosFactory (cosmosAsyncClient, getDatabaseName());\n }\n</code></pre>\n<p>The overridden <code>getDatabaseName()</code> will then be invoked polymorphically by every CRUD method you call on Spring Data <code>Repository</code>, so you will need to add some logic that will determine the tenant id in the current thread, and set that value to be returned. To do the same at container level instead, you would just override the <code>overrideContainerName()</code> method in CosmosFactory instead, and add similar logic.</p>\n<p>I've written a blog, which goes into more detail on this, and has links to extended samples. You can find the blog <a href=\"https://devblogs.microsoft.com/cosmosdb/building-multi-tenant-java-apps-using-spring-data-and-azure-cosmos-db/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":9699666,"reputation":31,"user_id":7195051,"display_name":"Stefan Starke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680693337,"creation_date":1651647153,"question_id":72108956,"body_markdown":"We are currently looking into best practices concerning Cosmos DB and its Java SDK in combination with multitenancy. We have a simple Spring Boot based Java service that is providing REST interfaces for CRUD operations on data in a Cosmos DB using the SQL API. Now we need to introduce multitenancy into it. The tenant classifier will be read from a JWT when receiving a REST request and be available in the requests Thread Local context.\r\n\r\nCurrent considerations are to have the data of one tenant in either a separate container or a separate database under one database account. As described in the MS document [Multitenancy and Azure Cosmos DB](https://learn.microsoft.com/en-us/azure/architecture/guide/multitenant/service/cosmos-db).\r\n\r\nHaving all data in one container using the tenant classifier as a partition key will not work due to the amount of data, plus we need separation of the data to prevent the noisy neighbour problem.\r\n\r\nAre there any best practices on how to design the data access layer - also in regards of performance pitfalls?\r\n\r\nOur understanding at the moment \r\n\r\n - Use one CosmosDBClient per application (as the initialization takes time)\r\n - Container names are defined on entity level (@Container())\r\n\r\nThe official sample create individual repositories and database configs [Azure Spring Boot Cosmos Samples](https://github.com/Azure-Samples/azure-spring-boot-samples/blob/spring-cloud-azure_4.0.0/cosmos/azure-spring-data-cosmos/cosmos-multi-database-single-account/src/main/java/com/azure/spring/sample/cosmos/multi/database/MultiDatabaseApplication.java) which sounds wrong to me\r\n\r\nBasically \r\n\r\n - Should we create on CosmosDB client and dynamically (how?) set the container name or database name before executing a CRUD operation? \r\n - Should we create separate clients for every tenant and re-use those instances?\r\n\r\n\r\n","title":"Azure Cosmos DB multitenancy Java SDK","body":"<p>We are currently looking into best practices concerning Cosmos DB and its Java SDK in combination with multitenancy. We have a simple Spring Boot based Java service that is providing REST interfaces for CRUD operations on data in a Cosmos DB using the SQL API. Now we need to introduce multitenancy into it. The tenant classifier will be read from a JWT when receiving a REST request and be available in the requests Thread Local context.</p>\n<p>Current considerations are to have the data of one tenant in either a separate container or a separate database under one database account. As described in the MS document <a href=\"https://learn.microsoft.com/en-us/azure/architecture/guide/multitenant/service/cosmos-db\" rel=\"nofollow noreferrer\">Multitenancy and Azure Cosmos DB</a>.</p>\n<p>Having all data in one container using the tenant classifier as a partition key will not work due to the amount of data, plus we need separation of the data to prevent the noisy neighbour problem.</p>\n<p>Are there any best practices on how to design the data access layer - also in regards of performance pitfalls?</p>\n<p>Our understanding at the moment</p>\n<ul>\n<li>Use one CosmosDBClient per application (as the initialization takes time)</li>\n<li>Container names are defined on entity level (@Container())</li>\n</ul>\n<p>The official sample create individual repositories and database configs <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/blob/spring-cloud-azure_4.0.0/cosmos/azure-spring-data-cosmos/cosmos-multi-database-single-account/src/main/java/com/azure/spring/sample/cosmos/multi/database/MultiDatabaseApplication.java\" rel=\"nofollow noreferrer\">Azure Spring Boot Cosmos Samples</a> which sounds wrong to me</p>\n<p>Basically</p>\n<ul>\n<li>Should we create on CosmosDB client and dynamically (how?) set the container name or database name before executing a CRUD operation?</li>\n<li>Should we create separate clients for every tenant and re-use those instances?</li>\n</ul>\n"},{"tags":["java","android","android-studio","dji-sdk","batterylevel"],"answers":[{"tags":[],"owner":{"account_id":23697968,"reputation":17,"user_id":17721455,"display_name":"Gopi Arumugam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680603195,"creation_date":1680603109,"answer_id":75928137,"question_id":75928080,"body_markdown":"The code you have provided looks correct, assuming that baseProduct is a valid reference to your DJI remote controller.\r\n\r\nHowever, to get the battery level of the remote controller, you need to call the getRemoteControllerBatteryInfo method instead of getBatteryLevel as follows:\r\n\r\n    public void getBatteryLevel(CommonCallbacks.CompletionCallbackWith&lt;Integer&gt; callback) {\r\n        if (baseProduct != null &amp;&amp; baseProduct.isConnected()) {\r\n            if (baseProduct instanceof Aircraft) {\r\n                ((Aircraft) baseProduct).getRemoteController().getBatteryInfo().getChargeRemainingInPercent(callback);\r\n            } else {\r\n                callback.onFailure(null);\r\n            }\r\n        } else {\r\n            callback.onFailure(null);\r\n        }\r\n    }\r\n\r\nThis will return the battery level of the remote controller as an integer between 0 and 100, representing the percentage of charge remaining.\r\n\r\nMake sure that your app has the necessary permissions to access the DJI SDK functions, and that the remote controller is connected to the aircraft and turned on before calling this method.\r\n","title":"how to get battery level of the dji remote controller in android app (built using android studio - java)?","body":"<p>The code you have provided looks correct, assuming that baseProduct is a valid reference to your DJI remote controller.</p>\n<p>However, to get the battery level of the remote controller, you need to call the getRemoteControllerBatteryInfo method instead of getBatteryLevel as follows:</p>\n<pre><code>public void getBatteryLevel(CommonCallbacks.CompletionCallbackWith&lt;Integer&gt; callback) {\n    if (baseProduct != null &amp;&amp; baseProduct.isConnected()) {\n        if (baseProduct instanceof Aircraft) {\n            ((Aircraft) baseProduct).getRemoteController().getBatteryInfo().getChargeRemainingInPercent(callback);\n        } else {\n            callback.onFailure(null);\n        }\n    } else {\n        callback.onFailure(null);\n    }\n}\n</code></pre>\n<p>This will return the battery level of the remote controller as an integer between 0 and 100, representing the percentage of charge remaining.</p>\n<p>Make sure that your app has the necessary permissions to access the DJI SDK functions, and that the remote controller is connected to the aircraft and turned on before calling this method.</p>\n"}],"owner":{"account_id":2818729,"reputation":53,"user_id":2423045,"accept_rate":80,"display_name":"Shareef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680693226,"creation_date":1680602651,"question_id":75928080,"body_markdown":"with the code below i am able to retrieve serial number of the dji drone remote controller. however, I cannot get battery level. is there anyway I can retrieve battery level? please&#160;advise.\r\n\r\nthe code for serial number (which is fine):\r\n\r\n    public void getSerialNumber(CommonCallbacks.CompletionCallbackWith&lt;String&gt; callback)\r\n        {\r\n            if(baseProduct != null &amp;&amp; baseProduct.isConnected()) {\r\n                if (baseProduct instanceof Aircraft) {\r\n                    ((Aircraft) baseProduct).getFlightController().getSerialNumber(callback);\r\n                }\r\n                else callback.onFailure(null);\r\n            }\r\n            else callback.onFailure(null);\r\n        }\r\n\r\nthe code for remaining battery (which doesn&#39;t work):\r\n\r\n    public void getBatteryLevel(CommonCallbacks.CompletionCallbackWith&lt;Integer&gt; callback)\r\n        {\r\n            if(baseProduct != null &amp;&amp; baseProduct.isConnected()) {\r\n                if (baseProduct instanceof Aircraft) {\r\n                    ((Aircraft) baseProduct).getBattery().getChargeRemaining(callback);\r\n                }\r\n                else callback.onFailure(null);\r\n            }\r\n            else callback.onFailure(null);\r\n        }","title":"how to get battery level of the dji remote controller in android app (built using android studio - java)?","body":"<p>with the code below i am able to retrieve serial number of the dji drone remote controller. however, I cannot get battery level. is there anyway I can retrieve battery level? pleaseadvise.</p>\n<p>the code for serial number (which is fine):</p>\n<pre><code>public void getSerialNumber(CommonCallbacks.CompletionCallbackWith&lt;String&gt; callback)\n    {\n        if(baseProduct != null &amp;&amp; baseProduct.isConnected()) {\n            if (baseProduct instanceof Aircraft) {\n                ((Aircraft) baseProduct).getFlightController().getSerialNumber(callback);\n            }\n            else callback.onFailure(null);\n        }\n        else callback.onFailure(null);\n    }\n</code></pre>\n<p>the code for remaining battery (which doesn't work):</p>\n<pre><code>public void getBatteryLevel(CommonCallbacks.CompletionCallbackWith&lt;Integer&gt; callback)\n    {\n        if(baseProduct != null &amp;&amp; baseProduct.isConnected()) {\n            if (baseProduct instanceof Aircraft) {\n                ((Aircraft) baseProduct).getBattery().getChargeRemaining(callback);\n            }\n            else callback.onFailure(null);\n        }\n        else callback.onFailure(null);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1541168776,"creation_date":1541168776,"answer_id":53120405,"question_id":53119596,"body_markdown":"Override boot&#39;s container factory bean declaration and add it there.\r\n\r\n\t@Bean\r\n\tpublic SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory(\r\n\t\t\tSimpleRabbitListenerContainerFactoryConfigurer configurer,\r\n\t\t\tConnectionFactory connectionFactory) {\r\n\t\tSimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\r\n\t\tconfigurer.configure(factory, connectionFactory);\r\n\t\tfactory.setConsumerTagStrategy(q -&gt; &quot;myConsumerFor.&quot; + q);\r\n\t\treturn factory;\r\n\t}\r\n\r\n[![Tag][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5zLWB.png","title":"How to set amqp RabbitMQ consumer tag in Spring Boot?","body":"<p>Override boot's container factory bean declaration and add it there.</p>\n\n<pre><code>@Bean\npublic SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory(\n        SimpleRabbitListenerContainerFactoryConfigurer configurer,\n        ConnectionFactory connectionFactory) {\n    SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\n    configurer.configure(factory, connectionFactory);\n    factory.setConsumerTagStrategy(q -&gt; \"myConsumerFor.\" + q);\n    return factory;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5zLWB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5zLWB.png\" alt=\"Tag\"></a></p>\n"},{"tags":[],"owner":{"account_id":9583670,"reputation":308,"user_id":7117293,"display_name":"Majlanky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679253482,"creation_date":1679253482,"answer_id":75784413,"question_id":53119596,"body_markdown":"Even Gary&#39;s answer is very good it is not working always. For example in Spring Boot with autoconfiguration and using `RabbitListener` you probably end with some weird situation where application refuse to start or your factory will not be used. I would recommend to used `BeanPostProcessor` instead. There is a simple example following:\r\n```java\r\n@Component\r\npublic class ConsumerTagByAppSetter implements BeanPostProcessor {\r\n\r\n    private final String appName;\r\n\r\n    public ConsumerTagByAppSetter(@Value(&quot;${spring.application.name}&quot;) String appName) {\r\n        this.appName = appName;\r\n    }\r\n\r\n    @Override\r\n    public Object postProcessAfterInitialization(@NonNull Object bean, @NonNull String beanName) throws BeansException {\r\n        if (bean instanceof SimpleRabbitListenerContainerFactory) {\r\n            ((SimpleRabbitListenerContainerFactory) bean).setConsumerTagStrategy(q -&gt; appName + &quot;.&quot; + q);\r\n        }\r\n        return bean;\r\n    }\r\n}\r\n```\r\nThis post processor is applied to the factory created and customized by auto configuration and changes just the way how consumer tag is generated which I consider much safer and out of the box than trying to start from scratch...","title":"How to set amqp RabbitMQ consumer tag in Spring Boot?","body":"<p>Even Gary's answer is very good it is not working always. For example in Spring Boot with autoconfiguration and using <code>RabbitListener</code> you probably end with some weird situation where application refuse to start or your factory will not be used. I would recommend to used <code>BeanPostProcessor</code> instead. There is a simple example following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ConsumerTagByAppSetter implements BeanPostProcessor {\n\n    private final String appName;\n\n    public ConsumerTagByAppSetter(@Value(&quot;${spring.application.name}&quot;) String appName) {\n        this.appName = appName;\n    }\n\n    @Override\n    public Object postProcessAfterInitialization(@NonNull Object bean, @NonNull String beanName) throws BeansException {\n        if (bean instanceof SimpleRabbitListenerContainerFactory) {\n            ((SimpleRabbitListenerContainerFactory) bean).setConsumerTagStrategy(q -&gt; appName + &quot;.&quot; + q);\n        }\n        return bean;\n    }\n}\n</code></pre>\n<p>This post processor is applied to the factory created and customized by auto configuration and changes just the way how consumer tag is generated which I consider much safer and out of the box than trying to start from scratch...</p>\n"},{"tags":[],"owner":{"account_id":23401297,"reputation":66,"user_id":17464403,"display_name":"KrzysztofS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680693065,"creation_date":1680693065,"answer_id":75938704,"question_id":53119596,"body_markdown":"You do not have to override SimpleRabbitListenerContainerFactory.\r\n\r\nIt is enough to customize it by creating the extra bean which will be applied by spring boot autoconfiguration.\r\n\r\n```\r\n    @Bean\r\n    ContainerCustomizer&lt;SimpleMessageListenerContainer&gt; containerCustomizer(@Value(&quot;${spring.application.name}&quot;) String applicationName) {\r\n        return container -&gt; container.setConsumerTagStrategy(queue -&gt; applicationName + &quot;_&quot; + UUID.randomUUID());\r\n    }\r\n```","title":"How to set amqp RabbitMQ consumer tag in Spring Boot?","body":"<p>You do not have to override SimpleRabbitListenerContainerFactory.</p>\n<p>It is enough to customize it by creating the extra bean which will be applied by spring boot autoconfiguration.</p>\n<pre><code>    @Bean\n    ContainerCustomizer&lt;SimpleMessageListenerContainer&gt; containerCustomizer(@Value(&quot;${spring.application.name}&quot;) String applicationName) {\n        return container -&gt; container.setConsumerTagStrategy(queue -&gt; applicationName + &quot;_&quot; + UUID.randomUUID());\n    }\n</code></pre>\n"}],"owner":{"account_id":3762653,"reputation":5106,"user_id":3127111,"accept_rate":61,"display_name":"watery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1361,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53120405,"answer_count":3,"score":2,"last_activity_date":1680693065,"creation_date":1541165734,"question_id":53119596,"body_markdown":"In question [How to set the consumer-tag value in spring-amqp](https://stackoverflow.com/q/29801873/3127111) it is being asked how to change the consumer tag when using Spring Amqp and the answer suggests to provide an implementation of `ConsumerTagStrategy`.\r\n\r\nI&#39;m using Spring Boot 2.0.5 and I&#39;m trying to figure out if I can do the same customization, though I can&#39;t find any configuration property about that nor providing a bean of type `ConsumerTagStrategy` seems to work.\r\n\r\nHow should I go about this?","title":"How to set amqp RabbitMQ consumer tag in Spring Boot?","body":"<p>In question <a href=\"https://stackoverflow.com/q/29801873/3127111\">How to set the consumer-tag value in spring-amqp</a> it is being asked how to change the consumer tag when using Spring Amqp and the answer suggests to provide an implementation of <code>ConsumerTagStrategy</code>.</p>\n\n<p>I'm using Spring Boot 2.0.5 and I'm trying to figure out if I can do the same customization, though I can't find any configuration property about that nor providing a bean of type <code>ConsumerTagStrategy</code> seems to work.</p>\n\n<p>How should I go about this?</p>\n"},{"tags":["java","selenium-webdriver","testing","electron"],"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680692031,"creation_date":1680689289,"question_id":75938146,"body_markdown":"I&#39;m am testing an electron app using selenium and suddenly getting this error after my electron app version changed when I try to launch my tests \r\n\r\n&gt;org.openqa.selenium.SessionNotCreatedException: Could not start a new &gt;session. Possible causes are invalid address of the remote server or &gt;browser start-up failure.\r\n\r\nI&#39;m using: \r\n\r\n - electron version 4.2.12\r\n - chromedriver 2.42 (Ive tried 2.40 - 2.43)\r\n - Selenium 4.0\r\n\r\nAnd my setup is as follows:\r\n\r\n    String projectLocation = System.getProperty(&quot;user.dir&quot;)                 \r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, projectLocation + &quot;/chromedriver.exe&quot;);\r\n            \r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--no-sandbox&quot;); // Bypass OS security model\r\n    options.addArguments(&quot;start-maximized&quot;); // open Browser in maximized mode\r\n    options.addArguments(&quot;disable-infobars&quot;); // disabling infobars\r\n    options.addArguments(&quot;--disable-extensions&quot;); // disabling extensions\r\n    options.addArguments(&quot;--disable-gpu&quot;); // applicable to windows os only\r\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;); // overcome limited resource \r\n    problems\r\n    options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    options.setBinary(&quot;C:/Users/Public/ElectronApp.exe&quot;);\r\n    browser = new ChromeDriver(options);\r\n    pageConfig = new PageConfig(browser);\r\n","title":"SessionNotCreatedException when launching chromedriver and electron","body":"<p>I'm am testing an electron app using selenium and suddenly getting this error after my electron app version changed when I try to launch my tests</p>\n<blockquote>\n<p>org.openqa.selenium.SessionNotCreatedException: Could not start a new &gt;session. Possible causes are invalid address of the remote server or &gt;browser start-up failure.</p>\n</blockquote>\n<p>I'm using:</p>\n<ul>\n<li>electron version 4.2.12</li>\n<li>chromedriver 2.42 (Ive tried 2.40 - 2.43)</li>\n<li>Selenium 4.0</li>\n</ul>\n<p>And my setup is as follows:</p>\n<pre><code>String projectLocation = System.getProperty(&quot;user.dir&quot;)                 \nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, projectLocation + &quot;/chromedriver.exe&quot;);\n        \nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--no-sandbox&quot;); // Bypass OS security model\noptions.addArguments(&quot;start-maximized&quot;); // open Browser in maximized mode\noptions.addArguments(&quot;disable-infobars&quot;); // disabling infobars\noptions.addArguments(&quot;--disable-extensions&quot;); // disabling extensions\noptions.addArguments(&quot;--disable-gpu&quot;); // applicable to windows os only\noptions.addArguments(&quot;--disable-dev-shm-usage&quot;); // overcome limited resource \nproblems\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\noptions.setBinary(&quot;C:/Users/Public/ElectronApp.exe&quot;);\nbrowser = new ChromeDriver(options);\npageConfig = new PageConfig(browser);\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webclient"],"comments":[{"owner":{"account_id":24040318,"reputation":56,"user_id":18020097,"display_name":"Dusan Madzarevic"},"score":0,"creation_date":1677500752,"post_id":75578930,"comment_id":133343606,"body_markdown":"Figured it out. The receiving endpoint had a body param annotated with @RequestBody, but I used the wrong one by accident ( io.swagger.v3.oas.annotations.parameters.RequestBody instead of org.springframework.web.bind.annotation.RequestBody)","body":"Figured it out. The receiving endpoint had a body param annotated with @RequestBody, but I used the wrong one by accident ( io.swagger.v3.oas.annotations.parameters.RequestBody instead of org.springframework.web.bind.annotation.RequestBody)"}],"owner":{"account_id":24040318,"reputation":56,"user_id":18020097,"display_name":"Dusan Madzarevic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680691455,"creation_date":1677491615,"question_id":75578930,"body_markdown":"I have two Spring Boot microservices that I&#39;m trying to establish communication between via http. They&#39;re both registered on Eureka, and I&#39;m using Webclient to send a post request from service A to B as follows:\r\n\r\n\r\n```\r\n\t\tWebClient webClient = webClientBuilder.build();\r\n\t\tSystem.out.println(request.getAuthId());\r\n\t\tSystem.out.println(request.getFirstName());\r\n\t\t\r\n\t\tMap&lt;String, String&gt; valueMap = new HashMap&lt;&gt;();\r\n\t\tvalueMap.put(&quot;firstName&quot;, request.getFirstName());\r\n\t\tvalueMap.put(&quot;lastName&quot;, request.getLastName());\r\n\t\tvalueMap.put(&quot;authId&quot;, request.getAuthId());\r\n\t\t\r\n\t\tMono&lt;MessageResponse&gt; createdUser = webClient.post()\r\n\t\t\t\t.uri(&quot;http://market-service/market/agrinet/auth/add-user&quot;)\r\n\t\t\t\t.header(&quot;language&quot;, locale.getLanguage())\r\n\t\t\t\t.header(&quot;accept-language&quot;,locale.getLanguage().toUpperCase())\r\n\t\t\t\t.headers(h -&gt; h.setBearerAuth(jwt.getTokenValue()))\r\n\t\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n\t\t\t\t.body(BodyInserters.fromValue(valueMap))\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.bodyToMono(MessageResponse.class);\r\n\t\t\r\n\t\treturn createdUser.block();\r\n```\r\n\r\n\r\n\r\n\r\nThe Map approach is something I tried out based on another question here. I tried just sending the request object itself via .bodyValue() too. But both approaches have been to no avail, for whatever reason the body is just missing when the request reaches the other microservice. The headers are there and accounted for, however.\r\n\r\nWhat am I missing? I scoured Google for answers but this seems like a pretty standard use case and yet something isn&#39;t adding up for me.","title":"Spring Boot WebClient communication between two microservices: Body missing at recipient microservice","body":"<p>I have two Spring Boot microservices that I'm trying to establish communication between via http. They're both registered on Eureka, and I'm using Webclient to send a post request from service A to B as follows:</p>\n<pre><code>        WebClient webClient = webClientBuilder.build();\n        System.out.println(request.getAuthId());\n        System.out.println(request.getFirstName());\n        \n        Map&lt;String, String&gt; valueMap = new HashMap&lt;&gt;();\n        valueMap.put(&quot;firstName&quot;, request.getFirstName());\n        valueMap.put(&quot;lastName&quot;, request.getLastName());\n        valueMap.put(&quot;authId&quot;, request.getAuthId());\n        \n        Mono&lt;MessageResponse&gt; createdUser = webClient.post()\n                .uri(&quot;http://market-service/market/agrinet/auth/add-user&quot;)\n                .header(&quot;language&quot;, locale.getLanguage())\n                .header(&quot;accept-language&quot;,locale.getLanguage().toUpperCase())\n                .headers(h -&gt; h.setBearerAuth(jwt.getTokenValue()))\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(BodyInserters.fromValue(valueMap))\n                .retrieve()\n                .bodyToMono(MessageResponse.class);\n        \n        return createdUser.block();\n</code></pre>\n<p>The Map approach is something I tried out based on another question here. I tried just sending the request object itself via .bodyValue() too. But both approaches have been to no avail, for whatever reason the body is just missing when the request reaches the other microservice. The headers are there and accounted for, however.</p>\n<p>What am I missing? I scoured Google for answers but this seems like a pretty standard use case and yet something isn't adding up for me.</p>\n"},{"tags":["java","spring-boot","jax-rs","keycloak"],"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680691120,"creation_date":1680691120,"question_id":75938408,"body_markdown":"I have Reader and Writer interceptor for Embedded Keycloak that is JAX-RS specification using Resteasy implementation. \r\n\r\nApplication setup is similar to this :https://www.baeldung.com/keycloak-embedded-in-spring-boot-app\r\n\r\nCode for Interceptor :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Provider\r\n    public class RequestClientWriterInterceptor implements WriterInterceptor {\r\n\r\n        @Override\r\n        public void aroundWriteTo(WriterInterceptorContext context) \r\n          throws IOException, WebApplicationException {\r\n            context.getOutputStream()\r\n              .write((&quot;Message added in the writer interceptor in the client side&quot;).getBytes());\r\n\r\n            context.proceed();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**My question is how and where do I register the interceptor in Keycloak(or any application) to read all http calls ?** I dont want to use &quot;RealmResourceProviderFactory&quot; as I want to catch all http calls. Kindly advice. Thanks.","title":"WriterInterceptor/ReaderInterceptor for keycloak application in jax-rs","body":"<p>I have Reader and Writer interceptor for Embedded Keycloak that is JAX-RS specification using Resteasy implementation.</p>\n<p>Application setup is similar to this :<a href=\"https://www.baeldung.com/keycloak-embedded-in-spring-boot-app\" rel=\"nofollow noreferrer\">https://www.baeldung.com/keycloak-embedded-in-spring-boot-app</a></p>\n<p>Code for Interceptor :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Provider\npublic class RequestClientWriterInterceptor implements WriterInterceptor {\n\n    @Override\n    public void aroundWriteTo(WriterInterceptorContext context) \n      throws IOException, WebApplicationException {\n        context.getOutputStream()\n          .write((\"Message added in the writer interceptor in the client side\").getBytes());\n\n        context.proceed();\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>My question is how and where do I register the interceptor in Keycloak(or any application) to read all http calls ?</strong> I dont want to use &quot;RealmResourceProviderFactory&quot; as I want to catch all http calls. Kindly advice. Thanks.</p>\n"},{"tags":["java","maven","spring-mvc","spring-boot","jaxb"],"comments":[{"owner":{"account_id":906349,"reputation":1004,"user_id":941163,"accept_rate":46,"display_name":"bitsofinfo"},"score":0,"creation_date":1508351597,"post_id":45545445,"comment_id":80581118,"body_markdown":"Same problem, with spring-boot 1.5.x, this all worked fine previously. Can anyone at spring assist?","body":"Same problem, with spring-boot 1.5.x, this all worked fine previously. Can anyone at spring assist?"},{"owner":{"account_id":906349,"reputation":1004,"user_id":941163,"accept_rate":46,"display_name":"bitsofinfo"},"score":0,"creation_date":1508421945,"post_id":45545445,"comment_id":80611109,"body_markdown":"For anyone else in the spring world, here is a sample project re-producing the issue: https://github.com/nfedyk/spring-boot-jpa-issue-01","body":"For anyone else in the spring world, here is a sample project re-producing the issue: <a href=\"https://github.com/nfedyk/spring-boot-jpa-issue-01\" rel=\"nofollow noreferrer\">github.com/nfedyk/spring-boot-jpa-issue-01</a>"}],"answers":[{"tags":[],"owner":{"account_id":987019,"reputation":513,"user_id":1005273,"accept_rate":86,"display_name":"baronKarza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505197658,"creation_date":1505197658,"answer_id":46169366,"question_id":45545445,"body_markdown":"A possible solution for the `NoClassDefFoundError` originated by the `package-info` class: https://stackoverflow.com/questions/43782191/spring-boot-runnable-jar-cant-load-package-info-class/46169288#46169288","title":"Spring Boot, ClassNotDef Error with JaxB, Package -Info.java","body":"<p>A possible solution for the <code>NoClassDefFoundError</code> originated by the <code>package-info</code> class: <a href=\"https://stackoverflow.com/questions/43782191/spring-boot-runnable-jar-cant-load-package-info-class/46169288#46169288\">Spring boot, runnable jar can&#39;t load package-info.class</a></p>\n"},{"tags":[],"owner":{"account_id":311431,"reputation":49,"user_id":625015,"display_name":"Grim42"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1509099317,"creation_date":1509099317,"answer_id":46972703,"question_id":45545445,"body_markdown":"Found the issue.\r\nThe AJSC framework implementing the ADF (Hibernate based ORM) did not support package-info and hence searched for that class everytime.\r\n\r\nOnly way around was to execute the command to not generate the package-info during stubs generation.\r\n\r\nUse `-npa` in **XJC** utility to suppress package-info and everything will work.","title":"Spring Boot, ClassNotDef Error with JaxB, Package -Info.java","body":"<p>Found the issue.\nThe AJSC framework implementing the ADF (Hibernate based ORM) did not support package-info and hence searched for that class everytime.</p>\n\n<p>Only way around was to execute the command to not generate the package-info during stubs generation.</p>\n\n<p>Use <code>-npa</code> in <strong>XJC</strong> utility to suppress package-info and everything will work.</p>\n"},{"tags":[],"owner":{"account_id":1080327,"reputation":819,"user_id":1077487,"display_name":"Mitch1077487"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651007802,"creation_date":1651007802,"answer_id":72020626,"question_id":45545445,"body_markdown":"In case you got here by looking for a solution to a similar &quot;package-info (wrong name:&quot; issue, I fixed my problem by upgrading hibernate (since the one in the app was quite old).","title":"Spring Boot, ClassNotDef Error with JaxB, Package -Info.java","body":"<p>In case you got here by looking for a solution to a similar &quot;package-info (wrong name:&quot; issue, I fixed my problem by upgrading hibernate (since the one in the app was quite old).</p>\n"}],"owner":{"account_id":311431,"reputation":49,"user_id":625015,"display_name":"Grim42"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46972703,"answer_count":3,"score":1,"last_activity_date":1680690347,"creation_date":1502104024,"question_id":45545445,"body_markdown":"I am using AJSC framework in SpringBoot with JaxB implementation. I built the stubs outside the project and copied them inside the project with proper directories.\r\n\r\nHowever, during API execution, i get a classNotDef error. But I have seen my Jar file and i have the package-info class file inside the directory.\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: BOOT-INF/classes/com/att/fpp/fpprome/opportunity/package-info (wrong name: com/att/fpp/fpprome/opportunity/package-info)\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(Unknown Source)\r\n        at java.security.SecureClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.access$100(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:94)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Unknown Source)\r\n        at org.hibernate.annotations.common.util.StandardClassLoaderDelegateImpl.classForName(StandardClassLoaderDelegateImpl.java:57)\r\n        at org.hibernate.boot.internal.MetadataBuilderImpl$MetadataBuildingOptionsImpl$4.classForName(MetadataBuilderImpl.java:758)\r\n        at org.hibernate.annotations.common.reflection.java.JavaReflectionManager.packageForName(JavaReflectionManager.java:148)\r\n        at org.hibernate.cfg.AnnotationBinder.bindPackage(AnnotationBinder.java:281)\r\n        at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.prepare(AnnotationMetadataSourceProcessorImpl.java:186)\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.prepare(MetadataBuildingProcess.java:156)\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:253)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:847)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:874)\r\n        at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:58)\r\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n        at acsi.grid.gridcore.core.sql.EntityManagerHelper.getDefaultEntityManager(EntityManagerHelper.java:250)\r\n        at acsi.grid.gridcore.core.sql.EntityManagerHelper.getEntityManager(EntityManagerHelper.java:174)\r\n        at acsi.grid.gridcore.core.JdbcGridBagImpl.getEntityManager(JdbcGridBagImpl.java:188)\r\n        at acsi.grid.gridcore.core.JdbcGridBagImpl.put(JdbcGridBagImpl.java:163)\r\n        at com.att.fpp.fpprome.dao.impl.OpportunityDaoImpl.updateOpportunityDatabaseROME(OpportunityDaoImpl.java:497)\r\n        at com.att.fpp.fpprome.bo.impl.OpportunityBusinessObjectImpl.getOpptyInfo(OpportunityBusinessObjectImpl.java:78)\r\n        at com.att.fpp.fpprome.service.impl.OpportunityServiceImpl.getOpportunitiesById(OpportunityServiceImpl.java:62)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.lang.reflect.Method.invoke(Unknown Source)\r\n        at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:180)\r\n        at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)\r\n\r\nAlso I noticed that I am not using apache.cxf anywhere in pom but yet it is being called here.\r\n","title":"Spring Boot, ClassNotDef Error with JaxB, Package -Info.java","body":"<p>I am using AJSC framework in SpringBoot with JaxB implementation. I built the stubs outside the project and copied them inside the project with proper directories.</p>\n\n<p>However, during API execution, i get a classNotDef error. But I have seen my Jar file and i have the package-info class file inside the directory.</p>\n\n<pre><code>Caused by: java.lang.NoClassDefFoundError: BOOT-INF/classes/com/att/fpp/fpprome/opportunity/package-info (wrong name: com/att/fpp/fpprome/opportunity/package-info)\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(Unknown Source)\n    at java.security.SecureClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.access$100(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:94)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Unknown Source)\n    at org.hibernate.annotations.common.util.StandardClassLoaderDelegateImpl.classForName(StandardClassLoaderDelegateImpl.java:57)\n    at org.hibernate.boot.internal.MetadataBuilderImpl$MetadataBuildingOptionsImpl$4.classForName(MetadataBuilderImpl.java:758)\n    at org.hibernate.annotations.common.reflection.java.JavaReflectionManager.packageForName(JavaReflectionManager.java:148)\n    at org.hibernate.cfg.AnnotationBinder.bindPackage(AnnotationBinder.java:281)\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.prepare(AnnotationMetadataSourceProcessorImpl.java:186)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.prepare(MetadataBuildingProcess.java:156)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:253)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:847)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:874)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:58)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n    at acsi.grid.gridcore.core.sql.EntityManagerHelper.getDefaultEntityManager(EntityManagerHelper.java:250)\n    at acsi.grid.gridcore.core.sql.EntityManagerHelper.getEntityManager(EntityManagerHelper.java:174)\n    at acsi.grid.gridcore.core.JdbcGridBagImpl.getEntityManager(JdbcGridBagImpl.java:188)\n    at acsi.grid.gridcore.core.JdbcGridBagImpl.put(JdbcGridBagImpl.java:163)\n    at com.att.fpp.fpprome.dao.impl.OpportunityDaoImpl.updateOpportunityDatabaseROME(OpportunityDaoImpl.java:497)\n    at com.att.fpp.fpprome.bo.impl.OpportunityBusinessObjectImpl.getOpptyInfo(OpportunityBusinessObjectImpl.java:78)\n    at com.att.fpp.fpprome.service.impl.OpportunityServiceImpl.getOpportunitiesById(OpportunityServiceImpl.java:62)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:180)\n    at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)\n</code></pre>\n\n<p>Also I noticed that I am not using apache.cxf anywhere in pom but yet it is being called here.</p>\n"},{"tags":["java","android"],"owner":{"account_id":28221495,"reputation":11,"user_id":21572153,"display_name":"Eypro Corp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680690254,"creation_date":1680690254,"question_id":75938288,"body_markdown":"In my code I am getting json list in recyclerview. The problem is that if I directly specify the link, it works fine, but if I specify the link to the constant and then assign the word from the search to the constant and pass it all as one url, then I get a repeated list, or rather, I send the link for parsing twice.\r\n\r\n[enter image description here](https://i.stack.imgur.com/ikYut.png)\r\n\r\nMy HomeFragment\r\n\r\n\r\n```\r\npublic class HomeFragment extends Fragment implements FoodRecyclerViewInterface {\r\n\r\n    private FragmentHomeBinding binding;\r\n    private static String PARSE_URL = &quot;https://api.edamam.com/api/food-database/v2/parser?app_id=e5bc806d&amp;app_key=5f7521ffeefe491b936cea6271e13d3d&amp;ingr=&quot;;\r\n    private static String SEARCH_TEXT = null;\r\n    private static String RESULT_URL = null;\r\n    List&lt;FoodModels&gt; foodModelsList;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        binding = FragmentHomeBinding.inflate(getLayoutInflater());\r\n        View view = binding.getRoot();\r\n\r\n        binding.searchs.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n\r\n                @Override\r\n                public boolean onQueryTextSubmit(String query) {\r\n\r\n                    SEARCH_TEXT = binding.searchs.getQuery().toString();\r\n                    RESULT_URL = PARSE_URL + SEARCH_TEXT;\r\n                    foodModelsList = new ArrayList&lt;&gt;();\r\n                    GetData getData = new GetData();\r\n                    getData.execute();\r\n\r\n                    return false;\r\n                }\r\n\r\n                @Override\r\n                public boolean onQueryTextChange(String newText) {\r\n                    return false;\r\n                }\r\n\r\n            });\r\n\r\n        return view;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onItemClick(int position) {\r\n        try {\r\n            Intent i = new Intent(getActivity(), DetailActivity.class);\r\n            i.putExtra(&quot;id&quot;, foodModelsList.get(position).getId());\r\n            i.putExtra(&quot;name&quot;, foodModelsList.get(position).getName());\r\n            i.putExtra(&quot;img&quot;, foodModelsList.get(position).getImg());\r\n            i.putExtra(&quot;kcal&quot;, foodModelsList.get(position).getKcal());\r\n            i.putExtra(&quot;procent&quot;, foodModelsList.get(position).getProcent());\r\n            i.putExtra(&quot;fat&quot;, foodModelsList.get(position).getFat());\r\n            startActivity(i);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    @SuppressLint(&quot;StaticFieldLeak&quot;)\r\n    public class GetData extends AsyncTask&lt;String, String, String&gt; {\r\n\r\n        @Override\r\n        protected String doInBackground(String... strings) {\r\n            String current = &quot;&quot;;\r\n\r\n            try {\r\n                URL url;\r\n                HttpURLConnection urlConnection = null;\r\n\r\n\r\n                try {\r\n                        url = new URL(RESULT_URL);\r\n                        Log.i(&quot;url&quot;, String.valueOf(url));\r\n                    urlConnection = (HttpURLConnection) url.openConnection();\r\n                    InputStream is = urlConnection.getInputStream();\r\n                    InputStreamReader isr = new InputStreamReader(is);\r\n\r\n                    int data = isr.read();\r\n                    while (data != -1) {\r\n                        current += (char) data;\r\n                        data = isr.read();\r\n                    }\r\n                } catch (MalformedURLException e) {\r\n                    e.printStackTrace();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    if(urlConnection != null) {\r\n                        urlConnection.disconnect();\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return current;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String s) {\r\n            try {\r\n                JSONObject jsonObject = new JSONObject(s);\r\n                JSONArray jsonArray = jsonObject.getJSONArray(&quot;hints&quot;);\r\n                for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                    JSONObject hintObject = jsonArray.getJSONObject(i);\r\n                    JSONObject foodObject = hintObject.getJSONObject(&quot;food&quot;);\r\n\r\n                    String foodId = foodObject.getString(&quot;foodId&quot;);\r\n                    String label = foodObject.getString(&quot;label&quot;);\r\n                    String image = foodObject.getString(&quot;image&quot;);\r\n\r\n                    JSONObject nutrientsObject = foodObject.getJSONObject(&quot;nutrients&quot;);\r\n                    String enercKcal = nutrientsObject.getString(&quot;ENERC_KCAL&quot;);\r\n                    String procnt = nutrientsObject.getString(&quot;PROCNT&quot;);\r\n                    String fat = nutrientsObject.getString(&quot;FAT&quot;);\r\n\r\n                    FoodModels model = new FoodModels();\r\n                    model.setId(foodId);\r\n                    model.setName(label);\r\n                    model.setImg(image);\r\n                    model.setKcal(enercKcal);\r\n                    model.setProcent(procnt);\r\n                    model.setFat(fat);\r\n                    model.setFavStatus(&quot;0&quot;);\r\n\r\n                    foodModelsList.add(model);\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            PutDataIntoRecyclerView(foodModelsList);\r\n        }\r\n    }\r\n\r\n    private void PutDataIntoRecyclerView(List&lt;FoodModels&gt; categoryList) {\r\n        FoodAdapter categoryAdapter = new FoodAdapter(getContext(), categoryList, this);\r\n        binding.recyclerMain.setHasFixedSize(true);\r\n        binding.recyclerMain.setAdapter(categoryAdapter);\r\n        binding.recyclerMain.setLayoutManager(new LinearLayoutManager(getContext()));\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nIf the `onCreateView` method does not use the search but leave it like that, then I get one list, but the problem is that I have to pass the link to `url = new URL(RESULT_URL);` if there is a query in the search.\r\n\r\n\r\n```\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        binding = FragmentHomeBinding.inflate(getLayoutInflater());\r\n        View view = binding.getRoot();\r\n\r\n                    foodModelsList = new ArrayList&lt;&gt;();\r\n                    GetData getData = new GetData();\r\n                    getData.execute();\r\n\r\n\r\n        return view;\r\n    }\r\n```\r\n","title":"Why is the code being re-executed and I get 2 links and not one?","body":"<p>In my code I am getting json list in recyclerview. The problem is that if I directly specify the link, it works fine, but if I specify the link to the constant and then assign the word from the search to the constant and pass it all as one url, then I get a repeated list, or rather, I send the link for parsing twice.</p>\n<p><a href=\"https://i.stack.imgur.com/ikYut.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>My HomeFragment</p>\n<pre><code>public class HomeFragment extends Fragment implements FoodRecyclerViewInterface {\n\n    private FragmentHomeBinding binding;\n    private static String PARSE_URL = &quot;https://api.edamam.com/api/food-database/v2/parser?app_id=e5bc806d&amp;app_key=5f7521ffeefe491b936cea6271e13d3d&amp;ingr=&quot;;\n    private static String SEARCH_TEXT = null;\n    private static String RESULT_URL = null;\n    List&lt;FoodModels&gt; foodModelsList;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.M)\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentHomeBinding.inflate(getLayoutInflater());\n        View view = binding.getRoot();\n\n        binding.searchs.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n\n                @Override\n                public boolean onQueryTextSubmit(String query) {\n\n                    SEARCH_TEXT = binding.searchs.getQuery().toString();\n                    RESULT_URL = PARSE_URL + SEARCH_TEXT;\n                    foodModelsList = new ArrayList&lt;&gt;();\n                    GetData getData = new GetData();\n                    getData.execute();\n\n                    return false;\n                }\n\n                @Override\n                public boolean onQueryTextChange(String newText) {\n                    return false;\n                }\n\n            });\n\n        return view;\n    }\n\n\n    @Override\n    public void onItemClick(int position) {\n        try {\n            Intent i = new Intent(getActivity(), DetailActivity.class);\n            i.putExtra(&quot;id&quot;, foodModelsList.get(position).getId());\n            i.putExtra(&quot;name&quot;, foodModelsList.get(position).getName());\n            i.putExtra(&quot;img&quot;, foodModelsList.get(position).getImg());\n            i.putExtra(&quot;kcal&quot;, foodModelsList.get(position).getKcal());\n            i.putExtra(&quot;procent&quot;, foodModelsList.get(position).getProcent());\n            i.putExtra(&quot;fat&quot;, foodModelsList.get(position).getFat());\n            startActivity(i);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n\n    }\n\n    @SuppressLint(&quot;StaticFieldLeak&quot;)\n    public class GetData extends AsyncTask&lt;String, String, String&gt; {\n\n        @Override\n        protected String doInBackground(String... strings) {\n            String current = &quot;&quot;;\n\n            try {\n                URL url;\n                HttpURLConnection urlConnection = null;\n\n\n                try {\n                        url = new URL(RESULT_URL);\n                        Log.i(&quot;url&quot;, String.valueOf(url));\n                    urlConnection = (HttpURLConnection) url.openConnection();\n                    InputStream is = urlConnection.getInputStream();\n                    InputStreamReader isr = new InputStreamReader(is);\n\n                    int data = isr.read();\n                    while (data != -1) {\n                        current += (char) data;\n                        data = isr.read();\n                    }\n                } catch (MalformedURLException e) {\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                } finally {\n                    if(urlConnection != null) {\n                        urlConnection.disconnect();\n                    }\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return current;\n        }\n\n        @Override\n        protected void onPostExecute(String s) {\n            try {\n                JSONObject jsonObject = new JSONObject(s);\n                JSONArray jsonArray = jsonObject.getJSONArray(&quot;hints&quot;);\n                for (int i = 0; i &lt; jsonArray.length(); i++) {\n                    JSONObject hintObject = jsonArray.getJSONObject(i);\n                    JSONObject foodObject = hintObject.getJSONObject(&quot;food&quot;);\n\n                    String foodId = foodObject.getString(&quot;foodId&quot;);\n                    String label = foodObject.getString(&quot;label&quot;);\n                    String image = foodObject.getString(&quot;image&quot;);\n\n                    JSONObject nutrientsObject = foodObject.getJSONObject(&quot;nutrients&quot;);\n                    String enercKcal = nutrientsObject.getString(&quot;ENERC_KCAL&quot;);\n                    String procnt = nutrientsObject.getString(&quot;PROCNT&quot;);\n                    String fat = nutrientsObject.getString(&quot;FAT&quot;);\n\n                    FoodModels model = new FoodModels();\n                    model.setId(foodId);\n                    model.setName(label);\n                    model.setImg(image);\n                    model.setKcal(enercKcal);\n                    model.setProcent(procnt);\n                    model.setFat(fat);\n                    model.setFavStatus(&quot;0&quot;);\n\n                    foodModelsList.add(model);\n                }\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n            PutDataIntoRecyclerView(foodModelsList);\n        }\n    }\n\n    private void PutDataIntoRecyclerView(List&lt;FoodModels&gt; categoryList) {\n        FoodAdapter categoryAdapter = new FoodAdapter(getContext(), categoryList, this);\n        binding.recyclerMain.setHasFixedSize(true);\n        binding.recyclerMain.setAdapter(categoryAdapter);\n        binding.recyclerMain.setLayoutManager(new LinearLayoutManager(getContext()));\n    }\n}\n</code></pre>\n<p>If the <code>onCreateView</code> method does not use the search but leave it like that, then I get one list, but the problem is that I have to pass the link to <code>url = new URL(RESULT_URL);</code> if there is a query in the search.</p>\n<pre><code>    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentHomeBinding.inflate(getLayoutInflater());\n        View view = binding.getRoot();\n\n                    foodModelsList = new ArrayList&lt;&gt;();\n                    GetData getData = new GetData();\n                    getData.execute();\n\n\n        return view;\n    }\n</code></pre>\n"},{"tags":["java","spring","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":4398735,"reputation":1404,"user_id":3585050,"accept_rate":31,"display_name":"reza ramezani matin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680690227,"creation_date":1680690227,"answer_id":75938281,"question_id":74898473,"body_markdown":"The default thread pool of Quartz is 10, so only up 10 jobs are able to run.\r\n\r\nSo change the thread pool in quartz.properties like this:\r\n\r\n    org.quartz.scheduler.instanceName=SampleJobScheduler\r\n    org.quartz.scheduler.rmi.export=false\r\n    org.quartz.scheduler.rmi.proxy=false\r\n    org.quartz.scheduler.wrapJobExecutionInUserTransaction=false\r\n    org.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool\r\n    org.quartz.threadPool.threadCount=20\r\n    org.quartz.threadPool.threadPriority=5\r\n    org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\r\n    org.quartz.jobStore.misfireThreshold=60000\r\n    org.quartz.jobStore.class=org.quartz.simpl.RAMJobStore\r\n\r\n\r\nThe  value of   `org.quartz.threadPool.threadCount` must be set more than your jobs","title":"Quartz Scheduler won&#39;t start with more than 10 job","body":"<p>The default thread pool of Quartz is 10, so only up 10 jobs are able to run.</p>\n<p>So change the thread pool in quartz.properties like this:</p>\n<pre><code>org.quartz.scheduler.instanceName=SampleJobScheduler\norg.quartz.scheduler.rmi.export=false\norg.quartz.scheduler.rmi.proxy=false\norg.quartz.scheduler.wrapJobExecutionInUserTransaction=false\norg.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool\norg.quartz.threadPool.threadCount=20\norg.quartz.threadPool.threadPriority=5\norg.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\norg.quartz.jobStore.misfireThreshold=60000\norg.quartz.jobStore.class=org.quartz.simpl.RAMJobStore\n</code></pre>\n<p>The  value of   <code>org.quartz.threadPool.threadCount</code> must be set more than your jobs</p>\n"}],"owner":{"account_id":27120230,"reputation":11,"user_id":20664026,"display_name":"LucasG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680690227,"creation_date":1671790380,"question_id":74898473,"body_markdown":"Hi I&#39;m currently using Quartz Scheduler to schedule multiple task to perform calculation. They are scheduled to be executed once per day at a certain hour and minute. But since I added the 11th Job, quart doesn&#39;t launch the Job. I don&#39;t have exception error. \r\n\r\nHere is my implementation: \r\n```\r\n JobDetail A = JobBuilder.newJob(A.class)\r\n\t                                   .withIdentity(&quot;job1&quot;)\r\n\t                                   .build();\r\n\t         \r\n\t         JobDetail B = JobBuilder.newJob(B.class)\r\n                     .withIdentity(&quot;job2&quot;)\r\n                     .build();\r\n\t         \r\n\t         \r\n\t         JobDetail C = JobBuilder.newJob(C.class)\r\n                     .withIdentity(&quot;job3&quot;)\r\n                     .build();\r\n\t         \r\n\t         \r\n\t         JobDetail D = JobBuilder.newJob(D.class)\r\n                     .withIdentity(&quot;job4&quot;)\r\n                     .build();\r\n\t         \r\n\t         JobDetail E = JobBuilder.newJob(E.class)\r\n                     .withIdentity(&quot;job5&quot;)\r\n                     .build();\r\n\t         \r\n\t         JobDetail F_hp = JobBuilder.newJob(F.class)\r\n                     .withIdentity(&quot;job6&quot;)\r\n                     .build();\r\n\t         JobDetail G = JobBuilder.newJob(G.class)\r\n                     .withIdentity(&quot;job7&quot;)\r\n                     .build();\r\n\t         \r\n\t         JobDetail H = JobBuilder.newJob(H.class)\r\n                     .withIdentity(&quot;job8&quot;)\r\n                     .build();\r\n\t         \r\n\t         JobDetail I = JobBuilder.newJob(I.class)\r\n                     .withIdentity(&quot;job9&quot;)\r\n                     .build();\r\n\t         \r\n\t         JobDetail J = JobBuilder.newJob(J.class)\r\n                     .withIdentity(&quot;job10&quot;)\r\n                     .build();\r\n             JobDetail K = JobBuilder.newJob(K.class)\r\n                     .withIdentity(&quot;job11&quot;)\r\n                     .build();\r\n\r\n```\r\n\r\nInit of trigger:\r\n```\r\n\r\ntrigger = TriggerBuilder.newTrigger()\r\n\t\t        \t\t    .withIdentity(&quot;trigger&quot;, &quot;group1&quot;)\r\n\t\t        \t\t    .withSchedule(dailyAtHourAndMinute(hour, minute))\r\n\t\t        \t\t    .build();\r\n\t\t         \r\n\t\t         \r\n\t\t         trigger2 = TriggerBuilder.newTrigger()\r\n\t\t        \t\t    .withIdentity(&quot;trigger2&quot;, &quot;group1&quot;)\r\n\t\t        \t\t    .withSchedule(dailyAtHourAndMinute(hour, minute))\r\n\t\t        \t\t    .build();\r\n\t\t         \r\n\t\t         trigger3 = TriggerBuilder.newTrigger()\r\n\t\t        \t\t    .withIdentity(&quot;trigger3&quot;, &quot;group1&quot;)\r\n\t\t        \t\t    .withSchedule(dailyAtHourAndMinute(hour, minute))\r\n\t\t        \t\t    .build();\r\n\t\t         \r\n\t\t         \r\n\t\t         trigger4 = TriggerBuilder.newTrigger()\r\n\t\t        \t\t    .withIdentity(&quot;trigger4&quot;, &quot;group1&quot;)\r\n\t\t        \t\t    .withSchedule(dailyAtHourAndMinute(hour, minute))\r\n\t\t        \t\t    .build();\r\n\t\t         \r\n\t\t         trigger5 = TriggerBuilder.newTrigger()\r\n\t\t        \t\t    .withIdentity(&quot;trigger5&quot;, &quot;group1&quot;)\r\n\t\t        \t\t    .withSchedule(dailyAtHourAndMinute(hour, minute))\r\n\t\t        \t\t    .build();\r\n\t\t         \r\n\t\t         \r\n\t\t         trigger6 = TriggerBuilder.newTrigger()\r\n\t\t        \t\t    .withIdentity(&quot;trigger6&quot;, &quot;group1&quot;)\r\n\t\t        \t\t    .withSchedule(dailyAtHourAndMinute(hour, minute))\r\n\t\t        \t\t    .build();\r\n\t\t         \r\n\t\t         trigger7 = TriggerBuilder.newTrigger()\r\n\t\t        \t\t    .withIdentity(&quot;trigger7&quot;, &quot;group1&quot;)\r\n\t\t        \t\t    .withSchedule(dailyAtHourAndMinute(hour, minute))\r\n\t\t        \t\t    .build();\r\n\t\t         \r\n\t\t         trigger8 = TriggerBuilder.newTrigger()\r\n\t\t        \t\t    .withIdentity(&quot;trigger8&quot;, &quot;group1&quot;)\r\n\t\t        \t\t    .withSchedule(dailyAtHourAndMinute(hour, minute))\r\n\t\t        \t\t    .build();\r\n\t\t         trigger9 = TriggerBuilder.newTrigger()\r\n\t\t        \t\t    .withIdentity(&quot;trigger9&quot;, &quot;group1&quot;)\r\n\t\t        \t\t    .withSchedule(dailyAtHourAndMinute(hour, minute))\r\n\t\t        \t\t    .build();\r\n\t\t         trigger10 = TriggerBuilder.newTrigger()\r\n\t\t        \t\t    .withIdentity(&quot;trigger10&quot;, &quot;group1&quot;)\r\n\t\t        \t\t    .withSchedule(dailyAtHourAndMinute(hour, minute))\r\n\t\t        \t\t    .build();\r\n                 trigger11 = TriggerBuilder.newTrigger()\r\n\t\t        \t\t    .withIdentity(&quot;trigger11&quot;, &quot;group1&quot;)\r\n\t\t        \t\t    .withSchedule(dailyAtHourAndMinute(hour, minute))\r\n\t\t        \t\t    .build();\r\n\r\n```\r\n```\r\nSchedulerFactory schFactory = new StdSchedulerFactory();\r\n\t         Scheduler sch = schFactory.getScheduler();\r\nsch.start();\r\n\t\t         sch.scheduleJob(A, trigger);\r\n\t\t         sch.scheduleJob(B, trigger2);\r\n\t\t         sch.scheduleJob(C, trigger3);\r\n\t\t         sch.scheduleJob(D,trigger4);\r\n\t\t         sch.scheduleJob(E,trigger5);\r\n\t\t         sch.scheduleJob(F,trigger6);\r\n\t\t         sch.scheduleJob(G,trigger7);\r\n\t\t         sch.scheduleJob(H,trigger8);\r\n\t\t         sch.scheduleJob(I,trigger9);\r\n\t\t         sch.scheduleJob(J,trigger10);\r\n                 sch.scheduleJob(K,trigger11);\r\n```\r\n\r\n\r\nNote: class name were masked for privacy","title":"Quartz Scheduler won&#39;t start with more than 10 job","body":"<p>Hi I'm currently using Quartz Scheduler to schedule multiple task to perform calculation. They are scheduled to be executed once per day at a certain hour and minute. But since I added the 11th Job, quart doesn't launch the Job. I don't have exception error.</p>\n<p>Here is my implementation:</p>\n<pre><code> JobDetail A = JobBuilder.newJob(A.class)\n                                       .withIdentity(&quot;job1&quot;)\n                                       .build();\n             \n             JobDetail B = JobBuilder.newJob(B.class)\n                     .withIdentity(&quot;job2&quot;)\n                     .build();\n             \n             \n             JobDetail C = JobBuilder.newJob(C.class)\n                     .withIdentity(&quot;job3&quot;)\n                     .build();\n             \n             \n             JobDetail D = JobBuilder.newJob(D.class)\n                     .withIdentity(&quot;job4&quot;)\n                     .build();\n             \n             JobDetail E = JobBuilder.newJob(E.class)\n                     .withIdentity(&quot;job5&quot;)\n                     .build();\n             \n             JobDetail F_hp = JobBuilder.newJob(F.class)\n                     .withIdentity(&quot;job6&quot;)\n                     .build();\n             JobDetail G = JobBuilder.newJob(G.class)\n                     .withIdentity(&quot;job7&quot;)\n                     .build();\n             \n             JobDetail H = JobBuilder.newJob(H.class)\n                     .withIdentity(&quot;job8&quot;)\n                     .build();\n             \n             JobDetail I = JobBuilder.newJob(I.class)\n                     .withIdentity(&quot;job9&quot;)\n                     .build();\n             \n             JobDetail J = JobBuilder.newJob(J.class)\n                     .withIdentity(&quot;job10&quot;)\n                     .build();\n             JobDetail K = JobBuilder.newJob(K.class)\n                     .withIdentity(&quot;job11&quot;)\n                     .build();\n\n</code></pre>\n<p>Init of trigger:</p>\n<pre><code>\ntrigger = TriggerBuilder.newTrigger()\n                            .withIdentity(&quot;trigger&quot;, &quot;group1&quot;)\n                            .withSchedule(dailyAtHourAndMinute(hour, minute))\n                            .build();\n                 \n                 \n                 trigger2 = TriggerBuilder.newTrigger()\n                            .withIdentity(&quot;trigger2&quot;, &quot;group1&quot;)\n                            .withSchedule(dailyAtHourAndMinute(hour, minute))\n                            .build();\n                 \n                 trigger3 = TriggerBuilder.newTrigger()\n                            .withIdentity(&quot;trigger3&quot;, &quot;group1&quot;)\n                            .withSchedule(dailyAtHourAndMinute(hour, minute))\n                            .build();\n                 \n                 \n                 trigger4 = TriggerBuilder.newTrigger()\n                            .withIdentity(&quot;trigger4&quot;, &quot;group1&quot;)\n                            .withSchedule(dailyAtHourAndMinute(hour, minute))\n                            .build();\n                 \n                 trigger5 = TriggerBuilder.newTrigger()\n                            .withIdentity(&quot;trigger5&quot;, &quot;group1&quot;)\n                            .withSchedule(dailyAtHourAndMinute(hour, minute))\n                            .build();\n                 \n                 \n                 trigger6 = TriggerBuilder.newTrigger()\n                            .withIdentity(&quot;trigger6&quot;, &quot;group1&quot;)\n                            .withSchedule(dailyAtHourAndMinute(hour, minute))\n                            .build();\n                 \n                 trigger7 = TriggerBuilder.newTrigger()\n                            .withIdentity(&quot;trigger7&quot;, &quot;group1&quot;)\n                            .withSchedule(dailyAtHourAndMinute(hour, minute))\n                            .build();\n                 \n                 trigger8 = TriggerBuilder.newTrigger()\n                            .withIdentity(&quot;trigger8&quot;, &quot;group1&quot;)\n                            .withSchedule(dailyAtHourAndMinute(hour, minute))\n                            .build();\n                 trigger9 = TriggerBuilder.newTrigger()\n                            .withIdentity(&quot;trigger9&quot;, &quot;group1&quot;)\n                            .withSchedule(dailyAtHourAndMinute(hour, minute))\n                            .build();\n                 trigger10 = TriggerBuilder.newTrigger()\n                            .withIdentity(&quot;trigger10&quot;, &quot;group1&quot;)\n                            .withSchedule(dailyAtHourAndMinute(hour, minute))\n                            .build();\n                 trigger11 = TriggerBuilder.newTrigger()\n                            .withIdentity(&quot;trigger11&quot;, &quot;group1&quot;)\n                            .withSchedule(dailyAtHourAndMinute(hour, minute))\n                            .build();\n\n</code></pre>\n<pre><code>SchedulerFactory schFactory = new StdSchedulerFactory();\n             Scheduler sch = schFactory.getScheduler();\nsch.start();\n                 sch.scheduleJob(A, trigger);\n                 sch.scheduleJob(B, trigger2);\n                 sch.scheduleJob(C, trigger3);\n                 sch.scheduleJob(D,trigger4);\n                 sch.scheduleJob(E,trigger5);\n                 sch.scheduleJob(F,trigger6);\n                 sch.scheduleJob(G,trigger7);\n                 sch.scheduleJob(H,trigger8);\n                 sch.scheduleJob(I,trigger9);\n                 sch.scheduleJob(J,trigger10);\n                 sch.scheduleJob(K,trigger11);\n</code></pre>\n<p>Note: class name were masked for privacy</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1680579265,"post_id":75925262,"comment_id":133918080,"body_markdown":"Can you highlight the code where the exception is occurring?","body":"Can you highlight the code where the exception is occurring?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680689911,"post_id":75925262,"comment_id":133939487,"body_markdown":"You cannot call `last()` (nor `first()` on a forward-only result set. It is also entirely unnecessary. You should be able to call `rs.getMetaData()` immediately. And instead of an array, use an `ArrayList`, and you don&#39;t need to know the number of rows in advance.","body":"You cannot call <code>last()</code> (nor <code>first()</code> on a forward-only result set. It is also entirely unnecessary. You should be able to call <code>rs.getMetaData()</code> immediately. And instead of an array, use an <code>ArrayList</code>, and you don&#39;t need to know the number of rows in advance."}],"owner":{"account_id":28184698,"reputation":11,"user_id":21541114,"display_name":"Jake Vincent Seraspe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680690354,"answer_count":0,"score":1,"last_activity_date":1680690117,"creation_date":1680578305,"question_id":75925262,"body_markdown":"I am getting this error:\r\n```none\r\njava.sql.SQLException: Operation not allowed for a result set of type ResultSet.TYPE_FORWARD_ONLY.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.result.ResultSetImpl.last(ResultSetImpl.java:1787)\r\n\tat ub.li.QueryProcessor.getAllRecord(QueryProcessor.java:39)\r\n\tat ub.li.Home.setsytable(Home.java:40)\r\n\tat ub.li.Home.&lt;init&gt;(Home.java:36)\r\n\tat ub.li.UBLI.main(UBLI.java:19)\r\n```\r\nIt was my old code project and it works when I use NetBeans 8.2, but not anymore in NetBeans 17. I do not know if there was a change in code over the time.\r\n\r\nI have a Java class where I can easily call when I execute a process from different source. Here is the code:\r\n```java\r\npublic class QueryProcessor {\r\n    Statement stmt;\r\n    ResultSet rs; //represents the result set of a database query .  refers to the row and column data contained in a ResultSet object\r\n    Connection con;\r\n    ResultSetMetaData metadata;\r\n\r\n    public QueryProcessor() {\r\n        try {\r\n            DBConnection.setConnection();\r\n            con = DBConnection.getConnection();\r\n            stmt = con.createStatement();\r\n        } catch (Exception e) {e.printStackTrace();}\r\n    }\r\n\r\n    public String[][] getAllRecord(String query) {\r\n        String row[][] = null;\r\n        try {\r\n            rs = stmt.executeQuery(query);\r\n            if (rs.last()) {\r\n                metadata = rs.getMetaData();\r\n                row = new String[rs.getRow()][metadata.getColumnCount()];\r\n                rs.first();\r\n                int r = 0;\r\n                do {\r\n                    for (int col = 0; col&lt;metadata.getColumnCount(); col++) {\r\n                        row[r][col] = rs.getString(col+1);\r\n                    }\r\n                    r++;\r\n                } while(rs.next());\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return row;\r\n    }\r\n\r\n    \r\n    public String getSpecificField(String query) {\r\n\t    String record = null;\r\n\t    try {\r\n\t        rs = stmt.executeQuery(query);\r\n\t        if (rs.first()) {\r\n\t            metadata = rs.getMetaData();\r\n\t            for (int col = 0; col&lt;metadata.getColumnCount(); col++) {   \r\n\t                record = rs.getString(col);\r\n\t            }\r\n\t        }\r\n\t    } catch (Exception e) {\r\n            e.printStackTrace();\r\n\t    \tjavax.swing.JOptionPane.showMessageDialog(null, &quot;ERROR&quot;);\r\n\t    }\r\n\t    return record;\r\n\t}\r\n}\r\n```","title":"java.sql.SQLException: Operation not allowed for a result set of type ResultSet.TYPE_FORWARD_ONLY","body":"<p>I am getting this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.sql.SQLException: Operation not allowed for a result set of type ResultSet.TYPE_FORWARD_ONLY.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.result.ResultSetImpl.last(ResultSetImpl.java:1787)\n    at ub.li.QueryProcessor.getAllRecord(QueryProcessor.java:39)\n    at ub.li.Home.setsytable(Home.java:40)\n    at ub.li.Home.&lt;init&gt;(Home.java:36)\n    at ub.li.UBLI.main(UBLI.java:19)\n</code></pre>\n<p>It was my old code project and it works when I use NetBeans 8.2, but not anymore in NetBeans 17. I do not know if there was a change in code over the time.</p>\n<p>I have a Java class where I can easily call when I execute a process from different source. Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class QueryProcessor {\n    Statement stmt;\n    ResultSet rs; //represents the result set of a database query .  refers to the row and column data contained in a ResultSet object\n    Connection con;\n    ResultSetMetaData metadata;\n\n    public QueryProcessor() {\n        try {\n            DBConnection.setConnection();\n            con = DBConnection.getConnection();\n            stmt = con.createStatement();\n        } catch (Exception e) {e.printStackTrace();}\n    }\n\n    public String[][] getAllRecord(String query) {\n        String row[][] = null;\n        try {\n            rs = stmt.executeQuery(query);\n            if (rs.last()) {\n                metadata = rs.getMetaData();\n                row = new String[rs.getRow()][metadata.getColumnCount()];\n                rs.first();\n                int r = 0;\n                do {\n                    for (int col = 0; col&lt;metadata.getColumnCount(); col++) {\n                        row[r][col] = rs.getString(col+1);\n                    }\n                    r++;\n                } while(rs.next());\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return row;\n    }\n\n    \n    public String getSpecificField(String query) {\n        String record = null;\n        try {\n            rs = stmt.executeQuery(query);\n            if (rs.first()) {\n                metadata = rs.getMetaData();\n                for (int col = 0; col&lt;metadata.getColumnCount(); col++) {   \n                    record = rs.getString(col);\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            javax.swing.JOptionPane.showMessageDialog(null, &quot;ERROR&quot;);\n        }\n        return record;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","flowable"],"owner":{"account_id":2096603,"reputation":69,"user_id":1865189,"display_name":"Cluesner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680689753,"creation_date":1680689753,"question_id":75938213,"body_markdown":"    select ahp .business_key_ ,aha.* from act_hi_procinst ahp join act_hi_actinst aha on ahp.proc_inst_id_ = aha.proc_inst_id_ where aha.act_name_ = &#39;Error&#39;\r\n\r\nHow to get the above query result through java in my flowable implementation ? I have written below code but i need business key from  HistoricProcessInstance. Is there any existing implementation in flowable API by joining HistoricActivityInstance and HistoricProcessInstance ?\r\n\r\n    private final HistoryService historyService;\r\n    \r\n        public void flowableRerunTask() {\r\n            List&lt;HistoricActivityInstance&gt; list = historyService.createHistoricActivityInstanceQuery().activityName(&quot;Error&quot;).list();\r\n            list.forEach(historicActivityInstance -&gt; {\r\n                if (historicActivityInstance.getActivityId() == &quot;some&quot;) {\r\n                    // will do some operation based on BusinessKey which i need to get it from HistoricProcessInstance\r\n    \r\n                }\r\n            });\r\n        }","title":"How to join Flowable tables in java","body":"<pre><code>select ahp .business_key_ ,aha.* from act_hi_procinst ahp join act_hi_actinst aha on ahp.proc_inst_id_ = aha.proc_inst_id_ where aha.act_name_ = 'Error'\n</code></pre>\n<p>How to get the above query result through java in my flowable implementation ? I have written below code but i need business key from  HistoricProcessInstance. Is there any existing implementation in flowable API by joining HistoricActivityInstance and HistoricProcessInstance ?</p>\n<pre><code>private final HistoryService historyService;\n\n    public void flowableRerunTask() {\n        List&lt;HistoricActivityInstance&gt; list = historyService.createHistoricActivityInstanceQuery().activityName(&quot;Error&quot;).list();\n        list.forEach(historicActivityInstance -&gt; {\n            if (historicActivityInstance.getActivityId() == &quot;some&quot;) {\n                // will do some operation based on BusinessKey which i need to get it from HistoricProcessInstance\n\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","junit","flapdoodle-embed-mongo"],"answers":[{"tags":[],"owner":{"account_id":26226248,"reputation":19,"user_id":19902912,"display_name":"Yatharth Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680689688,"creation_date":1680689688,"answer_id":75938199,"question_id":75925591,"body_markdown":"I resolved it by adding this code in the setup() method. This will automatically allocate the available port.\r\n\r\n            MongodStarter starter = MongodStarter.getDefaultInstance();\r\n            ServerSocket socket = new ServerSocket(0); // create a socket with a random port\r\n            mongoPort = socket.getLocalPort(); // get the port number\r\n            socket.close(); // close the socket","title":"Junit tests failing with embedded mongodb with spring boot","body":"<p>I resolved it by adding this code in the setup() method. This will automatically allocate the available port.</p>\n<pre><code>        MongodStarter starter = MongodStarter.getDefaultInstance();\n        ServerSocket socket = new ServerSocket(0); // create a socket with a random port\n        mongoPort = socket.getLocalPort(); // get the port number\n        socket.close(); // close the socket\n</code></pre>\n"}],"owner":{"account_id":26226248,"reputation":19,"user_id":19902912,"display_name":"Yatharth Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75938199,"answer_count":1,"score":1,"last_activity_date":1680689688,"creation_date":1680583543,"question_id":75925591,"body_markdown":"I have added this code to configure embedded mongodb (de.flapdoodle.embed.mongo:2.2.0) with spring boot 2.7.10 :\r\n\r\n    @Configuration\r\n    public class TestMongoConfig {\r\n    \r\n        private MongodExecutable mongodExecutable;\r\n        private MongoClient mongoClient;\r\n    \r\n        @Value(&quot;${mongo.db.host:localhost}&quot;)\r\n        private String mongoHost;\r\n    \r\n        @Value(&quot;${mongo.db.port:27017}&quot;)\r\n        private int mongoPort;\r\n    \r\n        @Value(&quot;${mongo.db.database:test}&quot;)\r\n        private String mongoDatabase;\r\n    \r\n        @PostConstruct\r\n        public void setup() throws Exception {\r\n            MongodStarter starter = MongodStarter.getDefaultInstance();\r\n            IMongodConfig mongodConfig = new MongodConfigBuilder()\r\n                    .version(Version.Main.V3_2)\r\n                    .net(new Net(mongoHost, mongoPort, Network.localhostIsIPv6()))\r\n                    .build();\r\n    \r\n            mongodExecutable = starter.prepare(mongodConfig);\r\n            mongodExecutable.start();\r\n            String connectionString = &quot;mongodb://&quot; + mongoHost + &quot;:&quot; + mongoPort;\r\n            mongoClient = MongoClients.create(connectionString);\r\n        }\r\n    \r\n        @PreDestroy\r\n        public void cleanup() {\r\n            mongodExecutable.stop();\r\n            mongoClient.close();\r\n        }\r\n    \r\n        @Bean\r\n        public MongoTemplate mongoTemplate() {\r\n            return new MongoTemplate(mongoClient, mongoDatabase);\r\n        }\r\n    }\r\n\r\nI am adding this to my test class like this :\r\n\r\n    @Autowired\r\n    private MongoTemplate mongoTemplate;\r\n\r\nFew tests are getting failed with this error :\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;testMongoConfig&#39;: Invocation of init method failed; nested exception is java.io.IOException: Could not start process: failed errno:10048 Only one usage of each socket address (protocol/network address/port) is normally permitted. for socket: 127.0.0.1:27017\r\n    \r\n    2023-04-04T10:11:42.087+0530 E STORAGE  [initandlisten] Failed to set up sockets during startup.\r\n\r\n","title":"Junit tests failing with embedded mongodb with spring boot","body":"<p>I have added this code to configure embedded mongodb (de.flapdoodle.embed.mongo:2.2.0) with spring boot 2.7.10 :</p>\n<pre><code>@Configuration\npublic class TestMongoConfig {\n\n    private MongodExecutable mongodExecutable;\n    private MongoClient mongoClient;\n\n    @Value(&quot;${mongo.db.host:localhost}&quot;)\n    private String mongoHost;\n\n    @Value(&quot;${mongo.db.port:27017}&quot;)\n    private int mongoPort;\n\n    @Value(&quot;${mongo.db.database:test}&quot;)\n    private String mongoDatabase;\n\n    @PostConstruct\n    public void setup() throws Exception {\n        MongodStarter starter = MongodStarter.getDefaultInstance();\n        IMongodConfig mongodConfig = new MongodConfigBuilder()\n                .version(Version.Main.V3_2)\n                .net(new Net(mongoHost, mongoPort, Network.localhostIsIPv6()))\n                .build();\n\n        mongodExecutable = starter.prepare(mongodConfig);\n        mongodExecutable.start();\n        String connectionString = &quot;mongodb://&quot; + mongoHost + &quot;:&quot; + mongoPort;\n        mongoClient = MongoClients.create(connectionString);\n    }\n\n    @PreDestroy\n    public void cleanup() {\n        mongodExecutable.stop();\n        mongoClient.close();\n    }\n\n    @Bean\n    public MongoTemplate mongoTemplate() {\n        return new MongoTemplate(mongoClient, mongoDatabase);\n    }\n}\n</code></pre>\n<p>I am adding this to my test class like this :</p>\n<pre><code>@Autowired\nprivate MongoTemplate mongoTemplate;\n</code></pre>\n<p>Few tests are getting failed with this error :</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'testMongoConfig': Invocation of init method failed; nested exception is java.io.IOException: Could not start process: failed errno:10048 Only one usage of each socket address (protocol/network address/port) is normally permitted. for socket: 127.0.0.1:27017\n\n2023-04-04T10:11:42.087+0530 E STORAGE  [initandlisten] Failed to set up sockets during startup.\n</code></pre>\n"},{"tags":["java","spring-boot","docker","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":7384360,"reputation":1070,"user_id":5619827,"accept_rate":80,"display_name":"Horsing"},"score":1,"creation_date":1680690001,"post_id":75938188,"comment_id":133939505,"body_markdown":"So, where did you store the shared sessiom-related data? Could all instances access those data accordingly? Just remember your traffic could be loadbalanced to any instance. session data should be accessible at any instance if you replicated your pod to more than one.","body":"So, where did you store the shared sessiom-related data? Could all instances access those data accordingly? Just remember your traffic could be loadbalanced to any instance. session data should be accessible at any instance if you replicated your pod to more than one."},{"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"score":0,"creation_date":1680691753,"post_id":75938188,"comment_id":133939921,"body_markdown":"@GeminiKeith Many thanks for the reply. You could well be right here. I am not doing anything to explicitly share session data. I was hoping all that would be handled by the Spring framework automatically as this is a common requirement - but that&#39;s a lot to ask I guess! Would you be able to share any reference / links / patterns on how session data can be shared across instances as I am new to this? I would be most grateful for any assistance :)","body":"@GeminiKeith Many thanks for the reply. You could well be right here. I am not doing anything to explicitly share session data. I was hoping all that would be handled by the Spring framework automatically as this is a common requirement - but that&#39;s a lot to ask I guess! Would you be able to share any reference / links / patterns on how session data can be shared across instances as I am new to this? I would be most grateful for any assistance :)"},{"owner":{"account_id":7384360,"reputation":1070,"user_id":5619827,"accept_rate":80,"display_name":"Horsing"},"score":1,"creation_date":1680692658,"post_id":75938188,"comment_id":133940140,"body_markdown":"Suppose you are using spring session to manage sessions, you can check `Spring Session`  reference https://docs.spring.io/spring-session/reference/guides/boot-redis.html . However, I suggest you post your operation flow step by step and show us which step failed and for what. That will be useful to figure out what the real issue might be.","body":"Suppose you are using spring session to manage sessions, you can check <code>Spring Session</code>  reference <a href=\"https://docs.spring.io/spring-session/reference/guides/boot-redis.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-session/reference/guides/boot-redis.ht&zwnj;&#8203;ml</a> . However, I suggest you post your operation flow step by step and show us which step failed and for what. That will be useful to figure out what the real issue might be."},{"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"score":0,"creation_date":1680695207,"post_id":75938188,"comment_id":133940749,"body_markdown":"@GeminiKeith Many thanks again Keith. I currently have no explicit session management implemented. I am going to implement Spring Session with redis as a start point and see how it behaves once I&#39;ve done that. Will come back to let you know how I get on. Appreciate the support! :)","body":"@GeminiKeith Many thanks again Keith. I currently have no explicit session management implemented. I am going to implement Spring Session with redis as a start point and see how it behaves once I&#39;ve done that. Will come back to let you know how I get on. Appreciate the support! :)"},{"owner":{"account_id":7384360,"reputation":1070,"user_id":5619827,"accept_rate":80,"display_name":"Horsing"},"score":1,"creation_date":1680695478,"post_id":75938188,"comment_id":133940809,"body_markdown":"Never mind. More steps and errors would be useful. You can just post more details if you encounter more problems.","body":"Never mind. More steps and errors would be useful. You can just post more details if you encounter more problems."}],"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680689612,"creation_date":1680689612,"question_id":75938188,"body_markdown":"I have a `Java 11`, `Spring Boot 2.7.4` application using `Spring MVC` and `Spring Security` to allow users to upload and search for documents in a repository. The application is deployed as a `Docker` container to `AWS EC2` instances and is accessed via a load balancer.\r\n\r\nThe application works fine when deployed as a single instance. However, when I attempt to scale it to 2 replicas, I see intermittent errors like this:\r\n\r\n    This site cant be reached. The webpage at http://load-balancer:port/content/login might be temporarily down or it may have moved permanently to a new web address.\r\n    ERR_INVALID_RESPONSE\r\n \r\nI have extended `WebSecurityConfigurerAdapter` and overridden configure as shown below: -\r\n\r\n```\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        String[] antMatchers = antMatcherPatterns.split(ANT_MATCHERS_DELIMITER);\r\n\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(antMatchers)\r\n                .permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/content/login&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .logoutUrl(&quot;/content/logout&quot;)\r\n                .logoutSuccessUrl(&quot;/content/logout&quot;)\r\n                .permitAll();\r\n    }\r\n```\r\n\r\nA `Spring Controller` is implemented to handle user requests. An edited version is pasted below: -\r\n\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/content&quot;)\r\npublic class ContentLandingController {\t\r\n\r\n\t@GetMapping(&quot;/documents/{app}&quot;)\r\n    public ModelAndView getDocumentsPage(@PathVariable(&quot;app&quot;) String app, HttpServletRequest req, Principal principal) {\r\n        //Prepare the view\r\n        ModelAndView modelAndView = modelAndViewHelper.getSearchPageModelAndView(application, metadataListWrapper, principal);\r\n        return modelAndView;\r\n    }\r\n\r\n}\r\n```\r\nThe application listens on a fixed port, which is hard coded in the `Docker` `stack.yml` file. Could this be the issue? And if so, how should this be addressed? I did wonder if having multiple instances listening on the same port could be the root cause. However, the logs show that all instances start normally.\r\n\r\nI would be extremely grateful for any suggestions and or advice on this issue. Many thanks for reading my post.\r\n","title":"Docker Spring Boot MVC app failing when scaled to multiple instances","body":"<p>I have a <code>Java 11</code>, <code>Spring Boot 2.7.4</code> application using <code>Spring MVC</code> and <code>Spring Security</code> to allow users to upload and search for documents in a repository. The application is deployed as a <code>Docker</code> container to <code>AWS EC2</code> instances and is accessed via a load balancer.</p>\n<p>The application works fine when deployed as a single instance. However, when I attempt to scale it to 2 replicas, I see intermittent errors like this:</p>\n<pre><code>This site cant be reached. The webpage at http://load-balancer:port/content/login might be temporarily down or it may have moved permanently to a new web address.\nERR_INVALID_RESPONSE\n</code></pre>\n<p>I have extended <code>WebSecurityConfigurerAdapter</code> and overridden configure as shown below: -</p>\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        String[] antMatchers = antMatcherPatterns.split(ANT_MATCHERS_DELIMITER);\n\n        http\n                .authorizeRequests()\n                .antMatchers(antMatchers)\n                .permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/content/login&quot;)\n                .permitAll()\n                .and()\n                .logout()\n                .logoutUrl(&quot;/content/logout&quot;)\n                .logoutSuccessUrl(&quot;/content/logout&quot;)\n                .permitAll();\n    }\n</code></pre>\n<p>A <code>Spring Controller</code> is implemented to handle user requests. An edited version is pasted below: -</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/content&quot;)\npublic class ContentLandingController { \n\n    @GetMapping(&quot;/documents/{app}&quot;)\n    public ModelAndView getDocumentsPage(@PathVariable(&quot;app&quot;) String app, HttpServletRequest req, Principal principal) {\n        //Prepare the view\n        ModelAndView modelAndView = modelAndViewHelper.getSearchPageModelAndView(application, metadataListWrapper, principal);\n        return modelAndView;\n    }\n\n}\n</code></pre>\n<p>The application listens on a fixed port, which is hard coded in the <code>Docker</code> <code>stack.yml</code> file. Could this be the issue? And if so, how should this be addressed? I did wonder if having multiple instances listening on the same port could be the root cause. However, the logs show that all instances start normally.</p>\n<p>I would be extremely grateful for any suggestions and or advice on this issue. Many thanks for reading my post.</p>\n"},{"tags":["java","spring-boot","pattern-matching","jsonparser"],"owner":{"account_id":10289423,"reputation":41,"user_id":7591594,"display_name":"rakesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680689529,"creation_date":1680689529,"question_id":75938179,"body_markdown":"I am using the spring boot application\r\nI have a controller as below\r\n\r\n    public Response login(@Valid @NotNull @RequestBody LoginRequest loginReq) throws URISyntaxException {\r\n    }\r\n\r\nLoginRequest class contains as below\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class LoginRequest {\r\n      @NotBlank\r\n      @Pattern(regexp = &quot;[0-9]+&quot;, message = &quot;Id should contain only digits&quot;)\r\n      private String id;\r\n\r\n      @NotNull\r\n      private String password;\r\n    }\r\n\r\nGetting the below Json parser error if there is a &quot;\\&quot; in the id at the end\r\n\r\n    {\r\n      &quot;id&quot;:&quot;123456789\\&quot;,\r\n      &quot;password&quot;:&quot;abcd&quot;\r\n    }\r\n\r\nError:\r\n\r\n    JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream);\r\n\r\nHow to exclude the &quot;\\&quot; and return the pattern message(Id should contain only digits) as response instead of JSON parse error?\r\n\r\npresent response:\r\n\r\n    {&quot;errorCode&quot;:0,&quot;message&quot;:&quot;JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream);&quot;,&quot;traceId&quot;:&quot;1b787aba346c6969&quot;}\r\n\r\nExpected response:\r\n\r\n    {&quot;errorCode&quot;:0,&quot;message&quot;:&quot;Id should contain only digits&quot;,&quot;traceId&quot;:&quot;1b787aba346c6969&quot;}","title":"JSON parse error - has to be escaped using backslash to be included in string value code 10","body":"<p>I am using the spring boot application\nI have a controller as below</p>\n<pre><code>public Response login(@Valid @NotNull @RequestBody LoginRequest loginReq) throws URISyntaxException {\n}\n</code></pre>\n<p>LoginRequest class contains as below</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class LoginRequest {\n  @NotBlank\n  @Pattern(regexp = &quot;[0-9]+&quot;, message = &quot;Id should contain only digits&quot;)\n  private String id;\n\n  @NotNull\n  private String password;\n}\n</code></pre>\n<p>Getting the below Json parser error if there is a &quot;&quot; in the id at the end</p>\n<pre><code>{\n  &quot;id&quot;:&quot;123456789\\&quot;,\n  &quot;password&quot;:&quot;abcd&quot;\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream);\n</code></pre>\n<p>How to exclude the &quot;&quot; and return the pattern message(Id should contain only digits) as response instead of JSON parse error?</p>\n<p>present response:</p>\n<pre><code>{&quot;errorCode&quot;:0,&quot;message&quot;:&quot;JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in string value\\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream);&quot;,&quot;traceId&quot;:&quot;1b787aba346c6969&quot;}\n</code></pre>\n<p>Expected response:</p>\n<pre><code>{&quot;errorCode&quot;:0,&quot;message&quot;:&quot;Id should contain only digits&quot;,&quot;traceId&quot;:&quot;1b787aba346c6969&quot;}\n</code></pre>\n"},{"tags":["java","serialization","deserialization","java-17"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1680689056,"post_id":75937755,"comment_id":133939288,"body_markdown":"I&#39;d say the class name (or any other string) not being deserialized would be more expected since the field is declared final. Without that it would work. So the question would rather be: what happens to `dateTimeThen`?","body":"I&#39;d say the class name (or any other string) not being deserialized would be more expected since the field is declared final. Without that it would work. So the question would rather be: what happens to <code>dateTimeThen</code>?"},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1680689119,"post_id":75937755,"comment_id":133939307,"body_markdown":"In the 1st execution, className contains the Class name, &amp; is serialised. In the 2nd execution, it is initialised to &quot;Why this?!&quot; but I expect it to be overwritten by the serialised value from the 1st execution, just as the other 2 fields. All 3 fields are declared final, so no difference there. If we consider the 2 final Strings dateTimeThen &amp; className, why is one being deserialised &amp; the other not?","body":"In the 1st execution, className contains the Class name, &amp; is serialised. In the 2nd execution, it is initialised to &quot;Why this?!&quot; but I expect it to be overwritten by the serialised value from the 1st execution, just as the other 2 fields. All 3 fields are declared final, so no difference there. If we consider the 2 final Strings dateTimeThen &amp; className, why is one being deserialised &amp; the other not?"},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1680690463,"post_id":75937755,"comment_id":133939622,"body_markdown":"That is a very plausible explanation...","body":"That is a very plausible explanation..."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1680690511,"post_id":75937755,"comment_id":133939631,"body_markdown":"...but scary!!!","body":"...but scary!!!"},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1680691157,"post_id":75937755,"comment_id":133939764,"body_markdown":"yes, I&#39;d already checked that. Many, many thanks for your feedback. Now I wonder if its a bug or a &quot;works as designed&quot;? :)","body":"yes, I&#39;d already checked that. Many, many thanks for your feedback. Now I wonder if its a bug or a &quot;works as designed&quot;? :)"},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1680691671,"post_id":75937755,"comment_id":133939890,"body_markdown":"Also, you can fool it by coding the initialiser as...","body":"Also, you can fool it by coding the initialiser as..."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1680691678,"post_id":75937755,"comment_id":133939892,"body_markdown":"&quot;public final String className = new String(&quot;Why this?!&quot;.getBytes());&quot;","body":"&quot;public final String className = new String(&quot;Why this?!&quot;.getBytes());&quot;"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1680693351,"post_id":75937755,"comment_id":133940298,"body_markdown":"&quot;Now I wonder if its a bug or a &quot;works as designed&quot;?&quot; - In general I&#39;d try to avoid Java&#39;s serialization and go for more specialized implementations/approaches/formats like json, avro, protobuff etc.","body":"&quot;Now I wonder if its a bug or a &quot;works as designed&quot;?&quot; - In general I&#39;d try to avoid Java&#39;s serialization and go for more specialized implementations/approaches/formats like json, avro, protobuff etc."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1680696569,"post_id":75937755,"comment_id":133941104,"body_markdown":"@Thomas In the end we had to abandon Serialisation as it was not possible to get the Payload Class in the same package on the various (Point &amp; Click) Client Apps we have &amp; that is a prerequisite of Serialisation, so maybe we&#39;ll take a look at one of the solutions you suggested...","body":"@Thomas In the end we had to abandon Serialisation as it was not possible to get the Payload Class in the same package on the various (Point &amp; Click) Client Apps we have &amp; that is a prerequisite of Serialisation, so maybe we&#39;ll take a look at one of the solutions you suggested..."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1680699872,"post_id":75937755,"comment_id":133942210,"body_markdown":"`new ByteArrayInputStream(Files.readAllBytes(PATH))` is not how programs should read files.  Use `new BufferedInputStream(Files.newInputStream(PATH))` instead.  I know this is just a simple test, but its a good idea to get in the habit of reading files in a way that can scale up without any risk of maxing out program memory.","body":"<code>new ByteArrayInputStream(Files.readAllBytes(PATH))</code> is not how programs should read files.  Use <code>new BufferedInputStream(Files.newInputStream(PATH))</code> instead.  I know this is just a simple test, but its a good idea to get in the habit of reading files in a way that can scale up without any risk of maxing out program memory."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1680715942,"post_id":75937755,"comment_id":133946788,"body_markdown":"`final String className = &quot;Why this?!&quot;` is a compile-time constant, regardless of whether this is a `static` or instance field or even a local variable. See [this answer](https://stackoverflow.com/a/70335372/2711488), for example. So this works as designed. And in addition to [@VGRs comment](https://stackoverflow.com/questions/75937755/java-deserialisation-anomaly#comment133942210_75937755), you should also use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html). See also https://stackoverflow.com/q/39386014/2711488","body":"<code>final String className = &quot;Why this?!&quot;</code> is a compile-time constant, regardless of whether this is a <code>static</code> or instance field or even a local variable. See <a href=\"https://stackoverflow.com/a/70335372/2711488\">this answer</a>, for example. So this works as designed. And in addition to <a href=\"https://stackoverflow.com/questions/75937755/java-deserialisation-anomaly#comment133942210_75937755\">@VGRs comment</a>, you should also use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>. See also <a href=\"https://stackoverflow.com/q/39386014/2711488\">stackoverflow.com/q/39386014/2711488</a>"}],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680689246,"creation_date":1680686648,"question_id":75937755,"body_markdown":"I have an Issue deserialising a Java Instance with 3 fields.&lt;br&gt;\r\n2 of the fields are being deserialised as I would expect.\r\n\r\nThe 3rd is being initialised as defined in the Class.&lt;br&gt;\r\nI would expect it to be deserialised too.\r\n\r\nI am using openJDK 17.\r\n\r\nBelow is some example code.\r\n\r\n1) Run the Programme as is\r\n2) WAIT a few seconds\r\n3) comment in &amp; out as indicated (3 TODO&#39;s) &amp; run again\r\n\r\nFirst time through I get this:\r\n\r\n    11:09:02 SerialTest then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685742988\r\n    11:09:04 SerialTest then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685744990\r\n    11:09:06 SerialTest then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685746992\r\n    11:09:08 SerialTest then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685748993\r\n    11:09:10 SerialTest then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685750994\r\n\r\nSecond time, this:\r\n\r\n    11:09:40 Why this?! then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685780744\r\n    11:09:42 Why this?! then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685782747\r\n    11:09:44 Why this?! then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685784749\r\n    11:09:46 Why this?! then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685786751\r\n    11:09:48 Why this?! then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685788751\r\n\r\nThe &quot;then&quot; Millis &amp; LocalTime are being deserialised as I had expected &amp; remain constant.&lt;br&gt;\r\nCan anyone help me to understand why className is not being deserialised?\r\n\r\n    import java.io.*;\r\n    import java.nio.file.*;\r\n    import java.time.*;\r\n    import java.time.temporal.*;\r\n    \r\n    public final class SerialTest implements Serializable {\r\n    \r\n    \tprivate static final long    serialVersionUID = -5422947008060509280L;\r\n    \tprivate static final Path    PATH             = Path.of(&quot;SerialTest.ser&quot;);\r\n    \r\n    \tpublic         final long    millisThen       = System.currentTimeMillis();\r\n    \tpublic         final String  dateTimeThen     = LocalTime.now().toString();\r\n    \r\n    \tpublic         final String  className        =  SerialTest.class.getName(); // TODO Comment out\r\n    //\tpublic         final String  className        = &quot;Why this?!&quot;;                // TODO Comment in\r\n    \r\n    \tpublic static void main(final String[] args) throws Exception {\r\n    \r\n    \t\tFiles.write(PATH, new SerialTest().serialize()); // TODO Comment out\r\n    \r\n    \t\tdeserialize();    sleep(Duration.ofSeconds(2));\r\n    \t\tdeserialize();    sleep(Duration.ofSeconds(2));\r\n    \t\tdeserialize();    sleep(Duration.ofSeconds(2));\r\n    \t\tdeserialize();    sleep(Duration.ofSeconds(2));\r\n    \t\tdeserialize();    sleep(Duration.ofSeconds(2));\r\n    \t}\r\n    \r\n    \tprivate static void sleep(final Duration duration) {\r\n    \t\ttry {Thread.sleep(duration.toMillis());} catch (final Exception e) {}\r\n    \t}\r\n    \r\n    \tprivate static void deserialize() throws Exception {\r\n    \r\n    \t\tfinal InputStream ist = new  ByteArrayInputStream(Files.readAllBytes(PATH));\r\n    \r\n    \t\tfinal SerialTest  ser = (SerialTest) new ObjectInputStream(ist).readObject();\r\n    \r\n    \t\tSystem.out.print  (&quot;&quot;           + LocalTime.now().truncatedTo(ChronoUnit.SECONDS));\r\n    \t\tSystem.out.print  (&quot; &quot;          + ser.className);\r\n    \t\tSystem.out.print  (&quot; then.: &quot;   + ser.dateTimeThen);\r\n    \t\tSystem.out.print  (&quot; msThen.: &quot; + ser.millisThen);\r\n    \t\tSystem.out.println(&quot; msNow.: &quot;  + System.currentTimeMillis());\r\n    \t}\r\n    \r\n    \tpublic byte[] serialize() throws IOException {\r\n    \r\n    \t\tfinal ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\tfinal    ObjectOutputStream oos  = new    ObjectOutputStream(baos);\r\n    \r\n    \t\ttry {\r\n    \t\t\toos.writeObject(this);\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\toos.close();\r\n    \t\t}\r\n    \t\treturn baos.toByteArray();\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n","title":"Java Deserialisation anomaly","body":"<p>I have an Issue deserialising a Java Instance with 3 fields.<br>\n2 of the fields are being deserialised as I would expect.</p>\n<p>The 3rd is being initialised as defined in the Class.<br>\nI would expect it to be deserialised too.</p>\n<p>I am using openJDK 17.</p>\n<p>Below is some example code.</p>\n<ol>\n<li>Run the Programme as is</li>\n<li>WAIT a few seconds</li>\n<li>comment in &amp; out as indicated (3 TODO's) &amp; run again</li>\n</ol>\n<p>First time through I get this:</p>\n<pre><code>11:09:02 SerialTest then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685742988\n11:09:04 SerialTest then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685744990\n11:09:06 SerialTest then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685746992\n11:09:08 SerialTest then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685748993\n11:09:10 SerialTest then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685750994\n</code></pre>\n<p>Second time, this:</p>\n<pre><code>11:09:40 Why this?! then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685780744\n11:09:42 Why this?! then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685782747\n11:09:44 Why this?! then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685784749\n11:09:46 Why this?! then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685786751\n11:09:48 Why this?! then.: 11:09:02.870987 msThen.: 1680685742677 msNow.: 1680685788751\n</code></pre>\n<p>The &quot;then&quot; Millis &amp; LocalTime are being deserialised as I had expected &amp; remain constant.<br>\nCan anyone help me to understand why className is not being deserialised?</p>\n<pre><code>import java.io.*;\nimport java.nio.file.*;\nimport java.time.*;\nimport java.time.temporal.*;\n\npublic final class SerialTest implements Serializable {\n\n    private static final long    serialVersionUID = -5422947008060509280L;\n    private static final Path    PATH             = Path.of(&quot;SerialTest.ser&quot;);\n\n    public         final long    millisThen       = System.currentTimeMillis();\n    public         final String  dateTimeThen     = LocalTime.now().toString();\n\n    public         final String  className        =  SerialTest.class.getName(); // TODO Comment out\n//  public         final String  className        = &quot;Why this?!&quot;;                // TODO Comment in\n\n    public static void main(final String[] args) throws Exception {\n\n        Files.write(PATH, new SerialTest().serialize()); // TODO Comment out\n\n        deserialize();    sleep(Duration.ofSeconds(2));\n        deserialize();    sleep(Duration.ofSeconds(2));\n        deserialize();    sleep(Duration.ofSeconds(2));\n        deserialize();    sleep(Duration.ofSeconds(2));\n        deserialize();    sleep(Duration.ofSeconds(2));\n    }\n\n    private static void sleep(final Duration duration) {\n        try {Thread.sleep(duration.toMillis());} catch (final Exception e) {}\n    }\n\n    private static void deserialize() throws Exception {\n\n        final InputStream ist = new  ByteArrayInputStream(Files.readAllBytes(PATH));\n\n        final SerialTest  ser = (SerialTest) new ObjectInputStream(ist).readObject();\n\n        System.out.print  (&quot;&quot;           + LocalTime.now().truncatedTo(ChronoUnit.SECONDS));\n        System.out.print  (&quot; &quot;          + ser.className);\n        System.out.print  (&quot; then.: &quot;   + ser.dateTimeThen);\n        System.out.print  (&quot; msThen.: &quot; + ser.millisThen);\n        System.out.println(&quot; msNow.: &quot;  + System.currentTimeMillis());\n    }\n\n    public byte[] serialize() throws IOException {\n\n        final ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        final    ObjectOutputStream oos  = new    ObjectOutputStream(baos);\n\n        try {\n            oos.writeObject(this);\n        }\n        finally {\n            oos.close();\n        }\n        return baos.toByteArray();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":2195289,"reputation":2137,"user_id":1941151,"accept_rate":80,"display_name":"incomplete-co.de"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1372417322,"creation_date":1372417322,"answer_id":17363212,"question_id":17348062,"body_markdown":"the current release of Spring Batch (2.2.0) doesn&#39;t appear to have an out of the box solution for this situation.  as discussed in this [question][1], &#39;manual&#39; intervention in the database may be required.  alternatively, if this is a particular job that is hanging (that is, you know the job name), you can do the following as well;\r\n\r\n- use the `JobExplorer.findRunningJobExecutions(jobName)`\r\n- go through the list of executions and &#39;fail&#39; them (`JobExecution.upgradeStatus(BatchStatus.FAILED)`)\r\n- save the change using `JobRepository.update(jobExecution)`\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17336959/batchjob-batchjob-still-running-when-is-server-stopped","title":"spring batch remains in EXECUTING","body":"<p>the current release of Spring Batch (2.2.0) doesn't appear to have an out of the box solution for this situation.  as discussed in this <a href=\"https://stackoverflow.com/questions/17336959/batchjob-batchjob-still-running-when-is-server-stopped\">question</a>, 'manual' intervention in the database may be required.  alternatively, if this is a particular job that is hanging (that is, you know the job name), you can do the following as well;</p>\n\n<ul>\n<li>use the <code>JobExplorer.findRunningJobExecutions(jobName)</code></li>\n<li>go through the list of executions and 'fail' them (<code>JobExecution.upgradeStatus(BatchStatus.FAILED)</code>)</li>\n<li>save the change using <code>JobRepository.update(jobExecution)</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":886880,"reputation":628,"user_id":926120,"accept_rate":54,"display_name":"Sampath Pasupunuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395425879,"creation_date":1395425879,"answer_id":22566555,"question_id":17348062,"body_markdown":"Just an FYI why this problem of connection limit occurs when using a CursorItemReader (JDBCCursorItemReader or HibernateCursorItemReader)\r\n\r\nThe cursorItemReader opens a separate connection even if there is already a connection opened for the transaction (Reader -&gt; Processors -&gt; Writer). So, each step execution needs two connections even if it is in a single transaction and hitting the same db. This causes the connection bottleneck and so the number of db connections should be double the number of threads configured in thread pool to execute the steps in parallel.\r\nThis can also be resolve if you provide a separate connection to your CursorReader.\r\n\r\nJdbcPagingItemReader is another implementation of ItemReader which uses the same connection opened for the transaction.","title":"spring batch remains in EXECUTING","body":"<p>Just an FYI why this problem of connection limit occurs when using a CursorItemReader (JDBCCursorItemReader or HibernateCursorItemReader)</p>\n\n<p>The cursorItemReader opens a separate connection even if there is already a connection opened for the transaction (Reader -> Processors -> Writer). So, each step execution needs two connections even if it is in a single transaction and hitting the same db. This causes the connection bottleneck and so the number of db connections should be double the number of threads configured in thread pool to execute the steps in parallel.\nThis can also be resolve if you provide a separate connection to your CursorReader.</p>\n\n<p>JdbcPagingItemReader is another implementation of ItemReader which uses the same connection opened for the transaction.</p>\n"},{"tags":[],"owner":{"account_id":11602657,"reputation":99,"user_id":8499316,"display_name":"Pritam Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680689244,"creation_date":1680689244,"answer_id":75938140,"question_id":17348062,"body_markdown":"Update batch tables with FAILED status in DB \r\n\r\n**-- batch_step_execution**    \r\n\r\n    UPDATE batch_step_execution\r\n    SET\r\n        end_time = sysdate,\r\n        last_updated = sysdate,\r\n        status = &#39;COMPLETED&#39;,\r\n        exit_code = &#39;FAILED&#39;\r\n    WHERE\r\n        step_execution_id IN (\r\n            SELECT\r\n                step_execution_id\r\n            FROM\r\n                batch_step_execution bse\r\n            WHERE\r\n                    1 = 1\r\n                AND status NOT IN ( &#39;COMPLETED&#39;, &#39;FAILED&#39; )\r\n                OR exit_code NOT IN ( &#39;COMPLETED&#39;, &#39;FAILED&#39; )\r\n        );\r\n\r\n**-- batch_job_execution**\r\n\r\n    UPDATE batch_job_execution\r\n    SET\r\n        end_time = sysdate,\r\n        last_updated = sysdate,\r\n        status = &#39;COMPLETED&#39;,\r\n        exit_code = &#39;FAILED&#39;\r\n    WHERE\r\n        job_execution_id IN (\r\n            SELECT\r\n                bje.job_execution_id\r\n            FROM\r\n                batch_job_execution bje\r\n            WHERE\r\n                    1 = 1\r\n                AND ( status NOT IN ( &#39;COMPLETED&#39;, &#39;FAILED&#39; ) )\r\n                OR ( exit_code NOT IN ( &#39;COMPLETED&#39;, &#39;FAILED&#39; ) )\r\n        );","title":"spring batch remains in EXECUTING","body":"<p>Update batch tables with FAILED status in DB</p>\n<p><strong>-- batch_step_execution</strong></p>\n<pre><code>UPDATE batch_step_execution\nSET\n    end_time = sysdate,\n    last_updated = sysdate,\n    status = 'COMPLETED',\n    exit_code = 'FAILED'\nWHERE\n    step_execution_id IN (\n        SELECT\n            step_execution_id\n        FROM\n            batch_step_execution bse\n        WHERE\n                1 = 1\n            AND status NOT IN ( 'COMPLETED', 'FAILED' )\n            OR exit_code NOT IN ( 'COMPLETED', 'FAILED' )\n    );\n</code></pre>\n<p><strong>-- batch_job_execution</strong></p>\n<pre><code>UPDATE batch_job_execution\nSET\n    end_time = sysdate,\n    last_updated = sysdate,\n    status = 'COMPLETED',\n    exit_code = 'FAILED'\nWHERE\n    job_execution_id IN (\n        SELECT\n            bje.job_execution_id\n        FROM\n            batch_job_execution bje\n        WHERE\n                1 = 1\n            AND ( status NOT IN ( 'COMPLETED', 'FAILED' ) )\n            OR ( exit_code NOT IN ( 'COMPLETED', 'FAILED' ) )\n    );\n</code></pre>\n"}],"owner":{"account_id":1227237,"reputation":107,"user_id":1192572,"accept_rate":75,"display_name":"smuco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4513,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":17363212,"answer_count":3,"score":1,"last_activity_date":1680689244,"creation_date":1372349250,"question_id":17348062,"body_markdown":"I created a job which uses reader of type\r\n`org.springframework.batch.item.database.HibernateCursorItemReader` to execute a query. \r\n\r\nThe problem is database connection in this case is hitting connection limit (I have a oracle error `ORA-12519, TNS:no appropriate service handler found`) and, surprisingly, I noticed `exit_code=EXECUTING and status=STARTED on BATCH_STEP_EXECUTION table.` \r\n\r\nIf I run again the job it will respond  `&quot;A job execution for this job is already running&quot;` and if I issue `-restart` on this task, it complains with message `&quot;No failed or stopped execution found for job&quot;.`\r\n\r\nHow does spring batch manages these fatal failure situations? Do I have to remove these execution information manually or is there a reset option?\r\nThank you for any help","title":"spring batch remains in EXECUTING","body":"<p>I created a job which uses reader of type\n<code>org.springframework.batch.item.database.HibernateCursorItemReader</code> to execute a query. </p>\n\n<p>The problem is database connection in this case is hitting connection limit (I have a oracle error <code>ORA-12519, TNS:no appropriate service handler found</code>) and, surprisingly, I noticed <code>exit_code=EXECUTING and status=STARTED on BATCH_STEP_EXECUTION table.</code> </p>\n\n<p>If I run again the job it will respond  <code>\"A job execution for this job is already running\"</code> and if I issue <code>-restart</code> on this task, it complains with message <code>\"No failed or stopped execution found for job\".</code></p>\n\n<p>How does spring batch manages these fatal failure situations? Do I have to remove these execution information manually or is there a reset option?\nThank you for any help</p>\n"},{"tags":["java","list"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680686473,"creation_date":1680682584,"answer_id":75937147,"question_id":75937069,"body_markdown":"you&#39;ll need to map from one type to the other. One simple solution would be to manually stream them and map the, like this:\r\n\r\n    List&lt;com.loyalty.marketplace.outbound.dto.CobrandedCardDto&gt; dtos = ...;\r\n    List&lt;com.loyalty.marketplace.offers.member.management.outbound.CobrandedCardDto&gt; mappedDtos = dtos.stream()\r\n        .map(dto -&gt; new com.loyalty.marketplace.offers.member.management.outbound.CobrandedCardDto(\r\n           dto.getPartnerCode(),\r\n           dto.getBankId(),\r\n           dto.getStatus(),\r\n           dto.getCardType()\r\n        ))\r\n        .toList();\r\n\r\nIf will be doing this with other objects as well, you can consider using a mapping library such as mapstruct: https://www.baeldung.com/mapstruct\r\n\r\nPS: consider renaming one of them so that you don&#39;t need the fully qualified name.\r\n\r\n\r\nUpdate: if you don&#39;t want to add the @AllArgsConstructor, you can see the setters instead:\r\n\r\n    .map(dto -&gt; {\r\n        var mappedDto = new com.loyalty.marketplace.offers.member.management.outbound.CobrandedCardDto();\r\n        mappedDto.setPartnerCode(dto.getPartnerCode());\r\n        mappedDto.setBankId(dto.getBankId());\r\n        mappedDto.setStatus(dto.getStatus());\r\n        mappedDto.setCardType(dto.getCardType());    \r\n        return mappedDto;\r\n    }).toList(); \r\n\r\nThough, in my opinion, the all args constructor solution looks better. ","title":"How to set a List of objects to another List of objects","body":"<p>you'll need to map from one type to the other. One simple solution would be to manually stream them and map the, like this:</p>\n<pre><code>List&lt;com.loyalty.marketplace.outbound.dto.CobrandedCardDto&gt; dtos = ...;\nList&lt;com.loyalty.marketplace.offers.member.management.outbound.CobrandedCardDto&gt; mappedDtos = dtos.stream()\n    .map(dto -&gt; new com.loyalty.marketplace.offers.member.management.outbound.CobrandedCardDto(\n       dto.getPartnerCode(),\n       dto.getBankId(),\n       dto.getStatus(),\n       dto.getCardType()\n    ))\n    .toList();\n</code></pre>\n<p>If will be doing this with other objects as well, you can consider using a mapping library such as mapstruct: <a href=\"https://www.baeldung.com/mapstruct\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mapstruct</a></p>\n<p>PS: consider renaming one of them so that you don't need the fully qualified name.</p>\n<p>Update: if you don't want to add the @AllArgsConstructor, you can see the setters instead:</p>\n<pre><code>.map(dto -&gt; {\n    var mappedDto = new com.loyalty.marketplace.offers.member.management.outbound.CobrandedCardDto();\n    mappedDto.setPartnerCode(dto.getPartnerCode());\n    mappedDto.setBankId(dto.getBankId());\n    mappedDto.setStatus(dto.getStatus());\n    mappedDto.setCardType(dto.getCardType());    \n    return mappedDto;\n}).toList(); \n</code></pre>\n<p>Though, in my opinion, the all args constructor solution looks better.</p>\n"},{"tags":[],"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680687740,"creation_date":1680683570,"answer_id":75937285,"question_id":75937069,"body_markdown":"Since this method is kind of a Mapper method that shall be used across different classes, it is necessary to put it as a static mapper method in a Mapper class. \r\n\r\nSo let&#39;s say you have the following Mapper class:\r\n\r\n**CobrandedCardMapper**:\r\n````\r\npublic static List&lt;com.loyalty.marketplace.offers.member.management.outbound.CobrandedCardMapper&gt; getMappedListOfCobrandedCard(List&lt;CobrandedCardMapper&gt; list){\r\nreturn list.stream()\r\n.map(cobrandedCardMapper -&gt;{\r\ncom.loyalty.marketplace.offers.member.management.outbound.CobrandedCardMapper cobrandedCardMapperDTO = new com.loyalty.marketplace.offers.member.management.outbound.CobrandedCardMapper();\r\n//Then use Apache Commons  Bean Utils copy properties function based on field name\r\nBeanUtils.copyProperty(cobrandedCardMapperDTO,cobrandedCardMapper);\r\nreturn cobrandedCardMapperDTO;\r\n).collect(Collectors.toList());\r\n\r\n}\r\n````\r\n\r\nThen you can call the method in your set, to get the converted list","title":"How to set a List of objects to another List of objects","body":"<p>Since this method is kind of a Mapper method that shall be used across different classes, it is necessary to put it as a static mapper method in a Mapper class.</p>\n<p>So let's say you have the following Mapper class:</p>\n<p><strong>CobrandedCardMapper</strong>:</p>\n<pre><code>public static List&lt;com.loyalty.marketplace.offers.member.management.outbound.CobrandedCardMapper&gt; getMappedListOfCobrandedCard(List&lt;CobrandedCardMapper&gt; list){\nreturn list.stream()\n.map(cobrandedCardMapper -&gt;{\ncom.loyalty.marketplace.offers.member.management.outbound.CobrandedCardMapper cobrandedCardMapperDTO = new com.loyalty.marketplace.offers.member.management.outbound.CobrandedCardMapper();\n//Then use Apache Commons  Bean Utils copy properties function based on field name\nBeanUtils.copyProperty(cobrandedCardMapperDTO,cobrandedCardMapper);\nreturn cobrandedCardMapperDTO;\n).collect(Collectors.toList());\n\n}\n</code></pre>\n<p>Then you can call the method in your set, to get the converted list</p>\n"}],"owner":{"account_id":10085930,"reputation":143,"user_id":7454536,"display_name":"Ayub Jamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75937147,"answer_count":2,"score":-1,"last_activity_date":1680689159,"creation_date":1680682138,"question_id":75937069,"body_markdown":"**Scenario**\r\nI&#39;ve two DTO classes of the same name (CobrandedCardDto) having same attributes but in different packages.\r\n\r\nPackages are: \r\n\r\n     1. com.loyalty.marketplace.offers.member.management.outbound.dto\r\n     2. com.loyalty.marketplace.outbound.dto\r\n\r\nThe attributes in CobrandedCardDto are:\r\n\r\n     private String partnerCode;\r\n     private String bankId;\r\n     private String status;\r\n     private String cardType;\r\n\r\nI&#39;ve `List&lt;CobrandedCardDto&gt;` coming up from a service in Package (`com.loyalty.marketplace.outbound`) which I need to set to `List&lt;CobrandedCardDto&gt;` in Package (`com.loyalty.marketplace.offers.member.management.outbound`)\r\n\r\nBasically I want to do something like this;\r\n\r\n    memberDetails.setCobrandedCardDetails(MemberAccountInfoDto.getCobrandedCardDetails());\r\n\r\nwhere `cobrandedCardDetails` is variable for `List&lt;CobrandedCardDto&gt;`\r\n\r\n\r\n \r\n**Question**\r\nI&#39;m unable to set the list. I&#39;m facing this error. How could I resolve this issue?\r\n\r\n&gt; The method\r\n&gt; setCobrandedCardDetails(java.util.List&lt;com.loyalty.marketplace.offers.member.management.outbound.dto.CobrandedCardDto&gt;)\r\n&gt; in the type GetMemberResponse is not applicable for the arguments\r\n&gt; (java.util.List&lt;com.loyalty.marketplace.outbound.dto.CobrandedCardDto&gt;)\r\n\r\n\r\n","title":"How to set a List of objects to another List of objects","body":"<p><strong>Scenario</strong>\nI've two DTO classes of the same name (CobrandedCardDto) having same attributes but in different packages.</p>\n<p>Packages are:</p>\n<pre><code> 1. com.loyalty.marketplace.offers.member.management.outbound.dto\n 2. com.loyalty.marketplace.outbound.dto\n</code></pre>\n<p>The attributes in CobrandedCardDto are:</p>\n<pre><code> private String partnerCode;\n private String bankId;\n private String status;\n private String cardType;\n</code></pre>\n<p>I've <code>List&lt;CobrandedCardDto&gt;</code> coming up from a service in Package (<code>com.loyalty.marketplace.outbound</code>) which I need to set to <code>List&lt;CobrandedCardDto&gt;</code> in Package (<code>com.loyalty.marketplace.offers.member.management.outbound</code>)</p>\n<p>Basically I want to do something like this;</p>\n<pre><code>memberDetails.setCobrandedCardDetails(MemberAccountInfoDto.getCobrandedCardDetails());\n</code></pre>\n<p>where <code>cobrandedCardDetails</code> is variable for <code>List&lt;CobrandedCardDto&gt;</code></p>\n<p><strong>Question</strong>\nI'm unable to set the list. I'm facing this error. How could I resolve this issue?</p>\n<blockquote>\n<p>The method\nsetCobrandedCardDetails(java.util.List&lt;com.loyalty.marketplace.offers.member.management.outbound.dto.CobrandedCardDto&gt;)\nin the type GetMemberResponse is not applicable for the arguments\n(java.util.List&lt;com.loyalty.marketplace.outbound.dto.CobrandedCardDto&gt;)</p>\n</blockquote>\n"},{"tags":["java","http","get","retrofit","retrofit2"],"owner":{"account_id":22924479,"reputation":85,"user_id":17059795,"display_name":"Universe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680688833,"creation_date":1680688833,"question_id":75938077,"body_markdown":"Im trying to get the feed of an Api.\r\n\r\nNow this needs a token key. But it only with every second or even third token key.\r\n\r\nIm thinking the reason might be a wrong encoding and that some token keys contain symbols that break it.\r\n\r\nExample of working keys\r\n\r\nJRzMGqB9woxAAXMmfHVqzd1xhsr$dm!2MzZh7feZ \r\n3!D34wkuXdUZkB6wTSVbYfATSDp59wmzKdQwxGyK  \r\n    \r\n\r\nExample of broken keys\r\n\r\nYDBfs8yL!vAb9qGUQ13JL#o_PhWUS#GAQ9a$X3fm\r\nLD#ZMLsXtuXg3iJ#z5e#MYHv5dGcLhVAYbrKRysq\r\n\r\nWhen i manually enter them into the browser url they work. Just not always in my Retrofit2 get request.\r\n\r\n     MethodsFeed methods = RetrofitClient.getRetrofitInstance().create(MethodsFeed.class);\r\n        String total_url = BASE_URL\r\n                    + &quot;devrant/rants?token_id=&quot;+Account.id()+&quot;&amp;user_id=&quot;+Account.user_id()+&quot;&amp;token_key=&quot;+Account.key()+&quot;&amp;limit=&quot;+Account.limit()+&quot;&amp;sort=&quot;+sort+&quot;&amp;app=3&amp;range=day&amp;skip=0/&quot;;\r\n        }\r\n\r\n        Call&lt;ModelFeed&gt; call = methods.getAllData(total_url);\r\n        call.enqueue(new Callback&lt;ModelFeed&gt;() {\r\n            @SuppressLint(&quot;SetTextI18n&quot;)\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;ModelFeed&gt; call, @NonNull Response&lt;ModelFeed&gt; response) {\r\n                if (response.isSuccessful()) {\r\n                    assert response.body() != null;\r\n                    Boolean success = response.body().getSuccess();\r\n                } else {\r\n                    THIS IS WHAT HAPPENS WITH MESSAGE: &quot;bad request&quot;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;ModelFeed&gt; call, @NonNull Throwable t) {\r\n                Log.d(&quot;error_contact&quot;, t.toString());\r\n                toast(&quot;no network&quot;);\r\n            }\r\n        });\r\n\r\n&gt; Then my interface\r\n\r\n    public interface MethodsFeed {\r\n    @GET\r\n    Call&lt;ModelFeed&gt; getAllData(\r\n            @Url String url\r\n    );\r\n}\r\n\r\n&gt; And my Retrofit client\r\n\r\n    public class RetrofitClient {\r\n\r\n    private static Retrofit retrofit;\r\n    public static final String BASE_URL = &quot;https://www.devrant.io/api/&quot;;\r\n\r\n    public static Retrofit getRetrofitInstance(){\r\n        if (retrofit == null){\r\n\r\n            Gson gson = new GsonBuilder()\r\n                    .setLenient()\r\n                    .create();\r\n\r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create(gson))\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n}","title":"How do i fix broken get requests in Retrofit 2?","body":"<p>Im trying to get the feed of an Api.</p>\n<p>Now this needs a token key. But it only with every second or even third token key.</p>\n<p>Im thinking the reason might be a wrong encoding and that some token keys contain symbols that break it.</p>\n<p>Example of working keys</p>\n<p>JRzMGqB9woxAAXMmfHVqzd1xhsr$dm!2MzZh7feZ\n3!D34wkuXdUZkB6wTSVbYfATSDp59wmzKdQwxGyK</p>\n<p>Example of broken keys</p>\n<p>YDBfs8yL!vAb9qGUQ13JL#o_PhWUS#GAQ9a$X3fm\nLD#ZMLsXtuXg3iJ#z5e#MYHv5dGcLhVAYbrKRysq</p>\n<p>When i manually enter them into the browser url they work. Just not always in my Retrofit2 get request.</p>\n<pre><code> MethodsFeed methods = RetrofitClient.getRetrofitInstance().create(MethodsFeed.class);\n    String total_url = BASE_URL\n                + &quot;devrant/rants?token_id=&quot;+Account.id()+&quot;&amp;user_id=&quot;+Account.user_id()+&quot;&amp;token_key=&quot;+Account.key()+&quot;&amp;limit=&quot;+Account.limit()+&quot;&amp;sort=&quot;+sort+&quot;&amp;app=3&amp;range=day&amp;skip=0/&quot;;\n    }\n\n    Call&lt;ModelFeed&gt; call = methods.getAllData(total_url);\n    call.enqueue(new Callback&lt;ModelFeed&gt;() {\n        @SuppressLint(&quot;SetTextI18n&quot;)\n        @Override\n        public void onResponse(@NonNull Call&lt;ModelFeed&gt; call, @NonNull Response&lt;ModelFeed&gt; response) {\n            if (response.isSuccessful()) {\n                assert response.body() != null;\n                Boolean success = response.body().getSuccess();\n            } else {\n                THIS IS WHAT HAPPENS WITH MESSAGE: &quot;bad request&quot;\n            }\n        }\n\n        @Override\n        public void onFailure(@NonNull Call&lt;ModelFeed&gt; call, @NonNull Throwable t) {\n            Log.d(&quot;error_contact&quot;, t.toString());\n            toast(&quot;no network&quot;);\n        }\n    });\n</code></pre>\n<blockquote>\n<p>Then my interface</p>\n</blockquote>\n<pre><code>public interface MethodsFeed {\n@GET\nCall&lt;ModelFeed&gt; getAllData(\n        @Url String url\n);\n</code></pre>\n<p>}</p>\n<blockquote>\n<p>And my Retrofit client</p>\n</blockquote>\n<pre><code>public class RetrofitClient {\n\nprivate static Retrofit retrofit;\npublic static final String BASE_URL = &quot;https://www.devrant.io/api/&quot;;\n\npublic static Retrofit getRetrofitInstance(){\n    if (retrofit == null){\n\n        Gson gson = new GsonBuilder()\n                .setLenient()\n                .create();\n\n        retrofit = new Retrofit.Builder()\n                .baseUrl(BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .build();\n    }\n    return retrofit;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","jackson","nsjsonserialization"],"answers":[{"tags":[],"owner":{"account_id":50846,"reputation":1015,"user_id":151759,"accept_rate":65,"display_name":"Bertolt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680688673,"creation_date":1680688673,"answer_id":75938058,"question_id":75937451,"body_markdown":"Although Ivar provided the answer [already in his comment][1], here&#39;s my implementation of it, which returns your desired result.\r\n\r\n    DefaultPrettyPrinter pp = new MyPrettyPrinter();\r\n    \r\n    \t\tObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);;\r\n    \t\ttry {\r\n    \t\t\tjsonResult = mapper.writer(pp)\r\n    \t\t\t\t\t.writeValueAsString(map);\r\n    \t\t}\r\n    \t\tcatch (JsonProcessingException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n\r\nwhere MyPrettyPrinter is the following:\r\n\r\n    public class MyPrettyPrinter extends DefaultPrettyPrinter {\r\n\r\n\t@Override\r\n\tpublic DefaultPrettyPrinter createInstance() {\r\n\t\treturn new MyPrettyPrinter();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void writeObjectFieldValueSeparator(JsonGenerator jg) throws IOException {\r\n\t\tjg.writeRaw(&quot;: &quot;);\r\n\t}\r\n\r\n}\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41508864/jackson-custom-serializer-json-format","title":"How to remove spaces between &quot;key&quot; and a &quot;:&quot; during serialization using Jackson?","body":"<p>Although Ivar provided the answer <a href=\"https://stackoverflow.com/questions/41508864/jackson-custom-serializer-json-format\">already in his comment</a>, here's my implementation of it, which returns your desired result.</p>\n<pre><code>DefaultPrettyPrinter pp = new MyPrettyPrinter();\n\n        ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);;\n        try {\n            jsonResult = mapper.writer(pp)\n                    .writeValueAsString(map);\n        }\n        catch (JsonProcessingException e) {\n            throw new RuntimeException(e);\n        }\n</code></pre>\n<p>where MyPrettyPrinter is the following:</p>\n<pre><code>public class MyPrettyPrinter extends DefaultPrettyPrinter {\n\n@Override\npublic DefaultPrettyPrinter createInstance() {\n    return new MyPrettyPrinter();\n}\n\n@Override\npublic void writeObjectFieldValueSeparator(JsonGenerator jg) throws IOException {\n    jg.writeRaw(&quot;: &quot;);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680691925,"answer_count":1,"score":0,"last_activity_date":1680688673,"creation_date":1680684803,"question_id":75937451,"body_markdown":"I&#39;m using Jackson library for serialization. To indent the output I have the following code\r\n\r\n ```ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);```\r\n\r\n This results in adding spaces that I don&#39;t need. For example,\r\n```\r\n{\r\n  &quot;id&quot; : 2,\r\n  &quot;name&quot; : &quot;theUser&quot;\r\n}\r\n```\r\nI want my output to be \r\n```\r\n{\r\n  &quot;id&quot;: 2,\r\n  &quot;name&quot;: &quot;theUser&quot;\r\n}\r\n```\r\nBasically, I want space between key and : to be removed. Is there a easy way to get rid of this additional space?\r\n\r\n","title":"How to remove spaces between &quot;key&quot; and a &quot;:&quot; during serialization using Jackson?","body":"<p>I'm using Jackson library for serialization. To indent the output I have the following code</p>\n<p><code>ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);</code></p>\n<p>This results in adding spaces that I don't need. For example,</p>\n<pre><code>{\n  &quot;id&quot; : 2,\n  &quot;name&quot; : &quot;theUser&quot;\n}\n</code></pre>\n<p>I want my output to be</p>\n<pre><code>{\n  &quot;id&quot;: 2,\n  &quot;name&quot;: &quot;theUser&quot;\n}\n</code></pre>\n<p>Basically, I want space between key and : to be removed. Is there a easy way to get rid of this additional space?</p>\n"},{"tags":["java","tomcat10"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1680688646,"post_id":75938001,"comment_id":133939207,"body_markdown":"Hi, java.lang.UnsupportedClassVersionError: org/apache/catalina/startup/Bootstrap has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n\nAbove exception clearly says classes are complied with java11 instead of java 8. \n\nPlease try to uninstall java 11 then start the service.","body":"Hi, java.lang.UnsupportedClassVersionError: org/apache/catalina/startup/Bootstrap has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0  Above exception clearly says classes are complied with java11 instead of java 8.   Please try to uninstall java 11 then start the service."},{"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1680688762,"post_id":75938001,"comment_id":133939228,"body_markdown":"had no idea ```java class file version 55``` means java 11, I&#39;ll try it out thanks","body":"had no idea <code>java class file version 55</code> means java 11, I&#39;ll try it out thanks"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1680689086,"post_id":75938001,"comment_id":133939299,"body_markdown":"If you are using Tomcat 10.1, then you need Java 11.\n\nREF: https://tomcat.apache.org/migration-10.1.html","body":"If you are using Tomcat 10.1, then you need Java 11.  REF: <a href=\"https://tomcat.apache.org/migration-10.1.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/migration-10.1.html</a>"},{"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1680689277,"post_id":75938001,"comment_id":133939351,"body_markdown":"@seenukarthi both your comments answered it, I guess I need to downgrade.\nThanks","body":"@seenukarthi both your comments answered it, I guess I need to downgrade. Thanks"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680689527,"post_id":75938001,"comment_id":133939409,"body_markdown":"As documented on [Which Version?](https://tomcat.apache.org/whichversion.html) Tomcat 10.1 requires Java 11 or higher.","body":"As documented on <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">Which Version?</a> Tomcat 10.1 requires Java 11 or higher."},{"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1680693521,"post_id":75938001,"comment_id":133940333,"body_markdown":"yeah no I got it, I meant I need to choose a lower version of Tomcat","body":"yeah no I got it, I meant I need to choose a lower version of Tomcat"}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680689478,"answer_count":0,"score":1,"last_activity_date":1680688278,"creation_date":1680688278,"question_id":75938001,"body_markdown":"So I&#39;ve downloaded and installed Tomcat10 service with:\r\n\r\n```\r\nPS C:\\apache-tomcat-10.1.7\\bin&gt; .\\service.bat install\r\n```\r\n\r\nand I can see it in my Services Windows page:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI&#39;ve added two env vars:\r\n\r\n```\r\nPS C:\\apache-tomcat-10.1.7\\bin&gt; $env:CATALINA_HOME\r\nC:\\apache-tomcat-10.1.7\r\n\r\nPS C:\\apache-tomcat-10.1.7\\bin&gt; $env:CATALINA_BASE\r\nC:\\apache-tomcat-10.1.7\\instances\\instance1\r\n```\r\n\r\nplus I&#39;ve added ```%CATALINA_HOME%\\bin``` to ```PATH``` env var\r\n\r\nbut when I give:\r\n```\r\nstart tomcat10 \r\n```\r\na cli window opens for a split second, then closes.\r\n\r\nI go look at the services page and tomcat service is not started, evidence also here:\r\n\r\n```\r\nPS C:\\WINDOWS\\system32&gt; Get-Service tomcat10\r\n\r\nStatus   Name               DisplayName\r\n------   ----               -----------\r\nStopped  tomcat10           Apache Tomcat 10.1 Tomcat10\r\n```\r\n\r\nI&#39;ve looked around, and found this [SO question][2] and I&#39;ve changed the startup and shutdown from jvm to java but it didn&#39;t work.\r\n\r\nSo I looked at the logs:\r\n\r\n```\r\n[2023-04-05 10:55:42] [info]  [ 6304] Apache Commons Daemon procrun (1.3.3.0 64-bit) started.\r\n[2023-04-05 10:55:42] [info]  [ 6304] Running Service &#39;Tomcat10&#39;...\r\n[2023-04-05 10:55:42] [info]  [ 6488] Starting service...\r\n[2023-04-05 10:55:42] [error] [ 6488] Invalid JVM DLL handle.\r\n[2023-04-05 10:55:43] [error] [ 6488] Impossibile trovare il modulo specificato.\r\n[2023-04-05 10:55:43] [error] [ 6488] Impossibile trovare il modulo specificato.\r\n[2023-04-05 10:55:43] [error] [ 6488] Failed to load JVM DLL &#39;(null)&#39;, home &#39;(null)&#39;.\r\n[2023-04-05 10:55:43] [error] [ 6488] Impossibile trovare il modulo specificato.\r\n[2023-04-05 10:55:43] [error] [ 6488] Failed creating Java &#39;(null)&#39;.\r\n[2023-04-05 10:55:43] [error] [ 6488] Impossibile trovare il modulo specificato.\r\n[2023-04-05 10:55:43] [error] [ 6488] ServiceStart returned 1.\r\n[2023-04-05 10:55:43] [error] [ 6488] Impossibile trovare il modulo specificato.\r\n[2023-04-05 10:55:43] [info]  [ 6304] Run service finished.\r\n```\r\n\r\nSo I did override the defaul ```jvm.dll``` location to the one of Java 8 (the one I use):\r\n\r\n[![enter image description here][3]][3]\r\n\r\nStarted the service again and in ```commons-daemons.2023-04-05.log```I get:\r\n\r\n```\r\n[2023-04-05 11:36:31] [info]  [24996] Apache Commons Daemon procrun (1.3.3.0 64-bit) started.\r\n[2023-04-05 11:36:31] [info]  [24996] Running Service &#39;Tomcat10&#39;...\r\n[2023-04-05 11:36:31] [info]  [15668] Starting service...\r\n[2023-04-05 11:36:31] [info]  [15668] Service started in 8 milliseconds.\r\n[2023-04-05 11:36:31] [info]  [24996] Run service finished.\r\n[2023-04-05 11:36:31] [info]  [24996] Apache Commons Daemon procrun finished.\r\n[2023-04-05 11:37:10] [info]  [17896] Apache Commons Daemon procrun (1.3.3.0 64-bit) started.\r\n[2023-04-05 11:37:10] [info]  [17896] Running Service &#39;Tomcat10&#39;...\r\n[2023-04-05 11:37:10] [info]  [ 6052] Starting service...\r\n[2023-04-05 11:37:10] [info]  [ 6052] Service started in 6 milliseconds.\r\n[2023-04-05 11:37:10] [info]  [17896] Run service finished.\r\n[2023-04-05 11:37:10] [info]  [17896] Apache Commons Daemon procrun finished.\r\n```\r\n\r\nbut the service is still down... and looking at ```tomcat10-stderr.2023-04-05.log``` I have:\r\n\r\n```\r\nException in thread &quot;main&quot; \r\n2023-04-05 11:37:10 Apache Commons Daemon procrun stderr initialized.\r\njava.lang.UnsupportedClassVersionError: org/apache/catalina/startup/Bootstrap has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:763)\r\n\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\r\n\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:73)\r\n\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:368)\r\n\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\n\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\n\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338)\r\n\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\r\n\tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:495)\r\n\r\nError: A JNI error has occurred, please check your installation and try again\r\n\r\nException in thread &quot;main&quot; \r\n```\r\n\r\nwhich, I guess, means it didn&#39;t like the jvm I set up for it in the last step... help me out here pls.\r\n\r\n  [1]: https://i.stack.imgur.com/n9f83.png\r\n  [2]: https://stackoverflow.com/questions/24647003/cant-start-tomcat-as-windows-service\r\n  [3]: https://i.stack.imgur.com/2RW1J.png","title":"Tomcat 10 service won&#39;t start on windows","body":"<p>So I've downloaded and installed Tomcat10 service with:</p>\n<pre><code>PS C:\\apache-tomcat-10.1.7\\bin&gt; .\\service.bat install\n</code></pre>\n<p>and I can see it in my Services Windows page:</p>\n<p><a href=\"https://i.stack.imgur.com/n9f83.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n9f83.png\" alt=\"enter image description here\" /></a></p>\n<p>I've added two env vars:</p>\n<pre><code>PS C:\\apache-tomcat-10.1.7\\bin&gt; $env:CATALINA_HOME\nC:\\apache-tomcat-10.1.7\n\nPS C:\\apache-tomcat-10.1.7\\bin&gt; $env:CATALINA_BASE\nC:\\apache-tomcat-10.1.7\\instances\\instance1\n</code></pre>\n<p>plus I've added <code>%CATALINA_HOME%\\bin</code> to <code>PATH</code> env var</p>\n<p>but when I give:</p>\n<pre><code>start tomcat10 \n</code></pre>\n<p>a cli window opens for a split second, then closes.</p>\n<p>I go look at the services page and tomcat service is not started, evidence also here:</p>\n<pre><code>PS C:\\WINDOWS\\system32&gt; Get-Service tomcat10\n\nStatus   Name               DisplayName\n------   ----               -----------\nStopped  tomcat10           Apache Tomcat 10.1 Tomcat10\n</code></pre>\n<p>I've looked around, and found this <a href=\"https://stackoverflow.com/questions/24647003/cant-start-tomcat-as-windows-service\">SO question</a> and I've changed the startup and shutdown from jvm to java but it didn't work.</p>\n<p>So I looked at the logs:</p>\n<pre><code>[2023-04-05 10:55:42] [info]  [ 6304] Apache Commons Daemon procrun (1.3.3.0 64-bit) started.\n[2023-04-05 10:55:42] [info]  [ 6304] Running Service 'Tomcat10'...\n[2023-04-05 10:55:42] [info]  [ 6488] Starting service...\n[2023-04-05 10:55:42] [error] [ 6488] Invalid JVM DLL handle.\n[2023-04-05 10:55:43] [error] [ 6488] Impossibile trovare il modulo specificato.\n[2023-04-05 10:55:43] [error] [ 6488] Impossibile trovare il modulo specificato.\n[2023-04-05 10:55:43] [error] [ 6488] Failed to load JVM DLL '(null)', home '(null)'.\n[2023-04-05 10:55:43] [error] [ 6488] Impossibile trovare il modulo specificato.\n[2023-04-05 10:55:43] [error] [ 6488] Failed creating Java '(null)'.\n[2023-04-05 10:55:43] [error] [ 6488] Impossibile trovare il modulo specificato.\n[2023-04-05 10:55:43] [error] [ 6488] ServiceStart returned 1.\n[2023-04-05 10:55:43] [error] [ 6488] Impossibile trovare il modulo specificato.\n[2023-04-05 10:55:43] [info]  [ 6304] Run service finished.\n</code></pre>\n<p>So I did override the defaul <code>jvm.dll</code> location to the one of Java 8 (the one I use):</p>\n<p><a href=\"https://i.stack.imgur.com/2RW1J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2RW1J.png\" alt=\"enter image description here\" /></a></p>\n<p>Started the service again and in <code>commons-daemons.2023-04-05.log</code>I get:</p>\n<pre><code>[2023-04-05 11:36:31] [info]  [24996] Apache Commons Daemon procrun (1.3.3.0 64-bit) started.\n[2023-04-05 11:36:31] [info]  [24996] Running Service 'Tomcat10'...\n[2023-04-05 11:36:31] [info]  [15668] Starting service...\n[2023-04-05 11:36:31] [info]  [15668] Service started in 8 milliseconds.\n[2023-04-05 11:36:31] [info]  [24996] Run service finished.\n[2023-04-05 11:36:31] [info]  [24996] Apache Commons Daemon procrun finished.\n[2023-04-05 11:37:10] [info]  [17896] Apache Commons Daemon procrun (1.3.3.0 64-bit) started.\n[2023-04-05 11:37:10] [info]  [17896] Running Service 'Tomcat10'...\n[2023-04-05 11:37:10] [info]  [ 6052] Starting service...\n[2023-04-05 11:37:10] [info]  [ 6052] Service started in 6 milliseconds.\n[2023-04-05 11:37:10] [info]  [17896] Run service finished.\n[2023-04-05 11:37:10] [info]  [17896] Apache Commons Daemon procrun finished.\n</code></pre>\n<p>but the service is still down... and looking at <code>tomcat10-stderr.2023-04-05.log</code> I have:</p>\n<pre><code>Exception in thread &quot;main&quot; \n2023-04-05 11:37:10 Apache Commons Daemon procrun stderr initialized.\njava.lang.UnsupportedClassVersionError: org/apache/catalina/startup/Bootstrap has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n\n    at java.lang.ClassLoader.defineClass1(Native Method)\n\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:763)\n\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\n\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:73)\n\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:368)\n\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\n\n    at java.security.AccessController.doPrivileged(Native Method)\n\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\n\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338)\n\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:495)\n\nError: A JNI error has occurred, please check your installation and try again\n\nException in thread &quot;main&quot; \n</code></pre>\n<p>which, I guess, means it didn't like the jvm I set up for it in the last step... help me out here pls.</p>\n"},{"tags":["java","scala","apache-spark","github-actions","cicd"],"comments":[{"owner":{"account_id":1925966,"reputation":2046,"user_id":1736407,"accept_rate":44,"display_name":"Cam"},"score":1,"creation_date":1680687591,"post_id":75937329,"comment_id":133938955,"body_markdown":"Thanks @DmytroMitin did you want to make that an answer and I will mark it as the accepted one?","body":"Thanks @DmytroMitin did you want to make that an answer and I will mark it as the accepted one?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1680688239,"post_id":75937329,"comment_id":133939106,"body_markdown":"done :) good that this helped","body":"done :) good that this helped"}],"answers":[{"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680688194,"creation_date":1680688194,"answer_id":75937985,"question_id":75937329,"body_markdown":"Or vice versa this can mean that you need to downgrade to Java less than 11 because one of dependencies doesn&#39;t work with Java 11\r\n\r\n---\r\n\r\nhttps://stackoverflow.com/questions/53583199/spark-error-unsupported-class-file-major-version\r\n\r\nhttps://stackoverflow.com/questions/62021734/illegalargumentexception-unsupported-class-file-major-version-55\r\n\r\nhttps://stackoverflow.com/questions/55019548/spark-illegalargumentexception-unsupported-class-file-major-version-55\r\n\r\nhttps://stackoverflow.com/questions/67079327/how-can-i-fix-unsupported-class-file-major-version-60-in-intellij-idea\r\n\r\nhttps://stackoverflow.com/questions/55923943/how-to-fix-unsupported-class-file-major-version-55-while-executing-org-apache","title":"Unit Tests in GHA failing with java.lang.IllegalArgumentException: Unsupported class file major version 55","body":"<p>Or vice versa this can mean that you need to downgrade to Java less than 11 because one of dependencies doesn't work with Java 11</p>\n<hr />\n<p><a href=\"https://stackoverflow.com/questions/53583199/spark-error-unsupported-class-file-major-version\">Spark Error - Unsupported class file major version</a></p>\n<p><a href=\"https://stackoverflow.com/questions/62021734/illegalargumentexception-unsupported-class-file-major-version-55\">IllegalArgumentException: &#39;Unsupported class file major version 55&#39;</a></p>\n<p><a href=\"https://stackoverflow.com/questions/55019548/spark-illegalargumentexception-unsupported-class-file-major-version-55\">Spark: IllegalArgumentException: &#39;Unsupported class file major version 55&#39;</a></p>\n<p><a href=\"https://stackoverflow.com/questions/67079327/how-can-i-fix-unsupported-class-file-major-version-60-in-intellij-idea\">How can I fix &quot;unsupported class file major version 60&quot; in IntelliJ IDEA?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/55923943/how-to-fix-unsupported-class-file-major-version-55-while-executing-org-apache\">How to fix &#39;Unsupported class file major version 55&#39; while executing &#39;org.apache.spark.sql.DataSet.collectAsList()&#39;</a></p>\n"}],"owner":{"account_id":1925966,"reputation":2046,"user_id":1736407,"accept_rate":44,"display_name":"Cam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75937985,"answer_count":1,"score":2,"last_activity_date":1680688194,"creation_date":1680683869,"question_id":75937329,"body_markdown":"I&#39;ve inherited a codebase that hasn&#39;t been touched for around 3 years. I&#39;ve noticed that a large number of unit tests in our GitHub action for the repo are failing with the error:\r\n\r\n    java.lang.IllegalArgumentException: Unsupported class file major version 55\r\n\r\nA quick google suggested that I needed to update to Java 11, so I added the following step to our `main.yml`:\r\n\r\n    - name: Set up Java\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        distribution: &#39;zulu&#39;\r\n        java-version: &#39;11&#39;\r\n\r\nBut the tests are still failing with the same error.\r\n\r\nCan anyone lend a hand with this?","title":"Unit Tests in GHA failing with java.lang.IllegalArgumentException: Unsupported class file major version 55","body":"<p>I've inherited a codebase that hasn't been touched for around 3 years. I've noticed that a large number of unit tests in our GitHub action for the repo are failing with the error:</p>\n<pre><code>java.lang.IllegalArgumentException: Unsupported class file major version 55\n</code></pre>\n<p>A quick google suggested that I needed to update to Java 11, so I added the following step to our <code>main.yml</code>:</p>\n<pre><code>- name: Set up Java\n  uses: actions/setup-java@v3\n  with:\n    distribution: 'zulu'\n    java-version: '11'\n</code></pre>\n<p>But the tests are still failing with the same error.</p>\n<p>Can anyone lend a hand with this?</p>\n"},{"tags":["java","jboss","wildfly","jndi","jackrabbit"],"comments":[{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1680686088,"post_id":75937552,"comment_id":133938581,"body_markdown":"Why is your client bom 10.0 while on WildFly 24 ? It should be 24.0.1.Final","body":"Why is your client bom 10.0 while on WildFly 24 ? It should be 24.0.1.Final"},{"owner":{"account_id":10422812,"reputation":1,"user_id":12123710,"display_name":"Elias"},"score":0,"creation_date":1680687284,"post_id":75937552,"comment_id":133938868,"body_markdown":"Because our client must be in java 7. The challenge is to upgrade our old repository which is on JBoss 5.1 to the latest and most compatible application server, our application server not having this constraint because new installation (and it deploys only jcr).","body":"Because our client must be in java 7. The challenge is to upgrade our old repository which is on JBoss 5.1 to the latest and most compatible application server, our application server not having this constraint because new installation (and it deploys only jcr)."},{"owner":{"account_id":10422812,"reputation":1,"user_id":12123710,"display_name":"Elias"},"score":0,"creation_date":1680688024,"post_id":75937552,"comment_id":133939045,"body_markdown":"10.0.0.Final is the latest java 7 compatible just like jackrabbit-jca.\nI was hoping to find the best compromise between the java 7 constraint for the client and the latest compatible application server (and jackrabbit too).","body":"10.0.0.Final is the latest java 7 compatible just like jackrabbit-jca. I was hoping to find the best compromise between the java 7 constraint for the client and the latest compatible application server (and jackrabbit too)."},{"owner":{"account_id":10422812,"reputation":1,"user_id":12123710,"display_name":"Elias"},"score":0,"creation_date":1680696750,"post_id":75937552,"comment_id":133941162,"body_markdown":"I&#39;m sick of jackrabbit, if I had no choice I would have moved on to something else a long time ago.\nWildfly 10 with open-jdk 1.8 and jackrabbit 2.14.9, deployment error:\nCaused by: java.lang.ClassNotFoundException: javax.jcr.RepositoryException from [Module &quot;deployment.jackrabbit-jca-2.14.9.rar:main&quot; from Service Module Loader]\nIn a few years I&#39;ve spent dozens of hours trying to get jackrabbit JCA to work, but I have the impression that no one uses it any more as far as my google searches go, and rightly so...","body":"I&#39;m sick of jackrabbit, if I had no choice I would have moved on to something else a long time ago. Wildfly 10 with open-jdk 1.8 and jackrabbit 2.14.9, deployment error: Caused by: java.lang.ClassNotFoundException: javax.jcr.RepositoryException from [Module &quot;deployment.jackrabbit-jca-2.14.9.rar:main&quot; from Service Module Loader] In a few years I&#39;ve spent dozens of hours trying to get jackrabbit JCA to work, but I have the impression that no one uses it any more as far as my google searches go, and rightly so..."}],"owner":{"account_id":10422812,"reputation":1,"user_id":12123710,"display_name":"Elias"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680688119,"creation_date":1680685414,"question_id":75937552,"body_markdown":"I have a jackrabbit JCA repository deployed on wildfly 24 (I have to do without elytron because client still in java 7).\r\n\r\nI have a series of exeptions during the connection :\r\n```\r\nException in thread &quot;naming-client-message-receiver-1-thread-1&quot; java.lang.NoClassDefFoundError: javax/resource/Referenceable\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:800)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:278)\r\n\tat org.jboss.marshalling.AbstractClassResolver.loadClass(AbstractClassResolver.java:131)\r\n\tat org.jboss.marshalling.AbstractClassResolver.resolveClass(AbstractClassResolver.java:112)\r\n\tat org.jboss.marshalling.river.RiverUnmarshaller.doReadClassDescriptor(RiverUnmarshaller.java:948)\r\n\tat org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1255)\r\n\tat org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)\r\n\tat org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)\r\n\tat org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41)\r\n\tat org.jboss.naming.remote.protocol.v1.Protocol$1$3.read(Protocol.java:156)\r\n\tat org.jboss.naming.remote.protocol.v1.Protocol$1$3.read(Protocol.java:149)\r\n\tat org.jboss.naming.remote.protocol.v1.BaseProtocolCommand.readResult(BaseProtocolCommand.java:59)\r\n\tat org.jboss.naming.remote.protocol.v1.Protocol$1.handleClientMessage(Protocol.java:149)\r\n\tat org.jboss.naming.remote.protocol.v1.RemoteNamingStoreV1$MessageReceiver$1.run(RemoteNamingStoreV1.java:232)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.ClassNotFoundException: javax.resource.Referenceable\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n\t... 29 more\r\nException in thread &quot;main&quot; org.jboss.naming.remote.protocol.NamingIOException: Failed to lookup [Root exception is java.io.NotSerializableException: org.jboss.jca.core.connectionmanager.ccm.CachedConnectionManagerImpl]\r\n\tat org.jboss.naming.remote.client.ClientUtil.namingException(ClientUtil.java:49)\r\n\tat org.jboss.naming.remote.protocol.v1.Protocol$1.execute(Protocol.java:104)\r\n\tat org.jboss.naming.remote.protocol.v1.RemoteNamingStoreV1.lookup(RemoteNamingStoreV1.java:95)\r\n\tat org.jboss.naming.remote.client.HaRemoteNamingStore$1.operation(HaRemoteNamingStore.java:276)\r\n\tat org.jboss.naming.remote.client.HaRemoteNamingStore.namingOperation(HaRemoteNamingStore.java:137)\r\n\tat org.jboss.naming.remote.client.HaRemoteNamingStore.lookup(HaRemoteNamingStore.java:272)\r\n\tat org.jboss.naming.remote.client.RemoteContext.lookupInternal(RemoteContext.java:104)\r\n\tat org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:93)\r\n\tat org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:146)\r\n\tat javax.naming.InitialContext.lookup(InitialContext.java:411)\r\n\tat com.mycompany.testnewjcr.NewMain.main(NewMain.java:78)\r\nCaused by: java.io.NotSerializableException: org.jboss.jca.core.connectionmanager.ccm.CachedConnectionManagerImpl\r\n\tat org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:274)\r\n\tat org.jboss.marshalling.river.RiverMarshaller.doWriteFields(RiverMarshaller.java:1143)\r\n\tat org.jboss.marshalling.river.RiverMarshaller.doWriteSerializableObject(RiverMarshaller.java:1101)\r\n\tat org.jboss.marshalling.river.RiverMarshaller.doWriteSerializableObject(RiverMarshaller.java:1080)\r\n\tat org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:268)\r\n\tat org.jboss.marshalling.river.RiverMarshaller.doWriteFields(RiverMarshaller.java:1143)\r\n\tat org.jboss.marshalling.river.RiverMarshaller.doWriteSerializableObject(RiverMarshaller.java:1101)\r\n\tat org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:268)\r\n\tat org.jboss.marshalling.AbstractObjectOutput.writeObject(AbstractObjectOutput.java:58)\r\n\tat org.jboss.marshalling.AbstractMarshaller.writeObject(AbstractMarshaller.java:111)\r\n\tat org.wildfly.naming.client.remote.RemoteServerTransport.writeSuccessResponse(RemoteServerTransport.java:479)\r\n\tat org.wildfly.naming.client.remote.RemoteServerTransport.handleLookup(RemoteServerTransport.java:210)\r\n\tat org.wildfly.naming.client.remote.RemoteServerTransport$1.handleMessage(RemoteServerTransport.java:123)\r\n\tat org.jboss.remoting3.remote.RemoteConnectionChannel.lambda$handleMessageData$3(RemoteConnectionChannel.java:432)\r\n\tat org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:991)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n\tat java.lang.Thread.run(Thread.java:833)\r\nCaused by: an exception which occurred:\r\n\tin field org.jboss.jca.core.connectionmanager.AbstractConnectionManager.cachedConnectionManager\r\n\tin object org.jboss.jca.core.connectionmanager.tx.TxConnectionManagerImpl@664d5391\r\n\tin field org.apache.jackrabbit.jca.JCARepositoryHandle.cm\r\n\tin object org.apache.jackrabbit.jca.JCARepositoryHandle@161283b5\r\n\tin object org.apache.jackrabbit.jca.JCARepositoryHandle@161283b5\r\nException in thread &quot;naming-client-message-receiver-2-thread-1&quot; java.lang.NoClassDefFoundError: javax/resource/Referenceable\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:800)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:278)\r\n\tat org.jboss.marshalling.AbstractClassResolver.loadClass(AbstractClassResolver.java:131)\r\n\tat org.jboss.marshalling.AbstractClassResolver.resolveClass(AbstractClassResolver.java:112)\r\n\tat org.jboss.marshalling.river.RiverUnmarshaller.doReadClassDescriptor(RiverUnmarshaller.java:948)\r\n\tat org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1255)\r\n\tat org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)\r\n\tat org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)\r\n\tat org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41)\r\n\tat org.jboss.naming.remote.protocol.v1.Protocol$1$3.read(Protocol.java:156)\r\n\tat org.jboss.naming.remote.protocol.v1.Protocol$1$3.read(Protocol.java:149)\r\n\tat org.jboss.naming.remote.protocol.v1.BaseProtocolCommand.readResult(BaseProtocolCommand.java:59)\r\n\tat org.jboss.naming.remote.protocol.v1.Protocol$1.handleClientMessage(Protocol.java:149)\r\n\tat org.jboss.naming.remote.protocol.v1.RemoteNamingStoreV1$MessageReceiver$1.run(RemoteNamingStoreV1.java:232)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.ClassNotFoundException: javax.resource.Referenceable\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n\t... 29 more\r\n\r\n```\r\n\r\nMy client doesn&#39;t do anything special though :\r\n```\r\nfinal Properties env = new Properties();\r\n        env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.jboss.naming.remote.client.InitialContextFactory&quot;);\r\n        //env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\r\n        \r\n        env.put(Context.PROVIDER_URL, &quot;http-remoting://xxx.xxx.xxx.xxx:8080&quot;);\r\n        env.put(Context.SECURITY_PRINCIPAL, &quot;****&quot;);\r\n        env.put(Context.SECURITY_CREDENTIALS, &quot;****&quot;);\r\n        \r\n        env.put(&quot;jboss.naming.client.ejb.context&quot;, true);\r\n        InitialContext remoteContext = new InitialContext(env);\r\n\r\n        RemoteRepository rr = (RemoteRepository) remoteContext.lookup(&quot;jcr/local&quot;);\r\n        Repository repository = null;\r\n        if (rr != null) {\r\n            ClientAdapterFactory adapter = new ClientAdapterFactory();\r\n            repository = adapter.getRepository(rr);\r\n        }\r\n```\r\n\r\nMy dependencies are correct:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n            &lt;artifactId&gt;wildfly-ejb-client-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;10.0.0.Final&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.jackrabbit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackrabbit-jca&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nWildfly config :\r\n```\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:6.0&quot;&gt;\r\n                           &lt;resource-adapters&gt;\r\n                &lt;resource-adapter id=&quot;jackrabbit-jca-2.21.14.rar&quot; statistics-enabled=&quot;true&quot;&gt;\r\n                    &lt;archive&gt;\r\n                        jackrabbit-jca-2.21.14.rar\r\n                    &lt;/archive&gt;\r\n                    &lt;connection-definitions&gt;\r\n                        &lt;connection-definition class-name=&quot;org.apache.jackrabbit.jca.JCAManagedConnectionFactory&quot; jndi-name=&quot;java:jboss/exported/jcr/local&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;jackrabbit-jca-Pool&quot; use-ccm=&quot;true&quot;&gt;\r\n                            &lt;config-property name=&quot;bindSessionToTransaction&quot;&gt;true&lt;/config-property&gt;\r\n                            &lt;config-property name=&quot;homeDir&quot;&gt;/mnt/backup/jcr&lt;/config-property&gt;\r\n                            &lt;config-property name=&quot;configFile&quot;&gt;/mnt/backup/jcr/repository.xml&lt;/config-property&gt;\r\n                            &lt;security&gt;\r\n                                &lt;application/&gt;\r\n                            &lt;/security&gt;\r\n                            &lt;validation&gt;\r\n                                &lt;background-validation&gt;false&lt;/background-validation&gt;\r\n                            &lt;/validation&gt;\r\n                        &lt;/connection-definition&gt;\r\n                    &lt;/connection-definitions&gt;\r\n                &lt;/resource-adapter&gt;\r\n            &lt;/resource-adapters&gt;\r\n        &lt;/subsystem&gt;\r\n```\r\nAnd Archive validation disabled.\r\n\r\n\r\nI&#39;ve been going around in circles for a while now, and there are few resources on the internet about jackrabbit, even less with JCA, and nothing recent especially...\r\n\r\nThank you for your help","title":"JNDI exception java.lang.NoClassDefFoundError: javax/resource/Referenceable &amp; java.io.NotSerializableException (Jackrabbit JCA 2.21.14 on Wildfly 24)","body":"<p>I have a jackrabbit JCA repository deployed on wildfly 24 (I have to do without elytron because client still in java 7).</p>\n<p>I have a series of exeptions during the connection :</p>\n<pre><code>Exception in thread &quot;naming-client-message-receiver-1-thread-1&quot; java.lang.NoClassDefFoundError: javax/resource/Referenceable\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:278)\n    at org.jboss.marshalling.AbstractClassResolver.loadClass(AbstractClassResolver.java:131)\n    at org.jboss.marshalling.AbstractClassResolver.resolveClass(AbstractClassResolver.java:112)\n    at org.jboss.marshalling.river.RiverUnmarshaller.doReadClassDescriptor(RiverUnmarshaller.java:948)\n    at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1255)\n    at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)\n    at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)\n    at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41)\n    at org.jboss.naming.remote.protocol.v1.Protocol$1$3.read(Protocol.java:156)\n    at org.jboss.naming.remote.protocol.v1.Protocol$1$3.read(Protocol.java:149)\n    at org.jboss.naming.remote.protocol.v1.BaseProtocolCommand.readResult(BaseProtocolCommand.java:59)\n    at org.jboss.naming.remote.protocol.v1.Protocol$1.handleClientMessage(Protocol.java:149)\n    at org.jboss.naming.remote.protocol.v1.RemoteNamingStoreV1$MessageReceiver$1.run(RemoteNamingStoreV1.java:232)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.ClassNotFoundException: javax.resource.Referenceable\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    ... 29 more\nException in thread &quot;main&quot; org.jboss.naming.remote.protocol.NamingIOException: Failed to lookup [Root exception is java.io.NotSerializableException: org.jboss.jca.core.connectionmanager.ccm.CachedConnectionManagerImpl]\n    at org.jboss.naming.remote.client.ClientUtil.namingException(ClientUtil.java:49)\n    at org.jboss.naming.remote.protocol.v1.Protocol$1.execute(Protocol.java:104)\n    at org.jboss.naming.remote.protocol.v1.RemoteNamingStoreV1.lookup(RemoteNamingStoreV1.java:95)\n    at org.jboss.naming.remote.client.HaRemoteNamingStore$1.operation(HaRemoteNamingStore.java:276)\n    at org.jboss.naming.remote.client.HaRemoteNamingStore.namingOperation(HaRemoteNamingStore.java:137)\n    at org.jboss.naming.remote.client.HaRemoteNamingStore.lookup(HaRemoteNamingStore.java:272)\n    at org.jboss.naming.remote.client.RemoteContext.lookupInternal(RemoteContext.java:104)\n    at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:93)\n    at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:146)\n    at javax.naming.InitialContext.lookup(InitialContext.java:411)\n    at com.mycompany.testnewjcr.NewMain.main(NewMain.java:78)\nCaused by: java.io.NotSerializableException: org.jboss.jca.core.connectionmanager.ccm.CachedConnectionManagerImpl\n    at org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:274)\n    at org.jboss.marshalling.river.RiverMarshaller.doWriteFields(RiverMarshaller.java:1143)\n    at org.jboss.marshalling.river.RiverMarshaller.doWriteSerializableObject(RiverMarshaller.java:1101)\n    at org.jboss.marshalling.river.RiverMarshaller.doWriteSerializableObject(RiverMarshaller.java:1080)\n    at org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:268)\n    at org.jboss.marshalling.river.RiverMarshaller.doWriteFields(RiverMarshaller.java:1143)\n    at org.jboss.marshalling.river.RiverMarshaller.doWriteSerializableObject(RiverMarshaller.java:1101)\n    at org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:268)\n    at org.jboss.marshalling.AbstractObjectOutput.writeObject(AbstractObjectOutput.java:58)\n    at org.jboss.marshalling.AbstractMarshaller.writeObject(AbstractMarshaller.java:111)\n    at org.wildfly.naming.client.remote.RemoteServerTransport.writeSuccessResponse(RemoteServerTransport.java:479)\n    at org.wildfly.naming.client.remote.RemoteServerTransport.handleLookup(RemoteServerTransport.java:210)\n    at org.wildfly.naming.client.remote.RemoteServerTransport$1.handleMessage(RemoteServerTransport.java:123)\n    at org.jboss.remoting3.remote.RemoteConnectionChannel.lambda$handleMessageData$3(RemoteConnectionChannel.java:432)\n    at org.jboss.remoting3.EndpointImpl$TrackingExecutor.lambda$execute$0(EndpointImpl.java:991)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n    at java.lang.Thread.run(Thread.java:833)\nCaused by: an exception which occurred:\n    in field org.jboss.jca.core.connectionmanager.AbstractConnectionManager.cachedConnectionManager\n    in object org.jboss.jca.core.connectionmanager.tx.TxConnectionManagerImpl@664d5391\n    in field org.apache.jackrabbit.jca.JCARepositoryHandle.cm\n    in object org.apache.jackrabbit.jca.JCARepositoryHandle@161283b5\n    in object org.apache.jackrabbit.jca.JCARepositoryHandle@161283b5\nException in thread &quot;naming-client-message-receiver-2-thread-1&quot; java.lang.NoClassDefFoundError: javax/resource/Referenceable\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:278)\n    at org.jboss.marshalling.AbstractClassResolver.loadClass(AbstractClassResolver.java:131)\n    at org.jboss.marshalling.AbstractClassResolver.resolveClass(AbstractClassResolver.java:112)\n    at org.jboss.marshalling.river.RiverUnmarshaller.doReadClassDescriptor(RiverUnmarshaller.java:948)\n    at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1255)\n    at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)\n    at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)\n    at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41)\n    at org.jboss.naming.remote.protocol.v1.Protocol$1$3.read(Protocol.java:156)\n    at org.jboss.naming.remote.protocol.v1.Protocol$1$3.read(Protocol.java:149)\n    at org.jboss.naming.remote.protocol.v1.BaseProtocolCommand.readResult(BaseProtocolCommand.java:59)\n    at org.jboss.naming.remote.protocol.v1.Protocol$1.handleClientMessage(Protocol.java:149)\n    at org.jboss.naming.remote.protocol.v1.RemoteNamingStoreV1$MessageReceiver$1.run(RemoteNamingStoreV1.java:232)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.ClassNotFoundException: javax.resource.Referenceable\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    ... 29 more\n\n</code></pre>\n<p>My client doesn't do anything special though :</p>\n<pre><code>final Properties env = new Properties();\n        env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.jboss.naming.remote.client.InitialContextFactory&quot;);\n        //env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\n        \n        env.put(Context.PROVIDER_URL, &quot;http-remoting://xxx.xxx.xxx.xxx:8080&quot;);\n        env.put(Context.SECURITY_PRINCIPAL, &quot;****&quot;);\n        env.put(Context.SECURITY_CREDENTIALS, &quot;****&quot;);\n        \n        env.put(&quot;jboss.naming.client.ejb.context&quot;, true);\n        InitialContext remoteContext = new InitialContext(env);\n\n        RemoteRepository rr = (RemoteRepository) remoteContext.lookup(&quot;jcr/local&quot;);\n        Repository repository = null;\n        if (rr != null) {\n            ClientAdapterFactory adapter = new ClientAdapterFactory();\n            repository = adapter.getRepository(rr);\n        }\n</code></pre>\n<p>My dependencies are correct:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n            &lt;artifactId&gt;wildfly-ejb-client-bom&lt;/artifactId&gt;\n            &lt;version&gt;10.0.0.Final&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.jackrabbit&lt;/groupId&gt;\n            &lt;artifactId&gt;jackrabbit-jca&lt;/artifactId&gt;\n            &lt;version&gt;2.14.9&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Wildfly config :</p>\n<pre><code>        &lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:6.0&quot;&gt;\n                           &lt;resource-adapters&gt;\n                &lt;resource-adapter id=&quot;jackrabbit-jca-2.21.14.rar&quot; statistics-enabled=&quot;true&quot;&gt;\n                    &lt;archive&gt;\n                        jackrabbit-jca-2.21.14.rar\n                    &lt;/archive&gt;\n                    &lt;connection-definitions&gt;\n                        &lt;connection-definition class-name=&quot;org.apache.jackrabbit.jca.JCAManagedConnectionFactory&quot; jndi-name=&quot;java:jboss/exported/jcr/local&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; pool-name=&quot;jackrabbit-jca-Pool&quot; use-ccm=&quot;true&quot;&gt;\n                            &lt;config-property name=&quot;bindSessionToTransaction&quot;&gt;true&lt;/config-property&gt;\n                            &lt;config-property name=&quot;homeDir&quot;&gt;/mnt/backup/jcr&lt;/config-property&gt;\n                            &lt;config-property name=&quot;configFile&quot;&gt;/mnt/backup/jcr/repository.xml&lt;/config-property&gt;\n                            &lt;security&gt;\n                                &lt;application/&gt;\n                            &lt;/security&gt;\n                            &lt;validation&gt;\n                                &lt;background-validation&gt;false&lt;/background-validation&gt;\n                            &lt;/validation&gt;\n                        &lt;/connection-definition&gt;\n                    &lt;/connection-definitions&gt;\n                &lt;/resource-adapter&gt;\n            &lt;/resource-adapters&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<p>And Archive validation disabled.</p>\n<p>I've been going around in circles for a while now, and there are few resources on the internet about jackrabbit, even less with JCA, and nothing recent especially...</p>\n<p>Thank you for your help</p>\n"},{"tags":["java","spring-boot","microservices","spring-cloud","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"score":0,"creation_date":1680601563,"post_id":75925601,"comment_id":133921998,"body_markdown":"Please add the code in the pom.xml file of the parent, child module so that I and others can help you more easily.","body":"Please add the code in the pom.xml file of the parent, child module so that I and others can help you more easily."},{"owner":{"account_id":27074262,"reputation":1,"user_id":20624472,"display_name":"Blushyes"},"score":0,"creation_date":1680611270,"post_id":75925601,"comment_id":133924417,"body_markdown":"Okay, thank you. I have modified the question and added the specific pom.xml.","body":"Okay, thank you. I have modified the question and added the specific pom.xml."}],"answers":[{"tags":[],"owner":{"account_id":27074262,"reputation":1,"user_id":20624472,"display_name":"Blushyes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680687492,"creation_date":1680687492,"answer_id":75937879,"question_id":75925601,"body_markdown":"The issue has been resolved, and the reason seems to be that **the dependencies spring-boot-starter-web and spring-boot-starter-test were not imported**. When I was curious about which dependencies were included in spring-boot-starter and checked it, I might have made a mistake and thought that it included web and test. Then, I deleted web and test, which resulted in the inability to package the project correctly. However, IDEA probably has a caching function, which allowed my project to run normally in IDEA. Later, I deleted my local Maven repository and discovered that web and test were not imported.\r\n```xml\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to package a Spring Boot microservice project with Maven in IntelliJ IDEA?","body":"<p>The issue has been resolved, and the reason seems to be that <strong>the dependencies spring-boot-starter-web and spring-boot-starter-test were not imported</strong>. When I was curious about which dependencies were included in spring-boot-starter and checked it, I might have made a mistake and thought that it included web and test. Then, I deleted web and test, which resulted in the inability to package the project correctly. However, IDEA probably has a caching function, which allowed my project to run normally in IDEA. Later, I deleted my local Maven repository and discovered that web and test were not imported.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":27074262,"reputation":1,"user_id":20624472,"display_name":"Blushyes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680687492,"creation_date":1680583706,"question_id":75925601,"body_markdown":"I want to build a Spring Boot microservice project with the following structure:\r\n\r\nParent dependency: xx-parent\r\n\r\nChild dependencies: xx-xxx, common, xx-xxx\r\n\r\nI put all the common dependencies in the common module, and other child modules reference it. Finally, I added the spring-boot-maven-plugin to the pom files of each module that needs to be packaged into a jar, specified the main class, and configured repackage. However, when I packaged the project, I only got a *.jar file without a *.jar.original file. Also, the size of the *.jar file is only a few kb, and it doesn&#39;t contain any related dependencies, which means that the repackage goal was not executed. However, there is no error reported in my IntelliJ IDEA. How to solve this problem?\r\n\r\nI tried many approaches such as using IntelliJ IDEA&#39;s built-in artifact builder, but the resulting artifact had various errors. I also tried using the Maven assemble plugin to build it, but it didn&#39;t work either. However, my code has no issues and can run. The problem lies with the errors in the packaged JAR file.\r\n\r\nparent:\r\n```xml\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;xyz.blushyes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;edu-video&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;edu-user&lt;/module&gt;\r\n        &lt;module&gt;edu-course&lt;/module&gt;\r\n        &lt;module&gt;common&lt;/module&gt;\r\n        &lt;module&gt;edu-teacher&lt;/module&gt;\r\n        &lt;module&gt;feign-api&lt;/module&gt;\r\n        &lt;module&gt;edu-order&lt;/module&gt;\r\n        &lt;module&gt;edu-message&lt;/module&gt;\r\n        &lt;module&gt;edu-login&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n    &lt;name&gt;edu-video&lt;/name&gt;\r\n    &lt;description&gt;edu-video&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;spring-boot.version&gt;2.6.13&lt;/spring-boot.version&gt;\r\n        &lt;spring-cloud-alibaba.version&gt;2021.0.5.0&lt;/spring-cloud-alibaba.version&gt;\r\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!--Springboot--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!--SpringCloud Alibaba--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud-alibaba.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!--SpringCloud--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!--Sa-Token--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;cn.dev33&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sa-token-spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;1.34.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\ncommon:\r\n```xml\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;edu-video&lt;/artifactId&gt;\r\n        &lt;groupId&gt;xyz.blushyes&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;common&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--SpringCloud-alibaba--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--Lombok--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--Mybatis-Plus--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-plus-generator&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.31&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--mysql-driver--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--Swagger--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nchild:\r\n```xml\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;edu-video&lt;/artifactId&gt;\r\n        &lt;groupId&gt;xyz.blushyes&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;edu-course&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;edu-course&lt;/name&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;xyz.blushyes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;xyz.blushyes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;feign-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;xyz.blushyes.EduCourse&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n\r\n        \r\n        &lt;finalName&gt;edu-course&lt;/finalName&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"How to package a Spring Boot microservice project with Maven in IntelliJ IDEA?","body":"<p>I want to build a Spring Boot microservice project with the following structure:</p>\n<p>Parent dependency: xx-parent</p>\n<p>Child dependencies: xx-xxx, common, xx-xxx</p>\n<p>I put all the common dependencies in the common module, and other child modules reference it. Finally, I added the spring-boot-maven-plugin to the pom files of each module that needs to be packaged into a jar, specified the main class, and configured repackage. However, when I packaged the project, I only got a *.jar file without a *.jar.original file. Also, the size of the *.jar file is only a few kb, and it doesn't contain any related dependencies, which means that the repackage goal was not executed. However, there is no error reported in my IntelliJ IDEA. How to solve this problem?</p>\n<p>I tried many approaches such as using IntelliJ IDEA's built-in artifact builder, but the resulting artifact had various errors. I also tried using the Maven assemble plugin to build it, but it didn't work either. However, my code has no issues and can run. The problem lies with the errors in the packaged JAR file.</p>\n<p>parent:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;xyz.blushyes&lt;/groupId&gt;\n    &lt;artifactId&gt;edu-video&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;modules&gt;\n        &lt;module&gt;edu-user&lt;/module&gt;\n        &lt;module&gt;edu-course&lt;/module&gt;\n        &lt;module&gt;common&lt;/module&gt;\n        &lt;module&gt;edu-teacher&lt;/module&gt;\n        &lt;module&gt;feign-api&lt;/module&gt;\n        &lt;module&gt;edu-order&lt;/module&gt;\n        &lt;module&gt;edu-message&lt;/module&gt;\n        &lt;module&gt;edu-login&lt;/module&gt;\n    &lt;/modules&gt;\n    &lt;name&gt;edu-video&lt;/name&gt;\n    &lt;description&gt;edu-video&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;spring-boot.version&gt;2.6.13&lt;/spring-boot.version&gt;\n        &lt;spring-cloud-alibaba.version&gt;2021.0.5.0&lt;/spring-cloud-alibaba.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!--Springboot--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!--SpringCloud Alibaba--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-alibaba-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud-alibaba.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\n                &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;\n                &lt;version&gt;3.4.2&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!--SpringCloud--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!--Sa-Token--&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;cn.dev33&lt;/groupId&gt;\n                &lt;artifactId&gt;sa-token-spring-boot-starter&lt;/artifactId&gt;\n                &lt;version&gt;1.34.0&lt;/version&gt;\n            &lt;/dependency&gt;\n\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>common:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;edu-video&lt;/artifactId&gt;\n        &lt;groupId&gt;xyz.blushyes&lt;/groupId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;common&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--SpringCloud-alibaba--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--Lombok--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--Mybatis-Plus--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.5.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-plus-generator&lt;/artifactId&gt;\n            &lt;version&gt;3.5.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n            &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n            &lt;version&gt;2.3.31&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--mysql-driver--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--Swagger--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>child:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;edu-video&lt;/artifactId&gt;\n        &lt;groupId&gt;xyz.blushyes&lt;/groupId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;edu-course&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;edu-course&lt;/name&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;xyz.blushyes&lt;/groupId&gt;\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;xyz.blushyes&lt;/groupId&gt;\n            &lt;artifactId&gt;feign-api&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;xyz.blushyes.EduCourse&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n\n        \n        &lt;finalName&gt;edu-course&lt;/finalName&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1680677140,"post_id":75936287,"comment_id":133936565,"body_markdown":"Did you debug your code? I&#39;d suspect this is a problem with how you&#39;re using firebase instead of the UI.","body":"Did you debug your code? I&#39;d suspect this is a problem with how you&#39;re using firebase instead of the UI."},{"owner":{"account_id":27861940,"reputation":27,"user_id":21274291,"display_name":"Akthar Farvees"},"score":0,"creation_date":1680678581,"post_id":75936287,"comment_id":133936861,"body_markdown":"Yeh I think it&#39;s correct but I can&#39;t find the issue so how can I fix this please help me","body":"Yeh I think it&#39;s correct but I can&#39;t find the issue so how can I fix this please help me"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1680679901,"post_id":75936287,"comment_id":133937123,"body_markdown":"What research did you do? A quick google search (since I&#39;m not a firebase user) shows that there&#39;s `removeValue()` so maybe try that.","body":"What research did you do? A quick google search (since I&#39;m not a firebase user) shows that there&#39;s <code>removeValue()</code> so maybe try that."}],"answers":[{"tags":[],"owner":{"account_id":16549589,"reputation":177,"user_id":11958275,"display_name":"Ghazanfar Ateeb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680687427,"creation_date":1680687427,"answer_id":75937870,"question_id":75936287,"body_markdown":"Change \r\n```\r\ndatabase.getReference().child(&quot;chats&quot;).child(senderRoom).child(messageModel.getMessage()).setValue(null);\r\n```\r\nto\r\n```\r\ndatabase.getReference().child(&quot;chats&quot;).child(senderRoom).child(messageModel.getMessage()).getRef().removeValue();\r\n```","title":"How to fix &quot;Delete Message&quot; Error in android studio java (Chat Application)?","body":"<p>Change</p>\n<pre><code>database.getReference().child(&quot;chats&quot;).child(senderRoom).child(messageModel.getMessage()).setValue(null);\n</code></pre>\n<p>to</p>\n<pre><code>database.getReference().child(&quot;chats&quot;).child(senderRoom).child(messageModel.getMessage()).getRef().removeValue();\n</code></pre>\n"}],"owner":{"account_id":27861940,"reputation":27,"user_id":21274291,"display_name":"Akthar Farvees"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75937870,"answer_count":1,"score":0,"last_activity_date":1680687427,"creation_date":1680676263,"question_id":75936287,"body_markdown":"I&#39;m trying to add a function for delete a message in my chat application via the setOnLongClickListener() method but unfortunately I can not delete the message so plaese check it properly and give me the solution\r\n\r\n```\r\n public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\r\n        MessageModel messageModel = messageModels.get(position);\r\n\r\n        holder.itemView.setOnLongClickListener(new View.OnLongClickListener() {\r\n            @Override\r\n            public boolean onLongClick(View v) {\r\n\r\n                new AlertDialog.Builder(context)\r\n                        .setTitle(&quot;Delete&quot;)\r\n                        .setMessage(&quot;Are you sure you want to delete this message?&quot;)\r\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialog, int which) {\r\n                                FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n                                String senderRoom = FirebaseAuth.getInstance().getUid()+recId;\r\n                                database.getReference().child(&quot;chats&quot;).child(senderRoom)\r\n                                        .child(messageModel.getMessage())\r\n                                        .setValue(null);\r\n\r\n                            }\r\n                        }).setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        dialog.dismiss();\r\n                    }\r\n                }).show();\r\n\r\n                return false;\r\n            }\r\n        });\r\n\r\n         if(holder.getClass()== SenderViewHolder.class){\r\n             ((SenderViewHolder)holder).senderMsg.setText(messageModel.getMessage());\r\n         }else {\r\n             ((ReceiverViewHolder)holder).receiverMsg.setText(messageModel.getMessage());\r\n         }\r\n    }\r\n```\r\n\r\nEven if I click the &quot;Yes&quot; option in the popup message then still I can&#39;t delete the message\r\n\r\n[![Popup message with Yes and No option but It is not working](https://i.stack.imgur.com/bvuW0.png)](https://i.stack.imgur.com/bvuW0.png)","title":"How to fix &quot;Delete Message&quot; Error in android studio java (Chat Application)?","body":"<p>I'm trying to add a function for delete a message in my chat application via the setOnLongClickListener() method but unfortunately I can not delete the message so plaese check it properly and give me the solution</p>\n<pre><code> public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\n        MessageModel messageModel = messageModels.get(position);\n\n        holder.itemView.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View v) {\n\n                new AlertDialog.Builder(context)\n                        .setTitle(&quot;Delete&quot;)\n                        .setMessage(&quot;Are you sure you want to delete this message?&quot;)\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n                                FirebaseDatabase database = FirebaseDatabase.getInstance();\n                                String senderRoom = FirebaseAuth.getInstance().getUid()+recId;\n                                database.getReference().child(&quot;chats&quot;).child(senderRoom)\n                                        .child(messageModel.getMessage())\n                                        .setValue(null);\n\n                            }\n                        }).setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        dialog.dismiss();\n                    }\n                }).show();\n\n                return false;\n            }\n        });\n\n         if(holder.getClass()== SenderViewHolder.class){\n             ((SenderViewHolder)holder).senderMsg.setText(messageModel.getMessage());\n         }else {\n             ((ReceiverViewHolder)holder).receiverMsg.setText(messageModel.getMessage());\n         }\n    }\n</code></pre>\n<p>Even if I click the &quot;Yes&quot; option in the popup message then still I can't delete the message</p>\n<p><a href=\"https://i.stack.imgur.com/bvuW0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bvuW0.png\" alt=\"Popup message with Yes and No option but It is not working\" /></a></p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1680653315,"post_id":75934715,"comment_id":133933903,"body_markdown":"Beware that things like `nextInt` and `next` will leave a dangling new line character in the buffer, meaning that the next time it attempts to do a `nextXxx`, you&#39;re going to get that character instead.  Make use of `nextLine` and manually parse the result or use it to clear the new line character","body":"Beware that things like <code>nextInt</code> and <code>next</code> will leave a dangling new line character in the buffer, meaning that the next time it attempts to do a <code>nextXxx</code>, you&#39;re going to get that character instead.  Make use of <code>nextLine</code> and manually parse the result or use it to clear the new line character"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1680654190,"post_id":75934715,"comment_id":133933988,"body_markdown":"`&#39;n&#39; for no` `repeat.equals(&quot;NO&quot;)` - I think this will cause a problem.","body":"<code>&#39;n&#39; for no</code> <code>repeat.equals(&quot;NO&quot;)</code> - I think this will cause a problem."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1680654231,"post_id":75934715,"comment_id":133933992,"body_markdown":"So, you have a logic puzzle, which will basically boil down to `false || true` (`!repeat.equals(&quot;n&quot;) || points &gt; 0`), in this case it will equate to `true`, so you&#39;re `do-while` loop will continue.  If instead, you changed it to `false &amp;&amp; true` it will equate to `false` and the loop will exit ... and yes, my head is still spinning just trying to describe it","body":"So, you have a logic puzzle, which will basically boil down to <code>false || true</code> (<code>!repeat.equals(&quot;n&quot;) || points &gt; 0</code>), in this case it will equate to <code>true</code>, so you&#39;re <code>do-while</code> loop will continue.  If instead, you changed it to <code>false &amp;&amp; true</code> it will equate to <code>false</code> and the loop will exit ... and yes, my head is still spinning just trying to describe it"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1680657059,"post_id":75934715,"comment_id":133934260,"body_markdown":"@MadProgrammer Only `nextLine` has an issue with dangling token delimiters. Every other method skips delimiters until it finds a valid token.","body":"@MadProgrammer Only <code>nextLine</code> has an issue with dangling token delimiters. Every other method skips delimiters until it finds a valid token."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1680657319,"post_id":75934715,"comment_id":133934283,"body_markdown":"@Tom `nextLine` will read the entire line of text up to the new line token, removing it in the process - in my experience `nextXxx` seems to cause issues with leaving this and causing following `next` statements to be skipped ... but I tend to avoid working with `Scanner` in this way and instead lean towards reading the line from the input then using a seperate parsing workflow which simple ignores all these related issues - but that&#39;s me","body":"@Tom <code>nextLine</code> will read the entire line of text up to the new line token, removing it in the process - in my experience <code>nextXxx</code> seems to cause issues with leaving this and causing following <code>next</code> statements to be skipped ... but I tend to avoid working with <code>Scanner</code> in this way and instead lean towards reading the line from the input then using a seperate parsing workflow which simple ignores all these related issues - but that&#39;s me"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1680658796,"post_id":75934715,"comment_id":133934396,"body_markdown":"@MadProgrammer Neither &quot;next&quot;, &quot;nextInt&quot; or &quot;nextFloat&quot; (or any other non-`nextLine` method) will be skipped. You&#39;re correct, that those don&#39;t read the delimiter after the token, but they don&#39;t need to, since they skip such delimiters anyway. Their behaviour is pretty constant and reliable. The issue is `nextLine`. It doesn&#39;t follow the usual behaviour of the Scanner class, which is skipping delimiters until it finds a valid token. It only reads up to the next line break, even if the read content is just an empty String. But yes, reading line by line and converting it &quot;manually&quot; is also fine.","body":"@MadProgrammer Neither &quot;next&quot;, &quot;nextInt&quot; or &quot;nextFloat&quot; (or any other non-<code>nextLine</code> method) will be skipped. You&#39;re correct, that those don&#39;t read the delimiter after the token, but they don&#39;t need to, since they skip such delimiters anyway. Their behaviour is pretty constant and reliable. The issue is <code>nextLine</code>. It doesn&#39;t follow the usual behaviour of the Scanner class, which is skipping delimiters until it finds a valid token. It only reads up to the next line break, even if the read content is just an empty String. But yes, reading line by line and converting it &quot;manually&quot; is also fine."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1680659302,"post_id":75934715,"comment_id":133934428,"body_markdown":"@Tom *&quot;It only reads up to the next line break, even if the read content is just an empty String&quot;* - sure, but if you do two `nextLine` calls, the second won&#39;t be skipped, where as we get SO many &quot;why does is my next input get skipped&quot; questions &#128580; - which can be solved by simply placing a `nextLine` after the `next` to remove the dangling new line character","body":"@Tom <i>&quot;It only reads up to the next line break, even if the read content is just an empty String&quot;</i> - sure, but if you do two <code>nextLine</code> calls, the second won&#39;t be skipped, where as we get SO many &quot;why does is my next input get skipped&quot; questions  - which can be solved by simply placing a <code>nextLine</code> after the <code>next</code> to remove the dangling new line character"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1680659895,"post_id":75934715,"comment_id":133934479,"body_markdown":"@MadProgrammer Yes, this is correct. I just wanted to point out that your first comment is partly correct (it is not every `nextxxx` which has issues, just `nextLine`) and that &quot;causing following `next` statements to be skipped&quot; is incorrect as well. This issue can be confusing to some, so misleading/incorrect information will make it worse.","body":"@MadProgrammer Yes, this is correct. I just wanted to point out that your first comment is partly correct (it is not every <code>nextxxx</code> which has issues, just <code>nextLine</code>) and that &quot;causing following <code>next</code> statements to be skipped&quot; is incorrect as well. This issue can be confusing to some, so misleading/incorrect information will make it worse."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1680660465,"post_id":75934715,"comment_id":133934523,"body_markdown":"@Tom Yes, observationally, `nextInt` followed by `nextLine` causes `nextLine` to return an empty `String`, which leads to the conclusion that `nextInt` is leaving a dangling new line - so I&#39;m always aware of just clearing the buffer &#128540;. I don&#39;t think `Scanner` is taught well enough for new devs (or old ones like me who grew up without it)","body":"@Tom Yes, observationally, <code>nextInt</code> followed by <code>nextLine</code> causes <code>nextLine</code> to return an empty <code>String</code>, which leads to the conclusion that <code>nextInt</code> is leaving a dangling new line - so I&#39;m always aware of just clearing the buffer . I don&#39;t think <code>Scanner</code> is taught well enough for new devs (or old ones like me who grew up without it)"}],"answers":[{"tags":[],"owner":{"account_id":3439344,"reputation":569,"user_id":2881646,"accept_rate":100,"display_name":"mdsimmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680677575,"creation_date":1680677575,"answer_id":75936452,"question_id":75934715,"body_markdown":"A do-while loop repeats if the `while` statement is true.\r\n\r\nConsider your loop:\r\n```java\r\ndo {\r\n   ...\r\n} while(repeat.equals(&quot;n&quot;) || points!=0)\r\n\r\n```\r\n\r\nDo you really want keep playing when `repeat` is `n` or `points` not equal to zero?","title":"My java do-while loop is only working about half the time, for some reason","body":"<p>A do-while loop repeats if the <code>while</code> statement is true.</p>\n<p>Consider your loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>do {\n   ...\n} while(repeat.equals(&quot;n&quot;) || points!=0)\n\n</code></pre>\n<p>Do you really want keep playing when <code>repeat</code> is <code>n</code> or <code>points</code> not equal to zero?</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680687277,"creation_date":1680687277,"answer_id":75937857,"question_id":75934715,"body_markdown":"As stated in the comments (and the other [answer](https://stackoverflow.com/questions/75934715/my-java-do-while-loop-is-only-working-about-half-the-time-for-some-reason/75936452#75936452)), your problem is the condition of the [outer] `do-while` loop in method `main` of class `Highlow`. That condition needs to be changed. Firstly, you should check whether the points are greater than zero since the user can&#39;t risk points if [s]he doesn&#39;t have any. If the user has points, then check whether the answer is &quot;y&quot;, i.e. the user wants to play again. Advisable to also ignore the case of the entered answer, i.e. play again if the user entered &quot;Y&quot; or &quot;y&quot;. In other words, you repeat the loop if the user has more than zero points **and** they answered &quot;y&quot;. If the user has zero points **or** if they did **not** answer &quot;y&quot;, exit the loop. Note that this means that you should initialize `repeat` to &quot;y&quot;.\r\n\r\nThe below code is the code from your question with corrections described above plus other changes that are detailed after the code.\r\n```java\r\npackage highlow;\r\n\r\nimport java.util.InputMismatchException;\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class Highlow {\r\n    private static final int FACTOR = 2;\r\n    private static final int HI = 1;\r\n    private static final int INIT = 2;\r\n    private static final int LO = 0;\r\n    private static final int LOSER = 7;\r\n    private static final int LOWER = 1;\r\n    private static final int UPPER = 13;\r\n\r\n    public static void rules() {\r\n        System.out.println(&quot;RULES:&quot;);\r\n        System.out.println(&quot;Numbers 1-6 are low &quot;);\r\n        System.out.println(&quot;Numbers 8-13&quot;);\r\n        System.out.println(&quot;Number 7 is neither high or low\\n\\n&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int number;\r\n        int gambleAmount;\r\n        int prediction = INIT;\r\n        int correctRange;\r\n        int winnings;\r\n        int points = 1000;;\r\n        int numberOfGuesses = 0;\r\n        String repeat = &quot;y&quot;;\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.print(&quot;High Low Game\\n\\n&quot;);\r\n        rules();\r\n        Random rand = new Random();\r\n        do {\r\n            number = rand.nextInt(LOWER, UPPER + 1); // (int) (13 * Math.random() + 1);\r\n            if (number &gt; LOSER) {\r\n                correctRange = 1;\r\n            }\r\n            else if (number &lt; LOSER) {\r\n                correctRange = 0;\r\n            }\r\n            else {\r\n                correctRange = -1;\r\n            }\r\n            System.out.println(&quot;You have &quot; + points + &quot; points&quot;);\r\n            System.out.printf(&quot;Enter points to risk [1 - %d]: &quot;, points);\r\n            try {\r\n                gambleAmount = input.nextInt();\r\n                if (gambleAmount &lt;= 0  ||  gambleAmount &gt; points) {\r\n                    System.out.println(&quot;Invalid value. Please re-enter.&quot;);\r\n                    continue;\r\n                }\r\n            }\r\n            catch (InputMismatchException x) {\r\n                System.out.println(&quot;You did not enter a number. Please re-enter.&quot;);\r\n                input.nextLine();\r\n                continue;\r\n            }\r\n            do {\r\n                System.out.print(&quot;Predict [1=high, 0=low]: &quot;);\r\n                try {\r\n                    prediction = input.nextInt();\r\n                    if (prediction &lt; LO  ||  prediction &gt; HI) {\r\n                        System.out.println(&quot;Invalid prediction. Please re-enter.&quot;);\r\n                        continue;\r\n                    }\r\n                }\r\n                catch (InputMismatchException x) {\r\n                    System.out.println(&quot;You did not enter a number. Please re-enter.&quot;);\r\n                    input.nextLine();\r\n                    continue;\r\n                }\r\n            } while (prediction &lt; LO  ||  prediction &gt; HI);\r\n            numberOfGuesses += 1;\r\n            if (prediction == correctRange) {\r\n                winnings = gambleAmount * FACTOR;\r\n                points += winnings;\r\n                System.out.println(&quot;The number was &quot; + number);\r\n                System.out.print(&quot;You win!\\n\\n&quot;);\r\n            }\r\n            else {\r\n                points -= gambleAmount;\r\n                System.out.println(&quot;The number was &quot; + number);\r\n                System.out.print(&quot;You lose.\\n\\n&quot;);\r\n            }\r\n            if (points &gt; 0) {\r\n                System.out.print(&quot;Would you like to play again (&#39;n&#39; for no and &#39;y&#39; for yes): &quot;);\r\n                repeat = input.next();\r\n            }\r\n        } while (points &gt; 0 &amp;&amp; &quot;y&quot;.equalsIgnoreCase(repeat));\r\n        String plural = numberOfGuesses == 1 ? &quot;&quot; : &quot;es&quot;;\r\n        System.out.printf(&quot;You had %d guess%s.%n&quot;, numberOfGuesses, plural);\r\n    }\r\n}\r\n```\r\nAlthough not stated in the problem, the above code checks the validity of values entered by the user. Calling method [nextInt](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextInt()) will throw `InputMismatchException` if it reads a value which is not a valid integer. Note that the `catch` block also calls `nextLine`. The reason is mentioned in the question comments. Also refer to [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)\r\n\r\nNo need for an inner `do-while` loop to keep asking the user to enter a valid amount of points to risk. Simply repeat the outer loop as that reminds the user how many points they can risk.\r\n\r\nHowever, no need to repeat the entire loop if the user enters an invalid &quot;prediction&quot;. Hence the inner `do-while` loop for getting the user&#39;s prediction.\r\n\r\nNote that this is just the way I believe the program logic should be. It is not more correct or less correct to do it this way.\r\n\r\n`numberOfGuesses` should be incremented **after** the user has entered a valid number of points to risk and a valid prediction. It should not be incremented immediately upon entering the [outer] `do-while` loop.\r\n\r\nIf the user just lost all their points, then you should quit the [outer] `do-while` loop, i.e. no point in asking the user if they want to play again when they have no points to risk.\r\n\r\nAlthough this line of code does not cause problems:\r\n```java\r\nrepeat = input.next();\r\n```\r\nconsider calling method `nextLine` instead.  \r\nSee what happens when the user simply presses &lt;kbd&gt;ENTER&lt;/kbd&gt;, i.e. does not enter a value. (Same is true for method `nextInt`, by the way.)\r\n\r\nAccording to [Java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html), method names should start with a lower-case letter, hence I changed method `Rules` to method `rules`.\r\n","title":"My java do-while loop is only working about half the time, for some reason","body":"<p>As stated in the comments (and the other <a href=\"https://stackoverflow.com/questions/75934715/my-java-do-while-loop-is-only-working-about-half-the-time-for-some-reason/75936452#75936452\">answer</a>), your problem is the condition of the [outer] <code>do-while</code> loop in method <code>main</code> of class <code>Highlow</code>. That condition needs to be changed. Firstly, you should check whether the points are greater than zero since the user can't risk points if [s]he doesn't have any. If the user has points, then check whether the answer is &quot;y&quot;, i.e. the user wants to play again. Advisable to also ignore the case of the entered answer, i.e. play again if the user entered &quot;Y&quot; or &quot;y&quot;. In other words, you repeat the loop if the user has more than zero points <strong>and</strong> they answered &quot;y&quot;. If the user has zero points <strong>or</strong> if they did <strong>not</strong> answer &quot;y&quot;, exit the loop. Note that this means that you should initialize <code>repeat</code> to &quot;y&quot;.</p>\n<p>The below code is the code from your question with corrections described above plus other changes that are detailed after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package highlow;\n\nimport java.util.InputMismatchException;\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class Highlow {\n    private static final int FACTOR = 2;\n    private static final int HI = 1;\n    private static final int INIT = 2;\n    private static final int LO = 0;\n    private static final int LOSER = 7;\n    private static final int LOWER = 1;\n    private static final int UPPER = 13;\n\n    public static void rules() {\n        System.out.println(&quot;RULES:&quot;);\n        System.out.println(&quot;Numbers 1-6 are low &quot;);\n        System.out.println(&quot;Numbers 8-13&quot;);\n        System.out.println(&quot;Number 7 is neither high or low\\n\\n&quot;);\n    }\n\n    public static void main(String[] args) {\n        int number;\n        int gambleAmount;\n        int prediction = INIT;\n        int correctRange;\n        int winnings;\n        int points = 1000;;\n        int numberOfGuesses = 0;\n        String repeat = &quot;y&quot;;\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;High Low Game\\n\\n&quot;);\n        rules();\n        Random rand = new Random();\n        do {\n            number = rand.nextInt(LOWER, UPPER + 1); // (int) (13 * Math.random() + 1);\n            if (number &gt; LOSER) {\n                correctRange = 1;\n            }\n            else if (number &lt; LOSER) {\n                correctRange = 0;\n            }\n            else {\n                correctRange = -1;\n            }\n            System.out.println(&quot;You have &quot; + points + &quot; points&quot;);\n            System.out.printf(&quot;Enter points to risk [1 - %d]: &quot;, points);\n            try {\n                gambleAmount = input.nextInt();\n                if (gambleAmount &lt;= 0  ||  gambleAmount &gt; points) {\n                    System.out.println(&quot;Invalid value. Please re-enter.&quot;);\n                    continue;\n                }\n            }\n            catch (InputMismatchException x) {\n                System.out.println(&quot;You did not enter a number. Please re-enter.&quot;);\n                input.nextLine();\n                continue;\n            }\n            do {\n                System.out.print(&quot;Predict [1=high, 0=low]: &quot;);\n                try {\n                    prediction = input.nextInt();\n                    if (prediction &lt; LO  ||  prediction &gt; HI) {\n                        System.out.println(&quot;Invalid prediction. Please re-enter.&quot;);\n                        continue;\n                    }\n                }\n                catch (InputMismatchException x) {\n                    System.out.println(&quot;You did not enter a number. Please re-enter.&quot;);\n                    input.nextLine();\n                    continue;\n                }\n            } while (prediction &lt; LO  ||  prediction &gt; HI);\n            numberOfGuesses += 1;\n            if (prediction == correctRange) {\n                winnings = gambleAmount * FACTOR;\n                points += winnings;\n                System.out.println(&quot;The number was &quot; + number);\n                System.out.print(&quot;You win!\\n\\n&quot;);\n            }\n            else {\n                points -= gambleAmount;\n                System.out.println(&quot;The number was &quot; + number);\n                System.out.print(&quot;You lose.\\n\\n&quot;);\n            }\n            if (points &gt; 0) {\n                System.out.print(&quot;Would you like to play again ('n' for no and 'y' for yes): &quot;);\n                repeat = input.next();\n            }\n        } while (points &gt; 0 &amp;&amp; &quot;y&quot;.equalsIgnoreCase(repeat));\n        String plural = numberOfGuesses == 1 ? &quot;&quot; : &quot;es&quot;;\n        System.out.printf(&quot;You had %d guess%s.%n&quot;, numberOfGuesses, plural);\n    }\n}\n</code></pre>\n<p>Although not stated in the problem, the above code checks the validity of values entered by the user. Calling method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Scanner.html#nextInt()\" rel=\"nofollow noreferrer\">nextInt</a> will throw <code>InputMismatchException</code> if it reads a value which is not a valid integer. Note that the <code>catch</code> block also calls <code>nextLine</code>. The reason is mentioned in the question comments. Also refer to <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a></p>\n<p>No need for an inner <code>do-while</code> loop to keep asking the user to enter a valid amount of points to risk. Simply repeat the outer loop as that reminds the user how many points they can risk.</p>\n<p>However, no need to repeat the entire loop if the user enters an invalid &quot;prediction&quot;. Hence the inner <code>do-while</code> loop for getting the user's prediction.</p>\n<p>Note that this is just the way I believe the program logic should be. It is not more correct or less correct to do it this way.</p>\n<p><code>numberOfGuesses</code> should be incremented <strong>after</strong> the user has entered a valid number of points to risk and a valid prediction. It should not be incremented immediately upon entering the [outer] <code>do-while</code> loop.</p>\n<p>If the user just lost all their points, then you should quit the [outer] <code>do-while</code> loop, i.e. no point in asking the user if they want to play again when they have no points to risk.</p>\n<p>Although this line of code does not cause problems:</p>\n<pre class=\"lang-java prettyprint-override\"><code>repeat = input.next();\n</code></pre>\n<p>consider calling method <code>nextLine</code> instead.<br />\nSee what happens when the user simply presses <kbd>ENTER</kbd>, i.e. does not enter a value. (Same is true for method <code>nextInt</code>, by the way.)</p>\n<p>According to <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>, method names should start with a lower-case letter, hence I changed method <code>Rules</code> to method <code>rules</code>.</p>\n"}],"owner":{"account_id":28114441,"reputation":19,"user_id":21481750,"display_name":"Tristan Day"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75936452,"answer_count":2,"score":-1,"last_activity_date":1680687277,"creation_date":1680652904,"question_id":75934715,"body_markdown":"I was expecting the do-while loop to end every time I typed in &#39;n&#39;, but it only happens every other time. I have not noticed any patterns within this. I also try to have the loop finish either if the number of points is 0 or less, but this does not seem to work either. \r\n\r\nI have been trying this many times, but cannot see where the fault is. Just require some assistance please and thanks. \r\n\r\nHere is the problem:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/uAX3s.png)](https://i.stack.imgur.com/uAX3s.png)\r\n\r\nHere is my code:\r\n```java\r\npackage highlow;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Highlow {\r\n\r\n    public static void Rules() {\r\n        System.out.println(&quot;RULES:&quot;);\r\n        System.out.println(&quot;Numbers 1-6 are low &quot;);\r\n        System.out.println(&quot;Numbers 8-13&quot;);\r\n        System.out.println(&quot;Number 7 is neither high or low\\n\\n&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int number;\r\n        int gambleAmount;\r\n        int prediction;\r\n        int correctRange;\r\n        int winnings;\r\n        int points;\r\n        int numberOfGuesses = 0;\r\n        String repeat;\r\n        Scanner input = new Scanner(System.in);\r\n        points = 1000;\r\n        System.out.print(&quot;High Low Game\\n\\n&quot;);\r\n        Rules();\r\n        do {\r\n            number = (int) (13 * Math.random() + 1);\r\n            if (number &gt; 7) {\r\n                correctRange = 1;\r\n            }\r\n            else if (number &lt; 7) {\r\n                correctRange = 0;\r\n            }\r\n            else {\r\n                correctRange = -1;\r\n            }\r\n            numberOfGuesses += 1;\r\n            System.out.println(&quot;You have &quot; + points + &quot; points&quot;);\r\n            do {\r\n                System.out.println(&quot;Please insert a valid number of points&quot;);\r\n                System.out.print(&quot;How many points would you like to gamble: &quot;);\r\n                gambleAmount = input.nextInt();\r\n            } while (gambleAmount &gt; points);\r\n            System.out.print(&quot;Predict [1=high, 0=low]: &quot;);\r\n            prediction = input.nextInt();\r\n            if (prediction == correctRange) {\r\n                winnings = gambleAmount * 2;\r\n                points = points + winnings;\r\n                System.out.println(&quot;The number was &quot; + number);\r\n                System.out.print(&quot;You win!\\n\\n&quot;);\r\n            }\r\n            else {\r\n                points = points - gambleAmount;\r\n                System.out.println(&quot;The number was &quot; + number);\r\n                System.out.print(&quot;You lose\\n\\n&quot;);\r\n            }\r\n            System.out.print(&quot;Would you like to play again (&#39;n&#39; for no and &#39;y&#39; for yes): &quot;);\r\n            repeat = input.next();\r\n        } while (repeat.equals(&quot;n&quot;) || points != 0);\r\n        System.out.print(&quot;You had &quot; + numberOfGuesses + &quot; guesses&quot;);\r\n    }\r\n}\r\n```\r\n","title":"My java do-while loop is only working about half the time, for some reason","body":"<p>I was expecting the do-while loop to end every time I typed in 'n', but it only happens every other time. I have not noticed any patterns within this. I also try to have the loop finish either if the number of points is 0 or less, but this does not seem to work either.</p>\n<p>I have been trying this many times, but cannot see where the fault is. Just require some assistance please and thanks.</p>\n<p>Here is the problem:</p>\n<p><a href=\"https://i.stack.imgur.com/uAX3s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uAX3s.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package highlow;\n\nimport java.util.Scanner;\n\npublic class Highlow {\n\n    public static void Rules() {\n        System.out.println(&quot;RULES:&quot;);\n        System.out.println(&quot;Numbers 1-6 are low &quot;);\n        System.out.println(&quot;Numbers 8-13&quot;);\n        System.out.println(&quot;Number 7 is neither high or low\\n\\n&quot;);\n    }\n\n    public static void main(String[] args) {\n        int number;\n        int gambleAmount;\n        int prediction;\n        int correctRange;\n        int winnings;\n        int points;\n        int numberOfGuesses = 0;\n        String repeat;\n        Scanner input = new Scanner(System.in);\n        points = 1000;\n        System.out.print(&quot;High Low Game\\n\\n&quot;);\n        Rules();\n        do {\n            number = (int) (13 * Math.random() + 1);\n            if (number &gt; 7) {\n                correctRange = 1;\n            }\n            else if (number &lt; 7) {\n                correctRange = 0;\n            }\n            else {\n                correctRange = -1;\n            }\n            numberOfGuesses += 1;\n            System.out.println(&quot;You have &quot; + points + &quot; points&quot;);\n            do {\n                System.out.println(&quot;Please insert a valid number of points&quot;);\n                System.out.print(&quot;How many points would you like to gamble: &quot;);\n                gambleAmount = input.nextInt();\n            } while (gambleAmount &gt; points);\n            System.out.print(&quot;Predict [1=high, 0=low]: &quot;);\n            prediction = input.nextInt();\n            if (prediction == correctRange) {\n                winnings = gambleAmount * 2;\n                points = points + winnings;\n                System.out.println(&quot;The number was &quot; + number);\n                System.out.print(&quot;You win!\\n\\n&quot;);\n            }\n            else {\n                points = points - gambleAmount;\n                System.out.println(&quot;The number was &quot; + number);\n                System.out.print(&quot;You lose\\n\\n&quot;);\n            }\n            System.out.print(&quot;Would you like to play again ('n' for no and 'y' for yes): &quot;);\n            repeat = input.next();\n        } while (repeat.equals(&quot;n&quot;) || points != 0);\n        System.out.print(&quot;You had &quot; + numberOfGuesses + &quot; guesses&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","datetimepicker","material-components-android"],"owner":{"account_id":27329849,"reputation":15,"user_id":20842166,"display_name":"steeveKA1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680687194,"creation_date":1680685925,"question_id":75937652,"body_markdown":"i have an app in which the user should choose a specific month from a specific year. The problem is, that im not able to change the material date picker in a manner, that it shows only years and months to select. i tried nearly everything. \r\n\r\nIn the class MaterialDatePicker.Builder seems to exist a method called setDayViewDecorator().\r\nIs it possible to change the DatePicker to get only month and year?  \r\nIm using AS with java. \r\n","title":"Android Studio Material Date Picker show only Month and Year","body":"<p>i have an app in which the user should choose a specific month from a specific year. The problem is, that im not able to change the material date picker in a manner, that it shows only years and months to select. i tried nearly everything.</p>\n<p>In the class MaterialDatePicker.Builder seems to exist a method called setDayViewDecorator().\nIs it possible to change the DatePicker to get only month and year?<br />\nIm using AS with java.</p>\n"},{"tags":["java","swing","keylistener","key-bindings"],"comments":[{"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"score":2,"creation_date":1680686827,"post_id":75937425,"comment_id":133938733,"body_markdown":"Use DocumentListener. Something like `textField.getDocument().addDocumentListener(myDocumentListener)`","body":"Use DocumentListener. Something like <code>textField.getDocument().addDocumentListener(myDocumentListen&zwnj;&#8203;er)</code>"}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680686962,"creation_date":1680686962,"answer_id":75937803,"question_id":75937425,"body_markdown":"I actually wouldn&#39;t use either of those tools. There is a tool that was custom built to do exactly what you are talking about. It is called a [DocumentListener][1].\r\n\r\nHere is a demo code.\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport javax.swing.event.*;\r\nimport javax.swing.text.*;\r\n\r\npublic class DocumentListenerExample\r\n{\r\n\r\n   public static void main(String[] args)\r\n   {\r\n   \r\n      JFrame frame = new JFrame();\r\n      frame.setSize(500, 500);\r\n      frame.setLocationByPlatform(true);\r\n      \r\n      JTextField field = new JTextField();\r\n      \r\n      Document doc = field.getDocument();\r\n      \r\n      doc.addDocumentListener(\r\n         new DocumentListener()\r\n         {\r\n         \r\n            public void changedUpdate(DocumentEvent e) {}\r\n            public void removeUpdate(DocumentEvent e) {}\r\n            \r\n            public void insertUpdate(DocumentEvent e)\r\n            {\r\n               \r\n               try\r\n               {\r\n                  System.out.println(e.getDocument().getText(e.getOffset(), e.getLength()));\r\n               } \r\n               catch (Exception exception) \r\n               {\r\n                  System.err.println(exception);\r\n               }\r\n            \r\n            }\r\n         \r\n         }\r\n         );\r\n      \r\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      frame.getContentPane().add(field);\r\n      frame.setVisible(true);\r\n   \r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\nI extracted the [Document][2] out of my [JTextField][3], then I added an anonymous [DocumentListener][1] to it, whose [DocumentListener::insertUpdate][4] method just prints out the String that was just inserted by using [Document::getText][5], [DocumentEvent::getOffset][6], and [DocumentEvent::getLength][7].\r\n\r\nFor your purposes, you may want to just grab all of the text as opposed to just the String that was just inserted. But regardless, this gives you a decent Proof of Concept on how to do it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/event/DocumentListener.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/text/Document.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JTextField.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/event/DocumentListener.html#insertUpdate(javax.swing.event.DocumentEvent)\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/text/Document.html#getText(int,int)\r\n  [6]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/event/DocumentEvent.html#getOffset()\r\n  [7]: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/event/DocumentEvent.html#getLength()","title":"KeyListener VS Key Binding for JField","body":"<p>I actually wouldn't use either of those tools. There is a tool that was custom built to do exactly what you are talking about. It is called a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/event/DocumentListener.html\" rel=\"nofollow noreferrer\">DocumentListener</a>.</p>\n<p>Here is a demo code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport javax.swing.event.*;\nimport javax.swing.text.*;\n\npublic class DocumentListenerExample\n{\n\n   public static void main(String[] args)\n   {\n   \n      JFrame frame = new JFrame();\n      frame.setSize(500, 500);\n      frame.setLocationByPlatform(true);\n      \n      JTextField field = new JTextField();\n      \n      Document doc = field.getDocument();\n      \n      doc.addDocumentListener(\n         new DocumentListener()\n         {\n         \n            public void changedUpdate(DocumentEvent e) {}\n            public void removeUpdate(DocumentEvent e) {}\n            \n            public void insertUpdate(DocumentEvent e)\n            {\n               \n               try\n               {\n                  System.out.println(e.getDocument().getText(e.getOffset(), e.getLength()));\n               } \n               catch (Exception exception) \n               {\n                  System.err.println(exception);\n               }\n            \n            }\n         \n         }\n         );\n      \n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      frame.getContentPane().add(field);\n      frame.setVisible(true);\n   \n   }\n\n}\n\n</code></pre>\n<p>I extracted the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/text/Document.html\" rel=\"nofollow noreferrer\">Document</a> out of my <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JTextField.html\" rel=\"nofollow noreferrer\">JTextField</a>, then I added an anonymous <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/event/DocumentListener.html\" rel=\"nofollow noreferrer\">DocumentListener</a> to it, whose <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/event/DocumentListener.html#insertUpdate(javax.swing.event.DocumentEvent)\" rel=\"nofollow noreferrer\">DocumentListener::insertUpdate</a> method just prints out the String that was just inserted by using <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/text/Document.html#getText(int,int)\" rel=\"nofollow noreferrer\">Document::getText</a>, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/event/DocumentEvent.html#getOffset()\" rel=\"nofollow noreferrer\">DocumentEvent::getOffset</a>, and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/event/DocumentEvent.html#getLength()\" rel=\"nofollow noreferrer\">DocumentEvent::getLength</a>.</p>\n<p>For your purposes, you may want to just grab all of the text as opposed to just the String that was just inserted. But regardless, this gives you a decent Proof of Concept on how to do it.</p>\n"}],"owner":{"account_id":9219950,"reputation":79,"user_id":12894367,"display_name":"Vsevolod IV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75937803,"answer_count":1,"score":1,"last_activity_date":1680686962,"creation_date":1680684581,"question_id":75937425,"body_markdown":"I&#39;m trying to do a dynamic search using **JTextField**, this is, I need to query a list of objects every time I strike a key (for example, I press an &quot;*A*&quot; and get all entries containing an &quot;*A*&quot;, then I add an &quot;*l*&quot; and all the entries that don&#39;t have &quot;*Al*&quot; in it get filtered out, then come &quot;*Ali*&quot;, &quot;*Alic*&quot; and finally &quot;*Alice*&quot; ). I don&#39;t really need to associate the keys with any specific actions, so my question is: is it enough to use **KeyListener** to cover this functionality?","title":"KeyListener VS Key Binding for JField","body":"<p>I'm trying to do a dynamic search using <strong>JTextField</strong>, this is, I need to query a list of objects every time I strike a key (for example, I press an &quot;<em>A</em>&quot; and get all entries containing an &quot;<em>A</em>&quot;, then I add an &quot;<em>l</em>&quot; and all the entries that don't have &quot;<em>Al</em>&quot; in it get filtered out, then come &quot;<em>Ali</em>&quot;, &quot;<em>Alic</em>&quot; and finally &quot;<em>Alice</em>&quot; ). I don't really need to associate the keys with any specific actions, so my question is: is it enough to use <strong>KeyListener</strong> to cover this functionality?</p>\n"},{"tags":["java","mongodb","spring-boot","mongodb-query"],"answers":[{"tags":[],"owner":{"account_id":1844027,"reputation":1413,"user_id":1672799,"display_name":"qtxo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645411722,"creation_date":1645411722,"answer_id":71200699,"question_id":71199380,"body_markdown":"It looks like some other thread called `MongoClient.close()`","title":"mongo java app Interrupted acquiring a permit to retrieve an item from the pool","body":"<p>It looks like some other thread called <code>MongoClient.close()</code></p>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680686829,"creation_date":1680686829,"answer_id":75937783,"question_id":71199380,"body_markdown":"I had the same issue when I am trying to perform some operation on MongoDB.\r\n\r\nI have connection pool created and set the required properties.\r\n\r\nI am performing the insert operation from one of the thread created using Executor framework. \r\n\r\nI have also added sleep to the thread but when the thread interrupts, that time the call to the MongoDB failed.\r\n\r\nSo my observation is, if it is in a thread and the thread gets interrupted the MongoDB connection call fails.","title":"mongo java app Interrupted acquiring a permit to retrieve an item from the pool","body":"<p>I had the same issue when I am trying to perform some operation on MongoDB.</p>\n<p>I have connection pool created and set the required properties.</p>\n<p>I am performing the insert operation from one of the thread created using Executor framework.</p>\n<p>I have also added sleep to the thread but when the thread interrupts, that time the call to the MongoDB failed.</p>\n<p>So my observation is, if it is in a thread and the thread gets interrupted the MongoDB connection call fails.</p>\n"}],"owner":{"account_id":4472160,"reputation":9650,"user_id":10415047,"display_name":"R2D2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3235,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71200699,"answer_count":2,"score":2,"last_activity_date":1680686829,"creation_date":1645396228,"question_id":71199380,"body_markdown":"Anybody seen this error please advice , from time to time I get this and data not written to the collection:\r\n( mongodb 4.0 , mongodb java driver 4.1 ) \r\n\r\n\r\n\r\n     org.springframework.data.mongodb.UncategorizedMongoDbException: Interrupted acquiring a permit to retrieve an item from the pool ; nested exception is com.mongodb.MongoInterruptedException: Interrupted acquiring a permit to retrieve an item from the pool\r\n        at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:133) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\r\n        at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2882) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\r\n        at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:564) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\r\n        at org.springframework.data.mongodb.core.MongoTemplate.insertDocument(MongoTemplate.java:1444) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\r\n        at org.springframework.data.mongodb.core.MongoTemplate.doInsert(MongoTemplate.java:1244) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\r\n        at org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1176) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\r\n        at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.save(SimpleMongoRepository.java:85) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\r\n        at jdk.internal.reflect.GeneratedMethodAccessor95.invoke(Unknown Source) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:524) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:531) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:156) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.3.jar!/:5.3.3]\r\n        at com.sun.proxy.$Proxy131.save(Unknown Source) ~[na:na]\r\n        at org.epo.legacyservice.service.mongoDb.impl.HandleStatusFormServiceImpl.saveExecutedFormsStatus(HandleStatusFormServiceImpl.java:29) ~[classes!/:0.0.1-7529a486]\r\n        at org.epo.legacyservice.service.impl.ExecutorFormServiceImpl.lambda$executeFromFile$5(ExecutorFormServiceImpl.java:148) ~[classes!/:0.0.1-7529a486]\r\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1540) ~[na:na]\r\n        at org.epo.legacyservice.service.impl.ExecutorFormServiceImpl.lambda$executeFromFile$6(ExecutorFormServiceImpl.java:142) ~[classes!/:0.0.1-7529a486]\r\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:184) ~[reactor-core-3.4.2.jar!/:3.4.2]\r\n        at reactor.core.publisher.FluxFilter$FilterSubscriber.tryOnNext(FluxFilter.java:142) ~[reactor-core-3.4.2.jar!/:3.4.2]\r\n        at reactor.core.publisher.FluxPublishOn$PublishOnConditionalSubscriber.runAsync(FluxPublishOn.java:992) ~[reactor-core-3.4.2.jar!/:3.4.2]\r\n        at reactor.core.publisher.FluxPublishOn$PublishOnConditionalSubscriber.run(FluxPublishOn.java:1067) ~[reactor-core-3.4.2.jar!/:3.4.2]\r\n        at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84) ~[reactor-core-3.4.2.jar!/:3.4.2]\r\n        at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37) ~[reactor-core-3.4.2.jar!/:3.4.2]\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n        at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n     Caused by: com.mongodb.MongoInterruptedException: Interrupted acquiring a permit to retrieve an item from the pool\r\n        at com.mongodb.internal.connection.ConcurrentPool.acquirePermit(ConcurrentPool.java:203) ~[mongodb-driver-core-4.1.1.jar!/:na]\r\n        at com.mongodb.internal.connection.ConcurrentPool.get(ConcurrentPool.java:140) ~[mongodb-driver-core-4.1.1.jar!/:na]\r\n        at com.mongodb.internal.connection.ConcurrentPool.get(ConcurrentPool.java:123) ~[mongodb-driver-core-4.1.1.jar!/:na]\r\n        at com.mongodb.internal.session.ServerSessionPool.get(ServerSessionPool.java:80) ~[mongodb-driver-core-4.1.1.jar!/:na]\r\n        at com.mongodb.internal.session.BaseClientSessionImpl.&lt;init&gt;(BaseClientSessionImpl.java:44) ~[mongodb-driver-core-4.1.1.jar!/:na]\r\n        at com.mongodb.client.internal.ClientSessionImpl.&lt;init&gt;(ClientSessionImpl.java:56) ~[mongodb-driver-sync-4.1.1.jar!/:na]\r\n        at com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:110) ~[mongodb-driver-sync-4.1.1.jar!/:na]\r\n        at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:266) ~[mongodb-driver-sync-4.1.1.jar!/:na]\r\n        at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:190) ~[mongodb-driver-sync-4.1.1.jar!/:na]\r\n        at com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1009) ~[mongodb-driver-sync-4.1.1.jar!/:na]\r\n        at com.mongodb.client.internal.MongoCollectionImpl.executeInsertOne(MongoCollectionImpl.java:470) ~[mongodb-driver-sync-4.1.1.jar!/:na]\r\n        at com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:453) ~[mongodb-driver-sync-4.1.1.jar!/:na]\r\n        at com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:447) ~[mongodb-driver-sync-4.1.1.jar!/:na]\r\n        at org.springframework.data.mongodb.core.MongoTemplate.lambda$insertDocument$16(MongoTemplate.java:1450) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\r\n        at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:562) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\r\n        ... 38 common frames omitted\r\n         Caused by: java.lang.InterruptedException: null\r\n        at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1343) ~[na:na]\r\n        at java.base/java.util.concurrent.Semaphore.acquire(Semaphore.java:318) ~[na:na]\r\n        at com.mongodb.internal.connection.ConcurrentPool.acquirePermit(ConcurrentPool.java:199) ~[mongodb-driver-core-4.1.1.jar!/:na]\r\n        ... 52 common frames omitted\r\n","title":"mongo java app Interrupted acquiring a permit to retrieve an item from the pool","body":"<p>Anybody seen this error please advice , from time to time I get this and data not written to the collection:\n( mongodb 4.0 , mongodb java driver 4.1 )</p>\n<pre><code> org.springframework.data.mongodb.UncategorizedMongoDbException: Interrupted acquiring a permit to retrieve an item from the pool ; nested exception is com.mongodb.MongoInterruptedException: Interrupted acquiring a permit to retrieve an item from the pool\n    at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:133) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\n    at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2882) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\n    at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:564) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\n    at org.springframework.data.mongodb.core.MongoTemplate.insertDocument(MongoTemplate.java:1444) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\n    at org.springframework.data.mongodb.core.MongoTemplate.doInsert(MongoTemplate.java:1244) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\n    at org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1176) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\n    at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.save(SimpleMongoRepository.java:85) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\n    at jdk.internal.reflect.GeneratedMethodAccessor95.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:524) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:531) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:156) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.4.3.jar!/:2.4.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.3.jar!/:5.3.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.3.jar!/:5.3.3]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.3.jar!/:5.3.3]\n    at com.sun.proxy.$Proxy131.save(Unknown Source) ~[na:na]\n    at org.epo.legacyservice.service.mongoDb.impl.HandleStatusFormServiceImpl.saveExecutedFormsStatus(HandleStatusFormServiceImpl.java:29) ~[classes!/:0.0.1-7529a486]\n    at org.epo.legacyservice.service.impl.ExecutorFormServiceImpl.lambda$executeFromFile$5(ExecutorFormServiceImpl.java:148) ~[classes!/:0.0.1-7529a486]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540) ~[na:na]\n    at org.epo.legacyservice.service.impl.ExecutorFormServiceImpl.lambda$executeFromFile$6(ExecutorFormServiceImpl.java:142) ~[classes!/:0.0.1-7529a486]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:184) ~[reactor-core-3.4.2.jar!/:3.4.2]\n    at reactor.core.publisher.FluxFilter$FilterSubscriber.tryOnNext(FluxFilter.java:142) ~[reactor-core-3.4.2.jar!/:3.4.2]\n    at reactor.core.publisher.FluxPublishOn$PublishOnConditionalSubscriber.runAsync(FluxPublishOn.java:992) ~[reactor-core-3.4.2.jar!/:3.4.2]\n    at reactor.core.publisher.FluxPublishOn$PublishOnConditionalSubscriber.run(FluxPublishOn.java:1067) ~[reactor-core-3.4.2.jar!/:3.4.2]\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:84) ~[reactor-core-3.4.2.jar!/:3.4.2]\n    at reactor.core.scheduler.WorkerTask.call(WorkerTask.java:37) ~[reactor-core-3.4.2.jar!/:3.4.2]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n Caused by: com.mongodb.MongoInterruptedException: Interrupted acquiring a permit to retrieve an item from the pool\n    at com.mongodb.internal.connection.ConcurrentPool.acquirePermit(ConcurrentPool.java:203) ~[mongodb-driver-core-4.1.1.jar!/:na]\n    at com.mongodb.internal.connection.ConcurrentPool.get(ConcurrentPool.java:140) ~[mongodb-driver-core-4.1.1.jar!/:na]\n    at com.mongodb.internal.connection.ConcurrentPool.get(ConcurrentPool.java:123) ~[mongodb-driver-core-4.1.1.jar!/:na]\n    at com.mongodb.internal.session.ServerSessionPool.get(ServerSessionPool.java:80) ~[mongodb-driver-core-4.1.1.jar!/:na]\n    at com.mongodb.internal.session.BaseClientSessionImpl.&lt;init&gt;(BaseClientSessionImpl.java:44) ~[mongodb-driver-core-4.1.1.jar!/:na]\n    at com.mongodb.client.internal.ClientSessionImpl.&lt;init&gt;(ClientSessionImpl.java:56) ~[mongodb-driver-sync-4.1.1.jar!/:na]\n    at com.mongodb.client.internal.MongoClientDelegate.createClientSession(MongoClientDelegate.java:110) ~[mongodb-driver-sync-4.1.1.jar!/:na]\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.getClientSession(MongoClientDelegate.java:266) ~[mongodb-driver-sync-4.1.1.jar!/:na]\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:190) ~[mongodb-driver-sync-4.1.1.jar!/:na]\n    at com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1009) ~[mongodb-driver-sync-4.1.1.jar!/:na]\n    at com.mongodb.client.internal.MongoCollectionImpl.executeInsertOne(MongoCollectionImpl.java:470) ~[mongodb-driver-sync-4.1.1.jar!/:na]\n    at com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:453) ~[mongodb-driver-sync-4.1.1.jar!/:na]\n    at com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:447) ~[mongodb-driver-sync-4.1.1.jar!/:na]\n    at org.springframework.data.mongodb.core.MongoTemplate.lambda$insertDocument$16(MongoTemplate.java:1450) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\n    at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:562) ~[spring-data-mongodb-3.1.3.jar!/:3.1.3]\n    ... 38 common frames omitted\n     Caused by: java.lang.InterruptedException: null\n    at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1343) ~[na:na]\n    at java.base/java.util.concurrent.Semaphore.acquire(Semaphore.java:318) ~[na:na]\n    at com.mongodb.internal.connection.ConcurrentPool.acquirePermit(ConcurrentPool.java:199) ~[mongodb-driver-core-4.1.1.jar!/:na]\n    ... 52 common frames omitted\n</code></pre>\n"},{"tags":["java","docker","docker-compose","openstreetmap","openrouteservice"],"comments":[{"owner":{"account_id":1414758,"reputation":20542,"user_id":1340631,"accept_rate":75,"display_name":"scai"},"score":0,"creation_date":1680687113,"post_id":75937780,"comment_id":133938818,"body_markdown":"Not a question about programming or software development. Try https://superuser.com/ or https://serverfault.com/","body":"Not a question about programming or software development. Try <a href=\"https://superuser.com/\">superuser.com</a> or <a href=\"https://serverfault.com/\">serverfault.com</a>"}],"owner":{"account_id":13397718,"reputation":467,"user_id":9668115,"display_name":"Volmarg Reiso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680686804,"creation_date":1680686804,"question_id":75937780,"body_markdown":"Now before I will get pointed to search.\r\n\r\n**I&#39;ve already searched**\r\n\r\nAnd the partial solution to my problem is:\r\n\r\n```yml\r\n    mem_limit: &quot;500M&quot;    # Only this amount of ram can be used\r\n    memswap_limit: &quot;10G&quot; # If ram usage exceeded then use swap with this limit\r\n```\r\n\r\nAnd this works perectly:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hb7uq.png\r\n\r\n**What&#39;s the problem**\r\n\r\nThe problem is that i&#39;m trying to self-host the `openrouteservice` (https://hub.docker.com/r/giscience/openrouteservice).\r\n\r\nIt&#39;s based on **Java**, and it&#39;s working with the `pbf` files of `open street map`. The problem is that these files are big so for example:\r\n- **Europe: Poland = 1.8Gb**\r\n\r\n**Now upon importing that file it gets stuffed inside `RAM`, and I don&#39;t want that. I want to use swap.**\r\n\r\nThe container itself has `java` configuration present (I&#39;m not familiar with Java, but did some research too):\r\n\r\n```\r\n&quot;JAVA_OPTS=-Djava.awt.headless=true -server -XX:TargetSurvivorRatio=75 -XX:SurvivorRatio=64 -XX:MaxTenuringThreshold=3 -XX:+UseG1GC -XX:+ScavengeBeforeFullGC -XX:ParallelGCThreads=4 -Xms400m -Xmx9g&quot;\r\n```\r\n\r\nProblem is that I&#39;d need to have for now `2gb ram` in `container`, the container is limited to use `500Mb` because I want the rest to go into `swap`, but `java` dies since the `container` has limit of `500mb` and `java` is not aware of that swap allocation.\r\n\r\nI see 2 solutions but I can&#39;t find a way to approach any of them (after hours of researching / testing):\r\n- force `java` to use `swap`, but there doesn&#39;t seem to be any option for that,\r\n- fake the `container ram` to make it think &quot;hey I got 10gb for You java!&quot;, while it would still use swap, so it would probably need internally (inside container) to inform `java` &quot;hey, got some free ram for you!&quot; (which would be swap ofc).\r\n\r\nAnyone got any idea for that?\r\n\r\nThe code / docker image / project I&#39;m using is not mine, I only want to get rid of the huge memory overload. I don&#39;t need the project to be super fast. I just need it to work without such huge memory usage, becuase If I will eventually want to import whole `europe` map then it would require 30+gb ram.","title":"Java &amp; Docker - use container swap as java ram","body":"<p>Now before I will get pointed to search.</p>\n<p><strong>I've already searched</strong></p>\n<p>And the partial solution to my problem is:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    mem_limit: &quot;500M&quot;    # Only this amount of ram can be used\n    memswap_limit: &quot;10G&quot; # If ram usage exceeded then use swap with this limit\n</code></pre>\n<p>And this works perectly:</p>\n<p><a href=\"https://i.stack.imgur.com/hb7uq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hb7uq.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>What's the problem</strong></p>\n<p>The problem is that i'm trying to self-host the <code>openrouteservice</code> (<a href=\"https://hub.docker.com/r/giscience/openrouteservice\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/giscience/openrouteservice</a>).</p>\n<p>It's based on <strong>Java</strong>, and it's working with the <code>pbf</code> files of <code>open street map</code>. The problem is that these files are big so for example:</p>\n<ul>\n<li><strong>Europe: Poland = 1.8Gb</strong></li>\n</ul>\n<p><strong>Now upon importing that file it gets stuffed inside <code>RAM</code>, and I don't want that. I want to use swap.</strong></p>\n<p>The container itself has <code>java</code> configuration present (I'm not familiar with Java, but did some research too):</p>\n<pre><code>&quot;JAVA_OPTS=-Djava.awt.headless=true -server -XX:TargetSurvivorRatio=75 -XX:SurvivorRatio=64 -XX:MaxTenuringThreshold=3 -XX:+UseG1GC -XX:+ScavengeBeforeFullGC -XX:ParallelGCThreads=4 -Xms400m -Xmx9g&quot;\n</code></pre>\n<p>Problem is that I'd need to have for now <code>2gb ram</code> in <code>container</code>, the container is limited to use <code>500Mb</code> because I want the rest to go into <code>swap</code>, but <code>java</code> dies since the <code>container</code> has limit of <code>500mb</code> and <code>java</code> is not aware of that swap allocation.</p>\n<p>I see 2 solutions but I can't find a way to approach any of them (after hours of researching / testing):</p>\n<ul>\n<li>force <code>java</code> to use <code>swap</code>, but there doesn't seem to be any option for that,</li>\n<li>fake the <code>container ram</code> to make it think &quot;hey I got 10gb for You java!&quot;, while it would still use swap, so it would probably need internally (inside container) to inform <code>java</code> &quot;hey, got some free ram for you!&quot; (which would be swap ofc).</li>\n</ul>\n<p>Anyone got any idea for that?</p>\n<p>The code / docker image / project I'm using is not mine, I only want to get rid of the huge memory overload. I don't need the project to be super fast. I just need it to work without such huge memory usage, becuase If I will eventually want to import whole <code>europe</code> map then it would require 30+gb ram.</p>\n"},{"tags":["java","selenium-webdriver","webdriver","selenium-java"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679570740,"creation_date":1679569931,"answer_id":75822266,"question_id":75821247,"body_markdown":"`getPageSource()`\r\n-----------------\r\n[`getPageSource()`](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html#getPageSource()) gets the source of the last loaded page. If the page has been modified after loading (for example, by Javascript) there is no guarantee that the returned text is that of the modified page. The page source returned is a representation of the underlying [HTML DOM](https://www.w3schools.com/js/js_htmldom.asp) which is in the same way as the response sent from the web server.\r\n\r\n\r\n----------\r\n\r\n\r\n_Page Source_\r\n------------\r\nTo get the _Page Source_ you can use the following solution:\r\n\r\n\tdriver.get(&quot;https://www.google.com/&quot;);\r\n\tSystem.out.println(driver.getPageSource());\r\n\tdriver.quit();\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\n_Element HTML_\r\n----\r\nTo get the _HTML_ of a WebElement as an example of the input box on [_Google Home Page_](https://www.google.com/) you need to you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [visibilityOfElementLocated](https://stackoverflow.com/a/49749804/7429447) and using `getAttribute(&quot;outerHTML&quot;)` method you can use the following solution:\r\n\r\n\tdriver.get(&quot;https://www.google.com/&quot;);\r\n\tWebElement inputField = new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.visibilityOfElementLocated(By.name(&quot;q&quot;)));\r\n\tSystem.out.println(inputField.getAttribute(&quot;outerHTML&quot;));\r\n\t\r\nConsole Output:\r\n\r\n\t&lt;input class=&quot;gLFyf&quot; jsaction=&quot;paste:puy29d;&quot; maxlength=&quot;2048&quot; name=&quot;q&quot; type=&quot;text&quot; autocapitalize=&quot;off&quot; autocomplete=&quot;off&quot; autocorrect=&quot;off&quot; autofocus=&quot;&quot; role=&quot;combobox&quot; spellcheck=&quot;false&quot; title=&quot;Search&quot; value=&quot;&quot; aria-label=&quot;Search&quot; data-ved=&quot;0ahUKEwjXj4ic9_H9AhVXAd4KHXJjCk0Q39UDCAQ&quot;&gt;","title":"How can I get the HTML source of a WebElement in Selenium WebDriver using Java?","body":"<h2><code>getPageSource()</code></h2>\n<p><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.html#getPageSource()\" rel=\"nofollow noreferrer\"><code>getPageSource()</code></a> gets the source of the last loaded page. If the page has been modified after loading (for example, by Javascript) there is no guarantee that the returned text is that of the modified page. The page source returned is a representation of the underlying <a href=\"https://www.w3schools.com/js/js_htmldom.asp\" rel=\"nofollow noreferrer\">HTML DOM</a> which is in the same way as the response sent from the web server.</p>\n<hr />\n<h2><em>Page Source</em></h2>\n<p>To get the <em>Page Source</em> you can use the following solution:</p>\n<pre><code>driver.get(&quot;https://www.google.com/&quot;);\nSystem.out.println(driver.getPageSource());\ndriver.quit();\n</code></pre>\n<hr />\n<h2><em>Element HTML</em></h2>\n<p>To get the <em>HTML</em> of a WebElement as an example of the input box on <a href=\"https://www.google.com/\" rel=\"nofollow noreferrer\"><em>Google Home Page</em></a> you need to you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/49749804/7429447\">visibilityOfElementLocated</a> and using <code>getAttribute(&quot;outerHTML&quot;)</code> method you can use the following solution:</p>\n<pre><code>driver.get(&quot;https://www.google.com/&quot;);\nWebElement inputField = new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.visibilityOfElementLocated(By.name(&quot;q&quot;)));\nSystem.out.println(inputField.getAttribute(&quot;outerHTML&quot;));\n</code></pre>\n<p>Console Output:</p>\n<pre><code>&lt;input class=&quot;gLFyf&quot; jsaction=&quot;paste:puy29d;&quot; maxlength=&quot;2048&quot; name=&quot;q&quot; type=&quot;text&quot; autocapitalize=&quot;off&quot; autocomplete=&quot;off&quot; autocorrect=&quot;off&quot; autofocus=&quot;&quot; role=&quot;combobox&quot; spellcheck=&quot;false&quot; title=&quot;Search&quot; value=&quot;&quot; aria-label=&quot;Search&quot; data-ved=&quot;0ahUKEwjXj4ic9_H9AhVXAd4KHXJjCk0Q39UDCAQ&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12535860,"reputation":31,"user_id":9122565,"display_name":"Ruppal Vachaswa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680686763,"creation_date":1680686763,"answer_id":75937775,"question_id":75821247,"body_markdown":"    WebDriver driver = new ChromeDriver();\r\n    driver.get(&quot;https://www.googel.com/&quot;);\r\n    String str = driver.getPageSource();\r\n    System.out.println(str);\r\n\r\nand for python \r\nhttps://www.tutorialspoint.com/get-html-source-of-webelement-in-selenium-webdriver-using-python\r\n","title":"How can I get the HTML source of a WebElement in Selenium WebDriver using Java?","body":"<pre><code>WebDriver driver = new ChromeDriver();\ndriver.get(&quot;https://www.googel.com/&quot;);\nString str = driver.getPageSource();\nSystem.out.println(str);\n</code></pre>\n<p>and for python\n<a href=\"https://www.tutorialspoint.com/get-html-source-of-webelement-in-selenium-webdriver-using-python\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/get-html-source-of-webelement-in-selenium-webdriver-using-python</a></p>\n"}],"owner":{"account_id":15550971,"reputation":666,"user_id":11218635,"display_name":"Thomas Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680686763,"creation_date":1679563707,"question_id":75821247,"body_markdown":"How can I retrieve the HTML page source using selenium java?","title":"How can I get the HTML source of a WebElement in Selenium WebDriver using Java?","body":"<p>How can I retrieve the HTML page source using selenium java?</p>\n"},{"tags":["java","automated-tests","rest-assured","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":4894679,"reputation":586,"user_id":3944708,"display_name":"Ben Kauer"},"score":0,"creation_date":1524136292,"post_id":49919604,"comment_id":86854591,"body_markdown":"These are not four lists, these are four objects in an array. `store.book[0].author` refers to the author of the first item, `store.book[1].author` refers to the author of the second item and so on.","body":"These are not four lists, these are four objects in an array. <code>store.book[0].author</code> refers to the author of the first item, <code>store.book[1].author</code> refers to the author of the second item and so on."},{"owner":{"account_id":10720101,"reputation":77,"user_id":7889474,"display_name":"Qaddaffi"},"score":0,"creation_date":1524138594,"post_id":49919604,"comment_id":86856201,"body_markdown":"Thank you for the answer. But in case if the response contains only the array of objects (not under store or book), how should I access it..? ex, `{  \n            &quot;author&quot;:&quot;Nigel Rees&quot;,\n            &quot;category&quot;:&quot;reference&quot;,\n            &quot;price&quot;:8.95,\n            &quot;title&quot;:&quot;Sayings of the Century&quot;\n         },\n         {  \n            &quot;author&quot;:&quot;Evelyn Waugh&quot;,\n            &quot;category&quot;:&quot;fiction&quot;,\n            &quot;price&quot;:12.99,\n            &quot;title&quot;:&quot;Sword of Honour&quot;\n         }`","body":"Thank you for the answer. But in case if the response contains only the array of objects (not under store or book), how should I access it..? ex, <code>{               &quot;author&quot;:&quot;Nigel Rees&quot;,             &quot;category&quot;:&quot;reference&quot;,             &quot;price&quot;:8.95,             &quot;title&quot;:&quot;Sayings of the Century&quot;          },          {               &quot;author&quot;:&quot;Evelyn Waugh&quot;,             &quot;category&quot;:&quot;fiction&quot;,             &quot;price&quot;:12.99,             &quot;title&quot;:&quot;Sword of Honour&quot;          }</code>"},{"owner":{"account_id":10720101,"reputation":77,"user_id":7889474,"display_name":"Qaddaffi"},"score":0,"creation_date":1524139088,"post_id":49919604,"comment_id":86856558,"body_markdown":"Got it. Used `[0].author` and so on to access it.","body":"Got it. Used <code>[0].author</code> and so on to access it."}],"answers":[{"tags":[],"owner":{"account_id":10299870,"reputation":91,"user_id":7598905,"display_name":"Harveer Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1524224396,"creation_date":1524224396,"answer_id":49940832,"question_id":49919604,"body_markdown":"There is in-build method in rest assured which you can use to get all item of Array as List of map.\r\n\r\n    String key=&quot;book&quot;;//array key (as it mentioned in your Json)\r\n    Response response=//your API call which will return Json Object\r\n    List&lt;Hash&lt;String,Object&gt;&gt;booksList=response.jsonPath().getList(key);\r\n    //Now parse value from List\r\n    Hash&lt;String,Object&gt; firstBookDetails=booksList.get(0);// for first index\r\n    String author=(String)firstBookDetails.get(&quot;author&quot;);","title":"How to validate a list of values from the response using RestAssured","body":"<p>There is in-build method in rest assured which you can use to get all item of Array as List of map.</p>\n\n<pre><code>String key=\"book\";//array key (as it mentioned in your Json)\nResponse response=//your API call which will return Json Object\nList&lt;Hash&lt;String,Object&gt;&gt;booksList=response.jsonPath().getList(key);\n//Now parse value from List\nHash&lt;String,Object&gt; firstBookDetails=booksList.get(0);// for first index\nString author=(String)firstBookDetails.get(\"author\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13610480,"reputation":91,"user_id":9818159,"display_name":"Shiv Jirwankar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604157276,"creation_date":1604157276,"answer_id":64623227,"question_id":49919604,"body_markdown":"When using Rest Assured with BDD, you can try this out.\r\n\r\n    given()\r\n\t.when()\r\n\t\t.get(API URL)\r\n\t.then()\r\n\t\t .assertThat().body(&quot;store.book.author[0]&quot;, equalTo(&quot;Nigel Rees&quot;));","title":"How to validate a list of values from the response using RestAssured","body":"<p>When using Rest Assured with BDD, you can try this out.</p>\n<pre><code>given()\n.when()\n    .get(API URL)\n.then()\n     .assertThat().body(&quot;store.book.author[0]&quot;, equalTo(&quot;Nigel Rees&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680686287,"creation_date":1680686287,"answer_id":75937700,"question_id":49919604,"body_markdown":"My answer below is based on Cucumber (feature file) and Rest Assured implementation.\r\n\r\nYour feature file should have below step\r\n\r\n    And the json response field &quot;books&quot; contains 4 records with below properties:\r\n     | author   | category | price | title|\r\n     |Nigel Rees| reference|8.95|Sayings of the Century|\r\n     |Evelyn Waugh| fiction|12.99|Sword of Honour|\r\n     |Herman Melville| fiction|8.99|Moby Dick|\r\n     |J. R. R. Tolkien| fiction|22.99|The Lord of the Rings|\r\n\r\nAnd its implementation in rest assured would be like below\r\n\r\n\r\n    @Then(&quot;the json response field {string} contains {int} records with below properties:&quot;)\r\n      public void responseBodyMatchesListResponse(final String path,\r\n          final int count, final List&lt;Map&lt;String, String&gt;&gt; expectedItems) {\r\n    \r\n        var actualItems = response.jsonPath().getList(path, Map.class);\r\n    \r\n        assertThat(actualItems).as(&quot;Response body element at %s dont match the expected size %d&quot;,path,count)\r\n            .hasSize(count)\r\n            .as(&quot;Response body element at %s dont match the expected elements %s&quot;,path,expectedItems)\r\n            .containsExactlyInAnyOrderElementsOf(expectedItems);\r\n      }\r\n\r\nAnd this works perfectly. Feature file with data table makes the test readable.","title":"How to validate a list of values from the response using RestAssured","body":"<p>My answer below is based on Cucumber (feature file) and Rest Assured implementation.</p>\n<p>Your feature file should have below step</p>\n<pre><code>And the json response field &quot;books&quot; contains 4 records with below properties:\n | author   | category | price | title|\n |Nigel Rees| reference|8.95|Sayings of the Century|\n |Evelyn Waugh| fiction|12.99|Sword of Honour|\n |Herman Melville| fiction|8.99|Moby Dick|\n |J. R. R. Tolkien| fiction|22.99|The Lord of the Rings|\n</code></pre>\n<p>And its implementation in rest assured would be like below</p>\n<pre><code>@Then(&quot;the json response field {string} contains {int} records with below properties:&quot;)\n  public void responseBodyMatchesListResponse(final String path,\n      final int count, final List&lt;Map&lt;String, String&gt;&gt; expectedItems) {\n\n    var actualItems = response.jsonPath().getList(path, Map.class);\n\n    assertThat(actualItems).as(&quot;Response body element at %s dont match the expected size %d&quot;,path,count)\n        .hasSize(count)\n        .as(&quot;Response body element at %s dont match the expected elements %s&quot;,path,expectedItems)\n        .containsExactlyInAnyOrderElementsOf(expectedItems);\n  }\n</code></pre>\n<p>And this works perfectly. Feature file with data table makes the test readable.</p>\n"}],"owner":{"account_id":10720101,"reputation":77,"user_id":7889474,"display_name":"Qaddaffi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13610,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49940832,"answer_count":3,"score":2,"last_activity_date":1680686287,"creation_date":1524136119,"question_id":49919604,"body_markdown":"Could someone please me understand how to validate a list of items from the response. Say the response looks something like below,\r\n\r\n    {  \r\n       &quot;store&quot;:{  \r\n          &quot;book&quot;:[  \r\n             {  \r\n                &quot;author&quot;:&quot;Nigel Rees&quot;,\r\n                &quot;category&quot;:&quot;reference&quot;,\r\n                &quot;price&quot;:8.95,\r\n                &quot;title&quot;:&quot;Sayings of the Century&quot;\r\n             },\r\n             {  \r\n                &quot;author&quot;:&quot;Evelyn Waugh&quot;,\r\n                &quot;category&quot;:&quot;fiction&quot;,\r\n                &quot;price&quot;:12.99,\r\n                &quot;title&quot;:&quot;Sword of Honour&quot;\r\n             },\r\n             {  \r\n                &quot;author&quot;:&quot;Herman Melville&quot;,\r\n                &quot;category&quot;:&quot;fiction&quot;,\r\n                &quot;isbn&quot;:&quot;0-553-21311-3&quot;,\r\n                &quot;price&quot;:8.99,\r\n                &quot;title&quot;:&quot;Moby Dick&quot;\r\n             },\r\n             {  \r\n                &quot;author&quot;:&quot;J. R. R. Tolkien&quot;,\r\n                &quot;category&quot;:&quot;fiction&quot;,\r\n                &quot;isbn&quot;:&quot;0-395-19395-8&quot;,\r\n                &quot;price&quot;:22.99,\r\n                &quot;title&quot;:&quot;The Lord of the Rings&quot;\r\n             }\r\n          ]\r\n       }\r\n    }\r\n\r\nThe element Book has four lists under it with different data, now if I want to validate the author name and the price sequentially (in a loop for instance) how can I achieve that..?\r\n\r\nI usually convert the response into a Json document and then validate, but in this case, if I use the Json path &quot;Store.book.author&quot;, out of the four lists from the response, which list would it refer to..? That&#39;s where my confusion is.","title":"How to validate a list of values from the response using RestAssured","body":"<p>Could someone please me understand how to validate a list of items from the response. Say the response looks something like below,</p>\n\n<pre><code>{  \n   \"store\":{  \n      \"book\":[  \n         {  \n            \"author\":\"Nigel Rees\",\n            \"category\":\"reference\",\n            \"price\":8.95,\n            \"title\":\"Sayings of the Century\"\n         },\n         {  \n            \"author\":\"Evelyn Waugh\",\n            \"category\":\"fiction\",\n            \"price\":12.99,\n            \"title\":\"Sword of Honour\"\n         },\n         {  \n            \"author\":\"Herman Melville\",\n            \"category\":\"fiction\",\n            \"isbn\":\"0-553-21311-3\",\n            \"price\":8.99,\n            \"title\":\"Moby Dick\"\n         },\n         {  \n            \"author\":\"J. R. R. Tolkien\",\n            \"category\":\"fiction\",\n            \"isbn\":\"0-395-19395-8\",\n            \"price\":22.99,\n            \"title\":\"The Lord of the Rings\"\n         }\n      ]\n   }\n}\n</code></pre>\n\n<p>The element Book has four lists under it with different data, now if I want to validate the author name and the price sequentially (in a loop for instance) how can I achieve that..?</p>\n\n<p>I usually convert the response into a Json document and then validate, but in this case, if I use the Json path \"Store.book.author\", out of the four lists from the response, which list would it refer to..? That's where my confusion is.</p>\n"},{"tags":["java","jackson","jackson-databind"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1680696544,"post_id":75937699,"comment_id":133941099,"body_markdown":"There is no direct jackson method to add a header, so you can use a HttpUrlConnection like you proposed or similar.","body":"There is no direct jackson method to add a header, so you can use a HttpUrlConnection like you proposed or similar."}],"owner":{"account_id":15454135,"reputation":117,"user_id":11148741,"display_name":"Matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680686279,"creation_date":1680686279,"question_id":75937699,"body_markdown":"I want to user the ObjectMapper to get a result directly from an url. The call is like this\r\n\r\n    URL url = new URL( &quot;https://exmaple.com/jsonData&quot;);\r\n    ExampleImport importResult = objectMapper.readValue(url,  ExampleImport.class);\r\n\r\nIs there a way to add some header information to the call that will be made, or do I have to use URLConnection for this and get the content (String) first?\r\n\r\nThanks for any hint.\r\nBest Regards\r\nMatt","title":"Is there a way to add header values when using Jackson&#39;s ObjectMapper?","body":"<p>I want to user the ObjectMapper to get a result directly from an url. The call is like this</p>\n<pre><code>URL url = new URL( &quot;https://exmaple.com/jsonData&quot;);\nExampleImport importResult = objectMapper.readValue(url,  ExampleImport.class);\n</code></pre>\n<p>Is there a way to add some header information to the call that will be made, or do I have to use URLConnection for this and get the content (String) first?</p>\n<p>Thanks for any hint.\nBest Regards\nMatt</p>\n"},{"tags":["java","hashmap","file-handling"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1680686480,"post_id":75937696,"comment_id":133938645,"body_markdown":"Take a look at your parenthesis because the way you formatted your code makes it seem like you think your writing data inside the loop. All you do in your loop body is  `System.out.println(j = i + map.get(i));` and then you only write `j` to the `BufferedWriter` once one time after the loop is done.","body":"Take a look at your parenthesis because the way you formatted your code makes it seem like you think your writing data inside the loop. All you do in your loop body is  <code>System.out.println(j = i + map.get(i));</code> and then you only write <code>j</code> to the <code>BufferedWriter</code> once one time after the loop is done."}],"owner":{"account_id":27663288,"reputation":23,"user_id":21115611,"display_name":"Siddhiraj Ranaware"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680686262,"creation_date":1680686262,"question_id":75937696,"body_markdown":"Name, phone , city these are keys in hashmap and values are user Input,  this all data write in txt file using writer method from output stream as given below\r\n\r\nName : &quot;user input&quot;\r\n\r\nphone no : &quot;user input&quot;\r\n\r\ncity : &quot;user input&quot;\r\n\r\nI get the Output but only last value which is printed in console is written in txt file , all values with keys should be printed\r\n\r\n```\r\npackage javap;\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport java.util.Map.Entry;\r\nimport java.util.Scanner;\r\n\r\npublic class Datainput {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tFile file = new File(&quot;E:\\\\Data.txt&quot;);\r\n\t\t file.createNewFile();\r\n\t\t \r\n\t\t\r\n\t\t \r\n\t\t \r\n\t\t HashMap&lt;String,String&gt; map =  new HashMap&lt;String, String&gt;();\r\n\t\t Scanner sc = new Scanner(System.in);\r\n\t\t \r\n\t\t System.out.println(&quot;enter name&quot;);\r\n\t\t  String name = sc.nextLine();\r\n\t\t \r\n\t\t System.out.println(&quot;enter city&quot;);\r\n\t\t String city= sc.nextLine();\r\n\t\t \r\n\t\t System.out.println(&quot;enter Phone no.&quot;);\r\n\t\t String phone = sc.nextLine();\r\n\t\t \r\n\t\t \r\n\t\t \r\n\t\t\r\n\t\t map.put(&quot;Name ~ &quot;, name);\r\n\t\t map.put(&quot;City ~ &quot;, city);\r\n\t\t map.put(&quot;Phone no. ~ &quot;, phone);\r\n\t\t \r\n\t\t String j=null;\r\n\t\t \r\n\t\t for (String i: map.keySet()) {\r\n\t\t\t System.out.println(j = i + map.get(i));\r\n\t\t\t  }\r\n\t\t\t\r\n\t\t\t BufferedWriter bw = new BufferedWriter(new FileWriter(file));\r\n         \t bw.write(j);\r\n\t\t\t bw.close();\r\n\t\t\t \r\n\t\t }\r\n\t}\r\n\r\n```","title":"using hashmap print value from user input to specific txt file using file operations in java","body":"<p>Name, phone , city these are keys in hashmap and values are user Input,  this all data write in txt file using writer method from output stream as given below</p>\n<p>Name : &quot;user input&quot;</p>\n<p>phone no : &quot;user input&quot;</p>\n<p>city : &quot;user input&quot;</p>\n<p>I get the Output but only last value which is printed in console is written in txt file , all values with keys should be printed</p>\n<pre><code>package javap;\nimport java.io.*;\nimport java.util.*;\nimport java.util.Map.Entry;\nimport java.util.Scanner;\n\npublic class Datainput {\n\n    public static void main(String[] args) throws IOException {\n        \n        File file = new File(&quot;E:\\\\Data.txt&quot;);\n         file.createNewFile();\n         \n        \n         \n         \n         HashMap&lt;String,String&gt; map =  new HashMap&lt;String, String&gt;();\n         Scanner sc = new Scanner(System.in);\n         \n         System.out.println(&quot;enter name&quot;);\n          String name = sc.nextLine();\n         \n         System.out.println(&quot;enter city&quot;);\n         String city= sc.nextLine();\n         \n         System.out.println(&quot;enter Phone no.&quot;);\n         String phone = sc.nextLine();\n         \n         \n         \n        \n         map.put(&quot;Name ~ &quot;, name);\n         map.put(&quot;City ~ &quot;, city);\n         map.put(&quot;Phone no. ~ &quot;, phone);\n         \n         String j=null;\n         \n         for (String i: map.keySet()) {\n             System.out.println(j = i + map.get(i));\n              }\n            \n             BufferedWriter bw = new BufferedWriter(new FileWriter(file));\n             bw.write(j);\n             bw.close();\n             \n         }\n    }\n\n</code></pre>\n"},{"tags":["java","amazon-ec2","aws-codepipeline","aws-codebuild","aws-cloud9"],"owner":{"account_id":21116734,"reputation":35,"user_id":15523690,"display_name":"emerson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680686101,"creation_date":1680686101,"question_id":75937679,"body_markdown":"I have a project that I need to put in Devops mode which is located here: https://gitlab.com/jhiberne/theme-park-ride-gradle I integrated the project on my cloud9 and I built the project with buildspecc.yml.\r\n\r\nNow I want to Deploy my project on my EC2/Onpromise AWS but I can&#39;t configure Application Specification in my appspec.yml \r\n\r\nI have to create the scripts that will install the dependencies, and launch the application (the scripts are called by the appspec.yml file) but I have trouble finding information. Anyone got some leads?\r\n\r\n\r\nmy buildspecc.yml\r\n``` \r\nversion: 0.2\r\nstages:\r\n   pre_build:\r\n     commands:\r\n       - export GRADLE_USER_HOME=pwd/.gradle\r\n   build:\r\n     commands:\r\n       - chmod +x ./gradlew\r\n       - ./gradlew build\r\n     finally:\r\n       - mkdir -p build-artifacts\r\n       - mv ./build/libs/* ./build-artifacts\r\nartifacts:\r\n   files:\r\n     -build-artifacts/**\r\n```\r\n\r\nmy appspec.yml\r\n```\r\nversion: 0.0\r\nos: linux\r\nfiles:\r\n  - source: /build-artifacts/theme-park-ride-gradle.jar\r\n    destination: /tmp/app/\r\nhooks:\r\n  BeforeInstall:\r\n    - location: scripts/install_dependencies.sh\r\n      timeout: 300\r\n  AfterInstall:\r\n    - location: scripts/start.sh\r\n      timeout: 180\r\n  ValidateService:\r\n    - location: scripts/test_smoke.sh\r\n      timeout: 300\r\n```\r\n","title":"Java Deployment AWS Cloud","body":"<p>I have a project that I need to put in Devops mode which is located here: <a href=\"https://gitlab.com/jhiberne/theme-park-ride-gradle\" rel=\"nofollow noreferrer\">https://gitlab.com/jhiberne/theme-park-ride-gradle</a> I integrated the project on my cloud9 and I built the project with buildspecc.yml.</p>\n<p>Now I want to Deploy my project on my EC2/Onpromise AWS but I can't configure Application Specification in my appspec.yml</p>\n<p>I have to create the scripts that will install the dependencies, and launch the application (the scripts are called by the appspec.yml file) but I have trouble finding information. Anyone got some leads?</p>\n<p>my buildspecc.yml</p>\n<pre><code>version: 0.2\nstages:\n   pre_build:\n     commands:\n       - export GRADLE_USER_HOME=pwd/.gradle\n   build:\n     commands:\n       - chmod +x ./gradlew\n       - ./gradlew build\n     finally:\n       - mkdir -p build-artifacts\n       - mv ./build/libs/* ./build-artifacts\nartifacts:\n   files:\n     -build-artifacts/**\n</code></pre>\n<p>my appspec.yml</p>\n<pre><code>version: 0.0\nos: linux\nfiles:\n  - source: /build-artifacts/theme-park-ride-gradle.jar\n    destination: /tmp/app/\nhooks:\n  BeforeInstall:\n    - location: scripts/install_dependencies.sh\n      timeout: 300\n  AfterInstall:\n    - location: scripts/start.sh\n      timeout: 180\n  ValidateService:\n    - location: scripts/test_smoke.sh\n      timeout: 300\n</code></pre>\n"},{"tags":["java","sql-server-2012","prepared-statement","sql-injection","jtds"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1477646172,"creation_date":1477646172,"answer_id":40301857,"question_id":40301768,"body_markdown":"Your query does not contain any parameters, a `&#39;?&#39;` is just a literal string with a question mark in it, it is not a parameter. \r\n\r\nYou also can&#39;t parameterize object names like column names and clauses (like a `TOP 20`), so even if you&#39;d change it to - for example - `order by ?, ...` it wouldn&#39;t work, as you&#39;d be sorting by the string value (which would be the same for all rows, so effectively you wouldn&#39;t be sorting at all).\r\n\r\nTo do what you want to do you will need to concatenate the column names (and other clauses) into the query string. This also means that you might open yourself up to SQL injection: be sure to check the values carefully (for example against a whitelist of allowed values).","title":"SQLException: Invalid parameter index 1 only with PreparedStatement","body":"<p>Your query does not contain any parameters, a <code>'?'</code> is just a literal string with a question mark in it, it is not a parameter. </p>\n\n<p>You also can't parameterize object names like column names and clauses (like a <code>TOP 20</code>), so even if you'd change it to - for example - <code>order by ?, ...</code> it wouldn't work, as you'd be sorting by the string value (which would be the same for all rows, so effectively you wouldn't be sorting at all).</p>\n\n<p>To do what you want to do you will need to concatenate the column names (and other clauses) into the query string. This also means that you might open yourself up to SQL injection: be sure to check the values carefully (for example against a whitelist of allowed values).</p>\n"},{"tags":[],"owner":{"account_id":16484644,"reputation":149,"user_id":11910379,"display_name":"AJAY KACHHIYAPATEL"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680686059,"creation_date":1680686059,"answer_id":75937670,"question_id":40301768,"body_markdown":"Your query does not contain ( ? ) in parameterized query or else you have used (:) [NamedParameterJdbcTemplate] that&#39;s why having this issue.\r\nPlease use ? in parameters query.","title":"SQLException: Invalid parameter index 1 only with PreparedStatement","body":"<p>Your query does not contain ( ? ) in parameterized query or else you have used (:) [NamedParameterJdbcTemplate] that's why having this issue.\nPlease use ? in parameters query.</p>\n"}],"owner":{"account_id":5851066,"reputation":479,"user_id":4609725,"accept_rate":43,"display_name":"robyp7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17925,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":40301857,"answer_count":2,"score":5,"last_activity_date":1680686059,"creation_date":1477645850,"question_id":40301768,"body_markdown":"I have got a webapp(JSP/Servlet) with Tomcat8  + SQL Server2012\r\nJDBC Driver Type 4: JTDS old version 1.2.5 (http://jtds.sourceforge.net/)\r\n\r\nI change this kind of query, adding Prepared Statement (server pagining)\r\n\r\n        Sting DDXsql = &quot;SELECT &#39;?&#39; *, ( DDX_RECORD_COUNT / &#39;?&#39; + 1 ) AS DDX_PAGE_COUNT \r\n    FROM \r\n    ( SELECT &#39;?&#39; * \r\n    FROM ( SELECT &#39;?&#39; *, \r\n                 (SELECT COUNT(*) &quot; + &quot;FROM &quot; \r\n              + session.getAttribute(&quot;DatabaseName&quot;) + &quot;.G1_grid &quot; \r\n              + sqlFrom \r\n              + sqlWhere + &quot; &quot;    \r\n                + &quot; )  AS DDX_RECORD_COUNT &quot; \r\n            + &quot;FROM &quot; + session.getAttribute(&quot;DatabaseName&quot;) + &quot;.G1_grid &quot; \r\n            + sqlFrom \r\n            + sqlWhere + &quot; &quot; \r\n            +    &quot; ORDER BY &#39;?&#39; &#39;?&#39; , &#39;?&#39; &#39;?&#39; ) AS TMP1 ORDER \r\n              BY &#39;?&#39; &#39;?&#39;, &#39;?&#39; &#39;?&#39;) AS r ORDER BY &#39;?&#39; &#39;?&#39;, &#39;?&#39;  &#39;?&#39;&quot;;\r\nParameters:\r\n\r\n    String top1 = DBManager.getTOP(request, &quot;TOP &quot; + Integer.valueOf((String)ResourceManager.findData(&quot;pageSize&quot;, request)));\r\n    \t\t\t\tInteger pagesizeInt = Integer.valueOf((String)ResourceManager.findData(&quot;pageSize&quot;, request));\r\n    \t\t\t\tString top2 = DBManager.getTOP(request, &quot;TOP &quot; + Integer.valueOf((String)ResourceManager.findData(&quot;ddxrecordcount&quot;, request)));\t\r\n    \t\t\t\tString top3= DBManager.getTOP(request, &quot;TOP &quot; + Integer.valueOf((String)ResourceManager.findData(&quot;toRange&quot;, request)));\r\n    \t\t\t\tString notSortStr = (String)ResourceManager.findData(&quot;notSort&quot;, request);\r\n    \t\t\t\tObject[] values = new Object[] {\r\n    \t\t\t\ttop1, \t\t\t\t\r\n    \t\t\t\tpagesizeInt,\r\n    \t\t\t\ttop2,\t\t\t\r\n    \t\t\t\ttop3,\r\n    \t\t\t\tSortKey,\r\n    \t\t\t\tSort,\r\n    \t\t\t\tTotalSortKey,\r\n    \t\t\t\tSort,\r\n    \t\t\t\tSortKey,\r\n    \t\t\t\tnotSortStr,\r\n    \t\t\t\tTotalSortKey ,\t\t\t\r\n    \t\t\t\tnotSortStr,\t\t\r\n    \t\t\t\tSortKey,\r\n    \t\t\t\tSort,\r\n    \t\t\t\tTotalSortKey,\r\n    \t\t\t\tSort\r\n    \t\t\t\t};\r\n\r\nBefore, I didint use PreparedStatement I have this kind of query (replace &quot;?&quot; with the Object array values, without StringEscapeUtils):\r\n\r\n        String DDXsql = &quot;SELECT &quot; + \r\n    DBManager.getTOP(request, &quot;TOP &quot; \r\n    + Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(&quot;pageSize&quot;, request)))) + &quot; *, \r\n    ( DDX_RECORD_COUNT / &quot; + Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(&quot;pageSize&quot;, request))) + &quot; + 1 ) AS DDX_PAGE_COUNT FROM \r\n    ( SELECT &quot; \r\n    + DBManager.getTOP(request, &quot;TOP &quot;\r\n     + Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(&quot;ddxrecordcount&quot;, request)))) \r\n    + &quot; * FROM ( SELECT &quot; + DBManager.getTOP(request, &quot;TOP &quot; + Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(&quot;toRange&quot;, request)))) \r\n    + &quot; *, (SELECT COUNT(*) &quot; \r\n    + &quot;FROM &quot; + session.getAttribute(&quot;DatabaseName&quot;) + &quot;.G1_grid &quot; + sqlFrom + sqlWhere + &quot; &quot; + &quot; )  AS DDX_RECORD_COUNT &quot; \r\n    + &quot;FROM &quot; + session.getAttribute(&quot;DatabaseName&quot;) \r\n    + &quot;.G1_grid &quot; + sqlFrom + sqlWhere + &quot; &quot; + &quot; ORDER BY &quot;\r\n     + StringEscapeUtils.escapeSql(SortKey) + &quot; &quot; + StringEscapeUtils.escapeSql(Sort) + &quot;, &quot; \r\n    + StringEscapeUtils.escapeSql(TotalSortKey) + &quot; &quot; \r\n    + StringEscapeUtils.escapeSql(Sort) + &quot;) AS TMP1 ORDER BY &quot;\r\n     + StringEscapeUtils.escapeSql(SortKey) + &quot; &quot; \r\n    + StringEscapeUtils.escapeSql((String)ResourceManager.findData(&quot;notSort&quot;, request)) \r\n    + &quot;, &quot; + StringEscapeUtils.escapeSql(TotalSortKey) + &quot; &quot; \r\n    + StringEscapeUtils.escapeSql((String)ResourceManager.findData(&quot;notSort&quot;, request)) + &quot; ) AS r ORDER BY &quot; \r\n    + StringEscapeUtils.escapeSql(SortKey) + &quot; &quot; \r\n    + StringEscapeUtils.escapeSql(Sort) + &quot;, &quot; \r\n    + StringEscapeUtils.escapeSql(TotalSortKey) \r\n    + &quot; &quot; + StringEscapeUtils.escapeSql(Sort) + &quot; &quot;;\r\n\r\nThe last query runs without error, System.out of this query give this for example:\r\n\r\n    SELECT TOP 20 *, ( DDX_RECORD_COUNT / 20 + 1 ) AS DDX_PAGE_COUNT \r\n    FROM \r\n    ( SELECT TOP 20 * FROM \r\n                   ( SELECT TOP 20 *, \r\n                       (SELECT COUNT(*) \r\n                         FROM SuiteMA_DIP.dbo.G1_grid  \r\n                      WHERE 1 = 1   )  AS DDX_RECORD_COUNT \r\n                    FROM SuiteMA_DIP.dbo.G1_grid  WHERE 1 = 0   ORDER BY DATA_ISCRIZIONE_ORDER DESC, SOGGETTO_RILEVANTE_PAID DESC) AS TMP1 ORDER BY DATA_ISCRIZIONE_ORDER ASC, SOGGETTO_RILEVANTE_PAID ASC ) AS r ORDER BY DATA_ISCRIZIONE_ORDER DESC, SOGGETTO_RILEVANTE_PAID DESC \r\n\r\n\r\nBut when i run sql with preparedStatement:\r\n\r\n    java.sql.SQLException: Invalid parameter index 1.\r\n    \tat net.sourceforge.jtds.jdbc.JtdsPreparedStatement.getParameter(JtdsPreparedStatement.java:340)\r\n    \tat net.sourceforge.jtds.jdbc.JtdsPreparedStatement.setParameter(JtdsPreparedStatement.java:409)\r\n    \tat net.sourceforge.jtds.jdbc.JtdsPreparedStatement.setObjectBase(JtdsPreparedStatement.java:395)\r\n    \tat net.sourceforge.jtds.jdbc.JtdsPreparedStatement.setObject(JtdsPreparedStatement.java:667)\r\n    \tat org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.setObject(DelegatingPreparedStatement.java:188)\r\n    \tat org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.setObject(DelegatingPreparedStatement.java:188)\r\n    \tat it.netbureau.jfx.db.SQLDBManager.execSQL(SQLDBManager.java:57)\r\n    \tat it.netbureau.jfx.db.SQLDBManager.execSQL(SQLDBManager.java:78)\r\n    \tat org.apache.jsp.G1.select_jsp._jspService(select_jsp.java:691)\r\n\r\nThe java method execute the query :\r\n\r\nclass jfx.db.SQLDBManager.execSQL:\r\n\r\n    public Object execSQL(PreparedStatement stmt, Object values[], String xmlId)\r\n            throws SQLException\r\n        {\r\n            Object result = null;\r\n            if(stmt == null)\r\n                return null;\r\n            try\r\n            {\r\n                for(int i = 0; i &lt; values.length; i++)\r\n                    if(values[i] == null)\r\n                        stmt.setNull(i + 1, 4);\r\n                    else\r\n                        stmt.setObject(i + 1, values[i]); &lt;--this give exception!\r\n    \r\n                if(stmt.execute())                  result = transform(stmt.getResultSet(), xmlId);\r\n            }\r\n            catch(SQLException ex)\r\n            {\r\n                rollback();\r\n                throw ex;\r\n            }\r\n            return result;\r\n        }\r\n\r\nWhat&#39;s wrong?\r\n\r\nThank you very much\r\n\r\nroby\r\n\r\n\r\n","title":"SQLException: Invalid parameter index 1 only with PreparedStatement","body":"<p>I have got a webapp(JSP/Servlet) with Tomcat8  + SQL Server2012\nJDBC Driver Type 4: JTDS old version 1.2.5 (<a href=\"http://jtds.sourceforge.net/\" rel=\"noreferrer\">http://jtds.sourceforge.net/</a>)</p>\n\n<p>I change this kind of query, adding Prepared Statement (server pagining)</p>\n\n<pre><code>    Sting DDXsql = \"SELECT '?' *, ( DDX_RECORD_COUNT / '?' + 1 ) AS DDX_PAGE_COUNT \nFROM \n( SELECT '?' * \nFROM ( SELECT '?' *, \n             (SELECT COUNT(*) \" + \"FROM \" \n          + session.getAttribute(\"DatabaseName\") + \".G1_grid \" \n          + sqlFrom \n          + sqlWhere + \" \"    \n            + \" )  AS DDX_RECORD_COUNT \" \n        + \"FROM \" + session.getAttribute(\"DatabaseName\") + \".G1_grid \" \n        + sqlFrom \n        + sqlWhere + \" \" \n        +    \" ORDER BY '?' '?' , '?' '?' ) AS TMP1 ORDER \n          BY '?' '?', '?' '?') AS r ORDER BY '?' '?', '?'  '?'\";\n</code></pre>\n\n<p>Parameters:</p>\n\n<pre><code>String top1 = DBManager.getTOP(request, \"TOP \" + Integer.valueOf((String)ResourceManager.findData(\"pageSize\", request)));\n                Integer pagesizeInt = Integer.valueOf((String)ResourceManager.findData(\"pageSize\", request));\n                String top2 = DBManager.getTOP(request, \"TOP \" + Integer.valueOf((String)ResourceManager.findData(\"ddxrecordcount\", request))); \n                String top3= DBManager.getTOP(request, \"TOP \" + Integer.valueOf((String)ResourceManager.findData(\"toRange\", request)));\n                String notSortStr = (String)ResourceManager.findData(\"notSort\", request);\n                Object[] values = new Object[] {\n                top1,               \n                pagesizeInt,\n                top2,           \n                top3,\n                SortKey,\n                Sort,\n                TotalSortKey,\n                Sort,\n                SortKey,\n                notSortStr,\n                TotalSortKey ,          \n                notSortStr,     \n                SortKey,\n                Sort,\n                TotalSortKey,\n                Sort\n                };\n</code></pre>\n\n<p>Before, I didint use PreparedStatement I have this kind of query (replace \"?\" with the Object array values, without StringEscapeUtils):</p>\n\n<pre><code>    String DDXsql = \"SELECT \" + \nDBManager.getTOP(request, \"TOP \" \n+ Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(\"pageSize\", request)))) + \" *, \n( DDX_RECORD_COUNT / \" + Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(\"pageSize\", request))) + \" + 1 ) AS DDX_PAGE_COUNT FROM \n( SELECT \" \n+ DBManager.getTOP(request, \"TOP \"\n + Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(\"ddxrecordcount\", request)))) \n+ \" * FROM ( SELECT \" + DBManager.getTOP(request, \"TOP \" + Integer.valueOf(StringEscapeUtils.escapeSql((String)ResourceManager.findData(\"toRange\", request)))) \n+ \" *, (SELECT COUNT(*) \" \n+ \"FROM \" + session.getAttribute(\"DatabaseName\") + \".G1_grid \" + sqlFrom + sqlWhere + \" \" + \" )  AS DDX_RECORD_COUNT \" \n+ \"FROM \" + session.getAttribute(\"DatabaseName\") \n+ \".G1_grid \" + sqlFrom + sqlWhere + \" \" + \" ORDER BY \"\n + StringEscapeUtils.escapeSql(SortKey) + \" \" + StringEscapeUtils.escapeSql(Sort) + \", \" \n+ StringEscapeUtils.escapeSql(TotalSortKey) + \" \" \n+ StringEscapeUtils.escapeSql(Sort) + \") AS TMP1 ORDER BY \"\n + StringEscapeUtils.escapeSql(SortKey) + \" \" \n+ StringEscapeUtils.escapeSql((String)ResourceManager.findData(\"notSort\", request)) \n+ \", \" + StringEscapeUtils.escapeSql(TotalSortKey) + \" \" \n+ StringEscapeUtils.escapeSql((String)ResourceManager.findData(\"notSort\", request)) + \" ) AS r ORDER BY \" \n+ StringEscapeUtils.escapeSql(SortKey) + \" \" \n+ StringEscapeUtils.escapeSql(Sort) + \", \" \n+ StringEscapeUtils.escapeSql(TotalSortKey) \n+ \" \" + StringEscapeUtils.escapeSql(Sort) + \" \";\n</code></pre>\n\n<p>The last query runs without error, System.out of this query give this for example:</p>\n\n<pre><code>SELECT TOP 20 *, ( DDX_RECORD_COUNT / 20 + 1 ) AS DDX_PAGE_COUNT \nFROM \n( SELECT TOP 20 * FROM \n               ( SELECT TOP 20 *, \n                   (SELECT COUNT(*) \n                     FROM SuiteMA_DIP.dbo.G1_grid  \n                  WHERE 1 = 1   )  AS DDX_RECORD_COUNT \n                FROM SuiteMA_DIP.dbo.G1_grid  WHERE 1 = 0   ORDER BY DATA_ISCRIZIONE_ORDER DESC, SOGGETTO_RILEVANTE_PAID DESC) AS TMP1 ORDER BY DATA_ISCRIZIONE_ORDER ASC, SOGGETTO_RILEVANTE_PAID ASC ) AS r ORDER BY DATA_ISCRIZIONE_ORDER DESC, SOGGETTO_RILEVANTE_PAID DESC \n</code></pre>\n\n<p>But when i run sql with preparedStatement:</p>\n\n<pre><code>java.sql.SQLException: Invalid parameter index 1.\n    at net.sourceforge.jtds.jdbc.JtdsPreparedStatement.getParameter(JtdsPreparedStatement.java:340)\n    at net.sourceforge.jtds.jdbc.JtdsPreparedStatement.setParameter(JtdsPreparedStatement.java:409)\n    at net.sourceforge.jtds.jdbc.JtdsPreparedStatement.setObjectBase(JtdsPreparedStatement.java:395)\n    at net.sourceforge.jtds.jdbc.JtdsPreparedStatement.setObject(JtdsPreparedStatement.java:667)\n    at org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.setObject(DelegatingPreparedStatement.java:188)\n    at org.apache.tomcat.dbcp.dbcp2.DelegatingPreparedStatement.setObject(DelegatingPreparedStatement.java:188)\n    at it.netbureau.jfx.db.SQLDBManager.execSQL(SQLDBManager.java:57)\n    at it.netbureau.jfx.db.SQLDBManager.execSQL(SQLDBManager.java:78)\n    at org.apache.jsp.G1.select_jsp._jspService(select_jsp.java:691)\n</code></pre>\n\n<p>The java method execute the query :</p>\n\n<p>class jfx.db.SQLDBManager.execSQL:</p>\n\n<pre><code>public Object execSQL(PreparedStatement stmt, Object values[], String xmlId)\n        throws SQLException\n    {\n        Object result = null;\n        if(stmt == null)\n            return null;\n        try\n        {\n            for(int i = 0; i &lt; values.length; i++)\n                if(values[i] == null)\n                    stmt.setNull(i + 1, 4);\n                else\n                    stmt.setObject(i + 1, values[i]); &lt;--this give exception!\n\n            if(stmt.execute())                  result = transform(stmt.getResultSet(), xmlId);\n        }\n        catch(SQLException ex)\n        {\n            rollback();\n            throw ex;\n        }\n        return result;\n    }\n</code></pre>\n\n<p>What's wrong?</p>\n\n<p>Thank you very much</p>\n\n<p>roby</p>\n"},{"tags":["java","unit-testing","guava"],"answers":[{"tags":[],"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Roniecki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680685444,"creation_date":1680685444,"answer_id":75937559,"question_id":75925080,"body_markdown":"Do you want to test if both objects are referring to the same reference, or do you want to check if they&#39;re equal? \r\n\r\nSee [`assertSame`][1] and [`assertEqual`][2] but most importantly read about [`Object#equals(Object)][3]` and difference with `==`.\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.1.0/api/org/junit/jupiter/api/Assertions.html#assertSame-java.lang.Object-java.lang.Object-\r\n  [2]: https://junit.org/junit5/docs/5.1.0/api/org/junit/jupiter/api/Assertions.html#assertEquals-java.lang.Object-java.lang.Object-\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)","title":"Using AssertSame to validate instance of client from CacheBuilder","body":"<p>Do you want to test if both objects are referring to the same reference, or do you want to check if they're equal?</p>\n<p>See <a href=\"https://junit.org/junit5/docs/5.1.0/api/org/junit/jupiter/api/Assertions.html#assertSame-java.lang.Object-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>assertSame</code></a> and <a href=\"https://junit.org/junit5/docs/5.1.0/api/org/junit/jupiter/api/Assertions.html#assertEquals-java.lang.Object-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>assertEqual</code></a> but most importantly read about [<code>Object#equals(Object)][3]</code> and difference with <code>==</code>.</p>\n"}],"owner":{"account_id":5407761,"reputation":33,"user_id":4305669,"display_name":"pandabearit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680685444,"creation_date":1680575350,"question_id":75925080,"body_markdown":"Question on CacheBuilder maybe someone can help with:\r\n\r\nI have a Cache defined as such:\r\n```\r\n    private final Cache&lt;String, ServiceClient&gt; SERVICE_CLIENT_CACHE = CacheBuilder.newBuilder()\r\n            .maximumSize(1000)\r\n            .build();\r\n\r\n```\r\nAccessor logic within the `newRetryingClient` class called from the test\r\n```\r\n        try {\r\n            return SERVICE_CLIENT_CACHE.get(clientConfigQualifier,\r\n                    () -&gt; newClient(clientConfigQualifier));\r\n        } catch (final ExecutionException ignored) {\r\n            throw new RuntimeException(ignored);\r\n        }\r\n    }\r\n```\r\n\r\nAttempting to validate the cache is working with a test results in a failure because of different objects... \r\n```\r\n    @Test\r\n    public void newRetryingClientWithMaterials() {\r\n        final clientFactory clientFactory = new clientFactory(authClient, mock(Identity.class));\r\n        final Client client1 = clientFactory.newRetryingClient(QUALIFIER);\r\n        final Client client2 = clientFactory.newRetryingClient(QUALIFIER);\r\n        assertSame(client1, client2);\r\n    }\r\n```\r\nTest Result\r\n```\r\norg.opentest4j.AssertionFailedError: \r\nExpected :com.place.thing.client.clientImpl@49d5c751\r\nActual   :com.place.thing.client.clienttImpl@40e90634\r\n```\r\n\r\nany idea if there is an issue with the implementation or I am expecting the wrong behaviors from assertSame?\r\n","title":"Using AssertSame to validate instance of client from CacheBuilder","body":"<p>Question on CacheBuilder maybe someone can help with:</p>\n<p>I have a Cache defined as such:</p>\n<pre><code>    private final Cache&lt;String, ServiceClient&gt; SERVICE_CLIENT_CACHE = CacheBuilder.newBuilder()\n            .maximumSize(1000)\n            .build();\n\n</code></pre>\n<p>Accessor logic within the <code>newRetryingClient</code> class called from the test</p>\n<pre><code>        try {\n            return SERVICE_CLIENT_CACHE.get(clientConfigQualifier,\n                    () -&gt; newClient(clientConfigQualifier));\n        } catch (final ExecutionException ignored) {\n            throw new RuntimeException(ignored);\n        }\n    }\n</code></pre>\n<p>Attempting to validate the cache is working with a test results in a failure because of different objects...</p>\n<pre><code>    @Test\n    public void newRetryingClientWithMaterials() {\n        final clientFactory clientFactory = new clientFactory(authClient, mock(Identity.class));\n        final Client client1 = clientFactory.newRetryingClient(QUALIFIER);\n        final Client client2 = clientFactory.newRetryingClient(QUALIFIER);\n        assertSame(client1, client2);\n    }\n</code></pre>\n<p>Test Result</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :com.place.thing.client.clientImpl@49d5c751\nActual   :com.place.thing.client.clienttImpl@40e90634\n</code></pre>\n<p>any idea if there is an issue with the implementation or I am expecting the wrong behaviors from assertSame?</p>\n"},{"tags":["java","spring-boot","docker","docker-compose","dockerfile"],"comments":[{"owner":{"account_id":2969131,"reputation":340,"user_id":2521628,"display_name":"Jan Cizmar"},"score":0,"creation_date":1682327069,"post_id":75937531,"comment_id":134191819,"body_markdown":"I have similar issue after updating to Spring Boot 2.7.9.","body":"I have similar issue after updating to Spring Boot 2.7.9."},{"owner":{"account_id":3331179,"reputation":2145,"user_id":2800089,"accept_rate":44,"display_name":"user2800089"},"score":0,"creation_date":1682593687,"post_id":75937531,"comment_id":134241997,"body_markdown":"@JanCizmar Seems like this issue is related to less size of RAM of your machine","body":"@JanCizmar Seems like this issue is related to less size of RAM of your machine"},{"owner":{"account_id":2969131,"reputation":340,"user_id":2521628,"display_name":"Jan Cizmar"},"score":0,"creation_date":1682683687,"post_id":75937531,"comment_id":134258156,"body_markdown":"Well, do you think reducing the heap size would help?","body":"Well, do you think reducing the heap size would help?"}],"owner":{"account_id":3331179,"reputation":2145,"user_id":2800089,"accept_rate":44,"display_name":"user2800089"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680685312,"creation_date":1680685312,"question_id":75937531,"body_markdown":"I have a spring boot application as &#39;users&#39; and when I am trying to bring up the application via docker, it&#39;s failing with segmentation fault and exit with code 139 as below: Please advise.\r\n\r\n    Starting docker compose\r\n    Container users-user-db-1  Creating\r\n    Container users-solace-1  Creating\r\n    Container users-solace-1  Created\r\n    Container users-user-db-1  Created\r\n    Container users-users-1  Creating\r\n    Container users-users-1  Created\r\n    Attaching to users-users-1, users-solace-1, users-user-db-1\r\n    users-user-db-1  | The files belonging to this database system will be owned by user &quot;postgres&quot;.\r\n    users-user-db-1  | This user must also own the server process.\r\n    users-user-db-1  |\r\n    users-user-db-1  | The database cluster will be initialized with locale &quot;en_US.utf8&quot;.\r\n    users-user-db-1  | The default database encoding has accordingly been set to &quot;UTF8&quot;.\r\n    users-user-db-1  | The default text search configuration will be set to &quot;english&quot;.\r\n    users-user-db-1  |\r\n    users-user-db-1  | Data page checksums are disabled.\r\n    users-user-db-1  |\r\n    users-user-db-1  | fixing permissions on existing directory /var/lib/postgresql/data ... ok\r\n    users-user-db-1  | creating subdirectories ... ok\r\n    users-user-db-1  | selecting dynamic shared memory implementation ... posix\r\n    users-user-db-1  | selecting default max_connections ... 100\r\n    users-solace-1              | Host Boot ID: \r\n    users-solace-1              | Starting VMR Docker Container: Wed Apr 5 08:21:32 UTC 2023\r\n    users-solace-1              | Setting umask to 077\r\n    users-solace-1              | SolOS Version: soltr_9.9.0.34\r\n    users-user-db-1  | selecting default shared_buffers ... 128MB\r\n    users-user-db-1  | selecting default time zone ... Etc/UTC\r\n    users-user-db-1  | creating configuration files ... ok\r\n    users-user-db-1  | running bootstrap script ... ok\r\n    users-users-1          | Segmentation fault\r\n    users-users-1 exited with code 0\r\n\r\n\r\n\r\n\r\ndocker-compose.sh looks like below:\r\n\r\n    #!/bin/bash\r\n    \r\n    docker container rm -f $(docker container ls -aq)\r\n    \r\n    mvn clean install -DskipTests=true -Dmaven.javadoc.skip=true\r\n    \r\n    docker build --no-cache -f Dockerfile.local -t users:latest .\r\n    \r\n    docker-compose -f docker-compose.yml up --build\r\n\r\ndockerfile.local looks like below:\r\n\r\n    FROM &lt;url&gt;/openjdk:11-jdk\r\n    MAINTAINER users\r\n    \r\n    ARG JAR_FILE=target/*.jar\r\n    \r\n    COPY ${JAR_FILE} app.jar\r\n    \r\n    CMD java -jar /app.jar\r\n    \r\n    EXPOSE 8080\r\n\r\n\r\ndocker-compose.yml looks like below :\r\n\r\n    version: &#39;3&#39;\r\n    services:\r\n      users:\r\n        image: users:latest\r\n        restart: on-failure\r\n        networks:\r\n          default:\r\n            aliases:\r\n              - users.svc\r\n        links:\r\n          - user-db\r\n          - solace\r\n        ports:\r\n          - &quot;8094:8080&quot;\r\n        depends_on:\r\n          - user-db\r\n          - solace\r\n        environment:\r\n          WAIT_HOSTS: solace.svc:8080, user-db.svc:5432\r\n          USERS_DB_JDBC_URL: jdbc:postgresql://user-db.svc:5432/users\r\n          USERS_DB_APP_USER_NAME: USERS_rwuser\r\n          USERS_DB_APP_USER_PASSWORD: mysecretpassword\r\n          USERS_DB_MIGRATION_USER_NAME: USERS_rwuser\r\n          USERS_DB_MIGRATION_USER_PASSWORD: mysecretpassword\r\n          USERS_DB_READ_WRITE_USER_ROLE: USERS_rwuser\r\n          USERS_DB_READ_ONLY_USER_ROLE: USERS_rwuser\r\n          SOLACE_HOST_URL: tcp://solace.svc:55555\r\n          SOLACE_MSG_VPN: default\r\n          USERS_SOLACE_USERNAME: admin\r\n          USERS_SOLACE_PASSWORD: admin\r\n        command: &gt;\r\n              java -jar /app.jar&quot;\r\n    \r\n      user-db:\r\n        image: &lt;URL&gt;/postgres:12.4\r\n        restart: always\r\n        networks:\r\n          default:\r\n            aliases:\r\n              - user-db.svc\r\n        ports:\r\n          - 5432:5432\r\n        environment:\r\n          POSTGRES_USER: USERS_rwuser\r\n          POSTGRES_PASSWORD: mysecretpassword\r\n          POSTGRES_DB: users\r\n    \r\n      solace:\r\n        image: &lt;URL&gt;/solace/solace-pubsub-standard:9.9.0.34\r\n        restart: always\r\n        networks:\r\n          default:\r\n            aliases:\r\n              - solace.svc\r\n        shm_size: 1g\r\n        ulimits:\r\n          core: 1\r\n          nofile:\r\n            soft: 2448\r\n            hard: 38048\r\n        environment:\r\n          - system_scaling_maxconnectioncount=100\r\n\r\n","title":"Segmentation fault on running spring boot application via docker desktop","body":"<p>I have a spring boot application as 'users' and when I am trying to bring up the application via docker, it's failing with segmentation fault and exit with code 139 as below: Please advise.</p>\n<pre><code>Starting docker compose\nContainer users-user-db-1  Creating\nContainer users-solace-1  Creating\nContainer users-solace-1  Created\nContainer users-user-db-1  Created\nContainer users-users-1  Creating\nContainer users-users-1  Created\nAttaching to users-users-1, users-solace-1, users-user-db-1\nusers-user-db-1  | The files belonging to this database system will be owned by user &quot;postgres&quot;.\nusers-user-db-1  | This user must also own the server process.\nusers-user-db-1  |\nusers-user-db-1  | The database cluster will be initialized with locale &quot;en_US.utf8&quot;.\nusers-user-db-1  | The default database encoding has accordingly been set to &quot;UTF8&quot;.\nusers-user-db-1  | The default text search configuration will be set to &quot;english&quot;.\nusers-user-db-1  |\nusers-user-db-1  | Data page checksums are disabled.\nusers-user-db-1  |\nusers-user-db-1  | fixing permissions on existing directory /var/lib/postgresql/data ... ok\nusers-user-db-1  | creating subdirectories ... ok\nusers-user-db-1  | selecting dynamic shared memory implementation ... posix\nusers-user-db-1  | selecting default max_connections ... 100\nusers-solace-1              | Host Boot ID: \nusers-solace-1              | Starting VMR Docker Container: Wed Apr 5 08:21:32 UTC 2023\nusers-solace-1              | Setting umask to 077\nusers-solace-1              | SolOS Version: soltr_9.9.0.34\nusers-user-db-1  | selecting default shared_buffers ... 128MB\nusers-user-db-1  | selecting default time zone ... Etc/UTC\nusers-user-db-1  | creating configuration files ... ok\nusers-user-db-1  | running bootstrap script ... ok\nusers-users-1          | Segmentation fault\nusers-users-1 exited with code 0\n</code></pre>\n<p>docker-compose.sh looks like below:</p>\n<pre><code>#!/bin/bash\n\ndocker container rm -f $(docker container ls -aq)\n\nmvn clean install -DskipTests=true -Dmaven.javadoc.skip=true\n\ndocker build --no-cache -f Dockerfile.local -t users:latest .\n\ndocker-compose -f docker-compose.yml up --build\n</code></pre>\n<p>dockerfile.local looks like below:</p>\n<pre><code>FROM &lt;url&gt;/openjdk:11-jdk\nMAINTAINER users\n\nARG JAR_FILE=target/*.jar\n\nCOPY ${JAR_FILE} app.jar\n\nCMD java -jar /app.jar\n\nEXPOSE 8080\n</code></pre>\n<p>docker-compose.yml looks like below :</p>\n<pre><code>version: '3'\nservices:\n  users:\n    image: users:latest\n    restart: on-failure\n    networks:\n      default:\n        aliases:\n          - users.svc\n    links:\n      - user-db\n      - solace\n    ports:\n      - &quot;8094:8080&quot;\n    depends_on:\n      - user-db\n      - solace\n    environment:\n      WAIT_HOSTS: solace.svc:8080, user-db.svc:5432\n      USERS_DB_JDBC_URL: jdbc:postgresql://user-db.svc:5432/users\n      USERS_DB_APP_USER_NAME: USERS_rwuser\n      USERS_DB_APP_USER_PASSWORD: mysecretpassword\n      USERS_DB_MIGRATION_USER_NAME: USERS_rwuser\n      USERS_DB_MIGRATION_USER_PASSWORD: mysecretpassword\n      USERS_DB_READ_WRITE_USER_ROLE: USERS_rwuser\n      USERS_DB_READ_ONLY_USER_ROLE: USERS_rwuser\n      SOLACE_HOST_URL: tcp://solace.svc:55555\n      SOLACE_MSG_VPN: default\n      USERS_SOLACE_USERNAME: admin\n      USERS_SOLACE_PASSWORD: admin\n    command: &gt;\n          java -jar /app.jar&quot;\n\n  user-db:\n    image: &lt;URL&gt;/postgres:12.4\n    restart: always\n    networks:\n      default:\n        aliases:\n          - user-db.svc\n    ports:\n      - 5432:5432\n    environment:\n      POSTGRES_USER: USERS_rwuser\n      POSTGRES_PASSWORD: mysecretpassword\n      POSTGRES_DB: users\n\n  solace:\n    image: &lt;URL&gt;/solace/solace-pubsub-standard:9.9.0.34\n    restart: always\n    networks:\n      default:\n        aliases:\n          - solace.svc\n    shm_size: 1g\n    ulimits:\n      core: 1\n      nofile:\n        soft: 2448\n        hard: 38048\n    environment:\n      - system_scaling_maxconnectioncount=100\n</code></pre>\n"},{"tags":["java","android","background","android-videoview"],"answers":[{"tags":[],"owner":{"account_id":7031093,"reputation":517,"user_id":8772085,"display_name":"Dreamer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680685119,"creation_date":1680533767,"answer_id":75920850,"question_id":75920608,"body_markdown":"You can try this \r\n\r\n \r\n\r\n      public class HomeActivity extends AppCompatActivity {\r\n        VideoView simpleVideoView;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_home);\r\n            videoBackground();\r\n    \r\n        }\r\n    \r\n        public void videoBackground(){\r\n            simpleVideoView = (VideoView) findViewById(R.id.videoView);\r\n            simpleVideoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.bg_video));\r\n            simpleVideoView.start();\r\n            simpleVideoView.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n                @Override\r\n                public void onPrepared(MediaPlayer mp) {\r\n                    mp.setLooping(true); \r\n                }\r\n            });\r\n        }\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            simpleVideoView.start();\r\n        }\r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n            simpleVideoView.stopPlayback();\r\n        }\r\n    }","title":"How to replay a video after going back and how to loop the video in background","body":"<p>You can try this</p>\n<pre><code>  public class HomeActivity extends AppCompatActivity {\n    VideoView simpleVideoView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n        videoBackground();\n\n    }\n\n    public void videoBackground(){\n        simpleVideoView = (VideoView) findViewById(R.id.videoView);\n        simpleVideoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.bg_video));\n        simpleVideoView.start();\n        simpleVideoView.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n            @Override\n            public void onPrepared(MediaPlayer mp) {\n                mp.setLooping(true); \n            }\n        });\n    }\n    @Override\n    protected void onResume() {\n        super.onResume();\n        simpleVideoView.start();\n    }\n    @Override\n    protected void onPause() {\n        super.onPause();\n        simpleVideoView.stopPlayback();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75920850,"answer_count":1,"score":0,"last_activity_date":1680685119,"creation_date":1680532229,"question_id":75920608,"body_markdown":"**First Problem**\r\nI am making a guessing android game using java and I was wondering how can I use a video as the background of the home screen rather than having an image or simple colors? I got the answer of this question from another question here, but I have this new problem now-\r\nThe video is playing in background nicely, but whenever I open another activity and go back to the home screen (where the video was playing) the screen showing black screen. Also when the android goes to sleep mode, I start the phone and same problem again!\r\n\r\n**Second Problem**\r\nHow to loop a video in background, my video is about a minute long, so after a minute the video is getting paused. So, how to loop it?\r\n\r\nMy code is below-\r\n\r\n```\r\npublic class HomeActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n        setTitle(&quot;&quot;);\r\n        videoBackground();\r\n    }\r\n\r\n    public void videoBackground(){\r\n        VideoView simpleVideoView = (VideoView) findViewById(R.id.videoView);\r\n        simpleVideoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.bg_video));\r\n        simpleVideoView.start();\r\n    }\r\npublic void exitGame(View v){\r\n        finish();\r\n        System.exit(0);\r\n    }\r\n\r\n    public void newGame(View v){\r\n        Intent new_game = new Intent(this,ModesActivity.class);\r\n        startActivity(new_game);\r\n    }\r\n\r\n    public void howToPlay(View v){\r\n\r\n    }\r\n```\r\n\r\n\r\nNow I know what&#39;s the problem here but I don&#39;t know the solution. The thing is someone actually answered this question in stack overflow, I am copying the answer here-\r\n\r\nNatureDevil answer and video is great but 2 things are missing first if you click on a button and open a new activity like sing-up and decided to click on back arrow on the device, the home screen will give black screen because the video will not restart so you need to add this\r\n\r\n```\r\n@Override\r\nprotected void onResume() {\r\n    super.onResume();\r\n    // to restart the video after coming from other activity like Sing up\r\n    mVideoView.start();\r\n}\r\n```\r\n\r\nSo, I didn&#39;t understand where to put this specific method. I didn&#39;t understand any of it at all. Due to low reputation, I couldn&#39;t add a comment there. Can you all help me with this?\r\n\r\nThank you for listening.","title":"How to replay a video after going back and how to loop the video in background","body":"<p><strong>First Problem</strong>\nI am making a guessing android game using java and I was wondering how can I use a video as the background of the home screen rather than having an image or simple colors? I got the answer of this question from another question here, but I have this new problem now-\nThe video is playing in background nicely, but whenever I open another activity and go back to the home screen (where the video was playing) the screen showing black screen. Also when the android goes to sleep mode, I start the phone and same problem again!</p>\n<p><strong>Second Problem</strong>\nHow to loop a video in background, my video is about a minute long, so after a minute the video is getting paused. So, how to loop it?</p>\n<p>My code is below-</p>\n<pre><code>public class HomeActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n        setTitle(&quot;&quot;);\n        videoBackground();\n    }\n\n    public void videoBackground(){\n        VideoView simpleVideoView = (VideoView) findViewById(R.id.videoView);\n        simpleVideoView.setVideoURI(Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.bg_video));\n        simpleVideoView.start();\n    }\npublic void exitGame(View v){\n        finish();\n        System.exit(0);\n    }\n\n    public void newGame(View v){\n        Intent new_game = new Intent(this,ModesActivity.class);\n        startActivity(new_game);\n    }\n\n    public void howToPlay(View v){\n\n    }\n</code></pre>\n<p>Now I know what's the problem here but I don't know the solution. The thing is someone actually answered this question in stack overflow, I am copying the answer here-</p>\n<p>NatureDevil answer and video is great but 2 things are missing first if you click on a button and open a new activity like sing-up and decided to click on back arrow on the device, the home screen will give black screen because the video will not restart so you need to add this</p>\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    // to restart the video after coming from other activity like Sing up\n    mVideoView.start();\n}\n</code></pre>\n<p>So, I didn't understand where to put this specific method. I didn't understand any of it at all. Due to low reputation, I couldn't add a comment there. Can you all help me with this?</p>\n<p>Thank you for listening.</p>\n"},{"tags":["java","jsp","encryption","zip","archive"],"answers":[{"tags":[],"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1258130918,"creation_date":1258129741,"answer_id":1730313,"question_id":1730237,"body_markdown":"If you know how to create a zip file using the [java.util.zip][1] package, you can create a PBE [Cipher][2] and pass that to a CipherOutputStream or a CipherInputStream (depending on if you&#39;re reading or writing).  \r\n\r\nThe following should get you started:\r\n\r\n    public class ZipTest {\r\n        \r\n        public static void main(String [] args) throws Exception {\r\n            String password = &quot;password&quot;;\r\n            write(password);\r\n            read(password);\r\n        }\r\n        \r\n        private static void write(String password) throws Exception {\r\n            OutputStream target = new FileOutputStream(&quot;out.zip&quot;);\r\n            target = new CipherOutputStream(target, createCipher(Cipher.ENCRYPT_MODE, password));\r\n            ZipOutputStream output = new ZipOutputStream(target);\r\n            \r\n            ZipEntry e = new ZipEntry(&quot;filename&quot;);\r\n            output.putNextEntry(e);\r\n            output.write(&quot;helloWorld&quot;.getBytes());\r\n            output.closeEntry();\r\n            \r\n            e = new ZipEntry(&quot;filename1&quot;);\r\n            output.putNextEntry(e);\r\n            output.write(&quot;helloWorld1&quot;.getBytes());\r\n            output.closeEntry();\r\n            \r\n            output.finish();\r\n            output.flush();\r\n        }\r\n        \r\n        private static Cipher createCipher(int mode, String password) throws Exception {\r\n            String alg = &quot;PBEWithSHA1AndDESede&quot;; //BouncyCastle has better algorithms\r\n            PBEKeySpec keySpec = new PBEKeySpec(password.toCharArray());\r\n            SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(alg);\r\n            SecretKey secretKey = keyFactory.generateSecret(keySpec);\r\n            \r\n            Cipher cipher = Cipher.getInstance(&quot;PBEWithSHA1AndDESede&quot;);\r\n            cipher.init(mode, secretKey, new PBEParameterSpec(&quot;saltsalt&quot;.getBytes(), 2000));\r\n            \r\n            return cipher;\r\n        }\r\n        \r\n        private static void read(String password) throws Exception {\r\n            InputStream target = new FileInputStream(&quot;out.zip&quot;);\r\n            target = new CipherInputStream(target, createCipher(Cipher.DECRYPT_MODE, password));\r\n            ZipInputStream input = new ZipInputStream(target);\r\n            ZipEntry entry = input.getNextEntry();\r\n            while (entry != null) {\r\n                System.out.println(&quot;Entry: &quot;+entry.getName());\r\n                System.out.println(&quot;Contents: &quot;+toString(input));\r\n                input.closeEntry();\r\n                entry = input.getNextEntry();\r\n            }\r\n        }\r\n        \r\n        private static String toString(InputStream input) throws Exception {\r\n            byte [] data = new byte[1024];\r\n            StringBuilder result = new StringBuilder();\r\n            \r\n            int bytesRead = input.read(data);\r\n            while (bytesRead != -1) {\r\n                result.append(new String(data, 0, bytesRead));\r\n                bytesRead = input.read(data);\r\n            }\r\n            \r\n            return result.toString();\r\n        } \r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/zip/package-summary.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/javax/crypto/Cipher.html","title":"How to Pack/Encrypt/Unpack/Decrypt a bunch of files in Java?","body":"<p>If you know how to create a zip file using the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/zip/package-summary.html\" rel=\"noreferrer\">java.util.zip</a> package, you can create a PBE <a href=\"http://java.sun.com/javase/6/docs/api/javax/crypto/Cipher.html\" rel=\"noreferrer\">Cipher</a> and pass that to a CipherOutputStream or a CipherInputStream (depending on if you're reading or writing).  </p>\n\n<p>The following should get you started:</p>\n\n<pre><code>public class ZipTest {\n\n    public static void main(String [] args) throws Exception {\n        String password = \"password\";\n        write(password);\n        read(password);\n    }\n\n    private static void write(String password) throws Exception {\n        OutputStream target = new FileOutputStream(\"out.zip\");\n        target = new CipherOutputStream(target, createCipher(Cipher.ENCRYPT_MODE, password));\n        ZipOutputStream output = new ZipOutputStream(target);\n\n        ZipEntry e = new ZipEntry(\"filename\");\n        output.putNextEntry(e);\n        output.write(\"helloWorld\".getBytes());\n        output.closeEntry();\n\n        e = new ZipEntry(\"filename1\");\n        output.putNextEntry(e);\n        output.write(\"helloWorld1\".getBytes());\n        output.closeEntry();\n\n        output.finish();\n        output.flush();\n    }\n\n    private static Cipher createCipher(int mode, String password) throws Exception {\n        String alg = \"PBEWithSHA1AndDESede\"; //BouncyCastle has better algorithms\n        PBEKeySpec keySpec = new PBEKeySpec(password.toCharArray());\n        SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(alg);\n        SecretKey secretKey = keyFactory.generateSecret(keySpec);\n\n        Cipher cipher = Cipher.getInstance(\"PBEWithSHA1AndDESede\");\n        cipher.init(mode, secretKey, new PBEParameterSpec(\"saltsalt\".getBytes(), 2000));\n\n        return cipher;\n    }\n\n    private static void read(String password) throws Exception {\n        InputStream target = new FileInputStream(\"out.zip\");\n        target = new CipherInputStream(target, createCipher(Cipher.DECRYPT_MODE, password));\n        ZipInputStream input = new ZipInputStream(target);\n        ZipEntry entry = input.getNextEntry();\n        while (entry != null) {\n            System.out.println(\"Entry: \"+entry.getName());\n            System.out.println(\"Contents: \"+toString(input));\n            input.closeEntry();\n            entry = input.getNextEntry();\n        }\n    }\n\n    private static String toString(InputStream input) throws Exception {\n        byte [] data = new byte[1024];\n        StringBuilder result = new StringBuilder();\n\n        int bytesRead = input.read(data);\n        while (bytesRead != -1) {\n            result.append(new String(data, 0, bytesRead));\n            bytesRead = input.read(data);\n        }\n\n        return result.toString();\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1258130297,"creation_date":1258130297,"answer_id":1730388,"question_id":1730237,"body_markdown":"The answer is already given (use a cipher as Kevin pointed out), so I am only doing a suggestion about an important matter which seems to be missing in your topicstart: ensure that you&#39;re using `HTTPS` instead of `HTTP`. Otherwise one with a network sniffer would be able to get the user-supplied password from the packets. How to do it depends on the appserver in question. Best is to refer its documentation. If it is for example Apache Tomcat, then you can find everything in the [Tomcat SSL HOW-TO][1]. \r\n\r\nHope this helps.\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html","title":"How to Pack/Encrypt/Unpack/Decrypt a bunch of files in Java?","body":"<p>The answer is already given (use a cipher as Kevin pointed out), so I am only doing a suggestion about an important matter which seems to be missing in your topicstart: ensure that you're using <code>HTTPS</code> instead of <code>HTTP</code>. Otherwise one with a network sniffer would be able to get the user-supplied password from the packets. How to do it depends on the appserver in question. Best is to refer its documentation. If it is for example Apache Tomcat, then you can find everything in the <a href=\"http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html\" rel=\"nofollow noreferrer\">Tomcat SSL HOW-TO</a>. </p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":72682,"reputation":10774,"user_id":209744,"accept_rate":60,"display_name":"PP."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258131423,"creation_date":1258131423,"answer_id":1730540,"question_id":1730237,"body_markdown":"Though it may not be specific to your query I wonder if [truecrypt](http://www.truecrypt.org/) could be of use. Your webserver could create an encrypted container into which the zip file would be copied. The encrypted container could then be downloaded. Potentially a little messy however the encryption should be strong and the downloaded image could be mounted on a variety of operating systems.","title":"How to Pack/Encrypt/Unpack/Decrypt a bunch of files in Java?","body":"<p>Though it may not be specific to your query I wonder if <a href=\"http://www.truecrypt.org/\" rel=\"nofollow noreferrer\">truecrypt</a> could be of use. Your webserver could create an encrypted container into which the zip file would be copied. The encrypted container could then be downloaded. Potentially a little messy however the encryption should be strong and the downloaded image could be mounted on a variety of operating systems.</p>\n"},{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258132242,"creation_date":1258132242,"answer_id":1730641,"question_id":1730237,"body_markdown":"There are surely a few suggestions here on how to solve your problem, but I&#39;m missing a very big BUT in the responses. You cannot fulfill both &quot;password based&quot; and &quot;strong encryption&quot; for any reasonable definition of &quot;strong encryption&quot;. ","title":"How to Pack/Encrypt/Unpack/Decrypt a bunch of files in Java?","body":"<p>There are surely a few suggestions here on how to solve your problem, but I'm missing a very big BUT in the responses. You cannot fulfill both \"password based\" and \"strong encryption\" for any reasonable definition of \"strong encryption\". </p>\n"}],"owner":{"account_id":20025,"reputation":7047,"user_id":47450,"accept_rate":91,"display_name":"DanM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5684,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":1730313,"answer_count":4,"score":3,"last_activity_date":1680684969,"creation_date":1258128917,"question_id":1730237,"body_markdown":"I&#39;m essentially trying to do the following on a Java/JSP-driven web site:\r\n\r\n- User supplies a password\r\n- Password is used to build a strongly-encrypted archive file (zip, or anything else) containing a text file as well as a number of binary files that are stored on the server.  It&#39;s essentially a backup of the user&#39;s files and settings.\r\n- Later, the user can upload the file, provide the original password, and the site will decrypt and unpack the archive, save the extracted binary files to the appropriate folder on the server, and then read the text file so the site can restore the user&#39;s old settings and metadata about the binary files.\r\n\r\nIt&#39;s the building/encrypting the archive and then extracting its contents that I&#39;m trying to figure out how to do.  I really don&#39;t care about the archive format, other than that it is very secure.\r\n\r\nThe ideal solution to my problem will be very easy to implement, and will require only tried-and-tested libraries with free and nonrestrictive licenses (e.g. apache, berkeley, lgpl).\r\n\r\nI&#39;m aware of the TrueZIP and WinZipAES libraries; the former seems like massive overkill and I can&#39;t tell how stable the latter is... Are there other solutions out there that would work well?","title":"How to Pack/Encrypt/Unpack/Decrypt a bunch of files in Java?","body":"<p>I'm essentially trying to do the following on a Java/JSP-driven web site:</p>\n\n<ul>\n<li>User supplies a password</li>\n<li>Password is used to build a strongly-encrypted archive file (zip, or anything else) containing a text file as well as a number of binary files that are stored on the server.  It's essentially a backup of the user's files and settings.</li>\n<li>Later, the user can upload the file, provide the original password, and the site will decrypt and unpack the archive, save the extracted binary files to the appropriate folder on the server, and then read the text file so the site can restore the user's old settings and metadata about the binary files.</li>\n</ul>\n\n<p>It's the building/encrypting the archive and then extracting its contents that I'm trying to figure out how to do.  I really don't care about the archive format, other than that it is very secure.</p>\n\n<p>The ideal solution to my problem will be very easy to implement, and will require only tried-and-tested libraries with free and nonrestrictive licenses (e.g. apache, berkeley, lgpl).</p>\n\n<p>I'm aware of the TrueZIP and WinZipAES libraries; the former seems like massive overkill and I can't tell how stable the latter is... Are there other solutions out there that would work well?</p>\n"},{"tags":["javascript","java","spring","spring-mvc","jsp"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1680683524,"post_id":75937096,"comment_id":133937952,"body_markdown":"When asking for help, it is good if you provide all information about what the problem is - eg. What error message (and on which line) are you seeing ????   Im guessing you are facing a similar issue to this : https://stackoverflow.com/a/23601089/681444","body":"When asking for help, it is good if you provide all information about what the problem is - eg. What error message (and on which line) are you seeing ????   Im guessing you are facing a similar issue to this : <a href=\"https://stackoverflow.com/a/23601089/681444\">stackoverflow.com/a/23601089/681444</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1680683570,"post_id":75937096,"comment_id":133937964,"body_markdown":"How is `++data` meant to work with a variable of type `String`?","body":"How is <code>++data</code> meant to work with a variable of type <code>String</code>?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1680683623,"post_id":75937096,"comment_id":133937978,"body_markdown":"Also note that there is no Javascript in your snippet at all, so that tag seems to be superfluous.","body":"Also note that there is no Javascript in your snippet at all, so that tag seems to be superfluous."}],"answers":[{"tags":[],"owner":{"account_id":28220767,"reputation":1,"user_id":21571531,"display_name":"fenzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680684859,"creation_date":1680684859,"answer_id":75937464,"question_id":75937096,"body_markdown":"    &lt;c:forEach items=&quot;${indentIssueData}&quot; var=&quot;element&quot;&gt;  \r\n    &lt;tr&gt;                          \r\n    &lt;%\r\n     String data = element.getCpReferralDtlsId();\r\n    %&gt;\r\n    &lt;td&gt;&lt;%=++data %&gt;&lt;/td&gt;   \r\n    &lt;/tr&gt;\r\n    &lt;/c:forEach&gt;\r\n\r\nNote that the ${} syntax is used in JSP expressions to evaluate and insert the result of a Java expression into the generated HTML. However, in this case, since we are already inside a scriptlet (&lt;% %&gt;) block, we don&#39;t need to use ${} to reference the element object. We can simply use the variable name directly.\r\n\r\n","title":"how to use jsp ForEach loop element in Scriptlets","body":"<pre><code>&lt;c:forEach items=&quot;${indentIssueData}&quot; var=&quot;element&quot;&gt;  \n&lt;tr&gt;                          \n&lt;%\n String data = element.getCpReferralDtlsId();\n%&gt;\n&lt;td&gt;&lt;%=++data %&gt;&lt;/td&gt;   \n&lt;/tr&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n<p>Note that the ${} syntax is used in JSP expressions to evaluate and insert the result of a Java expression into the generated HTML. However, in this case, since we are already inside a scriptlet (&lt;% %&gt;) block, we don't need to use ${} to reference the element object. We can simply use the variable name directly.</p>\n"}],"owner":{"account_id":28019375,"reputation":1,"user_id":21400477,"display_name":"Venkatesh Bvr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680707327,"answer_count":1,"score":-1,"last_activity_date":1680684859,"creation_date":1680682308,"question_id":75937096,"body_markdown":"\r\nI want to assign ${element.cpReferralDtlsId} data variable.\r\n\r\n```\r\n\r\n&lt;c:forEach items=&quot;${indentIssueData}&quot; var=&quot;element&quot;&gt;  \r\n&lt;tr&gt;\t\t\t\t\t\t  \r\n&lt;%\r\n String data =  ${element.cpReferralDtlsId};\r\n%&gt;\r\n&lt;td&gt;&lt;%=++data %&gt;&lt;/td&gt;\t\r\n&lt;/tr&gt;\r\n&lt;/c:forEach&gt;`\r\n```","title":"how to use jsp ForEach loop element in Scriptlets","body":"<p>I want to assign ${element.cpReferralDtlsId} data variable.</p>\n<pre><code>\n&lt;c:forEach items=&quot;${indentIssueData}&quot; var=&quot;element&quot;&gt;  \n&lt;tr&gt;                          \n&lt;%\n String data =  ${element.cpReferralDtlsId};\n%&gt;\n&lt;td&gt;&lt;%=++data %&gt;&lt;/td&gt;   \n&lt;/tr&gt;\n&lt;/c:forEach&gt;`\n</code></pre>\n"},{"tags":["java","postgresql","azure-aks","thingsboard"],"owner":{"account_id":21779014,"reputation":41,"user_id":16080960,"display_name":"mianuar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680684851,"creation_date":1680684851,"question_id":75937459,"body_markdown":"I run the script from Azure VM, trying to install with azure/microservices file but keep failing.\r\n\r\n```\r\n  SPRING_JPA_DATABASE_PLATFORM: org.hibernate.dialect.PostgreSQLDialect\r\n  SPRING_DRIVER_CLASS_NAME: org.postgresql.Driver\r\n  SPRING_DATASOURCE_URL: jdbc:postgresql://my-app-postgresql.postgres.database.azure.com:5432/myapp?user=myappusername&amp;password=mypass?sslmode=require\r\n  SPRING_DATASOURCE_USERNAME: myappusername\r\n  SPRING_DATASOURCE_PASSWORD:  mypass\r\n```\r\n\r\nThen I run ./k8s-install-tb.sh, this error pop up:\r\n\r\n&gt;Installing DataBase schema for entities...\r\n\r\n&gt;Installing SQL DataBase schema part: schema-entities.sql\r\n\r\n&gt;Unexpected error during ThingsBoard installation!\r\n\r\n&gt;org.postgresql.util.PSQLException: The connection attempt failed.org.thingsboard.server.service.install.SqlAbstractDatabaseSchemaService.executeQueryFromFil\r\n\r\n&gt;Caused by: java.net.SocketTimeoutException: connect timed out\r\n\r\nHope someone can help me out with this. Thank you in advance!!","title":"Error when installing Thingsboard on Azure AKS - PSQLException: The connection attempt fail","body":"<p>I run the script from Azure VM, trying to install with azure/microservices file but keep failing.</p>\n<pre><code>  SPRING_JPA_DATABASE_PLATFORM: org.hibernate.dialect.PostgreSQLDialect\n  SPRING_DRIVER_CLASS_NAME: org.postgresql.Driver\n  SPRING_DATASOURCE_URL: jdbc:postgresql://my-app-postgresql.postgres.database.azure.com:5432/myapp?user=myappusername&amp;password=mypass?sslmode=require\n  SPRING_DATASOURCE_USERNAME: myappusername\n  SPRING_DATASOURCE_PASSWORD:  mypass\n</code></pre>\n<p>Then I run ./k8s-install-tb.sh, this error pop up:</p>\n<blockquote>\n<p>Installing DataBase schema for entities...</p>\n</blockquote>\n<blockquote>\n<p>Installing SQL DataBase schema part: schema-entities.sql</p>\n</blockquote>\n<blockquote>\n<p>Unexpected error during ThingsBoard installation!</p>\n</blockquote>\n<blockquote>\n<p>org.postgresql.util.PSQLException: The connection attempt failed.org.thingsboard.server.service.install.SqlAbstractDatabaseSchemaService.executeQueryFromFil</p>\n</blockquote>\n<blockquote>\n<p>Caused by: java.net.SocketTimeoutException: connect timed out</p>\n</blockquote>\n<p>Hope someone can help me out with this. Thank you in advance!!</p>\n"},{"tags":["java","android","android-livedata","android-viewmodel","android-fusedlocation"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1591551852,"post_id":62249270,"comment_id":110093296,"body_markdown":"&quot;And a class which extends ViewModel to allow the main activity to reach the LocationLiveData&quot; -- I would not expect that to compile, as [there is no `getApplicationContext()` method in `ViewModel`](https://developer.android.com/reference/androidx/lifecycle/ViewModel). Is `LocationViewModel` perhaps declared as an inner class of something else, like an activity, that does have a `getApplicationContext()` method?","body":"&quot;And a class which extends ViewModel to allow the main activity to reach the LocationLiveData&quot; -- I would not expect that to compile, as <a href=\"https://developer.android.com/reference/androidx/lifecycle/ViewModel\" rel=\"nofollow noreferrer\">there is no <code>getApplicationContext()</code> method in <code>ViewModel</code></a>. Is <code>LocationViewModel</code> perhaps declared as an inner class of something else, like an activity, that does have a <code>getApplicationContext()</code> method?"},{"owner":{"account_id":9652333,"reputation":423,"user_id":7163062,"display_name":"Jaber"},"score":0,"creation_date":1591552791,"post_id":62249270,"comment_id":110093672,"body_markdown":"Thanks @CommonsWare. I&#39;ve edited the post with a more simple test code that doesn&#39;t involve that getApplicationContext() line and I get the same error.\n\nRe: the getApplicationContext, my original approach was to pass a context into the LocationViewModel instead, but I took this out to get a zero-argument constructor. I don&#39;t have any classes other than those stated, and this is my only activity so far!","body":"Thanks @CommonsWare. I&#39;ve edited the post with a more simple test code that doesn&#39;t involve that getApplicationContext() line and I get the same error.  Re: the getApplicationContext, my original approach was to pass a context into the LocationViewModel instead, but I took this out to get a zero-argument constructor. I don&#39;t have any classes other than those stated, and this is my only activity so far!"},{"owner":{"account_id":9652333,"reputation":423,"user_id":7163062,"display_name":"Jaber"},"score":0,"creation_date":1591964141,"post_id":62249270,"comment_id":110260909,"body_markdown":"@CommonsWare - wondering if you could offer one more piece of advice. I&#39;m looking to alter the frequency of location updates based on how close the user is to a given point (dynamically set in the UI). In onMapReady I am observing the LocationLiveData. I thought I could either have a locationRequest LiveData object which is updated by my oberver and is itself observed within LocationLiveData; or my observer could invoke a locationViewModel method which invokes a LocationLiveData method to restart updates with some new parameters. Any idea which (if either) is more robust?","body":"@CommonsWare - wondering if you could offer one more piece of advice. I&#39;m looking to alter the frequency of location updates based on how close the user is to a given point (dynamically set in the UI). In onMapReady I am observing the LocationLiveData. I thought I could either have a locationRequest LiveData object which is updated by my oberver and is itself observed within LocationLiveData; or my observer could invoke a locationViewModel method which invokes a LocationLiveData method to restart updates with some new parameters. Any idea which (if either) is more robust?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1591964676,"post_id":62249270,"comment_id":110261185,"body_markdown":"Sorry, but I guess I do not understand your situation. I recommend that you ask a separate Stack Overflow question, where you can provide more details.","body":"Sorry, but I guess I do not understand your situation. I recommend that you ask a separate Stack Overflow question, where you can provide more details."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1591552976,"creation_date":1591552976,"answer_id":62249578,"question_id":62249270,"body_markdown":"Either:\r\n\r\n- Move `MyViewModel` to a separate Java file, or\r\n\r\n- Make `MyViewModel` be a `static class`\r\n\r\nRight now, you have defined `MyViewModel` as an inner class of `MainActivity`. That will not work, as only an instance of `MainActivity` can create an instance of `MyViewModel`. In particular, `ViewModelProvider` cannot create an instance of `MyViewModel`.\r\n","title":"ViewModel has no zero argument constructor error - even when it has a zero argument constructor","body":"<p>Either:</p>\n\n<ul>\n<li><p>Move <code>MyViewModel</code> to a separate Java file, or</p></li>\n<li><p>Make <code>MyViewModel</code> be a <code>static class</code></p></li>\n</ul>\n\n<p>Right now, you have defined <code>MyViewModel</code> as an inner class of <code>MainActivity</code>. That will not work, as only an instance of <code>MainActivity</code> can create an instance of <code>MyViewModel</code>. In particular, <code>ViewModelProvider</code> cannot create an instance of <code>MyViewModel</code>.</p>\n"},{"tags":[],"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591553002,"creation_date":1591553002,"answer_id":62249588,"question_id":62249270,"body_markdown":"When you write\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        public class MyViewModel extends ViewModel {\r\n           public int scoreTeamA = 0;\r\n        }\r\n    }\r\n\r\nThis makes `MyViewModel` an inner class of `MainActivity`, meaning it has an implicit reference to the outer class (as per the [Java documentation][1]) and cannot be constructed separately from `MainActivity`. This effectively means that in bytecode, its constructor always takes an instance of `MainActivity` - even if you don&#39;t write out that constructor.\r\n\r\nYou can make your inner class a static nested class by adding the `static` keyword. This removes the implicit reference to the outer class and makes it similar to any other top level class:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        public static class MyViewModel extends ViewModel {\r\n           public int scoreTeamA = 0;\r\n        }\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html","title":"ViewModel has no zero argument constructor error - even when it has a zero argument constructor","body":"<p>When you write</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public class MyViewModel extends ViewModel {\n       public int scoreTeamA = 0;\n    }\n}\n</code></pre>\n\n<p>This makes <code>MyViewModel</code> an inner class of <code>MainActivity</code>, meaning it has an implicit reference to the outer class (as per the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">Java documentation</a>) and cannot be constructed separately from <code>MainActivity</code>. This effectively means that in bytecode, its constructor always takes an instance of <code>MainActivity</code> - even if you don't write out that constructor.</p>\n\n<p>You can make your inner class a static nested class by adding the <code>static</code> keyword. This removes the implicit reference to the outer class and makes it similar to any other top level class:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public static class MyViewModel extends ViewModel {\n       public int scoreTeamA = 0;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1598736805,"creation_date":1598736805,"answer_id":63651986,"question_id":62249270,"body_markdown":"&gt;**while using hilt I am facing the same issue when I forgot to add** \r\n\r\n    @AndroidEntryPoint\r\n\r\nabove the **activity declaration**","title":"ViewModel has no zero argument constructor error - even when it has a zero argument constructor","body":"<blockquote>\n<p><strong>while using hilt I am facing the same issue when I forgot to add</strong></p>\n</blockquote>\n<pre><code>@AndroidEntryPoint\n</code></pre>\n<p>above the <strong>activity declaration</strong></p>\n"},{"tags":[],"owner":{"account_id":9809771,"reputation":6806,"user_id":10699119,"display_name":"Sana Ebadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605979014,"creation_date":1605979014,"answer_id":64945879,"question_id":62249270,"body_markdown":"in my case did forget to add \r\n`HasSupportFragmentInjector` to my `Activity` !!!\r\n\r\n    public class MainActivity extends AppComaptActivity\r\n            implements HasSupportFragmentInjector{\r\n\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        AndroidInjection.inject(this);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        @Inject\r\n        DispatchingAndroidInjector&lt;Fragment&gt; fragmentDispatchingAndroidInjector;\r\n    \r\n    \r\n        @Override\r\n        public AndroidInjector&lt;Fragment&gt; supportFragmentInjector() {\r\n            return fragmentDispatchingAndroidInjector;\r\n        }\r\n    }\r\n\r\n","title":"ViewModel has no zero argument constructor error - even when it has a zero argument constructor","body":"<p>in my case did forget to add\n<code>HasSupportFragmentInjector</code> to my <code>Activity</code> !!!</p>\n<pre><code>public class MainActivity extends AppComaptActivity\n        implements HasSupportFragmentInjector{\n\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    AndroidInjection.inject(this);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    @Inject\n    DispatchingAndroidInjector&lt;Fragment&gt; fragmentDispatchingAndroidInjector;\n\n\n    @Override\n    public AndroidInjector&lt;Fragment&gt; supportFragmentInjector() {\n        return fragmentDispatchingAndroidInjector;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14542256,"reputation":348,"user_id":10503567,"display_name":"Maruf Alam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680684729,"creation_date":1680684729,"answer_id":75937442,"question_id":62249270,"body_markdown":"if you using hilt. You seem to have forgotten to mention the annotation &quot;@AndroidEntryPoint&quot; in the class. This mistake happened in my case too.\r\n\r\n  \r\n\r\n     @AndroidEntryPoint\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JUHtO.png","title":"ViewModel has no zero argument constructor error - even when it has a zero argument constructor","body":"<p>if you using hilt. You seem to have forgotten to mention the annotation &quot;@AndroidEntryPoint&quot; in the class. This mistake happened in my case too.</p>\n<pre><code> @AndroidEntryPoint\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JUHtO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JUHtO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9652333,"reputation":423,"user_id":7163062,"display_name":"Jaber"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7762,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62249578,"answer_count":5,"score":4,"last_activity_date":1680684729,"creation_date":1591551601,"question_id":62249270,"body_markdown":"I&#39;m new to Android and Java and am trying to make a location-based app.\r\n\r\n**EDIT**\r\n\r\nI&#39;ve made a much, much simpler test code and get the same error. Here&#39;s the java:\r\n\r\n    package com.example.viewmodeltest;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.lifecycle.ViewModel;\r\n    import androidx.lifecycle.ViewModelProvider;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        public class MyViewModel extends ViewModel {\r\n            public int scoreTeamA = 0;\r\n        }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            MyViewModel locationViewModel = new ViewModelProvider(this).get(MyViewModel.class);\r\n        }\r\n    }\r\nI get the same error. Here are the dependencies in my app-level build.gradle:\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n    \r\n        //dependencies for ViewModel, LiveData, etc.\r\n        def lifecycle_version = &quot;2.2.0&quot;\r\n        def arch_version = &quot;2.1.0&quot;\r\n    \r\n        // ViewModel\r\n        implementation &quot;androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version&quot;\r\n        // LiveData\r\n        implementation &quot;androidx.lifecycle:lifecycle-livedata:$lifecycle_version&quot;\r\n        // Lifecycles only (without ViewModel or LiveData)\r\n        implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\r\n        // Saved state module for ViewModel\r\n        implementation &quot;androidx.lifecycle:lifecycle-viewmodel-savedstate:$lifecycle_version&quot;\r\n        // Annotation processor\r\n        annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\r\n    }\r\n\r\n\r\n\r\n**ORIGINAL POST**\r\n\r\nI&#39;m attempting to use ViewModel and LiveData to update the user location as I understand that&#39;s the best way to be lifecycle-aware. I have a default maps activity...\r\n\r\n    public class MapsActivity extends AppCompatActivity implements OnMapReadyCallback {...}\r\n\r\nA class which extends LiveData to store the user location...\r\n\r\n    public class LocationLiveData extends LiveData&lt;Location&gt; {\r\n            private final Context context;\r\n            private FusedLocationProviderClient fusedLocationClient;\r\n            private LocationRequest locationRequest;\r\n    \r\n            public LocationLiveData(Context context) {\r\n                this.context = context;\r\n                this.fusedLocationClient = LocationServices.getFusedLocationProviderClient(context);\r\n            }\r\n    \r\n            private void setLocationData(Location location) {\r\n                Location value = new Location(&quot;SetInternal&quot;);\r\n                value.setLatitude(location.getLatitude());\r\n                value.setLongitude(location.getLongitude());\r\n                setValue(value);\r\n            }\r\n    \r\n            protected void createLocationRequest() {\r\n                LocationRequest locationRequest = LocationRequest.create();\r\n                locationRequest.setInterval(1000);\r\n                locationRequest.setFastestInterval(500);\r\n                locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n            }\r\n    \r\n            private LocationCallback locationCallback = new LocationCallback() {\r\n                @Override\r\n                public void onLocationResult(LocationResult locationResult) {\r\n                    if (locationResult == null) {\r\n                        return;\r\n                    }\r\n                    for (Location location : locationResult.getLocations()) {\r\n                        setLocationData(location);\r\n                    }\r\n                }\r\n            };\r\n    \r\n            private void startLocationUpdates() {\r\n                createLocationRequest();\r\n                fusedLocationClient.requestLocationUpdates(locationRequest,\r\n                        locationCallback,\r\n                        Looper.getMainLooper());\r\n            }\r\n    \r\n            @Override\r\n            protected void onInactive() {\r\n                super.onInactive();\r\n                fusedLocationClient.removeLocationUpdates(locationCallback);\r\n            }\r\n    \r\n            @Override\r\n            protected void onActive() {\r\n                super.onActive();\r\n                fusedLocationClient.getLastLocation()\r\n                        .addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Location location) {\r\n                                if (location != null)\r\n                                    setValue(location);\r\n                            }\r\n                        });\r\n                startLocationUpdates();\r\n            }\r\n        }\r\n\r\nAnd a class which extends ViewModel to allow the main activity to reach the LocationLiveData.\r\n   \r\n\r\n     public class LocationViewModel extends ViewModel {\r\n            private LocationLiveData locationLiveData;\r\n    \r\n            public LocationViewModel () {\r\n                locationLiveData = new LocationLiveData(getApplicationContext());\r\n            }\r\n    \r\n            public LocationLiveData getLocationLiveData() {\r\n                return locationLiveData;\r\n            }\r\n        }\r\n\r\nThen when I attempt to make an instance of locationViewModel in the onMapReady method:\r\n\r\n    LocationViewModel locationViewModel = new ViewModelProvider(this).get(LocationViewModel.class);\r\n\r\nI get an error on that line:\r\n&gt; Cannot create an instance of class com.example.MapsActivity$LocationViewModel\r\n\r\n&gt; Caused by: java.lang.InstantiationException: java.lang.Class&lt;com.fluff.streetpuzzle.MapsActivity$LocationViewModel&gt; has no zero argument constructor\r\n\r\nI get this error even if I take out the constructor entirely in locationViewModel, and also if I attempt to extend AndroidViewModel instead.\r\n\r\nAny ideas? I&#39;ve seen other similar queries but the answer has always been to take arguments out of the constructor - which I&#39;ve already done!\r\n\r\nThanks a lot for any  help\r\n","title":"ViewModel has no zero argument constructor error - even when it has a zero argument constructor","body":"<p>I'm new to Android and Java and am trying to make a location-based app.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I've made a much, much simpler test code and get the same error. Here's the java:</p>\n\n<pre><code>package com.example.viewmodeltest;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.lifecycle.ViewModel;\nimport androidx.lifecycle.ViewModelProvider;\n\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    public class MyViewModel extends ViewModel {\n        public int scoreTeamA = 0;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        MyViewModel locationViewModel = new ViewModelProvider(this).get(MyViewModel.class);\n    }\n}\n</code></pre>\n\n<p>I get the same error. Here are the dependencies in my app-level build.gradle:</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n\n    //dependencies for ViewModel, LiveData, etc.\n    def lifecycle_version = \"2.2.0\"\n    def arch_version = \"2.1.0\"\n\n    // ViewModel\n    implementation \"androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version\"\n    // LiveData\n    implementation \"androidx.lifecycle:lifecycle-livedata:$lifecycle_version\"\n    // Lifecycles only (without ViewModel or LiveData)\n    implementation \"androidx.lifecycle:lifecycle-runtime:$lifecycle_version\"\n    // Saved state module for ViewModel\n    implementation \"androidx.lifecycle:lifecycle-viewmodel-savedstate:$lifecycle_version\"\n    // Annotation processor\n    annotationProcessor \"androidx.lifecycle:lifecycle-compiler:$lifecycle_version\"\n}\n</code></pre>\n\n<p><strong>ORIGINAL POST</strong></p>\n\n<p>I'm attempting to use ViewModel and LiveData to update the user location as I understand that's the best way to be lifecycle-aware. I have a default maps activity...</p>\n\n<pre><code>public class MapsActivity extends AppCompatActivity implements OnMapReadyCallback {...}\n</code></pre>\n\n<p>A class which extends LiveData to store the user location...</p>\n\n<pre><code>public class LocationLiveData extends LiveData&lt;Location&gt; {\n        private final Context context;\n        private FusedLocationProviderClient fusedLocationClient;\n        private LocationRequest locationRequest;\n\n        public LocationLiveData(Context context) {\n            this.context = context;\n            this.fusedLocationClient = LocationServices.getFusedLocationProviderClient(context);\n        }\n\n        private void setLocationData(Location location) {\n            Location value = new Location(\"SetInternal\");\n            value.setLatitude(location.getLatitude());\n            value.setLongitude(location.getLongitude());\n            setValue(value);\n        }\n\n        protected void createLocationRequest() {\n            LocationRequest locationRequest = LocationRequest.create();\n            locationRequest.setInterval(1000);\n            locationRequest.setFastestInterval(500);\n            locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        }\n\n        private LocationCallback locationCallback = new LocationCallback() {\n            @Override\n            public void onLocationResult(LocationResult locationResult) {\n                if (locationResult == null) {\n                    return;\n                }\n                for (Location location : locationResult.getLocations()) {\n                    setLocationData(location);\n                }\n            }\n        };\n\n        private void startLocationUpdates() {\n            createLocationRequest();\n            fusedLocationClient.requestLocationUpdates(locationRequest,\n                    locationCallback,\n                    Looper.getMainLooper());\n        }\n\n        @Override\n        protected void onInactive() {\n            super.onInactive();\n            fusedLocationClient.removeLocationUpdates(locationCallback);\n        }\n\n        @Override\n        protected void onActive() {\n            super.onActive();\n            fusedLocationClient.getLastLocation()\n                    .addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n                        @Override\n                        public void onSuccess(Location location) {\n                            if (location != null)\n                                setValue(location);\n                        }\n                    });\n            startLocationUpdates();\n        }\n    }\n</code></pre>\n\n<p>And a class which extends ViewModel to allow the main activity to reach the LocationLiveData.</p>\n\n<pre><code> public class LocationViewModel extends ViewModel {\n        private LocationLiveData locationLiveData;\n\n        public LocationViewModel () {\n            locationLiveData = new LocationLiveData(getApplicationContext());\n        }\n\n        public LocationLiveData getLocationLiveData() {\n            return locationLiveData;\n        }\n    }\n</code></pre>\n\n<p>Then when I attempt to make an instance of locationViewModel in the onMapReady method:</p>\n\n<pre><code>LocationViewModel locationViewModel = new ViewModelProvider(this).get(LocationViewModel.class);\n</code></pre>\n\n<p>I get an error on that line:</p>\n\n<blockquote>\n  <p>Cannot create an instance of class com.example.MapsActivity$LocationViewModel</p>\n  \n  <p>Caused by: java.lang.InstantiationException: java.lang.Class has no zero argument constructor</p>\n</blockquote>\n\n<p>I get this error even if I take out the constructor entirely in locationViewModel, and also if I attempt to extend AndroidViewModel instead.</p>\n\n<p>Any ideas? I've seen other similar queries but the answer has always been to take arguments out of the constructor - which I've already done!</p>\n\n<p>Thanks a lot for any  help</p>\n"},{"tags":["java","spring-boot","tomcat","tls1.2","tls1.3"],"comments":[{"owner":{"account_id":2021629,"reputation":57943,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"score":0,"creation_date":1612095131,"post_id":64182147,"comment_id":116653944,"body_markdown":"Can you specify the version of Java and Spring Boot you use?","body":"Can you specify the version of Java and Spring Boot you use?"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1612104018,"post_id":64182147,"comment_id":116656386,"body_markdown":"Java 11 and SpringBoot 2.4.2","body":"Java 11 and SpringBoot 2.4.2"}],"answers":[{"tags":[],"owner":{"account_id":2021629,"reputation":57943,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1680684459,"creation_date":1612099863,"answer_id":65979678,"question_id":64182147,"body_markdown":"Post-Handshake Client Authentication is a TLSv1.3 extension defined in [RFC8446](https://www.rfc-editor.org/rfc/rfc8446#section-4.6.2). But OpenJDK doesn&#39;t implement it and will not implement it. The [corresponding issue](https://bugs.openjdk.java.net/browse/JDK-8206923) is marked as &quot;Won&#39;t fix&quot;.\r\n\r\nThe warning is emitted by Tomcat in [SSLUtilBase.java](https://github.com/apache/tomcat/blob/681f2afccc2f22ff5fc3d80ad7e77dbeecd083b2/java/org/apache/tomcat/util/net/SSLUtilBase.java)\r\n\r\n    if (enabledProtocols.contains(Constants.SSL_PROTO_TLSv1_3) &amp;&amp;\r\n            sslHostConfig.getCertificateVerification() == CertificateVerification.OPTIONAL &amp;&amp;\r\n            !isTls13RenegAuthAvailable() &amp;&amp; warnTls13) {\r\n        log.warn(sm.getString(&quot;sslUtilBase.tls13.auth&quot;));\r\n    }\r\n\r\nThe `isTls13RenegAuthAvailable()` method is defined in [JSSEUtil.java](https://github.com/apache/tomcat/blob/681f2afccc2f22ff5fc3d80ad7e77dbeecd083b2/java/org/apache/tomcat/util/net/jsse/JSSEUtil.java)\r\n\r\n\r\n    @Override\r\n    protected boolean isTls13RenegAuthAvailable() {\r\n        // TLS 1.3 does not support authentication after the initial handshake\r\n        return false;\r\n    }\r\n\r\nTo remove this warning you can either set [CertificateVerification](https://tomcat.apache.org/tomcat-9.0-doc/config/http.html#SSL_Support_-_SSLHostConfig) in Tomcat&#39;s SSLHostConfig to `NONE` or to `REQUIRED`. You can do it through the Spring Boot property [server.ssl.client-auth](https://docs.spring.io/spring-boot/docs/2.4.2/reference/htmlsingle/#server.ssl.client-auth) which take the values `NONE`, `WANT` and `NEED`.\r\n\r\nIf you don&#39;t use client certificates, set it to `NONE`. If you use client certificates, check that each client can authenticate itself correctly with the `NEED` value. If you leave it as it, the only risk is that client that use post-handshake authentication will not be able to authenticate.\r\n\r\nIf you really need post-handshake client authentication, you will have to use another TLS implementation than [JSSE](https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-93DEEE16-0B70-40E5-BBE7-55C3FD432345). You can either use a reverse proxy such as [Apache](https://httpd.apache.org/), [NGINX](https://www.nginx.com/), [Traefik](https://traefik.io/traefik/) or use [Tomcats native](http://tomcat.apache.org/native-doc/) bindings for [APR](https://tomcat.apache.org/tomcat-9.0-doc/apr.html)/[OpenSSL](https://www.openssl.org/). There is an interesting article you can read about this: [Tomcat Native / OpenSSL in Spring Boot 2.0](https://medium.com/@crueda/tomcat-native-openssl-in-spring-boot-2-0-a341ad07471d)\r\n\r\n== Update 5th April 2023 ==\r\n\r\nAfter a [message](https://mail.openjdk.org/pipermail/security-dev/2022-August/031568.html) on the OpenJDK security-dev mailing list, the [OpenJDK issue](https://bugs.openjdk.java.net/browse/JDK-8206923) has been reopened and the &quot;Won&#39;t fix&quot; label has been removed. But the TLS 1.3 Post-handshake authentication is still not implemented in the OpenJDK.","title":"SpringBoot MVC - Warning: org.apache.tomcat.util.net.SSLUtilBase : The JSSE TLS 1.3 implementation does not support authentication","body":"<p>Post-Handshake Client Authentication is a TLSv1.3 extension defined in <a href=\"https://www.rfc-editor.org/rfc/rfc8446#section-4.6.2\" rel=\"nofollow noreferrer\">RFC8446</a>. But OpenJDK doesn't implement it and will not implement it. The <a href=\"https://bugs.openjdk.java.net/browse/JDK-8206923\" rel=\"nofollow noreferrer\">corresponding issue</a> is marked as &quot;Won't fix&quot;.</p>\n<p>The warning is emitted by Tomcat in <a href=\"https://github.com/apache/tomcat/blob/681f2afccc2f22ff5fc3d80ad7e77dbeecd083b2/java/org/apache/tomcat/util/net/SSLUtilBase.java\" rel=\"nofollow noreferrer\">SSLUtilBase.java</a></p>\n<pre><code>if (enabledProtocols.contains(Constants.SSL_PROTO_TLSv1_3) &amp;&amp;\n        sslHostConfig.getCertificateVerification() == CertificateVerification.OPTIONAL &amp;&amp;\n        !isTls13RenegAuthAvailable() &amp;&amp; warnTls13) {\n    log.warn(sm.getString(&quot;sslUtilBase.tls13.auth&quot;));\n}\n</code></pre>\n<p>The <code>isTls13RenegAuthAvailable()</code> method is defined in <a href=\"https://github.com/apache/tomcat/blob/681f2afccc2f22ff5fc3d80ad7e77dbeecd083b2/java/org/apache/tomcat/util/net/jsse/JSSEUtil.java\" rel=\"nofollow noreferrer\">JSSEUtil.java</a></p>\n<pre><code>@Override\nprotected boolean isTls13RenegAuthAvailable() {\n    // TLS 1.3 does not support authentication after the initial handshake\n    return false;\n}\n</code></pre>\n<p>To remove this warning you can either set <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/http.html#SSL_Support_-_SSLHostConfig\" rel=\"nofollow noreferrer\">CertificateVerification</a> in Tomcat's SSLHostConfig to <code>NONE</code> or to <code>REQUIRED</code>. You can do it through the Spring Boot property <a href=\"https://docs.spring.io/spring-boot/docs/2.4.2/reference/htmlsingle/#server.ssl.client-auth\" rel=\"nofollow noreferrer\">server.ssl.client-auth</a> which take the values <code>NONE</code>, <code>WANT</code> and <code>NEED</code>.</p>\n<p>If you don't use client certificates, set it to <code>NONE</code>. If you use client certificates, check that each client can authenticate itself correctly with the <code>NEED</code> value. If you leave it as it, the only risk is that client that use post-handshake authentication will not be able to authenticate.</p>\n<p>If you really need post-handshake client authentication, you will have to use another TLS implementation than <a href=\"https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-93DEEE16-0B70-40E5-BBE7-55C3FD432345\" rel=\"nofollow noreferrer\">JSSE</a>. You can either use a reverse proxy such as <a href=\"https://httpd.apache.org/\" rel=\"nofollow noreferrer\">Apache</a>, <a href=\"https://www.nginx.com/\" rel=\"nofollow noreferrer\">NGINX</a>, <a href=\"https://traefik.io/traefik/\" rel=\"nofollow noreferrer\">Traefik</a> or use <a href=\"http://tomcat.apache.org/native-doc/\" rel=\"nofollow noreferrer\">Tomcats native</a> bindings for <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/apr.html\" rel=\"nofollow noreferrer\">APR</a>/<a href=\"https://www.openssl.org/\" rel=\"nofollow noreferrer\">OpenSSL</a>. There is an interesting article you can read about this: <a href=\"https://medium.com/@crueda/tomcat-native-openssl-in-spring-boot-2-0-a341ad07471d\" rel=\"nofollow noreferrer\">Tomcat Native / OpenSSL in Spring Boot 2.0</a></p>\n<p>== Update 5th April 2023 ==</p>\n<p>After a <a href=\"https://mail.openjdk.org/pipermail/security-dev/2022-August/031568.html\" rel=\"nofollow noreferrer\">message</a> on the OpenJDK security-dev mailing list, the <a href=\"https://bugs.openjdk.java.net/browse/JDK-8206923\" rel=\"nofollow noreferrer\">OpenJDK issue</a> has been reopened and the &quot;Won't fix&quot; label has been removed. But the TLS 1.3 Post-handshake authentication is still not implemented in the OpenJDK.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4027,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":65979678,"answer_count":1,"score":9,"last_activity_date":1680684459,"creation_date":1601713014,"question_id":64182147,"body_markdown":"A question about Spring Boot MVC with Tomcat and TLSv1.3\r\n\r\nI used to have a Spring Boot MVC, Tomcat based web app, with very simple business logic, over ssl HTTPS.\r\n\r\nPer security team review, I had to bump the TLS version from TLSv1.2 to TLSv1.3.\r\n\r\nThought is was very simple and could easily complete this task, I went to change my property:\r\n\r\n```\r\nserver.ssl.enabled-protocols=TLSv1.2\r\n```\r\n\r\nto\r\n\r\n```\r\nserver.ssl.enabled-protocols=TLSv1.3\r\n```\r\n\r\nHowever, since then, I am getting this on each application start up:\r\n\r\norg.apache.tomcat.util.net.SSLUtilBase   : The JSSE TLS 1.3 implementation does not support authentication after the initial handshake and is therefore incompatible with optional client authentication\r\n\r\nWhat does it mean please?\r\n\r\nIs it &quot;dangerous&quot;?\r\n\r\nHow to fix it please?\r\n\r\nThank you","title":"SpringBoot MVC - Warning: org.apache.tomcat.util.net.SSLUtilBase : The JSSE TLS 1.3 implementation does not support authentication","body":"<p>A question about Spring Boot MVC with Tomcat and TLSv1.3</p>\n<p>I used to have a Spring Boot MVC, Tomcat based web app, with very simple business logic, over ssl HTTPS.</p>\n<p>Per security team review, I had to bump the TLS version from TLSv1.2 to TLSv1.3.</p>\n<p>Thought is was very simple and could easily complete this task, I went to change my property:</p>\n<pre><code>server.ssl.enabled-protocols=TLSv1.2\n</code></pre>\n<p>to</p>\n<pre><code>server.ssl.enabled-protocols=TLSv1.3\n</code></pre>\n<p>However, since then, I am getting this on each application start up:</p>\n<p>org.apache.tomcat.util.net.SSLUtilBase   : The JSSE TLS 1.3 implementation does not support authentication after the initial handshake and is therefore incompatible with optional client authentication</p>\n<p>What does it mean please?</p>\n<p>Is it &quot;dangerous&quot;?</p>\n<p>How to fix it please?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","microservices","spring-cloud","hashicorp-vault"],"comments":[{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680607597,"post_id":75928497,"comment_id":133923409,"body_markdown":"@seenukarthi  do you have an idea about the question besides formatting bullets?","body":"@seenukarthi  do you have an idea about the question besides formatting bullets?"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680684428,"creation_date":1680610049,"answer_id":75929222,"question_id":75928497,"body_markdown":"Vault tokens should to be injected as environment variables. If you have a platform like k8 or OpenShift the Vault token itself can be stored as a secret.\r\n\r\nSpringboot loads the secrets from [Vault at startup][1].\r\n\r\nHere is a snippet of our DeploymentConfig template file:\r\n\r\n    kind: DeploymentConfig\r\n    spec:\r\n      strategy:\r\n        spec:\r\n          containers:   \r\n            - name: {{ .Release.Name }}\r\n              env:\r\n                - name: VAULT_API\r\n                  valueFrom:\r\n                    secretKeyRef:\r\n                      name: global-secrets\r\n                      key: vaultapi\r\n                - name: VAULT_TOKEN\r\n                  valueFrom:\r\n                    secretKeyRef:\r\n                      name: global-secrets\r\n                      key: vaulttoken\r\n\r\n\r\n  [1]: https://spring.io/blog/2016/06/24/managing-secrets-with-vault\r\n","title":"Using Spring Cloud Vault to secure passwords, etc. in Spring Boot apps?","body":"<p>Vault tokens should to be injected as environment variables. If you have a platform like k8 or OpenShift the Vault token itself can be stored as a secret.</p>\n<p>Springboot loads the secrets from <a href=\"https://spring.io/blog/2016/06/24/managing-secrets-with-vault\" rel=\"nofollow noreferrer\">Vault at startup</a>.</p>\n<p>Here is a snippet of our DeploymentConfig template file:</p>\n<pre><code>kind: DeploymentConfig\nspec:\n  strategy:\n    spec:\n      containers:   \n        - name: {{ .Release.Name }}\n          env:\n            - name: VAULT_API\n              valueFrom:\n                secretKeyRef:\n                  name: global-secrets\n                  key: vaultapi\n            - name: VAULT_TOKEN\n              valueFrom:\n                secretKeyRef:\n                  name: global-secrets\n                  key: vaulttoken\n</code></pre>\n"}],"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75929222,"answer_count":1,"score":1,"last_activity_date":1680684428,"creation_date":1680605696,"question_id":75928497,"body_markdown":"I have made several searches to secure all the sensitive data in the `application.properties` and finally concluded to use Spring Cloud Vault by HashiCorp. \r\n\r\nAs far as I see, I can keep all the secrets, etc., as key-value pairs in this mechanism. However, I could not be sure and understand the following points. Could you help me pls? \r\n\r\n1) While keeping all the sensitive data in Vault, I think we need to provide a token in the Spring Boot app to access this data. So, for a production environment, suppose that I send the app to the customer, then should they provide this token via environment variables? Or are there any other alternatives that are secure also? \r\n\r\n2) How the app uses the secrets kept in Vault? Does it retrieves them whenever it needs or retrieve at the startup and then keep them in memory, etc., in the server or Docker container (based on the config)? \r\n\r\n","title":"Using Spring Cloud Vault to secure passwords, etc. in Spring Boot apps?","body":"<p>I have made several searches to secure all the sensitive data in the <code>application.properties</code> and finally concluded to use Spring Cloud Vault by HashiCorp.</p>\n<p>As far as I see, I can keep all the secrets, etc., as key-value pairs in this mechanism. However, I could not be sure and understand the following points. Could you help me pls?</p>\n<ol>\n<li><p>While keeping all the sensitive data in Vault, I think we need to provide a token in the Spring Boot app to access this data. So, for a production environment, suppose that I send the app to the customer, then should they provide this token via environment variables? Or are there any other alternatives that are secure also?</p>\n</li>\n<li><p>How the app uses the secrets kept in Vault? Does it retrieves them whenever it needs or retrieve at the startup and then keep them in memory, etc., in the server or Docker container (based on the config)?</p>\n</li>\n</ol>\n"},{"tags":["java","aspectj","aspect","aspectj-maven-plugin"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680440840,"post_id":75909484,"comment_id":133895521,"body_markdown":"Like I already said in my [comment on your AspectJ Maven issue](https://github.com/mojohaus/aspectj-maven-plugin/issues/169#event-8896690040): Add an MCVE, i.e. a full, minimal sample project (ideally, some code directly in the question + a GitHub project to clone). Please also specify whether aspect library users use load-time weaving (LTW) or compile-time weaving (CTW) for incorporating the library aspects into their respective projects. My answer depends on this information. Do yourself a favour by giving your own question some more love and care. Then you will be better answers faster.","body":"Like I already said in my <a href=\"https://github.com/mojohaus/aspectj-maven-plugin/issues/169#event-8896690040\" rel=\"nofollow noreferrer\">comment on your AspectJ Maven issue</a>: Add an MCVE, i.e. a full, minimal sample project (ideally, some code directly in the question + a GitHub project to clone). Please also specify whether aspect library users use load-time weaving (LTW) or compile-time weaving (CTW) for incorporating the library aspects into their respective projects. My answer depends on this information. Do yourself a favour by giving your own question some more love and care. Then you will be better answers faster."},{"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"score":0,"creation_date":1680609013,"post_id":75909484,"comment_id":133923778,"body_markdown":"I am sorry, sir. [log-demo](https://github.com/chuanghou/log-demo),  There is a demo project in this respository. I have written question detail in the method comment. P.S. I use CTW","body":"I am sorry, sir. <a href=\"https://github.com/chuanghou/log-demo\" rel=\"nofollow noreferrer\">log-demo</a>,  There is a demo project in this respository. I have written question detail in the method comment. P.S. I use CTW"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680677636,"post_id":75909484,"comment_id":133936669,"body_markdown":"Well, thanks, but you did not share the link to the aspect project: https://github.com/chuanghou/milky. I had to search for it on GitHub, based on the dependency in your library consumer project.","body":"Well, thanks, but you did not share the link to the aspect project: <a href=\"https://github.com/chuanghou/milky\" rel=\"nofollow noreferrer\">github.com/chuanghou/milky</a>. I had to search for it on GitHub, based on the dependency in your library consumer project."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680684400,"creation_date":1680678898,"answer_id":75936607,"question_id":75909484,"body_markdown":"In Java, annotation values must be compile-time constants, so you cannot change them. This is not an AspectJ issue, but a Java limitation.\r\n\r\nSo what you do in AspectJ is to define your logging aspect as **abstract** and the package pointcut also as abstract:\r\n\r\n```java\r\n@Aspect\r\npublic abstract class AutoLogAspect {\r\n    // (...)\r\n\r\n    @Pointcut(&quot;&quot;)\r\n    public abstract void packagePC();\r\n\r\n    // (...)\r\n}\r\n```\r\n\r\nThen, in your demo project, you **override the abstract aspect, defining a concrete pointcut:**\r\n\r\n```java\r\npackage com.example.log.demo;\r\n\r\nimport com.stellariver.milky.aspectj.tool.log.AutoLogAspect;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Pointcut;\r\n\r\n@Aspect\r\npublic class MyLogAspect extends AutoLogAspect {\r\n    @Pointcut(&quot;within(com.example.log..*) &amp;&amp; execution(* *(..))&quot;)\r\n    public void packagePC() {}\r\n}\r\n```\r\n\r\nNow, you can remove the `@Log` annotation from your sample class:\r\n\r\n```java\r\npackage com.example.log.demo;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Fool fool = new Fool();\r\n        fool.testLogOfPackage(&quot;Hello World&quot;);\r\n    }\r\n\r\n    public static class Fool {\r\n        public void testLogOfPackage(String str) {\r\n            System.out.println(str);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen compiling with Maven, you willl see:\r\n\r\n```none\r\n[INFO] --- aspectj-maven-plugin:1.14.0:compile (default) @ log-demo ---\r\n[INFO] Showing AJC message detail for messages of types: [error, warning, fail]\r\n[INFO] Join point &#39;method-execution(void com.example.log.demo.Main$Fool.testLogOfPackage(java.lang.String))&#39; in Type &#39;com.example.log.demo.Main$Fool&#39; (Main.java:10) advised by around advice from &#39;com.example.log.demo.MyLogAspect&#39; (aspectj-tool-0.1.8-SNAPSHOT.jar!AutoLogAspect.class(from AutoLogAspect.java))\r\n[INFO] Join point &#39;method-execution(void com.example.log.demo.Main.main(java.lang.String[]))&#39; in Type &#39;com.example.log.demo.Main&#39; (Main.java:4) advised by around advice from &#39;com.example.log.demo.MyLogAspect&#39; (aspectj-tool-0.1.8-SNAPSHOT.jar!AutoLogAspect.class(from AutoLogAspect.java))\r\n```\r\n\r\nWhen running the sample program, the output will be:\r\n\r\n```none\r\nHello World\r\n\r\n=====msg: execution(Main.Fool.testLogOfPackage(..))\r\n==header: 09:12:00.329 [main-INFO ] com.stellariver.milky.aspectj.tool.log.AutoLogAspect:386 : [success:true] [cost:0] [result:]\r\n===milky: [class:com.stellariver.milky.aspectj.tool.log.AutoLogAspect] [method:log] [line:66]\r\n====args: [arg0:Hello World] [arg1:] [arg2:] [arg3:] [arg4:] [arg5:]\r\n\r\n=====msg: execution(Main.main(..))\r\n==header: 09:12:00.334 [main-INFO ] com.stellariver.milky.aspectj.tool.log.AutoLogAspect:386 : [success:true] [cost:7] [result:]\r\n===milky: [class:com.stellariver.milky.aspectj.tool.log.AutoLogAspect] [method:log] [line:66]\r\n====args: [arg0:[Ljava.lang.String;@4ff4357f] [arg1:] [arg2:] [arg3:] [arg4:] [arg5:]\r\n```\r\n\r\nSee? There is no need to copy &amp; paste the whole aspect. You simply make the package pointcut abstract and force consuming projects to override it. Clean and simple.\r\n\r\nP.S.: If the consuming project would use load-time weaving instead of compile-time weaving, you could define the overriding aspect in _aop.xml_ directly, no need to compile a source aspect or use AspectJ Maven Plugin at all in the consuming project. But CTW or LTW, both works nicely, the rest is up to you.","title":"How to change pointCut expression inside an aspect which has been compiled when I use this aspect in other project?","body":"<p>In Java, annotation values must be compile-time constants, so you cannot change them. This is not an AspectJ issue, but a Java limitation.</p>\n<p>So what you do in AspectJ is to define your logging aspect as <strong>abstract</strong> and the package pointcut also as abstract:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\npublic abstract class AutoLogAspect {\n    // (...)\n\n    @Pointcut(&quot;&quot;)\n    public abstract void packagePC();\n\n    // (...)\n}\n</code></pre>\n<p>Then, in your demo project, you <strong>override the abstract aspect, defining a concrete pointcut:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.log.demo;\n\nimport com.stellariver.milky.aspectj.tool.log.AutoLogAspect;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\n\n@Aspect\npublic class MyLogAspect extends AutoLogAspect {\n    @Pointcut(&quot;within(com.example.log..*) &amp;&amp; execution(* *(..))&quot;)\n    public void packagePC() {}\n}\n</code></pre>\n<p>Now, you can remove the <code>@Log</code> annotation from your sample class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.log.demo;\n\npublic class Main {\n    public static void main(String[] args) {\n        Fool fool = new Fool();\n        fool.testLogOfPackage(&quot;Hello World&quot;);\n    }\n\n    public static class Fool {\n        public void testLogOfPackage(String str) {\n            System.out.println(str);\n        }\n    }\n}\n</code></pre>\n<p>When compiling with Maven, you willl see:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] --- aspectj-maven-plugin:1.14.0:compile (default) @ log-demo ---\n[INFO] Showing AJC message detail for messages of types: [error, warning, fail]\n[INFO] Join point 'method-execution(void com.example.log.demo.Main$Fool.testLogOfPackage(java.lang.String))' in Type 'com.example.log.demo.Main$Fool' (Main.java:10) advised by around advice from 'com.example.log.demo.MyLogAspect' (aspectj-tool-0.1.8-SNAPSHOT.jar!AutoLogAspect.class(from AutoLogAspect.java))\n[INFO] Join point 'method-execution(void com.example.log.demo.Main.main(java.lang.String[]))' in Type 'com.example.log.demo.Main' (Main.java:4) advised by around advice from 'com.example.log.demo.MyLogAspect' (aspectj-tool-0.1.8-SNAPSHOT.jar!AutoLogAspect.class(from AutoLogAspect.java))\n</code></pre>\n<p>When running the sample program, the output will be:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Hello World\n\n=====msg: execution(Main.Fool.testLogOfPackage(..))\n==header: 09:12:00.329 [main-INFO ] com.stellariver.milky.aspectj.tool.log.AutoLogAspect:386 : [success:true] [cost:0] [result:]\n===milky: [class:com.stellariver.milky.aspectj.tool.log.AutoLogAspect] [method:log] [line:66]\n====args: [arg0:Hello World] [arg1:] [arg2:] [arg3:] [arg4:] [arg5:]\n\n=====msg: execution(Main.main(..))\n==header: 09:12:00.334 [main-INFO ] com.stellariver.milky.aspectj.tool.log.AutoLogAspect:386 : [success:true] [cost:7] [result:]\n===milky: [class:com.stellariver.milky.aspectj.tool.log.AutoLogAspect] [method:log] [line:66]\n====args: [arg0:[Ljava.lang.String;@4ff4357f] [arg1:] [arg2:] [arg3:] [arg4:] [arg5:]\n</code></pre>\n<p>See? There is no need to copy &amp; paste the whole aspect. You simply make the package pointcut abstract and force consuming projects to override it. Clean and simple.</p>\n<p>P.S.: If the consuming project would use load-time weaving instead of compile-time weaving, you could define the overriding aspect in <em>aop.xml</em> directly, no need to compile a source aspect or use AspectJ Maven Plugin at all in the consuming project. But CTW or LTW, both works nicely, the rest is up to you.</p>\n"}],"owner":{"account_id":19096402,"reputation":7,"user_id":13945564,"display_name":"Chuang Hou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75936607,"answer_count":1,"score":0,"last_activity_date":1680684400,"creation_date":1680393660,"question_id":75909484,"body_markdown":"I have a logging aspect like this, it will print args, result or any other exceptions. I use aspectj-maven-plugin to compile this aspect. Then, the compiled result will be packaged to a jar. I will offer this jar to our maven repository, so they can depend this jar in their project. If they need log any request info, they just need write an annonation @Log at the method defination. I aslo want to offer &quot;a package assign abilility&quot;: My colleage could set a package parameter when compile their project, then all the method invoke inside that package will be cut\r\n\r\nIn summary, like the customPointCut in the following code, I want change the pointcut defination when I need this compiled asject in another project.\r\n\r\n```\r\n@Aspect\r\npublic class LogAspect {\r\n\r\n    static private final Logger log = Logger.getLogger(LogAspect.class);\r\n\r\n    @Pointcut(&quot;execution(@com.stellariver.milky.aspectj.tool.log.Log * *(..))&quot;)\r\n    private void annoPointCut() {}\r\n\r\n    @Pointcut(&quot;execution(* com.project.package..*.*(..))&quot;)\r\n    private void customPointCut() {}\r\n\r\n    @Around(&quot;annoPointCut() || customPointCut()&quot;)\r\n    public Object valid(ProceedingJoinPoint pjp) throws Throwable {\r\n        Object result = null;\r\n        try {\r\n            result = pjp.proceed();\r\n        } catch (Throwable throwable) {\r\n            throw throwable;\r\n        } finally {\r\n            log(xx,xx);\r\n        }\r\n        return result;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI could not find any parameterized aspect solution in aspect project or aspect-maven-plugin project","title":"How to change pointCut expression inside an aspect which has been compiled when I use this aspect in other project?","body":"<p>I have a logging aspect like this, it will print args, result or any other exceptions. I use aspectj-maven-plugin to compile this aspect. Then, the compiled result will be packaged to a jar. I will offer this jar to our maven repository, so they can depend this jar in their project. If they need log any request info, they just need write an annonation @Log at the method defination. I aslo want to offer &quot;a package assign abilility&quot;: My colleage could set a package parameter when compile their project, then all the method invoke inside that package will be cut</p>\n<p>In summary, like the customPointCut in the following code, I want change the pointcut defination when I need this compiled asject in another project.</p>\n<pre><code>@Aspect\npublic class LogAspect {\n\n    static private final Logger log = Logger.getLogger(LogAspect.class);\n\n    @Pointcut(&quot;execution(@com.stellariver.milky.aspectj.tool.log.Log * *(..))&quot;)\n    private void annoPointCut() {}\n\n    @Pointcut(&quot;execution(* com.project.package..*.*(..))&quot;)\n    private void customPointCut() {}\n\n    @Around(&quot;annoPointCut() || customPointCut()&quot;)\n    public Object valid(ProceedingJoinPoint pjp) throws Throwable {\n        Object result = null;\n        try {\n            result = pjp.proceed();\n        } catch (Throwable throwable) {\n            throw throwable;\n        } finally {\n            log(xx,xx);\n        }\n        return result;\n    }\n\n}\n</code></pre>\n<p>I could not find any parameterized aspect solution in aspect project or aspect-maven-plugin project</p>\n"},{"tags":["java","spring","oauth-2.0","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":28220307,"reputation":1,"user_id":21571149,"display_name":"qwert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680684136,"creation_date":1680684136,"answer_id":75937365,"question_id":75936984,"body_markdown":"I found how to fix it, now it works.\r\n    \r\n\r\n        @Component\r\n        public class CustomAuthorizationServerTokenServices {\r\n        \r\n            @Bean\r\n            public AuthorizationServerTokenServices tokenServices() {\r\n                final DefaultTokenServices defaultTokenServices = new DefaultTokenServices();\r\n                defaultTokenServices.setAccessTokenValiditySeconds(-1);\r\n                defaultTokenServices.setTokenStore(tokenStore());\r\n                return defaultTokenServices;\r\n            }\r\n        \r\n            private TokenStore tokenStore() {\r\n                return new InMemoryTokenStore();\r\n            }\r\n        }","title":"Could not autowire. No beans of &#39;AuthorizationServerTokenServices&#39; type found. Spring OAuth2","body":"<p>I found how to fix it, now it works.</p>\n<pre><code>    @Component\n    public class CustomAuthorizationServerTokenServices {\n    \n        @Bean\n        public AuthorizationServerTokenServices tokenServices() {\n            final DefaultTokenServices defaultTokenServices = new DefaultTokenServices();\n            defaultTokenServices.setAccessTokenValiditySeconds(-1);\n            defaultTokenServices.setTokenStore(tokenStore());\n            return defaultTokenServices;\n        }\n    \n        private TokenStore tokenStore() {\n            return new InMemoryTokenStore();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":28220307,"reputation":1,"user_id":21571149,"display_name":"qwert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680684136,"creation_date":1680681635,"question_id":75936984,"body_markdown":"I want to test OAuth2 authorization and like in this answer:\r\n\r\n[https://stackoverflow.com/questions/38326028/java-spring-mvc-integration-test-create-oauth2-principal](https://stackoverflow.com)\r\n\r\nI&#39;m trying to inject AuthorizationServerTokenServices into OAuthHelper:\r\n\r\n```\r\n@Component\r\npublic class OAuthHelper {\r\n\r\n\r\n    @Autowired\r\n    private AuthorizationServerTokenServices tokenServices;\r\n\r\n    public RequestPostProcessor addBearerToken(final String username, String... authorities)\r\n    {\r\n        return mockRequest -&gt; {\r\n            OAuth2Request oauth2Request = new OAuth2Request( null, &quot;client-id&quot;,\r\n                    null, true, null, null, null, null, null );\r\n            Authentication userauth = new TestingAuthenticationToken( username, null, authorities);\r\n            OAuth2Authentication oauth2auth = new OAuth2Authentication(oauth2Request, userauth);\r\n            OAuth2AccessToken token = tokenServices.createAccessToken(oauth2auth);\r\n            mockRequest.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token.getValue());\r\n            return mockRequest;\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nBut ItelliJ doesn&#39;t find required bean:\r\n\r\n&#39;Could not autowire. No beans of &#39;AuthorizationServerTokenServices&#39; type found.&#39;\r\n\r\nHow can I fix it?\r\n\r\nMy pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.8&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!\r\n    &lt;/parent&gt;\r\n    &lt;artifactId&gt;OwnerApp&lt;/artifactId&gt;\r\n    &lt;version&gt;${parent.version}&lt;/version&gt;\r\n    &lt;name&gt;OwnerApp&lt;/name&gt;\r\n    &lt;description&gt;OwnerApp&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.json-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;litvinov.al&lt;/groupId&gt;\r\n            &lt;artifactId&gt;Domain&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n\r\nI tried to change spring version, tried to instantiate DefaultTokenServices and TokenStore but it doesn&#39;t work.","title":"Could not autowire. No beans of &#39;AuthorizationServerTokenServices&#39; type found. Spring OAuth2","body":"<p>I want to test OAuth2 authorization and like in this answer:</p>\n<p><a href=\"https://stackoverflow.com\">https://stackoverflow.com/questions/38326028/java-spring-mvc-integration-test-create-oauth2-principal</a></p>\n<p>I'm trying to inject AuthorizationServerTokenServices into OAuthHelper:</p>\n<pre><code>@Component\npublic class OAuthHelper {\n\n\n    @Autowired\n    private AuthorizationServerTokenServices tokenServices;\n\n    public RequestPostProcessor addBearerToken(final String username, String... authorities)\n    {\n        return mockRequest -&gt; {\n            OAuth2Request oauth2Request = new OAuth2Request( null, &quot;client-id&quot;,\n                    null, true, null, null, null, null, null );\n            Authentication userauth = new TestingAuthenticationToken( username, null, authorities);\n            OAuth2Authentication oauth2auth = new OAuth2Authentication(oauth2Request, userauth);\n            OAuth2AccessToken token = tokenServices.createAccessToken(oauth2auth);\n            mockRequest.addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token.getValue());\n            return mockRequest;\n        };\n    }\n}\n</code></pre>\n<p>But ItelliJ doesn't find required bean:</p>\n<p>'Could not autowire. No beans of 'AuthorizationServerTokenServices' type found.'</p>\n<p>How can I fix it?</p>\n<p>My pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!\n    &lt;/parent&gt;\n    &lt;artifactId&gt;OwnerApp&lt;/artifactId&gt;\n    &lt;version&gt;${parent.version}&lt;/version&gt;\n    &lt;name&gt;OwnerApp&lt;/name&gt;\n    &lt;description&gt;OwnerApp&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.json&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.json-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n            &lt;version&gt;1.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;litvinov.al&lt;/groupId&gt;\n            &lt;artifactId&gt;Domain&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I tried to change spring version, tried to instantiate DefaultTokenServices and TokenStore but it doesn't work.</p>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"score":0,"creation_date":1583191945,"post_id":60498063,"comment_id":107025917,"body_markdown":"https://code.visualstudio.com/docs/java/java-tutorial Install a JDK.  TLDR; Install Visual Studio.  After installing the JDK, you would need to configure your environment for Java development. The most common way is to set JAVA_HOME environment variable to the install location of the JDK while you can also use java.home setting in Visual Studio Code settings (workspace or user settings) to configure it just for the editor.","body":"<a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/java-tutorial</a> Install a JDK.  TLDR; Install Visual Studio.  After installing the JDK, you would need to configure your environment for Java development. The most common way is to set JAVA_HOME environment variable to the install location of the JDK while you can also use java.home setting in Visual Studio Code settings (workspace or user settings) to configure it just for the editor."},{"owner":{"account_id":17889580,"reputation":221,"user_id":12996382,"display_name":"Cody"},"score":0,"creation_date":1583192504,"post_id":60498063,"comment_id":107026036,"body_markdown":"How do I get the install location of JDK?  I already installed it but I did not write down the folder location and when I search my mac for JDK there are no results.","body":"How do I get the install location of JDK?  I already installed it but I did not write down the folder location and when I search my mac for JDK there are no results."},{"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"score":0,"creation_date":1583249584,"post_id":60498063,"comment_id":107048426,"body_markdown":"Reinstall and pay attention this time.  It should be something  like /Library/Java/JavaVirtualMachines/jdk-10. jdk/Contents/Home","body":"Reinstall and pay attention this time.  It should be something  like /Library/Java/JavaVirtualMachines/jdk-10. jdk/Contents/Home"},{"owner":{"account_id":14914321,"reputation":15846,"user_id":10768653,"display_name":"Leo Zhu"},"score":0,"creation_date":1583300733,"post_id":60498063,"comment_id":107065062,"body_markdown":"Try to find in `C:\\Program Files (x86)\\Java`,you should reinstall the jdk","body":"Try to find in <code>C:\\Program Files (x86)\\Java</code>,you should reinstall the jdk"},{"owner":{"account_id":183525,"reputation":1766,"user_id":418950,"display_name":"ScottWelker"},"score":0,"creation_date":1629759199,"post_id":60498063,"comment_id":121767074,"body_markdown":"If, unlike the original poster, you are seeing a similar error in the context of [Spring Boot][1] with the [Spring Initializer][2], be sure to select your matching `Java` (version) before generating your Spring Boot project.\n\n  [1]: https://spring.io/projects/spring-boot\n  [2]: https://start.spring.io/","body":"If, unlike the original poster, you are seeing a similar error in the context of [Spring Boot][1] with the [Spring Initializer][2], be sure to select your matching <code>Java</code> (version) before generating your Spring Boot project.    [1]: <a href=\"https://spring.io/projects/spring-boot\" rel=\"nofollow noreferrer\">spring.io/projects/spring-boot</a>   [2]: <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>"},{"owner":{"account_id":18660502,"reputation":51,"user_id":13601827,"display_name":"William River"},"score":0,"creation_date":1676125935,"post_id":60498063,"comment_id":133076968,"body_markdown":"@Cody open Terminal and run `/usr/libexec/java_home -V` you will get the location of JDK on your Mac","body":"@Cody open Terminal and run <code>&#47;usr&#47;libexec&#47;java_home -V</code> you will get the location of JDK on your Mac"}],"answers":[{"tags":[],"owner":{"account_id":14957212,"reputation":799,"user_id":10798114,"display_name":"Onyr"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1609573162,"creation_date":1586008941,"answer_id":61029248,"question_id":60498063,"body_markdown":"To solve this problem, you have to update manually the pom.xml file. Everything you have to do is explained in the [doc, section &quot;Java 9 or later&quot;][1]. Here are the steps to follow. \r\n\r\nThe default pom.xml file provide theses informations:\r\n\r\n**Old version - pom.xml**\r\n```xml\r\n&lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.8.0&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nAs you can see, Maven uses an outdated plugin to be used with maven.compiler.source for Java 1.7. Here you want to update the plugin an specify the use of Java 13. Modify pom.xml like so:\r\n\r\n**New solution version - pom.xml**\r\n\r\n```xml\r\n&lt;properties&gt;\r\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;maven.compiler.release&gt;13&lt;/maven.compiler.release&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n&lt;/build&gt;\r\n```\r\nNow don&#39;t forget to update VSCode configutation by right-clicking on the pom.xml file then click on `Update Project Configuration` or do `Alt+Shift+U` and wait for the change to apply.\r\n\r\nNormally, the PROBLEMS section should be `No problems have been detected in the workspace so far.`\r\n\r\n  [1]: https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html#java-9-or-later","title":"VSCode Maven error `The compiler compliance specified is 1.7 but a JRE 13 is used`","body":"<p>To solve this problem, you have to update manually the pom.xml file. Everything you have to do is explained in the <a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html#java-9-or-later\" rel=\"noreferrer\">doc, section &quot;Java 9 or later&quot;</a>. Here are the steps to follow.</p>\n<p>The default pom.xml file provide theses informations:</p>\n<p><strong>Old version - pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n              &lt;version&gt;3.8.0&lt;/version&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>As you can see, Maven uses an outdated plugin to be used with maven.compiler.source for Java 1.7. Here you want to update the plugin an specify the use of Java 13. Modify pom.xml like so:</p>\n<p><strong>New solution version - pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;maven.compiler.release&gt;13&lt;/maven.compiler.release&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Now don't forget to update VSCode configutation by right-clicking on the pom.xml file then click on <code>Update Project Configuration</code> or do <code>Alt+Shift+U</code> and wait for the change to apply.</p>\n<p>Normally, the PROBLEMS section should be <code>No problems have been detected in the workspace so far.</code></p>\n"},{"tags":[],"owner":{"account_id":13964421,"reputation":173,"user_id":10084642,"display_name":"Daniel Alvarez"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1680683843,"creation_date":1597215586,"answer_id":63371441,"question_id":60498063,"body_markdown":"my problem was similar but with JDK11 and JDK14\r\n\r\nIn my case, I changed the version in the pom.xml, like @Onyr said, but the problem kept popping up. To fix it I followed these steps:\r\n\r\n 1. In VSCode, press `Crtl + Shift + P`. This will show a popup when you can write\r\n 2. Then write `&gt;Configure Java runtime` (Make sure not to delete the character `&gt;`)\r\n 3. Click the first result to open the configure window\r\n 4. In my case, I saw this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/uRs1I.png\r\n\r\nAs you can see, the current path point to JDK14, but I want to use JDK11\r\n\r\n 5. So, click in `User Setting` (Blue link in &quot;Type&quot; column)\r\n 6. Then, click in `Edit in settings.json`\r\n 7. Now, you have to search a property called `&quot;java.home&quot;` and change the path to the JDK you want to use\r\n\r\nFor example, in my case, this line changed from:\r\n\r\n    &quot;java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-14.0.2&quot;,\r\n\r\nTo:\r\n\r\n    &quot;java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-11.0.8&quot;,\r\n\r\n 8. Finally, VSCode will show a popup asking you to restart the config. Do it and the problem go","title":"VSCode Maven error `The compiler compliance specified is 1.7 but a JRE 13 is used`","body":"<p>my problem was similar but with JDK11 and JDK14</p>\n<p>In my case, I changed the version in the pom.xml, like @Onyr said, but the problem kept popping up. To fix it I followed these steps:</p>\n<ol>\n<li>In VSCode, press <code>Crtl + Shift + P</code>. This will show a popup when you can write</li>\n<li>Then write <code>&gt;Configure Java runtime</code> (Make sure not to delete the character <code>&gt;</code>)</li>\n<li>Click the first result to open the configure window</li>\n<li>In my case, I saw this:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/uRs1I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uRs1I.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, the current path point to JDK14, but I want to use JDK11</p>\n<ol start=\"5\">\n<li>So, click in <code>User Setting</code> (Blue link in &quot;Type&quot; column)</li>\n<li>Then, click in <code>Edit in settings.json</code></li>\n<li>Now, you have to search a property called <code>&quot;java.home&quot;</code> and change the path to the JDK you want to use</li>\n</ol>\n<p>For example, in my case, this line changed from:</p>\n<pre><code>&quot;java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-14.0.2&quot;,\n</code></pre>\n<p>To:</p>\n<pre><code>&quot;java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk-11.0.8&quot;,\n</code></pre>\n<ol start=\"8\">\n<li>Finally, VSCode will show a popup asking you to restart the config. Do it and the problem go</li>\n</ol>\n"}],"owner":{"account_id":17889580,"reputation":221,"user_id":12996382,"display_name":"Cody"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28435,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":2,"score":22,"last_activity_date":1680683843,"creation_date":1583191706,"question_id":60498063,"body_markdown":"I created a new maven project in VSCode.  When I try to run a file, I get this error\r\n\r\n`The compiler compliance specified is 1.7 but a JRE 13 is used`\r\n\r\nbut there are no instructions on how to fix the error.  What do I do?\r\n\r\nThese are the VSC plugins I have installed:\r\n\r\n - Debugger for Java 0.25.0\r\n - Java Dependency Viewer 0.9.0\r\n - Java Extension Pack 0.8.1\r\n - Java Run 1.1.4\r\n - Java Test Runner 0.22.0","title":"VSCode Maven error `The compiler compliance specified is 1.7 but a JRE 13 is used`","body":"<p>I created a new maven project in VSCode.  When I try to run a file, I get this error</p>\n\n<p><code>The compiler compliance specified is 1.7 but a JRE 13 is used</code></p>\n\n<p>but there are no instructions on how to fix the error.  What do I do?</p>\n\n<p>These are the VSC plugins I have installed:</p>\n\n<ul>\n<li>Debugger for Java 0.25.0</li>\n<li>Java Dependency Viewer 0.9.0</li>\n<li>Java Extension Pack 0.8.1</li>\n<li>Java Run 1.1.4</li>\n<li>Java Test Runner 0.22.0</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","spock"],"comments":[{"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"score":0,"creation_date":1680698496,"post_id":75937325,"comment_id":133941735,"body_markdown":"It looks &quot;port&quot; config value &quot;0&quot; is not correctly initialized.  So it is NOT about network, It is about your configuration. You could check this thread https://stackoverflow.com/questions/50239369/spring-boot-test-failing-to-autowire-port-with-localserverport-annotation\nHope it helps.","body":"It looks &quot;port&quot; config value &quot;0&quot; is not correctly initialized.  So it is NOT about network, It is about your configuration. You could check this thread <a href=\"https://stackoverflow.com/questions/50239369/spring-boot-test-failing-to-autowire-port-with-localserverport-annotation\" title=\"spring boot test failing to autowire port with localserverport annotation\">stackoverflow.com/questions/50239369/&hellip;</a> Hope it helps."},{"owner":{"account_id":20013984,"reputation":65,"user_id":14670426,"display_name":"Jakub Koacz"},"score":0,"creation_date":1680703180,"post_id":75937325,"comment_id":133943148,"body_markdown":"Thanks for sending me thread, I tried to implemented all suggested changes, but unfortunately none of them worked for me.","body":"Thanks for sending me thread, I tried to implemented all suggested changes, but unfortunately none of them worked for me."},{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1680718920,"post_id":75937325,"comment_id":133947505,"body_markdown":"What version of Spring and Spock are you using?","body":"What version of Spring and Spock are you using?"},{"owner":{"account_id":20013984,"reputation":65,"user_id":14670426,"display_name":"Jakub Koacz"},"score":0,"creation_date":1680739218,"post_id":75937325,"comment_id":133951046,"body_markdown":"Spring is 3.0.5 and spock  2.3-groovy-4.0","body":"Spring is 3.0.5 and spock  2.3-groovy-4.0"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680770203,"post_id":75937325,"comment_id":133955386,"body_markdown":"For Spring Boot 3, you want to upgrade to [Spock 2.4-M1](https://spockframework.org/spock/docs/2.4-M1/all_in_one.html#_2_4_m1_2022_11_30).","body":"For Spring Boot 3, you want to upgrade to <a href=\"https://spockframework.org/spock/docs/2.4-M1/all_in_one.html#_2_4_m1_2022_11_30\" rel=\"nofollow noreferrer\">Spock 2.4-M1</a>."},{"owner":{"account_id":20013984,"reputation":65,"user_id":14670426,"display_name":"Jakub Koacz"},"score":0,"creation_date":1680822149,"post_id":75937325,"comment_id":133966722,"body_markdown":"I changed spock version, and it still doesnt work","body":"I changed spock version, and it still doesnt work"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1680867095,"post_id":75937325,"comment_id":133972315,"body_markdown":"Fine, then please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you. I am sure, you will get good answers quickly then. A link to a GitHub repo would be nice.","body":"Fine, then please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you. I am sure, you will get good answers quickly then. A link to a GitHub repo would be nice."}],"owner":{"account_id":20013984,"reputation":65,"user_id":14670426,"display_name":"Jakub Koacz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680683832,"creation_date":1680683832,"question_id":75937325,"body_markdown":"I am having problem with my integration test.\r\nI am using springboot(kotlin) + spock.\r\nWhen I run my application, it loads up normally but when I run integration test, it fails with these exceptions:\r\n\r\n```\r\nI/O error on GET request for &quot;http://localhost:0/events/1&quot;: Cannot assign requested address: connect\r\norg.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:0/events/1&quot;: Cannot assign requested address: connect\r\n\r\nand:\r\nCaused by: java.net.BindException: Cannot assign requested address: connect\r\n```\r\n\r\nThe code of integration test and application.properties\r\n\r\n```\r\n@RunWith(SpringRunner)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@ActiveProfiles(&quot;test&quot;)\r\nclass EventControllerSpec extends Specification {\r\n\r\n    TestRestTemplate restTemplate = new TestRestTemplate()\r\n\r\n    @LocalServerPort\r\n    private int port\r\n\r\n\r\n    def &#39;should return 200&#39;(){\r\n        when:\r\n        ResponseEntity&lt;Event&gt; response = restTemplate.getForEntity(&quot;http://localhost:$port/events/1&quot;, Event.class)\r\n\r\n        then:\r\n            response.getStatusCode().is2xxSuccessful()\r\n    }\r\n}\r\n```\r\n\r\n```\r\nserver.port=9000\r\nspring.profiles.active=test\r\nspring.application.name=eventplanner\r\n\r\n#and the rest of the properties connected with db\r\n```\r\n\r\nI know that these exceptions are falling due to lack of ports, but why? I have tried almost evceryting\r\n\r\nI tried tip to set `port` to preseted value, used property `webEnviroment.DefinedPort` , tried code without any params in `@springBootTest`. I even restored my firewall settings to default.\r\nWhat should I do? I know that this is problem with config, but I am out of ideas what may help.\r\nMaybe I should change something in gradle file etc?\r\n\r\n#EDIT\r\nI also checked my tcp/ip config and everything is fine, it&#39;s just problem with test","title":"Springboot test cannot assing requested address (java.net.BindException)","body":"<p>I am having problem with my integration test.\nI am using springboot(kotlin) + spock.\nWhen I run my application, it loads up normally but when I run integration test, it fails with these exceptions:</p>\n<pre><code>I/O error on GET request for &quot;http://localhost:0/events/1&quot;: Cannot assign requested address: connect\norg.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:0/events/1&quot;: Cannot assign requested address: connect\n\nand:\nCaused by: java.net.BindException: Cannot assign requested address: connect\n</code></pre>\n<p>The code of integration test and application.properties</p>\n<pre><code>@RunWith(SpringRunner)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ActiveProfiles(&quot;test&quot;)\nclass EventControllerSpec extends Specification {\n\n    TestRestTemplate restTemplate = new TestRestTemplate()\n\n    @LocalServerPort\n    private int port\n\n\n    def 'should return 200'(){\n        when:\n        ResponseEntity&lt;Event&gt; response = restTemplate.getForEntity(&quot;http://localhost:$port/events/1&quot;, Event.class)\n\n        then:\n            response.getStatusCode().is2xxSuccessful()\n    }\n}\n</code></pre>\n<pre><code>server.port=9000\nspring.profiles.active=test\nspring.application.name=eventplanner\n\n#and the rest of the properties connected with db\n</code></pre>\n<p>I know that these exceptions are falling due to lack of ports, but why? I have tried almost evceryting</p>\n<p>I tried tip to set <code>port</code> to preseted value, used property <code>webEnviroment.DefinedPort</code> , tried code without any params in <code>@springBootTest</code>. I even restored my firewall settings to default.\nWhat should I do? I know that this is problem with config, but I am out of ideas what may help.\nMaybe I should change something in gradle file etc?</p>\n<p>#EDIT\nI also checked my tcp/ip config and everything is fine, it's just problem with test</p>\n"},{"tags":["java","api","swagger","swagger-ui"],"owner":{"account_id":3174015,"reputation":380,"user_id":2682329,"accept_rate":0,"display_name":"snekk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680683397,"creation_date":1680683397,"question_id":75937254,"body_markdown":"I&#39;m trying to add an input filed to my swagger UI using Java.\r\nThis is the code:\r\n\r\n    @PostMapping(&quot;/status&quot;)\r\n    @Operation(\r\n\r\n            description = &quot;Returns the status of the User&quot;,\r\n            responses = {\r\n                    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Successfully returned&quot;)\r\n            }\r\n    )\r\n    public UserStatusResponse getUserStatus(\r\n            @RequestBody @Valid UserIdRequest request,\r\n            @Parameter(required = false, description = &quot;aaaaa&quot;) String test\r\n            ) {\r\n        return new UserStatusResponse(userService.isUserActive(request.getUserId()));\r\n    }\r\n\r\nAnd this is the result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIs there a away that i can get this, with these fields ?\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1o3rd.png\r\n  [2]: https://i.stack.imgur.com/m9GjS.png\r\n\r\nThe swagger version is 2.1.2.","title":"How to add input fileds to swagger UI using Java","body":"<p>I'm trying to add an input filed to my swagger UI using Java.\nThis is the code:</p>\n<pre><code>@PostMapping(&quot;/status&quot;)\n@Operation(\n\n        description = &quot;Returns the status of the User&quot;,\n        responses = {\n                @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Successfully returned&quot;)\n        }\n)\npublic UserStatusResponse getUserStatus(\n        @RequestBody @Valid UserIdRequest request,\n        @Parameter(required = false, description = &quot;aaaaa&quot;) String test\n        ) {\n    return new UserStatusResponse(userService.isUserActive(request.getUserId()));\n}\n</code></pre>\n<p>And this is the result:</p>\n<p><a href=\"https://i.stack.imgur.com/1o3rd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1o3rd.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a away that i can get this, with these fields ?\n<a href=\"https://i.stack.imgur.com/m9GjS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m9GjS.png\" alt=\"enter image description here\" /></a></p>\n<p>The swagger version is 2.1.2.</p>\n"},{"tags":["java","spring-boot","google-bigquery"],"comments":[{"owner":{"account_id":23157436,"reputation":2052,"user_id":17258510,"display_name":"kiran mathew"},"score":0,"creation_date":1680697849,"post_id":75937085,"comment_id":133941516,"body_markdown":"Can you try with the latest version of bigquery(&lt;version&gt;2.24.4&lt;/version&gt;)?","body":"Can you try with the latest version of bigquery(&lt;version&gt;2.24.4&lt;/version&gt;)?"}],"owner":{"account_id":406309,"reputation":137,"user_id":775744,"accept_rate":62,"display_name":"P P"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680683273,"creation_date":1680682245,"question_id":75937085,"body_markdown":"I see two options to fetch dataset in bigquery. \r\n```\r\nBigQuery bigQuery = BigQueryOptions.newBuilder().setCredentials(credentials).build().getService();\r\n```\r\nor \r\n\r\n```\r\nBigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\r\n```\r\n\r\nBut while trying both above approach, I am encountering no candidate/method found issue (either for &quot;getService&quot; or &quot;setCredentials&quot; method. \r\n\r\nError: Cannot resolve method &#39;getService&#39; in &#39;BigQueryOptions&#39;. No candidates found for method call BigQueryOptions.getDefaultInstance().getService(). Similarly for setCredentials.\r\n\r\nSuggestion on how to fix this considering either library is wrong / moved / outdated implementation. Still google implementation refers to same but same POM dependencies do not work. https://cloud.google.com/bigquery/docs/authentication/service-account-file\r\n\r\nMy POM\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.app&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;demo&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\r\n        &lt;ch.qos.logback.version&gt;1.2.3&lt;/ch.qos.logback.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;24.0.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-bigquery&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.bettercloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vault-java-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.2.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n            &lt;version&gt;1.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${ch.qos.logback.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;${ch.qos.logback.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\r\n            &lt;version&gt;${ch.qos.logback.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n","title":"What is latest approach on creation of BigQuery using ServiceAccount?","body":"<p>I see two options to fetch dataset in bigquery.</p>\n<pre><code>BigQuery bigQuery = BigQueryOptions.newBuilder().setCredentials(credentials).build().getService();\n</code></pre>\n<p>or</p>\n<pre><code>BigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\n</code></pre>\n<p>But while trying both above approach, I am encountering no candidate/method found issue (either for &quot;getService&quot; or &quot;setCredentials&quot; method.</p>\n<p>Error: Cannot resolve method 'getService' in 'BigQueryOptions'. No candidates found for method call BigQueryOptions.getDefaultInstance().getService(). Similarly for setCredentials.</p>\n<p>Suggestion on how to fix this considering either library is wrong / moved / outdated implementation. Still google implementation refers to same but same POM dependencies do not work. <a href=\"https://cloud.google.com/bigquery/docs/authentication/service-account-file\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/docs/authentication/service-account-file</a></p>\n<p>My POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.app&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\n        &lt;ch.qos.logback.version&gt;1.2.3&lt;/ch.qos.logback.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;libraries-bom&lt;/artifactId&gt;\n                &lt;version&gt;24.0.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-bigquery&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.bettercloud&lt;/groupId&gt;\n            &lt;artifactId&gt;vault-java-driver&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n            &lt;version&gt;2.4.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n            &lt;version&gt;1.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n            &lt;version&gt;${ch.qos.logback.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;${ch.qos.logback.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\n            &lt;version&gt;${ch.qos.logback.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","testing","junit"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":1,"creation_date":1680683765,"post_id":75937179,"comment_id":133938010,"body_markdown":"How about refactoring the whole task execution part to a separate component, doing your prep and then executing this separate component in your integration test? Then you&#39;d have better control on what is executed when.","body":"How about refactoring the whole task execution part to a separate component, doing your prep and then executing this separate component in your integration test? Then you&#39;d have better control on what is executed when."},{"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"score":0,"creation_date":1680683936,"post_id":75937179,"comment_id":133938049,"body_markdown":"Yes, that&#39;s what I actually ended up doing","body":"Yes, that&#39;s what I actually ended up doing"},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1680706596,"post_id":75937179,"comment_id":133944201,"body_markdown":"Post your test class, too","body":"Post your test class, too"}],"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680682784,"creation_date":1680682784,"question_id":75937179,"body_markdown":"I start worker threads in `CommandLineRunner` component\r\n\r\n```\r\n@Override\r\npublic void run(String... args) throws Exception {\r\n    range(0, count).forEach(i -&gt; taskExecutor.execute(() -&gt; {\r\n        while (true) {\r\n            doWork();\r\n        }\r\n    }));\r\n}\r\n```\r\n\r\nI want to test the correct functionality of workers in Spring integration test, but before that I need to insert some test data and prepare the scenario. Problem is the runner starts too soon. How do I defer the execution of `CommandLineRunner` in Spring integration test?","title":"How to defer CommandLineRunner execution in Spring Boot test","body":"<p>I start worker threads in <code>CommandLineRunner</code> component</p>\n<pre><code>@Override\npublic void run(String... args) throws Exception {\n    range(0, count).forEach(i -&gt; taskExecutor.execute(() -&gt; {\n        while (true) {\n            doWork();\n        }\n    }));\n}\n</code></pre>\n<p>I want to test the correct functionality of workers in Spring integration test, but before that I need to insert some test data and prepare the scenario. Problem is the runner starts too soon. How do I defer the execution of <code>CommandLineRunner</code> in Spring integration test?</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","avro"],"comments":[{"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"score":1,"creation_date":1680770589,"post_id":75937086,"comment_id":133955458,"body_markdown":"Could you elaborate more on the use case of your pipeline and provide the sample code you have tried?\nDoes this [link](https://stackoverflow.com/questions/51459902/avro-genericrecords-bigquery-and-beam) help you?","body":"Could you elaborate more on the use case of your pipeline and provide the sample code you have tried? Does this <a href=\"https://stackoverflow.com/questions/51459902/avro-genericrecords-bigquery-and-beam\">link</a> help you?"}],"owner":{"account_id":4306523,"reputation":7801,"user_id":3518757,"accept_rate":73,"display_name":"oikonomiyaki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680682252,"creation_date":1680682252,"question_id":75937086,"body_markdown":"We are processing Avro files and we use the GenericRecord type (in Beam/Dataflow). I want to create a new GenericRecord based on select subset of columns. Is there a simpler way of doing this without tinkering with the Schema part (like I don&#39;t have to create/define a new Schema with subset of columns from the original Schema)?","title":"Getting a new GenericRecord from a subset of columns","body":"<p>We are processing Avro files and we use the GenericRecord type (in Beam/Dataflow). I want to create a new GenericRecord based on select subset of columns. Is there a simpler way of doing this without tinkering with the Schema part (like I don't have to create/define a new Schema with subset of columns from the original Schema)?</p>\n"},{"tags":["java","apache-spark","hadoop","parquet"],"answers":[{"tags":[],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1553130550,"creation_date":1553130550,"answer_id":55272361,"question_id":55247724,"body_markdown":"The solution turns out to be quite simple, just don&#39;t write a value:\r\n\r\n```\r\n// create row 1 with defined values\r\nGroup group1 = f.newGroup();\r\nInteger int1 = 100;\r\nDouble double1 = 0.5;\r\nString string1 = &quot;string-value&quot;;\r\ngroup1.add(0, int1);\r\ngroup1.add(1, double1);\r\ngroup1.add(2, string1);\r\nwriter.write(group1);\r\n\r\n// create row 2 with NULL values -- does not work!\r\nGroup group2 = f.newGroup();\r\n// do nothing !\r\nwriter.write(group2);\r\n\r\n// Now, parquet file will have 2 rows, one with values, one with null values\r\n```","title":"How can I write NULL value to parquet using org.apache.parquet.hadoop.ParquetWriter?","body":"<p>The solution turns out to be quite simple, just don't write a value:</p>\n\n<pre><code>// create row 1 with defined values\nGroup group1 = f.newGroup();\nInteger int1 = 100;\nDouble double1 = 0.5;\nString string1 = \"string-value\";\ngroup1.add(0, int1);\ngroup1.add(1, double1);\ngroup1.add(2, string1);\nwriter.write(group1);\n\n// create row 2 with NULL values -- does not work!\nGroup group2 = f.newGroup();\n// do nothing !\nwriter.write(group2);\n\n// Now, parquet file will have 2 rows, one with values, one with null values\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28220413,"reputation":1,"user_id":21571240,"display_name":"Jan Kolanowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680682066,"creation_date":1680681435,"answer_id":75936950,"question_id":55247724,"body_markdown":"I believe you can use\r\n\r\n    .withSchema(ReflectData.AllowNull.get()\r\n                        .getSchema(classThatYouAreWritingToParquet.class)\r\n\r\nThis helped in my case.\r\n\r\n","title":"How can I write NULL value to parquet using org.apache.parquet.hadoop.ParquetWriter?","body":"<p>I believe you can use</p>\n<pre><code>.withSchema(ReflectData.AllowNull.get()\n                    .getSchema(classThatYouAreWritingToParquet.class)\n</code></pre>\n<p>This helped in my case.</p>\n"}],"owner":{"account_id":2591971,"reputation":16544,"user_id":2246488,"accept_rate":47,"display_name":"James Wierzba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5508,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55272361,"answer_count":2,"score":3,"last_activity_date":1680682066,"creation_date":1553019910,"question_id":55247724,"body_markdown":"I have a tool that uses a [org.apache.parquet.hadoop.ParquetWriter][1] to convert CSV data files to parquet data files.\r\n\r\nI can write basic primitive types just fine (INT32, DOUBLE, BINARY string).\r\n\r\nI need to write NULL values, but I do not know how. I&#39;ve tried simply writing `null` with ParquetWriter, and it throws an exception.\r\n\r\n**How can I write NULL using [org.apache.parquet.hadoop.ParquetWriter][1]? Is there a nullable type?**\r\n\r\nThe code I believe is self explanatory:\r\n```\r\n    ArrayList&lt;Type&gt; fields = new ArrayList&lt;&gt;();\r\n    fields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.INT32, &quot;int32_col&quot;, null));\r\n    fields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.DOUBLE, &quot;double_col&quot;, null));\r\n    fields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.BINARY, &quot;string_col&quot;, null));\r\n    MessageType schema = new MessageType(&quot;input&quot;, fields);\r\n\r\n    Configuration configuration = new Configuration();\r\n    configuration.setQuietMode(true);\r\n    GroupWriteSupport.setSchema(schema, configuration);\r\n    SimpleGroupFactory f = new SimpleGroupFactory(schema);\r\n    ParquetWriter&lt;Group&gt; writer = new ParquetWriter&lt;Group&gt;(\r\n      new Path(&quot;output.parquet&quot;),\r\n      new GroupWriteSupport(),\r\n      CompressionCodecName.SNAPPY,\r\n      ParquetWriter.DEFAULT_BLOCK_SIZE,\r\n      ParquetWriter.DEFAULT_PAGE_SIZE,\r\n      1048576,\r\n      true,\r\n      false,\r\n      ParquetProperties.WriterVersion.PARQUET_1_0,\r\n      configuration\r\n    );\r\n\r\n    // create row 1 with defined values\r\n    Group group1 = f.newGroup();\r\n    Integer int1 = 100;\r\n    Double double1 = 0.5;\r\n    String string1 = &quot;string-value&quot;;\r\n    group1.add(0, int1);\r\n    group1.add(1, double1);\r\n    group1.add(2, string1);\r\n    writer.write(group1);\r\n\r\n    // create row 2 with NULL values -- does not work!\r\n    Group group2 = f.newGroup();\r\n    Integer int2 = null;\r\n    Double double2 = null;\r\n    String string2 = null;\r\n    group2.add(0, int2); // &lt;-- throws NullPointerException\r\n    group2.add(1, double2); // &lt;-- throws NullPointerException\r\n    group2.add(2, string2); // &lt;-- throws NullPointerException\r\n    writer.write(group2);\r\n\r\n    writer.close();\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/apache/parquet-mr/blob/master/parquet-hadoop/src/main/java/org/apache/parquet/hadoop/ParquetWriter.java","title":"How can I write NULL value to parquet using org.apache.parquet.hadoop.ParquetWriter?","body":"<p>I have a tool that uses a <a href=\"https://github.com/apache/parquet-mr/blob/master/parquet-hadoop/src/main/java/org/apache/parquet/hadoop/ParquetWriter.java\" rel=\"nofollow noreferrer\">org.apache.parquet.hadoop.ParquetWriter</a> to convert CSV data files to parquet data files.</p>\n\n<p>I can write basic primitive types just fine (INT32, DOUBLE, BINARY string).</p>\n\n<p>I need to write NULL values, but I do not know how. I've tried simply writing <code>null</code> with ParquetWriter, and it throws an exception.</p>\n\n<p><strong>How can I write NULL using <a href=\"https://github.com/apache/parquet-mr/blob/master/parquet-hadoop/src/main/java/org/apache/parquet/hadoop/ParquetWriter.java\" rel=\"nofollow noreferrer\">org.apache.parquet.hadoop.ParquetWriter</a>? Is there a nullable type?</strong></p>\n\n<p>The code I believe is self explanatory:</p>\n\n<pre><code>    ArrayList&lt;Type&gt; fields = new ArrayList&lt;&gt;();\n    fields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.INT32, \"int32_col\", null));\n    fields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.DOUBLE, \"double_col\", null));\n    fields.add(new PrimitiveType(Type.Repetition.OPTIONAL, PrimitiveTypeName.BINARY, \"string_col\", null));\n    MessageType schema = new MessageType(\"input\", fields);\n\n    Configuration configuration = new Configuration();\n    configuration.setQuietMode(true);\n    GroupWriteSupport.setSchema(schema, configuration);\n    SimpleGroupFactory f = new SimpleGroupFactory(schema);\n    ParquetWriter&lt;Group&gt; writer = new ParquetWriter&lt;Group&gt;(\n      new Path(\"output.parquet\"),\n      new GroupWriteSupport(),\n      CompressionCodecName.SNAPPY,\n      ParquetWriter.DEFAULT_BLOCK_SIZE,\n      ParquetWriter.DEFAULT_PAGE_SIZE,\n      1048576,\n      true,\n      false,\n      ParquetProperties.WriterVersion.PARQUET_1_0,\n      configuration\n    );\n\n    // create row 1 with defined values\n    Group group1 = f.newGroup();\n    Integer int1 = 100;\n    Double double1 = 0.5;\n    String string1 = \"string-value\";\n    group1.add(0, int1);\n    group1.add(1, double1);\n    group1.add(2, string1);\n    writer.write(group1);\n\n    // create row 2 with NULL values -- does not work!\n    Group group2 = f.newGroup();\n    Integer int2 = null;\n    Double double2 = null;\n    String string2 = null;\n    group2.add(0, int2); // &lt;-- throws NullPointerException\n    group2.add(1, double2); // &lt;-- throws NullPointerException\n    group2.add(2, string2); // &lt;-- throws NullPointerException\n    writer.write(group2);\n\n    writer.close();\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":6596539,"reputation":1350,"user_id":5096142,"display_name":"Carlos"},"score":0,"creation_date":1680529902,"post_id":75919856,"comment_id":133909307,"body_markdown":"is there something blocking you from using @MappedSuperclass ? https://vladmihalcea.com/how-to-inherit-properties-from-a-base-class-entity-using-mappedsuperclass-with-jpa-and-hibernate/","body":"is there something blocking you from using @MappedSuperclass ? <a href=\"https://vladmihalcea.com/how-to-inherit-properties-from-a-base-class-entity-using-mappedsuperclass-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"},{"owner":{"account_id":6596539,"reputation":1350,"user_id":5096142,"display_name":"Carlos"},"score":0,"creation_date":1680530023,"post_id":75919856,"comment_id":133909348,"body_markdown":"i would use it in your case and avoid the unnecesary &quot;working_model&quot; table in your schema","body":"i would use it in your case and avoid the unnecesary &quot;working_model&quot; table in your schema"}],"owner":{"account_id":23492579,"reputation":5,"user_id":17543425,"display_name":"flotz100"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680681721,"creation_date":1680527506,"question_id":75919856,"body_markdown":"I am building a web application with Spring Boot. This application contains the Employees and I am trying to filter them with the JPA Criteria API.\r\n\r\nThe problems:\r\n\r\n - `Employee` contains a field `var workingModel: WorkingModel` which is a super class. I want to filter for the child class `PartTime`. How do I cast to this child class with the API?\r\n- The child class `PartTime` contains a list of `PartTimePeriod`. I want to check whether there is a `PartTimePeriod` that matches the criteria. How do I do this?\r\n- I want to relax the constraints of the filter criteria of `PartTimePeriod` so that if for example only `startTime` matches and `endTime` is off by 1 or 2 hours it also returns the `Employee`.\r\n\r\nHere is the Code: \r\n\r\n```java\r\n@Entity(name = &quot;Employee&quot;)\r\nclass Employee {\r\n    ...\r\n\r\n    @OneToOne(fetch = FetchType.LAZY, cascade = [CascadeType.ALL])\r\n    @Fetch(value = FetchMode.SELECT)\r\n    var workingModel: WorkingModel\r\n\r\n    ...\r\n}\r\n\r\n```\r\n\r\n```java\r\n@Entity(name = &quot;working_model&quot;)\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\nopen class WorkingModel (\r\n    @JsonIgnore\r\n    @OneToOne(fetch = FetchType.LAZY, cascade = [CascadeType.ALL])\r\n    var employee: Employee? = null,\r\n\r\n    @Id @GeneratedValue(strategy = GenerationType.TABLE)\r\n    @Column(name = &quot;working_model_id&quot;, nullable = false)\r\n    private var id: Long = 0\r\n)\r\n```\r\n\r\n```java\r\n@Entity(name = &quot;part_time&quot;)\r\nclass PartTime(\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = [CascadeType.ALL])\r\n    @Fetch(value = FetchMode.SELECT)\r\n    var partTimePeriods: MutableList&lt;PartTimePeriod&gt; = ArrayList()\r\n) : WorkingModel()\r\n```\r\n\r\n\r\n**UPDATE:** \r\n\r\nI have a somewhat complex query, where I want to filter the Employees by some fields and rank them accorinding to the best fit.\r\n\r\nTo filter for `PartTime` i wanted to make a subquery which looks like this:\r\n\r\n```java\r\n    private fun subQueryForPartTimePeriod(root: Root&lt;Employee?&gt;, builder: CriteriaBuilder, query: CriteriaQuery&lt;*&gt;, criteria: SearchCriteria): Predicate {\r\n        val subquery: Subquery&lt;PartTimePeriod&gt; = query.subquery(PartTimePeriod::class.java)\r\n\r\n\r\n        val workingModel = root.join&lt;Employee, WorkingModel&gt;(&quot;workingModel&quot;)\r\n        val partTime = builder.treat(workingModel, PartTime::class.java)\r\n        val partTimePeriods = partTime.join&lt;PartTime, PartTimePeriod&gt;(&quot;partTimePeriods&quot;)\r\n\r\n        subquery.select(partTimePeriods)\r\n        subquery.where(builder.equal(partTimePeriods.get&lt;String&gt;(&quot;day&quot;), (criteria.value as PartTimePeriod).day),\r\n            builder.equal(partTimePeriods.get&lt;LocalTime&gt;(&quot;startTime&quot;), (criteria.value).startTime),\r\n            builder.equal(partTimePeriods.get&lt;LocalTime&gt;(&quot;endTime&quot;), (criteria.value).endTime))\r\n       return builder.exists(subquery)\r\n    }\r\n```\r\n\r\nThis gives me the following error when trying to filter by `PartTime`:\r\n\r\n```\r\nunexpected token: where near line 1, column 782 [select distinct generatedAlias0 from com.jobstop.backend.model.employee.Employee as generatedAlias0 inner join generatedAlias0.jobInterestRegions as generatedAlias1 inner join generatedAlias0.workingModel as generatedAlias2 inner join generatedAlias0.workingModel as generatedAlias3 inner join generatedAlias3.partTimePeriods as generatedAlias4 inner join generatedAlias0.professions as generatedAlias5 where ( ( generatedAlias1.jobInterestRegion=:param0 ) or ( function(&#39;ST_Distance_Sphere&#39;, function(&#39;point&#39;, generatedAlias0.latitude, generatedAlias0.longitude), function(&#39;point&#39;, 46.70961D, 14.50697D))&lt;generatedAlias1.distance ) ) and ( :param1 = true ) order by (case when generatedAlias5.umbrellaTerm=:param2 then 2 else 0 end+(case when exists (select generatedAlias4 from  where ( generatedAlias4.day=:param3 ) and ( generatedAlias4.startTime=:param4 ) and ( generatedAlias4.endTime=:param5 )) then 10 else 0 end+0)) desc]\r\n```","title":"JPA Criteria API - query childclass and filter for object within the childclass","body":"<p>I am building a web application with Spring Boot. This application contains the Employees and I am trying to filter them with the JPA Criteria API.</p>\n<p>The problems:</p>\n<ul>\n<li><code>Employee</code> contains a field <code>var workingModel: WorkingModel</code> which is a super class. I want to filter for the child class <code>PartTime</code>. How do I cast to this child class with the API?</li>\n<li>The child class <code>PartTime</code> contains a list of <code>PartTimePeriod</code>. I want to check whether there is a <code>PartTimePeriod</code> that matches the criteria. How do I do this?</li>\n<li>I want to relax the constraints of the filter criteria of <code>PartTimePeriod</code> so that if for example only <code>startTime</code> matches and <code>endTime</code> is off by 1 or 2 hours it also returns the <code>Employee</code>.</li>\n</ul>\n<p>Here is the Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;Employee&quot;)\nclass Employee {\n    ...\n\n    @OneToOne(fetch = FetchType.LAZY, cascade = [CascadeType.ALL])\n    @Fetch(value = FetchMode.SELECT)\n    var workingModel: WorkingModel\n\n    ...\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;working_model&quot;)\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\nopen class WorkingModel (\n    @JsonIgnore\n    @OneToOne(fetch = FetchType.LAZY, cascade = [CascadeType.ALL])\n    var employee: Employee? = null,\n\n    @Id @GeneratedValue(strategy = GenerationType.TABLE)\n    @Column(name = &quot;working_model_id&quot;, nullable = false)\n    private var id: Long = 0\n)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;part_time&quot;)\nclass PartTime(\n    @ManyToMany(fetch = FetchType.LAZY, cascade = [CascadeType.ALL])\n    @Fetch(value = FetchMode.SELECT)\n    var partTimePeriods: MutableList&lt;PartTimePeriod&gt; = ArrayList()\n) : WorkingModel()\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>I have a somewhat complex query, where I want to filter the Employees by some fields and rank them accorinding to the best fit.</p>\n<p>To filter for <code>PartTime</code> i wanted to make a subquery which looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private fun subQueryForPartTimePeriod(root: Root&lt;Employee?&gt;, builder: CriteriaBuilder, query: CriteriaQuery&lt;*&gt;, criteria: SearchCriteria): Predicate {\n        val subquery: Subquery&lt;PartTimePeriod&gt; = query.subquery(PartTimePeriod::class.java)\n\n\n        val workingModel = root.join&lt;Employee, WorkingModel&gt;(&quot;workingModel&quot;)\n        val partTime = builder.treat(workingModel, PartTime::class.java)\n        val partTimePeriods = partTime.join&lt;PartTime, PartTimePeriod&gt;(&quot;partTimePeriods&quot;)\n\n        subquery.select(partTimePeriods)\n        subquery.where(builder.equal(partTimePeriods.get&lt;String&gt;(&quot;day&quot;), (criteria.value as PartTimePeriod).day),\n            builder.equal(partTimePeriods.get&lt;LocalTime&gt;(&quot;startTime&quot;), (criteria.value).startTime),\n            builder.equal(partTimePeriods.get&lt;LocalTime&gt;(&quot;endTime&quot;), (criteria.value).endTime))\n       return builder.exists(subquery)\n    }\n</code></pre>\n<p>This gives me the following error when trying to filter by <code>PartTime</code>:</p>\n<pre><code>unexpected token: where near line 1, column 782 [select distinct generatedAlias0 from com.jobstop.backend.model.employee.Employee as generatedAlias0 inner join generatedAlias0.jobInterestRegions as generatedAlias1 inner join generatedAlias0.workingModel as generatedAlias2 inner join generatedAlias0.workingModel as generatedAlias3 inner join generatedAlias3.partTimePeriods as generatedAlias4 inner join generatedAlias0.professions as generatedAlias5 where ( ( generatedAlias1.jobInterestRegion=:param0 ) or ( function('ST_Distance_Sphere', function('point', generatedAlias0.latitude, generatedAlias0.longitude), function('point', 46.70961D, 14.50697D))&lt;generatedAlias1.distance ) ) and ( :param1 = true ) order by (case when generatedAlias5.umbrellaTerm=:param2 then 2 else 0 end+(case when exists (select generatedAlias4 from  where ( generatedAlias4.day=:param3 ) and ( generatedAlias4.startTime=:param4 ) and ( generatedAlias4.endTime=:param5 )) then 10 else 0 end+0)) desc]\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":1287981,"reputation":463,"user_id":1240678,"display_name":"Tyreal"},"score":0,"creation_date":1686742242,"post_id":75907541,"comment_id":134840178,"body_markdown":"For us the update to v4.8.3 is even breaking a working setup of v4.8.0. We are using a standalone selenium node on a remote server.","body":"For us the update to v4.8.3 is even breaking a working setup of v4.8.0. We are using a standalone selenium node on a remote server."}],"answers":[{"tags":[],"owner":{"account_id":28220368,"reputation":1,"user_id":21571205,"display_name":"David Unsaved"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680681713,"creation_date":1680681713,"answer_id":75936995,"question_id":75907541,"body_markdown":"You have to add &quot;options.addArguments(&quot;--remote-allow-origins=*&quot;);&quot; to your ChromeDriver and it should work fine. If not, then check if your Firewall prevents the chromedriver.exe file to run.\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n        driver = new ChromeDriver(options);","title":"Selenium project stops working after updating to 4.8.3","body":"<p>You have to add &quot;options.addArguments(&quot;--remote-allow-origins=*&quot;);&quot; to your ChromeDriver and it should work fine. If not, then check if your Firewall prevents the chromedriver.exe file to run.</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\n    options.addArguments(&quot;--remote-allow-origins=*&quot;);\n    driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":20114539,"reputation":21,"user_id":20843765,"display_name":"Orca37"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1018,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680681713,"creation_date":1680367574,"question_id":75907541,"body_markdown":"My selenium Java project was working fine on Selenium version 4.7.0 till I updated Google Chrome to version 111.\r\n\r\nAccording to this thread, updating Selenium to version 4.8.3 should fix the incompatibilities:\r\nhttps://stackoverflow.com/questions/75674124/can-i-set-remote-allow-origins-without-using-a-wildcard-in-selenium\r\n\r\nSo I updated the selenium project and got chromedriver version 111 to work with Google Chrome 111.\r\nBut now the Java program won&#39;t start either due to the following errors:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;host.name&#39;, ip: &#39;123.123.123.123&#39;\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\r\n\tat AutoChrome.Main.init(Main.java:41)\r\n\tat AutoChrome.Main.main(Main.java:22)\r\nCaused by: org.openqa.selenium.WebDriverException: Timed out waiting for driver process to start.\r\nBuild info: version: &#39;4.8.3&#39;, revision: &#39;e5e76298c3&#39;\r\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;4.19.0&#39;, java.version: &#39;11.0.18&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.service.DriverService.start(DriverService.java:208)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:114)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\t... 8 more\r\n```\r\n\r\nCode line 41, which throws the error:\r\n\r\n&gt; driver = new ChromeDriver();\r\n\r\n\r\n\r\nThe chromedriver file is executable. Version 112 of chromedriver won&#39;t work either.\r\n\r\nWhat could be the reason and solution?","title":"Selenium project stops working after updating to 4.8.3","body":"<p>My selenium Java project was working fine on Selenium version 4.7.0 till I updated Google Chrome to version 111.</p>\n<p>According to this thread, updating Selenium to version 4.8.3 should fix the incompatibilities:\n<a href=\"https://stackoverflow.com/questions/75674124/can-i-set-remote-allow-origins-without-using-a-wildcard-in-selenium\">Can I set remote-allow-origins without using a wildcard in Selenium?</a></p>\n<p>So I updated the selenium project and got chromedriver version 111 to work with Google Chrome 111.\nBut now the Java program won't start either due to the following errors:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'host.name', ip: '123.123.123.123'\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:52)\n    at AutoChrome.Main.init(Main.java:41)\n    at AutoChrome.Main.main(Main.java:22)\nCaused by: org.openqa.selenium.WebDriverException: Timed out waiting for driver process to start.\nBuild info: version: '4.8.3', revision: 'e5e76298c3'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '4.19.0', java.version: '11.0.18'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:208)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:114)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    ... 8 more\n</code></pre>\n<p>Code line 41, which throws the error:</p>\n<blockquote>\n<p>driver = new ChromeDriver();</p>\n</blockquote>\n<p>The chromedriver file is executable. Version 112 of chromedriver won't work either.</p>\n<p>What could be the reason and solution?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680609969,"post_id":75928169,"comment_id":133924043,"body_markdown":"Java is not .Net.  Java convention is that generic types are each a single uppercase letter.  Of course, you can write your code however you want, but if you want people to understand your code faster, especially people with Java experience, it is to your benefit to stick to Java conventions.  All of that aside, there is no way to make a generic type optional, but you can always use java.lang.Void as an instances generic type argument, since it is not possible for any code to create a Void instance.","body":"Java is not .Net.  Java convention is that generic types are each a single uppercase letter.  Of course, you can write your code however you want, but if you want people to understand your code faster, especially people with Java experience, it is to your benefit to stick to Java conventions.  All of that aside, there is no way to make a generic type optional, but you can always use java.lang.Void as an instances generic type argument, since it is not possible for any code to create a Void instance."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1680681684,"post_id":75928169,"comment_id":133937513,"body_markdown":"I understand your logic @VGR but I disagree. I have posted a response explaining in better detail.","body":"I understand your logic @VGR but I disagree. I have posted a response explaining in better detail."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680681619,"creation_date":1680681619,"answer_id":75936982,"question_id":75928169,"body_markdown":"I think the separate interface is a good idea. By having a separate interface, you remove the haziness over what the return type should be.\r\n\r\nI would also go further and strongly recommend that you do not follow the advice of @VGR. Using java.lang.Void needlessly complicates the design when really, all you want to say is that there is no return type. Using this form of indirection is a great way to introduce hard to find bugs.\r\n\r\nVoid makes sense when you are stuck with an API convention and have no way to change it. But since you are actively creating the endpoint now, there is no good reason to introduce it when you have the option to be even more clear.","title":"Can I set a generic argument as nullable or should I create two interfaces?","body":"<p>I think the separate interface is a good idea. By having a separate interface, you remove the haziness over what the return type should be.</p>\n<p>I would also go further and strongly recommend that you do not follow the advice of @VGR. Using java.lang.Void needlessly complicates the design when really, all you want to say is that there is no return type. Using this form of indirection is a great way to introduce hard to find bugs.</p>\n<p>Void makes sense when you are stuck with an API convention and have no way to change it. But since you are actively creating the endpoint now, there is no good reason to introduce it when you have the option to be even more clear.</p>\n"}],"owner":{"account_id":7148272,"reputation":237,"user_id":5463254,"accept_rate":50,"display_name":"Morgoth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75936982,"answer_count":1,"score":1,"last_activity_date":1680681619,"creation_date":1680603386,"question_id":75928169,"body_markdown":"I&#39;m kinda new to generics in Java. I created an interface serving as a contract for all request handlers between my web layer and my domain layer (I&#39;m trying to have one handler per use case instead of giant services). Here is the code of the interface:\r\n\r\n    public interface RequestHandler&lt;TResponse, TRequest&gt; {\r\n\tResponse&lt;TResponse&gt; Handle(TRequest request);\r\n    }\r\nthe &quot;Response&quot; type is a wrapper type that handles the state of any response from my domain (hasFailed, errorMessage,etc.).\r\nSo my issue is that sometimes I&#39;ll have requests that might be empty (for instance a &quot;GetAll&quot;). Is it possible in java to have a sort of constraint that will allow implementations to not have a TRequest or should I declare an other interface for that ?\r\n\r\nThanks !\r\n","title":"Can I set a generic argument as nullable or should I create two interfaces?","body":"<p>I'm kinda new to generics in Java. I created an interface serving as a contract for all request handlers between my web layer and my domain layer (I'm trying to have one handler per use case instead of giant services). Here is the code of the interface:</p>\n<pre><code>public interface RequestHandler&lt;TResponse, TRequest&gt; {\nResponse&lt;TResponse&gt; Handle(TRequest request);\n}\n</code></pre>\n<p>the &quot;Response&quot; type is a wrapper type that handles the state of any response from my domain (hasFailed, errorMessage,etc.).\nSo my issue is that sometimes I'll have requests that might be empty (for instance a &quot;GetAll&quot;). Is it possible in java to have a sort of constraint that will allow implementations to not have a TRequest or should I declare an other interface for that ?</p>\n<p>Thanks !</p>\n"},{"tags":["java","asynchronous","completable-future"],"answers":[{"tags":[],"owner":{"account_id":7480007,"reputation":11,"user_id":5685043,"display_name":"Himanshu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680197071,"creation_date":1680197071,"answer_id":75891250,"question_id":75891111,"body_markdown":"You might get a performance gain which may be very negligible since you are removing the processing of thenApply(), But if all 3 methods needs to be run sequentially in any case, then why to even consider the first approach and instead create a new method which will call other 3 and use the new one. \r\n\r\n    service.processAsync(context, id)\r\n            .thenApply(this::callerMethod)\r\n            .exceptionally(this::handleError);\r\n\r\n```\r\ncallerMethod() {\r\ndoSimpleStuff();\r\ndoAnotherExtraStuff();\r\ndoFinalStuff();\r\n}\r\n```","title":"Overhead of using extra thenApply methods in CompletableFutures?","body":"<p>You might get a performance gain which may be very negligible since you are removing the processing of thenApply(), But if all 3 methods needs to be run sequentially in any case, then why to even consider the first approach and instead create a new method which will call other 3 and use the new one.</p>\n<pre><code>service.processAsync(context, id)\n        .thenApply(this::callerMethod)\n        .exceptionally(this::handleError);\n</code></pre>\n<pre><code>callerMethod() {\ndoSimpleStuff();\ndoAnotherExtraStuff();\ndoFinalStuff();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680681090,"creation_date":1680681090,"answer_id":75936904,"question_id":75891111,"body_markdown":"As @Himanshu mentioned, the performance benefit gained will be negligible, so much so that you should not depend on it as justification unless you are doing something ***really*** performance intensive (in which case, there are much higher priority things to fix before trying to stick all of the functions in one methond).\r\n\r\nBut to contrast the answer that @Himanshu gave, I would encourage you to keep the functions separate. It allows you to swap out a function for another should an implementation detail need to change in the future, and it lets you keep your code base free of ad-hoc simplification functions all over the place. Those tend to be a place where bugs hide.\r\n\r\nBut truthfully, it&#39;s not much loss either direction, so do what makes sense for your situation.","title":"Overhead of using extra thenApply methods in CompletableFutures?","body":"<p>As @Himanshu mentioned, the performance benefit gained will be negligible, so much so that you should not depend on it as justification unless you are doing something <em><strong>really</strong></em> performance intensive (in which case, there are much higher priority things to fix before trying to stick all of the functions in one methond).</p>\n<p>But to contrast the answer that @Himanshu gave, I would encourage you to keep the functions separate. It allows you to swap out a function for another should an implementation detail need to change in the future, and it lets you keep your code base free of ad-hoc simplification functions all over the place. Those tend to be a place where bugs hide.</p>\n<p>But truthfully, it's not much loss either direction, so do what makes sense for your situation.</p>\n"}],"owner":{"account_id":17491509,"reputation":133,"user_id":12683575,"display_name":"Stranger95"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1680681090,"creation_date":1680196100,"question_id":75891111,"body_markdown":"I&#39;m using java 11.\r\n\r\nLet&#39;s say I have this code snippet where we&#39;re handling the completable future response:\r\n\r\n    service.processAsync(context)\r\n                .thenApply(this::doSimpleStuff)\r\n                .thenApply(this::doAnotherExtraStuff)\r\n                .thenApply(this::doFinalStuff)\r\n                .exceptionally(this::handleError);\r\n\r\nIf I fold all my `doSimpleStuff`, `doAnotherExtraStuff` and `doFinalStuff` into one function would it make a difference performance-wise?\r\n\r\nWill this code run faster or will this be just less readable?\r\n\r\n    service.processAsync(context)\r\n                .thenApply(this::doEverythingInOneFunction)\r\n                .exceptionally(this::handleError);","title":"Overhead of using extra thenApply methods in CompletableFutures?","body":"<p>I'm using java 11.</p>\n<p>Let's say I have this code snippet where we're handling the completable future response:</p>\n<pre><code>service.processAsync(context)\n            .thenApply(this::doSimpleStuff)\n            .thenApply(this::doAnotherExtraStuff)\n            .thenApply(this::doFinalStuff)\n            .exceptionally(this::handleError);\n</code></pre>\n<p>If I fold all my <code>doSimpleStuff</code>, <code>doAnotherExtraStuff</code> and <code>doFinalStuff</code> into one function would it make a difference performance-wise?</p>\n<p>Will this code run faster or will this be just less readable?</p>\n<pre><code>service.processAsync(context)\n            .thenApply(this::doEverythingInOneFunction)\n            .exceptionally(this::handleError);\n</code></pre>\n"},{"tags":["java","android","admob"],"answers":[{"tags":[],"owner":{"account_id":3249016,"reputation":180,"user_id":2739814,"accept_rate":88,"display_name":"Angelo Cassano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404073018,"creation_date":1404073018,"answer_id":24479885,"question_id":24479377,"body_markdown":"Maybe you forgot implementing these important methods\r\n\r\n    public void onPause() {\r\n\t\tsuper.onPause();\r\n\t\tthis.adView.pause();\r\n\t}\r\n\r\n\tpublic void onResume() {\r\n\t\tsuper.onResume();\r\n\t\tthis.adView.resume();\r\n\t}","title":"Android AdView not visible - but clickable","body":"<p>Maybe you forgot implementing these important methods</p>\n\n<pre><code>public void onPause() {\n    super.onPause();\n    this.adView.pause();\n}\n\npublic void onResume() {\n    super.onResume();\n    this.adView.resume();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":230213,"reputation":20200,"user_id":493682,"accept_rate":82,"display_name":"William"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1404194126,"creation_date":1404120676,"answer_id":24486981,"question_id":24479377,"body_markdown":"Your problem is that you have told you RenderSurfaceView to matchParent forits height. THis means that it will consume all of the space of its parent leaving none for the AdView.\r\n\r\nTry this instead:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:ads=&quot;http://schemas.android.com/apk/lib/com.google.android.gms.ads&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#000000&quot;\r\n    android:orientation=&quot;vertical&quot; &gt;\r\n    \r\n    &lt;org.andengine.opengl.view.RenderSurfaceView\r\n        android:id=&quot;@+id/SurfaceViewId&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:gravity=&quot;center&quot; /&gt;\r\n    \r\n    &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/adViewId&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        ads:adUnitId=&quot;XXX&quot;\r\n        ads:adSize=&quot;BANNER&quot; /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nThis uses layout_weight with LinearLayout to have your RenderSurfaceView expand to fill all unused vertical space.","title":"Android AdView not visible - but clickable","body":"<p>Your problem is that you have told you RenderSurfaceView to matchParent forits height. THis means that it will consume all of the space of its parent leaving none for the AdView.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:ads=\"http://schemas.android.com/apk/lib/com.google.android.gms.ads\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"#000000\"\nandroid:orientation=\"vertical\" &gt;\n\n&lt;org.andengine.opengl.view.RenderSurfaceView\n    android:id=\"@+id/SurfaceViewId\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_weight=\"1\"\n    android:gravity=\"center\" /&gt;\n\n&lt;com.google.android.gms.ads.AdView xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/adViewId\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    ads:adUnitId=\"XXX\"\n    ads:adSize=\"BANNER\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>This uses layout_weight with LinearLayout to have your RenderSurfaceView expand to fill all unused vertical space.</p>\n"},{"tags":[],"owner":{"account_id":14335976,"reputation":103,"user_id":10355442,"display_name":"Saket Milan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680680906,"creation_date":1680680906,"answer_id":75936880,"question_id":24479377,"body_markdown":"Check if there is any foreground set to your parent layout in which you are loading adview. In my case there was a foreground color set and on fast scrolling of recyclerview, foreground color was being set over AdView.\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/ll_strip_ad&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:foreground=&quot;?attr/window_background_attr&quot; //on commenting this line issue resolved.\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.gms.ads.AdView\r\n            android:id=&quot;@+id/adViewId&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            ads:adUnitId=&quot;XXX&quot;\r\n            ads:adSize=&quot;BANNER&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;","title":"Android AdView not visible - but clickable","body":"<p>Check if there is any foreground set to your parent layout in which you are loading adview. In my case there was a foreground color set and on fast scrolling of recyclerview, foreground color was being set over AdView.</p>\n<pre><code>&lt;LinearLayout\n    android:id=&quot;@+id/ll_strip_ad&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:clickable=&quot;true&quot;\n    android:orientation=&quot;vertical&quot;\n    android:foreground=&quot;?attr/window_background_attr&quot; //on commenting this line issue resolved.\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;&gt;\n\n    &lt;com.google.android.gms.ads.AdView\n        android:id=&quot;@+id/adViewId&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        ads:adUnitId=&quot;XXX&quot;\n        ads:adSize=&quot;BANNER&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":3306015,"reputation":668,"user_id":2780808,"accept_rate":79,"display_name":"Ercksen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24486981,"answer_count":3,"score":1,"last_activity_date":1680680906,"creation_date":1404069483,"question_id":24479377,"body_markdown":"I have created an Android app with the new ads sdk, but it is invisible. I got it working in a previous app, it works good there. Now, in my new app, I have done the same. But:\r\n\r\nThe AdView is not visible, but clickable. If you go back to your home screen (just minimize, dont stop!), and re-open it, the ad will be shown.\r\n\r\nMy XML file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:ads=&quot;http://schemas.android.com/apk/lib/com.google.android.gms.ads&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#000000&quot;\r\n    android:orientation=&quot;vertical&quot; &gt;\r\n \r\n    &lt;org.andengine.opengl.view.RenderSurfaceView\r\n        android:id=&quot;@+id/SurfaceViewId&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:gravity=&quot;center&quot; /&gt;\r\n \r\n    &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/adViewId&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        ads:adUnitId=&quot;XXX&quot;\r\n        ads:adSize=&quot;BANNER&quot; /&gt;\r\n     \r\n    &lt;/RelativeLayout&gt;\r\n\r\nAnd my onCreate method:\r\n\r\n    @Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\t\r\n\t    adView = (AdView) findViewById(R.id.adViewId);\r\n\t    \r\n\t\tAdRequest adRequest = new AdRequest.Builder().build();\r\n\t\t\r\n\t\tadView.loadAd(adRequest);\r\n\t\t\r\n\t\tv = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\r\n\t}\r\n\r\n**EDIT:** After 60 sec., the view becomes visible.","title":"Android AdView not visible - but clickable","body":"<p>I have created an Android app with the new ads sdk, but it is invisible. I got it working in a previous app, it works good there. Now, in my new app, I have done the same. But:</p>\n\n<p>The AdView is not visible, but clickable. If you go back to your home screen (just minimize, dont stop!), and re-open it, the ad will be shown.</p>\n\n<p>My XML file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:ads=\"http://schemas.android.com/apk/lib/com.google.android.gms.ads\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"#000000\"\nandroid:orientation=\"vertical\" &gt;\n\n&lt;org.andengine.opengl.view.RenderSurfaceView\n    android:id=\"@+id/SurfaceViewId\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_alignParentTop=\"true\"\n    android:gravity=\"center\" /&gt;\n\n&lt;com.google.android.gms.ads.AdView xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/adViewId\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentBottom=\"true\"\n    ads:adUnitId=\"XXX\"\n    ads:adSize=\"BANNER\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>And my onCreate method:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    adView = (AdView) findViewById(R.id.adViewId);\n\n    AdRequest adRequest = new AdRequest.Builder().build();\n\n    adView.loadAd(adRequest);\n\n    v = (Vibrator) getSystemService(Context.VIBRATOR_SERVICE);\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> After 60 sec., the view becomes visible.</p>\n"},{"tags":["java","class","java-record","java-16"],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1616348886,"creation_date":1616348886,"answer_id":66735621,"question_id":66734638,"body_markdown":"The facts that have not changed are:\r\n\r\n 1. You can not have more than one `public` class in a single `.java` file. However, you can have as many non-`public` classes in the same `.java` file as you wish.\r\n 2. The name of the `.java` file must be the same as the `public` class in it.\r\n 3. If none of the classes in a `.java` file is `public`, it can have any name.\r\n\r\n**Note:** Since you have mentioned another answer in your question, I have included those classes as well in my demo just in case they can be helpful to join the dots.\r\n\r\n***Attribute.java:***\r\n\r\n    import java.util.List;\r\n    \r\n    public record Attribute(String name, String value) { }\r\n    record Employee(String name, Integer age, List&lt;Attribute&gt; attributes){ }\r\n    record Employees(List&lt;Employee&gt; employees) { }\r\n***Bar.java:***\r\n\r\n    public class Bar {\r\n    \t\r\n    }\r\n    class Baz {\r\n    \tpublic void hello(){\r\n    \t\tSystem.out.println(&quot;Hello&quot;);\r\n    \t}\r\n    }\r\n\r\n ***Foo.java:***\r\n\r\n    import java.util.List;\r\n    \r\n    public class Foo {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tAttribute attr1 = new Attribute(&quot;A&quot;, &quot;X&quot;);\r\n    \t\tAttribute attr2 = new Attribute(&quot;B&quot;, &quot;Y&quot;);\r\n    \t\tSystem.out.println(attr1);\r\n    \r\n    \t\tEmployee e1 = new Employee(&quot;James&quot;, 23, List.of(attr1, attr2));\r\n    \t\tSystem.out.println(e1);\r\n    \t\tEmployee e2 = new Employee(&quot;Boug&quot;, 21, List.of(attr2));\r\n    \r\n    \t\tEmployees emps = new Employees(List.of(e1, e2));\r\n    \t\tSystem.out.println(emps);\r\n    \r\n    \t\tBaz baz = new Baz();\r\n    \t\tbaz.hello();\r\n    \t}\r\n    }\r\n***Terminal commands:***\r\n\r\n    [~/Desktop/Record]: javac Bar.java\r\n    [~/Desktop/Record]: javac Attribute.java \r\n    [~/Desktop/Record]: javac Foo.java \r\n    [~/Desktop/Record]: java Foo\r\n    Attribute[name=A, value=X]\r\n    Employee[name=James, age=23, attributes=[Attribute[name=A, value=X], Attribute[name=B, value=Y]]]\r\n    Employees[employees=[Employee[name=James, age=23, attributes=[Attribute[name=A, value=X], Attribute[name=B, value=Y]]], Employee[name=Boug, age=21, attributes=[Attribute[name=B, value=Y]]]]]\r\n    Hello","title":"Multiple records inside the same .java file","body":"<p>The facts that have not changed are:</p>\n<ol>\n<li>You can not have more than one <code>public</code> class in a single <code>.java</code> file. However, you can have as many non-<code>public</code> classes in the same <code>.java</code> file as you wish.</li>\n<li>The name of the <code>.java</code> file must be the same as the <code>public</code> class in it.</li>\n<li>If none of the classes in a <code>.java</code> file is <code>public</code>, it can have any name.</li>\n</ol>\n<p><strong>Note:</strong> Since you have mentioned another answer in your question, I have included those classes as well in my demo just in case they can be helpful to join the dots.</p>\n<p><em><strong>Attribute.java:</strong></em></p>\n<pre><code>import java.util.List;\n\npublic record Attribute(String name, String value) { }\nrecord Employee(String name, Integer age, List&lt;Attribute&gt; attributes){ }\nrecord Employees(List&lt;Employee&gt; employees) { }\n</code></pre>\n<p><em><strong>Bar.java:</strong></em></p>\n<pre><code>public class Bar {\n    \n}\nclass Baz {\n    public void hello(){\n        System.out.println(&quot;Hello&quot;);\n    }\n}\n</code></pre>\n<p><em><strong>Foo.java:</strong></em></p>\n<pre><code>import java.util.List;\n\npublic class Foo {\n    public static void main(String[] args) {\n        Attribute attr1 = new Attribute(&quot;A&quot;, &quot;X&quot;);\n        Attribute attr2 = new Attribute(&quot;B&quot;, &quot;Y&quot;);\n        System.out.println(attr1);\n\n        Employee e1 = new Employee(&quot;James&quot;, 23, List.of(attr1, attr2));\n        System.out.println(e1);\n        Employee e2 = new Employee(&quot;Boug&quot;, 21, List.of(attr2));\n\n        Employees emps = new Employees(List.of(e1, e2));\n        System.out.println(emps);\n\n        Baz baz = new Baz();\n        baz.hello();\n    }\n}\n</code></pre>\n<p><em><strong>Terminal commands:</strong></em></p>\n<pre><code>[~/Desktop/Record]: javac Bar.java\n[~/Desktop/Record]: javac Attribute.java \n[~/Desktop/Record]: javac Foo.java \n[~/Desktop/Record]: java Foo\nAttribute[name=A, value=X]\nEmployee[name=James, age=23, attributes=[Attribute[name=A, value=X], Attribute[name=B, value=Y]]]\nEmployees[employees=[Employee[name=James, age=23, attributes=[Attribute[name=A, value=X], Attribute[name=B, value=Y]]], Employee[name=Boug, age=21, attributes=[Attribute[name=B, value=Y]]]]]\nHello\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5321859,"reputation":381,"user_id":4245091,"display_name":"Hamdi"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1634423067,"creation_date":1634423067,"answer_id":69599957,"question_id":66734638,"body_markdown":"Right now there is no official way to do it.  \r\nAs a workaround you could create an empty interface and put all your records inside, for example if your controller is CompanyController, I would create an interface called CompanyPort with all dto records inside\r\n\r\n**CompanyPort.java**:\r\n\r\n    public interface CompanyPort {\r\n          record Employees(List&lt;Employee&gt; employees) { } \r\n          record Employee(String name, Integer age, List&lt;Attribute&gt; attributes){ }\r\n          record Attribute(String name, String value) { }\r\n    }\r\n\r\n\r\n\r\n  \r\nHope that would help","title":"Multiple records inside the same .java file","body":"<p>Right now there is no official way to do it.<br />\nAs a workaround you could create an empty interface and put all your records inside, for example if your controller is CompanyController, I would create an interface called CompanyPort with all dto records inside</p>\n<p><strong>CompanyPort.java</strong>:</p>\n<pre><code>public interface CompanyPort {\n      record Employees(List&lt;Employee&gt; employees) { } \n      record Employee(String name, Integer age, List&lt;Attribute&gt; attributes){ }\n      record Attribute(String name, String value) { }\n}\n</code></pre>\n<p>Hope that would help</p>\n"},{"tags":[],"owner":{"account_id":6634642,"reputation":896,"user_id":5122135,"display_name":"Milad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680680872,"creation_date":1680680872,"answer_id":75936873,"question_id":66734638,"body_markdown":"In this case, since the records are related, you can do the equivalent thing to having static inner classes in a standard class - i.e.:\r\n\r\n    public record Employees(List&lt;Employee&gt; employees) {\r\n        public record Employee(String name, Integer age, List&lt;Attribute&gt; attributes) {}\r\n        public record Attribute(String name, String value) {}\r\n    }\r\n\r\nThe consumer will, as they did before records, access the sub-records as\r\n\r\n    Employees.Employee employee;\r\n    Employees.Attribute attribute;\r\n    ","title":"Multiple records inside the same .java file","body":"<p>In this case, since the records are related, you can do the equivalent thing to having static inner classes in a standard class - i.e.:</p>\n<pre><code>public record Employees(List&lt;Employee&gt; employees) {\n    public record Employee(String name, Integer age, List&lt;Attribute&gt; attributes) {}\n    public record Attribute(String name, String value) {}\n}\n</code></pre>\n<p>The consumer will, as they did before records, access the sub-records as</p>\n<pre><code>Employees.Employee employee;\nEmployees.Attribute attribute;\n</code></pre>\n"}],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6470,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":69599957,"answer_count":3,"score":8,"last_activity_date":1680680872,"creation_date":1616343099,"question_id":66734638,"body_markdown":"We can always have multiple classes inside a .java file. Considering encapsulation and that each class consists of multiple lines of code it always made sense to have 1 class (don&#39;t talk about nested classes) inside 1 .java file.\r\n\r\nNow that records come into play and they can be as little as 1 line of code. Does it make sense to encapsulate multiple records inside the same .java class? \r\n\r\nFor example we could have\r\n\r\n**DTO.java** file which would contain\r\n\r\n    record Employees(List&lt;Employee&gt; employees) { }  //This is just a wrapper class that we normally need in order to return a list of objects in rest web services\r\n    record Employee(String name, Integer age, List&lt;Attribute&gt; attributes){ }\r\n    record Attribute(String name, String value) { }\r\n\r\nIf no record has the public access modifier then we are allowed to contain all of them in a file with the name **DTO.java**\r\n\r\nAs I view it, it does not seem very good to have 3 .java files with only 1 line of code inside each one.\r\n\r\nHowever we can still face issues like these described here [multiple classes inside same java file][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2336762/7237884","title":"Multiple records inside the same .java file","body":"<p>We can always have multiple classes inside a .java file. Considering encapsulation and that each class consists of multiple lines of code it always made sense to have 1 class (don't talk about nested classes) inside 1 .java file.</p>\n<p>Now that records come into play and they can be as little as 1 line of code. Does it make sense to encapsulate multiple records inside the same .java class?</p>\n<p>For example we could have</p>\n<p><strong>DTO.java</strong> file which would contain</p>\n<pre><code>record Employees(List&lt;Employee&gt; employees) { }  //This is just a wrapper class that we normally need in order to return a list of objects in rest web services\nrecord Employee(String name, Integer age, List&lt;Attribute&gt; attributes){ }\nrecord Attribute(String name, String value) { }\n</code></pre>\n<p>If no record has the public access modifier then we are allowed to contain all of them in a file with the name <strong>DTO.java</strong></p>\n<p>As I view it, it does not seem very good to have 3 .java files with only 1 line of code inside each one.</p>\n<p>However we can still face issues like these described here <a href=\"https://stackoverflow.com/a/2336762/7237884\">multiple classes inside same java file</a></p>\n"},{"tags":["java","caching"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1680680812,"post_id":75936833,"comment_id":133937328,"body_markdown":"That probably depends on the JVM implementation but you&#39;d normally not need to bother. If such optimizations are really relevant, Java might be the wrong language for your purpose.","body":"That probably depends on the JVM implementation but you&#39;d normally not need to bother. If such optimizations are really relevant, Java might be the wrong language for your purpose."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1680680949,"post_id":75936833,"comment_id":133937356,"body_markdown":"Perhaps there is something useful [here](https://stackoverflow.com/q/44468639/3788176) (not a direct dupe).","body":"Perhaps there is something useful <a href=\"https://stackoverflow.com/q/44468639/3788176\">here</a> (not a direct dupe)."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1680720622,"post_id":75936833,"comment_id":133947900,"body_markdown":"The alignment and field layout is JVM dependent (the layout changed in openjdk15). A good resource is shipilev&#39;s [Objects Inside Out](https://shipilev.net/jvm/objects-inside-out) and his [Java Object Layout](https://github.com/openjdk/jol) library. The exact details cannot be influenced by the developer, but one can optimize algorithms such as using blocked bloom filters to be cache line friendly (e.g. Caffeine&#39;s [FrequencySketch](https://github.com/ben-manes/caffeine/blob/00f58622af2c68d86102b7488a5cfa02c65e5461/caffeine/src/main/java/com/github/benmanes/caffeine/cache/FrequencySketch.java)).","body":"The alignment and field layout is JVM dependent (the layout changed in openjdk15). A good resource is shipilev&#39;s <a href=\"https://shipilev.net/jvm/objects-inside-out\" rel=\"nofollow noreferrer\">Objects Inside Out</a> and his <a href=\"https://github.com/openjdk/jol\" rel=\"nofollow noreferrer\">Java Object Layout</a> library. The exact details cannot be influenced by the developer, but one can optimize algorithms such as using blocked bloom filters to be cache line friendly (e.g. Caffeine&#39;s <a href=\"https://github.com/ben-manes/caffeine/blob/00f58622af2c68d86102b7488a5cfa02c65e5461/caffeine/src/main/java/com/github/benmanes/caffeine/cache/FrequencySketch.java\" rel=\"nofollow noreferrer\">FrequencySketch</a>)."}],"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680680668,"creation_date":1680680668,"question_id":75936833,"body_markdown":"There could be a situation when an object of size 16 bytes occupies two cache lines, i.e., it starts on one cache line and ends in the next cache line. Fetching such an object requires two cache line reads, which could be avoided would the object be aligned properly. In C++11 we can use the alignas keyword, but Im wondering how java manages to do it, if at all?","title":"Can Java align data at cache line boundary","body":"<p>There could be a situation when an object of size 16 bytes occupies two cache lines, i.e., it starts on one cache line and ends in the next cache line. Fetching such an object requires two cache line reads, which could be avoided would the object be aligned properly. In C++11 we can use the alignas keyword, but Im wondering how java manages to do it, if at all?</p>\n"},{"tags":["java","spring-boot","tomcat"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680671065,"creation_date":1680671065,"answer_id":75935807,"question_id":75935099,"body_markdown":"tThis is not a problem on the server side, the caller needs to encode the URL to http://localhost:8940/authorize/abc/getCode/%7B%22client_id%22%3A%2248e09e3-87b8395f7c5f%22%2C%22redirect_uri%22%3A%22https%3A%2F%2Ftestvei.cn%2Fvestomer%2FGjViQ%3FcardBag%3D1%22%2C%22state%22%3A%22GWeiQ%22%2C%22scope%22%3A%22phonginfo%2Copenid%22%2C%22response_type%22%3A%22code%22%7D\r\n\r\n","title":"Question mark in url cause request error Under springboot2.x","body":"<p>tThis is not a problem on the server side, the caller needs to encode the URL to http://localhost:8940/authorize/abc/getCode/%7B%22client_id%22%3A%2248e09e3-87b8395f7c5f%22%2C%22redirect_uri%22%3A%22https%3A%2F%2Ftestvei.cn%2Fvestomer%2FGjViQ%3FcardBag%3D1%22%2C%22state%22%3A%22GWeiQ%22%2C%22scope%22%3A%22phonginfo%2Copenid%22%2C%22response_type%22%3A%22code%22%7D</p>\n"}],"owner":{"account_id":7556248,"reputation":299,"user_id":5735743,"accept_rate":62,"display_name":"J John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680680528,"creation_date":1680659665,"question_id":75935099,"body_markdown":"Under spingboot 2.x, I have a url http://localhost:8940/authorize/abc/getCode/{&quot;client_id&quot;:&quot;48e09e3-87b8395f7c5f&quot;,&quot;redirect_uri&quot;:&quot;https://testvei.cn/vestomer/GjViQ?cardBag=1&quot;,&quot;state&quot;:&quot;GWeiQ&quot;,&quot;scope&quot;:&quot;phonginfo,openid&quot;,&quot;response_type&quot;:&quot;code&quot;} \r\n\r\nAnd my controller method \r\n\r\n      @RequestMapping(&quot;/abc/getCode/**&quot;)\r\n    public void abcAuthorizeGetCode() {\r\n        Object path = request.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\r\n        Object pathVariable = request.getAttribute(HandlerMapping.PATH_WITHIN_HANDLER_MAPPING_ATTRIBUTE);\r\n        String pathParamJson = pathMatcher.extractPathWithinPattern((String) path, (String) pathVariable);\r\n        JSONObject params = JSON.parseObject(URLDecoder.decode(pathParamJson, &quot;UTF-8&quot;));\r\n        String redirectUri = params.getString(&quot;redirect_uri&quot;);\r\n    }\r\nwhen sending request by that url ,I got a 400 error,says &quot;Invalid character found in the request target&quot;. By removing &quot;?&quot; (the new Url  http://localhost:8940/authorize/abc/getCode/{&quot;client_id&quot;:&quot;48e09e3-87b8395f7c5f&quot;,&quot;redirect_uri&quot;:&quot;https://testvei.cn/vestomer/GjViQcardBag=1&quot;,&quot;state&quot;:&quot;GWeiQ&quot;,&quot;scope&quot;:&quot;phonginfo,openid&quot;,&quot;response_type&quot;:&quot;code&quot;}) it gots normal again, I&#39;ve got confused .\r\n\r\nAnd another question,why browers will auto encode illeagl characters in the path however character after the &quot;?&quot; will not ?\r\n\r\nFor example\r\n\r\n&gt; http:// localhost:8940/d/{\r\n\r\n   \r\nwill encode to  \r\n\r\n&gt; http:// localhost:8940/d/%7B\r\n\r\nhowever\r\n\r\n&gt; http:// localhost:8940/d?param={\r\n\r\n   will cause 400 error\r\n\r\n","title":"Question mark in url cause request error Under springboot2.x","body":"<p>Under spingboot 2.x, I have a url http://localhost:8940/authorize/abc/getCode/{&quot;client_id&quot;:&quot;48e09e3-87b8395f7c5f&quot;,&quot;redirect_uri&quot;:&quot;https://testvei.cn/vestomer/GjViQ?cardBag=1&quot;,&quot;state&quot;:&quot;GWeiQ&quot;,&quot;scope&quot;:&quot;phonginfo,openid&quot;,&quot;response_type&quot;:&quot;code&quot;}</p>\n<p>And my controller method</p>\n<pre><code>  @RequestMapping(&quot;/abc/getCode/**&quot;)\npublic void abcAuthorizeGetCode() {\n    Object path = request.getAttribute(HandlerMapping.BEST_MATCHING_PATTERN_ATTRIBUTE);\n    Object pathVariable = request.getAttribute(HandlerMapping.PATH_WITHIN_HANDLER_MAPPING_ATTRIBUTE);\n    String pathParamJson = pathMatcher.extractPathWithinPattern((String) path, (String) pathVariable);\n    JSONObject params = JSON.parseObject(URLDecoder.decode(pathParamJson, &quot;UTF-8&quot;));\n    String redirectUri = params.getString(&quot;redirect_uri&quot;);\n}\n</code></pre>\n<p>when sending request by that url ,I got a 400 error,says &quot;Invalid character found in the request target&quot;. By removing &quot;?&quot; (the new Url  http://localhost:8940/authorize/abc/getCode/{&quot;client_id&quot;:&quot;48e09e3-87b8395f7c5f&quot;,&quot;redirect_uri&quot;:&quot;https://testvei.cn/vestomer/GjViQcardBag=1&quot;,&quot;state&quot;:&quot;GWeiQ&quot;,&quot;scope&quot;:&quot;phonginfo,openid&quot;,&quot;response_type&quot;:&quot;code&quot;}) it gots normal again, I've got confused .</p>\n<p>And another question,why browers will auto encode illeagl characters in the path however character after the &quot;?&quot; will not ?</p>\n<p>For example</p>\n<blockquote>\n<p>http:// localhost:8940/d/{</p>\n</blockquote>\n<p>will encode to</p>\n<blockquote>\n<p>http:// localhost:8940/d/%7B</p>\n</blockquote>\n<p>however</p>\n<blockquote>\n<p>http:// localhost:8940/d?param={</p>\n</blockquote>\n<p>will cause 400 error</p>\n"},{"tags":["java","parallel-processing","testng"],"answers":[{"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680680370,"creation_date":1680680370,"answer_id":75936794,"question_id":75929332,"body_markdown":"Currently TestNG does not have this support that you ask for (i.e., be able to read the parallel mode from the `&lt;suite&gt;` and then apply the parallel execution strategy for the data provider).\r\n\r\nBut we can still do this using TestNG as listed below:\r\n\r\n - Ensure that you are using the latest released version of TestNG (as of today it is `7.7.1`)\r\n - Create an implementation of `IAnnotationTransfromer` as shown below\r\n - Add this listener to your suite file using the `&lt;listener&gt;` tag or using the service loader mechanism as explained in the [official TestNG documentation][1] \r\n - Now run your suite with the JVM argument `-Ddp.parallel.mode`\r\n\r\nThe reason why TestNG does not support reading the suite file parameters and apply it to the `IAnnotationTransformer` is because the `IAnnotationTransformer` gets invoked first so as to help TestNG collect all the methods to be executed and ONLY later does any other suite listener get invoked. Currently we can read the suite parameters ONLY via any of the suite listener.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.lang.reflect.Method;\r\n    import org.testng.IAnnotationTransformer;\r\n    import org.testng.annotations.IDataProviderAnnotation;\r\n    \r\n    public class DataProviderAlteringListener implements IAnnotationTransformer {\r\n    \r\n      @Override\r\n      public void transform(IDataProviderAnnotation annotation, Method method) {\r\n        boolean runInParallel = Boolean.getBoolean(&quot;dp.parallel.mode&quot;);\r\n        if (runInParallel) {\r\n          annotation.setParallel(true);\r\n        }\r\n      }\r\n    }\r\n\r\nQuoting the documentation for the service loader part (for the sake of completeness of this answer)\r\n\r\n&gt; create a file at the location\r\n&gt; META-INF/services/org.testng.ITestNGListener, which will name the\r\n&gt; implementation(s)\r\n\r\nHere the implementation would basically be the fully qualified class name of `DataProviderAlteringListener`\r\n\r\n  [1]: https://testng.org/doc/documentation-main.html#listeners-service-loader","title":"Provider &quot;parallel&quot; value to data provider from test suite","body":"<p>Currently TestNG does not have this support that you ask for (i.e., be able to read the parallel mode from the <code>&lt;suite&gt;</code> and then apply the parallel execution strategy for the data provider).</p>\n<p>But we can still do this using TestNG as listed below:</p>\n<ul>\n<li>Ensure that you are using the latest released version of TestNG (as of today it is <code>7.7.1</code>)</li>\n<li>Create an implementation of <code>IAnnotationTransfromer</code> as shown below</li>\n<li>Add this listener to your suite file using the <code>&lt;listener&gt;</code> tag or using the service loader mechanism as explained in the <a href=\"https://testng.org/doc/documentation-main.html#listeners-service-loader\" rel=\"nofollow noreferrer\">official TestNG documentation</a></li>\n<li>Now run your suite with the JVM argument <code>-Ddp.parallel.mode</code></li>\n</ul>\n<p>The reason why TestNG does not support reading the suite file parameters and apply it to the <code>IAnnotationTransformer</code> is because the <code>IAnnotationTransformer</code> gets invoked first so as to help TestNG collect all the methods to be executed and ONLY later does any other suite listener get invoked. Currently we can read the suite parameters ONLY via any of the suite listener.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Method;\nimport org.testng.IAnnotationTransformer;\nimport org.testng.annotations.IDataProviderAnnotation;\n\npublic class DataProviderAlteringListener implements IAnnotationTransformer {\n\n  @Override\n  public void transform(IDataProviderAnnotation annotation, Method method) {\n    boolean runInParallel = Boolean.getBoolean(&quot;dp.parallel.mode&quot;);\n    if (runInParallel) {\n      annotation.setParallel(true);\n    }\n  }\n}\n</code></pre>\n<p>Quoting the documentation for the service loader part (for the sake of completeness of this answer)</p>\n<blockquote>\n<p>create a file at the location\nMETA-INF/services/org.testng.ITestNGListener, which will name the\nimplementation(s)</p>\n</blockquote>\n<p>Here the implementation would basically be the fully qualified class name of <code>DataProviderAlteringListener</code></p>\n"}],"owner":{"account_id":2065621,"reputation":3902,"user_id":1841181,"accept_rate":54,"display_name":"xploreraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75936794,"answer_count":1,"score":0,"last_activity_date":1680680370,"creation_date":1680610770,"question_id":75929332,"body_markdown":"    @DataProvider(name=&quot;testData&quot;, parallel = true}\r\n    Object[][] data() {\r\n        return new Object[][]{{&quot;one&quot;}, {&quot;two&quot;}}; // test data e.g., but its actually read in a @BeforeTest method and returned here.\r\n    }\r\n\r\nThats how we all write data providers. But I am facing a problem when I want to decide when to make it parallel or not based on a parameter which is defined in the test suite whose value I can only read during runtime, but the annotations need a constant.\r\n\r\nAs I am modifying an existing test library where users only need to add a test suite and test data file (array of request and response), I am trying to enable the parallel runs of their test cases (using parallel in data provider with value read from test suite). \r\n\r\nSo, test suite will have information like\r\n\r\n    &lt;hostName&gt;google.com&lt;/hostName&gt;\r\n    &lt;port&gt;8443&lt;/port&gt;\r\n    &lt;protocol&gt;https&lt;/protocol&gt;\r\n\r\nSimilarly, will add \r\n\r\n    &lt;runInParallel&gt;true&lt;/runInParallel&gt;\r\n\r\nAnd test-data file will be like below which basically is a set of test cases and served via data provider in the library:\r\n\r\n    [\r\n        {\r\n            &quot;test_id&quot;: 1,\r\n            &quot;request&quot;: &quot;some-json&quot;,\r\n            &quot;response&quot;: &quot;some-json&quot;\r\n        },\r\n        {\r\n            &quot;test_id&quot;: 2,\r\n            &quot;request&quot;: &quot;some-json&quot;,\r\n            &quot;response&quot;: &quot;some-json&quot;\r\n        }\r\n    ]\r\n\r\nCan you suggest me how to achieve this without a nasty hack (no harm to learn that too)?","title":"Provider &quot;parallel&quot; value to data provider from test suite","body":"<pre><code>@DataProvider(name=&quot;testData&quot;, parallel = true}\nObject[][] data() {\n    return new Object[][]{{&quot;one&quot;}, {&quot;two&quot;}}; // test data e.g., but its actually read in a @BeforeTest method and returned here.\n}\n</code></pre>\n<p>Thats how we all write data providers. But I am facing a problem when I want to decide when to make it parallel or not based on a parameter which is defined in the test suite whose value I can only read during runtime, but the annotations need a constant.</p>\n<p>As I am modifying an existing test library where users only need to add a test suite and test data file (array of request and response), I am trying to enable the parallel runs of their test cases (using parallel in data provider with value read from test suite).</p>\n<p>So, test suite will have information like</p>\n<pre><code>&lt;hostName&gt;google.com&lt;/hostName&gt;\n&lt;port&gt;8443&lt;/port&gt;\n&lt;protocol&gt;https&lt;/protocol&gt;\n</code></pre>\n<p>Similarly, will add</p>\n<pre><code>&lt;runInParallel&gt;true&lt;/runInParallel&gt;\n</code></pre>\n<p>And test-data file will be like below which basically is a set of test cases and served via data provider in the library:</p>\n<pre><code>[\n    {\n        &quot;test_id&quot;: 1,\n        &quot;request&quot;: &quot;some-json&quot;,\n        &quot;response&quot;: &quot;some-json&quot;\n    },\n    {\n        &quot;test_id&quot;: 2,\n        &quot;request&quot;: &quot;some-json&quot;,\n        &quot;response&quot;: &quot;some-json&quot;\n    }\n]\n</code></pre>\n<p>Can you suggest me how to achieve this without a nasty hack (no harm to learn that too)?</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"score":0,"creation_date":1631638238,"post_id":69160184,"comment_id":122274961,"body_markdown":"Hm... The edited question hav nothing to do with the original one.","body":"Hm... The edited question hav nothing to do with the original one."},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1631718014,"post_id":69160184,"comment_id":122299209,"body_markdown":"Don&#39;t edit your post to completely change what you&#39;re asking, invalidating existing answers. If you have a new question, create a new post.","body":"Don&#39;t edit your post to completely change what you&#39;re asking, invalidating existing answers. If you have a new question, create a new post."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631524823,"creation_date":1631524823,"answer_id":69160245,"question_id":69160184,"body_markdown":"Because this is what join is supposed to do - to wait for the completion.","title":"CompletableFuture is blocking thread","body":"<p>Because this is what join is supposed to do - to wait for the completion.</p>\n"},{"tags":[],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680680369,"creation_date":1631524844,"answer_id":69160249,"question_id":69160184,"body_markdown":"while `join` is a blocking call and waits until completableFuture completes. IOW, by calling `join` you turn the async code into a synchronous code.","title":"CompletableFuture is blocking thread","body":"<p>while <code>join</code> is a blocking call and waits until completableFuture completes. IOW, by calling <code>join</code> you turn the async code into a synchronous code.</p>\n"}],"owner":{"account_id":22057653,"reputation":19,"user_id":16320860,"display_name":"wipesax360"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1538,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1680680369,"creation_date":1631524560,"question_id":69160184,"body_markdown":"     CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; completableFuture =\r\n            client.sendAsync(request, HttpResponse.BodyHandlers.ofString());\r\n        completableFuture\r\n            .thenApplyAsync(HttpResponse::headers)\r\n            .thenAcceptAsync(System.out::println);\r\n        HttpResponse&lt;String&gt; response = completableFuture.join();\r\n    \r\n    sysout(&quot;test&quot;);\r\n\r\nthere is no print out after join() call, join waits to finish the request.\r\nwhy?","title":"CompletableFuture is blocking thread","body":"<pre><code> CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; completableFuture =\n        client.sendAsync(request, HttpResponse.BodyHandlers.ofString());\n    completableFuture\n        .thenApplyAsync(HttpResponse::headers)\n        .thenAcceptAsync(System.out::println);\n    HttpResponse&lt;String&gt; response = completableFuture.join();\n\nsysout(&quot;test&quot;);\n</code></pre>\n<p>there is no print out after join() call, join waits to finish the request.\nwhy?</p>\n"},{"tags":["java","javafx","tableview"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1426570445,"creation_date":1426563930,"answer_id":29090956,"question_id":29090583,"body_markdown":"Assuming you know something is selected, you can do\r\n\r\n    TablePosition pos = table.getSelectionModel().getSelectedCells().get(0);\r\n    int row = pos.getRow();\r\n    \r\n    // Item here is the table view type:\r\n    Item item = table.getItems().get(row);\r\n    \r\n    TableColumn col = pos.getTableColumn();\r\n    \r\n    // this gives the value in the selected cell:\r\n    String data = (String) col.getCellObservableValue(item).getValue();","title":"JavaFX TableView how to get cell&#39;s data?","body":"<p>Assuming you know something is selected, you can do</p>\n\n<pre><code>TablePosition pos = table.getSelectionModel().getSelectedCells().get(0);\nint row = pos.getRow();\n\n// Item here is the table view type:\nItem item = table.getItems().get(row);\n\nTableColumn col = pos.getTableColumn();\n\n// this gives the value in the selected cell:\nString data = (String) col.getCellObservableValue(item).getValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7565340,"reputation":1,"user_id":5741164,"display_name":"Rabie Khoualdia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451852916,"creation_date":1451850200,"answer_id":34580846,"question_id":29090583,"body_markdown":"    table.getSelectionModel().selectedItemProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                if (newValue == null) {\r\n                    selected.setText(&quot;&quot;);\r\n                    return;\r\n                }\r\n                           System.out.println(newValue.getId());\r\n            });\r\n\r\n\r\nNB: &quot;getId&quot; is your &quot;get&quot; Column and &quot;table&quot; is the name of your tabelview ","title":"JavaFX TableView how to get cell&#39;s data?","body":"<pre><code>table.getSelectionModel().selectedItemProperty().addListener((observable, oldValue, newValue) -&gt; {\n            if (newValue == null) {\n                selected.setText(\"\");\n                return;\n            }\n                       System.out.println(newValue.getId());\n        });\n</code></pre>\n\n<p>NB: \"getId\" is your \"get\" Column and \"table\" is the name of your tabelview </p>\n"},{"tags":[],"owner":{"account_id":5977510,"reputation":1,"user_id":7662070,"display_name":"Nicolas Angelico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491079433,"creation_date":1491079433,"answer_id":43161828,"question_id":29090583,"body_markdown":"I solved it. I get the string, for example, &quot;[1, proveedor1, calzado1, Rojo, 39, 600, 2, 1200]&quot;, and get the frist cell (id) whit substring. saludos\r\n\r\n    TablePosition pos = (TablePosition) tableVenta.getSelectionModel().getSelectedCells().get(0);\r\n    int index = pos.getRow();\r\n    String selected = tableVenta.getItems().get(index).toString();\r\n    selected = selected.substring(1, selected.indexOf(&quot;,&quot;));\r\n    System.out.println(selected);","title":"JavaFX TableView how to get cell&#39;s data?","body":"<p>I solved it. I get the string, for example, \"[1, proveedor1, calzado1, Rojo, 39, 600, 2, 1200]\", and get the frist cell (id) whit substring. saludos</p>\n\n<pre><code>TablePosition pos = (TablePosition) tableVenta.getSelectionModel().getSelectedCells().get(0);\nint index = pos.getRow();\nString selected = tableVenta.getItems().get(index).toString();\nselected = selected.substring(1, selected.indexOf(\",\"));\nSystem.out.println(selected);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11115807,"reputation":73,"user_id":8160181,"display_name":"Reuben Frimpong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537807967,"creation_date":1537806812,"answer_id":52483743,"question_id":29090583,"body_markdown":"If you are using scene builder, add a method to On Edit Commit for the particular column and add the logic in the controller class. Use `event.getNewValue()` to get the new value entered by the user. Eg.\r\n\r\n    @FXML\r\n    private void UpdateName(TableColumn.CellEditEvent&lt;ModelClass, String&gt; event) {\r\n        ModelClass mc = Table.getSelectionModel().getSelectedItem();\r\n        mc.setName(event.getNewValue());\r\n        System.err.println(&quot;new value &quot;+event.getNewValue());\r\n    }\r\n\r\nUse this when you allow editable columns","title":"JavaFX TableView how to get cell&#39;s data?","body":"<p>If you are using scene builder, add a method to On Edit Commit for the particular column and add the logic in the controller class. Use <code>event.getNewValue()</code> to get the new value entered by the user. Eg.</p>\n\n<pre><code>@FXML\nprivate void UpdateName(TableColumn.CellEditEvent&lt;ModelClass, String&gt; event) {\n    ModelClass mc = Table.getSelectionModel().getSelectedItem();\n    mc.setName(event.getNewValue());\n    System.err.println(\"new value \"+event.getNewValue());\n}\n</code></pre>\n\n<p>Use this when you allow editable columns</p>\n"},{"tags":[],"owner":{"account_id":3669306,"reputation":421,"user_id":3056868,"display_name":"Howard J"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1546020354,"creation_date":1546020354,"answer_id":53962584,"question_id":29090583,"body_markdown":"Assuming you haven&#39;t selected any row but know where and what you want....\r\n\r\n    // Item here is the table view type:\r\n        Unpaid item = userTable.getItems().get(0);\r\n    \r\n        TableColumn col = userTable.getColumns().get(3);\r\n    \r\n        // this gives the value in the selected cell:\r\n        String data = (String) col.getCellObservableValue(item).getValue();\r\n        JOptionPane.showMessageDialog(null, data);","title":"JavaFX TableView how to get cell&#39;s data?","body":"<p>Assuming you haven't selected any row but know where and what you want....</p>\n\n<pre><code>// Item here is the table view type:\n    Unpaid item = userTable.getItems().get(0);\n\n    TableColumn col = userTable.getColumns().get(3);\n\n    // this gives the value in the selected cell:\n    String data = (String) col.getCellObservableValue(item).getValue();\n    JOptionPane.showMessageDialog(null, data);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4182358,"reputation":136,"user_id":3426988,"accept_rate":71,"display_name":"Samer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567880497,"creation_date":1567880497,"answer_id":57836387,"question_id":29090583,"body_markdown":"you can use this code i think it&#39;s working \r\n\r\n    String a=personTable.getColumns().get(0).getCellObservableValue(0).getValue().toString(); \r\n    System.out.println(&quot;value&quot;+a);","title":"JavaFX TableView how to get cell&#39;s data?","body":"<p>you can use this code i think it's working </p>\n\n<pre><code>String a=personTable.getColumns().get(0).getCellObservableValue(0).getValue().toString(); \nSystem.out.println(\"value\"+a);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28175457,"reputation":21,"user_id":21533296,"display_name":"Seco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680679892,"creation_date":1680679892,"answer_id":75936738,"question_id":29090583,"body_markdown":"I&#39;m using something like this to add data to table:\r\n\r\n    ObservableList&lt;Artikl&gt; data = FXCollections.observableArrayList();\r\n    data.add(new Artikl(&quot;Some String data&quot;));\r\n\r\n\r\nArtikl is class of setters and getters.\r\n\r\n    public class Artikl {\r\n    private String KAT;\r\n    public Artikl(String kb)\r\n    {\r\n       this.KAT=kb;\r\n    }\r\n    \r\n    public String getKAT()\r\n    {\r\n        return KAT;\r\n    }\r\n    public void setKAT(String kb)\r\n    {\r\n        KAT=kb;\r\n    }\r\n    }\r\n\r\nAnd to get it back I&#39;m using:\r\n\r\n    ObservableList&lt;Artikl&gt; data = tableName.getItems();\r\n    for(int i=0;i&lt;data.size();i++)\r\n    {\r\n    System.out.println(data.get(i).getKAT());\r\n    }\r\n\r\nThis prints it all. To get selected item:\r\n\r\n    System.out.println(data.get(tableName.getSelectionModel().getSelectedIndex()).getKAT());","title":"JavaFX TableView how to get cell&#39;s data?","body":"<p>I'm using something like this to add data to table:</p>\n<pre><code>ObservableList&lt;Artikl&gt; data = FXCollections.observableArrayList();\ndata.add(new Artikl(&quot;Some String data&quot;));\n</code></pre>\n<p>Artikl is class of setters and getters.</p>\n<pre><code>public class Artikl {\nprivate String KAT;\npublic Artikl(String kb)\n{\n   this.KAT=kb;\n}\n\npublic String getKAT()\n{\n    return KAT;\n}\npublic void setKAT(String kb)\n{\n    KAT=kb;\n}\n}\n</code></pre>\n<p>And to get it back I'm using:</p>\n<pre><code>ObservableList&lt;Artikl&gt; data = tableName.getItems();\nfor(int i=0;i&lt;data.size();i++)\n{\nSystem.out.println(data.get(i).getKAT());\n}\n</code></pre>\n<p>This prints it all. To get selected item:</p>\n<pre><code>System.out.println(data.get(tableName.getSelectionModel().getSelectedIndex()).getKAT());\n</code></pre>\n"}],"owner":{"account_id":5511336,"reputation":2718,"user_id":4377521,"accept_rate":90,"display_name":"sashaaero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45360,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":29090956,"answer_count":7,"score":12,"last_activity_date":1680679892,"creation_date":1426561161,"question_id":29090583,"body_markdown":"I&#39;m using that method to get whole object.&lt;br&gt;\r\n\r\n    tableView.getSelectionModel().getSelectedItem()\r\n\r\nHow can I get data from single cell?\r\n![enter image description here][1]\r\n&lt;br&gt;I mean like get **S20BJ9DZ300266** as String?\r\n\r\n  [1]: http://i.stack.imgur.com/D171n.png","title":"JavaFX TableView how to get cell&#39;s data?","body":"<p>I'm using that method to get whole object.<br></p>\n\n<pre><code>tableView.getSelectionModel().getSelectedItem()\n</code></pre>\n\n<p>How can I get data from single cell?\n<img src=\"https://i.stack.imgur.com/D171n.png\" alt=\"enter image description here\">\n<br>I mean like get <strong>S20BJ9DZ300266</strong> as String?</p>\n"},{"tags":["java","activemq","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":388967,"reputation":27,"user_id":748189,"display_name":"Sistemlegend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379585878,"creation_date":1379585878,"answer_id":18892022,"question_id":18891720,"body_markdown":"I&#39;d try connecting with the http server with a http/ftp client and verify you have write permissions... ","title":"BlobMesage 401 Unauthorized on ActiveMQ","body":"<p>I'd try connecting with the http server with a http/ftp client and verify you have write permissions... </p>\n"},{"tags":[],"owner":{"account_id":2520686,"reputation":763,"user_id":2191131,"accept_rate":73,"display_name":"Markus"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680679593,"creation_date":1384250099,"answer_id":19925966,"question_id":18891720,"body_markdown":"I think you need to add an HTTP transport connector:\r\n\r\n    &lt;transportConnector name=&quot;http&quot; uri=&quot;http://0.0.0.0:8080&quot;/&gt;\r\n\r\nThe URI as [http://localhost:8080](www.dummy.com) did &lt;b&gt;not&lt;/b&gt; work in my case.\r\nI am also under the impression that the default connectors are not secured and username and password are obsolete (at least for a first try).\r\n\r\n&lt;b&gt;Final solution&lt;/b&gt;\r\n\r\nActiveMQ config (activemq.xml)\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n        &lt;transportConnectors&gt;\r\n           &lt;transportConnector name=&quot;http&quot; uri=&quot;http://0.0.0.0:8080&quot;/&gt;\r\n        &lt;/transportConnectors&gt;\r\n\r\nJava Client (producer only)\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n        try {\r\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;http://localhost:8080&quot;);\r\n        Connection connection = connectionFactory.createConnection();\r\n        connection.start();\r\n\r\n        // Create a Session\r\n        Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\r\n        // Create the best Queue ever\r\n        Destination destination = session.createQueue(&quot;STACKOVERFLOW.SUPPORT&quot;);\r\n\r\n        // Create a MessageProducer from the Session to the Topic or Queue\r\n        MessageProducer producer = session.createProducer(destination);\r\n        producer.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\r\n\r\n        // Create a messages\r\n        TextMessage message = session.createTextMessage(&quot;I hope, this snippets helps you :D | Thread: &quot; + Thread.currentThread().getName());\r\n\r\n        producer.send(message);\r\n\r\n        //clean up\r\n        session.close();\r\n        connection.close();\r\n        } catch(JMSException e) {\r\n           e.printStackTrace();\r\n        }","title":"BlobMesage 401 Unauthorized on ActiveMQ","body":"<p>I think you need to add an HTTP transport connector:</p>\n<pre><code>&lt;transportConnector name=&quot;http&quot; uri=&quot;http://0.0.0.0:8080&quot;/&gt;\n</code></pre>\n<p>The URI as http://localhost:8080 did <b>not</b> work in my case.\nI am also under the impression that the default connectors are not secured and username and password are obsolete (at least for a first try).</p>\n<p><b>Final solution</b></p>\n<p>ActiveMQ config (activemq.xml)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;transportConnectors&gt;\n       &lt;transportConnector name=&quot;http&quot; uri=&quot;http://0.0.0.0:8080&quot;/&gt;\n    &lt;/transportConnectors&gt;\n</code></pre>\n<p>Java Client (producer only)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    try {\n    ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;http://localhost:8080&quot;);\n    Connection connection = connectionFactory.createConnection();\n    connection.start();\n\n    // Create a Session\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n\n    // Create the best Queue ever\n    Destination destination = session.createQueue(&quot;STACKOVERFLOW.SUPPORT&quot;);\n\n    // Create a MessageProducer from the Session to the Topic or Queue\n    MessageProducer producer = session.createProducer(destination);\n    producer.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\n\n    // Create a messages\n    TextMessage message = session.createTextMessage(&quot;I hope, this snippets helps you :D | Thread: &quot; + Thread.currentThread().getName());\n\n    producer.send(message);\n\n    //clean up\n    session.close();\n    connection.close();\n    } catch(JMSException e) {\n       e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":3172455,"reputation":21,"user_id":2681048,"display_name":"Hieu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2932,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680679593,"creation_date":1379584890,"question_id":18891720,"body_markdown":"I have a problem when creating a blob message to transfer file on ActiveMQ. \r\nError: javax.jms.JMSException: PUT was not successful: 401 Unauthorized\r\nHere my brokerURL: \r\n\r\n        &lt;bean id=&quot;connectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;&gt;\r\n    &lt;property name=&quot;brokerURL&quot;&gt;&lt;value&gt;tcp://localhost:61616?jms.blobTransferPolicy.defaultUploadUrl=http://localhost:8161/fileserver/&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;userName&quot; value=&quot;admin&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;admin&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n\r\nAny issues here ? I spent some hours for searching but not find correct solution. Please share to me\r\n","title":"BlobMesage 401 Unauthorized on ActiveMQ","body":"<p>I have a problem when creating a blob message to transfer file on ActiveMQ. \nError: javax.jms.JMSException: PUT was not successful: 401 Unauthorized\nHere my brokerURL: </p>\n\n<pre><code>    &lt;bean id=\"connectionFactory\" class=\"org.apache.activemq.ActiveMQConnectionFactory\"&gt;\n&lt;property name=\"brokerURL\"&gt;&lt;value&gt;tcp://localhost:61616?jms.blobTransferPolicy.defaultUploadUrl=http://localhost:8161/fileserver/&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=\"userName\" value=\"admin\" /&gt;\n        &lt;property name=\"password\" value=\"admin\" /&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>Any issues here ? I spent some hours for searching but not find correct solution. Please share to me</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":4,"creation_date":1680630005,"post_id":75932312,"comment_id":133929584,"body_markdown":"Yes, this is fine. Since you want to call a non-static method, you need an instance. Simply creating it using `new` is not a problem at all, especially for smaller programs (the opposite would be factory methods or dependency injection etc).","body":"Yes, this is fine. Since you want to call a non-static method, you need an instance. Simply creating it using <code>new</code> is not a problem at all, especially for smaller programs (the opposite would be factory methods or dependency injection etc)."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":5,"creation_date":1680630152,"post_id":75932312,"comment_id":133929618,"body_markdown":"You just compiled and run your code without problems which shows it is *allowed* in Java. But that is probably not what you want to ask about. So could you [edit] your question and clarify what do you mean by &quot;valid&quot;?","body":"You just compiled and run your code without problems which shows it is <i>allowed</i> in Java. But that is probably not what you want to ask about. So could you <a href=\"https://stackoverflow.com/posts/75932312/edit\">edit</a> your question and clarify what do you mean by &quot;valid&quot;?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":2,"creation_date":1680630586,"post_id":75932312,"comment_id":133929726,"body_markdown":"Yes, perfectly fine. Necessary.","body":"Yes, perfectly fine. Necessary."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680631396,"post_id":75932312,"comment_id":133929929,"body_markdown":"I voted as opinion based. It can be done, but not necessary unless trying to use non-static class state. `static void something()` would also work here, then you don&#39;t need `new Main()` at all, and just call `something()`","body":"I voted as opinion based. It can be done, but not necessary unless trying to use non-static class state. <code>static void something()</code> would also work here, then you don&#39;t need <code>new Main()</code> at all, and just call <code>something()</code>"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1680632844,"post_id":75932312,"comment_id":133930270,"body_markdown":"Q: Is it valid to create object of class in which main method is present?  A: Yes, definitely.  In fact, having a &quot;`public static void main(String[] args)`&quot; used to be *ENCOURAGED* for *EVERY* class, to facilitate &quot;unit testing&quot; (a practice which has since fallen out of favor).  STRONG SUGGESTION: Please don&#39;t name your class &quot;Main&quot;.  Please give it a name that tells something about what the class is *intended for*.","body":"Q: Is it valid to create object of class in which main method is present?  A: Yes, definitely.  In fact, having a &quot;<code>public static void main(String[] args)</code>&quot; used to be <i>ENCOURAGED</i> for <i>EVERY</i> class, to facilitate &quot;unit testing&quot; (a practice which has since fallen out of favor).  STRONG SUGGESTION: Please don&#39;t name your class &quot;Main&quot;.  Please give it a name that tells something about what the class is <i>intended for</i>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680633326,"creation_date":1680631263,"answer_id":75932488,"question_id":75932312,"body_markdown":"Every Java app needs a `main` method. The `main` method is the [entry point][1] for launching a Java app.\r\n\r\nThat `public static void main` method must be placed in *some* class. That class may serve other purposes, or that class may serve that one single purpose of providing a entry point for launching the apps lifecycle. \r\n\r\n&gt;is this way of creating object inside main() method is valid?\r\n\r\nYes, valid. \r\n\r\n&#128073; The choice is yours whether you want to instantiate objects of the class holding the `public static void main` method.\r\n\r\nAs [commented by paulsm4][2], in the olden days before the advent of formal [unit testing][3] accompanied by sophisticated [tooling for testing][4], programmers sometimes wrote a `public static void main` into most every class. Each of those `main` methods would test functionality coming primarily from that class. Only one of these many `main` methods would act as the entry point for formally launching the app for the end-user. All the other `main` methods were just a way to quickly run some tests of their containing class. These testing `main` methods would instantiate objects of their containing class in order to test the instance methods.\r\n\r\nKeep in mind that any use of `static`, including for `main`, is *not* [object-oriented][5]. But we have a [chicken-or-egg][6] problem. Object-oriented programming (OOP) assumes an ideal world of objects floating around in memory sending messages to each other. But that ideal world does not exist until *after* we launch our app. So a `static` main method is the trick, the hack if you will, to solving our chicken-or-egg dilemma, to get our ideal OOP world up and running. In other words, when I see `public static void main`, I personally think of that code as being outside my real app, and mentally set it aside.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Entry_point\r\n  [2]: https://stackoverflow.com/questions/75932312/is-it-valid-to-create-object-of-class-in-which-main-method-is-present/75932488#comment133930270_75932312\r\n  [3]: https://en.wikipedia.org/wiki/Unit_testing\r\n  [4]: https://en.wikipedia.org/wiki/JUnit\r\n  [5]: https://en.wikipedia.org/wiki/Object-oriented_programming\r\n  [6]: https://en.wikipedia.org/wiki/Chicken_or_the_egg","title":"Is it valid to create object of class in which main method is present?","body":"<p>Every Java app needs a <code>main</code> method. The <code>main</code> method is the <a href=\"https://en.wikipedia.org/wiki/Entry_point\" rel=\"nofollow noreferrer\">entry point</a> for launching a Java app.</p>\n<p>That <code>public static void main</code> method must be placed in <em>some</em> class. That class may serve other purposes, or that class may serve that one single purpose of providing a entry point for launching the apps lifecycle.</p>\n<blockquote>\n<p>is this way of creating object inside main() method is valid?</p>\n</blockquote>\n<p>Yes, valid.</p>\n<p> The choice is yours whether you want to instantiate objects of the class holding the <code>public static void main</code> method.</p>\n<p>As <a href=\"https://stackoverflow.com/questions/75932312/is-it-valid-to-create-object-of-class-in-which-main-method-is-present/75932488#comment133930270_75932312\">commented by paulsm4</a>, in the olden days before the advent of formal <a href=\"https://en.wikipedia.org/wiki/Unit_testing\" rel=\"nofollow noreferrer\">unit testing</a> accompanied by sophisticated <a href=\"https://en.wikipedia.org/wiki/JUnit\" rel=\"nofollow noreferrer\">tooling for testing</a>, programmers sometimes wrote a <code>public static void main</code> into most every class. Each of those <code>main</code> methods would test functionality coming primarily from that class. Only one of these many <code>main</code> methods would act as the entry point for formally launching the app for the end-user. All the other <code>main</code> methods were just a way to quickly run some tests of their containing class. These testing <code>main</code> methods would instantiate objects of their containing class in order to test the instance methods.</p>\n<p>Keep in mind that any use of <code>static</code>, including for <code>main</code>, is <em>not</em> <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">object-oriented</a>. But we have a <a href=\"https://en.wikipedia.org/wiki/Chicken_or_the_egg\" rel=\"nofollow noreferrer\">chicken-or-egg</a> problem. Object-oriented programming (OOP) assumes an ideal world of objects floating around in memory sending messages to each other. But that ideal world does not exist until <em>after</em> we launch our app. So a <code>static</code> main method is the trick, the hack if you will, to solving our chicken-or-egg dilemma, to get our ideal OOP world up and running. In other words, when I see <code>public static void main</code>, I personally think of that code as being outside my real app, and mentally set it aside.</p>\n"}],"owner":{"account_id":26360293,"reputation":19,"user_id":20016594,"display_name":"Prats"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1680679538,"creation_date":1680629908,"question_id":75932312,"body_markdown":"```java\r\npublic class Main {\r\n\r\n    void something() {\r\n        System.out.println(&quot;Works?&quot;);\r\n    }\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tMain m = new Main();\r\n\t\tm.something();\r\n\t}\r\n}\r\n```\r\nIn the program above, I simply created an object of class `Main` inside method `main()`. Later I used that object to call `something()` method. The code works fine but, is this way of creating an object inside method `main()` valid?\r\n","title":"Is it valid to create object of class in which main method is present?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    void something() {\n        System.out.println(&quot;Works?&quot;);\n    }\n\n    public static void main(String[] args) {\n        Main m = new Main();\n        m.something();\n    }\n}\n</code></pre>\n<p>In the program above, I simply created an object of class <code>Main</code> inside method <code>main()</code>. Later I used that object to call <code>something()</code> method. The code works fine but, is this way of creating an object inside method <code>main()</code> valid?</p>\n"},{"tags":["java","spring-boot","circuit-breaker","resilience4j","resilience4j-retry"],"answers":[{"tags":[],"owner":{"account_id":2012119,"reputation":485,"user_id":1800319,"display_name":"Raghvendra Garg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680679449,"creation_date":1680679449,"answer_id":75936688,"question_id":75921880,"body_markdown":"you could either define exceptions on which you want to retry using `retryExceptions` or define exceptions you wish to ignore using `ignoreExceptions` If either of the solutions does not work for you then you can have a predicate `retryOnResultPredicate` which evaluates if a result should be retried. The Predicate must return true if the result should be retried, otherwise, it must return false. \r\n\r\nlike below.\r\n\r\n    import org.springframework.web.client.HttpClientErrorException;\r\n    import java.util.function.Predicate;\r\n\r\n    public class IgnoreErrorExceptionPredicate implements Predicate&lt;Throwable&gt; {\r\n\r\n\t  @Override\r\n\t  public boolean test(Throwable e) {\r\n\t\treturn e instanceof HttpClientErrorException || e.getCause() instanceof HttpClientErrorException;\r\n\t  }\r\n\r\n    }\r\n\r\nand configure this predicate in retry properties as \r\n\r\n    resilience4j.retry:\r\n        configs:\r\n            default:\r\n                maxAttempts: 3\r\n                waitDuration: 100\r\n                retryExceptions:\r\n                    - org.springframework.web.client.HttpServerErrorException\r\n                    - java.util.concurrent.TimeoutException\r\n                    - java.io.IOException\r\n                ignoreExceptions:\r\n                    - io.github.robwin.exception.BusinessException\r\n                retryOnResultPredicate:\r\n                    - your.predicate.package.IgnoreErrorExceptionPredicate\r\n","title":"Order of execution for Resilience4j annotations?","body":"<p>you could either define exceptions on which you want to retry using <code>retryExceptions</code> or define exceptions you wish to ignore using <code>ignoreExceptions</code> If either of the solutions does not work for you then you can have a predicate <code>retryOnResultPredicate</code> which evaluates if a result should be retried. The Predicate must return true if the result should be retried, otherwise, it must return false.</p>\n<p>like below.</p>\n<pre><code>import org.springframework.web.client.HttpClientErrorException;\nimport java.util.function.Predicate;\n\npublic class IgnoreErrorExceptionPredicate implements Predicate&lt;Throwable&gt; {\n\n  @Override\n  public boolean test(Throwable e) {\n    return e instanceof HttpClientErrorException || e.getCause() instanceof HttpClientErrorException;\n  }\n\n}\n</code></pre>\n<p>and configure this predicate in retry properties as</p>\n<pre><code>resilience4j.retry:\n    configs:\n        default:\n            maxAttempts: 3\n            waitDuration: 100\n            retryExceptions:\n                - org.springframework.web.client.HttpServerErrorException\n                - java.util.concurrent.TimeoutException\n                - java.io.IOException\n            ignoreExceptions:\n                - io.github.robwin.exception.BusinessException\n            retryOnResultPredicate:\n                - your.predicate.package.IgnoreErrorExceptionPredicate\n</code></pre>\n"}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680679449,"creation_date":1680540498,"question_id":75921880,"body_markdown":"We are calling few downstreams from our service, and we need to provide the **circuit breaker**, **retry**, **timelimiter** and **bulkhead** feature to all the downstream services call.\r\n\r\n**Current code-base**: \r\n\r\n    @Override\r\n    @Bulkhead(name = &quot;downstream1&quot;, type = Type.THREADPOOL, fallbackMethod = &quot;downstream1Fallback&quot;)\r\n    @TimeLimiter(name = &quot;downstream1&quot;, fallbackMethod = &quot;downstream1Fallback&quot;)\r\n    @CircuitBreaker(name = &quot;downstream1&quot;, fallbackMethod = &quot;downstream1Fallback&quot;)\r\n    @Retry(name = &quot;downstream1&quot;, fallbackMethod = &quot;downstream1Fallback&quot;)\r\n    public CompletableFuture&lt;String&gt; downstream1(String a) {\r\n        return CompletableFuture.completedFuture(process(a)));\r\n    }\r\n\r\n    public CompletableFuture&lt;String&gt; downstream1Fallback(String a,\r\n            Exception e) {\r\n        return CompletableFuture.completedFuture(&quot;&quot;); // empty string.\r\n    }\r\n\r\n**app.properties** :\r\n\r\n    # timeouts\r\n    resilience4j.timelimiter.instances. downstream1.timeout-duration=30 #30 ms\r\n    \r\n    # retry\r\n    resilience4j.retry.instances.downstream1.max-attempts=1\r\n    \r\n    # bulkhead\r\n    resilience4j.thread-pool-bulkhead.instances.downstream1.core-thread-pool-size=30\r\n    resilience4j.thread-pool-bulkhead.instances.downstream1.max-thread-pool-size=50\r\n    resilience4j.thread-pool-bulkhead.instances.downstream1.queue-capacity=10\r\n\r\n**Use-case** :\r\n\r\nIf the thread-pool by Bulkhead is full OR there&#39;s a timeout from downstream OR circuit-is-open, I don&#39;t want to do the retrying in all of these scenarios, and retry in every other scenario. \r\n\r\nRetry should only happen if there&#39;s an **server exception** from the downstream.\r\n\r\nAs per the official docs : https://resilience4j.readme.io/docs/getting-started-3#aspect-order. This is the order.\r\n\r\n&gt; Retry ( CircuitBreaker ( RateLimiter ( TimeLimiter ( Bulkhead (\r\n&gt; Function\r\n\r\n**My understanding from docs :** \r\n\r\n    case 1: If thread-pool is full, fallback will be called with \r\n    exception type BulkheadFullException.class - no retry\r\n         : else new thread will be spawned to call downstream.\r\n\r\n    case 3: If spawned thread takes more time than what&#39;s set on \r\n    &quot;resilience4j.timelimiter&quot;, fallback will be called with \r\n    exception type TimeoutException.class - no retry\r\n\r\n    case 4: If circuit is open, fallback will be called with \r\n    exception type CallNotPermittedException.class - no retry.\r\n\r\n    case 5: If thread-pool is not full and no timeout and circuit is \r\n    closed as well, and we got some other exception than \r\n    the above mentioned exceptions, than only retry to downstream \r\n    call will trigger using config values set on &quot;resilience4j.retry&quot;.\r\n\r\n\r\n&gt; Is this flow understanding correct, about how resilience4j would work\r\n&gt; OR do I need to change/add any config in the **app.properties** file, to serve the use-case described above.\r\n\r\n\r\n\r\n","title":"Order of execution for Resilience4j annotations?","body":"<p>We are calling few downstreams from our service, and we need to provide the <strong>circuit breaker</strong>, <strong>retry</strong>, <strong>timelimiter</strong> and <strong>bulkhead</strong> feature to all the downstream services call.</p>\n<p><strong>Current code-base</strong>:</p>\n<pre><code>@Override\n@Bulkhead(name = &quot;downstream1&quot;, type = Type.THREADPOOL, fallbackMethod = &quot;downstream1Fallback&quot;)\n@TimeLimiter(name = &quot;downstream1&quot;, fallbackMethod = &quot;downstream1Fallback&quot;)\n@CircuitBreaker(name = &quot;downstream1&quot;, fallbackMethod = &quot;downstream1Fallback&quot;)\n@Retry(name = &quot;downstream1&quot;, fallbackMethod = &quot;downstream1Fallback&quot;)\npublic CompletableFuture&lt;String&gt; downstream1(String a) {\n    return CompletableFuture.completedFuture(process(a)));\n}\n\npublic CompletableFuture&lt;String&gt; downstream1Fallback(String a,\n        Exception e) {\n    return CompletableFuture.completedFuture(&quot;&quot;); // empty string.\n}\n</code></pre>\n<p><strong>app.properties</strong> :</p>\n<pre><code># timeouts\nresilience4j.timelimiter.instances. downstream1.timeout-duration=30 #30 ms\n\n# retry\nresilience4j.retry.instances.downstream1.max-attempts=1\n\n# bulkhead\nresilience4j.thread-pool-bulkhead.instances.downstream1.core-thread-pool-size=30\nresilience4j.thread-pool-bulkhead.instances.downstream1.max-thread-pool-size=50\nresilience4j.thread-pool-bulkhead.instances.downstream1.queue-capacity=10\n</code></pre>\n<p><strong>Use-case</strong> :</p>\n<p>If the thread-pool by Bulkhead is full OR there's a timeout from downstream OR circuit-is-open, I don't want to do the retrying in all of these scenarios, and retry in every other scenario.</p>\n<p>Retry should only happen if there's an <strong>server exception</strong> from the downstream.</p>\n<p>As per the official docs : <a href=\"https://resilience4j.readme.io/docs/getting-started-3#aspect-order\" rel=\"nofollow noreferrer\">https://resilience4j.readme.io/docs/getting-started-3#aspect-order</a>. This is the order.</p>\n<blockquote>\n<p>Retry ( CircuitBreaker ( RateLimiter ( TimeLimiter ( Bulkhead (\nFunction</p>\n</blockquote>\n<p><strong>My understanding from docs :</strong></p>\n<pre><code>case 1: If thread-pool is full, fallback will be called with \nexception type BulkheadFullException.class - no retry\n     : else new thread will be spawned to call downstream.\n\ncase 3: If spawned thread takes more time than what's set on \n&quot;resilience4j.timelimiter&quot;, fallback will be called with \nexception type TimeoutException.class - no retry\n\ncase 4: If circuit is open, fallback will be called with \nexception type CallNotPermittedException.class - no retry.\n\ncase 5: If thread-pool is not full and no timeout and circuit is \nclosed as well, and we got some other exception than \nthe above mentioned exceptions, than only retry to downstream \ncall will trigger using config values set on &quot;resilience4j.retry&quot;.\n</code></pre>\n<blockquote>\n<p>Is this flow understanding correct, about how resilience4j would work\nOR do I need to change/add any config in the <strong>app.properties</strong> file, to serve the use-case described above.</p>\n</blockquote>\n"},{"tags":["java","jackson","jersey","wildfly","apache-tomee"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1680708779,"post_id":75935521,"comment_id":133944919,"body_markdown":"FWIW WildFly 27 implements Jakarta EE 10 and you can enable Jackson support for REST.","body":"FWIW WildFly 27 implements Jakarta EE 10 and you can enable Jackson support for REST."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680679284,"creation_date":1680677573,"answer_id":75936451,"question_id":75935521,"body_markdown":"According to the Jakarta Documentation,\r\n\r\nhttps://jakarta.ee/specifications/jsonb/2.0/jakarta-jsonb-spec-2.0.html#customizing-property-names\r\n\r\n&gt; There are two standard ways how to customize serialization of field\r\n&gt; (or JavaBean property) to JSON document. The same applies to\r\n&gt; deserialization. The first way is to annotate field (or JavaBean\r\n&gt; property) with jakarta.json.bind.annotation.JsonbProperty annotation.\r\n&gt; The second option is to set\r\n&gt; jakarta.json.bind.config.PropertyNamingStrategy.\r\n\r\n\r\nYou need to use the `@JsonBProperty` annotation, instead of JsonProperty that you are using.\r\n\r\n    import jakarta.json.bind.annotation.JsonbProperty;\r\n\r\n\r\n\r\n","title":"Migrating Jackson JSON from Wildfly to Tomee","body":"<p>According to the Jakarta Documentation,</p>\n<p><a href=\"https://jakarta.ee/specifications/jsonb/2.0/jakarta-jsonb-spec-2.0.html#customizing-property-names\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/jsonb/2.0/jakarta-jsonb-spec-2.0.html#customizing-property-names</a></p>\n<blockquote>\n<p>There are two standard ways how to customize serialization of field\n(or JavaBean property) to JSON document. The same applies to\ndeserialization. The first way is to annotate field (or JavaBean\nproperty) with jakarta.json.bind.annotation.JsonbProperty annotation.\nThe second option is to set\njakarta.json.bind.config.PropertyNamingStrategy.</p>\n</blockquote>\n<p>You need to use the <code>@JsonBProperty</code> annotation, instead of JsonProperty that you are using.</p>\n<pre><code>import jakarta.json.bind.annotation.JsonbProperty;\n</code></pre>\n"}],"owner":{"account_id":1442958,"reputation":1329,"user_id":1362485,"accept_rate":91,"display_name":"ps0604"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75936451,"answer_count":1,"score":0,"last_activity_date":1680679284,"creation_date":1680666943,"question_id":75935521,"body_markdown":"Given this class annotated with Jackson:\r\n\r\n    public class ResponseMsg implements Serializable{\r\n        \r\n        public ResponseMsg(String ret, String msg){\r\n            this.returnCode = ret;\r\n            this.errorMsg = msg;\r\n        }\r\n    \t\r\n    \t@JsonProperty(&quot;ret&quot;)\r\n    \tprivate int returnCode;\r\n    \t\r\n    \t@JsonProperty(&quot;msg&quot;)\r\n    \tprivate String errorMessage;\r\n\r\n        // .... getters and setters\r\n    }\r\n\r\nI have this class working _fine_ in Wildfly 26, it returns a JSON response with the annotated attributes of ResponseMsg:\r\n\r\n    @Path(&quot;/test&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response processMessage() {\r\n\r\n\t    @POST\r\n\t    @Path(&quot;/proc&quot;)\r\n        public Response process() {\r\n\t\t    ResponseMsg er = new ResponseMsg(&quot;abc&quot;,&quot;some message&quot;);\r\n\t\t    return Response.ok(er).build();\r\n        }\r\n\r\n     }\r\n\r\n\r\nSince it&#39;s annotated with the JsonProperty, I&#39;m getting in the browser as expected:\r\n\r\n    { &quot;ret&quot;: &quot;abc&quot;, &quot;msg&quot;: &quot;some message&quot; }\r\n\r\n\r\nNow, I&#39;m migrating to Tomee with Jakarta EE 9.1, and the same code returns the ResponseMsg but _without_ the annotated properties, the JSON looks like this:\r\n\r\n    { &quot;returnCode&quot;: &quot;abc&quot;, &quot;errorMessage&quot;: &quot;some message&quot; }\r\n\r\n\r\nSomething is missing in Tomee&#39;s configuration, what is it?\r\n","title":"Migrating Jackson JSON from Wildfly to Tomee","body":"<p>Given this class annotated with Jackson:</p>\n<pre><code>public class ResponseMsg implements Serializable{\n    \n    public ResponseMsg(String ret, String msg){\n        this.returnCode = ret;\n        this.errorMsg = msg;\n    }\n    \n    @JsonProperty(&quot;ret&quot;)\n    private int returnCode;\n    \n    @JsonProperty(&quot;msg&quot;)\n    private String errorMessage;\n\n    // .... getters and setters\n}\n</code></pre>\n<p>I have this class working <em>fine</em> in Wildfly 26, it returns a JSON response with the annotated attributes of ResponseMsg:</p>\n<pre><code>@Path(&quot;/test&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic Response processMessage() {\n\n    @POST\n    @Path(&quot;/proc&quot;)\n    public Response process() {\n        ResponseMsg er = new ResponseMsg(&quot;abc&quot;,&quot;some message&quot;);\n        return Response.ok(er).build();\n    }\n\n }\n</code></pre>\n<p>Since it's annotated with the JsonProperty, I'm getting in the browser as expected:</p>\n<pre><code>{ &quot;ret&quot;: &quot;abc&quot;, &quot;msg&quot;: &quot;some message&quot; }\n</code></pre>\n<p>Now, I'm migrating to Tomee with Jakarta EE 9.1, and the same code returns the ResponseMsg but <em>without</em> the annotated properties, the JSON looks like this:</p>\n<pre><code>{ &quot;returnCode&quot;: &quot;abc&quot;, &quot;errorMessage&quot;: &quot;some message&quot; }\n</code></pre>\n<p>Something is missing in Tomee's configuration, what is it?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9470,"page":522,"page_size":100}
