{"items":[{"tags":["java","android","kotlin","oop"],"comments":[{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":2,"creation_date":1672226052,"post_id":74939429,"comment_id":132245403,"body_markdown":"Classes declared within anothers body behave like a &quot;static class&quot; by default, you have to explicitly make it an &quot;inner class&quot; to behave like in java: https://kotlinlang.org/docs/nested-classes.html#inner-classes","body":"Classes declared within anothers body behave like a &quot;static class&quot; by default, you have to explicitly make it an &quot;inner class&quot; to behave like in java: <a href=\"https://kotlinlang.org/docs/nested-classes.html#inner-classes\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/nested-classes.html#inner-classes</a>"}],"answers":[{"tags":[],"owner":{"account_id":17810393,"reputation":886,"user_id":12935154,"display_name":"Samir Ahmane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672244801,"creation_date":1672244801,"answer_id":74942646,"question_id":74939429,"body_markdown":"Thanks to @Pawel; found the inner key word to use at the class; see [documentation][1]. Works perfectly:\r\n```\r\nclass MainActivity : AppCompatActivity() {\r\n    lateinit var start: Button\r\n    lateinit var output: TextView\r\n    var client = OkHttpClient()\r\n\r\n    inner class EchoWebSocketListener : WebSocketListener() {\r\n        override fun onOpen(websocket: WebSocket, response: Response) {\r\n            websocket.send(&quot;Authentication - Samir&quot;)\r\n            websocket.send(&quot;getScore&quot;)\r\n        }\r\n        override fun onMessage(Websocket: WebSocket, text: String) {\r\n            output(&quot;Recieving: &quot; + text)\r\n        }\r\n    }\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n    }\r\n    fun output(text: String) {\r\n        //do something\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/nested-classes.html#inner-classes","title":"Using function from parent class inside class with Kotlin","body":"<p>Thanks to @Pawel; found the inner key word to use at the class; see <a href=\"https://kotlinlang.org/docs/nested-classes.html#inner-classes\" rel=\"nofollow noreferrer\">documentation</a>. Works perfectly:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    lateinit var start: Button\n    lateinit var output: TextView\n    var client = OkHttpClient()\n\n    inner class EchoWebSocketListener : WebSocketListener() {\n        override fun onOpen(websocket: WebSocket, response: Response) {\n            websocket.send(&quot;Authentication - Samir&quot;)\n            websocket.send(&quot;getScore&quot;)\n        }\n        override fun onMessage(Websocket: WebSocket, text: String) {\n            output(&quot;Recieving: &quot; + text)\n        }\n    }\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n    fun output(text: String) {\n        //do something\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17810393,"reputation":886,"user_id":12935154,"display_name":"Samir Ahmane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74942646,"answer_count":1,"score":0,"last_activity_date":1672285121,"creation_date":1672225406,"question_id":74939429,"body_markdown":"I have the following code in Java which works perfectly well:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private final class EchoWebSocketListener extends WebSocketListener {\r\n        @Override\r\n        public void onMessage(WebSocket webSocket, String text) {\r\n            output(&quot;Recieving: &quot;+ text);\r\n        }\r\n    }\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        ....\r\n    }\r\n    private void output(final String txt) {\r\n        //do something on UI\r\n    }\r\n\r\n}\r\n```\r\n\r\nTrying the same thing in Kotlin won&#39;t work; I have tried as follows but the function is unaccessible from EchoWebSocketListener. Here is the code in Kotlin:\r\n\r\n```\r\nclass MainActivity : AppCompatActivity() {\r\n    lateinit var start: Button\r\n    lateinit var output: TextView\r\n    var client = OkHttpClient()\r\n\r\n    class EchoWebSocketListener : WebSocketListener() {\r\n        override fun onOpen(websocket: WebSocket, response: Response) {\r\n            websocket.send(&quot;Authentication - Samir&quot;)\r\n            websocket.send(&quot;getScore&quot;)\r\n        }\r\n        override fun onMessage(Websocket: WebSocket, text: String) {\r\n            output(&quot;Recieving: &quot; + text)\r\n        }\r\n    }\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n    }\r\n    private fun output(text: String) {\r\n\r\n    }\r\n}\r\n```\r\n\r\nHow can I make the function output accessible from the overriden methods in EchoWebSocketListener?","title":"Using function from parent class inside class with Kotlin","body":"<p>I have the following code in Java which works perfectly well:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private final class EchoWebSocketListener extends WebSocketListener {\n        @Override\n        public void onMessage(WebSocket webSocket, String text) {\n            output(&quot;Recieving: &quot;+ text);\n        }\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        ....\n    }\n    private void output(final String txt) {\n        //do something on UI\n    }\n\n}\n</code></pre>\n<p>Trying the same thing in Kotlin won't work; I have tried as follows but the function is unaccessible from EchoWebSocketListener. Here is the code in Kotlin:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    lateinit var start: Button\n    lateinit var output: TextView\n    var client = OkHttpClient()\n\n    class EchoWebSocketListener : WebSocketListener() {\n        override fun onOpen(websocket: WebSocket, response: Response) {\n            websocket.send(&quot;Authentication - Samir&quot;)\n            websocket.send(&quot;getScore&quot;)\n        }\n        override fun onMessage(Websocket: WebSocket, text: String) {\n            output(&quot;Recieving: &quot; + text)\n        }\n    }\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n    private fun output(text: String) {\n\n    }\n}\n</code></pre>\n<p>How can I make the function output accessible from the overriden methods in EchoWebSocketListener?</p>\n"},{"tags":["javascript","java","asp.net",".net","vb.net"],"comments":[{"owner":{"account_id":1821777,"reputation":6462,"user_id":1655674,"display_name":"Dave Doknjas"},"score":0,"creation_date":1672325682,"post_id":74937340,"comment_id":132268100,"body_markdown":"This would normally be due to using the wrong encoding.","body":"This would normally be due to using the wrong encoding."}],"owner":{"account_id":27371448,"reputation":21,"user_id":20877428,"display_name":"A Hari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672285070,"creation_date":1672211967,"question_id":74937340,"body_markdown":"```\r\nPrivate Sub Convert()\r\n\r\nDim Workbook_Folder As String\r\nDim CWS As Worksheet\r\n \r\nWorkbook_Folder = Application.ActiveWorkbook.Path\r\n    \r\n    Application.DisplayAlerts = False\r\n&#39;ActiveWorkbook.WebOptions.Encoding = msoEncodingUTF-8-sig\r\n\r\nActiveWorkbook.SaveAs Filename:=Workbook_Folder &amp; &quot;\\&quot; &amp; &quot;Othaim_EPOS.csv&quot;, encoding=&quot;utf-8-sig&quot;\r\n\r\n    &#39;Worksheets(&quot;Sheet1&quot;).Copy &#39;  Forks a copy of the sheet in a new, active WB\r\n    &#39;With ActiveWorkbook\r\n        &#39;.SaveAs Filename:=Workbook_Folder &amp; &quot;\\&quot; &amp; &quot;Othaim_EPOS.csv&quot;, FileFormat:=xlUnicodeText, CreateBackup:=False\r\n        &#39;.Close False\r\n    &#39;End With\r\n    Application.DisplayAlerts = True\r\n\r\nEnd Sub\r\n\r\n\r\n\r\nConverting the excel sheet to\r\n```\r\n\r\n\r\nI am getting error while using above code to convert excel sheet\r\n\r\ngetting symbols(???) instead of Arabic letters in processed excel file\r\n\r\nCan anyone help me here","title":"getting symbols(???) instead of Arabic letters in processed excel file","body":"<pre><code>Private Sub Convert()\n\nDim Workbook_Folder As String\nDim CWS As Worksheet\n \nWorkbook_Folder = Application.ActiveWorkbook.Path\n    \n    Application.DisplayAlerts = False\n'ActiveWorkbook.WebOptions.Encoding = msoEncodingUTF-8-sig\n\nActiveWorkbook.SaveAs Filename:=Workbook_Folder &amp; &quot;\\&quot; &amp; &quot;Othaim_EPOS.csv&quot;, encoding=&quot;utf-8-sig&quot;\n\n    'Worksheets(&quot;Sheet1&quot;).Copy '  Forks a copy of the sheet in a new, active WB\n    'With ActiveWorkbook\n        '.SaveAs Filename:=Workbook_Folder &amp; &quot;\\&quot; &amp; &quot;Othaim_EPOS.csv&quot;, FileFormat:=xlUnicodeText, CreateBackup:=False\n        '.Close False\n    'End With\n    Application.DisplayAlerts = True\n\nEnd Sub\n\n\n\nConverting the excel sheet to\n</code></pre>\n<p>I am getting error while using above code to convert excel sheet</p>\n<p>getting symbols(???) instead of Arabic letters in processed excel file</p>\n<p>Can anyone help me here</p>\n"},{"tags":["java","javafx-2","smack"],"answers":[{"comments":[{"owner":{"account_id":176957,"reputation":1504,"user_id":407986,"accept_rate":43,"display_name":"Dmitry"},"score":5,"creation_date":1414564698,"post_id":17850324,"comment_id":41857936,"body_markdown":"Could you elaborate on how I can launch an FX Application thread?","body":"Could you elaborate on how I can launch an FX Application thread?"}],"tags":[],"owner":{"account_id":83276,"reputation":6162,"user_id":233598,"accept_rate":76,"display_name":"MohamedSanaulla"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1374732615,"creation_date":1374732615,"answer_id":17850324,"question_id":17850191,"body_markdown":"JavaFX code allows updating the UI from an JavaFX application thread. But from the above exception message it says that it is not using FX Application thread. \r\n\r\nOne way you can fix is to launch an FX Application thread from the resetPage method and do the modifications there. ","title":"Why am I getting java.lang.IllegalStateException &quot;Not on FX application thread&quot; on JavaFX?","body":"<p>JavaFX code allows updating the UI from an JavaFX application thread. But from the above exception message it says that it is not using FX Application thread. </p>\n\n<p>One way you can fix is to launch an FX Application thread from the resetPage method and do the modifications there. </p>\n"},{"comments":[{"owner":{"account_id":7762699,"reputation":847,"user_id":5874935,"accept_rate":52,"display_name":"Travis Tubbs"},"score":2,"creation_date":1537806153,"post_id":17851019,"comment_id":91908494,"body_markdown":"Where do you place this code? I Try to do it when I instantiate my Stage and set the stage, but then I dont get the error, but the page comes back blank.","body":"Where do you place this code? I Try to do it when I instantiate my Stage and set the stage, but then I dont get the error, but the page comes back blank."}],"tags":[],"owner":{"account_id":3062235,"reputation":2631,"user_id":2594636,"display_name":"Marc"},"comment_count":1,"down_vote_count":0,"up_vote_count":139,"is_accepted":true,"score":139,"last_activity_date":1482117257,"creation_date":1374735210,"answer_id":17851019,"question_id":17850191,"body_markdown":"The user interface cannot be directly updated from a non-application thread. Instead, use `Platform.runLater()`, with the logic inside the Runnable object. For example:\r\n\r\n    Platform.runLater(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            // Update UI here.\r\n        }\r\n    });\r\n\r\nAs a lambda expression:\r\n\r\n    // Avoid throwing IllegalStateException by running from a non-JavaFX thread.\r\n    Platform.runLater(\r\n      () -&gt; {\r\n        // Update UI here.\r\n      }\r\n    );\r\n","title":"Why am I getting java.lang.IllegalStateException &quot;Not on FX application thread&quot; on JavaFX?","body":"<p>The user interface cannot be directly updated from a non-application thread. Instead, use <code>Platform.runLater()</code>, with the logic inside the Runnable object. For example:</p>\n\n<pre><code>Platform.runLater(new Runnable() {\n    @Override\n    public void run() {\n        // Update UI here.\n    }\n});\n</code></pre>\n\n<p>As a lambda expression:</p>\n\n<pre><code>// Avoid throwing IllegalStateException by running from a non-JavaFX thread.\nPlatform.runLater(\n  () -&gt; {\n    // Update UI here.\n  }\n);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1652632861,"post_id":61469795,"comment_id":127647750,"body_markdown":"I know this is just a snippet, but this code looks like bad coding to me.","body":"I know this is just a snippet, but this code looks like bad coding to me."},{"owner":{"account_id":16376697,"reputation":21,"user_id":13407641,"display_name":"Luke Palmer"},"score":0,"creation_date":1652903281,"post_id":61469795,"comment_id":127722852,"body_markdown":"yeah for sure !","body":"yeah for sure !"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1652916462,"post_id":61469795,"comment_id":127726150,"body_markdown":"To be clearer on my part. Why are you using a `Thread` to start a `Timeline`? Why do you have an `ActionEvent` inside an `ActionEvent`? Why are you calling `e2 -&gt; play();` and `timeline.play()`. Like I said, I know this is just a snippet, but some of this code makes no sense. This question appears to be a situation created by bad code.","body":"To be clearer on my part. Why are you using a <code>Thread</code> to start a <code>Timeline</code>? Why do you have an <code>ActionEvent</code> inside an <code>ActionEvent</code>? Why are you calling <code>e2 -&gt; play();</code> and <code>timeline.play()</code>. Like I said, I know this is just a snippet, but some of this code makes no sense. This question appears to be a situation created by bad code."}],"tags":[],"owner":{"account_id":16376697,"reputation":21,"user_id":13407641,"display_name":"Luke Palmer"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588027914,"creation_date":1588027914,"answer_id":61469795,"question_id":17850191,"body_markdown":"I had a similar issue which I fixed ***without*** using the `Platform.runLater()`:\r\n\r\n\r\n&quot;java.lang.IllegalStateException: Not on FX application thread; currentThread = Thread-6&quot;\r\n\r\n```\r\nButton play = new Button(&quot;Play&quot;);\r\nEventHandler&lt;ActionEvent&gt; playHandler = e1 -&gt; {\r\n    Runnable runnable = () -&gt; {\r\n\r\n        play.setText(&quot;Pause&quot;);\r\n\r\n        EventHandler&lt;ActionEvent&gt; timelineHandler e2 -&gt; play();\r\n        timeline = new Timeline(new KeyFrame(Duration.millis(2000), timelineHandler));\r\n        timeline.setCycleCount(Timeline.INDEFINITE);\r\n        timeline.play();\r\n\r\n    };\r\n    Thread t = new Thread(runnable);\r\n    t.start();\r\n};\r\nplay.setOnAction(playHandler);\r\n```\r\nSOLVED! **Move everything unrelated outside of the `runnable` lambda:** &lt;p&gt;\r\n```\r\nButton play = new Button(&quot;Play&quot;);\r\nEventHandler&lt;ActionEvent&gt; playHandler = e1 -&gt; {\r\n    play.setText(&quot;Pause&quot;);\r\n    Runnable runnable = () -&gt; {\r\n\r\n        EventHandler&lt;ActionEvent&gt; timelineHandler e2 -&gt; play();\r\n        timeline = new Timeline(new KeyFrame(Duration.millis(2000), timelineHandler));\r\n        timeline.setCycleCount(Timeline.INDEFINITE);\r\n        timeline.play();\r\n\r\n    };\r\n    Thread t = new Thread(runnable);\r\n    t.start();\r\n};\r\nplay.setOnAction(playHandler);\r\n```","title":"Why am I getting java.lang.IllegalStateException &quot;Not on FX application thread&quot; on JavaFX?","body":"<p>I had a similar issue which I fixed <strong><em>without</em></strong> using the <code>Platform.runLater()</code>:</p>\n\n<p>\"java.lang.IllegalStateException: Not on FX application thread; currentThread = Thread-6\"</p>\n\n<pre><code>Button play = new Button(\"Play\");\nEventHandler&lt;ActionEvent&gt; playHandler = e1 -&gt; {\n    Runnable runnable = () -&gt; {\n\n        play.setText(\"Pause\");\n\n        EventHandler&lt;ActionEvent&gt; timelineHandler e2 -&gt; play();\n        timeline = new Timeline(new KeyFrame(Duration.millis(2000), timelineHandler));\n        timeline.setCycleCount(Timeline.INDEFINITE);\n        timeline.play();\n\n    };\n    Thread t = new Thread(runnable);\n    t.start();\n};\nplay.setOnAction(playHandler);\n</code></pre>\n\n<p>SOLVED! <strong>Move everything unrelated outside of the <code>runnable</code> lambda:</strong> <p></p>\n\n<pre><code>Button play = new Button(\"Play\");\nEventHandler&lt;ActionEvent&gt; playHandler = e1 -&gt; {\n    play.setText(\"Pause\");\n    Runnable runnable = () -&gt; {\n\n        EventHandler&lt;ActionEvent&gt; timelineHandler e2 -&gt; play();\n        timeline = new Timeline(new KeyFrame(Duration.millis(2000), timelineHandler));\n        timeline.setCycleCount(Timeline.INDEFINITE);\n        timeline.play();\n\n    };\n    Thread t = new Thread(runnable);\n    t.start();\n};\nplay.setOnAction(playHandler);\n</code></pre>\n"}],"owner":{"account_id":1419650,"reputation":1621,"user_id":1344550,"accept_rate":51,"display_name":"linker85"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65636,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":17851019,"answer_count":3,"score":62,"last_activity_date":1672285048,"creation_date":1374732081,"question_id":17850191,"body_markdown":"I have an application that has a `TableView` that has an attached listener so it refreshes as soon as it detects a change, but the thing is that I&#180;m getting `java.lang.IllegalStateException: Not on FX application thread; currentThread = Smack Listener Processor (0)`.\r\nHere is my code: \r\n\r\n    /**\r\n     * This function resets the pagination pagecount\r\n     */\r\n    public void resetPage() {\r\n    \ttry {\r\n    \t\tSystem.out.println(&quot;RESET&quot;); \r\n        \tint tamRoster = this.loginManager.getRosterService().getRosterList().size();\r\n        \tpaginationContactos.setPageCount((int)(Math.ceil(tamRoster*1.0/limit.get())));\r\n        \tint tamEnviados = this.loginManager.getRosterService().getEnviadasList().size();\r\n        \tpaginationEnviadas.setPageCount((int)(Math.ceil(tamEnviados*1.0/limit.get())));\r\n        \tint tamRecibidas = this.loginManager.getRosterService().getRecibidasList().size();\r\n        \tpaginationRecibidas.setPageCount((int)(Math.ceil(tamRecibidas*1.0/limit.get())));\r\n    \t} catch (Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n\r\n    public void doSomething () {\r\n    \t\tthis.loginManager.getRosterService().getRosterList().addListener(new ListChangeListener&lt;RosterDTO&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onChanged(\r\n    \t\t\t\t\tjavafx.collections.ListChangeListener.Change&lt;? extends RosterDTO&gt; c) {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\tresetPage();\r\n    \t\t\t\twhile (c.next()) {\r\n    \t\t\t\t\tif (c.wasPermutated()) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;PERM&quot;);\r\n    \t\t\t\t\t} else if (c.wasUpdated()) {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;UPD&quot;);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tSystem.out.println(&quot;ELSE&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t     });\r\n    }\r\nAltough it enters the resetPage method, I get that exception.\r\nWhy is this happening?\r\nHow can I fix it?","title":"Why am I getting java.lang.IllegalStateException &quot;Not on FX application thread&quot; on JavaFX?","body":"<p>I have an application that has a <code>TableView</code> that has an attached listener so it refreshes as soon as it detects a change, but the thing is that I´m getting <code>java.lang.IllegalStateException: Not on FX application thread; currentThread = Smack Listener Processor (0)</code>.\nHere is my code:</p>\n<pre><code>/**\n * This function resets the pagination pagecount\n */\npublic void resetPage() {\n    try {\n        System.out.println(&quot;RESET&quot;); \n        int tamRoster = this.loginManager.getRosterService().getRosterList().size();\n        paginationContactos.setPageCount((int)(Math.ceil(tamRoster*1.0/limit.get())));\n        int tamEnviados = this.loginManager.getRosterService().getEnviadasList().size();\n        paginationEnviadas.setPageCount((int)(Math.ceil(tamEnviados*1.0/limit.get())));\n        int tamRecibidas = this.loginManager.getRosterService().getRecibidasList().size();\n        paginationRecibidas.setPageCount((int)(Math.ceil(tamRecibidas*1.0/limit.get())));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\npublic void doSomething () {\n        this.loginManager.getRosterService().getRosterList().addListener(new ListChangeListener&lt;RosterDTO&gt;() {\n            @Override\n            public void onChanged(\n                    javafx.collections.ListChangeListener.Change&lt;? extends RosterDTO&gt; c) {\n                // TODO Auto-generated method stub\n                resetPage();\n                while (c.next()) {\n                    if (c.wasPermutated()) {\n                        System.out.println(&quot;PERM&quot;);\n                    } else if (c.wasUpdated()) {\n                        System.out.println(&quot;UPD&quot;);\n                    } else {\n                        System.out.println(&quot;ELSE&quot;);\n                    }\n                }\n            }\n         });\n}\n</code></pre>\n<p>Altough it enters the resetPage method, I get that exception.\nWhy is this happening?\nHow can I fix it?</p>\n"},{"tags":["java","vert.x","vertx4","java-vertx-web"],"answers":[{"comments":[{"owner":{"account_id":8091457,"reputation":1145,"user_id":6097250,"display_name":"Hegdekar"},"score":0,"creation_date":1652705431,"post_id":72256905,"comment_id":127663067,"body_markdown":"I assumed this and had tried it as well. I&#39;m sorry I haven&#39;t updated that in the sample reproducer code. Will update it. But that didn&#39;t fix either. \n\nAlso since the Router is declared as static isn&#39;t that a single copy across all the Server verticle instances? so despite the event being a send it still gets registered across all the instances isn&#39;t it?\n\nAnd while debugging today observed scaling the instance to a 4 core vCPU the issue doesn&#39;t replicate , I&#39;m clueless now what to check for.","body":"I assumed this and had tried it as well. I&#39;m sorry I haven&#39;t updated that in the sample reproducer code. Will update it. But that didn&#39;t fix either.   Also since the Router is declared as static isn&#39;t that a single copy across all the Server verticle instances? so despite the event being a send it still gets registered across all the instances isn&#39;t it?  And while debugging today observed scaling the instance to a 4 core vCPU the issue doesn&#39;t replicate , I&#39;m clueless now what to check for."},{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1652718900,"post_id":72256905,"comment_id":127668411,"body_markdown":"I had not noticed the router was declared `static`. That is not good: it is going to be updated concurrently but it is not thread-safe. You should create a `Router` instance per verticle instance.","body":"I had not noticed the router was declared <code>static</code>. That is not good: it is going to be updated concurrently but it is not thread-safe. You should create a <code>Router</code> instance per verticle instance."},{"owner":{"account_id":8091457,"reputation":1145,"user_id":6097250,"display_name":"Hegdekar"},"score":0,"creation_date":1652851289,"post_id":72256905,"comment_id":127703201,"body_markdown":"Changing `Router` to non-static and changing the event to `publish()` together fixed my problem. But even now not very sure how it was working on the dev environment. Couldn&#39;t figure out what caused it to work even with multiple instances. But thanks a lot for the help.","body":"Changing <code>Router</code> to non-static and changing the event to <code>publish()</code> together fixed my problem. But even now not very sure how it was working on the dev environment. Couldn&#39;t figure out what caused it to work even with multiple instances. But thanks a lot for the help."},{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1652859925,"post_id":72256905,"comment_id":127705684,"body_markdown":"Thread safety issues may or not may be apparent depending on the system conditions.","body":"Thread safety issues may or not may be apparent depending on the system conditions."}],"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652692995,"creation_date":1652692995,"answer_id":72256905,"question_id":72253535,"body_markdown":"In `App` class, 4 instances of each verticle are deployed.\r\n\r\n    vertx.deployVerticle(Server.class.getName(), new DeploymentOptions().setInstances(4))\r\n          .compose(server -&gt; {\r\n            return vertx.deployVerticle(RouteRegistration.class.getName(), new DeploymentOptions().setInstances(4))\r\n              .onSuccess(id -&gt; LOGGER.info(&quot;Application started Successfully&quot;))\r\n              .onFailure(LOGGER::catching);\r\n          });vertx.deployVerticle(Server.class.getName(), new DeploymentOptions().setInstances(4))\r\n          .compose(server -&gt; {\r\n            return vertx.deployVerticle(RouteRegistration.class.getName(), new DeploymentOptions().setInstances(4))\r\n              .onSuccess(id -&gt; LOGGER.info(&quot;Application started Successfully&quot;))\r\n              .onFailure(LOGGER::catching);\r\n          });\r\n\r\nThis means that:\r\n\r\n- a shared HTTP server will be created and incoming connections load-balanced between instances of the `Server` verticle.\r\n- messages sent from `RouteRegistration` verticle instances will be load-balanced between consumers (`eventBus.send` is point-to-point).\r\n\r\nConsequently, connections will be handled by different routers with different setups.\r\n\r\nOn your local machine, I don&#39;t know why it works, perhaps you deploy a single instance?\r\n\r\nAnyway, to fix the issue, you must have the same router configuration in every router instance, so the `RouteRegistration` must `publish` the message so that every consumer instance gets it:\r\n\r\n    vertx.eventBus().publish(&quot;REGISTER_ROUTE&quot;,\r\n          new JsonObject()\r\n            .put(&quot;url&quot;, &quot;/test-route&quot;)\r\n            .put(&quot;method&quot;, &quot;GET&quot;)\r\n        );","title":"Vertx Web Resource Not Found","body":"<p>In <code>App</code> class, 4 instances of each verticle are deployed.</p>\n<pre><code>vertx.deployVerticle(Server.class.getName(), new DeploymentOptions().setInstances(4))\n      .compose(server -&gt; {\n        return vertx.deployVerticle(RouteRegistration.class.getName(), new DeploymentOptions().setInstances(4))\n          .onSuccess(id -&gt; LOGGER.info(&quot;Application started Successfully&quot;))\n          .onFailure(LOGGER::catching);\n      });vertx.deployVerticle(Server.class.getName(), new DeploymentOptions().setInstances(4))\n      .compose(server -&gt; {\n        return vertx.deployVerticle(RouteRegistration.class.getName(), new DeploymentOptions().setInstances(4))\n          .onSuccess(id -&gt; LOGGER.info(&quot;Application started Successfully&quot;))\n          .onFailure(LOGGER::catching);\n      });\n</code></pre>\n<p>This means that:</p>\n<ul>\n<li>a shared HTTP server will be created and incoming connections load-balanced between instances of the <code>Server</code> verticle.</li>\n<li>messages sent from <code>RouteRegistration</code> verticle instances will be load-balanced between consumers (<code>eventBus.send</code> is point-to-point).</li>\n</ul>\n<p>Consequently, connections will be handled by different routers with different setups.</p>\n<p>On your local machine, I don't know why it works, perhaps you deploy a single instance?</p>\n<p>Anyway, to fix the issue, you must have the same router configuration in every router instance, so the <code>RouteRegistration</code> must <code>publish</code> the message so that every consumer instance gets it:</p>\n<pre><code>vertx.eventBus().publish(&quot;REGISTER_ROUTE&quot;,\n      new JsonObject()\n        .put(&quot;url&quot;, &quot;/test-route&quot;)\n        .put(&quot;method&quot;, &quot;GET&quot;)\n    );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671458062,"post_id":74814198,"comment_id":132096937,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74814198/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17549107,"reputation":1,"user_id":12729844,"display_name":"TungJa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672285042,"creation_date":1671119382,"answer_id":74814198,"question_id":72253535,"body_markdown":"I had the same problem, and switched back to deploy (Supplier&lt;Verticle&gt; splv ,DeploymentOptions opt ) , and it worked 100% . example :  vertx.deployVerticle(()-&gt;{\r\n new VerticleFirst(router,...);\r\n}, deployOptions );","title":"Vertx Web Resource Not Found","body":"<p>I had the same problem, and switched back to deploy (Supplier splv ,DeploymentOptions opt ) , and it worked 100% . example :  vertx.deployVerticle(()-&gt;{\nnew VerticleFirst(router,...);\n}, deployOptions );</p>\n"}],"owner":{"account_id":8091457,"reputation":1145,"user_id":6097250,"display_name":"Hegdekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72256905,"answer_count":2,"score":0,"last_activity_date":1672285042,"creation_date":1652666762,"question_id":72253535,"body_markdown":"In one of the projects that I&#39;m working on I register routes onto the `Router` dynamically like below.\r\n\r\n```java\r\nvertx.eventBus().consumer(&quot;REGISTER_ROUTE&quot;, handler -&gt; {\r\n      JsonObject message = (JsonObject) handler.body();\r\n      HttpMethod method = HttpMethod.valueOf(message.getString(&quot;method&quot;));\r\n      router.route(method, message.getString(&quot;url&quot;))\r\n        .order(1)\r\n        .handler(cxt -&gt; cxt.json(new JsonObject().put(&quot;message&quot;, &quot;This works..!!&quot;)));\r\n    });\r\n```\r\n\r\nAnd this event is triggered from another verticle like this\r\n\r\n```java\r\nvertx.eventBus().send(&quot;REGISTER_ROUTE&quot;,\r\n        new JsonObject()\r\n          .put(&quot;url&quot;, &quot;/test-route&quot;)\r\n          .put(&quot;method&quot;, &quot;GET&quot;)\r\n      );\r\n```\r\n\r\nIssue is that on windows machine this almost always works. But on a testing linux instance on AWS \r\n\r\n - I generally receive a `404 Not Found` response instead of the actual response\r\n - Or I get 2 success response(200) and one 404\r\n - Or I get Two 404 and 1 success response\r\n\r\nLast two of the scenarios not very sure what&#39;s the correlation to number 3(since this success/error response seems to refresh on a cycle of 3 subsequent requests). Thought it could be to number of instances of the server verticle. But modifying the instance count doesn&#39;t change this behavior either.\r\n\r\nI have a custom error handler for 404 registered like below\r\n```java\r\nrouter.errorHandler(404, routingContext -&gt; {\r\n      LOGGER.info(&quot;HTTP-404 Error Handler invoked&quot;);\r\n      LOGGER.info(&quot;Router :&quot; + router.toString() + &quot; Routes Size: &quot; + router.getRoutes().size());\r\n      JsonObject error = new JsonObject()\r\n        .put(&quot;error&quot;, &quot;Resource not found&quot;);\r\n      routingContext.response()\r\n        .setStatusCode(404)\r\n        .putHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\r\n        .end(error.toBuffer());\r\n    });\r\n```\r\nWhenever a 404 response is received I could see from the logs that router states does show there is a route declared with the given PATH and HTTP method combination.\r\n\r\nI have tried registering route using the HTTP method specific syntax like `router.get(url)`, that didn&#39;t seem to make any difference either.\r\n\r\n**Vert.x Version:** 4.2.7\r\n\r\n**JDK:** Eclipse Temurin 11.0.14.1+1\r\n\r\n**OS:** Centos 7 on EC2\r\n\r\nProblem is that issue doesn&#39;t occur always so it&#39;s becoming more and more difficult to identify the root cause and fix it.\r\n\r\nPlease let me know if there is anything that is wrong/missing in this. Also I have created a sample project [here](https://github.com/naveen-hegdekar/vertx-routes). This is a close replica of what I have on my actual project.\r\nNote: The issue didn&#39;t generally occur to me on Windows (for whatever reasons).","title":"Vertx Web Resource Not Found","body":"<p>In one of the projects that I'm working on I register routes onto the <code>Router</code> dynamically like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>vertx.eventBus().consumer(&quot;REGISTER_ROUTE&quot;, handler -&gt; {\n      JsonObject message = (JsonObject) handler.body();\n      HttpMethod method = HttpMethod.valueOf(message.getString(&quot;method&quot;));\n      router.route(method, message.getString(&quot;url&quot;))\n        .order(1)\n        .handler(cxt -&gt; cxt.json(new JsonObject().put(&quot;message&quot;, &quot;This works..!!&quot;)));\n    });\n</code></pre>\n<p>And this event is triggered from another verticle like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>vertx.eventBus().send(&quot;REGISTER_ROUTE&quot;,\n        new JsonObject()\n          .put(&quot;url&quot;, &quot;/test-route&quot;)\n          .put(&quot;method&quot;, &quot;GET&quot;)\n      );\n</code></pre>\n<p>Issue is that on windows machine this almost always works. But on a testing linux instance on AWS</p>\n<ul>\n<li>I generally receive a <code>404 Not Found</code> response instead of the actual response</li>\n<li>Or I get 2 success response(200) and one 404</li>\n<li>Or I get Two 404 and 1 success response</li>\n</ul>\n<p>Last two of the scenarios not very sure what's the correlation to number 3(since this success/error response seems to refresh on a cycle of 3 subsequent requests). Thought it could be to number of instances of the server verticle. But modifying the instance count doesn't change this behavior either.</p>\n<p>I have a custom error handler for 404 registered like below</p>\n<pre class=\"lang-java prettyprint-override\"><code>router.errorHandler(404, routingContext -&gt; {\n      LOGGER.info(&quot;HTTP-404 Error Handler invoked&quot;);\n      LOGGER.info(&quot;Router :&quot; + router.toString() + &quot; Routes Size: &quot; + router.getRoutes().size());\n      JsonObject error = new JsonObject()\n        .put(&quot;error&quot;, &quot;Resource not found&quot;);\n      routingContext.response()\n        .setStatusCode(404)\n        .putHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\n        .end(error.toBuffer());\n    });\n</code></pre>\n<p>Whenever a 404 response is received I could see from the logs that router states does show there is a route declared with the given PATH and HTTP method combination.</p>\n<p>I have tried registering route using the HTTP method specific syntax like <code>router.get(url)</code>, that didn't seem to make any difference either.</p>\n<p><strong>Vert.x Version:</strong> 4.2.7</p>\n<p><strong>JDK:</strong> Eclipse Temurin 11.0.14.1+1</p>\n<p><strong>OS:</strong> Centos 7 on EC2</p>\n<p>Problem is that issue doesn't occur always so it's becoming more and more difficult to identify the root cause and fix it.</p>\n<p>Please let me know if there is anything that is wrong/missing in this. Also I have created a sample project <a href=\"https://github.com/naveen-hegdekar/vertx-routes\" rel=\"nofollow noreferrer\">here</a>. This is a close replica of what I have on my actual project.\nNote: The issue didn't generally occur to me on Windows (for whatever reasons).</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672284282,"creation_date":1672115987,"answer_id":74925754,"question_id":74921896,"body_markdown":"The word `GROUP` is a reserved keyword in both &quot;MySql&quot; and &quot;PostgreSql&quot;, and hence you need to rename your table to something else:\r\n```\r\n@Table(name = &quot;GROUP&quot;) // &lt;- change the name\r\npublic class Group {\r\n\r\n    // ...\r\n}\r\n```\r\nGenerally, you&#39;d pay attention to naming tables and fields, and avoiding using reserved keyword of the underlying DB vendor.\r\n\r\nReference: [MySql Keywords and Reserved Words](https://dev.mysql.com/doc/refman/8.0/en/keywords.html#keywords-8-0-detailed-G), and [PostgreSql Key Words](https://www.postgresql.org/docs/current/sql-keywords-appendix.html)","title":"How to create a working one to many relationship","body":"<p>The word <code>GROUP</code> is a reserved keyword in both &quot;MySql&quot; and &quot;PostgreSql&quot;, and hence you need to rename your table to something else:</p>\n<pre><code>@Table(name = &quot;GROUP&quot;) // &lt;- change the name\npublic class Group {\n\n    // ...\n}\n</code></pre>\n<p>Generally, you'd pay attention to naming tables and fields, and avoiding using reserved keyword of the underlying DB vendor.</p>\n<p>Reference: <a href=\"https://dev.mysql.com/doc/refman/8.0/en/keywords.html#keywords-8-0-detailed-G\" rel=\"nofollow noreferrer\">MySql Keywords and Reserved Words</a>, and <a href=\"https://www.postgresql.org/docs/current/sql-keywords-appendix.html\" rel=\"nofollow noreferrer\">PostgreSql Key Words</a></p>\n"}],"owner":{"account_id":24614997,"reputation":13,"user_id":18516116,"display_name":"Leo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672284282,"creation_date":1672069809,"question_id":74921896,"body_markdown":"For my Spring Boot application I have two tables in the database[![enter image description here](https://i.stack.imgur.com/nZOEV.png)](https://i.stack.imgur.com/nZOEV.png) and [![enter image description here](https://i.stack.imgur.com/q7o0Q.png)](https://i.stack.imgur.com/q7o0Q.png)\r\nMy issue is that I can&#39;t make this one to many relationship works.\r\nThis is my code for Group and GroupType classes:\r\n```\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;GROUPTYPE&quot;)\r\npublic class GroupType {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int groupTypeId;\r\n    private String fullName;\r\n    private boolean active;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;GroupTypeId&quot;)\r\n    private Group group;\r\n\r\n}\r\n\r\n```\r\nand\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;GROUP&quot;)\r\npublic class Group {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int groupId;\r\n\r\n    private String fullName;\r\n\r\n    private boolean active;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;group&quot;)\r\n    private List&lt;GroupType&gt; groupTypes;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI get an error of this type:\r\n\r\n```\r\n\r\norg.hibernate.exception.SQLGrammarException: could not extract ResultSet....\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword &#39;GROUP&#39;.\r\n\r\n```\r\n\r\n\r\nI watched some videos but I still can&#39;t find a solution","title":"How to create a working one to many relationship","body":"<p>For my Spring Boot application I have two tables in the database<a href=\"https://i.stack.imgur.com/nZOEV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nZOEV.png\" alt=\"enter image description here\" /></a> and <a href=\"https://i.stack.imgur.com/q7o0Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q7o0Q.png\" alt=\"enter image description here\" /></a>\nMy issue is that I can't make this one to many relationship works.\nThis is my code for Group and GroupType classes:</p>\n<pre><code>\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Getter\n@Setter\n@Table(name = &quot;GROUPTYPE&quot;)\npublic class GroupType {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int groupTypeId;\n    private String fullName;\n    private boolean active;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;GroupTypeId&quot;)\n    private Group group;\n\n}\n\n</code></pre>\n<p>and</p>\n<pre><code>@Data\n@NoArgsConstructor\n@Entity\n@Getter\n@Setter\n@Table(name = &quot;GROUP&quot;)\npublic class Group {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int groupId;\n\n    private String fullName;\n\n    private boolean active;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;group&quot;)\n    private List&lt;GroupType&gt; groupTypes;\n\n}\n\n</code></pre>\n<p>I get an error of this type:</p>\n<pre><code>\norg.hibernate.exception.SQLGrammarException: could not extract ResultSet....\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword 'GROUP'.\n\n</code></pre>\n<p>I watched some videos but I still can't find a solution</p>\n"},{"tags":["java","linux","macos","maven"],"comments":[{"owner":{"account_id":162467,"reputation":12176,"user_id":383936,"display_name":"Jeanne Boyarsky"},"score":2,"creation_date":1379257435,"post_id":18813828,"comment_id":27748449,"body_markdown":"Can you post your PATH and JAVA_HOME variables?","body":"Can you post your PATH and JAVA_HOME variables?"},{"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"score":0,"creation_date":1379258014,"post_id":18813828,"comment_id":27748623,"body_markdown":"@JeanneBoyarsky blues:helloworld Ninja$ echo $JAVA_HOME\n\nblues:helloworld Ninja$ echo $PATH\n/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/git/bin","body":"@JeanneBoyarsky blues:helloworld Ninja$ echo $JAVA_HOME  blues:helloworld Ninja$ echo $PATH /usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/git/&zwnj;&#8203;bin"},{"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"score":0,"creation_date":1379258064,"post_id":18813828,"comment_id":27748639,"body_markdown":"@JeanneBoyarsky is this you want,sir?","body":"@JeanneBoyarsky is this you want,sir?"},{"owner":{"account_id":162467,"reputation":12176,"user_id":383936,"display_name":"Jeanne Boyarsky"},"score":3,"creation_date":1379258204,"post_id":18813828,"comment_id":27748678,"body_markdown":"I&#39;m female (so referring to me as &quot;sir&quot; is incorrect) and yes.  Please try setting your JAVA_HOME.  Your problem seems similar to this issue: http://stackoverflow.com/questions/13752519/how-to-change-maven-java-home","body":"I&#39;m female (so referring to me as &quot;sir&quot; is incorrect) and yes.  Please try setting your JAVA_HOME.  Your problem seems similar to this issue: <a href=\"http://stackoverflow.com/questions/13752519/how-to-change-maven-java-home\" title=\"how to change maven java home\">stackoverflow.com/questions/13752519/&hellip;</a>"},{"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"score":2,"creation_date":1379258505,"post_id":18813828,"comment_id":27748775,"body_markdown":"@JeanneBoyarsky Forgive my rudeness.The url you given is the problem I meet.Thanks a lot~","body":"@JeanneBoyarsky Forgive my rudeness.The url you given is the problem I meet.Thanks a lot~"}],"answers":[{"comments":[{"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"score":0,"creation_date":1379321709,"post_id":18813994,"comment_id":27766117,"body_markdown":"o，thank you. but I haven&#39;t start . I just &#39;mvn -v&#39;...the reason is I don&#39;t assign JAVA_HOME","body":"o，thank you. but I haven&#39;t start . I just &#39;mvn -v&#39;...the reason is I don&#39;t assign JAVA_HOME"},{"owner":{"display_name":"user486646"},"score":0,"creation_date":1398700062,"post_id":18813994,"comment_id":35751292,"body_markdown":"Note that only affects your code that is compiled. I ran into this problem and came here because an external library I was using was compiled for Java 7 and Maven was trying to run it with Java 6","body":"Note that only affects your code that is compiled. I ran into this problem and came here because an external library I was using was compiled for Java 7 and Maven was trying to run it with Java 6"},{"owner":{"account_id":1356059,"reputation":1246,"user_id":1294423,"accept_rate":100,"display_name":"Gavin S. Yancey"},"score":0,"creation_date":1422297413,"post_id":18813994,"comment_id":44684207,"body_markdown":"That doesn&#39;t work if maven is running using java 6.  It just crashes with `[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project {projectname}: Fatal error compiling: invalid target release: 1.7 -&gt; [Help 1]`","body":"That doesn&#39;t work if maven is running using java 6.  It just crashes with <code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project {projectname}: Fatal error compiling: invalid target release: 1.7 -&gt; [Help 1]</code>"},{"owner":{"account_id":1737868,"reputation":2807,"user_id":1590011,"accept_rate":91,"display_name":"John Doe"},"score":0,"creation_date":1485948498,"post_id":18813994,"comment_id":71134786,"body_markdown":"This will work in case  maven setting in your IDE for default compiler is lower than 1.7, but the installed jdk is higher than 1.7","body":"This will work in case  maven setting in your IDE for default compiler is lower than 1.7, but the installed jdk is higher than 1.7"}],"tags":[],"owner":{"account_id":2163634,"reputation":1349,"user_id":1917215,"accept_rate":75,"display_name":"user1231232141214124"},"comment_count":4,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1379258689,"creation_date":1379258375,"answer_id":18813994,"question_id":18813828,"body_markdown":"You can also explicitly tell maven which java version to compile for. You can try adding the `maven-compiler-plugin` to your pom.\r\n\r\n    &lt;project&gt;\r\n      [...]\r\n      &lt;build&gt;\r\n        [...]\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.7&lt;/source&gt;\r\n              &lt;target&gt;1.7&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        [...]\r\n      &lt;/build&gt;\r\n      [...]\r\n    &lt;/project&gt;\r\n\r\nIf you imported a maven project into an IDE, then there is probably a maven setting in your IDE for default compiler that your maven runner is using.","title":"Why Maven uses JDK 1.6 but my java -version is 1.7","body":"<p>You can also explicitly tell maven which java version to compile for. You can try adding the <code>maven-compiler-plugin</code> to your pom.</p>\n\n<pre><code>&lt;project&gt;\n  [...]\n  &lt;build&gt;\n    [...]\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.7&lt;/source&gt;\n          &lt;target&gt;1.7&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    [...]\n  &lt;/build&gt;\n  [...]\n&lt;/project&gt;\n</code></pre>\n\n<p>If you imported a maven project into an IDE, then there is probably a maven setting in your IDE for default compiler that your maven runner is using.</p>\n"},{"comments":[{"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"score":0,"creation_date":1381674983,"post_id":19324816,"comment_id":28662506,"body_markdown":"yes,you answer is correct .The  JAVAHOME  is required.I edit the /etc/profile instead","body":"yes,you answer is correct .The  JAVAHOME  is required.I edit the /etc/profile instead"},{"owner":{"account_id":131883,"reputation":9374,"user_id":332210,"accept_rate":50,"display_name":"gvaish"},"score":8,"creation_date":1381717143,"post_id":19324816,"comment_id":28673498,"body_markdown":"Well, adding to ~/.mavenrc ensures that other apps are not affected. Only mvn picks up this version of JDK. :)","body":"Well, adding to ~/.mavenrc ensures that other apps are not affected. Only mvn picks up this version of JDK. :)"},{"owner":{"account_id":189818,"reputation":135,"user_id":429382,"display_name":"jherranzm"},"score":0,"creation_date":1397283099,"post_id":19324816,"comment_id":35177768,"body_markdown":"Thank you! Finally maven in  Eclipse compiles again...!","body":"Thank you! Finally maven in  Eclipse compiles again...!"},{"owner":{"account_id":456543,"reputation":9754,"user_id":855366,"display_name":"jla"},"score":43,"creation_date":1400498486,"post_id":19324816,"comment_id":36487731,"body_markdown":"export JAVA_HOME=$(/usr/libexec/java_home -v 1.7)","body":"export JAVA_HOME=$(/usr/libexec/java_home -v 1.7)"},{"owner":{"account_id":428764,"reputation":4721,"user_id":811299,"accept_rate":47,"display_name":"Steve Cohen"},"score":0,"creation_date":1407539369,"post_id":19324816,"comment_id":39269864,"body_markdown":"wow.  this is good.  I just realized that the /etc/alternatives mess doesn&#39;t help me here.  There is no alternative set up for the whole JDK.  thanks.  Saved me from asking a repeat question.","body":"wow.  this is good.  I just realized that the /etc/alternatives mess doesn&#39;t help me here.  There is no alternative set up for the whole JDK.  thanks.  Saved me from asking a repeat question."},{"owner":{"account_id":104426,"reputation":6829,"user_id":279204,"accept_rate":69,"display_name":"timothyclifford"},"score":1,"creation_date":1437128664,"post_id":19324816,"comment_id":50912465,"body_markdown":".mavenrc solution worked perfectly for me. Also realised I only had JDK 1.8  installed and not JRE 1.8. Thanks Gaurav!","body":".mavenrc solution worked perfectly for me. Also realised I only had JDK 1.8  installed and not JRE 1.8. Thanks Gaurav!"},{"owner":{"account_id":985841,"reputation":345,"user_id":1004363,"accept_rate":83,"display_name":"krex"},"score":0,"creation_date":1443023881,"post_id":19324816,"comment_id":53329292,"body_markdown":"Excellent. Other recommendations suggested setting /etc/mavenrc similarly. Just as a warning to anyone else: ~/.mavenrc appears to take precedence.","body":"Excellent. Other recommendations suggested setting /etc/mavenrc similarly. Just as a warning to anyone else: ~/.mavenrc appears to take precedence."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1468093734,"post_id":19324816,"comment_id":63989907,"body_markdown":"This seems to work without `export` too (at least in Ubuntu).","body":"This seems to work without <code>export</code> too (at least in Ubuntu)."},{"owner":{"account_id":3454239,"reputation":3653,"user_id":2893073,"accept_rate":67,"display_name":"Eddy"},"score":3,"creation_date":1503604137,"post_id":19324816,"comment_id":78698422,"body_markdown":"If you are using jenv on a mac, it can be:\n```export JAVA_HOME=&quot;$HOME/.jenv/versions/`jenv version-name`&quot;``` for `~/.mavenrc` file.","body":"If you are using jenv on a mac, it can be: <code>export JAVA_HOME=&quot;$HOME&#47;.jenv&#47;versions&#47;`jenv version-name`&quot;</code> for <code>~&#47;.mavenrc</code> file."},{"owner":{"account_id":2318612,"reputation":961,"user_id":2035039,"accept_rate":90,"display_name":"user2035039"},"score":0,"creation_date":1575812366,"post_id":19324816,"comment_id":104683620,"body_markdown":"When using IntelliJ, it is also possible to set the JRE to be used by Maven via Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Runner","body":"When using IntelliJ, it is also possible to set the JRE to be used by Maven via Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Runner"}],"tags":[],"owner":{"account_id":131883,"reputation":9374,"user_id":332210,"accept_rate":50,"display_name":"gvaish"},"comment_count":10,"down_vote_count":1,"up_vote_count":240,"is_accepted":true,"score":239,"last_activity_date":1432821009,"creation_date":1381515750,"answer_id":19324816,"question_id":18813828,"body_markdown":"add the following to your `~/.mavenrc`:\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/{jdk-version}/Contents/Home\r\n\r\n#Second Solution:\r\n\r\n```echo export &quot;JAVA_HOME=\\$(/usr/libexec/java_home)&quot; &gt;&gt; ~/.bash_profile```","title":"Why Maven uses JDK 1.6 but my java -version is 1.7","body":"<p>add the following to your <code>~/.mavenrc</code>:</p>\n\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/{jdk-version}/Contents/Home\n</code></pre>\n\n<h1>Second Solution:</h1>\n\n<p><code>echo export \"JAVA_HOME=\\$(/usr/libexec/java_home)\" &gt;&gt; ~/.bash_profile</code></p>\n"},{"comments":[{"owner":{"account_id":76118,"reputation":1539,"user_id":218139,"display_name":"Stefan L"},"score":1,"creation_date":1427114907,"post_id":22974231,"comment_id":46630908,"body_markdown":"The CurrentJDK symlink trick doesn&#39;t seem to work any more with maven 3.3.1, but modifying ~/.mavenrc does.","body":"The CurrentJDK symlink trick doesn&#39;t seem to work any more with maven 3.3.1, but modifying ~/.mavenrc does."}],"tags":[],"owner":{"account_id":2919833,"reputation":479,"user_id":2502349,"display_name":"Oskar"},"comment_count":1,"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1418819755,"creation_date":1397078681,"answer_id":22974231,"question_id":18813828,"body_markdown":"Get into \r\n\r\n    /System/Library/Frameworks/JavaVM.framework/Versions\r\n\r\nand update the `CurrentJDK` symbolic link to point to\r\n    \r\n    /Library/Java/JavaVirtualMachines/YOUR_JDK_VERSION/Contents/\r\n E.g.\r\n\r\n    cd /System/Library/Frameworks/JavaVM.framework/Versions\r\n    sudo rm CurrentJDK\r\n    sudo ln -s /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk/Contents/ CurrentJDK\r\n\r\nNow it shall work immediately.\r\n","title":"Why Maven uses JDK 1.6 but my java -version is 1.7","body":"<p>Get into </p>\n\n<pre><code>/System/Library/Frameworks/JavaVM.framework/Versions\n</code></pre>\n\n<p>and update the <code>CurrentJDK</code> symbolic link to point to</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/YOUR_JDK_VERSION/Contents/\n</code></pre>\n\n<p>E.g.</p>\n\n<pre><code>cd /System/Library/Frameworks/JavaVM.framework/Versions\nsudo rm CurrentJDK\nsudo ln -s /Library/Java/JavaVirtualMachines/jdk1.8.0.jdk/Contents/ CurrentJDK\n</code></pre>\n\n<p>Now it shall work immediately.</p>\n"},{"comments":[{"owner":{"account_id":1356059,"reputation":1246,"user_id":1294423,"accept_rate":100,"display_name":"Gavin S. Yancey"},"score":6,"creation_date":1422297364,"post_id":23116365,"comment_id":44684188,"body_markdown":"That doesn&#39;t work if maven is running using java 6.  It just crashes with `[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project {projectname}: Fatal error compiling: invalid target release: 1.7 -&gt; [Help 1]`","body":"That doesn&#39;t work if maven is running using java 6.  It just crashes with <code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project {projectname}: Fatal error compiling: invalid target release: 1.7 -&gt; [Help 1]</code>"}],"tags":[],"owner":{"account_id":3123895,"reputation":533,"user_id":2643153,"display_name":"DEREK LEE"},"comment_count":1,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1397669836,"creation_date":1397669836,"answer_id":23116365,"question_id":18813828,"body_markdown":"You can also do,\r\n\r\n    &lt;properties&gt;\r\n          ...  \r\n    \r\n          &lt;!-- maven-compiler-plugin , aka JAVA Compiler 1.7 --&gt;\r\n          &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n          &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    \r\n          ...  \r\n    &lt;/properties&gt;","title":"Why Maven uses JDK 1.6 but my java -version is 1.7","body":"<p>You can also do,</p>\n\n<pre><code>&lt;properties&gt;\n      ...  \n\n      &lt;!-- maven-compiler-plugin , aka JAVA Compiler 1.7 --&gt;\n      &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n      &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n\n      ...  \n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":424677,"reputation":185,"user_id":804807,"accept_rate":40,"display_name":"Yuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409821871,"creation_date":1409821871,"answer_id":25661496,"question_id":18813828,"body_markdown":"I am late to this question, but I think the best way to handle JDK versions on MacOS is by using the script described at: http://www.jayway.com/2014/01/15/how-to-switch-jdk-version-on-mac-os-x-maverick/","title":"Why Maven uses JDK 1.6 but my java -version is 1.7","body":"<p>I am late to this question, but I think the best way to handle JDK versions on MacOS is by using the script described at: <a href=\"http://www.jayway.com/2014/01/15/how-to-switch-jdk-version-on-mac-os-x-maverick/\" rel=\"nofollow\">http://www.jayway.com/2014/01/15/how-to-switch-jdk-version-on-mac-os-x-maverick/</a></p>\n"},{"tags":[],"owner":{"account_id":5185911,"reputation":123,"user_id":4150320,"display_name":"Yonatan Abrego"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1415733515,"creation_date":1415733515,"answer_id":26872780,"question_id":18813828,"body_markdown":"For Eclipse Users.\r\nIf you have a Run Configuration that does clean package for example.\r\n\r\nIn the Run Configuration panel there is a JRE tab where you can specify against which runtime it should run.\r\nNote that this configuration overrides whatever is in the pom.xml.\r\n","title":"Why Maven uses JDK 1.6 but my java -version is 1.7","body":"<p>For Eclipse Users.\nIf you have a Run Configuration that does clean package for example.</p>\n\n<p>In the Run Configuration panel there is a JRE tab where you can specify against which runtime it should run.\nNote that this configuration overrides whatever is in the pom.xml.</p>\n"},{"tags":[],"owner":{"account_id":6854697,"reputation":21,"user_id":5270664,"display_name":"Vikas Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440635759,"creation_date":1440634154,"answer_id":32238657,"question_id":18813828,"body_markdown":"Please check the compatibility. I struggled with `mvn 3.2.1` and `jdk 1.6.0_37` for many hours. All variables were set but was not working. Finally I upgraded `jdk to 1.8.0_60` and `mvn 3.3.3` and that worked. Environment Variables as following:\r\n\r\n    JAVA_HOME=C:\\ProgramFiles\\Java\\jdk1.8.0_60 \r\n    MVN_HOME=C:\\ProgramFiles\\apache-maven\\apache-maven-3.3.3 \r\n    M2=%MVN_HOME%\\bin extend system level Path- ;%M2%;%JAVA_HOME%\\bin;","title":"Why Maven uses JDK 1.6 but my java -version is 1.7","body":"<p>Please check the compatibility. I struggled with <code>mvn 3.2.1</code> and <code>jdk 1.6.0_37</code> for many hours. All variables were set but was not working. Finally I upgraded <code>jdk to 1.8.0_60</code> and <code>mvn 3.3.3</code> and that worked. Environment Variables as following:</p>\n\n<pre><code>JAVA_HOME=C:\\ProgramFiles\\Java\\jdk1.8.0_60 \nMVN_HOME=C:\\ProgramFiles\\apache-maven\\apache-maven-3.3.3 \nM2=%MVN_HOME%\\bin extend system level Path- ;%M2%;%JAVA_HOME%\\bin;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1985126,"reputation":894,"user_id":1854834,"display_name":"Wei Qiu"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1611976630,"creation_date":1458319486,"answer_id":36089853,"question_id":18813828,"body_markdown":"@MasterGaurav&#39;s solution works perfectly.\r\n\r\nI normally put the Java switch statement into a zsh function:\r\n\r\n    alias java_ls=&#39;/usr/libexec/java_home -V 2&gt;&amp;1 | grep -E &quot;\\d.\\d.\\d[,_]&quot; | cut -d , -f 1 | colrm 1 4 | grep -v Home&#39;\r\n    \r\n    function java_use() {\r\n        export JAVA_HOME=$(/usr/libexec/java_home -v $1)\r\n        echo export &quot;JAVA_HOME=$(/usr/libexec/java_home -v $1)&quot; &gt; ~/.mavenrc\r\n        export PATH=$JAVA_HOME/bin:$PATH\r\n        java -version\r\n    }\r\n\r\nYou can run `java_ls` to get all of the available JVMs on your machine,  \r\nand then `java_use 1.7` to use 1.7 for both Java and Maven.\r\n","title":"Why Maven uses JDK 1.6 but my java -version is 1.7","body":"<p>@MasterGaurav's solution works perfectly.</p>\n<p>I normally put the Java switch statement into a zsh function:</p>\n<pre><code>alias java_ls='/usr/libexec/java_home -V 2&gt;&amp;1 | grep -E &quot;\\d.\\d.\\d[,_]&quot; | cut -d , -f 1 | colrm 1 4 | grep -v Home'\n\nfunction java_use() {\n    export JAVA_HOME=$(/usr/libexec/java_home -v $1)\n    echo export &quot;JAVA_HOME=$(/usr/libexec/java_home -v $1)&quot; &gt; ~/.mavenrc\n    export PATH=$JAVA_HOME/bin:$PATH\n    java -version\n}\n</code></pre>\n<p>You can run <code>java_ls</code> to get all of the available JVMs on your machine,<br />\nand then <code>java_use 1.7</code> to use 1.7 for both Java and Maven.</p>\n"},{"tags":[],"owner":{"account_id":8213884,"reputation":3106,"user_id":6180987,"accept_rate":83,"display_name":"Sergey Luchko"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1506267062,"creation_date":1464119000,"answer_id":37422525,"question_id":18813828,"body_markdown":"It helped me. Just add it in your pom.xml.\r\n\r\nBy default maven compiler plugin uses Java 1.5 or 1.6, you have to redefine it in your pom.xml.\r\n\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Why Maven uses JDK 1.6 but my java -version is 1.7","body":"<p>It helped me. Just add it in your pom.xml.</p>\n\n<p>By default maven compiler plugin uses Java 1.5 or 1.6, you have to redefine it in your pom.xml.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":1393034,"reputation":2479,"user_id":1323374,"accept_rate":50,"display_name":"Ninja"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145339,"favorite_count":0,"down_vote_count":0,"up_vote_count":167,"accepted_answer_id":19324816,"answer_count":9,"score":167,"last_activity_date":1672284127,"creation_date":1379257279,"question_id":18813828,"body_markdown":"I have setup maven in my terminal, and when getting the version settings (using `mvn -v`) it seems it uses JDK 1.6, while I have JDK 1.7 installed. Is there anything wrong?\r\n\r\nThe commands I enter are these:\r\n\r\n    blues:helloworld Ninja$ java -version\r\n&gt;     java version &quot;1.7.0_05&quot;\r\n&gt;     Java(TM) SE Runtime Environment (build 1.7.0_05-b06)\r\n&gt;     Java HotSpot(TM) 64-Bit Server VM (build 23.1-b03, mixed mode)`\r\n\r\n    blues:helloworld Ninja$ mvn -v\r\n&gt;     Apache Maven 3.1.0 (893ca28a1da9d5f51ac03827af98bb730128f9f2; 2013-06-28 10:15:32+0800)\r\n&gt;     Maven home: /usr/local/Cellar/maven/3.1.0/libexec\r\n&gt;     Java version: 1.6.0_51, vendor: Apple Inc.\r\n&gt;     Java home: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\r\n&gt;     Default locale: zh_CN, platform encoding: EUC_CN\r\n&gt;     OS name: &quot;mac os x&quot;, version: &quot;10.8.4&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n\r\n","title":"Why Maven uses JDK 1.6 but my java -version is 1.7","body":"<p>I have setup maven in my terminal, and when getting the version settings (using <code>mvn -v</code>) it seems it uses JDK 1.6, while I have JDK 1.7 installed. Is there anything wrong?</p>\n<p>The commands I enter are these:</p>\n<pre><code>blues:helloworld Ninja$ java -version\n</code></pre>\n<blockquote>\n<pre><code>java version &quot;1.7.0_05&quot;\nJava(TM) SE Runtime Environment (build 1.7.0_05-b06)\nJava HotSpot(TM) 64-Bit Server VM (build 23.1-b03, mixed mode)`\n</code></pre>\n</blockquote>\n<pre><code>blues:helloworld Ninja$ mvn -v\n</code></pre>\n<blockquote>\n<pre><code>Apache Maven 3.1.0 (893ca28a1da9d5f51ac03827af98bb730128f9f2; 2013-06-28 10:15:32+0800)\nMaven home: /usr/local/Cellar/maven/3.1.0/libexec\nJava version: 1.6.0_51, vendor: Apple Inc.\nJava home: /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home\nDefault locale: zh_CN, platform encoding: EUC_CN\nOS name: &quot;mac os x&quot;, version: &quot;10.8.4&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n</blockquote>\n"},{"tags":["java","shopify","liquid","swiper.js"],"owner":{"account_id":24231032,"reputation":111,"user_id":18184792,"display_name":"ByGio1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672283436,"creation_date":1660026866,"question_id":73287428,"body_markdown":"im working on a new featured collection section with swiper JS, but i found some issues on&#160; my way, if anyone can help me to solve that, let&#39;s start:\r\n\r\nat first of all i wanna say thanks to everyone who can help me ‌‌\r\n\r\nokay, this is my code at the moment, using Swiper JS v8.3.2 and Tailwind CSS v3.1\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    &lt;!-- Initialize Swiper --&gt;\r\n    &lt;script&gt;\r\n        window.addEventListener(&#39;load&#39;, function() {\r\n          const swiper = new Swiper(&quot;.mySwiper&quot;, { // Optional parameters\r\n              direction: &quot;horizontal&quot;,\r\n              slidesPerView: 1,\r\n              loop: true,\r\n              lazyLoading: true,\r\n              keyboard: {\r\n                enabled: true\r\n              },\r\n\r\n              // If we need pagination\r\n              pagination: {\r\n                  el: &quot;.swiper-pagination&quot;\r\n              },\r\n\r\n              // Navigation arrows\r\n              navigation: {\r\n                  nextEl: &quot;.swiper-button-next&quot;,\r\n                  prevEl: &quot;.swiper-button-prev&quot;\r\n              },\r\n          });\r\n      });\r\n    &lt;/script&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div class=&quot;flex flex-col items-center px-0 lg:px-8&quot;&gt;\r\n      {% if section.settings.title != blank %}\r\n        &lt;h2\r\n          class=&quot;{{ section.settings.align_text }} font-bold uppercase mt-20 mb-10&quot;\r\n          style=&quot;font-size: {{ section.settings.font_size }}px&quot;\r\n        &gt;\r\n          {{ section.settings.title | escape }}\r\n        &lt;/h2&gt;\r\n      {% endif %}\r\n\r\n      &lt;div class=&quot;max-w-full mx-auto&quot;&gt;\r\n        {% if section.settings.slider_enabled %}\r\n          &lt;!-- Swiper --&gt;\r\n          &lt;div class=&quot;swiper mySwiper&quot;&gt;\r\n            &lt;div class=&quot;swiper-wrapper&quot;&gt;\r\n              &lt;div class=&quot;swiper-slide flex w-full&quot;&gt;\r\n                {%- for product in section.settings.featured_collection.products limit: section.settings.number_of_products_to_show -%}\r\n                  &lt;div class=&quot;\r\n                      {{ section.settings.items_per_row_mobile }}\r\n                      {{ section.settings.items_per_row_tablet }}\r\n                      {{ section.settings.items_per_row }} shrink-0 px-1 md:px-3\r\n                    &quot;&gt;\r\n                    {%\r\n                      render &#39;product-card&#39;,\r\n                      product: product,\r\n                      show_secondary_image: section.settings.show_secondary_image\r\n                    %}\r\n                  &lt;/div&gt;\r\n                {%- endfor -%}\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;swiper-button-next&quot;&gt;&lt;/div&gt;\r\n            &lt;div class=&quot;swiper-button-prev&quot;&gt;&lt;/div&gt;\r\n            &lt;div class=&quot;swiper-pagination&quot;&gt;&lt;/div&gt;\r\n          &lt;/div&gt;\r\n        {% endif %}\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nhere is the url preview:&#160;[https://f8zs5kui4g21u1hi-64379486451.shopifypreview.com][1]\r\n\r\n\r\n\r\n---------------------------------------------------------------------------------------------------------------------------------------------------------\r\n\r\n\r\n\r\nI want to make that slider container with 0 padding at the right showing next product something like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnother issue i found, when you click on next button, products are being duplicated, but if you press prev button, it show correctly..&#160;\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nanother issue i wanna resolve, is how to move just 1 slide per view, i used on my script tag:\r\n\r\n\r\n\r\nloop: true,\r\nslidesPerView: 1,\r\nspaceBetween: 0,\r\n\r\n\r\n\r\nbut it doesn&#39;t work unfortuntly..\r\n\r\n\r\n\r\nIf it&#39;s needed another part of code or something like that, just tell me, i&#39;ll be happy to send all info ‌‌\r\n\r\nThanks to anyone !\r\n\r\n\r\n  [1]: https://f8zs5kui4g21u1hi-64379486451.shopifypreview.com\r\n  [2]: https://i.stack.imgur.com/Qoae3.jpg\r\n  [3]: https://i.stack.imgur.com/wrvbx.jpg","title":"Featured collection shopify with Swiper JS","body":"<p>im working on a new featured collection section with swiper JS, but i found some issues on  my way, if anyone can help me to solve that, let's start:</p>\n<p>at first of all i wanna say thanks to everyone who can help me ‌‌</p>\n<p>okay, this is my code at the moment, using Swiper JS v8.3.2 and Tailwind CSS v3.1</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>&lt;!-- Initialize Swiper --&gt;\n&lt;script&gt;\n    window.addEventListener('load', function() {\n      const swiper = new Swiper(\".mySwiper\", { // Optional parameters\n          direction: \"horizontal\",\n          slidesPerView: 1,\n          loop: true,\n          lazyLoading: true,\n          keyboard: {\n            enabled: true\n          },\n\n          // If we need pagination\n          pagination: {\n              el: \".swiper-pagination\"\n          },\n\n          // Navigation arrows\n          navigation: {\n              nextEl: \".swiper-button-next\",\n              prevEl: \".swiper-button-prev\"\n          },\n      });\n  });\n&lt;/script&gt;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"flex flex-col items-center px-0 lg:px-8\"&gt;\n  {% if section.settings.title != blank %}\n    &lt;h2\n      class=\"{{ section.settings.align_text }} font-bold uppercase mt-20 mb-10\"\n      style=\"font-size: {{ section.settings.font_size }}px\"\n    &gt;\n      {{ section.settings.title | escape }}\n    &lt;/h2&gt;\n  {% endif %}\n\n  &lt;div class=\"max-w-full mx-auto\"&gt;\n    {% if section.settings.slider_enabled %}\n      &lt;!-- Swiper --&gt;\n      &lt;div class=\"swiper mySwiper\"&gt;\n        &lt;div class=\"swiper-wrapper\"&gt;\n          &lt;div class=\"swiper-slide flex w-full\"&gt;\n            {%- for product in section.settings.featured_collection.products limit: section.settings.number_of_products_to_show -%}\n              &lt;div class=\"\n                  {{ section.settings.items_per_row_mobile }}\n                  {{ section.settings.items_per_row_tablet }}\n                  {{ section.settings.items_per_row }} shrink-0 px-1 md:px-3\n                \"&gt;\n                {%\n                  render 'product-card',\n                  product: product,\n                  show_secondary_image: section.settings.show_secondary_image\n                %}\n              &lt;/div&gt;\n            {%- endfor -%}\n          &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"swiper-button-next\"&gt;&lt;/div&gt;\n        &lt;div class=\"swiper-button-prev\"&gt;&lt;/div&gt;\n        &lt;div class=\"swiper-pagination\"&gt;&lt;/div&gt;\n      &lt;/div&gt;\n    {% endif %}\n  &lt;/div&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>here is the url preview: <a href=\"https://f8zs5kui4g21u1hi-64379486451.shopifypreview.com\" rel=\"nofollow noreferrer\">https://f8zs5kui4g21u1hi-64379486451.shopifypreview.com</a></p>\n<hr />\n<p>I want to make that slider container with 0 padding at the right showing next product something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Qoae3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qoae3.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Another issue i found, when you click on next button, products are being duplicated, but if you press prev button, it show correctly.. </p>\n<p><a href=\"https://i.stack.imgur.com/wrvbx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wrvbx.jpg\" alt=\"enter image description here\" /></a></p>\n<p>another issue i wanna resolve, is how to move just 1 slide per view, i used on my script tag:</p>\n<p>loop: true,\nslidesPerView: 1,\nspaceBetween: 0,</p>\n<p>but it doesn't work unfortuntly..</p>\n<p>If it's needed another part of code or something like that, just tell me, i'll be happy to send all info ‌‌</p>\n<p>Thanks to anyone !</p>\n"},{"tags":["java","json","string","gson"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1466543373,"post_id":37954595,"comment_id":63357642,"body_markdown":"Your output isn&#39;t actually JSON, just a string.","body":"Your output isn&#39;t actually JSON, just a string."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1466543425,"post_id":37954595,"comment_id":63357676,"body_markdown":"@cricket_007 It&#39;s a JSON string.","body":"@cricket_007 It&#39;s a JSON string."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1466543479,"post_id":37954595,"comment_id":63357701,"body_markdown":"@SotiriosDelimanolis What I mean is that `ResponseCode`, for example, is a key, no? So, it should be quoted.","body":"@SotiriosDelimanolis What I mean is that <code>ResponseCode</code>, for example, is a key, no? So, it should be quoted."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1466543661,"post_id":37954595,"comment_id":63357785,"body_markdown":"Please explain how you&#39;re calling `toJSONString`.","body":"Please explain how you&#39;re calling <code>toJSONString</code>."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1466543692,"post_id":37954595,"comment_id":63357797,"body_markdown":"@cricket_007 I&#39;ve removed my answer until they clarify, but the JSON produced is a valid JSON string. I don&#39;t want to guess what they pass into `toJSONString`.","body":"@cricket_007 I&#39;ve removed my answer until they clarify, but the JSON produced is a valid JSON string. I don&#39;t want to guess what they pass into <code>toJSONString</code>."},{"owner":{"account_id":5011208,"reputation":127,"user_id":4027455,"accept_rate":83,"display_name":"sam"},"score":0,"creation_date":1466543927,"post_id":37954595,"comment_id":63357900,"body_markdown":"gson method is returning as JSON string after taking in the property value based on the key and adding the \\ for double quotes on the output is as   \\&quot;Renewal no.\\&quot;   instead of printing  &quot;Renewal no.&quot;","body":"gson method is returning as JSON string after taking in the property value based on the key and adding the \\ for double quotes on the output is as   \\&quot;Renewal no.\\&quot;   instead of printing  &quot;Renewal no.&quot;"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1466544080,"post_id":37954595,"comment_id":63357974,"body_markdown":"That&#39;s not what needs clarification. What is the `object` you pass to the `toJSONString` method?","body":"That&#39;s not what needs clarification. What is the <code>object</code> you pass to the <code>toJSONString</code> method?"},{"owner":{"account_id":5011208,"reputation":127,"user_id":4027455,"accept_rate":83,"display_name":"sam"},"score":0,"creation_date":1466544161,"post_id":37954595,"comment_id":63358005,"body_markdown":"Object is a string object","body":"Object is a string object"}],"answers":[{"comments":[{"owner":{"account_id":5011208,"reputation":127,"user_id":4027455,"accept_rate":83,"display_name":"sam"},"score":0,"creation_date":1466544488,"post_id":37954652,"comment_id":63358129,"body_markdown":"I tried to escaping by using string replace but no luck. The best only close solution i have is removing the double quotes itself but i guess that would be my last solution. I am looking for a way that instead of adding &#39;\\&#39; for double quotes to  the output it should print as value with the quotes rather than \\ (slash)","body":"I tried to escaping by using string replace but no luck. The best only close solution i have is removing the double quotes itself but i guess that would be my last solution. I am looking for a way that instead of adding &#39;\\&#39; for double quotes to  the output it should print as value with the quotes rather than \\ (slash)"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1466544615,"post_id":37954652,"comment_id":63358187,"body_markdown":"@MustafaFarooqui Why are you worried about the ``\\``? That is valid JSON.","body":"@MustafaFarooqui Why are you worried about the <code>\\</code>? That is valid JSON."},{"owner":{"account_id":5011208,"reputation":127,"user_id":4027455,"accept_rate":83,"display_name":"sam"},"score":0,"creation_date":1466544922,"post_id":37954652,"comment_id":63358302,"body_markdown":"As per the requirement the output should be &quot;Renewal no:&quot; not this \\&quot;Renewal no:\\ which has \\ instead of quotes","body":"As per the requirement the output should be &quot;Renewal no:&quot; not this \\&quot;Renewal no:\\ which has \\ instead of quotes"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1466545037,"post_id":37954652,"comment_id":63358345,"body_markdown":"@MustafaFarooqui That would be invalid JSON. If you&#39;re not trying to write JSON, don&#39;t use a JSON library. Instead, process the String yourself.","body":"@MustafaFarooqui That would be invalid JSON. If you&#39;re not trying to write JSON, don&#39;t use a JSON library. Instead, process the String yourself."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466544261,"creation_date":1466543508,"answer_id":37954652,"question_id":37954595,"body_markdown":"Based on comments on your question, the `object` parameter is actually referencing a Java `String` with the value\r\n\r\n    {ResponseCode:0110,ResponseText:This is a test for the renewal and the &quot;Renewal no:&quot;}\r\n\r\nI can&#39;t say why, but that&#39;s what your `String` contains.\r\n\r\n`String` is a special type which `Gson` interprets as a JSON string. Since `&quot;` is a special character that must be escaped in JSON strings, that&#39;s what `Gson` does and produces the JSON string.\r\n\r\n    &quot;{ResponseCode:0110,ResponseText:This is a test for the renewal and the \\&quot;Renewal no:\\&quot;}&quot;","title":"How to escape or remove &quot;\\&quot; from the gson generated string?","body":"<p>Based on comments on your question, the <code>object</code> parameter is actually referencing a Java <code>String</code> with the value</p>\n\n<pre><code>{ResponseCode:0110,ResponseText:This is a test for the renewal and the \"Renewal no:\"}\n</code></pre>\n\n<p>I can't say why, but that's what your <code>String</code> contains.</p>\n\n<p><code>String</code> is a special type which <code>Gson</code> interprets as a JSON string. Since <code>\"</code> is a special character that must be escaped in JSON strings, that's what <code>Gson</code> does and produces the JSON string.</p>\n\n<pre><code>\"{ResponseCode:0110,ResponseText:This is a test for the renewal and the \\\"Renewal no:\\\"}\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5011208,"reputation":127,"user_id":4027455,"accept_rate":83,"display_name":"sam"},"score":0,"creation_date":1466544776,"post_id":37954869,"comment_id":63358241,"body_markdown":"i tried doing this response= oldResponse.replace(&quot;\\\\\\&quot;&quot;,&quot;\\&quot;&quot;) before passing it to the output to display but no luck  :(","body":"i tried doing this response= oldResponse.replace(&quot;\\\\\\&quot;&quot;,&quot;\\&quot;&quot;) before passing it to the output to display but no luck  :("},{"owner":{"account_id":968070,"reputation":1336,"user_id":991144,"accept_rate":75,"display_name":"David Findlay"},"score":0,"creation_date":1466545211,"post_id":37954869,"comment_id":63358420,"body_markdown":"It would be better to use a library like the Apache Commons String Escape utils, because it will be able to handle cases that your regex does not. These may for instance be other escaped characters or unicode.","body":"It would be better to use a library like the Apache Commons String Escape utils, because it will be able to handle cases that your regex does not. These may for instance be other escaped characters or unicode."}],"tags":[],"owner":{"account_id":968070,"reputation":1336,"user_id":991144,"accept_rate":75,"display_name":"David Findlay"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1466544407,"creation_date":1466544407,"answer_id":37954869,"question_id":37954595,"body_markdown":"The \\ character is escaping special characters like &quot; in the string. You can&#39;t store a &quot; in a string without a leading \\. It has to be \\&quot;.\r\n\r\nYou remove the slashes when you display any output string. \r\n\r\nApache Commons has a library for handling escaping and unescaping strings: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html","title":"How to escape or remove &quot;\\&quot; from the gson generated string?","body":"<p>The \\ character is escaping special characters like \" in the string. You can't store a \" in a string without a leading . It has to be \\\".</p>\n\n<p>You remove the slashes when you display any output string. </p>\n\n<p>Apache Commons has a library for handling escaping and unescaping strings: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html\" rel=\"nofollow\">https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html</a></p>\n"}],"owner":{"account_id":5011208,"reputation":127,"user_id":4027455,"accept_rate":83,"display_name":"sam"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14741,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1672282751,"creation_date":1466543272,"question_id":37954595,"body_markdown":"I am loading a value from the property file and then passing it to gson method for converting it to final json object. However, the value coming from the property file has double quotes for which the gson is adding &quot;\\&quot; to the output. I have scanned down the whole web but unable to find a solution\r\n\r\nThe property file contains\r\n\r\n    0110= This is a test for the renewal and the &quot;Renewal no:&quot; \r\n\r\nHere&#39;s my code\r\n\r\n    public String toJSONString(Object object) {\r\n        GsonBuilder gsonBuilder = new GsonBuilder();\r\n        Gson gson = gsonBuilder.create();\r\n        //Note object here is the value from the property file\r\n    \treturn gson.toJson(object);\r\n    }\r\n\r\nThis produces\r\n\r\n    &quot;{ResponseCode:0110,ResponseText:This is a test for the renewal and the \\&quot;Renewal no:\\&quot;}&quot;\r\n\r\nI am not sure in the output, why it is adding or wrapping the \\ around the literals or where ever we have the double quotes in the property file value?\r\n\r\n\r\n","title":"How to escape or remove &quot;\\&quot; from the gson generated string?","body":"<p>I am loading a value from the property file and then passing it to gson method for converting it to final json object. However, the value coming from the property file has double quotes for which the gson is adding \"\\\" to the output. I have scanned down the whole web but unable to find a solution</p>\n\n<p>The property file contains</p>\n\n<pre><code>0110= This is a test for the renewal and the \"Renewal no:\" \n</code></pre>\n\n<p>Here's my code</p>\n\n<pre><code>public String toJSONString(Object object) {\n    GsonBuilder gsonBuilder = new GsonBuilder();\n    Gson gson = gsonBuilder.create();\n    //Note object here is the value from the property file\n    return gson.toJson(object);\n}\n</code></pre>\n\n<p>This produces</p>\n\n<pre><code>\"{ResponseCode:0110,ResponseText:This is a test for the renewal and the \\\"Renewal no:\\\"}\"\n</code></pre>\n\n<p>I am not sure in the output, why it is adding or wrapping the \\ around the literals or where ever we have the double quotes in the property file value?</p>\n"},{"tags":["java","binary-data"],"comments":[{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1389517782,"post_id":21072985,"comment_id":31691791,"body_markdown":"Do you need to do some kind of math with them? And do you need an 8-byte unsigned integer? The sortof obvious answer is to read them in to signed integers, for example your 4-byte unsigned long fits in a Java long.","body":"Do you need to do some kind of math with them? And do you need an 8-byte unsigned integer? The sortof obvious answer is to read them in to signed integers, for example your 4-byte unsigned long fits in a Java long."},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1389519513,"post_id":21072985,"comment_id":31692162,"body_markdown":"unsigned long is not going to be 4 bytes on any modern system. That aside, since Java offers a 8 byte signed long, that covers it.","body":"unsigned long is not going to be 4 bytes on any modern system. That aside, since Java offers a 8 byte signed long, that covers it."}],"answers":[{"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1389518044,"post_id":21073011,"comment_id":31691840,"body_markdown":"To transform a signed int into an positive long in Java: long l = i &amp; 0xFFFFFFFFL;","body":"To transform a signed int into an positive long in Java: long l = i &amp; 0xFFFFFFFFL;"},{"owner":{"account_id":3391036,"reputation":323,"user_id":2845850,"accept_rate":62,"display_name":"Saddy"},"score":0,"creation_date":1389518884,"post_id":21073011,"comment_id":31692025,"body_markdown":"@peter.petrov: sorry, reading it as long does not work, it give me negative. I am confused that long take 8 bytes but the header size is 4 bytes, Dose that mean I added 4 extra bytes?","body":"@peter.petrov: sorry, reading it as long does not work, it give me negative. I am confused that long take 8 bytes but the header size is 4 bytes, Dose that mean I added 4 extra bytes?"},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1389519671,"post_id":21073011,"comment_id":31692200,"body_markdown":"@Saddy_Grade Not sure what exactly you&#39;re trying but I suggest you read the &#39;File Source ID&#39; and &#39;Header Size&#39; are byte arrays. Then you construct long values from them. See here: http://stackoverflow.com/questions/1026761/how-to-convert-a-byte-array-to-its-numeric-value-java","body":"@Saddy_Grade Not sure what exactly you&#39;re trying but I suggest you read the &#39;File Source ID&#39; and &#39;Header Size&#39; are byte arrays. Then you construct long values from them. See here: <a href=\"http://stackoverflow.com/questions/1026761/how-to-convert-a-byte-array-to-its-numeric-value-java\" title=\"how to convert a byte array to its numeric value java\">stackoverflow.com/questions/1026761/&hellip;</a>"},{"owner":{"account_id":3391036,"reputation":323,"user_id":2845850,"accept_rate":62,"display_name":"Saddy"},"score":0,"creation_date":1389520044,"post_id":21073011,"comment_id":31692281,"body_markdown":"@peter.petrov: I used `readLong() &amp; 0xFFFFFFFFL`. it give me positive, but not correct number.","body":"@peter.petrov: I used <code>readLong() &amp; 0xFFFFFFFFL</code>. it give me positive, but not correct number."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1389520128,"post_id":21073011,"comment_id":31692303,"body_markdown":"readLong() reads 8 bytes. Not just 4. If you want to read 4 bytes, then use readInt() and transform the result to a positive long using the bitmask.","body":"readLong() reads 8 bytes. Not just 4. If you want to read 4 bytes, then use readInt() and transform the result to a positive long using the bitmask."},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1389520136,"post_id":21073011,"comment_id":31692306,"body_markdown":"@Saddy_Grade No, no. Use readInt(), then do what JB Nizet mentioned.","body":"@Saddy_Grade No, no. Use readInt(), then do what JB Nizet mentioned."},{"owner":{"account_id":3391036,"reputation":323,"user_id":2845850,"accept_rate":62,"display_name":"Saddy"},"score":0,"creation_date":1389521172,"post_id":21073011,"comment_id":31692561,"body_markdown":"sorry guys, `long read = (long) (in.readInt() &amp; 0xFFFFFFFFL);` is not the number that I want. the bitmask 0xFFFFFFFFL might wrong? Sorry I do not know much about bitmask","body":"sorry guys, <code>long read = (long) (in.readInt() &amp; 0xFFFFFFFFL);</code> is not the number that I want. the bitmask 0xFFFFFFFFL might wrong? Sorry I do not know much about bitmask"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1389522294,"post_id":21073011,"comment_id":31692833,"body_markdown":"@Saddy_Grade: now it&#39;s time to edit your question, post the code used to write and read the records, post example inputs and example outputs.","body":"@Saddy_Grade: now it&#39;s time to edit your question, post the code used to write and read the records, post example inputs and example outputs."}],"tags":[],"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1389520197,"creation_date":1389517843,"answer_id":21073011,"question_id":21072985,"body_markdown":"Just read them as `short` (2 bytes - Java) and `int` (4 bytes - Java) in your &lt;br&gt;\r\nJava code. You will not lose any information. If you need to output them later, &lt;br&gt;\r\ndo a conversion so that you don&#39;t output signed numbers.&lt;br&gt;\r\n\r\nGiven their names: `File Source ID` and `Header Size` I doubt you &lt;br&gt;\r\nwill do any arithmetic operations on them. If you do, be careful.\r\n\r\nAlternatively, you can read them both in `long` (8 bytes in Java),&lt;br&gt;\r\nand not worry about arithmetic operations as they will not cause issues.\r\n\r\nAlternatively, you can read your values as byte arrays in Java,&lt;br&gt;\r\nand then transform them to the proper types in your Java code.&lt;br&gt;\r\nThis is probably the most explicit and clean solution.&lt;br&gt;\r\nBut it requires more coding.&lt;br&gt;\r\n\r\n","title":"Java: parsing unsigned binary data","body":"<p>Just read them as <code>short</code> (2 bytes - Java) and <code>int</code> (4 bytes - Java) in your <br>\nJava code. You will not lose any information. If you need to output them later, <br>\ndo a conversion so that you don't output signed numbers.<br></p>\n\n<p>Given their names: <code>File Source ID</code> and <code>Header Size</code> I doubt you <br>\nwill do any arithmetic operations on them. If you do, be careful.</p>\n\n<p>Alternatively, you can read them both in <code>long</code> (8 bytes in Java),<br>\nand not worry about arithmetic operations as they will not cause issues.</p>\n\n<p>Alternatively, you can read your values as byte arrays in Java,<br>\nand then transform them to the proper types in your Java code.<br>\nThis is probably the most explicit and clean solution.<br>\nBut it requires more coding.<br></p>\n"},{"comments":[{"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"score":0,"creation_date":1389672240,"post_id":21086153,"comment_id":31753229,"body_markdown":"The way I usually deal with doubles when parsing binary is to use the existing method to read a long (which yes, you would reverse) and then call Double.longBitsToDouble to convert the long to a double.","body":"The way I usually deal with doubles when parsing binary is to use the existing method to read a long (which yes, you would reverse) and then call Double.longBitsToDouble to convert the long to a double."}],"tags":[],"owner":{"account_id":46836,"reputation":12142,"user_id":138513,"accept_rate":46,"display_name":"Hakanai"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1389598989,"creation_date":1389598989,"answer_id":21086153,"question_id":21072985,"body_markdown":"DataInputStream reads bytes in Big Endian orientation, but check this out:\r\n\r\n3288596480 = 0xC4040000\r\n\r\nReversing the bytes, you get 0x04C4 = 1220\r\n\r\nYou just have to read the values in Little Endian. The question about the sign turns out to be a red herring.\r\n","title":"Java: parsing unsigned binary data","body":"<p>DataInputStream reads bytes in Big Endian orientation, but check this out:</p>\n\n<p>3288596480 = 0xC4040000</p>\n\n<p>Reversing the bytes, you get 0x04C4 = 1220</p>\n\n<p>You just have to read the values in Little Endian. The question about the sign turns out to be a red herring.</p>\n"}],"owner":{"account_id":3391036,"reputation":323,"user_id":2845850,"accept_rate":62,"display_name":"Saddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2090,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":21086153,"answer_count":2,"score":4,"last_activity_date":1672282423,"creation_date":1389517559,"question_id":21072985,"body_markdown":"I have a well defined binary data and I want to write Java API for it.&lt;br&gt;\r\nThe file format is like \r\n\r\n    File Signature     char[4]               4 bytes \r\n    File Source ID     unsigned short        2 bytes\r\n    Header Size        unsigned long         4 bytes\r\n    Max                double                8 bytes\r\n\r\nI am using `DataInputStream` for parsing the data. `char` is easy to parse, no problem. But `unsigned` cannot be parsed correctly.&lt;br&gt; I know Java has no unsigned number. How do I convert it?  (Please take unsigned long as example).\r\n\r\n\r\n**EDIT**&lt;br&gt;\r\n\r\nHere is the code I worte:\r\n\r\n    File file = new File(&quot;lidar.las&quot;);\r\n\t\t\r\n    DataInputStream in= new DataInputStream(new FileInputStream(file));\r\n\r\n    in.skipBytes(6);\r\n    \r\n    long read = (long) (in.readInt() &amp; 0xFFFFFFFFL);\r\n\r\n    System.out.println(&quot;read &quot; + read);\r\n\r\n&lt;br&gt;\r\nthe output is \r\n\r\n&gt; read 3288596480\r\n\r\nmy expected number is 1220\r\n .I do not know the  code that wrote this binary record, probably in c. All I want is writing a Java version to read data out.\r\n&lt;br&gt;\r\n\r\n**Solved**&lt;br&gt;\r\nI am not sure I can answer my own question. LOL&lt;br&gt;\r\nAnyway, Here is the solutions.\r\n\r\n    private static int getSignedInt( final int unsignedInt ){\r\n\t\t\r\n\t\tByteBuffer bb=ByteBuffer.allocate(1024*4);\r\n\t\t\r\n\t\tbb.putInt(unsignedInt).flip();\r\n\t\t\r\n\t\tint result =bb.order(ByteOrder.LITTLE_ENDIAN).getInt();\r\n\t\tbb.clear();\r\n\t\t\r\n\t\treturn  result;\r\n\t}\r\n\r\n\r\n","title":"Java: parsing unsigned binary data","body":"<p>I have a well defined binary data and I want to write Java API for it.<br>\nThe file format is like </p>\n\n<pre><code>File Signature     char[4]               4 bytes \nFile Source ID     unsigned short        2 bytes\nHeader Size        unsigned long         4 bytes\nMax                double                8 bytes\n</code></pre>\n\n<p>I am using <code>DataInputStream</code> for parsing the data. <code>char</code> is easy to parse, no problem. But <code>unsigned</code> cannot be parsed correctly.<br> I know Java has no unsigned number. How do I convert it?  (Please take unsigned long as example).</p>\n\n<p><strong>EDIT</strong><br></p>\n\n<p>Here is the code I worte:</p>\n\n<pre><code>File file = new File(\"lidar.las\");\n\nDataInputStream in= new DataInputStream(new FileInputStream(file));\n\nin.skipBytes(6);\n\nlong read = (long) (in.readInt() &amp; 0xFFFFFFFFL);\n\nSystem.out.println(\"read \" + read);\n</code></pre>\n\n<p><br>\nthe output is </p>\n\n<blockquote>\n  <p>read 3288596480</p>\n</blockquote>\n\n<p>my expected number is 1220\n .I do not know the  code that wrote this binary record, probably in c. All I want is writing a Java version to read data out.\n<br></p>\n\n<p><strong>Solved</strong><br>\nI am not sure I can answer my own question. LOL<br>\nAnyway, Here is the solutions.</p>\n\n<pre><code>private static int getSignedInt( final int unsignedInt ){\n\n    ByteBuffer bb=ByteBuffer.allocate(1024*4);\n\n    bb.putInt(unsignedInt).flip();\n\n    int result =bb.order(ByteOrder.LITTLE_ENDIAN).getInt();\n    bb.clear();\n\n    return  result;\n}\n</code></pre>\n"},{"tags":["java","parsing","file-io","binary-data"],"answers":[{"comments":[{"owner":{"account_id":23088,"reputation":22410,"user_id":57601,"accept_rate":100,"display_name":"Kosi2801"},"score":2,"creation_date":1236982215,"post_id":644754,"comment_id":458156,"body_markdown":"I know that binary files can have any format, but a PNG-file has always the same structure, a BMP has always the same structure...\nWhat I want is: create a &quot;description&quot; for a eg. BMP file, feed it to the framework, feed a BMP and then have easy access to each single element of the parsed content.","body":"I know that binary files can have any format, but a PNG-file has always the same structure, a BMP has always the same structure... What I want is: create a &quot;description&quot; for a eg. BMP file, feed it to the framework, feed a BMP and then have easy access to each single element of the parsed content."},{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":0,"creation_date":1236982492,"post_id":644754,"comment_id":458165,"body_markdown":"Kosi2801: If you can write specification or just a serie of &quot;how it really works&quot; steps for such framework, then it&#39;s doable. If you can&#39;t, it&#39;s not.","body":"Kosi2801: If you can write specification or just a serie of &quot;how it really works&quot; steps for such framework, then it&#39;s doable. If you can&#39;t, it&#39;s not."},{"owner":{"account_id":23088,"reputation":22410,"user_id":57601,"accept_rate":100,"display_name":"Kosi2801"},"score":0,"creation_date":1237076106,"post_id":644754,"comment_id":460291,"body_markdown":"@Perter Lawrey: In that simple case you&#39;re right, the config is longer. But my goal is to be able to deliver something to the client where I can provide additional configs later to support additional file formats. Think of parsing image files where you cannot update the binary for the customer...","body":"@Perter Lawrey: In that simple case you&#39;re right, the config is longer. But my goal is to be able to deliver something to the client where I can provide additional configs later to support additional file formats. Think of parsing image files where you cannot update the binary for the customer..."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1237099969,"post_id":644754,"comment_id":460737,"body_markdown":"@Kosi2801 I am not sure why you feel providing a text file is any easier than providing a class or jar file. If you need to provide the update as text you can use BeanShell, apache-jci or the builtin Compiler API to compile/load java code on the fly.","body":"@Kosi2801 I am not sure why you feel providing a text file is any easier than providing a class or jar file. If you need to provide the update as text you can use BeanShell, apache-jci or the builtin Compiler API to compile/load java code on the fly."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1237146854,"post_id":644754,"comment_id":461906,"body_markdown":"Nice example, but I&#39;d strongly discourage calling that String-constructor! Always define a character set, or it will come back to bite you in the behind ...","body":"Nice example, but I&#39;d strongly discourage calling that String-constructor! Always define a character set, or it will come back to bite you in the behind ..."},{"owner":{"account_id":23088,"reputation":22410,"user_id":57601,"accept_rate":100,"display_name":"Kosi2801"},"score":0,"creation_date":1237278013,"post_id":644754,"comment_id":466716,"body_markdown":"With your update you&#39;ve lined out a solution where the structure of the file to read is hardcoded in the source. What I need is, that the config-file describes the structure of the file and the parser reads it in in an easy-accessible way. Changes only happen in the config file...","body":"With your update you&#39;ve lined out a solution where the structure of the file to read is hardcoded in the source. What I need is, that the config-file describes the structure of the file and the parser reads it in in an easy-accessible way. Changes only happen in the config file..."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1237326992,"post_id":644754,"comment_id":469715,"body_markdown":"You can deploy a java file as a config file.  There is no difference except the format you use.  What is the difference between a config file written in text and a java file written in text.  One is neither more hard coded that the other.","body":"You can deploy a java file as a config file.  There is no difference except the format you use.  What is the difference between a config file written in text and a java file written in text.  One is neither more hard coded that the other."},{"owner":{"account_id":23088,"reputation":22410,"user_id":57601,"accept_rate":100,"display_name":"Kosi2801"},"score":0,"creation_date":1237395553,"post_id":644754,"comment_id":472595,"body_markdown":"Tried to keep business out as long as possible, but: With the software the customer has to be able to provide a description of the file-format to the app without the need to learn Java and have to deal with all of our (to be done then) interfaces. Just let him &quot;describe&quot; his file-format and done...","body":"Tried to keep business out as long as possible, but: With the software the customer has to be able to provide a description of the file-format to the app without the need to learn Java and have to deal with all of our (to be done then) interfaces. Just let him &quot;describe&quot; his file-format and done..."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1237410093,"post_id":644754,"comment_id":473617,"body_markdown":"So instead of learning a sub-set of java (which they might know or be able to get help off the web for) they have to learn a new language which is unlikely to describe all the situations they will need which they definitely won&#39;t know and won&#39;t have much incentive to invest much time in.","body":"So instead of learning a sub-set of java (which they might know or be able to get help off the web for) they have to learn a new language which is unlikely to describe all the situations they will need which they definitely won&#39;t know and won&#39;t have much incentive to invest much time in."},{"owner":{"account_id":23088,"reputation":22410,"user_id":57601,"accept_rate":100,"display_name":"Kosi2801"},"score":0,"creation_date":1237487404,"post_id":644754,"comment_id":477029,"body_markdown":"Exactly. :) If the customer orders it and doesn&#39;t want to be convinced, we try to deliver. I also think it&#39;s safer and easier to provide him with 2 pages of description and a restricted language instead of allowing him to fiddle him around in the guts of the application and doing all sorts of stuff.","body":"Exactly. :) If the customer orders it and doesn&#39;t want to be convinced, we try to deliver. I also think it&#39;s safer and easier to provide him with 2 pages of description and a restricted language instead of allowing him to fiddle him around in the guts of the application and doing all sorts of stuff."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1237495075,"post_id":644754,"comment_id":477452,"body_markdown":"This reason is valid.  In this case I would suggest something which has a simple mapping to what you would do in Java.  Note: you may have to support loops and conditional logic which is not simple.  You may find that you introduce more bugs than you solve.","body":"This reason is valid.  In this case I would suggest something which has a simple mapping to what you would do in Java.  Note: you may have to support loops and conditional logic which is not simple.  You may find that you introduce more bugs than you solve."},{"owner":{"account_id":23088,"reputation":22410,"user_id":57601,"accept_rate":100,"display_name":"Kosi2801"},"score":0,"creation_date":1237498082,"post_id":644754,"comment_id":477602,"body_markdown":"Right, that&#39;s why I&#39;ve been initially asking for an already existing framework. But it seems, there is nothing in that direction available and I&#39;m on my own here. I think I&#39;ll stick to parser generators and create a file-reading backend for the new commands. Thanks for the conversation&amp;ideas :)","body":"Right, that&#39;s why I&#39;ve been initially asking for an already existing framework. But it seems, there is nothing in that direction available and I&#39;m on my own here. I think I&#39;ll stick to parser generators and create a file-reading backend for the new commands. Thanks for the conversation&amp;ideas :)"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":12,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1237141905,"creation_date":1236981179,"answer_id":644754,"question_id":644737,"body_markdown":"I have used DataInputStream for reading binary files and I write the rules in Java. ;) Binary files can have just about any format so there is no general rule for how to read them.\r\n\r\nFrameworks don&#39;t always make things simpler. In your case, the description file is longer than the code to just read the data using a DataInputStream.\r\n\r\n    public static void parse(DataInput in) throws IOException {\r\n    //        file:\r\n    //          header: FIXED(&quot;MAGIC&quot;)\r\n        String header = readAsString(in, 5);\r\n        assert header.equals(&quot;MAGIC&quot;);\r\n    //          body: content(10)\r\n    // ?? not sure what this means\r\n    //        content:\r\n        for(int i=0;i&lt;10;i++) {\r\n    //          value1: BYTE\r\n            byte value1 = in.readByte();\r\n    //          value2: LONG\r\n            long value2 = in.readLong();\r\n    //          value3: STRING(10)\r\n            String value3 = readAsString(in, 10);\r\n        }\r\n    }\r\n    \r\n    public static String readAsString(DataInput in, int len) throws IOException {\r\n        byte[] bytes = new byte[len];\r\n        in.readFully(bytes);\r\n        return new String(bytes);\r\n    }\r\n\r\nIf you want to have a configuration file you could use a Java Configuration File. http://www.google.co.uk/search?q=java+configuration+file","title":"Are there any Java Frameworks for binary file parsing?","body":"<p>I have used DataInputStream for reading binary files and I write the rules in Java. ;) Binary files can have just about any format so there is no general rule for how to read them.</p>\n\n<p>Frameworks don't always make things simpler. In your case, the description file is longer than the code to just read the data using a DataInputStream.</p>\n\n<pre><code>public static void parse(DataInput in) throws IOException {\n//        file:\n//          header: FIXED(\"MAGIC\")\n    String header = readAsString(in, 5);\n    assert header.equals(\"MAGIC\");\n//          body: content(10)\n// ?? not sure what this means\n//        content:\n    for(int i=0;i&lt;10;i++) {\n//          value1: BYTE\n        byte value1 = in.readByte();\n//          value2: LONG\n        long value2 = in.readLong();\n//          value3: STRING(10)\n        String value3 = readAsString(in, 10);\n    }\n}\n\npublic static String readAsString(DataInput in, int len) throws IOException {\n    byte[] bytes = new byte[len];\n    in.readFully(bytes);\n    return new String(bytes);\n}\n</code></pre>\n\n<p>If you want to have a configuration file you could use a Java Configuration File. <a href=\"http://www.google.co.uk/search?q=java+configuration+file\" rel=\"noreferrer\">http://www.google.co.uk/search?q=java+configuration+file</a></p>\n"},{"tags":[],"owner":{"account_id":9557,"reputation":14503,"user_id":17712,"accept_rate":67,"display_name":"Milhous"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1237000460,"creation_date":1237000460,"answer_id":645262,"question_id":644737,"body_markdown":"Have you looking into the world of parsers.  A good parser is [yacc][1], and there may be a port of it for java.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Yacc","title":"Are there any Java Frameworks for binary file parsing?","body":"<p>Have you looking into the world of parsers.  A good parser is <a href=\"http://en.wikipedia.org/wiki/Yacc\" rel=\"nofollow noreferrer\">yacc</a>, and there may be a port of it for java.</p>\n"},{"tags":[],"owner":{"account_id":11146,"reputation":6120,"user_id":21348,"accept_rate":67,"display_name":"asalamon74"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1237022363,"creation_date":1237022363,"answer_id":645674,"question_id":644737,"body_markdown":"You can parse binary files with parsers like [JavaCC][1]. [Here][2] you can find a simple example. Probably it&#39;s a bit more difficult than parsing text files.\r\n\r\n\r\n  [1]: https://javacc.dev.java.net/\r\n  [2]: http://tomcopeland.blogs.com/juniordeveloper/2007/04/parsing_binary_.html","title":"Are there any Java Frameworks for binary file parsing?","body":"<p>You can parse binary files with parsers like <a href=\"https://javacc.dev.java.net/\" rel=\"nofollow noreferrer\">JavaCC</a>. <a href=\"http://tomcopeland.blogs.com/juniordeveloper/2007/04/parsing_binary_.html\" rel=\"nofollow noreferrer\">Here</a> you can find a simple example. Probably it's a bit more difficult than parsing text files.</p>\n"},{"tags":[],"owner":{"account_id":8353,"reputation":4255,"user_id":15018,"accept_rate":29,"display_name":"stepancheg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1237067500,"creation_date":1237067500,"answer_id":646807,"question_id":644737,"body_markdown":"Parser combinator library is an option. [JParsec][1] works fine, however it could be slow.\r\n\r\n\r\n  [1]: http://jparsec.codehaus.org/","title":"Are there any Java Frameworks for binary file parsing?","body":"<p>Parser combinator library is an option. <a href=\"http://jparsec.codehaus.org/\" rel=\"nofollow noreferrer\">JParsec</a> works fine, however it could be slow.</p>\n"},{"comments":[{"owner":{"account_id":23088,"reputation":22410,"user_id":57601,"accept_rate":100,"display_name":"Kosi2801"},"score":1,"creation_date":1237278221,"post_id":648445,"comment_id":466722,"body_markdown":"Had a short look at it but it seems not to provide bit-level access to the data stream content but encapsulates it somehow (to provide optionality etc.). My assumption is also backed because it seems to be necessary to use the Protocol Buffers on both ends of the comm channel.","body":"Had a short look at it but it seems not to provide bit-level access to the data stream content but encapsulates it somehow (to provide optionality etc.). My assumption is also backed because it seems to be necessary to use the Protocol Buffers on both ends of the comm channel."}],"tags":[],"owner":{"display_name":"user75832"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1237147370,"creation_date":1237147370,"answer_id":648445,"question_id":644737,"body_markdown":"Google&#39;s [Protocol Buffers][1]\r\n\r\n\r\n  [1]: http://code.google.com/apis/protocolbuffers/docs/overview.html","title":"Are there any Java Frameworks for binary file parsing?","body":"<p>Google's <a href=\"http://code.google.com/apis/protocolbuffers/docs/overview.html\" rel=\"nofollow noreferrer\">Protocol Buffers</a></p>\n"},{"comments":[{"owner":{"account_id":45061,"reputation":2121,"user_id":132598,"display_name":"shader"},"score":0,"creation_date":1338366034,"post_id":985721,"comment_id":14071382,"body_markdown":"Unfortunately the license is GPL. Update: It&#39;s GPL Version 2.  See here for more info: http://stackoverflow.com/questions/6698740/java-or-c-equivalents-to-preon","body":"Unfortunately the license is GPL. Update: It&#39;s GPL Version 2.  See here for more info: <a href=\"http://stackoverflow.com/questions/6698740/java-or-c-equivalents-to-preon\" title=\"java or c equivalents to preon\">stackoverflow.com/questions/6698740/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1406632358,"post_id":985721,"comment_id":38896553,"body_markdown":"@shader - As a comment on that Question indicates, you can get a commercial license if GPL doesn&#39;t work for you.","body":"@shader - As a comment on that Question indicates, you can get a commercial license if GPL doesn&#39;t work for you."},{"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"score":0,"creation_date":1559247405,"post_id":985721,"comment_id":99370233,"body_markdown":"Preon is now MIT licensed","body":"Preon is now MIT licensed"}],"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"comment_count":3,"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1244797299,"creation_date":1244797299,"answer_id":985721,"question_id":644737,"body_markdown":"give a try to [preon][1]\r\n\r\n\r\n  [1]: http://preon.sourceforge.net/","title":"Are there any Java Frameworks for binary file parsing?","body":"<p>give a try to <a href=\"http://preon.sourceforge.net/\" rel=\"noreferrer\">preon</a></p>\n"},{"tags":[],"owner":{"account_id":46225,"reputation":10889,"user_id":136476,"accept_rate":66,"display_name":"Wilfred Springer"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1334974492,"creation_date":1247252706,"answer_id":1111403,"question_id":644737,"body_markdown":"Using [Preon](https://github.com/wspringer/preon):\r\n\r\n    public class File {\r\n    \r\n      @BoundString(match=&quot;MAGIC&quot;)\r\n      private String header;\r\n    \r\n      @BoundList(size=&quot;10&quot;, type=Body.class)\r\n      private List&lt;Body&gt; body;\r\n    \r\n      private static class Body {\r\n    \r\n        @Bound\r\n        byte value1;\r\n    \r\n        @Bound\r\n        long value2;\r\n    \r\n        @BoundString(size=&quot;10&quot;)\r\n        String value3;\r\n    \r\n      }\r\n      \r\n    \r\n    }\r\n\r\nDecoding data:\r\n\r\n    Codec&lt;File&gt; codec = Codecs.create(File.class);\r\n    File file = codecs.decode(codec, buffer);\r\n\r\nLet me know if you are running into problems.","title":"Are there any Java Frameworks for binary file parsing?","body":"<p>Using <a href=\"https://github.com/wspringer/preon\" rel=\"nofollow noreferrer\">Preon</a>:</p>\n\n<pre><code>public class File {\n\n  @BoundString(match=\"MAGIC\")\n  private String header;\n\n  @BoundList(size=\"10\", type=Body.class)\n  private List&lt;Body&gt; body;\n\n  private static class Body {\n\n    @Bound\n    byte value1;\n\n    @Bound\n    long value2;\n\n    @BoundString(size=\"10\")\n    String value3;\n\n  }\n\n\n}\n</code></pre>\n\n<p>Decoding data:</p>\n\n<pre><code>Codec&lt;File&gt; codec = Codecs.create(File.class);\nFile file = codecs.decode(codec, buffer);\n</code></pre>\n\n<p>Let me know if you are running into problems.</p>\n"},{"tags":[],"owner":{"account_id":2015227,"reputation":833,"user_id":1802697,"display_name":"Igor Maznitsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426751957,"creation_date":1405072755,"answer_id":24695104,"question_id":644737,"body_markdown":"I have been developing a framework for Java which allows to parse binary data https://github.com/raydac/java-binary-block-parser\r\nin the case you should just describe structure of your binary file in pseudolanguage","title":"Are there any Java Frameworks for binary file parsing?","body":"<p>I have been developing a framework for Java which allows to parse binary data <a href=\"https://github.com/raydac/java-binary-block-parser\" rel=\"nofollow\">https://github.com/raydac/java-binary-block-parser</a>\nin the case you should just describe structure of your binary file in pseudolanguage</p>\n"}],"owner":{"account_id":23088,"reputation":22410,"user_id":57601,"accept_rate":100,"display_name":"Kosi2801"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11584,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":985721,"answer_count":8,"score":17,"last_activity_date":1672282073,"creation_date":1236980743,"question_id":644737,"body_markdown":"My problem is, that I want to parse binary files of different types with a generic parser which is implemented in JAVA. Maybe describing the file format with a configuration file which is read by the parser or creating Java classes which parse the files according to some sort of parsing rules.\r\n\r\nI have searched quite a bit on the internet but found almost nothing on this topic.\r\n\r\nWhat I have found are just things which deal with compiler-generators (Jay, Cojen, etc.) but I don&#39;t think that I can use them to generate something for parsing binary files. But I could be wrong on that assumption.\r\n\r\nAre there any frameworks which deal especially with easy parsing of binary files or can anyone give me a hint how I could use parser/compiler-generators to do so?\r\n\r\n**Update**:\r\nI&#39;m looking for something where I can write a config-file like\r\n\r\n    file:\r\n      header: FIXED(&quot;MAGIC&quot;)\r\n      body: content(10)\r\n   \r\n    content:\r\n      value1: BYTE\r\n      value2: LONG\r\n      value3: STRING(10)\r\n\r\nand it generates automatically something which parses files which start with &quot;MAGIC&quot;, followed by ten times the content-package (which itself consists of a byte, a long and a 10-byte string).\r\n\r\n**Update2**:\r\nI found something comparable what I&#39;m looking for, &quot;[Construct][1]&quot;, but sadly this is a Python-Framework. Maybe this helps someone to get an idea, what I&#39;m looking for.\r\n\r\n\r\n  [1]: http://construct.wikispaces.com/","title":"Are there any Java Frameworks for binary file parsing?","body":"<p>My problem is, that I want to parse binary files of different types with a generic parser which is implemented in JAVA. Maybe describing the file format with a configuration file which is read by the parser or creating Java classes which parse the files according to some sort of parsing rules.</p>\n\n<p>I have searched quite a bit on the internet but found almost nothing on this topic.</p>\n\n<p>What I have found are just things which deal with compiler-generators (Jay, Cojen, etc.) but I don't think that I can use them to generate something for parsing binary files. But I could be wrong on that assumption.</p>\n\n<p>Are there any frameworks which deal especially with easy parsing of binary files or can anyone give me a hint how I could use parser/compiler-generators to do so?</p>\n\n<p><strong>Update</strong>:\nI'm looking for something where I can write a config-file like</p>\n\n<pre><code>file:\n  header: FIXED(\"MAGIC\")\n  body: content(10)\n\ncontent:\n  value1: BYTE\n  value2: LONG\n  value3: STRING(10)\n</code></pre>\n\n<p>and it generates automatically something which parses files which start with \"MAGIC\", followed by ten times the content-package (which itself consists of a byte, a long and a 10-byte string).</p>\n\n<p><strong>Update2</strong>:\nI found something comparable what I'm looking for, \"<a href=\"http://construct.wikispaces.com/\" rel=\"nofollow noreferrer\">Construct</a>\", but sadly this is a Python-Framework. Maybe this helps someone to get an idea, what I'm looking for.</p>\n"},{"tags":["java","android","json"],"answers":[{"comments":[{"owner":{"account_id":404706,"reputation":7875,"user_id":773189,"accept_rate":83,"display_name":"devconsole"},"score":1,"creation_date":1368619564,"post_id":16564511,"comment_id":23798853,"body_markdown":"Maybe another JSON library will also do what you want, see [google-gson](http://code.google.com/p/google-gson/) for example.","body":"Maybe another JSON library will also do what you want, see <a href=\"http://code.google.com/p/google-gson/\" rel=\"nofollow noreferrer\">google-gson</a> for example."},{"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"score":2,"creation_date":1368620537,"post_id":16564511,"comment_id":23799408,"body_markdown":"You are right. The `JsonWriter.setHtmlSafe` method seems to do exactly that. The default setting is false, so I guess this library produces unscaped JSON strings. I don&#39;t have the time to test it, but if you did I&#39;d accept this as solution :)","body":"You are right. The <code>JsonWriter.setHtmlSafe</code> method seems to do exactly that. The default setting is false, so I guess this library produces unscaped JSON strings. I don&#39;t have the time to test it, but if you did I&#39;d accept this as solution :)"}],"tags":[],"owner":{"account_id":404706,"reputation":7875,"user_id":773189,"accept_rate":83,"display_name":"devconsole"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1368619799,"creation_date":1368619405,"answer_id":16564511,"question_id":16563579,"body_markdown":"That behavior is hard-coded into [JSONStringer.java][1], see method `private void string(String value)`, line 302+.\r\n\r\nIt should be possible to copy class `JSONStringer` and implement your own version of `value(Object)` (line 227+). Then implement your own version of [JSONObject][2].toString() in a utility class and use your own JSONStringer instead of the original.\r\n\r\nEDIT: Subclassing JSONStringer won&#39;t be easy because value() calls a private method beforeValue() that cannot be accessed.\r\n\r\n  [1]: https://android.googlesource.com/platform/libcore/+/android-4.2.2_r1/json/src/main/java/org/json/JSONStringer.java\r\n  [2]: https://android.googlesource.com/platform/libcore/+/android-4.2.2_r1/json/src/main/java/org/json/JSONObject.java","title":"JSONObject.toString: how NOT to escape slashes","body":"<p>That behavior is hard-coded into <a href=\"https://android.googlesource.com/platform/libcore/+/android-4.2.2_r1/json/src/main/java/org/json/JSONStringer.java\" rel=\"noreferrer\">JSONStringer.java</a>, see method <code>private void string(String value)</code>, line 302+.</p>\n\n<p>It should be possible to copy class <code>JSONStringer</code> and implement your own version of <code>value(Object)</code> (line 227+). Then implement your own version of <a href=\"https://android.googlesource.com/platform/libcore/+/android-4.2.2_r1/json/src/main/java/org/json/JSONObject.java\" rel=\"noreferrer\">JSONObject</a>.toString() in a utility class and use your own JSONStringer instead of the original.</p>\n\n<p>EDIT: Subclassing JSONStringer won't be easy because value() calls a private method beforeValue() that cannot be accessed.</p>\n"},{"comments":[{"owner":{"account_id":1639432,"reputation":415,"user_id":1512176,"display_name":"Migisha"},"score":0,"creation_date":1415992163,"post_id":16564752,"comment_id":42418521,"body_markdown":"It&#39;s very weird how this is still happening!!\nAnywho, I did a String replace on the json string and got the resulting string and passed that to the StringEntity. It worked like magic. Thanks and cheers!!","body":"It&#39;s very weird how this is still happening!! Anywho, I did a String replace on the json string and got the resulting string and passed that to the StringEntity. It worked like magic. Thanks and cheers!!"},{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1626727509,"post_id":16564752,"comment_id":120966614,"body_markdown":"My gess is: `json.replace(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;)`","body":"My gess is: <code>json.replace(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;)</code>"}],"tags":[],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1368620097,"creation_date":1368620097,"answer_id":16564752,"question_id":16563579,"body_markdown":"I finally opted for the quick and dirty trick of replacing the escaped slashes in the serialized string before sending it to the server. Luckily, JSONObject also escapes backslashes, so i must also unscape them. Now if I wanted to send &quot;\\\\ /&quot; intentionally the escaped string would be &quot;\\\\\\\\\\/&quot; and the result of replacing is the original string as intended.","title":"JSONObject.toString: how NOT to escape slashes","body":"<p>I finally opted for the quick and dirty trick of replacing the escaped slashes in the serialized string before sending it to the server. Luckily, JSONObject also escapes backslashes, so i must also unscape them. Now if I wanted to send \"\\ /\" intentionally the escaped string would be \"\\\\/\" and the result of replacing is the original string as intended.</p>\n"},{"comments":[{"owner":{"account_id":2470658,"reputation":1050,"user_id":2152616,"accept_rate":100,"display_name":"Onur Tuna"},"score":4,"creation_date":1472129188,"post_id":29107462,"comment_id":65635250,"body_markdown":"`jsonObjSend.toString().replace(&quot;\\\\&quot;,&quot;&quot;) ` didn&#39;t work for me but `jsonObjSend.toString().replace(&quot;\\\\\\\\&quot;,&quot;&quot;) ` worked. What can be the reason?","body":"<code>jsonObjSend.toString().replace(&quot;\\\\&quot;,&quot;&quot;) </code> didn&#39;t work for me but <code>jsonObjSend.toString().replace(&quot;\\\\\\\\&quot;,&quot;&quot;) </code> worked. What can be the reason?"},{"owner":{"account_id":4903022,"reputation":1398,"user_id":3950602,"display_name":"Alexey Ozerov"},"score":3,"creation_date":1597641608,"post_id":29107462,"comment_id":112188216,"body_markdown":"Shouldn&#39;t be `jsonObject.toString().replace(&quot;\\\\/&quot;,&quot;/&quot;)` ???","body":"Shouldn&#39;t be <code>jsonObject.toString().replace(&quot;\\\\&#47;&quot;,&quot;&#47;&quot;)</code> ???"}],"tags":[],"owner":{"account_id":2097677,"reputation":1869,"user_id":1866094,"display_name":"Vinay"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1485544155,"creation_date":1426618564,"answer_id":29107462,"question_id":16563579,"body_markdown":"    jsonObjSend.toString().replace(&quot;\\\\\\\\&quot;,&quot;&quot;)\r\n\r\nWorked for me. A bit dirty trick but seems no other solution.","title":"JSONObject.toString: how NOT to escape slashes","body":"<pre><code>jsonObjSend.toString().replace(\"\\\\\\\\\",\"\")\n</code></pre>\n\n<p>Worked for me. A bit dirty trick but seems no other solution.</p>\n"},{"tags":[],"owner":{"account_id":2869142,"reputation":131,"user_id":2462842,"display_name":"MoleIsKing"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1486130165,"creation_date":1486130165,"answer_id":42025924,"question_id":16563579,"body_markdown":"I had a similar problem with JSONObject &quot;put&quot; when dealing with data for an image that was encoded into a adat  Uri &quot;data:image/png;base64,.....&quot;. The put function would add another slash to change the format to &quot;data:image\\/png;base64,.....&quot;. It seems that the source of the problem is a string value check within the JSONObject &quot;put&quot; function that adds the extra slashs. One could maybe overload the function or extend the class but I found the easiest way is to add a unique string such as guid and then replace that guid with your Uri string after the calling the toString() function of your JSONObject.\r\n\r\n    JSONObject userJson = new JSONObject(); \r\n    String myimageUri = &quot;data:image/png;base64,XXXDATAXXX&quot;;\r\n    userJson.put(&quot;imageUri&quot;, &quot;b0c8f13d-48b1-46b4-af28-4e2d8004a6f8&quot;);\r\n    userJson.toString().replace(&quot;b0c8f13d-48b1-46b4-af28-4e2d8004a6f8&quot;, myimageUri);\r\n\r\n","title":"JSONObject.toString: how NOT to escape slashes","body":"<p>I had a similar problem with JSONObject \"put\" when dealing with data for an image that was encoded into a adat  Uri \"data:image/png;base64,.....\". The put function would add another slash to change the format to \"data:image/png;base64,.....\". It seems that the source of the problem is a string value check within the JSONObject \"put\" function that adds the extra slashs. One could maybe overload the function or extend the class but I found the easiest way is to add a unique string such as guid and then replace that guid with your Uri string after the calling the toString() function of your JSONObject.</p>\n\n<pre><code>JSONObject userJson = new JSONObject(); \nString myimageUri = \"data:image/png;base64,XXXDATAXXX\";\nuserJson.put(\"imageUri\", \"b0c8f13d-48b1-46b4-af28-4e2d8004a6f8\");\nuserJson.toString().replace(\"b0c8f13d-48b1-46b4-af28-4e2d8004a6f8\", myimageUri);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3629658,"reputation":113,"user_id":5314900,"display_name":"Wilmer"},"score":0,"creation_date":1691067589,"post_id":50755906,"comment_id":135443421,"body_markdown":"Hm, no, I&#39;m definitely importing `org.json.JSONObject` and not the &quot;simple&quot; variant, and I have these dumb escaped slashes. :(","body":"Hm, no, I&#39;m definitely importing <code>org.json.JSONObject</code> and not the &quot;simple&quot; variant, and I have these dumb escaped slashes. :("}],"tags":[],"owner":{"account_id":13736748,"reputation":9,"user_id":9912834,"display_name":"Sachin Rai"},"comment_count":1,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1540893199,"creation_date":1528444303,"answer_id":50755906,"question_id":16563579,"body_markdown":"The problem is with the imports.\r\n\r\nUse below imports :-\r\n\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject; \r\n\r\nInstead of `import org.json.simple.JSONObject;` \r\n\r\nIt will work.\r\n\r\n![See image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ldIUg.jpg\r\n","title":"JSONObject.toString: how NOT to escape slashes","body":"<p>The problem is with the imports.</p>\n\n<p>Use below imports :-</p>\n\n<pre><code>import org.json.JSONException;\nimport org.json.JSONObject; \n</code></pre>\n\n<p>Instead of <code>import org.json.simple.JSONObject;</code> </p>\n\n<p>It will work.</p>\n\n<p><img src=\"https://i.stack.imgur.com/ldIUg.jpg\" alt=\"See image\"></p>\n"},{"tags":[],"owner":{"account_id":1490668,"reputation":3679,"user_id":1397821,"accept_rate":50,"display_name":"M. Usman Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652417023,"creation_date":1652417023,"answer_id":72224554,"question_id":16563579,"body_markdown":"I was getting similar slashes when I used\r\n\r\n    val dateString = Gson().toJson(dateObject).toString()\r\n\r\nYou need to deserialize this json.\r\n\r\n    JSONObject(dateString)\r\n","title":"JSONObject.toString: how NOT to escape slashes","body":"<p>I was getting similar slashes when I used</p>\n<pre><code>val dateString = Gson().toJson(dateObject).toString()\n</code></pre>\n<p>You need to deserialize this json.</p>\n<pre><code>JSONObject(dateString)\n</code></pre>\n"}],"owner":{"account_id":430482,"reputation":27583,"user_id":813951,"accept_rate":75,"display_name":"Mister Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78015,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":16564752,"answer_count":6,"score":51,"last_activity_date":1672281674,"creation_date":1368616521,"question_id":16563579,"body_markdown":"I need to send a date in JSON. The date string should look like this:\r\n\r\n&gt; &quot;2013/5/15&quot;\r\n\r\nInstead , `JSONObject.toString` escapes it as follows:\r\n\r\n&gt; &quot;2013\\\\ /5\\\\ /15&quot;\r\n\r\nI understand that this is done to allow json strings inside scripts tags, as this question explains:\r\nhttps://stackoverflow.com/q/1580647/813951\r\n\r\nBut in my case I don&#39;t need it. In fact the server is returning an error. The server is not dealing with this and I can&#39;t fix the server, so I must fix it in the mobile client code.\r\n\r\nI could do a `String.replace` after serializing it, but what if I actually wanted to include the &quot;\\\\ /&quot; string in any other part of the JSON?  \r\n\r\nIs there a way to serialize a JSON object without escaping slashes? (If possible, without escaping anything)","title":"JSONObject.toString: how NOT to escape slashes","body":"<p>I need to send a date in JSON. The date string should look like this:</p>\n<blockquote>\n<p>&quot;2013/5/15&quot;</p>\n</blockquote>\n<p>Instead , <code>JSONObject.toString</code> escapes it as follows:</p>\n<blockquote>\n<p>&quot;2013\\ /5\\ /15&quot;</p>\n</blockquote>\n<p>I understand that this is done to allow json strings inside scripts tags, as this question explains:\n<a href=\"https://stackoverflow.com/q/1580647/813951\">JSON: why are forward slashes escaped?</a></p>\n<p>But in my case I don't need it. In fact the server is returning an error. The server is not dealing with this and I can't fix the server, so I must fix it in the mobile client code.</p>\n<p>I could do a <code>String.replace</code> after serializing it, but what if I actually wanted to include the &quot;\\ /&quot; string in any other part of the JSON?</p>\n<p>Is there a way to serialize a JSON object without escaping slashes? (If possible, without escaping anything)</p>\n"},{"tags":["java","sql","jdbc"],"comments":[{"owner":{"account_id":8834,"reputation":297144,"user_id":16076,"display_name":"Mitch Wheat"},"score":0,"creation_date":1313145053,"post_id":7038818,"comment_id":8411105,"body_markdown":"&#39;@P0&#39; is your rowcounttodisplay parameter","body":"&#39;@P0&#39; is your rowcounttodisplay parameter"},{"owner":{"account_id":74289,"reputation":28069,"user_id":213550,"accept_rate":100,"display_name":"VMAtm"},"score":0,"creation_date":1313145084,"post_id":7038818,"comment_id":8411122,"body_markdown":"Can you provide actual sql causing the error? It seems like you do not properly provide `RowCountToDisplay`","body":"Can you provide actual sql causing the error? It seems like you do not properly provide <code>RowCountToDisplay</code>"}],"answers":[{"comments":[{"owner":{"display_name":"user818700"},"score":1,"creation_date":1313145886,"post_id":7038845,"comment_id":8411322,"body_markdown":"Thank you! this was the problem... Been struggling with this for hours. Always a little thing isn&#39;t it... Thanks again.","body":"Thank you! this was the problem... Been struggling with this for hours. Always a little thing isn&#39;t it... Thanks again."},{"owner":{"account_id":3350034,"reputation":5797,"user_id":2814253,"accept_rate":62,"display_name":"Fractaliste"},"score":4,"creation_date":1406291823,"post_id":7038845,"comment_id":38787134,"body_markdown":"This error can also appear with `INSERT` queries on syntax error binding. The number after `@P` characters can indicate which parameter produces the error (`@P3` for the third parameter, ...).","body":"This error can also appear with <code>INSERT</code> queries on syntax error binding. The number after <code>@P</code> characters can indicate which parameter produces the error (<code>@P3</code> for the third parameter, ...)."},{"owner":{"account_id":1241265,"reputation":4024,"user_id":1203811,"accept_rate":79,"display_name":"jumps4fun"},"score":1,"creation_date":1446033185,"post_id":7038845,"comment_id":54572213,"body_markdown":"Likely time spent on this problem without SO: 3-8 hours\nTime spent on this problem with SO: 55 seconds.\nThank you!","body":"Likely time spent on this problem without SO: 3-8 hours Time spent on this problem with SO: 55 seconds. Thank you!"},{"owner":{"account_id":54040,"reputation":3797,"user_id":161644,"accept_rate":30,"display_name":"John Lockwood"},"score":0,"creation_date":1446677720,"post_id":7038845,"comment_id":54848858,"body_markdown":"Right you are!  Thanks.","body":"Right you are!  Thanks."},{"owner":{"account_id":319704,"reputation":5844,"user_id":637609,"accept_rate":96,"display_name":"Mark W"},"score":0,"creation_date":1499689403,"post_id":7038845,"comment_id":76997403,"body_markdown":"Although this is the correct, I found the solution to be @Tomasz Godziński answer","body":"Although this is the correct, I found the solution to be @Tomasz Godziński answer"},{"owner":{"account_id":3634502,"reputation":481,"user_id":3029929,"accept_rate":64,"display_name":"user3029929"},"score":0,"creation_date":1506422574,"post_id":7038845,"comment_id":79805643,"body_markdown":"But how we place parenthesis around TOP, if we are using Pageable request","body":"But how we place parenthesis around TOP, if we are using Pageable request"},{"owner":{"account_id":3901278,"reputation":694,"user_id":3229085,"accept_rate":31,"display_name":"Mark.ewd"},"score":0,"creation_date":1550958280,"post_id":7038845,"comment_id":96465752,"body_markdown":"Thanks. I knew this long ago but forgot.","body":"Thanks. I knew this long ago but forgot."},{"owner":{"account_id":2116606,"reputation":923,"user_id":1880761,"accept_rate":60,"display_name":"trebor"},"score":0,"creation_date":1676242965,"post_id":7038845,"comment_id":133093280,"body_markdown":"Glad I found this. Wonder where it might be documented and how one would know if it wasn&#39;t for SO?","body":"Glad I found this. Wonder where it might be documented and how one would know if it wasn&#39;t for SO?"},{"owner":{"account_id":4613206,"reputation":2022,"user_id":4019117,"accept_rate":8,"display_name":"Irfan Nasim"},"score":0,"creation_date":1677735531,"post_id":7038845,"comment_id":133397563,"body_markdown":"how to do dynamic query, like i am creating query using StringBuilder and needs to pass that query to repository to fetch data. how can achieve this type of thing?","body":"how to do dynamic query, like i am creating query using StringBuilder and needs to pass that query to repository to fetch data. how can achieve this type of thing?"}],"tags":[],"owner":{"account_id":20961,"reputation":233692,"user_id":50552,"accept_rate":84,"display_name":"Andomar"},"comment_count":9,"down_vote_count":0,"up_vote_count":133,"is_accepted":true,"score":133,"last_activity_date":1313145037,"creation_date":1313145037,"answer_id":7038845,"question_id":7038818,"body_markdown":"SQL Server requires you to place parenthesis around the argument to `top` if you pass in a variable:\r\n\r\n    SELECT TOP (?)","title":"MS SQL Exception: Incorrect syntax near &#39;@P0&#39;","body":"<p>SQL Server requires you to place parenthesis around the argument to <code>top</code> if you pass in a variable:</p>\n\n<pre><code>SELECT TOP (?)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4245916,"reputation":338,"user_id":3474613,"display_name":"Nick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422855619,"creation_date":1422855619,"answer_id":28271721,"question_id":7038818,"body_markdown":"It can also be caused by a syntax error in your SQL as was the case for me\r\n\r\n    select * from drivel d where exists (select * from drivel where d.id = drivel.id and drivel.start_date &lt; &#39;2015-02-05&#39; AND &#39;2015-02-05&#39; &lt; drivel.end_date) OR exists (select * from drivel where d.id = drivel.id and drivel.start_date &lt; &#39;2015-02-05&#39; AND &#39;2015-02-05&#39; &lt; drivel.end_date) OR exists (select * from drivel where d.id = drivel.id and &#39;2015-02-05&#39; &lt; drivel.start_date and drivel.end_date &lt; &#39;2015-02-05&#39;\r\n\r\ngave the message\r\n\r\n**com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near &#39;@P5&#39;**\r\n\r\nthe problem was actually the balancing &#39;)&#39; missing at the end, namely, correct version is\r\n\r\n    select * from drivel d where exists (select * from drivel where d.id = drivel.id and drivel.start_date &lt; &#39;2015-02-05&#39; AND &#39;2015-02-05&#39; &lt; drivel.end_date) OR exists (select * from drivel where d.id = drivel.id and drivel.start_date &lt; &#39;2015-02-05&#39; AND &#39;2015-02-05&#39; &lt; drivel.end_date) OR exists (select * from drivel where d.id = drivel.id and &#39;2015-02-05&#39; &lt; drivel.start_date and drivel.end_date &lt; &#39;2015-02-05&#39;)","title":"MS SQL Exception: Incorrect syntax near &#39;@P0&#39;","body":"<p>It can also be caused by a syntax error in your SQL as was the case for me</p>\n\n<pre><code>select * from drivel d where exists (select * from drivel where d.id = drivel.id and drivel.start_date &lt; '2015-02-05' AND '2015-02-05' &lt; drivel.end_date) OR exists (select * from drivel where d.id = drivel.id and drivel.start_date &lt; '2015-02-05' AND '2015-02-05' &lt; drivel.end_date) OR exists (select * from drivel where d.id = drivel.id and '2015-02-05' &lt; drivel.start_date and drivel.end_date &lt; '2015-02-05'\n</code></pre>\n\n<p>gave the message</p>\n\n<p><strong>com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near '@P5'</strong></p>\n\n<p>the problem was actually the balancing ')' missing at the end, namely, correct version is</p>\n\n<pre><code>select * from drivel d where exists (select * from drivel where d.id = drivel.id and drivel.start_date &lt; '2015-02-05' AND '2015-02-05' &lt; drivel.end_date) OR exists (select * from drivel where d.id = drivel.id and drivel.start_date &lt; '2015-02-05' AND '2015-02-05' &lt; drivel.end_date) OR exists (select * from drivel where d.id = drivel.id and '2015-02-05' &lt; drivel.start_date and drivel.end_date &lt; '2015-02-05')\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4799444,"reputation":301,"user_id":3876452,"display_name":"Jose Jurado"},"score":1,"creation_date":1475222072,"post_id":39294301,"comment_id":66866465,"body_markdown":"I experienced the same after moving to Spring Boot 1.4 hence new Hibernate version","body":"I experienced the same after moving to Spring Boot 1.4 hence new Hibernate version"},{"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"score":2,"creation_date":1477914924,"post_id":39294301,"comment_id":67937395,"body_markdown":"I got this when using `PageRequest`. I&#39;m guessing, as per the answer from @Andomar, that it is implemented using a &quot;top&quot; without parentheses. As you say, updating from `SQLServerDialect` (in my case to 2012) seems to fix the issue. Apparently, this was a change in SQL Server 2005: http://www.dotnetfunda.com/articles/show/59/difference-between-top-clause-in-sql-2000-and-sql-2005","body":"I got this when using <code>PageRequest</code>. I&#39;m guessing, as per the answer from @Andomar, that it is implemented using a &quot;top&quot; without parentheses. As you say, updating from <code>SQLServerDialect</code> (in my case to 2012) seems to fix the issue. Apparently, this was a change in SQL Server 2005: <a href=\"http://www.dotnetfunda.com/articles/show/59/difference-between-top-clause-in-sql-2000-and-sql-2005\" rel=\"nofollow noreferrer\">dotnetfunda.com/articles/show/59/&hellip;</a>"}],"tags":[],"owner":{"account_id":4201685,"reputation":483,"user_id":3441664,"display_name":"Tomasz Godziński"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1472824937,"creation_date":1472824937,"answer_id":39294301,"question_id":7038818,"body_markdown":"In our application we have extended a depraceted `SQLServerDialect`. After change to `SQLServer2008Dialect` the problem disappeared.","title":"MS SQL Exception: Incorrect syntax near &#39;@P0&#39;","body":"<p>In our application we have extended a depraceted <code>SQLServerDialect</code>. After change to <code>SQLServer2008Dialect</code> the problem disappeared.</p>\n"},{"tags":[],"owner":{"account_id":1076326,"reputation":2182,"user_id":1074391,"display_name":"MarCrazyness"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1482276102,"creation_date":1482276102,"answer_id":41252769,"question_id":7038818,"body_markdown":"Upgraded hibernate to version 5.x and came across this issue. Had to update &quot;hibernate.dialect&quot; configuration from org.hibernate.dialect.SQLServerDialect to org.hibernate.dialect.SQLServer2012Dialect. Fixed the issue!\r\n\r\nHibernate Doc Reference:\r\nhttps://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html/session-configuration.html#configuration-programmatic\r\n\r\nHibernate Jira issue:\r\nhttps://hibernate.atlassian.net/browse/HHH-10032","title":"MS SQL Exception: Incorrect syntax near &#39;@P0&#39;","body":"<p>Upgraded hibernate to version 5.x and came across this issue. Had to update \"hibernate.dialect\" configuration from org.hibernate.dialect.SQLServerDialect to org.hibernate.dialect.SQLServer2012Dialect. Fixed the issue!</p>\n\n<p>Hibernate Doc Reference:\n<a href=\"https://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html/session-configuration.html#configuration-programmatic\" rel=\"noreferrer\">https://docs.jboss.org/hibernate/orm/3.6/reference/en-US/html/session-configuration.html#configuration-programmatic</a></p>\n\n<p>Hibernate Jira issue:\n<a href=\"https://hibernate.atlassian.net/browse/HHH-10032\" rel=\"noreferrer\">https://hibernate.atlassian.net/browse/HHH-10032</a></p>\n"},{"tags":[],"owner":{"account_id":5621353,"reputation":11,"user_id":4451082,"display_name":"Prashant"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521664954,"creation_date":1521664954,"answer_id":49416127,"question_id":7038818,"body_markdown":"If you are using custom data source, adding property :\r\n    \r\n  \r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.SQLServer2012Dialect\r\n\r\nin application.properties will not work.\r\n\r\nYou have to add the property as properties map in your data source bean:\r\n     \r\n      @Bean\r\n    public LocalContainerEntityManagerFactoryBean sqlServerEntityManagerFactory() {\r\n        HashMap&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.SQLServer2012Dialect&quot;);\r\n\r\n        LocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\r\n        factoryBean.setDataSource(sqlServerDataSource());\r\n        factoryBean.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n        factoryBean.setJpaPropertyMap(properties);\r\n        return factoryBean;\r\n    }\r\n","title":"MS SQL Exception: Incorrect syntax near &#39;@P0&#39;","body":"<p>If you are using custom data source, adding property :</p>\n\n<pre><code>spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.SQLServer2012Dialect\n</code></pre>\n\n<p>in application.properties will not work.</p>\n\n<p>You have to add the property as properties map in your data source bean:</p>\n\n<pre><code>  @Bean\npublic LocalContainerEntityManagerFactoryBean sqlServerEntityManagerFactory() {\n    HashMap&lt;String, String&gt; properties = new HashMap&lt;&gt;();\n    properties.put(\"hibernate.dialect\", \"org.hibernate.dialect.SQLServer2012Dialect\");\n\n    LocalContainerEntityManagerFactoryBean factoryBean = new LocalContainerEntityManagerFactoryBean();\n    factoryBean.setDataSource(sqlServerDataSource());\n    factoryBean.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n    factoryBean.setJpaPropertyMap(properties);\n    return factoryBean;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2617694,"reputation":1456,"user_id":2266428,"accept_rate":57,"display_name":"J E Carter II"},"score":0,"creation_date":1572537520,"post_id":50549361,"comment_id":103599225,"body_markdown":"Works well with Spring Roo.  Simply provide `property add --key spring.jpa.properties.hibernate.dialect --value org.hibernate.dialect.SQLServer2012Dialect` at the end of a roo script.","body":"Works well with Spring Roo.  Simply provide <code>property add --key spring.jpa.properties.hibernate.dialect --value org.hibernate.dialect.SQLServer2012Dialect</code> at the end of a roo script."}],"tags":[],"owner":{"account_id":94277,"reputation":597,"user_id":257484,"accept_rate":60,"display_name":"Meysam"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528381782,"creation_date":1527399817,"answer_id":50549361,"question_id":7038818,"body_markdown":"If you are using Hibernate within a spring-boot app, you may set `hibernate.dialect` with following configuration property:\r\n\r\n`spring.jpa.database-platform=org.hibernate.dialect.SQLServer2008Dialect\r\n`","title":"MS SQL Exception: Incorrect syntax near &#39;@P0&#39;","body":"<p>If you are using Hibernate within a spring-boot app, you may set <code>hibernate.dialect</code> with following configuration property:</p>\n\n<p><code>spring.jpa.database-platform=org.hibernate.dialect.SQLServer2008Dialect\n</code></p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1592643424,"post_id":62482774,"comment_id":110502382,"body_markdown":"You seem to be answering a different question than is asked here. The OP isn&#39;t using a stored procedure, so your answer doesn&#39;t make sense.","body":"You seem to be answering a different question than is asked here. The OP isn&#39;t using a stored procedure, so your answer doesn&#39;t make sense."}],"tags":[],"owner":{"account_id":18889208,"reputation":11,"user_id":13779880,"display_name":"Sunny Bhardwaj"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1592642932,"creation_date":1592637017,"answer_id":62482774,"question_id":7038818,"body_markdown":"Call the Procedure in the below way\r\n\r\n    @Override\r\n\tpublic List&lt;Rep_Holdings&gt; getHoldingsReport(\r\n\t        int pid\r\n\t)\r\n\t{\r\n\t\tList&lt;Rep_Holdings&gt; holdings = null;\r\n\t\t\r\n\t\tSession sess = sFac.getCurrentSession();\r\n\t\tif (sess != null &amp;&amp; pid &gt; 0)\r\n\t\t{\r\n\t\t\t@SuppressWarnings(\r\n\t\t\t    &quot;rawtypes&quot;\r\n\t\t\t)\r\n\t\t\tQuery query = sess.createSQLQuery(\r\n\t\t\t        &quot;{CALL GetHoldingsforPF(:pid)}&quot;).addEntity(Rep_Holdings.class);\r\n\t\t\tquery.setParameter(&quot;pid&quot;, pid);\r\n\t\t\t\r\n\t\t\t@SuppressWarnings(\r\n\t\t\t    &quot;rawtypes&quot;\r\n\t\t\t)\r\n\t\t\tList result = query.getResultList();\r\n\t\t\tif (result != null)\r\n\t\t\t{\r\n\t\t\t\tif (result.size() &gt; 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tholdings = new ArrayList&lt;Rep_Holdings&gt;();\r\n\t\t\t\t\tfor (int i = 0; i &lt; result.size(); i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tRep_Holdings holding = (Rep_Holdings) result.get(i);\r\n\t\t\t\t\t\tholdings.add(holding);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn holdings;\r\n\t}\r\n\r\nThe same procedure in SQL Server\r\n\r\n```\r\nALTER PROCEDURE [dbo].[GetHoldingsforPF]\r\n\t@pid int\r\nAS\r\nBEGIN\r\nSET NOCOUNT ON;\r\n\t    -- Insert statements for procedure here\r\n\r\n\t\tdeclare @totalPFInv decimal(15,2);\r\n\r\n    set @totalPFInv =  ( select  sum(totalInvestment) from Holdings where pid = @pid );\r\n  \r\n\tSelect hid,\r\n\t       pid,\r\n\t\t   scCode,\r\n\t\t   numUnits,\r\n\t\t   avgPPU,\r\n\t\t   adjPPU,\r\n\t\t   totalInvestment,\r\n\t\t   cast ( (totalInvestment/@totalPFInv)*100 as decimal(10,1)) as perPF,\r\n\t\t   totalDiv,\r\n\t\t   cast ( (totalDiv/totalInvestment)*100 as decimal(10,1)) as divY\r\n\t\t   from Holdings\r\n\t\t   where pid = @pid\r\nEND\r\n```","title":"MS SQL Exception: Incorrect syntax near &#39;@P0&#39;","body":"<p>Call the Procedure in the below way</p>\n\n<pre><code>@Override\npublic List&lt;Rep_Holdings&gt; getHoldingsReport(\n        int pid\n)\n{\n    List&lt;Rep_Holdings&gt; holdings = null;\n\n    Session sess = sFac.getCurrentSession();\n    if (sess != null &amp;&amp; pid &gt; 0)\n    {\n        @SuppressWarnings(\n            \"rawtypes\"\n        )\n        Query query = sess.createSQLQuery(\n                \"{CALL GetHoldingsforPF(:pid)}\").addEntity(Rep_Holdings.class);\n        query.setParameter(\"pid\", pid);\n\n        @SuppressWarnings(\n            \"rawtypes\"\n        )\n        List result = query.getResultList();\n        if (result != null)\n        {\n            if (result.size() &gt; 0)\n            {\n                holdings = new ArrayList&lt;Rep_Holdings&gt;();\n                for (int i = 0; i &lt; result.size(); i++)\n                {\n                    Rep_Holdings holding = (Rep_Holdings) result.get(i);\n                    holdings.add(holding);\n                }\n            }\n        }\n    }\n\n    return holdings;\n}\n</code></pre>\n\n<p>The same procedure in SQL Server</p>\n\n<pre><code>ALTER PROCEDURE [dbo].[GetHoldingsforPF]\n    @pid int\nAS\nBEGIN\nSET NOCOUNT ON;\n        -- Insert statements for procedure here\n\n        declare @totalPFInv decimal(15,2);\n\n    set @totalPFInv =  ( select  sum(totalInvestment) from Holdings where pid = @pid );\n\n    Select hid,\n           pid,\n           scCode,\n           numUnits,\n           avgPPU,\n           adjPPU,\n           totalInvestment,\n           cast ( (totalInvestment/@totalPFInv)*100 as decimal(10,1)) as perPF,\n           totalDiv,\n           cast ( (totalDiv/totalInvestment)*100 as decimal(10,1)) as divY\n           from Holdings\n           where pid = @pid\nEND\n</code></pre>\n"}],"owner":{"display_name":"user818700"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89128,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":7038845,"answer_count":7,"score":65,"last_activity_date":1672281278,"creation_date":1313144870,"question_id":7038818,"body_markdown":"I&#39;m querying a DB using MS SQL and for some reason I get the following error: `com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near &#39;@P0&#39;` even though this &#39;P0&#39; isn&#39;t anywhere in my syntax...\r\n\r\nI&#39;ve read that someone has had a same issue but they were using a stored proc, something which I am not using so I don&#39;t see how his solution will work for me. (His solution being asomething about adding braces {} around the procedure call.\r\n\r\nAnyways, below I have pasted the relevant code. Really hope someone can help me with this, getting quite frustrated.\r\n\r\n  \r\n    PreparedStatement stmt = null;\r\n    Connection conn = null;    \r\n\r\n    String sqlQuery = &quot;SELECT TOP ? \\n&quot;+\r\n                                  &quot;z.bankAccountNo, \\n&quot;+\r\n                                  &quot;z.statementNo, \\n&quot;+\r\n                                  &quot;z.transactionDate, \\n&quot;+\r\n                                  &quot;z.description, \\n&quot;+\r\n                                  &quot;z.amount, \\n&quot;+\r\n                                  &quot;z.guid \\n&quot;+\r\n                                  &quot;FROM \\n&quot;+\r\n                                  &quot;( \\n&quot;+\r\n                                  &quot;select  \\n&quot;+\r\n                                  &quot;ROW_NUMBER() OVER (ORDER BY x.transactionDate, x.statementNo) AS RowNumber, \\n&quot;+\r\n                                  &quot;x.transactionDate, \\n&quot;+\r\n                                  &quot;x.statementNo, \\n&quot;+\r\n                                  &quot;x.description, \\n&quot;+\r\n                                  &quot;x.amount, \\n&quot;+\r\n                                  &quot;x.bankAccountNo, \\n&quot;+\r\n                                  &quot;x.guid \\n&quot;+\r\n                                  &quot;FROM \\n&quot;+\r\n                                  &quot;( \\n&quot;+\r\n                                  &quot;SELECT  \\n&quot;+\r\n                                  &quot;a.bankAccountNo,  \\n&quot;+\r\n                                  &quot;a.statementNo,  \\n&quot;+\r\n                                  &quot;a.transactionDate, \\n&quot;+\r\n                                  &quot;a.description,  \\n&quot;+\r\n                                  &quot;a.amount,  \\n&quot;+\r\n                                  &quot;a.guid  \\n&quot;+\r\n                                  &quot;FROM BankTransactions as a  \\n&quot;+\r\n                                  &quot;LEFT OUTER JOIN BankTransactionCategories as b  \\n&quot;+\r\n                                  &quot;ON a.category = b.categoryCode  \\n&quot;+\r\n                                  &quot;WHERE b.categoryCode is null \\n&quot;+\r\n                                  &quot;) as x \\n&quot;+\r\n                                  &quot;) as z \\n&quot;+\r\n                                  &quot;WHERE (z.RowNumber &gt;= ?)&quot;;\r\n\r\n    stmt = conn.prepareStatement(sqlQuery);\r\n    stmt.setInt(1, RowCountToDisplay);\r\n    stmt.setInt(2, StartIndex);\r\n    ResultSet rs = null;\r\n    try{\r\n        rs = stmt.executeQuery();\r\n    } catch (Exception Error){\r\n        System.out.println(&quot;Error: &quot;+Error);\r\n    }","title":"MS SQL Exception: Incorrect syntax near &#39;@P0&#39;","body":"<p>I'm querying a DB using MS SQL and for some reason I get the following error: <code>com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near '@P0'</code> even though this 'P0' isn't anywhere in my syntax...</p>\n<p>I've read that someone has had a same issue but they were using a stored proc, something which I am not using so I don't see how his solution will work for me. (His solution being asomething about adding braces {} around the procedure call.</p>\n<p>Anyways, below I have pasted the relevant code. Really hope someone can help me with this, getting quite frustrated.</p>\n<pre><code>PreparedStatement stmt = null;\nConnection conn = null;    \n\nString sqlQuery = &quot;SELECT TOP ? \\n&quot;+\n                              &quot;z.bankAccountNo, \\n&quot;+\n                              &quot;z.statementNo, \\n&quot;+\n                              &quot;z.transactionDate, \\n&quot;+\n                              &quot;z.description, \\n&quot;+\n                              &quot;z.amount, \\n&quot;+\n                              &quot;z.guid \\n&quot;+\n                              &quot;FROM \\n&quot;+\n                              &quot;( \\n&quot;+\n                              &quot;select  \\n&quot;+\n                              &quot;ROW_NUMBER() OVER (ORDER BY x.transactionDate, x.statementNo) AS RowNumber, \\n&quot;+\n                              &quot;x.transactionDate, \\n&quot;+\n                              &quot;x.statementNo, \\n&quot;+\n                              &quot;x.description, \\n&quot;+\n                              &quot;x.amount, \\n&quot;+\n                              &quot;x.bankAccountNo, \\n&quot;+\n                              &quot;x.guid \\n&quot;+\n                              &quot;FROM \\n&quot;+\n                              &quot;( \\n&quot;+\n                              &quot;SELECT  \\n&quot;+\n                              &quot;a.bankAccountNo,  \\n&quot;+\n                              &quot;a.statementNo,  \\n&quot;+\n                              &quot;a.transactionDate, \\n&quot;+\n                              &quot;a.description,  \\n&quot;+\n                              &quot;a.amount,  \\n&quot;+\n                              &quot;a.guid  \\n&quot;+\n                              &quot;FROM BankTransactions as a  \\n&quot;+\n                              &quot;LEFT OUTER JOIN BankTransactionCategories as b  \\n&quot;+\n                              &quot;ON a.category = b.categoryCode  \\n&quot;+\n                              &quot;WHERE b.categoryCode is null \\n&quot;+\n                              &quot;) as x \\n&quot;+\n                              &quot;) as z \\n&quot;+\n                              &quot;WHERE (z.RowNumber &gt;= ?)&quot;;\n\nstmt = conn.prepareStatement(sqlQuery);\nstmt.setInt(1, RowCountToDisplay);\nstmt.setInt(2, StartIndex);\nResultSet rs = null;\ntry{\n    rs = stmt.executeQuery();\n} catch (Exception Error){\n    System.out.println(&quot;Error: &quot;+Error);\n}\n</code></pre>\n"},{"tags":["java","multithreading","rabbitmq","messaging","channel"],"answers":[{"comments":[{"owner":{"account_id":2823210,"reputation":508,"user_id":2426445,"display_name":"kosgeinsky"},"score":1,"creation_date":1534419075,"post_id":18701369,"comment_id":90703276,"body_markdown":"Thank you. I prefer to declare `n channels` and bind the queue to each of them to designate the concurrency level which in turn removes the headache of managing the threads on my side.","body":"Thank you. I prefer to declare <code>n channels</code> and bind the queue to each of them to designate the concurrency level which in turn removes the headache of managing the threads on my side."},{"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"score":0,"creation_date":1649061584,"post_id":18701369,"comment_id":126771735,"body_markdown":"@kosgeinsky this won&#39;t work exactly as you expect; it might be possible in certain heavy load conditions for the `Consumer`s to be executed serially; see https://github.com/rabbitmq/rabbitmq-java-client/discussions/732#discussioncomment-2498073","body":"@kosgeinsky this won&#39;t work exactly as you expect; it might be possible in certain heavy load conditions for the <code>Consumer</code>s to be executed serially; see <a href=\"https://github.com/rabbitmq/rabbitmq-java-client/discussions/732#discussioncomment-2498073\" rel=\"nofollow noreferrer\">github.com/rabbitmq/rabbitmq-java-client/discussions/&hellip;</a>"}],"tags":[],"owner":{"account_id":2069349,"reputation":5382,"user_id":1844148,"accept_rate":67,"display_name":"Dileep"},"comment_count":2,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1378786444,"creation_date":1378739217,"answer_id":18701369,"question_id":18531072,"body_markdown":"**How can I set up 1+ Channels to publish/consume to and from multiple queues?**\r\n------------------------------------------------------------------------\r\n\r\n&gt; You can implement using threads and channels. All you need is a way to\r\n&gt; categorize things, ie all the queue items from the login, all the\r\n&gt; queue elements from security_events etc. The catagorization can be\r\n&gt; achived using a routingKey.\r\n\r\n \r\n&gt; ie: Every time when you add an item to the queue u specify the routing\r\n&gt; key. It will be appended as a property element. By this you can get\r\n&gt; the values from a particular event say *logging*.\r\n\r\nThe following Code sample explain how you make it done in client side.\r\n\r\n**Eg:**\r\n\r\n**The routing key is used identify the type of the channel and retrive the types.**\r\n\r\n&gt; For example if you need to get all the channels about the type Login\r\n&gt; then you must specify the routing key as login or some other keyword\r\n&gt; to identify that.\r\n\r\n\r\n                Connection connection = factory.newConnection();\r\n                Channel channel = connection.createChannel();\r\n        \r\n                channel.exchangeDeclare(EXCHANGE_NAME, &quot;direct&quot;);\r\n        \r\n                string routingKey=&quot;login&quot;;\r\n        \r\n                channel.basicPublish(EXCHANGE_NAME, routingKey, null, message.getBytes());\r\n \r\n\r\n**You can Look [here][1] for more details about the Categorization ..**\r\n\r\n----------\r\n\r\n\r\n\r\nThreads Part\r\n------------\r\n\r\n\r\n\r\n&gt; Once the publishing part is over you can run the thread part..\r\n\r\nIn this part you can get the Published data on the basis of category. ie; routing Key which in your case is logging, security_events and customer_orders etc. \r\n\r\n\r\nlook in the Example to know how retrieve the data in threads.\r\n\r\n**Eg :**\r\n\r\n        ConnectionFactory factory = new ConnectionFactory();\r\n        factory.setHost(&quot;localhost&quot;);\r\n        Connection connection = factory.newConnection();\r\n        Channel channel = connection.createChannel();\r\n    //**The threads part is as follows** \r\n     channel.exchangeDeclare(EXCHANGE_NAME, &quot;direct&quot;);\t\t\r\n     String queueName = channel.queueDeclare().getQueue();\r\n        // This part will biend the queue with the severity (login for eg:)\r\n        for(String severity : argv){\r\n          \t\t  channel.queueBind(queueName, EXCHANGE_NAME, routingKey);\r\n        }\r\n\t\tboolean autoAck = false;\r\n\t\tchannel.basicConsume(queueName, autoAck, &quot;myConsumerTag&quot;,\r\n     \tnew DefaultConsumer(channel) {\r\n         \t@Override\r\n         \tpublic void handleDelivery(String consumerTag,\r\n                                    Envelope envelope,\r\n                                    AMQP.BasicProperties properties,\r\n                                    byte[] body)\r\n             throws IOException\r\n         {\r\n                 String routingKey = envelope.getRoutingKey();\r\n                 String contentType = properties.contentType;\r\n                 long deliveryTag = envelope.getDeliveryTag();\r\n\r\n                 // (process the message components here ...)\r\n                 channel.basicAck(deliveryTag, false);\r\n         }\r\n     });\r\n\r\n\r\n&gt; Now a thread that process the Data in the Queue of the\r\n&gt; type login(routing key) is created. By this way you can create multiple threads.\r\n&gt; Each serving different purpose.\r\n\r\n\r\n**look [here][2] for more details about the threads part..** \r\n\r\n\r\n  [1]: http://www.rabbitmq.com/tutorials/tutorial-four-java.html\r\n  [2]: http://www.rabbitmq.com/api-guide.html\r\n\r\n\r\n\r\n","title":"RabbitMQ by Example: Multiple Threads, Channels and Queues","body":"<h2><strong>How can I set up 1+ Channels to publish/consume to and from multiple queues?</strong></h2>\n\n<blockquote>\n  <p>You can implement using threads and channels. All you need is a way to\n  categorize things, ie all the queue items from the login, all the\n  queue elements from security_events etc. The catagorization can be\n  achived using a routingKey.</p>\n  \n  <p>ie: Every time when you add an item to the queue u specify the routing\n  key. It will be appended as a property element. By this you can get\n  the values from a particular event say <em>logging</em>.</p>\n</blockquote>\n\n<p>The following Code sample explain how you make it done in client side.</p>\n\n<p><strong>Eg:</strong></p>\n\n<p><strong>The routing key is used identify the type of the channel and retrive the types.</strong></p>\n\n<blockquote>\n  <p>For example if you need to get all the channels about the type Login\n  then you must specify the routing key as login or some other keyword\n  to identify that.</p>\n</blockquote>\n\n<pre><code>            Connection connection = factory.newConnection();\n            Channel channel = connection.createChannel();\n\n            channel.exchangeDeclare(EXCHANGE_NAME, \"direct\");\n\n            string routingKey=\"login\";\n\n            channel.basicPublish(EXCHANGE_NAME, routingKey, null, message.getBytes());\n</code></pre>\n\n<p><strong>You can Look <a href=\"http://www.rabbitmq.com/tutorials/tutorial-four-java.html\">here</a> for more details about the Categorization ..</strong></p>\n\n<hr>\n\n<h2>Threads Part</h2>\n\n<blockquote>\n  <p>Once the publishing part is over you can run the thread part..</p>\n</blockquote>\n\n<p>In this part you can get the Published data on the basis of category. ie; routing Key which in your case is logging, security_events and customer_orders etc. </p>\n\n<p>look in the Example to know how retrieve the data in threads.</p>\n\n<p><strong>Eg :</strong></p>\n\n<pre><code>    ConnectionFactory factory = new ConnectionFactory();\n    factory.setHost(\"localhost\");\n    Connection connection = factory.newConnection();\n    Channel channel = connection.createChannel();\n//**The threads part is as follows** \n channel.exchangeDeclare(EXCHANGE_NAME, \"direct\");      \n String queueName = channel.queueDeclare().getQueue();\n    // This part will biend the queue with the severity (login for eg:)\n    for(String severity : argv){\n              channel.queueBind(queueName, EXCHANGE_NAME, routingKey);\n    }\n    boolean autoAck = false;\n    channel.basicConsume(queueName, autoAck, \"myConsumerTag\",\n    new DefaultConsumer(channel) {\n        @Override\n        public void handleDelivery(String consumerTag,\n                                Envelope envelope,\n                                AMQP.BasicProperties properties,\n                                byte[] body)\n         throws IOException\n     {\n             String routingKey = envelope.getRoutingKey();\n             String contentType = properties.contentType;\n             long deliveryTag = envelope.getDeliveryTag();\n\n             // (process the message components here ...)\n             channel.basicAck(deliveryTag, false);\n     }\n });\n</code></pre>\n\n<blockquote>\n  <p>Now a thread that process the Data in the Queue of the\n  type login(routing key) is created. By this way you can create multiple threads.\n  Each serving different purpose.</p>\n</blockquote>\n\n<p><strong>look <a href=\"http://www.rabbitmq.com/api-guide.html\">here</a> for more details about the threads part..</strong> </p>\n"},{"comments":[{"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"score":1,"creation_date":1519874025,"post_id":18701418,"comment_id":85089285,"body_markdown":"What if I set auto ACK =false, is it safe to ack in an executor thread pool?","body":"What if I set auto ACK =false, is it safe to ack in an executor thread pool?"},{"owner":{"account_id":1612911,"reputation":3570,"user_id":1491378,"accept_rate":88,"display_name":"Hett"},"score":0,"creation_date":1633632158,"post_id":18701418,"comment_id":122818360,"body_markdown":"using this approach consumer will devastate MQ queue and place task to `executorService` queue. It&#39;s may be trouble when incoming messages flow greater then `execturorService` message processing speed.","body":"using this approach consumer will devastate MQ queue and place task to <code>executorService</code> queue. It&#39;s may be trouble when incoming messages flow greater then <code>execturorService</code> message processing speed."},{"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"score":0,"creation_date":1648730416,"post_id":18701418,"comment_id":126702174,"body_markdown":"@Hett, it won&#39;t &quot;devastate&quot; at all because see &quot;prefetch&quot;. On the other hand the single useful hint in this long&amp;annoying answer is the usage of `executorService.submit(task)` which kind-of tells/confirms one that `Worker` will be run on a single thread.","body":"@Hett, it won&#39;t &quot;devastate&quot; at all because see &quot;prefetch&quot;. On the other hand the single useful hint in this long&amp;annoying answer is the usage of <code>executorService.submit(task)</code> which kind-of tells/confirms one that <code>Worker</code> will be run on a single thread."}],"tags":[],"owner":{"account_id":1541094,"reputation":17775,"user_id":1435741,"display_name":"Renat Gilmanov"},"comment_count":3,"down_vote_count":3,"up_vote_count":144,"is_accepted":false,"score":141,"last_activity_date":1417189217,"creation_date":1378739344,"answer_id":18701418,"question_id":18531072,"body_markdown":"I think you have several issues with initial understanding. Frankly, I&#39;m a bit surprised to see the following: `both need 5 threads to handle the volume`. How did you identify you need that exact number? Do you have any guarantees 5 threads will be enough? \r\n\r\n&gt; RabbitMQ is tuned and time tested, so it is all about proper design\r\n&gt; and efficient message processing.\r\n\r\nLet&#39;s try to review the problem and find a proper solution. BTW, message queue itself will not provide any guarantees you have really good solution. You have to understand what you are doing and also do some additional testing.\r\n\r\nAs you definitely know there are many layouts possible:\r\n\r\n![enter image description here][1]\r\n\r\nI will use layout `B` as the simplest way to illustrate `1` producer `N` consumers problem. Since you are so worried about the throughput. BTW, as you might expect RabbitMQ behaves quite well ([source][2]). Pay attention to `prefetchCount`, I&#39;ll address it later:\r\n\r\n![enter image description here][3] \r\n\r\nSo it is likely message processing logic is a right place to make sure you&#39;ll have enough throughput. Naturally you can span a new thread every time you need to process a message, but eventually such approach will kill your system. Basically, more threads you have bigger latency you&#39;ll get (you can check [Amdahl&#39;s law][4] if you want).\r\n\r\n![enter image description here][5]\r\n\r\n(see [Amdahl’s law illustrated][6])\r\n\r\n**Tip #1: Be careful with threads, use ThreadPools ([details][7])**\r\n\r\n&gt; A thread pool can be described as a collection of Runnable objects\r\n&gt; (work queue) and a connections of running threads. These threads are\r\n&gt; constantly running and are checking the work query for new work. If\r\n&gt; there is new work to be done they execute this Runnable. The Thread\r\n&gt; class itself provides a method, e.g. execute(Runnable r) to add a new\r\n&gt; Runnable object to the work queue.\r\n\r\n    public class Main {\r\n      private static final int NTHREDS = 10;\r\n    \r\n      public static void main(String[] args) {\r\n        ExecutorService executor = Executors.newFixedThreadPool(NTHREDS);\r\n        for (int i = 0; i &lt; 500; i++) {\r\n          Runnable worker = new MyRunnable(10000000L + i);\r\n          executor.execute(worker);\r\n        }\r\n        // This will make the executor accept no new threads\r\n        // and finish all existing threads in the queue\r\n        executor.shutdown();\r\n        // Wait until all threads are finish\r\n        executor.awaitTermination();\r\n        System.out.println(&quot;Finished all threads&quot;);\r\n      }\r\n    } \r\n\r\n**Tip #2: Be careful with message processing overhead**\r\n\r\nI would say this is obvious optimization technique. It is likely you&#39;ll send small and easy to process messages. The whole approach is about smaller messages to be continuously set and processed. Big messages eventually will play a bad joke, so it is better to avoid that.\r\n\r\n![enter image description here][8]\r\n\r\nSo it is better to send tiny pieces of information, but what about processing? There is an overhead every time you submit a job. Batch processing can be very helpful in case of high incoming message rate.\r\n\r\n![enter image description here][9]\r\n\r\nFor example, let&#39;s say we have simple message processing logic and we do not want to have thread specific overheads every time message is being processed. In order to optimize that very simple `CompositeRunnable can be introduced`:\r\n\r\n    class CompositeRunnable implements Runnable {\r\n    \r\n        protected Queue&lt;Runnable&gt; queue = new LinkedList&lt;&gt;();\r\n    \r\n        public void add(Runnable a) {\r\n            queue.add(a);\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            for(Runnable r: queue) {\r\n                r.run();\r\n            }\r\n        }\r\n    }\r\n\r\nOr do the same in a slightly different way, by collecting messages to be processed:\r\n\r\n    class CompositeMessageWorker&lt;T&gt; implements Runnable {\r\n    \r\n        protected Queue&lt;T&gt; queue = new LinkedList&lt;&gt;();\r\n    \r\n        public void add(T message) {\r\n            queue.add(message);\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            for(T message: queue) {\r\n                // process a message\r\n            }\r\n        }\r\n    }\r\n\r\nIn such a way you can process messages more effectively. \r\n\r\n**Tip #3: Optimize message processing**\r\n\r\nDespite the fact you know can process messages in parallel (`Tip #1`) and reduce processing overhead (`Tip #2`) you have to do everything fast. Redundant processing steps, heavy loops and so on might affect performance a lot. Please see interesting case-study:\r\n\r\n![enter image description here][10]\r\n\r\n[Improving Message Queue Throughput tenfold by choosing the right XML Parser][11]\r\n\r\n**Tip #4: Connection and Channel Management**\r\n\r\n * Starting a new channel on an existing connection involves one network \r\nround trip - starting a new connection takes several.\r\n * Each connection uses a file descriptor on the server. Channels don&#39;t.\r\n * Publishing a large message on one channel will block a connection \r\nwhile it goes out. Other than that, the multiplexing is fairly transparent.\r\n * Connections which are publishing can get blocked if the server is \r\noverloaded - it&#39;s a good idea to separate publishing and consuming \r\nconnections\r\n * Be prepared to handle message bursts\r\n\r\n([source][12])\r\n\r\nPlease note, all tips are perfectly work together. Feel free to let me know if you need additional details.\r\n\r\n**Complete consumer example ([source][13])**\r\n\r\nPlease note the following:\r\n\r\n * **channel.basicQos(prefetch)** - As you saw earlier `prefetchCount` might be very useful:\r\n&gt; This command allows a consumer to choose a prefetch window that\r\n&gt; specifies the amount of unacknowledged messages it is prepared to\r\n&gt; receive. By setting the prefetch count to a non-zero value, the broker\r\n&gt; will not deliver any messages to the consumer that would breach that\r\n&gt; limit. To move the window forwards, the consumer has to acknowledge\r\n&gt; the receipt of a message (or a group of messages).\r\n * **ExecutorService threadExecutor** - you can specify properly configured executor service. \r\n\r\nExample: \r\n\r\n    static class Worker extends DefaultConsumer {\r\n    \r\n        String name;\r\n        Channel channel;\r\n        String queue;\r\n        int processed;\r\n        ExecutorService executorService;\r\n    \r\n        public Worker(int prefetch, ExecutorService threadExecutor,\r\n                      , Channel c, String q) throws Exception {\r\n            super(c);\r\n            channel = c;\r\n            queue = q;\r\n            channel.basicQos(prefetch);\r\n            channel.basicConsume(queue, false, this);\r\n            executorService = threadExecutor;\r\n        }\r\n    \r\n        @Override\r\n        public void handleDelivery(String consumerTag,\r\n                                   Envelope envelope,\r\n                                   AMQP.BasicProperties properties,\r\n                                   byte[] body) throws IOException {\r\n            Runnable task = new VariableLengthTask(this,\r\n                                                   envelope.getDeliveryTag(),\r\n                                                   channel);\r\n            executorService.submit(task);\r\n        }\r\n    }\r\n\r\nYou can also check the following:\r\n\r\n * [Solution Architecting Using Queues?][14]\r\n * [Some queuing theory: throughput, latency and bandwidth][15]\r\n * [A quick message queue benchmark: ActiveMQ, RabbitMQ, HornetQ, QPID, Apollo…][16]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/5eMbI.png\r\n  [2]: http://www.rabbitmq.com/blog/2012/04/25/rabbitmq-performance-measurements-part-2/\r\n  [3]: http://i.stack.imgur.com/zPgE9.png\r\n  [4]: http://en.wikipedia.org/wiki/Amdahl%27s_law\r\n  [5]: http://i.stack.imgur.com/UQcSZ.png\r\n  [6]: http://plumbr.eu/blog/amdahls-law-illustrated\r\n  [7]: http://www.vogella.com/articles/JavaConcurrency/article.html\r\n  [8]: http://i.stack.imgur.com/FdahK.png\r\n  [9]: http://i.stack.imgur.com/qVnMl.png\r\n  [10]: http://i.stack.imgur.com/kLyiM.png\r\n  [11]: http://apmblog.compuware.com/2012/11/08/improving-message-queue-throughput-tenfold-by-choosing-the-right-xml-parser/\r\n  [12]: http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2012-March/018683.html\r\n  [13]: https://github.com/0x6e6562/hopper/blob/master/Work%20Distribution%20in%20RabbitMQ.markdown\r\n  [14]: http://smsohan.com/blog/2013/03/07/solution-architecting/\r\n  [15]: http://www.rabbitmq.com/blog/2012/05/11/some-queuing-theory-throughput-latency-and-bandwidth/\r\n  [16]: http://x-aeon.com/wp/2013/04/10/a-quick-message-queue-benchmark-activemq-rabbitmq-hornetq-qpid-apollo/","title":"RabbitMQ by Example: Multiple Threads, Channels and Queues","body":"<p>I think you have several issues with initial understanding. Frankly, I'm a bit surprised to see the following: <code>both need 5 threads to handle the volume</code>. How did you identify you need that exact number? Do you have any guarantees 5 threads will be enough? </p>\n\n<blockquote>\n  <p>RabbitMQ is tuned and time tested, so it is all about proper design\n  and efficient message processing.</p>\n</blockquote>\n\n<p>Let's try to review the problem and find a proper solution. BTW, message queue itself will not provide any guarantees you have really good solution. You have to understand what you are doing and also do some additional testing.</p>\n\n<p>As you definitely know there are many layouts possible:</p>\n\n<p><img src=\"https://i.stack.imgur.com/5eMbI.png\" alt=\"enter image description here\"></p>\n\n<p>I will use layout <code>B</code> as the simplest way to illustrate <code>1</code> producer <code>N</code> consumers problem. Since you are so worried about the throughput. BTW, as you might expect RabbitMQ behaves quite well (<a href=\"http://www.rabbitmq.com/blog/2012/04/25/rabbitmq-performance-measurements-part-2/\">source</a>). Pay attention to <code>prefetchCount</code>, I'll address it later:</p>\n\n<p><img src=\"https://i.stack.imgur.com/zPgE9.png\" alt=\"enter image description here\"> </p>\n\n<p>So it is likely message processing logic is a right place to make sure you'll have enough throughput. Naturally you can span a new thread every time you need to process a message, but eventually such approach will kill your system. Basically, more threads you have bigger latency you'll get (you can check <a href=\"http://en.wikipedia.org/wiki/Amdahl%27s_law\">Amdahl's law</a> if you want).</p>\n\n<p><img src=\"https://i.stack.imgur.com/UQcSZ.png\" alt=\"enter image description here\"></p>\n\n<p>(see <a href=\"http://plumbr.eu/blog/amdahls-law-illustrated\">Amdahl’s law illustrated</a>)</p>\n\n<p><strong>Tip #1: Be careful with threads, use ThreadPools (<a href=\"http://www.vogella.com/articles/JavaConcurrency/article.html\">details</a>)</strong></p>\n\n<blockquote>\n  <p>A thread pool can be described as a collection of Runnable objects\n  (work queue) and a connections of running threads. These threads are\n  constantly running and are checking the work query for new work. If\n  there is new work to be done they execute this Runnable. The Thread\n  class itself provides a method, e.g. execute(Runnable r) to add a new\n  Runnable object to the work queue.</p>\n</blockquote>\n\n<pre><code>public class Main {\n  private static final int NTHREDS = 10;\n\n  public static void main(String[] args) {\n    ExecutorService executor = Executors.newFixedThreadPool(NTHREDS);\n    for (int i = 0; i &lt; 500; i++) {\n      Runnable worker = new MyRunnable(10000000L + i);\n      executor.execute(worker);\n    }\n    // This will make the executor accept no new threads\n    // and finish all existing threads in the queue\n    executor.shutdown();\n    // Wait until all threads are finish\n    executor.awaitTermination();\n    System.out.println(\"Finished all threads\");\n  }\n} \n</code></pre>\n\n<p><strong>Tip #2: Be careful with message processing overhead</strong></p>\n\n<p>I would say this is obvious optimization technique. It is likely you'll send small and easy to process messages. The whole approach is about smaller messages to be continuously set and processed. Big messages eventually will play a bad joke, so it is better to avoid that.</p>\n\n<p><img src=\"https://i.stack.imgur.com/FdahK.png\" alt=\"enter image description here\"></p>\n\n<p>So it is better to send tiny pieces of information, but what about processing? There is an overhead every time you submit a job. Batch processing can be very helpful in case of high incoming message rate.</p>\n\n<p><img src=\"https://i.stack.imgur.com/qVnMl.png\" alt=\"enter image description here\"></p>\n\n<p>For example, let's say we have simple message processing logic and we do not want to have thread specific overheads every time message is being processed. In order to optimize that very simple <code>CompositeRunnable can be introduced</code>:</p>\n\n<pre><code>class CompositeRunnable implements Runnable {\n\n    protected Queue&lt;Runnable&gt; queue = new LinkedList&lt;&gt;();\n\n    public void add(Runnable a) {\n        queue.add(a);\n    }\n\n    @Override\n    public void run() {\n        for(Runnable r: queue) {\n            r.run();\n        }\n    }\n}\n</code></pre>\n\n<p>Or do the same in a slightly different way, by collecting messages to be processed:</p>\n\n<pre><code>class CompositeMessageWorker&lt;T&gt; implements Runnable {\n\n    protected Queue&lt;T&gt; queue = new LinkedList&lt;&gt;();\n\n    public void add(T message) {\n        queue.add(message);\n    }\n\n    @Override\n    public void run() {\n        for(T message: queue) {\n            // process a message\n        }\n    }\n}\n</code></pre>\n\n<p>In such a way you can process messages more effectively. </p>\n\n<p><strong>Tip #3: Optimize message processing</strong></p>\n\n<p>Despite the fact you know can process messages in parallel (<code>Tip #1</code>) and reduce processing overhead (<code>Tip #2</code>) you have to do everything fast. Redundant processing steps, heavy loops and so on might affect performance a lot. Please see interesting case-study:</p>\n\n<p><img src=\"https://i.stack.imgur.com/kLyiM.png\" alt=\"enter image description here\"></p>\n\n<p><a href=\"http://apmblog.compuware.com/2012/11/08/improving-message-queue-throughput-tenfold-by-choosing-the-right-xml-parser/\">Improving Message Queue Throughput tenfold by choosing the right XML Parser</a></p>\n\n<p><strong>Tip #4: Connection and Channel Management</strong></p>\n\n<ul>\n<li>Starting a new channel on an existing connection involves one network \nround trip - starting a new connection takes several.</li>\n<li>Each connection uses a file descriptor on the server. Channels don't.</li>\n<li>Publishing a large message on one channel will block a connection \nwhile it goes out. Other than that, the multiplexing is fairly transparent.</li>\n<li>Connections which are publishing can get blocked if the server is \noverloaded - it's a good idea to separate publishing and consuming \nconnections</li>\n<li>Be prepared to handle message bursts</li>\n</ul>\n\n<p>(<a href=\"http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2012-March/018683.html\">source</a>)</p>\n\n<p>Please note, all tips are perfectly work together. Feel free to let me know if you need additional details.</p>\n\n<p><strong>Complete consumer example (<a href=\"https://github.com/0x6e6562/hopper/blob/master/Work%20Distribution%20in%20RabbitMQ.markdown\">source</a>)</strong></p>\n\n<p>Please note the following:</p>\n\n<ul>\n<li><strong>channel.basicQos(prefetch)</strong> - As you saw earlier <code>prefetchCount</code> might be very useful:\n\n<blockquote>\n  <p>This command allows a consumer to choose a prefetch window that\n  specifies the amount of unacknowledged messages it is prepared to\n  receive. By setting the prefetch count to a non-zero value, the broker\n  will not deliver any messages to the consumer that would breach that\n  limit. To move the window forwards, the consumer has to acknowledge\n  the receipt of a message (or a group of messages).</p>\n</blockquote></li>\n<li><strong>ExecutorService threadExecutor</strong> - you can specify properly configured executor service. </li>\n</ul>\n\n<p>Example: </p>\n\n<pre><code>static class Worker extends DefaultConsumer {\n\n    String name;\n    Channel channel;\n    String queue;\n    int processed;\n    ExecutorService executorService;\n\n    public Worker(int prefetch, ExecutorService threadExecutor,\n                  , Channel c, String q) throws Exception {\n        super(c);\n        channel = c;\n        queue = q;\n        channel.basicQos(prefetch);\n        channel.basicConsume(queue, false, this);\n        executorService = threadExecutor;\n    }\n\n    @Override\n    public void handleDelivery(String consumerTag,\n                               Envelope envelope,\n                               AMQP.BasicProperties properties,\n                               byte[] body) throws IOException {\n        Runnable task = new VariableLengthTask(this,\n                                               envelope.getDeliveryTag(),\n                                               channel);\n        executorService.submit(task);\n    }\n}\n</code></pre>\n\n<p>You can also check the following:</p>\n\n<ul>\n<li><a href=\"http://smsohan.com/blog/2013/03/07/solution-architecting/\">Solution Architecting Using Queues?</a></li>\n<li><a href=\"http://www.rabbitmq.com/blog/2012/05/11/some-queuing-theory-throughput-latency-and-bandwidth/\">Some queuing theory: throughput, latency and bandwidth</a></li>\n<li><a href=\"http://x-aeon.com/wp/2013/04/10/a-quick-message-queue-benchmark-activemq-rabbitmq-hornetq-qpid-apollo/\">A quick message queue benchmark: ActiveMQ, RabbitMQ, HornetQ, QPID, Apollo…</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649063115,"creation_date":1648733152,"answer_id":71693315,"question_id":18531072,"body_markdown":"**Straight answer**\r\n\r\nFor your particular situation (`logging` and `customer_order` both need 5 threads) I would create 1 `Channel` with 1 `Consumer` for `logging` and 1 `Channel` with 1 `Consumer` for `customer_order`. I would also create 2 thread pools (5 threads each): one to be used by `logging` `Consumer` and the other by `customer_order` `Consumer`.\r\n\r\nSee **Consumption** below for why should it work.\r\n\r\nPS: do not create the thread pool inside the `Consumer`; be also aware that `Channel.basicConsume(...)` is not blocking\r\n\r\n**Publish**\r\n\r\nAccording to [Channels and Concurrency Considerations (Thread Safety)](https://www.rabbitmq.com/api-guide.html#concurrency):\r\n\r\n&gt; Concurrent publishing on a shared channel is best avoided entirely,\r\n&gt; e.g. by using a channel per thread. ... Consuming in one thread and publishing in another thread on a shared channel can be safe.\r\n\r\npretty clear ...\r\n\r\n**Consumption**\r\n\r\nThe `Channel` might (I say *might* because of [this](https://github.com/rabbitmq/rabbitmq-java-client/discussions/732#discussioncomment-2498073)) run all its `Consumer`(s) in the same thread; this ideea is almost explicitly conveyed by [Receiving Messages by Subscription (&quot;Push API&quot;)](https://www.rabbitmq.com/api-guide.html#consuming):\r\n\r\n&gt; Each Channel has its **own dispatch thread**. For the most common use case\r\n&gt; of one Consumer per Channel, this means Consumers do not hold up other\r\n&gt; Consumers. If you have multiple Consumers per Channel be aware that a\r\n&gt; long-running Consumer **may hold up dispatch of callbacks** to other\r\n&gt; Consumers on that Channel.\r\n\r\nThis means that in certain conditions many `Consumer`s pertaining to the same `Channel` would run on the same thread such that the 1th one would *hold up dispatch of callbacks* for the next ones. The *dispatch* word is very confusing because sometimes refers to &quot;thread work dispatching&quot; while here refers mainly to calling `Consumer.handleDelivery` (see [this](https://github.com/rabbitmq/rabbitmq-java-client/discussions/732#discussioncomment-2498073) again).\r\n\r\nBut what *own dispatch thread* is about? is about one from the thread pool used with (see [Channels and Concurrency Considerations (Thread Safety)](https://www.rabbitmq.com/api-guide.html#concurrency)):  \r\n\r\n&gt; Server-pushed deliveries ... uses a\r\n&gt; `java.util.concurrent.ExecutorService`, one per connection.\r\n\r\n**Conclusion**\r\n\r\nIf one has 1 `Channel` with 1 `Consumer` but wants to process the incoming messages in parallel than he better creates (outside the `Consumer`) and uses (inside the `Consumer`) his *own* thread pool; hence each `Consumer` received message will be processed on the  *user*&#39;s thread pool instead on the `Channel`&#39;s *own dispatch thread*.\r\n\r\nIs this approach (user&#39;s thread pool used from `Consumer`) even possible/valid/acceptable at all? it is, see [Channels and Concurrency Considerations (Thread Safety)](https://www.rabbitmq.com/api-guide.html#concurrency):\r\n\r\n&gt; thread that received the delivery (e.g. Consumer#handleDelivery\r\n&gt; **delegated delivery handling** to a different thread) ...\r\n","title":"RabbitMQ by Example: Multiple Threads, Channels and Queues","body":"<p><strong>Straight answer</strong></p>\n<p>For your particular situation (<code>logging</code> and <code>customer_order</code> both need 5 threads) I would create 1 <code>Channel</code> with 1 <code>Consumer</code> for <code>logging</code> and 1 <code>Channel</code> with 1 <code>Consumer</code> for <code>customer_order</code>. I would also create 2 thread pools (5 threads each): one to be used by <code>logging</code> <code>Consumer</code> and the other by <code>customer_order</code> <code>Consumer</code>.</p>\n<p>See <strong>Consumption</strong> below for why should it work.</p>\n<p>PS: do not create the thread pool inside the <code>Consumer</code>; be also aware that <code>Channel.basicConsume(...)</code> is not blocking</p>\n<p><strong>Publish</strong></p>\n<p>According to <a href=\"https://www.rabbitmq.com/api-guide.html#concurrency\" rel=\"nofollow noreferrer\">Channels and Concurrency Considerations (Thread Safety)</a>:</p>\n<blockquote>\n<p>Concurrent publishing on a shared channel is best avoided entirely,\ne.g. by using a channel per thread. ... Consuming in one thread and publishing in another thread on a shared channel can be safe.</p>\n</blockquote>\n<p>pretty clear ...</p>\n<p><strong>Consumption</strong></p>\n<p>The <code>Channel</code> might (I say <em>might</em> because of <a href=\"https://github.com/rabbitmq/rabbitmq-java-client/discussions/732#discussioncomment-2498073\" rel=\"nofollow noreferrer\">this</a>) run all its <code>Consumer</code>(s) in the same thread; this ideea is almost explicitly conveyed by <a href=\"https://www.rabbitmq.com/api-guide.html#consuming\" rel=\"nofollow noreferrer\">Receiving Messages by Subscription (&quot;Push API&quot;)</a>:</p>\n<blockquote>\n<p>Each Channel has its <strong>own dispatch thread</strong>. For the most common use case\nof one Consumer per Channel, this means Consumers do not hold up other\nConsumers. If you have multiple Consumers per Channel be aware that a\nlong-running Consumer <strong>may hold up dispatch of callbacks</strong> to other\nConsumers on that Channel.</p>\n</blockquote>\n<p>This means that in certain conditions many <code>Consumer</code>s pertaining to the same <code>Channel</code> would run on the same thread such that the 1th one would <em>hold up dispatch of callbacks</em> for the next ones. The <em>dispatch</em> word is very confusing because sometimes refers to &quot;thread work dispatching&quot; while here refers mainly to calling <code>Consumer.handleDelivery</code> (see <a href=\"https://github.com/rabbitmq/rabbitmq-java-client/discussions/732#discussioncomment-2498073\" rel=\"nofollow noreferrer\">this</a> again).</p>\n<p>But what <em>own dispatch thread</em> is about? is about one from the thread pool used with (see <a href=\"https://www.rabbitmq.com/api-guide.html#concurrency\" rel=\"nofollow noreferrer\">Channels and Concurrency Considerations (Thread Safety)</a>):</p>\n<blockquote>\n<p>Server-pushed deliveries ... uses a\n<code>java.util.concurrent.ExecutorService</code>, one per connection.</p>\n</blockquote>\n<p><strong>Conclusion</strong></p>\n<p>If one has 1 <code>Channel</code> with 1 <code>Consumer</code> but wants to process the incoming messages in parallel than he better creates (outside the <code>Consumer</code>) and uses (inside the <code>Consumer</code>) his <em>own</em> thread pool; hence each <code>Consumer</code> received message will be processed on the  <em>user</em>'s thread pool instead on the <code>Channel</code>'s <em>own dispatch thread</em>.</p>\n<p>Is this approach (user's thread pool used from <code>Consumer</code>) even possible/valid/acceptable at all? it is, see <a href=\"https://www.rabbitmq.com/api-guide.html#concurrency\" rel=\"nofollow noreferrer\">Channels and Concurrency Considerations (Thread Safety)</a>:</p>\n<blockquote>\n<p>thread that received the delivery (e.g. Consumer#handleDelivery\n<strong>delegated delivery handling</strong> to a different thread) ...</p>\n</blockquote>\n"}],"owner":{"display_name":"user1768830"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75320,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"answer_count":3,"score":64,"last_activity_date":1672281181,"creation_date":1377859743,"question_id":18531072,"body_markdown":"I just read [RabbitMQ&#39;s Java API docs](http://www.rabbitmq.com/api-guide.html), and found it very informative and straight-forward. The example for how to set up a simple `Channel` for publishing/consuming is very easy to follow and understand. But it&#39;s a very simple/basic example, and it left me with an important question: **How can I set up 1+ `Channels` to publish/consume to and from multiple queues?**\r\n\r\nLet&#39;s say I have a RabbitMQ server with 3 queues on it: `logging`, `security_events` and `customer_orders`. So we&#39;d either need a single `Channel` to have the ability to publish/consume to all 3 queues, or more likely, have 3 separate `Channels`, each dedicated to a single queue.\r\n\r\nOn top of this, RabbitMQ&#39;s best practices dictate that we set up 1 `Channel` per consumer thread. For this example, let&#39;s say `security_events` is fine with only 1 consumer thread, but `logging` and `customer_order` both need 5 threads to handle the volume. So, if I understand correctly, does that mean we need:\r\n\r\n* 1 `Channel` and 1 consumer thread for publishing/consuming to and from `security_events`; and\r\n* 5 `Channels` and 5 consumer threads for publishing/consuming to and from `logging`; and\r\n* 5 `Channels` and 5 consumer threads for publishing/consuming to and from `customer_orders`?\r\n\r\nIf my understanding is misguided here, please begin by correcting me. Either way, could some battle-weary RabbitMQ veteran **help me &quot;connect the dots&quot; with a decent code example for setting up publishers/consumers that meet my requirements here?**","title":"RabbitMQ by Example: Multiple Threads, Channels and Queues","body":"<p>I just read <a href=\"http://www.rabbitmq.com/api-guide.html\" rel=\"nofollow noreferrer\">RabbitMQ's Java API docs</a>, and found it very informative and straight-forward. The example for how to set up a simple <code>Channel</code> for publishing/consuming is very easy to follow and understand. But it's a very simple/basic example, and it left me with an important question: <strong>How can I set up 1+ <code>Channels</code> to publish/consume to and from multiple queues?</strong></p>\n<p>Let's say I have a RabbitMQ server with 3 queues on it: <code>logging</code>, <code>security_events</code> and <code>customer_orders</code>. So we'd either need a single <code>Channel</code> to have the ability to publish/consume to all 3 queues, or more likely, have 3 separate <code>Channels</code>, each dedicated to a single queue.</p>\n<p>On top of this, RabbitMQ's best practices dictate that we set up 1 <code>Channel</code> per consumer thread. For this example, let's say <code>security_events</code> is fine with only 1 consumer thread, but <code>logging</code> and <code>customer_order</code> both need 5 threads to handle the volume. So, if I understand correctly, does that mean we need:</p>\n<ul>\n<li>1 <code>Channel</code> and 1 consumer thread for publishing/consuming to and from <code>security_events</code>; and</li>\n<li>5 <code>Channels</code> and 5 consumer threads for publishing/consuming to and from <code>logging</code>; and</li>\n<li>5 <code>Channels</code> and 5 consumer threads for publishing/consuming to and from <code>customer_orders</code>?</li>\n</ul>\n<p>If my understanding is misguided here, please begin by correcting me. Either way, could some battle-weary RabbitMQ veteran <strong>help me &quot;connect the dots&quot; with a decent code example for setting up publishers/consumers that meet my requirements here?</strong></p>\n"},{"tags":["java","jvm-arguments"],"answers":[{"comments":[{"owner":{"account_id":26295,"reputation":15672,"user_id":68283,"accept_rate":82,"display_name":"Rich"},"score":1,"creation_date":1284628102,"post_id":3720052,"comment_id":3933093,"body_markdown":"Thanks - do you have any links or other ways to back this up?","body":"Thanks - do you have any links or other ways to back this up?"},{"owner":{"account_id":158014,"reputation":5676,"user_id":376340,"display_name":"kschneid"},"score":28,"creation_date":1284646301,"post_id":3720052,"comment_id":3935961,"body_markdown":"Download the JDK source code (which includes hotspot) and inspect `hotspot/src/share/vm/runtime/globals.hpp`. `CMSPermGenSweepingEnabled` is present in 1.5 and absent in 1.6. In addition, the 1.6 version of `hotspot/src/share/vm/runtime/arguments.cpp` contains new code for printing the message.","body":"Download the JDK source code (which includes hotspot) and inspect <code>hotspot&#47;src&#47;share&#47;vm&#47;runtime&#47;globals.hpp</code>. <code>CMSPermGenSweepingEnabled</code> is present in 1.5 and absent in 1.6. In addition, the 1.6 version of <code>hotspot&#47;src&#47;share&#47;vm&#47;runtime&#47;arguments.cpp</code> contains new code for printing the message."},{"owner":{"display_name":"user253202"},"score":0,"creation_date":1302706144,"post_id":3720052,"comment_id":6444658,"body_markdown":"Ok looking to the jdk 1.6.23 source code didn&#39;t find any place of usage except globals.hpp where it is just set to false. So it is really used??? Sorry if i missed the place where it is used.","body":"Ok looking to the jdk 1.6.23 source code didn&#39;t find any place of usage except globals.hpp where it is just set to false. So it is really used??? Sorry if i missed the place where it is used."},{"owner":{"account_id":1735173,"reputation":6549,"user_id":1587910,"accept_rate":75,"display_name":"Marko Vranjkovic"},"score":14,"creation_date":1368631985,"post_id":3720052,"comment_id":23807148,"body_markdown":"-XX:+CMSClassUnloadingEnabled and -XX:+CMSPermGenSweepingEnabled are unusable in java 1.7, see [link](http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html#BehavioralOptions)","body":"-XX:+CMSClassUnloadingEnabled and -XX:+CMSPermGenSweepingEnabled are unusable in java 1.7, see <a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html#BehavioralOptions\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":5624,"reputation":86509,"user_id":9161,"accept_rate":53,"display_name":"Chris B."},"score":8,"creation_date":1397584511,"post_id":3720052,"comment_id":35293263,"body_markdown":"According to Oracle (see https://blogs.oracle.com/poonam/entry/about_g1_garbage_collector_permanent) option `-XX:+CMSClassUnloadingEnabled` is still valid for Java 1.7.","body":"According to Oracle (see <a href=\"https://blogs.oracle.com/poonam/entry/about_g1_garbage_collector_permanent\" rel=\"nofollow noreferrer\">blogs.oracle.com/poonam/entry/&hellip;</a>) option <code>-XX:+CMSClassUnloadingEnabled</code> is still valid for Java 1.7."},{"owner":{"account_id":1079497,"reputation":1042,"user_id":1076887,"display_name":"mtuulu"},"score":1,"creation_date":1503511029,"post_id":3720052,"comment_id":78650969,"body_markdown":"no longer valid for 1.8  - https://blogs.oracle.com/poonam/about-g1-garbage-collector,-permanent-generation-and-metaspace","body":"no longer valid for 1.8  - <a href=\"https://blogs.oracle.com/poonam/about-g1-garbage-collector,-permanent-generation-and-metaspace\" rel=\"nofollow noreferrer\">blogs.oracle.com/poonam/&hellip;</a>"}],"tags":[],"owner":{"account_id":158014,"reputation":5676,"user_id":376340,"display_name":"kschneid"},"comment_count":6,"down_vote_count":0,"up_vote_count":78,"is_accepted":true,"score":78,"last_activity_date":1284570845,"creation_date":1284570845,"answer_id":3720052,"question_id":3717937,"body_markdown":"From what I can tell, the only thing that the 1.6 JVM does with `CMSPermGenSweepingEnabled` is to print that message - it&#39;s not processed the way it is in 1.5. For `CMSClassUnloadingEnabled` to have any impact, `UseConcMarkSweepGC` must also be set.","title":"CMSPermGenSweepingEnabled vs CMSClassUnloadingEnabled","body":"<p>From what I can tell, the only thing that the 1.6 JVM does with <code>CMSPermGenSweepingEnabled</code> is to print that message - it's not processed the way it is in 1.5. For <code>CMSClassUnloadingEnabled</code> to have any impact, <code>UseConcMarkSweepGC</code> must also be set.</p>\n"}],"owner":{"account_id":26295,"reputation":15672,"user_id":68283,"accept_rate":82,"display_name":"Rich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74629,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":3720052,"answer_count":1,"score":69,"last_activity_date":1672281089,"creation_date":1284556618,"question_id":3717937,"body_markdown":"I&#39;ve kind of asked this question before - https://stackoverflow.com/questions/3334911/what-does-jvm-flag-cmsclassunloadingenabled-actually-do, but this time it&#39;s slightly different!\r\n\r\nIf I start a Java VM with the `-XX:+CMSPermGenSweepingEnabled` flag set, the following message is printed:\r\n\r\n&gt;Please use CMSClassUnloadingEnabled in place of CMSPermGenSweepingEnabled in the future\r\n\r\nThe `-XX:+CMSPermGenSweepingEnabled` flag is often used to mitigate against `PermGen OutOfMemory` errors, however I have [read elsewhere][2] that people have found that by following the above advice they have still had these errors, but by sticking with `-XX:+CMSPermGenSweepingEnabled` as well as `-XX:+CMSClassUnloadingEnabled` their VM has stayed up longer between restarts.\r\n\r\nDoes `-XX:+CMSClassUnloadingEnabled` really supersede `-XX:+CMSPermGenSweepingEnabled` or is there still some benefit in having them both?\r\n\r\nRich\r\nps: I know that the root cause of perm gen issues is still usually Classloader leaks, this is more about the message that the JVM produces if we use the above options.\r\n\r\n  [2]: http://www.coderanch.com/t/461502/Performance/java/CMSClassUnloadingEnabled-vs-CMSPermGenSweepingEnabled#2060063","title":"CMSPermGenSweepingEnabled vs CMSClassUnloadingEnabled","body":"<p>I've kind of asked this question before - <a href=\"https://stackoverflow.com/questions/3334911/what-does-jvm-flag-cmsclassunloadingenabled-actually-do\">What does JVM flag CMSClassUnloadingEnabled actually do?</a>, but this time it's slightly different!</p>\n<p>If I start a Java VM with the <code>-XX:+CMSPermGenSweepingEnabled</code> flag set, the following message is printed:</p>\n<blockquote>\n<p>Please use CMSClassUnloadingEnabled in place of CMSPermGenSweepingEnabled in the future</p>\n</blockquote>\n<p>The <code>-XX:+CMSPermGenSweepingEnabled</code> flag is often used to mitigate against <code>PermGen OutOfMemory</code> errors, however I have <a href=\"http://www.coderanch.com/t/461502/Performance/java/CMSClassUnloadingEnabled-vs-CMSPermGenSweepingEnabled#2060063\" rel=\"nofollow noreferrer\">read elsewhere</a> that people have found that by following the above advice they have still had these errors, but by sticking with <code>-XX:+CMSPermGenSweepingEnabled</code> as well as <code>-XX:+CMSClassUnloadingEnabled</code> their VM has stayed up longer between restarts.</p>\n<p>Does <code>-XX:+CMSClassUnloadingEnabled</code> really supersede <code>-XX:+CMSPermGenSweepingEnabled</code> or is there still some benefit in having them both?</p>\n<p>Rich\nps: I know that the root cause of perm gen issues is still usually Classloader leaks, this is more about the message that the JVM produces if we use the above options.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":2285609,"reputation":822,"user_id":2009642,"accept_rate":38,"display_name":"Prathibha Chiranthana"},"score":0,"creation_date":1598985554,"post_id":63692645,"comment_id":112631481,"body_markdown":"Can you Share the Repository interfaces you used?","body":"Can you Share the Repository interfaces you used?"},{"owner":{"account_id":9007038,"reputation":361,"user_id":6713321,"display_name":"Tilak Dewangan"},"score":0,"creation_date":1599316151,"post_id":63692645,"comment_id":112740341,"body_markdown":"@PrathibhaChiranthana I have added repository interfaces as a part of the question.","body":"@PrathibhaChiranthana I have added repository interfaces as a part of the question."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1599716405,"post_id":63692645,"comment_id":112860344,"body_markdown":"Can you post the full stacktrace?","body":"Can you post the full stacktrace?"}],"answers":[{"tags":[],"owner":{"account_id":10752975,"reputation":761,"user_id":7911712,"display_name":"Luay Abdulraheem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672281057,"creation_date":1672281057,"answer_id":74946726,"question_id":63692645,"body_markdown":"I had the same issue, and the exception message was not helpful. \r\nIn my case, I was trying to save the encoded password into a column of size 20.\r\n\r\n    @Size(max = 20) // not enough for an encoded password\r\n    private String password;\r\n\r\nBut the encoded password length was more than that, so once I increased the size of the column in the entity to 120 it worked like a charm.\r\n\r\nSo I would suggest to anyone who is facing this issue, to double-check the data length that you are trying to save in the database table.","title":"Could not commit JPA transaction: nested exception is javax.persistence.RollbackException: Error while committing the transaction","body":"<p>I had the same issue, and the exception message was not helpful.\nIn my case, I was trying to save the encoded password into a column of size 20.</p>\n<pre><code>@Size(max = 20) // not enough for an encoded password\nprivate String password;\n</code></pre>\n<p>But the encoded password length was more than that, so once I increased the size of the column in the entity to 120 it worked like a charm.</p>\n<p>So I would suggest to anyone who is facing this issue, to double-check the data length that you are trying to save in the database table.</p>\n"}],"owner":{"account_id":9007038,"reputation":361,"user_id":6713321,"display_name":"Tilak Dewangan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1789,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672281057,"creation_date":1598981251,"question_id":63692645,"body_markdown":"I looked at multiple similar instances (mentioned below) where the error is almost same but I found that my scenario is a bit different. Can someone please help me with this?\r\n\r\n - https://stackoverflow.com/questions/32034292/javax-persistence-rollbackexception-transaction-marked-as-rollbackonly\r\n - https://stackoverflow.com/questions/25322658/could-not-commit-jpa-transaction-transaction-marked-as-rollbackonly\r\n - and many more.\r\n\r\nIn my case the exact exception message is -\r\n\r\n```\r\nCould not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\r\n```\r\n\r\nThis issue occurs when I try to save `MarriagePerson` entity which is in `@ManyToOne` relation with \r\n`User`. Please find both the entities and their relations below - \r\n\r\n***User.java***\r\n```\r\n@Entity\r\n@Table(name = &quot;MAIN_USER&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long id;\r\n\r\n\t@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;)\r\n\tprivate Collection&lt;MarriagePerson&gt; marriagePerson = new ArrayList&lt;MarriagePerson&gt;();\r\n\r\n\t@NotEmpty(message = &quot;Name can not be empty&quot;)\r\n\t@Size(min = 2, max = 20, message = &quot;Name must be between 2 and 20 characters long&quot;)\r\n\t@Column(name = &quot;first_name&quot;)\r\n\tprivate String firstName;\r\n\r\n\t@Column(name = &quot;middle_name&quot;)\r\n\tprivate String middleName;\r\n\r\n\t@Column(name = &quot;last_name&quot;)\r\n\tprivate String lastName;\r\n\r\n\t@NotEmpty(message = &quot;Email can not be empty&quot;)\r\n\t@Size(min = 5, message = &quot;Email must be more than 5 characters long&quot;)\r\n\t@Column(name = &quot;email&quot;, unique = true)\r\n\tprivate String email;\r\n\r\n\t@Column(name = &quot;alternateEmail&quot;)\r\n\tprivate String alternateEmail;\r\n\r\n\t@NotEmpty(message = &quot;Mobile can not be empty&quot;)\r\n\t@Size(min = 10, max = 10, message = &quot;Mobile must be 10 digits long&quot;)\r\n\t@Column(name = &quot;mobile&quot;, unique = true)\r\n\tprivate String mobile;\r\n\r\n\t@Column(name = &quot;alternate_mobile&quot;)\r\n\tprivate String alternateMobile;\r\n\r\n\t@NotEmpty(message = &quot;Password can not be empty&quot;)\r\n\t@Size(min = 6, message = &quot;Password must be more than 6 characters long&quot;)\r\n\t@Column(name = &quot;password&quot;)\r\n\tprivate String password;\r\n}\r\n```\r\n\r\n***MarriagePerson.java***\r\n```\r\n@Entity\r\n@Table(name = &quot;MARRIAGE_PERSON&quot;)\r\npublic class MarriagePerson {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long id;\r\n\r\n\t@ManyToOne\r\n\t@JoinColumn(columnDefinition = &quot;user_id&quot;)\r\n\tprivate User user;\r\n\r\n\t@NotEmpty\r\n\t@Column(name = &quot;gender&quot;)\r\n\tprivate String gender;\r\n\r\n\t@NotEmpty(message = &quot;Name can not be empty&quot;)\r\n\t@Size(min = 2, max = 20, message = &quot;Name must be between 2 and 20 characters long&quot;)\r\n\t@Column(name = &quot;firstName&quot;)\r\n\tprivate String firstName;\r\n}\r\n```\r\n\r\nHere is what exactly I am doing - \r\n\r\n - I have saved one `User` in my `postgres` db.\r\n - Now I am trying to save `MarriagePerson` for the same `User` then the above mentioned exception is caught.\r\n\r\nPlease find the `UserSerive` and `MarriagePersonService` below - \r\n\r\n***UserService.java***\r\n```\r\n@Service\r\npublic class UserService implements IUserService {\r\n\r\n\t@Autowired\r\n\tprivate IUserRepository userRepository;\r\n\t\r\n\t@Override\r\n\tpublic User save(User user) {\r\n\t\treturn userRepository.save(user);\r\n\t}\r\n}\r\n```\r\n***MarriagePerson.java***\r\n```\r\n@Service\r\npublic class MarriagePersonService implements IMarriagePersonService {\r\n\r\n\t@Autowired\r\n\tprivate IMarriagePersonRepository marriagePersonRepository;\r\n\r\n\t@Override\r\n\tpublic MarriagePerson save(MarriagePerson marriagePerson) {\r\n\t\tuserRepository.findById(userId).map(user -&gt; {\r\n\t\t\tmarriagePerson.setUser(user);\r\n\t\t\treturn marriagePersonRepository.save(marriagePerson);\r\n\t\t});\r\n\t\treturn marriagePerson;\r\n\t}\r\n}\r\n```\r\n\r\nException is caught at this line `marriagePersonRepository.save(marriagePerson);` for following mentioned request payload- \r\n\r\nMarriagePerson payload\r\n```\r\n{\r\n  &quot;firstName&quot;: &quot;Name&quot;,\r\n  &quot;gender&quot;: &quot;Male&quot;\r\n}\r\n```\r\n\r\nSaved User data is below (which we are trying to update MarriagePerson for)\r\n```\r\n{\r\n    &quot;firstName&quot;: &quot;string&quot;,\r\n    &quot;middleName&quot;: &quot;string&quot;,\r\n    &quot;lastName&quot;: &quot;string&quot;,\r\n    &quot;email&quot;: &quot;string@string.com&quot;,\r\n    &quot;alternateEmail&quot;: &quot;string1@string.com&quot;,\r\n    &quot;mobile&quot;: &quot;0123456789&quot;,\r\n    &quot;alternateMobile&quot;: &quot;0123456789&quot;,\r\n    &quot;password&quot;: &quot;string&quot;,\r\n    &quot;marriagePerson&quot;: []\r\n}\r\n```\r\n***EDIT***\r\n\r\nRepository interfaces are - \r\n\r\n***IMarriagePersonRepository.java***\r\n```\r\n@Repository\r\npublic interface IMarriagePersonRepository\r\n\t\textends JpaRepository&lt;MarriagePerson, Long&gt;, JpaSpecificationExecutor&lt;MarriagePerson&gt; {\r\n\tList&lt;MarriagePerson&gt; findAll();\r\n}\r\n```\r\n***IUserRepository.java***\r\n```\r\n@Repository\r\npublic interface IUserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\tpublic User findByMobile(String mobile);\r\n\tUser findByMobileAndEmail(String mobile, String email);\r\n}\r\n```\r\n\r\nThank you in advance.\r\n","title":"Could not commit JPA transaction: nested exception is javax.persistence.RollbackException: Error while committing the transaction","body":"<p>I looked at multiple similar instances (mentioned below) where the error is almost same but I found that my scenario is a bit different. Can someone please help me with this?</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/32034292/javax-persistence-rollbackexception-transaction-marked-as-rollbackonly\">javax.persistence.RollbackException: Transaction marked as rollbackOnly</a></li>\n<li><a href=\"https://stackoverflow.com/questions/25322658/could-not-commit-jpa-transaction-transaction-marked-as-rollbackonly\">Could not commit JPA transaction: Transaction marked as rollbackOnly</a></li>\n<li>and many more.</li>\n</ul>\n<p>In my case the exact exception message is -</p>\n<pre><code>Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\n</code></pre>\n<p>This issue occurs when I try to save <code>MarriagePerson</code> entity which is in <code>@ManyToOne</code> relation with\n<code>User</code>. Please find both the entities and their relations below -</p>\n<p><em><strong>User.java</strong></em></p>\n<pre><code>@Entity\n@Table(name = &quot;MAIN_USER&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;)\n    private Collection&lt;MarriagePerson&gt; marriagePerson = new ArrayList&lt;MarriagePerson&gt;();\n\n    @NotEmpty(message = &quot;Name can not be empty&quot;)\n    @Size(min = 2, max = 20, message = &quot;Name must be between 2 and 20 characters long&quot;)\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;middle_name&quot;)\n    private String middleName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @NotEmpty(message = &quot;Email can not be empty&quot;)\n    @Size(min = 5, message = &quot;Email must be more than 5 characters long&quot;)\n    @Column(name = &quot;email&quot;, unique = true)\n    private String email;\n\n    @Column(name = &quot;alternateEmail&quot;)\n    private String alternateEmail;\n\n    @NotEmpty(message = &quot;Mobile can not be empty&quot;)\n    @Size(min = 10, max = 10, message = &quot;Mobile must be 10 digits long&quot;)\n    @Column(name = &quot;mobile&quot;, unique = true)\n    private String mobile;\n\n    @Column(name = &quot;alternate_mobile&quot;)\n    private String alternateMobile;\n\n    @NotEmpty(message = &quot;Password can not be empty&quot;)\n    @Size(min = 6, message = &quot;Password must be more than 6 characters long&quot;)\n    @Column(name = &quot;password&quot;)\n    private String password;\n}\n</code></pre>\n<p><em><strong>MarriagePerson.java</strong></em></p>\n<pre><code>@Entity\n@Table(name = &quot;MARRIAGE_PERSON&quot;)\npublic class MarriagePerson {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(columnDefinition = &quot;user_id&quot;)\n    private User user;\n\n    @NotEmpty\n    @Column(name = &quot;gender&quot;)\n    private String gender;\n\n    @NotEmpty(message = &quot;Name can not be empty&quot;)\n    @Size(min = 2, max = 20, message = &quot;Name must be between 2 and 20 characters long&quot;)\n    @Column(name = &quot;firstName&quot;)\n    private String firstName;\n}\n</code></pre>\n<p>Here is what exactly I am doing -</p>\n<ul>\n<li>I have saved one <code>User</code> in my <code>postgres</code> db.</li>\n<li>Now I am trying to save <code>MarriagePerson</code> for the same <code>User</code> then the above mentioned exception is caught.</li>\n</ul>\n<p>Please find the <code>UserSerive</code> and <code>MarriagePersonService</code> below -</p>\n<p><em><strong>UserService.java</strong></em></p>\n<pre><code>@Service\npublic class UserService implements IUserService {\n\n    @Autowired\n    private IUserRepository userRepository;\n    \n    @Override\n    public User save(User user) {\n        return userRepository.save(user);\n    }\n}\n</code></pre>\n<p><em><strong>MarriagePerson.java</strong></em></p>\n<pre><code>@Service\npublic class MarriagePersonService implements IMarriagePersonService {\n\n    @Autowired\n    private IMarriagePersonRepository marriagePersonRepository;\n\n    @Override\n    public MarriagePerson save(MarriagePerson marriagePerson) {\n        userRepository.findById(userId).map(user -&gt; {\n            marriagePerson.setUser(user);\n            return marriagePersonRepository.save(marriagePerson);\n        });\n        return marriagePerson;\n    }\n}\n</code></pre>\n<p>Exception is caught at this line <code>marriagePersonRepository.save(marriagePerson);</code> for following mentioned request payload-</p>\n<p>MarriagePerson payload</p>\n<pre><code>{\n  &quot;firstName&quot;: &quot;Name&quot;,\n  &quot;gender&quot;: &quot;Male&quot;\n}\n</code></pre>\n<p>Saved User data is below (which we are trying to update MarriagePerson for)</p>\n<pre><code>{\n    &quot;firstName&quot;: &quot;string&quot;,\n    &quot;middleName&quot;: &quot;string&quot;,\n    &quot;lastName&quot;: &quot;string&quot;,\n    &quot;email&quot;: &quot;string@string.com&quot;,\n    &quot;alternateEmail&quot;: &quot;string1@string.com&quot;,\n    &quot;mobile&quot;: &quot;0123456789&quot;,\n    &quot;alternateMobile&quot;: &quot;0123456789&quot;,\n    &quot;password&quot;: &quot;string&quot;,\n    &quot;marriagePerson&quot;: []\n}\n</code></pre>\n<p><em><strong>EDIT</strong></em></p>\n<p>Repository interfaces are -</p>\n<p><em><strong>IMarriagePersonRepository.java</strong></em></p>\n<pre><code>@Repository\npublic interface IMarriagePersonRepository\n        extends JpaRepository&lt;MarriagePerson, Long&gt;, JpaSpecificationExecutor&lt;MarriagePerson&gt; {\n    List&lt;MarriagePerson&gt; findAll();\n}\n</code></pre>\n<p><em><strong>IUserRepository.java</strong></em></p>\n<pre><code>@Repository\npublic interface IUserRepository extends JpaRepository&lt;User, Long&gt; {\n    public User findByMobile(String mobile);\n    User findByMobileAndEmail(String mobile, String email);\n}\n</code></pre>\n<p>Thank you in advance.</p>\n"},{"tags":["java","file","jar","directory"],"comments":[{"owner":{"account_id":8838381,"reputation":1306,"user_id":6601614,"accept_rate":64,"display_name":"Shankha057"},"score":3,"creation_date":1515280795,"post_id":48132835,"comment_id":83242858,"body_markdown":"What have you tried so far? Please post the code. Please provide more details.","body":"What have you tried so far? Please post the code. Please provide more details."},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1515280797,"post_id":48132835,"comment_id":83242859,"body_markdown":"If you are using an IDE (netbeans, eclipse, idea) they should be automatically included when you export to jar. What issue are you having?","body":"If you are using an IDE (netbeans, eclipse, idea) they should be automatically included when you export to jar. What issue are you having?"},{"owner":{"account_id":11446277,"reputation":1233,"user_id":8390068,"display_name":"Micheal O&#39;Dwyer"},"score":1,"creation_date":1515281208,"post_id":48132835,"comment_id":83242939,"body_markdown":"Please read the [how to ask a good question guide](https://stackoverflow.com/help/how-to-ask) before asking another question. At the moment, your question does not include enough details for someone to answer and fix your issue.","body":"Please read the <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question guide</a> before asking another question. At the moment, your question does not include enough details for someone to answer and fix your issue."},{"owner":{"account_id":10545452,"reputation":13,"user_id":7769905,"display_name":"chicoferreira"},"score":0,"creation_date":1515281581,"post_id":48132835,"comment_id":83243030,"body_markdown":"I have a .data custom file on my eclipse project folder, and I want when the .jar opens, &quot;paste&quot; that custom file that is on the project folder on where .jar was open.","body":"I have a .data custom file on my eclipse project folder, and I want when the .jar opens, &quot;paste&quot; that custom file that is on the project folder on where .jar was open."},{"owner":{"account_id":8838381,"reputation":1306,"user_id":6601614,"accept_rate":64,"display_name":"Shankha057"},"score":0,"creation_date":1515282141,"post_id":48132835,"comment_id":83243186,"body_markdown":"What do you mean by &quot;.jar opens&quot;? Also, what do you mean by &quot;paste&quot;? Do you want to &quot;copy and paste&quot; or do you want to &quot;move&quot; the custom file?Also, have you tried anything on your own?","body":"What do you mean by &quot;.jar opens&quot;? Also, what do you mean by &quot;paste&quot;? Do you want to &quot;copy and paste&quot; or do you want to &quot;move&quot; the custom file?Also, have you tried anything on your own?"},{"owner":{"account_id":10545452,"reputation":13,"user_id":7769905,"display_name":"chicoferreira"},"score":0,"creation_date":1515282480,"post_id":48132835,"comment_id":83243272,"body_markdown":"&quot;.jar opens&quot; when the .jar is executed, &quot;paste&quot; is to copy the file that which is inside the project and paste it into the folder where .jar has been executed. And I tried to do this many times","body":"&quot;.jar opens&quot; when the .jar is executed, &quot;paste&quot; is to copy the file that which is inside the project and paste it into the folder where .jar has been executed. And I tried to do this many times"},{"owner":{"account_id":8838381,"reputation":1306,"user_id":6601614,"accept_rate":64,"display_name":"Shankha057"},"score":0,"creation_date":1515285635,"post_id":48132835,"comment_id":83243893,"body_markdown":"Is your jar file executable?","body":"Is your jar file executable?"},{"owner":{"account_id":10545452,"reputation":13,"user_id":7769905,"display_name":"chicoferreira"},"score":0,"creation_date":1515287363,"post_id":48132835,"comment_id":83244197,"body_markdown":"Yes it is. It&#39;s a minecraft plugin to be honest.","body":"Yes it is. It&#39;s a minecraft plugin to be honest."}],"answers":[{"comments":[{"owner":{"account_id":8838381,"reputation":1306,"user_id":6601614,"accept_rate":64,"display_name":"Shankha057"},"score":0,"creation_date":1515375170,"post_id":48134153,"comment_id":83264628,"body_markdown":"I don&#39;t know about Eclipse(used it once and didn&#39;t go back to using after IntelliJ). But in IntelliJ IDEA, you just right click the file and copy the path,then follow the link that I have sent you. There are 4 ways in which you can do it and also light explanations about each way. So, good luck.","body":"I don&#39;t know about Eclipse(used it once and didn&#39;t go back to using after IntelliJ). But in IntelliJ IDEA, you just right click the file and copy the path,then follow the link that I have sent you. There are 4 ways in which you can do it and also light explanations about each way. So, good luck."}],"tags":[],"owner":{"account_id":8838381,"reputation":1306,"user_id":6601614,"accept_rate":64,"display_name":"Shankha057"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515296959,"creation_date":1515296959,"answer_id":48134153,"question_id":48132835,"body_markdown":"You have to get the name of the class where the main function resides(the Minecraft plugin&#39;s main function&#39;s class name). I will indicate this as `MSMainClass`\r\nNow, after you have the name of the class check whether the loaded class is indeed from a jar file or not. And this is how you do it:\r\n\r\n    String className = MSMainClass.class.getName().replace(&#39;.&#39;,&#39;/&#39;);\r\n    String classJar = MSMainClass.class.getResource(&quot;/&quot; + className + &quot;.class&quot;).toString();\r\n    if(classJar.startsWith(&quot;jar:&quot;) //code to copy files to destination;\r\n    \r\n    \r\n[Here](https://www.journaldev.com/861/java-copy-file) is some reference for file copying in Java.  \r\n[Here](https://stackoverflow.com/questions/482560/can-you-tell-on-runtime-if-youre-running-java-from-within-a-jar) is some reference for jar execution detection(possible duplicate).\r\n    \r\n    \r\n\r\n","title":"Create a file inside the same folder as that of a .jar file which is located inside the project directory","body":"<p>You have to get the name of the class where the main function resides(the Minecraft plugin's main function's class name). I will indicate this as <code>MSMainClass</code>\nNow, after you have the name of the class check whether the loaded class is indeed from a jar file or not. And this is how you do it:</p>\n\n<pre><code>String className = MSMainClass.class.getName().replace('.','/');\nString classJar = MSMainClass.class.getResource(\"/\" + className + \".class\").toString();\nif(classJar.startsWith(\"jar:\") //code to copy files to destination;\n</code></pre>\n\n<p><a href=\"https://www.journaldev.com/861/java-copy-file\" rel=\"nofollow noreferrer\">Here</a> is some reference for file copying in Java.<br>\n<a href=\"https://stackoverflow.com/questions/482560/can-you-tell-on-runtime-if-youre-running-java-from-within-a-jar\">Here</a> is some reference for jar execution detection(possible duplicate).</p>\n"}],"owner":{"account_id":10545452,"reputation":13,"user_id":7769905,"display_name":"chicoferreira"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":10,"up_vote_count":0,"answer_count":1,"score":-10,"last_activity_date":1672280420,"creation_date":1515280531,"question_id":48132835,"body_markdown":"How can I create a file in the same folder as that of a .jar file, which is located inside the main project directory?","title":"Create a file inside the same folder as that of a .jar file which is located inside the project directory","body":"<p>How can I create a file in the same folder as that of a .jar file, which is located inside the main project directory?</p>\n"},{"tags":["java","maven","exec-maven-plugin"],"comments":[{"owner":{"account_id":200282,"reputation":1966,"user_id":446043,"accept_rate":33,"display_name":"gvanto"},"score":0,"creation_date":1383884109,"post_id":19850956,"comment_id":29523547,"body_markdown":"Note: the &#39;**&#39; around the mainClass attribute are inserted be stackoverflow ... (not in my pom.xml)","body":"Note: the &#39;**&#39; around the mainClass attribute are inserted be stackoverflow ... (not in my pom.xml)"},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1525728064,"post_id":19850956,"comment_id":87462722,"body_markdown":"If you get this with a &quot;spring boot&quot; application, see https://stackoverflow.com/q/27323104/32453 (apparently you can&#39;t use exec.mainClass with spring boot...)","body":"If you get this with a &quot;spring boot&quot; application, see <a href=\"https://stackoverflow.com/q/27323104/32453\">stackoverflow.com/q/27323104/32453</a> (apparently you can&#39;t use exec.mainClass with spring boot...)"}],"answers":[{"comments":[{"owner":{"account_id":200282,"reputation":1966,"user_id":446043,"accept_rate":33,"display_name":"gvanto"},"score":0,"creation_date":1384132797,"post_id":19853177,"comment_id":29601951,"body_markdown":"Thanks ragnor but this doesn&#39;t work tried it. The documentation says there&#39;s a parameter mainClass: http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html","body":"Thanks ragnor but this doesn&#39;t work tried it. The documentation says there&#39;s a parameter mainClass: <a href=\"http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html\" rel=\"nofollow noreferrer\">mojo.codehaus.org/exec-maven-plugin/java-mojo.html</a>"},{"owner":{"account_id":1416996,"reputation":2508,"user_id":1342427,"display_name":"ragnor"},"score":0,"creation_date":1384240063,"post_id":19853177,"comment_id":29645550,"body_markdown":"I&#39;ve somehow overlooked the parameter in the doc. Does it change anything if you change **packaging** from `app-client` to `jar`? Could you also try to invoke: `mvn exec:java -X -Dexec.mainClass=&quot;org.aptovia.javaee7.CDBOOKSTORE.Main&quot; -Ddetail=true`","body":"I&#39;ve somehow overlooked the parameter in the doc. Does it change anything if you change <b>packaging</b> from <code>app-client</code> to <code>jar</code>? Could you also try to invoke: <code>mvn exec:java -X -Dexec.mainClass=&quot;org.aptovia.javaee7.CDBOOKSTORE.Main&quot; -Ddetail=true</code>"},{"owner":{"account_id":200282,"reputation":1966,"user_id":446043,"accept_rate":33,"display_name":"gvanto"},"score":1,"creation_date":1384908329,"post_id":19853177,"comment_id":29923704,"body_markdown":"I gave up on GlassFish, now trying with JBoss but running into problems again: (oh the joy!): http://stackoverflow.com/questions/20085259/maven-build-failure-for-jboss-as-7-hello-world-example","body":"I gave up on GlassFish, now trying with JBoss but running into problems again: (oh the joy!): <a href=\"http://stackoverflow.com/questions/20085259/maven-build-failure-for-jboss-as-7-hello-world-example\" title=\"maven build failure for jboss as 7 hello world example\">stackoverflow.com/questions/20085259/&hellip;</a>"}],"tags":[],"owner":{"account_id":1416996,"reputation":2508,"user_id":1342427,"display_name":"ragnor"},"comment_count":3,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1383895038,"creation_date":1383893348,"answer_id":19853177,"question_id":19850956,"body_markdown":"There is no such parameter like `mainClass` in exec-maven-plugin, try to use:\r\n\r\n    &lt;configuration&gt;\r\n       &lt;executable&gt;java&lt;/executable&gt;\r\n       &lt;arguments&gt;\r\n         &lt;argument&gt;-classpath&lt;/argument&gt;\r\n         &lt;classpath/&gt;\r\n         &lt;argument&gt;org.aptovia.javaee7.CDBOOKSTORE.Main&lt;/argument&gt;\r\n       &lt;/arguments&gt;\r\n    &lt;/configuration&gt;","title":"Maven &amp; Java: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.2.1:java are missing or invalid","body":"<p>There is no such parameter like <code>mainClass</code> in exec-maven-plugin, try to use:</p>\n\n<pre><code>&lt;configuration&gt;\n   &lt;executable&gt;java&lt;/executable&gt;\n   &lt;arguments&gt;\n     &lt;argument&gt;-classpath&lt;/argument&gt;\n     &lt;classpath/&gt;\n     &lt;argument&gt;org.aptovia.javaee7.CDBOOKSTORE.Main&lt;/argument&gt;\n   &lt;/arguments&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21466,"reputation":13649,"user_id":52176,"accept_rate":71,"display_name":"Leif Gruenwoldt"},"score":6,"creation_date":1399911436,"post_id":21346201,"comment_id":36252024,"body_markdown":"This worked for me, but I&#39;m surprised because I&#39;ve got another project where the `configuration` works fine within an `execution` block.","body":"This worked for me, but I&#39;m surprised because I&#39;ve got another project where the <code>configuration</code> works fine within an <code>execution</code> block."},{"owner":{"account_id":2099426,"reputation":111,"user_id":1867465,"display_name":"SeanIdzenga"},"score":0,"creation_date":1592319386,"post_id":21346201,"comment_id":110379686,"body_markdown":"@LeifGruenwoldt If you&#39;re referring to the project I think you&#39;re referring to - it doesn&#39;t work.","body":"@LeifGruenwoldt If you&#39;re referring to the project I think you&#39;re referring to - it doesn&#39;t work."},{"owner":{"account_id":6940767,"reputation":494,"user_id":5327207,"accept_rate":60,"display_name":"Rajtheaudacityofhope"},"score":0,"creation_date":1672279228,"post_id":21346201,"comment_id":132258150,"body_markdown":"This works, but in case you have arguments to pass on to the main class, pls check out my answer below ! Cant post the entire thing in comment section, due to character count restriction.","body":"This works, but in case you have arguments to pass on to the main class, pls check out my answer below ! Cant post the entire thing in comment section, due to character count restriction."}],"tags":[],"owner":{"account_id":3908076,"reputation":489,"user_id":3234206,"display_name":"bronson"},"comment_count":3,"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1489089448,"creation_date":1390620126,"answer_id":21346201,"question_id":19850956,"body_markdown":"&quot;configuration&quot; must go outside &quot;executions&quot;, like this:\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.1&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;java&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n                &lt;mainClass&gt;com.emilio.App&lt;/mainClass&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;","title":"Maven &amp; Java: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.2.1:java are missing or invalid","body":"<p>\"configuration\" must go outside \"executions\", like this:</p>\n\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;java&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;mainClass&gt;com.emilio.App&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1303659,"reputation":2036,"user_id":1253088,"display_name":"Vaibs"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1481618944,"creation_date":1481618944,"answer_id":41116877,"question_id":19850956,"body_markdown":"Configuration seems correct with missing id parameter inside execution part.  Proper way would be:\r\n\r\n    &lt;executions&gt;\r\n    \t&lt;execution&gt;\r\n    \t\t&lt;id&gt;someID&lt;/id&gt;\r\n    \t\t&lt;goals&gt;\r\n    \t\t\t&lt;goal&gt;java&lt;/goal&gt;\r\n    \t\t&lt;/goals&gt;\r\n    \t\t&lt;configuration&gt;\r\n    \t\t\t&lt;mainClass&gt;org.aptovia.javaee7.CDBOOKSTORE.Main&lt;/mainClass&gt;\r\n    \t\t&lt;/configuration&gt;\r\n    \t&lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n\r\nAssuming you are running main method using maven, execution would be like below:\r\n\r\n**mvn exec:java@someID**\r\n\r\nsomeID added inside execution part.\r\n","title":"Maven &amp; Java: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.2.1:java are missing or invalid","body":"<p>Configuration seems correct with missing id parameter inside execution part.  Proper way would be:</p>\n\n<pre><code>&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;id&gt;someID&lt;/id&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;java&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;mainClass&gt;org.aptovia.javaee7.CDBOOKSTORE.Main&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n<p>Assuming you are running main method using maven, execution would be like below:</p>\n\n<p><strong>mvn exec:java@someID</strong></p>\n\n<p>someID added inside execution part.</p>\n"},{"tags":[],"owner":{"account_id":5320261,"reputation":7235,"user_id":4243908,"accept_rate":77,"display_name":"George"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1505125973,"creation_date":1505125973,"answer_id":46153565,"question_id":19850956,"body_markdown":"Make sure you execute the `mvn exec:java` from within the same directory where your `pom.xml` with exec configuration resides.","title":"Maven &amp; Java: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.2.1:java are missing or invalid","body":"<p>Make sure you execute the <code>mvn exec:java</code> from within the same directory where your <code>pom.xml</code> with exec configuration resides.</p>\n"},{"tags":[],"owner":{"account_id":10618639,"reputation":81,"user_id":7820390,"display_name":"CatSleeping"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1549726029,"creation_date":1549726029,"answer_id":54607707,"question_id":19850956,"body_markdown":"If the `&lt;configuration&gt;` is outside the `&lt;executions&gt;` , it is the configuration for the plugin to be used no matter what the life-cycle phase is. \r\n\r\nIf the `&lt;configuration&gt;` is inside the `&lt;executions&gt;`, it is the configuration to be used in certain life-cycle phase. \r\n\r\nAs Vabis has suggested, use `mvn exec:java@someID` to execute the specific execution of the goal for a plugin.\r\n\r\nFor more information, please see https://maven.apache.org/guides/mini/guide-configuring-plugins.html.","title":"Maven &amp; Java: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.2.1:java are missing or invalid","body":"<p>If the <code>&lt;configuration&gt;</code> is outside the <code>&lt;executions&gt;</code> , it is the configuration for the plugin to be used no matter what the life-cycle phase is. </p>\n\n<p>If the <code>&lt;configuration&gt;</code> is inside the <code>&lt;executions&gt;</code>, it is the configuration to be used in certain life-cycle phase. </p>\n\n<p>As Vabis has suggested, use <code>mvn exec:java@someID</code> to execute the specific execution of the goal for a plugin.</p>\n\n<p>For more information, please see <a href=\"https://maven.apache.org/guides/mini/guide-configuring-plugins.html\" rel=\"noreferrer\">https://maven.apache.org/guides/mini/guide-configuring-plugins.html</a>.</p>\n"},{"tags":[],"owner":{"account_id":6940767,"reputation":494,"user_id":5327207,"accept_rate":60,"display_name":"Rajtheaudacityofhope"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672279083,"creation_date":1672279083,"answer_id":74946586,"question_id":19850956,"body_markdown":"In case you have arguments to pass on to the main class, then the below structure helps.\r\n\r\n```\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;java&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;mainClass&gt;org.rraj.server.EchoServer&lt;/mainClass&gt;\r\n          &lt;arguments&gt;\r\n            &lt;argument&gt;8585&lt;/argument&gt;\r\n          &lt;/arguments&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```\r\nPls upvote if you find this answer helpful :) ","title":"Maven &amp; Java: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.2.1:java are missing or invalid","body":"<p>In case you have arguments to pass on to the main class, then the below structure helps.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;java&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;mainClass&gt;org.rraj.server.EchoServer&lt;/mainClass&gt;\n          &lt;arguments&gt;\n            &lt;argument&gt;8585&lt;/argument&gt;\n          &lt;/arguments&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>Pls upvote if you find this answer helpful :)</p>\n"}],"owner":{"account_id":200282,"reputation":1966,"user_id":446043,"accept_rate":33,"display_name":"gvanto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71517,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":6,"score":43,"last_activity_date":1672279083,"creation_date":1383880303,"question_id":19850956,"body_markdown":"My Java EE proj builds fine, but when trying to execute get following error:\r\n\r\n    gert@gert-VirtualBox:~/workspace/CDBOOKSTORE$ mvn exec:java \r\n    [INFO] Scanning for projects... \r\n    [INFO]                                       \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building CDBOOKSTORE 0.0.1-SNAPSHOT \r\n    [INFO] ------------------------------------------------------------------------ \r\n    [INFO]  \r\n    [INFO] &gt;&gt;&gt; exec-maven-plugin:1.2.1:java (default-cli) @ CDBOOKSTORE &gt;&gt;&gt;    \r\n    [INFO]  \r\n    [INFO] --- maven-dependency-plugin:2.8:copy (default) @ CDBOOKSTORE ---\r\n    [INFO]  \r\n    [INFO] &lt;&lt;&lt; exec-maven-plugin:1.2.1:java (default-cli) @ CDBOOKSTORE &lt;&lt;&lt;    \r\n    [INFO] \r\n    [INFO] --- exec-maven-plugin:1.2.1:java (default-cli) @ CDBOOKSTORE ---\r\n    [INFO] ------------------------------------------------------------------------ \r\n    [INFO] BUILD FAILURE \r\n    [INFO] ------------------------------------------------------------------------ \r\n    [INFO] Total time: 2.505s [INFO] Finished at: Fri Nov 08 14:01:40 EST 2013 \r\n    [INFO] Final Memory: 9M/21M \r\n    [INFO] ------------------------------------------------------------------------    \r\n    [ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:java (default-cli) on project CDBOOKSTORE: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.2.1:java are missing or invalid\r\n    -&gt; [Help 1]\r\n\r\nBut in my `pom.xml` file (which I&#39;ve edited following a Java EE book example), I *have* specified the `mainClass` config:\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; \r\n     &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n         &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n     \r\n         &lt;groupId&gt;org.aptovia.javaee7&lt;/groupId&gt;\r\n         &lt;artifactId&gt;CDBOOKSTORE&lt;/artifactId&gt;\r\n         &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n         &lt;packaging&gt;app-client&lt;/packaging&gt;\r\n     \r\n         &lt;name&gt;CDBOOKSTORE&lt;/name&gt;\r\n     \r\n         &lt;properties&gt;\r\n             &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n             &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n         &lt;/properties&gt;\r\n     \r\n         &lt;dependencies&gt;\r\n             &lt;dependency&gt;\r\n                 &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                 &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n                 &lt;version&gt;7.0&lt;/version&gt;\r\n                 &lt;scope&gt;provided&lt;/scope&gt;\r\n             &lt;/dependency&gt;\r\n             \r\n             &lt;dependency&gt;\r\n             \t&lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\r\n             \t&lt;artifactId&gt;weld-se&lt;/artifactId&gt;\r\n             \t&lt;version&gt;2.1.0.Final&lt;/version&gt;\r\n             &lt;/dependency&gt;\r\n             \r\n         &lt;/dependencies&gt;\r\n     \r\n         &lt;build&gt;\r\n             &lt;plugins&gt;\r\n                 &lt;plugin&gt;\r\n                     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                     &lt;version&gt;3.1&lt;/version&gt;\r\n                     &lt;configuration&gt;\r\n                         &lt;source&gt;1.7&lt;/source&gt;\r\n                         &lt;target&gt;1.7&lt;/target&gt;\r\n                         &lt;compilerArguments&gt;\r\n                             &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                         &lt;/compilerArguments&gt;\r\n                     &lt;/configuration&gt;\r\n                 &lt;/plugin&gt;\r\n                 &lt;plugin&gt;\r\n                     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;maven-acr-plugin&lt;/artifactId&gt;\r\n                     &lt;version&gt;1.0&lt;/version&gt;\r\n                     &lt;extensions&gt;true&lt;/extensions&gt;\r\n                     &lt;configuration&gt;\r\n                         &lt;archive&gt;\r\n                             &lt;manifest&gt;                            \r\n                                 &lt;mainClass&gt;org.aptovia.javaee7.CDBOOKSTORE.Main&lt;/mainClass&gt;\r\n                             &lt;/manifest&gt;\r\n                         &lt;/archive&gt;\r\n                     &lt;/configuration&gt;\r\n                 &lt;/plugin&gt;\r\n                             \r\n                 &lt;plugin&gt;\r\n                     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                     &lt;version&gt;2.8&lt;/version&gt;\r\n                     &lt;executions&gt;\r\n                         &lt;execution&gt;\r\n                             &lt;phase&gt;validate&lt;/phase&gt;\r\n                             &lt;goals&gt;\r\n                                 &lt;goal&gt;copy&lt;/goal&gt;\r\n                             &lt;/goals&gt;\r\n                             &lt;configuration&gt;\r\n                                 &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                                 &lt;silent&gt;true&lt;/silent&gt;\r\n                                 &lt;artifactItems&gt;\r\n                                     &lt;artifactItem&gt;\r\n                                         &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                                         &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\r\n                                         &lt;version&gt;7.0&lt;/version&gt;\r\n                                         &lt;type&gt;jar&lt;/type&gt;\r\n                                     &lt;/artifactItem&gt;\r\n                                 &lt;/artifactItems&gt;\r\n                             &lt;/configuration&gt;\r\n                         &lt;/execution&gt;\r\n                     &lt;/executions&gt;\r\n                 &lt;/plugin&gt;\r\n                 \r\n                  &lt;plugin&gt;\r\n                 \t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                 \t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                 \t&lt;version&gt;1.2.1&lt;/version&gt;\r\n                 \t&lt;executions&gt;\r\n                 \t\t&lt;execution&gt;\r\n                 \t\t\t&lt;goals&gt;\r\n                 \t\t\t\t&lt;goal&gt;java&lt;/goal&gt;\r\n                 \t\t\t&lt;/goals&gt;\r\n                 \t\t\t&lt;configuration&gt;            \t\t\t\t\r\n                                &lt;mainClass&gt;org.aptovia.javaee7.CDBOOKSTORE.Main&lt;/mainClass&gt;\r\n                 \t\t\t&lt;/configuration&gt;\r\n                 \t\t&lt;/execution&gt;\r\n                 \t&lt;/executions&gt;\r\n                 &lt;/plugin&gt;\r\n                 \r\n             &lt;/plugins&gt;\r\n         &lt;/build&gt;\r\n     \r\n     &lt;/project&gt;\r\n\r\nAlso looks OK according to this:\r\nhttps://www.mojohaus.org/exec-maven-plugin/usage.html\r\n\r\nI&#39;ve done an mvn clean, rebuilt, but still getting this error. Really not sure whats happening :(\r\n\r\nAny help much appreciated!\r\n","title":"Maven &amp; Java: The parameters &#39;mainClass&#39; for goal org.codehaus.mojo:exec-maven-plugin:1.2.1:java are missing or invalid","body":"<p>My Java EE proj builds fine, but when trying to execute get following error:</p>\n\n<pre><code>gert@gert-VirtualBox:~/workspace/CDBOOKSTORE$ mvn exec:java \n[INFO] Scanning for projects... \n[INFO]                                       \n[INFO] ------------------------------------------------------------------------\n[INFO] Building CDBOOKSTORE 0.0.1-SNAPSHOT \n[INFO] ------------------------------------------------------------------------ \n[INFO]  \n[INFO] &gt;&gt;&gt; exec-maven-plugin:1.2.1:java (default-cli) @ CDBOOKSTORE &gt;&gt;&gt;    \n[INFO]  \n[INFO] --- maven-dependency-plugin:2.8:copy (default) @ CDBOOKSTORE ---\n[INFO]  \n[INFO] &lt;&lt;&lt; exec-maven-plugin:1.2.1:java (default-cli) @ CDBOOKSTORE &lt;&lt;&lt;    \n[INFO] \n[INFO] --- exec-maven-plugin:1.2.1:java (default-cli) @ CDBOOKSTORE ---\n[INFO] ------------------------------------------------------------------------ \n[INFO] BUILD FAILURE \n[INFO] ------------------------------------------------------------------------ \n[INFO] Total time: 2.505s [INFO] Finished at: Fri Nov 08 14:01:40 EST 2013 \n[INFO] Final Memory: 9M/21M \n[INFO] ------------------------------------------------------------------------    \n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.2.1:java (default-cli) on project CDBOOKSTORE: The parameters 'mainClass' for goal org.codehaus.mojo:exec-maven-plugin:1.2.1:java are missing or invalid\n-&gt; [Help 1]\n</code></pre>\n\n<p>But in my <code>pom.xml</code> file (which I've edited following a Java EE book example), I <em>have</em> specified the <code>mainClass</code> config:</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; \n &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n     &lt;groupId&gt;org.aptovia.javaee7&lt;/groupId&gt;\n     &lt;artifactId&gt;CDBOOKSTORE&lt;/artifactId&gt;\n     &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n     &lt;packaging&gt;app-client&lt;/packaging&gt;\n\n     &lt;name&gt;CDBOOKSTORE&lt;/name&gt;\n\n     &lt;properties&gt;\n         &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n         &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n     &lt;/properties&gt;\n\n     &lt;dependencies&gt;\n         &lt;dependency&gt;\n             &lt;groupId&gt;javax&lt;/groupId&gt;\n             &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n             &lt;version&gt;7.0&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n         &lt;/dependency&gt;\n\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\n            &lt;artifactId&gt;weld-se&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0.Final&lt;/version&gt;\n         &lt;/dependency&gt;\n\n     &lt;/dependencies&gt;\n\n     &lt;build&gt;\n         &lt;plugins&gt;\n             &lt;plugin&gt;\n                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                 &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                 &lt;version&gt;3.1&lt;/version&gt;\n                 &lt;configuration&gt;\n                     &lt;source&gt;1.7&lt;/source&gt;\n                     &lt;target&gt;1.7&lt;/target&gt;\n                     &lt;compilerArguments&gt;\n                         &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                     &lt;/compilerArguments&gt;\n                 &lt;/configuration&gt;\n             &lt;/plugin&gt;\n             &lt;plugin&gt;\n                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                 &lt;artifactId&gt;maven-acr-plugin&lt;/artifactId&gt;\n                 &lt;version&gt;1.0&lt;/version&gt;\n                 &lt;extensions&gt;true&lt;/extensions&gt;\n                 &lt;configuration&gt;\n                     &lt;archive&gt;\n                         &lt;manifest&gt;                            \n                             &lt;mainClass&gt;org.aptovia.javaee7.CDBOOKSTORE.Main&lt;/mainClass&gt;\n                         &lt;/manifest&gt;\n                     &lt;/archive&gt;\n                 &lt;/configuration&gt;\n             &lt;/plugin&gt;\n\n             &lt;plugin&gt;\n                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                 &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                 &lt;version&gt;2.8&lt;/version&gt;\n                 &lt;executions&gt;\n                     &lt;execution&gt;\n                         &lt;phase&gt;validate&lt;/phase&gt;\n                         &lt;goals&gt;\n                             &lt;goal&gt;copy&lt;/goal&gt;\n                         &lt;/goals&gt;\n                         &lt;configuration&gt;\n                             &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                             &lt;silent&gt;true&lt;/silent&gt;\n                             &lt;artifactItems&gt;\n                                 &lt;artifactItem&gt;\n                                     &lt;groupId&gt;javax&lt;/groupId&gt;\n                                     &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\n                                     &lt;version&gt;7.0&lt;/version&gt;\n                                     &lt;type&gt;jar&lt;/type&gt;\n                                 &lt;/artifactItem&gt;\n                             &lt;/artifactItems&gt;\n                         &lt;/configuration&gt;\n                     &lt;/execution&gt;\n                 &lt;/executions&gt;\n             &lt;/plugin&gt;\n\n              &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;java&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;                         \n                            &lt;mainClass&gt;org.aptovia.javaee7.CDBOOKSTORE.Main&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n             &lt;/plugin&gt;\n\n         &lt;/plugins&gt;\n     &lt;/build&gt;\n\n &lt;/project&gt;\n</code></pre>\n\n<p>Also looks OK according to this:\n<a href=\"https://www.mojohaus.org/exec-maven-plugin/usage.html\" rel=\"noreferrer\">https://www.mojohaus.org/exec-maven-plugin/usage.html</a></p>\n\n<p>I've done an mvn clean, rebuilt, but still getting this error. Really not sure whats happening :(</p>\n\n<p>Any help much appreciated!</p>\n"},{"tags":["java","jvm","classloader"],"answers":[{"tags":[],"owner":{"account_id":20820563,"reputation":1,"user_id":16641471,"display_name":"Mario Mf&#39;er"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672222224,"creation_date":1672222224,"answer_id":74938905,"question_id":74938565,"body_markdown":"Just create a custom exception with error code and wrap any exception into your custom exception.\r\n\r\n**Enum with all codes:**  \r\n\r\n    public enum ErrorCodes {\r\n        VALIDATION_PARSE_ERROR(422);\r\n    \r\n        private int code;\r\n    \r\n        ErrorCodes(int code) {\r\n            this.code = code;\r\n        }\r\n    \r\n        public int getCode() {\r\n            return code;\r\n        }\r\n    }\r\n\r\n**Create a custom exception:**\r\n\r\n    public class MyCustomException extends RuntimeException {\r\n    \r\n        private Integer errorCode;\r\n    \r\n        public MyCustomException(String message) {\r\n            super(message);\r\n        }\r\n    \r\n        public MyCustomException(String message, Throwable cause) {\r\n            super(message, cause);\r\n        }\r\n    \r\n        public MyCustomException(String message, Throwable cause, ErrorCodes errorCode) {\r\n            super(message, cause);\r\n            this.errorCode = errorCode.getCode();\r\n        }\r\n    \r\n        public Integer getErrorCode() {\r\n            return errorCode;\r\n        }\r\n    }\r\n\r\n**And throw this exception like this.**\r\n\r\n    public String convertDollarsToEuros(String value) {\r\n        try {\r\n            int x = Integer.parseInt(value);\r\n        } catch (NumberFormatException e) {\r\n            throw new MyCustomException(&quot;Invalid data&quot;, e, ErrorCodes.VALIDATION_PARSE_ERROR);\r\n        }\r\n        return value;\r\n    }\r\n\r\n","title":"How to find all sub classes of java.lang.Throwable in the JVM?","body":"<p>Just create a custom exception with error code and wrap any exception into your custom exception.</p>\n<p><strong>Enum with all codes:</strong></p>\n<pre><code>public enum ErrorCodes {\n    VALIDATION_PARSE_ERROR(422);\n\n    private int code;\n\n    ErrorCodes(int code) {\n        this.code = code;\n    }\n\n    public int getCode() {\n        return code;\n    }\n}\n</code></pre>\n<p><strong>Create a custom exception:</strong></p>\n<pre><code>public class MyCustomException extends RuntimeException {\n\n    private Integer errorCode;\n\n    public MyCustomException(String message) {\n        super(message);\n    }\n\n    public MyCustomException(String message, Throwable cause) {\n        super(message, cause);\n    }\n\n    public MyCustomException(String message, Throwable cause, ErrorCodes errorCode) {\n        super(message, cause);\n        this.errorCode = errorCode.getCode();\n    }\n\n    public Integer getErrorCode() {\n        return errorCode;\n    }\n}\n</code></pre>\n<p><strong>And throw this exception like this.</strong></p>\n<pre><code>public String convertDollarsToEuros(String value) {\n    try {\n        int x = Integer.parseInt(value);\n    } catch (NumberFormatException e) {\n        throw new MyCustomException(&quot;Invalid data&quot;, e, ErrorCodes.VALIDATION_PARSE_ERROR);\n    }\n    return value;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2234417,"reputation":12839,"user_id":1971216,"accept_rate":83,"display_name":"QuentinC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672222836,"creation_date":1672222836,"answer_id":74939003,"question_id":74938565,"body_markdown":"You can&#39;t do it easily with standard java modules.\r\nSeveral third partie artifacts can allow you to do it, for example [ClassGraph](https://github.com/classgraph/classgraph).\r\nIF you are using a framework like Spring, there are also tools to do that in there.\r\n\r\nAlternatively, you can maybe just use the exception class&#39; hash code as an error code, for example `Exception.class.hashCode()`.\r\nThere is normally no reason that this hash code change between two JVM executions.\r\nYou can&#39;t completely exclude that two classes share the same hash code, but over 2^32 possibilities, the probability is still extremely low.\r\n\r\nHowever, do you really need to do that ? Probably not.\r\n\r\nYou should be able to concentrate on exceptions that can really occurrs in your program in a given context, and assign an error number only on those particular cases. Maybe there would be a few dozens, maybe a few hundreds if your software is really big and complex, but probably still much less than there are exception classes in the JVM.\r\n\r\nYou would have the great benefit to group error codes as you like in a logical way, for example saying that 400-499 is client-side error and 500-599 is server-side error, as in HTTP, or 10000-19999 is network-related as in windows OS, etc.\r\ninstead of relying on random values given by hash codes or another more or less automatic process. ","title":"How to find all sub classes of java.lang.Throwable in the JVM?","body":"<p>You can't do it easily with standard java modules.\nSeveral third partie artifacts can allow you to do it, for example <a href=\"https://github.com/classgraph/classgraph\" rel=\"nofollow noreferrer\">ClassGraph</a>.\nIF you are using a framework like Spring, there are also tools to do that in there.</p>\n<p>Alternatively, you can maybe just use the exception class' hash code as an error code, for example <code>Exception.class.hashCode()</code>.\nThere is normally no reason that this hash code change between two JVM executions.\nYou can't completely exclude that two classes share the same hash code, but over 2^32 possibilities, the probability is still extremely low.</p>\n<p>However, do you really need to do that ? Probably not.</p>\n<p>You should be able to concentrate on exceptions that can really occurrs in your program in a given context, and assign an error number only on those particular cases. Maybe there would be a few dozens, maybe a few hundreds if your software is really big and complex, but probably still much less than there are exception classes in the JVM.</p>\n<p>You would have the great benefit to group error codes as you like in a logical way, for example saying that 400-499 is client-side error and 500-599 is server-side error, as in HTTP, or 10000-19999 is network-related as in windows OS, etc.\ninstead of relying on random values given by hash codes or another more or less automatic process.</p>\n"}],"owner":{"account_id":25716076,"reputation":161,"user_id":19473836,"display_name":"Bourbon_7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672226605,"answer_count":2,"score":0,"last_activity_date":1672277683,"creation_date":1672220236,"question_id":74938565,"body_markdown":"I want to assign an error code to each error, so I think I have to find all sub classes of `java.lang.Throwable` in the JVM. The classes may or may not have been already loaded in the JVM. Or is there another solution?\r\n\r\nI have read the similar question https://stackoverflow.com/questions/492184/how-do-you-find-all-subclasses-of-a-given-class-in-java , and tried the **ClassGraph** and **org.reflections:reflections:0.10.2** , but they can not find the Classes in `jdk` like the `java.lang.NullPointerException` in `java.lang`.\r\n\r\nThe code using **ClassGraph**:\r\n```\r\nClassGraph classGraph = new ClassGraph() ;\r\nScanResult result = classGraph.enableAllInfo().whitelistPackages( &quot;java.lang&quot; ).scan() ;\r\nresult.getAllClasses().forEach( c -&gt; System.out.println(c) ) ;\r\n```\r\n","title":"How to find all sub classes of java.lang.Throwable in the JVM?","body":"<p>I want to assign an error code to each error, so I think I have to find all sub classes of <code>java.lang.Throwable</code> in the JVM. The classes may or may not have been already loaded in the JVM. Or is there another solution?</p>\n<p>I have read the similar question <a href=\"https://stackoverflow.com/questions/492184/how-do-you-find-all-subclasses-of-a-given-class-in-java\">How do you find all subclasses of a given class in Java?</a> , and tried the <strong>ClassGraph</strong> and <strong>org.reflections:reflections:0.10.2</strong> , but they can not find the Classes in <code>jdk</code> like the <code>java.lang.NullPointerException</code> in <code>java.lang</code>.</p>\n<p>The code using <strong>ClassGraph</strong>:</p>\n<pre><code>ClassGraph classGraph = new ClassGraph() ;\nScanResult result = classGraph.enableAllInfo().whitelistPackages( &quot;java.lang&quot; ).scan() ;\nresult.getAllClasses().forEach( c -&gt; System.out.println(c) ) ;\n</code></pre>\n"},{"tags":["javascript","java","jquery","spring-mvc","dropzone.js"],"answers":[{"tags":[],"owner":{"account_id":8456997,"reputation":77,"user_id":6343977,"display_name":"H hao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495089346,"creation_date":1495089346,"answer_id":44040288,"question_id":44017786,"body_markdown":"I solved this problem by overwriting the source js code.\r\n\r\n\r\n    Dropzone.prototype._getParamName = function(n) {\r\n                if (typeof this.options.paramName === &quot;function&quot;) {\r\n                    return this.options.paramName(n);\r\n                } else {\r\n    //                return &quot;&quot; + this.options.paramName + (this.options.uploadMultiple ? &quot;[&quot; + n + &quot;]&quot; : &quot;&quot;);\r\n                    return &quot;&quot; + this.options.paramName;\r\n                }\r\n            };","title":"when I upload multiple files with dropzone.js, don&#39;t know how to receive parameter with spring mvc","body":"<p>I solved this problem by overwriting the source js code.</p>\n\n<pre><code>Dropzone.prototype._getParamName = function(n) {\n            if (typeof this.options.paramName === \"function\") {\n                return this.options.paramName(n);\n            } else {\n//                return \"\" + this.options.paramName + (this.options.uploadMultiple ? \"[\" + n + \"]\" : \"\");\n                return \"\" + this.options.paramName;\n            }\n        };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1203500,"reputation":413,"user_id":1173695,"accept_rate":40,"display_name":"Darth Jon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672277588,"creation_date":1672277588,"answer_id":74946487,"question_id":44017786,"body_markdown":"Understood this is an old question but I&#39;ve had some success changing the &quot;sending&quot; option to &quot;sendingmultiple&quot; then passing a function that simply returns &quot;files&quot; to match up with the spring controller signature:\r\n\r\njs\r\n\r\n        sendingmultiple: function(files, xhr, formData) {\r\n            // additional request paramter\r\n            formData.append(&#39;media&#39;, JSON.stringify(media));\r\n            for (const [key, value] of formData) {\r\n                console.log(&#39;key: &#39; + key + &#39; value: &#39; + value);\r\n            }\r\n        },\r\n        acceptedFiles: &quot;image/*&quot;,\r\n        uploadMultiple: true,\r\n        paramName: function() { return &quot;files&quot;; }\r\n\r\njava\r\n\r\n        @PostMapping(&quot;/user/media/upload&quot;)\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n        public User uploadMedia(@RequestParam String media, @RequestParam(&quot;files&quot;) MultipartFile[] files) {\r\n","title":"when I upload multiple files with dropzone.js, don&#39;t know how to receive parameter with spring mvc","body":"<p>Understood this is an old question but I've had some success changing the &quot;sending&quot; option to &quot;sendingmultiple&quot; then passing a function that simply returns &quot;files&quot; to match up with the spring controller signature:</p>\n<p>js</p>\n<pre><code>    sendingmultiple: function(files, xhr, formData) {\n        // additional request paramter\n        formData.append('media', JSON.stringify(media));\n        for (const [key, value] of formData) {\n            console.log('key: ' + key + ' value: ' + value);\n        }\n    },\n    acceptedFiles: &quot;image/*&quot;,\n    uploadMultiple: true,\n    paramName: function() { return &quot;files&quot;; }\n</code></pre>\n<p>java</p>\n<pre><code>    @PostMapping(&quot;/user/media/upload&quot;)\n    @ResponseStatus(HttpStatus.CREATED)\n    public User uploadMedia(@RequestParam String media, @RequestParam(&quot;files&quot;) MultipartFile[] files) {\n</code></pre>\n"}],"owner":{"account_id":8456997,"reputation":77,"user_id":6343977,"display_name":"H hao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":839,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1672277588,"creation_date":1495004575,"question_id":44017786,"body_markdown":"&lt;p&gt;\r\nWhen I use `dropzone.js` to upload many files, the problem is appearing.\r\n&lt;p&gt;\r\nI need add more parameter to `POST` request, I have read the documentation on `dropzonejs.com` and wiki on `github.com`, parameter is added to request.\r\n&lt;p&gt;\r\nThe problem is that the default parameter of file is `files[0]`,`files[1]` ...(I set the `paramName` option to `files`), but I can&#39;t receive `files` parameters with java spring mvc code.\r\n&lt;p&gt;\r\nThis is my spring mvc controller code:\r\n\r\n        @RequestMapping(&quot;/upload&quot;)\r\n        public Map&lt;String,Object&gt; method(CaseInfo info,HttpServletRequest request,@RequestParam(&quot;files[]&quot;)MultipartFile[] files){\r\n            ...\r\n        }\r\n\r\nThis is my js core code:\r\n\r\n    this.on(&quot;sending&quot;, function(file, xhr, formData){\r\n                        console.log(&quot;formData -&gt;&quot;, formData);\r\n                        var frm = $(&#39;#form&#39;);\r\n                        var data = frm.serializeArray();\r\n                        console.log(&#39;data -&gt;&#39;, data);\r\n                        for (var obj in data) {\r\n                            formData.append(obj.name, obj.value);\r\n                        }\r\n                    });\r\n\r\nThe controller just can&#39;t receive files parameter, and the name of others is `undefined`, \r\n\r\n\r\n\r\n###edited:\r\nI changed the for-in to below, then the `undefined` problem solved.\r\nBut I don&#39;t know why...  somebody know?\r\n\r\n    for (var i = data.length - 1; i &gt;= 0; i--) {\r\n                            var obj = data[i];\r\n                            formData.append(obj.name,obj.value);\r\n                        }","title":"when I upload multiple files with dropzone.js, don&#39;t know how to receive parameter with spring mvc","body":"<p><p>\nWhen I use <code>dropzone.js</code> to upload many files, the problem is appearing.\n<p>\nI need add more parameter to <code>POST</code> request, I have read the documentation on <code>dropzonejs.com</code> and wiki on <code>github.com</code>, parameter is added to request.\n<p>\nThe problem is that the default parameter of file is <code>files[0]</code>,<code>files[1]</code> ...(I set the <code>paramName</code> option to <code>files</code>), but I can't receive <code>files</code> parameters with java spring mvc code.\n<p>\nThis is my spring mvc controller code:</p>\n\n<pre><code>    @RequestMapping(\"/upload\")\n    public Map&lt;String,Object&gt; method(CaseInfo info,HttpServletRequest request,@RequestParam(\"files[]\")MultipartFile[] files){\n        ...\n    }\n</code></pre>\n\n<p>This is my js core code:</p>\n\n<pre><code>this.on(\"sending\", function(file, xhr, formData){\n                    console.log(\"formData -&gt;\", formData);\n                    var frm = $('#form');\n                    var data = frm.serializeArray();\n                    console.log('data -&gt;', data);\n                    for (var obj in data) {\n                        formData.append(obj.name, obj.value);\n                    }\n                });\n</code></pre>\n\n<p>The controller just can't receive files parameter, and the name of others is <code>undefined</code>, </p>\n\n<h3>edited:</h3>\n\n<p>I changed the for-in to below, then the <code>undefined</code> problem solved.\nBut I don't know why...  somebody know?</p>\n\n<pre><code>for (var i = data.length - 1; i &gt;= 0; i--) {\n                        var obj = data[i];\n                        formData.append(obj.name,obj.value);\n                    }\n</code></pre>\n"},{"tags":["java","spring","web-services"],"answers":[{"comments":[{"owner":{"account_id":4938673,"reputation":369,"user_id":3976069,"accept_rate":80,"display_name":"Juan Solo"},"score":0,"creation_date":1672300281,"post_id":74946466,"comment_id":132261227,"body_markdown":"Hi @Vini, it works perfectly, the exception is not generated but it does not remove them from the Message. Does the message have to be transformed? When the flow continues, at the next stage of processing the request, the attachments remain.","body":"Hi @Vini, it works perfectly, the exception is not generated but it does not remove them from the Message. Does the message have to be transformed? When the flow continues, at the next stage of processing the request, the attachments remain."},{"owner":{"account_id":4938673,"reputation":369,"user_id":3976069,"accept_rate":80,"display_name":"Juan Solo"},"score":0,"creation_date":1672307220,"post_id":74946466,"comment_id":132262954,"body_markdown":"Sorry, I did not explain well, when I delete the attachments, these headers that I want to delete are kept in the message: . `------=_Part_0_989464880.1672306805146\nContent-Type: application/xop+xml; charset=utf-8; type=&quot;text/xml&quot;\nContent-Transfer-Encoding: 8bit\nContent-ID: &lt;rootpart@soapui.org&gt;`","body":"Sorry, I did not explain well, when I delete the attachments, these headers that I want to delete are kept in the message: . <code>------=_Part_0_989464880.1672306805146 Content-Type: application&#47;xop+xml; charset=utf-8; type=&quot;text&#47;xml&quot; Content-Transfer-Encoding: 8bit Content-ID: &lt;rootpart@soapui.org&gt;</code>"}],"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672277395,"creation_date":1672277395,"answer_id":74946466,"question_id":74943106,"body_markdown":"I haven&#39;t tried this myself, but the way you are trying to remove the attachments does not seem to be right. Ideally you get an iterator and use it to iterate over the elements and deleting the ones you desire (in your case &#39;all&#39; elements). Something like below:\r\n\r\n```\r\nif (requestReceived instanceof SaajSoapMessage) {\r\n    SaajSoapMessage message = ((SaajSoapMessage) requestReceived);\r\n    Iterator&lt;Attachment&gt; itr = message.getAttachments();\r\n\r\n    while(itr.hasNext()) {\r\n        itr.next();\r\n        itr.remove();\r\n    }\r\n}\r\n```","title":"Spring boot WS: Is posible remove all attachments from a instance of MessageContext class?","body":"<p>I haven't tried this myself, but the way you are trying to remove the attachments does not seem to be right. Ideally you get an iterator and use it to iterate over the elements and deleting the ones you desire (in your case 'all' elements). Something like below:</p>\n<pre><code>if (requestReceived instanceof SaajSoapMessage) {\n    SaajSoapMessage message = ((SaajSoapMessage) requestReceived);\n    Iterator&lt;Attachment&gt; itr = message.getAttachments();\n\n    while(itr.hasNext()) {\n        itr.next();\n        itr.remove();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4938673,"reputation":369,"user_id":3976069,"accept_rate":80,"display_name":"Juan Solo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74946466,"answer_count":1,"score":0,"last_activity_date":1672277395,"creation_date":1672247564,"question_id":74943106,"body_markdown":"I have developed a WS with Spring boot. In the interceptor I want to modify the request and delete all attachments. I have tried the following: \r\n\r\n```\r\npublic boolean handleRequest(MessageContext messageContext, Object endpoint) throws Exception {\r\n    WebServiceMessage requestReceived = messageContext.getRequest();\r\n    if (requestReceived instanceof SaajSoapMessage) {\r\n        SaajSoapMessage message = ((SaajSoapMessage) requestReceived);\r\n        message.getAttachments().remove();\r\n    }\r\n    return true;\r\n}\r\n```\r\n\r\nbut remove() is not supported in that iterator. \r\n\r\nIs it possible to delete all attachments?\r\n\r\nCheers","title":"Spring boot WS: Is posible remove all attachments from a instance of MessageContext class?","body":"<p>I have developed a WS with Spring boot. In the interceptor I want to modify the request and delete all attachments. I have tried the following:</p>\n<pre><code>public boolean handleRequest(MessageContext messageContext, Object endpoint) throws Exception {\n    WebServiceMessage requestReceived = messageContext.getRequest();\n    if (requestReceived instanceof SaajSoapMessage) {\n        SaajSoapMessage message = ((SaajSoapMessage) requestReceived);\n        message.getAttachments().remove();\n    }\n    return true;\n}\n</code></pre>\n<p>but remove() is not supported in that iterator.</p>\n<p>Is it possible to delete all attachments?</p>\n<p>Cheers</p>\n"},{"tags":["java","option-type"],"comments":[{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1672275089,"post_id":74946280,"comment_id":132257699,"body_markdown":"maybe try reading javadoc for orElse? https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-","body":"maybe try reading javadoc for orElse? <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElse-T-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672275142,"post_id":74946280,"comment_id":132257708,"body_markdown":"@NathanHughes I don&#39;t think that&#39;s the question.","body":"@NathanHughes I don&#39;t think that&#39;s the question."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1672275161,"post_id":74946280,"comment_id":132257710,"body_markdown":"It&#39;s not clear why you expect `Not Hello`. Are you confused by how `+=` evaluates its operands?","body":"It&#39;s not clear why you expect <code>Not Hello</code>. Are you confused by how <code>+=</code> evaluates its operands?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672275197,"post_id":74946280,"comment_id":132257718,"body_markdown":"@SotiriosDelimanolis I think that&#39;s the question.","body":"@SotiriosDelimanolis I think that&#39;s the question."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1672275440,"post_id":74946280,"comment_id":132257754,"body_markdown":"or maybe the question is how does the JVM  decide if the thing passed in is a Supplier?","body":"or maybe the question is how does the JVM  decide if the thing passed in is a Supplier?"},{"owner":{"account_id":8149648,"reputation":236,"user_id":6137134,"accept_rate":89,"display_name":"Ale"},"score":0,"creation_date":1672280124,"post_id":74946280,"comment_id":132258243,"body_markdown":"@SotiriosDelimanolis sorry if I wasn&#39;t clear. I didn&#39;t expect ```Not Hello```. I just wondered how it work cuz the ```updateString()``` is called, however the ```globalString ``` &quot;not change&quot; at the end","body":"@SotiriosDelimanolis sorry if I wasn&#39;t clear. I didn&#39;t expect <code>Not Hello</code>. I just wondered how it work cuz the <code>updateString()</code> is called, however the <code>globalString </code> &quot;not change&quot; at the end"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672275519,"creation_date":1672275519,"answer_id":74946328,"question_id":74946280,"body_markdown":"The concat operation evaluates `globalString` before the update happens. Essentially, it translates to this:\r\n\r\n    String part1 = globalString; // Hello\r\n    String part2 = Optional.of(otherString).orElse(updateString()); // Other\r\n    globalString = part1 + part2; // HelloOther\r\n\r\nWhat happens to inside `updateString()` has no effect on the end result.","title":"String value in Optional is overwrite","body":"<p>The concat operation evaluates <code>globalString</code> before the update happens. Essentially, it translates to this:</p>\n<pre><code>String part1 = globalString; // Hello\nString part2 = Optional.of(otherString).orElse(updateString()); // Other\nglobalString = part1 + part2; // HelloOther\n</code></pre>\n<p>What happens to inside <code>updateString()</code> has no effect on the end result.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672275983,"creation_date":1672275602,"answer_id":74946330,"question_id":74946280,"body_markdown":"According to the [spec][1], this is what a compound assignment does at runtime. Relevant parts only (emphasis mine):\r\n\r\n&gt; If the left-hand operand expression is not an array access expression,\r\n&gt; then:\r\n&gt; \r\n&gt; - First, the left-hand operand is evaluated to produce a variable.\r\n&gt; \r\n&gt; - **the value of the left-hand operand is saved and then the right-hand operand is evaluated.**\r\n&gt; \r\n&gt; - the saved value of the left-hand variable and the value of the right-hand operand are used to perform the binary operation indicated\r\n&gt; by the compound assignment operator.\r\n&gt; \r\n&gt; - the result of the binary operation is converted to the type of the left-hand variable, and the result of the conversion is stored into\r\n&gt; the variable.\r\n\r\nAs you can see, the value of `globalString` before calling `updateString` is saved first, and only then is the RHS evaluated. It is not: RHS is evaluates, and then `globalString` is evaluated to see what the result should be appended to.\r\n\r\nIn general, evaluation in Java happens left to right, so even if you use a simple assignment, it still would not be your expected output:\r\n\r\n    globalString = globalString + Optional.of(otherString)\r\n        .orElse(updateString());\r\n\r\nThe second `globalString` is evaluated first. Then `updateString` is called, setting `globalString`. With both operands evaluated, `+` is evaluated to the string `HelloOther`, to which `globalString` is set to.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.26.2","title":"String value in Optional is overwrite","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-15.html#jls-15.26.2\" rel=\"nofollow noreferrer\">spec</a>, this is what a compound assignment does at runtime. Relevant parts only (emphasis mine):</p>\n<blockquote>\n<p>If the left-hand operand expression is not an array access expression,\nthen:</p>\n<ul>\n<li><p>First, the left-hand operand is evaluated to produce a variable.</p>\n</li>\n<li><p><strong>the value of the left-hand operand is saved and then the right-hand operand is evaluated.</strong></p>\n</li>\n<li><p>the saved value of the left-hand variable and the value of the right-hand operand are used to perform the binary operation indicated\nby the compound assignment operator.</p>\n</li>\n<li><p>the result of the binary operation is converted to the type of the left-hand variable, and the result of the conversion is stored into\nthe variable.</p>\n</li>\n</ul>\n</blockquote>\n<p>As you can see, the value of <code>globalString</code> before calling <code>updateString</code> is saved first, and only then is the RHS evaluated. It is not: RHS is evaluates, and then <code>globalString</code> is evaluated to see what the result should be appended to.</p>\n<p>In general, evaluation in Java happens left to right, so even if you use a simple assignment, it still would not be your expected output:</p>\n<pre><code>globalString = globalString + Optional.of(otherString)\n    .orElse(updateString());\n</code></pre>\n<p>The second <code>globalString</code> is evaluated first. Then <code>updateString</code> is called, setting <code>globalString</code>. With both operands evaluated, <code>+</code> is evaluated to the string <code>HelloOther</code>, to which <code>globalString</code> is set to.</p>\n"}],"owner":{"account_id":8149648,"reputation":236,"user_id":6137134,"accept_rate":89,"display_name":"Ale"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1672275983,"creation_date":1672274776,"question_id":74946280,"body_markdown":"I&#39;ve been working with Optional in Java. However, in one of my tests, I realized something odd had happened. When I execute the following code:\r\n\r\n```\r\nimport java.util.Optional;\r\n\r\npublic class OptionalTest {\r\n    static String globalString = &quot;Hello&quot;;\r\n\r\n    public static void main(String... optional) {\r\n        String otherString = &quot;Other&quot;;\r\n        globalString += Optional.of(otherString)\r\n            .orElse(updateString());\r\n        System.out.println(globalString);\r\n    }\r\n\r\n    static String updateString() {\r\n        System.out.println(&quot;It&#39;s called&quot;);\r\n        globalString = &quot;Not Hello&quot;;\r\n        return &quot;Another&quot;;\r\n    }\r\n}\r\n```\r\n\r\nI got the following result:\r\n```\r\nIt&#39;s called\r\nHelloOther\r\n```\r\nInstead of:\r\n```\r\nIt&#39;s called\r\nNot HelloOther\r\n```\r\nI can&#39;t figure out how if the ```updateString()``` method is called, the ```globalString``` has the same initial value when the Optional result is resolved.\r\n\r\nCould someone explain this behavior? Thanx in advance.","title":"String value in Optional is overwrite","body":"<p>I've been working with Optional in Java. However, in one of my tests, I realized something odd had happened. When I execute the following code:</p>\n<pre><code>import java.util.Optional;\n\npublic class OptionalTest {\n    static String globalString = &quot;Hello&quot;;\n\n    public static void main(String... optional) {\n        String otherString = &quot;Other&quot;;\n        globalString += Optional.of(otherString)\n            .orElse(updateString());\n        System.out.println(globalString);\n    }\n\n    static String updateString() {\n        System.out.println(&quot;It's called&quot;);\n        globalString = &quot;Not Hello&quot;;\n        return &quot;Another&quot;;\n    }\n}\n</code></pre>\n<p>I got the following result:</p>\n<pre><code>It's called\nHelloOther\n</code></pre>\n<p>Instead of:</p>\n<pre><code>It's called\nNot HelloOther\n</code></pre>\n<p>I can't figure out how if the <code>updateString()</code> method is called, the <code>globalString</code> has the same initial value when the Optional result is resolved.</p>\n<p>Could someone explain this behavior? Thanx in advance.</p>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":7,"creation_date":1592269050,"post_id":62399320,"comment_id":110358882,"body_markdown":"What you have written is already efficient. Also, this is not the right example for the usage of streams.","body":"What you have written is already efficient. Also, this is not the right example for the usage of streams."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":1,"creation_date":1592269173,"post_id":62399320,"comment_id":110358927,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1592269446,"post_id":62399320,"comment_id":110358996,"body_markdown":"is there an `else` part to the above as well? are you looking for any specific ordering?","body":"is there an <code>else</code> part to the above as well? are you looking for any specific ordering?"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1592296362,"post_id":62399789,"comment_id":110367048,"body_markdown":"The alternative would be `int index = str1.indexOf(&quot;C&quot;); if(index &gt; 0) str1.add(0, str1.remove(index));` That would void actions when the element is already the first and further retain the object identity of the contained element, for cases where it matters. Avoiding the double copying is not so hard. The statement is `Collections.rotate(str1.subList(0, str1.indexOf(&quot;C&quot;)+1), 1);` which does already handle the cases that the element is at the first position or absent.","body":"The alternative would be <code>int index = str1.indexOf(&quot;C&quot;); if(index &gt; 0) str1.add(0, str1.remove(index));</code> That would void actions when the element is already the first and further retain the object identity of the contained element, for cases where it matters. Avoiding the double copying is not so hard. The statement is <code>Collections.rotate(str1.subList(0, str1.indexOf(&quot;C&quot;)+1), 1);</code> which does already handle the cases that the element is at the first position or absent."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672275578,"creation_date":1592272619,"answer_id":62399789,"question_id":62399320,"body_markdown":"You could simplify:\r\n\r\n    int index = str1.indexOf(&quot;C&quot;);\r\n\r\n    if ((str1.contains(&quot;C&quot;)) &amp;&amp; (index != 0)) {\r\n        str1.remove(&quot;C&quot;);\r\n        str1.add(0, &quot;C&quot;);\r\n    }\r\n\r\nas \r\n\r\n    if (str1.remove(&quot;C&quot;)) { \r\n        str1.add(0, &quot;C&quot;); \r\n    }\r\n\r\n(Check the javadoc for `remove(Object)`.  It removes the first instance of the object that it finds, and returns `true` if an object was removed.  There is no need to find and test the object&#39;s index.)\r\n\r\nAt this point, you should probably stop.\r\n\r\n  - A small gotcha is that if `&quot;C&quot;` is the first element, you are removing it and adding it again ... unnecessarily.  You could deal with this as follows:\r\n\r\n        int index = str1.index(&quot;C&quot;);\r\n        if (index &gt; 1) {\r\n            str1.add(0, str1.remove(index));\r\n        }\r\n\r\n  - You could optimize further to avoid the double copying of a remove and an add.  For example (thanks to @Holger):\r\n\r\n        Collections.rotate(str1.subList(0, str1.indexOf(&quot;C&quot;) + 1), 1);\r\n\r\n    (But if you say that is simple, a regular Java programmer will probably throw something at you.  It requires careful reading of the javadocs to understand that this is actually efficient.)\r\n   \r\n\r\n  - You *could* rewrite this as 2 stream operations but there is no point doing it.  Both operations (remove first and insert into stream) are inefficient and tricky to implement.  Tricky to implement means hard to read.  \r\n\r\nNote: Using streams to solve every problem is not a sensible goal.  The *main point* of streams is to express complex transformations in a way that is easier to read and maintain than conventional loops.  If the only stream-based solutions to a problem are actually *harder* to read and maintain than the non-stream solutions, that is clear evidence that you shouldn&#39;t be trying to use streams to solve *that* problem!\r\n\r\n\r\n------------\r\n\r\nNote that the above solutions are for the problem *as stated*.  However if object identity for the elements actually matters, the only one of the solutions above that actually *moves* an object to the start of the list is the solution that uses `rotate`.\r\n\r\n    ","title":"Move an element in the list to the first position using Stream","body":"<p>You could simplify:</p>\n<pre><code>int index = str1.indexOf(&quot;C&quot;);\n\nif ((str1.contains(&quot;C&quot;)) &amp;&amp; (index != 0)) {\n    str1.remove(&quot;C&quot;);\n    str1.add(0, &quot;C&quot;);\n}\n</code></pre>\n<p>as</p>\n<pre><code>if (str1.remove(&quot;C&quot;)) { \n    str1.add(0, &quot;C&quot;); \n}\n</code></pre>\n<p>(Check the javadoc for <code>remove(Object)</code>.  It removes the first instance of the object that it finds, and returns <code>true</code> if an object was removed.  There is no need to find and test the object's index.)</p>\n<p>At this point, you should probably stop.</p>\n<ul>\n<li><p>A small gotcha is that if <code>&quot;C&quot;</code> is the first element, you are removing it and adding it again ... unnecessarily.  You could deal with this as follows:</p>\n<pre><code>int index = str1.index(&quot;C&quot;);\nif (index &gt; 1) {\n    str1.add(0, str1.remove(index));\n}\n</code></pre>\n</li>\n<li><p>You could optimize further to avoid the double copying of a remove and an add.  For example (thanks to @Holger):</p>\n<pre><code>Collections.rotate(str1.subList(0, str1.indexOf(&quot;C&quot;) + 1), 1);\n</code></pre>\n<p>(But if you say that is simple, a regular Java programmer will probably throw something at you.  It requires careful reading of the javadocs to understand that this is actually efficient.)</p>\n</li>\n<li><p>You <em>could</em> rewrite this as 2 stream operations but there is no point doing it.  Both operations (remove first and insert into stream) are inefficient and tricky to implement.  Tricky to implement means hard to read.</p>\n</li>\n</ul>\n<p>Note: Using streams to solve every problem is not a sensible goal.  The <em>main point</em> of streams is to express complex transformations in a way that is easier to read and maintain than conventional loops.  If the only stream-based solutions to a problem are actually <em>harder</em> to read and maintain than the non-stream solutions, that is clear evidence that you shouldn't be trying to use streams to solve <em>that</em> problem!</p>\n<hr />\n<p>Note that the above solutions are for the problem <em>as stated</em>.  However if object identity for the elements actually matters, the only one of the solutions above that actually <em>moves</em> an object to the start of the list is the solution that uses <code>rotate</code>.</p>\n"}],"owner":{"account_id":15439270,"reputation":23,"user_id":11138391,"display_name":"vss2h"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1079,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1672275578,"creation_date":1592268734,"question_id":62399320,"body_markdown":"I have written this piece of code and I would like to convert it to `stream` and while keeping the same behavior.  \r\n\r\n    List&lt;String&gt; str1 = new ArrayList&lt;String&gt;();\r\n    str1.add(&quot;A&quot;);\r\n    str1.add(&quot;B&quot;);\r\n    str1.add(&quot;C&quot;);\r\n    str1.add(&quot;D&quot;);\r\n    \r\n    int index = str1.indexOf(&quot;C&quot;);\r\n    \r\n    if ((str1.contains(&quot;C&quot;)) &amp;&amp; (index != 0)) {\r\n        str1.remove(&quot;C&quot;);\r\n        str1.add(0, &quot;C&quot;);\r\n    }","title":"Move an element in the list to the first position using Stream","body":"<p>I have written this piece of code and I would like to convert it to <code>stream</code> and while keeping the same behavior.  </p>\n\n<pre><code>List&lt;String&gt; str1 = new ArrayList&lt;String&gt;();\nstr1.add(\"A\");\nstr1.add(\"B\");\nstr1.add(\"C\");\nstr1.add(\"D\");\n\nint index = str1.indexOf(\"C\");\n\nif ((str1.contains(\"C\")) &amp;&amp; (index != 0)) {\n    str1.remove(\"C\");\n    str1.add(0, \"C\");\n}\n</code></pre>\n"},{"tags":["java","graphics","2d"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1671812040,"post_id":74901675,"comment_id":132182243,"body_markdown":"JOGL (OGL) is a much better platform for game development","body":"JOGL (OGL) is a much better platform for game development"},{"owner":{"account_id":25345436,"reputation":11,"user_id":19163192,"display_name":"Reyni"},"score":0,"creation_date":1671812186,"post_id":74901675,"comment_id":132182295,"body_markdown":"I&#39;m interested only in learning Java, Thanks","body":"I&#39;m interested only in learning Java, Thanks"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671813127,"post_id":74901675,"comment_id":132182573,"body_markdown":"You need to use a Swing Timer to schedule the animation. See: https://stackoverflow.com/a/54028681/131872 for an example to get you started.","body":"You need to use a Swing Timer to schedule the animation. See: <a href=\"https://stackoverflow.com/a/54028681/131872\">stackoverflow.com/a/54028681/131872</a> for an example to get you started."},{"owner":{"account_id":25345436,"reputation":11,"user_id":19163192,"display_name":"Reyni"},"score":0,"creation_date":1671813262,"post_id":74901675,"comment_id":132182602,"body_markdown":"Sorry, but how it will help me? Could you explain this?","body":"Sorry, but how it will help me? Could you explain this?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671814575,"post_id":74901675,"comment_id":132182935,"body_markdown":"You haven&#39;t posted any code that *calls* `draw()`. Btw, I don&#39;t think it&#39;s a good idea to have a method called `fire` that simply adds an element to a `List`","body":"You haven&#39;t posted any code that <i>calls</i> <code>draw()</code>. Btw, I don&#39;t think it&#39;s a good idea to have a method called <code>fire</code> that simply adds an element to a <code>List</code>"},{"owner":{"account_id":25345436,"reputation":11,"user_id":19163192,"display_name":"Reyni"},"score":0,"creation_date":1671815826,"post_id":74901675,"comment_id":132183273,"body_markdown":"If you need code that calls that draw method, i&#39;m going to post it. And what about fire method? (What should i do instead?)","body":"If you need code that calls that draw method, i&#39;m going to post it. And what about fire method? (What should i do instead?)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671819380,"post_id":74901675,"comment_id":132184120,"body_markdown":"*how it will help me?* - it shows you how to iterate through an ArrayList and paint objects moving on the panel. The point if for you to understand how that code works and then implement changes in your code.","body":"<i>how it will help me?</i> - it shows you how to iterate through an ArrayList and paint objects moving on the panel. The point if for you to understand how that code works and then implement changes in your code."}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1671819598,"post_id":74902371,"comment_id":132184177,"body_markdown":"*You need to set your Graphics2D context with something like setColor(someColor) before your call to fillRect.* What would be wrong with the default? *Perhaps that context was set prior to the call to draw()?* Which call? - none is shown","body":"<i>You need to set your Graphics2D context with something like setColor(someColor) before your call to fillRect.</i> What would be wrong with the default? <i>Perhaps that context was set prior to the call to draw()?</i> Which call? - none is shown"}],"tags":[],"owner":{"account_id":9512052,"reputation":15,"user_id":7069685,"display_name":"Stu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672004760,"creation_date":1671816288,"answer_id":74902371,"question_id":74901675,"body_markdown":"Your call to fire should add the new `Missile` created to the missiles `ArrayList`. Why do you think it isn&#39;t being added? \r\n\r\nAlso, for drawing your missiles, you need to set your `Graphics2D` context with something like `setColor(someColor)` before your call to `fillRect`. Perhaps that context was set prior to the call to `draw()`?","title":"Can&#39;t Draw/Add image to the List in java","body":"<p>Your call to fire should add the new <code>Missile</code> created to the missiles <code>ArrayList</code>. Why do you think it isn't being added?</p>\n<p>Also, for drawing your missiles, you need to set your <code>Graphics2D</code> context with something like <code>setColor(someColor)</code> before your call to <code>fillRect</code>. Perhaps that context was set prior to the call to <code>draw()</code>?</p>\n"}],"owner":{"account_id":25345436,"reputation":11,"user_id":19163192,"display_name":"Reyni"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672275079,"creation_date":1671811604,"question_id":74901675,"body_markdown":"All code which is linked to ArrayList/List i have:\r\n\r\n\r\n\r\n```\r\npublic void draw(Graphics2D gImages) {\r\n    List missiles = aiShooter.getMissiles();\r\n\r\n    if(keyH.shooting) {\r\n        for(int i = 0; i &lt; missiles.size(); i++) {\r\n            Missile mis = (Missile) missiles.get(i);\r\n            System.out.println(&quot;Shot&quot;);\r\n            aiShooter.fire();\r\n            mis.move();\r\n            gImages.fillRect(mis.X, mis.Y, mis.Width, mis.Height);\r\n        }\r\n    }\r\n    gImages.fillRect(X2, Y2, Width, Height);\r\n    gImages.fillRect(X, Y, Width, Height);\r\n}\r\n```\r\n```\r\npackage testGames2;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class AIShooter {\r\n\r\n    public static int X = 200;\r\n    public static int Y = 50;\r\n    public static int Width = 10;\r\n    public static int Height = 3;\r\n    List&lt;Missile&gt; missiles new ArrayList&lt;&gt;();\r\n\r\n    public List&lt;Missile&gt; getMissiles() {\r\n        return missiles;\r\n    }\r\n\r\n    public void fire() {\r\n        missiles.add(new Missile(Missile.X, Missile.Y, Missile.Width, Missile.Height));\r\n    }\r\n}\r\n\r\n```\r\n```\r\n\r\npackage testGames2;\r\n\r\npublic class Missile {\r\n\r\n    public static int X = AIShooter.X;\r\n    public static int Y = AIShooter.Y;\r\n    public static int Width = 10;\r\n    public static int Height = 3;\r\n\r\n    public Missile(int X, int Y, int Width, int Height) {\r\n        this.X = X;\r\n        this.Y = Y;\r\n        this.Width = Width;\r\n        this.Height = Height;\r\n    }\r\n\r\n    public void move() {\r\n        X += 10;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI either Can&#39;t add Missile to List, or rectangle(Missile) doesn&#39;t drawing.\r\nI tried several methods, but none of them worked.\r\nIf more code is needed, just tell me.\r\nAny help is truly Appreciated!\r\n","title":"Can&#39;t Draw/Add image to the List in java","body":"<p>All code which is linked to ArrayList/List i have:</p>\n<pre><code>public void draw(Graphics2D gImages) {\n    List missiles = aiShooter.getMissiles();\n\n    if(keyH.shooting) {\n        for(int i = 0; i &lt; missiles.size(); i++) {\n            Missile mis = (Missile) missiles.get(i);\n            System.out.println(&quot;Shot&quot;);\n            aiShooter.fire();\n            mis.move();\n            gImages.fillRect(mis.X, mis.Y, mis.Width, mis.Height);\n        }\n    }\n    gImages.fillRect(X2, Y2, Width, Height);\n    gImages.fillRect(X, Y, Width, Height);\n}\n</code></pre>\n<pre><code>package testGames2;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class AIShooter {\n\n    public static int X = 200;\n    public static int Y = 50;\n    public static int Width = 10;\n    public static int Height = 3;\n    List&lt;Missile&gt; missiles new ArrayList&lt;&gt;();\n\n    public List&lt;Missile&gt; getMissiles() {\n        return missiles;\n    }\n\n    public void fire() {\n        missiles.add(new Missile(Missile.X, Missile.Y, Missile.Width, Missile.Height));\n    }\n}\n\n</code></pre>\n<pre><code>\npackage testGames2;\n\npublic class Missile {\n\n    public static int X = AIShooter.X;\n    public static int Y = AIShooter.Y;\n    public static int Width = 10;\n    public static int Height = 3;\n\n    public Missile(int X, int Y, int Width, int Height) {\n        this.X = X;\n        this.Y = Y;\n        this.Width = Width;\n        this.Height = Height;\n    }\n\n    public void move() {\n        X += 10;\n    }\n\n}\n</code></pre>\n<p>I either Can't add Missile to List, or rectangle(Missile) doesn't drawing.\nI tried several methods, but none of them worked.\nIf more code is needed, just tell me.\nAny help is truly Appreciated!</p>\n"},{"tags":["java","spring-boot","spring-test","spring-bean"],"comments":[{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1549438688,"post_id":54548461,"comment_id":95897522,"body_markdown":"In your test you start the spring context, so its necessary to add the a Qualifier Bean. Why not leave the the MockBean annotations, its just a test class.","body":"In your test you start the spring context, so its necessary to add the a Qualifier Bean. Why not leave the the MockBean annotations, its just a test class."}],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1549553065,"creation_date":1549553065,"answer_id":54576636,"question_id":54548461,"body_markdown":"When declaring `@MockBean` at the class level, there is currently no support for providing a _qualifier_.\r\n\r\nIf you would like to have such support, I suggest you [request it in the Spring Boot issue tracker][1].\r\n\r\nOtherwise, you will need to continue declaring `@MockBean` on fields alongside `@Qualifier`.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues","title":"Create @MockBean with qualifier by annotating class?","body":"<p>When declaring <code>@MockBean</code> at the class level, there is currently no support for providing a <em>qualifier</em>.</p>\n\n<p>If you would like to have such support, I suggest you <a href=\"https://github.com/spring-projects/spring-boot/issues\" rel=\"noreferrer\">request it in the Spring Boot issue tracker</a>.</p>\n\n<p>Otherwise, you will need to continue declaring <code>@MockBean</code> on fields alongside <code>@Qualifier</code>.</p>\n"},{"comments":[{"owner":{"account_id":1763012,"reputation":1801,"user_id":1609570,"accept_rate":90,"display_name":"Arjun Sunil Kumar"},"score":1,"creation_date":1597774167,"post_id":54593265,"comment_id":112242053,"body_markdown":"Thanks you! You saved my day.","body":"Thanks you! You saved my day."},{"owner":{"account_id":4095273,"reputation":1557,"user_id":3362244,"accept_rate":60,"display_name":"teuber789"},"score":0,"creation_date":1627066259,"post_id":54593265,"comment_id":121066952,"body_markdown":"This should be the correct answer, because it addresses the question with an elegant solution.","body":"This should be the correct answer, because it addresses the question with an elegant solution."}],"tags":[],"owner":{"account_id":1653550,"reputation":11563,"user_id":1523648,"accept_rate":89,"display_name":"oberlies"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1549631805,"creation_date":1549631805,"answer_id":54593265,"question_id":54548461,"body_markdown":"If it is okay to move the mock definition completely out of the test class, you could also create the mocks in a separate `@Configuration` class:\r\n\r\n    @Configuration\r\n    public class MockConfiguration\r\n    {\r\n        @Bean @Qualifier(&quot;haha&quot;)\r\n        public IHaha ahaha() {\r\n            return Mockito.mock(IHaha.class);\r\n        }\r\n        @Bean @Qualifier(&quot;hoho&quot;)\r\n        public IHaha ohoho() {\r\n            return Mockito.mock(IHaha.class);\r\n        }\r\n    }","title":"Create @MockBean with qualifier by annotating class?","body":"<p>If it is okay to move the mock definition completely out of the test class, you could also create the mocks in a separate <code>@Configuration</code> class:</p>\n\n<pre><code>@Configuration\npublic class MockConfiguration\n{\n    @Bean @Qualifier(\"haha\")\n    public IHaha ahaha() {\n        return Mockito.mock(IHaha.class);\n    }\n    @Bean @Qualifier(\"hoho\")\n    public IHaha ohoho() {\n        return Mockito.mock(IHaha.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1763012,"reputation":1801,"user_id":1609570,"accept_rate":90,"display_name":"Arjun Sunil Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597774486,"creation_date":1597774486,"answer_id":63474395,"question_id":54548461,"body_markdown":"I had a similar requirement of injecting **mocked** service beans with **@Order** annotation. I also needed to verify the invocation count of service functions. Below is my implementation. It might help someone.\r\n\r\n```java\r\nimport static org.mockito.Mockito.times;\r\nimport static org.mockito.Mockito.verify;\r\nimport static org.mockito.Mockito.when;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.Mockito;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\npublic class ServiceNameTest {\r\n\r\n  @Autowired private ServiceName serviceName;\r\n\r\n  // Important: Used to reset interaction count of our static \r\n  // bean objects before every test.\r\n  @Before\r\n  public void reset_mockito_interactions() {\r\n    Mockito.clearInvocations(MockServicesConfig.bean1);\r\n    Mockito.clearInvocations(MockServicesConfig.bean2);\r\n  }\r\n\r\n  @Configuration\r\n  public static class MockServicesConfig {\r\n\r\n    public static InterfaceName bean1;\r\n    public static InterfaceName bean2;\r\n\r\n    @Bean\r\n    @Order(1)\r\n    public InterfaceName bean1() {\r\n      bean1 = Mockito.mock(InterfaceName.class);\r\n      // Common when() stubbing\r\n      return bean1;\r\n    }\r\n\r\n    @Bean\r\n    @Order(2)\r\n    public InterfaceName vmpAdapter() {\r\n      bean2 = Mockito.mock(InterfaceName.class);\r\n      // Common when() stubbing\r\n      return bean2;\r\n    }\r\n  }\r\n\r\n\r\n  @Test\r\n  public void test_functionName_mock_invocation1() {\r\n\r\n    // Arrange --&gt; Act --&gt; Assert\r\n\r\n    // nullify other functions custom when() stub.\r\n    // updating this functions custom when() stub.\r\n\r\n    verify(MockServicesConfig.bean1, times(1)).functionName(&quot;&quot;);\r\n  }\r\n\r\n  @Test\r\n  public void test_functionName_mock_invocation2() {\r\n\r\n    // Arrange --&gt; Act --&gt; Assert\r\n\r\n    // nullify other functions custom when() stub.\r\n    // updating this functions custom when() stub.\r\n\r\n    verify(MockServicesConfig.bean1, times(1)).functionName(&quot;&quot;);\r\n  }\r\n\r\n\r\n}\r\n\r\n```\r\n","title":"Create @MockBean with qualifier by annotating class?","body":"<p>I had a similar requirement of injecting <strong>mocked</strong> service beans with <strong>@Order</strong> annotation. I also needed to verify the invocation count of service functions. Below is my implementation. It might help someone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.Mockito.when;\n\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mockito;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class ServiceNameTest {\n\n  @Autowired private ServiceName serviceName;\n\n  // Important: Used to reset interaction count of our static \n  // bean objects before every test.\n  @Before\n  public void reset_mockito_interactions() {\n    Mockito.clearInvocations(MockServicesConfig.bean1);\n    Mockito.clearInvocations(MockServicesConfig.bean2);\n  }\n\n  @Configuration\n  public static class MockServicesConfig {\n\n    public static InterfaceName bean1;\n    public static InterfaceName bean2;\n\n    @Bean\n    @Order(1)\n    public InterfaceName bean1() {\n      bean1 = Mockito.mock(InterfaceName.class);\n      // Common when() stubbing\n      return bean1;\n    }\n\n    @Bean\n    @Order(2)\n    public InterfaceName vmpAdapter() {\n      bean2 = Mockito.mock(InterfaceName.class);\n      // Common when() stubbing\n      return bean2;\n    }\n  }\n\n\n  @Test\n  public void test_functionName_mock_invocation1() {\n\n    // Arrange --&gt; Act --&gt; Assert\n\n    // nullify other functions custom when() stub.\n    // updating this functions custom when() stub.\n\n    verify(MockServicesConfig.bean1, times(1)).functionName(&quot;&quot;);\n  }\n\n  @Test\n  public void test_functionName_mock_invocation2() {\n\n    // Arrange --&gt; Act --&gt; Assert\n\n    // nullify other functions custom when() stub.\n    // updating this functions custom when() stub.\n\n    verify(MockServicesConfig.bean1, times(1)).functionName(&quot;&quot;);\n  }\n\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4695391,"reputation":3568,"user_id":3800377,"accept_rate":89,"display_name":"Vladislav Kysliy"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1615385679,"creation_date":1615385679,"answer_id":66566522,"question_id":54548461,"body_markdown":"Because using annotation `@Qualifier` means choose bean by name, so you can set up a name for a mock with code like this:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @ContextConfiguration(classes = {JsonMapperConfig.class})\r\n    public class IntegrationFlowTest {\r\n    \r\n        @MockBean(name = &quot;s3MessageRepository&quot;)\r\n        private S3Repository s3MessageRepository;\r\n    \r\n    // etc","title":"Create @MockBean with qualifier by annotating class?","body":"<p>Because using annotation <code>@Qualifier</code> means choose bean by name, so you can set up a name for a mock with code like this:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = {JsonMapperConfig.class})\npublic class IntegrationFlowTest {\n\n    @MockBean(name = &quot;s3MessageRepository&quot;)\n    private S3Repository s3MessageRepository;\n\n// etc\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12243278,"reputation":762,"user_id":10275600,"display_name":"Shtefan"},"score":1,"creation_date":1691642042,"post_id":74946287,"comment_id":135519657,"body_markdown":"It works as needed. Thanks a lot.","body":"It works as needed. Thanks a lot."}],"tags":[],"owner":{"account_id":2170392,"reputation":631,"user_id":1922558,"display_name":"Kevin Guanche Darias"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672274815,"creation_date":1672274815,"answer_id":74946287,"question_id":54548461,"body_markdown":"This should now work\r\n\r\n```java\r\n@SpringBootTest(\r\n        classes = Some.class\r\n)\r\n@MockBean(name = BEAN_NAME, classes = TheBeanClass.class)\r\n@MockBean(name = BEAN_NAME_2, classes = TheBeanClass.class)\r\nclass SomeTest {\r\n\r\n    private final Some some;\r\n\r\n    @Autowired\r\n    SomeTest(Some some)  {\r\n        this.some = some;\r\n    }\r\n\r\n}\r\n```\r\n\r\nPlease note, if you need to use any of the mocked beans, you will have to put the @Qualifier in the constructor, for example\r\n\r\n```java\r\n    private final TheBeanClass theBeanclass;\r\n    private final Some some;\r\n\r\n    @Autowired\r\n    SomeTest(Some some, @Qualifier(BEAN_NAME) TheBeanClass theBeanClass)  {\r\n        this.some = some;\r\n        this.theBeanClass = theBeanClass;\r\n    }\r\n```","title":"Create @MockBean with qualifier by annotating class?","body":"<p>This should now work</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(\n        classes = Some.class\n)\n@MockBean(name = BEAN_NAME, classes = TheBeanClass.class)\n@MockBean(name = BEAN_NAME_2, classes = TheBeanClass.class)\nclass SomeTest {\n\n    private final Some some;\n\n    @Autowired\n    SomeTest(Some some)  {\n        this.some = some;\n    }\n\n}\n</code></pre>\n<p>Please note, if you need to use any of the mocked beans, you will have to put the @Qualifier in the constructor, for example</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private final TheBeanClass theBeanclass;\n    private final Some some;\n\n    @Autowired\n    SomeTest(Some some, @Qualifier(BEAN_NAME) TheBeanClass theBeanClass)  {\n        this.some = some;\n        this.theBeanClass = theBeanClass;\n    }\n</code></pre>\n"}],"owner":{"account_id":3590738,"reputation":2981,"user_id":2996867,"accept_rate":86,"display_name":"maslick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24263,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":54576636,"answer_count":5,"score":18,"last_activity_date":1672274815,"creation_date":1549437688,"question_id":54548461,"body_markdown":"In my Spring Boot test I&#39;m using 2 mock beans with different qualifiers:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    class HohoTest {\r\n        @MockBean @Qualifier(&quot;haha&quot;) IHaha ahaha;\r\n        @MockBean @Qualifier(&quot;hoho&quot;) IHaha ohoho;\r\n    }\r\n\r\nSince I&#39;m not using these beans explicitly, I would rather move them away from the class body, as the ``@MockBean`` annotation is now repeatable:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @MockBean(IHaha.class)\r\n    @MockBean(IHaha.class)\r\n    class HohoTest {}\r\n\r\nHowever, I need to pass in a qualifier as well, since they have the same type. Any idea on how I can achieve that?\r\n","title":"Create @MockBean with qualifier by annotating class?","body":"<p>In my Spring Boot test I'm using 2 mock beans with different qualifiers:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\nclass HohoTest {\n    @MockBean @Qualifier(\"haha\") IHaha ahaha;\n    @MockBean @Qualifier(\"hoho\") IHaha ohoho;\n}\n</code></pre>\n\n<p>Since I'm not using these beans explicitly, I would rather move them away from the class body, as the <code>@MockBean</code> annotation is now repeatable:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@MockBean(IHaha.class)\n@MockBean(IHaha.class)\nclass HohoTest {}\n</code></pre>\n\n<p>However, I need to pass in a qualifier as well, since they have the same type. Any idea on how I can achieve that?</p>\n"},{"tags":["java","ontouchlistener","motionevent"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1670466806,"post_id":74724861,"comment_id":131884440,"body_markdown":"Does it crash as soon as you run it, or when you click? What is the error output?","body":"Does it crash as soon as you run it, or when you click? What is the error output?"},{"owner":{"account_id":27184039,"reputation":35,"user_id":20718777,"display_name":"Binbows"},"score":0,"creation_date":1670467444,"post_id":74724861,"comment_id":131884508,"body_markdown":"It builds successfully, but crashes as soon as I press the button.   E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.clickcounter, PID: 22459\n    android.content.res.Resources$NotFoundException: String resource ID #0x1\n        at android.content.res.Resources.getText(Resources.java:367)\n        at android.widget.TextView.setText(TextView.java:6370)","body":"It builds successfully, but crashes as soon as I press the button.   E/AndroidRuntime: FATAL EXCEPTION: main     Process: com.example.clickcounter, PID: 22459     android.content.res.Resources$NotFoundException: String resource ID #0x1         at android.content.res.Resources.getText(Resources.java:367)         at android.widget.TextView.setText(TextView.java:6370)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670467515,"post_id":74724861,"comment_id":131884514,"body_markdown":"What is the error output?","body":"What is the error output?"},{"owner":{"account_id":27184039,"reputation":35,"user_id":20718777,"display_name":"Binbows"},"score":0,"creation_date":1670467531,"post_id":74724861,"comment_id":131884516,"body_markdown":"There was more, but I couldn&#39;t fit it in the comment box.","body":"There was more, but I couldn&#39;t fit it in the comment box."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670467554,"post_id":74724861,"comment_id":131884521,"body_markdown":"You can edit your question.","body":"You can edit your question."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670470995,"post_id":74724861,"comment_id":131884930,"body_markdown":"See https://developer.android.com/reference/android/widget/TextView#setText(int)","body":"See <a href=\"https://developer.android.com/reference/android/widget/TextView#setText(int)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/widget/&hellip;</a>"},{"owner":{"account_id":27184039,"reputation":35,"user_id":20718777,"display_name":"Binbows"},"score":0,"creation_date":1672271422,"post_id":74724861,"comment_id":132257147,"body_markdown":"Yeah, that was the problem.  I should have used String.valueOf.","body":"Yeah, that was the problem.  I should have used String.valueOf."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1672273987,"post_id":74724861,"comment_id":132257506,"body_markdown":"Glad it worked, I added it as an answer.","body":"Glad it worked, I added it as an answer."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1672274258,"post_id":74724861,"comment_id":132257553,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672273964,"creation_date":1672273964,"answer_id":74946211,"question_id":74724861,"body_markdown":"It looks like you called `textView.setText` with an integer instead of a string.\r\n\r\nIf you call `textView.setText(1)` you would get that error - you need to convert the integer to a string (e.g. with `String.valueOf` or similar code).\r\n\r\nWhen you pass an integer, it treats that as a string resource identifier and fails with a `ResourceNotFound` exception when it cannot find that resource.","title":"Why does this program crash when I try run it?","body":"<p>It looks like you called <code>textView.setText</code> with an integer instead of a string.</p>\n<p>If you call <code>textView.setText(1)</code> you would get that error - you need to convert the integer to a string (e.g. with <code>String.valueOf</code> or similar code).</p>\n<p>When you pass an integer, it treats that as a string resource identifier and fails with a <code>ResourceNotFound</code> exception when it cannot find that resource.</p>\n"}],"owner":{"account_id":27184039,"reputation":35,"user_id":20718777,"display_name":"Binbows"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1672273964,"creation_date":1670466460,"question_id":74724861,"body_markdown":"I have a basic understanding of Java, but am completely new to Android Studio.  I tried making a program that increases a counter when a button is held down.  I based it on two bits of code I found (one for a simple click counter and one that used onClickListener).  Studio doesn&#39;t highlight any errors in the code, but the program crashes when I run it on the emulator.\r\n\r\n\r\nCan someone tell me where I&#39;ve gone wrong?\r\n\r\n\r\nThanks\r\n\r\nHere is the xml code\r\n\r\n\r\n    ```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;96dp&quot;\r\n            android:onClick=&quot;onClick&quot;\r\n            android:text=&quot;Button&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;TextView&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.524&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            tools:layout_editor_absoluteY=&quot;314dp&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    ```\r\n    \r\n    \r\n    Here is the MainActivity code\r\n    \r\n    \r\n    ```\r\n    package com.example.clickcounter;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        int numberOfClicks = 0;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    \r\n        public void onClick (View view){\r\n            TextView myText = findViewById(R.id.textView);\r\n    \r\n            findViewById(R.id.button).setOnTouchListener(new View.OnTouchListener() {\r\n                @Override\r\n                public boolean onTouch(View view, MotionEvent mEvent) {\r\n                    if (mEvent.getAction() == MotionEvent.ACTION_DOWN)\r\n                        numberOfClicks++;\r\n                    myText.setText(numberOfClicks);\r\n                    return false;\r\n                }\r\n    \r\n    \r\n            });\r\n    \r\n    \r\n        }\r\n    }\r\n    ```\r\n\r\nI tried making a counter that increases when a button is held down.  I started with a click counter, which worked, but ran into problems when I modified the code to increase the counter when the button was held instead of clicked.  The program simply crashed thereafter.   \r\n\r\n\r\nThe error output was\r\n\r\n\r\n    D/AndroidRuntime: Shutting down VM\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.example.clickcounter, PID: 22459\r\n        android.content.res.Resources$NotFoundException: String resource ID #0x1\r\n            at android.content.res.Resources.getText(Resources.java:367)\r\n            at android.widget.TextView.setText(TextView.java:6370)\r\n            at com.example.clickcounter.MainActivity$1.onTouch(MainActivity.java:29)\r\n            at android.view.View.dispatchTouchEvent(View.java:13411)\r\n            at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3060)\r\n            at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2698)\r\n            at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3060)\r\n            at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2698)\r\n            at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3060)\r\n            at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2698)\r\n            at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3060)\r\n            at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2698)\r\n            at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3060)\r\n            at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2698)\r\n            at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3060)\r\n            at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2698)\r\n            at com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:465)\r\n            at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1849)\r\n            at android.app.Activity.dispatchTouchEvent(Activity.java:3993)\r\n            at androidx.appcompat.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:70)\r\n            at com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:423)\r\n            at android.view.View.dispatchPointerEvent(View.java:13674)\r\n            at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:5482)\r\n            at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:5285)\r\n            at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4788)\r\n            at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4841)\r\n            at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4807)\r\n            at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4947)\r\n            at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4815)\r\n            at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:5004)\r\n            at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4788)\r\n            at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4841)\r\n            at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4807)\r\n            at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4815)\r\n            at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4788)\r\n            at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:7505)\r\n            at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:7474)\r\n            at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:7435)\r\n            at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7630)\r\n            at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:188)\r\n            at android.os.MessageQueue.nativePollOnce(Native Method)\r\n            at android.os.MessageQueue.next(MessageQueue.java:336)\r\n            at android.os.Looper.loop(Looper.java:174)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n    I/Process: Sending signal. PID: 22459 SIG: 9\r\n\r\n","title":"Why does this program crash when I try run it?","body":"<p>I have a basic understanding of Java, but am completely new to Android Studio.  I tried making a program that increases a counter when a button is held down.  I based it on two bits of code I found (one for a simple click counter and one that used onClickListener).  Studio doesn't highlight any errors in the code, but the program crashes when I run it on the emulator.</p>\n<p>Can someone tell me where I've gone wrong?</p>\n<p>Thanks</p>\n<p>Here is the xml code</p>\n<pre><code>```\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;96dp&quot;\n        android:onClick=&quot;onClick&quot;\n        android:text=&quot;Button&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;TextView&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.524&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        tools:layout_editor_absoluteY=&quot;314dp&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n```\n\n\nHere is the MainActivity code\n\n\n```\npackage com.example.clickcounter;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    int numberOfClicks = 0;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void onClick (View view){\n        TextView myText = findViewById(R.id.textView);\n\n        findViewById(R.id.button).setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View view, MotionEvent mEvent) {\n                if (mEvent.getAction() == MotionEvent.ACTION_DOWN)\n                    numberOfClicks++;\n                myText.setText(numberOfClicks);\n                return false;\n            }\n\n\n        });\n\n\n    }\n}\n```\n</code></pre>\n<p>I tried making a counter that increases when a button is held down.  I started with a click counter, which worked, but ran into problems when I modified the code to increase the counter when the button was held instead of clicked.  The program simply crashed thereafter.</p>\n<p>The error output was</p>\n<pre><code>D/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.clickcounter, PID: 22459\n    android.content.res.Resources$NotFoundException: String resource ID #0x1\n        at android.content.res.Resources.getText(Resources.java:367)\n        at android.widget.TextView.setText(TextView.java:6370)\n        at com.example.clickcounter.MainActivity$1.onTouch(MainActivity.java:29)\n        at android.view.View.dispatchTouchEvent(View.java:13411)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3060)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2698)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3060)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2698)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3060)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2698)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3060)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2698)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3060)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2698)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3060)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2698)\n        at com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:465)\n        at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1849)\n        at android.app.Activity.dispatchTouchEvent(Activity.java:3993)\n        at androidx.appcompat.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:70)\n        at com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:423)\n        at android.view.View.dispatchPointerEvent(View.java:13674)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:5482)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:5285)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4788)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4841)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4807)\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4947)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4815)\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:5004)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4788)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4841)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4807)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4815)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4788)\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:7505)\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:7474)\n        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:7435)\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:7630)\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:188)\n        at android.os.MessageQueue.nativePollOnce(Native Method)\n        at android.os.MessageQueue.next(MessageQueue.java:336)\n        at android.os.Looper.loop(Looper.java:174)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\nI/Process: Sending signal. PID: 22459 SIG: 9\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672113285,"post_id":74925538,"comment_id":132222885,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":10930114,"reputation":794,"user_id":8033562,"display_name":"Geoff Langenderfer"},"score":0,"creation_date":1672113404,"post_id":74925538,"comment_id":132222895,"body_markdown":"how do I decompile large.jar?","body":"how do I decompile large.jar?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1672113908,"post_id":74925538,"comment_id":132222938,"body_markdown":"Build your own version of jadx with that limit increased/removed.","body":"Build your own version of jadx with that limit increased/removed."},{"owner":{"account_id":14685418,"reputation":1,"user_id":11717481,"display_name":"user11717481"},"score":0,"creation_date":1672709670,"post_id":74925538,"comment_id":132332389,"body_markdown":"setting a limit for this type of task means affecting the memory and processing resources consumed by the computer, as indicated in the issues, it is advisable to do so and try various options since it is sometimes indeterminable because this type of files may contain errors that prevent its decompilation.","body":"setting a limit for this type of task means affecting the memory and processing resources consumed by the computer, as indicated in the issues, it is advisable to do so and try various options since it is sometimes indeterminable because this type of files may contain errors that prevent its decompilation."}],"answers":[{"tags":[],"owner":{"account_id":14685418,"reputation":1,"user_id":11717481,"display_name":"user11717481"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672273873,"creation_date":1672273873,"answer_id":74946204,"question_id":74925538,"body_markdown":"Check this [issue thread][1] that is similar to your case, where has closed and the last comment says to set heap memory limit to 16 GB (`-Xmx16`).\r\n\r\n&amp;nbsp;I think there are not concretly enough a correct solution that solve your task, but you can try different options to optimize a large `jar` file decompilation: \r\n\r\n* Edit `bin/jadx-gui` or `bin/jadx-gui.bat` (Windows) to change heap memory to 16 GB \r\n\r\n`DEFAULT_JVM_OPTS=&#39;&quot;-Xms128M&quot; &quot;-Xmx16g&quot; &quot;-Dawt.useSystemAAFontSettings=lcd&quot; &quot;-Dswing.aatext=true&quot; &quot;-XX:+UseG1GC&quot;&#39;`\r\n\r\n* On Windows inside `jadx-gui.exe` directory create a new text file **jadx-gui.l4j.ini** and write **`-Xmx16g`**\r\n\r\n\r\n  [1]: https://github.com/skylot/jadx/issues/371\r\n  [2]: https://github.com/skylot/jadx/wiki/Troubleshooting-Q&amp;A","title":"java.lang.IllegalStateException: Zip entries count limit exceeded: 100000","body":"<p>Check this <a href=\"https://github.com/skylot/jadx/issues/371\" rel=\"nofollow noreferrer\">issue thread</a> that is similar to your case, where has closed and the last comment says to set heap memory limit to 16 GB (<code>-Xmx16</code>).</p>\n<p> I think there are not concretly enough a correct solution that solve your task, but you can try different options to optimize a large <code>jar</code> file decompilation:</p>\n<ul>\n<li>Edit <code>bin/jadx-gui</code> or <code>bin/jadx-gui.bat</code> (Windows) to change heap memory to 16 GB</li>\n</ul>\n<p><code>DEFAULT_JVM_OPTS='&quot;-Xms128M&quot; &quot;-Xmx16g&quot; &quot;-Dawt.useSystemAAFontSettings=lcd&quot; &quot;-Dswing.aatext=true&quot; &quot;-XX:+UseG1GC&quot;'</code></p>\n<ul>\n<li>On Windows inside <code>jadx-gui.exe</code> directory create a new text file <strong>jadx-gui.l4j.ini</strong> and write <strong><code>-Xmx16g</code></strong></li>\n</ul>\n"}],"owner":{"account_id":10930114,"reputation":794,"user_id":8033562,"display_name":"Geoff Langenderfer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1672427585,"answer_count":1,"score":0,"last_activity_date":1672273873,"creation_date":1672112762,"question_id":74925538,"body_markdown":"I&#39;m trying to decompile a 528Mb jar, but it seems like it&#39;s too big:\r\n\r\n\r\n```\r\n$ du -sch build/*\r\n528M    large.jar\r\n528M    total\r\n\r\n$ jadx -d decompiled large.jar\r\nINFO  - loading ...\r\nERROR - Failed to process zip file: large.jar\r\njava.lang.RuntimeException: Failed to process zip file: large.jar\r\n        at jadx.api.plugins.utils.ZipSecurity.visitZipEntries(ZipSecurity.java:115)\r\n        at jadx.api.plugins.utils.ZipSecurity.readZipEntries(ZipSecurity.java:121)\r\n        at jadx.plugins.input.dex.DexFileLoader.collectDexFromZip(DexFileLoader.java:90)\r\n        at jadx.plugins.input.dex.DexFileLoader.load(DexFileLoader.java:73)\r\n        at jadx.plugins.input.dex.DexFileLoader.loadDexFromFile(DexFileLoader.java:50)\r\n        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n        at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)\r\n        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n        at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n        at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\r\n        at jadx.plugins.input.dex.DexFileLoader.collectDexFiles(DexFileLoader.java:45)\r\n        at jadx.plugins.input.dex.DexInputPlugin.loadFiles(DexInputPlugin.java:37)\r\n        at jadx.plugins.input.dex.DexInputPlugin.loadFiles(DexInputPlugin.java:33)\r\n        at jadx.api.JadxDecompiler.loadInputFiles(JadxDecompiler.java:133)\r\n        at jadx.api.JadxDecompiler.load(JadxDecompiler.java:117)\r\n        at jadx.cli.JadxCLI.processAndSave(JadxCLI.java:48)\r\n        at jadx.cli.JadxCLI.execute(JadxCLI.java:36)\r\n        at jadx.cli.JadxCLI.main(JadxCLI.java:20)\r\nCaused by: java.lang.IllegalStateException: Zip entries count limit exceeded: 100000, last entry: com/amazonaws/services/identitymanagement/model/UploadSigningCertificateResult.class\r\n        at jadx.api.plugins.utils.ZipSecurity.visitZipEntries(ZipSecurity.java:110)\r\n        ... 20 common frames omitted\r\nERROR - Failed to process zip file: large.jar\r\njava.lang.RuntimeException: Failed to process zip file: large.jar\r\n        at jadx.api.plugins.utils.ZipSecurity.visitZipEntries(ZipSecurity.java:115)\r\n        at jadx.api.plugins.utils.ZipSecurity.readZipEntries(ZipSecurity.java:121)\r\n        at jadx.plugins.input.java.JavaFileLoader.collectFromZip(JavaFileLoader.java:83)\r\n        at jadx.plugins.input.java.JavaFileLoader.loadReader(JavaFileLoader.java:63)\r\n        at jadx.plugins.input.java.JavaFileLoader.loadFromFile(JavaFileLoader.java:42)\r\n        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n        at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)\r\n        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n        at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n        at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\r\n        at jadx.plugins.input.java.JavaFileLoader.collectFiles(JavaFileLoader.java:37)\r\n        at jadx.plugins.input.java.JavaInputPlugin.loadClassFiles(JavaInputPlugin.java:32)\r\n        at jadx.plugins.input.java.JavaInputPlugin.loadFiles(JavaInputPlugin.java:28)\r\n        at jadx.api.JadxDecompiler.loadInputFiles(JadxDecompiler.java:133)\r\n        at jadx.api.JadxDecompiler.load(JadxDecompiler.java:117)\r\n        at jadx.cli.JadxCLI.processAndSave(JadxCLI.java:48)\r\n        at jadx.cli.JadxCLI.execute(JadxCLI.java:36)\r\n        at jadx.cli.JadxCLI.main(JadxCLI.java:20)\r\nCaused by: java.lang.IllegalStateException: Zip entries count limit exceeded: 100000, last entry: com/amazonaws/services/identitymanagement/model/UploadSigningCertificateResult.class\r\n        at jadx.api.plugins.utils.ZipSecurity.visitZipEntries(ZipSecurity.java:110)\r\n        ... 20 common frames omitted\r\nERROR - Failed to load class data for file: large.jar:META-INF/native/osx/libjansi.jnilib\r\njadx.plugins.input.java.utils.JavaClassParseException: Unknown constant pool tag: 0\r\n        at jadx.plugins.input.java.data.ConstantType.getTypeByTag(ConstantType.java:45)\r\n        at jadx.plugins.input.java.data.ClassOffsets.readConstPool(ClassOffsets.java:27)\r\n        at jadx.plugins.input.java.data.ClassOffsets.&lt;init&gt;(ClassOffsets.java:11)\r\n        at jadx.plugins.input.java.data.JavaClassData.&lt;init&gt;(JavaClassData.java:34)\r\n        at jadx.plugins.input.java.JavaClassReader.loadClassData(JavaClassReader.java:18)\r\n        at jadx.plugins.input.java.JavaLoadResult.visitClasses(JavaLoadResult.java:32)\r\n        at jadx.core.dex.nodes.RootNode.loadClasses(RootNode.java:92)\r\n        at jadx.api.JadxDecompiler.load(JadxDecompiler.java:120)\r\n        at jadx.cli.JadxCLI.processAndSave(JadxCLI.java:48)\r\n        at jadx.cli.JadxCLI.execute(JadxCLI.java:36)\r\n        at jadx.cli.JadxCLI.main(JadxCLI.java:20)\r\nERROR - Process error:\r\njava.lang.RuntimeException: Failed to process zip file: large.jar\r\n        at jadx.api.plugins.utils.ZipSecurity.visitZipEntries(ZipSecurity.java:115)\r\n        at jadx.api.ResourcesLoader.loadFile(ResourcesLoader.java:144)\r\n        at jadx.api.ResourcesLoader.load(ResourcesLoader.java:46)\r\n        at jadx.api.JadxDecompiler.getResources(JadxDecompiler.java:399)\r\n        at jadx.api.JadxDecompiler.load(JadxDecompiler.java:122)\r\n        at jadx.cli.JadxCLI.processAndSave(JadxCLI.java:48)\r\n        at jadx.cli.JadxCLI.execute(JadxCLI.java:36)\r\n        at jadx.cli.JadxCLI.main(JadxCLI.java:20)\r\nCaused by: java.lang.IllegalStateException: Zip entries count limit exceeded: 100000, last entry: com/amazonaws/services/identitymanagement/model/UploadSigningCertificateResult.class\r\n        at jadx.api.plugins.utils.ZipSecurity.visitZipEntries(ZipSecurity.java:110)\r\n        ... 7 common frames omitted\r\n\r\n$\r\n```\r\n\r\nI&#39;ve tried decompiling with [jadx](https://github.com/skylot/jadx/), but no luck\r\n\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\nadding more filler content\r\n","title":"java.lang.IllegalStateException: Zip entries count limit exceeded: 100000","body":"<p>I'm trying to decompile a 528Mb jar, but it seems like it's too big:</p>\n<pre><code>$ du -sch build/*\n528M    large.jar\n528M    total\n\n$ jadx -d decompiled large.jar\nINFO  - loading ...\nERROR - Failed to process zip file: large.jar\njava.lang.RuntimeException: Failed to process zip file: large.jar\n        at jadx.api.plugins.utils.ZipSecurity.visitZipEntries(ZipSecurity.java:115)\n        at jadx.api.plugins.utils.ZipSecurity.readZipEntries(ZipSecurity.java:121)\n        at jadx.plugins.input.dex.DexFileLoader.collectDexFromZip(DexFileLoader.java:90)\n        at jadx.plugins.input.dex.DexFileLoader.load(DexFileLoader.java:73)\n        at jadx.plugins.input.dex.DexFileLoader.loadDexFromFile(DexFileLoader.java:50)\n        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n        at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)\n        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n        at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n        at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n        at jadx.plugins.input.dex.DexFileLoader.collectDexFiles(DexFileLoader.java:45)\n        at jadx.plugins.input.dex.DexInputPlugin.loadFiles(DexInputPlugin.java:37)\n        at jadx.plugins.input.dex.DexInputPlugin.loadFiles(DexInputPlugin.java:33)\n        at jadx.api.JadxDecompiler.loadInputFiles(JadxDecompiler.java:133)\n        at jadx.api.JadxDecompiler.load(JadxDecompiler.java:117)\n        at jadx.cli.JadxCLI.processAndSave(JadxCLI.java:48)\n        at jadx.cli.JadxCLI.execute(JadxCLI.java:36)\n        at jadx.cli.JadxCLI.main(JadxCLI.java:20)\nCaused by: java.lang.IllegalStateException: Zip entries count limit exceeded: 100000, last entry: com/amazonaws/services/identitymanagement/model/UploadSigningCertificateResult.class\n        at jadx.api.plugins.utils.ZipSecurity.visitZipEntries(ZipSecurity.java:110)\n        ... 20 common frames omitted\nERROR - Failed to process zip file: large.jar\njava.lang.RuntimeException: Failed to process zip file: large.jar\n        at jadx.api.plugins.utils.ZipSecurity.visitZipEntries(ZipSecurity.java:115)\n        at jadx.api.plugins.utils.ZipSecurity.readZipEntries(ZipSecurity.java:121)\n        at jadx.plugins.input.java.JavaFileLoader.collectFromZip(JavaFileLoader.java:83)\n        at jadx.plugins.input.java.JavaFileLoader.loadReader(JavaFileLoader.java:63)\n        at jadx.plugins.input.java.JavaFileLoader.loadFromFile(JavaFileLoader.java:42)\n        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n        at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)\n        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n        at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n        at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:566)\n        at jadx.plugins.input.java.JavaFileLoader.collectFiles(JavaFileLoader.java:37)\n        at jadx.plugins.input.java.JavaInputPlugin.loadClassFiles(JavaInputPlugin.java:32)\n        at jadx.plugins.input.java.JavaInputPlugin.loadFiles(JavaInputPlugin.java:28)\n        at jadx.api.JadxDecompiler.loadInputFiles(JadxDecompiler.java:133)\n        at jadx.api.JadxDecompiler.load(JadxDecompiler.java:117)\n        at jadx.cli.JadxCLI.processAndSave(JadxCLI.java:48)\n        at jadx.cli.JadxCLI.execute(JadxCLI.java:36)\n        at jadx.cli.JadxCLI.main(JadxCLI.java:20)\nCaused by: java.lang.IllegalStateException: Zip entries count limit exceeded: 100000, last entry: com/amazonaws/services/identitymanagement/model/UploadSigningCertificateResult.class\n        at jadx.api.plugins.utils.ZipSecurity.visitZipEntries(ZipSecurity.java:110)\n        ... 20 common frames omitted\nERROR - Failed to load class data for file: large.jar:META-INF/native/osx/libjansi.jnilib\njadx.plugins.input.java.utils.JavaClassParseException: Unknown constant pool tag: 0\n        at jadx.plugins.input.java.data.ConstantType.getTypeByTag(ConstantType.java:45)\n        at jadx.plugins.input.java.data.ClassOffsets.readConstPool(ClassOffsets.java:27)\n        at jadx.plugins.input.java.data.ClassOffsets.&lt;init&gt;(ClassOffsets.java:11)\n        at jadx.plugins.input.java.data.JavaClassData.&lt;init&gt;(JavaClassData.java:34)\n        at jadx.plugins.input.java.JavaClassReader.loadClassData(JavaClassReader.java:18)\n        at jadx.plugins.input.java.JavaLoadResult.visitClasses(JavaLoadResult.java:32)\n        at jadx.core.dex.nodes.RootNode.loadClasses(RootNode.java:92)\n        at jadx.api.JadxDecompiler.load(JadxDecompiler.java:120)\n        at jadx.cli.JadxCLI.processAndSave(JadxCLI.java:48)\n        at jadx.cli.JadxCLI.execute(JadxCLI.java:36)\n        at jadx.cli.JadxCLI.main(JadxCLI.java:20)\nERROR - Process error:\njava.lang.RuntimeException: Failed to process zip file: large.jar\n        at jadx.api.plugins.utils.ZipSecurity.visitZipEntries(ZipSecurity.java:115)\n        at jadx.api.ResourcesLoader.loadFile(ResourcesLoader.java:144)\n        at jadx.api.ResourcesLoader.load(ResourcesLoader.java:46)\n        at jadx.api.JadxDecompiler.getResources(JadxDecompiler.java:399)\n        at jadx.api.JadxDecompiler.load(JadxDecompiler.java:122)\n        at jadx.cli.JadxCLI.processAndSave(JadxCLI.java:48)\n        at jadx.cli.JadxCLI.execute(JadxCLI.java:36)\n        at jadx.cli.JadxCLI.main(JadxCLI.java:20)\nCaused by: java.lang.IllegalStateException: Zip entries count limit exceeded: 100000, last entry: com/amazonaws/services/identitymanagement/model/UploadSigningCertificateResult.class\n        at jadx.api.plugins.utils.ZipSecurity.visitZipEntries(ZipSecurity.java:110)\n        ... 7 common frames omitted\n\n$\n</code></pre>\n<p>I've tried decompiling with <a href=\"https://github.com/skylot/jadx/\" rel=\"nofollow noreferrer\">jadx</a>, but no luck</p>\n<p>adding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content\nadding more filler content</p>\n"},{"tags":["java","eclipse","jakarta-ee","maven","maven-3"],"comments":[{"owner":{"account_id":179322,"reputation":8018,"user_id":411902,"display_name":"Rob Kielty"},"score":0,"creation_date":1341224485,"post_id":11291727,"comment_id":14854083,"body_markdown":"post your pom.xml or a  link to it using paste bin or gist on github","body":"post your pom.xml or a  link to it using paste bin or gist on github"},{"owner":{"account_id":32045,"reputation":26603,"user_id":88442,"accept_rate":54,"display_name":"J-16 SDiZ"},"score":0,"creation_date":1341224734,"post_id":11291727,"comment_id":14854167,"body_markdown":"You need JDK 1.5 installed and setup in preference-&gt;jre","body":"You need JDK 1.5 installed and setup in preference-&gt;jre"},{"owner":{"account_id":1214050,"reputation":1295,"user_id":1181998,"accept_rate":60,"display_name":"samira"},"score":0,"creation_date":1341224869,"post_id":11291727,"comment_id":14854217,"body_markdown":"@J-16SDiZ, i installed jdk 1.6","body":"@J-16SDiZ, i installed jdk 1.6"},{"owner":{"account_id":32045,"reputation":26603,"user_id":88442,"accept_rate":54,"display_name":"J-16 SDiZ"},"score":0,"creation_date":1341224929,"post_id":11291727,"comment_id":14854246,"body_markdown":"@sami, no. You need exactly 1.5 and make it default (in eclipse preference).","body":"@sami, no. You need exactly 1.5 and make it default (in eclipse preference)."},{"owner":{"account_id":1214050,"reputation":1295,"user_id":1181998,"accept_rate":60,"display_name":"samira"},"score":0,"creation_date":1341224995,"post_id":11291727,"comment_id":14854261,"body_markdown":"@J-16SDiZ, i marked jre7 in preference.","body":"@J-16SDiZ, i marked jre7 in preference."},{"owner":{"account_id":32045,"reputation":26603,"user_id":88442,"accept_rate":54,"display_name":"J-16 SDiZ"},"score":0,"creation_date":1341225057,"post_id":11291727,"comment_id":14854286,"body_markdown":"and jre7 don&#39;t match any facets profile. I told you to set it to jdk1.5","body":"and jre7 don&#39;t match any facets profile. I told you to set it to jdk1.5"},{"owner":{"account_id":1214050,"reputation":1295,"user_id":1181998,"accept_rate":60,"display_name":"samira"},"score":0,"creation_date":1341225450,"post_id":11291727,"comment_id":14854432,"body_markdown":"@J-16SDiZ, please the  above pic. is it true?","body":"@J-16SDiZ, please the  above pic. is it true?"}],"answers":[{"comments":[{"owner":{"account_id":1214050,"reputation":1295,"user_id":1181998,"accept_rate":60,"display_name":"samira"},"score":0,"creation_date":1341225932,"post_id":11291892,"comment_id":14854619,"body_markdown":"in priject facet java version is 1.6","body":"in priject facet java version is 1.6"},{"owner":{"account_id":433296,"reputation":7639,"user_id":818557,"accept_rate":80,"display_name":"Anuj Balan"},"score":0,"creation_date":1341227032,"post_id":11291892,"comment_id":14855046,"body_markdown":"So is it the one which has been installed in your system ?","body":"So is it the one which has been installed in your system ?"},{"owner":{"account_id":1214050,"reputation":1295,"user_id":1181998,"accept_rate":60,"display_name":"samira"},"score":0,"creation_date":1341227504,"post_id":11291892,"comment_id":14855203,"body_markdown":"i have installed jdk 7u1 in my system","body":"i have installed jdk 7u1 in my system"},{"owner":{"account_id":433296,"reputation":7639,"user_id":818557,"accept_rate":80,"display_name":"Anuj Balan"},"score":0,"creation_date":1341228061,"post_id":11291892,"comment_id":14855383,"body_markdown":"Since your project is having 1.6, you should have java 6 installed and not 7","body":"Since your project is having 1.6, you should have java 6 installed and not 7"}],"tags":[],"owner":{"account_id":433296,"reputation":7639,"user_id":818557,"accept_rate":80,"display_name":"Anuj Balan"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341224968,"creation_date":1341224968,"answer_id":11291892,"question_id":11291727,"body_markdown":"Please check the project facets concerned with your project(**Right click on the project/ Properties/ Project Facets/ Java**). \r\n\r\nIt is just that the java version which you have installed in your system, and the one which you are specifying in the project facets of your project, might not be matching.","title":"Java compiler level does not match","body":"<p>Please check the project facets concerned with your project(<strong>Right click on the project/ Properties/ Project Facets/ Java</strong>). </p>\n\n<p>It is just that the java version which you have installed in your system, and the one which you are specifying in the project facets of your project, might not be matching.</p>\n"},{"comments":[{"owner":{"account_id":918396,"reputation":1824,"user_id":950670,"accept_rate":83,"display_name":"Dmytro Chyzhykov"},"score":0,"creation_date":1341226273,"post_id":11291908,"comment_id":14854764,"body_markdown":"I&#39;ve edited my comment above. Please check your pom.xml&#39;s consistency running `mvn clean compile` at the root of your project. If it&#39;s OK you can choose an appropriate case for you either configure your project class path setting or delete eclipse&#39;s settings as mentioned in the comment above.","body":"I&#39;ve edited my comment above. Please check your pom.xml&#39;s consistency running <code>mvn clean compile</code> at the root of your project. If it&#39;s OK you can choose an appropriate case for you either configure your project class path setting or delete eclipse&#39;s settings as mentioned in the comment above."}],"tags":[],"owner":{"account_id":918396,"reputation":1824,"user_id":950670,"accept_rate":83,"display_name":"Dmytro Chyzhykov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1341226391,"creation_date":1341225034,"answer_id":11291908,"question_id":11291727,"body_markdown":"Just add the **build** section with the **maven-compiler-plugin** to your pom.xml.\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.6&lt;/source&gt;\r\n                    &lt;target&gt;1.6&lt;/target&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThen you should configure project&#39;s build path.\r\n\r\nOr you can just delete the project from eclipse workspace (without deleting from file system), remove eclipse&#39;s settings (.project, .classpath and .settings files and folders) from the project and re-import your project as an existent Maven project to your IDE. Eclipse will re-generate its settings properly.\r\n\r\n","title":"Java compiler level does not match","body":"<p>Just add the <strong>build</strong> section with the <strong>maven-compiler-plugin</strong> to your pom.xml.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.6&lt;/source&gt;\n                &lt;target&gt;1.6&lt;/target&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Then you should configure project's build path.</p>\n\n<p>Or you can just delete the project from eclipse workspace (without deleting from file system), remove eclipse's settings (.project, .classpath and .settings files and folders) from the project and re-import your project as an existent Maven project to your IDE. Eclipse will re-generate its settings properly.</p>\n"},{"tags":[],"owner":{"account_id":1438560,"reputation":1406,"user_id":1359391,"accept_rate":86,"display_name":"om39a"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341229695,"creation_date":1341229695,"answer_id":11293049,"question_id":11291727,"body_markdown":"Specify the java version for Maven in D:\\maven-2.2.1\\conf toolchains.xml \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;toolchains&gt;\r\n    &lt;toolchain&gt;\r\n    \t&lt;type&gt;jdk&lt;/type&gt;\r\n    \t&lt;provides&gt;\r\n    \t\t&lt;version&gt;1.5&lt;/version&gt; &lt;!--This should be same as is configured via the toolchains plugin --&gt;\r\n    \t\t&lt;vendor&gt;ibm&lt;/vendor&gt; &lt;!--This should be same as is configured via the toolchains plugin --&gt;\r\n    \t&lt;/provides&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;jdkHome&gt;C:\\Program Files\\Java\\jdk1.5.0&lt;/jdkHome&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/toolchain&gt;\r\n    &lt;/toolchains&gt;","title":"Java compiler level does not match","body":"<p>Specify the java version for Maven in D:\\maven-2.2.1\\conf toolchains.xml </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;toolchains&gt;\n&lt;toolchain&gt;\n    &lt;type&gt;jdk&lt;/type&gt;\n    &lt;provides&gt;\n        &lt;version&gt;1.5&lt;/version&gt; &lt;!--This should be same as is configured via the toolchains plugin --&gt;\n        &lt;vendor&gt;ibm&lt;/vendor&gt; &lt;!--This should be same as is configured via the toolchains plugin --&gt;\n    &lt;/provides&gt;\n    &lt;configuration&gt;\n        &lt;jdkHome&gt;C:\\Program Files\\Java\\jdk1.5.0&lt;/jdkHome&gt;\n    &lt;/configuration&gt;\n&lt;/toolchain&gt;\n&lt;/toolchains&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17384819,"reputation":1,"user_id":12596334,"display_name":"Jaeger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672273501,"creation_date":1672273501,"answer_id":74946173,"question_id":11291727,"body_markdown":"That worked for me:\r\n\r\n 1. Project-&gt;Java Build Path-&gt;Libraries-&gt;JRE version\r\n 2. Project-&gt;Java Compiler-&gt; Compiler Compliance Level\r\n 3. Project-&gt;Project Facets-&gt;Java-&gt;Version\r\n 4. If you using Maven edit in pom.xml\r\n\r\n    &lt;pre&gt;\r\n        &lt;span&gt;&amp;lt;&lt;span&gt;plugin&lt;/span&gt;&amp;gt;&lt;/span&gt;\r\n          &lt;span&gt;&amp;lt;&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;maven-compiler-plugin&lt;span&gt;&amp;lt;/&lt;span&gt;artifactId&lt;/span&gt;&amp;gt;&lt;/span&gt;\r\n            &lt;span&gt;&amp;lt;&lt;span&gt;configuration&lt;/span&gt;&amp;gt;&lt;/span&gt;\r\n              &lt;span&gt;&amp;lt;&lt;span&gt;source&lt;/span&gt;&amp;gt;&lt;/span&gt;1.8&lt;span&gt;&amp;lt;/&lt;span&gt;source&lt;/span&gt;&amp;gt;&lt;/span&gt;\r\n              &lt;span&gt;&amp;lt;&lt;span&gt;target&lt;/span&gt;&amp;gt;&lt;/span&gt;1.8&lt;span&gt;&amp;lt;/&lt;span&gt;target&lt;/span&gt;&amp;gt;&lt;/span&gt;\r\n            &lt;span&gt;&amp;lt;/&lt;span&gt;configuration&lt;/span&gt;&amp;gt;&lt;/span&gt;\r\n        &lt;span&gt;&amp;lt;/&lt;span&gt;plugin&lt;/span&gt;&amp;gt;&lt;/span&gt;\r\n    &lt;/pre&gt;\r\n\r\n","title":"Java compiler level does not match","body":"<p>That worked for me:</p>\n<ol>\n<li><p>Project-&gt;Java Build Path-&gt;Libraries-&gt;JRE version</p>\n</li>\n<li><p>Project-&gt;Java Compiler-&gt; Compiler Compliance Level</p>\n</li>\n<li><p>Project-&gt;Project Facets-&gt;Java-&gt;Version</p>\n</li>\n<li><p>If you using Maven edit in pom.xml</p>\n<pre>\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.8&lt;/source&gt;\n          &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</pre>\n</li>\n</ol>\n"}],"owner":{"account_id":1214050,"reputation":1295,"user_id":1181998,"accept_rate":60,"display_name":"samira"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5935,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11291908,"answer_count":4,"score":0,"last_activity_date":1672273501,"creation_date":1341224329,"question_id":11291727,"body_markdown":"i am using jsf2 hibernate 4.1.4, spring 3.1 and maven 3 in eclipse helios. but i have this error when i try to add dependecy in to POM.\r\n\r\n    Java compiler level does not match the version of the installed Java project facet.\r\n\r\nwhat does it mean? how can i solve this error? \r\n\t\r\nalso i have this warning:\r\n\r\n    Build path specifies execution environment J2SE-1.5. There are no JREs installed in the workspace that are strictly compatible with this environment. \t\r\n\r\nmy POM:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.integrate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;integrate&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;integrate&lt;/name&gt;\r\n      &lt;dependencyManagement&gt;\r\n      \t&lt;dependencies&gt;\r\n      \t&lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n      &lt;properties&gt;\r\n      &lt;spring.version&gt;3.1.0.RELEASE&lt;/spring.version&gt;\r\n     &lt;/properties&gt;\r\n    \r\n     &lt;dependencies&gt;\r\n    \r\n      &lt;!-- Spring 3 dependencies --&gt;\r\n      &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n       &lt;version&gt;${spring.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n       &lt;version&gt;${spring.version}&lt;/version&gt;\r\n      &lt;/dependency&gt; \r\n    \r\n      &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n       &lt;version&gt;${spring.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n       &lt;version&gt;${spring.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n       &lt;version&gt;${spring.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n      &lt;!-- JSF dependencies --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.6&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.6&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n       &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n       &lt;version&gt;1.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n    \r\n      &lt;!-- Hibernate dependencies --&gt;\r\n      &lt;dependency&gt;\r\n       &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n       &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n       &lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n       &lt;groupId&gt;javassist&lt;/groupId&gt;\r\n       &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n       &lt;version&gt;3.12.1.GA&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;!-- oracle Connector dependency --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n        &lt;version&gt;11.2.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- c3p0 dependency --&gt;\r\n    \t  &lt;dependency&gt;\r\n    \t   &lt;groupId&gt;c3p0&lt;/groupId&gt;\r\n    \t   &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n    \t   &lt;version&gt;0.9.1.2&lt;/version&gt;\r\n      &lt;/dependency&gt;  \r\n         \r\n    \r\n     &lt;/dependencies&gt;\r\n\r\n  the pic:\r\n![enter image description here][1]\r\n  \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/doTGY.jpg","title":"Java compiler level does not match","body":"<p>i am using jsf2 hibernate 4.1.4, spring 3.1 and maven 3 in eclipse helios. but i have this error when i try to add dependecy in to POM.</p>\n\n<pre><code>Java compiler level does not match the version of the installed Java project facet.\n</code></pre>\n\n<p>what does it mean? how can i solve this error? </p>\n\n<p>also i have this warning:</p>\n\n<pre><code>Build path specifies execution environment J2SE-1.5. There are no JREs installed in the workspace that are strictly compatible with this environment.   \n</code></pre>\n\n<p>my POM:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.integrate&lt;/groupId&gt;\n  &lt;artifactId&gt;integrate&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;integrate&lt;/name&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;properties&gt;\n  &lt;spring.version&gt;3.1.0.RELEASE&lt;/spring.version&gt;\n &lt;/properties&gt;\n\n &lt;dependencies&gt;\n\n  &lt;!-- Spring 3 dependencies --&gt;\n  &lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n   &lt;version&gt;${spring.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n   &lt;version&gt;${spring.version}&lt;/version&gt;\n  &lt;/dependency&gt; \n\n  &lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n   &lt;version&gt;${spring.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n   &lt;version&gt;${spring.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n   &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n   &lt;version&gt;${spring.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n  &lt;!-- JSF dependencies --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\n    &lt;artifactId&gt;jsf-api&lt;/artifactId&gt;\n    &lt;version&gt;2.1.6&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;\n    &lt;artifactId&gt;jsf-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.1.6&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n   &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n   &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n   &lt;version&gt;1.2&lt;/version&gt;\n  &lt;/dependency&gt;\n\n\n  &lt;!-- Hibernate dependencies --&gt;\n  &lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n   &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n   &lt;version&gt;4.1.4.Final&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n   &lt;groupId&gt;javassist&lt;/groupId&gt;\n   &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n   &lt;version&gt;3.12.1.GA&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- oracle Connector dependency --&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n    &lt;version&gt;11.2.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- c3p0 dependency --&gt;\n      &lt;dependency&gt;\n       &lt;groupId&gt;c3p0&lt;/groupId&gt;\n       &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n       &lt;version&gt;0.9.1.2&lt;/version&gt;\n  &lt;/dependency&gt;  \n\n\n &lt;/dependencies&gt;\n</code></pre>\n\n<p>the pic:\n<img src=\"https://i.stack.imgur.com/doTGY.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","eclipse","ant","jar","javafx"],"comments":[{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":0,"creation_date":1397673604,"post_id":23117541,"comment_id":35340294,"body_markdown":"Shameless self-promotion: You can use [SvgExe](http://StaticVoidGames.com/SvgExe) to create self-extracting runnable jars that handle the native library deployment for you.","body":"Shameless self-promotion: You can use <a href=\"http://StaticVoidGames.com/SvgExe\" rel=\"nofollow noreferrer\">SvgExe</a> to create self-extracting runnable jars that handle the native library deployment for you."},{"owner":{"account_id":28380,"reputation":2314,"user_id":75787,"accept_rate":65,"display_name":"evilfred"},"score":0,"creation_date":1397673815,"post_id":23117541,"comment_id":35340418,"body_markdown":"that isn&#39;t going to help the cross-version jfxrt.jar issue","body":"that isn&#39;t going to help the cross-version jfxrt.jar issue"},{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":0,"creation_date":1397674067,"post_id":23117541,"comment_id":35340564,"body_markdown":"You can use it to deploy platform-specific jars as well as natives. Other people have used it for JavaFX deployment. Up to you though!","body":"You can use it to deploy platform-specific jars as well as natives. Other people have used it for JavaFX deployment. Up to you though!"},{"owner":{"account_id":10865671,"reputation":586,"user_id":7989121,"display_name":"brat"},"score":2,"creation_date":1585739322,"post_id":23117541,"comment_id":107866143,"body_markdown":"I Soo understand your frustration. They add Fx, remove fx, add it again, then send it to gluon (no hate on that company), now I need to download stuff, use e(fx)clipse) some kind of ant build files n S%#t. also modules, and also... yah, I dont remember all the stuff. Used to be just Export-&gt;Runnable Jar in eclipse, BOM worked. Now its a nightmare -_-","body":"I Soo understand your frustration. They add Fx, remove fx, add it again, then send it to gluon (no hate on that company), now I need to download stuff, use e(fx)clipse) some kind of ant build files n S%#t. also modules, and also... yah, I dont remember all the stuff. Used to be just Export-&gt;Runnable Jar in eclipse, BOM worked. Now its a nightmare -_-"}],"answers":[{"comments":[{"owner":{"account_id":4697529,"reputation":409,"user_id":3802053,"accept_rate":57,"display_name":"Vusala Hasanli"},"score":0,"creation_date":1552749835,"post_id":23121897,"comment_id":97134050,"body_markdown":"I couldn&#39;t make jar in IntelliJ because of external jars. But 4 solved problem easily. Thanks!","body":"I couldn&#39;t make jar in IntelliJ because of external jars. But 4 solved problem easily. Thanks!"}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":1,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1672272293,"creation_date":1397690304,"answer_id":23121897,"question_id":23117541,"body_markdown":"# For details on creating an executable single jar with JavaFX components, see:\r\n\r\n * https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\r\n\r\n**Update, December 2019**\r\n\r\nThe answer to this topic evolves and changes over time, making the original answer and advice obsolete.  \r\n\r\n * Review the current documentation at https://openjfx.io to see the latest best practices for packaging JavaFX applications.\r\n * Also review the [packaging info in the JavaFX tag](https://stackoverflow.com/tags/javafx/info).\r\n\r\n&gt; I tried to use the JavaFX ant tasks but I can&#39;t get the task to actually package up the dependent jars ... And seems to only be able to create &quot;native bundles&quot; which I don&#39;t want.\r\n\r\nFirst, for most readers, it will be better to create a package for distribution based on `jlink` or `jpackage` rather than a single jar file.\r\n\r\nIf you really need a cross-platform single jar file, the current advice from openjfx.io is to use Maven or Gradle rather than Ant as a build tool.\r\n\r\nUse the features of those build tools (e.g. the [Maven Shade plug-in][1]) to package your dependent jars with your code into an uber-jar.  \r\n\r\nWhen doing this, if you want the resultant jar to be cross platform capable, e.g. to work on Window+Mac+Linux, then you need to package all of the cross platform jars as dependencies into the uber-jar (use the appropriate JavaFX version for your project). You also need to supply a launcher main class which does not subclass Application.\r\n\r\n    &lt;dependencies&gt;\r\n        ...\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n            &lt;classifier&gt;win&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n            &lt;classifier&gt;linux&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n            &lt;classifier&gt;mac&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nThe resultant jar will require a more recent Java version to work (e.g. Java 11+).\r\n\r\n----\r\n\r\n**Outdated info from an earlier update: ignore if using a modern JavaFX distribution**\r\n\r\nThere is currently an incubating project (JEP 343: Packaging Tool), targeted for Java 14, with the following goals (these are different than what is required in the question, as the packaging tool is for creating native installers, which is specifically what the question doesn&#39;t want to do):\r\n\r\n&gt; Create a simple packaging tool, based on the JavaFX javapackager tool, that:\r\n&gt;\r\n&gt;  * Supports native packaging formats to give end users a natural installation experience. These formats include msi and exe on Windows, pkg and dmg on macOS, and deb and rpm on Linux.\r\n&gt;  * Allows launch-time parameters to be specified at packaging time.\r\n&gt;  * Can be invoked directly, from the command line, or programmatically, via the ToolProvider API.\r\n\r\n * https://openjdk.java.net/jeps/343 (link to packaging project wiki page).\r\n\r\nThe proposed project exists because:\r\n\r\n&gt; To address these requirements previously, a packaging tool called javapackager was distributed with Oracle’s JDK 8. However, it was removed from Oracle’s JDK 11 as part of the removal of JavaFX.\r\n\r\nNote, due to the update outlined above, until Java 14 is released, some of the packaging recommendations mentioned below (such as javafxpackager) only apply to, now-outdated, older Java distributions (8-10).\r\n\r\nAlso the advice on not to include Java Platform libraries is outdated.  From Oracle Java 8 until Oracle Java 10, JavaFX was included in the base JRE (Java runtime environment).  From Java 11 on, JavaFX is not include in the base JRE and, indeed, the platform libraries must be added to the Java module path separately.  Again, review https://openjfx.io for packaging options for JavaFX applications.\r\n\r\n----\r\n\r\n**Outdated info from original answer: ignore if using a modern JavaFX distribution**\r\n\r\n**JavaFX packaging alternatives**\r\n\r\n 1. Follow the [e(fx)clipse tutorial][2] for creating an executable jar file for a JavaFX application using Eclipse.\r\n 2. The Oracle java packaging ant tasks and javafxpackager tool can create executable jars (described in the Oracle documentation as [standalone applications][3]).  If you cannot generate such jars using the tools, then you are likely not using the tools correctly.\r\n 3. Require a minimum version of Java 8, where jfxrt.jar (i.e. the JavaFX classes) is on the boot class path.\r\n 4. Use a 3rd party build tool chain such as the [JavaFX Maven plugin][4] or the [JavaFX Gradle plugin][5].\r\n\r\nAlternative (1), e(fx)clipse packaging, is recommended for you since you are using Eclipse. \r\n\r\n**Advice (outdated)**\r\n\r\nNever try to include Java platform libraries (such as jfxrt.jar) with your application.  No guide you find on the internet should ever instruct you to do such a thing (due to the obvious incompatibility between minor version issues you outlined in your question).  The only exception to this rule would be if you are building a self-contained, native installed application that doesn&#39;t rely on a pre-installed JRE (which you aren&#39;t).\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/\r\n  [2]: http://wiki.eclipse.org/Efxclipse/Tutorials/Tutorial1\r\n  [3]: http://docs.oracle.com/javafx/2/deployment/deploy_overview.htm\r\n  [4]: https://github.com/javafx-maven-plugin/javafx-maven-plugin\r\n  [5]: https://bitbucket.org/shemnon/javafx-gradle","title":"How to make a runnable jar for an application that uses JavaFX without native installers","body":"<h1>For details on creating an executable single jar with JavaFX components, see:</h1>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">Maven Shade JavaFX runtime components are missing</a></li>\n</ul>\n<p><strong>Update, December 2019</strong></p>\n<p>The answer to this topic evolves and changes over time, making the original answer and advice obsolete.</p>\n<ul>\n<li>Review the current documentation at <a href=\"https://openjfx.io\" rel=\"nofollow noreferrer\">https://openjfx.io</a> to see the latest best practices for packaging JavaFX applications.</li>\n<li>Also review the <a href=\"https://stackoverflow.com/tags/javafx/info\">packaging info in the JavaFX tag</a>.</li>\n</ul>\n<blockquote>\n<p>I tried to use the JavaFX ant tasks but I can't get the task to actually package up the dependent jars ... And seems to only be able to create &quot;native bundles&quot; which I don't want.</p>\n</blockquote>\n<p>First, for most readers, it will be better to create a package for distribution based on <code>jlink</code> or <code>jpackage</code> rather than a single jar file.</p>\n<p>If you really need a cross-platform single jar file, the current advice from openjfx.io is to use Maven or Gradle rather than Ant as a build tool.</p>\n<p>Use the features of those build tools (e.g. the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">Maven Shade plug-in</a>) to package your dependent jars with your code into an uber-jar.</p>\n<p>When doing this, if you want the resultant jar to be cross platform capable, e.g. to work on Window+Mac+Linux, then you need to package all of the cross platform jars as dependencies into the uber-jar (use the appropriate JavaFX version for your project). You also need to supply a launcher main class which does not subclass Application.</p>\n<pre><code>&lt;dependencies&gt;\n    ...\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n        &lt;version&gt;13&lt;/version&gt;\n        &lt;classifier&gt;win&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n        &lt;version&gt;13&lt;/version&gt;\n        &lt;classifier&gt;linux&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n        &lt;version&gt;13&lt;/version&gt;\n        &lt;classifier&gt;mac&lt;/classifier&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>The resultant jar will require a more recent Java version to work (e.g. Java 11+).</p>\n<hr />\n<p><strong>Outdated info from an earlier update: ignore if using a modern JavaFX distribution</strong></p>\n<p>There is currently an incubating project (JEP 343: Packaging Tool), targeted for Java 14, with the following goals (these are different than what is required in the question, as the packaging tool is for creating native installers, which is specifically what the question doesn't want to do):</p>\n<blockquote>\n<p>Create a simple packaging tool, based on the JavaFX javapackager tool, that:</p>\n<ul>\n<li>Supports native packaging formats to give end users a natural installation experience. These formats include msi and exe on Windows, pkg and dmg on macOS, and deb and rpm on Linux.</li>\n<li>Allows launch-time parameters to be specified at packaging time.</li>\n<li>Can be invoked directly, from the command line, or programmatically, via the ToolProvider API.</li>\n</ul>\n</blockquote>\n<ul>\n<li><a href=\"https://openjdk.java.net/jeps/343\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/343</a> (link to packaging project wiki page).</li>\n</ul>\n<p>The proposed project exists because:</p>\n<blockquote>\n<p>To address these requirements previously, a packaging tool called javapackager was distributed with Oracle’s JDK 8. However, it was removed from Oracle’s JDK 11 as part of the removal of JavaFX.</p>\n</blockquote>\n<p>Note, due to the update outlined above, until Java 14 is released, some of the packaging recommendations mentioned below (such as javafxpackager) only apply to, now-outdated, older Java distributions (8-10).</p>\n<p>Also the advice on not to include Java Platform libraries is outdated.  From Oracle Java 8 until Oracle Java 10, JavaFX was included in the base JRE (Java runtime environment).  From Java 11 on, JavaFX is not include in the base JRE and, indeed, the platform libraries must be added to the Java module path separately.  Again, review <a href=\"https://openjfx.io\" rel=\"nofollow noreferrer\">https://openjfx.io</a> for packaging options for JavaFX applications.</p>\n<hr />\n<p><strong>Outdated info from original answer: ignore if using a modern JavaFX distribution</strong></p>\n<p><strong>JavaFX packaging alternatives</strong></p>\n<ol>\n<li>Follow the <a href=\"http://wiki.eclipse.org/Efxclipse/Tutorials/Tutorial1\" rel=\"nofollow noreferrer\">e(fx)clipse tutorial</a> for creating an executable jar file for a JavaFX application using Eclipse.</li>\n<li>The Oracle java packaging ant tasks and javafxpackager tool can create executable jars (described in the Oracle documentation as <a href=\"http://docs.oracle.com/javafx/2/deployment/deploy_overview.htm\" rel=\"nofollow noreferrer\">standalone applications</a>).  If you cannot generate such jars using the tools, then you are likely not using the tools correctly.</li>\n<li>Require a minimum version of Java 8, where jfxrt.jar (i.e. the JavaFX classes) is on the boot class path.</li>\n<li>Use a 3rd party build tool chain such as the <a href=\"https://github.com/javafx-maven-plugin/javafx-maven-plugin\" rel=\"nofollow noreferrer\">JavaFX Maven plugin</a> or the <a href=\"https://bitbucket.org/shemnon/javafx-gradle\" rel=\"nofollow noreferrer\">JavaFX Gradle plugin</a>.</li>\n</ol>\n<p>Alternative (1), e(fx)clipse packaging, is recommended for you since you are using Eclipse.</p>\n<p><strong>Advice (outdated)</strong></p>\n<p>Never try to include Java platform libraries (such as jfxrt.jar) with your application.  No guide you find on the internet should ever instruct you to do such a thing (due to the obvious incompatibility between minor version issues you outlined in your question).  The only exception to this rule would be if you are building a self-contained, native installed application that doesn't rely on a pre-installed JRE (which you aren't).</p>\n"}],"owner":{"account_id":28380,"reputation":2314,"user_id":75787,"accept_rate":65,"display_name":"evilfred"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36321,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1672272293,"creation_date":1397673457,"question_id":23117541,"body_markdown":"I have a application that worked just fine to be run with &quot;java -jar blah.jar&quot; after exporting as a runnable jar from Eclipse and letting it &quot;Package required libraries into generated JAR&quot;.\r\n\r\nI added some JavaFX code to pop up a web browser. Now it seems it is impossible to make a runnable jar that works across minor Java versions. When I export it as a runnable jar, it copies in jfxrt.jar that is specific to my minor version. If I run this jar using &quot;java -jar blah.jar&quot; for the exact matching java version (jdk1.7.0_17) then it works fine, but if I use one slightly newer (jdk1.7.0_45) then it fails to resolve swingx classes properly. So much for &quot;write once run anywhere&quot;.\r\n\r\nI tried to use the JavaFX ant tasks but I can&#39;t get the &lt;fx:jar&gt; task to actually package up the dependent jars. This doesn&#39;t actually include the fx:resources jars in the jar it creates, like the magic eclipse &quot;package required libraries into generated JAR&quot; does perfectly:\r\n\r\n    &lt;fx:jar destfile=&quot;${dist}/${dist.jar}&quot;&gt; \r\n        \t&lt;fx:application id=&quot;BlahTesterApp&quot; \r\n        \t\tmainClass=&quot;blah.MainClass&quot; \r\n        \t\ttoolkit=&quot;swing&quot;/&gt; \r\n        \t\r\n            &lt;fileset dir=&quot;${build}&quot;/&gt; \r\n            \r\n            &lt;fx:resources&gt; \r\n            \t&lt;fx:fileset dir=&quot;${lib}&quot; includes=&quot;**/*.jar&quot; /&gt;\r\n            &lt;/fx:resources&gt;\r\n        \t\r\n            &lt;manifest&gt; \r\n                &lt;attribute name=&quot;Implementation-Vendor&quot; value=&quot;My Team&quot;/&gt;\r\n                &lt;attribute name=&quot;Implementation-Title&quot; value=&quot;Tester App&quot;/&gt; \r\n            &lt;/manifest&gt; \r\n        &lt;/fx:jar&gt; \r\n\r\nAnd &lt;fx:deploy&gt; seems to only be able to create &quot;native bundles&quot; which I don&#39;t want. I don&#39;t want to make users install an rpm or a deb when they used to just be able to run the darn jar.\r\n\r\nI don&#39;t understand why Oracle had to introduce its own magical extra layer of deployment complexity here. Don&#39;t they want people to USE JavaFX?","title":"How to make a runnable jar for an application that uses JavaFX without native installers","body":"<p>I have a application that worked just fine to be run with \"java -jar blah.jar\" after exporting as a runnable jar from Eclipse and letting it \"Package required libraries into generated JAR\".</p>\n\n<p>I added some JavaFX code to pop up a web browser. Now it seems it is impossible to make a runnable jar that works across minor Java versions. When I export it as a runnable jar, it copies in jfxrt.jar that is specific to my minor version. If I run this jar using \"java -jar blah.jar\" for the exact matching java version (jdk1.7.0_17) then it works fine, but if I use one slightly newer (jdk1.7.0_45) then it fails to resolve swingx classes properly. So much for \"write once run anywhere\".</p>\n\n<p>I tried to use the JavaFX ant tasks but I can't get the  task to actually package up the dependent jars. This doesn't actually include the fx:resources jars in the jar it creates, like the magic eclipse \"package required libraries into generated JAR\" does perfectly:</p>\n\n<pre><code>&lt;fx:jar destfile=\"${dist}/${dist.jar}\"&gt; \n        &lt;fx:application id=\"BlahTesterApp\" \n            mainClass=\"blah.MainClass\" \n            toolkit=\"swing\"/&gt; \n\n        &lt;fileset dir=\"${build}\"/&gt; \n\n        &lt;fx:resources&gt; \n            &lt;fx:fileset dir=\"${lib}\" includes=\"**/*.jar\" /&gt;\n        &lt;/fx:resources&gt;\n\n        &lt;manifest&gt; \n            &lt;attribute name=\"Implementation-Vendor\" value=\"My Team\"/&gt;\n            &lt;attribute name=\"Implementation-Title\" value=\"Tester App\"/&gt; \n        &lt;/manifest&gt; \n    &lt;/fx:jar&gt; \n</code></pre>\n\n<p>And  seems to only be able to create \"native bundles\" which I don't want. I don't want to make users install an rpm or a deb when they used to just be able to run the darn jar.</p>\n\n<p>I don't understand why Oracle had to introduce its own magical extra layer of deployment complexity here. Don't they want people to USE JavaFX?</p>\n"},{"tags":["java","android-studio","android-layout"],"comments":[{"owner":{"account_id":11912964,"reputation":283,"user_id":8717620,"display_name":"Kerry"},"score":0,"creation_date":1672284036,"post_id":74946049,"comment_id":132258664,"body_markdown":"I would recommend a ConstraintLayout that would give the flexibility to do this.","body":"I would recommend a ConstraintLayout that would give the flexibility to do this."},{"owner":{"account_id":27306233,"reputation":15,"user_id":20822155,"display_name":"Ne Mo"},"score":0,"creation_date":1672315573,"post_id":74946049,"comment_id":132265285,"body_markdown":"I&#39;ve been trying since this morning but even with a constraintlayout I can&#39;t, can you give me an example?","body":"I&#39;ve been trying since this morning but even with a constraintlayout I can&#39;t, can you give me an example?"},{"owner":{"account_id":11912964,"reputation":283,"user_id":8717620,"display_name":"Kerry"},"score":0,"creation_date":1672331350,"post_id":74946049,"comment_id":132269779,"body_markdown":"Yeah let me build one real quick. If you are new to android I would also suggest Jetpack Compose. I find it much easier but I will make you an answer in both.","body":"Yeah let me build one real quick. If you are new to android I would also suggest Jetpack Compose. I find it much easier but I will make you an answer in both."}],"owner":{"account_id":27306233,"reputation":15,"user_id":20822155,"display_name":"Ne Mo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672271995,"creation_date":1672271995,"question_id":74946049,"body_markdown":"Hello I am developing an android application in java under android studio and I want my second image to be positioned at 50% of the height and 20% of the width (for example) of the first image and not the parent, so that the ratio of image overlay is respected with different sizes of screen. I can&#39;t find how to do it, do you have an idea?\r\n\r\nThis is the activity_main.xml :\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/data&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Your Data&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Button&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tetx&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;TextView&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/iut&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_weight=&quot;.20&quot;\r\n        app:srcCompat=&quot;@drawable/iut&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/marker&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_weight=&quot;.50&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:srcCompat=&quot;@drawable/m2&quot; /&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\nI put the xml file but I plan to modify the percentages later in MainActivity.java so it&#39;s not disturbing if you have an idea that goes through java code.","title":"ImageView positioned on an imageView","body":"<p>Hello I am developing an android application in java under android studio and I want my second image to be positioned at 50% of the height and 20% of the width (for example) of the first image and not the parent, so that the ratio of image overlay is respected with different sizes of screen. I can't find how to do it, do you have an idea?</p>\n<p>This is the activity_main.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;EditText\n        android:id=&quot;@+id/data&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Your Data&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Button&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tetx&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;TextView&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/iut&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;.20&quot;\n        app:srcCompat=&quot;@drawable/iut&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/marker&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;.50&quot;\n        android:visibility=&quot;visible&quot;\n        app:srcCompat=&quot;@drawable/m2&quot; /&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I put the xml file but I plan to modify the percentages later in MainActivity.java so it's not disturbing if you have an idea that goes through java code.</p>\n"},{"tags":["java","selenium","cucumber","testng","bdd"],"comments":[{"owner":{"account_id":7176285,"reputation":11,"user_id":9203232,"display_name":"kry"},"score":0,"creation_date":1655153505,"post_id":72607758,"comment_id":128259863,"body_markdown":"Looks like I forgot to add &quot;@&quot; before &quot;class&quot;. So ```//span[@class=&#39;a-size-base a-color-base&#39; and text()=&#39;Apple&#39;][1]``` solved my problem","body":"Looks like I forgot to add &quot;@&quot; before &quot;class&quot;. So <code>&#47;&#47;span[@class=&#39;a-size-base a-color-base&#39; and text()=&#39;Apple&#39;][1]</code> solved my problem"}],"answers":[{"comments":[{"owner":{"account_id":7176285,"reputation":11,"user_id":9203232,"display_name":"kry"},"score":0,"creation_date":1655149018,"post_id":72607838,"comment_id":128258557,"body_markdown":"I tried with the above xpath but received the same error. Also, with css selector, I think I still have to find a way to select the web element that contains the inner text &#39;Apple&#39;. And it seems there is no way to do that like with xpaths.","body":"I tried with the above xpath but received the same error. Also, with css selector, I think I still have to find a way to select the web element that contains the inner text &#39;Apple&#39;. And it seems there is no way to do that like with xpaths."},{"owner":{"account_id":24892475,"reputation":71,"user_id":18764218,"display_name":"Effi Hol"},"score":0,"creation_date":1655149203,"post_id":72607838,"comment_id":128258620,"body_markdown":"Which version of xpath are you using? Maybe And statement is not in your version. Also, add to your question the element you want to select.","body":"Which version of xpath are you using? Maybe And statement is not in your version. Also, add to your question the element you want to select."},{"owner":{"account_id":7176285,"reputation":11,"user_id":9203232,"display_name":"kry"},"score":0,"creation_date":1655151229,"post_id":72607838,"comment_id":128259179,"body_markdown":"I think I&#39;m using version 1.0. Also I added the element I want to select in my question.","body":"I think I&#39;m using version 1.0. Also I added the element I want to select in my question."},{"owner":{"account_id":24892475,"reputation":71,"user_id":18764218,"display_name":"Effi Hol"},"score":0,"creation_date":1655153505,"post_id":72607838,"comment_id":128259864,"body_markdown":"Ho I think I got the problem, the way of specify the class is @class. Also I meant that you show the html of the element you want to select.","body":"Ho I think I got the problem, the way of specify the class is @class. Also I meant that you show the html of the element you want to select."},{"owner":{"account_id":7176285,"reputation":11,"user_id":9203232,"display_name":"kry"},"score":0,"creation_date":1655153676,"post_id":72607838,"comment_id":128259921,"body_markdown":"Yes, I just realized @class too. Thanks anyway!","body":"Yes, I just realized @class too. Thanks anyway!"}],"tags":[],"owner":{"account_id":24892475,"reputation":71,"user_id":18764218,"display_name":"Effi Hol"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655153560,"creation_date":1655146805,"answer_id":72607838,"question_id":72607758,"body_markdown":"This is happening because classes are separated by space. And you give it two classes. You need to give it only one in that syntax of xpath. (By the way, why not use css selector and give multiple classes).\r\n\r\n`//span[@class=&#39;a-size-base&#39; and text()=&#39;Apple&#39;][1]`\r\n\r\n","title":"Selenium in Java: No such element error since web page is not loaded yet","body":"<p>This is happening because classes are separated by space. And you give it two classes. You need to give it only one in that syntax of xpath. (By the way, why not use css selector and give multiple classes).</p>\n<p><code>//span[@class='a-size-base' and text()='Apple'][1]</code></p>\n"}],"owner":{"account_id":7176285,"reputation":11,"user_id":9203232,"display_name":"kry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672270734,"creation_date":1655146397,"question_id":72607758,"body_markdown":"I&#39;m trying to do automation on Amazon. After I search &quot;laptop&quot; on Amazon, I try to select &quot;Apple&quot; brand but I recieve no such element error. When I inspect the element manually, I see it is located like this:\r\n\r\n```&lt;span class=&quot;a-size-base a-color-base&quot;&gt;Apple&lt;/span&gt; ```\r\n\r\nMy xpath: ```//span[class=&#39;a-size-base a-color-base&#39; and text()=&#39;Apple&#39;][1]```\r\n\r\nI want to select this element:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut when I debug before clicking for brand, I see this:\r\n\r\n[![element_while_debug][2]][2]\r\n\r\nI see the webpage is not loaded fully yet. But I added explicit wait in my code.\r\n\r\nHere is my code:\r\n\r\n```\r\n\r\nimport static driver.DriverFactory.getDriver;\r\n\r\npublic class SearchItem {\r\n    private WebDriver driver = getDriver();\r\n\r\n    private WebDriverWait waiter() {\r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n        return wait;\r\n    }\r\n\r\n    @Given(&quot;I am on amazon.com&quot;)\r\n    public void i_am_on_the_amazon_com() {\r\n        driver.get(&quot;https://www.amazon.com/&quot;);\r\n    }\r\n\r\n    @When(&quot;I search {string}&quot;)\r\n    public void i_search(String item) {\r\n        driver.findElement(By.id(&quot;twotabsearchtextbox&quot;)).sendKeys(item);\r\n        driver.findElement(By.id(&quot;nav-search-submit-button&quot;)).click();\r\n    }\r\n\r\n    @And(&quot;I select Apple brand&quot;)\r\n    public void i_select_Apple_brand() {\r\n        waiter().until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//span[class=&#39;a-size-base a-color-base&#39; and text()=&#39;Apple&#39;][1]&quot;))).click();\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PjPsL.png\r\n  [2]: https://i.stack.imgur.com/zpueD.png","title":"Selenium in Java: No such element error since web page is not loaded yet","body":"<p>I'm trying to do automation on Amazon. After I search &quot;laptop&quot; on Amazon, I try to select &quot;Apple&quot; brand but I recieve no such element error. When I inspect the element manually, I see it is located like this:</p>\n<p><code>&lt;span class=&quot;a-size-base a-color-base&quot;&gt;Apple&lt;/span&gt; </code></p>\n<p>My xpath: <code>//span[class='a-size-base a-color-base' and text()='Apple'][1]</code></p>\n<p>I want to select this element:</p>\n<p><a href=\"https://i.stack.imgur.com/PjPsL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PjPsL.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I debug before clicking for brand, I see this:</p>\n<p><a href=\"https://i.stack.imgur.com/zpueD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zpueD.png\" alt=\"element_while_debug\" /></a></p>\n<p>I see the webpage is not loaded fully yet. But I added explicit wait in my code.</p>\n<p>Here is my code:</p>\n<pre><code>\nimport static driver.DriverFactory.getDriver;\n\npublic class SearchItem {\n    private WebDriver driver = getDriver();\n\n    private WebDriverWait waiter() {\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n        return wait;\n    }\n\n    @Given(&quot;I am on amazon.com&quot;)\n    public void i_am_on_the_amazon_com() {\n        driver.get(&quot;https://www.amazon.com/&quot;);\n    }\n\n    @When(&quot;I search {string}&quot;)\n    public void i_search(String item) {\n        driver.findElement(By.id(&quot;twotabsearchtextbox&quot;)).sendKeys(item);\n        driver.findElement(By.id(&quot;nav-search-submit-button&quot;)).click();\n    }\n\n    @And(&quot;I select Apple brand&quot;)\n    public void i_select_Apple_brand() {\n        waiter().until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//span[class='a-size-base a-color-base' and text()='Apple'][1]&quot;))).click();\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1602741325,"creation_date":1602741325,"answer_id":64365632,"question_id":64365364,"body_markdown":"Hope you have applied your `synonym` on your existing fields in your ES mapping, you have just provided your index setting, and you need to provide the index mapping to confirm it. \r\n\r\nAlso adding an analyzer to the existing field is a breaking change and you have to reindex the data again to see the updated tokens. \r\n\r\nYou must use [Analyze API][1] to see the updated tokens on your index, Also please cross-check if you have added the `synonym.txt` properly and there was no error while creating the index setting with this file.\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-analyze.html","title":"Solr synonym.txt adding at elasticsearch","body":"<p>Hope you have applied your <code>synonym</code> on your existing fields in your ES mapping, you have just provided your index setting, and you need to provide the index mapping to confirm it.</p>\n<p>Also adding an analyzer to the existing field is a breaking change and you have to reindex the data again to see the updated tokens.</p>\n<p>You must use <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-analyze.html\" rel=\"nofollow noreferrer\">Analyze API</a> to see the updated tokens on your index, Also please cross-check if you have added the <code>synonym.txt</code> properly and there was no error while creating the index setting with this file.</p>\n"}],"owner":{"account_id":10489911,"reputation":207,"user_id":7732178,"display_name":"ariful islam arif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64365632,"answer_count":1,"score":0,"last_activity_date":1672270184,"creation_date":1602739654,"question_id":64365364,"body_markdown":"I have already a working synonym.txt in solr. Now I want to add that same txt file at elasticsearch. What can I do for it? At solr it was easy, I just kept that file in the system. At elasticsearch I added this and also run some command, but it is not working.\r\n\r\n    PUT /test_index\r\n    {\r\n      &quot;settings&quot;: {\r\n        &quot;index&quot;: {\r\n          &quot;analysis&quot;: {\r\n            &quot;analyzer&quot;: {\r\n              &quot;synonym&quot;: {\r\n                &quot;tokenizer&quot;: &quot;whitespace&quot;,\r\n                &quot;filter&quot;: [ &quot;synonym&quot; ]\r\n              }\r\n            },\r\n            &quot;filter&quot;: {\r\n              &quot;synonym&quot;: {\r\n                &quot;type&quot;: &quot;synonym&quot;,\r\n                &quot;synonyms_path&quot;: &quot;analysis/synonym.txt&quot;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nWhat&#39;s wrong? Do I need to index it again or do I need to map this with any field? My search result depends on multiple fields.","title":"Solr synonym.txt adding at elasticsearch","body":"<p>I have already a working synonym.txt in solr. Now I want to add that same txt file at elasticsearch. What can I do for it? At solr it was easy, I just kept that file in the system. At elasticsearch I added this and also run some command, but it is not working.</p>\n<pre><code>PUT /test_index\n{\n  &quot;settings&quot;: {\n    &quot;index&quot;: {\n      &quot;analysis&quot;: {\n        &quot;analyzer&quot;: {\n          &quot;synonym&quot;: {\n            &quot;tokenizer&quot;: &quot;whitespace&quot;,\n            &quot;filter&quot;: [ &quot;synonym&quot; ]\n          }\n        },\n        &quot;filter&quot;: {\n          &quot;synonym&quot;: {\n            &quot;type&quot;: &quot;synonym&quot;,\n            &quot;synonyms_path&quot;: &quot;analysis/synonym.txt&quot;\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>What's wrong? Do I need to index it again or do I need to map this with any field? My search result depends on multiple fields.</p>\n"},{"tags":["java","oop","design-patterns","jackson","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672269891,"creation_date":1672269891,"answer_id":74945881,"question_id":74932121,"body_markdown":"I do not recommend to merge error response together with business objects. You can return given response class in case of success and throw an exception in case of error. This is what I think would be the cleanest way.\r\n\r\nIf you do not want to throw an exception you can implement wrapper class which contains `response` and `error` objects. In case `error` field is set we know there was a problem. It could look like below:\r\n```java\r\ninterface ApiResponse {\r\n}\r\n\r\n@Data\r\nclass ResponseWrapper&lt;R extends ApiResponse&gt; {\r\n\tprivate R response;\r\n\tprivate Error error;\r\n\r\n\tpublic boolean hasErrors() {\r\n\t\treturn Objects.nonNull(error);\r\n\t}\r\n}\r\n\r\n@Data\r\nclass Error {\r\n\tprivate String error;\r\n\tprivate String description;\r\n}\r\n\r\n@Data\r\nclass ErrorResponse {\r\n\tprivate String errorCode;\r\n\tprivate String message;\r\n}\r\n\r\n@Data\r\nclass UserResponse implements ApiResponse {\r\n\tprivate String userName;\r\n\tprivate String userEmail;\r\n}\r\n```\r\n\r\nAnd generic implementation of that method could look like:\r\n```java\r\nclass JsonDecoder {\r\n\r\n\tprivate final ObjectMapper objectMapper = ...;\r\n\r\n\tpublic &lt;R extends ApiResponse&gt; ResponseWrapper&lt;R&gt; deserializeResponse(String apiResponse, Class&lt;R&gt; responseType, boolean isHttpError)\r\n\t\t\tthrows JsonProcessingException {\r\n\t\tResponseWrapper&lt;R&gt; response = new ResponseWrapper&lt;&gt;();\r\n\r\n\t\tif (isHttpError) {\r\n\t\t\tresponse.setError(deserializeError(apiResponse));\r\n\t\t} else {\r\n\t\t\tresponse.setResponse(objectMapper.readValue(apiResponse, responseType));\r\n\t\t}\r\n\r\n\t\treturn response;\r\n\t}\r\n\r\n\tprivate Error deserializeError(String apiResponse) throws JsonProcessingException {\r\n\t\tfinal TypeReference&lt;List&lt;ErrorResponse&gt;&gt; errorResponseType = new TypeReference&lt;&gt;() {};\r\n\t\tList&lt;ErrorResponse&gt; errors = objectMapper.readValue(apiResponse, errorResponseType);\r\n\r\n\t\tErrorResponse firstError = errors.get(0);\r\n\t\tString errorDescription = errors.stream().map(ErrorResponse::toString).collect(Collectors.joining());\r\n\r\n\t\tError error = new Error();\r\n\t\terror.setError(firstError.getMessage());\r\n\t\terror.setDescription(errorDescription);\r\n\t\treturn error;\r\n\t}\r\n}\r\n```","title":"How to deserialize to map or array class where map structure varies in Java?","body":"<p>I do not recommend to merge error response together with business objects. You can return given response class in case of success and throw an exception in case of error. This is what I think would be the cleanest way.</p>\n<p>If you do not want to throw an exception you can implement wrapper class which contains <code>response</code> and <code>error</code> objects. In case <code>error</code> field is set we know there was a problem. It could look like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface ApiResponse {\n}\n\n@Data\nclass ResponseWrapper&lt;R extends ApiResponse&gt; {\n    private R response;\n    private Error error;\n\n    public boolean hasErrors() {\n        return Objects.nonNull(error);\n    }\n}\n\n@Data\nclass Error {\n    private String error;\n    private String description;\n}\n\n@Data\nclass ErrorResponse {\n    private String errorCode;\n    private String message;\n}\n\n@Data\nclass UserResponse implements ApiResponse {\n    private String userName;\n    private String userEmail;\n}\n</code></pre>\n<p>And generic implementation of that method could look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class JsonDecoder {\n\n    private final ObjectMapper objectMapper = ...;\n\n    public &lt;R extends ApiResponse&gt; ResponseWrapper&lt;R&gt; deserializeResponse(String apiResponse, Class&lt;R&gt; responseType, boolean isHttpError)\n            throws JsonProcessingException {\n        ResponseWrapper&lt;R&gt; response = new ResponseWrapper&lt;&gt;();\n\n        if (isHttpError) {\n            response.setError(deserializeError(apiResponse));\n        } else {\n            response.setResponse(objectMapper.readValue(apiResponse, responseType));\n        }\n\n        return response;\n    }\n\n    private Error deserializeError(String apiResponse) throws JsonProcessingException {\n        final TypeReference&lt;List&lt;ErrorResponse&gt;&gt; errorResponseType = new TypeReference&lt;&gt;() {};\n        List&lt;ErrorResponse&gt; errors = objectMapper.readValue(apiResponse, errorResponseType);\n\n        ErrorResponse firstError = errors.get(0);\n        String errorDescription = errors.stream().map(ErrorResponse::toString).collect(Collectors.joining());\n\n        Error error = new Error();\n        error.setError(firstError.getMessage());\n        error.setDescription(errorDescription);\n        return error;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11102083,"reputation":1171,"user_id":9914653,"display_name":"hitchhiker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74945881,"answer_count":1,"score":1,"last_activity_date":1672270037,"creation_date":1672160509,"question_id":74932121,"body_markdown":"I need to deserialize the response of an external REST API which is usually a JSON object but if an error occurred it will be an array of JSON objects. The API is lacking in documentation so the way I determine if error occurred or not is by the `HTTP Status` of the response. The problem is that non-error responses have different structure per API route (user response, product response etc.). Another problem is in my application we use an abstract class for external API response with such fields as `error`, `hasError`. I solved the problem as follows:\r\n```java\r\n public abstract class AbsractApiResponse {\r\n  public abstract String getError();\r\n  public abstract void setError(String error);\r\n  public abstract String getDescription();\r\n  public abstract void setDescription(String error);\r\n}\r\n\r\npublic class ErrorResponse {\r\n  private String errorCode; // getters/setters\r\n\r\n  private String message; // getters/setters\r\n}\r\n\r\npublic class UserResponse extends AbsractApiResponse {\r\n\r\n  private String error; // getters/setters\r\n  private boolean hasError; // getters/setters\r\n  private boolean description; // getters/setters\r\n  private String userName;\r\n  private String userEmail;\r\n}\r\n\r\n\r\npublic &lt;R extends AbsractApiResponse&gt; R deserializeResponse(\r\n    String apiResponse, Class&lt;R&gt; responseType, boolean isHttpError)\r\n    throws JsonProcessingException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\r\n  R response;\r\n  Object deserialized = objectMapper.readValue(apiResponse, Object.class);\r\n\r\n  if (isHttpError &amp;&amp; deserialized instanceof List) {\r\n    TypeReference&lt;List&lt;ErrorResponse&gt;&gt; errorResponseType = new TypeReference&lt;&gt;() {};\r\n    List&lt;ErrorResponse&gt; responseErrors = objectMapper.convertValue(deserialized,\r\n        errorResponseType);\r\n    Constructor&lt;R&gt; constructor = responseType.getDeclaredConstructor();\r\n    response = constructor.newInstance();\r\n    ErrorResponse firstError = responseErrors.get(0);\r\n    String errorDescription = responseErrors.stream().map(ErrorResponse::toString).collect(Collectors.joining());\r\n    response.setError(firstError.getMessage());\r\n    response.setDescription(errorDescription);\r\n  } else {\r\n    response = objectMapper.convertValue(deserialized, responseType);\r\n  }\r\n  return response;\r\n}\r\n```\r\n\r\nWith this approach I would have to add fields like `error`/`hasError` etc. to every class which represents a response which isn&#39;t that bad I guess. Another red flag for me is the use of reflection (`responseType.getDeclaredConstructor()`) and the 4 checked exceptions that go with it. I&#39;m wondering, if there&#39;s a better way to solve this?","title":"How to deserialize to map or array class where map structure varies in Java?","body":"<p>I need to deserialize the response of an external REST API which is usually a JSON object but if an error occurred it will be an array of JSON objects. The API is lacking in documentation so the way I determine if error occurred or not is by the <code>HTTP Status</code> of the response. The problem is that non-error responses have different structure per API route (user response, product response etc.). Another problem is in my application we use an abstract class for external API response with such fields as <code>error</code>, <code>hasError</code>. I solved the problem as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public abstract class AbsractApiResponse {\n  public abstract String getError();\n  public abstract void setError(String error);\n  public abstract String getDescription();\n  public abstract void setDescription(String error);\n}\n\npublic class ErrorResponse {\n  private String errorCode; // getters/setters\n\n  private String message; // getters/setters\n}\n\npublic class UserResponse extends AbsractApiResponse {\n\n  private String error; // getters/setters\n  private boolean hasError; // getters/setters\n  private boolean description; // getters/setters\n  private String userName;\n  private String userEmail;\n}\n\n\npublic &lt;R extends AbsractApiResponse&gt; R deserializeResponse(\n    String apiResponse, Class&lt;R&gt; responseType, boolean isHttpError)\n    throws JsonProcessingException, NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\n  R response;\n  Object deserialized = objectMapper.readValue(apiResponse, Object.class);\n\n  if (isHttpError &amp;&amp; deserialized instanceof List) {\n    TypeReference&lt;List&lt;ErrorResponse&gt;&gt; errorResponseType = new TypeReference&lt;&gt;() {};\n    List&lt;ErrorResponse&gt; responseErrors = objectMapper.convertValue(deserialized,\n        errorResponseType);\n    Constructor&lt;R&gt; constructor = responseType.getDeclaredConstructor();\n    response = constructor.newInstance();\n    ErrorResponse firstError = responseErrors.get(0);\n    String errorDescription = responseErrors.stream().map(ErrorResponse::toString).collect(Collectors.joining());\n    response.setError(firstError.getMessage());\n    response.setDescription(errorDescription);\n  } else {\n    response = objectMapper.convertValue(deserialized, responseType);\n  }\n  return response;\n}\n</code></pre>\n<p>With this approach I would have to add fields like <code>error</code>/<code>hasError</code> etc. to every class which represents a response which isn't that bad I guess. Another red flag for me is the use of reflection (<code>responseType.getDeclaredConstructor()</code>) and the 4 checked exceptions that go with it. I'm wondering, if there's a better way to solve this?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672270111,"post_id":74945833,"comment_id":132256927,"body_markdown":"Does [this](https://stackoverflow.com/q/4037458/1553851) help?","body":"Does <a href=\"https://stackoverflow.com/q/4037458/1553851\">this</a> help?"}],"owner":{"account_id":14193578,"reputation":943,"user_id":12214867,"display_name":"JJJohn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672269293,"creation_date":1672269293,"question_id":74945833,"body_markdown":"The `getBeanDefinitionNames()` method returns a list of beans. Similarly, I&#39;m trying to get a list of `Servlet`s.\r\n\r\nHere is the code\r\n\r\n    @RestController\r\n    public class HomeController {\r\n    \t@Autowired\r\n    \tServletContext context; \r\n    \r\n    \t@GetMapping\r\n    \tint home(){\r\n    \t\tEnumeration&lt;String&gt; servletNames = context.getServletNames();\r\n    \t\twhile (servletNames.hasMoreElements()) {\r\n    \t\t  String servletName = servletNames.nextElement();\r\n    \t\t\tSystem.out.println(servletName);\r\n    \t\t}\r\n    \t\treturn 200;\r\n    \t}\r\n    }\r\n\r\nHowever, the above code gets me nothing, as the doc says\r\n\r\n&gt; this method always returns an empty Enumeration\r\n\r\nHow do I get the actual list/enumeration?\r\n\r\nEnv: spring boot 2.7.7 + jdk 1.8.0_352","title":"The `getServletNames()` method returns empty, how do I get the actual list/enumeration?","body":"<p>The <code>getBeanDefinitionNames()</code> method returns a list of beans. Similarly, I'm trying to get a list of <code>Servlet</code>s.</p>\n<p>Here is the code</p>\n<pre><code>@RestController\npublic class HomeController {\n    @Autowired\n    ServletContext context; \n\n    @GetMapping\n    int home(){\n        Enumeration&lt;String&gt; servletNames = context.getServletNames();\n        while (servletNames.hasMoreElements()) {\n          String servletName = servletNames.nextElement();\n            System.out.println(servletName);\n        }\n        return 200;\n    }\n}\n</code></pre>\n<p>However, the above code gets me nothing, as the doc says</p>\n<blockquote>\n<p>this method always returns an empty Enumeration</p>\n</blockquote>\n<p>How do I get the actual list/enumeration?</p>\n<p>Env: spring boot 2.7.7 + jdk 1.8.0_352</p>\n"},{"tags":["java","android","android-studio","android-activity"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672259086,"post_id":74944379,"comment_id":132254639,"body_markdown":"You are talking twice about an update() function. Which i do not see.","body":"You are talking twice about an update() function. Which i do not see."}],"answers":[{"tags":[],"owner":{"account_id":6493537,"reputation":284,"user_id":5026806,"display_name":"Javier Refuerzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672268830,"creation_date":1672268830,"answer_id":74945788,"question_id":74944379,"body_markdown":"You will need to use start activity for result. The onclick listener does not have access to the activity it is staring\r\nhttps://developer.android.com/training/basics/intents/result\r\n\r\n\r\n```\r\n ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        Intent intent = result.getData();\r\n                        //get your image string here\r\n                    }\r\n                }\r\n            });\r\n```\r\nLaunch Activity\r\n\r\n```\r\n\r\nIntent myintent = new Intent(MainActivity.this, InputPicture.class);\r\nactivityResultLauncher.launch(myintent);\r\n\r\n\r\n```\r\nActivity which returns\r\n\r\n```\r\nIntent intent = new Intent();\r\n//set your image data to intent here\r\nactivity.setResult(Activity.RESULT_OK, intent);\r\nactivity.finish();\r\n```\r\n\r\n","title":"I have made an app which adds an image to a list using another activity, but when I return to the main one, nothing is saved","body":"<p>You will need to use start activity for result. The onclick listener does not have access to the activity it is staring\n<a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"nofollow noreferrer\">https://developer.android.com/training/basics/intents/result</a></p>\n<pre><code> ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        Intent intent = result.getData();\n                        //get your image string here\n                    }\n                }\n            });\n</code></pre>\n<p>Launch Activity</p>\n<pre><code>\nIntent myintent = new Intent(MainActivity.this, InputPicture.class);\nactivityResultLauncher.launch(myintent);\n\n\n</code></pre>\n<p>Activity which returns</p>\n<pre><code>Intent intent = new Intent();\n//set your image data to intent here\nactivity.setResult(Activity.RESULT_OK, intent);\nactivity.finish();\n</code></pre>\n"}],"owner":{"account_id":25262390,"reputation":49,"user_id":19093112,"display_name":"Kudor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672268830,"creation_date":1672256596,"question_id":74944379,"body_markdown":"Pressing an &quot;Add Image&quot; button in the main activity starts another &quot;Input Photo&quot; activity. I upload the photo to the &quot;Input Photo&quot; activity and click submit. When clicked, submit just passes the photo using .putExtra and then calls finish(). Then the flow is returned to the main activity, where the function update() updates the ListView:\r\n```\r\nprivate void updateLists(){\r\n        Intent intent = getIntent();\r\n        String imageFromInput = intent.getStringExtra(&quot;imageFromInput&quot;);\r\n\r\n        if(imageFromInput != null){\r\n            Uri imageFromInputURI = Uri.parse(imageFromInput);\r\n \r\n            listOfImages.add(imageFromInputURI);\r\n        }\r\n    }\r\n```\r\nThe update() function is called in the button &quot;Add Image&quot; listener.\r\n\r\nThis is the listener:\r\n```\r\nbuttonAddPhoto.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(getApplicationContext(), InputPicture.class);\r\n                startActivity(intent);\r\n\r\n                updateLists();\r\n                customBaseAdapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n```\r\n\r\nThe thing is, if I start a new main activity using startActivity() from the &quot;Input Photo&quot; activity, the main activity updates and shows the good ListView. Why the ListView updates only when I start a new instance of the main activity?\r\n\r\n","title":"I have made an app which adds an image to a list using another activity, but when I return to the main one, nothing is saved","body":"<p>Pressing an &quot;Add Image&quot; button in the main activity starts another &quot;Input Photo&quot; activity. I upload the photo to the &quot;Input Photo&quot; activity and click submit. When clicked, submit just passes the photo using .putExtra and then calls finish(). Then the flow is returned to the main activity, where the function update() updates the ListView:</p>\n<pre><code>private void updateLists(){\n        Intent intent = getIntent();\n        String imageFromInput = intent.getStringExtra(&quot;imageFromInput&quot;);\n\n        if(imageFromInput != null){\n            Uri imageFromInputURI = Uri.parse(imageFromInput);\n \n            listOfImages.add(imageFromInputURI);\n        }\n    }\n</code></pre>\n<p>The update() function is called in the button &quot;Add Image&quot; listener.</p>\n<p>This is the listener:</p>\n<pre><code>buttonAddPhoto.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(getApplicationContext(), InputPicture.class);\n                startActivity(intent);\n\n                updateLists();\n                customBaseAdapter.notifyDataSetChanged();\n            }\n        });\n</code></pre>\n<p>The thing is, if I start a new main activity using startActivity() from the &quot;Input Photo&quot; activity, the main activity updates and shows the good ListView. Why the ListView updates only when I start a new instance of the main activity?</p>\n"},{"tags":["java","rest","spring-boot","spring-security","authorization"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1537300535,"post_id":52393514,"comment_id":91732625,"body_markdown":"Make `TokenGeneration` a spring managed bean, and injected wherever it&#39;s needed.  But `TokenGeneration` is not thread safe - wrap the token in an `AtomicReference&lt;String&gt;`.  `token` doesn&#39;t need to be static.","body":"Make <code>TokenGeneration</code> a spring managed bean, and injected wherever it&#39;s needed.  But <code>TokenGeneration</code> is not thread safe - wrap the token in an <code>AtomicReference&lt;String&gt;</code>.  <code>token</code> doesn&#39;t need to be static."},{"owner":{"account_id":9974332,"reputation":99,"user_id":7379455,"display_name":"Ankur Goel"},"score":0,"creation_date":1537344293,"post_id":52393514,"comment_id":91745876,"body_markdown":"@AndrewS  i have done like this but how to use token in another class. private AtomicReference&lt;String&gt; token = new AtomicReference&lt;&gt;(); token.set(value). Do i need to generate getter and setter of this token ?","body":"@AndrewS  i have done like this but how to use token in another class. private AtomicReference&lt;String&gt; token = new AtomicReference&lt;&gt;(); token.set(value). Do i need to generate getter and setter of this token ?"},{"owner":{"account_id":9974332,"reputation":99,"user_id":7379455,"display_name":"Ankur Goel"},"score":0,"creation_date":1537348746,"post_id":52393514,"comment_id":91748498,"body_markdown":"@AndrewS how to autowire spring managed Bean i.e TokenGeneration  in another class. I tried with autowire it&#39;s giving me null every time.","body":"@AndrewS how to autowire spring managed Bean i.e TokenGeneration  in another class. I tried with autowire it&#39;s giving me null every time."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1537360624,"post_id":52393514,"comment_id":91755756,"body_markdown":"The other class must also be a spring managed bean.","body":"The other class must also be a spring managed bean."},{"owner":{"account_id":9974332,"reputation":99,"user_id":7379455,"display_name":"Ankur Goel"},"score":0,"creation_date":1537364181,"post_id":52393514,"comment_id":91758028,"body_markdown":"@AndrewS :  Service\npublic class TokenGeneration { } Now i autowired this class into interceptor like Component\npublic class RestTemplateInterceptor implements ClientHttpRequestInterceptor {\n\t\n\tAutowired\n\tprivate TokenGeneration tokenGeneration; Still giving null value of tokenGeneration","body":"@AndrewS :  Service public class TokenGeneration { } Now i autowired this class into interceptor like Component public class RestTemplateInterceptor implements ClientHttpRequestInterceptor { \t \tAutowired \tprivate TokenGeneration tokenGeneration; Still giving null value of tokenGeneration"},{"owner":{"account_id":12520696,"reputation":587,"user_id":9112160,"display_name":"UHDante"},"score":0,"creation_date":1564127330,"post_id":52393514,"comment_id":100935716,"body_markdown":"Did you implemented this solution? I have the same problem (JWT auth third party api) and i need to authenticate with it from my rest api. If you could share more info it will be great.","body":"Did you implemented this solution? I have the same problem (JWT auth third party api) and i need to authenticate with it from my rest api. If you could share more info it will be great."}],"answers":[{"comments":[{"owner":{"account_id":9974332,"reputation":99,"user_id":7379455,"display_name":"Ankur Goel"},"score":0,"creation_date":1537358850,"post_id":52403736,"comment_id":91754742,"body_markdown":"Thanks for you suggestion, I have made two restTemplate Bean in applicationConfig like : @Bean(&quot;securedRestTemplate&quot;)\n\t@Autowired\n\tRestTemplate securedRestTemplate() { } //add interceptor in this resTemplate and other restTemplate simple","body":"Thanks for you suggestion, I have made two restTemplate Bean in applicationConfig like : @Bean(&quot;securedRestTemplate&quot;) \t@Autowired \tRestTemplate securedRestTemplate() { } //add interceptor in this resTemplate and other restTemplate simple"}],"tags":[],"owner":{"account_id":5763684,"reputation":81,"user_id":4549256,"display_name":"Janaka"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537352924,"creation_date":1537352924,"answer_id":52403736,"question_id":52393514,"body_markdown":"1. It is the right approach\r\n2. Spring default scope is always singleton if not specified\r\n3. It is ok to use interceptor, but what if you want to call a API without a token?\r\n\r\nBest approach to use two separate methods to send request with token and without token using a separate class\r\n\r\n    @Component\r\n    public class RestClient {\r\n\r\n    @Autowired\r\n    RestTemplate restTemplate;\r\n\r\n    public HttpHeaders getRequestHeaderBearer() {\r\n\r\n\tHttpHeaders headers = new HttpHeaders();\r\n\r\n\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\theaders.add(HeaderParameters.AUTHORIZATION, HeaderParameters.BEARER + \r\n    TokenGeneration.token);\r\n\r\n\treturn headers;\r\n\r\n    }\r\n\r\n    public HttpHeaders getRequestHeader() {\r\n\r\n\tHttpHeaders headers = new HttpHeaders();\r\n\r\n\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n\treturn headers;\r\n\r\n    }\r\n\r\n    public &lt;T&gt; ResponseEntity&lt;T&gt; restExchangeBearer(String url, HttpMethod httpMethod,\r\n\t    Class&lt;T&gt; classObj) {\r\n\r\n\treturn restTemplate.exchange(url, httpMethod,\r\n\t\tnew HttpEntity&lt;&gt;(&quot;parameters&quot;, this.getRequestHeaderBearer()), classObj);\r\n\r\n    }\r\n\r\n    public &lt;T&gt; ResponseEntity&lt;T&gt; restExchange(String url, HttpMethod httpMethod,\r\n\t    Class&lt;T&gt; classObj) {\r\n\r\n\treturn restTemplate.exchange(url, httpMethod,\r\n\t\tnew HttpEntity&lt;&gt;(&quot;parameters&quot;, this.getRequestHeader()), classObj);\r\n\r\n    }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot : Token authentication(bearer) in request headers in rest api when token also comes from calling another api","body":"<ol>\n<li>It is the right approach</li>\n<li>Spring default scope is always singleton if not specified</li>\n<li>It is ok to use interceptor, but what if you want to call a API without a token?</li>\n</ol>\n\n<p>Best approach to use two separate methods to send request with token and without token using a separate class</p>\n\n<pre><code>@Component\npublic class RestClient {\n\n@Autowired\nRestTemplate restTemplate;\n\npublic HttpHeaders getRequestHeaderBearer() {\n\nHttpHeaders headers = new HttpHeaders();\n\nheaders.setContentType(MediaType.APPLICATION_JSON);\nheaders.add(HeaderParameters.AUTHORIZATION, HeaderParameters.BEARER + \nTokenGeneration.token);\n\nreturn headers;\n\n}\n\npublic HttpHeaders getRequestHeader() {\n\nHttpHeaders headers = new HttpHeaders();\n\nheaders.setContentType(MediaType.APPLICATION_JSON);\n\nreturn headers;\n\n}\n\npublic &lt;T&gt; ResponseEntity&lt;T&gt; restExchangeBearer(String url, HttpMethod httpMethod,\n    Class&lt;T&gt; classObj) {\n\nreturn restTemplate.exchange(url, httpMethod,\n    new HttpEntity&lt;&gt;(\"parameters\", this.getRequestHeaderBearer()), classObj);\n\n}\n\npublic &lt;T&gt; ResponseEntity&lt;T&gt; restExchange(String url, HttpMethod httpMethod,\n    Class&lt;T&gt; classObj) {\n\nreturn restTemplate.exchange(url, httpMethod,\n    new HttpEntity&lt;&gt;(\"parameters\", this.getRequestHeader()), classObj);\n\n}\n}\n</code></pre>\n"}],"owner":{"account_id":9974332,"reputation":99,"user_id":7379455,"display_name":"Ankur Goel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22249,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1672268820,"creation_date":1537299438,"question_id":52393514,"body_markdown":"In my spring boot Application i have a scheduler which calls an API to generate token which expires in 15 min. Time of scheduler is also 15 min. please find below sample: \r\n\r\n        public class TokenGeneration {\r\n    \tprivate static String token = null;\r\n    \r\n    \t@Scheduled(15 minutes)\r\n    \tpublic String fetchToken() {\r\n    \t\t// api call which return token\r\n    \t\tHttpEntity&lt;model&gt; response = restTemplate.exchange(uri, POST, entity, model.class);\r\n    \t\ttoken = response.getBody().getAccessToken();\r\n    \t}\r\n     }\r\nI stored token value in static variable from a non static method so that i can use this token variable wherever i want to use token value. is this right approach ? if not plz let me know how i can achieve this.\r\n\r\nDo i need to make TokenGeneration class singleton so that only one instance of this class is made throught application?\r\n\r\nAlso i want to create an interceptor or filter in which i can set Authorization headers and token value so that each request will populate authorization header automatically, i don&#39;t want to set authorization header in each request like this :\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n\t\theaders.set(CpsConstant.AUTHORIZATION, CpsConstant.BEARER + token);\r\n\r\nSo i tried with this custom interceptor :\r\n\r\n   \r\n\r\n     public class RestTemplateInterceptor implements ClientHttpRequestInterceptor{\r\n    \r\n    @Override\r\n    public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\r\n\r\n         String token = TokenGeneration.token;\r\n         request.getHeaders().add(&quot;Authorization&quot;, &quot;Bearer &quot; + token);    \r\n         return execution.execute(request, body);\r\n    }\r\n\r\nwill add this interceptor in restTemplate in config file.\r\n\r\nSo is this right approach for both token generation as well as setting headers for each request or any improvements need to be done in this approach ?\r\nMe thinking of calling token generation method in interceptor in case of token is null like :\r\n\r\n    if(token == null){\r\n    //call token generation fetchToken method \r\n    }\r\n\r\n\r\n\r\n","title":"Spring Boot : Token authentication(bearer) in request headers in rest api when token also comes from calling another api","body":"<p>In my spring boot Application i have a scheduler which calls an API to generate token which expires in 15 min. Time of scheduler is also 15 min. please find below sample: </p>\n\n<pre><code>    public class TokenGeneration {\n    private static String token = null;\n\n    @Scheduled(15 minutes)\n    public String fetchToken() {\n        // api call which return token\n        HttpEntity&lt;model&gt; response = restTemplate.exchange(uri, POST, entity, model.class);\n        token = response.getBody().getAccessToken();\n    }\n }\n</code></pre>\n\n<p>I stored token value in static variable from a non static method so that i can use this token variable wherever i want to use token value. is this right approach ? if not plz let me know how i can achieve this.</p>\n\n<p>Do i need to make TokenGeneration class singleton so that only one instance of this class is made throught application?</p>\n\n<p>Also i want to create an interceptor or filter in which i can set Authorization headers and token value so that each request will populate authorization header automatically, i don't want to set authorization header in each request like this :</p>\n\n<pre><code>HttpHeaders headers = new HttpHeaders();\n    headers.set(CpsConstant.AUTHORIZATION, CpsConstant.BEARER + token);\n</code></pre>\n\n<p>So i tried with this custom interceptor :</p>\n\n<pre><code> public class RestTemplateInterceptor implements ClientHttpRequestInterceptor{\n\n@Override\npublic ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n\n     String token = TokenGeneration.token;\n     request.getHeaders().add(\"Authorization\", \"Bearer \" + token);    \n     return execution.execute(request, body);\n}\n</code></pre>\n\n<p>will add this interceptor in restTemplate in config file.</p>\n\n<p>So is this right approach for both token generation as well as setting headers for each request or any improvements need to be done in this approach ?\nMe thinking of calling token generation method in interceptor in case of token is null like :</p>\n\n<pre><code>if(token == null){\n//call token generation fetchToken method \n}\n</code></pre>\n"},{"tags":["java","rest","http"],"answers":[{"tags":[],"owner":{"account_id":22259,"reputation":53888,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672268764,"creation_date":1672268764,"answer_id":74945785,"question_id":74943596,"body_markdown":"&gt; What is the correct way to name an endpoint for several parameters?\r\n\r\n[REST][1] doesn&#39;t care what spelling conventions you use for your resource identifiers.  Any spelling that is consistent with the production rules of [RFC 3986][2] is _fine_.\r\n\r\n```\r\n/customers/{id}\r\n/customers?status=&quot;nonPayers&quot;\r\n/customers/byId/{id}\r\n/customers/byStatus/{status}\r\n```\r\n\r\nThese spellings are all _fine_.\r\n\r\n----\r\n\r\n\r\nYou may find path segments more convenient when: you want to use relative references to link to nearby identifiers in the same identifier hierarchy.\r\n\r\nYou may find query parameters more convenient when: you expect to use HTML forms to capture the values that are going to be copied into the URI.\r\n\r\n----\r\n\r\nThe correct &quot;name&quot; for a resource is a lot like the correct &quot;name&quot; for a function in your code -- any spelling that is consistent with local conventions is fine.\r\n\r\n  [1]: https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm\r\n  [2]: https://tools.ietf.org/html/rfc3986#appendix-A","title":"What is the correct way to name an endpoint for several parameters?","body":"<blockquote>\n<p>What is the correct way to name an endpoint for several parameters?</p>\n</blockquote>\n<p><a href=\"https://www.ics.uci.edu/%7Efielding/pubs/dissertation/rest_arch_style.htm\" rel=\"nofollow noreferrer\">REST</a> doesn't care what spelling conventions you use for your resource identifiers.  Any spelling that is consistent with the production rules of <a href=\"https://tools.ietf.org/html/rfc3986#appendix-A\" rel=\"nofollow noreferrer\">RFC 3986</a> is <em>fine</em>.</p>\n<pre><code>/customers/{id}\n/customers?status=&quot;nonPayers&quot;\n/customers/byId/{id}\n/customers/byStatus/{status}\n</code></pre>\n<p>These spellings are all <em>fine</em>.</p>\n<hr />\n<p>You may find path segments more convenient when: you want to use relative references to link to nearby identifiers in the same identifier hierarchy.</p>\n<p>You may find query parameters more convenient when: you expect to use HTML forms to capture the values that are going to be copied into the URI.</p>\n<hr />\n<p>The correct &quot;name&quot; for a resource is a lot like the correct &quot;name&quot; for a function in your code -- any spelling that is consistent with local conventions is fine.</p>\n"}],"owner":{"account_id":17217428,"reputation":53,"user_id":13959870,"display_name":"fckNewbee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1672268764,"creation_date":1672250848,"question_id":74943596,"body_markdown":"I have some list that comes back as a response to frontend.\r\n\r\nFor example, I have a list of customers. I have 3 variations of the answer to the frontend.\r\nWhen I give the entire list of customers in its entirety. \r\nWhen I need to give a specific customer.\r\nAnd when I need to give customers by their status. For example status: &quot;non-payers&quot;.\r\n\r\nAt the moment I have the following REST structure.\r\n\r\n    /customers\r\n\r\n    /customers/{id}\r\n\r\n    /customers?status=&quot;nonPayers&quot;\r\n\r\nI&#39;m most interested in the last two endpoints. How right is it that I use a parameter rather than a pathVariable in a method where I get customers by their status? Is it in terms of REST?\r\n\r\nWouldn&#39;t it be better to do it like this:\r\n\r\n    /customers\r\n\r\n    /customers/byId/{id}\r\n\r\n    /customers/byStatus/{status}","title":"What is the correct way to name an endpoint for several parameters?","body":"<p>I have some list that comes back as a response to frontend.</p>\n<p>For example, I have a list of customers. I have 3 variations of the answer to the frontend.\nWhen I give the entire list of customers in its entirety.\nWhen I need to give a specific customer.\nAnd when I need to give customers by their status. For example status: &quot;non-payers&quot;.</p>\n<p>At the moment I have the following REST structure.</p>\n<pre><code>/customers\n\n/customers/{id}\n\n/customers?status=&quot;nonPayers&quot;\n</code></pre>\n<p>I'm most interested in the last two endpoints. How right is it that I use a parameter rather than a pathVariable in a method where I get customers by their status? Is it in terms of REST?</p>\n<p>Wouldn't it be better to do it like this:</p>\n<pre><code>/customers\n\n/customers/byId/{id}\n\n/customers/byStatus/{status}\n</code></pre>\n"},{"tags":["java","docker","gradle","libgdx","jlink"],"comments":[{"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"score":0,"creation_date":1601755280,"post_id":62451955,"comment_id":113506234,"body_markdown":"So what was the solution you eventually found? I think I can guess what it is. I investigated something similar-sounding recently. Incidentally, this is the best, most well-documented question I&#39;ve ever come across in 5+ years of using Stack Overflow! Good job!","body":"So what was the solution you eventually found? I think I can guess what it is. I investigated something similar-sounding recently. Incidentally, this is the best, most well-documented question I&#39;ve ever come across in 5+ years of using Stack Overflow! Good job!"},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1601830346,"post_id":62451955,"comment_id":113521297,"body_markdown":"@deduper I kept digging a bit after writing this question, but could never figure it out fully. It turns out some C libraries used by libGDX weren&#39;t included in the ``alpine`` image, so I added those in, and then I kept hitting other walls. It&#39;s mostly a question of properly configuring `alpine` for a software which uses OpenGL/LWJGL stuff, I think (but not certain).","body":"@deduper I kept digging a bit after writing this question, but could never figure it out fully. It turns out some C libraries used by libGDX weren&#39;t included in the <code>alpine</code> image, so I added those in, and then I kept hitting other walls. It&#39;s mostly a question of properly configuring <code>alpine</code> for a software which uses OpenGL/LWJGL stuff, I think (but not certain)."},{"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"score":1,"creation_date":1601832586,"post_id":62451955,"comment_id":113521895,"body_markdown":"Unlike most Linux distros, Alpine/Busybox-based ones use the [*`musl` C library*](https://www.musl-libc.org/faq.html). And *`musl`* is incompatible with the JDK/jlink; which are compiled with the [*`glibc`* library](https://www.gnu.org/software/libc/) for OpenJDK Linux builds. If Alpine is a must have, you&#39;ll have to find an image that&#39;s specifically built with *`glibc`*. They&#39;re out there. In fact the *`openjdk:14-jdk-alpine`* one in your first Dockerfile foots the bill I think. BTW, when you do *`./gradlew desktop:jre`* or *`./gradlew desktop:runtime`* what OS are you calling that on? TIA.","body":"Unlike most Linux distros, Alpine/Busybox-based ones use the <a href=\"https://www.musl-libc.org/faq.html\" rel=\"nofollow noreferrer\"><i><code>musl</code> C library</i></a>. And <i><code>musl</code></i> is incompatible with the JDK/jlink; which are compiled with the <a href=\"https://www.gnu.org/software/libc/\" rel=\"nofollow noreferrer\"><i><code>glibc</code></i> library</a> for OpenJDK Linux builds. If Alpine is a must have, you&#39;ll have to find an image that&#39;s specifically built with <i><code>glibc</code></i>. They&#39;re out there. In fact the <i><code>openjdk:14-jdk-alpine</code></i> one in your first Dockerfile foots the bill I think. BTW, when you do <i><code>.&#47;gradlew desktop:jre</code></i> or <i><code>.&#47;gradlew desktop:runtime</code></i> what OS are you calling that on? TIA."},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1601866812,"post_id":62451955,"comment_id":113529066,"body_markdown":"@deduper ``alpine`` is not required: it&#39;s just that I was aiming for a lightweight container. The point in using `jlink` is specifically to reduce the size of the JRE, so using a full JDK image defeats the purpose. Using `jpackage`, I wanted to include the trimmed-down JRE produced by `jlink` so that I do not need any JDK whatsoever on any image that would run this container.","body":"@deduper <code>alpine</code> is not required: it&#39;s just that I was aiming for a lightweight container. The point in using <code>jlink</code> is specifically to reduce the size of the JRE, so using a full JDK image defeats the purpose. Using <code>jpackage</code>, I wanted to include the trimmed-down JRE produced by <code>jlink</code> so that I do not need any JDK whatsoever on any image that would run this container."},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1601866839,"post_id":62451955,"comment_id":113529075,"body_markdown":"I have been launching the container on a Linux headless server.","body":"I have been launching the container on a Linux headless server."},{"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"score":0,"creation_date":1601908597,"post_id":62451955,"comment_id":113544758,"body_markdown":"„*…I have been launching the container on a Linux headless server…*“ —  OK. But when you do *`./gradlew desktop:jre`* or *`./gradlew desktop:runtime`* you aren&#39;t ***launching*** the container with those commands. Are you? Those commands ***create*** the *`jlink`* / *`jpackage`* jre and runtime respectively. Right?  Isn&#39;t ***launching*** what&#39;s happening as a result of executing your *`bootsrap.sh`* file: *`./server`*? What ***distro*** of Linux are you on when you call those two ***creation*** commands: (***1***) *`./gradlew desktop:jre`* (***2***) *`./gradlew desktop:runtime`*? TIA.","body":"„<i>…I have been launching the container on a Linux headless server…</i>“ —  OK. But when you do <i><code>.&#47;gradlew desktop:jre</code></i> or <i><code>.&#47;gradlew desktop:runtime</code></i> you aren&#39;t <b><i>launching</i></b> the container with those commands. Are you? Those commands <b><i>create</i></b> the <i><code>jlink</code></i> / <i><code>jpackage</code></i> jre and runtime respectively. Right?  Isn&#39;t <b><i>launching</i></b> what&#39;s happening as a result of executing your <i><code>bootsrap.sh</code></i> file: <i><code>.&#47;server</code></i>? What <b><i>distro</i></b> of Linux are you on when you call those two <b><i>creation</i></b> commands: (<b><i>1</i></b>) <i><code>.&#47;gradlew desktop:jre</code></i> (<b><i>2</i></b>) <i><code>.&#47;gradlew desktop:runtime</code></i>? TIA."},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1601932815,"post_id":62451955,"comment_id":113555072,"body_markdown":"@deduper Ouch, okay. This Dockerfile gets processed by AWS ECS, to be more precise. But ECS indeed calls `bootstrap.sh` to launch the server.. The *actual* CI/CD code that is run is shown in [this file](https://github.com/payne911/marvelous-bob/blob/dev/.github/workflows/aws.yml): it published on DockerHub, and then updates the JSON configuring ECS&#39;s image uri to point to that. Ultimately, after having its JSON updated, `bootstrap.sh` is called to launch the service task. The Linux distro would be in the AWS documentation... they use some custom stuff most probably.","body":"@deduper Ouch, okay. This Dockerfile gets processed by AWS ECS, to be more precise. But ECS indeed calls <code>bootstrap.sh</code> to launch the server.. The <i>actual</i> CI/CD code that is run is shown in <a href=\"https://github.com/payne911/marvelous-bob/blob/dev/.github/workflows/aws.yml\" rel=\"nofollow noreferrer\">this file</a>: it published on DockerHub, and then updates the JSON configuring ECS&#39;s image uri to point to that. Ultimately, after having its JSON updated, <code>bootstrap.sh</code> is called to launch the service task. The Linux distro would be in the AWS documentation... they use some custom stuff most probably."},{"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"score":0,"creation_date":1601938256,"post_id":62451955,"comment_id":113556661,"body_markdown":"„*Ouch*“ — Didn&#39;t intend it that way. Sry. I&#39;m only trying to reproduce your errors. — „*This Dockerfile gets processed by AWS ECS*“ —  So you never directly call *`./gradlew server:jpackageImage`* or *`./gradlew server:jpackage`* on your local machine? Long story short: This „[*`runs-on: ubuntu-latest`*](https://github.com/payne911/marvelous-bob/blob/dev/.github/workflows/aws.yml#L17)“ is more than likely behind your „*`./server: file not found`*“. I&#39;ve seen that before when running a runtime on Alpine that was built on Ubuntu. I&#39;ve successfully built + started your server runtime on Alpine.","body":"„<i>Ouch</i>“ — Didn&#39;t intend it that way. Sry. I&#39;m only trying to reproduce your errors. — „<i>This Dockerfile gets processed by AWS ECS</i>“ —  So you never directly call <i><code>.&#47;gradlew server:jpackageImage</code></i> or <i><code>.&#47;gradlew server:jpackage</code></i> on your local machine? Long story short: This „<a href=\"https://github.com/payne911/marvelous-bob/blob/dev/.github/workflows/aws.yml#L17\" rel=\"nofollow noreferrer\"><i><code>runs-on: ubuntu-latest</code></i></a>“ is more than likely behind your „<i><code>.&#47;server: file not found</code></i>“. I&#39;ve seen that before when running a runtime on Alpine that was built on Ubuntu. I&#39;ve successfully built + started your server runtime on Alpine."},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1601941123,"post_id":62451955,"comment_id":113557260,"body_markdown":"@deduper no worries, no offense taken. However, the thing is that this is from a few months ago, and since my attempts only lead to failures, I ended up keeping my ``shadowJar`` approach. Now my memory is failing me a bit. Since you&#39;re actually interested in this issue (and I am too), maybe we should move into a chat? (I&#39;m not sure how to create a link for a SO-chat room, though. I think SO will just propose us a link pretty soon.)","body":"@deduper no worries, no offense taken. However, the thing is that this is from a few months ago, and since my attempts only lead to failures, I ended up keeping my <code>shadowJar</code> approach. Now my memory is failing me a bit. Since you&#39;re actually interested in this issue (and I am too), maybe we should move into a chat? (I&#39;m not sure how to create a link for a SO-chat room, though. I think SO will just propose us a link pretty soon.)"},{"owner":{"account_id":5640884,"reputation":1954,"user_id":4465539,"accept_rate":33,"display_name":"deduper"},"score":0,"creation_date":1601942152,"post_id":62451955,"comment_id":113557438,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/222569/discussion-between-deduper-and-payne).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/222569/discussion-between-deduper-and-payne\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672268750,"creation_date":1672268750,"answer_id":74945782,"question_id":62451955,"body_markdown":"@deduper seems to have figured it out (see https://chat.stackoverflow.com/rooms/222569/discussion-between-deduper-and-payne), but I didn&#39;t have time to go back and make sure his analysis is right.\r\n\r\nIn theory, it does make a lot of sense, so I&#39;m posting it nonetheless as an answer:\r\n\r\n&gt; I&#39;m pretty sure the main cause of the errors you describe in your question is because you built the runtime on either Windows 10 or Ubuntu; then tried to deploy and run the runtime on Alpine.\r\n\r\nI won&#39;t accept my answer because I haven&#39;t made a confirmation of this yet, but I&#39;m nonetheless posting it in case others encounter this problem and want a probable clue.","title":"Alpine Docker Image to run JLink executable","body":"<p>@deduper seems to have figured it out (see <a href=\"https://chat.stackoverflow.com/rooms/222569/discussion-between-deduper-and-payne\">https://chat.stackoverflow.com/rooms/222569/discussion-between-deduper-and-payne</a>), but I didn't have time to go back and make sure his analysis is right.</p>\n<p>In theory, it does make a lot of sense, so I'm posting it nonetheless as an answer:</p>\n<blockquote>\n<p>I'm pretty sure the main cause of the errors you describe in your question is because you built the runtime on either Windows 10 or Ubuntu; then tried to deploy and run the runtime on Alpine.</p>\n</blockquote>\n<p>I won't accept my answer because I haven't made a confirmation of this yet, but I'm nonetheless posting it in case others encounter this problem and want a probable clue.</p>\n"}],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1328,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1672268750,"creation_date":1592489435,"question_id":62451955,"body_markdown":"My current Docker image is approximately `200MB`. My goal is to reduce that as much as possible, so I thought the `alpine` image would be a great way to achieve that. However, I keep encountering roadblocks.\r\n\r\nIt&#39;s a multi-module libGDX project that uses Java 14 and its preview features, along with `JLink` (from `JPackage`) to produce a custom (lightweight) JRE.\r\n\r\nI only care to deploy the `server` module, which depends on the `common` module (which the `client` module also uses).\r\n\r\nI&#39;ll be providing all the necessary files below, but in case I&#39;m missing something, here is a link to the repo: https://github.com/payne911/marvelous-bob/tree/dev\r\n\r\n# Current problem\r\n\r\nI either get:\r\n\r\n* when executing `./server`: `file not found` for an executable file which **I know exists and is executable** where I&#39;m trying to run it in the Docker Image\r\n* when executing `apk add --no-cache someLibrary`: a `segfault: core dumped` when trying to download libraries in my `ENTRYPOINT` which I thought were required to execute that file (`libstdc++` and `libc6-compat`)\r\n\r\n# Goal\r\n\r\nReusable lightweight Docker Image which contains everything to run libGDX executables generated by JLink.\r\n\r\n# Current files which are in a working state and I&#39;m trying to refactor\r\n\r\n## `Dockerfile`\r\n\r\n    FROM openjdk:14-jdk-alpine\r\n    COPY server/build/libs/server-all.jar /app.jar\r\n    COPY utils/deploys/bootstrap.sh /bootstrap.sh\r\n    RUN chmod +x /bootstrap.sh\r\n    EXPOSE 80\r\n    ENTRYPOINT [&quot;./bootstrap.sh&quot;]\r\n\r\n## `bootstrap.sh`\r\n\r\n    #!/usr/bin/env sh\r\n    echo &quot;========== LAUNCHING SERVER APP =========&quot;\r\n    apk add --no-cache libstdc++\r\n    java --enable-preview -jar /app.jar\r\n\r\n## `build.gradle` files\r\n\r\n### root\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenLocal()\r\n            mavenCentral()\r\n            maven { url &quot;https://plugins.gradle.org/m2/&quot; }\r\n            maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\r\n            jcenter()\r\n            google()\r\n        }\r\n        dependencies {\r\n        }\r\n    }\r\n    \r\n    // to force download of sources and JavaDoc\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;idea&#39;\r\n    }\r\n    idea {\r\n        module {\r\n            downloadJavadoc = true\r\n            downloadSources = true\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n    \r\n        version = &#39;1.0&#39;\r\n        ext {\r\n            appName = &quot;marvelous-bob&quot;\r\n            gdxVersion = &#39;1.9.10&#39;\r\n            roboVMVersion = &#39;2.3.7&#39;\r\n            box2DLightsVersion = &#39;1.5&#39;\r\n            ashleyVersion = &#39;1.7.0&#39;\r\n            aiVersion = &#39;1.8.2&#39;\r\n    \r\n            slf4j = &#39;1.7.26&#39;\r\n            logback = &#39;1.2.3&#39;\r\n            lombok = &#39;1.18.12&#39;\r\n            kryonet = &#39;2.22.6&#39;\r\n            reflectionsVersion = &#39;0.9.12&#39;\r\n    \r\n            pieMenuVersion = &#39;4.2.0&#39;\r\n            shapeDrawer = &#39;2.3.0&#39;\r\n        }\r\n    \r\n        repositories {\r\n            mavenLocal()\r\n            mavenCentral()\r\n            jcenter()\r\n            google()\r\n            maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\r\n            maven { url &quot;https://oss.sonatype.org/content/repositories/releases/&quot; }\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n    }\r\n    \r\n    project(&quot;:desktop&quot;) {\r\n        apply plugin: &quot;java-library&quot;\r\n    \r\n    \r\n        dependencies {\r\n            api project(&quot;:client&quot;)\r\n            api &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-tools:$gdxVersion&quot;\r\n        }\r\n    }\r\n    \r\n    project(&quot;:client&quot;) {\r\n        apply plugin: &quot;java-library&quot;\r\n    \r\n    \r\n        dependencies {\r\n            api project(&quot;:common&quot;)\r\n            api &quot;com.badlogicgames.gdx:gdx-backend-lwjgl:$gdxVersion&quot;\r\n    \r\n            api &quot;space.earlygrey:shapedrawer:$shapeDrawer&quot;\r\n            api &quot;com.github.payne911:PieMenu:$pieMenuVersion&quot;\r\n        }\r\n    }\r\n    \r\n    project(&quot;:server&quot;) {\r\n        apply plugin: &quot;java-library&quot;\r\n    \r\n    \r\n        dependencies {\r\n            api project(&quot;:common&quot;)\r\n            api &quot;com.badlogicgames.gdx:gdx-backend-headless:$gdxVersion&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop&quot;\r\n        }\r\n    }\r\n    \r\n    project(&quot;:common&quot;) {\r\n        apply plugin: &quot;java-library&quot;\r\n    \r\n    \r\n        dependencies {\r\n            api &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-box2d:$gdxVersion&quot;\r\n            api &quot;com.badlogicgames.box2dlights:box2dlights:$box2DLightsVersion&quot;\r\n            api &quot;com.badlogicgames.gdx:gdx-ai:$aiVersion&quot;\r\n    \r\n            // todo: do we need both logging libraries? p.s. kryonet uses Minlog\r\n            api &quot;org.slf4j:slf4j-api:$slf4j&quot;\r\n            api &quot;ch.qos.logback:logback-classic:$logback&quot;\r\n            api &quot;com.github.crykn:kryonet:$kryonet&quot;\r\n            api &quot;org.reflections:reflections:$reflectionsVersion&quot;\r\n        }\r\n    }\r\n\r\n### common\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;io.freefair.lombok&#39; version &#39;5.1.0&#39;\r\n    }\r\n    \r\n    sourceCompatibility = 14\r\n    [compileJava, compileTestJava]*.options*.encoding = &#39;UTF-8&#39;\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.compilerArgs += &quot;--enable-preview&quot;\r\n    }\r\n    tasks.withType(Test) {\r\n        jvmArgs += &quot;--enable-preview&quot;\r\n    }\r\n    tasks.withType(JavaExec) {\r\n        jvmArgs += &#39;--enable-preview&#39;\r\n    }\r\n    \r\n    sourceSets.main.java.srcDirs = [ &quot;src/&quot; ]\r\n    \r\n    jar {\r\n        from(&#39;src&#39;) {\r\n            include &#39;**/*.properties&#39;\r\n        }\r\n    }\r\n\r\n### server\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;io.freefair.lombok&#39; version &#39;5.1.0&#39;\r\n        id &#39;com.github.johnrengelman.shadow&#39; version &#39;5.2.0&#39;\r\n    }\r\n    \r\n    sourceCompatibility = 14\r\n    [compileJava, compileTestJava]*.options*.encoding = &#39;UTF-8&#39;\r\n    tasks.withType(JavaCompile) {\r\n        options.compilerArgs += &quot;--enable-preview&quot;\r\n    }\r\n    tasks.withType(Test) {\r\n        jvmArgs += &quot;--enable-preview&quot;\r\n    }\r\n    tasks.withType(JavaExec) {\r\n        jvmArgs += &#39;--enable-preview&#39;\r\n    }\r\n    sourceSets.main.java.srcDirs = [ &quot;src/&quot; ]\r\n    \r\n    jar {\r\n        project.version=&quot;&quot; // to remove version number from the built jar&#39;s name\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;com.marvelousbob.server.BobServerLauncher&#39;\r\n        }\r\n    }\r\n\r\n## GitHub Actions yml file\r\n\r\n    jobs:\r\n      deploy:\r\n        name: Deploy\r\n        runs-on: ubuntu-latest\r\n    \r\n        steps:\r\n          - name: Checkout\r\n            uses: actions/checkout@v2\r\n    \r\n          - name: Setup with Java 14\r\n            id: java-setup\r\n            uses: actions/setup-java@v1\r\n            with:\r\n              java-version: 14\r\n    \r\n          - name: Allow GitHub Actions to run Gradlew\r\n            run: chmod u+x gradlew\r\n    \r\n          - name: Run Gradle build\r\n            id: gradle-build\r\n            uses: eskatos/gradle-command-action@v1\r\n            with:\r\n              arguments: shadowJar\r\n    \r\n          # more stuff ...\r\n\r\n# What I&#39;ve tried\r\n\r\nSo many things, for days! Here was the state of my last attempt.\r\n\r\n## `Dockerfile`\r\n\r\n    FROM alpine:3.7\r\n    COPY server/build/jpackage/server /server\r\n    FROM openjdk:14-jdk-alpine\r\n    COPY server/build/libs/server-all.jar /app.jar\r\n    COPY utils/deploys/bootstrap.sh /bootstrap.sh\r\n    RUN chmod +x /bootstrap.sh\r\n    EXPOSE 80\r\n    ENTRYPOINT [&quot;./bootstrap.sh&quot;]\r\n\r\n## `bootstrap.sh`\r\n\r\n    #!/bin/sh\r\n    echo &quot;========== LAUNCHING SERVER APP =========&quot;\r\n    cd /server/bin\r\n    chmod +x server\r\n    ./server\r\n\r\n## `build.gradle`\r\n\r\n### root\r\n\r\nSame as other one.\r\n\r\n### common\r\n\r\nSame as other one.\r\n\r\n### server\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;io.freefair.lombok&#39; version &#39;5.1.0&#39;\r\n        id &#39;org.beryx.runtime&#39; version &#39;1.8.4&#39;\r\n    }\r\n    \r\n    sourceCompatibility = 14\r\n    [compileJava, compileTestJava]*.options*.encoding = &#39;UTF-8&#39;\r\n    tasks.withType(JavaCompile) {\r\n        options.compilerArgs += &quot;--enable-preview&quot;\r\n    }\r\n    tasks.withType(Test) {\r\n        jvmArgs += &quot;--enable-preview&quot;\r\n    }\r\n    tasks.withType(JavaExec) {\r\n        jvmArgs += &#39;--enable-preview&#39;\r\n    }\r\n    sourceSets.main.java.srcDirs = [ &quot;src/&quot; ]\r\n    \r\n    mainClassName = &quot;com.marvelousbob.server.BobServerLauncher&quot;\r\n    \r\n    task dist(type: Jar) {\r\n        project.version=&quot;1&quot; // adjust the CI/CD if you change this\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: project.mainClassName\r\n        }\r\n        from {\r\n            configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n        with jar\r\n    \r\n        destinationDirectory = file(&quot;$buildDir/lib&quot;)\r\n    }\r\n    \r\n    jpackageImage.dependsOn dist\r\n    dist.dependsOn classes\r\n    \r\n    // JLink configuration to minimize size of generated jar\r\n    runtime {\r\n        options = [&#39;--strip-debug&#39;,\r\n                   &#39;--compress&#39;, &#39;2&#39;,\r\n                   &#39;--no-header-files&#39;,\r\n                   &#39;--no-man-pages&#39;,\r\n                   &#39;--strip-native-commands&#39;,\r\n                   &#39;--vm&#39;, &#39;server&#39;]\r\n        modules = [&#39;java.base&#39; ,\r\n                   &#39;java.desktop&#39;,\r\n                   &#39;jdk.unsupported&#39;]\r\n        distDir = file(buildDir)\r\n    \r\n        jpackage {\r\n            //jpackageHome = &#39;/usr/lib/jvm/open-jdk&#39;\r\n            mainJar = dist.archiveFileName.get()\r\n        }\r\n    }\r\n\r\n## Github Actions yml file\r\n\r\n    jobs:\r\n      deploy:\r\n        name: Deploy\r\n        runs-on: ubuntu-latest\r\n    \r\n        steps:\r\n          - name: Checkout\r\n            uses: actions/checkout@v2\r\n    \r\n          - name: Setup with Java 14\r\n            id: java-setup\r\n            uses: actions/setup-java@v1\r\n            with:\r\n              java-version: 14\r\n    \r\n          - name: Building with Gradlew\r\n            run: |\r\n              chmod u+x gradlew\r\n              ./gradlew server:jpackageImage\r\n    \r\n          # more stuff ...","title":"Alpine Docker Image to run JLink executable","body":"<p>My current Docker image is approximately <code>200MB</code>. My goal is to reduce that as much as possible, so I thought the <code>alpine</code> image would be a great way to achieve that. However, I keep encountering roadblocks.</p>\n\n<p>It's a multi-module libGDX project that uses Java 14 and its preview features, along with <code>JLink</code> (from <code>JPackage</code>) to produce a custom (lightweight) JRE.</p>\n\n<p>I only care to deploy the <code>server</code> module, which depends on the <code>common</code> module (which the <code>client</code> module also uses).</p>\n\n<p>I'll be providing all the necessary files below, but in case I'm missing something, here is a link to the repo: <a href=\"https://github.com/payne911/marvelous-bob/tree/dev\" rel=\"nofollow noreferrer\">https://github.com/payne911/marvelous-bob/tree/dev</a></p>\n\n<h1>Current problem</h1>\n\n<p>I either get:</p>\n\n<ul>\n<li>when executing <code>./server</code>: <code>file not found</code> for an executable file which <strong>I know exists and is executable</strong> where I'm trying to run it in the Docker Image</li>\n<li>when executing <code>apk add --no-cache someLibrary</code>: a <code>segfault: core dumped</code> when trying to download libraries in my <code>ENTRYPOINT</code> which I thought were required to execute that file (<code>libstdc++</code> and <code>libc6-compat</code>)</li>\n</ul>\n\n<h1>Goal</h1>\n\n<p>Reusable lightweight Docker Image which contains everything to run libGDX executables generated by JLink.</p>\n\n<h1>Current files which are in a working state and I'm trying to refactor</h1>\n\n<h2><code>Dockerfile</code></h2>\n\n<pre><code>FROM openjdk:14-jdk-alpine\nCOPY server/build/libs/server-all.jar /app.jar\nCOPY utils/deploys/bootstrap.sh /bootstrap.sh\nRUN chmod +x /bootstrap.sh\nEXPOSE 80\nENTRYPOINT [\"./bootstrap.sh\"]\n</code></pre>\n\n<h2><code>bootstrap.sh</code></h2>\n\n<pre><code>#!/usr/bin/env sh\necho \"========== LAUNCHING SERVER APP =========\"\napk add --no-cache libstdc++\njava --enable-preview -jar /app.jar\n</code></pre>\n\n<h2><code>build.gradle</code> files</h2>\n\n<h3>root</h3>\n\n<pre><code>buildscript {\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        maven { url \"https://plugins.gradle.org/m2/\" }\n        maven { url \"https://oss.sonatype.org/content/repositories/snapshots/\" }\n        jcenter()\n        google()\n    }\n    dependencies {\n    }\n}\n\n// to force download of sources and JavaDoc\nplugins {\n    id 'java'\n    id 'idea'\n}\nidea {\n    module {\n        downloadJavadoc = true\n        downloadSources = true\n    }\n}\n\nallprojects {\n\n    version = '1.0'\n    ext {\n        appName = \"marvelous-bob\"\n        gdxVersion = '1.9.10'\n        roboVMVersion = '2.3.7'\n        box2DLightsVersion = '1.5'\n        ashleyVersion = '1.7.0'\n        aiVersion = '1.8.2'\n\n        slf4j = '1.7.26'\n        logback = '1.2.3'\n        lombok = '1.18.12'\n        kryonet = '2.22.6'\n        reflectionsVersion = '0.9.12'\n\n        pieMenuVersion = '4.2.0'\n        shapeDrawer = '2.3.0'\n    }\n\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        jcenter()\n        google()\n        maven { url \"https://oss.sonatype.org/content/repositories/snapshots/\" }\n        maven { url \"https://oss.sonatype.org/content/repositories/releases/\" }\n        maven { url 'https://jitpack.io' }\n    }\n}\n\nproject(\":desktop\") {\n    apply plugin: \"java-library\"\n\n\n    dependencies {\n        api project(\":client\")\n        api \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop\"\n        api \"com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop\"\n        api \"com.badlogicgames.gdx:gdx-tools:$gdxVersion\"\n    }\n}\n\nproject(\":client\") {\n    apply plugin: \"java-library\"\n\n\n    dependencies {\n        api project(\":common\")\n        api \"com.badlogicgames.gdx:gdx-backend-lwjgl:$gdxVersion\"\n\n        api \"space.earlygrey:shapedrawer:$shapeDrawer\"\n        api \"com.github.payne911:PieMenu:$pieMenuVersion\"\n    }\n}\n\nproject(\":server\") {\n    apply plugin: \"java-library\"\n\n\n    dependencies {\n        api project(\":common\")\n        api \"com.badlogicgames.gdx:gdx-backend-headless:$gdxVersion\"\n        api \"com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop\"\n    }\n}\n\nproject(\":common\") {\n    apply plugin: \"java-library\"\n\n\n    dependencies {\n        api \"com.badlogicgames.gdx:gdx:$gdxVersion\"\n        api \"com.badlogicgames.gdx:gdx-box2d:$gdxVersion\"\n        api \"com.badlogicgames.box2dlights:box2dlights:$box2DLightsVersion\"\n        api \"com.badlogicgames.gdx:gdx-ai:$aiVersion\"\n\n        // todo: do we need both logging libraries? p.s. kryonet uses Minlog\n        api \"org.slf4j:slf4j-api:$slf4j\"\n        api \"ch.qos.logback:logback-classic:$logback\"\n        api \"com.github.crykn:kryonet:$kryonet\"\n        api \"org.reflections:reflections:$reflectionsVersion\"\n    }\n}\n</code></pre>\n\n<h3>common</h3>\n\n<pre><code>plugins {\n    id 'java'\n    id 'io.freefair.lombok' version '5.1.0'\n}\n\nsourceCompatibility = 14\n[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'\n\ntasks.withType(JavaCompile) {\n    options.compilerArgs += \"--enable-preview\"\n}\ntasks.withType(Test) {\n    jvmArgs += \"--enable-preview\"\n}\ntasks.withType(JavaExec) {\n    jvmArgs += '--enable-preview'\n}\n\nsourceSets.main.java.srcDirs = [ \"src/\" ]\n\njar {\n    from('src') {\n        include '**/*.properties'\n    }\n}\n</code></pre>\n\n<h3>server</h3>\n\n<pre><code>plugins {\n    id 'java'\n    id 'io.freefair.lombok' version '5.1.0'\n    id 'com.github.johnrengelman.shadow' version '5.2.0'\n}\n\nsourceCompatibility = 14\n[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'\ntasks.withType(JavaCompile) {\n    options.compilerArgs += \"--enable-preview\"\n}\ntasks.withType(Test) {\n    jvmArgs += \"--enable-preview\"\n}\ntasks.withType(JavaExec) {\n    jvmArgs += '--enable-preview'\n}\nsourceSets.main.java.srcDirs = [ \"src/\" ]\n\njar {\n    project.version=\"\" // to remove version number from the built jar's name\n    manifest {\n        attributes 'Main-Class': 'com.marvelousbob.server.BobServerLauncher'\n    }\n}\n</code></pre>\n\n<h2>GitHub Actions yml file</h2>\n\n<pre><code>jobs:\n  deploy:\n    name: Deploy\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v2\n\n      - name: Setup with Java 14\n        id: java-setup\n        uses: actions/setup-java@v1\n        with:\n          java-version: 14\n\n      - name: Allow GitHub Actions to run Gradlew\n        run: chmod u+x gradlew\n\n      - name: Run Gradle build\n        id: gradle-build\n        uses: eskatos/gradle-command-action@v1\n        with:\n          arguments: shadowJar\n\n      # more stuff ...\n</code></pre>\n\n<h1>What I've tried</h1>\n\n<p>So many things, for days! Here was the state of my last attempt.</p>\n\n<h2><code>Dockerfile</code></h2>\n\n<pre><code>FROM alpine:3.7\nCOPY server/build/jpackage/server /server\nFROM openjdk:14-jdk-alpine\nCOPY server/build/libs/server-all.jar /app.jar\nCOPY utils/deploys/bootstrap.sh /bootstrap.sh\nRUN chmod +x /bootstrap.sh\nEXPOSE 80\nENTRYPOINT [\"./bootstrap.sh\"]\n</code></pre>\n\n<h2><code>bootstrap.sh</code></h2>\n\n<pre><code>#!/bin/sh\necho \"========== LAUNCHING SERVER APP =========\"\ncd /server/bin\nchmod +x server\n./server\n</code></pre>\n\n<h2><code>build.gradle</code></h2>\n\n<h3>root</h3>\n\n<p>Same as other one.</p>\n\n<h3>common</h3>\n\n<p>Same as other one.</p>\n\n<h3>server</h3>\n\n<pre><code>plugins {\n    id 'java'\n    id 'io.freefair.lombok' version '5.1.0'\n    id 'org.beryx.runtime' version '1.8.4'\n}\n\nsourceCompatibility = 14\n[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'\ntasks.withType(JavaCompile) {\n    options.compilerArgs += \"--enable-preview\"\n}\ntasks.withType(Test) {\n    jvmArgs += \"--enable-preview\"\n}\ntasks.withType(JavaExec) {\n    jvmArgs += '--enable-preview'\n}\nsourceSets.main.java.srcDirs = [ \"src/\" ]\n\nmainClassName = \"com.marvelousbob.server.BobServerLauncher\"\n\ntask dist(type: Jar) {\n    project.version=\"1\" // adjust the CI/CD if you change this\n    manifest {\n        attributes 'Main-Class': project.mainClassName\n    }\n    from {\n        configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n    with jar\n\n    destinationDirectory = file(\"$buildDir/lib\")\n}\n\njpackageImage.dependsOn dist\ndist.dependsOn classes\n\n// JLink configuration to minimize size of generated jar\nruntime {\n    options = ['--strip-debug',\n               '--compress', '2',\n               '--no-header-files',\n               '--no-man-pages',\n               '--strip-native-commands',\n               '--vm', 'server']\n    modules = ['java.base' ,\n               'java.desktop',\n               'jdk.unsupported']\n    distDir = file(buildDir)\n\n    jpackage {\n        //jpackageHome = '/usr/lib/jvm/open-jdk'\n        mainJar = dist.archiveFileName.get()\n    }\n}\n</code></pre>\n\n<h2>Github Actions yml file</h2>\n\n<pre><code>jobs:\n  deploy:\n    name: Deploy\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v2\n\n      - name: Setup with Java 14\n        id: java-setup\n        uses: actions/setup-java@v1\n        with:\n          java-version: 14\n\n      - name: Building with Gradlew\n        run: |\n          chmod u+x gradlew\n          ./gradlew server:jpackageImage\n\n      # more stuff ...\n</code></pre>\n"},{"tags":["java","maven","gradle","jar","checkstyle"],"comments":[{"owner":{"account_id":17059809,"reputation":171,"user_id":13160102,"display_name":"Nick Mancuso"},"score":0,"creation_date":1622269218,"post_id":67722624,"comment_id":119748997,"body_markdown":"Have you tried to use the fully qualified name of your check?","body":"Have you tried to use the fully qualified name of your check?"}],"answers":[{"tags":[],"owner":{"account_id":308523,"reputation":203,"user_id":971453,"display_name":"e_liel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672268575,"creation_date":1672268575,"answer_id":74945766,"question_id":67722624,"body_markdown":"## TL;DR\r\nMake sure the dependency with you custom check is added to the plugin, not necessarily to the project.\r\n\r\n## Details\r\nI had the same issue (using maven) and I was indeed using the fully qualified name as suggested by Nick Mancuso in the comments. The solution came from that maven guide you posted in your question, specifically this section: [Configure the checkstyle plugin to use your custom checks](https://maven.apache.org/plugins/maven-checkstyle-plugin/examples/custom-developed-checkstyle.html#configure-the-checkstyle-plugin-to-use-your-custom-checks). I was following the [writing checks](https://checkstyle.org/writingchecks.html) guide on the Checkstyle site which shows [here](https://checkstyle.org/writingchecks.html#Integrating_Checks) how to run the checks from the command line. \r\n```\r\njava -classpath mycompanychecks.jar:checkstyle-${projectVersion}-all.jar \\\r\n              com.puppycrawl.tools.checkstyle.Main -c config.xml myproject\r\n```\r\nIf you look closely, the jar with the custom check is passed to the classpath of the checkstyle execution, which on maven is done by adding the dependency to the plugin as mentioned above.\r\n```\r\n&lt;project&gt;\r\n  ...\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mycompany-checkstyle-checks&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  ...\r\n&lt;/project&gt;\r\n```\r\nOnce I added that dependency there (rather than as a regular project dependency) it worked.\r\n\r\n## Gradle\r\nUnfortunately I don&#39;t use Gradle at all, but I do see that Gradle&#39;s checkstyle plugin has a [dependecy management](https://docs.gradle.org/current/userguide/checkstyle_plugin.html#sec:checkstyle_dependency_management) section, which according to the documentation allows to configure `The Checkstyle libraries to use`, so that&#39;s likely the place where the library with your custom checks should go.","title":"Custom Checkstyle Rule - Unable to instantiate &#39;TestName&#39; class","body":"<h2>TL;DR</h2>\n<p>Make sure the dependency with you custom check is added to the plugin, not necessarily to the project.</p>\n<h2>Details</h2>\n<p>I had the same issue (using maven) and I was indeed using the fully qualified name as suggested by Nick Mancuso in the comments. The solution came from that maven guide you posted in your question, specifically this section: <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/examples/custom-developed-checkstyle.html#configure-the-checkstyle-plugin-to-use-your-custom-checks\" rel=\"nofollow noreferrer\">Configure the checkstyle plugin to use your custom checks</a>. I was following the <a href=\"https://checkstyle.org/writingchecks.html\" rel=\"nofollow noreferrer\">writing checks</a> guide on the Checkstyle site which shows <a href=\"https://checkstyle.org/writingchecks.html#Integrating_Checks\" rel=\"nofollow noreferrer\">here</a> how to run the checks from the command line.</p>\n<pre><code>java -classpath mycompanychecks.jar:checkstyle-${projectVersion}-all.jar \\\n              com.puppycrawl.tools.checkstyle.Main -c config.xml myproject\n</code></pre>\n<p>If you look closely, the jar with the custom check is passed to the classpath of the checkstyle execution, which on maven is done by adding the dependency to the plugin as mentioned above.</p>\n<pre><code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n            &lt;artifactId&gt;mycompany-checkstyle-checks&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n<p>Once I added that dependency there (rather than as a regular project dependency) it worked.</p>\n<h2>Gradle</h2>\n<p>Unfortunately I don't use Gradle at all, but I do see that Gradle's checkstyle plugin has a <a href=\"https://docs.gradle.org/current/userguide/checkstyle_plugin.html#sec:checkstyle_dependency_management\" rel=\"nofollow noreferrer\">dependecy management</a> section, which according to the documentation allows to configure <code>The Checkstyle libraries to use</code>, so that's likely the place where the library with your custom checks should go.</p>\n"}],"owner":{"account_id":19193537,"reputation":69,"user_id":14022782,"display_name":"Amar Mesic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672268575,"creation_date":1622120164,"question_id":67722624,"body_markdown":"I am trying to add a custom checkstyle rule for test methods. To implement the custom checkstyle rule I followed some guides until I found this [guide](https://maven.apache.org/plugins/maven-checkstyle-plugin/examples/custom-developed-checkstyle.html) from Maven which got me the closest to success. Just as it asks, I made my own Maven project with the custom rule and imported it into my other project. So the .jar with my checkstyle rule is there and it is a dependency. My project runs on gradle.\r\n\r\nYet whenever I try to run checkstyle (through gradle for my tests) I get the following stacktrace:\r\n```\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:checkstyleTest&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: : Unable to create Root Module: config {/Users/amarmesic/Documents/TUDelft/SP/aatom-testing-framework/AATOM/Simulator/config/checkstyle/checkstyle.xml}, classpath {/Users/amarmesic/Documents/TUDelft/SP/aatom-testing-framework/AATOM/Simulator/build/classes/java/test:/Users/amarmesic/Documents/TUDelft/SP/aatom-testing-framework/AATOM/Simulator/build/resources/test:/Users/amarmesic/Documents/TUDelft/SP/aatom-testing-framework/AATOM/Simulator/build/classes/java/main:/Users/amarmesic/Documents/TUDelft/SP/aatom-testing-framework/AATOM/Simulator/build/resources/main:/Users/amarmesic/.m2/repository/nl/tudelft/custom-checkstyle/1.0/custom-checkstyle-1.0.jar:/Users/amarmesic/.m2/repository/com/puppycrawl/tools/checkstyle/8.36/checkstyle-8.36.jar:/Users/amarmesic/.m2/repository/com/google/guava/guava/29.0-jre/guava-29.0-jre.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.jfree/jfreechart/1.5.0/bc7919249bac68c15c433ed51cb798a1bf8cd74e/jfreechart-1.5.0.jar:/Users/amarmesic/.m2/repository/org/reflections/reflections/0.9.12/reflections-0.9.12.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.junit.jupiter/junit-jupiter/5.5.2/f8561a498ec26b24a3a64aebb6b2307fed000a33/junit-jupiter-5.5.2.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.mockito/mockito-junit-jupiter/3.1.0/3c181fd8296b86671a8a466b642ba564b1237c13/mockito-junit-jupiter-3.1.0.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.mockito/mockito-core/3.1.0/53137a5fccdccb0d907d409dc68a282aab87c968/mockito-core-3.1.0.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.assertj/assertj-core/3.14.0/3b7b0fcac821f3d167764e9926573cd64f78f9e9/assertj-core-3.14.0.jar:/Users/amarmesic/.m2/repository/checkstyle/checkstyle/5.0/checkstyle-5.0.jar:/Users/amarmesic/.m2/repository/org/javassist/javassist/3.26.0-GA/javassist-3.26.0-GA.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.junit.jupiter/junit-jupiter-params/5.5.2/e0659722923bd9fdfa08602e2da22bd5a9d354e8/junit-jupiter-params-5.5.2.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.junit.jupiter/junit-jupiter-api/5.5.2/6393db7e4c0265152d8fc4ff146633d1a7d36c47/junit-jupiter-api-5.5.2.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/net.bytebuddy/byte-buddy/1.9.10/211a2b4d3df1eeef2a6cacf78d74a1f725e7a840/byte-buddy-1.9.10.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/net.bytebuddy/byte-buddy-agent/1.9.10/9674aba5ee793e54b864952b001166848da0f26b/byte-buddy-agent-1.9.10.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.objenesis/objenesis/2.6/639033469776fd37c08358c6b92a4761feb2af4b/objenesis-2.6.jar:/Users/amarmesic/.m2/repository/info/picocli/picocli/4.5.1/picocli-4.5.1.jar:/Users/amarmesic/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/amarmesic/.m2/repository/org/antlr/antlr4-runtime/4.8-1/antlr4-runtime-4.8-1.jar:/Users/amarmesic/.m2/repository/commons-beanutils/commons-beanutils/1.9.4/commons-beanutils-1.9.4.jar:/Users/amarmesic/.m2/repository/net/sf/saxon/Saxon-HE/9.9.1-7/Saxon-HE-9.9.1-7.jar:/Users/amarmesic/.m2/repository/commons-beanutils/commons-beanutils-core/1.7.0/commons-beanutils-core-1.7.0.jar:/Users/amarmesic/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar:/Users/amarmesic/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/Users/amarmesic/.m2/repository/com/google/collections/google-collections/0.9/google-collections-0.9.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.junit.platform/junit-platform-commons/1.5.2/9703df63b65d415b2a027d43ce908c625b3aedce/junit-platform-commons-1.5.2.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.apiguardian/apiguardian-api/1.1.0/fc9dff4bb36d627bdc553de77e1f17efd790876c/apiguardian-api-1.1.0.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.opentest4j/opentest4j/1.2.0/28c11eb91f9b6d8e200631d46e20a7f407f2a046/opentest4j-1.2.0.jar:/Users/amarmesic/.m2/repository/com/google/guava/failureaccess/1.0.1/failureaccess-1.0.1.jar:/Users/amarmesic/.m2/repository/com/google/guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/Users/amarmesic/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/Users/amarmesic/.m2/repository/org/checkerframework/checker-qual/2.11.1/checker-qual-2.11.1.jar:/Users/amarmesic/.m2/repository/com/google/errorprone/error_prone_annotations/2.3.4/error_prone_annotations-2.3.4.jar:/Users/amarmesic/.m2/repository/com/google/j2objc/j2objc-annotations/1.3/j2objc-annotations-1.3.jar:/Users/amarmesic/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/Users/amarmesic/.m2/repository/commons-lang/commons-lang/1.0/commons-lang-1.0.jar:/Users/amarmesic/.m2/repository/junit/junit/3.7/junit-3.7.jar}.\r\n\tat com.puppycrawl.tools.checkstyle.ant.CheckstyleAntTask.createRootModule(CheckstyleAntTask.java:424)\r\n\tat com.puppycrawl.tools.checkstyle.ant.CheckstyleAntTask.realExecute(CheckstyleAntTask.java:320)\r\n\tat com.puppycrawl.tools.checkstyle.ant.CheckstyleAntTask.execute(CheckstyleAntTask.java:302)\r\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n\tat org.gradle.api.internal.project.ant.BasicAntBuilder.nodeCompleted(BasicAntBuilder.java:80)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor745.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:484)\r\n\tat org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:196)\r\n\tat org.gradle.internal.metaobject.AbstractDynamicObject.invokeMethod(AbstractDynamicObject.java:163)\r\n\tat org.gradle.api.internal.project.antbuilder.AntBuilderDelegate.nodeCompleted(AntBuilderDelegate.java:124)\r\n\tat org.gradle.api.plugins.quality.internal.CheckstyleInvoker$_invoke_closure1.doCall(CheckstyleInvoker.groovy:58)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.util.ClosureBackedAction.execute(ClosureBackedAction.java:71)\r\n\tat org.gradle.util.ClosureBackedAction.execute(ClosureBackedAction.java:52)\r\n\tat org.gradle.api.internal.project.antbuilder.DefaultIsolatedAntBuilder$2.execute(DefaultIsolatedAntBuilder.java:154)\r\n\tat org.gradle.api.internal.project.antbuilder.DefaultIsolatedAntBuilder$2.execute(DefaultIsolatedAntBuilder.java:136)\r\n\tat org.gradle.api.internal.project.antbuilder.ClassPathToClassLoaderCache.withCachedClassLoader(ClassPathToClassLoaderCache.java:135)\r\n\tat org.gradle.api.internal.project.antbuilder.DefaultIsolatedAntBuilder.execute(DefaultIsolatedAntBuilder.java:130)\r\n\tat org.gradle.api.internal.project.IsolatedAntBuilder$execute$0.call(Unknown Source)\r\n\tat org.gradle.api.plugins.quality.internal.CheckstyleInvoker.invoke(CheckstyleInvoker.groovy:51)\r\n\tat org.gradle.api.plugins.quality.Checkstyle.run(Checkstyle.java:151)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:49)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:42)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)\r\n\tat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:726)\r\n\tat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:693)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.run(ExecuteActionsTaskExecuter.java:569)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:395)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:387)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:84)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:554)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:537)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:108)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:278)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:267)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$1(ExecuteStep.java:33)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:33)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:26)\r\n\tat org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:67)\r\n\tat org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:49)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:34)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:43)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:73)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:54)\r\n\tat org.gradle.internal.execution.steps.CatchExceptionStep.execute(CatchExceptionStep.java:34)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:44)\r\n\tat org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:54)\r\n\tat org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:49)\r\n\tat org.gradle.internal.execution.steps.CacheStep.executeWithoutCache(CacheStep.java:159)\r\n\tat org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:72)\r\n\tat org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:43)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:44)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:33)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:24)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:92)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:85)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:39)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:76)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:36)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:26)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:94)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:79)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:53)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:74)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:78)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:78)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:39)\r\n\tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:40)\r\n\tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:28)\r\n\tat org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:33)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:194)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: cannot initialize module TreeWalker - cannot initialize module TestName - Unable to instantiate &#39;TestName&#39; class, it is also not possible to instantiate it as .TestName, TestNameCheck, .TestNameCheck. Please recheck that class name is specified as canonical name or read how to configure short name usage https://checkstyle.org/config.html#Packages. Please also recheck that provided ClassLoader to Checker is configured correctly.\r\n\tat com.puppycrawl.tools.checkstyle.Checker.setupChild(Checker.java:482)\r\n\tat com.puppycrawl.tools.checkstyle.api.AutomaticBean.configure(AutomaticBean.java:201)\r\n\tat com.puppycrawl.tools.checkstyle.ant.CheckstyleAntTask.createRootModule(CheckstyleAntTask.java:421)\r\n\t... 122 more\r\nCaused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: cannot initialize module TestName - Unable to instantiate &#39;TestName&#39; class, it is also not possible to instantiate it as .TestName, TestNameCheck, .TestNameCheck. Please recheck that class name is specified as canonical name or read how to configure short name usage https://checkstyle.org/config.html#Packages. Please also recheck that provided ClassLoader to Checker is configured correctly.\r\n\tat com.puppycrawl.tools.checkstyle.TreeWalker.setupChild(TreeWalker.java:125)\r\n\tat com.puppycrawl.tools.checkstyle.api.AutomaticBean.configure(AutomaticBean.java:201)\r\n\tat com.puppycrawl.tools.checkstyle.Checker.setupChild(Checker.java:477)\r\n\t... 124 more\r\nCaused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: Unable to instantiate &#39;TestName&#39; class, it is also not possible to instantiate it as .TestName, TestNameCheck, .TestNameCheck. Please recheck that class name is specified as canonical name or read how to configure short name usage https://checkstyle.org/config.html#Packages. Please also recheck that provided ClassLoader to Checker is configured correctly.\r\n\tat com.puppycrawl.tools.checkstyle.PackageObjectFactory.createModule(PackageObjectFactory.java:215)\r\n\tat com.puppycrawl.tools.checkstyle.TreeWalker.setupChild(TreeWalker.java:116)\r\n\t... 126 more\r\n```\r\n\r\n\\\r\nI built my custom checker similar to the standard checkstyle methodNameCheck Class. Here&#39;s my custom checker for test names:\r\n```\r\nimport com.puppycrawl.tools.checkstyle.api.DetailAST;\r\nimport com.puppycrawl.tools.checkstyle.api.TokenTypes;\r\nimport com.puppycrawl.tools.checkstyle.checks.naming.AbstractAccessControlNameCheck;\r\nimport com.puppycrawl.tools.checkstyle.utils.AnnotationUtil;\r\n\r\npublic class TestNameCheck extends AbstractAccessControlNameCheck {\r\n\r\n    public static final String CATCH_MSG = &quot;Test name does not follow naming conventions&quot;;\r\n    private static final String TEST = &quot;Test&quot;;\r\n    private static final String CANONICAL_TEST = &quot;org.junit.jupiter.api.&quot; + TEST;\r\n    private static final String PARAM_TEST = &quot;ParameterizedTest&quot;;\r\n    private static final String CANONICAL_PARAM_TEST = &quot;org.junit.jupiter.params.&quot; + PARAM_TEST;\r\n\r\n    /**\r\n     * Creates a new {@code TestNameCheck} instance.\r\n     */\r\n    public TestNameCheck() {\r\n        super(&quot;^[a-z].*Test$&quot;);\r\n    }\r\n\r\n\r\n    @Override\r\n    public int[] getDefaultTokens() {\r\n        return getRequiredTokens();\r\n    }\r\n\r\n    @Override\r\n    public int[] getAcceptableTokens() {\r\n        return getRequiredTokens();\r\n    }\r\n\r\n    @Override\r\n    public int[] getRequiredTokens() {\r\n        return new int[] {TokenTypes.METHOD_DEF, };\r\n    }\r\n\r\n\r\n    @Override\r\n    public void visitToken(DetailAST ast) {\r\n        if (AnnotationUtil.containsAnnotation(ast, TEST)\r\n                || AnnotationUtil.containsAnnotation(ast, CANONICAL_TEST)\r\n                || AnnotationUtil.containsAnnotation(ast, PARAM_TEST)\r\n                || AnnotationUtil.containsAnnotation(ast, CANONICAL_PARAM_TEST)) {\r\n            // Will check the name against the format.\r\n            super.visitToken(ast);\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nI cannot figure out why it is unable instantiate the class when the constructor is the same as for many other *Check class.","title":"Custom Checkstyle Rule - Unable to instantiate &#39;TestName&#39; class","body":"<p>I am trying to add a custom checkstyle rule for test methods. To implement the custom checkstyle rule I followed some guides until I found this <a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/examples/custom-developed-checkstyle.html\" rel=\"nofollow noreferrer\">guide</a> from Maven which got me the closest to success. Just as it asks, I made my own Maven project with the custom rule and imported it into my other project. So the .jar with my checkstyle rule is there and it is a dependency. My project runs on gradle.</p>\n<p>Yet whenever I try to run checkstyle (through gradle for my tests) I get the following stacktrace:</p>\n<pre><code>* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':checkstyleTest'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:207)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:205)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: : Unable to create Root Module: config {/Users/amarmesic/Documents/TUDelft/SP/aatom-testing-framework/AATOM/Simulator/config/checkstyle/checkstyle.xml}, classpath {/Users/amarmesic/Documents/TUDelft/SP/aatom-testing-framework/AATOM/Simulator/build/classes/java/test:/Users/amarmesic/Documents/TUDelft/SP/aatom-testing-framework/AATOM/Simulator/build/resources/test:/Users/amarmesic/Documents/TUDelft/SP/aatom-testing-framework/AATOM/Simulator/build/classes/java/main:/Users/amarmesic/Documents/TUDelft/SP/aatom-testing-framework/AATOM/Simulator/build/resources/main:/Users/amarmesic/.m2/repository/nl/tudelft/custom-checkstyle/1.0/custom-checkstyle-1.0.jar:/Users/amarmesic/.m2/repository/com/puppycrawl/tools/checkstyle/8.36/checkstyle-8.36.jar:/Users/amarmesic/.m2/repository/com/google/guava/guava/29.0-jre/guava-29.0-jre.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.jfree/jfreechart/1.5.0/bc7919249bac68c15c433ed51cb798a1bf8cd74e/jfreechart-1.5.0.jar:/Users/amarmesic/.m2/repository/org/reflections/reflections/0.9.12/reflections-0.9.12.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.junit.jupiter/junit-jupiter/5.5.2/f8561a498ec26b24a3a64aebb6b2307fed000a33/junit-jupiter-5.5.2.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.mockito/mockito-junit-jupiter/3.1.0/3c181fd8296b86671a8a466b642ba564b1237c13/mockito-junit-jupiter-3.1.0.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.mockito/mockito-core/3.1.0/53137a5fccdccb0d907d409dc68a282aab87c968/mockito-core-3.1.0.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.assertj/assertj-core/3.14.0/3b7b0fcac821f3d167764e9926573cd64f78f9e9/assertj-core-3.14.0.jar:/Users/amarmesic/.m2/repository/checkstyle/checkstyle/5.0/checkstyle-5.0.jar:/Users/amarmesic/.m2/repository/org/javassist/javassist/3.26.0-GA/javassist-3.26.0-GA.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.junit.jupiter/junit-jupiter-params/5.5.2/e0659722923bd9fdfa08602e2da22bd5a9d354e8/junit-jupiter-params-5.5.2.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.junit.jupiter/junit-jupiter-api/5.5.2/6393db7e4c0265152d8fc4ff146633d1a7d36c47/junit-jupiter-api-5.5.2.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/net.bytebuddy/byte-buddy/1.9.10/211a2b4d3df1eeef2a6cacf78d74a1f725e7a840/byte-buddy-1.9.10.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/net.bytebuddy/byte-buddy-agent/1.9.10/9674aba5ee793e54b864952b001166848da0f26b/byte-buddy-agent-1.9.10.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.objenesis/objenesis/2.6/639033469776fd37c08358c6b92a4761feb2af4b/objenesis-2.6.jar:/Users/amarmesic/.m2/repository/info/picocli/picocli/4.5.1/picocli-4.5.1.jar:/Users/amarmesic/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:/Users/amarmesic/.m2/repository/org/antlr/antlr4-runtime/4.8-1/antlr4-runtime-4.8-1.jar:/Users/amarmesic/.m2/repository/commons-beanutils/commons-beanutils/1.9.4/commons-beanutils-1.9.4.jar:/Users/amarmesic/.m2/repository/net/sf/saxon/Saxon-HE/9.9.1-7/Saxon-HE-9.9.1-7.jar:/Users/amarmesic/.m2/repository/commons-beanutils/commons-beanutils-core/1.7.0/commons-beanutils-core-1.7.0.jar:/Users/amarmesic/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar:/Users/amarmesic/.m2/repository/commons-logging/commons-logging/1.2/commons-logging-1.2.jar:/Users/amarmesic/.m2/repository/com/google/collections/google-collections/0.9/google-collections-0.9.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.junit.platform/junit-platform-commons/1.5.2/9703df63b65d415b2a027d43ce908c625b3aedce/junit-platform-commons-1.5.2.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.apiguardian/apiguardian-api/1.1.0/fc9dff4bb36d627bdc553de77e1f17efd790876c/apiguardian-api-1.1.0.jar:/Users/amarmesic/.gradle/caches/modules-2/files-2.1/org.opentest4j/opentest4j/1.2.0/28c11eb91f9b6d8e200631d46e20a7f407f2a046/opentest4j-1.2.0.jar:/Users/amarmesic/.m2/repository/com/google/guava/failureaccess/1.0.1/failureaccess-1.0.1.jar:/Users/amarmesic/.m2/repository/com/google/guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/Users/amarmesic/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/Users/amarmesic/.m2/repository/org/checkerframework/checker-qual/2.11.1/checker-qual-2.11.1.jar:/Users/amarmesic/.m2/repository/com/google/errorprone/error_prone_annotations/2.3.4/error_prone_annotations-2.3.4.jar:/Users/amarmesic/.m2/repository/com/google/j2objc/j2objc-annotations/1.3/j2objc-annotations-1.3.jar:/Users/amarmesic/.m2/repository/commons-collections/commons-collections/3.2.2/commons-collections-3.2.2.jar:/Users/amarmesic/.m2/repository/commons-lang/commons-lang/1.0/commons-lang-1.0.jar:/Users/amarmesic/.m2/repository/junit/junit/3.7/junit-3.7.jar}.\n    at com.puppycrawl.tools.checkstyle.ant.CheckstyleAntTask.createRootModule(CheckstyleAntTask.java:424)\n    at com.puppycrawl.tools.checkstyle.ant.CheckstyleAntTask.realExecute(CheckstyleAntTask.java:320)\n    at com.puppycrawl.tools.checkstyle.ant.CheckstyleAntTask.execute(CheckstyleAntTask.java:302)\n    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n    at org.gradle.api.internal.project.ant.BasicAntBuilder.nodeCompleted(BasicAntBuilder.java:80)\n    at jdk.internal.reflect.GeneratedMethodAccessor745.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:484)\n    at org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:196)\n    at org.gradle.internal.metaobject.AbstractDynamicObject.invokeMethod(AbstractDynamicObject.java:163)\n    at org.gradle.api.internal.project.antbuilder.AntBuilderDelegate.nodeCompleted(AntBuilderDelegate.java:124)\n    at org.gradle.api.plugins.quality.internal.CheckstyleInvoker$_invoke_closure1.doCall(CheckstyleInvoker.groovy:58)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.util.ClosureBackedAction.execute(ClosureBackedAction.java:71)\n    at org.gradle.util.ClosureBackedAction.execute(ClosureBackedAction.java:52)\n    at org.gradle.api.internal.project.antbuilder.DefaultIsolatedAntBuilder$2.execute(DefaultIsolatedAntBuilder.java:154)\n    at org.gradle.api.internal.project.antbuilder.DefaultIsolatedAntBuilder$2.execute(DefaultIsolatedAntBuilder.java:136)\n    at org.gradle.api.internal.project.antbuilder.ClassPathToClassLoaderCache.withCachedClassLoader(ClassPathToClassLoaderCache.java:135)\n    at org.gradle.api.internal.project.antbuilder.DefaultIsolatedAntBuilder.execute(DefaultIsolatedAntBuilder.java:130)\n    at org.gradle.api.internal.project.IsolatedAntBuilder$execute$0.call(Unknown Source)\n    at org.gradle.api.plugins.quality.internal.CheckstyleInvoker.invoke(CheckstyleInvoker.groovy:51)\n    at org.gradle.api.plugins.quality.Checkstyle.run(Checkstyle.java:151)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:49)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:42)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)\n    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:726)\n    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:693)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.run(ExecuteActionsTaskExecuter.java:569)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:395)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:387)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:84)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:554)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:537)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$300(ExecuteActionsTaskExecuter.java:108)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:278)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:267)\n    at org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$1(ExecuteStep.java:33)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:33)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:26)\n    at org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:67)\n    at org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:49)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:34)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:43)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:73)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:54)\n    at org.gradle.internal.execution.steps.CatchExceptionStep.execute(CatchExceptionStep.java:34)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:44)\n    at org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:54)\n    at org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:49)\n    at org.gradle.internal.execution.steps.CacheStep.executeWithoutCache(CacheStep.java:159)\n    at org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:72)\n    at org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:43)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:44)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:33)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:24)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:92)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:85)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:39)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:76)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:36)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:26)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:94)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:49)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:79)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:53)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:74)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:78)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:78)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:39)\n    at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:40)\n    at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:28)\n    at org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:33)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:194)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:186)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:114)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:409)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:399)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:150)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:94)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:41)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:356)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: cannot initialize module TreeWalker - cannot initialize module TestName - Unable to instantiate 'TestName' class, it is also not possible to instantiate it as .TestName, TestNameCheck, .TestNameCheck. Please recheck that class name is specified as canonical name or read how to configure short name usage https://checkstyle.org/config.html#Packages. Please also recheck that provided ClassLoader to Checker is configured correctly.\n    at com.puppycrawl.tools.checkstyle.Checker.setupChild(Checker.java:482)\n    at com.puppycrawl.tools.checkstyle.api.AutomaticBean.configure(AutomaticBean.java:201)\n    at com.puppycrawl.tools.checkstyle.ant.CheckstyleAntTask.createRootModule(CheckstyleAntTask.java:421)\n    ... 122 more\nCaused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: cannot initialize module TestName - Unable to instantiate 'TestName' class, it is also not possible to instantiate it as .TestName, TestNameCheck, .TestNameCheck. Please recheck that class name is specified as canonical name or read how to configure short name usage https://checkstyle.org/config.html#Packages. Please also recheck that provided ClassLoader to Checker is configured correctly.\n    at com.puppycrawl.tools.checkstyle.TreeWalker.setupChild(TreeWalker.java:125)\n    at com.puppycrawl.tools.checkstyle.api.AutomaticBean.configure(AutomaticBean.java:201)\n    at com.puppycrawl.tools.checkstyle.Checker.setupChild(Checker.java:477)\n    ... 124 more\nCaused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: Unable to instantiate 'TestName' class, it is also not possible to instantiate it as .TestName, TestNameCheck, .TestNameCheck. Please recheck that class name is specified as canonical name or read how to configure short name usage https://checkstyle.org/config.html#Packages. Please also recheck that provided ClassLoader to Checker is configured correctly.\n    at com.puppycrawl.tools.checkstyle.PackageObjectFactory.createModule(PackageObjectFactory.java:215)\n    at com.puppycrawl.tools.checkstyle.TreeWalker.setupChild(TreeWalker.java:116)\n    ... 126 more\n</code></pre>\n<p><br />\nI built my custom checker similar to the standard checkstyle methodNameCheck Class. Here's my custom checker for test names:</p>\n<pre><code>import com.puppycrawl.tools.checkstyle.api.DetailAST;\nimport com.puppycrawl.tools.checkstyle.api.TokenTypes;\nimport com.puppycrawl.tools.checkstyle.checks.naming.AbstractAccessControlNameCheck;\nimport com.puppycrawl.tools.checkstyle.utils.AnnotationUtil;\n\npublic class TestNameCheck extends AbstractAccessControlNameCheck {\n\n    public static final String CATCH_MSG = &quot;Test name does not follow naming conventions&quot;;\n    private static final String TEST = &quot;Test&quot;;\n    private static final String CANONICAL_TEST = &quot;org.junit.jupiter.api.&quot; + TEST;\n    private static final String PARAM_TEST = &quot;ParameterizedTest&quot;;\n    private static final String CANONICAL_PARAM_TEST = &quot;org.junit.jupiter.params.&quot; + PARAM_TEST;\n\n    /**\n     * Creates a new {@code TestNameCheck} instance.\n     */\n    public TestNameCheck() {\n        super(&quot;^[a-z].*Test$&quot;);\n    }\n\n\n    @Override\n    public int[] getDefaultTokens() {\n        return getRequiredTokens();\n    }\n\n    @Override\n    public int[] getAcceptableTokens() {\n        return getRequiredTokens();\n    }\n\n    @Override\n    public int[] getRequiredTokens() {\n        return new int[] {TokenTypes.METHOD_DEF, };\n    }\n\n\n    @Override\n    public void visitToken(DetailAST ast) {\n        if (AnnotationUtil.containsAnnotation(ast, TEST)\n                || AnnotationUtil.containsAnnotation(ast, CANONICAL_TEST)\n                || AnnotationUtil.containsAnnotation(ast, PARAM_TEST)\n                || AnnotationUtil.containsAnnotation(ast, CANONICAL_PARAM_TEST)) {\n            // Will check the name against the format.\n            super.visitToken(ast);\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>I cannot figure out why it is unable instantiate the class when the constructor is the same as for many other *Check class.</p>\n"},{"tags":["java","sqlite","jdbc"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1672237319,"post_id":74941323,"comment_id":132248397,"body_markdown":"There can be several reasons e.g. `title` is a nullable field and has no value or `Movies` does not have any row. Did you execute `SELECT * FROM Movies` in a SQL client tool?","body":"There can be several reasons e.g. <code>title</code> is a nullable field and has no value or <code>Movies</code> does not have any row. Did you execute <code>SELECT * FROM Movies</code> in a SQL client tool?"},{"owner":{"account_id":20923533,"reputation":91,"user_id":15371533,"display_name":"anathrax"},"score":0,"creation_date":1672238131,"post_id":74941323,"comment_id":132248656,"body_markdown":"Yes, in that case the execution of the program is without errors and the result contains two rows containing the titles of the movies.\n- Here is my database structure (where title is just a text field):\n\n`Movies`\n          **-** `title`\n                   **-** `The Lord of the Rings,`\n                      `Harry Potter`","body":"Yes, in that case the execution of the program is without errors and the result contains two rows containing the titles of the movies. - Here is my database structure (where title is just a text field):  <code>Movies</code>           <b>-</b> <code>title</code>                    <b>-</b> <code>The Lord of the Rings,</code>                       <code>Harry Potter</code>"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1672238380,"post_id":74941323,"comment_id":132248734,"body_markdown":"What&#39;s the output you see when you replace `rs.next();\n            System.out.println(rs.getString(&quot;title&quot;));` with `while(rs.next()){System.out.println(rs.getString(&quot;title&quot;));}`","body":"What&#39;s the output you see when you replace <code>rs.next();             System.out.println(rs.getString(&quot;title&quot;));</code> with <code>while(rs.next()){System.out.println(rs.getString(&quot;title&quot;));}</code>"},{"owner":{"account_id":20923533,"reputation":91,"user_id":15371533,"display_name":"anathrax"},"score":0,"creation_date":1672238607,"post_id":74941323,"comment_id":132248798,"body_markdown":"Well, that&#39;s interesting... I&#39;m sure I&#39;ve tried it before but it didn&#39;t return any value. But now it&#39;s showing the values just fine. Anyway, thanks for the help!","body":"Well, that&#39;s interesting... I&#39;m sure I&#39;ve tried it before but it didn&#39;t return any value. But now it&#39;s showing the values just fine. Anyway, thanks for the help!"}],"answers":[{"tags":[],"owner":{"account_id":22384219,"reputation":108,"user_id":16597286,"display_name":"Windir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672268373,"creation_date":1672268373,"answer_id":74945748,"question_id":74941323,"body_markdown":"3 things that seem weird:\r\n1. you are using rs.next() before even using the first resultset.\r\n2. it&#39;s not in a loop, meaning you&#39;ll only get the first result no matter how many rows there are\r\n3. you are returning it in one string (getString) so I don&#39;t think it will return it properly.","title":"SQlite JDBC - ResultSet value returns NULL","body":"<p>3 things that seem weird:</p>\n<ol>\n<li>you are using rs.next() before even using the first resultset.</li>\n<li>it's not in a loop, meaning you'll only get the first result no matter how many rows there are</li>\n<li>you are returning it in one string (getString) so I don't think it will return it properly.</li>\n</ol>\n"}],"owner":{"account_id":20923533,"reputation":91,"user_id":15371533,"display_name":"anathrax"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672268373,"creation_date":1672236979,"question_id":74941323,"body_markdown":"I&#39;m trying to display movie titles from the database, the problem is that if I call the `rs.getString()` method it always returns `null`. The database table is properly configured with one column/two rows and connected to the java application, so I don&#39;t know where the problem is..\r\n\r\nThis is my class which I call from the main function:\r\n\r\n```java\r\nimport java.sql.*;\r\n\r\npublic class Driver {\r\n    public Driver() {\r\n        Connection c = null;\r\n        \r\n        try {\r\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n//            DriverManager.registerDriver(new org.sqlite.JDBC());\r\n            c = DriverManager.getConnection(&quot;jdbc:sqlite:test.db&quot;);\r\n            \r\n            Statement stmt = c.createStatement();\r\n            \r\n            ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM Movies&quot;);\r\n            \r\n            rs.next();\r\n            System.out.println(rs.getString(&quot;title&quot;));    // &lt;---- prints null\r\n           \r\n            stmt.close();\r\n            c.close();\r\n            \r\n            \r\n        } catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n} \r\n```","title":"SQlite JDBC - ResultSet value returns NULL","body":"<p>I'm trying to display movie titles from the database, the problem is that if I call the <code>rs.getString()</code> method it always returns <code>null</code>. The database table is properly configured with one column/two rows and connected to the java application, so I don't know where the problem is..</p>\n<p>This is my class which I call from the main function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.*;\n\npublic class Driver {\n    public Driver() {\n        Connection c = null;\n        \n        try {\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\n//            DriverManager.registerDriver(new org.sqlite.JDBC());\n            c = DriverManager.getConnection(&quot;jdbc:sqlite:test.db&quot;);\n            \n            Statement stmt = c.createStatement();\n            \n            ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM Movies&quot;);\n            \n            rs.next();\n            System.out.println(rs.getString(&quot;title&quot;));    // &lt;---- prints null\n           \n            stmt.close();\n            c.close();\n            \n            \n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n} \n</code></pre>\n"},{"tags":["java","kotlin","jackson"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1672141445,"post_id":74925186,"comment_id":132227741,"body_markdown":"Does this answer your question? [Right way to write JSON deserializer in Spring or extend it](https://stackoverflow.com/questions/11376304/right-way-to-write-json-deserializer-in-spring-or-extend-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11376304/right-way-to-write-json-deserializer-in-spring-or-extend-it\">Right way to write JSON deserializer in Spring or extend it</a>"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1672166847,"post_id":74925186,"comment_id":132234782,"body_markdown":"You could deserialize it as an List&lt;Bug&gt; containing just one element. If you want I can write an answer involving java code (I don&#39;t know kotlin).","body":"You could deserialize it as an List&lt;Bug&gt; containing just one element. If you want I can write an answer involving java code (I don&#39;t know kotlin)."},{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1672250420,"post_id":74925186,"comment_id":132252398,"body_markdown":"@dariosicily - that could prove instructional. Thanks","body":"@dariosicily - that could prove instructional. Thanks"}],"answers":[{"comments":[{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1672257873,"post_id":74943964,"comment_id":132254352,"body_markdown":"I was looking for something more seamless like: `mapper.readValue(json,Bug[].class)` hence the deserializer. But really, it&#39;s just one extra line of code instead of a deserializer. Maybe I am just over complicating it","body":"I was looking for something more seamless like: <code>mapper.readValue(json,Bug[].class)</code> hence the deserializer. But really, it&#39;s just one extra line of code instead of a deserializer. Maybe I am just over complicating it"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1672266929,"post_id":74943964,"comment_id":132256413,"body_markdown":"@ChristianBongiorno, probably my update is more similar to what you are expecting than my previous solution.","body":"@ChristianBongiorno, probably my update is more similar to what you are expecting than my previous solution."},{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1672267217,"post_id":74943964,"comment_id":132256470,"body_markdown":"Your edit doesn&#39;t contain `items:[]` which is the whole problem. Otherwise it would just work","body":"Your edit doesn&#39;t contain <code>items:[]</code> which is the whole problem. Otherwise it would just work"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1672267886,"post_id":74943964,"comment_id":132256589,"body_markdown":"@ChristianBongiorno Added the `items` label to the array.","body":"@ChristianBongiorno Added the <code>items</code> label to the array."}],"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672267801,"creation_date":1672253559,"answer_id":74943964,"question_id":74925186,"body_markdown":"If you have an input `{&quot;items&quot;: [{&quot;foo&quot; : &quot;baz&quot;,&quot;whatever&quot; : &quot;thing&quot;}]}` json file and you want to deserialize it to a `Bug` list where `Bug` class is like `data class Bug(var foo: String, var whatever: String)` you can use [`TypeReference`](https://fasterxml.github.io/jackson-core/javadoc/2.12/com/fasterxml/jackson/core/type/TypeReference.html) to instantiate reference to the generic type `List&lt;Bug&gt;` like below:\r\n\r\n~~~\r\ndata class Bug(var foo: String, var whatever: String)\r\n\r\nfun main() {\r\n    val mapper = ObjectMapper().registerKotlinModule()\r\n    val json = &quot;&quot;&quot;\r\n       {&quot;items&quot;: [\r\n        {\r\n           &quot;foo&quot; : &quot;baz&quot;,\r\n           &quot;whatever&quot; : &quot;thing&quot;\r\n        }\r\n        ]}\r\n    &quot;&quot;&quot;.trimIndent()\r\n\r\n    val items: JsonNode = mapper.readTree(json).get(&quot;items&quot;)\r\n    val bugs: List&lt;Bug&gt; = mapper.convertValue(items, object: TypeReference&lt;List&lt;Bug&gt;&gt;(){})\r\n}\r\n~~~\r\n*Edit*:\r\nA simpler solution converting a json array into a `Array&lt;Bug&gt;` object can be obtained using the `com.fasterxml.jackson.module.kotlin.readValue` with one line:\r\n\r\n~~~\r\nimport com.fasterxml.jackson.module.kotlin.jacksonObjectMapper\r\nimport com.fasterxml.jackson.module.kotlin.readValue\r\n\r\nfun main() {\r\n    val mapper = jacksonObjectMapper()\r\n    val json = &quot;&quot;&quot;\r\n       {&quot;items&quot;: [\r\n        {\r\n           &quot;foo&quot; : &quot;baz&quot;,\r\n           &quot;whatever&quot; : &quot;thing&quot;\r\n        }\r\n        ]}\r\n    &quot;&quot;&quot;.trimIndent()\r\n    val items: JsonNode = mapper.readTree(json).get(&quot;items&quot;)\r\n    val bugs = mapper.readValue&lt;Array&lt;Bug&gt;&gt;(items.toPrettyString())  \r\n}\r\n~~~\r\n\r\n","title":"Jackson Custom Serializer simplification","body":"<p>If you have an input <code>{&quot;items&quot;: [{&quot;foo&quot; : &quot;baz&quot;,&quot;whatever&quot; : &quot;thing&quot;}]}</code> json file and you want to deserialize it to a <code>Bug</code> list where <code>Bug</code> class is like <code>data class Bug(var foo: String, var whatever: String)</code> you can use <a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.12/com/fasterxml/jackson/core/type/TypeReference.html\" rel=\"nofollow noreferrer\"><code>TypeReference</code></a> to instantiate reference to the generic type <code>List&lt;Bug&gt;</code> like below:</p>\n<pre><code>data class Bug(var foo: String, var whatever: String)\n\nfun main() {\n    val mapper = ObjectMapper().registerKotlinModule()\n    val json = &quot;&quot;&quot;\n       {&quot;items&quot;: [\n        {\n           &quot;foo&quot; : &quot;baz&quot;,\n           &quot;whatever&quot; : &quot;thing&quot;\n        }\n        ]}\n    &quot;&quot;&quot;.trimIndent()\n\n    val items: JsonNode = mapper.readTree(json).get(&quot;items&quot;)\n    val bugs: List&lt;Bug&gt; = mapper.convertValue(items, object: TypeReference&lt;List&lt;Bug&gt;&gt;(){})\n}\n</code></pre>\n<p><em>Edit</em>:\nA simpler solution converting a json array into a <code>Array&lt;Bug&gt;</code> object can be obtained using the <code>com.fasterxml.jackson.module.kotlin.readValue</code> with one line:</p>\n<pre><code>import com.fasterxml.jackson.module.kotlin.jacksonObjectMapper\nimport com.fasterxml.jackson.module.kotlin.readValue\n\nfun main() {\n    val mapper = jacksonObjectMapper()\n    val json = &quot;&quot;&quot;\n       {&quot;items&quot;: [\n        {\n           &quot;foo&quot; : &quot;baz&quot;,\n           &quot;whatever&quot; : &quot;thing&quot;\n        }\n        ]}\n    &quot;&quot;&quot;.trimIndent()\n    val items: JsonNode = mapper.readTree(json).get(&quot;items&quot;)\n    val bugs = mapper.readValue&lt;Array&lt;Bug&gt;&gt;(items.toPrettyString())  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672266395,"creation_date":1672263523,"answer_id":74945234,"question_id":74925186,"body_markdown":"To override custom deserialiser and provide your own you need to use `BeanDeserializerModifier`. You can find example here:\r\n\r\n - [How to ignore type information on json arrays during jackson deserialization?][1]\r\n\r\nAlso you can implement a new custom deserialiser, skip the beginning of `JSON` payload, deserialise to an inner class and return what you want. It could look like below:\r\n```kotlin\r\nimport com.fasterxml.jackson.core.JsonParser\r\nimport com.fasterxml.jackson.databind.DeserializationContext\r\nimport com.fasterxml.jackson.databind.JavaType\r\nimport com.fasterxml.jackson.databind.JsonDeserializer\r\nimport com.fasterxml.jackson.databind.type.SimpleType\r\n\r\nclass BugJsonDeserializer : JsonDeserializer&lt;Bug&gt;() {\r\n\r\n    private val innerBugType: JavaType = SimpleType.constructUnsafe(InnerBug::class.java)\r\n\r\n    override fun deserialize(p: JsonParser, ctxt: DeserializationContext): Bug {\r\n        p.nextToken() // start object\r\n        p.nextToken() // field name\r\n        p.nextToken() // start array\r\n\r\n        val innerDeser: JsonDeserializer&lt;*&gt; = ctxt.findNonContextualValueDeserializer(innerBugType)\r\n        val (foo, whatever) = innerDeser.deserialize(p, ctxt) as InnerBug\r\n\r\n        return Bug(foo, whatever)\r\n    }\r\n\r\n    private data class InnerBug(\r\n        val foo: String? = null,\r\n        val whatever: String? = null\r\n    )\r\n}\r\n```\r\n\r\nYou need to register above deserializer:\r\n```kotlin\r\n@JsonDeserialize(using = BugJsonDeserializer::class)\r\ndata class Bug(\r\n...\r\n```\r\n\r\nSee also:\r\n\r\n - [\\[Bug\\] A data class that has an inline class-typed property can&#39;t be deserialized][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55363266/how-to-ignore-type-information-on-json-arrays-during-jackson-deserialization\r\n  [2]: https://github.com/FasterXML/jackson-module-kotlin/issues/413","title":"Jackson Custom Serializer simplification","body":"<p>To override custom deserialiser and provide your own you need to use <code>BeanDeserializerModifier</code>. You can find example here:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/55363266/how-to-ignore-type-information-on-json-arrays-during-jackson-deserialization\">How to ignore type information on json arrays during jackson deserialization?</a></li>\n</ul>\n<p>Also you can implement a new custom deserialiser, skip the beginning of <code>JSON</code> payload, deserialise to an inner class and return what you want. It could look like below:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonParser\nimport com.fasterxml.jackson.databind.DeserializationContext\nimport com.fasterxml.jackson.databind.JavaType\nimport com.fasterxml.jackson.databind.JsonDeserializer\nimport com.fasterxml.jackson.databind.type.SimpleType\n\nclass BugJsonDeserializer : JsonDeserializer&lt;Bug&gt;() {\n\n    private val innerBugType: JavaType = SimpleType.constructUnsafe(InnerBug::class.java)\n\n    override fun deserialize(p: JsonParser, ctxt: DeserializationContext): Bug {\n        p.nextToken() // start object\n        p.nextToken() // field name\n        p.nextToken() // start array\n\n        val innerDeser: JsonDeserializer&lt;*&gt; = ctxt.findNonContextualValueDeserializer(innerBugType)\n        val (foo, whatever) = innerDeser.deserialize(p, ctxt) as InnerBug\n\n        return Bug(foo, whatever)\n    }\n\n    private data class InnerBug(\n        val foo: String? = null,\n        val whatever: String? = null\n    )\n}\n</code></pre>\n<p>You need to register above deserializer:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JsonDeserialize(using = BugJsonDeserializer::class)\ndata class Bug(\n...\n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://github.com/FasterXML/jackson-module-kotlin/issues/413\" rel=\"nofollow noreferrer\">[Bug] A data class that has an inline class-typed property can't be deserialized</a></li>\n</ul>\n"}],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672267801,"creation_date":1672106126,"question_id":74925186,"body_markdown":"I have a payload like this:\r\n\r\n```json\r\nitems: [\r\n{\r\n   &quot;foo&quot; : &quot;baz&quot;,\r\n   &quot;whatever&quot; : &quot;thing&quot;\r\n}\r\n]\r\n```\r\n\r\nLiterally, all I have to do is just navigate to `/items/0` and then continue the normal deserialization process. But I don&#39;t see how I can do that with the current JsonDeserializer. \r\n\r\n```Kotlin\r\n\r\nclass BugDeserializer : JsonDeserializer&lt;Bug&gt;() {\r\n    override fun deserialize(p: JsonParser?, ctxt: DeserializationContext?): Bug {\r\n        val node: TreeNode = p!!.readValueAsTree()\r\n\r\n        val correct = node.at(&quot;/items/0&quot;)\r\n        \r\n        // Now what? &#39;correct&#39; has no `readValueAs` method\r\n        return p.readValueAs(Bug::class.java)\r\n\r\n    }\r\n}\r\n```\r\n\r\nOnce I navigate properly, I don&#39;t see anyway to thus &quot;continue&quot;. I have gone so far as to instantiate another `ObjectMapper` to do the job, but this doesn&#39;t work either because I have the deserializer directly on my `Bug` class, so it gets invoked twice.\r\n\r\nHow do I simply deserialize normally, once I&#39;ve navigated to the correct json path?","title":"Jackson Custom Serializer simplification","body":"<p>I have a payload like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>items: [\n{\n   &quot;foo&quot; : &quot;baz&quot;,\n   &quot;whatever&quot; : &quot;thing&quot;\n}\n]\n</code></pre>\n<p>Literally, all I have to do is just navigate to <code>/items/0</code> and then continue the normal deserialization process. But I don't see how I can do that with the current JsonDeserializer.</p>\n<pre><code>\nclass BugDeserializer : JsonDeserializer&lt;Bug&gt;() {\n    override fun deserialize(p: JsonParser?, ctxt: DeserializationContext?): Bug {\n        val node: TreeNode = p!!.readValueAsTree()\n\n        val correct = node.at(&quot;/items/0&quot;)\n        \n        // Now what? 'correct' has no `readValueAs` method\n        return p.readValueAs(Bug::class.java)\n\n    }\n}\n</code></pre>\n<p>Once I navigate properly, I don't see anyway to thus &quot;continue&quot;. I have gone so far as to instantiate another <code>ObjectMapper</code> to do the job, but this doesn't work either because I have the deserializer directly on my <code>Bug</code> class, so it gets invoked twice.</p>\n<p>How do I simply deserialize normally, once I've navigated to the correct json path?</p>\n"},{"tags":["java","binary"],"comments":[{"owner":{"account_id":1474276,"reputation":4564,"user_id":1385087,"display_name":"Konstantin V. Salikhov"},"score":2,"creation_date":1428990684,"post_id":29617235,"comment_id":47384247,"body_markdown":"Looks like your file contains ASCII characters &#39;0&#39; and &#39;1&#39; - not real binary data. It&#39;s actually 32 &lt;&lt;bytes&gt;&gt; long - not 32 bits","body":"Looks like your file contains ASCII characters &#39;0&#39; and &#39;1&#39; - not real binary data. It&#39;s actually 32 &lt;&lt;bytes&gt;&gt; long - not 32 bits"}],"answers":[{"tags":[],"owner":{"account_id":4571235,"reputation":938,"user_id":3710879,"display_name":"Pablo Gallego Falc&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1429009403,"creation_date":1429009403,"answer_id":29625719,"question_id":29617235,"body_markdown":"Solved parsing the String\r\n\r\n        Path path = Paths.get(&quot;filePath&quot;);\r\n\t\tList&lt;String&gt; lines = null;\r\n\t\ttry {\r\n\t\t\tlines = Files.readAllLines(path);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tfor (String line : lines) {\r\n\t\t\tSystem.out.println(Short.parseShort(line.substring(0, 16), 2));\r\n\t\t\tSystem.out.println(Short.parseShort(line.substring(16, 32), 2));\r\n\t\t}\r\n","title":"Java parsing binary data","body":"<p>Solved parsing the String</p>\n\n<pre><code>    Path path = Paths.get(\"filePath\");\n    List&lt;String&gt; lines = null;\n    try {\n        lines = Files.readAllLines(path);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    for (String line : lines) {\n        System.out.println(Short.parseShort(line.substring(0, 16), 2));\n        System.out.println(Short.parseShort(line.substring(16, 32), 2));\n    }\n</code></pre>\n"}],"owner":{"account_id":6136457,"reputation":15,"user_id":4785146,"accept_rate":50,"display_name":"user4785146"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":29625719,"answer_count":1,"score":0,"last_activity_date":1672267174,"creation_date":1428971363,"question_id":29617235,"body_markdown":"I have to parse some binary data in Java. Part of my sample file looks like this\r\n\r\n    00000000000000010000000000000100\r\nThis is 32 bits long and I would like to parse 16 bits as java short. SO I would expect the output be 1 and 4. Code I have written so far is \r\n\r\n    Path path = Paths.get(&quot;filePath&quot;);\r\n    byte[] b = Files.readAllBytes(path);\r\n\t\t\r\n    ByteBuffer buffer = ByteBuffer.wrap(b).order(ByteOrder.LITTLE_ENDIAN);\r\n\t\tbuffer.rewind();\r\n\t\tShortBuffer ib = buffer.asShortBuffer();\r\n\t\t System.out.println(b.length);\r\n\t\t System.out.println(ib.get());\r\n\t\t System.out.println(ib.get());\r\n\r\nThis is parsing each value a ascii. and I get the following output. \r\n\r\n    32\r\n    12336\r\n    12336\r\n\r\nCan someone help me with this.\r\n\r\nThanks\r\nAM\r\n\r\n\r\n","title":"Java parsing binary data","body":"<p>I have to parse some binary data in Java. Part of my sample file looks like this</p>\n\n<pre><code>00000000000000010000000000000100\n</code></pre>\n\n<p>This is 32 bits long and I would like to parse 16 bits as java short. SO I would expect the output be 1 and 4. Code I have written so far is </p>\n\n<pre><code>Path path = Paths.get(\"filePath\");\nbyte[] b = Files.readAllBytes(path);\n\nByteBuffer buffer = ByteBuffer.wrap(b).order(ByteOrder.LITTLE_ENDIAN);\n    buffer.rewind();\n    ShortBuffer ib = buffer.asShortBuffer();\n     System.out.println(b.length);\n     System.out.println(ib.get());\n     System.out.println(ib.get());\n</code></pre>\n\n<p>This is parsing each value a ascii. and I get the following output. </p>\n\n<pre><code>32\n12336\n12336\n</code></pre>\n\n<p>Can someone help me with this.</p>\n\n<p>Thanks\nAM</p>\n"},{"tags":["java","android","parsing","binary","binary-data"],"comments":[{"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"score":0,"creation_date":1316731618,"post_id":7522227,"comment_id":9111535,"body_markdown":"`new String(byte[])` doesn&#39;t do &quot;binary&quot; 010101 strings, but interprets the `byte[]` as characters using the default encoding (ASCII, UTF-8, etc.): http://download.oracle.com/javase/6/docs/api/java/lang/String.html#String(byte[]) (link here because parser doesn&#39;t like `[]` in markup)","body":"<code>new String(byte[])</code> doesn&#39;t do &quot;binary&quot; 010101 strings, but interprets the <code>byte[]</code> as characters using the default encoding (ASCII, UTF-8, etc.): <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#String(byte[])\" rel=\"nofollow noreferrer\">download.oracle.com/javase/6/docs/api/java/lang/&hellip;</a> (link here because parser doesn&#39;t like <code>[]</code> in markup)"}],"answers":[{"tags":[],"owner":{"account_id":60527,"reputation":20811,"user_id":180740,"display_name":"Philipp Reichart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316731327,"creation_date":1316731327,"answer_id":7522311,"question_id":7522227,"body_markdown":"Strings are the least efficient way to do this indeed.\r\n\r\nIf your binary `0000000010000001` is actually `byte[] {0, 0, 0, 0, 2, 0, 0, 1}` in decimal, then just check if `b[0] == b[1] == b[3] == b[4] == 0`.\r\n\r\nEdit: Ignore the &quot;in decimal&quot; part, it&#39;s irrelevant as long as you only want to check the if your array begins with `00000000` (i.e. 4 zero bytes)","title":"Parse Binary Data","body":"<p>Strings are the least efficient way to do this indeed.</p>\n\n<p>If your binary <code>0000000010000001</code> is actually <code>byte[] {0, 0, 0, 0, 2, 0, 0, 1}</code> in decimal, then just check if <code>b[0] == b[1] == b[3] == b[4] == 0</code>.</p>\n\n<p>Edit: Ignore the \"in decimal\" part, it's irrelevant as long as you only want to check the if your array begins with <code>00000000</code> (i.e. 4 zero bytes)</p>\n"},{"tags":[],"owner":{"account_id":911998,"reputation":64395,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1316811362,"creation_date":1316811362,"answer_id":7534755,"question_id":7522227,"body_markdown":"String manipulation for parsing binary data is quite inefficient in terms of speed, memory consumption and also puts quite some burden on the garbage collector - because you always generate new string objects and forget them immediately.\r\n\r\nIn Java you have several choices to do it better: \r\n\r\n  - `DataInputStream`: is a wrapper for an `InputStream` where you read bytes, shorts, longs, doubles, etc directly from the stream.\r\n  - NIO using `ByteBuffers` and &quot;derived&quot; types like `ShortBuffer`... these are good for bulkd data transfers and also for binary parsing.\r\n\r\nAs long as your data is byte-aligned, these are easy ways to go. If that&#39;s not the case - well, then better learn how to do bit-manipulation using operators like `&amp;`, `|`, `~`, `&lt;&lt;`, `&gt;&gt;`.\r\n\r\nMy suggestion is that you stick to `DataInputStream` as long as possible.","title":"Parse Binary Data","body":"<p>String manipulation for parsing binary data is quite inefficient in terms of speed, memory consumption and also puts quite some burden on the garbage collector - because you always generate new string objects and forget them immediately.</p>\n\n<p>In Java you have several choices to do it better: </p>\n\n<ul>\n<li><code>DataInputStream</code>: is a wrapper for an <code>InputStream</code> where you read bytes, shorts, longs, doubles, etc directly from the stream.</li>\n<li>NIO using <code>ByteBuffers</code> and \"derived\" types like <code>ShortBuffer</code>... these are good for bulkd data transfers and also for binary parsing.</li>\n</ul>\n\n<p>As long as your data is byte-aligned, these are easy ways to go. If that's not the case - well, then better learn how to do bit-manipulation using operators like <code>&amp;</code>, <code>|</code>, <code>~</code>, <code>&lt;&lt;</code>, <code>&gt;&gt;</code>.</p>\n\n<p>My suggestion is that you stick to <code>DataInputStream</code> as long as possible.</p>\n"},{"comments":[{"owner":{"account_id":3619346,"reputation":623,"user_id":3501944,"accept_rate":100,"display_name":"user218046"},"score":0,"creation_date":1636529334,"post_id":34722615,"comment_id":123578210,"body_markdown":"That&#39;s what I&#39;ve been looking for ma man :)","body":"That&#39;s what I&#39;ve been looking for ma man :)"}],"tags":[],"owner":{"account_id":2015227,"reputation":833,"user_id":1802697,"display_name":"Igor Maznitsa"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452518437,"creation_date":1452518437,"answer_id":34722615,"question_id":7522227,"body_markdown":"just FYI, there is [free OSS library called Java Binary Block Parser (JBBP)][1], it is compatible with Android (2.1+) and it allows just describe structure of data in text format and automatically parse data stream (or array), if you want to parse whole stream to bits then it can be executed in single string\r\n\r\n    byte [] parsedBits = JBBPParser.prepare(&quot;bit:1 [_];&quot;).parse(new byte[]{1,2,3,4,5}).findFieldForType(JBBPFieldArrayBit.class).getArray();\r\n\r\n\r\n  [1]: https://github.com/raydac/java-binary-block-parser","title":"Parse Binary Data","body":"<p>just FYI, there is <a href=\"https://github.com/raydac/java-binary-block-parser\" rel=\"nofollow\">free OSS library called Java Binary Block Parser (JBBP)</a>, it is compatible with Android (2.1+) and it allows just describe structure of data in text format and automatically parse data stream (or array), if you want to parse whole stream to bits then it can be executed in single string</p>\n\n<pre><code>byte [] parsedBits = JBBPParser.prepare(\"bit:1 [_];\").parse(new byte[]{1,2,3,4,5}).findFieldForType(JBBPFieldArrayBit.class).getArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15172934,"reputation":11,"user_id":10948449,"display_name":"Deng_Ran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672267153,"creation_date":1665285685,"answer_id":74001925,"question_id":7522227,"body_markdown":"It is a very low efficiency way, and is not recommended.\r\nTo parse binary data, we should have the protocol, and always use bit operation. If you are not fimiliar with that, \r\n\r\n[FastProto][1] is a better choice, what you need to do is annotating the fileds of the data object, FastProto would help you  complete all.\r\n\r\nImagine the binary data has fixed length of 20 bytes:\r\n\r\n&gt; 65 00 7F 69 3D 84 7A 01 00 00 55 00 F1 FF 0D 00 00 00 07 00\r\n\r\nThe binary data contains 3 different types of signals, the specific protocol is as follows:\r\n\r\n\r\n| Byte Offset | Bit Offset | Data Type(C/C++)  | Signal Name       | Unit |  Formula  |\r\n|:-----------:|:----------:|:-----------------:|:-----------------:|:----:|:---------:|\r\n| 0           |            |   unsigned char   | device id         |      |           |\r\n| 2-9         |            |       long        | time              |  ms  |           |\r\n| 12-13       |            |       short       | temperature       |  ℃  |            |\r\n\r\n```java\r\nimport org.indunet.fastproto.annotation.*;\r\n\r\npublic class Weather {\r\n    @UInt8Type(offset = 0)\r\n    int id;\r\n\r\n    @TimeType(offset = 2)\r\n    Timestamp time;\r\n\r\n    @Int16Type(offset = 12)\r\n    int temperature;\r\n}\r\n\r\nbyte[] bytes= ...   // binary need parsing\r\n\r\nWeather weather = FastProto.parse(datagram, Weather.class);\r\n```\r\n\r\nMaybe you have noticed that FastProto describes the field information in binary data through annotations, which is very simple and efficient.\r\n\r\n\r\n  [1]: https://github.com/indunet/fastproto","title":"Parse Binary Data","body":"<p>It is a very low efficiency way, and is not recommended.\nTo parse binary data, we should have the protocol, and always use bit operation. If you are not fimiliar with that,</p>\n<p><a href=\"https://github.com/indunet/fastproto\" rel=\"nofollow noreferrer\">FastProto</a> is a better choice, what you need to do is annotating the fileds of the data object, FastProto would help you  complete all.</p>\n<p>Imagine the binary data has fixed length of 20 bytes:</p>\n<blockquote>\n<p>65 00 7F 69 3D 84 7A 01 00 00 55 00 F1 FF 0D 00 00 00 07 00</p>\n</blockquote>\n<p>The binary data contains 3 different types of signals, the specific protocol is as follows:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Byte Offset</th>\n<th style=\"text-align: center;\">Bit Offset</th>\n<th style=\"text-align: center;\">Data Type(C/C++)</th>\n<th style=\"text-align: center;\">Signal Name</th>\n<th style=\"text-align: center;\">Unit</th>\n<th style=\"text-align: center;\">Formula</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\">unsigned char</td>\n<td style=\"text-align: center;\">device id</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">2-9</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\">long</td>\n<td style=\"text-align: center;\">time</td>\n<td style=\"text-align: center;\">ms</td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">12-13</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\">short</td>\n<td style=\"text-align: center;\">temperature</td>\n<td style=\"text-align: center;\">℃</td>\n<td style=\"text-align: center;\"></td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre class=\"lang-java prettyprint-override\"><code>import org.indunet.fastproto.annotation.*;\n\npublic class Weather {\n    @UInt8Type(offset = 0)\n    int id;\n\n    @TimeType(offset = 2)\n    Timestamp time;\n\n    @Int16Type(offset = 12)\n    int temperature;\n}\n\nbyte[] bytes= ...   // binary need parsing\n\nWeather weather = FastProto.parse(datagram, Weather.class);\n</code></pre>\n<p>Maybe you have noticed that FastProto describes the field information in binary data through annotations, which is very simple and efficient.</p>\n"}],"owner":{"account_id":930070,"reputation":711,"user_id":960099,"accept_rate":52,"display_name":"Jo&#227;o Nunes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4665,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7534755,"answer_count":4,"score":1,"last_activity_date":1672267153,"creation_date":1316730703,"question_id":7522227,"body_markdown":"I have an application that receives data in binary form through Bluetooth. I read the data using inputstream from a bluetoothsocket to a byte[]. But I must parse all messages, because they must have a given format to be valid. All messages are in binary.\r\n\r\nMy solution was to convert the byte[] to a string and then split the string and parse all received messages.\r\n\r\nAn example of the data to parse:\r\n0000000010000001\r\n\r\nI should know that the first 8 zeros are the header and 10000001 the real data.\r\n\r\nMy idea was to create a string (from the byte[]) that represents -&gt; 0000000010000001\r\nusing new String(byte[])\r\nand then split the whole string in one byte and check the value, like:\r\n\r\nstring1 had 00000000\r\nstring2 had 10000001\r\n\r\nI know that 8 zeros are the header, therefore string2 has the representation of the data.\r\n\r\nMy question is about the efficiency of this method. Is this the best method to do this in a mobile environment?","title":"Parse Binary Data","body":"<p>I have an application that receives data in binary form through Bluetooth. I read the data using inputstream from a bluetoothsocket to a byte[]. But I must parse all messages, because they must have a given format to be valid. All messages are in binary.</p>\n<p>My solution was to convert the byte[] to a string and then split the string and parse all received messages.</p>\n<p>An example of the data to parse:\n0000000010000001</p>\n<p>I should know that the first 8 zeros are the header and 10000001 the real data.</p>\n<p>My idea was to create a string (from the byte[]) that represents -&gt; 0000000010000001\nusing new String(byte[])\nand then split the whole string in one byte and check the value, like:</p>\n<p>string1 had 00000000\nstring2 had 10000001</p>\n<p>I know that 8 zeros are the header, therefore string2 has the representation of the data.</p>\n<p>My question is about the efficiency of this method. Is this the best method to do this in a mobile environment?</p>\n"},{"tags":["java","localdate"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1672262833,"post_id":74945135,"comment_id":132255542,"body_markdown":"Does this answer your question? [Minimum date in Java](https://stackoverflow.com/questions/3838242/minimum-date-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3838242/minimum-date-in-java\">Minimum date in Java</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1672265796,"post_id":74945135,"comment_id":132256204,"body_markdown":"You should tell us the result of calling `ZoneId.systemDefault`.","body":"You should tell us the result of calling <code>ZoneId.systemDefault</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1672265905,"post_id":74945135,"comment_id":132256222,"body_markdown":"Time zones are a modern invention. I don’t see any logic or purpose in projecting a time zone across millennia.","body":"Time zones are a modern invention. I don’t see any logic or purpose in projecting a time zone across millennia."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1672268019,"post_id":74945135,"comment_id":132256613,"body_markdown":"You should probably rethink the way you&#39;ve designed your program.  It seems very odd that you want to convert things to `Date` when you&#39;re using the `java.time` classes.  It seems even odder that your program somehow wants to care about what time of day it is, on 1 January 1 CE.  This suggests to me that you&#39;re probably using either `Date` or `LocalDate` for something that it was never intended to be used for.  So, what actual problem are you trying to solve here?  Perhaps converting `LocalDate` to `Date` doesn&#39;t need to be part of the solution.","body":"You should probably rethink the way you&#39;ve designed your program.  It seems very odd that you want to convert things to <code>Date</code> when you&#39;re using the <code>java.time</code> classes.  It seems even odder that your program somehow wants to care about what time of day it is, on 1 January 1 CE.  This suggests to me that you&#39;re probably using either <code>Date</code> or <code>LocalDate</code> for something that it was never intended to be used for.  So, what actual problem are you trying to solve here?  Perhaps converting <code>LocalDate</code> to <code>Date</code> doesn&#39;t need to be part of the solution."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672293703,"post_id":74945135,"comment_id":132260013,"body_markdown":"It is the difference between the Julian calendar that `Date` uses and the proleptic Gregorian calendar he `LocalDate` uses. 0001-01-01 is a valid date in both, but not the same date. Plus, as others said, the time zone offset. It seems that it was once -05:17:32 for your default time zone.If this is the case, why don’t you want it??","body":"It is the difference between the Julian calendar that <code>Date</code> uses and the proleptic Gregorian calendar he <code>LocalDate</code> uses. 0001-01-01 is a valid date in both, but not the same date. Plus, as others said, the time zone offset. It seems that it was once -05:17:32 for your default time zone.If this is the case, why don’t you want it??"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672293969,"post_id":74945135,"comment_id":132260056,"body_markdown":"Which result would you want if run in a time zone that uses summer time (DST)? Where the UTC offset for November 2 may even be different from year to year depending on when the summer time transition happens?","body":"Which result would you want if run in a time zone that uses summer time (DST)? Where the UTC offset for November 2 may even be different from year to year depending on when the summer time transition happens?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672312110,"post_id":74945135,"comment_id":132264335,"body_markdown":"Related: [Java: How to get the timestamp of &#39;1000-01-01 00:00:00&#39; in UTC?](https://stackoverflow.com/questions/57992234/java-how-to-get-the-timestamp-of-1000-01-01-000000-in-utc)","body":"Related: <a href=\"https://stackoverflow.com/questions/57992234/java-how-to-get-the-timestamp-of-1000-01-01-000000-in-utc\">Java: How to get the timestamp of &#39;1000-01-01 00:00:00&#39; in UTC?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672267112,"creation_date":1672266622,"answer_id":74945557,"question_id":74945135,"body_markdown":"The `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html).\r\n\r\nFrom your question, I concluded that your time-zone offset is `-04:00`. You can apply the fixed offset to achieve what you want.\r\n\r\n**Demo**: \r\n\r\n    import java.time.LocalDate;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneOffset;\r\n    import java.util.stream.Stream;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            Stream.of(&quot;2022-11-02&quot;, &quot;0001-01-01&quot;)\r\n                    .map(LocalDate::parse)\r\n                    .map(date -&gt; date.atStartOfDay())\r\n                    .map(ldt -&gt; ldt.atOffset(ZoneOffset.of(&quot;-04:00&quot;)))\r\n                    .map(odt -&gt; odt.withOffsetSameInstant(ZoneOffset.UTC))\r\n                    .map(OffsetDateTime::toInstant)\r\n                    .forEach(System.out::println);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-11-02T04:00:00Z\r\n    0001-01-01T04:00:00Z\r\n\r\nFor the formatted output, you can use `DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSxxx&quot;)` as shown below:\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSxxx&quot;, Locale.ENGLISH);\r\n            Stream.of(&quot;2022-11-02&quot;, &quot;0001-01-01&quot;)\r\n                    .map(LocalDate::parse)\r\n                    .map(date -&gt; date.atStartOfDay())\r\n                    .map(ldt -&gt; ldt.atOffset(ZoneOffset.of(&quot;-04:00&quot;)))\r\n                    .map(odt -&gt; odt.withOffsetSameInstant(ZoneOffset.UTC))\r\n                    .map(odt -&gt; odt.format(formatter))\r\n                    .forEach(System.out::println);\r\n        }\r\n    }\r\n**Output**:\r\n\r\n    2022-11-02T04:00:00.000+00:00\r\n    0001-01-01T04:00:00.000+00:00\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Java converting localDate 0001-01-01 to date issue","body":"<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>.</p>\n<p>From your question, I concluded that your time-zone offset is <code>-04:00</code>. You can apply the fixed offset to achieve what you want.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\nimport java.util.stream.Stream;\n\nclass Main {\n    public static void main(String[] args) {\n        Stream.of(&quot;2022-11-02&quot;, &quot;0001-01-01&quot;)\n                .map(LocalDate::parse)\n                .map(date -&gt; date.atStartOfDay())\n                .map(ldt -&gt; ldt.atOffset(ZoneOffset.of(&quot;-04:00&quot;)))\n                .map(odt -&gt; odt.withOffsetSameInstant(ZoneOffset.UTC))\n                .map(OffsetDateTime::toInstant)\n                .forEach(System.out::println);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-11-02T04:00:00Z\n0001-01-01T04:00:00Z\n</code></pre>\n<p>For the formatted output, you can use <code>DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSxxx&quot;)</code> as shown below:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSxxx&quot;, Locale.ENGLISH);\n        Stream.of(&quot;2022-11-02&quot;, &quot;0001-01-01&quot;)\n                .map(LocalDate::parse)\n                .map(date -&gt; date.atStartOfDay())\n                .map(ldt -&gt; ldt.atOffset(ZoneOffset.of(&quot;-04:00&quot;)))\n                .map(odt -&gt; odt.withOffsetSameInstant(ZoneOffset.UTC))\n                .map(odt -&gt; odt.format(formatter))\n                .forEach(System.out::println);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-11-02T04:00:00.000+00:00\n0001-01-01T04:00:00.000+00:00\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":23473803,"reputation":101,"user_id":17526904,"display_name":"feiyechen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":861,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1672267112,"creation_date":1672262597,"question_id":74945135,"body_markdown":"I have two localDate to convert: 2022-11-02 and 0001-01-01\r\n\r\nI am using the same method:\r\n```\r\nDate.from(myLocalDate.atStartOfDay(ZoneId.systemDefault()).toInstant())\r\n```\r\n\r\nLocatDate 2022-11-02 is fine with result ```2022-11-02T04:00:00.000+00.00```\r\n\r\nHowever 0001-01-01 will be ```0001-01-03T05:17:32.000+00.00```\r\n\r\nIs that because 0001-01-01 is not a valid date? How can I convert it to ```0001-01-01T04:00:00.000+00.00```?","title":"Java converting localDate 0001-01-01 to date issue","body":"<p>I have two localDate to convert: 2022-11-02 and 0001-01-01</p>\n<p>I am using the same method:</p>\n<pre><code>Date.from(myLocalDate.atStartOfDay(ZoneId.systemDefault()).toInstant())\n</code></pre>\n<p>LocatDate 2022-11-02 is fine with result <code>2022-11-02T04:00:00.000+00.00</code></p>\n<p>However 0001-01-01 will be <code>0001-01-03T05:17:32.000+00.00</code></p>\n<p>Is that because 0001-01-01 is not a valid date? How can I convert it to <code>0001-01-01T04:00:00.000+00.00</code>?</p>\n"},{"tags":["java","class","jar","program-entry-point"],"comments":[{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":1,"creation_date":1350996294,"post_id":13030675,"comment_id":17688867,"body_markdown":"Does TestClass contain a main function?","body":"Does TestClass contain a main function?"},{"owner":{"account_id":339209,"reputation":4831,"user_id":668540,"accept_rate":78,"display_name":"Austin"},"score":3,"creation_date":1350996316,"post_id":13030675,"comment_id":17688879,"body_markdown":"@Baz Yes, it has a main method.","body":"@Baz Yes, it has a main method."},{"owner":{"account_id":1489923,"reputation":11208,"user_id":1397268,"display_name":"Hakan Serce"},"score":3,"creation_date":1350996365,"post_id":13030675,"comment_id":17688902,"body_markdown":"Are you sure that the package name for `TestClass` is `classes`?","body":"Are you sure that the package name for <code>TestClass</code> is <code>classes</code>?"},{"owner":{"account_id":1893490,"reputation":2072,"user_id":1710942,"accept_rate":69,"display_name":"Arham"},"score":1,"creation_date":1350996381,"post_id":13030675,"comment_id":17688904,"body_markdown":"is the TestClass in the package classes? I would suggest run the file from command line once. If success then move ahead.","body":"is the TestClass in the package classes? I would suggest run the file from command line once. If success then move ahead."},{"owner":{"account_id":339209,"reputation":4831,"user_id":668540,"accept_rate":78,"display_name":"Austin"},"score":0,"creation_date":1350996477,"post_id":13030675,"comment_id":17688970,"body_markdown":"@Arham If I test the class using Eclipse before I export it into a .jar, it runs fine.","body":"@Arham If I test the class using Eclipse before I export it into a .jar, it runs fine."},{"owner":{"account_id":430892,"reputation":11366,"user_id":814576,"accept_rate":77,"display_name":"ecbrodie"},"score":0,"creation_date":1350996609,"post_id":13030675,"comment_id":17689037,"body_markdown":"Load the jar with just the `java` command. Don&#39;t use `@echo off` and `pause`, you are just complicating things until you solve the problem.","body":"Load the jar with just the <code>java</code> command. Don&#39;t use <code>@echo off</code> and <code>pause</code>, you are just complicating things until you solve the problem."},{"owner":{"account_id":1931201,"reputation":5150,"user_id":1740554,"display_name":"Udo Klimaschewski"},"score":0,"creation_date":1350996648,"post_id":13030675,"comment_id":17689060,"body_markdown":"So how do you jar it? is the TestClass.class file jared under a classes folder?","body":"So how do you jar it? is the TestClass.class file jared under a classes folder?"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1375556136,"post_id":13030675,"comment_id":26384171,"body_markdown":"You&#39;re confusing `classes` the output directory with `classes` the package.","body":"You&#39;re confusing <code>classes</code> the output directory with <code>classes</code> the package."}],"answers":[{"comments":[{"owner":{"account_id":1893490,"reputation":2072,"user_id":1710942,"accept_rate":69,"display_name":"Arham"},"score":0,"creation_date":1350997099,"post_id":13030862,"comment_id":17689285,"body_markdown":"Could you tell how&#39;s your java path and classpath set. Just one thing you can try before replying. Try running the same TestClass via command line instead of Eclipse.","body":"Could you tell how&#39;s your java path and classpath set. Just one thing you can try before replying. Try running the same TestClass via command line instead of Eclipse."},{"owner":{"account_id":339209,"reputation":4831,"user_id":668540,"accept_rate":78,"display_name":"Austin"},"score":0,"creation_date":1350997195,"post_id":13030862,"comment_id":17689327,"body_markdown":"I can run the class just fine using command line. Along with other java commands like javac.","body":"I can run the class just fine using command line. Along with other java commands like javac."}],"tags":[],"owner":{"account_id":1893490,"reputation":2072,"user_id":1710942,"accept_rate":69,"display_name":"Arham"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1350996854,"creation_date":1350996854,"answer_id":13030862,"question_id":13030675,"body_markdown":"1.Create a text file calles Manifest.txt and provide the value as \r\n\r\n&gt; Main-Class: classes.TestClass\r\n\r\n2.Create the jar as \r\n\r\n&gt; jar cfm test.jar Manifest.txt classes/*.class\r\n\r\n3.Run the jar as \r\n\r\n&gt; java -jar test.jar","title":"Could not find or load main class with a Jar File","body":"<p>1.Create a text file calles Manifest.txt and provide the value as </p>\n\n<blockquote>\n  <p>Main-Class: classes.TestClass</p>\n</blockquote>\n\n<p>2.Create the jar as </p>\n\n<blockquote>\n  <p>jar cfm test.jar Manifest.txt classes/*.class</p>\n</blockquote>\n\n<p>3.Run the jar as </p>\n\n<blockquote>\n  <p>java -jar test.jar</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":327588,"reputation":1303,"user_id":650049,"display_name":"escape-llc"},"score":0,"creation_date":1563384976,"post_id":13030900,"comment_id":100685744,"body_markdown":"omg that&#39;s what happened to me!  my ant jar task had a prefix of &quot;/&quot; but needed &quot;&quot;.","body":"omg that&#39;s what happened to me!  my ant jar task had a prefix of &quot;/&quot; but needed &quot;&quot;."}],"tags":[],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1350996952,"creation_date":1350996952,"answer_id":13030900,"question_id":13030675,"body_markdown":"This is very difficult to debug without complete information.\r\n\r\nThe two most likely-looking things at this point are that either the file in the jar is not stored in a directory WITHIN THE JAR, or that it is not the correct file.\r\n\r\nYou need to be storing TestClass.class - some people new at this store the source file, TestClass.java.\r\n\r\nAnd you need to create the jar file so that TestClass.class appears with a path of classes.  Make sure it is not &quot;/classes&quot;.  Use zip to look at the file and make sure it has a path of &quot;classes&quot;.","title":"Could not find or load main class with a Jar File","body":"<p>This is very difficult to debug without complete information.</p>\n\n<p>The two most likely-looking things at this point are that either the file in the jar is not stored in a directory WITHIN THE JAR, or that it is not the correct file.</p>\n\n<p>You need to be storing TestClass.class - some people new at this store the source file, TestClass.java.</p>\n\n<p>And you need to create the jar file so that TestClass.class appears with a path of classes.  Make sure it is not \"/classes\".  Use zip to look at the file and make sure it has a path of \"classes\".</p>\n"},{"comments":[{"owner":{"account_id":6878666,"reputation":86,"user_id":5286208,"display_name":"Corral"},"score":7,"creation_date":1448365299,"post_id":13030952,"comment_id":55548361,"body_markdown":"I&#39;d like to remark a point implicit in the answer: it&#39;s important to &quot;cd&quot; to the path which would have been used as the classpath was TestClass.class ran without a jar file. For instance, &quot;cd /MyEclipseWorkspace/MyProject/bin&quot;  If, instead, jar uses the absolute path of the class files it may fail with &quot;could not find or load main class&quot; error. For instance, this is wrong: jar cfm test.jar manifest.txt /absolutepath/classes/TestClass.class","body":"I&#39;d like to remark a point implicit in the answer: it&#39;s important to &quot;cd&quot; to the path which would have been used as the classpath was TestClass.class ran without a jar file. For instance, &quot;cd /MyEclipseWorkspace/MyProject/bin&quot;  If, instead, jar uses the absolute path of the class files it may fail with &quot;could not find or load main class&quot; error. For instance, this is wrong: jar cfm test.jar manifest.txt /absolutepath/classes/TestClass.class"},{"owner":{"account_id":2661034,"reputation":870,"user_id":2324316,"accept_rate":80,"display_name":"Kyle G."},"score":1,"creation_date":1470252577,"post_id":13030952,"comment_id":64878140,"body_markdown":"@Corral&#39;s comment should not be ignored. I was pulling my hair out trying to solve this problem until I read it, and now my jar runs perfectly.","body":"@Corral&#39;s comment should not be ignored. I was pulling my hair out trying to solve this problem until I read it, and now my jar runs perfectly."},{"owner":{"account_id":2819211,"reputation":321,"user_id":2423364,"accept_rate":50,"display_name":"Peter Zhukov"},"score":1,"creation_date":1508756870,"post_id":13030952,"comment_id":80722692,"body_markdown":"`&gt;%JAVAHOME%\\bin\\jar cfM MANIFEST.MF test.jar classes/` results in\n`test.jar : no such file or directory` and `MANIFEST.JS` is now broken (its binary file now).","body":"<code>&gt;%JAVAHOME%\\bin\\jar cfM MANIFEST.MF test.jar classes&#47;</code> results in <code>test.jar : no such file or directory</code> and <code>MANIFEST.JS</code> is now broken (its binary file now)."}],"tags":[],"owner":{"account_id":175711,"reputation":6306,"user_id":405906,"display_name":"BeRecursive"},"comment_count":3,"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1543554618,"creation_date":1350997145,"answer_id":13030952,"question_id":13030675,"body_markdown":"I got it working like this:\r\n\r\n**TestClass.Java**\r\n\r\n    package classes;\r\n    \r\n    public class TestClass {\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Test&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nUse ``javac`` on the command line to produce ``TestClass.class``. Put ``TestClass.class`` in a folder ``classes/``.\r\n\r\n**MANIFEST.MF**\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: classes.TestClass\r\n\r\nThen run\r\n\r\n    jar cfm test.jar MANIFEST.MF classes/\r\n\r\nThen run it as\r\n\r\n    java -jar test.jar","title":"Could not find or load main class with a Jar File","body":"<p>I got it working like this:</p>\n\n<p><strong>TestClass.Java</strong></p>\n\n<pre><code>package classes;\n\npublic class TestClass {\n\n    public static void main(String[] args) {\n        System.out.println(\"Test\");\n    }\n\n}\n</code></pre>\n\n<p>Use <code>javac</code> on the command line to produce <code>TestClass.class</code>. Put <code>TestClass.class</code> in a folder <code>classes/</code>.</p>\n\n<p><strong>MANIFEST.MF</strong></p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: classes.TestClass\n</code></pre>\n\n<p>Then run</p>\n\n<pre><code>jar cfm test.jar MANIFEST.MF classes/\n</code></pre>\n\n<p>Then run it as</p>\n\n<pre><code>java -jar test.jar\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8473574,"reputation":3686,"user_id":6355451,"display_name":"Santosh Kumar Arjunan"},"score":1,"creation_date":1542480686,"post_id":18036155,"comment_id":93586372,"body_markdown":"True, it happens for me most of the time on copying from outlook or Skype..","body":"True, it happens for me most of the time on copying from outlook or Skype.."}],"tags":[],"owner":{"account_id":2818989,"reputation":4531,"user_id":2423207,"accept_rate":57,"display_name":"Max Carroll"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1594639866,"creation_date":1375555948,"answer_id":18036155,"question_id":13030675,"body_markdown":"I had the same problem due to copying and pasting code from a Microsoft Word Document. Seems there was a slightly different type of dash `-` character used, when I replaced the longer dash character with the correct `-` the program executed properly","title":"Could not find or load main class with a Jar File","body":"<p>I had the same problem due to copying and pasting code from a Microsoft Word Document. Seems there was a slightly different type of dash <code>-</code> character used, when I replaced the longer dash character with the correct <code>-</code> the program executed properly</p>\n"},{"comments":[{"owner":{"account_id":937526,"reputation":2406,"user_id":966179,"accept_rate":20,"display_name":"Matthias Urlichs"},"score":3,"creation_date":1391283972,"post_id":18524914,"comment_id":32461004,"body_markdown":"Please add an explanation when you downvote something.","body":"Please add an explanation when you downvote something."},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":1,"creation_date":1498264415,"post_id":18524914,"comment_id":76445870,"body_markdown":"Do you have to put the full path if you are in the same directory as your jar?","body":"Do you have to put the full path if you are in the same directory as your jar?"}],"tags":[],"owner":{"account_id":3237830,"reputation":231,"user_id":2731534,"display_name":"Kalidas Y"},"comment_count":2,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1377838165,"creation_date":1377836861,"answer_id":18524914,"question_id":13030675,"body_markdown":"&gt; java -cp &quot;full-path-of-your-jar&quot; Main\r\n\r\nto run any other class having &quot;public static void main&quot; in some package,\r\n\r\n&gt; java -cp &quot;full-path-of-your-jar&quot; package1.package2.packages-hierarchy.ClassHavingMain","title":"Could not find or load main class with a Jar File","body":"<blockquote>\n  <p>java -cp \"full-path-of-your-jar\" Main</p>\n</blockquote>\n\n<p>to run any other class having \"public static void main\" in some package,</p>\n\n<blockquote>\n  <p>java -cp \"full-path-of-your-jar\" package1.package2.packages-hierarchy.ClassHavingMain</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4914098,"reputation":43,"user_id":3958530,"display_name":"Ramjet"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1412211304,"creation_date":1412211304,"answer_id":26152944,"question_id":13030675,"body_markdown":"At least the way I&#39;ve done this is as follows:\r\n\r\nIf you have a nested src tree (say com.test.myclass.MyClass) and you are compiling from a root directory you need to do the following:\r\n\r\n1) when you create the jar (usually put this in a script):\r\n    jar -cvfm my.jar com/test/myclass/manifest.txt com/test/myclass/MyClass.class\r\n\r\n2) The manifest should look like:\r\n\r\nMainfest-version: 1.0\r\nMain-Class: com.test.myclass.MyClass\r\nClass-Path: . my.jar\r\n\r\n3) Now you can run the jar from anywhere like this:\r\n\r\njava -jar my.jar\r\n\r\nHope this helps someone\r\n","title":"Could not find or load main class with a Jar File","body":"<p>At least the way I've done this is as follows:</p>\n\n<p>If you have a nested src tree (say com.test.myclass.MyClass) and you are compiling from a root directory you need to do the following:</p>\n\n<p>1) when you create the jar (usually put this in a script):\n    jar -cvfm my.jar com/test/myclass/manifest.txt com/test/myclass/MyClass.class</p>\n\n<p>2) The manifest should look like:</p>\n\n<p>Mainfest-version: 1.0\nMain-Class: com.test.myclass.MyClass\nClass-Path: . my.jar</p>\n\n<p>3) Now you can run the jar from anywhere like this:</p>\n\n<p>java -jar my.jar</p>\n\n<p>Hope this helps someone</p>\n"},{"tags":[],"owner":{"account_id":1569700,"reputation":4514,"user_id":1457659,"display_name":"user1457659"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432676293,"creation_date":1432676293,"answer_id":30469405,"question_id":13030675,"body_markdown":"I follow the following instruction to create a executable .jar in Eclipse.  Then Run command &quot;java -jar &lt;yourjarname&gt;.jar &lt;parameters&gt;&quot; to launch the program.\r\n\r\nIt takes care of creating mainfest and includeing main class and library files parts for you.\r\n\r\nhttp://java67.blogspot.com/2014/04/how-to-make-executable-jar-file-in-Java-Eclipse.html","title":"Could not find or load main class with a Jar File","body":"<p>I follow the following instruction to create a executable .jar in Eclipse.  Then Run command \"java -jar .jar \" to launch the program.</p>\n\n<p>It takes care of creating mainfest and includeing main class and library files parts for you.</p>\n\n<p><a href=\"http://java67.blogspot.com/2014/04/how-to-make-executable-jar-file-in-Java-Eclipse.html\" rel=\"nofollow\">http://java67.blogspot.com/2014/04/how-to-make-executable-jar-file-in-Java-Eclipse.html</a></p>\n"},{"tags":[],"owner":{"account_id":4777549,"reputation":957,"user_id":3860254,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443088753,"creation_date":1443088753,"answer_id":32758490,"question_id":13030675,"body_markdown":"I had a similar problem which I could solve by granting execute-privilege for all parent folders in which the jar-file is located (on a linux system). \r\n\r\nExample:\r\n\r\n/folder1/folder2/folder3/executable.jar\r\n\r\nall 3 folders (folder1, folder2 and folder3) as well as the executable.jar need execute-privilege for the current user, otherwise the error &quot;Could not find or load main class ...&quot; is returned.\r\n","title":"Could not find or load main class with a Jar File","body":"<p>I had a similar problem which I could solve by granting execute-privilege for all parent folders in which the jar-file is located (on a linux system). </p>\n\n<p>Example:</p>\n\n<p>/folder1/folder2/folder3/executable.jar</p>\n\n<p>all 3 folders (folder1, folder2 and folder3) as well as the executable.jar need execute-privilege for the current user, otherwise the error \"Could not find or load main class ...\" is returned.</p>\n"},{"comments":[{"owner":{"account_id":5301557,"reputation":386,"user_id":4230977,"accept_rate":94,"display_name":"MR AND"},"score":0,"creation_date":1563219604,"post_id":48205047,"comment_id":100619893,"body_markdown":"This did not help me. Do i need to add file:/// for all the class path I add","body":"This did not help me. Do i need to add file:/// for all the class path I add"},{"owner":{"account_id":404573,"reputation":7556,"user_id":772981,"accept_rate":46,"display_name":"Jarekczek"},"score":1,"creation_date":1563394636,"post_id":48205047,"comment_id":100690065,"body_markdown":"Yes, it is necessary for all the jars.","body":"Yes, it is necessary for all the jars."}],"tags":[],"owner":{"account_id":404573,"reputation":7556,"user_id":772981,"accept_rate":46,"display_name":"Jarekczek"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515667082,"creation_date":1515667082,"answer_id":48205047,"question_id":13030675,"body_markdown":"I had a weird issue when **an incorrect entry in MANIFEST.MF** was causing loading failure. This was when I was trying to launch a very simply scala program:\r\n\r\nIncorrect:\r\n\r\n    Main-Class: jarek.ResourceCache\r\n    Class-Path: D:/lang/scala/lib/scala-library.jar\r\n\r\nCorrect:\r\n\r\n    Main-Class: jarek.ResourceCache\r\n    Class-Path: file:///D:/lang/scala/lib/scala-library.jar\r\n\r\n\r\nWith an incorrect version, I was getting a cryptic message, the same the OP did. Probably it should say something like *malformed url exception while parsing manifest file*.\r\n\r\nUsing an absolute path in the manifest file is what IntelliJ uses to provide a long classpath for a program.","title":"Could not find or load main class with a Jar File","body":"<p>I had a weird issue when <strong>an incorrect entry in MANIFEST.MF</strong> was causing loading failure. This was when I was trying to launch a very simply scala program:</p>\n\n<p>Incorrect:</p>\n\n<pre><code>Main-Class: jarek.ResourceCache\nClass-Path: D:/lang/scala/lib/scala-library.jar\n</code></pre>\n\n<p>Correct:</p>\n\n<pre><code>Main-Class: jarek.ResourceCache\nClass-Path: file:///D:/lang/scala/lib/scala-library.jar\n</code></pre>\n\n<p>With an incorrect version, I was getting a cryptic message, the same the OP did. Probably it should say something like <em>malformed url exception while parsing manifest file</em>.</p>\n\n<p>Using an absolute path in the manifest file is what IntelliJ uses to provide a long classpath for a program.</p>\n"},{"tags":[],"owner":{"account_id":11898682,"reputation":1451,"user_id":8733066,"display_name":"bb1950328"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542972864,"creation_date":1542969359,"answer_id":53445046,"question_id":13030675,"body_markdown":"I had this error because I wrote a wrong Class-Path in my `MANIFEST.MF`\r\n","title":"Could not find or load main class with a Jar File","body":"<p>I had this error because I wrote a wrong Class-Path in my <code>MANIFEST.MF</code></p>\n"},{"comments":[{"owner":{"account_id":2602535,"reputation":115,"user_id":2254517,"accept_rate":80,"display_name":"noctua"},"score":4,"creation_date":1556705584,"post_id":53621253,"comment_id":98521921,"body_markdown":"This os the only answer that helped me! THANK YOU. Is there an other way than going (cd) into the folder with the packages/classes?","body":"This os the only answer that helped me! THANK YOU. Is there an other way than going (cd) into the folder with the packages/classes?"},{"owner":{"account_id":256275,"reputation":18252,"user_id":536890,"accept_rate":92,"display_name":"Jason Kim"},"score":0,"creation_date":1589087682,"post_id":53621253,"comment_id":109150473,"body_markdown":"I&#39;ve gone through dozens of different threads and docs on this topic. Everything was useless except your answer. Thank you.","body":"I&#39;ve gone through dozens of different threads and docs on this topic. Everything was useless except your answer. Thank you."},{"owner":{"account_id":256275,"reputation":18252,"user_id":536890,"accept_rate":92,"display_name":"Jason Kim"},"score":0,"creation_date":1589090018,"post_id":53621253,"comment_id":109150925,"body_markdown":"@noctua You should look int `-C` option. `jar cfmv Jarfilename.jar manifest.txt ./classes/PackageName -C classes .` This will help you avoid `cd` into the classes directory. On `-C` option, https://docs.oracle.com/javase/tutorial/deployment/jar/view.html","body":"@noctua You should look int <code>-C</code> option. <code>jar cfmv Jarfilename.jar manifest.txt .&#47;classes&#47;PackageName -C classes .</code> This will help you avoid <code>cd</code> into the classes directory. On <code>-C</code> option, <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/view.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/deployment/jar/view.html</a>"},{"owner":{"account_id":2763282,"reputation":141,"user_id":3677956,"display_name":"Log2"},"score":0,"creation_date":1595607236,"post_id":53621253,"comment_id":111543368,"body_markdown":"@JasonKim that is literally the last thing I talk about in my answer!","body":"@JasonKim that is literally the last thing I talk about in my answer!"},{"owner":{"account_id":256275,"reputation":18252,"user_id":536890,"accept_rate":92,"display_name":"Jason Kim"},"score":1,"creation_date":1595614907,"post_id":53621253,"comment_id":111546569,"body_markdown":"@Log2 I know, but look at what noctua is asking in the comment. He may not have read the last thing in your answer. And he asked the question that would be answered by what you pointed out and I repeated. I was trying to to be helpful for noctua. I also thanked you in the comment as well because your answer was the only one that was useful.","body":"@Log2 I know, but look at what noctua is asking in the comment. He may not have read the last thing in your answer. And he asked the question that would be answered by what you pointed out and I repeated. I was trying to to be helpful for noctua. I also thanked you in the comment as well because your answer was the only one that was useful."},{"owner":{"account_id":2763282,"reputation":141,"user_id":3677956,"display_name":"Log2"},"score":1,"creation_date":1600080634,"post_id":53621253,"comment_id":112965358,"body_markdown":"@JasonKim sorry, I didn&#39;t realize you&#39;re just repeating it for him. I didn&#39;t mean to call you out or anything like that.","body":"@JasonKim sorry, I didn&#39;t realize you&#39;re just repeating it for him. I didn&#39;t mean to call you out or anything like that."},{"owner":{"account_id":256275,"reputation":18252,"user_id":536890,"accept_rate":92,"display_name":"Jason Kim"},"score":0,"creation_date":1600111165,"post_id":53621253,"comment_id":112979317,"body_markdown":"@Log2 No problem","body":"@Log2 No problem"}],"tags":[],"owner":{"account_id":2763282,"reputation":141,"user_id":3677956,"display_name":"Log2"},"comment_count":7,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1543956829,"creation_date":1543956829,"answer_id":53621253,"question_id":13030675,"body_markdown":"I know this is an old question, but I had this problem recently and none of the answers helped me. However, Corral&#39;s comment on Ryan Atkinson&#39;s answer did tip me off to the problem.\r\n\r\nI had all my compiled class files in ```target/classes```, which are not packages in my case. I was trying to package it with ```jar cvfe App.jar target/classes App```, from the root directory of my project, as my App class was in the default unnamed package.\r\n\r\nThis doesn&#39;t work, as the newly created ```App.jar``` will have the class ```App.class``` in the directory ```target/classes```. If you try to run this jar with ```java -jar App.jar```, it will complain that it cannot find the ```App``` class. This is because the packages inside ```App.jar``` don&#39;t match the actual packages in the project.\r\n\r\nThis could be solved by creating the jar directly from the ```target/classes``` directory, using ```jar cvfe App.jar . App```. This is rather cumbersome in my opinion.\r\n\r\nThe simple solution is to list the folders you want to add with the ```-C``` option instead of using the default way of listing folders. So, in my case, the correct command is ```java cvfe App.jar App -C target/classes .```. This will directly add all files in the ```target/classes``` directory to the root of ```App.jar```, thus solving the problem.","title":"Could not find or load main class with a Jar File","body":"<p>I know this is an old question, but I had this problem recently and none of the answers helped me. However, Corral's comment on Ryan Atkinson's answer did tip me off to the problem.</p>\n\n<p>I had all my compiled class files in <code>target/classes</code>, which are not packages in my case. I was trying to package it with <code>jar cvfe App.jar target/classes App</code>, from the root directory of my project, as my App class was in the default unnamed package.</p>\n\n<p>This doesn't work, as the newly created <code>App.jar</code> will have the class <code>App.class</code> in the directory <code>target/classes</code>. If you try to run this jar with <code>java -jar App.jar</code>, it will complain that it cannot find the <code>App</code> class. This is because the packages inside <code>App.jar</code> don't match the actual packages in the project.</p>\n\n<p>This could be solved by creating the jar directly from the <code>target/classes</code> directory, using <code>jar cvfe App.jar . App</code>. This is rather cumbersome in my opinion.</p>\n\n<p>The simple solution is to list the folders you want to add with the <code>-C</code> option instead of using the default way of listing folders. So, in my case, the correct command is <code>java cvfe App.jar App -C target/classes .</code>. This will directly add all files in the <code>target/classes</code> directory to the root of <code>App.jar</code>, thus solving the problem.</p>\n"},{"tags":[],"owner":{"account_id":14161327,"reputation":796,"user_id":10230547,"display_name":"mGeek"},"comment_count":0,"down_vote_count":3,"up_vote_count":35,"is_accepted":false,"score":32,"last_activity_date":1567109793,"creation_date":1567109793,"answer_id":57717225,"question_id":13030675,"body_markdown":"This error comes even if you miss &quot;-&quot; by mistake before the word jar\r\n\r\n**Wrong command** \r\n`java jar test.jar`\r\n\r\n**Correct command**\r\n`java -jar test.jar`","title":"Could not find or load main class with a Jar File","body":"<p>This error comes even if you miss \"-\" by mistake before the word jar</p>\n\n<p><strong>Wrong command</strong> \n<code>java jar test.jar</code></p>\n\n<p><strong>Correct command</strong>\n<code>java -jar test.jar</code></p>\n"},{"comments":[{"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"score":0,"creation_date":1605665563,"post_id":59828428,"comment_id":114719207,"body_markdown":"It didn&#39;t help.","body":"It didn&#39;t help."}],"tags":[],"owner":{"account_id":17574569,"reputation":11,"user_id":12749620,"display_name":"DEN"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1579542004,"creation_date":1579542004,"answer_id":59828428,"question_id":13030675,"body_markdown":"I had this error because I extracted JAR files from libraries to the target JAR by IntellijIDEA. When I choose another option &quot;copy to the output directory...&quot;, it solved the problem. Hope this helps you","title":"Could not find or load main class with a Jar File","body":"<p>I had this error because I extracted JAR files from libraries to the target JAR by IntellijIDEA. When I choose another option \"copy to the output directory...\", it solved the problem. Hope this helps you</p>\n"},{"tags":[],"owner":{"account_id":429857,"reputation":1736,"user_id":812973,"display_name":"gregn3"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588093039,"creation_date":1588092283,"answer_id":61485453,"question_id":13030675,"body_markdown":"If you use package names, it won&#39;t work with folders containing dots (`Error: Could not find or load main class`). Even though it compiles and creates the jar file successfully.\r\n\r\nInstead it requires a complete folder hierarchy.\r\n\r\nFails:\r\n\r\n    com.example.mypackage/\r\n        Main.java\r\n\r\nWorks:\r\n\r\n    com/\r\n        example/\r\n            mypackage/\r\n                Main.java\r\n\r\n\r\nTo compile in Linux:\r\n\r\n``javac `find com/ -name &#39;*.java&#39;` \\\r\n    &amp;&amp; jar cfe app.jar com.example.mypackage.Main `find com/ -name &#39;*.class&#39;` ``","title":"Could not find or load main class with a Jar File","body":"<p>If you use package names, it won't work with folders containing dots (<code>Error: Could not find or load main class</code>). Even though it compiles and creates the jar file successfully.</p>\n\n<p>Instead it requires a complete folder hierarchy.</p>\n\n<p>Fails:</p>\n\n<pre><code>com.example.mypackage/\n    Main.java\n</code></pre>\n\n<p>Works:</p>\n\n<pre><code>com/\n    example/\n        mypackage/\n            Main.java\n</code></pre>\n\n<p>To compile in Linux:</p>\n\n<p><code>javac `find com/ -name '*.java'` \\\n    &amp;&amp; jar cfe app.jar com.example.mypackage.Main `find com/ -name '*.class'`</code></p>\n"},{"tags":[],"owner":{"account_id":19602472,"reputation":1,"user_id":14346956,"display_name":"Venkat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601203400,"creation_date":1601153975,"answer_id":64082472,"question_id":13030675,"body_markdown":"I was getting this error because my main class is in **test** package, and I am creating artifact using IntelliJ. After I checked the box **Include Tests** when creating artifact, it got resolved.\r\n\r\n[Screenshot from IntelliJ showing Include Tests checkbox][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R6SKR.png","title":"Could not find or load main class with a Jar File","body":"<p>I was getting this error because my main class is in <strong>test</strong> package, and I am creating artifact using IntelliJ. After I checked the box <strong>Include Tests</strong> when creating artifact, it got resolved.</p>\n<p><a href=\"https://i.stack.imgur.com/R6SKR.png\" rel=\"nofollow noreferrer\">Screenshot from IntelliJ showing Include Tests checkbox</a></p>\n"},{"tags":[],"owner":{"account_id":10702654,"reputation":214,"user_id":7877442,"display_name":"Darcia14"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605092793,"creation_date":1605092793,"answer_id":64785241,"question_id":13030675,"body_markdown":"in IntelliJ, I get this error when trying to add the lib folder from the main project folder to an artifact.\r\n\r\nPlacing and using the lib folder in the src folder works.","title":"Could not find or load main class with a Jar File","body":"<p>in IntelliJ, I get this error when trying to add the lib folder from the main project folder to an artifact.</p>\n<p>Placing and using the lib folder in the src folder works.</p>\n"},{"tags":[],"owner":{"account_id":5963573,"reputation":234,"user_id":4687956,"display_name":"Mohemmed Niyaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613137195,"creation_date":1613137195,"answer_id":66172890,"question_id":13030675,"body_markdown":"Sometimes could missing the below line under `&lt;build&gt;` tag in pom.xml when packaging through maven. since **src** folder contains your java files\r\n\r\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;","title":"Could not find or load main class with a Jar File","body":"<p>Sometimes could missing the below line under <code>&lt;build&gt;</code> tag in pom.xml when packaging through maven. since <strong>src</strong> folder contains your java files</p>\n<pre><code>&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21091996,"reputation":111,"user_id":15503695,"display_name":"Gabor Umann"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1617012241,"creation_date":1616999277,"answer_id":66849565,"question_id":13030675,"body_markdown":"A possible reason for this error message:\r\n\r\n&gt; Could not find or load main class\r\n\r\nis when the main class extends (or implements) another class (or interface), which is not on the classpath.","title":"Could not find or load main class with a Jar File","body":"<p>A possible reason for this error message:</p>\n<blockquote>\n<p>Could not find or load main class</p>\n</blockquote>\n<p>is when the main class extends (or implements) another class (or interface), which is not on the classpath.</p>\n"},{"tags":[],"owner":{"account_id":22204371,"reputation":1,"user_id":16444503,"display_name":"gabrielsventure"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641721896,"creation_date":1641706273,"answer_id":70638701,"question_id":13030675,"body_markdown":"If you have your setup with Maven project -- make sure that the following match your JDK in the pom.xml file.\r\n\r\n\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    \r    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n\n\r\n\r\nin my case I had it set to 14 whereas my application was set to 14 -- and the conflict was causing my jar file to give the class not found error.","title":"Could not find or load main class with a Jar File","body":"<p>If you have your setup with Maven project -- make sure that the following match your JDK in the pom.xml file.</p>\n<pre><code>&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n\n&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>in my case I had it set to 14 whereas my application was set to 14 -- and the conflict was causing my jar file to give the class not found error.</p>\n"},{"tags":[],"owner":{"account_id":17629418,"reputation":111,"user_id":12793815,"display_name":"nuclear_party"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648145333,"creation_date":1648145333,"answer_id":71607457,"question_id":13030675,"body_markdown":"For IntelliJ users - this can also happen when class that cannot be found was placed in a directory marked as Tests (indicated by green color on directory icon). \r\n\r\nTo solve this:\r\n\r\n**a. move the class to sources directory (prefered)** \r\n\r\nor\r\n\r\n**b. make sure &quot;include tests&quot; checkbox is selected when creating an artifact**\r\n","title":"Could not find or load main class with a Jar File","body":"<p>For IntelliJ users - this can also happen when class that cannot be found was placed in a directory marked as Tests (indicated by green color on directory icon).</p>\n<p>To solve this:</p>\n<p><strong>a. move the class to sources directory (prefered)</strong></p>\n<p>or</p>\n<p><strong>b. make sure &quot;include tests&quot; checkbox is selected when creating an artifact</strong></p>\n"},{"tags":[],"owner":{"account_id":5796944,"reputation":11,"user_id":4731072,"display_name":"Md Ahsan Kabir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662615884,"creation_date":1662615884,"answer_id":73644198,"question_id":13030675,"body_markdown":"I faced the same issue while using artifact in IntelliJ. After using copy all dependency jar, it works for me.","title":"Could not find or load main class with a Jar File","body":"<p>I faced the same issue while using artifact in IntelliJ. After using copy all dependency jar, it works for me.</p>\n"},{"tags":[],"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672266163,"creation_date":1672266163,"answer_id":74945515,"question_id":13030675,"body_markdown":"You need to use `-jar` argument to set the path to your jar:\r\n\r\n    java -jar your_jar.jar\r\n\r\nYou don&#39;t need to set main class manualy if your manifest is correct.","title":"Could not find or load main class with a Jar File","body":"<p>You need to use <code>-jar</code> argument to set the path to your jar:</p>\n<pre><code>java -jar your_jar.jar\n</code></pre>\n<p>You don't need to set main class manualy if your manifest is correct.</p>\n"}],"owner":{"account_id":339209,"reputation":4831,"user_id":668540,"accept_rate":78,"display_name":"Austin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301392,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"answer_count":22,"score":73,"last_activity_date":1672266163,"creation_date":1350996210,"question_id":13030675,"body_markdown":"I&#39;m trying to load a jar using\r\n\r\n    @echo off\r\n    java -jar Test.jar\r\n    pause\r\n\r\nWith the manifest of \r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: classes.TestClass\r\n\r\nIn the Jar directory, I can clearly see a classes\\TestClass file when I extract it.\r\n\r\nEdit: `classes.TestClass` does have a `public static void main(String[] args)`. \r\n\r\nPackage Deceleration in `classes.TestClass` is `package classes;`\r\n\r\nBut I still keep getting the error message \r\n\r\n    Could not find or load main class classes.TestClass\r\n\r\nI&#39;ve been through everything I&#39;ve been able to find with this problem, and none of it seems to help.\r\n\r\nI&#39;ve tried editing the classpath, redoing the manifest, installing the new JRE. \r\n\r\nWhat else should I be doing? ","title":"Could not find or load main class with a Jar File","body":"<p>I'm trying to load a jar using</p>\n\n<pre><code>@echo off\njava -jar Test.jar\npause\n</code></pre>\n\n<p>With the manifest of </p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: classes.TestClass\n</code></pre>\n\n<p>In the Jar directory, I can clearly see a classes\\TestClass file when I extract it.</p>\n\n<p>Edit: <code>classes.TestClass</code> does have a <code>public static void main(String[] args)</code>. </p>\n\n<p>Package Deceleration in <code>classes.TestClass</code> is <code>package classes;</code></p>\n\n<p>But I still keep getting the error message </p>\n\n<pre><code>Could not find or load main class classes.TestClass\n</code></pre>\n\n<p>I've been through everything I've been able to find with this problem, and none of it seems to help.</p>\n\n<p>I've tried editing the classpath, redoing the manifest, installing the new JRE. </p>\n\n<p>What else should I be doing? </p>\n"},{"tags":["java","jackson","boolean"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1672162255,"post_id":74932351,"comment_id":132233514,"body_markdown":"Well, you could use redundancy: `return (node.hasNonNull(textField) &amp;&amp; node.get(textField).isTextual()) == false;` or `return (node.hasNonNull(textField) &amp;&amp; node.get(textField).isTextual()) ? false : true ;`.  But, that might be regarded as poor style, which could annoy  others who have to work with your code in the future.","body":"Well, you could use redundancy: <code>return (node.hasNonNull(textField) &amp;&amp; node.get(textField).isTextual()) == false;</code> or <code>return (node.hasNonNull(textField) &amp;&amp; node.get(textField).isTextual()) ? false : true ;</code>.  But, that might be regarded as poor style, which could annoy  others who have to work with your code in the future."}],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672265927,"creation_date":1672265927,"answer_id":74945496,"question_id":74932351,"body_markdown":"What do you actually want to check? Your method checks it is not empty but it is named `isEmpty`. It is really confusing. Let&#39;s consider below method:\r\n```java\r\nprivate static boolean isEmpty(JsonNode parent, String fieldName) {\r\n\tfinal JsonNode field = parent.get(fieldName);\r\n\treturn Objects.nonNull(field) &amp;&amp; field.isTextual() &amp;&amp; StringUtils.isEmpty(field.asText());\r\n}\r\n```\r\nIt retrieves field based on the name from the parent object only once. Using reference we can check it is not null, it is textual and what actually value is.\r\n\r\nTake a look on the below code:\r\n```java\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport org.apache.commons.lang3.StringUtils;\r\n\r\nimport java.io.File;\r\nimport java.util.Objects;\r\n\r\npublic class NodeIsEmptyApp {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tFile jsonFile = new File(&quot;./resource/test.json&quot;).getAbsoluteFile();\r\n\r\n\t\tObjectMapper mapper = JsonMapper.builder()\r\n\t\t\t\t.enable(SerializationFeature.INDENT_OUTPUT)\r\n\t\t\t\t.build();\r\n\r\n\r\n\t\tJsonNode node = mapper.readValue(jsonFile, JsonNode.class);\r\n\r\n\t\tSystem.out.println(&quot;Original method:&quot;);\r\n\t\tnode.fieldNames()\r\n\t\t\t\t.forEachRemaining(fieldName -&gt;\r\n\t\t\t\t\t\tSystem.out.println(fieldName + &quot;( &quot; + node.get(fieldName) + &quot;) is empty = &quot; + originalIsEmpty(node, fieldName)));\r\n\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;New method:&quot;);\r\n\t\tnode.fieldNames()\r\n\t\t\t\t.forEachRemaining(fieldName -&gt;\r\n\t\t\t\t\t\tSystem.out.println(fieldName + &quot;( &quot; + node.get(fieldName) + &quot;) is empty = &quot; + isEmpty(node, fieldName)));\r\n\t}\r\n\r\n\tprivate static boolean isEmpty(JsonNode parent, String fieldName) {\r\n\t\tfinal JsonNode field = parent.get(fieldName);\r\n\t\treturn Objects.nonNull(field) &amp;&amp; field.isTextual() &amp;&amp; StringUtils.isEmpty(field.asText());\r\n\t}\r\n\r\n\tprivate static boolean originalIsEmpty(JsonNode node, String textField) {\r\n\t\treturn !(node.hasNonNull(textField) &amp;&amp; node.get(textField).isTextual());\r\n\t}\r\n}\r\n```\r\nFor this `JSON` payload:\r\n```json\r\n{\r\n  &quot;null&quot;: null,\r\n  &quot;empty&quot;: &quot;&quot;,\r\n  &quot;nonEmpty&quot;: &quot;text&quot;,\r\n  &quot;array&quot;: [],\r\n  &quot;object&quot;: {},\r\n  &quot;number&quot;: 123,\r\n  &quot;boolean&quot;: true\r\n}\r\n```\r\nAbove code prints:\r\n```logs\r\nOriginal method:\r\nnull( null) is empty = true\r\nempty( &quot;&quot;) is empty = false\r\nnonEmpty( &quot;text&quot;) is empty = false\r\narray( []) is empty = true\r\nobject( {}) is empty = true\r\nnumber( 123) is empty = true\r\nboolean( true) is empty = true\r\n\r\nNew method:\r\nnull( null) is empty = false\r\nempty( &quot;&quot;) is empty = true\r\nnonEmpty( &quot;text&quot;) is empty = false\r\narray( []) is empty = false\r\nobject( {}) is empty = false\r\nnumber( 123) is empty = false\r\nboolean( true) is empty = false\r\n```","title":"Toggle Boolean in Jackson JsonNode","body":"<p>What do you actually want to check? Your method checks it is not empty but it is named <code>isEmpty</code>. It is really confusing. Let's consider below method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isEmpty(JsonNode parent, String fieldName) {\n    final JsonNode field = parent.get(fieldName);\n    return Objects.nonNull(field) &amp;&amp; field.isTextual() &amp;&amp; StringUtils.isEmpty(field.asText());\n}\n</code></pre>\n<p>It retrieves field based on the name from the parent object only once. Using reference we can check it is not null, it is textual and what actually value is.</p>\n<p>Take a look on the below code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport org.apache.commons.lang3.StringUtils;\n\nimport java.io.File;\nimport java.util.Objects;\n\npublic class NodeIsEmptyApp {\n\n    public static void main(String[] args) throws Exception {\n        File jsonFile = new File(&quot;./resource/test.json&quot;).getAbsoluteFile();\n\n        ObjectMapper mapper = JsonMapper.builder()\n                .enable(SerializationFeature.INDENT_OUTPUT)\n                .build();\n\n\n        JsonNode node = mapper.readValue(jsonFile, JsonNode.class);\n\n        System.out.println(&quot;Original method:&quot;);\n        node.fieldNames()\n                .forEachRemaining(fieldName -&gt;\n                        System.out.println(fieldName + &quot;( &quot; + node.get(fieldName) + &quot;) is empty = &quot; + originalIsEmpty(node, fieldName)));\n\n        System.out.println();\n        System.out.println(&quot;New method:&quot;);\n        node.fieldNames()\n                .forEachRemaining(fieldName -&gt;\n                        System.out.println(fieldName + &quot;( &quot; + node.get(fieldName) + &quot;) is empty = &quot; + isEmpty(node, fieldName)));\n    }\n\n    private static boolean isEmpty(JsonNode parent, String fieldName) {\n        final JsonNode field = parent.get(fieldName);\n        return Objects.nonNull(field) &amp;&amp; field.isTextual() &amp;&amp; StringUtils.isEmpty(field.asText());\n    }\n\n    private static boolean originalIsEmpty(JsonNode node, String textField) {\n        return !(node.hasNonNull(textField) &amp;&amp; node.get(textField).isTextual());\n    }\n}\n</code></pre>\n<p>For this <code>JSON</code> payload:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;null&quot;: null,\n  &quot;empty&quot;: &quot;&quot;,\n  &quot;nonEmpty&quot;: &quot;text&quot;,\n  &quot;array&quot;: [],\n  &quot;object&quot;: {},\n  &quot;number&quot;: 123,\n  &quot;boolean&quot;: true\n}\n</code></pre>\n<p>Above code prints:</p>\n<pre><code>Original method:\nnull( null) is empty = true\nempty( &quot;&quot;) is empty = false\nnonEmpty( &quot;text&quot;) is empty = false\narray( []) is empty = true\nobject( {}) is empty = true\nnumber( 123) is empty = true\nboolean( true) is empty = true\n\nNew method:\nnull( null) is empty = false\nempty( &quot;&quot;) is empty = true\nnonEmpty( &quot;text&quot;) is empty = false\narray( []) is empty = false\nobject( {}) is empty = false\nnumber( 123) is empty = false\nboolean( true) is empty = false\n</code></pre>\n"}],"owner":{"account_id":1314681,"reputation":361,"user_id":1261842,"accept_rate":50,"display_name":"lenriq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74945496,"answer_count":1,"score":1,"last_activity_date":1672265927,"creation_date":1672161845,"question_id":74932351,"body_markdown":"Is there a most efficient way of an empty field check? \r\nI don&#39;t like &quot;!&quot;.\r\n\r\n    private boolean isEmpty(JsonNode node, String textField) {\r\n        return !(node.hasNonNull(textField) &amp;&amp; node.get(textField).isTextual());\r\n    }","title":"Toggle Boolean in Jackson JsonNode","body":"<p>Is there a most efficient way of an empty field check?\nI don't like &quot;!&quot;.</p>\n<pre><code>private boolean isEmpty(JsonNode node, String textField) {\n    return !(node.hasNonNull(textField) &amp;&amp; node.get(textField).isTextual());\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"score":0,"creation_date":1672262006,"post_id":74944983,"comment_id":132255344,"body_markdown":"can you also expalin this statement &quot;When you map a many-to-many association, you should use a Set instead of a List as the attribute type. Otherwise, Hibernate will take a very inefficient approach to remove entities from the association. It will remove all records from the association table and re-insert the remaining ones. You can avoid that by using a Set instead of a List as the attribute type.&quot;\ni read it but don&#39;t know the reason for it. kindly explain with example","body":"can you also expalin this statement &quot;When you map a many-to-many association, you should use a Set instead of a List as the attribute type. Otherwise, Hibernate will take a very inefficient approach to remove entities from the association. It will remove all records from the association table and re-insert the remaining ones. You can avoid that by using a Set instead of a List as the attribute type.&quot; i read it but don&#39;t know the reason for it. kindly explain with example"},{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":0,"creation_date":1672263279,"post_id":74944983,"comment_id":132255645,"body_markdown":"Ye, look edit &lt;comment too short :D&gt;","body":"Ye, look edit &lt;comment too short :D&gt;"}],"tags":[],"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672263912,"creation_date":1672261501,"answer_id":74944983,"question_id":74944759,"body_markdown":"You are looking for cascading operations and jpa actually support this. U need CascadeType.PERSIST (or CascadeType.ALL if you need). \r\n\r\n```java\r\n@OneToMany(cascade = CascadeType.PERSIST) // or CascadeType.ALL\r\n@JoinColumn(name = “fk_order”)\r\nprivate List&lt;OrderItem&gt; items = new ArrayList&lt;OrderItem&gt;();\r\n```\r\n\r\nAfter persisting your &quot;Order&quot; you will also save items\r\n\r\nHere you can read more about cascade types: https://www.baeldung.com/jpa-cascade-types\r\n\r\nBtw:\r\nAvoid naming entities and columns with sql keywords like: order, from etc. It may make some conflicts during hibernate query generation (I lost a lot of time for bugs like that :D).\r\n\r\n`When you map a many-to-many association, you should use a Set instead of a List....`:\r\n\r\nIn many-to-many relation you need to have additional association table.\r\n\r\nHere is an exampel to visualize:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wmnNp.png\r\n\r\nIn this case both sides (customer and product) will have records sales from their collections (sales).\r\n\r\nWhen one side has a list and will try to remove it will delete all of the records and then reinsert all that should be in db (cuz list may keep duplicates). \r\n\r\n```sql\r\n-- delete existing\r\ndelete from customer\r\nwhere customer_id = ?\r\n\r\n-- n inserts\r\ninsert into sales(col1, col2, ...)\r\nvalues(val1, val2, ...)\r\n```\r\n\r\nIn case when you will use set during removing item you will do something like:\r\n\r\n```sql\r\ndelete from customer\r\nwhere customer_id = ? and product_id = ?\r\n```\r\n\r\nHere u can read more: Here is a pretty good article: https://dzone.com/articles/why-set-is-better-than-list-in-manytomany","title":"Why we always persist the owning side of relationship in JPA ? why don&#39;t we persist the other side of relation","body":"<p>You are looking for cascading operations and jpa actually support this. U need CascadeType.PERSIST (or CascadeType.ALL if you need).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(cascade = CascadeType.PERSIST) // or CascadeType.ALL\n@JoinColumn(name = “fk_order”)\nprivate List&lt;OrderItem&gt; items = new ArrayList&lt;OrderItem&gt;();\n</code></pre>\n<p>After persisting your &quot;Order&quot; you will also save items</p>\n<p>Here you can read more about cascade types: <a href=\"https://www.baeldung.com/jpa-cascade-types\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-cascade-types</a></p>\n<p>Btw:\nAvoid naming entities and columns with sql keywords like: order, from etc. It may make some conflicts during hibernate query generation (I lost a lot of time for bugs like that :D).</p>\n<p><code>When you map a many-to-many association, you should use a Set instead of a List....</code>:</p>\n<p>In many-to-many relation you need to have additional association table.</p>\n<p>Here is an exampel to visualize:\n<a href=\"https://i.stack.imgur.com/wmnNp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wmnNp.png\" alt=\"enter image description here\" /></a></p>\n<p>In this case both sides (customer and product) will have records sales from their collections (sales).</p>\n<p>When one side has a list and will try to remove it will delete all of the records and then reinsert all that should be in db (cuz list may keep duplicates).</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- delete existing\ndelete from customer\nwhere customer_id = ?\n\n-- n inserts\ninsert into sales(col1, col2, ...)\nvalues(val1, val2, ...)\n</code></pre>\n<p>In case when you will use set during removing item you will do something like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>delete from customer\nwhere customer_id = ? and product_id = ?\n</code></pre>\n<p>Here u can read more: Here is a pretty good article: <a href=\"https://dzone.com/articles/why-set-is-better-than-list-in-manytomany\" rel=\"nofollow noreferrer\">https://dzone.com/articles/why-set-is-better-than-list-in-manytomany</a></p>\n"}],"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672263912,"creation_date":1672259660,"question_id":74944759,"body_markdown":"I am new to learning JPA. while going through the one-to-many relation in JPA, I have noticed one thing that they always persit the owning side (the side which contains the foreign key). For example if we have two entities (order and orderitems) and we have following code for unidirectional relation between order and order items.\r\n\r\n    @Entity\r\n    public class Order {\r\n     \r\n        @OneToMany\r\n        @JoinColumn(name = “fk_order”)\r\n        private List&lt;OrderItem&gt; items = new ArrayList&lt;OrderItem&gt;();\r\n     \r\n        …\r\n    }\r\n\r\nNow when ever we have to persist order. we need to save order item to database like following\r\n\r\n    Order o = em.find(Order.class, 1L);\r\n     \r\n    OrderItem i = new OrderItem();\r\n     \r\n    o.getItems().add(i);\r\n     \r\n    em.persist(i);\r\n\r\nNow my questions is that should be it like we fetch the order from the database or creater new order and add the order items to its orderitmeslist and then save this order to database instead of saving orderitems like follwing\r\n\r\n\r\n    Order o = em.find(Order.class, 1L);\r\n     \r\n    OrderItem i = new OrderItem();\r\n     \r\n    o.getItems().add(i);\r\n     \r\n    em.persist(o);\r\n\r\nand it should automatically save the orderitem to orderitem table as these two have one-to-many relation.\r\n\r\nWhy we always need to persist the owning side of relation, like here we are always persisting the orderitems to database either we are using bidirectional or unidirectional approach, why we always need to save the owning side (orderitem) ? why don&#39;t we just add the order items to the ordertiermslist of order entity and just persist the other side of relation (order) ?\r\n\r\n","title":"Why we always persist the owning side of relationship in JPA ? why don&#39;t we persist the other side of relation","body":"<p>I am new to learning JPA. while going through the one-to-many relation in JPA, I have noticed one thing that they always persit the owning side (the side which contains the foreign key). For example if we have two entities (order and orderitems) and we have following code for unidirectional relation between order and order items.</p>\n<pre><code>@Entity\npublic class Order {\n \n    @OneToMany\n    @JoinColumn(name = “fk_order”)\n    private List&lt;OrderItem&gt; items = new ArrayList&lt;OrderItem&gt;();\n \n    …\n}\n</code></pre>\n<p>Now when ever we have to persist order. we need to save order item to database like following</p>\n<pre><code>Order o = em.find(Order.class, 1L);\n \nOrderItem i = new OrderItem();\n \no.getItems().add(i);\n \nem.persist(i);\n</code></pre>\n<p>Now my questions is that should be it like we fetch the order from the database or creater new order and add the order items to its orderitmeslist and then save this order to database instead of saving orderitems like follwing</p>\n<pre><code>Order o = em.find(Order.class, 1L);\n \nOrderItem i = new OrderItem();\n \no.getItems().add(i);\n \nem.persist(o);\n</code></pre>\n<p>and it should automatically save the orderitem to orderitem table as these two have one-to-many relation.</p>\n<p>Why we always need to persist the owning side of relation, like here we are always persisting the orderitems to database either we are using bidirectional or unidirectional approach, why we always need to save the owning side (orderitem) ? why don't we just add the order items to the ordertiermslist of order entity and just persist the other side of relation (order) ?</p>\n"},{"tags":["java","hk2"],"owner":{"account_id":443053,"reputation":33789,"user_id":834045,"accept_rate":88,"display_name":"Kousha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672262718,"creation_date":1672262718,"question_id":74945146,"body_markdown":"I&#39;m using HK2 for my DI. The DI is injected as a `Singleton.class`. \r\n\r\nThis all works well, except I now have a use case that the DI needs to be updated. Imagine that I am injecting a `List&lt;SomeClass&gt;` using HK2. When the app boots, the List contains N elements.\r\n\r\nAt some future time, I have an internal API that I want this list to be updated if I hit. Right now, I have to reboot the app for the new List to show up.\r\n\r\nHow can I &quot;refresh/update&quot; the dependencies in HK2?","title":"Recreate HK2 injection at some future time","body":"<p>I'm using HK2 for my DI. The DI is injected as a <code>Singleton.class</code>.</p>\n<p>This all works well, except I now have a use case that the DI needs to be updated. Imagine that I am injecting a <code>List&lt;SomeClass&gt;</code> using HK2. When the app boots, the List contains N elements.</p>\n<p>At some future time, I have an internal API that I want this list to be updated if I hit. Right now, I have to reboot the app for the new List to show up.</p>\n<p>How can I &quot;refresh/update&quot; the dependencies in HK2?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1672262956,"post_id":74945067,"comment_id":132255576,"body_markdown":"you need to post a [mcve]","body":"you need to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672262360,"creation_date":1672262360,"answer_id":74945093,"question_id":74945067,"body_markdown":"This is where inheritance comes into play: `gamechar` can be any instance of `GameCharacter`, or any class that extends it. You may not be able to directly create a `GameCharacter` instance, but this method&#39;s logic should work with any instance of any concrete class that extends it.","title":"polymorpishm in java abstract class","body":"<p>This is where inheritance comes into play: <code>gamechar</code> can be any instance of <code>GameCharacter</code>, or any class that extends it. You may not be able to directly create a <code>GameCharacter</code> instance, but this method's logic should work with any instance of any concrete class that extends it.</p>\n"}],"owner":{"account_id":27348784,"reputation":19,"user_id":20858285,"display_name":"&#214;mer G&#252;n"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1672264361,"accepted_answer_id":74945093,"answer_count":1,"score":-1,"last_activity_date":1672262459,"creation_date":1672262137,"question_id":74945067,"body_markdown":"We cannot create objects from abstract classes in Java. But there is a part that I do not understand. I have an abstract class called &quot;GameCharacter&quot; in my project. A resource told me to write the code in my assignment like this, but I don&#39;t understand, did we not use an object in parentheses(GameCharacter gamechar) Didn&#39;t we use an object called gameChar in ?\r\n\r\n    public void setPlayer(GameCharacter gamechar){\r\n\r\n    }","title":"polymorpishm in java abstract class","body":"<p>We cannot create objects from abstract classes in Java. But there is a part that I do not understand. I have an abstract class called &quot;GameCharacter&quot; in my project. A resource told me to write the code in my assignment like this, but I don't understand, did we not use an object in parentheses(GameCharacter gamechar) Didn't we use an object called gameChar in ?</p>\n<pre><code>public void setPlayer(GameCharacter gamechar){\n\n}\n</code></pre>\n"},{"tags":["java","date","simpledateformat","date-parsing"],"comments":[{"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"score":0,"creation_date":1342954807,"post_id":11599591,"comment_id":15353550,"body_markdown":"are those dates separated by commas ??","body":"are those dates separated by commas ??"}],"answers":[{"comments":[{"owner":{"account_id":41005,"reputation":425,"user_id":119080,"accept_rate":84,"display_name":"deb"},"score":0,"creation_date":1342956469,"post_id":11599648,"comment_id":15353822,"body_markdown":"I&#39;ve just did, to get the first one and it changes the timezone: ParsePosition parsePos = new ParsePosition(1);\nSimpleDateFormat format2 = new SimpleDateFormat(&quot;dd-MMM-yyyy HH:mm:ss,SSS z a&quot;);\tOutput : Fri Jul 20 06:11:36 BST 2012\t\t    System.out.println(format2.parse(entry.getValue().toString(), parsePos)) ;","body":"I&#39;ve just did, to get the first one and it changes the timezone: ParsePosition parsePos = new ParsePosition(1); SimpleDateFormat format2 = new SimpleDateFormat(&quot;dd-MMM-yyyy HH:mm:ss,SSS z a&quot;);\tOutput : Fri Jul 20 06:11:36 BST 2012\t\t    System.out.println(format2.parse(entry.getValue().toString()&zwnj;&#8203;, parsePos)) ;"}],"tags":[],"owner":{"account_id":931717,"reputation":9993,"user_id":961487,"accept_rate":62,"display_name":"Razvan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342954268,"creation_date":1342954268,"answer_id":11599648,"question_id":11599591,"body_markdown":"You can try:\r\n\r\n     parsePos = new ParsePosition(1);\r\n     while((date = format2.parse(yourString, parsePos)!=null){\r\n          //use date\r\n     }","title":"Extract date from String java","body":"<p>You can try:</p>\n\n<pre><code> parsePos = new ParsePosition(1);\n while((date = format2.parse(yourString, parsePos)!=null){\n      //use date\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672261204,"creation_date":1672261204,"answer_id":74944941,"question_id":11599591,"body_markdown":"java.time\r\n--\r\n\r\nThe question uses `SimpleDateFormat` which was the correct thing to do in 2012. In Mar 2014, the `java.util` date-time API and their formatting API, `SimpleDateFormat` were supplanted by the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html). Since then, it is strongly recommended to stop using the legacy date-time API.\r\n\r\n**Solution using the modern date-time API**:\r\n\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    import java.util.stream.Stream;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;d-MMM-uuuu h:m:s,SSS VV a&quot;, Locale.ENGLISH);\r\n            Stream.of(\r\n                        &quot;20-Jul-2012 5:11:36,670 UTC PM&quot;,\r\n                        &quot;20-Jul-2012 5:11:36,683 UTC PM&quot;\r\n                )\r\n                .map(s -&gt; ZonedDateTime.parse(s, parser))\r\n                .forEach(System.out::println);\r\n        }\r\n    }\r\n\r\n\r\n**Output**:\r\n\r\n    2012-07-20T17:11:36.670Z[UTC]\r\n    2012-07-20T17:11:36.683Z[UTC]\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/1eBG1c)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Extract date from String java","body":"<h2>java.time</h2>\n<p>The question uses <code>SimpleDateFormat</code> which was the correct thing to do in 2012. In Mar 2014, the <code>java.util</code> date-time API and their formatting API, <code>SimpleDateFormat</code> were supplanted by the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>. Since then, it is strongly recommended to stop using the legacy date-time API.</p>\n<p><strong>Solution using the modern date-time API</strong>:</p>\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\nimport java.util.stream.Stream;\n\nclass Main {\n    public static void main(String[] args) {\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;d-MMM-uuuu h:m:s,SSS VV a&quot;, Locale.ENGLISH);\n        Stream.of(\n                    &quot;20-Jul-2012 5:11:36,670 UTC PM&quot;,\n                    &quot;20-Jul-2012 5:11:36,683 UTC PM&quot;\n            )\n            .map(s -&gt; ZonedDateTime.parse(s, parser))\n            .forEach(System.out::println);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2012-07-20T17:11:36.670Z[UTC]\n2012-07-20T17:11:36.683Z[UTC]\n</code></pre>\n<p><a href=\"https://ideone.com/1eBG1c\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":41005,"reputation":425,"user_id":119080,"accept_rate":84,"display_name":"deb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1672261204,"creation_date":1342953812,"question_id":11599591,"body_markdown":"I have a String with several dates, for example:\r\n\r\n    [20-Jul-2012 5:11:36,670 UTC PM, 20-Jul-2012 5:11:36,683 UTC PM]\r\n\r\nHow do I read this string and extract each date? I&#39;m using the `SimpleDateFormat` class to create a regex.\r\n\r\n    SimpleDateFormat format2 = new SimpleDateFormat(&quot;dd-MMM-yyyy HH:mm:ss,SSS z a&quot;);\r\n\r\nI&#39;ve tried :\r\n\r\nI&#39;ve just did, to get the first one and it changes the format and the timezone: \r\n\r\n    ParsePosition parsePos = new ParsePosition(1);\r\n    SimpleDateFormat format2 = new SimpleDateFormat(&quot;dd-MMM-yyyy HH:mm:ss,SSS z a&quot;);\r\n    System.out.println(format2.parse(entry.getValue().toString(), parsePos)) ;\r\n\r\n\t\r\nOutput : Fri Jul 20 06:11:36 BST 2012\t\t","title":"Extract date from String java","body":"<p>I have a String with several dates, for example:</p>\n\n<pre><code>[20-Jul-2012 5:11:36,670 UTC PM, 20-Jul-2012 5:11:36,683 UTC PM]\n</code></pre>\n\n<p>How do I read this string and extract each date? I'm using the <code>SimpleDateFormat</code> class to create a regex.</p>\n\n<pre><code>SimpleDateFormat format2 = new SimpleDateFormat(\"dd-MMM-yyyy HH:mm:ss,SSS z a\");\n</code></pre>\n\n<p>I've tried :</p>\n\n<p>I've just did, to get the first one and it changes the format and the timezone: </p>\n\n<pre><code>ParsePosition parsePos = new ParsePosition(1);\nSimpleDateFormat format2 = new SimpleDateFormat(\"dd-MMM-yyyy HH:mm:ss,SSS z a\");\nSystem.out.println(format2.parse(entry.getValue().toString(), parsePos)) ;\n</code></pre>\n\n<p>Output : Fri Jul 20 06:11:36 BST 2012       </p>\n"},{"tags":["java","twilio","twilio-twiml"],"answers":[{"tags":[],"owner":{"account_id":4723783,"reputation":2524,"user_id":3821022,"display_name":"IObert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672260784,"creation_date":1672260784,"answer_id":74944895,"question_id":74922942,"body_markdown":"It repeats the actions over and over again because of the properties of the gather TwiMl element.\r\n\r\nFirst, you should point to a different endpoint of your application and handle the response at this endpoint. Once you parse the user input at this endpoint, you can return another TwiML [response](https://www.twilio.com/docs/voice/twiml/gather#action) that asks for the second input, which you then need to process at a third endpoint.\r\n\r\nWith this in mind, I see a second problem with the code above. You ask for both inputs sequentially, meaning you only ask for the second input if the caller ignores the first prompt and remains quiet. Look at &quot;Scenario 1-3&quot; of [this page](https://www.twilio.com/docs/voice/twiml/gather#action) for more details.\r\n\r\nI understand that implementing so many endpoints for a simple IVR might be confusing at first. The good news is that this can be much simpler by using [Studio](https://www.twilio.com/docs/studio/tutorials/how-to-build-an-ivr).","title":"Twilio using Gather to get UserID and Password","body":"<p>It repeats the actions over and over again because of the properties of the gather TwiMl element.</p>\n<p>First, you should point to a different endpoint of your application and handle the response at this endpoint. Once you parse the user input at this endpoint, you can return another TwiML <a href=\"https://www.twilio.com/docs/voice/twiml/gather#action\" rel=\"nofollow noreferrer\">response</a> that asks for the second input, which you then need to process at a third endpoint.</p>\n<p>With this in mind, I see a second problem with the code above. You ask for both inputs sequentially, meaning you only ask for the second input if the caller ignores the first prompt and remains quiet. Look at &quot;Scenario 1-3&quot; of <a href=\"https://www.twilio.com/docs/voice/twiml/gather#action\" rel=\"nofollow noreferrer\">this page</a> for more details.</p>\n<p>I understand that implementing so many endpoints for a simple IVR might be confusing at first. The good news is that this can be much simpler by using <a href=\"https://www.twilio.com/docs/studio/tutorials/how-to-build-an-ivr\" rel=\"nofollow noreferrer\">Studio</a>.</p>\n"}],"owner":{"account_id":26583927,"reputation":1,"user_id":20208144,"display_name":"Neel Raina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672260784,"creation_date":1672078716,"question_id":74922942,"body_markdown":"Currently, I&#39;m testing out features of Twilio. I simply wanted to get two numbers from the user representing a username and password. What happens is because I don’t know what address to put in action, it defaults to the same time and loops the first gather over and over again. Currently, I’m using Spark and ngrok to test my code.\r\n\r\n```java\r\npackage com.example;\r\nimport com.twilio.twiml.VoiceResponse;\r\nimport com.twilio.twiml.voice.Gather;\r\nimport com.twilio.twiml.voice.Say;\r\n\r\nimport static spark.Spark.*;\r\n\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        \r\n        post(&quot;/&quot;, (request, response) -&gt; {\r\n            Say say  = new Say.Builder(\r\n                    &quot;Enter UserID.&quot;)\r\n                    .build();\r\n            Gather gather = new Gather.Builder().action(&quot;/&quot;).say(say).build();\r\n            Say say2  = new Say.Builder(\r\n                    &quot;Enter Password.&quot;)\r\n                    .build();\r\n            Gather gather2 = new Gather.Builder().action(&quot;/&quot;).say(say2).build();        \r\n            VoiceResponse voiceResponse = new VoiceResponse.Builder()\r\n                    .gather(gather)\r\n                    .gather(gather2)\r\n                    .build();\r\n                          \r\n            return voiceResponse.toXml();\r\n\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n\r\nI tried changing the action attribute to a random address like /test, I changed the method to POST or GET, but neither seemed to have any effect except in the ngrok dashboard. The problem I&#39;m currently having is I have no clue how to use Spark and the Gather verb together.","title":"Twilio using Gather to get UserID and Password","body":"<p>Currently, I'm testing out features of Twilio. I simply wanted to get two numbers from the user representing a username and password. What happens is because I don’t know what address to put in action, it defaults to the same time and loops the first gather over and over again. Currently, I’m using Spark and ngrok to test my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\nimport com.twilio.twiml.VoiceResponse;\nimport com.twilio.twiml.voice.Gather;\nimport com.twilio.twiml.voice.Say;\n\nimport static spark.Spark.*;\n\npublic class Example {\n    public static void main(String[] args) {\n        \n        post(&quot;/&quot;, (request, response) -&gt; {\n            Say say  = new Say.Builder(\n                    &quot;Enter UserID.&quot;)\n                    .build();\n            Gather gather = new Gather.Builder().action(&quot;/&quot;).say(say).build();\n            Say say2  = new Say.Builder(\n                    &quot;Enter Password.&quot;)\n                    .build();\n            Gather gather2 = new Gather.Builder().action(&quot;/&quot;).say(say2).build();        \n            VoiceResponse voiceResponse = new VoiceResponse.Builder()\n                    .gather(gather)\n                    .gather(gather2)\n                    .build();\n                          \n            return voiceResponse.toXml();\n\n        });\n\n    }\n}\n</code></pre>\n<p>I tried changing the action attribute to a random address like /test, I changed the method to POST or GET, but neither seemed to have any effect except in the ngrok dashboard. The problem I'm currently having is I have no clue how to use Spark and the Gather verb together.</p>\n"},{"tags":["java","json","rest-assured","jsonpath","rest-assured-jsonpath"],"answers":[{"tags":[],"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672226885,"creation_date":1672226885,"answer_id":74939680,"question_id":74939378,"body_markdown":"Try this: \r\n\r\ncustName when amount &gt; 10 - `$.customers[?(@.itemAmount &gt; 10)].custName`\r\n\r\ncustId when amount &gt; 10 - `$.customers[?(@.itemAmount &gt; 10)].custId`","title":"Extract data from JSONArray using jsonpath","body":"<p>Try this:</p>\n<p>custName when amount &gt; 10 - <code>$.customers[?(@.itemAmount &gt; 10)].custName</code></p>\n<p>custId when amount &gt; 10 - <code>$.customers[?(@.itemAmount &gt; 10)].custId</code></p>\n"},{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672260378,"creation_date":1672260378,"answer_id":74944846,"question_id":74939378,"body_markdown":"To get both fields for everything meeting the criterion:\r\n```jsonpath\r\n$.customers[?(@.itemAmount &gt; 10)][&#39;custName&#39;,&#39;custId&#39;]\r\n```\r\nI recommend adding some records that do *not* meet the criterion to your sample so you can be sure it is working.","title":"Extract data from JSONArray using jsonpath","body":"<p>To get both fields for everything meeting the criterion:</p>\n<pre><code>$.customers[?(@.itemAmount &gt; 10)]['custName','custId']\n</code></pre>\n<p>I recommend adding some records that do <em>not</em> meet the criterion to your sample so you can be sure it is working.</p>\n"}],"owner":{"account_id":1003978,"reputation":435,"user_id":1018188,"accept_rate":69,"display_name":"Mandy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74944846,"answer_count":2,"score":0,"last_activity_date":1672260378,"creation_date":1672225077,"question_id":74939378,"body_markdown":"I have a JSON file having customer data as below . Here I want to extract the custName &amp; CustId where amount is greater than 10 . But I&#39;m stuck as unable to get the desired jsonpath for extracting these values .\r\n\r\n```{\r\n  &quot;customers&quot;: [\r\n    {\r\n      &quot;custId&quot;: 540,\r\n      &quot;custName&quot;: &quot;John&quot;,\r\n      &quot;itemId&quot;: 647,\r\n      &quot;itemAmount&quot;: 3000\r\n    },\r\n    {\r\n      &quot;custId&quot;: 432,\r\n      &quot;custName&quot;: &quot;Adrian&quot;,\r\n      &quot;itemId&quot;: 600,\r\n      &quot;itemAmount&quot;: 2000\r\n    },\r\n    {\r\n      &quot;custId&quot;: 541,\r\n      &quot;custName&quot;: &quot;Smith&quot;,\r\n      &quot;itemId&quot;: 320,\r\n      &quot;itemAmount&quot;: 1200\r\n    }\r\n  ]\r\n} \r\n```\r\nI tried something like - $.customers[*].itemAmount which gave me a list of itemAmount but my objective is entirely different so looking for the jsonPath expression to get the desired data.\r\n\r\n\r\n\r\n     ","title":"Extract data from JSONArray using jsonpath","body":"<p>I have a JSON file having customer data as below . Here I want to extract the custName &amp; CustId where amount is greater than 10 . But I'm stuck as unable to get the desired jsonpath for extracting these values .</p>\n<pre><code>  &quot;customers&quot;: [\n    {\n      &quot;custId&quot;: 540,\n      &quot;custName&quot;: &quot;John&quot;,\n      &quot;itemId&quot;: 647,\n      &quot;itemAmount&quot;: 3000\n    },\n    {\n      &quot;custId&quot;: 432,\n      &quot;custName&quot;: &quot;Adrian&quot;,\n      &quot;itemId&quot;: 600,\n      &quot;itemAmount&quot;: 2000\n    },\n    {\n      &quot;custId&quot;: 541,\n      &quot;custName&quot;: &quot;Smith&quot;,\n      &quot;itemId&quot;: 320,\n      &quot;itemAmount&quot;: 1200\n    }\n  ]\n} \n</code></pre>\n<p>I tried something like - $.customers[*].itemAmount which gave me a list of itemAmount but my objective is entirely different so looking for the jsonPath expression to get the desired data.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1672259419,"post_id":74944653,"comment_id":132254736,"body_markdown":"is this what you looking for https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getEnumConstants()","body":"is this what you looking for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getEnumConstants()\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672259502,"creation_date":1672259502,"answer_id":74944747,"question_id":74944653,"body_markdown":"You can use `asSubclass()` to safely cast:\r\n\r\n    value = Enum.valueOf(t.asSubclass(Enum.class), v);","title":"Convert Class &lt;capture of ?&gt; to Class &lt;T&gt;","body":"<p>You can use <code>asSubclass()</code> to safely cast:</p>\n<pre><code>value = Enum.valueOf(t.asSubclass(Enum.class), v);\n</code></pre>\n"}],"owner":{"account_id":10133926,"reputation":131,"user_id":7486210,"accept_rate":50,"display_name":"Ebad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74944747,"answer_count":1,"score":2,"last_activity_date":1672259502,"creation_date":1672258727,"question_id":74944653,"body_markdown":"I have an object which I am using reflection to create the Class object.\r\n\r\nI am trying to convert an Enum field to its valueOf, but I do not know what Enum class it is.\r\n\r\nCurrently, I am just checking if the object is each Enum like this:\r\n\r\n```\r\nClass&lt;?&gt; t = obj.getType();\r\n\r\nif (t == MyEnumA.class) {\r\n   value = MyEnumA.valueOf(v)\r\n} else if (t == MyEnumB.class) {\r\n   value = MyEnumB.valueOf(v)\r\n} else if ...\r\n```\r\n\r\nI currently have several different Enum classes, and as I add more I have to add a new else-if block for that new Enum.\r\n\r\nI want to use something like this:\r\n\r\n```\r\nif (t.isEmun()) {\r\n   value = Enum.valueOf(t, v);\r\n}\r\n```\r\nBut I have an error:\r\n```\r\nRequired type: Class&lt;T&gt;\r\nProvided type: Class&lt;capture of ?&gt;\r\n```\r\n\r\nHow do I convert my `Class&lt;capture of ?&gt;` to `Class&lt;T&gt;`?","title":"Convert Class &lt;capture of ?&gt; to Class &lt;T&gt;","body":"<p>I have an object which I am using reflection to create the Class object.</p>\n<p>I am trying to convert an Enum field to its valueOf, but I do not know what Enum class it is.</p>\n<p>Currently, I am just checking if the object is each Enum like this:</p>\n<pre><code>Class&lt;?&gt; t = obj.getType();\n\nif (t == MyEnumA.class) {\n   value = MyEnumA.valueOf(v)\n} else if (t == MyEnumB.class) {\n   value = MyEnumB.valueOf(v)\n} else if ...\n</code></pre>\n<p>I currently have several different Enum classes, and as I add more I have to add a new else-if block for that new Enum.</p>\n<p>I want to use something like this:</p>\n<pre><code>if (t.isEmun()) {\n   value = Enum.valueOf(t, v);\n}\n</code></pre>\n<p>But I have an error:</p>\n<pre><code>Required type: Class&lt;T&gt;\nProvided type: Class&lt;capture of ?&gt;\n</code></pre>\n<p>How do I convert my <code>Class&lt;capture of ?&gt;</code> to <code>Class&lt;T&gt;</code>?</p>\n"},{"tags":["java","xml","eclipse","web","dynamic"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1672259819,"post_id":74944693,"comment_id":132254829,"body_markdown":"Why are you using 2021-09 which is 5 releases old? It is always recommended that you use the current release (2022-12 currently)","body":"Why are you using 2021-09 which is 5 releases old? It is always recommended that you use the current release (2022-12 currently)"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1672281733,"post_id":74944693,"comment_id":132258409,"body_markdown":"https://www.eclipse.org/downloads/packages/release/2022-12/r , **Eclipse IDE for Enterprise Java and Web Developers** (Windows x86_64 , macOS x86_64 | AArch64 , Linux x86_64 | AArch64  )","body":"<a href=\"https://www.eclipse.org/downloads/packages/release/2022-12/r\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages/release/2022-12/r</a> , <b>Eclipse IDE for Enterprise Java and Web Developers</b> (Windows x86_64 , macOS x86_64 | AArch64 , Linux x86_64 | AArch64  )"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1672299786,"post_id":74944693,"comment_id":132261119,"body_markdown":"2021.09 is a version number, but it doesn&#39;t convey what&#39;s in the particular package, which can vary: https://www.eclipse.org/downloads/packages/compare","body":"2021.09 is a version number, but it doesn&#39;t convey what&#39;s in the particular package, which can vary: <a href=\"https://www.eclipse.org/downloads/packages/compare\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages/compare</a>"}],"owner":{"account_id":16785993,"reputation":11,"user_id":12134962,"display_name":"dori rozen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672259389,"creation_date":1672259056,"question_id":74944693,"body_markdown":"I download Eclipse version 2021.09, and i don&#39;t have Dynamic Web project option.\r\nI tried to install it with Help =&gt; install new software =&gt; select Web,XML, JavaEE ... and restart Eclipse.\r\nAfter restart Eclipse, i still don&#39;t hava web dynamic project option. \r\n\r\nHow can i set this option ? ","title":"dynamic web priject is missing on eclipse version 2021-09","body":"<p>I download Eclipse version 2021.09, and i don't have Dynamic Web project option.\nI tried to install it with Help =&gt; install new software =&gt; select Web,XML, JavaEE ... and restart Eclipse.\nAfter restart Eclipse, i still don't hava web dynamic project option.</p>\n<p>How can i set this option ?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":11,"creation_date":1582849436,"post_id":49899665,"comment_id":106928220,"body_markdown":"`println(arr.contentToString())`","body":"<code>println(arr.contentToString())</code>"},{"owner":{"account_id":9985156,"reputation":3190,"user_id":7386637,"accept_rate":83,"display_name":"rpivovar"},"score":0,"creation_date":1590783023,"post_id":49899665,"comment_id":109822455,"body_markdown":"`contentToString()` is great","body":"<code>contentToString()</code> is great"},{"owner":{"account_id":8408,"reputation":10034,"user_id":15139,"accept_rate":69,"display_name":"rpattabi"},"score":0,"creation_date":1601537181,"post_id":49899665,"comment_id":113440071,"body_markdown":"`joinToString()` is even better. Look at @delitescere&#39;s [answer](https://stackoverflow.com/a/52902332/15139).","body":"<code>joinToString()</code> is even better. Look at @delitescere&#39;s <a href=\"https://stackoverflow.com/a/52902332/15139\">answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":3861631,"reputation":849,"user_id":3199240,"display_name":"statut"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524054719,"creation_date":1524054719,"answer_id":49899808,"question_id":49899665,"body_markdown":"You can do the same:\r\n\r\n    fun main(args : Array&lt;String&gt;){\r\n        var someList : Array&lt;String&gt; = arrayOf(&quot;United&quot;,&quot;Chelsea&quot;,&quot;Liverpool&quot;)\r\n        someList.forEach(System.out::print)\r\n    }","title":"How to print all elements of String array in Kotlin in a single line?","body":"<p>You can do the same:</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;){\n    var someList : Array&lt;String&gt; = arrayOf(\"United\",\"Chelsea\",\"Liverpool\")\n    someList.forEach(System.out::print)\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":943456,"reputation":3420,"user_id":1543076,"accept_rate":56,"display_name":"midnight"},"score":6,"creation_date":1540111946,"post_id":49899833,"comment_id":92737363,"body_markdown":"arr.forEach(::println)","body":"arr.forEach(::println)"},{"owner":{"account_id":2158326,"reputation":1102,"user_id":1913056,"display_name":"Roman Trokhymets"},"score":1,"creation_date":1580906290,"post_id":49899833,"comment_id":106250665,"body_markdown":"System.out.println( someList.joinToString() )","body":"System.out.println( someList.joinToString() )"}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":2,"down_vote_count":2,"up_vote_count":46,"is_accepted":true,"score":44,"last_activity_date":1524054822,"creation_date":1524054822,"answer_id":49899833,"question_id":49899665,"body_markdown":"[`Array`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html) has a [`forEach`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/for-each.html) method as well which can take a lambda:\r\n\r\n    var someList : Array&lt;String&gt; = arrayOf(&quot;United&quot;,&quot;Chelsea&quot;,&quot;Liverpool&quot;)\r\n    someList.forEach { System.out.print(it) }\r\n\r\nor a method reference:\r\n\r\n    var someList : Array&lt;String&gt; = arrayOf(&quot;United&quot;,&quot;Chelsea&quot;,&quot;Liverpool&quot;)\r\n    someList.forEach(System.out::print)","title":"How to print all elements of String array in Kotlin in a single line?","body":"<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html\" rel=\"noreferrer\"><code>Array</code></a> has a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/for-each.html\" rel=\"noreferrer\"><code>forEach</code></a> method as well which can take a lambda:</p>\n\n<pre><code>var someList : Array&lt;String&gt; = arrayOf(\"United\",\"Chelsea\",\"Liverpool\")\nsomeList.forEach { System.out.print(it) }\n</code></pre>\n\n<p>or a method reference:</p>\n\n<pre><code>var someList : Array&lt;String&gt; = arrayOf(\"United\",\"Chelsea\",\"Liverpool\")\nsomeList.forEach(System.out::print)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13392189,"reputation":196,"user_id":9664269,"display_name":"twupack"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1524054996,"creation_date":1524054996,"answer_id":49899892,"question_id":49899665,"body_markdown":"I know three ways to do this:\r\n\r\n    (0 until someList.size).forEach { print(someList[it]) }\r\n    someList.forEach { print(it) }\r\n    someList.forEach(::print)\r\n\r\nHope you enjoyed it :)","title":"How to print all elements of String array in Kotlin in a single line?","body":"<p>I know three ways to do this:</p>\n\n<pre><code>(0 until someList.size).forEach { print(someList[it]) }\nsomeList.forEach { print(it) }\nsomeList.forEach(::print)\n</code></pre>\n\n<p>Hope you enjoyed it :)</p>\n"},{"comments":[{"owner":{"account_id":4997462,"reputation":10007,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":0,"creation_date":1557777116,"post_id":49899912,"comment_id":98871203,"body_markdown":"joinToString seems what I was looking for, the equivalent to Arrays.toString()","body":"joinToString seems what I was looking for, the equivalent to Arrays.toString()"}],"tags":[],"owner":{"account_id":3319212,"reputation":81,"user_id":2790787,"display_name":"JPO"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524055463,"creation_date":1524055046,"answer_id":49899912,"question_id":49899665,"body_markdown":"You could\r\n\r\n    fun main(args : Array&lt;String&gt;){\r\n      var someList : Array&lt;String&gt; = arrayOf(&quot;United&quot;,&quot;Chelsea&quot;,&quot;Liverpool&quot;)\r\n\r\n      val sb = StringBuilder()\r\n      for (element in someList) {\r\n          sb.append(element).append(&quot;, &quot;)\r\n      }\r\n      val c = sb.toString().substring(0, sb.length-2)\r\n      println(c)\r\n    }\r\ngives\r\n\r\n    United, Chelsea, Liverpool\r\n\r\nalternatively you can use \r\n\r\n    print(element)\r\nin the for loop, or even easier use: \r\n  \r\n    var d = someList.joinToString()\r\n    println(d)\r\n\r\n\r\n","title":"How to print all elements of String array in Kotlin in a single line?","body":"<p>You could</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;){\n  var someList : Array&lt;String&gt; = arrayOf(\"United\",\"Chelsea\",\"Liverpool\")\n\n  val sb = StringBuilder()\n  for (element in someList) {\n      sb.append(element).append(\", \")\n  }\n  val c = sb.toString().substring(0, sb.length-2)\n  println(c)\n}\n</code></pre>\n\n<p>gives</p>\n\n<pre><code>United, Chelsea, Liverpool\n</code></pre>\n\n<p>alternatively you can use </p>\n\n<pre><code>print(element)\n</code></pre>\n\n<p>in the for loop, or even easier use: </p>\n\n<pre><code>var d = someList.joinToString()\nprintln(d)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3167779,"reputation":796,"user_id":4100684,"display_name":"delitescere"},"comment_count":0,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1601537248,"creation_date":1540008461,"answer_id":52902332,"question_id":49899665,"body_markdown":"Idiomatically:\r\n\r\n    fun main(args: Array&lt;String&gt;) {\r\n      val someList = arrayOf(&quot;United&quot;, &quot;Chelsea&quot;, &quot;Liverpool&quot;)\r\n      println(someList.joinToString(&quot; &quot;))\r\n    }\r\n\r\nThis makes use of type inference, an immutable value, and well-defined methods for doing well-defined tasks.\r\n\r\nThe `joinToString()` method also allows prefix and suffix to be included, a limit, and truncation indicator.","title":"How to print all elements of String array in Kotlin in a single line?","body":"<p>Idiomatically:</p>\n<pre><code>fun main(args: Array&lt;String&gt;) {\n  val someList = arrayOf(&quot;United&quot;, &quot;Chelsea&quot;, &quot;Liverpool&quot;)\n  println(someList.joinToString(&quot; &quot;))\n}\n</code></pre>\n<p>This makes use of type inference, an immutable value, and well-defined methods for doing well-defined tasks.</p>\n<p>The <code>joinToString()</code> method also allows prefix and suffix to be included, a limit, and truncation indicator.</p>\n"},{"tags":[],"owner":{"account_id":2922416,"reputation":271,"user_id":2504383,"display_name":"WitWicky"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1587483594,"creation_date":1587479702,"answer_id":61346134,"question_id":49899665,"body_markdown":"You can achieve this using &quot;contentToString&quot; method:\r\n\r\n   \r\n    var someList : Array&lt;String&gt; = arrayOf(&quot;United&quot;,&quot;Chelsea&quot;,&quot;Liverpool&quot;)\r\n      println(someList.contentToString())\r\n    \r\n    O/p:\r\n    [United, Chelsea, Liverpool]e","title":"How to print all elements of String array in Kotlin in a single line?","body":"<p>You can achieve this using \"contentToString\" method:</p>\n\n<pre><code>var someList : Array&lt;String&gt; = arrayOf(\"United\",\"Chelsea\",\"Liverpool\")\n  println(someList.contentToString())\n\nO/p:\n[United, Chelsea, Liverpool]e\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6916917,"reputation":21,"user_id":5310796,"display_name":"PKDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672258573,"creation_date":1672258573,"answer_id":74944636,"question_id":49899665,"body_markdown":"If it is solely for printing purpose then a good one liner is \r\n\r\n     var someList : Array&lt;String&gt; = arrayOf(&quot;United&quot;,&quot;Chelsea&quot;,&quot;Liverpool&quot;)\r\n     println(java.util.Arrays.toString(someList))\r\n\r\n\r\n ","title":"How to print all elements of String array in Kotlin in a single line?","body":"<p>If it is solely for printing purpose then a good one liner is</p>\n<pre><code> var someList : Array&lt;String&gt; = arrayOf(&quot;United&quot;,&quot;Chelsea&quot;,&quot;Liverpool&quot;)\n println(java.util.Arrays.toString(someList))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2387854,"reputation":334,"user_id":2088427,"display_name":"Oke Uwechue"},"score":0,"creation_date":1699146531,"post_id":74944697,"comment_id":136494741,"body_markdown":"this should be the accepted answer.","body":"this should be the accepted answer."}],"tags":[],"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672259073,"creation_date":1672259073,"answer_id":74944697,"question_id":49899665,"body_markdown":"Simply do this, no need to use loop and iterate by yourself. [Reference][1]\r\n\r\n    println(someList.joinToString(&quot;,&quot;))\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/join-to-string.html","title":"How to print all elements of String array in Kotlin in a single line?","body":"<p>Simply do this, no need to use loop and iterate by yourself. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/join-to-string.html\" rel=\"nofollow noreferrer\">Reference</a></p>\n<pre><code>println(someList.joinToString(&quot;,&quot;))\n</code></pre>\n"}],"owner":{"account_id":8898907,"reputation":8529,"user_id":6642927,"display_name":"Dishonered"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70297,"favorite_count":0,"down_vote_count":2,"up_vote_count":50,"accepted_answer_id":49899833,"answer_count":8,"score":48,"last_activity_date":1672259073,"creation_date":1524054318,"question_id":49899665,"body_markdown":"This is my code\r\n\r\n        fun main(args : Array&lt;String&gt;){\r\n         var someList : Array&lt;String&gt; = arrayOf(&quot;United&quot;,&quot;Chelsea&quot;,&quot;Liverpool&quot;)\r\n          \r\n          //How do i print the elements using the print method in a single line?\r\n        }\r\n\r\nIn java i would do something like this\r\n\r\n`someList.forEach(java.lang.System.out::print);`","title":"How to print all elements of String array in Kotlin in a single line?","body":"<p>This is my code</p>\n\n<pre><code>    fun main(args : Array&lt;String&gt;){\n     var someList : Array&lt;String&gt; = arrayOf(\"United\",\"Chelsea\",\"Liverpool\")\n\n      //How do i print the elements using the print method in a single line?\n    }\n</code></pre>\n\n<p>In java i would do something like this</p>\n\n<p><code>someList.forEach(java.lang.System.out::print);</code></p>\n"},{"tags":["java","date-parsing"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1391422431,"post_id":21524476,"comment_id":32499348,"body_markdown":"Where does `ccc` come from? I suspect you want `EEE`.","body":"Where does <code>ccc</code> come from? I suspect you want <code>EEE</code>."},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1391422777,"post_id":21524476,"comment_id":32499564,"body_markdown":"@JonSkeet Probably it&#39;s a typo, using `ccc` would have fired a `java.lang.IllegalArgumentException: Illegal pattern character &#39;c&#39;`","body":"@JonSkeet Probably it&#39;s a typo, using <code>ccc</code> would have fired a <code>java.lang.IllegalArgumentException: Illegal pattern character &#39;c&#39;</code>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1391422955,"post_id":21524476,"comment_id":32499671,"body_markdown":"Oh, and you probably want to specify Locale.US (or something similar) - otherwise it&#39;ll be using your system default locale...","body":"Oh, and you probably want to specify Locale.US (or something similar) - otherwise it&#39;ll be using your system default locale..."}],"answers":[{"comments":[{"owner":{"account_id":1269601,"reputation":3848,"user_id":1226219,"accept_rate":59,"display_name":"Daniele Vitali"},"score":0,"creation_date":1391422591,"post_id":21524541,"comment_id":32499451,"body_markdown":"I get the same exception :(","body":"I get the same exception :("},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1391422625,"post_id":21524541,"comment_id":32499469,"body_markdown":"I&#39;m sure it was a typo, as it would have fired `java.lang.IllegalArgumentException: Illegal pattern character &#39;c&#39;` instead of a `ParseException`","body":"I&#39;m sure it was a typo, as it would have fired <code>java.lang.IllegalArgumentException: Illegal pattern character &#39;c&#39;</code> instead of a <code>ParseException</code>"},{"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"score":0,"creation_date":1391422752,"post_id":21524541,"comment_id":32499545,"body_markdown":"@DanieleVitali - [Working example](http://ideone.com/XAYwJ4). Are you sure you&#39;re using the exact same format?","body":"@DanieleVitali - <a href=\"http://ideone.com/XAYwJ4\" rel=\"nofollow noreferrer\">Working example</a>. Are you sure you&#39;re using the exact same format?"}],"tags":[],"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391422474,"creation_date":1391422474,"answer_id":21524541,"question_id":21524476,"body_markdown":"Your format is wrong. You need to use `EEE` instead of `ccc`, where `E` means `Day name in week`.\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;EEE MMM dd HH:mm:ss z yyyy&quot;);\r\n\r\nHave a look at the [docs](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html) regarding all the valid patterns available for `SimpleDateFormat`.","title":"Error parsing date string","body":"<p>Your format is wrong. You need to use <code>EEE</code> instead of <code>ccc</code>, where <code>E</code> means <code>Day name in week</code>.</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"EEE MMM dd HH:mm:ss z yyyy\");\n</code></pre>\n\n<p>Have a look at the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\">docs</a> regarding all the valid patterns available for <code>SimpleDateFormat</code>.</p>\n"},{"comments":[{"owner":{"account_id":1269601,"reputation":3848,"user_id":1226219,"accept_rate":59,"display_name":"Daniele Vitali"},"score":0,"creation_date":1391422642,"post_id":21524546,"comment_id":32499481,"body_markdown":"I get the same exception :(","body":"I get the same exception :("},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1391422730,"post_id":21524546,"comment_id":32499530,"body_markdown":"I&#39;m sure it was a typo, as it would have fired `java.lang.IllegalArgumentException: Illegal pattern character &#39;c&#39;` instead of a `ParseException`","body":"I&#39;m sure it was a typo, as it would have fired <code>java.lang.IllegalArgumentException: Illegal pattern character &#39;c&#39;</code> instead of a <code>ParseException</code>"},{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":0,"creation_date":1391422838,"post_id":21524546,"comment_id":32499593,"body_markdown":"@DanieleVitali Checkout this gist: https://gist.github.com/kmb385/8781482 Also could you post the full code for your example?","body":"@DanieleVitali Checkout this gist: <a href=\"https://gist.github.com/kmb385/8781482\" rel=\"nofollow noreferrer\">gist.github.com/kmb385/8781482</a> Also could you post the full code for your example?"}],"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391422876,"creation_date":1391422490,"answer_id":21524546,"question_id":21524476,"body_markdown":"Replace `ccc` with `EEE` in the pattern to specify the day of the week:\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;EEE MMM dd HH:mm:ss z yyyy&quot;);\r\n\r\n**Example:** https://gist.github.com/kmb385/8781482","title":"Error parsing date string","body":"<p>Replace <code>ccc</code> with <code>EEE</code> in the pattern to specify the day of the week:</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"EEE MMM dd HH:mm:ss z yyyy\");\n</code></pre>\n\n<p><strong>Example:</strong> <a href=\"https://gist.github.com/kmb385/8781482\" rel=\"nofollow\">https://gist.github.com/kmb385/8781482</a></p>\n"},{"tags":[],"owner":{"account_id":125988,"reputation":4853,"user_id":2115021,"accept_rate":20,"display_name":"Kick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391422689,"creation_date":1391422689,"answer_id":21524621,"question_id":21524476,"body_markdown":"Update the format as below :\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;EEE MMM dd HH:mm:ss z yyyy&quot;);","title":"Error parsing date string","body":"<p>Update the format as below :</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"EEE MMM dd HH:mm:ss z yyyy\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1391423007,"creation_date":1391423007,"answer_id":21524742,"question_id":21524476,"body_markdown":"As others have said, you need `EEE` instead of `ccc` - but you should *also* specify a locale, so that it doesn&#39;t try to parse the month and day names (and other things) using your system default locale:\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;EEE MMM dd HH:mm:ss z yyyy&quot;,\r\n                                                Locale.US);","title":"Error parsing date string","body":"<p>As others have said, you need <code>EEE</code> instead of <code>ccc</code> - but you should <em>also</em> specify a locale, so that it doesn't try to parse the month and day names (and other things) using your system default locale:</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"EEE MMM dd HH:mm:ss z yyyy\",\n                                            Locale.US);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391423035,"creation_date":1391423035,"answer_id":21524749,"question_id":21524476,"body_markdown":"It is a `Locale` problem. That&#39;s because dates are represented differently between `Locale`s, so the JVM fires an exception if the `Date` is not in the correct format. You can solve it by setting a custom Locale:\r\n\r\n    String str = &quot;Mon Jun 10 00:00:00 EST 2013&quot;;\r\n    Locale.setDefault(Locale.US);\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;EEE MMM dd HH:mm:ss z yyyy&quot;);\r\n    Date date = sdf.parse(str);\r\n    System.out.println(date);\r\n\r\nIDEone examples do work because the default locale is `Locale.US`","title":"Error parsing date string","body":"<p>It is a <code>Locale</code> problem. That's because dates are represented differently between <code>Locale</code>s, so the JVM fires an exception if the <code>Date</code> is not in the correct format. You can solve it by setting a custom Locale:</p>\n\n<pre><code>String str = \"Mon Jun 10 00:00:00 EST 2013\";\nLocale.setDefault(Locale.US);\nSimpleDateFormat sdf = new SimpleDateFormat(\"EEE MMM dd HH:mm:ss z yyyy\");\nDate date = sdf.parse(str);\nSystem.out.println(date);\n</code></pre>\n\n<p>IDEone examples do work because the default locale is <code>Locale.US</code></p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672258439,"creation_date":1672258439,"answer_id":74944614,"question_id":21524476,"body_markdown":"java.time\r\n--\r\n\r\nThe [accepted answer](https://stackoverflow.com/a/21524742/10819573) uses `SimpleDateFormat` which was the correct thing to do in Feb 2014. In Mar 2014, the `java.util` date-time API and their formatting API, `SimpleDateFormat` were supplanted by the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html). Since then, it is highly recommended to stop using the legacy date-time API.\r\n\r\n**Note**: [Never use date-time formatting/parsing API without a `Locale`](https://stackoverflow.com/a/65544056/10819573).\r\n\r\n**Solution using the modern date-time API**:\r\n\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            String stdDateTime = &quot;Mon Jun 10 00:00:00 CEST 2013&quot;;\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss z uuuu&quot;, Locale.ENGLISH);\r\n            ZonedDateTime zdt = ZonedDateTime.parse(stdDateTime, parser);\r\n            System.out.println(zdt);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2013-06-10T00:00+02:00[Europe/Paris]\r\n\r\nIf for any reason, you need an instance of `java.util.Date`, you can get it as follow:\r\n\r\n    Date date = Date.from(zdt.toInstant());\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/wBeEn6)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Error parsing date string","body":"<h2>java.time</h2>\n<p>The <a href=\"https://stackoverflow.com/a/21524742/10819573\">accepted answer</a> uses <code>SimpleDateFormat</code> which was the correct thing to do in Feb 2014. In Mar 2014, the <code>java.util</code> date-time API and their formatting API, <code>SimpleDateFormat</code> were supplanted by the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>. Since then, it is highly recommended to stop using the legacy date-time API.</p>\n<p><strong>Note</strong>: <a href=\"https://stackoverflow.com/a/65544056/10819573\">Never use date-time formatting/parsing API without a <code>Locale</code></a>.</p>\n<p><strong>Solution using the modern date-time API</strong>:</p>\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\nclass Main {\n    public static void main(String[] args) {\n        String stdDateTime = &quot;Mon Jun 10 00:00:00 CEST 2013&quot;;\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss z uuuu&quot;, Locale.ENGLISH);\n        ZonedDateTime zdt = ZonedDateTime.parse(stdDateTime, parser);\n        System.out.println(zdt);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2013-06-10T00:00+02:00[Europe/Paris]\n</code></pre>\n<p>If for any reason, you need an instance of <code>java.util.Date</code>, you can get it as follow:</p>\n<pre><code>Date date = Date.from(zdt.toInstant());\n</code></pre>\n<p><a href=\"https://ideone.com/wBeEn6\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":1269601,"reputation":3848,"user_id":1226219,"accept_rate":59,"display_name":"Daniele Vitali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21524742,"answer_count":6,"score":0,"last_activity_date":1672258439,"creation_date":1391422326,"question_id":21524476,"body_markdown":"I need to parse this string as a date:\r\n\r\n&gt; Mon Jun 10 00:00:00 CEST 2013\r\n\r\nHere is what I do:\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;ccc MMM dd HH:mm:ss z yyyy&quot;);\r\n    Date date = sdf.parse(dateString);\r\n\r\nBut I get a `ParseException`:\r\n\r\n    Unparseable date: &quot;Wed Oct 02 00:00:00 CEST 2013&quot; (at offset 0)\r\n\r\nAny help please?\r\n","title":"Error parsing date string","body":"<p>I need to parse this string as a date:</p>\n\n<blockquote>\n  <p>Mon Jun 10 00:00:00 CEST 2013</p>\n</blockquote>\n\n<p>Here is what I do:</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"ccc MMM dd HH:mm:ss z yyyy\");\nDate date = sdf.parse(dateString);\n</code></pre>\n\n<p>But I get a <code>ParseException</code>:</p>\n\n<pre><code>Unparseable date: \"Wed Oct 02 00:00:00 CEST 2013\" (at offset 0)\n</code></pre>\n\n<p>Any help please?</p>\n"},{"tags":["java","amazon-web-services","amazon-sqs"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1672259310,"post_id":74944461,"comment_id":132254703,"body_markdown":"What happens if you catch `Throwable` instead of `Exception`?","body":"What happens if you catch <code>Throwable</code> instead of <code>Exception</code>?"},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1672262689,"post_id":74944461,"comment_id":132255510,"body_markdown":"What does &quot;failure&quot; mean? Is it a case where the queue is not ready for us when you try to use it? Or something else?","body":"What does &quot;failure&quot; mean? Is it a case where the queue is not ready for us when you try to use it? Or something else?"},{"owner":{"account_id":1632689,"reputation":304,"user_id":1506934,"accept_rate":40,"display_name":"wlaem"},"score":0,"creation_date":1672264520,"post_id":74944461,"comment_id":132255927,"body_markdown":"@stdunbar thanks, catching Throwable did catch the error.  Seems like an issue with one of the dependencies.  java.lang.NoSuchMethodError: org.apache.http.conn.ssl.SSLConnectionSocketFactory.getDefaultHostnameVerifier()Ljavax/net/ssl/HostnameVerifier;","body":"@stdunbar thanks, catching Throwable did catch the error.  Seems like an issue with one of the dependencies.  java.lang.NoSuchMethodError: org.apache.http.conn.ssl.SSLConnectionSocketFactory.getDefau&zwnj;&#8203;ltHostnameVerifier()&zwnj;&#8203;Ljavax/net/ssl/Hostn&zwnj;&#8203;ameVerifier;"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1672265101,"post_id":74944461,"comment_id":132256072,"body_markdown":"Looks similar to [this issue](https://github.com/aws/aws-sdk-java/issues/938) (although that&#39;s V1 of the SDK library).  Do you have an older Apache HTTP Client library that&#39;s on your build path?","body":"Looks similar to <a href=\"https://github.com/aws/aws-sdk-java/issues/938\" rel=\"nofollow noreferrer\">this issue</a> (although that&#39;s V1 of the SDK library).  Do you have an older Apache HTTP Client library that&#39;s on your build path?"},{"owner":{"account_id":1632689,"reputation":304,"user_id":1506934,"accept_rate":40,"display_name":"wlaem"},"score":0,"creation_date":1672349407,"post_id":74944461,"comment_id":132274312,"body_markdown":"I do.  Seems like that should solve the problem, but the weird thing is, after I replaced the existing httpcore.jar and httpclient.jar files with newer versions, it&#39;s still failing for some reason, but I&#39;m back to square one because it&#39;s not being caught in my throwable catch block anymore :(.","body":"I do.  Seems like that should solve the problem, but the weird thing is, after I replaced the existing httpcore.jar and httpclient.jar files with newer versions, it&#39;s still failing for some reason, but I&#39;m back to square one because it&#39;s not being caught in my throwable catch block anymore :(."}],"owner":{"account_id":1632689,"reputation":304,"user_id":1506934,"accept_rate":40,"display_name":"wlaem"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672257145,"creation_date":1672257145,"question_id":74944461,"body_markdown":"I&#39;m having an issue with my call to SqsClient.create() failing.  In one case, I was able to recreate this by setting the wrong AWS_SECRET_ACCESS_KEY value in my environmental vars.  In other cases, I don&#39;t know why it fails.  The issue is, instead of throwing an exception, it seems to just fail silently and I end up getting some other problems down the road because of it. And I can&#39;t troubleshoot it because it never goes into the catch block! I orignally was just catching AwsServiceException and SdkClientException, but after my initial problems, I added a catch-all Exception as well to my try-catch block, but even then, when it fails it still doesn&#39;t go into the last Exception catch block for some reason.  What can be the cause of this?  I am scratching my head trying to figure it out.\r\n\r\n```\r\n      try {\r\n         sqsClient = SqsClient.create();\r\n         snsClient = SnsClient.create();\r\n\r\n      } catch (final AwsServiceException ex) {\r\n         //do something\r\n      } catch (final SdkClientException ex) {\r\n         //do something\r\n      } catch (Exception e) {\r\n         //do something\r\n      }\r\n```","title":"AWS java sdk - SqsClient.create() fails without throwing an exception","body":"<p>I'm having an issue with my call to SqsClient.create() failing.  In one case, I was able to recreate this by setting the wrong AWS_SECRET_ACCESS_KEY value in my environmental vars.  In other cases, I don't know why it fails.  The issue is, instead of throwing an exception, it seems to just fail silently and I end up getting some other problems down the road because of it. And I can't troubleshoot it because it never goes into the catch block! I orignally was just catching AwsServiceException and SdkClientException, but after my initial problems, I added a catch-all Exception as well to my try-catch block, but even then, when it fails it still doesn't go into the last Exception catch block for some reason.  What can be the cause of this?  I am scratching my head trying to figure it out.</p>\n<pre><code>      try {\n         sqsClient = SqsClient.create();\n         snsClient = SnsClient.create();\n\n      } catch (final AwsServiceException ex) {\n         //do something\n      } catch (final SdkClientException ex) {\n         //do something\n      } catch (Exception e) {\n         //do something\n      }\n</code></pre>\n"},{"tags":["java","command"],"comments":[{"owner":{"account_id":16249442,"reputation":4026,"user_id":11733759,"display_name":"lczapski"},"score":0,"creation_date":1572087468,"post_id":58568425,"comment_id":103457446,"body_markdown":"Please insert the whole error into this question from image that you attached","body":"Please insert the whole error into this question from image that you attached"}],"answers":[{"comments":[{"owner":{"account_id":16268564,"reputation":13,"user_id":12276507,"display_name":"New to CS"},"score":0,"creation_date":1572090461,"post_id":58568515,"comment_id":103457980,"body_markdown":"Hi Jannik, I just checked the version used for both my Eclipse and command prompt . Both used the same version.","body":"Hi Jannik, I just checked the version used for both my Eclipse and command prompt . Both used the same version."},{"owner":{"account_id":3730500,"reputation":1593,"user_id":3103067,"display_name":"Jannik"},"score":0,"creation_date":1572176026,"post_id":58568515,"comment_id":103472848,"body_markdown":"Are you entirely sure? If you run `java -version` it should tell you that you run Java 11.","body":"Are you entirely sure? If you run <code>java -version</code> it should tell you that you run Java 11."},{"owner":{"account_id":16268564,"reputation":13,"user_id":12276507,"display_name":"New to CS"},"score":0,"creation_date":1572191758,"post_id":58568515,"comment_id":103476423,"body_markdown":"Yes yes, i checked the version. both using Java 11.0.2","body":"Yes yes, i checked the version. both using Java 11.0.2"},{"owner":{"account_id":3730500,"reputation":1593,"user_id":3103067,"display_name":"Jannik"},"score":0,"creation_date":1572192142,"post_id":58568515,"comment_id":103476514,"body_markdown":"And the error message is still the same? I can&#39;t quite believe this because the error you are seeing is quite common and always indicates a mismatch between compiled version and runtime version. Additionally, Java 11 should be able to run version 55 bytecode.","body":"And the error message is still the same? I can&#39;t quite believe this because the error you are seeing is quite common and always indicates a mismatch between compiled version and runtime version. Additionally, Java 11 should be able to run version 55 bytecode."},{"owner":{"account_id":16268564,"reputation":13,"user_id":12276507,"display_name":"New to CS"},"score":0,"creation_date":1572263895,"post_id":58568515,"comment_id":103494042,"body_markdown":"sorry I got mixed up with `%PATH%` and `java - version`. When I `java -version`, it showed `java version &quot;1.8.0_231&quot;`. When I `%PATH%`, it showed `11.0.2` So it&#39;s wrong version. My Eclipse is using version 11.0.2. Please guide me on how to change the path on my command prompt. Thank you","body":"sorry I got mixed up with <code>%PATH%</code> and <code>java - version</code>. When I <code>java -version</code>, it showed <code>java version &quot;1.8.0_231&quot;</code>. When I <code>%PATH%</code>, it showed <code>11.0.2</code> So it&#39;s wrong version. My Eclipse is using version 11.0.2. Please guide me on how to change the path on my command prompt. Thank you"},{"owner":{"account_id":3730500,"reputation":1593,"user_id":3103067,"display_name":"Jannik"},"score":0,"creation_date":1572264428,"post_id":58568515,"comment_id":103494288,"body_markdown":"You are on windows I&#39;d guess. Go to the search and type `Edit the system environment variables`. This opens a dialog window where you need to click on `Environment variables`. Then you can edit the variables to your desire. When you&#39;ve finished editing you must restart the command prompt.","body":"You are on windows I&#39;d guess. Go to the search and type <code>Edit the system environment variables</code>. This opens a dialog window where you need to click on <code>Environment variables</code>. Then you can edit the variables to your desire. When you&#39;ve finished editing you must restart the command prompt."},{"owner":{"account_id":16268564,"reputation":13,"user_id":12276507,"display_name":"New to CS"},"score":0,"creation_date":1572266732,"post_id":58568515,"comment_id":103495361,"body_markdown":"Yes i did add a new `Environment variables` linking it to `java version 11.0.2` however when I `java -version`, the version displayed is still `1.8.0_231`. I did restart my command prompt.","body":"Yes i did add a new <code>Environment variables</code> linking it to <code>java version 11.0.2</code> however when I <code>java -version</code>, the version displayed is still <code>1.8.0_231</code>. I did restart my command prompt."},{"owner":{"account_id":3730500,"reputation":1593,"user_id":3103067,"display_name":"Jannik"},"score":0,"creation_date":1572268623,"post_id":58568515,"comment_id":103496249,"body_markdown":"You must edit the `path` variable and add the path there. Also, make sure that you remove the old java version from your path or add your newer version before the old version. Otherwise you&#39;ll still see the old version. Also note, that there are two path variables, one for the system and one for the user. It doesn&#39;t really matter where you add the new version, but you must check both of them to remove the old Java version.","body":"You must edit the <code>path</code> variable and add the path there. Also, make sure that you remove the old java version from your path or add your newer version before the old version. Otherwise you&#39;ll still see the old version. Also note, that there are two path variables, one for the system and one for the user. It doesn&#39;t really matter where you add the new version, but you must check both of them to remove the old Java version."},{"owner":{"account_id":16268564,"reputation":13,"user_id":12276507,"display_name":"New to CS"},"score":0,"creation_date":1572329661,"post_id":58568515,"comment_id":103516105,"body_markdown":"I did deleted the old version and added new path variable linking it to java 11.0.2. However when I `java -version`, everything is the same, same error message. Have no idea where I do wrong.","body":"I did deleted the old version and added new path variable linking it to java 11.0.2. However when I <code>java -version</code>, everything is the same, same error message. Have no idea where I do wrong."},{"owner":{"account_id":3730500,"reputation":1593,"user_id":3103067,"display_name":"Jannik"},"score":0,"creation_date":1572337263,"post_id":58568515,"comment_id":103518464,"body_markdown":"Hmm, it&#39;s difficult to find the root cause in this fashion and I don&#39;t really know what to  tell you anymore. So I&#39;d recommend that you go to your `path` variables and remove everything that contains `java` or `jdk`. Now `java -version` shouldn&#39;t work anymore. If it still works you haven&#39;t removed the correct thing from the path (go back and remove it :D). When it is removed successfully add the path to your JDK\\bin folder to the `path` and the JDK folder to `java_home`. Now you should be able to use the correct Java version.","body":"Hmm, it&#39;s difficult to find the root cause in this fashion and I don&#39;t really know what to  tell you anymore. So I&#39;d recommend that you go to your <code>path</code> variables and remove everything that contains <code>java</code> or <code>jdk</code>. Now <code>java -version</code> shouldn&#39;t work anymore. If it still works you haven&#39;t removed the correct thing from the path (go back and remove it :D). When it is removed successfully add the path to your JDK\\bin folder to the <code>path</code> and the JDK folder to <code>java_home</code>. Now you should be able to use the correct Java version."},{"owner":{"account_id":16268564,"reputation":13,"user_id":12276507,"display_name":"New to CS"},"score":0,"creation_date":1572432955,"post_id":58568515,"comment_id":103555382,"body_markdown":"Thank you. I managed to solve the problem by listening to your guidance.","body":"Thank you. I managed to solve the problem by listening to your guidance."}],"tags":[],"owner":{"account_id":3730500,"reputation":1593,"user_id":3103067,"display_name":"Jannik"},"comment_count":11,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1572070458,"creation_date":1572070458,"answer_id":58568515,"question_id":58568425,"body_markdown":"The error message tells you that the class version is different. In other words, the Java compiler you used in Eclipse is newer than the Java runtime you use in the command prompt. You should check which Java version you want then use only this version. To change the version you use in the command prompt you must change the `path` environment variable to contain the path to the desired version. In Eclipse you can select the used version in the settings.","title":"How to fix &quot;A JNI error has occurred, please check your installation.&quot;","body":"<p>The error message tells you that the class version is different. In other words, the Java compiler you used in Eclipse is newer than the Java runtime you use in the command prompt. You should check which Java version you want then use only this version. To change the version you use in the command prompt you must change the <code>path</code> environment variable to contain the path to the desired version. In Eclipse you can select the used version in the settings.</p>\n"},{"tags":[],"owner":{"account_id":16071542,"reputation":11,"user_id":11599887,"display_name":"Unique"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596631097,"creation_date":1596631097,"answer_id":63265400,"question_id":58568425,"body_markdown":"I was facing this error due to the folder name which I had named as java. Then as I renamed the folder in which my java programs were kept, it worked fine for me.","title":"How to fix &quot;A JNI error has occurred, please check your installation.&quot;","body":"<p>I was facing this error due to the folder name which I had named as java. Then as I renamed the folder in which my java programs were kept, it worked fine for me.</p>\n"},{"comments":[{"owner":{"account_id":14228563,"reputation":702,"user_id":10278427,"display_name":"Pouria Moosavi"},"score":0,"creation_date":1621184191,"post_id":67558229,"comment_id":119412982,"body_markdown":"This is the same answer as @Unique &#39;s answer.","body":"This is the same answer as @Unique &#39;s answer."}],"tags":[],"owner":{"account_id":21617053,"reputation":11,"user_id":15942691,"display_name":"raman sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621177522,"creation_date":1621177522,"answer_id":67558229,"question_id":58568425,"body_markdown":"I have faced the same issue but the reason why i was faing that of because I had created a package name called Java and when tried to ran my class getting -a-jni-error-has-occurred\r\n\r\nBut after going through error logs I found Java package name is prohibited , so I changed my package name and it worked for me","title":"How to fix &quot;A JNI error has occurred, please check your installation.&quot;","body":"<p>I have faced the same issue but the reason why i was faing that of because I had created a package name called Java and when tried to ran my class getting -a-jni-error-has-occurred</p>\n<p>But after going through error logs I found Java package name is prohibited , so I changed my package name and it worked for me</p>\n"},{"tags":[],"owner":{"account_id":17099618,"reputation":1,"user_id":12373850,"display_name":"GERARDO ESPINOZA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631157874,"creation_date":1631141479,"answer_id":69110462,"question_id":58568425,"body_markdown":"Your answer kind of guided me towards a solution. \r\nThe package I was using was named `java.example.java`, just changed for `com.example.java` and it worked fine.","title":"How to fix &quot;A JNI error has occurred, please check your installation.&quot;","body":"<p>Your answer kind of guided me towards a solution.\nThe package I was using was named <code>java.example.java</code>, just changed for <code>com.example.java</code> and it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":27377045,"reputation":1,"user_id":20882210,"display_name":"Dave D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672257032,"creation_date":1672257032,"answer_id":74944444,"question_id":58568425,"body_markdown":"I found that the Java 11 installer defaults the set JAVA_HOME variable and the JavaSoft registration variable to exclude (red cross). Ensure that you select both to add full feature. Complete Java install and then reinstall application.\r\nVoila !!!\r\n\r\n[image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/76Ymh.png","title":"How to fix &quot;A JNI error has occurred, please check your installation.&quot;","body":"<p>I found that the Java 11 installer defaults the set JAVA_HOME variable and the JavaSoft registration variable to exclude (red cross). Ensure that you select both to add full feature. Complete Java install and then reinstall application.\nVoila !!!</p>\n<p><a href=\"https://i.stack.imgur.com/76Ymh.png\" rel=\"nofollow noreferrer\">image</a></p>\n"}],"owner":{"account_id":16268564,"reputation":13,"user_id":12276507,"display_name":"New to CS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60346,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":58568515,"answer_count":5,"score":0,"last_activity_date":1672257032,"creation_date":1572069247,"question_id":58568425,"body_markdown":"I have written a Java program on Eclipse and I&#39;m able to run the program. But when I transfer it to Notepad++ and run it via command  prompt. It gave me an ERROR message. Any idea on how to solve it?\r\n\r\nI have attach an image of the error.\r\n\r\n[![&quot;Error Message&quot;][1]][1]\r\n\r\n    Error: A JNI error has occurred, please check your installation and try again\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: Assignment_2 has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n    at java.lang.ClassLoader.defineClass1(Native Method)\r\n    at java.lang.ClassLoader.defineClass(Unknown \r\n    at java.security.SecureClassLoader.defineClass(Unknown \r\n    at java.net.URLClassLoader.defineClass(Unknown \r\n    at java.net.URLClassLoader.access$100(Unknown \r\n    at java.net.URLClassLoader$1.run(Unknown \r\n    at java.net.URLClassLoader$1.run(Unknown \r\n    at java.security.AccessController.doPrivileged(Native \r\n    at java.net.URLClassLoader.findClass(Unknown \r\n    at java.lang.ClassLoader.loadClass(Unknown \r\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown \r\n    at java.lang.ClassLoader.loadClass(Unknown \r\n    at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\r\n\r\n  [1]: https://i.stack.imgur.com/ehR3Y.png","title":"How to fix &quot;A JNI error has occurred, please check your installation.&quot;","body":"<p>I have written a Java program on Eclipse and I'm able to run the program. But when I transfer it to Notepad++ and run it via command  prompt. It gave me an ERROR message. Any idea on how to solve it?</p>\n<p>I have attach an image of the error.</p>\n<p><a href=\"https://i.stack.imgur.com/ehR3Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ehR3Y.png\" alt=\"&quot;Error Message&quot;\" /></a></p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: Assignment_2 has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\nat java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClass(Unknown \nat java.security.SecureClassLoader.defineClass(Unknown \nat java.net.URLClassLoader.defineClass(Unknown \nat java.net.URLClassLoader.access$100(Unknown \nat java.net.URLClassLoader$1.run(Unknown \nat java.net.URLClassLoader$1.run(Unknown \nat java.security.AccessController.doPrivileged(Native \nat java.net.URLClassLoader.findClass(Unknown \nat java.lang.ClassLoader.loadClass(Unknown \nat sun.misc.Launcher$AppClassLoader.loadClass(Unknown \nat java.lang.ClassLoader.loadClass(Unknown \nat sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\n</code></pre>\n"},{"tags":["java","gradle"],"answers":[{"comments":[{"owner":{"account_id":300924,"reputation":493,"user_id":608354,"accept_rate":44,"display_name":"bluearth"},"score":0,"creation_date":1672307524,"post_id":74941443,"comment_id":132263039,"body_markdown":"Thanks.  I simply add ```runList += jar.archiveFile``` to add path to my own project&#39;s artefact.","body":"Thanks.  I simply add <code>runList += jar.archiveFile</code> to add path to my own project&#39;s artefact."}],"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672237690,"creation_date":1672237690,"answer_id":74941443,"question_id":74940129,"body_markdown":"try \r\n```\r\ntask runCP() {\r\n    doLast {\r\n        def runList = configurations.runtimeClasspath.asList()\r\n        println(runList.join(File.pathSeparator))\r\n    }\r\n}\r\n```","title":"Gradle task to get list of jar dependecies","body":"<p>try</p>\n<pre><code>task runCP() {\n    doLast {\n        def runList = configurations.runtimeClasspath.asList()\n        println(runList.join(File.pathSeparator))\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672256957,"creation_date":1672256957,"answer_id":74944435,"question_id":74940129,"body_markdown":"Consider the `startScripts` task in the application plugin, as described [here](https://docs.gradle.org/current/userguide/application_plugin.html#sec:application_tasks).\r\n\r\nFor example, in [this project](https://github.com/codetojoy/WarO_Java_17), we have the following dependencies:\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;com.codepoetics:protonpack:1.16&#39;\r\n    implementation &#39;com.google.guava:guava:24.1-jre&#39;\r\n    implementation &#39;org.apache.commons:commons-lang3:3.10&#39;\r\n    implementation &#39;org.springframework:spring-context:5.2.5.RELEASE&#39;\r\n\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n}\r\n```\r\n\r\nIf we type `./gradlew startScripts` then the file `./build/scripts/WarO_Java_17` contains this (newlines added):\r\n\r\n```\r\nCLASSPATH=$APP_HOME/lib/WarO_Java_17.jar\r\n:$APP_HOME/lib/protonpack-1.16.jar\r\n:$APP_HOME/lib/guava-24.1-jre.jar\r\n:$APP_HOME/lib/commons-lang3-3.10.jar\r\n:$APP_HOME/lib/spring-context-5.2.5.RELEASE.jar\r\n:$APP_HOME/lib/jsr305-1.3.9.jar\r\n:$APP_HOME/lib/checker-compat-qual-2.0.0.jar\r\n:$APP_HOME/lib/error_prone_annotations-2.1.3.jar\r\n:$APP_HOME/lib/j2objc-annotations-1.1.jar\r\n:$APP_HOME/lib/animal-sniffer-annotations-1.14.jar\r\n:$APP_HOME/lib/spring-aop-5.2.5.RELEASE.jar\r\n:$APP_HOME/lib/spring-beans-5.2.5.RELEASE.jar\r\n:$APP_HOME/lib/spring-expression-5.2.5.RELEASE.jar\r\n:$APP_HOME/lib/spring-core-5.2.5.RELEASE.jar\r\n:$APP_HOME/lib/spring-jcl-5.2.5.RELEASE.jar\r\n```\r\n\r\nThere is a corresponding file for Windows in `./build/scripts/WarO_Java_17.bat`\r\n","title":"Gradle task to get list of jar dependecies","body":"<p>Consider the <code>startScripts</code> task in the application plugin, as described <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html#sec:application_tasks\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>For example, in <a href=\"https://github.com/codetojoy/WarO_Java_17\" rel=\"nofollow noreferrer\">this project</a>, we have the following dependencies:</p>\n<pre><code>dependencies {\n    implementation 'com.codepoetics:protonpack:1.16'\n    implementation 'com.google.guava:guava:24.1-jre'\n    implementation 'org.apache.commons:commons-lang3:3.10'\n    implementation 'org.springframework:spring-context:5.2.5.RELEASE'\n\n    testImplementation 'junit:junit:4.12'\n}\n</code></pre>\n<p>If we type <code>./gradlew startScripts</code> then the file <code>./build/scripts/WarO_Java_17</code> contains this (newlines added):</p>\n<pre><code>CLASSPATH=$APP_HOME/lib/WarO_Java_17.jar\n:$APP_HOME/lib/protonpack-1.16.jar\n:$APP_HOME/lib/guava-24.1-jre.jar\n:$APP_HOME/lib/commons-lang3-3.10.jar\n:$APP_HOME/lib/spring-context-5.2.5.RELEASE.jar\n:$APP_HOME/lib/jsr305-1.3.9.jar\n:$APP_HOME/lib/checker-compat-qual-2.0.0.jar\n:$APP_HOME/lib/error_prone_annotations-2.1.3.jar\n:$APP_HOME/lib/j2objc-annotations-1.1.jar\n:$APP_HOME/lib/animal-sniffer-annotations-1.14.jar\n:$APP_HOME/lib/spring-aop-5.2.5.RELEASE.jar\n:$APP_HOME/lib/spring-beans-5.2.5.RELEASE.jar\n:$APP_HOME/lib/spring-expression-5.2.5.RELEASE.jar\n:$APP_HOME/lib/spring-core-5.2.5.RELEASE.jar\n:$APP_HOME/lib/spring-jcl-5.2.5.RELEASE.jar\n</code></pre>\n<p>There is a corresponding file for Windows in <code>./build/scripts/WarO_Java_17.bat</code></p>\n"}],"owner":{"account_id":300924,"reputation":493,"user_id":608354,"accept_rate":44,"display_name":"bluearth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74941443,"answer_count":2,"score":0,"last_activity_date":1672256957,"creation_date":1672229669,"question_id":74940129,"body_markdown":"Is there any gradle task to obtain list of runtime dependencies. Preferably built-in task or task from the &#39;application&#39; plugin. Or if not possible, using another gradle plugin.\r\n\r\nI simply need to manually run the main class of my app from the command line.\r\n\r\n```\r\njava -cp STRING_OF_ALL_JAR_DEPENDENCIES my.package.Main\r\n```\r\n\r\nSTRING_OF_ALL_JAR_DEPENDENCIES should also include my project jar.\r\n\r\nThe task should produce STRING_OF_ALL_JAR_DEPENDENCIES in suitable formatting for use in --classpath/-cp switch BUT may also produce some other format that need some trivial processing before use.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Gradle task to get list of jar dependecies","body":"<p>Is there any gradle task to obtain list of runtime dependencies. Preferably built-in task or task from the 'application' plugin. Or if not possible, using another gradle plugin.</p>\n<p>I simply need to manually run the main class of my app from the command line.</p>\n<pre><code>java -cp STRING_OF_ALL_JAR_DEPENDENCIES my.package.Main\n</code></pre>\n<p>STRING_OF_ALL_JAR_DEPENDENCIES should also include my project jar.</p>\n<p>The task should produce STRING_OF_ALL_JAR_DEPENDENCIES in suitable formatting for use in --classpath/-cp switch BUT may also produce some other format that need some trivial processing before use.</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672256644,"creation_date":1672250240,"answer_id":74943499,"question_id":74939270,"body_markdown":"One simple solution is defining the [`@AfterMapping`][1] method in the `ShipmentMapper` that sets those fields to `null`, as follows:\r\n```java\r\n@AfterMapping\r\ndefault void setFieldsToNullIfStatusIsOpen(Shipment shipment, @MappingTarget ShipmentResponseDto response) {\r\n  if(shipment.getStatus()==Status.Opened){\r\n    PackagingLastMeasurements plm = response.getCargo().getPackaging().getLastMeasurements();\r\n    plm.setFirstField(null);\r\n    plm.setSecondField(null);\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after","title":"Mapstruct: mapping by condition","body":"<p>One simple solution is defining the <a href=\"https://mapstruct.org/documentation/stable/reference/html/#customizing-mappings-with-before-and-after\" rel=\"nofollow noreferrer\"><code>@AfterMapping</code></a> method in the <code>ShipmentMapper</code> that sets those fields to <code>null</code>, as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AfterMapping\ndefault void setFieldsToNullIfStatusIsOpen(Shipment shipment, @MappingTarget ShipmentResponseDto response) {\n  if(shipment.getStatus()==Status.Opened){\n    PackagingLastMeasurements plm = response.getCargo().getPackaging().getLastMeasurements();\n    plm.setFirstField(null);\n    plm.setSecondField(null);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14195569,"reputation":805,"user_id":10254976,"display_name":"Самир Шахмурадлы"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74943499,"answer_count":1,"score":0,"last_activity_date":1672256644,"creation_date":1672224374,"question_id":74939270,"body_markdown":"I should return several fields from `ShipmentResponseDto.cargo.packaging.lastMeasurements` as `null` if `shipping.status==Status.Opened`. Like this:\r\n\r\n    if(shipment.status=Status.Opened){\r\n       ShipmentResponseDto.cargo.packaging.lastMeasurements.firstField = null;\r\n       ShipmentResponseDto.cargo.packaging.lastMeasurements.secondField = null;\r\n    }\r\n\r\nI want to do it in mapstruct. The whole problem is that the answer is assembled from two mappers and I did not succeed in implementing this.\r\n\r\n\r\n    @Mapper(uses = {\r\n        CargoPackagingMapper.class\r\n    })\r\n    public interface ShipmentMapper extends BasicMapper&lt;ShipmentResponseDto, Shipment&gt; {\r\n    \r\n    }\r\n    \r\n    \r\n    @Mapper(uses = {PackagingTypeMapper.class})\r\n    public abstract class CargoPackagingMapper implements BasicMapper&lt;CargoPackagingResponseDto, Packaging&gt; {\r\n    \r\n        @Override\r\n        @Mappings(...)\r\n        public abstract CargoPackagingResponseDto toDto(Packaging source);\r\n    }\r\n    \r\n    public class Shipment {\r\n    \r\n        ...\r\n        ...\r\n       @Enumerated(EnumType.STRING)\r\n        private Status status;\r\n        private Set&lt;ShipmentCargo&gt; cargo = new HashSet&lt;&gt;();\r\n        ...\r\n    }\r\n    \r\n    public class ShipmentCargo {\r\n        ...\r\n        @ManyToOne\r\n        private Packaging packaging;\r\n        ...\r\n    \r\n    }\r\n    public class Packaging {\r\n        ...\r\n        \r\n        private PackagingLastMeasurements lastMeasurements;\r\n        ...\r\n    \r\n    }\r\n\r\n","title":"Mapstruct: mapping by condition","body":"<p>I should return several fields from <code>ShipmentResponseDto.cargo.packaging.lastMeasurements</code> as <code>null</code> if <code>shipping.status==Status.Opened</code>. Like this:</p>\n<pre><code>if(shipment.status=Status.Opened){\n   ShipmentResponseDto.cargo.packaging.lastMeasurements.firstField = null;\n   ShipmentResponseDto.cargo.packaging.lastMeasurements.secondField = null;\n}\n</code></pre>\n<p>I want to do it in mapstruct. The whole problem is that the answer is assembled from two mappers and I did not succeed in implementing this.</p>\n<pre><code>@Mapper(uses = {\n    CargoPackagingMapper.class\n})\npublic interface ShipmentMapper extends BasicMapper&lt;ShipmentResponseDto, Shipment&gt; {\n\n}\n\n\n@Mapper(uses = {PackagingTypeMapper.class})\npublic abstract class CargoPackagingMapper implements BasicMapper&lt;CargoPackagingResponseDto, Packaging&gt; {\n\n    @Override\n    @Mappings(...)\n    public abstract CargoPackagingResponseDto toDto(Packaging source);\n}\n\npublic class Shipment {\n\n    ...\n    ...\n   @Enumerated(EnumType.STRING)\n    private Status status;\n    private Set&lt;ShipmentCargo&gt; cargo = new HashSet&lt;&gt;();\n    ...\n}\n\npublic class ShipmentCargo {\n    ...\n    @ManyToOne\n    private Packaging packaging;\n    ...\n\n}\npublic class Packaging {\n    ...\n    \n    private PackagingLastMeasurements lastMeasurements;\n    ...\n\n}\n</code></pre>\n"},{"tags":["java","date-parsing"],"comments":[{"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"score":0,"creation_date":1337087297,"post_id":10601321,"comment_id":13732809,"body_markdown":"are you looking to convert to a first-class `Date` object, or are you asking about how to strip the string (i.e., using a regex)?","body":"are you looking to convert to a first-class <code>Date</code> object, or are you asking about how to strip the string (i.e., using a regex)?"},{"owner":{"account_id":39976,"reputation":5421,"user_id":115589,"accept_rate":40,"display_name":"Wernsey"},"score":0,"creation_date":1337087308,"post_id":10601321,"comment_id":13732815,"body_markdown":"Looks like you need a [regular expression](http://docs.oracle.com/javase/tutorial/essential/regex/)...","body":"Looks like you need a <a href=\"http://docs.oracle.com/javase/tutorial/essential/regex/\" rel=\"nofollow noreferrer\">regular expression</a>..."},{"owner":{"account_id":1267971,"reputation":255,"user_id":1224843,"accept_rate":36,"display_name":"Neha"},"score":0,"creation_date":1337088555,"post_id":10601321,"comment_id":13733459,"body_markdown":"yes i need a regex which will give me only date part","body":"yes i need a regex which will give me only date part"}],"answers":[{"comments":[{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1337089416,"post_id":10601378,"comment_id":13733929,"body_markdown":"-1, this doesn&#39;t compile. Even if it did, it would probably print a bunch of numbers, not for instance `&quot;May&quot;`. I would suggest using `outputDate = String.format(&quot;%1$te %1$tb %1$tY&quot;, myCalendar)`","body":"-1, this doesn&#39;t compile. Even if it did, it would probably print a bunch of numbers, not for instance <code>&quot;May&quot;</code>. I would suggest using <code>outputDate = String.format(&quot;%1$te %1$tb %1$tY&quot;, myCalendar)</code>"},{"owner":{"account_id":1323592,"reputation":8676,"user_id":1268895,"accept_rate":80,"display_name":"wattostudios"},"score":0,"creation_date":1337089506,"post_id":10601378,"comment_id":13733982,"body_markdown":"Cool, good suggestion, I wasn&#39;t aware of such a statement. As for it not compiling - there are a few things missing, like they would need to fill the `inputString` and do some imports - I can&#39;t do all the work for them. I was more about trying to present a different way to use the date which would allow them to use the data for something functional afterwards, if they needed that. I was aware of it printing `5` instead of `May` - I didn&#39;t want to overcomplicate the answer.","body":"Cool, good suggestion, I wasn&#39;t aware of such a statement. As for it not compiling - there are a few things missing, like they would need to fill the <code>inputString</code> and do some imports - I can&#39;t do all the work for them. I was more about trying to present a different way to use the date which would allow them to use the data for something functional afterwards, if they needed that. I was aware of it printing <code>5</code> instead of <code>May</code> - I didn&#39;t want to overcomplicate the answer."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":1,"creation_date":1337089789,"post_id":10601378,"comment_id":13734116,"body_markdown":"Also, Calendar.get returns an `int` which can&#39;t be combined with a char, `&#39; &#39;` and result in a `String` (which is what I was referring to actually).","body":"Also, Calendar.get returns an <code>int</code> which can&#39;t be combined with a char, <code>&#39; &#39;</code> and result in a <code>String</code> (which is what I was referring to actually)."},{"owner":{"account_id":1323592,"reputation":8676,"user_id":1268895,"accept_rate":80,"display_name":"wattostudios"},"score":0,"creation_date":1337089843,"post_id":10601378,"comment_id":13734147,"body_markdown":"Thanks for pointing out my oversight - I have corrected this :-)","body":"Thanks for pointing out my oversight - I have corrected this :-)"}],"tags":[],"owner":{"account_id":1323592,"reputation":8676,"user_id":1268895,"accept_rate":80,"display_name":"wattostudios"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1337089816,"creation_date":1337087348,"answer_id":10601378,"question_id":10601321,"body_markdown":"Why don&#39;t you `parse()` the String using `DateFormat`, which will give you a `Date` object. Give this `Date` to a `Calendar`, and you can query any of the fields that you want, such as `get(Calendar.DAY_OF_MONTH)`. \r\n\r\nSomething like this...\r\n\r\n    SimpleDateFormat myDateFormat = new SimpleDateFormat(&quot;EEE, d MMM yyyy H:m:s z&quot;);\r\n    Date myDate = myDateFormat.parse(inputString);\r\n\r\n    Calendar myCalendar = Calendar.getInstance();\r\n    myCalendar.setTime(myDate);\r\n\r\n    String outputDate = myCalendar.get(Calendar.DAY_OF_MONTH) + &quot; &quot; + \r\n                        myCalendar.get(Calendar.MONTH) + &quot; &quot; +\r\n                        myCalendar.get(Calendar.YEAR);\r\n\r\nMight be a little bit lengthy to write, but at least you end up with a `Calendar` that can easily give you any field you want (if, for example, you want to perform some processing using one of the field values). It can also be used for calculations, or many other purposes. It really depends on what you want to do with the date after you have it.","title":"How to get Date part from given String?","body":"<p>Why don't you <code>parse()</code> the String using <code>DateFormat</code>, which will give you a <code>Date</code> object. Give this <code>Date</code> to a <code>Calendar</code>, and you can query any of the fields that you want, such as <code>get(Calendar.DAY_OF_MONTH)</code>. </p>\n\n<p>Something like this...</p>\n\n<pre><code>SimpleDateFormat myDateFormat = new SimpleDateFormat(\"EEE, d MMM yyyy H:m:s z\");\nDate myDate = myDateFormat.parse(inputString);\n\nCalendar myCalendar = Calendar.getInstance();\nmyCalendar.setTime(myDate);\n\nString outputDate = myCalendar.get(Calendar.DAY_OF_MONTH) + \" \" + \n                    myCalendar.get(Calendar.MONTH) + \" \" +\n                    myCalendar.get(Calendar.YEAR);\n</code></pre>\n\n<p>Might be a little bit lengthy to write, but at least you end up with a <code>Calendar</code> that can easily give you any field you want (if, for example, you want to perform some processing using one of the field values). It can also be used for calculations, or many other purposes. It really depends on what you want to do with the date after you have it.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1337087994,"creation_date":1337087384,"answer_id":10601392,"question_id":10601321,"body_markdown":"The proper way to do it is to parse it into a `Date` object and format this date object the way you want.\r\n\r\n    \r\n    DateFormat inputDF  = new SimpleDateFormat(&quot;EEE, d MMM yyyy H:m:s z&quot;);\r\n    DateFormat outputDF = new SimpleDateFormat(&quot;d MMM yyyy&quot;);\r\n    \r\n    String input = &quot;Mon, 14 May 2012 13:56:38 GMT&quot;;\r\n    Date date = inputDF.parse(input);\r\n    String output = outputDF.format(date);\r\n    \r\n    System.out.println(output);\r\n\r\n**Output:**\r\n\r\n    14 May 2012\r\n\r\nThis code is\r\n\r\n- easier to maintain (what if the output format changes slightly, while the input format is preserved? or vice versa?)\r\n- arguably easier to read\r\n\r\nthan any solution relying on splitting strings, substrings on fixed indexes or regular expressions.","title":"How to get Date part from given String?","body":"<p>The proper way to do it is to parse it into a <code>Date</code> object and format this date object the way you want.</p>\n\n<pre><code>DateFormat inputDF  = new SimpleDateFormat(\"EEE, d MMM yyyy H:m:s z\");\nDateFormat outputDF = new SimpleDateFormat(\"d MMM yyyy\");\n\nString input = \"Mon, 14 May 2012 13:56:38 GMT\";\nDate date = inputDF.parse(input);\nString output = outputDF.format(date);\n\nSystem.out.println(output);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>14 May 2012\n</code></pre>\n\n<p>This code is</p>\n\n<ul>\n<li>easier to maintain (what if the output format changes slightly, while the input format is preserved? or vice versa?)</li>\n<li>arguably easier to read</li>\n</ul>\n\n<p>than any solution relying on splitting strings, substrings on fixed indexes or regular expressions.</p>\n"},{"tags":[],"owner":{"account_id":1483471,"reputation":72,"user_id":1392248,"display_name":"JahN EstaCado"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1337088935,"creation_date":1337087739,"answer_id":10601522,"question_id":10601321,"body_markdown":"You can use this:\r\n\r\n    String st = &quot;Mon, 14 May 2012 13:56:38 GMT&quot;;\r\n    \r\n    for(int i=0;i&lt;=st.length();i++){\r\n\t\r\n\t  if (st.charAt(i)==&#39;:&#39;) {\r\n      \r\n      index=i;\r\n      index=index-2;\r\n       break;\r\n      }\r\n\t\r\n\t\r\n    }\r\n    \r\n    String onlyDate=st.substring(4,index).trim();","title":"How to get Date part from given String?","body":"<p>You can use this:</p>\n\n<pre><code>String st = \"Mon, 14 May 2012 13:56:38 GMT\";\n\nfor(int i=0;i&lt;=st.length();i++){\n\n  if (st.charAt(i)==':') {\n\n  index=i;\n  index=index-2;\n   break;\n  }\n\n\n}\n\nString onlyDate=st.substring(4,index).trim();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672256588,"creation_date":1672256588,"answer_id":74944375,"question_id":10601321,"body_markdown":"java.time\r\n--\r\n\r\nThe [accepted answer](https://stackoverflow.com/a/10601392/10819573) uses `SimpleDateFormat` which was the correct thing to do in 2012. In Mar 2014, the `java.util` date-time API and their formatting API, `SimpleDateFormat` were supplanted by the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html). Since then, it is highly recommended to stop using the legacy date-time API.\r\n\r\n**Solution using the modern date-time API**:\r\n\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            String stdDateTime = &quot;Mon, 14 May 2012 13:56:38 GMT&quot;;\r\n            ZonedDateTime zdt = ZonedDateTime.parse(stdDateTime, DateTimeFormatter.RFC_1123_DATE_TIME);\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd MMM uuuu&quot;, Locale.ENGLISH);\r\n            String strDate = zdt.format(formatter);\r\n            System.out.println(strDate);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    14 May 2012\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/I0D2DH)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How to get Date part from given String?","body":"<h2>java.time</h2>\n<p>The <a href=\"https://stackoverflow.com/a/10601392/10819573\">accepted answer</a> uses <code>SimpleDateFormat</code> which was the correct thing to do in 2012. In Mar 2014, the <code>java.util</code> date-time API and their formatting API, <code>SimpleDateFormat</code> were supplanted by the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>. Since then, it is highly recommended to stop using the legacy date-time API.</p>\n<p><strong>Solution using the modern date-time API</strong>:</p>\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\nclass Main {\n    public static void main(String[] args) {\n        String stdDateTime = &quot;Mon, 14 May 2012 13:56:38 GMT&quot;;\n        ZonedDateTime zdt = ZonedDateTime.parse(stdDateTime, DateTimeFormatter.RFC_1123_DATE_TIME);\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd MMM uuuu&quot;, Locale.ENGLISH);\n        String strDate = zdt.format(formatter);\n        System.out.println(strDate);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>14 May 2012\n</code></pre>\n<p><a href=\"https://ideone.com/I0D2DH\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":1267971,"reputation":255,"user_id":1224843,"accept_rate":36,"display_name":"Neha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5168,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":10601392,"answer_count":4,"score":4,"last_activity_date":1672256588,"creation_date":1337087145,"question_id":10601321,"body_markdown":"I have string like this: \r\n\r\n`Mon, 14 May 2012 13:56:38 GMT`\r\n\r\nNow I just want only date i.e. `14 May 2012`\r\n\r\nWhat should I need to do for that?","title":"How to get Date part from given String?","body":"<p>I have string like this: </p>\n\n<p><code>Mon, 14 May 2012 13:56:38 GMT</code></p>\n\n<p>Now I just want only date i.e. <code>14 May 2012</code></p>\n\n<p>What should I need to do for that?</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-starter"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672256091,"creation_date":1672256091,"answer_id":74944306,"question_id":74943787,"body_markdown":"You&#39;ve written your project to be a Spring Boot application. Spring Boot starters shouldn&#39;t be applications though, they should be simple JAR files like any other library, plus perhaps some configuration files like `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports` (which has replaced `META-INF/spring.factories` in Spring Boot 2.7).\r\n\r\nYou probably only need to remove the Spring Boot plugin from your project, and the result will no longer contain a `BOOT-INF` folder or the Spring Boot specific stuff, just your classes and resources (which may include `META-INF/spring.factories` of course).","title":"Can&#39;t use annotation from spring boot starter","body":"<p>You've written your project to be a Spring Boot application. Spring Boot starters shouldn't be applications though, they should be simple JAR files like any other library, plus perhaps some configuration files like <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> (which has replaced <code>META-INF/spring.factories</code> in Spring Boot 2.7).</p>\n<p>You probably only need to remove the Spring Boot plugin from your project, and the result will no longer contain a <code>BOOT-INF</code> folder or the Spring Boot specific stuff, just your classes and resources (which may include <code>META-INF/spring.factories</code> of course).</p>\n"}],"owner":{"account_id":19620770,"reputation":25,"user_id":16595083,"display_name":"iamzexy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74944306,"answer_count":1,"score":0,"last_activity_date":1672256091,"creation_date":1672252179,"question_id":74943787,"body_markdown":"I&#39;ve made a spring boot starter with annotation class, bean post processor and config class. After mvn install I add this starter as a dependency to another project. Starter appears in external libs and IntelliJ can even autocomplete my custom annotation name, but it can&#39;t import it. As from I read, the problem is that you can&#39;t access classes from BOOT-INF package of a jar, but I don&#39;t understand how can you write a starter then.\r\n[![Configuration class](https://i.stack.imgur.com/Py8qL.png)](https://i.stack.imgur.com/Py8qL.png)\r\n\r\n[![pom.xml](https://i.stack.imgur.com/PLQPF.png)](https://i.stack.imgur.com/PLQPF.png)\r\n\r\n[![starter jar structure](https://i.stack.imgur.com/tvLvm.png)](https://i.stack.imgur.com/tvLvm.png)","title":"Can&#39;t use annotation from spring boot starter","body":"<p>I've made a spring boot starter with annotation class, bean post processor and config class. After mvn install I add this starter as a dependency to another project. Starter appears in external libs and IntelliJ can even autocomplete my custom annotation name, but it can't import it. As from I read, the problem is that you can't access classes from BOOT-INF package of a jar, but I don't understand how can you write a starter then.\n<a href=\"https://i.stack.imgur.com/Py8qL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Py8qL.png\" alt=\"Configuration class\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/PLQPF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PLQPF.png\" alt=\"pom.xml\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tvLvm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tvLvm.png\" alt=\"starter jar structure\" /></a></p>\n"},{"tags":["java","xml","doc","xmlunit"],"answers":[{"comments":[{"owner":{"account_id":4777108,"reputation":89,"user_id":3859913,"display_name":"Oasis001"},"score":0,"creation_date":1644831290,"post_id":71109302,"comment_id":125700950,"body_markdown":"The problem is the xpath I supply is not the same. It could vary each time","body":"The problem is the xpath I supply is not the same. It could vary each time"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1644832237,"post_id":71109302,"comment_id":125701268,"body_markdown":"You might get more informative answers if you asked more informative questions.","body":"You might get more informative answers if you asked more informative questions."},{"owner":{"account_id":4777108,"reputation":89,"user_id":3859913,"display_name":"Oasis001"},"score":0,"creation_date":1644834435,"post_id":71109302,"comment_id":125702070,"body_markdown":"Sorry, I should&#39;ve. Done now.","body":"Sorry, I should&#39;ve. Done now."},{"owner":{"account_id":4777108,"reputation":89,"user_id":3859913,"display_name":"Oasis001"},"score":0,"creation_date":1645189067,"post_id":71109302,"comment_id":125811178,"body_markdown":"Is there anyway, I can just search the element, remove it and then save the updated xml as a new document or even save it to the original one? From there, I am able to do the comparison","body":"Is there anyway, I can just search the element, remove it and then save the updated xml as a new document or even save it to the original one? From there, I am able to do the comparison"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1645195203,"post_id":71109302,"comment_id":125813548,"body_markdown":"I suggested three ways of doing that: XQuery update, xmlstarlet, or Gizmo. If you are having trouble using any of these tools, please raise a new question -- SO doesn&#39;t work well if you try to ask supplementary questions on the original thread.","body":"I suggested three ways of doing that: XQuery update, xmlstarlet, or Gizmo. If you are having trouble using any of these tools, please raise a new question -- SO doesn&#39;t work well if you try to ask supplementary questions on the original thread."}],"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672255770,"creation_date":1644829238,"answer_id":71109302,"question_id":71105858,"body_markdown":"You need to transform both files into a form where they compare equal, by removing the elements you want to ignore. You would typically do this using XSLT. After the transformation you could either compare the results using the XPath 2.0 function deep-equal(), or serialise both documents as canonical XML and compare the files at the character or binary level.\r\n\r\nI would do this by running XQuery Update to delete the nodes selected by the path expression, and then comparing the resulting documents either using fn:deep-equal(), or by doing canonical serialization and comparing the resulting lexical forms.\r\n\r\nAs an alternative to XQuery Update you could use xmlstarlet or Saxon&#39;s Gizmo tool.\r\n\r\nBut it might depend on what you want from the comparison. The above is fine if you want a yes/no answer, but getting details of the differences is more difficult. You could write your own query to find the differences, or use a tool such as DeltaXML.\r\n\r\n**NOTE:** This answer has been subsequently edited by a third party in a way that makes nonsense of the comment thread. Please ignore the comments.","title":"Compare two xml files ignoring certain elements using XPath in Java","body":"<p>You need to transform both files into a form where they compare equal, by removing the elements you want to ignore. You would typically do this using XSLT. After the transformation you could either compare the results using the XPath 2.0 function deep-equal(), or serialise both documents as canonical XML and compare the files at the character or binary level.</p>\n<p>I would do this by running XQuery Update to delete the nodes selected by the path expression, and then comparing the resulting documents either using fn:deep-equal(), or by doing canonical serialization and comparing the resulting lexical forms.</p>\n<p>As an alternative to XQuery Update you could use xmlstarlet or Saxon's Gizmo tool.</p>\n<p>But it might depend on what you want from the comparison. The above is fine if you want a yes/no answer, but getting details of the differences is more difficult. You could write your own query to find the differences, or use a tool such as DeltaXML.</p>\n<p><strong>NOTE:</strong> This answer has been subsequently edited by a third party in a way that makes nonsense of the comment thread. Please ignore the comments.</p>\n"},{"tags":[],"owner":{"account_id":17098868,"reputation":26,"user_id":12684864,"display_name":"Artem Boiarshinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672245181,"creation_date":1647077076,"answer_id":71448478,"question_id":71105858,"body_markdown":"If you are using XmlUnit then you can define a filter for nodes:\r\n\r\n```java\r\nDiff myDiff = DiffBuilder.compare(controlXml)\r\n    .withTest(testXml)\r\n    // Ignore all nodes with &#39;Date&#39; name\r\n    .withNodeFilter(node -&gt; !&quot;Date&quot;.equals(node.getNodeName()))\r\n    .build();\r\n```\r\n","title":"Compare two xml files ignoring certain elements using XPath in Java","body":"<p>If you are using XmlUnit then you can define a filter for nodes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Diff myDiff = DiffBuilder.compare(controlXml)\n    .withTest(testXml)\n    // Ignore all nodes with 'Date' name\n    .withNodeFilter(node -&gt; !&quot;Date&quot;.equals(node.getNodeName()))\n    .build();\n</code></pre>\n"}],"owner":{"account_id":4777108,"reputation":89,"user_id":3859913,"display_name":"Oasis001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1087,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71109302,"answer_count":2,"score":0,"last_activity_date":1672255770,"creation_date":1644796051,"question_id":71105858,"body_markdown":"How can I compare two XML files, ignoring certain elements using [\r\nXPath][1]?\r\n\r\nFor example, I need to compare the below two XML files, but I need to ignore &#39;Date&#39; element, by passing the Xpath(//Set\\[1\\]/Product\\[\\1\\]/Date) of this element during the run. The element to ignore could vary each time.\r\n\r\nXML file 1:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;Set\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns=&quot;urn:abc:product:v3&quot; xsi:schemaLocation=&quot;urn:abc:product:v3 abc.xsd&quot;&gt;\r\n        &lt;Product&gt;\r\n            &lt;id&gt;1&lt;/id&gt;\r\n            &lt;ref&gt;1&lt;/ref&gt;\r\n            &lt;Date&gt;2021-09-19&lt;/Date&gt;\r\n            &lt;company&gt;JJ&lt;/company&gt;\r\n            &lt;lastModified&gt;2021-09-20T21:00:30&lt;/lastModified&gt;\r\n            &lt;productOne&gt;\r\n                &lt;partProduct&gt;\r\n                    &lt;Level&gt;3.0&lt;/Level&gt;\r\n                    &lt;Flag&gt;0&lt;/Flag&gt;\r\n                    &lt;Code&gt;EN&lt;/Code&gt;\r\n                &lt;/partProduct&gt;\r\n            &lt;/productOne&gt;\r\n        &lt;/Product&gt;\r\n    &lt;/Set&gt;\r\n\r\nXML file 2:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;Set\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns=&quot;urn:abc:product:v3&quot; xsi:schemaLocation=&quot;urn:abc:product:v3 abc.xsd&quot;&gt;\r\n        &lt;Product&gt;\r\n            &lt;id&gt;2&lt;/id&gt;\r\n            &lt;ref&gt;2&lt;/ref&gt;\r\n            &lt;Date&gt;2021-09-20&lt;/Date&gt;\r\n            &lt;company&gt;JJ&lt;/company&gt;\r\n            &lt;lastModified&gt;2021-09-20T21:00:30&lt;/lastModified&gt;\r\n            &lt;productOne&gt;\r\n                &lt;partProduct&gt;\r\n                    &lt;Level&gt;3.0&lt;/Level&gt;\r\n                    &lt;Flag&gt;0&lt;/Flag&gt;\r\n                    &lt;Code&gt;EN&lt;/Code&gt;\r\n                &lt;/partProduct&gt;\r\n            &lt;/productOne&gt;\r\n        &lt;/Product&gt;\r\n    &lt;/Set&gt;\r\n\r\n  [1]: https://en.wikipedia.org/wiki/XPath\r\n\r\n\r\n","title":"Compare two xml files ignoring certain elements using XPath in Java","body":"<p>How can I compare two XML files, ignoring certain elements using <a href=\"https://en.wikipedia.org/wiki/XPath\" rel=\"nofollow noreferrer\">\nXPath</a>?</p>\n<p>For example, I need to compare the below two XML files, but I need to ignore 'Date' element, by passing the Xpath(//Set[1]/Product[\\1]/Date) of this element during the run. The element to ignore could vary each time.</p>\n<p>XML file 1:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;Set\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;urn:abc:product:v3&quot; xsi:schemaLocation=&quot;urn:abc:product:v3 abc.xsd&quot;&gt;\n    &lt;Product&gt;\n        &lt;id&gt;1&lt;/id&gt;\n        &lt;ref&gt;1&lt;/ref&gt;\n        &lt;Date&gt;2021-09-19&lt;/Date&gt;\n        &lt;company&gt;JJ&lt;/company&gt;\n        &lt;lastModified&gt;2021-09-20T21:00:30&lt;/lastModified&gt;\n        &lt;productOne&gt;\n            &lt;partProduct&gt;\n                &lt;Level&gt;3.0&lt;/Level&gt;\n                &lt;Flag&gt;0&lt;/Flag&gt;\n                &lt;Code&gt;EN&lt;/Code&gt;\n            &lt;/partProduct&gt;\n        &lt;/productOne&gt;\n    &lt;/Product&gt;\n&lt;/Set&gt;\n</code></pre>\n<p>XML file 2:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;Set\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;urn:abc:product:v3&quot; xsi:schemaLocation=&quot;urn:abc:product:v3 abc.xsd&quot;&gt;\n    &lt;Product&gt;\n        &lt;id&gt;2&lt;/id&gt;\n        &lt;ref&gt;2&lt;/ref&gt;\n        &lt;Date&gt;2021-09-20&lt;/Date&gt;\n        &lt;company&gt;JJ&lt;/company&gt;\n        &lt;lastModified&gt;2021-09-20T21:00:30&lt;/lastModified&gt;\n        &lt;productOne&gt;\n            &lt;partProduct&gt;\n                &lt;Level&gt;3.0&lt;/Level&gt;\n                &lt;Flag&gt;0&lt;/Flag&gt;\n                &lt;Code&gt;EN&lt;/Code&gt;\n            &lt;/partProduct&gt;\n        &lt;/productOne&gt;\n    &lt;/Product&gt;\n&lt;/Set&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","maven","lombok"],"comments":[{"owner":{"account_id":6667055,"reputation":723,"user_id":7373144,"accept_rate":67,"display_name":"bradley101"},"score":0,"creation_date":1639637329,"post_id":70374885,"comment_id":124400983,"body_markdown":"You need to add `@Data` annotation on top of the class. https://objectcomputing.com/resources/publications/sett/january-2010-reducing-boilerplate-code-with-project-lombok","body":"You need to add <code>@Data</code> annotation on top of the class. <a href=\"https://objectcomputing.com/resources/publications/sett/january-2010-reducing-boilerplate-code-with-project-lombok\" rel=\"nofollow noreferrer\">objectcomputing.com/resources/publications/sett/&hellip;</a>"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1639637916,"post_id":70374885,"comment_id":124401095,"body_markdown":"your import wrong? `import lombok.Getter; import lombok.Setter;`","body":"your import wrong? <code>import lombok.Getter; import lombok.Setter;</code>"},{"owner":{"account_id":20068186,"reputation":69,"user_id":14713486,"display_name":"Ryuu"},"score":0,"creation_date":1639638046,"post_id":70374885,"comment_id":124401126,"body_markdown":"@ping.shantanu thanks for the comment. Aren&#39;t you just specifying a class level data annotation? It doesnt say anywhere that I have to add data. All the doc is stating is that Data is an annotation that includes all the characteristics of Getter, Setter ,ToString etc.","body":"@ping.shantanu thanks for the comment. Aren&#39;t you just specifying a class level data annotation? It doesnt say anywhere that I have to add data. All the doc is stating is that Data is an annotation that includes all the characteristics of Getter, Setter ,ToString etc."},{"owner":{"account_id":20068186,"reputation":69,"user_id":14713486,"display_name":"Ryuu"},"score":0,"creation_date":1639638120,"post_id":70374885,"comment_id":124401139,"body_markdown":"@user7294900, sorry I forgot to add the setter import in the question.","body":"@user7294900, sorry I forgot to add the setter import in the question."},{"owner":{"account_id":15102016,"reputation":311,"user_id":10898724,"display_name":"Dan_Maff"},"score":0,"creation_date":1639638339,"post_id":70374885,"comment_id":124401196,"body_markdown":"How do you compile your class? If you see the NoSuchMethodError your IDE, did you install Lombok for your IDE?","body":"How do you compile your class? If you see the NoSuchMethodError your IDE, did you install Lombok for your IDE?"},{"owner":{"account_id":20068186,"reputation":69,"user_id":14713486,"display_name":"Ryuu"},"score":0,"creation_date":1639638521,"post_id":70374885,"comment_id":124401241,"body_markdown":"@Dan_Maff Im running the code on eclipse. It doesnt say &quot;NoSuchMethodError&quot;, juts says The method is undefined for the type Student.","body":"@Dan_Maff Im running the code on eclipse. It doesnt say &quot;NoSuchMethodError&quot;, juts says The method is undefined for the type Student."},{"owner":{"account_id":15102016,"reputation":311,"user_id":10898724,"display_name":"Dan_Maff"},"score":1,"creation_date":1639638646,"post_id":70374885,"comment_id":124401267,"body_markdown":"Lombok setup for Eclipse:\nhttps://projectlombok.org/setup/eclipse","body":"Lombok setup for Eclipse: <a href=\"https://projectlombok.org/setup/eclipse\" rel=\"nofollow noreferrer\">projectlombok.org/setup/eclipse</a>"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1639638077,"post_id":70374934,"comment_id":124401131,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70374934/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15684275,"reputation":89,"user_id":11317418,"display_name":"hansika"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1639637371,"creation_date":1639637371,"answer_id":70374934,"question_id":70374885,"body_markdown":"try like this   \r\n\r\n    @Getter\r\n     @Setter\r\n    public class Student {\r\n       \r\n        private String firstName;\r\n        \r\n        private String lastName;\r\n        \r\n        public Student(String firstName, String lastName) {\r\n        \r\n            this.setFirstName(firstName); \r\n            this.setLastName(lastName);  \r\n        }\r\n    }","title":"Lombok not generating getter and setter?","body":"<p>try like this</p>\n<pre><code>@Getter\n @Setter\npublic class Student {\n   \n    private String firstName;\n    \n    private String lastName;\n    \n    public Student(String firstName, String lastName) {\n    \n        this.setFirstName(firstName); \n        this.setLastName(lastName);  \n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20068186,"reputation":69,"user_id":14713486,"display_name":"Ryuu"},"score":0,"creation_date":1639639274,"post_id":70375112,"comment_id":124401417,"body_markdown":"Lombok plugin was in fact, not installed in my IDE. \nI assumed it was installed case it wasn`t saying any errors on the import. \n\nThanks @Clint Magnus and @Dan_Maff\n\nMy apologies friends.","body":"Lombok plugin was in fact, not installed in my IDE.  I assumed it was installed case it wasn`t saying any errors on the import.   Thanks @Clint Magnus and @Dan_Maff  My apologies friends."},{"owner":{"account_id":12546089,"reputation":327,"user_id":9129342,"display_name":"paul035"},"score":0,"creation_date":1700414380,"post_id":70375112,"comment_id":136648701,"body_markdown":"To learn how to resolve Lambok not generating getters and setters, please refer to https://paulsofts.com/lombok-is-not-generating-getters-and-setter/","body":"To learn how to resolve Lambok not generating getters and setters, please refer to <a href=\"https://paulsofts.com/lombok-is-not-generating-getters-and-setter/\" rel=\"nofollow noreferrer\">paulsofts.com/lombok-is-not-generating-getters-and-setter</a>"}],"tags":[],"owner":{"account_id":16076381,"reputation":56,"user_id":11603508,"display_name":"Clint Magnus"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639638542,"creation_date":1639638542,"answer_id":70375112,"question_id":70374885,"body_markdown":"Your code sould work as this,\r\nDid you install lombok&#39;s plugin on your EDI ? ","title":"Lombok not generating getter and setter?","body":"<p>Your code sould work as this,\nDid you install lombok's plugin on your EDI ?</p>\n"},{"comments":[{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1639646624,"post_id":70375122,"comment_id":124403860,"body_markdown":"this does not answer the question. It just repeats the problem with other annotation used.","body":"this does not answer the question. It just repeats the problem with other annotation used."}],"tags":[],"owner":{"account_id":15008191,"reputation":608,"user_id":10833496,"display_name":"Power_tile"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639638603,"creation_date":1639638603,"answer_id":70375122,"question_id":70374885,"body_markdown":"Another easy way is to use the `@Data` annotation, which generates getters and setters for every property in your class.\r\n\r\n```java\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Student {\r\n    private String firstName;\r\n    private String lastName;\r\n    \r\n    public Student(String firstName, String lastName) {\r\n        super();\r\n        this.setFirstName(firstName);\r\n        this.setLastName(lastName);\r\n    }\r\n}\r\n```\r\n\r\nQuick note: importing something doesn&#39;t use it. It simply tells the program something *may* be used. If you are using a modern Java IDE (VSCode or IntelliJ), classes, annotations, etc. will be automatically imported as you use them.","title":"Lombok not generating getter and setter?","body":"<p>Another easy way is to use the <code>@Data</code> annotation, which generates getters and setters for every property in your class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Data;\n\n@Data\npublic class Student {\n    private String firstName;\n    private String lastName;\n    \n    public Student(String firstName, String lastName) {\n        super();\n        this.setFirstName(firstName);\n        this.setLastName(lastName);\n    }\n}\n</code></pre>\n<p>Quick note: importing something doesn't use it. It simply tells the program something <em>may</em> be used. If you are using a modern Java IDE (VSCode or IntelliJ), classes, annotations, etc. will be automatically imported as you use them.</p>\n"},{"tags":[],"owner":{"account_id":20068186,"reputation":69,"user_id":14713486,"display_name":"Ryuu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639639333,"creation_date":1639639333,"answer_id":70375223,"question_id":70374885,"body_markdown":"Lombok was not installed in my IDE.\r\n\r\nInstalling it fixed the problem.","title":"Lombok not generating getter and setter?","body":"<p>Lombok was not installed in my IDE.</p>\n<p>Installing it fixed the problem.</p>\n"},{"tags":[],"owner":{"account_id":6570594,"reputation":5006,"user_id":5078763,"accept_rate":74,"display_name":"Sujay U N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672255531,"creation_date":1672255531,"answer_id":74944232,"question_id":70374885,"body_markdown":"|*| Enable Annotation Processing :\r\n\r\n|*&gt; @Data from Lombok to work\r\n\r\n|+&gt; In top bar Click on &quot;Project\r\n\r\n|+&gt; Click on &quot;Properties&quot;\r\n\r\n|+&gt; In Left Menu Bar -&gt; Goto &quot;Maven&quot;\r\n\r\n|+&gt; Select &quot;Annotation Processing&quot;\r\n\r\n|+&gt; [O] Checkmark &quot;Enable project specific settings&quot;\r\n\r\n|+&gt; Click on &quot;Apply&quot;","title":"Lombok not generating getter and setter?","body":"<p>|*| Enable Annotation Processing :</p>\n<p>|*&gt; @Data from Lombok to work</p>\n<p>|+&gt; In top bar Click on &quot;Project</p>\n<p>|+&gt; Click on &quot;Properties&quot;</p>\n<p>|+&gt; In Left Menu Bar -&gt; Goto &quot;Maven&quot;</p>\n<p>|+&gt; Select &quot;Annotation Processing&quot;</p>\n<p>|+&gt; [O] Checkmark &quot;Enable project specific settings&quot;</p>\n<p>|+&gt; Click on &quot;Apply&quot;</p>\n"}],"owner":{"account_id":20068186,"reputation":69,"user_id":14713486,"display_name":"Ryuu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6085,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70375112,"answer_count":5,"score":1,"last_activity_date":1672255531,"creation_date":1639637048,"question_id":70374885,"body_markdown":"First time using lombok, and if I&#39;m understanding it correctly, lomboks getter and setter annotations generates setter and getter methods without having to code it, but for some reason I&#39;m getting an &quot;undefined method&quot; error whenever I try to call a getter/setter method.\r\n\r\nWhat&#39;s wrong here?\r\n\r\n```\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\npublic class Student {\r\n\t@Getter @Setter\r\n\tprivate String firstName;\r\n\t@Getter @Setter\r\n\tprivate String lastName;\r\n\t\r\n\tpublic Student(String firstName, String lastName) {\r\n\t\tsuper();\r\n\t\tthis.setFirstName(firstName); // method undefined error here\r\n\t\tthis.setLastName(lastName);   // method undefined error here\r\n\t}\r\n}\r\n```","title":"Lombok not generating getter and setter?","body":"<p>First time using lombok, and if I'm understanding it correctly, lomboks getter and setter annotations generates setter and getter methods without having to code it, but for some reason I'm getting an &quot;undefined method&quot; error whenever I try to call a getter/setter method.</p>\n<p>What's wrong here?</p>\n<pre><code>import lombok.Getter;\nimport lombok.Setter;\n\npublic class Student {\n    @Getter @Setter\n    private String firstName;\n    @Getter @Setter\n    private String lastName;\n    \n    public Student(String firstName, String lastName) {\n        super();\n        this.setFirstName(firstName); // method undefined error here\n        this.setLastName(lastName);   // method undefined error here\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","xml-parsing"],"answers":[{"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1672254545,"post_id":74943163,"comment_id":132253474,"body_markdown":"You don&#39;t need to write any XSLT code to achieve an identity transformation. Just use `Transformer transformer = transformerFactory.newTransformer()`. Also, the `cdata-section-elements` seems to be a leftover from a different problem.","body":"You don&#39;t need to write any XSLT code to achieve an identity transformation. Just use <code>Transformer transformer = transformerFactory.newTransformer()</code>. Also, the <code>cdata-section-elements</code> seems to be a leftover from a different problem."},{"owner":{"account_id":10961971,"reputation":5525,"user_id":8054998,"display_name":"Bench Vue"},"score":0,"creation_date":1672255411,"post_id":74943163,"comment_id":132253692,"body_markdown":"If use as you mentioned it, it makes an extra empty line in every line. https://stackoverflow.com/questions/58478632/how-to-avoid-extra-blank-lines-in-xml-generation-with-java","body":"If use as you mentioned it, it makes an extra empty line in every line. <a href=\"https://stackoverflow.com/questions/58478632/how-to-avoid-extra-blank-lines-in-xml-generation-with-java\" title=\"how to avoid extra blank lines in xml generation with java\">stackoverflow.com/questions/58478632/&hellip;</a>"}],"tags":[],"owner":{"account_id":10961971,"reputation":5525,"user_id":8054998,"display_name":"Bench Vue"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672255524,"creation_date":1672247888,"answer_id":74943163,"question_id":74941531,"body_markdown":"It can assign by setTextContent() of Node of DOM in `org.w3c.dom.Node`\r\n\r\n```\r\nnode.setTextContent(&quot;un-publish&quot;);\r\n```\r\n\r\nDemo Code as `Modify.java` file.\r\n\r\n```java\r\nimport org.w3c.dom.*;\r\nimport org.xml.sax.SAXException;\r\n\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.parsers.ParserConfigurationException;\r\nimport javax.xml.transform.OutputKeys;\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerException;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.stream.StreamResult;\r\nimport javax.xml.transform.stream.StreamSource;\r\nimport java.io.*;\r\n\r\npublic class Modify {\r\n    private static final String FILENAME = &quot;./before.xml&quot;;\r\n    private static final String FORMAT_XSLT = &quot;./before-format.xslt&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n        dbf.setNamespaceAware(true);\r\n        try (InputStream is = new FileInputStream(FILENAME)) {\r\n            DocumentBuilder db = dbf.newDocumentBuilder();\r\n            Document doc = db.parse(is);\r\n            System.out.println(&quot;-------------- Before ----------------&quot;);\r\n            writeXml(doc, System.out);\r\n\r\n            NodeList listOfState = doc.getElementsByTagName(&quot;vaext:state&quot;);\r\n            Node state = listOfState.item(0);\r\n            if (state.getNodeType() == Node.ELEMENT_NODE) {\r\n                String name = state.getAttributes().getNamedItem(&quot;name&quot;).getTextContent();\r\n                if (&quot;published&quot;.equals(name.trim())) {\r\n                    state.getAttributes().getNamedItem(&quot;name&quot;).setTextContent(&quot;ready&quot;);\r\n                    state.setTextContent(&quot;un-publish&quot;);\r\n                }\r\n                String href = state.getAttributes().getNamedItem(&quot;href&quot;).getTextContent();\r\n                // http://test.com/escenic/content/state/workflow/online_staging/published?role=journalist&amp;role=editor&amp;role=administrator&amp;role=useradmin&amp;role=reader&amp;role=editeur_n1&amp;role=publicite\r\n                // System.out.println(href);\r\n                String target = &quot;http://test.comt/content/state/workflow/online_staging/published?role=editor&quot;;\r\n                state.getAttributes().getNamedItem(&quot;href&quot;).setTextContent(target);\r\n            }\r\n            // output to console\r\n            System.out.println(&quot;-------------- After ----------------&quot;);\r\n            writeXml(doc, System.out);\r\n        } catch (ParserConfigurationException | SAXException\r\n                | IOException | TransformerException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // write doc to output stream\r\n    private static void writeXml(Document doc,\r\n            OutputStream output)\r\n            throws TransformerException, UnsupportedEncodingException {\r\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n        // The default add many empty new line, not sure why?\r\n        // https://stackoverflow.com/questions/58478632/how-to-avoid-extra-blank-lines-in-xml-generation-with-java\r\n        // https://mkyong.com/java/pretty-print-xml-with-java-dom-and-xslt/\r\n        // Transformer transformer = transformerFactory.newTransformer();\r\n        // add a xslt to remove the extra newlines\r\n        Transformer transformer = transformerFactory.newTransformer(\r\n                new StreamSource(new File(FORMAT_XSLT)));\r\n        // pretty print\r\n        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n        transformer.setOutputProperty(OutputKeys.STANDALONE, &quot;no&quot;);\r\n\r\n        DOMSource source = new DOMSource(doc);\r\n        StreamResult result = new StreamResult(output);\r\n        transformer.transform(source, result);\r\n    }\r\n}\r\n```\r\n\r\nInput XML as `before.xml`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:app=&quot;http://www.w3.org/TR/html4/&quot;&gt;\r\n    &lt;app:control xmlns:vaext=&quot;http://www.vizrt.com/atom-ext&quot;&gt;\r\n        &lt;app:draft&gt;no&lt;/app:draft&gt;\r\n        &lt;vaext:state name=&quot;published&quot; href=&quot;http://test.com/escenic/content/state/workflow/online_staging/published?role=journalist&amp;amp;role=editor&amp;amp;role=administrator&amp;amp;role=useradmin&amp;amp;role=reader&amp;amp;role=editeur_n1&amp;amp;role=publicite&quot;&gt;&lt;/vaext:state&gt;\r\n    &lt;/app:control&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\nXSLT file as `before-format.xslt` name.\r\n```\r\n&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    &lt;xsl:output indent=&quot;yes&quot; cdata-section-elements=&quot;address bio&quot;/&gt;\r\n    &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\r\n    &lt;xsl:template match=&quot;@*|node()&quot;&gt;\r\n        &lt;xsl:copy&gt;\r\n            &lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\r\n        &lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\nCompile &amp; Run it\r\n```\r\n$ javac Modify.java\r\n$ java Modify\r\n-------------- Before ----------------\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:app=&quot;http://www.w3.org/TR/html4/&quot;&gt;\r\n    &lt;app:control xmlns:vaext=&quot;http://www.vizrt.com/atom-ext&quot;&gt;\r\n        &lt;app:draft&gt;no&lt;/app:draft&gt;\r\n        &lt;vaext:state href=&quot;http://test.com/escenic/content/state/workflow/online_staging/published?role=journalist&amp;amp;role=editor&amp;amp;role=administrator&amp;amp;role=useradmin&amp;amp;role=reader&amp;amp;role=editeur_n1&amp;amp;role=publicite&quot; name=&quot;published&quot;/&gt;\r\n    &lt;/app:control&gt;\r\n&lt;/xs:schema&gt;\r\n-------------- After ----------------\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:app=&quot;http://www.w3.org/TR/html4/&quot;&gt;\r\n    &lt;app:control xmlns:vaext=&quot;http://www.vizrt.com/atom-ext&quot;&gt;\r\n        &lt;app:draft&gt;no&lt;/app:draft&gt;\r\n        &lt;vaext:state href=&quot;http://test.comt/content/state/workflow/online_staging/published?role=editor&quot; name=&quot;ready&quot;&gt;un-publish&lt;/vaext:state&gt;\r\n    &lt;/app:control&gt;\r\n&lt;/xs:schema&gt;\r\n```","title":"Modify Xml File In Java","body":"<p>It can assign by setTextContent() of Node of DOM in <code>org.w3c.dom.Node</code></p>\n<pre><code>node.setTextContent(&quot;un-publish&quot;);\n</code></pre>\n<p>Demo Code as <code>Modify.java</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.w3c.dom.*;\nimport org.xml.sax.SAXException;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerException;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport javax.xml.transform.stream.StreamSource;\nimport java.io.*;\n\npublic class Modify {\n    private static final String FILENAME = &quot;./before.xml&quot;;\n    private static final String FORMAT_XSLT = &quot;./before-format.xslt&quot;;\n\n    public static void main(String[] args) {\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n        dbf.setNamespaceAware(true);\n        try (InputStream is = new FileInputStream(FILENAME)) {\n            DocumentBuilder db = dbf.newDocumentBuilder();\n            Document doc = db.parse(is);\n            System.out.println(&quot;-------------- Before ----------------&quot;);\n            writeXml(doc, System.out);\n\n            NodeList listOfState = doc.getElementsByTagName(&quot;vaext:state&quot;);\n            Node state = listOfState.item(0);\n            if (state.getNodeType() == Node.ELEMENT_NODE) {\n                String name = state.getAttributes().getNamedItem(&quot;name&quot;).getTextContent();\n                if (&quot;published&quot;.equals(name.trim())) {\n                    state.getAttributes().getNamedItem(&quot;name&quot;).setTextContent(&quot;ready&quot;);\n                    state.setTextContent(&quot;un-publish&quot;);\n                }\n                String href = state.getAttributes().getNamedItem(&quot;href&quot;).getTextContent();\n                // http://test.com/escenic/content/state/workflow/online_staging/published?role=journalist&amp;role=editor&amp;role=administrator&amp;role=useradmin&amp;role=reader&amp;role=editeur_n1&amp;role=publicite\n                // System.out.println(href);\n                String target = &quot;http://test.comt/content/state/workflow/online_staging/published?role=editor&quot;;\n                state.getAttributes().getNamedItem(&quot;href&quot;).setTextContent(target);\n            }\n            // output to console\n            System.out.println(&quot;-------------- After ----------------&quot;);\n            writeXml(doc, System.out);\n        } catch (ParserConfigurationException | SAXException\n                | IOException | TransformerException e) {\n            e.printStackTrace();\n        }\n    }\n\n    // write doc to output stream\n    private static void writeXml(Document doc,\n            OutputStream output)\n            throws TransformerException, UnsupportedEncodingException {\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\n        // The default add many empty new line, not sure why?\n        // https://stackoverflow.com/questions/58478632/how-to-avoid-extra-blank-lines-in-xml-generation-with-java\n        // https://mkyong.com/java/pretty-print-xml-with-java-dom-and-xslt/\n        // Transformer transformer = transformerFactory.newTransformer();\n        // add a xslt to remove the extra newlines\n        Transformer transformer = transformerFactory.newTransformer(\n                new StreamSource(new File(FORMAT_XSLT)));\n        // pretty print\n        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n        transformer.setOutputProperty(OutputKeys.STANDALONE, &quot;no&quot;);\n\n        DOMSource source = new DOMSource(doc);\n        StreamResult result = new StreamResult(output);\n        transformer.transform(source, result);\n    }\n}\n</code></pre>\n<p>Input XML as <code>before.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:app=&quot;http://www.w3.org/TR/html4/&quot;&gt;\n    &lt;app:control xmlns:vaext=&quot;http://www.vizrt.com/atom-ext&quot;&gt;\n        &lt;app:draft&gt;no&lt;/app:draft&gt;\n        &lt;vaext:state name=&quot;published&quot; href=&quot;http://test.com/escenic/content/state/workflow/online_staging/published?role=journalist&amp;amp;role=editor&amp;amp;role=administrator&amp;amp;role=useradmin&amp;amp;role=reader&amp;amp;role=editeur_n1&amp;amp;role=publicite&quot;&gt;&lt;/vaext:state&gt;\n    &lt;/app:control&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>XSLT file as <code>before-format.xslt</code> name.</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n    &lt;xsl:output indent=&quot;yes&quot; cdata-section-elements=&quot;address bio&quot;/&gt;\n    &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\n    &lt;xsl:template match=&quot;@*|node()&quot;&gt;\n        &lt;xsl:copy&gt;\n            &lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\n        &lt;/xsl:copy&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>Compile &amp; Run it</p>\n<pre><code>$ javac Modify.java\n$ java Modify\n-------------- Before ----------------\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:app=&quot;http://www.w3.org/TR/html4/&quot;&gt;\n    &lt;app:control xmlns:vaext=&quot;http://www.vizrt.com/atom-ext&quot;&gt;\n        &lt;app:draft&gt;no&lt;/app:draft&gt;\n        &lt;vaext:state href=&quot;http://test.com/escenic/content/state/workflow/online_staging/published?role=journalist&amp;amp;role=editor&amp;amp;role=administrator&amp;amp;role=useradmin&amp;amp;role=reader&amp;amp;role=editeur_n1&amp;amp;role=publicite&quot; name=&quot;published&quot;/&gt;\n    &lt;/app:control&gt;\n&lt;/xs:schema&gt;\n-------------- After ----------------\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:app=&quot;http://www.w3.org/TR/html4/&quot;&gt;\n    &lt;app:control xmlns:vaext=&quot;http://www.vizrt.com/atom-ext&quot;&gt;\n        &lt;app:draft&gt;no&lt;/app:draft&gt;\n        &lt;vaext:state href=&quot;http://test.comt/content/state/workflow/online_staging/published?role=editor&quot; name=&quot;ready&quot;&gt;un-publish&lt;/vaext:state&gt;\n    &lt;/app:control&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672255446,"creation_date":1672255446,"answer_id":74944219,"question_id":74941531,"body_markdown":"Do the transformation in XSLT:\r\n\r\n    &lt;xsl:stylesheet version=&quot;3.0&quot;\r\n        xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n        xmlns:vaext=&quot;http://www.vizrt.com/atom-ext&quot;&gt;\r\n      &lt;xsl:mode on-no-match=&quot;shallow-copy&quot;/&gt;\r\n\r\n      &lt;xsl:template match=&quot;vaext:state&quot;&gt;\r\n        &lt;vaext:state \r\n          href=&quot;http://test.comt/content/state/workflow/online_staging/published?role=editor&quot; \r\n          name=&quot;ready&quot;&gt;un-publish&lt;/vaext:state&gt;   \r\n      &lt;/xsl:template&gt;\r\n       \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nand invoke it from Java:\r\n\r\n    Processor proc = new Processor(false);\r\n    Xslt30Transformer trans = proc.newXsltCompiler.compile(stylesheet).load30();\r\n    trans.transform(\r\n        new StreamSource(new File(input)), \r\n        proc.newSerializer(new File(output));\r\n\r\nI&#39;ve shown this using XSLT 3.0 and the Saxon API (disclaimer: my company&#39;s product) to save a few lines of code, but this one is well within the capabilities of the XSLT 1.0 processor that comes built in to the JDK.","title":"Modify Xml File In Java","body":"<p>Do the transformation in XSLT:</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;3.0&quot;\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    xmlns:vaext=&quot;http://www.vizrt.com/atom-ext&quot;&gt;\n  &lt;xsl:mode on-no-match=&quot;shallow-copy&quot;/&gt;\n\n  &lt;xsl:template match=&quot;vaext:state&quot;&gt;\n    &lt;vaext:state \n      href=&quot;http://test.comt/content/state/workflow/online_staging/published?role=editor&quot; \n      name=&quot;ready&quot;&gt;un-publish&lt;/vaext:state&gt;   \n  &lt;/xsl:template&gt;\n   \n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>and invoke it from Java:</p>\n<pre><code>Processor proc = new Processor(false);\nXslt30Transformer trans = proc.newXsltCompiler.compile(stylesheet).load30();\ntrans.transform(\n    new StreamSource(new File(input)), \n    proc.newSerializer(new File(output));\n</code></pre>\n<p>I've shown this using XSLT 3.0 and the Saxon API (disclaimer: my company's product) to save a few lines of code, but this one is well within the capabilities of the XSLT 1.0 processor that comes built in to the JDK.</p>\n"}],"owner":{"account_id":26683037,"reputation":25,"user_id":20292757,"display_name":"Maymanaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74943163,"answer_count":2,"score":1,"last_activity_date":1672255524,"creation_date":1672238174,"question_id":74941531,"body_markdown":"I&#39;m new to xml parsing, I just need to modify the content of an xml response\r\n\r\nCurrent xml bloc\r\n&lt;sup&gt;\r\n\r\n```\r\n  &lt;app:control xmlns:vaext=&quot;http://www.vizrt.com/atom-ext&quot;&gt;\r\n        &lt;app:draft&gt;no&lt;/app:draft&gt;\r\n        &lt;vaext:state name=&quot;published&quot; href=&quot;http://test.com/escenic/content/state/workflow/online_staging/published?role=journalist&amp;amp;role=editor&amp;amp;role=administrator&amp;amp;role=useradmin&amp;amp;role=reader&amp;amp;role=editeur_n1&amp;amp;role=publicite&quot;&gt;&lt;/vaext:state&gt;\r\n    &lt;/app:control&gt;\r\n```\r\n&lt;/sup&gt;\r\nI wanted to change it to :\r\n&lt;sub&gt;\r\n\r\n```\r\n&lt;app:control xmlns:vaext=&quot;http://www.vizrt.com/atom-ext&quot;&gt;\r\n    &lt;app:draft&gt;no&lt;/app:draft&gt;\r\n    &lt;vaext:state name=&quot;ready&quot; href=&quot;http://test.comt/content/state/workflow/online_staging/published?role=editor&quot;&gt;un-publish&lt;/vaext:state&gt;\r\n&lt;/app:control&gt;\r\n```\r\n&lt;/sub&gt;\r\n\r\n\r\nCurrently, I can change the attributes &quot;name&quot; and &quot;href&quot; but the problem with the second part ( adding un-publish&lt;/vaext:state&gt; ) \r\n\r\n\r\n&lt;sub&gt;\r\n\r\n```\r\n\t      InputSource src = new InputSource(new StringReader(xmlString));\r\n\t\t\tDocument document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(src);\r\n\t\t\tNode state = document.getElementsByTagName(&quot;state&quot;).item(0);\r\n\t\t\tNode currentstate = state.getAttributes().getNamedItem(&quot;name&quot;);\r\n\t\t\tcurrentstate.setTextContent(&quot;ready&quot;);\r\n\t\t\tNode href = state.getAttributes().getNamedItem(&quot;href&quot;);\r\n                        href.setTextContent( &quot;the new link&quot;);\r\n```\r\n&lt;/sub&gt;","title":"Modify Xml File In Java","body":"<p>I'm new to xml parsing, I just need to modify the content of an xml response</p>\n<p>Current xml bloc\n<sup></p>\n<pre><code>  &lt;app:control xmlns:vaext=&quot;http://www.vizrt.com/atom-ext&quot;&gt;\n        &lt;app:draft&gt;no&lt;/app:draft&gt;\n        &lt;vaext:state name=&quot;published&quot; href=&quot;http://test.com/escenic/content/state/workflow/online_staging/published?role=journalist&amp;amp;role=editor&amp;amp;role=administrator&amp;amp;role=useradmin&amp;amp;role=reader&amp;amp;role=editeur_n1&amp;amp;role=publicite&quot;&gt;&lt;/vaext:state&gt;\n    &lt;/app:control&gt;\n</code></pre>\n</sup>\nI wanted to change it to :\n<sub>\n<pre><code>&lt;app:control xmlns:vaext=&quot;http://www.vizrt.com/atom-ext&quot;&gt;\n    &lt;app:draft&gt;no&lt;/app:draft&gt;\n    &lt;vaext:state name=&quot;ready&quot; href=&quot;http://test.comt/content/state/workflow/online_staging/published?role=editor&quot;&gt;un-publish&lt;/vaext:state&gt;\n&lt;/app:control&gt;\n</code></pre>\n</sub>\n<p>Currently, I can change the attributes &quot;name&quot; and &quot;href&quot; but the problem with the second part ( adding un-publish&lt;/vaext:state&gt; )</p>\n<sub>\n<pre><code>          InputSource src = new InputSource(new StringReader(xmlString));\n            Document document = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(src);\n            Node state = document.getElementsByTagName(&quot;state&quot;).item(0);\n            Node currentstate = state.getAttributes().getNamedItem(&quot;name&quot;);\n            currentstate.setTextContent(&quot;ready&quot;);\n            Node href = state.getAttributes().getNamedItem(&quot;href&quot;);\n                        href.setTextContent( &quot;the new link&quot;);\n</code></pre>\n</sub>\n"},{"tags":["java","mockito","junit5","verify","argument-matcher"],"comments":[{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1666341905,"post_id":74150989,"comment_id":130918966,"body_markdown":"Sorry I think the title is misleading I&#39;ll change it - the method I am verifying is not static, the method I am using as a test helper to check the arg passed (iterator) is a static method","body":"Sorry I think the title is misleading I&#39;ll change it - the method I am verifying is not static, the method I am using as a test helper to check the arg passed (iterator) is a static method"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666348260,"post_id":74150989,"comment_id":130921064,"body_markdown":"Try to clarify a bit the question description please. When exactly does the test fail and when does it pass? What parameters do you pass in both cases and what are the actual code invocations performed?","body":"Try to clarify a bit the question description please. When exactly does the test fail and when does it pass? What parameters do you pass in both cases and what are the actual code invocations performed?"},{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1666376941,"post_id":74150989,"comment_id":130930838,"body_markdown":"I was trying to clarify the 2 cases.\nBut I am not sure why do we care for the actual parameters or code invocations. \nThe other parameters are ok, otherwise, it won&#39;t pass when changing only the last argument to any().","body":"I was trying to clarify the 2 cases. But I am not sure why do we care for the actual parameters or code invocations.  The other parameters are ok, otherwise, it won&#39;t pass when changing only the last argument to any()."}],"answers":[{"comments":[{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1666375843,"post_id":74156353,"comment_id":130930548,"body_markdown":"Thx for the response. I am aware of how to use `ArgumentCaptor`, but prefer using `argThat ` since it is less verbose and more readable in my opinion. I am not looking for alternatives, but want to understand why what I did does not work.\nAbout the `any()` - I understand why it works when using it, just tried to give it as proof that this argument is the one that causing the mismatch in the assertion.","body":"Thx for the response. I am aware of how to use <code>ArgumentCaptor</code>, but prefer using <code>argThat </code> since it is less verbose and more readable in my opinion. I am not looking for alternatives, but want to understand why what I did does not work. About the <code>any()</code> - I understand why it works when using it, just tried to give it as proof that this argument is the one that causing the mismatch in the assertion."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1666378407,"post_id":74156353,"comment_id":130931289,"body_markdown":"Your custom argument captor will only display to you, that it didn&#39;t match, instead of showing you what was not matching. I think it is not the intended use of argThat. And by misusing it, you write more complex tests. I, for example, was looking very long at your code to understand what it is, that you try to accomplish.","body":"Your custom argument captor will only display to you, that it didn&#39;t match, instead of showing you what was not matching. I think it is not the intended use of argThat. And by misusing it, you write more complex tests. I, for example, was looking very long at your code to understand what it is, that you try to accomplish."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1666378495,"post_id":74156353,"comment_id":130931307,"body_markdown":"When you try to minimize verbosity, the test becomes more complex and harder to debug. Consider that code is read 10x more often than written.","body":"When you try to minimize verbosity, the test becomes more complex and harder to debug. Consider that code is read 10x more often than written."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1666379097,"post_id":74156353,"comment_id":130931494,"body_markdown":"And by misusing the Mockito API you are obfuscating the true problem. For one, it might be that you check your `dataToSave` via reference equal `x.next() != y.next()`. junit and assertj would use the equals method.","body":"And by misusing the Mockito API you are obfuscating the true problem. For one, it might be that you check your <code>dataToSave</code> via reference equal <code>x.next() != y.next()</code>. junit and assertj would use the equals method."},{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1666502607,"post_id":74156353,"comment_id":130950004,"body_markdown":"1. I agree, the advantage of `ArgumentCaptor` is in the visibility of the actual argument, but since I am looking for a standard reusable tool to check the equality of iterators I am less worried about it. I only need to make it work once, then I can just reuse it.","body":"1. I agree, the advantage of <code>ArgumentCaptor</code> is in the visibility of the actual argument, but since I am looking for a standard reusable tool to check the equality of iterators I am less worried about it. I only need to make it work once, then I can just reuse it."},{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1666502719,"post_id":74156353,"comment_id":130950014,"body_markdown":"2. I am not sure why you say I am misusing it all the time?","body":"2. I am not sure why you say I am misusing it all the time?"},{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1666502837,"post_id":74156353,"comment_id":130950031,"body_markdown":"3. The problem is not in `.iteratorEquals` method, since as I&#39;ve said I was debugging it and the returned value is ok.","body":"3. The problem is not in <code>.iteratorEquals</code> method, since as I&#39;ve said I was debugging it and the returned value is ok."},{"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"score":0,"creation_date":1666503125,"post_id":74156353,"comment_id":130950057,"body_markdown":"4. I think that my code is much more `clean code` than the one you&#39;ve supplied (and that is before the fact I&#39;ll need to extract the desired argument from the dataArgumentCaptor). But here is the main issue here, it becomes opinion based, so I think we should drop it :). \nI want to find a way to use argThat, if you can help with that I&#39;d appreciate it.","body":"4. I think that my code is much more <code>clean code</code> than the one you&#39;ve supplied (and that is before the fact I&#39;ll need to extract the desired argument from the dataArgumentCaptor). But here is the main issue here, it becomes opinion based, so I think we should drop it :).  I want to find a way to use argThat, if you can help with that I&#39;d appreciate it."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1666551961,"post_id":74156353,"comment_id":130959121,"body_markdown":"I can&#39;t help you with argThat, since the problem described in your question is not [reproducible](https://stackoverflow.com/help/minimal-reproducible-example).","body":"I can&#39;t help you with argThat, since the problem described in your question is not <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">reproducible</a>."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1666553085,"post_id":74156353,"comment_id":130959369,"body_markdown":"Your DIY iteratorEquals has the same information density as `assertTrue(expected == actuall)` instead of the better solutions I proposed to you earlier, which not only show you, that in case of a failing test that they failed but also with what passed and expected results. And by quoting Uncle Bob, `Bad code tries to do\ntoo much, it has muddled intent and ambiguity of purpose. Clean code is focused.`","body":"Your DIY iteratorEquals has the same information density as <code>assertTrue(expected == actuall)</code> instead of the better solutions I proposed to you earlier, which not only show you, that in case of a failing test that they failed but also with what passed and expected results. And by quoting Uncle Bob, <code>Bad code tries to do too much, it has muddled intent and ambiguity of purpose. Clean code is focused.</code>"}],"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666368327,"creation_date":1666368327,"answer_id":74156353,"question_id":74150989,"body_markdown":"I&#39;ve never used `Mockito.argThat`, partially because I never had the need in defining custom argument matcher.\r\n\r\nWhen I understand your use case correctly, then you want to test some class which used a stub of type `MyService`. And then you want to verify that the stub was called with an Iterable and that the elements in the Iterable have the same elements in the same order as another iterable.\r\n\r\nIn your case, I would use an `ArgumentCaptor&lt;&gt;` instead and then verify the captured argument against some expected values like that.\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass MyControllerTest {\r\n\r\n    @Captor\r\n    ArgumentCaptor&lt;List&lt;Data&gt;&gt; dataArgumentCaptor;\r\n\r\n    @Test\r\n    void save() {\r\n        // Arrange\r\n        final var service = mock(MyService.class);\r\n        final var controller = new MyController(service);\r\n        final var myExpectedData = List.of(new Data(&quot;Foo&quot;), new Data(&quot;Bar&quot;));\r\n        \r\n        // Act\r\n        controller.save(&quot;Foo&quot;, &quot;Bar&quot;);\r\n\r\n        // Assert\r\n        verify(service).save(dataArgumentCaptor.capture());\r\n        assertThat(dataArgumentCaptor.getValue()).containsExactlyElementsOf(myExpectedData);\r\n        // when you dont use assertj you could assert them also with plain junit like that:\r\n        assertArrayEquals(dataToSave.toArray(), myExpectedData.toArray());\r\n    }\r\n\r\n    class MyService {\r\n        public void save(List&lt;Data&gt; data) {\r\n        }\r\n    }\r\n\r\n    record Data(String n) {\r\n    }\r\n\r\n    class MyController {\r\n        private final MyService service;\r\n\r\n        public MyController(MyService service) {\r\n            this.service = service;\r\n        }\r\n\r\n        public void save(String... data) {\r\n            final var list = Arrays.stream(data).map(Data::new).toList();\r\n            service.save(list);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd for why your test passes, when you use `any()` instead, is that you only verify that your stub was called with something, but it is certainly not equal to what you expect.\r\n\r\nAnd by using your TestHelpers method, which only returns true or false, you gain a better overview through assertj which elements you called it with and where it differs from the expected ones.","title":"Mockito argThat does not work when used to match an iterator arg","body":"<p>I've never used <code>Mockito.argThat</code>, partially because I never had the need in defining custom argument matcher.</p>\n<p>When I understand your use case correctly, then you want to test some class which used a stub of type <code>MyService</code>. And then you want to verify that the stub was called with an Iterable and that the elements in the Iterable have the same elements in the same order as another iterable.</p>\n<p>In your case, I would use an <code>ArgumentCaptor&lt;&gt;</code> instead and then verify the captured argument against some expected values like that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass MyControllerTest {\n\n    @Captor\n    ArgumentCaptor&lt;List&lt;Data&gt;&gt; dataArgumentCaptor;\n\n    @Test\n    void save() {\n        // Arrange\n        final var service = mock(MyService.class);\n        final var controller = new MyController(service);\n        final var myExpectedData = List.of(new Data(&quot;Foo&quot;), new Data(&quot;Bar&quot;));\n        \n        // Act\n        controller.save(&quot;Foo&quot;, &quot;Bar&quot;);\n\n        // Assert\n        verify(service).save(dataArgumentCaptor.capture());\n        assertThat(dataArgumentCaptor.getValue()).containsExactlyElementsOf(myExpectedData);\n        // when you dont use assertj you could assert them also with plain junit like that:\n        assertArrayEquals(dataToSave.toArray(), myExpectedData.toArray());\n    }\n\n    class MyService {\n        public void save(List&lt;Data&gt; data) {\n        }\n    }\n\n    record Data(String n) {\n    }\n\n    class MyController {\n        private final MyService service;\n\n        public MyController(MyService service) {\n            this.service = service;\n        }\n\n        public void save(String... data) {\n            final var list = Arrays.stream(data).map(Data::new).toList();\n            service.save(list);\n        }\n    }\n}\n</code></pre>\n<p>And for why your test passes, when you use <code>any()</code> instead, is that you only verify that your stub was called with something, but it is certainly not equal to what you expect.</p>\n<p>And by using your TestHelpers method, which only returns true or false, you gain a better overview through assertj which elements you called it with and where it differs from the expected ones.</p>\n"},{"tags":[],"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672255343,"creation_date":1672255343,"answer_id":74944199,"question_id":74150989,"body_markdown":"The solution to this issue is to change the signature of the generic help method to return `ArgumentMatcher` and to move the lambda expression inside it:\r\n```\r\npublic &lt;T&gt; ArgumentMatcher&lt;Iterator&lt;T&gt;&gt; equalsIterator(Iterator&lt;T&gt; compareTo) {\r\n    return x -&gt; {\r\n        while (x.hasNext() &amp;&amp; compareTo.hasNext()) {\r\n            if (x.next() != compareTo.next()) {\r\n                return false;\r\n            }\r\n        }\r\n        return x.hasNext() == compareTo.hasNext();\r\n    };\r\n}\r\n```\r\nand I am calling it this way:\r\n```\r\nverify(myService).myMethod(\r\n    ...,\r\n    argThat(equalsIterator(dataToSave.iterator())));\r\n```","title":"Mockito argThat does not work when used to match an iterator arg","body":"<p>The solution to this issue is to change the signature of the generic help method to return <code>ArgumentMatcher</code> and to move the lambda expression inside it:</p>\n<pre><code>public &lt;T&gt; ArgumentMatcher&lt;Iterator&lt;T&gt;&gt; equalsIterator(Iterator&lt;T&gt; compareTo) {\n    return x -&gt; {\n        while (x.hasNext() &amp;&amp; compareTo.hasNext()) {\n            if (x.next() != compareTo.next()) {\n                return false;\n            }\n        }\n        return x.hasNext() == compareTo.hasNext();\n    };\n}\n</code></pre>\n<p>and I am calling it this way:</p>\n<pre><code>verify(myService).myMethod(\n    ...,\n    argThat(equalsIterator(dataToSave.iterator())));\n</code></pre>\n"}],"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74944199,"answer_count":2,"score":0,"last_activity_date":1672255343,"creation_date":1666341614,"question_id":74150989,"body_markdown":"I am trying to verify a mocked service was called with an arguments in which the last is an iterator. This is the assertion in the test:\r\n\r\n```\r\nverify(myService).myMethod(\r\n    ...,\r\n    argThat(dataIterator -&gt; iteratorEquals(dataIterator, dataToSave.iterator())));\r\n```\r\nand I have this TestHelper method:\r\n```\r\npublic class TestHelpers {\r\n\r\n    public static &lt;T&gt; boolean iteratorEquals(Iterator&lt;T&gt; x, Iterator&lt;T&gt; y) {\r\n        while (x.hasNext() &amp;&amp; y.hasNext()) {\r\n            if (x.next() != y.next()) {\r\n                return false;\r\n            }\r\n        }\r\n        return x.hasNext() == y.hasNext();\r\n    }\r\n}\r\n```\r\nI was debugging the static method and it seems like the value returned from it is indeed `true`. Also, when debugging I can see the arguments passed to the service are as expected, but the assertion for some reason will fail in this case.\r\nWhen I am changing the assertion to this:\r\n```\r\nverify(myService).myMethod(\r\n    ...,\r\n    any());\r\n```\r\nthe test will pass, meaning the problem is, indeed, with the iterator argument.\r\nThis is the error I receive when the test fails:\r\n\r\n&gt; myService.myMethod(\r\n&gt;     ...,\r\n&gt;     \\&lt;custom argument matcher\\&gt; ); Wanted 1 time:\r\n&gt; -&gt; at ...(StorageClientTest.java:91)\r\n&gt; But was 0 times.\r\n&gt; \r\n&gt; org.mockito.exceptions.verification.TooFewActualInvocations: \r\n&gt; myService.myMethod(\r\n&gt;     ...,\r\n&gt;     \\&lt;custom argument matcher\\&gt; ); Wanted 1 time:\r\n&gt; -&gt; at ...(StorageClientTest.java:91)\r\n&gt; But was 0 times.\r\n\r\nAm I doing something wrong here? why does the test fail?\r\n","title":"Mockito argThat does not work when used to match an iterator arg","body":"<p>I am trying to verify a mocked service was called with an arguments in which the last is an iterator. This is the assertion in the test:</p>\n<pre><code>verify(myService).myMethod(\n    ...,\n    argThat(dataIterator -&gt; iteratorEquals(dataIterator, dataToSave.iterator())));\n</code></pre>\n<p>and I have this TestHelper method:</p>\n<pre><code>public class TestHelpers {\n\n    public static &lt;T&gt; boolean iteratorEquals(Iterator&lt;T&gt; x, Iterator&lt;T&gt; y) {\n        while (x.hasNext() &amp;&amp; y.hasNext()) {\n            if (x.next() != y.next()) {\n                return false;\n            }\n        }\n        return x.hasNext() == y.hasNext();\n    }\n}\n</code></pre>\n<p>I was debugging the static method and it seems like the value returned from it is indeed <code>true</code>. Also, when debugging I can see the arguments passed to the service are as expected, but the assertion for some reason will fail in this case.\nWhen I am changing the assertion to this:</p>\n<pre><code>verify(myService).myMethod(\n    ...,\n    any());\n</code></pre>\n<p>the test will pass, meaning the problem is, indeed, with the iterator argument.\nThis is the error I receive when the test fails:</p>\n<blockquote>\n<p>myService.myMethod(\n...,\n&lt;custom argument matcher&gt; ); Wanted 1 time:\n-&gt; at ...(StorageClientTest.java:91)\nBut was 0 times.</p>\n<p>org.mockito.exceptions.verification.TooFewActualInvocations:\nmyService.myMethod(\n...,\n&lt;custom argument matcher&gt; ); Wanted 1 time:\n-&gt; at ...(StorageClientTest.java:91)\nBut was 0 times.</p>\n</blockquote>\n<p>Am I doing something wrong here? why does the test fail?</p>\n"},{"tags":["java","batik"],"owner":{"account_id":27273777,"reputation":1,"user_id":20794720,"display_name":"mrader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672255036,"creation_date":1672255036,"question_id":74944164,"body_markdown":"I want to update an already parsed SVG document and create an off-screen buffered image. I use the BATIK UpdateManager to do this.\r\n\r\nThe code for the updates is:\r\n\r\n```\r\npublic void update(BTransform.Scale scale){\r\n    RunnableQueue rq = updateManager.getUpdateRunnableQueue();\r\n    try {\r\n       rq.invokeAndWait(() -&gt;{ \r\n           System.out.println(&quot;***UPDATE MANAGER ***&quot;+&quot;: updating document&quot;);\r\n        updateDocument(svgDocument, owner);\r\n         });\r\n    }catch (InterruptedException ie){\r\n    //         do nothing for now.\r\n    }\r\n}\r\n```\r\n\r\nThe updateDocument method does several things:\r\n\r\n1. It changes existing svg tags, e.g. by adding different text content to text tags or changing the attributes of tags for transformations etc.\r\n\r\n2. It replaces the CSS styles tag that is contained in the SVG by an updated styles tag. The content of the styles tag is created in form of a string and then put into the styles node. See code below.\r\n\r\nWhile changing the SVG elements is perfectly reflected in the resulting buffered image, the change to the style tag seems not to be tracked completely by Batik:\r\n\r\nWhile the changed styles seem to be applied correctly to SVG tags that receives any other update (e.g. attribute change or content change), it is not applied to elements that do NOT undergo other updates. In my specific case, I have a circle that is filled with a gradient. The SVG circle remains unchanged. However the style in CSS changes. THis change is not tracked by the update manager. How can I enforce a re-application of the styles to all elements?\r\n\r\nThe circle looks as follows:\r\n\r\n```\r\n&lt;circle class=&quot;format1 gradient1&quot; cx=&quot;100&quot; cy=&quot;100&quot; r=&quot;20&quot;/&gt;\r\n```\r\n\r\nThe corresponding CSS Style looks as follows:\r\n\r\n```\r\n&lt;style id=&quot;styles&quot;&gt;  &lt;/style&gt;\r\n  :root{\t\r\n    .format1 {\r\n\t    fill: **#808080;**\r\n\t\tstroke: black;\r\n\t\tstroke-width: 3px;\r\n\t}\r\n    .gradient1-start {\r\n\t\tstop-color:white; \r\n\t\tstop-opacity: 1;\r\n\t}\r\n    .gradient1-mid {\r\n\t\tstop-color:white; \r\n\t\tstop-opacity: 1;\r\n\t}\r\n    .gradient1-stop {\r\n\t\tstop-color: **#808080;**\r\n\t\tstop-opacity: 1;\r\n\t}\r\n  &lt;/style&gt;\r\n  &lt;defs id=&quot;Patterns_And_Gradients&quot;&gt;\r\n\t&lt;radialGradient id=&quot;radialGradient1&quot; cx=&quot;0.5&quot; cy=&quot;0.5&quot; r=&quot;0.73&quot;&gt;\r\n\t\t&lt;stop class=&quot;gradient1-start&quot; offset=&quot;0%&quot;/&gt;\r\n\t\t&lt;stop class=&quot;gradient1-mid&quot; offset=&quot;10%&quot;/&gt;\r\n\t\t&lt;stop class=&quot;gradient1-stop&quot; offset=&quot;100%&quot;/&gt;\r\n\t&lt;/radialGradient&gt;\r\n   &lt;/defs&gt;\r\n```\r\n\r\nThe items indicated in bold are replace by the update method.\r\n\r\nThe updateDocument method is updating the styles node by replacing it by a new one. I do this, because simply changing the text content is not picked up either:\r\n\r\n```\r\n public void updateDocument(SVGOMDocument svgDocument, BSvgPicture owner) {\r\n      NodeList styleNodes = svgDocument.getElementsByTagName(&quot;style&quot;);\r\n      //if the original styles are not yet initialized,\r\n      //retrieve them from document\r\n      if (originalStylesContent ==null){\r\n      ArrayList&lt;String&gt; styleContent=new ArrayList&lt;&gt;();\r\n      for (int i=0; i&lt;styleNodes.getLength(); i++){\r\n         styleContent.add(styleNodes.item(i).getTextContent());\r\n      }\r\n      originalStylesContent = styleContent.toArray(new String[0]);\r\n      }\r\n      String[] newStylesContent=updateCssProperties(originalStylesContent, owner);\r\n    //      SVGSVGElement rootElement=svgDocument.getRootElement();\r\n    //      SVGTransform st= rootElement.createSVGTransform();\r\n      newStylesContent= updateCssRulesets(svgDocument, newStylesContent, owner);\r\n      for (int i=0; i&lt;styleNodes.getLength(); i++){\r\n         SVGStyleElement existingStyleNode = (SVGStyleElement) styleNodes.item(i);\r\n\r\n         //BATIK does not seem to pick up changes to the content of style tags\r\n         // when they are done through &quot;setTextContent&quot;\r\n         //Therefore, I create a new style node and then replace the entire \r\n         //existing style node with the new style,\r\n         // which batik will hopefully pick up.\r\n         //Create a new style tag\r\n         SVGStyleElement newStyle = (SVGStyleElement)svgDocument\r\n                                      .createElementNS(SVGConstants.SVG_NAMESPACE_URI, &quot;style&quot;);\r\n    //         newStyle.setAttributeNS(null, &quot;type&quot;, &quot;text/css&quot;);\r\n         //Set the content of the new style tag to the updated formats\r\n         newStyle.appendChild(svgDocument.createCDATASection(newStylesContent[i]));\r\n         //Replace the existing style node it with the newly created style,\r\n         //so that the DOM is (hopefully) updated.\r\n         existingStyleNode.getParentNode().replaceChild(newStyle, existingStyleNode);\r\n      }\r\n   }\r\n```","title":"Batik Update Manager does not track changes to CSS Styles","body":"<p>I want to update an already parsed SVG document and create an off-screen buffered image. I use the BATIK UpdateManager to do this.</p>\n<p>The code for the updates is:</p>\n<pre><code>public void update(BTransform.Scale scale){\n    RunnableQueue rq = updateManager.getUpdateRunnableQueue();\n    try {\n       rq.invokeAndWait(() -&gt;{ \n           System.out.println(&quot;***UPDATE MANAGER ***&quot;+&quot;: updating document&quot;);\n        updateDocument(svgDocument, owner);\n         });\n    }catch (InterruptedException ie){\n    //         do nothing for now.\n    }\n}\n</code></pre>\n<p>The updateDocument method does several things:</p>\n<ol>\n<li><p>It changes existing svg tags, e.g. by adding different text content to text tags or changing the attributes of tags for transformations etc.</p>\n</li>\n<li><p>It replaces the CSS styles tag that is contained in the SVG by an updated styles tag. The content of the styles tag is created in form of a string and then put into the styles node. See code below.</p>\n</li>\n</ol>\n<p>While changing the SVG elements is perfectly reflected in the resulting buffered image, the change to the style tag seems not to be tracked completely by Batik:</p>\n<p>While the changed styles seem to be applied correctly to SVG tags that receives any other update (e.g. attribute change or content change), it is not applied to elements that do NOT undergo other updates. In my specific case, I have a circle that is filled with a gradient. The SVG circle remains unchanged. However the style in CSS changes. THis change is not tracked by the update manager. How can I enforce a re-application of the styles to all elements?</p>\n<p>The circle looks as follows:</p>\n<pre><code>&lt;circle class=&quot;format1 gradient1&quot; cx=&quot;100&quot; cy=&quot;100&quot; r=&quot;20&quot;/&gt;\n</code></pre>\n<p>The corresponding CSS Style looks as follows:</p>\n<pre><code>&lt;style id=&quot;styles&quot;&gt;  &lt;/style&gt;\n  :root{    \n    .format1 {\n        fill: **#808080;**\n        stroke: black;\n        stroke-width: 3px;\n    }\n    .gradient1-start {\n        stop-color:white; \n        stop-opacity: 1;\n    }\n    .gradient1-mid {\n        stop-color:white; \n        stop-opacity: 1;\n    }\n    .gradient1-stop {\n        stop-color: **#808080;**\n        stop-opacity: 1;\n    }\n  &lt;/style&gt;\n  &lt;defs id=&quot;Patterns_And_Gradients&quot;&gt;\n    &lt;radialGradient id=&quot;radialGradient1&quot; cx=&quot;0.5&quot; cy=&quot;0.5&quot; r=&quot;0.73&quot;&gt;\n        &lt;stop class=&quot;gradient1-start&quot; offset=&quot;0%&quot;/&gt;\n        &lt;stop class=&quot;gradient1-mid&quot; offset=&quot;10%&quot;/&gt;\n        &lt;stop class=&quot;gradient1-stop&quot; offset=&quot;100%&quot;/&gt;\n    &lt;/radialGradient&gt;\n   &lt;/defs&gt;\n</code></pre>\n<p>The items indicated in bold are replace by the update method.</p>\n<p>The updateDocument method is updating the styles node by replacing it by a new one. I do this, because simply changing the text content is not picked up either:</p>\n<pre><code> public void updateDocument(SVGOMDocument svgDocument, BSvgPicture owner) {\n      NodeList styleNodes = svgDocument.getElementsByTagName(&quot;style&quot;);\n      //if the original styles are not yet initialized,\n      //retrieve them from document\n      if (originalStylesContent ==null){\n      ArrayList&lt;String&gt; styleContent=new ArrayList&lt;&gt;();\n      for (int i=0; i&lt;styleNodes.getLength(); i++){\n         styleContent.add(styleNodes.item(i).getTextContent());\n      }\n      originalStylesContent = styleContent.toArray(new String[0]);\n      }\n      String[] newStylesContent=updateCssProperties(originalStylesContent, owner);\n    //      SVGSVGElement rootElement=svgDocument.getRootElement();\n    //      SVGTransform st= rootElement.createSVGTransform();\n      newStylesContent= updateCssRulesets(svgDocument, newStylesContent, owner);\n      for (int i=0; i&lt;styleNodes.getLength(); i++){\n         SVGStyleElement existingStyleNode = (SVGStyleElement) styleNodes.item(i);\n\n         //BATIK does not seem to pick up changes to the content of style tags\n         // when they are done through &quot;setTextContent&quot;\n         //Therefore, I create a new style node and then replace the entire \n         //existing style node with the new style,\n         // which batik will hopefully pick up.\n         //Create a new style tag\n         SVGStyleElement newStyle = (SVGStyleElement)svgDocument\n                                      .createElementNS(SVGConstants.SVG_NAMESPACE_URI, &quot;style&quot;);\n    //         newStyle.setAttributeNS(null, &quot;type&quot;, &quot;text/css&quot;);\n         //Set the content of the new style tag to the updated formats\n         newStyle.appendChild(svgDocument.createCDATASection(newStylesContent[i]));\n         //Replace the existing style node it with the newly created style,\n         //so that the DOM is (hopefully) updated.\n         existingStyleNode.getParentNode().replaceChild(newStyle, existingStyleNode);\n      }\n   }\n</code></pre>\n"},{"tags":["java","functional-programming","method-reference"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1666876841,"post_id":74222717,"comment_id":131042584,"body_markdown":"`&quot;yourString&quot;::toUpperCase` would have no argument, but `String::toUpperCase` has the `String` to be applied on as the first and only argument.","body":"<code>&quot;yourString&quot;::toUpperCase</code> would have no argument, but <code>String::toUpperCase</code> has the <code>String</code> to be applied on as the first and only argument."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1666876966,"post_id":74222717,"comment_id":131042623,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html#type","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html#type\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a>"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1666877382,"post_id":74222717,"comment_id":131042799,"body_markdown":"[I think this should answer your question.](https://stackoverflow.com/q/44326097/5133585)","body":"<a href=\"https://stackoverflow.com/q/44326097/5133585\">I think this should answer your question.</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1666882242,"post_id":74222717,"comment_id":131044761,"body_markdown":"`this` is the first (*hidden*) parameter of any non-static method - `toUpperCase` could have been declared as `public String toUpperCase(String this)`","body":"<code>this</code> is the first (<i>hidden</i>) parameter of any non-static method - <code>toUpperCase</code> could have been declared as <code>public String toUpperCase(String this)</code>"}],"answers":[{"comments":[{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1667126005,"post_id":74224132,"comment_id":131092646,"body_markdown":"I understand it is used an unbound receiver, but then why it&#39;s not working for Impl::toUpp Why unbound receiver is not working now?","body":"I understand it is used an unbound receiver, but then why it&#39;s not working for Impl::toUpp Why unbound receiver is not working now?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":2,"creation_date":1667128693,"post_id":74224132,"comment_id":131093053,"body_markdown":"@elvis In your example, there is no `Impl` object to call `toUpp()` on. `m1()` takes a `String` as parameter, not an `Impl`. Change the signature of `m1()` to accept an `Impl` instead and `Interf i1 = Impl::toUpp;` will work.","body":"@elvis In your example, there is no <code>Impl</code> object to call <code>toUpp()</code> on. <code>m1()</code> takes a <code>String</code> as parameter, not an <code>Impl</code>. Change the signature of <code>m1()</code> to accept an <code>Impl</code> instead and <code>Interf i1 = Impl::toUpp;</code> will work."}],"tags":[],"owner":{"account_id":26749788,"reputation":611,"user_id":20349343,"display_name":"radof"},"comment_count":2,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1666882767,"creation_date":1666882528,"answer_id":74224132,"question_id":74222717,"body_markdown":"&gt; How can toUpperCase() method implement apply(T t) method from Function\r\n&gt; interface?\r\n\r\nThe method reference `String::toUpperCase` has unbound receiver.\r\nhttps://stackoverflow.com/questions/35914775/java-8-difference-between-method-reference-bound-receiver-and-unbound-receiver\r\nThen the argument `T t` would be the receiver \r\n\r\nIn your example \r\n\r\n         public &lt;U, T&gt; Optional&lt;U&gt; map(Function&lt;? super T, ? extends U&gt; mapper) {\r\n    ...\r\n                return Optional.ofNullable(mapper.apply(value));\r\n            }\r\n\r\nby calling `map(String::toUpperCase)`\r\n\r\nIf `value`, let&#39;s say equal to `&quot;Example String&quot;`, would be the receiver so `mapper.apply(&quot;Example String&quot;);` would be equivalent to `&quot;Example String&quot;.toUpperCase();`\r\n","title":"How can a parameterless method toUpperCase() implement Function.apply()?","body":"<blockquote>\n<p>How can toUpperCase() method implement apply(T t) method from Function\ninterface?</p>\n</blockquote>\n<p>The method reference <code>String::toUpperCase</code> has unbound receiver.\n<a href=\"https://stackoverflow.com/questions/35914775/java-8-difference-between-method-reference-bound-receiver-and-unbound-receiver\">Java 8: Difference between method reference Bound Receiver and UnBound Receiver</a>\nThen the argument <code>T t</code> would be the receiver</p>\n<p>In your example</p>\n<pre><code>     public &lt;U, T&gt; Optional&lt;U&gt; map(Function&lt;? super T, ? extends U&gt; mapper) {\n...\n            return Optional.ofNullable(mapper.apply(value));\n        }\n</code></pre>\n<p>by calling <code>map(String::toUpperCase)</code></p>\n<p>If <code>value</code>, let's say equal to <code>&quot;Example String&quot;</code>, would be the receiver so <code>mapper.apply(&quot;Example String&quot;);</code> would be equivalent to <code>&quot;Example String&quot;.toUpperCase();</code></p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1672249711,"creation_date":1667238681,"answer_id":74267272,"question_id":74222717,"body_markdown":"### TL;DR\r\n\r\nParameters that a Method reference is expected to consume according to the contract imposed by a Functional interface it implements are **NOT** necessarily the same as parameters of the method used in the Method reference.\r\n\r\nThis answer is a journey from this **common misconception** towards understanding all syntactical flavors of Method references.\r\n\r\nLet&#39;s take tiny baby steps to dispel misunderstanding, starting from the definition of the Method reference.\r\n\r\n### What is Method reference\r\n\r\nHere is the definition of the Method reference according to the [Java Language Specification &#167;15.13. Method Reference Expressions](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.13)\r\n\r\n&gt; A **method reference** expression is used to **refer** to the **invocation of a\r\n&gt; method without** actually **performing** the **invocation**. Certain forms of\r\n&gt; method reference expression also allow class instance creation (&#167;15.9)\r\n&gt; or array creation (&#167;15.10) to be treated as if it were a method\r\n&gt; invocation.\r\n\r\n&lt;sup&gt;emphasis added&lt;/sup&gt;\r\n\r\nSo, a Method reference is a mean of referring the method-invocation without invoking a method. Or in other words, it&#39;s a way of describing a certain behavior by delegating to the existing functionality.\r\n\r\nLet&#39;s take a small detour and have a look at the sibling of a Method reference, a Lambda expression.\r\n\r\nLambda expressions are also a way to describe behavior (without executing it), and both lambdas and Method references should conform to a Functional interface. Let&#39;s declare some lambdas.\r\n\r\nConsider, we have a domain class `Foo` and utility class `FooUtils`.\r\n\r\n    public class FooUtils {\r\n\r\n        public static Foo doSomethingWithFoo(Foo foo) {\r\n            // do something\r\n            return new Foo();\r\n        }\r\n    }\r\n\r\nAnd we need to define a function of type `UnaryOperator&lt;Foo&gt;`, let&#39;s start with writing a lambda expression:\r\n\r\n```\r\nUnaryOperator&lt;Foo&gt; fooChanger = foo -&gt; FooUtils.doSomethingWithFoo(foo);\r\n```\r\n\r\nLambda receives an instance of `Foo` as an argument and feeds it into the existing utility method. Quite simple, right? Nothing special happens inside the lambda&#39;s body, and since have defined the type as `UnaryOperator&lt;Foo&gt;` the lambda should expect `Foo`. Everything is absolutely predictable, isn&#39;t it? Now the question is: can we alternate that?\r\n\r\nSure, we can!\r\n\r\n```\r\nUnaryOperator&lt;Foo&gt; fooChanger = FooUtils::doSomethingWithFoo;\r\n```\r\n\r\nThat&#39;s where a Method reference comes to the rescue. It provides a shortened syntax by:\r\n\r\n**1.** **Dropping the lambda&#39;s arguments** (they are still there, we&#39;re simply not displaying them because we know what they are).\r\n\r\n**2.** **Removing the parentheses** after the method name. Again the method declaration is known (and let&#39;s assume that there are no ambiguities), and we are not performing any prior transformation with arguments, and we are not using any additional arguments apart from those that should come according to the contract of the Functional interface. Only in this case everything is predictable and can a method reference.\r\n\r\n&lt;h3&gt;&lt;i&gt;Key takeaways:&lt;/i&gt;&lt;/h3&gt;\r\n\r\n* you may think of method references as if they are **shortened lambdas**.\r\n* the arguments of the method reference are the same the equivalent lambda receives because they are implementations to the same interface. These parameters are still there implicitly, just dropped for the purpose of conciseness. And more importantly, parameters that a method reference consumes should **not** be confused with parameters expected method it refers to. In other word the first parameters an input of the method reference (and they are compliant with the contract defined by the interface) and the latter related to what happens inside the reference, and have no connection to the first ones.\r\n\r\n### More examples\r\n\r\nLet&#39;s examine a few more examples. Let&#39;s say we have a simple object representing a coin with a single property `isHeads` describing which side the coin is showing (i.e. [*heads* or *tails*](https://en.wikipedia.org/wiki/Coin_flipping)).\r\n\r\n    public static class Coin {\r\n        public static final Random RAND = new Random();\r\n\r\n        private final boolean isHeads;\r\n\r\n        public Coin() {\r\n            this.isHeads = RAND.nextBoolean();\r\n        }\r\n\r\n        private Coin(boolean isHeads) {\r\n            this.isHeads = isHeads;\r\n        }\r\n\r\n        public Coin reverse() {\r\n            return new Coin(!isHeads);\r\n        }\r\n\r\n        public boolean isHeads() {\r\n            return isHeads;\r\n        }\r\n    }\r\n\r\nLet&#39;s generate a coin. For that we can use implement of `Supplier` which very generous, supplier doesn&#39;t receive arguments, it produces a value. Let&#39;s definable both a lambda and a reference\r\n\r\n```\r\nSupplier&lt;Coin&gt; coinProducer = () -&gt; new Coin(); // no argument required according to the contract of Supplier\r\nSupplier&lt;Coin&gt; coinProducer1 = Coin::new;       // Supplier expressed as a reference to no-args constructor\r\n```\r\n\r\nBoth don&#39;t receive any argument (as per contract of the Supplier), both refer to the no-arguments constructor.\r\n\r\nNow let&#39;s consider the predicates determining if the coin shows heads implemented via a lambda and a method reference:\r\n\r\n```\r\nPredicate&lt;Coin&gt; isHeads = coin -&gt; coin.isHeads();\r\nPredicate&lt;Coin&gt; isHeads1 = Coin::isHeads;\r\n```\r\n\r\nAgain, both the lambda and the method reference are compliant with the Predicate&#39;s contract and both receive an instance of `Coin` as an argument (it can&#39;t be otherwise, simply concise syntax of the method reference doesn&#39;t show that).\r\n\r\nSo far, so good? Let&#39;s move further and try another way to obtain a `Coin`, let&#39;s define a `Function`:\r\n\r\n```\r\nFunction&lt;Boolean, Coin&gt; booleanToCoin = value -&gt; new Coin(value);\r\nFunction&lt;Boolean, Coin&gt; booleanToCoin1 = Coin::new;\r\n```\r\n\r\nNow both the lambda and the reference are consuming a `boolean` value and making use of the parameterized constructor. Did not notice that method reference describing `Supplier&lt;Coin&gt;` and `Function&lt;Boolean, Coin&gt;` looks identical.\r\n\r\n***Reminder:** both Lambda expressions and Method references **have no type by itself**. They are so-called poly-expressions, which means their type should be inferred by the compiler based on the context in which they appear. Both the lambda and the reference should conform to a Functional interface, and the interface they implement dictates who they are and what they are doing.*\r\n\r\nIn all examples described earlier, arguments of consumed by a method reference appeared to be the same as the ones expected by the referenced method, but it&#39;s **not** mandatory for them to be the identical. It&#39;s time to examine a couple or examples where it not the case to dispel the illusions.\r\n\r\nLet&#39;s consider a `UnaryOperator` reversing a coin:\r\n\r\n```\r\nUnaryOperator&lt;Coin&gt; coinFlipper = coin -&gt; coin.reverse(); // UnaryOperator requires one argument\r\nUnaryOperator&lt;Coin&gt; coinFlipper1 = Coin::reverse;         // UnaryOperator still requires one argument expressed as a reference to no arg method\r\n```\r\n\r\nAll implementations of the `UnaryOperator` receive a `Coin` instance as an argument, and another coin is being produced as a result of the invocation of `reverse()`. The fact that reverse is parameterless is not an issue, because we concerned about what it produces, and **not** what it consumes.\r\n\r\nLet&#39;s try to define a tougher method reference. To begin with, introduce in the `Coin` class a new instance method called `xor()`, which is immensely useful for [XOR-ing](https://en.wikipedia.org/wiki/Exclusive_or) two coins:\r\n\r\n    public Coin xor(Coin other) {\r\n        return new Coin(isHeads ^ other.isHeads);\r\n    }\r\n\r\nNow when two object come into play we have more possibilities, let&#39;s start with the simplest case one by defining a `UnariOperator`:\r\n\r\n```\r\nfinal Coin baseCoin = new Coin();\r\nUnaryOperator&lt;Coin&gt; xorAgainstBase = coin -&gt; baseCoin.xor(coin);\r\nUnaryOperator&lt;Coin&gt; xorAgainstBase1 = baseCoin::xor;\r\n```\r\n\r\nIn the above example an instance of `Coin` defined outside the function is used to perform the transformation via the instance-method.\r\n\r\nA little bit more complicated case would be a `BinaryOperator` for XOR-ing a couple of coins might look like this:\r\n\r\n```\r\nBinaryOperator&lt;Coin&gt; xor = (coin1, coin2) -&gt; coin1.xor(coin2);\r\nBinaryOperator&lt;Coin&gt; xor1 = Coin::xor;\r\n```\r\n\r\nNow we have two arguments coming as an input and a `Coin` instance should be produce as an output as per `BinaryOperator`s contract.\r\n\r\nThe interesting thing is the first argument serves as an instance on which the method `xor()` would be invoked, and the second is passed to the method (**note** that `xor()` expect only one argument).\r\n\r\nYou might ask what would happen if there would be another method for XOR-ing coins. A `static` method expecting two arguments:\r\n\r\n    public static Coin xor(Coin coin1, Coin coin2) {\r\n        return new Coin(coin1.isHeads ^ coin2.isHeads);\r\n    }\r\n\r\nThen the compiler would **fail to resolve** the method reference, because here we have more the one potentially applicable method and none of them can be considered to be more specific than the other since the types of arguments are the same. That would cause a compilation error. But if we would have either of them (not both together), reference `Coin::xor` would work fine.\r\n\r\n# Types of Method references\r\n\r\nBasically, the examples that we have walked through covered all the types of method references. Now, let&#39;s enumerate them.\r\n\r\nThe [official tutorial provided by Oracle](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html) re are **four** kinds of method references:\r\n\r\n 1. **Reference to a Static method**\r\n\r\n    ```\r\n    Class::staticMethod\r\n    ```\r\n    Example `Coin::xor` which refers to the static method `xor(Coin coin1, Coin coin2)`.\r\n\r\n    Examples with standard JDK-classes:\r\n\r\n    ```\r\n    BinaryOperator&lt;Integer&gt; sum = Integer::sum; // (i1, i2) -&gt; Integer.sum(i1, i2)\r\n\r\n    BiFunction&lt;CharSequence, Iterable&lt;CharSequence&gt;, String&gt; iterableToString\r\n        = String::join; // (delimiter, strings) -&gt; String.join(delimiter, strings)\r\n    ```\r\n\r\n 2. **Reference to an instance method of a particular object**\r\n\r\n    ```\r\n    instance::instanceMethod\r\n    ```\r\n    The example illustrating this case would the usage of the instance method `xor(Coin other)` with a coin defined outside the function, which is internaly used to invoke `xor()` on it passing the function-argument into the method.\r\n\r\n    ```\r\n    final Coin baseCoin = new Coin();\r\n    UnaryOperator&lt;Coin&gt; xorAgainstBase1 = baseCoin::xor; // same as coin -&gt; baseCoin.xor(coin)\r\n    ```\r\n\r\n    Examples with standard JDK-classes:\r\n\r\n    ```\r\n    Set&lt;Foo&gt; fooSet = // initialing the Set\r\n    Predicate&lt;Foo&gt; isPresentInFooSet = fooSet::contains;\r\n    ```\r\n\r\n 3. **Reference to an Instance Method of an Arbitrary Object of a Particular Type**\r\n\r\n    ```\r\n    Class::methodName\r\n    ```\r\n\r\n    In this case method refernce operates on an instance that comes as an argument (we would have reference to it only it we would use a lambda), therefore *containing type*, which can be tha actual type or one the super types, is used to refer to this instance.\r\n\r\n    An example would a `Predicate` checking if the coin shows heads `Coin::isHeads`.\r\n\r\n    Examples with standard JDK-classes:\r\n\r\n    ```\r\n    Function&lt;List&lt;String&gt;, Stream&lt;String&gt;&gt; toStream = Collection::stream;\r\n\r\n    List&lt;List&lt;String&gt;&gt; lists = List.of(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;), List.of(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;));\r\n\r\n    List&lt;String&gt; strings1 = lists.stream()\r\n        .flatMap(toStream)\r\n        .toList();\r\n\r\n    // A slightly more complicate example taken from the linked tutorial\r\n    // Equivalent lambda: (a, b) -&gt; a.compareToIgnoreCase(b)\r\n\r\n    String[] stringArray = { &quot;Barbara&quot;, &quot;James&quot;, &quot;Mary&quot; };\r\n    Arrays.sort(stringArray, String::compareToIgnoreCase);\r\n    ```\r\n\r\n\r\n 4. **Reference to a Constructor**\r\n\r\n    ```\r\n    Class::new\r\n    ```\r\n\r\nWe have cove this case already with the following examples:\r\n\r\n* `Supplier&lt;Coin&gt;` refering to no args-constracor implemented as `Coin::new`;\r\n* `Function&lt;Boolean, Coin&gt;` which makes use of the single-arg constructor by passing incoming `boolean` value also expressed as `Coin::new`.\r\n\r\n\r\n\r\n\r\n","title":"How can a parameterless method toUpperCase() implement Function.apply()?","body":"<h3>TL;DR</h3>\n<p>Parameters that a Method reference is expected to consume according to the contract imposed by a Functional interface it implements are <strong>NOT</strong> necessarily the same as parameters of the method used in the Method reference.</p>\n<p>This answer is a journey from this <strong>common misconception</strong> towards understanding all syntactical flavors of Method references.</p>\n<p>Let's take tiny baby steps to dispel misunderstanding, starting from the definition of the Method reference.</p>\n<h3>What is Method reference</h3>\n<p>Here is the definition of the Method reference according to the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.13\" rel=\"nofollow noreferrer\">Java Language Specification §15.13. Method Reference Expressions</a></p>\n<blockquote>\n<p>A <strong>method reference</strong> expression is used to <strong>refer</strong> to the <strong>invocation of a\nmethod without</strong> actually <strong>performing</strong> the <strong>invocation</strong>. Certain forms of\nmethod reference expression also allow class instance creation (§15.9)\nor array creation (§15.10) to be treated as if it were a method\ninvocation.</p>\n</blockquote>\n<p><sup>emphasis added</sup></p>\n<p>So, a Method reference is a mean of referring the method-invocation without invoking a method. Or in other words, it's a way of describing a certain behavior by delegating to the existing functionality.</p>\n<p>Let's take a small detour and have a look at the sibling of a Method reference, a Lambda expression.</p>\n<p>Lambda expressions are also a way to describe behavior (without executing it), and both lambdas and Method references should conform to a Functional interface. Let's declare some lambdas.</p>\n<p>Consider, we have a domain class <code>Foo</code> and utility class <code>FooUtils</code>.</p>\n<pre><code>public class FooUtils {\n\n    public static Foo doSomethingWithFoo(Foo foo) {\n        // do something\n        return new Foo();\n    }\n}\n</code></pre>\n<p>And we need to define a function of type <code>UnaryOperator&lt;Foo&gt;</code>, let's start with writing a lambda expression:</p>\n<pre><code>UnaryOperator&lt;Foo&gt; fooChanger = foo -&gt; FooUtils.doSomethingWithFoo(foo);\n</code></pre>\n<p>Lambda receives an instance of <code>Foo</code> as an argument and feeds it into the existing utility method. Quite simple, right? Nothing special happens inside the lambda's body, and since have defined the type as <code>UnaryOperator&lt;Foo&gt;</code> the lambda should expect <code>Foo</code>. Everything is absolutely predictable, isn't it? Now the question is: can we alternate that?</p>\n<p>Sure, we can!</p>\n<pre><code>UnaryOperator&lt;Foo&gt; fooChanger = FooUtils::doSomethingWithFoo;\n</code></pre>\n<p>That's where a Method reference comes to the rescue. It provides a shortened syntax by:</p>\n<p><strong>1.</strong> <strong>Dropping the lambda's arguments</strong> (they are still there, we're simply not displaying them because we know what they are).</p>\n<p><strong>2.</strong> <strong>Removing the parentheses</strong> after the method name. Again the method declaration is known (and let's assume that there are no ambiguities), and we are not performing any prior transformation with arguments, and we are not using any additional arguments apart from those that should come according to the contract of the Functional interface. Only in this case everything is predictable and can a method reference.</p>\n<h3><i>Key takeaways:</i></h3>\n<ul>\n<li>you may think of method references as if they are <strong>shortened lambdas</strong>.</li>\n<li>the arguments of the method reference are the same the equivalent lambda receives because they are implementations to the same interface. These parameters are still there implicitly, just dropped for the purpose of conciseness. And more importantly, parameters that a method reference consumes should <strong>not</strong> be confused with parameters expected method it refers to. In other word the first parameters an input of the method reference (and they are compliant with the contract defined by the interface) and the latter related to what happens inside the reference, and have no connection to the first ones.</li>\n</ul>\n<h3>More examples</h3>\n<p>Let's examine a few more examples. Let's say we have a simple object representing a coin with a single property <code>isHeads</code> describing which side the coin is showing (i.e. <a href=\"https://en.wikipedia.org/wiki/Coin_flipping\" rel=\"nofollow noreferrer\"><em>heads</em> or <em>tails</em></a>).</p>\n<pre><code>public static class Coin {\n    public static final Random RAND = new Random();\n\n    private final boolean isHeads;\n\n    public Coin() {\n        this.isHeads = RAND.nextBoolean();\n    }\n\n    private Coin(boolean isHeads) {\n        this.isHeads = isHeads;\n    }\n\n    public Coin reverse() {\n        return new Coin(!isHeads);\n    }\n\n    public boolean isHeads() {\n        return isHeads;\n    }\n}\n</code></pre>\n<p>Let's generate a coin. For that we can use implement of <code>Supplier</code> which very generous, supplier doesn't receive arguments, it produces a value. Let's definable both a lambda and a reference</p>\n<pre><code>Supplier&lt;Coin&gt; coinProducer = () -&gt; new Coin(); // no argument required according to the contract of Supplier\nSupplier&lt;Coin&gt; coinProducer1 = Coin::new;       // Supplier expressed as a reference to no-args constructor\n</code></pre>\n<p>Both don't receive any argument (as per contract of the Supplier), both refer to the no-arguments constructor.</p>\n<p>Now let's consider the predicates determining if the coin shows heads implemented via a lambda and a method reference:</p>\n<pre><code>Predicate&lt;Coin&gt; isHeads = coin -&gt; coin.isHeads();\nPredicate&lt;Coin&gt; isHeads1 = Coin::isHeads;\n</code></pre>\n<p>Again, both the lambda and the method reference are compliant with the Predicate's contract and both receive an instance of <code>Coin</code> as an argument (it can't be otherwise, simply concise syntax of the method reference doesn't show that).</p>\n<p>So far, so good? Let's move further and try another way to obtain a <code>Coin</code>, let's define a <code>Function</code>:</p>\n<pre><code>Function&lt;Boolean, Coin&gt; booleanToCoin = value -&gt; new Coin(value);\nFunction&lt;Boolean, Coin&gt; booleanToCoin1 = Coin::new;\n</code></pre>\n<p>Now both the lambda and the reference are consuming a <code>boolean</code> value and making use of the parameterized constructor. Did not notice that method reference describing <code>Supplier&lt;Coin&gt;</code> and <code>Function&lt;Boolean, Coin&gt;</code> looks identical.</p>\n<p><em><strong>Reminder:</strong> both Lambda expressions and Method references <strong>have no type by itself</strong>. They are so-called poly-expressions, which means their type should be inferred by the compiler based on the context in which they appear. Both the lambda and the reference should conform to a Functional interface, and the interface they implement dictates who they are and what they are doing.</em></p>\n<p>In all examples described earlier, arguments of consumed by a method reference appeared to be the same as the ones expected by the referenced method, but it's <strong>not</strong> mandatory for them to be the identical. It's time to examine a couple or examples where it not the case to dispel the illusions.</p>\n<p>Let's consider a <code>UnaryOperator</code> reversing a coin:</p>\n<pre><code>UnaryOperator&lt;Coin&gt; coinFlipper = coin -&gt; coin.reverse(); // UnaryOperator requires one argument\nUnaryOperator&lt;Coin&gt; coinFlipper1 = Coin::reverse;         // UnaryOperator still requires one argument expressed as a reference to no arg method\n</code></pre>\n<p>All implementations of the <code>UnaryOperator</code> receive a <code>Coin</code> instance as an argument, and another coin is being produced as a result of the invocation of <code>reverse()</code>. The fact that reverse is parameterless is not an issue, because we concerned about what it produces, and <strong>not</strong> what it consumes.</p>\n<p>Let's try to define a tougher method reference. To begin with, introduce in the <code>Coin</code> class a new instance method called <code>xor()</code>, which is immensely useful for <a href=\"https://en.wikipedia.org/wiki/Exclusive_or\" rel=\"nofollow noreferrer\">XOR-ing</a> two coins:</p>\n<pre><code>public Coin xor(Coin other) {\n    return new Coin(isHeads ^ other.isHeads);\n}\n</code></pre>\n<p>Now when two object come into play we have more possibilities, let's start with the simplest case one by defining a <code>UnariOperator</code>:</p>\n<pre><code>final Coin baseCoin = new Coin();\nUnaryOperator&lt;Coin&gt; xorAgainstBase = coin -&gt; baseCoin.xor(coin);\nUnaryOperator&lt;Coin&gt; xorAgainstBase1 = baseCoin::xor;\n</code></pre>\n<p>In the above example an instance of <code>Coin</code> defined outside the function is used to perform the transformation via the instance-method.</p>\n<p>A little bit more complicated case would be a <code>BinaryOperator</code> for XOR-ing a couple of coins might look like this:</p>\n<pre><code>BinaryOperator&lt;Coin&gt; xor = (coin1, coin2) -&gt; coin1.xor(coin2);\nBinaryOperator&lt;Coin&gt; xor1 = Coin::xor;\n</code></pre>\n<p>Now we have two arguments coming as an input and a <code>Coin</code> instance should be produce as an output as per <code>BinaryOperator</code>s contract.</p>\n<p>The interesting thing is the first argument serves as an instance on which the method <code>xor()</code> would be invoked, and the second is passed to the method (<strong>note</strong> that <code>xor()</code> expect only one argument).</p>\n<p>You might ask what would happen if there would be another method for XOR-ing coins. A <code>static</code> method expecting two arguments:</p>\n<pre><code>public static Coin xor(Coin coin1, Coin coin2) {\n    return new Coin(coin1.isHeads ^ coin2.isHeads);\n}\n</code></pre>\n<p>Then the compiler would <strong>fail to resolve</strong> the method reference, because here we have more the one potentially applicable method and none of them can be considered to be more specific than the other since the types of arguments are the same. That would cause a compilation error. But if we would have either of them (not both together), reference <code>Coin::xor</code> would work fine.</p>\n<h1>Types of Method references</h1>\n<p>Basically, the examples that we have walked through covered all the types of method references. Now, let's enumerate them.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">official tutorial provided by Oracle</a> re are <strong>four</strong> kinds of method references:</p>\n<ol>\n<li><p><strong>Reference to a Static method</strong></p>\n<pre><code>Class::staticMethod\n</code></pre>\n<p>Example <code>Coin::xor</code> which refers to the static method <code>xor(Coin coin1, Coin coin2)</code>.</p>\n<p>Examples with standard JDK-classes:</p>\n<pre><code>BinaryOperator&lt;Integer&gt; sum = Integer::sum; // (i1, i2) -&gt; Integer.sum(i1, i2)\n\nBiFunction&lt;CharSequence, Iterable&lt;CharSequence&gt;, String&gt; iterableToString\n    = String::join; // (delimiter, strings) -&gt; String.join(delimiter, strings)\n</code></pre>\n</li>\n<li><p><strong>Reference to an instance method of a particular object</strong></p>\n<pre><code>instance::instanceMethod\n</code></pre>\n<p>The example illustrating this case would the usage of the instance method <code>xor(Coin other)</code> with a coin defined outside the function, which is internaly used to invoke <code>xor()</code> on it passing the function-argument into the method.</p>\n<pre><code>final Coin baseCoin = new Coin();\nUnaryOperator&lt;Coin&gt; xorAgainstBase1 = baseCoin::xor; // same as coin -&gt; baseCoin.xor(coin)\n</code></pre>\n<p>Examples with standard JDK-classes:</p>\n<pre><code>Set&lt;Foo&gt; fooSet = // initialing the Set\nPredicate&lt;Foo&gt; isPresentInFooSet = fooSet::contains;\n</code></pre>\n</li>\n<li><p><strong>Reference to an Instance Method of an Arbitrary Object of a Particular Type</strong></p>\n<pre><code>Class::methodName\n</code></pre>\n<p>In this case method refernce operates on an instance that comes as an argument (we would have reference to it only it we would use a lambda), therefore <em>containing type</em>, which can be tha actual type or one the super types, is used to refer to this instance.</p>\n<p>An example would a <code>Predicate</code> checking if the coin shows heads <code>Coin::isHeads</code>.</p>\n<p>Examples with standard JDK-classes:</p>\n<pre><code>Function&lt;List&lt;String&gt;, Stream&lt;String&gt;&gt; toStream = Collection::stream;\n\nList&lt;List&lt;String&gt;&gt; lists = List.of(List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;), List.of(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;));\n\nList&lt;String&gt; strings1 = lists.stream()\n    .flatMap(toStream)\n    .toList();\n\n// A slightly more complicate example taken from the linked tutorial\n// Equivalent lambda: (a, b) -&gt; a.compareToIgnoreCase(b)\n\nString[] stringArray = { &quot;Barbara&quot;, &quot;James&quot;, &quot;Mary&quot; };\nArrays.sort(stringArray, String::compareToIgnoreCase);\n</code></pre>\n</li>\n<li><p><strong>Reference to a Constructor</strong></p>\n<pre><code>Class::new\n</code></pre>\n</li>\n</ol>\n<p>We have cove this case already with the following examples:</p>\n<ul>\n<li><code>Supplier&lt;Coin&gt;</code> refering to no args-constracor implemented as <code>Coin::new</code>;</li>\n<li><code>Function&lt;Boolean, Coin&gt;</code> which makes use of the single-arg constructor by passing incoming <code>boolean</code> value also expressed as <code>Coin::new</code>.</li>\n</ul>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":5,"up_vote_count":8,"closed_date":1672176603,"accepted_answer_id":74267272,"answer_count":2,"score":3,"last_activity_date":1672254743,"creation_date":1666876661,"question_id":74222717,"body_markdown":"I&#39;m learning Java 8 with Lambda, Streams, and method reference. Regarding the example below,\r\n\r\n    Optional&lt;String&gt; s = Optional.of(&quot;test&quot;);\r\n    System.out.println(s.map(String::toUpperCase).get());\r\n\r\nI don&#39;t understand how is it possible to use `String::toUpperCase` as an input for this `map()` method.\r\n\r\nThis is the method implementation:\r\n\r\n    public &lt;U&gt; Optional&lt;U&gt; map(Function&lt;? super T, ? extends U&gt; mapper) {\r\n        Objects.requireNonNull(mapper);\r\n        if (!isPresent()) {\r\n            return empty();\r\n        } else {\r\n            return Optional.ofNullable(mapper.apply(value));\r\n        }\r\n    }\r\n\r\nSo it requires a function interface, and it has this apply() method: `R apply(T t);` This method has an input argument.\r\n\r\nAnd `toUpperCase()` method doesn&#39;t have any argument:\r\n\r\n    public String toUpperCase() {\r\n        return toUpperCase(Locale.getDefault());\r\n    }\r\n\r\n____________________________________\r\n\r\nIf the `abstract` method `apply(T t)` has *one* argument, then the implemented method should have *one* argument of the same type. How can parameterless method `toUpperCase()` implement the `apply(T t)` method from a function interface?\r\n\r\n___________________________________\r\n\r\nI try to recreate the same conditions:\r\n\r\nI create a functional interface:\r\n\r\n    public interface Interf {\r\n        String m1(String value);\r\n    }\r\n\r\nThen I create a class with the method reference for m1():\r\n\r\n    public class Impl {\r\n        public String value;\r\n\r\n        public String toUpp() {\r\n            return value.toUpperCase();\r\n        }\r\n    }\r\n\r\nAnd here is a class for test:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Interf i = String::toUpperCase;\r\n            System.out.println(i.m1(&quot;hey&quot;));\r\n\r\n            Interf i1 = Impl::toUpp;\r\n            System.out.println(i.m1(&quot;hello&quot;));\r\n        }\r\n    }\r\n\r\nThere isn&#39;t any issue at this statement: `Interf i = String::toUpperCase;` but there is a compilation error on this line: `Interf i1 = Impl::toUpp;`. It says:\r\n\r\n&gt; Non-static method cannot be referenced from a static context\r\n\r\nBut `toUpperCase()` is also a non-static method. And even if I make the `toUpp()` static, it is still not working, it is working only if I add a String argument as an input argument for `toUpp()`. But then why is it working for `String::toUpperCase`?\r\n\r\n\r\n\r\n","title":"How can a parameterless method toUpperCase() implement Function.apply()?","body":"<p>I'm learning Java 8 with Lambda, Streams, and method reference. Regarding the example below,</p>\n<pre><code>Optional&lt;String&gt; s = Optional.of(&quot;test&quot;);\nSystem.out.println(s.map(String::toUpperCase).get());\n</code></pre>\n<p>I don't understand how is it possible to use <code>String::toUpperCase</code> as an input for this <code>map()</code> method.</p>\n<p>This is the method implementation:</p>\n<pre><code>public &lt;U&gt; Optional&lt;U&gt; map(Function&lt;? super T, ? extends U&gt; mapper) {\n    Objects.requireNonNull(mapper);\n    if (!isPresent()) {\n        return empty();\n    } else {\n        return Optional.ofNullable(mapper.apply(value));\n    }\n}\n</code></pre>\n<p>So it requires a function interface, and it has this apply() method: <code>R apply(T t);</code> This method has an input argument.</p>\n<p>And <code>toUpperCase()</code> method doesn't have any argument:</p>\n<pre><code>public String toUpperCase() {\n    return toUpperCase(Locale.getDefault());\n}\n</code></pre>\n<hr />\n<p>If the <code>abstract</code> method <code>apply(T t)</code> has <em>one</em> argument, then the implemented method should have <em>one</em> argument of the same type. How can parameterless method <code>toUpperCase()</code> implement the <code>apply(T t)</code> method from a function interface?</p>\n<hr />\n<p>I try to recreate the same conditions:</p>\n<p>I create a functional interface:</p>\n<pre><code>public interface Interf {\n    String m1(String value);\n}\n</code></pre>\n<p>Then I create a class with the method reference for m1():</p>\n<pre><code>public class Impl {\n    public String value;\n\n    public String toUpp() {\n        return value.toUpperCase();\n    }\n}\n</code></pre>\n<p>And here is a class for test:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Interf i = String::toUpperCase;\n        System.out.println(i.m1(&quot;hey&quot;));\n\n        Interf i1 = Impl::toUpp;\n        System.out.println(i.m1(&quot;hello&quot;));\n    }\n}\n</code></pre>\n<p>There isn't any issue at this statement: <code>Interf i = String::toUpperCase;</code> but there is a compilation error on this line: <code>Interf i1 = Impl::toUpp;</code>. It says:</p>\n<blockquote>\n<p>Non-static method cannot be referenced from a static context</p>\n</blockquote>\n<p>But <code>toUpperCase()</code> is also a non-static method. And even if I make the <code>toUpp()</code> static, it is still not working, it is working only if I add a String argument as an input argument for <code>toUpp()</code>. But then why is it working for <code>String::toUpperCase</code>?</p>\n"},{"tags":["java","instance-initializers"],"comments":[{"owner":{"account_id":7167110,"reputation":2729,"user_id":5475891,"display_name":"phflack"},"score":0,"creation_date":1515705404,"post_id":48215842,"comment_id":83413714,"body_markdown":"You should probably also write what it prints (I&#39;m guessing 5?)","body":"You should probably also write what it prints (I&#39;m guessing 5?)"},{"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"score":1,"creation_date":1515705701,"post_id":48215842,"comment_id":83413842,"body_markdown":"it prints 10. cause this is the last set","body":"it prints 10. cause this is the last set"}],"answers":[{"comments":[{"owner":{"account_id":1023396,"reputation":963,"user_id":1033203,"accept_rate":64,"display_name":"Anomaly"},"score":0,"creation_date":1515706253,"post_id":48215933,"comment_id":83414094,"body_markdown":"This is still strange though, because it prints 10. That means that the &quot;int a = 10;&quot; line is treated as coming first for declaration purposes, but is executed second - is there any explanation for this behavior?","body":"This is still strange though, because it prints 10. That means that the &quot;int a = 10;&quot; line is treated as coming first for declaration purposes, but is executed second - is there any explanation for this behavior?"},{"owner":{"account_id":1023396,"reputation":963,"user_id":1033203,"accept_rate":64,"display_name":"Anomaly"},"score":0,"creation_date":1515707231,"post_id":48215933,"comment_id":83414561,"body_markdown":"Ok, after your edit this makes more sense, and yours is once again the best answer. I still haven&#39;t seen any &quot;official&quot; documentation stating that this is how it happens - as you mention, the official documentation you link to is misleading. I would be happy to see an official enumeration of the rule that the declaration stays where it is, and the rest of the code is &quot;yanked&quot; to the beginning of the constructor in order.","body":"Ok, after your edit this makes more sense, and yours is once again the best answer. I still haven&#39;t seen any &quot;official&quot; documentation stating that this is how it happens - as you mention, the official documentation you link to is misleading. I would be happy to see an official enumeration of the rule that the declaration stays where it is, and the rest of the code is &quot;yanked&quot; to the beginning of the constructor in order."},{"owner":{"account_id":1023396,"reputation":963,"user_id":1033203,"accept_rate":64,"display_name":"Anomaly"},"score":0,"creation_date":1515707258,"post_id":48215933,"comment_id":83414575,"body_markdown":"If the first `a=5` line is taken out of the initializer block, the code fails to compile, due to being referenced before declaration, but in an initializer block it works just fine. I suppose the reason why is &quot;because that&#39;s how it&#39;s defined,&quot; but I would like to see where it is defined this way.","body":"If the first <code>a=5</code> line is taken out of the initializer block, the code fails to compile, due to being referenced before declaration, but in an initializer block it works just fine. I suppose the reason why is &quot;because that&#39;s how it&#39;s defined,&quot; but I would like to see where it is defined this way."}],"tags":[],"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"comment_count":3,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1515708490,"creation_date":1515705485,"answer_id":48215933,"question_id":48215842,"body_markdown":"From [docs][1]:\r\n\r\n\r\n&gt; The Java compiler copies initializer blocks into every constructor.\r\n&gt; Therefore, this approach can be used to share a block of code between\r\n&gt; multiple constructors.\r\n\r\nThe above statement is slightly misleading, because if we follow the explanation of the above doc we can rewrite the original code like this:\r\n\r\n    public class WrongVersionOfWhyIsThisOk {\r\n            \r\n        int a = 10;\r\n        \r\n        public WhyIsThisOk (){\r\n            a = 5;\r\n        }\r\n        \r\n        public static void main(String[] args){\r\n            WrongVersionOfWhyIsThisOk why = new WrongVersionOfWhyIsThisOk ();\r\n            System.out.println(why.a);\r\n        }\r\n    }\r\n\r\nBut running `WrongVersionOfWhyIsThisOk ` will produce 5 instead of 10 that original code produces. \r\n\r\nBut in reality it is both the initializer block and variable assignment are  copied into constructor:\r\n\r\n    public class RightVersionOfWhyIsThisOk {\r\n        \r\n        int a;\r\n        \r\n        public RightVersionOfWhyIsThisOk (){\r\n            a = 5;\r\n            a = 10;\r\n        }\r\n        \r\n        public static void main(String[] args){\r\n            RightVersionOfWhyIsThisOk why = new RightVersionOfWhyIsThisOk ();\r\n            System.out.println(why.a);\r\n        }\r\n    }\r\n\r\n**Update:**\r\n\r\nHere is the [doc][2] describing in detail the initialization order and constructor invocation:\r\n\r\n&gt; 4) Execute the instance initializers and instance variable\r\n&gt; initializers for this class, assigning the values of instance variable\r\n&gt; initializers to the corresponding instance variables, in the\r\n&gt; left-to-right order in which they appear textually in the source code\r\n&gt; for the class. If execution of any of these initializers results in an\r\n&gt; exception, then no further initializers are processed and this\r\n&gt; procedure completes abruptly with that same exception. Otherwise,\r\n&gt; continue with step 5.\r\n&gt; \r\n&gt; 5) Execute the rest of the body of this constructor. If that execution\r\n&gt; completes abruptly, then this procedure completes abruptly for the\r\n&gt; same reason. Otherwise, this procedure completes normally.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.5","title":"Why can my instance initializer block reference a field before it is declared?","body":"<p>From <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>The Java compiler copies initializer blocks into every constructor.\n  Therefore, this approach can be used to share a block of code between\n  multiple constructors.</p>\n</blockquote>\n\n<p>The above statement is slightly misleading, because if we follow the explanation of the above doc we can rewrite the original code like this:</p>\n\n<pre><code>public class WrongVersionOfWhyIsThisOk {\n\n    int a = 10;\n\n    public WhyIsThisOk (){\n        a = 5;\n    }\n\n    public static void main(String[] args){\n        WrongVersionOfWhyIsThisOk why = new WrongVersionOfWhyIsThisOk ();\n        System.out.println(why.a);\n    }\n}\n</code></pre>\n\n<p>But running <code>WrongVersionOfWhyIsThisOk</code> will produce 5 instead of 10 that original code produces. </p>\n\n<p>But in reality it is both the initializer block and variable assignment are  copied into constructor:</p>\n\n<pre><code>public class RightVersionOfWhyIsThisOk {\n\n    int a;\n\n    public RightVersionOfWhyIsThisOk (){\n        a = 5;\n        a = 10;\n    }\n\n    public static void main(String[] args){\n        RightVersionOfWhyIsThisOk why = new RightVersionOfWhyIsThisOk ();\n        System.out.println(why.a);\n    }\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>Here is the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.5\" rel=\"nofollow noreferrer\">doc</a> describing in detail the initialization order and constructor invocation:</p>\n\n<blockquote>\n  <p>4) Execute the instance initializers and instance variable\n  initializers for this class, assigning the values of instance variable\n  initializers to the corresponding instance variables, in the\n  left-to-right order in which they appear textually in the source code\n  for the class. If execution of any of these initializers results in an\n  exception, then no further initializers are processed and this\n  procedure completes abruptly with that same exception. Otherwise,\n  continue with step 5.</p>\n  \n  <p>5) Execute the rest of the body of this constructor. If that execution\n  completes abruptly, then this procedure completes abruptly for the\n  same reason. Otherwise, this procedure completes normally.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10133128,"reputation":172,"user_id":7487544,"accept_rate":43,"display_name":"Greg Artisi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672254654,"creation_date":1515705513,"answer_id":48215943,"question_id":48215842,"body_markdown":"The instance initialization blocs are called at the instance creation time.so it is normal that After the creation of the why object, it Works.\r\n\r\nThe order of initialization is:\r\n1. static bloc\r\n2. constructor\r\n3. instance blocs on order of appearance\r\n","title":"Why can my instance initializer block reference a field before it is declared?","body":"<p>The instance initialization blocs are called at the instance creation time.so it is normal that After the creation of the why object, it Works.</p>\n<p>The order of initialization is:</p>\n<ol>\n<li>static bloc</li>\n<li>constructor</li>\n<li>instance blocs on order of appearance</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2590393,"reputation":1553,"user_id":2245234,"accept_rate":51,"display_name":"Jeeppp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515706108,"creation_date":1515706108,"answer_id":48216079,"question_id":48215842,"body_markdown":"The contents of initializer block are executed whenever any constructor is invoked (before the constructor’s contents).\r\n\r\nSo you can provide reference to any variables as they will not be used unless a constructor is invoked aka. object is created.","title":"Why can my instance initializer block reference a field before it is declared?","body":"<p>The contents of initializer block are executed whenever any constructor is invoked (before the constructor’s contents).</p>\n\n<p>So you can provide reference to any variables as they will not be used unless a constructor is invoked aka. object is created.</p>\n"},{"tags":[],"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515706508,"creation_date":1515706508,"answer_id":48216172,"question_id":48215842,"body_markdown":"The order of declaration is not important. You could also write:\r\n\r\n    public  class WhyIsThisOk {\r\n        \r\n        {\r\n            a = 5;\r\n        }\r\n\r\n        public WhyIsThisOk() {\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(new WhyIsThisOk().a);\r\n        }\r\n    \r\n        int a = 10;\r\n    }\r\n\r\nImportant is, that the compiler copies (top down) first `a=5` and then `a=10` into constructor so it looks like:\r\n\r\n    public WhyIsThisOk() {\r\n        a = 5;\r\n        a = 10;\r\n    }\r\n\r\nFinally look at this example:\r\n\r\n    public class WhyIsThisOk {\r\n        \r\n        {\r\n            a = get5();\r\n        }\r\n        \r\n        public WhyIsThisOk() {\r\n            a = get7();\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            System.out.println(new WhyIsThisOk().a);\r\n        }\r\n        \r\n        int a = get10();\r\n        \r\n        public static int get5() {\r\n            System.out.println(&quot;get5 from: &quot; + new Exception().getStackTrace()[1].getMethodName());\r\n            return 5;\r\n        }\r\n        \r\n        public static int get7() {\r\n            System.out.println(&quot;get7 from: &quot; + new Exception().getStackTrace()[1].getMethodName());\r\n            return 7;\r\n        }\r\n        \r\n        public static int get10() {\r\n            System.out.println(&quot;get10 from: &quot; + new Exception().getStackTrace()[1].getMethodName());\r\n            return 10;\r\n        }\r\n    }\r\n\r\nOutput is:\r\n\r\n    get5 from: &lt;init&gt;\r\n    get10 from: &lt;init&gt;\r\n    get7 from: &lt;init&gt;\r\n    7\r\n\r\n\r\n","title":"Why can my instance initializer block reference a field before it is declared?","body":"<p>The order of declaration is not important. You could also write:</p>\n\n<pre><code>public  class WhyIsThisOk {\n\n    {\n        a = 5;\n    }\n\n    public WhyIsThisOk() {\n    }\n\n    public static void main(String[] args) {\n        System.out.println(new WhyIsThisOk().a);\n    }\n\n    int a = 10;\n}\n</code></pre>\n\n<p>Important is, that the compiler copies (top down) first <code>a=5</code> and then <code>a=10</code> into constructor so it looks like:</p>\n\n<pre><code>public WhyIsThisOk() {\n    a = 5;\n    a = 10;\n}\n</code></pre>\n\n<p>Finally look at this example:</p>\n\n<pre><code>public class WhyIsThisOk {\n\n    {\n        a = get5();\n    }\n\n    public WhyIsThisOk() {\n        a = get7();\n    }\n\n    public static void main(String[] args) {\n        System.out.println(new WhyIsThisOk().a);\n    }\n\n    int a = get10();\n\n    public static int get5() {\n        System.out.println(\"get5 from: \" + new Exception().getStackTrace()[1].getMethodName());\n        return 5;\n    }\n\n    public static int get7() {\n        System.out.println(\"get7 from: \" + new Exception().getStackTrace()[1].getMethodName());\n        return 7;\n    }\n\n    public static int get10() {\n        System.out.println(\"get10 from: \" + new Exception().getStackTrace()[1].getMethodName());\n        return 10;\n    }\n}\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>get5 from: &lt;init&gt;\nget10 from: &lt;init&gt;\nget7 from: &lt;init&gt;\n7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1023396,"reputation":963,"user_id":1033203,"accept_rate":64,"display_name":"Anomaly"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515757553,"creation_date":1515708024,"answer_id":48216496,"question_id":48215842,"body_markdown":"From [docs][1]:\r\n\r\n&gt; 8.3.2.3. Restrictions on the use of Fields during Initialization\r\n&gt; ----------------------------------------------------------------\r\n&gt; \r\n&gt; The declaration of a member needs to appear textually before it is\r\n&gt; used only if the member is an instance (respectively static) field of\r\n&gt; a class or interface C and all of the following conditions hold:\r\n&gt; \r\n&gt;  - The usage occurs in an instance (respectively static) variable    initializer of C or in an instance (respectively static) initializer  \r\n&gt; of C.\r\n&gt;    \r\n&gt;  - The usage is not on the left hand side of an assignment.\r\n&gt;    \r\n&gt;  - The usage is via a simple name.\r\n&gt;    \r\n&gt;  - C is the innermost class or interface enclosing the usage.\r\n&gt; \r\n&gt; **It is a compile-time error if any of the four requirements above are\r\n&gt; not met**\r\n\r\nIn this case, the usage is on the left hand side of the assignment, so it is not a compile-time error.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3.2.3","title":"Why can my instance initializer block reference a field before it is declared?","body":"<p>From <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3.2.3\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <h2>8.3.2.3. Restrictions on the use of Fields during Initialization</h2>\n  \n  <p>The declaration of a member needs to appear textually before it is\n  used only if the member is an instance (respectively static) field of\n  a class or interface C and all of the following conditions hold:</p>\n  \n  <ul>\n  <li><p>The usage occurs in an instance (respectively static) variable    initializer of C or in an instance (respectively static) initializer<br>\n  of C.</p></li>\n  <li><p>The usage is not on the left hand side of an assignment.</p></li>\n  <li><p>The usage is via a simple name.</p></li>\n  <li><p>C is the innermost class or interface enclosing the usage.</p></li>\n  </ul>\n  \n  <p><strong>It is a compile-time error if any of the four requirements above are\n  not met</strong></p>\n</blockquote>\n\n<p>In this case, the usage is on the left hand side of the assignment, so it is not a compile-time error.</p>\n"}],"owner":{"account_id":1023396,"reputation":963,"user_id":1033203,"accept_rate":64,"display_name":"Anomaly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":48215933,"answer_count":5,"score":8,"last_activity_date":1672254654,"creation_date":1515705019,"question_id":48215842,"body_markdown":"My understanding is that you cannot reference a variable before it has been declared, and that all code (including instance initializers) that is within the body of a class, but outside of any method, is executed in order before constructor when the object is created (the exception being `static` variables and initializer blocks, which are run in order at the beginning of the program, to initialize the entire class). Why, then, does the following code compile (and run!):\r\n\r\n    public class WhyIsThisOk {\r\n        { a = 5; } // why is this ok???\r\n        int a = 10;\r\n\r\n        public WhyIsThisOk() {\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            WhyIsThisOk why = new WhyIsThisOk();\r\n            System.out.println(why.a); // 10\r\n        }\r\n    }","title":"Why can my instance initializer block reference a field before it is declared?","body":"<p>My understanding is that you cannot reference a variable before it has been declared, and that all code (including instance initializers) that is within the body of a class, but outside of any method, is executed in order before constructor when the object is created (the exception being <code>static</code> variables and initializer blocks, which are run in order at the beginning of the program, to initialize the entire class). Why, then, does the following code compile (and run!):</p>\n\n<pre><code>public class WhyIsThisOk {\n    { a = 5; } // why is this ok???\n    int a = 10;\n\n    public WhyIsThisOk() {\n    }\n\n    public static void main(String[] args) {\n        WhyIsThisOk why = new WhyIsThisOk();\n        System.out.println(why.a); // 10\n    }\n}\n</code></pre>\n"},{"tags":["java","jdbc","hive","derby"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1672192489,"post_id":74935347,"comment_id":132239531,"body_markdown":"Summary of reasons for this exception from a different context: https://stackoverflow.com/a/1911487/13447","body":"Summary of reasons for this exception from a different context: <a href=\"https://stackoverflow.com/a/1911487/13447\">stackoverflow.com/a/1911487/13447</a>"},{"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"score":0,"creation_date":1672241869,"post_id":74935347,"comment_id":132249809,"body_markdown":"Are you certain that your Derby Network Server is up and running on port 1527?","body":"Are you certain that your Derby Network Server is up and running on port 1527?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672254327,"post_id":74935347,"comment_id":132253422,"body_markdown":"@BryanPendleton Hive should start an embedded Derby on its own. Error says driver isn&#39;t found","body":"@BryanPendleton Hive should start an embedded Derby on its own. Error says driver isn&#39;t found"}],"owner":{"account_id":16185957,"reputation":3,"user_id":11686099,"display_name":"Ahmed Zedan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672313040,"answer_count":0,"score":0,"last_activity_date":1672254264,"creation_date":1672188976,"question_id":74935347,"body_markdown":"when i run $HIVE_HOME/bin/schematool -initSchema -dbType derby\r\n\r\nthe output is \r\n```\r\nMetastore connection URL:\t jdbc:derby://localhost:1527/metastore_db;create=true\r\nMetastore Connection Driver :\t org.apache.derby.jdbc.EmbeddedDriver\r\nMetastore connection User:\t APP\r\norg.apache.hadoop.hive.metastore.HiveMetaException: Failed to get schema version.\r\nUnderlying cause: java.sql.SQLException : No suitable driver found for jdbc:derby://localhost:1527/metastore_db;create=true\r\nSQL Error code: 0\r\nUse --verbose for detailed stacktrace.\r\n*** schemaTool failed ***\r\n```\r\n\r\n","title":"I can not initiate derby schema","body":"<p>when i run $HIVE_HOME/bin/schematool -initSchema -dbType derby</p>\n<p>the output is</p>\n<pre><code>Metastore connection URL:    jdbc:derby://localhost:1527/metastore_db;create=true\nMetastore Connection Driver :    org.apache.derby.jdbc.EmbeddedDriver\nMetastore connection User:   APP\norg.apache.hadoop.hive.metastore.HiveMetaException: Failed to get schema version.\nUnderlying cause: java.sql.SQLException : No suitable driver found for jdbc:derby://localhost:1527/metastore_db;create=true\nSQL Error code: 0\nUse --verbose for detailed stacktrace.\n*** schemaTool failed ***\n</code></pre>\n"},{"tags":["java","io","objectoutputstream"],"answers":[{"tags":[],"owner":{"account_id":9847,"reputation":3573,"user_id":18338,"accept_rate":100,"display_name":"Max Stewart"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1222468347,"creation_date":1222468347,"answer_id":142367,"question_id":142317,"body_markdown":"The stream has a reference graph, so an object which is sent twice will not give two objects on the other end, you will only get one. And sending the same object twice separately will give you the same instance twice (each with the same data - which is what you&#39;re seeing).\r\n\r\nSee the reset() method if you want to reset the graph.","title":"Sending the same but modifed object over ObjectOutputStream","body":"<p>The stream has a reference graph, so an object which is sent twice will not give two objects on the other end, you will only get one. And sending the same object twice separately will give you the same instance twice (each with the same data - which is what you're seeing).</p>\n\n<p>See the reset() method if you want to reset the graph.</p>\n"},{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":4,"creation_date":1222524908,"post_id":142704,"comment_id":39548,"body_markdown":"That will work in this case, but will generally cause really odd errors. Any component object written will still be shared. So for instance if the List above was wrapped with Collections.synchronizedList, the problem would remain. writeUnshared is not very useful.","body":"That will work in this case, but will generally cause really odd errors. Any component object written will still be shared. So for instance if the List above was wrapped with Collections.synchronizedList, the problem would remain. writeUnshared is not very useful."}],"tags":[],"owner":{"account_id":11354,"reputation":27694,"user_id":21838,"accept_rate":82,"display_name":"Pyrolistical"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1222708358,"creation_date":1222478808,"answer_id":142704,"question_id":142317,"body_markdown":"Max is correct, but you can also use:\r\n\r\n    public void writeUnshared(Object obj);\r\n\r\nSee comment below for caveat","title":"Sending the same but modifed object over ObjectOutputStream","body":"<p>Max is correct, but you can also use:</p>\n\n<pre><code>public void writeUnshared(Object obj);\n</code></pre>\n\n<p>See comment below for caveat</p>\n"}],"owner":{"account_id":11354,"reputation":27694,"user_id":21838,"accept_rate":82,"display_name":"Pyrolistical"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5469,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":142367,"answer_count":2,"score":23,"last_activity_date":1672253220,"creation_date":1222467423,"question_id":142317,"body_markdown":"I have the following code that shows either a bug or a misunderstanding on my part.\r\n\r\nI sent the same list, but modified over an ObjectOutputStream.  Once as [0] and other as [1].  But when I read it, I get [0] twice.  I think this is caused by the fact that I am sending over the same object and ObjectOutputStream must be caching them somehow.\r\n\r\nIs this work as it should, or should I file a bug?\r\n\r\n```java\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.*;\r\n\r\npublic class OOS {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Thread t1 = new Thread(new Runnable() {\r\n            public void run() {\r\n                try {\r\n                    ServerSocket ss = new ServerSocket(12344);\r\n                    Socket s= ss.accept();\r\n\r\n                    ObjectOutputStream oos = new ObjectOutputStream(s.getOutputStream());\r\n                    List&lt;Integer&gt; same = new ArrayList&lt;Integer&gt;();\r\n                    same.add(0);\r\n                    oos.writeObject(same);\r\n                    same.clear();\r\n                    same.add(1);\r\n                    oos.writeObject(same);\r\n\r\n                } catch(Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        t1.start();\r\n\r\n        Socket s = new Socket(&quot;localhost&quot;, 12344);\r\n        ObjectInputStream ois = new ObjectInputStream(s.getInputStream());\r\n\r\n        // outputs [0] as expected\r\n        System.out.println(ois.readObject());\r\n\r\n        // outputs [0], but expected [1]\r\n        System.out.println(ois.readObject());\r\n        System.exit(0);\r\n    }\r\n}\r\n```","title":"Sending the same but modifed object over ObjectOutputStream","body":"<p>I have the following code that shows either a bug or a misunderstanding on my part.</p>\n<p>I sent the same list, but modified over an ObjectOutputStream.  Once as [0] and other as [1].  But when I read it, I get [0] twice.  I think this is caused by the fact that I am sending over the same object and ObjectOutputStream must be caching them somehow.</p>\n<p>Is this work as it should, or should I file a bug?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.net.*;\nimport java.util.*;\n\npublic class OOS {\n\n    public static void main(String[] args) throws Exception {\n        Thread t1 = new Thread(new Runnable() {\n            public void run() {\n                try {\n                    ServerSocket ss = new ServerSocket(12344);\n                    Socket s= ss.accept();\n\n                    ObjectOutputStream oos = new ObjectOutputStream(s.getOutputStream());\n                    List&lt;Integer&gt; same = new ArrayList&lt;Integer&gt;();\n                    same.add(0);\n                    oos.writeObject(same);\n                    same.clear();\n                    same.add(1);\n                    oos.writeObject(same);\n\n                } catch(Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        t1.start();\n\n        Socket s = new Socket(&quot;localhost&quot;, 12344);\n        ObjectInputStream ois = new ObjectInputStream(s.getInputStream());\n\n        // outputs [0] as expected\n        System.out.println(ois.readObject());\n\n        // outputs [0], but expected [1]\n        System.out.println(ois.readObject());\n        System.exit(0);\n    }\n}\n</code></pre>\n"},{"tags":["python","java","aspose","aspose-cells","jpype"],"answers":[{"tags":[],"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672253019,"creation_date":1672253019,"answer_id":74943896,"question_id":74936885,"body_markdown":"Your code is wrong. Please note, Cells class is not static, the method convertStringToNumericValue is not static method. Please try the following sample code:\r\n\r\ne.g.\r\n\r\n**Sample code:**\r\n\r\n```java\r\nimport jpype\r\nimport asposecells\r\njpype.startJVM()\r\nfrom asposecells.api import Workbook, Cells\r\n\r\nworkbook = Workbook()\r\ncells = workbook.getWorksheets().get(0).getCells()\r\ncells.convertStringToNumericValue()\r\n\r\njpype.shutdownJVM()\r\n```\r\n\r\nMoreover, we recommend you to kindly try latest version/fix (Aspose.Cells for Python via Java v22.12) of the API.\r\n\r\nShould you have further queries, you may also post your queries in other [forum][1].\r\n\r\nPS. I am working as Support developer/ Evangelist at Aspose. \r\n\r\n\r\n  [1]: https://forum.aspose.com/c/cells/9","title":"No matching overloads found for *static* com.aspose.cells","body":"<p>Your code is wrong. Please note, Cells class is not static, the method convertStringToNumericValue is not static method. Please try the following sample code:</p>\n<p>e.g.</p>\n<p><strong>Sample code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import jpype\nimport asposecells\njpype.startJVM()\nfrom asposecells.api import Workbook, Cells\n\nworkbook = Workbook()\ncells = workbook.getWorksheets().get(0).getCells()\ncells.convertStringToNumericValue()\n\njpype.shutdownJVM()\n</code></pre>\n<p>Moreover, we recommend you to kindly try latest version/fix (Aspose.Cells for Python via Java v22.12) of the API.</p>\n<p>Should you have further queries, you may also post your queries in other <a href=\"https://forum.aspose.com/c/cells/9\" rel=\"nofollow noreferrer\">forum</a>.</p>\n<p>PS. I am working as Support developer/ Evangelist at Aspose.</p>\n"}],"owner":{"account_id":27370956,"reputation":3,"user_id":20877008,"display_name":"myDAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74943896,"answer_count":1,"score":0,"last_activity_date":1672253019,"creation_date":1672208365,"question_id":74936885,"body_markdown":"I have this code in python running jpype and asposeCells libraries, the purpose of this code is to convert numbers in text format (cells with green arrow) into actual numeric value\r\n\r\n```\r\nimport jpype\r\nimport asposecells\r\njpype.statJVM()\r\nfrom asposecells.api import Workbook, Cells\r\n\r\nworkbook = Workbook(Filepath)\r\nworkbook.getWorksheets().get(0)\r\nCells.convertStringToNumericValue()\r\nworkbook.save(Filepath)\r\n\r\njpype.shutdownJVM()\r\n```\r\n\r\nAnd I encountered this error:\r\n\r\nNo matching overloads found for \\*static\\* com.aspose.cells.Cells.convertStringToNumericValue(), options are public void com.aspose.cells.Cells.convertStringToNumericValue()\r\n\r\nTraceback (most recent call last):\r\nFile &quot;\\&lt;string\\&gt;&quot;, line 8, in \\&lt;module\\&gt;\r\nTypeError: No matching overloads found for \\*static\\* com.aspose.cells.Cells.convertStringToNumericValue(), options are public void com.aspose.cells.Cells.convertStringToNumericValue()\r\n\r\nAppreciate your assistance in resolving this issue, thanks!\r\n\r\nThe code is use to convert numbers that are in text format into actual number values, server environment is in Linux so I can&#39;t use win32 module, so aspose is my only known option to use, but I&#39;m not expert in converting codes from Java to Python.","title":"No matching overloads found for *static* com.aspose.cells","body":"<p>I have this code in python running jpype and asposeCells libraries, the purpose of this code is to convert numbers in text format (cells with green arrow) into actual numeric value</p>\n<pre><code>import jpype\nimport asposecells\njpype.statJVM()\nfrom asposecells.api import Workbook, Cells\n\nworkbook = Workbook(Filepath)\nworkbook.getWorksheets().get(0)\nCells.convertStringToNumericValue()\nworkbook.save(Filepath)\n\njpype.shutdownJVM()\n</code></pre>\n<p>And I encountered this error:</p>\n<p>No matching overloads found for *static* com.aspose.cells.Cells.convertStringToNumericValue(), options are public void com.aspose.cells.Cells.convertStringToNumericValue()</p>\n<p>Traceback (most recent call last):\nFile &quot;&lt;string&gt;&quot;, line 8, in &lt;module&gt;\nTypeError: No matching overloads found for *static* com.aspose.cells.Cells.convertStringToNumericValue(), options are public void com.aspose.cells.Cells.convertStringToNumericValue()</p>\n<p>Appreciate your assistance in resolving this issue, thanks!</p>\n<p>The code is use to convert numbers that are in text format into actual number values, server environment is in Linux so I can't use win32 module, so aspose is my only known option to use, but I'm not expert in converting codes from Java to Python.</p>\n"},{"tags":["java","spring","multithreading"],"comments":[{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1672253841,"post_id":74943653,"comment_id":132253305,"body_markdown":"Not clear why you expect the code using async to perform better.","body":"Not clear why you expect the code using async to perform better."},{"owner":{"account_id":13254073,"reputation":23,"user_id":9570749,"display_name":"Pawan Gorai"},"score":0,"creation_date":1672254006,"post_id":74943653,"comment_id":132253346,"body_markdown":"Since it will be called asynchronously so it should perform better than the synchronous calls made by tomcat ? isn&#39;t it ?","body":"Since it will be called asynchronously so it should perform better than the synchronous calls made by tomcat ? isn&#39;t it ?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1672608738,"post_id":74943653,"comment_id":132312932,"body_markdown":"&quot;asynchronous&quot; doesn&#39;t mean &quot;faster&quot;. Asynchronicity generally means having additional complexity to synchronize and switch contexts. But if your server is waiting for other tasks to finish, then asynchronous code can help. It all depends. There is no one-size-fits-all answer.","body":"&quot;asynchronous&quot; doesn&#39;t mean &quot;faster&quot;. Asynchronicity generally means having additional complexity to synchronize and switch contexts. But if your server is waiting for other tasks to finish, then asynchronous code can help. It all depends. There is no one-size-fits-all answer."}],"owner":{"account_id":13254073,"reputation":23,"user_id":9570749,"display_name":"Pawan Gorai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1672252857,"creation_date":1672251285,"question_id":74943653,"body_markdown":"Do really we can achieve multithreading and increase the performance as comparable to multithreading provided by tomcat server?\r\n\r\nCode snippet with @Async and CompletableFuture \r\n\r\nController --\r\n\r\n    @Async(&quot;asyncExecutor&quot;)\r\n    @GetMapping(&quot;/somePath&quot;)\r\n    public CompletableFuture&lt;...&gt; someName( @RequestParam(&quot;someParam&quot;) String someParam) {\r\n    // code snippet\r\n    ....\r\n    return CompletableFuture.completedFuture(ResponseEntity.ok.body(response));\r\n    \r\n    } catch (Exception e) {\r\n     // code snippet\r\n    ...\r\n    return CompletableFuture.completedFuture(ResponseEntity.status(400).body(response));\r\n    }\r\nService --\r\n\r\n    @Override\r\n    public String someName(String someParam) {\r\n    // code snippet including DB calls (repository class calls)\r\n    }\r\n\r\n\r\nSo, will the above method really improve the performance as comparable to tomcat multithreading?\r\n\r\nI checked with some 20-50 concurrent reqs using JMeter and I am getting better response time in tomcat multithreading as comparable to the above code which is using @Async and CompletableFuture.\r\n\r\nOr\r\n\r\nMy implementation is wrong? \r\n","title":"Spring @Async and CompletableFuture for achieving multithreading in java","body":"<p>Do really we can achieve multithreading and increase the performance as comparable to multithreading provided by tomcat server?</p>\n<p>Code snippet with @Async and CompletableFuture</p>\n<p>Controller --</p>\n<pre><code>@Async(&quot;asyncExecutor&quot;)\n@GetMapping(&quot;/somePath&quot;)\npublic CompletableFuture&lt;...&gt; someName( @RequestParam(&quot;someParam&quot;) String someParam) {\n// code snippet\n....\nreturn CompletableFuture.completedFuture(ResponseEntity.ok.body(response));\n\n} catch (Exception e) {\n // code snippet\n...\nreturn CompletableFuture.completedFuture(ResponseEntity.status(400).body(response));\n}\n</code></pre>\n<p>Service --</p>\n<pre><code>@Override\npublic String someName(String someParam) {\n// code snippet including DB calls (repository class calls)\n}\n</code></pre>\n<p>So, will the above method really improve the performance as comparable to tomcat multithreading?</p>\n<p>I checked with some 20-50 concurrent reqs using JMeter and I am getting better response time in tomcat multithreading as comparable to the above code which is using @Async and CompletableFuture.</p>\n<p>Or</p>\n<p>My implementation is wrong?</p>\n"},{"tags":["java","spring","model-view-controller"],"answers":[{"comments":[{"owner":{"account_id":10845175,"reputation":1,"user_id":7974958,"display_name":"Sabir Ali"},"score":0,"creation_date":1673598812,"post_id":74943845,"comment_id":132539619,"body_markdown":"Yes. After cleaning Maven Lifecilcle it normal works. I found the solution after more deep digging the Internet. Thank you! PS. So it`s very strange that it is not documented anywhere.","body":"Yes. After cleaning Maven Lifecilcle it normal works. I found the solution after more deep digging the Internet. Thank you! PS. So it`s very strange that it is not documented anywhere."}],"tags":[],"owner":{"account_id":22096137,"reputation":1,"user_id":16353409,"display_name":"Alexey Dementiev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672252667,"creation_date":1672252667,"answer_id":74943845,"question_id":74938704,"body_markdown":"First of all: &quot;because javax doesn&#39;t work anymore&quot; -  it&#39;s not true. You can use javax.servlet-api 4.0.1 without any problems. \r\n\r\nIt looks like all you&#39;ve done all things to use PATCH. \r\nTry to clean MAVEN (look at the screenshot) and restart your server. \r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BkJ6L.png","title":"Method &#39;POST&#39; is not supported error. Using PATCH method with Thymeleaf. The hiddenHttpMethodFilter doesn`t work for me in Spring MVC","body":"<p>First of all: &quot;because javax doesn't work anymore&quot; -  it's not true. You can use javax.servlet-api 4.0.1 without any problems.</p>\n<p>It looks like all you've done all things to use PATCH.\nTry to clean MAVEN (look at the screenshot) and restart your server.\n<a href=\"https://i.stack.imgur.com/BkJ6L.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":10845175,"reputation":1,"user_id":7974958,"display_name":"Sabir Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672252667,"creation_date":1672221004,"question_id":74938704,"body_markdown":"I am very new in Java Spring and I`m learning it now. I try to update my simple like &quot;Hello World&quot; Spring MVC application. This is not a Spring Boot app. That is why there is no application.settings file in the project.resources folder (but actually resources is not a folder - it is link to a settings of the project, where I couldn&#39;t find solution of the problem). So, when I run this app and open edit.html page with form where th:method=&quot;PATCH&quot; parameter used, I get the error above. \r\n\r\nThe code of the edit.html page:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Update Person&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;!-- we have to use &#39;th:&#39; because standard formatting does not support PATCH method (only GET and POST) --&gt;\r\n&lt;form th:method=&quot;PATCH&quot; th:action=&quot;@{/people/{id}(id=${person.getId()})}&quot; th:object=&quot;${person}&quot;&gt;\r\n  &lt;label for=&quot;name&quot;&gt;Enter name: &lt;/label&gt;\r\n  &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; id=&quot;name&quot;/&gt;\r\n  &lt;br/&gt;\r\n  &lt;input type=&quot;submit&quot; value=&quot;Update!&quot;/&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nThe controller methods:\r\n\r\n```\r\n\r\n// Open page to edit person`s fields\r\n@GetMapping(&quot;/{id}/edit&quot;)\r\npublic String edit(@PathVariable(&quot;id&quot;) int id, Model model) {\r\n    // to edit data, we better see what we will edit:\r\n    model.addAttribute(&quot;person&quot;, personDAO.show(id));\r\n    return &quot;people/edit&quot;;\r\n}\r\n\r\n// by method PATCH from edit form we get object Person to update person`s data by id\r\n@PatchMapping(&quot;/{id}&quot;)\r\npublic String update(@ModelAttribute(&quot;person&quot;) Person person, @PathVariable(&quot;id&quot;) int id) {\r\n    personDAO.update(id, person);\r\n    return &quot;redirect:/people&quot;;\r\n}\r\n\r\n\r\n```\r\n\r\nAnd I use code below in my public class MySpringMvcDispatcherServletInitializer witch extends AbstractAnnotationConfigDispatcherServletInitializer class to allow hidden http methods:\r\n\r\n```\r\n@Override\r\npublic void onStartup(ServletContext aServletContext) throws ServletException {\r\n    super.onStartup(aServletContext);\r\n    registerHiddenFieldFilter(aServletContext);\r\n}\r\n\r\nprivate void registerHiddenFieldFilter(ServletContext aContext) {\r\n    aContext.addFilter(&quot;hiddenHttpMethodFilter&quot;,\r\n    new HiddenHttpMethodFilter()).addMappingForUrlPatterns(null, true, &quot;/*&quot;);\r\n}\r\n```\r\nI use dependency of jakarta, because javax doesn&#39;t work anymore:\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n  &lt;version&gt;6.0.0&lt;/version&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI want to use PATCH, DELETE methods in my html file, but as I see that the program does not recognize that I trying to allow hidden filter (code above). \r\n\r\nProject structure is:\r\n\r\n[enter image description here](https://i.stack.imgur.com/Zbwf8.png)\r\n\r\n\r\n\r\nI was looking for this problem in the forum and the Internet. But everywhere people talk about Spring Boot (in my case it is not - it is simple web app using Spring MVC structure) and application.settings file. What is wrong in my case? ","title":"Method &#39;POST&#39; is not supported error. Using PATCH method with Thymeleaf. The hiddenHttpMethodFilter doesn`t work for me in Spring MVC","body":"<p>I am very new in Java Spring and I`m learning it now. I try to update my simple like &quot;Hello World&quot; Spring MVC application. This is not a Spring Boot app. That is why there is no application.settings file in the project.resources folder (but actually resources is not a folder - it is link to a settings of the project, where I couldn't find solution of the problem). So, when I run this app and open edit.html page with form where th:method=&quot;PATCH&quot; parameter used, I get the error above.</p>\n<p>The code of the edit.html page:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Update Person&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;!-- we have to use 'th:' because standard formatting does not support PATCH method (only GET and POST) --&gt;\n&lt;form th:method=&quot;PATCH&quot; th:action=&quot;@{/people/{id}(id=${person.getId()})}&quot; th:object=&quot;${person}&quot;&gt;\n  &lt;label for=&quot;name&quot;&gt;Enter name: &lt;/label&gt;\n  &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot; id=&quot;name&quot;/&gt;\n  &lt;br/&gt;\n  &lt;input type=&quot;submit&quot; value=&quot;Update!&quot;/&gt;\n&lt;/form&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The controller methods:</p>\n<pre><code>\n// Open page to edit person`s fields\n@GetMapping(&quot;/{id}/edit&quot;)\npublic String edit(@PathVariable(&quot;id&quot;) int id, Model model) {\n    // to edit data, we better see what we will edit:\n    model.addAttribute(&quot;person&quot;, personDAO.show(id));\n    return &quot;people/edit&quot;;\n}\n\n// by method PATCH from edit form we get object Person to update person`s data by id\n@PatchMapping(&quot;/{id}&quot;)\npublic String update(@ModelAttribute(&quot;person&quot;) Person person, @PathVariable(&quot;id&quot;) int id) {\n    personDAO.update(id, person);\n    return &quot;redirect:/people&quot;;\n}\n\n\n</code></pre>\n<p>And I use code below in my public class MySpringMvcDispatcherServletInitializer witch extends AbstractAnnotationConfigDispatcherServletInitializer class to allow hidden http methods:</p>\n<pre><code>@Override\npublic void onStartup(ServletContext aServletContext) throws ServletException {\n    super.onStartup(aServletContext);\n    registerHiddenFieldFilter(aServletContext);\n}\n\nprivate void registerHiddenFieldFilter(ServletContext aContext) {\n    aContext.addFilter(&quot;hiddenHttpMethodFilter&quot;,\n    new HiddenHttpMethodFilter()).addMappingForUrlPatterns(null, true, &quot;/*&quot;);\n}\n</code></pre>\n<p>I use dependency of jakarta, because javax doesn't work anymore:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;6.0.0&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I want to use PATCH, DELETE methods in my html file, but as I see that the program does not recognize that I trying to allow hidden filter (code above).</p>\n<p>Project structure is:</p>\n<p><a href=\"https://i.stack.imgur.com/Zbwf8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I was looking for this problem in the forum and the Internet. But everywhere people talk about Spring Boot (in my case it is not - it is simple web app using Spring MVC structure) and application.settings file. What is wrong in my case?</p>\n"},{"tags":["java","android","frontend","android-manifest"],"owner":{"account_id":14956318,"reputation":11,"user_id":10797501,"display_name":"BARZAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672252551,"creation_date":1672229295,"question_id":74940067,"body_markdown":"guys i have bottom navigation view and it work good on android 7,8 but when i run app on higher android version like 10,11 have bottom navigation view error\r\n```\r\n.NullPointerException: Attempt to invoke virtual method &#39;void com.google.android.material.bottomnavigation.BottomNavigationView.setOnItemSelectedListener(com.google.android.material.navigation.NavigationBarView$OnItemSelectedListener)&#39; on a null object reference\r\n```\r\n\r\n\r\n```\r\nbottomNavigationView =(BottomNavigationView) findViewById(R.id.bottomNavigationView);\r\n bottomNavigationView.setOnItemSelectedListener(BaseActivity.this);\r\n\r\n FirstFragment  firstFragment = new FirstFragment();\r\n// SecondFragment secondFragment = new SecondFragment();\r\n// ThirdFragment thirdFragment = new ThirdFragment();\r\n bottomNavigationView.setOnItemSelectedListener(item -&gt; {\r\n     int id = item.getItemId();\r\n     switch(id){\r\n         case R.id.Profile_bottom:\r\n            startActivity(new Intent(BaseActivity.this,Profile.class));\r\n            finish();\r\n          //   getSupportFragmentManager().beginTransaction().replace(R.id.firstFragment, firstFragment).commit();\r\n\r\n             return true;\r\n\r\n         case R.id.home_bottom:\r\n             startActivity(new Intent(BaseActivity.this, MainActivity.class));\r\n             finish();\r\n             return true;\r\n         case R.id.Settings_bottom:\r\n             Intent intent=new Intent(BaseActivity.this,Setting.class);\r\n             startActivity(intent);\r\n             finish();\r\n             return true;\r\n         case R.id.tamirkaran_bottom:\r\n             Intent intent1=new Intent(BaseActivity.this,Tamirkaran.class);\r\n             startActivity(intent1);\r\n             finish();\r\n             return true;\r\n\r\n\r\n     }\r\n     return true;\r\n });\r\n```\r\n\r\n\r\n","title":"have problem with bottom navigation view in android","body":"<p>guys i have bottom navigation view and it work good on android 7,8 but when i run app on higher android version like 10,11 have bottom navigation view error</p>\n<pre><code>.NullPointerException: Attempt to invoke virtual method 'void com.google.android.material.bottomnavigation.BottomNavigationView.setOnItemSelectedListener(com.google.android.material.navigation.NavigationBarView$OnItemSelectedListener)' on a null object reference\n</code></pre>\n<pre><code>bottomNavigationView =(BottomNavigationView) findViewById(R.id.bottomNavigationView);\n bottomNavigationView.setOnItemSelectedListener(BaseActivity.this);\n\n FirstFragment  firstFragment = new FirstFragment();\n// SecondFragment secondFragment = new SecondFragment();\n// ThirdFragment thirdFragment = new ThirdFragment();\n bottomNavigationView.setOnItemSelectedListener(item -&gt; {\n     int id = item.getItemId();\n     switch(id){\n         case R.id.Profile_bottom:\n            startActivity(new Intent(BaseActivity.this,Profile.class));\n            finish();\n          //   getSupportFragmentManager().beginTransaction().replace(R.id.firstFragment, firstFragment).commit();\n\n             return true;\n\n         case R.id.home_bottom:\n             startActivity(new Intent(BaseActivity.this, MainActivity.class));\n             finish();\n             return true;\n         case R.id.Settings_bottom:\n             Intent intent=new Intent(BaseActivity.this,Setting.class);\n             startActivity(intent);\n             finish();\n             return true;\n         case R.id.tamirkaran_bottom:\n             Intent intent1=new Intent(BaseActivity.this,Tamirkaran.class);\n             startActivity(intent1);\n             finish();\n             return true;\n\n\n     }\n     return true;\n });\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":1449552,"reputation":482,"user_id":1366897,"accept_rate":67,"display_name":"jtmaher2"},"score":0,"creation_date":1362368595,"post_id":15193941,"comment_id":21408868,"body_markdown":"Thanks for pointing that out. I checked the data field for the root node and found that it started with a newline character.","body":"Thanks for pointing that out. I checked the data field for the root node and found that it started with a newline character."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1362366216,"creation_date":1362366216,"answer_id":15193941,"question_id":15193889,"body_markdown":"It is not `PrintWriter` that is inserting the blank line.  `PrintWriter` won&#39;t do that.\r\n\r\nThe actual cause of the problem is not shown in the code snippet you provided, but if the code is an accurate reflection of your real application, then the offending blank line is already in the result of the first `getData()` call.","title":"How can I prevent PrintWriter from printing a blank line at the beginning of each file?","body":"<p>It is not <code>PrintWriter</code> that is inserting the blank line.  <code>PrintWriter</code> won't do that.</p>\n\n<p>The actual cause of the problem is not shown in the code snippet you provided, but if the code is an accurate reflection of your real application, then the offending blank line is already in the result of the first <code>getData()</code> call.</p>\n"},{"comments":[{"owner":{"account_id":1449552,"reputation":482,"user_id":1366897,"accept_rate":67,"display_name":"jtmaher2"},"score":0,"creation_date":1671920770,"post_id":74903967,"comment_id":132197989,"body_markdown":"Thanks for the suggestion, but I abandoned Java a long time ago because of frustration with things like this. Maybe this will help somebody else, though.","body":"Thanks for the suggestion, but I abandoned Java a long time ago because of frustration with things like this. Maybe this will help somebody else, though."}],"tags":[],"owner":{"account_id":17178994,"reputation":33,"user_id":19521501,"display_name":"Ihor Volkov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672252319,"creation_date":1671829312,"answer_id":74903967,"question_id":15193889,"body_markdown":"Try to use `out.print(current.getData())` instead of `println()`. \r\nIt helped me to resolve this problem.\r\n\r\nUPD:\r\nIn case if you need to print several lines, let&#39;s say from an ArrayList (myList):\r\n\r\n    for (int i = 0; i &lt; myList.size(); i++) {\r\n         if (i == (myList.size() - 1)) {\r\n               out.print(myList.get(i));\r\n         } else {\r\n               out.println(myList.get(i));\r\n         }\r\n    }","title":"How can I prevent PrintWriter from printing a blank line at the beginning of each file?","body":"<p>Try to use <code>out.print(current.getData())</code> instead of <code>println()</code>.\nIt helped me to resolve this problem.</p>\n<p>UPD:\nIn case if you need to print several lines, let's say from an ArrayList (myList):</p>\n<pre><code>for (int i = 0; i &lt; myList.size(); i++) {\n     if (i == (myList.size() - 1)) {\n           out.print(myList.get(i));\n     } else {\n           out.println(myList.get(i));\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":1449552,"reputation":482,"user_id":1366897,"accept_rate":67,"display_name":"jtmaher2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15193941,"answer_count":2,"score":0,"last_activity_date":1672252319,"creation_date":1362365851,"question_id":15193889,"body_markdown":"I&#39;m trying to write a couple of methods to save a binary tree to a file. They work correctly, except for a slight problem. The problem is that a blank line is inserted at the beginning of each file that&#39;s created. Why is PrintWriter doing this, and how can I prevent it from happening?\r\n\r\nHere&#39;s my code:\r\n\r\n    import java.io.*;\r\n\r\n    void callSaveGame(String fileName) throws IOException {\r\n        PrintWriter out = new PrintWriter(new FileWriter(&quot;X:\\\\path\\\\to\\\\save\\\\directory\\\\&quot; + fileName)); // associate PrintWriter with file\r\n\r\n        saveGame(root, out);\r\n\r\n        out.close();\r\n    }\r\n    \r\n    void saveGame(Node current, PrintWriter out) {\r\n        if (current != null) {\r\n            out.println(current.getData()); // print node to file\r\n\r\n            saveGame(current.getLChild(), out); // call for left child(ren)\r\n\r\n            saveGame(current.getRChild(), out); // call for right child(ren)\r\n        }\r\n    }","title":"How can I prevent PrintWriter from printing a blank line at the beginning of each file?","body":"<p>I'm trying to write a couple of methods to save a binary tree to a file. They work correctly, except for a slight problem. The problem is that a blank line is inserted at the beginning of each file that's created. Why is PrintWriter doing this, and how can I prevent it from happening?</p>\n\n<p>Here's my code:</p>\n\n<pre><code>import java.io.*;\n\nvoid callSaveGame(String fileName) throws IOException {\n    PrintWriter out = new PrintWriter(new FileWriter(\"X:\\\\path\\\\to\\\\save\\\\directory\\\\\" + fileName)); // associate PrintWriter with file\n\n    saveGame(root, out);\n\n    out.close();\n}\n\nvoid saveGame(Node current, PrintWriter out) {\n    if (current != null) {\n        out.println(current.getData()); // print node to file\n\n        saveGame(current.getLChild(), out); // call for left child(ren)\n\n        saveGame(current.getRChild(), out); // call for right child(ren)\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","apache-poi"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1672182284,"post_id":74934267,"comment_id":132238085,"body_markdown":"Please format your code to remove the excessive (whitespace) leading indentation (see [What should I keep out of my posts and titles?](https://meta.stackexchange.com/q/131009/997587)). I also removed your request for design critique because that&#39;s not what Stack Overflow is for. You can take a look at https://codereview.stackexchange.com/help/on-topic and https://softwareengineering.stackexchange.com/help/on-topic for that to see your critique request is on topic there.","body":"Please format your code to remove the excessive (whitespace) leading indentation (see <a href=\"https://meta.stackexchange.com/q/131009/997587\">What should I keep out of my posts and titles?</a>). I also removed your request for design critique because that&#39;s not what Stack Overflow is for. You can take a look at <a href=\"https://codereview.stackexchange.com/help/on-topic\">codereview.stackexchange.com/help/on-topic</a> and <a href=\"https://softwareengineering.stackexchange.com/help/on-topic\">softwareengineering.stackexchange.com/help/on-topic</a> for that to see your critique request is on topic there."}],"answers":[{"tags":[],"owner":{"account_id":15776159,"reputation":592,"user_id":11383913,"display_name":"Ady"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672179606,"creation_date":1672179606,"answer_id":74934586,"question_id":74934267,"body_markdown":"Foreign keys or referential integrities need to be organized with cascade operations. Which means if you expect your data from an important table to be deleted then you have to cascade the delete operation to all those table whose data is dependent on that important table.\r\n\r\nFor eg. if you want to delete an employee &#39;emp-1&#39; from EMPLOYEE table then you should also delete it&#39;s address &#39;addr-1&#39; from a referenced ADDRESS table. Otherwise an unreferenced address in the ADDRESS table laying there is of no use.\r\n\r\nRefer this [oracle documentation][1] for more details on cascade delete\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E23095_01/Platform.93/RepositoryGuide/html/s0610cascadingdatarelationships01.html","title":"How to import data from an excel File and replace the data in database","body":"<p>Foreign keys or referential integrities need to be organized with cascade operations. Which means if you expect your data from an important table to be deleted then you have to cascade the delete operation to all those table whose data is dependent on that important table.</p>\n<p>For eg. if you want to delete an employee 'emp-1' from EMPLOYEE table then you should also delete it's address 'addr-1' from a referenced ADDRESS table. Otherwise an unreferenced address in the ADDRESS table laying there is of no use.</p>\n<p>Refer this <a href=\"https://docs.oracle.com/cd/E23095_01/Platform.93/RepositoryGuide/html/s0610cascadingdatarelationships01.html\" rel=\"nofollow noreferrer\">oracle documentation</a> for more details on cascade delete</p>\n"}],"owner":{"account_id":27368108,"reputation":3,"user_id":20874609,"display_name":"chill_wrath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74934586,"answer_count":1,"score":0,"last_activity_date":1672251895,"creation_date":1672176692,"question_id":74934267,"body_markdown":"Currently I&#39;m working on a project (JAVA GUI) where you can manipulate data from a database and all that &quot;basic&quot; stuff. One of the features is the possibility to import data from an Excel file to the DB. I managed to get it working but when it comes to actually execute the batch of inserts I remembered that in order to import I also had to delete former data since the client wants to import it all from scratch on new import.\r\n\r\nProblem: Since the major tables needed of importing are the one giving out foreing keys, when it comes to deleting former data and insert new an error occures: **ORA-02292 ** which is obvious since there are tables depending on that primary key.* Maybe design flaw?*\r\n\r\nQuestion: How could I avoid this problem?\r\n\r\nI can&#39;t provide lines of code since it&#39;s confidential information but I can provide a grasp of the DB scheme:  \r\n![DB SCHEME](https://i.stack.imgur.com/eA3Hj.png)\r\n\r\nThe objective is to be able to delete and insert data to TABLEs 1, 2, 4 and 6.\r\n\r\nUsing:\r\n- JAVA SWING as GUI;\r\n- APACHE POI as Import;\r\n- ORACLE XE as Database;","title":"How to import data from an excel File and replace the data in database","body":"<p>Currently I'm working on a project (JAVA GUI) where you can manipulate data from a database and all that &quot;basic&quot; stuff. One of the features is the possibility to import data from an Excel file to the DB. I managed to get it working but when it comes to actually execute the batch of inserts I remembered that in order to import I also had to delete former data since the client wants to import it all from scratch on new import.</p>\n<p>Problem: Since the major tables needed of importing are the one giving out foreing keys, when it comes to deleting former data and insert new an error occures: <em><em>ORA-02292 ** which is obvious since there are tables depending on that primary key.</em> Maybe design flaw?</em></p>\n<p>Question: How could I avoid this problem?</p>\n<p>I can't provide lines of code since it's confidential information but I can provide a grasp of the DB scheme:<br />\n<img src=\"https://i.stack.imgur.com/eA3Hj.png\" alt=\"DB SCHEME\" /></p>\n<p>The objective is to be able to delete and insert data to TABLEs 1, 2, 4 and 6.</p>\n<p>Using:</p>\n<ul>\n<li>JAVA SWING as GUI;</li>\n<li>APACHE POI as Import;</li>\n<li>ORACLE XE as Database;</li>\n</ul>\n"},{"tags":["java","sql","postgresql","jdbc"],"comments":[{"owner":{"account_id":221717,"reputation":428715,"user_id":479863,"accept_rate":75,"display_name":"mu is too short"},"score":0,"creation_date":1361734141,"post_id":15055267,"comment_id":21166677,"body_markdown":"Why do you need per-page comment IDs at all? Why not use per-comment IDs and foreign key back to the page?","body":"Why do you need per-page comment IDs at all? Why not use per-comment IDs and foreign key back to the page?"},{"owner":{"account_id":82474,"reputation":11438,"user_id":694469,"accept_rate":77,"display_name":"KajMagnus"},"score":0,"creation_date":1361734479,"post_id":15055267,"comment_id":21166779,"body_markdown":"@muistooshort The IDs would then grow rather large. But they&#39;re supposed to be short contiguous numbers, so I can use them as indexes in a [bitset](http://www.scala-lang.org/api/current/index.html#scala.collection.BitSet).","body":"@muistooshort The IDs would then grow rather large. But they&#39;re supposed to be short contiguous numbers, so I can use them as indexes in a <a href=\"http://www.scala-lang.org/api/current/index.html#scala.collection.BitSet\" rel=\"nofollow noreferrer\">bitset</a>."},{"owner":{"account_id":82474,"reputation":11438,"user_id":694469,"accept_rate":77,"display_name":"KajMagnus"},"score":0,"creation_date":1361735124,"post_id":15055267,"comment_id":21166999,"body_markdown":"(( I&#39;ll try this:  http://stackoverflow.com/a/881414/694469   ))","body":"(( I&#39;ll try this:  <a href=\"http://stackoverflow.com/a/881414/694469\">stackoverflow.com/a/881414/694469</a>   ))"}],"answers":[{"comments":[{"owner":{"account_id":82474,"reputation":11438,"user_id":694469,"accept_rate":77,"display_name":"KajMagnus"},"score":0,"creation_date":1361735858,"post_id":15055880,"comment_id":21167209,"body_markdown":"Yes your *Comments Table* illustration is as intended. — With foreign key structure, you mean the approach that &quot;mu is too short&quot; commented about? That is, *&quot;per-comment IDs and foreign key back to the page&quot;*?","body":"Yes your <i>Comments Table</i> illustration is as intended. — With foreign key structure, you mean the approach that &quot;mu is too short&quot; commented about? That is, <i>&quot;per-comment IDs and foreign key back to the page&quot;</i>?"},{"owner":{"account_id":82474,"reputation":11438,"user_id":694469,"accept_rate":77,"display_name":"KajMagnus"},"score":0,"creation_date":1361735878,"post_id":15055880,"comment_id":21167222,"body_markdown":"I don&#39;t understand what this means:  &quot;upper limit on the child records&quot;?","body":"I don&#39;t understand what this means:  &quot;upper limit on the child records&quot;?"},{"owner":{"account_id":2378830,"reputation":1601,"user_id":2081387,"display_name":"d1ll1nger"},"score":0,"creation_date":1361740853,"post_id":15055880,"comment_id":21168807,"body_markdown":"Yes, I mean that structure is the best path to take. You should have a child relationship from the parent but also have a limitation on the child so you can only have 10 rows per parent row.","body":"Yes, I mean that structure is the best path to take. You should have a child relationship from the parent but also have a limitation on the child so you can only have 10 rows per parent row."},{"owner":{"account_id":82474,"reputation":11438,"user_id":694469,"accept_rate":77,"display_name":"KajMagnus"},"score":0,"creation_date":1361791005,"post_id":15055880,"comment_id":21184183,"body_markdown":"But it&#39;s a discussion system and there might be 10 000 comments per page (per parent row). So I think I cannot do it in this way, if I want fairly many and small consecutive ids, per page.","body":"But it&#39;s a discussion system and there might be 10 000 comments per page (per parent row). So I think I cannot do it in this way, if I want fairly many and small consecutive ids, per page."},{"owner":{"account_id":2378830,"reputation":1601,"user_id":2081387,"display_name":"d1ll1nger"},"score":0,"creation_date":1361801963,"post_id":15055880,"comment_id":21190065,"body_markdown":"If it&#39;s a discussion page with no limitations, then that&#39;s even more simple. Fetch the parent key aka the page key and add a comment to a child table (which also contains the parent key, aka foreign key).\n\nThe above methodology will work but the child keys will be in no logical order (if you use a sequence).","body":"If it&#39;s a discussion page with no limitations, then that&#39;s even more simple. Fetch the parent key aka the page key and add a comment to a child table (which also contains the parent key, aka foreign key).  The above methodology will work but the child keys will be in no logical order (if you use a sequence)."}],"tags":[],"owner":{"account_id":2378830,"reputation":1601,"user_id":2081387,"display_name":"d1ll1nger"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361735381,"creation_date":1361735381,"answer_id":15055880,"question_id":15055267,"body_markdown":"So you&#39;re wanting the following structure?:\r\n\r\nx = page primary key\r\ny = comments primary key\r\n\r\nPage Table \r\n\r\n    x\r\n    -\r\n    1\r\n    2\r\n    3\r\n    4 etc\r\n\r\nComments Table\r\n\r\n    x y\r\n    - -\r\n    1 1\r\n    1 2\r\n    1 3\r\n    1 4\r\n    2 1\r\n    2 2 \r\n    2 3\r\n    etc?\r\n\r\nIt would make most sense to have a foreign key structure here with an upper limit on the child records.","title":"PostgreSQL and JDBC: Is `UPDATE table ... RETURNING ... INTO` supported?","body":"<p>So you're wanting the following structure?:</p>\n\n<p>x = page primary key\ny = comments primary key</p>\n\n<p>Page Table </p>\n\n<pre><code>x\n-\n1\n2\n3\n4 etc\n</code></pre>\n\n<p>Comments Table</p>\n\n<pre><code>x y\n- -\n1 1\n1 2\n1 3\n1 4\n2 1\n2 2 \n2 3\netc?\n</code></pre>\n\n<p>It would make most sense to have a foreign key structure here with an upper limit on the child records.</p>\n"},{"tags":[],"owner":{"account_id":82474,"reputation":11438,"user_id":694469,"accept_rate":77,"display_name":"KajMagnus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361783627,"creation_date":1361783210,"answer_id":15063409,"question_id":15055267,"body_markdown":"Creating a stored function that does `update ... returning ... into` works:\r\n\r\n    create or replace function INC_NEXT_PER_PAGE_REPLY_ID(\r\n      site_id varchar(32), page_id varchar(32), step int) returns int as $$\r\n    declare\r\n      next_id int;\r\n    begin\r\n      update DW1_PAGES\r\n        set NEXT_REPLY_ID = NEXT_REPLY_ID + step\r\n        where SITE_ID = site_id and PAGE_ID = page_id\r\n        returning NEXT_REPLY_ID into next_id;\r\n      return next_id;\r\n    end;\r\n    $$ language plpgsql;\r\n\r\nAnd calling it like so:\r\n\r\n    statement = connection.prepareCall(\r\n        &quot;{? = call INC_NEXT_PER_PAGE_REPLY_ID(?, ?, ?) }&quot;)\r\n    statement.registerOutParameter(1, java.sql.Types.INTEGER)\r\n    bind(values, statement, firstBindPos = 2)  // bind pos no. 1 is the return value\r\n    statement.execute()\r\n    nextNewReplyIdAfterwards = statement.getInt(1)\r\n\r\nRelated documentation:\r\n    \r\n  - http://jdbc.postgresql.org/documentation/91/callproc.html  \r\n  - [class CallableStatement and registerOutParameter()](http://docs.oracle.com/javase/6/docs/api/java/sql/CallableStatement.html)\r\n  - StackOverflow question: https://stackoverflow.com/questions/3940473/how-to-return-updated-rows-from-function","title":"PostgreSQL and JDBC: Is `UPDATE table ... RETURNING ... INTO` supported?","body":"<p>Creating a stored function that does <code>update ... returning ... into</code> works:</p>\n\n<pre><code>create or replace function INC_NEXT_PER_PAGE_REPLY_ID(\n  site_id varchar(32), page_id varchar(32), step int) returns int as $$\ndeclare\n  next_id int;\nbegin\n  update DW1_PAGES\n    set NEXT_REPLY_ID = NEXT_REPLY_ID + step\n    where SITE_ID = site_id and PAGE_ID = page_id\n    returning NEXT_REPLY_ID into next_id;\n  return next_id;\nend;\n$$ language plpgsql;\n</code></pre>\n\n<p>And calling it like so:</p>\n\n<pre><code>statement = connection.prepareCall(\n    \"{? = call INC_NEXT_PER_PAGE_REPLY_ID(?, ?, ?) }\")\nstatement.registerOutParameter(1, java.sql.Types.INTEGER)\nbind(values, statement, firstBindPos = 2)  // bind pos no. 1 is the return value\nstatement.execute()\nnextNewReplyIdAfterwards = statement.getInt(1)\n</code></pre>\n\n<p>Related documentation:</p>\n\n<ul>\n<li><a href=\"http://jdbc.postgresql.org/documentation/91/callproc.html\" rel=\"nofollow noreferrer\">http://jdbc.postgresql.org/documentation/91/callproc.html</a>  </li>\n<li><a href=\"http://docs.oracle.com/javase/6/docs/api/java/sql/CallableStatement.html\" rel=\"nofollow noreferrer\">class CallableStatement and registerOutParameter()</a></li>\n<li>StackOverflow question: <a href=\"https://stackoverflow.com/questions/3940473/how-to-return-updated-rows-from-function\">How to return updated rows from function</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":82474,"reputation":11438,"user_id":694469,"accept_rate":77,"display_name":"KajMagnus"},"score":0,"creation_date":1361790966,"post_id":15063895,"comment_id":21184158,"body_markdown":"Thanks! I was actually about to test something like this — that is, `executed()` instead of `executeUpdate()`. I did it like this first, but thought `executeUpdate()` was the method to call (because of some other answer I found), and that didn&#39;t work so I used a stored function instead. But your solution is better — I&#39;d rather avoid stored functions. I&#39;ll give this a try later today or so.","body":"Thanks! I was actually about to test something like this — that is, <code>executed()</code> instead of <code>executeUpdate()</code>. I did it like this first, but thought <code>executeUpdate()</code> was the method to call (because of some other answer I found), and that didn&#39;t work so I used a stored function instead. But your solution is better — I&#39;d rather avoid stored functions. I&#39;ll give this a try later today or so."},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":0,"creation_date":1622579701,"post_id":15063895,"comment_id":119831628,"body_markdown":"should be `rs = statement.getResultSet();`","body":"should be <code>rs = statement.getResultSet();</code>"}],"tags":[],"owner":{"display_name":"user330315"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1672251877,"creation_date":1361784965,"answer_id":15063895,"question_id":15055267,"body_markdown":"This is supported without using the `execute()` and `getResult()` methods on the `Statement` object:\r\n\r\nSomething like this (barring any error handling):\r\n\r\n    String sql = &quot;update ... returning ...&quot;;\r\n    boolean hasResult = statement.execute(sql);\r\n    int affectedRows = 0;\r\n    ResultSet rs = null;\r\n    if (hasResult) {\r\n      rs = statement.getResultSet();\r\n    }\r\n    int affectedRows = statement.getUpdateCount();\r\n\r\nAs you know what the statement does, this should be OK. Dealing with an &quot;unknown&quot; SQL statement is a bit more complicated because you need to call `getMoreResults()` and `getUpdateCount()` in a loop. See the Javadocs for details.\r\n","title":"PostgreSQL and JDBC: Is `UPDATE table ... RETURNING ... INTO` supported?","body":"<p>This is supported without using the <code>execute()</code> and <code>getResult()</code> methods on the <code>Statement</code> object:</p>\n<p>Something like this (barring any error handling):</p>\n<pre><code>String sql = &quot;update ... returning ...&quot;;\nboolean hasResult = statement.execute(sql);\nint affectedRows = 0;\nResultSet rs = null;\nif (hasResult) {\n  rs = statement.getResultSet();\n}\nint affectedRows = statement.getUpdateCount();\n</code></pre>\n<p>As you know what the statement does, this should be OK. Dealing with an &quot;unknown&quot; SQL statement is a bit more complicated because you need to call <code>getMoreResults()</code> and <code>getUpdateCount()</code> in a loop. See the Javadocs for details.</p>\n"},{"comments":[{"owner":{"account_id":82474,"reputation":11438,"user_id":694469,"accept_rate":77,"display_name":"KajMagnus"},"score":0,"creation_date":1361807869,"post_id":15069181,"comment_id":21193504,"body_markdown":"Hi Dale! Thanks for your answer! There is already a child page with foreign keys to a parent table, and primary keys, in the way you describe. My quesion is intended to be about how to generate per-page comment IDs in the child page, so the IDs start on 1 (per page), and are contiguous (per page). — I think this answer is not really related to that, but more about SQL and foreign keys in general. Thanks anyway","body":"Hi Dale! Thanks for your answer! There is already a child page with foreign keys to a parent table, and primary keys, in the way you describe. My quesion is intended to be about how to generate per-page comment IDs in the child page, so the IDs start on 1 (per page), and are contiguous (per page). — I think this answer is not really related to that, but more about SQL and foreign keys in general. Thanks anyway"},{"owner":{"account_id":82474,"reputation":11438,"user_id":694469,"accept_rate":77,"display_name":"KajMagnus"},"score":0,"creation_date":1361807984,"post_id":15069181,"comment_id":21193567,"body_markdown":"(I already have a working solution, using a stored function. Also, &quot;a_horse_with_no_name&quot; suggested a &quot;pure&quot; update (without any stored function), which I might try later — except for that, from my point of view, this question is fairly much solved.)","body":"(I already have a working solution, using a stored function. Also, &quot;a_horse_with_no_name&quot; suggested a &quot;pure&quot; update (without any stored function), which I might try later — except for that, from my point of view, this question is fairly much solved.)"}],"tags":[],"owner":{"account_id":2378830,"reputation":1601,"user_id":2081387,"display_name":"d1ll1nger"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361802199,"creation_date":1361802199,"answer_id":15069181,"question_id":15055267,"body_markdown":"To make the table contain a logical order then you may need to create a composite key and a foreign key within the child table. \r\n\r\n    sd=# create table x (x int);\r\n    CREATE TABLE\r\n    sd=# create table y (x int, y int);\r\n    CREATE TABLE\r\n\r\n    sd=# alter table x add primary key (x);\r\n    NOTICE:  ALTER TABLE / ADD PRIMARY KEY will create implicit index &quot;x_pkey&quot; for table &quot;x&quot;\r\n    ALTER TABLE\r\n    sd=# alter table y add foreign key (x) references x (x);\r\n    ALTER TABLE\r\n    sd=# alter table y add primary key (x,y);\r\n    NOTICE:  ALTER TABLE / ADD PRIMARY KEY will create implicit index &quot;y_pkey&quot; for table &quot;y&quot;\r\n    ALTER TABLE\r\n\r\n    sd=# insert into x values (1);\r\n    INSERT 0 1\r\n    sd=# insert into x values (2);\r\n    INSERT 0 1\r\n    sd=# insert into x values (3);\r\n    INSERT 0 1\r\n    sd=# insert into y values (1,1);\r\n    INSERT 0 1\r\n    sd=# insert into y values (1,2);\r\n    INSERT 0 1\r\n    sd=# insert into y values (1,3);\r\n    INSERT 0 1\r\n    sd=# insert into y values (1,1);\r\n    ERROR:  duplicate key value violates unique constraint &quot;y_pkey&quot; \r\n    DETAIL:  Key (x, y)=(1, 1) already exists.\r\n\r\n    sd=# select * from x;\r\n     x\r\n    ---\r\n     1\r\n     2\r\n     3\r\n    (3 rows)\r\n\r\n    sd=# select * from y;\r\n     x | y\r\n    ---+---\r\n     1 | 1\r\n     1 | 2\r\n     1 | 3\r\n    (3 rows)\r\n\r\nThis should get you where you want to be?","title":"PostgreSQL and JDBC: Is `UPDATE table ... RETURNING ... INTO` supported?","body":"<p>To make the table contain a logical order then you may need to create a composite key and a foreign key within the child table. </p>\n\n<pre><code>sd=# create table x (x int);\nCREATE TABLE\nsd=# create table y (x int, y int);\nCREATE TABLE\n\nsd=# alter table x add primary key (x);\nNOTICE:  ALTER TABLE / ADD PRIMARY KEY will create implicit index \"x_pkey\" for table \"x\"\nALTER TABLE\nsd=# alter table y add foreign key (x) references x (x);\nALTER TABLE\nsd=# alter table y add primary key (x,y);\nNOTICE:  ALTER TABLE / ADD PRIMARY KEY will create implicit index \"y_pkey\" for table \"y\"\nALTER TABLE\n\nsd=# insert into x values (1);\nINSERT 0 1\nsd=# insert into x values (2);\nINSERT 0 1\nsd=# insert into x values (3);\nINSERT 0 1\nsd=# insert into y values (1,1);\nINSERT 0 1\nsd=# insert into y values (1,2);\nINSERT 0 1\nsd=# insert into y values (1,3);\nINSERT 0 1\nsd=# insert into y values (1,1);\nERROR:  duplicate key value violates unique constraint \"y_pkey\" \nDETAIL:  Key (x, y)=(1, 1) already exists.\n\nsd=# select * from x;\n x\n---\n 1\n 2\n 3\n(3 rows)\n\nsd=# select * from y;\n x | y\n---+---\n 1 | 1\n 1 | 2\n 1 | 3\n(3 rows)\n</code></pre>\n\n<p>This should get you where you want to be?</p>\n"},{"tags":[],"owner":{"account_id":109541,"reputation":4321,"user_id":290182,"accept_rate":92,"display_name":"beldaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409297378,"creation_date":1409297378,"answer_id":25563565,"question_id":15055267,"body_markdown":"You&#39;re doing an update but the statement generates results, so use `executeQuery()` instead of `executeUpdate()`. That&#39;s the real difference between the calls: `executeQuery()` deals with statements that yield a `ResultSet`; while `executeUpdate()` returns count of the number of rows affected.","title":"PostgreSQL and JDBC: Is `UPDATE table ... RETURNING ... INTO` supported?","body":"<p>You're doing an update but the statement generates results, so use <code>executeQuery()</code> instead of <code>executeUpdate()</code>. That's the real difference between the calls: <code>executeQuery()</code> deals with statements that yield a <code>ResultSet</code>; while <code>executeUpdate()</code> returns count of the number of rows affected.</p>\n"}],"owner":{"account_id":82474,"reputation":11438,"user_id":694469,"accept_rate":77,"display_name":"KajMagnus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1672251877,"creation_date":1361731734,"question_id":15055267,"body_markdown":"I have a table with [primary key counters] for [per page comments in another table].  \r\nThese primary keys are per page: *for each page*, comment IDs start on 1.\r\n\r\nI&#39;d like to atomically allocate 10 IDs to write 10 new comments.  \r\n — Can I do this with PostgreSQL and JDBC?\r\n\r\n(And do you have any links to any example / the relevant JDBC documentation?)\r\n\r\n&lt;sub&gt;I&#39;ve found only examples about how `returning` the primary key of a newly inserted row, using some `getGeneratedKeys` which doesn&#39;t seem useful in my case.&lt;/sub&gt;\r\n\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\\***\r\n\r\nI think the SQL UPDATE statement would look something like this:\r\n\r\n    update PAGES\r\n    set NEXT_COMMENT_ID = NEXT_COMMENT_ID + 10\r\n    where PAGE_ID = ?                    &lt;-- next-comment-id is *per page*\r\n    returning NEXT_COMMENT_ID into ?\r\n\r\nSo, different threads and servers won&#39;t attempt to reuse/overwrite the same IDs (right?).\r\n","title":"PostgreSQL and JDBC: Is `UPDATE table ... RETURNING ... INTO` supported?","body":"<p>I have a table with [primary key counters] for [per page comments in another table].<br>\nThese primary keys are per page: <em>for each page</em>, comment IDs start on 1.</p>\n\n<p>I'd like to atomically allocate 10 IDs to write 10 new comments.<br>\n — Can I do this with PostgreSQL and JDBC?</p>\n\n<p>(And do you have any links to any example / the relevant JDBC documentation?)</p>\n\n<p><sub>I've found only examples about how <code>returning</code> the primary key of a newly inserted row, using some <code>getGeneratedKeys</code> which doesn't seem useful in my case.</sub></p>\n\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;***</p>\n\n<p>I think the SQL UPDATE statement would look something like this:</p>\n\n<pre><code>update PAGES\nset NEXT_COMMENT_ID = NEXT_COMMENT_ID + 10\nwhere PAGE_ID = ?                    &lt;-- next-comment-id is *per page*\nreturning NEXT_COMMENT_ID into ?\n</code></pre>\n\n<p>So, different threads and servers won't attempt to reuse/overwrite the same IDs (right?).</p>\n"},{"tags":["python","java","selenium","robotframework"],"answers":[{"comments":[{"owner":{"account_id":6550069,"reputation":80,"user_id":5064779,"display_name":"Darshit Shah"},"score":0,"creation_date":1652337290,"post_id":72187983,"comment_id":127582724,"body_markdown":"as per &quot;Exit For Loop&quot; Its only break one loop, and here I want to break all the for loops (Get data count and Get row count), While using &quot;Exit For Loop&quot; will break only (Get data count) for loop, not even break (Get row count).","body":"as per &quot;Exit For Loop&quot; Its only break one loop, and here I want to break all the for loops (Get data count and Get row count), While using &quot;Exit For Loop&quot; will break only (Get data count) for loop, not even break (Get row count)."},{"owner":{"account_id":6550069,"reputation":80,"user_id":5064779,"display_name":"Darshit Shah"},"score":0,"creation_date":1652337881,"post_id":72187983,"comment_id":127582874,"body_markdown":"but yes agree with you its skipped all the next keyword statements, So do you have any idea how can I solve my problem ?","body":"but yes agree with you its skipped all the next keyword statements, So do you have any idea how can I solve my problem ?"}],"tags":[],"owner":{"account_id":14611515,"reputation":538,"user_id":10552870,"display_name":"Manish Kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652192085,"creation_date":1652192085,"answer_id":72187983,"question_id":72167575,"body_markdown":"You can use &quot;Exit For Loop&quot; in the place of &quot;Pass Execution&quot;, because pass execution &quot;Skips rest of the current test, setup, or teardown with PASS status.&quot;\r\n\r\n\r\n&quot;Exit For Loop&quot; only exits the for loop and continues the next keywords in test case\r\nFor you, &quot;Exit For Loop&quot; would be the right choice for you as per your question.\r\n    \r\n    Exit For Loop\r\n\r\nDetailed documentation of pass execution:\r\nhttps://robotframework.org/robotframework/latest/libraries/BuiltIn.html#Pass%20Execution \r\n","title":"How to BREAK the loops in Selenium Robot framework 3.2.2 - Getting an error &#39;Break&#39; is a reserved keyword","body":"<p>You can use &quot;Exit For Loop&quot; in the place of &quot;Pass Execution&quot;, because pass execution &quot;Skips rest of the current test, setup, or teardown with PASS status.&quot;</p>\n<p>&quot;Exit For Loop&quot; only exits the for loop and continues the next keywords in test case\nFor you, &quot;Exit For Loop&quot; would be the right choice for you as per your question.</p>\n<pre><code>Exit For Loop\n</code></pre>\n<p>Detailed documentation of pass execution:\n<a href=\"https://robotframework.org/robotframework/latest/libraries/BuiltIn.html#Pass%20Execution\" rel=\"nofollow noreferrer\">https://robotframework.org/robotframework/latest/libraries/BuiltIn.html#Pass%20Execution</a></p>\n"}],"owner":{"account_id":6550069,"reputation":80,"user_id":5064779,"display_name":"Darshit Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672251798,"creation_date":1652076309,"question_id":72167575,"body_markdown":"How can I break the **Get data count** and **Get row count** FOR loops, once my IF condition is satisfy.\r\n\r\nHere I want to select a date through for loop, but currently my if condition is satisfied still its continue executing the for loop. \r\n\r\n```*** Settings ***\r\nLibrary    SeleniumLibrary\r\n\r\n*** Variables ***\r\n${browserName}    chrome\r\n${siteURL}    https://www.booking.com/\r\n\r\n*** Test Cases ***\r\nLogin should failed with unregistered email\r\n    Open website login page\r\n    Click login\r\n    Get row count\r\n    #[Teardown]    Close Browser\r\n\r\n*** Keywords ***\r\nOpen website login page\r\n    Open Browser    ${siteURL}    ${browserName}\r\n    Maximize Browser Window\r\n    \r\nClick login\r\n    Click Element    //div[@class=&#39;xp__dates-inner&#39;]//span[@class=&#39;sb-date-field__icon sb-date-field__icon-btn bk-svg-wrapper calendar-restructure-sb&#39;]\r\n    Wait Until Page Contains Element    //div[@class=&#39;xp__dates-inner&#39;]//span[@class=&#39;sb-date-field__icon sb-date-field__icon-btn bk-svg-wrapper calendar-restructure-sb&#39;]\r\n    \r\nGet row count\r\n    ${rowTRCount}=  Get Element Count    //*[@id=&quot;frm&quot;]/div[1]/div[2]/div[2]/div/div/div[3]/div[1]/table/tbody/tr\r\n    FOR  ${indexTR}    IN RANGE   1    ${rowTRCount}+1  \r\n        ${curTRText}      Get Text      //*[@id=&quot;frm&quot;]/div[1]/div[2]/div[2]/div/div/div[3]/div[1]/table/tbody/tr[${indexTR}]\r\n        Log To Console    TR: ${curTRText}\r\n        Get data count    ${indexTR} \r\n    END\r\n    \r\nGet data count   \r\n    [Arguments]    ${indexTR}\r\n    Log To Console   ${indexTR}\r\n    Set Test Variable    ${conditionCheck}    ${False}\r\n    Convert To Boolean    ${conditionCheck}  \r\n    ${rowTDCount}=  Get Element Count    //*[@id=&quot;frm&quot;]/div[1]/div[2]/div[2]/div/div/div[3]/div[1]/table/tbody/tr[${indexTR}]/td\r\n    FOR  ${indexTD}    IN RANGE   1   ${rowTDCount}+1\r\n        ${noDate}    Get Text    //*[@id=&quot;frm&quot;]/div[1]/div[2]/div[2]/div/div/div[3]/div[1]/table/tbody/tr[${indexTR}]/td[${indexTD}]\r\n        Exit For Loop IF    &#39;${noDate}&#39; == &#39;&#39;\r\n        ${curTDText}      Get Text      //*[@id=&quot;frm&quot;]/div[1]/div[2]/div[2]/div/div/div[3]/div[1]/table/tbody/tr[${indexTR}]/td[${indexTD}]//span\r\n        Log To Console    TD: ${curTDText}\r\n        ${CurrentDate}=      Get Time    day\r\n        ${dayConvertToInt}=    Convert To Integer    ${CurrentDate}  \r\n        ${finalDate}=    Evaluate   ${dayConvertToInt}+ 10\r\n        Run Keyword If    ${curTDText}==${finalDate}    Select date    ${indexTR}    ${indexTD}    ${conditionCheck}\r\n    END\r\n    \r\nSelect date\r\n    [Arguments]    ${indexTR}    ${indexTD}    ${conditionCheck}\r\n    Click Element    //*[@id=&quot;frm&quot;]/div[1]/div[2]/div[2]/div/div/div[3]/div[1]/table/tbody/tr[${indexTR}]/td[${indexTD}]//span\r\n    BREAK","title":"How to BREAK the loops in Selenium Robot framework 3.2.2 - Getting an error &#39;Break&#39; is a reserved keyword","body":"<p>How can I break the <strong>Get data count</strong> and <strong>Get row count</strong> FOR loops, once my IF condition is satisfy.</p>\n<p>Here I want to select a date through for loop, but currently my if condition is satisfied still its continue executing the for loop.</p>\n<pre><code>Library    SeleniumLibrary\n\n*** Variables ***\n${browserName}    chrome\n${siteURL}    https://www.booking.com/\n\n*** Test Cases ***\nLogin should failed with unregistered email\n    Open website login page\n    Click login\n    Get row count\n    #[Teardown]    Close Browser\n\n*** Keywords ***\nOpen website login page\n    Open Browser    ${siteURL}    ${browserName}\n    Maximize Browser Window\n    \nClick login\n    Click Element    //div[@class='xp__dates-inner']//span[@class='sb-date-field__icon sb-date-field__icon-btn bk-svg-wrapper calendar-restructure-sb']\n    Wait Until Page Contains Element    //div[@class='xp__dates-inner']//span[@class='sb-date-field__icon sb-date-field__icon-btn bk-svg-wrapper calendar-restructure-sb']\n    \nGet row count\n    ${rowTRCount}=  Get Element Count    //*[@id=&quot;frm&quot;]/div[1]/div[2]/div[2]/div/div/div[3]/div[1]/table/tbody/tr\n    FOR  ${indexTR}    IN RANGE   1    ${rowTRCount}+1  \n        ${curTRText}      Get Text      //*[@id=&quot;frm&quot;]/div[1]/div[2]/div[2]/div/div/div[3]/div[1]/table/tbody/tr[${indexTR}]\n        Log To Console    TR: ${curTRText}\n        Get data count    ${indexTR} \n    END\n    \nGet data count   \n    [Arguments]    ${indexTR}\n    Log To Console   ${indexTR}\n    Set Test Variable    ${conditionCheck}    ${False}\n    Convert To Boolean    ${conditionCheck}  \n    ${rowTDCount}=  Get Element Count    //*[@id=&quot;frm&quot;]/div[1]/div[2]/div[2]/div/div/div[3]/div[1]/table/tbody/tr[${indexTR}]/td\n    FOR  ${indexTD}    IN RANGE   1   ${rowTDCount}+1\n        ${noDate}    Get Text    //*[@id=&quot;frm&quot;]/div[1]/div[2]/div[2]/div/div/div[3]/div[1]/table/tbody/tr[${indexTR}]/td[${indexTD}]\n        Exit For Loop IF    '${noDate}' == ''\n        ${curTDText}      Get Text      //*[@id=&quot;frm&quot;]/div[1]/div[2]/div[2]/div/div/div[3]/div[1]/table/tbody/tr[${indexTR}]/td[${indexTD}]//span\n        Log To Console    TD: ${curTDText}\n        ${CurrentDate}=      Get Time    day\n        ${dayConvertToInt}=    Convert To Integer    ${CurrentDate}  \n        ${finalDate}=    Evaluate   ${dayConvertToInt}+ 10\n        Run Keyword If    ${curTDText}==${finalDate}    Select date    ${indexTR}    ${indexTD}    ${conditionCheck}\n    END\n    \nSelect date\n    [Arguments]    ${indexTR}    ${indexTD}    ${conditionCheck}\n    Click Element    //*[@id=&quot;frm&quot;]/div[1]/div[2]/div[2]/div/div/div[3]/div[1]/table/tbody/tr[${indexTR}]/td[${indexTD}]//span\n    BREAK\n</code></pre>\n"},{"tags":["java","android","bottom-navigation-bar"],"comments":[{"owner":{"account_id":4716677,"reputation":580,"user_id":3815660,"display_name":"Yurii"},"score":0,"creation_date":1672240778,"post_id":74941942,"comment_id":132249483,"body_markdown":"Here is answer https://stackoverflow.com/questions/40202294/set-selected-item-in-android-bottomnavigationview","body":"Here is answer <a href=\"https://stackoverflow.com/questions/40202294/set-selected-item-in-android-bottomnavigationview\" title=\"set selected item in android bottomnavigationview\">stackoverflow.com/questions/40202294/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672251736,"creation_date":1672251736,"answer_id":74943724,"question_id":74941942,"body_markdown":"Call this, below `replaceFragment`\r\n\r\n    replaceFragment(new c_HomeFragment());\r\n    \r\n    binding.bottomNavigationView2.getMenu().findItem(R.id.home).setChecked(true);","title":"How to set icon default selection on bottom navigation bar","body":"<p>Call this, below <code>replaceFragment</code></p>\n<pre><code>replaceFragment(new c_HomeFragment());\n\nbinding.bottomNavigationView2.getMenu().findItem(R.id.home).setChecked(true);\n</code></pre>\n"}],"owner":{"account_id":27374274,"reputation":5,"user_id":20879867,"display_name":"Xiayan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74943724,"answer_count":1,"score":0,"last_activity_date":1672251736,"creation_date":1672240588,"question_id":74941942,"body_markdown":"I am writing an Android app in Java, I refer to [this video](https://www.youtube.com/watch?v=Bb8SgfI4Cm4) to make a bottom navigation bar.\r\n\r\n[enter image description here](https://i.stack.imgur.com/aqqA9.png)\r\n\r\nAs shown in the picture, when I switch to the activity that includes the bottom navigation bar, the fragment displays at home, but the icon is still displayed in the message. How can I make my icon default at Home?\r\n\r\nThis is my activity which includes the bottom navigation bar:\r\n```java\r\npackage com.example.a1221_test;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.example.a1221_test.databinding.ActivitySecondBinding;\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\n\r\npublic class SecondActivity extends AppCompatActivity {\r\n    ActivitySecondBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivitySecondBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        replaceFragment(new c_HomeFragment());\r\n\r\n        binding.bottomNavigationView2.setOnItemSelectedListener(item -&gt; {\r\n            switch (item.getItemId()){\r\n\r\n                case R.id.home:\r\n                    replaceFragment(new c_HomeFragment());\r\n                    break;\r\n\r\n                case R.id.message:\r\n                    replaceFragment(new a_MessageFragment());\r\n                    break;\r\n\r\n                case R.id.food:\r\n                    replaceFragment(new b_FoodFragment());\r\n                    break;\r\n\r\n                case R.id.closet:\r\n                    replaceFragment(new d_ClosetFragment());\r\n                    break;\r\n\r\n                case R.id.question:\r\n                    replaceFragment(new e_QuestionFragment());\r\n                    break;\r\n            }\r\n\r\n            return true;\r\n        });\r\n    }\r\n\r\n    private void replaceFragment(Fragment fragment){\r\n        FragmentManager fragmentManager = getSupportFragmentManager();\r\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n        fragmentTransaction.replace(R.id.frame_layout,fragment);\r\n        fragmentTransaction.commit();\r\n    }\r\n}\r\n```\r\n\r\nThis is my layout\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.SecondActivity&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/frame_layout&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/bottomNavigationView2&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottomNavigationView2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#e8cfa6&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:itemIconTint=&quot;@drawable/bottom_navigation_colors&quot;\r\n        app:itemTextColor=&quot;@drawable/bottom_navigation_colors&quot;\r\n        app:itemTextAppearanceActive=&quot;@style/BottomNavigationViewTextStyle&quot;\r\n        app:itemTextAppearanceInactive=&quot;@style/BottomNavigationViewTextStyle&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot;\r\n        /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n","title":"How to set icon default selection on bottom navigation bar","body":"<p>I am writing an Android app in Java, I refer to <a href=\"https://www.youtube.com/watch?v=Bb8SgfI4Cm4\" rel=\"nofollow noreferrer\">this video</a> to make a bottom navigation bar.</p>\n<p><a href=\"https://i.stack.imgur.com/aqqA9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>As shown in the picture, when I switch to the activity that includes the bottom navigation bar, the fragment displays at home, but the icon is still displayed in the message. How can I make my icon default at Home?</p>\n<p>This is my activity which includes the bottom navigation bar:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.a1221_test;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.os.Bundle;\n\nimport com.example.a1221_test.databinding.ActivitySecondBinding;\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\n\npublic class SecondActivity extends AppCompatActivity {\n    ActivitySecondBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivitySecondBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        replaceFragment(new c_HomeFragment());\n\n        binding.bottomNavigationView2.setOnItemSelectedListener(item -&gt; {\n            switch (item.getItemId()){\n\n                case R.id.home:\n                    replaceFragment(new c_HomeFragment());\n                    break;\n\n                case R.id.message:\n                    replaceFragment(new a_MessageFragment());\n                    break;\n\n                case R.id.food:\n                    replaceFragment(new b_FoodFragment());\n                    break;\n\n                case R.id.closet:\n                    replaceFragment(new d_ClosetFragment());\n                    break;\n\n                case R.id.question:\n                    replaceFragment(new e_QuestionFragment());\n                    break;\n            }\n\n            return true;\n        });\n    }\n\n    private void replaceFragment(Fragment fragment){\n        FragmentManager fragmentManager = getSupportFragmentManager();\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n        fragmentTransaction.replace(R.id.frame_layout,fragment);\n        fragmentTransaction.commit();\n    }\n}\n</code></pre>\n<p>This is my layout</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.SecondActivity&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/frame_layout&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/bottomNavigationView2&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;/FrameLayout&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottomNavigationView2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;#e8cfa6&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:itemIconTint=&quot;@drawable/bottom_navigation_colors&quot;\n        app:itemTextColor=&quot;@drawable/bottom_navigation_colors&quot;\n        app:itemTextAppearanceActive=&quot;@style/BottomNavigationViewTextStyle&quot;\n        app:itemTextAppearanceInactive=&quot;@style/BottomNavigationViewTextStyle&quot;\n        app:menu=&quot;@menu/bottom_nav_menu&quot;\n        /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-webflux"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1671724130,"post_id":74889086,"comment_id":132163705,"body_markdown":"unit testing RouterFunctions has very low ROI. what exactly do you want to test there? The best way to test routes is to use `WebTestClient` and you can create very lightweight tests using `WebTestClient.bindToRouterFunction`","body":"unit testing RouterFunctions has very low ROI. what exactly do you want to test there? The best way to test routes is to use <code>WebTestClient</code> and you can create very lightweight tests using <code>WebTestClient.bindToRouterFunction</code>"}],"answers":[{"tags":[],"owner":{"account_id":1610757,"reputation":1067,"user_id":1856573,"accept_rate":90,"display_name":"lapadets"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671719007,"creation_date":1671719007,"answer_id":74889850,"question_id":74889086,"body_markdown":"It should be enough if you mock the `EntityHandler` class:\r\n\r\n    @Test\r\n    public void testRoute() {\r\n        EntityHandler mockHandler = mock(EntityHandler.class);\r\n    \r\n        RouterFunction&lt;ServerResponse&gt; routerFunction = new EntityRouter().route(mockHandler);\r\n    \r\n        // Set up a mock request\r\n        ServerRequest request = mock(ServerRequest.class);\r\n        when(request.method()).thenReturn(HttpMethod.GET);\r\n        when(request.path()).thenReturn(&quot;/getAllEntities&quot;);\r\n        when(request.headers()).thenReturn(new HttpHeaders());\r\n    \r\n        // Call the router function\r\n        routerFunction.route(request).subscribe();\r\n    \r\n        // Verify that the correct method on the mock handler was called\r\n        verify(mockHandler).findAll(request);\r\n    }","title":"how to write unit tests for spring webflux router?","body":"<p>It should be enough if you mock the <code>EntityHandler</code> class:</p>\n<pre><code>@Test\npublic void testRoute() {\n    EntityHandler mockHandler = mock(EntityHandler.class);\n\n    RouterFunction&lt;ServerResponse&gt; routerFunction = new EntityRouter().route(mockHandler);\n\n    // Set up a mock request\n    ServerRequest request = mock(ServerRequest.class);\n    when(request.method()).thenReturn(HttpMethod.GET);\n    when(request.path()).thenReturn(&quot;/getAllEntities&quot;);\n    when(request.headers()).thenReturn(new HttpHeaders());\n\n    // Call the router function\n    routerFunction.route(request).subscribe();\n\n    // Verify that the correct method on the mock handler was called\n    verify(mockHandler).findAll(request);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15776159,"reputation":592,"user_id":11383913,"display_name":"Ady"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672251203,"creation_date":1672251203,"answer_id":74943640,"question_id":74889086,"body_markdown":"You can use `WebTestClient` for reactive stream based rest endpoints. You can find some examples [here][1] \r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-5-webclient","title":"how to write unit tests for spring webflux router?","body":"<p>You can use <code>WebTestClient</code> for reactive stream based rest endpoints. You can find some examples <a href=\"https://www.baeldung.com/spring-5-webclient\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":4397192,"reputation":5374,"user_id":3583824,"accept_rate":75,"display_name":"axnet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672251203,"creation_date":1671715055,"question_id":74889086,"body_markdown":"I am having below kind of EntityRouter, now my question is without autowired handler, how can i mock and write junit unit-tests (not-integration) for such endpoint?\r\n\r\nNote: with controller, it is simple for me concept wise, as i can mock service which is usually autowired in controller if we are using spring-web-mvc.\r\n\r\n    public class EntityRouter {\r\n    \r\n        @Bean\r\n        public RouterFunction&lt;ServerResponse&gt; route(EntityHandler handler) {\r\n            return RouterFunctions\r\n                    .route(GET(&quot;/getAllEntities&quot;).and(accept(MediaType.APPLICATION_JSON)), handler::findAll)\r\n                    .andRoute(GET(&quot;/getEntity/{id}&quot;).and(accept(MediaType.APPLICATION_STREAM_JSON)), handler::findById)\r\n                    .andRoute(POST(&quot;/createEntity&quot;).and(accept(MediaType.APPLICATION_JSON)), handler::save)\r\n                    .andRoute(DELETE(&quot;/deleteEntity/{id}&quot;).and(accept(MediaType.APPLICATION_JSON)), handler::delete);\r\n        }\r\n    \r\n    }","title":"how to write unit tests for spring webflux router?","body":"<p>I am having below kind of EntityRouter, now my question is without autowired handler, how can i mock and write junit unit-tests (not-integration) for such endpoint?</p>\n<p>Note: with controller, it is simple for me concept wise, as i can mock service which is usually autowired in controller if we are using spring-web-mvc.</p>\n<pre><code>public class EntityRouter {\n\n    @Bean\n    public RouterFunction&lt;ServerResponse&gt; route(EntityHandler handler) {\n        return RouterFunctions\n                .route(GET(&quot;/getAllEntities&quot;).and(accept(MediaType.APPLICATION_JSON)), handler::findAll)\n                .andRoute(GET(&quot;/getEntity/{id}&quot;).and(accept(MediaType.APPLICATION_STREAM_JSON)), handler::findById)\n                .andRoute(POST(&quot;/createEntity&quot;).and(accept(MediaType.APPLICATION_JSON)), handler::save)\n                .andRoute(DELETE(&quot;/deleteEntity/{id}&quot;).and(accept(MediaType.APPLICATION_JSON)), handler::delete);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","collections","iterator"],"answers":[{"comments":[{"owner":{"account_id":4773832,"reputation":954,"user_id":3857625,"accept_rate":100,"display_name":"Alexander Goncharenko"},"score":0,"creation_date":1412520469,"post_id":26203700,"comment_id":41090751,"body_markdown":"For what it can be used?","body":"For what it can be used?"},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1412520600,"post_id":26203700,"comment_id":41090786,"body_markdown":"@АлександрГончаренко - This kind of thing is often used to implement a listener or observer pattern. It can also be used to implement a dispatch table (although then you probably wouldn&#39;t iterate through the list, but rather retrieve an element by index). There are probably other uses as well; this was just off the top of my head.","body":"@АлександрГончаренко - This kind of thing is often used to implement a listener or observer pattern. It can also be used to implement a dispatch table (although then you probably wouldn&#39;t iterate through the list, but rather retrieve an element by index). There are probably other uses as well; this was just off the top of my head."},{"owner":{"account_id":3658821,"reputation":39,"user_id":3049167,"accept_rate":100,"display_name":"Sappo"},"score":0,"creation_date":1412520897,"post_id":26203700,"comment_id":41090882,"body_markdown":"Thanks for answer. Interface solution seems to be good and easy but what if each method have different arguments? For example myCustomMethod1(int, int), myCustomMethod2(String, double) and so on? Can i customize run method somehow? Or is better to use reflection then?","body":"Thanks for answer. Interface solution seems to be good and easy but what if each method have different arguments? For example myCustomMethod1(int, int), myCustomMethod2(String, double) and so on? Can i customize run method somehow? Or is better to use reflection then?"},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1412523528,"post_id":26203700,"comment_id":41091651,"body_markdown":"@user3049167 - In that scenario, how would you even know what arguments to pass in your loop? Reflection is going to have the same problem: how will you construct the argument array?","body":"@user3049167 - In that scenario, how would you even know what arguments to pass in your loop? Reflection is going to have the same problem: how will you construct the argument array?"},{"owner":{"account_id":3658821,"reputation":39,"user_id":3049167,"accept_rate":100,"display_name":"Sappo"},"score":1,"creation_date":1412534093,"post_id":26203700,"comment_id":41094851,"body_markdown":"@TedHopp What I actually need to do is: I need to create graph drawing generation history, list of actions like &quot;Create Vertex there&quot;, &quot;Draw order from Vertex x to Vertex y&quot;, &quot;Move Vertex from loc x to loc y&quot; and so on.. Also I need to step back and forward in my history. So I though that the best solution will be list of methods which I could iterate over. I do need iterate over the list because of ongoing drawing animation, I need to call the method, sleep thread, next cycle, call method, sleep thread and so on..","body":"@TedHopp What I actually need to do is: I need to create graph drawing generation history, list of actions like &quot;Create Vertex there&quot;, &quot;Draw order from Vertex x to Vertex y&quot;, &quot;Move Vertex from loc x to loc y&quot; and so on.. Also I need to step back and forward in my history. So I though that the best solution will be list of methods which I could iterate over. I do need iterate over the list because of ongoing drawing animation, I need to call the method, sleep thread, next cycle, call method, sleep thread and so on.."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":1,"creation_date":1412549774,"post_id":26203700,"comment_id":41099000,"body_markdown":"@user3049167 - Take a look at the [command pattern](http://en.wikipedia.org/wiki/Command_pattern). I think it&#39;s just what you&#39;re looking for. You can search the web for &quot;java command pattern&quot; and get lots of examples and case studies of how to implement it. (It&#39;s basically a generalization of my answer.)","body":"@user3049167 - Take a look at the <a href=\"http://en.wikipedia.org/wiki/Command_pattern\" rel=\"nofollow noreferrer\">command pattern</a>. I think it&#39;s just what you&#39;re looking for. You can search the web for &quot;java command pattern&quot; and get lots of examples and case studies of how to implement it. (It&#39;s basically a generalization of my answer.)"}],"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1412520348,"creation_date":1412520348,"answer_id":26203700,"question_id":26203660,"body_markdown":"In Java, you can do this with reflection by making a list of `Method` objects. However, an easier way is to define an interface for objects that have a method that takes an `Object` argument:\r\n\r\n    public interface MethodRunner {\r\n        public void run(Object arg);\r\n    }\r\n\r\n    List&lt;MethodRunner&gt; a = new ArrayList&lt;&gt;();\r\n    a.add(new MethodRunner() {\r\n        @Override\r\n        public void run(Object arg) {\r\n            myCustomMethod1(arg);\r\n        }\r\n    });\r\n    a.add(new MethodRunner() {\r\n        @Override\r\n        public void run(Object arg) {\r\n            myCustomMethod2(arg);\r\n        }\r\n    });\r\n\r\n    Object o = new Object();\r\n\r\n    for (MethodRunner mr : a) {\r\n        mr.run(o);\r\n    }","title":"How to create list filled with methods in Java and iterate over it (using methods)","body":"<p>In Java, you can do this with reflection by making a list of <code>Method</code> objects. However, an easier way is to define an interface for objects that have a method that takes an <code>Object</code> argument:</p>\n\n<pre><code>public interface MethodRunner {\n    public void run(Object arg);\n}\n\nList&lt;MethodRunner&gt; a = new ArrayList&lt;&gt;();\na.add(new MethodRunner() {\n    @Override\n    public void run(Object arg) {\n        myCustomMethod1(arg);\n    }\n});\na.add(new MethodRunner() {\n    @Override\n    public void run(Object arg) {\n        myCustomMethod2(arg);\n    }\n});\n\nObject o = new Object();\n\nfor (MethodRunner mr : a) {\n    mr.run(o);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18255299,"reputation":109,"user_id":13289385,"display_name":"Donagh"},"score":2,"creation_date":1651133480,"post_id":67292304,"comment_id":127291979,"body_markdown":"What if you want to use void, no-arg methods? Just use raw Consumer class?","body":"What if you want to use void, no-arg methods? Just use raw Consumer class?"}],"tags":[],"owner":{"account_id":7145156,"reputation":124,"user_id":5461147,"display_name":"Rodrigo Eggea"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1672251181,"creation_date":1619570450,"answer_id":67292304,"question_id":26203660,"body_markdown":"In Java 8 and above you can create a List of Functional Interfaces to store the methods, as the following example shows:\r\n\r\n    // Create a list of Consumer\r\n\tList&lt;Consumer&lt;String&gt;&gt; methodList= new ArrayList&lt;&gt;();\r\n\r\n    // Store the methods in the list\r\n    methodList.add(p -&gt; method1(p));\r\n    methodList.add(p -&gt; method2(p));\r\n    methodList.add(p -&gt; method3(p));\r\n    methodList.forEach(f -&gt; f.accept(&quot;Hello&quot;));\r\n\r\nFunctions with no arguments you can use Runnable:\r\n\r\n    List&lt;Runnable&gt; methods = new ArrayList&lt;&gt;();\r\n    methods.add(() -&gt; method1());\r\n    methods.add(() -&gt; method2());\r\n    methods.add(() -&gt; method3());\r\n    methods.forEach(f -&gt; f.run());","title":"How to create list filled with methods in Java and iterate over it (using methods)","body":"<p>In Java 8 and above you can create a List of Functional Interfaces to store the methods, as the following example shows:</p>\n<pre><code>// Create a list of Consumer\nList&lt;Consumer&lt;String&gt;&gt; methodList= new ArrayList&lt;&gt;();\n\n// Store the methods in the list\nmethodList.add(p -&gt; method1(p));\nmethodList.add(p -&gt; method2(p));\nmethodList.add(p -&gt; method3(p));\nmethodList.forEach(f -&gt; f.accept(&quot;Hello&quot;));\n</code></pre>\n<p>Functions with no arguments you can use Runnable:</p>\n<pre><code>List&lt;Runnable&gt; methods = new ArrayList&lt;&gt;();\nmethods.add(() -&gt; method1());\nmethods.add(() -&gt; method2());\nmethods.add(() -&gt; method3());\nmethods.forEach(f -&gt; f.run());\n</code></pre>\n"}],"owner":{"account_id":3658821,"reputation":39,"user_id":3049167,"accept_rate":100,"display_name":"Sappo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9037,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26203700,"answer_count":2,"score":2,"last_activity_date":1672251181,"creation_date":1412520063,"question_id":26203660,"body_markdown":"I want to be able to create list (collection, array) filled with my own methods and in each step of iteration call the method. What&#39;s the best solution for this?\r\n\r\nI want something like this:\r\n\r\n    List a = new List();\r\n    a.add(myCustomMethod1());\r\n    a.add(myCustomMethod2());\r\n    \r\n    Object o = new Object();\r\n\r\n    for (Method m : a){\r\n        m(o);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to create list filled with methods in Java and iterate over it (using methods)","body":"<p>I want to be able to create list (collection, array) filled with my own methods and in each step of iteration call the method. What's the best solution for this?</p>\n\n<p>I want something like this:</p>\n\n<pre><code>List a = new List();\na.add(myCustomMethod1());\na.add(myCustomMethod2());\n\nObject o = new Object();\n\nfor (Method m : a){\n    m(o);\n}\n</code></pre>\n"},{"tags":["java","datetime","java-8","utc","zoneddatetime"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1456698863,"post_id":35689123,"comment_id":59056085,"body_markdown":"I still don&#39;t understand :D. And how is it different than http://stackoverflow.com/q/35688559/1743880? What do you mean by &quot;convert to `2013-07-10T14:52:49`&quot;?","body":"I still don&#39;t understand :D. And how is it different than <a href=\"http://stackoverflow.com/q/35688559/1743880\">stackoverflow.com/q/35688559/1743880</a>? What do you mean by &quot;convert to <code>2013-07-10T14:52:49</code>&quot;?"},{"owner":{"account_id":159676,"reputation":88203,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"score":0,"creation_date":1456699065,"post_id":35689123,"comment_id":59056171,"body_markdown":"apply `+12 hours` to `02:52:49` to make it `14:52:59`, is it clear now?","body":"apply <code>+12 hours</code> to <code>02:52:49</code> to make it <code>14:52:59</code>, is it clear now?"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1456699161,"post_id":35689123,"comment_id":59056209,"body_markdown":"So you want to go 12 hours in the future for the same zone offset?","body":"So you want to go 12 hours in the future for the same zone offset?"},{"owner":{"account_id":159676,"reputation":88203,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"score":0,"creation_date":1456699343,"post_id":35689123,"comment_id":59056258,"body_markdown":"Yes Sir! that is what I want","body":"Yes Sir! that is what I want"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1456699622,"post_id":35689123,"comment_id":59056358,"body_markdown":"But in your wanted output, there&#39;s no zone offset anymore. Also, what if the offset is something with half an hour (it exists...)?","body":"But in your wanted output, there&#39;s no zone offset anymore. Also, what if the offset is something with half an hour (it exists...)?"},{"owner":{"account_id":159676,"reputation":88203,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"score":0,"creation_date":1456699806,"post_id":35689123,"comment_id":59056417,"body_markdown":"since the time goes `12 hours` in future, the offset is not required. The point is apply the offset `+` or `-` the value indicated in original variable","body":"since the time goes <code>12 hours</code> in future, the offset is not required. The point is apply the offset <code>+</code> or <code>-</code> the value indicated in original variable"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1456701023,"post_id":35689123,"comment_id":59056807,"body_markdown":"If you remove the zone information, this is no longer a zoned date time...","body":"If you remove the zone information, this is no longer a zoned date time..."},{"owner":{"account_id":159676,"reputation":88203,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"score":0,"creation_date":1456701127,"post_id":35689123,"comment_id":59056844,"body_markdown":"Which is fine because I want to convert it into `LocalDateTime`.","body":"Which is fine because I want to convert it into <code>LocalDateTime</code>."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":3,"creation_date":1456701376,"post_id":35689123,"comment_id":59056907,"body_markdown":"I don&#39;t get it. Given your input and the offset, shouldn&#39;t the output be 12 hours _earlier_?","body":"I don&#39;t get it. Given your input and the offset, shouldn&#39;t the output be 12 hours <i>earlier</i>?"}],"answers":[{"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1456747506,"post_id":35689566,"comment_id":59074616,"body_markdown":"Huh... It looks fine to me... You could maybe try with a different browser to check if you have the same issue.","body":"Huh... It looks fine to me... You could maybe try with a different browser to check if you have the same issue."},{"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"score":2,"creation_date":1553636923,"post_id":35689566,"comment_id":97456971,"body_markdown":"No need to hardcode `UTC`, you can simply use predefined zone offsets: `ZoneOffset.UTC`","body":"No need to hardcode <code>UTC</code>, you can simply use predefined zone offsets: <code>ZoneOffset.UTC</code>"},{"owner":{"account_id":5001077,"reputation":479,"user_id":5269642,"display_name":"SimMac"},"score":0,"creation_date":1553637443,"post_id":35689566,"comment_id":97457170,"body_markdown":"Thanks for the hint @AndriiAbramov, I edited my answer!","body":"Thanks for the hint @AndriiAbramov, I edited my answer!"}],"tags":[],"owner":{"account_id":5001077,"reputation":479,"user_id":5269642,"display_name":"SimMac"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1553637421,"creation_date":1456701689,"answer_id":35689566,"question_id":35689123,"body_markdown":"Is this what you want? \r\nThis converts your `ZonedDateTime` to a `LocalDateTime` with a given `ZoneId` by converting your `ZonedDateTime` to an `Instant` before. \r\n\r\n    LocalDateTime localDateTime = LocalDateTime.ofInstant(z1.toInstant(), ZoneOffset.UTC);\r\n\r\nOr maybe you want the users system-timezone instead of hardcoded UTC:\r\n\r\n    LocalDateTime localDateTime = LocalDateTime.ofInstant(z1.toInstant(), ZoneId.systemDefault());","title":"ZonedDateTime to UTC with offset applied?","body":"<p>Is this what you want? \nThis converts your <code>ZonedDateTime</code> to a <code>LocalDateTime</code> with a given <code>ZoneId</code> by converting your <code>ZonedDateTime</code> to an <code>Instant</code> before. </p>\n\n<pre><code>LocalDateTime localDateTime = LocalDateTime.ofInstant(z1.toInstant(), ZoneOffset.UTC);\n</code></pre>\n\n<p>Or maybe you want the users system-timezone instead of hardcoded UTC:</p>\n\n<pre><code>LocalDateTime localDateTime = LocalDateTime.ofInstant(z1.toInstant(), ZoneId.systemDefault());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2293754,"reputation":226,"user_id":2015795,"accept_rate":59,"display_name":"Neero"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1512606556,"creation_date":1512606556,"answer_id":47685706,"question_id":35689123,"body_markdown":"@SimMac Thanks for the clarity. I also faced the same issue and able to find the answer based on his suggestion.\r\n\r\n    public static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tString dateTime = &quot;MM/dd/yyyy HH:mm:ss&quot;;\r\n\t\t\tString date = &quot;09/17/2017 20:53:31&quot;;\r\n\t\t\tInteger gmtPSTOffset = -8;\r\n\t\t\tZoneOffset offset = ZoneOffset.ofHours(gmtPSTOffset);\r\n\t\t\t\r\n\t\t\t// String to LocalDateTime\r\n\t\t\tLocalDateTime ldt = LocalDateTime.parse(date, DateTimeFormatter.ofPattern(dateTime));\r\n\t\t\t// Set the generated LocalDateTime&#39;s TimeZone. In this case I set it to UTC\r\n\t\t\tZonedDateTime ldtUTC = ldt.atZone(ZoneOffset.UTC);\r\n\t\t\tSystem.out.println(&quot;UTC time with Timezone\t\t\t: &quot;+ldtUTC);\r\n\r\n\t\t\t// Convert above UTC to PST. You can pass ZoneOffset or Zone for 2nd parameter\r\n\t\t\tLocalDateTime ldtPST = LocalDateTime.ofInstant(ldtUTC.toInstant(), offset);\r\n\t\t\tSystem.out.println(&quot;PST time without offset\t\t\t: &quot;+ldtPST);\r\n\t\t\t\r\n\t\t\t// If you want UTC time with timezone\r\n\t\t\tZoneId zoneId = ZoneId.of( &quot;America/Los_Angeles&quot; );\r\n\t\t\tZonedDateTime zdtPST = ldtUTC.toLocalDateTime().atZone(zoneId);\r\n\t\t\tSystem.out.println(&quot;PST time with Offset and TimeZone \t: &quot;+zdtPST);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t}\r\n\t}\r\n\r\nOutput:\r\n\r\n    UTC time with Timezone\t\t\t: 2017-09-17T20:53:31Z\r\n    PST time without offset\t\t\t: 2017-09-17T12:53:31\r\n    PST time with Offset and TimeZone \t: 2017-09-17T20:53:31-08:00[America/Los_Angeles]","title":"ZonedDateTime to UTC with offset applied?","body":"<p>@SimMac Thanks for the clarity. I also faced the same issue and able to find the answer based on his suggestion.</p>\n\n<pre><code>public static void main(String[] args) {\n    try {\n        String dateTime = \"MM/dd/yyyy HH:mm:ss\";\n        String date = \"09/17/2017 20:53:31\";\n        Integer gmtPSTOffset = -8;\n        ZoneOffset offset = ZoneOffset.ofHours(gmtPSTOffset);\n\n        // String to LocalDateTime\n        LocalDateTime ldt = LocalDateTime.parse(date, DateTimeFormatter.ofPattern(dateTime));\n        // Set the generated LocalDateTime's TimeZone. In this case I set it to UTC\n        ZonedDateTime ldtUTC = ldt.atZone(ZoneOffset.UTC);\n        System.out.println(\"UTC time with Timezone          : \"+ldtUTC);\n\n        // Convert above UTC to PST. You can pass ZoneOffset or Zone for 2nd parameter\n        LocalDateTime ldtPST = LocalDateTime.ofInstant(ldtUTC.toInstant(), offset);\n        System.out.println(\"PST time without offset         : \"+ldtPST);\n\n        // If you want UTC time with timezone\n        ZoneId zoneId = ZoneId.of( \"America/Los_Angeles\" );\n        ZonedDateTime zdtPST = ldtUTC.toLocalDateTime().atZone(zoneId);\n        System.out.println(\"PST time with Offset and TimeZone   : \"+zdtPST);\n\n    } catch (Exception e) {\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>UTC time with Timezone          : 2017-09-17T20:53:31Z\nPST time without offset         : 2017-09-17T12:53:31\nPST time with Offset and TimeZone   : 2017-09-17T20:53:31-08:00[America/Los_Angeles]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"score":1,"creation_date":1545291445,"post_id":52063719,"comment_id":94575945,"body_markdown":"This worked for me:\nLocalDateTime _2018_3_13 = LocalDateTime.of(2018, Month.MARCH, 13, 0, 0);\nZonedDateTime z1 = ZonedDateTime.of(_2018_3_13, ZoneOffset.UTC);\nString last = z1.withZoneSameInstant(ZoneId.of(&quot;Europe/Paris&quot;))\n        .format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);","body":"This worked for me: LocalDateTime _2018_3_13 = LocalDateTime.of(2018, Month.MARCH, 13, 0, 0); ZonedDateTime z1 = ZonedDateTime.of(_2018_3_13, ZoneOffset.UTC); String last = z1.withZoneSameInstant(ZoneId.of(&quot;Europe/Paris&quot;))         .format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);"}],"tags":[],"owner":{"account_id":14239341,"reputation":251,"user_id":10286202,"display_name":"DaveTPhD"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1535478701,"creation_date":1535478701,"answer_id":52063719,"question_id":35689123,"body_markdown":"It looks like you need to convert to the desired time zone (UTC) before sending it to the formatter.  \r\n\r\n    z1.withZoneSameInstant( ZoneId.of(&quot;UTC&quot;) )\r\n      .format( DateTimeFormatter.ISO_OFFSET_DATE_TIME )\r\n\r\nshould give you something like `2018-08-28T17:41:38.213Z`","title":"ZonedDateTime to UTC with offset applied?","body":"<p>It looks like you need to convert to the desired time zone (UTC) before sending it to the formatter.  </p>\n\n<pre><code>z1.withZoneSameInstant( ZoneId.of(\"UTC\") )\n  .format( DateTimeFormatter.ISO_OFFSET_DATE_TIME )\n</code></pre>\n\n<p>should give you something like <code>2018-08-28T17:41:38.213Z</code></p>\n"},{"tags":[],"owner":{"account_id":1925986,"reputation":259,"user_id":12679007,"display_name":"Lucas Braune"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635811907,"creation_date":1603743561,"answer_id":64544402,"question_id":35689123,"body_markdown":"If ```z1``` is an instance of ```ZonedDateTime```, then the expression\r\n\r\n```\r\nz1.withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime()\r\n```\r\nevaluates to an instance of ```LocalDateTime``` with the string representation requested by the OP. This is illustrated by the following program:\r\n\r\n\r\n```\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneOffset;\r\nimport java.time.ZonedDateTime;\r\nimport java.time.temporal.ChronoUnit;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) {\r\n    ZonedDateTime time = ZonedDateTime.now();\r\n    ZonedDateTime truncatedTime = time.truncatedTo(ChronoUnit.SECONDS);\r\n    ZonedDateTime truncatedTimeUtc = truncatedTime.withZoneSameInstant(ZoneOffset.UTC);\r\n    LocalDateTime truncatedTimeUtcNoZone = truncatedTimeUtc.toLocalDateTime();\r\n\r\n    System.out.println(time);\r\n    System.out.println(truncatedTime);\r\n    System.out.println(truncatedTimeUtc);\r\n    System.out.println(truncatedTimeUtcNoZone);\r\n  }\r\n}\r\n```\r\nSample output:\r\n\r\n```\r\n2020-10-26T16:45:21.735836-03:00[America/Sao_Paulo]\r\n2020-10-26T16:45:21-03:00[America/Sao_Paulo]\r\n2020-10-26T19:45:21Z\r\n2020-10-26T19:45:21\r\n```","title":"ZonedDateTime to UTC with offset applied?","body":"<p>If <code>z1</code> is an instance of <code>ZonedDateTime</code>, then the expression</p>\n<pre><code>z1.withZoneSameInstant(ZoneOffset.UTC).toLocalDateTime()\n</code></pre>\n<p>evaluates to an instance of <code>LocalDateTime</code> with the string representation requested by the OP. This is illustrated by the following program:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.ZoneOffset;\nimport java.time.ZonedDateTime;\nimport java.time.temporal.ChronoUnit;\n\npublic class Main {\n\n  public static void main(String[] args) {\n    ZonedDateTime time = ZonedDateTime.now();\n    ZonedDateTime truncatedTime = time.truncatedTo(ChronoUnit.SECONDS);\n    ZonedDateTime truncatedTimeUtc = truncatedTime.withZoneSameInstant(ZoneOffset.UTC);\n    LocalDateTime truncatedTimeUtcNoZone = truncatedTimeUtc.toLocalDateTime();\n\n    System.out.println(time);\n    System.out.println(truncatedTime);\n    System.out.println(truncatedTimeUtc);\n    System.out.println(truncatedTimeUtcNoZone);\n  }\n}\n</code></pre>\n<p>Sample output:</p>\n<pre><code>2020-10-26T16:45:21.735836-03:00[America/Sao_Paulo]\n2020-10-26T16:45:21-03:00[America/Sao_Paulo]\n2020-10-26T19:45:21Z\n2020-10-26T19:45:21\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672251028,"creation_date":1665265336,"answer_id":74000728,"question_id":35689123,"body_markdown":"&gt; I wanted to convert this value as `2013-07-10T14:52:49`\r\n\r\n&#128073; 2013-07-10T02:52:49+12:00 ≠ 2013-07-10T14:52:49 at UTC\r\n\r\n&#128073; 2013-07-10T02:52:49+12:00 = 2013-06-09T14:52:49 at UTC (which is obtained by subtracting 12:00 hours of the offset from 2013-07-10T02:52:49).\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneOffset;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            ZoneOffset zoneOffset = ZoneOffset.of(&quot;+12:00&quot;);\r\n            OffsetDateTime odtGiven = OffsetDateTime.of(LocalDateTime.of(2013, 7, 10, 2, 52, 49), zoneOffset);\r\n            System.out.println(odtGiven);\r\n    \r\n            OffsetDateTime odtUtc = odtGiven.withOffsetSameInstant(ZoneOffset.UTC);\r\n            System.out.println(odtUtc);\r\n            System.out.println(odtUtc.toLocalDateTime());\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2013-07-10T02:52:49+12:00\r\n    2013-07-09T14:52:49Z\r\n    2013-07-09T14:52:49\r\n\r\nLearn about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"ZonedDateTime to UTC with offset applied?","body":"<blockquote>\n<p>I wanted to convert this value as <code>2013-07-10T14:52:49</code></p>\n</blockquote>\n<p>👉 2013-07-10T02:52:49+12:00 ≠ 2013-07-10T14:52:49 at UTC</p>\n<p>👉 2013-07-10T02:52:49+12:00 = 2013-06-09T14:52:49 at UTC (which is obtained by subtracting 12:00 hours of the offset from 2013-07-10T02:52:49).</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\n\nclass Main {\n    public static void main(String[] args) {\n        ZoneOffset zoneOffset = ZoneOffset.of(&quot;+12:00&quot;);\n        OffsetDateTime odtGiven = OffsetDateTime.of(LocalDateTime.of(2013, 7, 10, 2, 52, 49), zoneOffset);\n        System.out.println(odtGiven);\n\n        OffsetDateTime odtUtc = odtGiven.withOffsetSameInstant(ZoneOffset.UTC);\n        System.out.println(odtUtc);\n        System.out.println(odtUtc.toLocalDateTime());\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2013-07-10T02:52:49+12:00\n2013-07-09T14:52:49Z\n2013-07-09T14:52:49\n</code></pre>\n<p>Learn about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":159676,"reputation":88203,"user_id":379235,"accept_rate":62,"display_name":"daydreamer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68751,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":5,"score":24,"last_activity_date":1672251028,"creation_date":1456698712,"question_id":35689123,"body_markdown":"I am using `Java 8`  \r\nThis is what my `ZonedDateTime` looks like  \r\n\r\n    2013-07-10T02:52:49+12:00\r\n\r\nI get this value as  \r\n\r\n    z1.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME)\r\n\r\nwhere `z1` is a `ZonedDateTime`.\r\n\r\nI wanted to convert this value as `2013-07-10T14:52:49`\r\n\r\nHow can I do that?","title":"ZonedDateTime to UTC with offset applied?","body":"<p>I am using <code>Java 8</code><br>\nThis is what my <code>ZonedDateTime</code> looks like  </p>\n\n<pre><code>2013-07-10T02:52:49+12:00\n</code></pre>\n\n<p>I get this value as  </p>\n\n<pre><code>z1.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME)\n</code></pre>\n\n<p>where <code>z1</code> is a <code>ZonedDateTime</code>.</p>\n\n<p>I wanted to convert this value as <code>2013-07-10T14:52:49</code></p>\n\n<p>How can I do that?</p>\n"},{"tags":["java","upload","spring-webflux"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1671774658,"post_id":74896501,"comment_id":132173481,"body_markdown":"You need to return a mock from `content()`. That mock will need to use `thenAnswer` to call your lambda.","body":"You need to return a mock from <code>content()</code>. That mock will need to use <code>thenAnswer</code> to call your lambda."}],"answers":[{"tags":[],"owner":{"account_id":15776159,"reputation":592,"user_id":11383913,"display_name":"Ady"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672250908,"creation_date":1672250908,"answer_id":74943604,"question_id":74896501,"body_markdown":"Try this out.\r\n\r\n        byte [] dataBufferBytes =  // define your test byte array data here. \r\n        DataBuffer dataBuffer = Mockito.mock(DataBuffer.class);\r\n        doReturn(dataBuffer).when(filePart).content();\r\n        doReturn(dataBufferBytes).when(dataBuffer).readableByteCount();\r\n\r\nBesides that, I don&#39;t think this test will execute in this way in WebFlux. There is a different test framework all together for testing reactive streams known as `reactor-test`. Try using `StepVerifier` from that framework.\r\n\r\nYou can find some examples [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/reactive-streams-step-verifier-test-publisher","title":"Junittest upload java webflux service","body":"<p>Try this out.</p>\n<pre><code>    byte [] dataBufferBytes =  // define your test byte array data here. \n    DataBuffer dataBuffer = Mockito.mock(DataBuffer.class);\n    doReturn(dataBuffer).when(filePart).content();\n    doReturn(dataBufferBytes).when(dataBuffer).readableByteCount();\n</code></pre>\n<p>Besides that, I don't think this test will execute in this way in WebFlux. There is a different test framework all together for testing reactive streams known as <code>reactor-test</code>. Try using <code>StepVerifier</code> from that framework.</p>\n<p>You can find some examples <a href=\"https://www.baeldung.com/reactive-streams-step-verifier-test-publisher\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":4605646,"reputation":51,"user_id":3735228,"display_name":"ProgrammerGirl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672250908,"creation_date":1671774308,"question_id":74896501,"body_markdown":"Good night: \r\n\r\nWhen I try to execute this test, return this error.\r\n`\r\njava.lang.NullPointerException: at the height of .map(dataBuffer -&gt; { lines below....\r\n`\r\n\r\nAttached Test:\r\n```\r\n @Test\r\n    void testing_1() throws UnsupportedEncodingException {\r\n        FilePart filePart = BDDMockito.mock(FilePart.class);\r\n        BDDMockito.given(filePart.filename()).willReturn(&quot;resources/ejemplo.csv&quot;);\r\n        Mockito.when(repo.metodo(any())).thenReturn(&quot;Abcd&quot;);                \r\n        service.importData(filePart);}\r\n```\r\n\r\nClass service:\r\n```\r\npublic Flux&lt;String&gt; importData(FilePart filePart) {\r\n        return filePart.content().map(dataBuffer -&gt; { // This line throw NullPointerException\r\n                    byte[] bytes = new byte[dataBuffer.readableByteCount()];\r\n                    dataBuffer.read(bytes);\r\n                    DataBufferUtils.release(dataBuffer);\r\n                    return bytes;})\r\n                .map(t -&gt; {});\r\n}\r\n```\r\n\r\nMaybe do you know any way to mock filePart or filePart.content()?","title":"Junittest upload java webflux service","body":"<p>Good night:</p>\n<p>When I try to execute this test, return this error.\n<code>java.lang.NullPointerException: at the height of .map(dataBuffer -&gt; { lines below....</code></p>\n<p>Attached Test:</p>\n<pre><code> @Test\n    void testing_1() throws UnsupportedEncodingException {\n        FilePart filePart = BDDMockito.mock(FilePart.class);\n        BDDMockito.given(filePart.filename()).willReturn(&quot;resources/ejemplo.csv&quot;);\n        Mockito.when(repo.metodo(any())).thenReturn(&quot;Abcd&quot;);                \n        service.importData(filePart);}\n</code></pre>\n<p>Class service:</p>\n<pre><code>public Flux&lt;String&gt; importData(FilePart filePart) {\n        return filePart.content().map(dataBuffer -&gt; { // This line throw NullPointerException\n                    byte[] bytes = new byte[dataBuffer.readableByteCount()];\n                    dataBuffer.read(bytes);\n                    DataBufferUtils.release(dataBuffer);\n                    return bytes;})\n                .map(t -&gt; {});\n}\n</code></pre>\n<p>Maybe do you know any way to mock filePart or filePart.content()?</p>\n"},{"tags":["java","docker"],"owner":{"account_id":117797,"reputation":1861,"user_id":308351,"accept_rate":38,"display_name":"erny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672250828,"creation_date":1672250828,"question_id":74943591,"body_markdown":"I&#39;m using the tomcat:9-jre11 docker image from the Eclipse Temurin project. I don&#39;t know how to get Java heap usage. I don&#39;t know how to get the memory usage statistics, none of the usual commands is included. The java/bin directory just includes the following binaries:\r\n\r\n    root@bb8b42b64a09:/usr/local/tomcat# cd /opt/java/openjdk/bin/\r\n    root@bb8b42b64a09:/opt/java/openjdk/bin# ls\r\n    jaotc  java  jfr  jjs  jrunscript  keytool  pack200  rmid  rmiregistry  unpack200\r\n    root@bb8b42b64a09:/opt/java/openjdk/bin# \r\n","title":"How to check java heap usage in docker image tomcat:9-jre11","body":"<p>I'm using the tomcat:9-jre11 docker image from the Eclipse Temurin project. I don't know how to get Java heap usage. I don't know how to get the memory usage statistics, none of the usual commands is included. The java/bin directory just includes the following binaries:</p>\n<pre><code>root@bb8b42b64a09:/usr/local/tomcat# cd /opt/java/openjdk/bin/\nroot@bb8b42b64a09:/opt/java/openjdk/bin# ls\njaotc  java  jfr  jjs  jrunscript  keytool  pack200  rmid  rmiregistry  unpack200\nroot@bb8b42b64a09:/opt/java/openjdk/bin# \n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":3,"creation_date":1672239688,"post_id":74941787,"comment_id":132249135,"body_markdown":"You can go further and change the `.collect(Collectors.toList())` and replace it with `.toList()`","body":"You can go further and change the <code>.collect(Collectors.toList())</code> and replace it with <code>.toList()</code>"}],"tags":[],"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1672240810,"creation_date":1672239635,"answer_id":74941787,"question_id":74941742,"body_markdown":"It should be \r\n\r\n    List&lt;String&gt; priceCodeList = itemPriceCodes.stream().map(ItemPriceCode::getPriceCode)).collect(Collectors.toList());\r\n\r\nEDIT: \r\nJava 16+\r\n\r\n    List&lt;String&gt; priceCodeList = itemPriceCodes.stream().map(ItemPriceCode::getPriceCode)).toList()\r\n\r\nAlthough this would return an immutable list.\r\n\r\nFurthur reading: https://stackoverflow.com/questions/65969919/differences-of-java-16s-stream-tolist-and-stream-collectcollectors-tolist\r\n \r\nAlthough it doesn&#39;t seem necessary considering the use case if you want to use `String.valueOf()` you need to override `toString` accordingly in your class, as `String.valueOf()` uses it to get the string representation. \r\n\r\nDefinition of valueOf()\r\n\r\n    public static String valueOf(Object obj) {  \r\n       return (obj == null) ? &quot;null&quot; : obj.toString();  \r\n    }\r\n\r\nThus to make your code work.. add this in your class\r\n\r\n    class ItemPriceCode{\r\n      .\r\n      .\r\n      .\r\n      public String toString(){\r\n         return this.getPriceCode();\r\n      }\r\n    }\r\n\r\n","title":"Convert list to string using Java streams","body":"<p>It should be</p>\n<pre><code>List&lt;String&gt; priceCodeList = itemPriceCodes.stream().map(ItemPriceCode::getPriceCode)).collect(Collectors.toList());\n</code></pre>\n<p>EDIT:\nJava 16+</p>\n<pre><code>List&lt;String&gt; priceCodeList = itemPriceCodes.stream().map(ItemPriceCode::getPriceCode)).toList()\n</code></pre>\n<p>Although this would return an immutable list.</p>\n<p>Furthur reading: <a href=\"https://stackoverflow.com/questions/65969919/differences-of-java-16s-stream-tolist-and-stream-collectcollectors-tolist\">Differences of Java 16&#39;s Stream.toList() and Stream.collect(Collectors.toList())?</a></p>\n<p>Although it doesn't seem necessary considering the use case if you want to use <code>String.valueOf()</code> you need to override <code>toString</code> accordingly in your class, as <code>String.valueOf()</code> uses it to get the string representation.</p>\n<p>Definition of valueOf()</p>\n<pre><code>public static String valueOf(Object obj) {  \n   return (obj == null) ? &quot;null&quot; : obj.toString();  \n}\n</code></pre>\n<p>Thus to make your code work.. add this in your class</p>\n<pre><code>class ItemPriceCode{\n  .\n  .\n  .\n  public String toString(){\n     return this.getPriceCode();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":18093144,"reputation":565,"user_id":13152124,"display_name":"Mama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672250517,"creation_date":1672239336,"question_id":74941742,"body_markdown":"I created a for each loop  and I get list of price code  but I want to\r\n get same things without using any loop and perform this operation\r\n using java8 for your reference I post my old code.\r\n I want to change only this position  of my code.\r\n\r\n    List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\r\n              List&lt;String&gt; priceCodeList = new ArrayList&lt;String&gt;();                              \r\n              for (ItemPriceCode ipc : itemPriceCodes) {\r\n                  //get the string value from the list\r\n                   priceCodeList.add(ipc.getPriceCode());\r\n            }\r\n\r\n But I do not want to use any loop I want to get same result without\r\n using any loop . To over come from this issue I try this way but I am\r\n not get any success.\r\n\r\n    itemPriceCodes.stream().map(n -&gt; String.valueOf(n)).collect(Collectors.toList());\r\n\r\n Here This is my full code of this function\r\n \r\n\r\n    private Item getItemManufacturerPriceCodes(Item item) {\r\n              List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\r\n              List&lt;String&gt; priceCodeList = new ArrayList&lt;String&gt;();\r\n              for (ItemPriceCode ipc : itemPriceCodes) {\r\n                  //get the string value from the list\r\n                   priceCodeList.add(ipc.getPriceCode());\r\n            }\r\n              //pass this string value in query\r\n              List&lt;ManufacturerPriceCodes&gt;mpc = manufacturerPriceCodesRepository.\r\n                     findByManufacturerIDAndPriceCodeInAndRecordDeleted(item.getManufacturerID(),priceCodeList,NOT_DELETED);\r\n              \r\n              //Convert list to map\r\n              Map&lt;String, ManufacturerPriceCodes&gt; ipcToMFPNameMap = mpc.stream().collect(\r\n                        Collectors.toMap(ManufacturerPriceCodes :: getPriceCode,Function.identity()));// Object\r\n    \r\n    \r\n    \r\n             for (ItemPriceCode ipcs : itemPriceCodes) {\r\n                  ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\r\n            }\r\n              item.getItemPriceCodes()\r\n              .removeIf(ipcs -&gt; DELETED.equals(ipcs.getRecordDeleted()));\r\n          return item;      \r\n          }","title":"Convert list to string using Java streams","body":"<p>I created a for each loop  and I get list of price code  but I want to\nget same things without using any loop and perform this operation\nusing java8 for your reference I post my old code.\nI want to change only this position  of my code.</p>\n<pre><code>List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\n          List&lt;String&gt; priceCodeList = new ArrayList&lt;String&gt;();                              \n          for (ItemPriceCode ipc : itemPriceCodes) {\n              //get the string value from the list\n               priceCodeList.add(ipc.getPriceCode());\n        }\n</code></pre>\n<p>But I do not want to use any loop I want to get same result without\nusing any loop . To over come from this issue I try this way but I am\nnot get any success.</p>\n<pre><code>itemPriceCodes.stream().map(n -&gt; String.valueOf(n)).collect(Collectors.toList());\n</code></pre>\n<p>Here This is my full code of this function</p>\n<pre><code>private Item getItemManufacturerPriceCodes(Item item) {\n          List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\n          List&lt;String&gt; priceCodeList = new ArrayList&lt;String&gt;();\n          for (ItemPriceCode ipc : itemPriceCodes) {\n              //get the string value from the list\n               priceCodeList.add(ipc.getPriceCode());\n        }\n          //pass this string value in query\n          List&lt;ManufacturerPriceCodes&gt;mpc = manufacturerPriceCodesRepository.\n                 findByManufacturerIDAndPriceCodeInAndRecordDeleted(item.getManufacturerID(),priceCodeList,NOT_DELETED);\n          \n          //Convert list to map\n          Map&lt;String, ManufacturerPriceCodes&gt; ipcToMFPNameMap = mpc.stream().collect(\n                    Collectors.toMap(ManufacturerPriceCodes :: getPriceCode,Function.identity()));// Object\n\n\n\n         for (ItemPriceCode ipcs : itemPriceCodes) {\n              ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\n        }\n          item.getItemPriceCodes()\n          .removeIf(ipcs -&gt; DELETED.equals(ipcs.getRecordDeleted()));\n      return item;      \n      }\n</code></pre>\n"},{"tags":["java","oop","linked-list","blockchain","doubly-linked-list"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1672248485,"post_id":74943090,"comment_id":132251876,"body_markdown":"when you use addlast you can use the hash of the tail as it will be the has of the previous for that new add block (make sure that blockchain has at least 1 block so tail do not be null) something i am not sure about when you addFirst that would require that you recalculate the whole hash and previous hash for each element unless you use add first for only the first element","body":"when you use addlast you can use the hash of the tail as it will be the has of the previous for that new add block (make sure that blockchain has at least 1 block so tail do not be null) something i am not sure about when you addFirst that would require that you recalculate the whole hash and previous hash for each element unless you use add first for only the first element"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1672248574,"post_id":74943090,"comment_id":132251897,"body_markdown":"Is there any part of your code that must absolutely stay the same, or is it all open for modification?","body":"Is there any part of your code that must absolutely stay the same, or is it all open for modification?"}],"answers":[{"comments":[{"owner":{"account_id":27375565,"reputation":1,"user_id":20880965,"display_name":"Makram Ziani"},"score":0,"creation_date":1672430857,"post_id":74943510,"comment_id":132290205,"body_markdown":"okay i understand the idea behind it but how can i set the previous hash of the first block as 0 ?","body":"okay i understand the idea behind it but how can i set the previous hash of the first block as 0 ?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1672430934,"post_id":74943510,"comment_id":132290225,"body_markdown":"It&#39;s there in my answer&#39;s code? Do you see the &quot;0&quot;?","body":"It&#39;s there in my answer&#39;s code? Do you see the &quot;0&quot;?"},{"owner":{"account_id":27375565,"reputation":1,"user_id":20880965,"display_name":"Makram Ziani"},"score":0,"creation_date":1672431305,"post_id":74943510,"comment_id":132290299,"body_markdown":"oh yeah sorry i didnt know u kept i t the addLast method thanks, but now i am having a problem with printing the list because its only printing the location from the block class i used a .toString but it didnt work","body":"oh yeah sorry i didnt know u kept i t the addLast method thanks, but now i am having a problem with printing the list because its only printing the location from the block class i used a .toString but it didnt work"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1672431415,"post_id":74943510,"comment_id":132290326,"body_markdown":"Is that a new question?","body":"Is that a new question?"},{"owner":{"account_id":27375565,"reputation":1,"user_id":20880965,"display_name":"Makram Ziani"},"score":0,"creation_date":1672431847,"post_id":74943510,"comment_id":132290428,"body_markdown":"its a continuation","body":"its a continuation"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1672432030,"post_id":74943510,"comment_id":132290476,"body_markdown":"I don&#39;t see a problem. I added `System.out.println(blockchain.toString() );` to the main program, and it prints the two blocks as expected: both forward and backward. I suggest that if you have a new problem, you post a new question that focuses on that. Your question here is not about a `toString` implementation, so it is a new question, and the comment section is really not the place for follow-up questions. Can you post a new question about it?","body":"I don&#39;t see a problem. I added <code>System.out.println(blockchain.toString() );</code> to the main program, and it prints the two blocks as expected: both forward and backward. I suggest that if you have a new problem, you post a new question that focuses on that. Your question here is not about a <code>toString</code> implementation, so it is a new question, and the comment section is really not the place for follow-up questions. Can you post a new question about it?"},{"owner":{"account_id":27375565,"reputation":1,"user_id":20880965,"display_name":"Makram Ziani"},"score":0,"creation_date":1672432236,"post_id":74943510,"comment_id":132290523,"body_markdown":"okay understood","body":"okay understood"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1672432416,"post_id":74943510,"comment_id":132290552,"body_markdown":"Having said that, you never call `toString` on the `Node` class. Just call it instead of `getData()`. But yes, this is a &quot;problem&quot; that is unrelated to your question at the top.","body":"Having said that, you never call <code>toString</code> on the <code>Node</code> class. Just call it instead of <code>getData()</code>. But yes, this is a &quot;problem&quot; that is unrelated to your question at the top."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1672432840,"post_id":74943510,"comment_id":132290622,"body_markdown":"...and you also need a `toString` method on `Block`, which needs to be called from `Node::toString`.","body":"...and you also need a <code>toString</code> method on <code>Block</code>, which needs to be called from <code>Node::toString</code>."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672250356,"creation_date":1672250356,"answer_id":74943510,"question_id":74943090,"body_markdown":"The main program should not have to deal with retrieving hashes, not even with creating blocks. Instead aim for your main code to look like this:\r\n\r\n```\r\npublic class Main {\r\n    public static DoublyLinkedlist blockchain = new DoublyLinkedlist();\r\n\r\n    public static void main(String[] args) {\r\n        blockchain.addLast(&quot;Hi, I am the first block&quot;);\r\n        blockchain.addLast(&quot;Yo, I am the second block&quot;);       \r\n    }\r\n}\r\n```\r\n\r\nThen your other classes would also need some adaptations. In `Node` I would add a constructor that can take a second argument, so it can establish the link with a previous node:\r\n\r\n```\r\n    public Node(Block data, Node prevNode) { // Additional constructor\r\n        this.data = data;\r\n        this.prevNode = prevNode;\r\n        if (prevNode != null) {\r\n            prevNode.setNextNode(this);\r\n        }\r\n    }\r\n```\r\n\r\nIn the `DoublyLinkedList` class, remove the `addFirst` method: you don&#39;t want to add blocks **before** any existing blocks, as that would invalidate the hashes of the blocks that are already in the list. Blocks should only be added at the end.\r\n\r\nThe `addLast` method should take a string instead of a `Block` instance, and this method can also be used for adding the very first block.\r\n\r\n```\r\n    public void addLast(String data) {\r\n        tail = new Node(new Block(data, tail != null ? tail.getData().hash : &quot;0&quot;), tail);\r\n        if (head == null) head = tail;\r\n        size++;\r\n    }\r\n```\r\n\r\n","title":"how do I call the previous Node of an unknow object?","body":"<p>The main program should not have to deal with retrieving hashes, not even with creating blocks. Instead aim for your main code to look like this:</p>\n<pre><code>public class Main {\n    public static DoublyLinkedlist blockchain = new DoublyLinkedlist();\n\n    public static void main(String[] args) {\n        blockchain.addLast(&quot;Hi, I am the first block&quot;);\n        blockchain.addLast(&quot;Yo, I am the second block&quot;);       \n    }\n}\n</code></pre>\n<p>Then your other classes would also need some adaptations. In <code>Node</code> I would add a constructor that can take a second argument, so it can establish the link with a previous node:</p>\n<pre><code>    public Node(Block data, Node prevNode) { // Additional constructor\n        this.data = data;\n        this.prevNode = prevNode;\n        if (prevNode != null) {\n            prevNode.setNextNode(this);\n        }\n    }\n</code></pre>\n<p>In the <code>DoublyLinkedList</code> class, remove the <code>addFirst</code> method: you don't want to add blocks <strong>before</strong> any existing blocks, as that would invalidate the hashes of the blocks that are already in the list. Blocks should only be added at the end.</p>\n<p>The <code>addLast</code> method should take a string instead of a <code>Block</code> instance, and this method can also be used for adding the very first block.</p>\n<pre><code>    public void addLast(String data) {\n        tail = new Node(new Block(data, tail != null ? tail.getData().hash : &quot;0&quot;), tail);\n        if (head == null) head = tail;\n        size++;\n    }\n</code></pre>\n"}],"owner":{"account_id":27375565,"reputation":1,"user_id":20880965,"display_name":"Makram Ziani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672250356,"creation_date":1672247477,"question_id":74943090,"body_markdown":"I am using custom made data structure and, in this project, I am using a doubly LinkedList to implement a blockchain.\r\n\r\nso I have made a Main class and a Block class and of course the LinkedList class, the LinkedList class was made to accept data of the type Block so when I try to add elements to my list i pass on a new block with the information the problem is after the first element I don&#39;t know how to call the hash value of the previous block.  \r\n\r\nbasically in every block class there should be a hash and the hash of the previous block in block one there is no prev hash so its 0 but the second block and onwards is where I am lost. \r\n\r\n\r\nthis is my block class\r\n```\r\nimport java.util.Date;\r\n\r\npublic class Block {\r\n\r\n    public String hash;\r\n    public String previousHash;\r\n    private String data;\r\n    private long timeStamp;\r\n\r\n    public Block(String data, String previousHash) {\r\n        this.data = data;\r\n        this.previousHash = previousHash;\r\n        this.timeStamp = new Date().getTime();\r\n        this.hash = calculateHash();\r\n    }\r\n\r\n    public String calculateHash() {\r\n        String calculatehash = StringUtil.applySha256(\r\n                previousHash + Long.toString(timeStamp) + data);\r\n\r\n        return calculatehash;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nthis is my doubly LinkedList file  \r\n```\r\nclass Node {\r\n\r\n    private Block data; // node storing int data\r\n    private Node nextNode; // the next pointer node, the arrow in drawing\r\n    private Node prevNode;\r\n\r\n    // don&#39;t forget the class constructor\r\n    public Node(Block data2) {\r\n        this.data = data2;\r\n    }\r\n\r\n    // since we made variable private\r\n    // to access them we need setters and getters\r\n    public Block getData() {\r\n        return this.data;\r\n    }\r\n\r\n    public Node getNextNode() {\r\n        return this.nextNode;\r\n    }\r\n\r\n    public Node getPrevNode() {\r\n        return this.prevNode;\r\n    }\r\n\r\n    public Block setData(Block data) {\r\n        return this.data = data;\r\n    }\r\n\r\n    public Node setNextNode(Node nextNode) {\r\n        return this.nextNode = nextNode;\r\n    }\r\n\r\n    public Node setpervNode(Node prevNode) {\r\n        return this.prevNode = prevNode;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Data: &quot; + this.data;\r\n    }\r\n\r\n   \r\n}\r\n\r\npublic class DoublyLinkedlist {\r\n\r\n    private Node head;\r\n    private Node tail;\r\n    private int size = 0;\r\n\r\n\r\n    public DoublyLinkedlist() {\r\n        \r\n    }\r\n\r\n    public int getSize() {\r\n        return this.size;\r\n    }\r\n\r\n    public void addFirst(Block data) {\r\n        Node node = new Node(data);\r\n        if (this.tail == null &amp;&amp; this.head == null) {\r\n            this.tail = node;\r\n            this.head = node;\r\n        } else if (this.head == null) {\r\n            this.head = node;\r\n        } else {\r\n            Node old = this.head;\r\n            node.setNextNode(old);\r\n            this.head = node;\r\n            old.setpervNode(this.head);\r\n        }\r\n        this.size++;\r\n    }\r\n\r\n    public void addLast(Block data) {\r\n        Node node = new Node(data);\r\n        if (this.tail == null &amp;&amp; this.head == null) {\r\n            this.tail = node;\r\n            this.head = node;\r\n        } else if (this.tail == null) {\r\n            this.tail = node;\r\n        } else {\r\n            Node old = this.tail;\r\n            this.tail.setNextNode(node);\r\n            this.tail = node;\r\n            this.tail.setpervNode(old);\r\n        }\r\n        this.size++;\r\n    }\r\n\r\n    public Node removeFirst() {\r\n        Node removed = this.head;\r\n        this.head = this.head.getNextNode();\r\n        this.size--;\r\n        return removed;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        String output = &quot;[size=&quot; + this.size + &quot;] &gt;&gt; &quot;;\r\n        Node fromHead = this.head;\r\n        while (fromHead != null) {\r\n            output = output + fromHead.getData();\r\n            if (fromHead != this.tail)\r\n                output = output + &quot; &gt;&gt; &quot;;\r\n            fromHead = fromHead.getNextNode();\r\n        }\r\n        output += &quot;\\n&quot;;\r\n        Node fromTail = this.tail;\r\n        while (fromTail != null) {\r\n            output = output + fromTail.getData();\r\n            if (fromTail != this.head)\r\n                output = output + &quot; &lt;&lt; &quot;;\r\n            fromTail = fromTail.getPrevNode();\r\n        }\r\n        return output;\r\n    }\r\n\r\n    public boolean contains(Block data) {\r\n        Node current = this.head;\r\n        while (current != null) {\r\n            if (current.getData() == data) {\r\n                return true;\r\n            }\r\n            current = current.getNextNode();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public void clear() {\r\n        while (this.head != null) {\r\n            this.removeFirst();\r\n        }\r\n        System.out.println(&quot;List Is Cleared!&quot;);\r\n    }\r\n    \r\n}\r\n```\r\nand this is my Main class\r\n\r\n\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static DoublyLinkedlist blockchain = new DoublyLinkedlist();\r\n    public static void main(String[] args) {\r\n        \r\n        \r\n        blockchain.addFirst(new Block(&quot;hi i am the first block&quot;, &quot;0&quot;));\r\n        blockchain.addLast(new Block(&quot;yo i am the second block&quot;, blockchain.get(blockchain.getSize()-1.hash)));       \r\n              \r\n       \r\n       \r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\ni tried using the get method based on a tutorial that was implementing using an arraylist but obviously it&#39;s a wrong syntax.","title":"how do I call the previous Node of an unknow object?","body":"<p>I am using custom made data structure and, in this project, I am using a doubly LinkedList to implement a blockchain.</p>\n<p>so I have made a Main class and a Block class and of course the LinkedList class, the LinkedList class was made to accept data of the type Block so when I try to add elements to my list i pass on a new block with the information the problem is after the first element I don't know how to call the hash value of the previous block.</p>\n<p>basically in every block class there should be a hash and the hash of the previous block in block one there is no prev hash so its 0 but the second block and onwards is where I am lost.</p>\n<p>this is my block class</p>\n<pre><code>import java.util.Date;\n\npublic class Block {\n\n    public String hash;\n    public String previousHash;\n    private String data;\n    private long timeStamp;\n\n    public Block(String data, String previousHash) {\n        this.data = data;\n        this.previousHash = previousHash;\n        this.timeStamp = new Date().getTime();\n        this.hash = calculateHash();\n    }\n\n    public String calculateHash() {\n        String calculatehash = StringUtil.applySha256(\n                previousHash + Long.toString(timeStamp) + data);\n\n        return calculatehash;\n    }\n}\n</code></pre>\n<p>this is my doubly LinkedList file</p>\n<pre><code>class Node {\n\n    private Block data; // node storing int data\n    private Node nextNode; // the next pointer node, the arrow in drawing\n    private Node prevNode;\n\n    // don't forget the class constructor\n    public Node(Block data2) {\n        this.data = data2;\n    }\n\n    // since we made variable private\n    // to access them we need setters and getters\n    public Block getData() {\n        return this.data;\n    }\n\n    public Node getNextNode() {\n        return this.nextNode;\n    }\n\n    public Node getPrevNode() {\n        return this.prevNode;\n    }\n\n    public Block setData(Block data) {\n        return this.data = data;\n    }\n\n    public Node setNextNode(Node nextNode) {\n        return this.nextNode = nextNode;\n    }\n\n    public Node setpervNode(Node prevNode) {\n        return this.prevNode = prevNode;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Data: &quot; + this.data;\n    }\n\n   \n}\n\npublic class DoublyLinkedlist {\n\n    private Node head;\n    private Node tail;\n    private int size = 0;\n\n\n    public DoublyLinkedlist() {\n        \n    }\n\n    public int getSize() {\n        return this.size;\n    }\n\n    public void addFirst(Block data) {\n        Node node = new Node(data);\n        if (this.tail == null &amp;&amp; this.head == null) {\n            this.tail = node;\n            this.head = node;\n        } else if (this.head == null) {\n            this.head = node;\n        } else {\n            Node old = this.head;\n            node.setNextNode(old);\n            this.head = node;\n            old.setpervNode(this.head);\n        }\n        this.size++;\n    }\n\n    public void addLast(Block data) {\n        Node node = new Node(data);\n        if (this.tail == null &amp;&amp; this.head == null) {\n            this.tail = node;\n            this.head = node;\n        } else if (this.tail == null) {\n            this.tail = node;\n        } else {\n            Node old = this.tail;\n            this.tail.setNextNode(node);\n            this.tail = node;\n            this.tail.setpervNode(old);\n        }\n        this.size++;\n    }\n\n    public Node removeFirst() {\n        Node removed = this.head;\n        this.head = this.head.getNextNode();\n        this.size--;\n        return removed;\n    }\n\n    @Override\n    public String toString() {\n        String output = &quot;[size=&quot; + this.size + &quot;] &gt;&gt; &quot;;\n        Node fromHead = this.head;\n        while (fromHead != null) {\n            output = output + fromHead.getData();\n            if (fromHead != this.tail)\n                output = output + &quot; &gt;&gt; &quot;;\n            fromHead = fromHead.getNextNode();\n        }\n        output += &quot;\\n&quot;;\n        Node fromTail = this.tail;\n        while (fromTail != null) {\n            output = output + fromTail.getData();\n            if (fromTail != this.head)\n                output = output + &quot; &lt;&lt; &quot;;\n            fromTail = fromTail.getPrevNode();\n        }\n        return output;\n    }\n\n    public boolean contains(Block data) {\n        Node current = this.head;\n        while (current != null) {\n            if (current.getData() == data) {\n                return true;\n            }\n            current = current.getNextNode();\n        }\n        return false;\n    }\n\n    public void clear() {\n        while (this.head != null) {\n            this.removeFirst();\n        }\n        System.out.println(&quot;List Is Cleared!&quot;);\n    }\n    \n}\n</code></pre>\n<p>and this is my Main class</p>\n<pre><code>public class Main {\n\n    public static DoublyLinkedlist blockchain = new DoublyLinkedlist();\n    public static void main(String[] args) {\n        \n        \n        blockchain.addFirst(new Block(&quot;hi i am the first block&quot;, &quot;0&quot;));\n        blockchain.addLast(new Block(&quot;yo i am the second block&quot;, blockchain.get(blockchain.getSize()-1.hash)));       \n              \n       \n       \n\n\n    }\n}\n</code></pre>\n<p>i tried using the get method based on a tutorial that was implementing using an arraylist but obviously it's a wrong syntax.</p>\n"},{"tags":["java","terminal","ansi-escape"],"comments":[{"owner":{"account_id":5136646,"reputation":16423,"user_id":4338920,"accept_rate":69,"display_name":"Malik Brahimi"},"score":0,"creation_date":1426626787,"post_id":29109678,"comment_id":46449075,"body_markdown":"You need to make the bold argument first, not last.","body":"You need to make the bold argument first, not last."},{"owner":{"account_id":1652167,"reputation":3610,"user_id":1522522,"accept_rate":86,"display_name":"vandale"},"score":0,"creation_date":1426627527,"post_id":29109678,"comment_id":46449437,"body_markdown":"see also https://github.com/fusesource/jansi","body":"see also <a href=\"https://github.com/fusesource/jansi\" rel=\"nofollow noreferrer\">github.com/fusesource/jansi</a>"},{"owner":{"account_id":5892595,"reputation":195,"user_id":4638716,"accept_rate":50,"display_name":"Na Dia"},"score":0,"creation_date":1426627707,"post_id":29109678,"comment_id":46449515,"body_markdown":"@Malik does not work due to the format &quot;[1m testing bold&quot; is printed as txt","body":"@Malik does not work due to the format &quot;[1m testing bold&quot; is printed as txt"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1672249768,"post_id":29109678,"comment_id":132252238,"body_markdown":"This must have been a mega duplicate in 2015. Why wasn&#39;t there any effort to find the canonical question? E.g. &quot;`[1m`&quot; is a dead giveaway that it is about [ANSI escape codes](https://en.wikipedia.org/wiki/ANSI_escape_code) (e.g., (virtual) terminals). Visitors from search engines may end up shipwrecked here.","body":"This must have been a mega duplicate in 2015. Why wasn&#39;t there any effort to find the canonical question? E.g. &quot;<code>[1m</code>&quot; is a dead giveaway that it is about <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"nofollow noreferrer\">ANSI escape codes</a> (e.g., (virtual) terminals). Visitors from search engines may end up shipwrecked here."}],"answers":[{"comments":[{"owner":{"account_id":5892595,"reputation":195,"user_id":4638716,"accept_rate":50,"display_name":"Na Dia"},"score":0,"creation_date":1426627520,"post_id":29109886,"comment_id":46449434,"body_markdown":"Thank you, just tried: &quot;\\033[0;1m&quot;. It does not work in Netbeans","body":"Thank you, just tried: &quot;\\033[0;1m&quot;. It does not work in Netbeans"}],"tags":[],"owner":{"account_id":5835421,"reputation":71,"user_id":4598652,"display_name":"hrdasadia"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1672250066,"creation_date":1426627049,"answer_id":29109886,"question_id":29109678,"body_markdown":"This really depends on what kind of console is being used. For IDEs like [NetBeans][1] and [Eclipse][2], I&#39;m not sure if you can affect the font. But for most terminals, the following escape character works:\r\n\r\n    String textInBold = &quot;Java_Prof_Level&quot;;\r\n    System.out.print(&quot;\\033[0;1m&quot; + textInBold);\r\n\r\n  [1]: https://en.wikipedia.org/wiki/NetBeans\r\n  [2]: https://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n\r\n\r\n\r\n\r\n","title":"Print in bold on a terminal","body":"<p>This really depends on what kind of console is being used. For IDEs like <a href=\"https://en.wikipedia.org/wiki/NetBeans\" rel=\"nofollow noreferrer\">NetBeans</a> and <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow noreferrer\">Eclipse</a>, I'm not sure if you can affect the font. But for most terminals, the following escape character works:</p>\n<pre><code>String textInBold = &quot;Java_Prof_Level&quot;;\nSystem.out.print(&quot;\\033[0;1m&quot; + textInBold);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5174533,"reputation":12742,"user_id":4142130,"display_name":"Hoopje"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1635857248,"creation_date":1426627299,"answer_id":29109958,"question_id":29109678,"body_markdown":"You cannot print bold with Java `System.out`. It just streams to the standard output stream so, in principle, it is unformatted text only. \r\n\r\nHowever, some software packages interpret special character sequences (the so-called ANSI escape sequences) to allow formatting. \r\n\r\nNote that ANSI escape sequences start with an escape character, so you need to add that to your string also. (Try `&quot;\\u001B[1m I am bold&quot;` or `&quot;\\033[0;1m&quot; + &quot;I am bold&quot;`.) \r\n\r\nMost Unix terminals interpret ANSI escape sequences by default. In old DOS times, you needed to use **ANSI.SYS** for the escape sequences to work. \r\n\r\nIn Windows and the Eclipse terminal the codes do not work.","title":"Print in bold on a terminal","body":"<p>You cannot print bold with Java <code>System.out</code>. It just streams to the standard output stream so, in principle, it is unformatted text only.</p>\n<p>However, some software packages interpret special character sequences (the so-called ANSI escape sequences) to allow formatting.</p>\n<p>Note that ANSI escape sequences start with an escape character, so you need to add that to your string also. (Try <code>&quot;\\u001B[1m I am bold&quot;</code> or <code>&quot;\\033[0;1m&quot; + &quot;I am bold&quot;</code>.)</p>\n<p>Most Unix terminals interpret ANSI escape sequences by default. In old DOS times, you needed to use <strong>ANSI.SYS</strong> for the escape sequences to work.</p>\n<p>In Windows and the Eclipse terminal the codes do not work.</p>\n"},{"comments":[{"owner":{"account_id":7890992,"reputation":741,"user_id":5961135,"display_name":"AndroidLearner"},"score":0,"creation_date":1613200697,"post_id":65969169,"comment_id":117007584,"body_markdown":"can you add some reference links for escape characters, it will be helpful to find other escape characters too","body":"can you add some reference links for escape characters, it will be helpful to find other escape characters too"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1672249552,"post_id":65969169,"comment_id":132252164,"body_markdown":"The link is broken: *&quot;404 - File or directory not found.&quot;*","body":"The link is broken: <i>&quot;404 - File or directory not found.&quot;</i>"}],"tags":[],"owner":{"account_id":1264721,"reputation":1210,"user_id":1222271,"accept_rate":33,"display_name":"Boris Karloff"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1672249431,"creation_date":1612017345,"answer_id":65969169,"question_id":29109678,"body_markdown":"I found this. It is for Epson ECS/POS.\r\n\r\n    string ESC = &quot;\\u001B&quot;;\r\n    string GS = &quot;\\u001D&quot;;\r\n    string InitializePrinter = ESC + &quot;@&quot;;\r\n    string BoldOn = ESC + &quot;E&quot; + &quot;\\u0001&quot;;\r\n    string BoldOff = ESC + &quot;E&quot; + &quot;\\0&quot;;\r\n    string DoubleOn = GS + &quot;!&quot; + &quot;\\u0011&quot;;  // 2x sized text (double-high + double-wide)\r\n    string DoubleOff = GS + &quot;!&quot; + &quot;\\0&quot;;\r\n\r\n    printJob.Print(InitializePrinter);\r\n    printJob.PrintLine(&quot;Here is some normal text.&quot;);\r\n    printJob.PrintLine(BoldOn + &quot;Here is some bold text.&quot; + BoldOff);\r\n    printJob.PrintLine(DoubleOn + &quot;Here is some large text.&quot; + DoubleOff);\r\n\r\nFirst page of the PDF document: [here is a reference link][1]\r\n\r\nI must use &quot;&quot; before the command. Otherwise it doesn&#39;t work:\r\n\r\n    oStream.print(&quot;&quot; + (char)27 + (char)97 + (char)1); // For centering text\r\n\r\n  [1]: https://download.delfi.com/SupportDL/Epson/Manuals/TM-T20/Manuals/Epson%20TM-T20%20ESC-POS%20Quick%20Reference%20Guide%20.pdf\r\n\r\n\r\n\r\n\r\n","title":"Print in bold on a terminal","body":"<p>I found this. It is for Epson ECS/POS.</p>\n<pre><code>string ESC = &quot;\\u001B&quot;;\nstring GS = &quot;\\u001D&quot;;\nstring InitializePrinter = ESC + &quot;@&quot;;\nstring BoldOn = ESC + &quot;E&quot; + &quot;\\u0001&quot;;\nstring BoldOff = ESC + &quot;E&quot; + &quot;\\0&quot;;\nstring DoubleOn = GS + &quot;!&quot; + &quot;\\u0011&quot;;  // 2x sized text (double-high + double-wide)\nstring DoubleOff = GS + &quot;!&quot; + &quot;\\0&quot;;\n\nprintJob.Print(InitializePrinter);\nprintJob.PrintLine(&quot;Here is some normal text.&quot;);\nprintJob.PrintLine(BoldOn + &quot;Here is some bold text.&quot; + BoldOff);\nprintJob.PrintLine(DoubleOn + &quot;Here is some large text.&quot; + DoubleOff);\n</code></pre>\n<p>First page of the PDF document: <a href=\"https://download.delfi.com/SupportDL/Epson/Manuals/TM-T20/Manuals/Epson%20TM-T20%20ESC-POS%20Quick%20Reference%20Guide%20.pdf\" rel=\"nofollow noreferrer\">here is a reference link</a></p>\n<p>I must use &quot;&quot; before the command. Otherwise it doesn't work:</p>\n<pre><code>oStream.print(&quot;&quot; + (char)27 + (char)97 + (char)1); // For centering text\n</code></pre>\n"}],"owner":{"account_id":5892595,"reputation":195,"user_id":4638716,"accept_rate":50,"display_name":"Na Dia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126103,"favorite_count":0,"down_vote_count":5,"up_vote_count":15,"accepted_answer_id":29109958,"answer_count":3,"score":10,"last_activity_date":1672250066,"creation_date":1426626404,"question_id":29109678,"body_markdown":"How can I print output in bold using printf? `&quot;[1m testing bold&quot;` does not do anything.\r\n\r\n    String format = &quot;%-20s %-15s %-20s %-15s %-10s&quot;;\r\n\r\n    System.out.printf(format, &quot;Name&quot;, &quot;Group_name&quot;, &quot;Java_Prof_Level&quot;, &quot;Cpr_Nr&quot;, &quot;Gender&quot;, &quot;[1m testing bold&quot;);\r\n\r\n\r\n","title":"Print in bold on a terminal","body":"<p>How can I print output in bold using printf? <code>&quot;[1m testing bold&quot;</code> does not do anything.</p>\n<pre><code>String format = &quot;%-20s %-15s %-20s %-15s %-10s&quot;;\n\nSystem.out.printf(format, &quot;Name&quot;, &quot;Group_name&quot;, &quot;Java_Prof_Level&quot;, &quot;Cpr_Nr&quot;, &quot;Gender&quot;, &quot;[1m testing bold&quot;);\n</code></pre>\n"},{"tags":["java","queue","binary-search-tree","traversal"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1537467567,"post_id":52430939,"comment_id":91805696,"body_markdown":"Just out of curiosity: why are you rolling your own queue class instead of using `java.util.Queue` along with one of its implementations (e.g. `LinkedList`)? Besides that your `enqueue()` method looks ok, did you step through your code with a debugger? (That&#39;s preferrable over staring at code :) )","body":"Just out of curiosity: why are you rolling your own queue class instead of using <code>java.util.Queue</code> along with one of its implementations (e.g. <code>LinkedList</code>)? Besides that your <code>enqueue()</code> method looks ok, did you step through your code with a debugger? (That&#39;s preferrable over staring at code :) )"},{"owner":{"account_id":12719857,"reputation":17,"user_id":9240676,"display_name":"zkalman"},"score":0,"creation_date":1537468340,"post_id":52430939,"comment_id":91806031,"body_markdown":"I am simply trying to learn better how ADTs works :) I&#39;m not sure what a debugger is, but I don&#39;t get any errors really, the problem is that I don&#39;t get the results I&#39;m looking for (having the same size in my queue as in my BST). @Thomas","body":"I am simply trying to learn better how ADTs works :) I&#39;m not sure what a debugger is, but I don&#39;t get any errors really, the problem is that I don&#39;t get the results I&#39;m looking for (having the same size in my queue as in my BST). @Thomas"},{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":0,"creation_date":1537474027,"post_id":52430939,"comment_id":91808758,"body_markdown":"This code looks pretty reasonable to me--can you post a more complete (but still [minimal](https://stackoverflow.com/help/mcve)) example that shows the problem exactly?","body":"This code looks pretty reasonable to me--can you post a more complete (but still <a href=\"https://stackoverflow.com/help/mcve\">minimal</a>) example that shows the problem exactly?"},{"owner":{"account_id":12719857,"reputation":17,"user_id":9240676,"display_name":"zkalman"},"score":0,"creation_date":1537479064,"post_id":52430939,"comment_id":91810885,"body_markdown":"@ggorlen I edited my post. New info is under &quot;edit: &quot;.","body":"@ggorlen I edited my post. New info is under &quot;edit: &quot;."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1537692195,"post_id":52430939,"comment_id":91870767,"body_markdown":"A debugger is used to step through your program (statement by statement, from defined break point to break point etc.) to see what code is called and what values the parameters, variables or fields have. It&#39;s _really_ helpful, especially in cases like yours, i.e. when there&#39;s no exception or warning but the code still does something wrong somewhere (stepping though the code and looking at the values is meant to help you find what goes wrong and where).","body":"A debugger is used to step through your program (statement by statement, from defined break point to break point etc.) to see what code is called and what values the parameters, variables or fields have. It&#39;s <i>really</i> helpful, especially in cases like yours, i.e. when there&#39;s no exception or warning but the code still does something wrong somewhere (stepping though the code and looking at the values is meant to help you find what goes wrong and where)."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1537692448,"post_id":52430939,"comment_id":91870821,"body_markdown":"As for your problem: &quot; What I want is for my queue size to be the same as BST until I start dequeueing it or deleteing elements from the BST.&quot; - have a look at your iterator&#39;s `next()` method: you&#39;re calling `dequeue()` there so your queue should be empty (not sure where that 1 comes from) after iteration. However, since the queue is meant for iteration why exactly do you want its size to be equal to that of the tree?","body":"As for your problem: &quot; What I want is for my queue size to be the same as BST until I start dequeueing it or deleteing elements from the BST.&quot; - have a look at your iterator&#39;s <code>next()</code> method: you&#39;re calling <code>dequeue()</code> there so your queue should be empty (not sure where that 1 comes from) after iteration. However, since the queue is meant for iteration why exactly do you want its size to be equal to that of the tree?"}],"owner":{"account_id":12719857,"reputation":17,"user_id":9240676,"display_name":"zkalman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672249895,"creation_date":1537467077,"question_id":52430939,"body_markdown":"I am traversing through a BST using a level order class. When I add an element to my queue class I need the size of the queue to increase, but as my code is right now it isn&#39;t: \r\n\r\n    public class LevelorderIterator implements Iterator&lt;Node&gt; {\r\n\tprotected Queue&lt;Node&gt; q;\r\n\tNode root;\r\n\tpublic LevelorderIterator(Node tree) {\r\n\t\tthis.root = tree;\r\n\t\tq = new Queue &lt;Node&gt;();\r\n\t\tq.enqueue(root);\r\n\t}\r\n\r\n\tpublic Node next() {\r\n\t\tNode temp = q.dequeue();\r\n\t\tif(temp.left != null){\r\n\t\t\tq.enqueue(temp.left);\r\n\t\t}\r\n\t\tif(temp.right != null){\r\n\t\t\tq.enqueue(temp.right);\r\n\t\t}\r\n\t\treturn temp;\r\n\t}\r\n\r\nEnqueue (in queue class):\r\n\r\n    public void enqueue(E item) {\r\n\t\tif (isEmpty()) {\r\n\t\t\tlst = fst = new QueueItem&lt;E&gt;(item, null);\r\n\t\t} else {\r\n\t\t\tlst.next = new QueueItem&lt;E&gt;(item, null);\r\n\t\t\tlst = lst.next;\r\n\t\t}\r\n\t\tsize++;\r\n\t}\r\n\r\nThe traversing works fine so I&#39;m guessing I&#39;ve become blinded from starring at my code for too long... Where am I looking at this the wrong way?\r\n\r\nEdit:\r\nThis is my dequeue:\r\n         \r\n\r\n      public E dequeue() throws EmptyContainerException {\r\n\t\tif (isEmpty()) {\r\n\t\t\tthrow new EmptyContainerException(&quot;&gt;&gt;&gt; Queue is empty.&quot;);\r\n\t\t}\r\n\t\tE e = fst.element;\r\n\t\tfst = fst.next;\r\n\t\tsize--;\r\n\t\tif (isEmpty()) {\r\n\t\t\tlst = null;\r\n\t\t}\r\n\t\treturn e;\r\n\t}\r\n\r\n\r\nIn my testprogram I call next, which then calls dequeue:\r\n\r\n    case &#39;l&#39;:\r\n\tLevelorderIterator lo = tree.levelorder();\r\n\twhile (lo.hasNext()) {\r\n\t\tNode tmp = lo.next();\r\n\t\tSystem.out.println(&quot;Key=&quot; + tmp.key + &quot; Value=&quot;\r\n\t\t\t\t+ tmp.val);\r\n\t}\r\n\r\nSo after this case I get an output of nodes in BST in correct order. But if I check the size of my queue it is always &#39;1&#39;, even when my BST is for example 5. The size 1 comes from the enqueue in the constructor of lo. What I want is for my queue size to be the same as BST until I start dequeueing it or deleteing elements from the BST.\r\n\r\nThanks!","title":"Increasing queue size when traversing by level order","body":"<p>I am traversing through a BST using a level order class. When I add an element to my queue class I need the size of the queue to increase, but as my code is right now it isn't:</p>\n<pre><code>public class LevelorderIterator implements Iterator&lt;Node&gt; {\nprotected Queue&lt;Node&gt; q;\nNode root;\npublic LevelorderIterator(Node tree) {\n    this.root = tree;\n    q = new Queue &lt;Node&gt;();\n    q.enqueue(root);\n}\n\npublic Node next() {\n    Node temp = q.dequeue();\n    if(temp.left != null){\n        q.enqueue(temp.left);\n    }\n    if(temp.right != null){\n        q.enqueue(temp.right);\n    }\n    return temp;\n}\n</code></pre>\n<p>Enqueue (in queue class):</p>\n<pre><code>public void enqueue(E item) {\n    if (isEmpty()) {\n        lst = fst = new QueueItem&lt;E&gt;(item, null);\n    } else {\n        lst.next = new QueueItem&lt;E&gt;(item, null);\n        lst = lst.next;\n    }\n    size++;\n}\n</code></pre>\n<p>The traversing works fine so I'm guessing I've become blinded from starring at my code for too long... Where am I looking at this the wrong way?</p>\n<p>Edit:\nThis is my dequeue:</p>\n<pre><code>  public E dequeue() throws EmptyContainerException {\n    if (isEmpty()) {\n        throw new EmptyContainerException(&quot;&gt;&gt;&gt; Queue is empty.&quot;);\n    }\n    E e = fst.element;\n    fst = fst.next;\n    size--;\n    if (isEmpty()) {\n        lst = null;\n    }\n    return e;\n}\n</code></pre>\n<p>In my testprogram I call next, which then calls dequeue:</p>\n<pre><code>case 'l':\nLevelorderIterator lo = tree.levelorder();\nwhile (lo.hasNext()) {\n    Node tmp = lo.next();\n    System.out.println(&quot;Key=&quot; + tmp.key + &quot; Value=&quot;\n            + tmp.val);\n}\n</code></pre>\n<p>So after this case I get an output of nodes in BST in correct order. But if I check the size of my queue it is always '1', even when my BST is for example 5. The size 1 comes from the enqueue in the constructor of lo. What I want is for my queue size to be the same as BST until I start dequeueing it or deleteing elements from the BST.</p>\n<p>Thanks!</p>\n"},{"tags":["java","mysql","swing"],"answers":[{"tags":[],"owner":{"account_id":279146,"reputation":5158,"user_id":574147,"display_name":"Fabio Bonfante"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672249360,"creation_date":1672249360,"answer_id":74943379,"question_id":74942702,"body_markdown":"There&#39;s a lot of work to do, but you can &quot;offload&quot; a lot of that. ;-)\r\n\r\nIf your desktop-application is a &quot;single-user&quot; application you can create a &quot;Singleton&quot; object to store the current logged user.\r\n\r\nThat object will represent a &quot;Session&quot;, that will be built after a successful login and it will contain the logged user (aka Principal).\r\n\r\nThere&#39;are various points where you can improve:\r\n- security: password are stored in plain text, it would be better to use an hash function for that -- https://www.baeldung.com/java-password-hashing\r\n- logic and db code in UI: mixing all the code together will make it very harder to handle it and fix it (believe me). Again, following an Object-Oriented approach is better to model with something like:\r\n\r\n```java\r\ninterface Products {\r\n\r\n  List&lt;Product&gt; listAll();\r\n\r\n} \r\n\r\ninterface Orders {\r\n  void save(Order order)\r\n}\r\n```\r\nThe implementation of that interfaces will interact with the db, returning the data to the UI and doing the actions started from the user.\r\n\r\n- db connections handling: obtaining a db connection takes a lot of time, for this reason exists Connection Pools see - https://github.com/brettwooldridge/HikariCP\r\n\r\n- db interaction way: instead of plain jdbc you&#39;re using see -- https://www.marcobehler.com/guides/java-databases\r\n\r\n- TIPS: Nebeans historically could create interface that interact with standard DB interaction ways (ie JPA) -- https://netbeans.apache.org/tutorials/74/nbm-crud.html","title":"How to store and retrieve database information based on logged in user in Java, using swing GUI (Netbeans)","body":"<p>There's a lot of work to do, but you can &quot;offload&quot; a lot of that. ;-)</p>\n<p>If your desktop-application is a &quot;single-user&quot; application you can create a &quot;Singleton&quot; object to store the current logged user.</p>\n<p>That object will represent a &quot;Session&quot;, that will be built after a successful login and it will contain the logged user (aka Principal).</p>\n<p>There'are various points where you can improve:</p>\n<ul>\n<li>security: password are stored in plain text, it would be better to use an hash function for that -- <a href=\"https://www.baeldung.com/java-password-hashing\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-password-hashing</a></li>\n<li>logic and db code in UI: mixing all the code together will make it very harder to handle it and fix it (believe me). Again, following an Object-Oriented approach is better to model with something like:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>interface Products {\n\n  List&lt;Product&gt; listAll();\n\n} \n\ninterface Orders {\n  void save(Order order)\n}\n</code></pre>\n<p>The implementation of that interfaces will interact with the db, returning the data to the UI and doing the actions started from the user.</p>\n<ul>\n<li><p>db connections handling: obtaining a db connection takes a lot of time, for this reason exists Connection Pools see - <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP</a></p>\n</li>\n<li><p>db interaction way: instead of plain jdbc you're using see -- <a href=\"https://www.marcobehler.com/guides/java-databases\" rel=\"nofollow noreferrer\">https://www.marcobehler.com/guides/java-databases</a></p>\n</li>\n<li><p>TIPS: Nebeans historically could create interface that interact with standard DB interaction ways (ie JPA) -- <a href=\"https://netbeans.apache.org/tutorials/74/nbm-crud.html\" rel=\"nofollow noreferrer\">https://netbeans.apache.org/tutorials/74/nbm-crud.html</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":13852350,"reputation":55,"user_id":9999993,"display_name":"Chizo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74943379,"answer_count":1,"score":0,"last_activity_date":1672249360,"creation_date":1672245109,"question_id":74942702,"body_markdown":"I&#39;m pretty new to Java. I&#39;m using Swing and Netbeans on MySQL DB. I am working on a desktop application that allows users to make orders for products. The user have to sign in to order. How do I save the order information for each user after they have logged in. My login code is as shown.\r\n\r\nDatabase connection (dbconnect.java)\r\n```\r\npackage dbconnect;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport javax.swing.JOptionPane;\r\n\r\n/**\r\n *\r\n * @author Nipun Senarath\r\n */\r\npublic class dbconnect {\r\n    \r\n     public static Connection connect()\r\n    {\r\n        Connection sos = null;\r\n        \r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            sos = (Connection) DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/restaurant&quot;,&quot;root&quot;,&quot;&quot;);\r\n        } catch (Exception e) \r\n        {\r\n            JOptionPane.showMessageDialog(null, e);\r\n        }\r\n        return sos;\r\n    }\r\n\r\n    public static Connection Connect() {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n    }\r\n}\r\n\r\n``` \r\nThe login page\r\nPatronLogin.java\r\n```\r\npackage patron.auth;\r\n\r\n\r\nimport dbconnect.dbconnect;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JOptionPane;\r\nimport patron.main.MainClass;\r\n\r\n\r\npublic class PatronLogin extends javax.swing.JFrame {\r\n    \r\n    public PatronLogin() {\r\n        initComponents();\r\n    }\r\n\r\n private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here: Login button\r\n        String uname = jTextField1.getText();\r\n        String pword = jPasswordField1.getText();\r\n        \r\n        if (uname.equals(&quot;&quot;)||pword.equals(&quot;&quot;)) {\r\n            JOptionPane.showMessageDialog(rootPane, &quot;Some fields are empty&quot;, &quot;Error&quot;, 1);\r\n        } else {\r\n            try {\r\n                Connection con = dbconnect.connect();\r\n                PreparedStatement pst = con.prepareStatement(&quot;select * from patron where username=? and password=?&quot;);\r\n                pst.setString(1, uname);\r\n                pst.setString(2, pword);\r\n                ResultSet rs = pst.executeQuery();\r\n                                \r\n                if (rs.next()) {\r\n                    MainClass pt = new MainClass();\r\n                    pt.setVisible(true);\r\n                    dispose();\r\n                } else {\r\n                    JOptionPane.showMessageDialog(rootPane, &quot;Username or Password do not match record&quot;, &quot;Login error&quot;, 1);\r\n                } \r\n            } catch (Exception ex) {\r\n                System.out.println(&quot;&quot;+ex);\r\n            }\r\n        }\r\n    }        \r\n\r\n    public static void main(String args[]) { \r\n      /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                PatronLogin ln = new PatronLogin();\r\n                ln.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n                ln.setVisible(true);\r\n            }\r\n        });\r\n    }              \r\n\r\n```\r\nThen the user account page\r\n```\r\npackage patron.main;\r\n\r\nimport patron.event.EventMenuSelected;\r\nimport patron.form.Form_1;\r\nimport patron.form.Form_4;\r\nimport patron.form.Form_3;\r\nimport patron.form.Form_2;\r\nimport patron.form.Form_Home;\r\nimport java.awt.Color;\r\nimport javax.swing.JComponent;\r\n\r\npublic class MainClass extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form MainClass\r\n     */\r\n    private Form_Home home;\r\n    private Form_1 form1;\r\n    private Form_2 form2;\r\n    public static Form_3 form3;\r\n    private Form_4 form4;\r\n\r\n    public MainClass() {\r\n        initComponents();\r\n        setBackground(new Color(0, 0, 0, 0));\r\n        home = new Form_Home();\r\n        form1 = new Form_1();\r\n        form2 = new Form_2();\r\n        form3 = new Form_3();\r\n        form4 = new Form_4();\r\n        menu.initMoving(MainClass.this);\r\n        menu.addEventMenuSelected(new EventMenuSelected() {\r\n            @Override\r\n            public void selected(int index) {\r\n                if (index == 0) {\r\n                    setForm(home);\r\n                } else if (index == 1) {\r\n                    setForm(form1);\r\n                } else if (index == 2) {\r\n                    setForm(form2);\r\n                } else if (index == 3) {\r\n                    setForm(form3);\r\n                } else if (index == 4) {\r\n                    setForm(form4);\r\n                }\r\n            }\r\n        });\r\n        //  set when system open start with home form\r\n        setForm(new Form_Home());\r\n    }\r\n\r\n    public void setForm(JComponent com) {\r\n        mainPanel.removeAll();\r\n        mainPanel.add(com);\r\n        mainPanel.repaint();\r\n        mainPanel.revalidate();\r\n    }\r\npublic static void main(String args[]) {      \r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new MainClass().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n```\r\nI want to insert an order into the order table with order_id, item, price, and patron_id for the logged in user, so I can be able to retieve it in another table showing the particular user&#39;s order history, how do I achieve that. Same goes for other patrons...\r\n\r\n","title":"How to store and retrieve database information based on logged in user in Java, using swing GUI (Netbeans)","body":"<p>I'm pretty new to Java. I'm using Swing and Netbeans on MySQL DB. I am working on a desktop application that allows users to make orders for products. The user have to sign in to order. How do I save the order information for each user after they have logged in. My login code is as shown.</p>\n<p>Database connection (dbconnect.java)</p>\n<pre><code>package dbconnect;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport javax.swing.JOptionPane;\n\n/**\n *\n * @author Nipun Senarath\n */\npublic class dbconnect {\n    \n     public static Connection connect()\n    {\n        Connection sos = null;\n        \n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            sos = (Connection) DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/restaurant&quot;,&quot;root&quot;,&quot;&quot;);\n        } catch (Exception e) \n        {\n            JOptionPane.showMessageDialog(null, e);\n        }\n        return sos;\n    }\n\n    public static Connection Connect() {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\n    }\n}\n\n</code></pre>\n<p>The login page\nPatronLogin.java</p>\n<pre><code>package patron.auth;\n\n\nimport dbconnect.dbconnect;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport javax.swing.JFrame;\nimport javax.swing.JOptionPane;\nimport patron.main.MainClass;\n\n\npublic class PatronLogin extends javax.swing.JFrame {\n    \n    public PatronLogin() {\n        initComponents();\n    }\n\n private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here: Login button\n        String uname = jTextField1.getText();\n        String pword = jPasswordField1.getText();\n        \n        if (uname.equals(&quot;&quot;)||pword.equals(&quot;&quot;)) {\n            JOptionPane.showMessageDialog(rootPane, &quot;Some fields are empty&quot;, &quot;Error&quot;, 1);\n        } else {\n            try {\n                Connection con = dbconnect.connect();\n                PreparedStatement pst = con.prepareStatement(&quot;select * from patron where username=? and password=?&quot;);\n                pst.setString(1, uname);\n                pst.setString(2, pword);\n                ResultSet rs = pst.executeQuery();\n                                \n                if (rs.next()) {\n                    MainClass pt = new MainClass();\n                    pt.setVisible(true);\n                    dispose();\n                } else {\n                    JOptionPane.showMessageDialog(rootPane, &quot;Username or Password do not match record&quot;, &quot;Login error&quot;, 1);\n                } \n            } catch (Exception ex) {\n                System.out.println(&quot;&quot;+ex);\n            }\n        }\n    }        \n\n    public static void main(String args[]) { \n      /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                PatronLogin ln = new PatronLogin();\n                ln.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n                ln.setVisible(true);\n            }\n        });\n    }              \n\n</code></pre>\n<p>Then the user account page</p>\n<pre><code>package patron.main;\n\nimport patron.event.EventMenuSelected;\nimport patron.form.Form_1;\nimport patron.form.Form_4;\nimport patron.form.Form_3;\nimport patron.form.Form_2;\nimport patron.form.Form_Home;\nimport java.awt.Color;\nimport javax.swing.JComponent;\n\npublic class MainClass extends javax.swing.JFrame {\n\n    /**\n     * Creates new form MainClass\n     */\n    private Form_Home home;\n    private Form_1 form1;\n    private Form_2 form2;\n    public static Form_3 form3;\n    private Form_4 form4;\n\n    public MainClass() {\n        initComponents();\n        setBackground(new Color(0, 0, 0, 0));\n        home = new Form_Home();\n        form1 = new Form_1();\n        form2 = new Form_2();\n        form3 = new Form_3();\n        form4 = new Form_4();\n        menu.initMoving(MainClass.this);\n        menu.addEventMenuSelected(new EventMenuSelected() {\n            @Override\n            public void selected(int index) {\n                if (index == 0) {\n                    setForm(home);\n                } else if (index == 1) {\n                    setForm(form1);\n                } else if (index == 2) {\n                    setForm(form2);\n                } else if (index == 3) {\n                    setForm(form3);\n                } else if (index == 4) {\n                    setForm(form4);\n                }\n            }\n        });\n        //  set when system open start with home form\n        setForm(new Form_Home());\n    }\n\n    public void setForm(JComponent com) {\n        mainPanel.removeAll();\n        mainPanel.add(com);\n        mainPanel.repaint();\n        mainPanel.revalidate();\n    }\npublic static void main(String args[]) {      \n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new MainClass().setVisible(true);\n            }\n        });\n    }\n</code></pre>\n<p>I want to insert an order into the order table with order_id, item, price, and patron_id for the logged in user, so I can be able to retieve it in another table showing the particular user's order history, how do I achieve that. Same goes for other patrons...</p>\n"},{"tags":["java","prometheus","grafana","hazelcast","payara"],"answers":[{"tags":[],"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594884230,"creation_date":1594884230,"answer_id":62929559,"question_id":62915884,"body_markdown":"According to the Hazelcast documentation, these attributes come either from maps or multimaps: https://docs.hazelcast.org/docs/3.12.8/manual/html-single/index.html#jmx-api-per-member\r\n\r\nThe docs don&#39;t provide much information. You can find more detailed description in the Hazelcast source code in https://github.com/hazelcast/hazelcast/blob/v3.12.8/hazelcast/src/main/java/com/hazelcast/internal/jmx/MapMBean.java:\r\n\r\n* `size` - size of the map\r\n* `localTotal` - the total number of operations on this member\r\n* `localHeapCost` - the total heap cost of map, Near Cache and heap cost\r\n* `localTotalGetLatency` - the total latency of get operations. To get the average latency, divide to number of gets\r\n* `localTotalPutLatency` - the total latency of put operations. To get the average latency, divide to number of puts","title":"Understanding what these metric names in Hazelcast mean","body":"<p>According to the Hazelcast documentation, these attributes come either from maps or multimaps: <a href=\"https://docs.hazelcast.org/docs/3.12.8/manual/html-single/index.html#jmx-api-per-member\" rel=\"nofollow noreferrer\">https://docs.hazelcast.org/docs/3.12.8/manual/html-single/index.html#jmx-api-per-member</a></p>\n<p>The docs don't provide much information. You can find more detailed description in the Hazelcast source code in <a href=\"https://github.com/hazelcast/hazelcast/blob/v3.12.8/hazelcast/src/main/java/com/hazelcast/internal/jmx/MapMBean.java\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast/blob/v3.12.8/hazelcast/src/main/java/com/hazelcast/internal/jmx/MapMBean.java</a>:</p>\n<ul>\n<li><code>size</code> - size of the map</li>\n<li><code>localTotal</code> - the total number of operations on this member</li>\n<li><code>localHeapCost</code> - the total heap cost of map, Near Cache and heap cost</li>\n<li><code>localTotalGetLatency</code> - the total latency of get operations. To get the average latency, divide to number of gets</li>\n<li><code>localTotalPutLatency</code> - the total latency of put operations. To get the average latency, divide to number of puts</li>\n</ul>\n"}],"owner":{"account_id":4131808,"reputation":41,"user_id":4003340,"display_name":"Danilo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672248948,"creation_date":1594819287,"question_id":62915884,"body_markdown":"Could someone please help me to understand what these metrics mean in a Hazelcast environment and if it is measured in Bytes, Percentage, etc ? I am using Grafana and Prometheus to collect these information from a Payara Server.\r\n\r\ncom_hazelcast_app_size \r\n\r\ncom_hazelcast_app_localTotal \r\n\r\ncom_hazelcast_app_localHeapCost \r\n\r\ncom_hazelcast_app_localTotalGetLatency \r\n\r\ncom_hazelcast_app_localTotalPutLatency \r\n\r\nThank you!\r\n\r\n","title":"Understanding what these metric names in Hazelcast mean","body":"<p>Could someone please help me to understand what these metrics mean in a Hazelcast environment and if it is measured in Bytes, Percentage, etc ? I am using Grafana and Prometheus to collect these information from a Payara Server.</p>\n<p>com_hazelcast_app_size</p>\n<p>com_hazelcast_app_localTotal</p>\n<p>com_hazelcast_app_localHeapCost</p>\n<p>com_hazelcast_app_localTotalGetLatency</p>\n<p>com_hazelcast_app_localTotalPutLatency</p>\n<p>Thank you!</p>\n"},{"tags":["java","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":7513142,"reputation":334,"user_id":5707475,"display_name":"Christophe Broeckx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672214332,"creation_date":1672214332,"answer_id":74937674,"question_id":74937576,"body_markdown":"In `public void federal_tax()`, you redefine the variable `pre_tax_amount`:\r\n\r\n`double pre_tax_amount = input.nextDouble();`\r\n\r\nYou are thus not using the member variable defined above.\r\nYou need to assign the value in the already declared variable:\r\n\r\n`pre_tax_amount = input.nextDouble();`","title":"Abstract class values not registering in &#39;extended&#39; class","body":"<p>In <code>public void federal_tax()</code>, you redefine the variable <code>pre_tax_amount</code>:</p>\n<p><code>double pre_tax_amount = input.nextDouble();</code></p>\n<p>You are thus not using the member variable defined above.\nYou need to assign the value in the already declared variable:</p>\n<p><code>pre_tax_amount = input.nextDouble();</code></p>\n"},{"tags":[],"owner":{"account_id":23871468,"reputation":142,"user_id":17873105,"display_name":"Biswajit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672214736,"creation_date":1672214736,"answer_id":74937741,"question_id":74937576,"body_markdown":"This is where you have messed up, you have created a new local variable which was not required, use the instance variable instead which you have defined.\r\n\r\n    double pre_tax_amount = input.nextDouble();\r\n\r\nCode after the change is done\r\n\r\n        import java.util.Scanner;\r\n    \r\n    abstract class USA_Tax{\r\n        protected final double income_tax = 0.15;\r\n        protected double pre_tax_amount;\r\n        protected double tax_to_fed;\r\n    \r\n        public void federal_tax(){\r\n            Scanner input = new Scanner (System.in);\r\n            System.out.println (&quot;Enter pre-tax income: &quot;);\r\n            pre_tax_amount = input.nextDouble();\r\n            System.out.println (&quot;Money owned to federal government: &quot;);\r\n            tax_to_fed = (double)(pre_tax_amount*0.15);\r\n            System.out.println (tax_to_fed);\r\n        input.close();\r\n        }\r\n    }\r\n    \r\n    class California_Tax extends USA_Tax{\r\n        protected final double ca_income_tax = 0.10;\r\n        protected double after_california_tax;\r\n        protected double total_money_left;\r\n        public void ca_tax(){\r\n            after_california_tax = (double)(pre_tax_amount * ca_income_tax);\r\n            System.out.println(&quot;Money owned to CA government: &quot; + after_california_tax);\r\n            total_money_left = (pre_tax_amount) - (after_california_tax + tax_to_fed);\r\n            System.out.println (&quot;Total take home:&quot; + total_money_left);\r\n        }    \r\n    }\r\n    \r\n    public class test{\r\n        public static void main (String[] args){\r\n    \r\n            California_Tax tax1 = new California_Tax();\r\n            tax1.federal_tax();\r\n            tax1.ca_tax();\r\n        }\r\n    }","title":"Abstract class values not registering in &#39;extended&#39; class","body":"<p>This is where you have messed up, you have created a new local variable which was not required, use the instance variable instead which you have defined.</p>\n<pre><code>double pre_tax_amount = input.nextDouble();\n</code></pre>\n<p>Code after the change is done</p>\n<pre><code>    import java.util.Scanner;\n\nabstract class USA_Tax{\n    protected final double income_tax = 0.15;\n    protected double pre_tax_amount;\n    protected double tax_to_fed;\n\n    public void federal_tax(){\n        Scanner input = new Scanner (System.in);\n        System.out.println (&quot;Enter pre-tax income: &quot;);\n        pre_tax_amount = input.nextDouble();\n        System.out.println (&quot;Money owned to federal government: &quot;);\n        tax_to_fed = (double)(pre_tax_amount*0.15);\n        System.out.println (tax_to_fed);\n    input.close();\n    }\n}\n\nclass California_Tax extends USA_Tax{\n    protected final double ca_income_tax = 0.10;\n    protected double after_california_tax;\n    protected double total_money_left;\n    public void ca_tax(){\n        after_california_tax = (double)(pre_tax_amount * ca_income_tax);\n        System.out.println(&quot;Money owned to CA government: &quot; + after_california_tax);\n        total_money_left = (pre_tax_amount) - (after_california_tax + tax_to_fed);\n        System.out.println (&quot;Total take home:&quot; + total_money_left);\n    }    \n}\n\npublic class test{\n    public static void main (String[] args){\n\n        California_Tax tax1 = new California_Tax();\n        tax1.federal_tax();\n        tax1.ca_tax();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672245178,"creation_date":1672245178,"answer_id":74942715,"question_id":74937576,"body_markdown":"While I think that the other answers solve your specific problem.  It doesn&#39;t really feel like you have a reasonable grasp on what an abstract class is used for.  In general an abstract class is a class that doesn&#39;t have all its behavior defined, and that behavior has to be defined by the implementors/programmers that decide to use that class.  In your example how to calculate different tax rates.\r\n\r\n To use actual abstraction, we would need a parent class that has an actual abstract method.\r\n\r\n```\r\npublic abstract class Tax {\r\n\r\n    private double income;\r\n\r\n    public Tax(double income) {\r\n        this.income = income;\r\n    }\r\n    public void printCalculation() {\r\n\r\n        System.out.println(&quot;Money owned to federal government: &quot;);\r\n        double tax_to_fed = income * getTaxAmount();\r\n        System.out.println(tax_to_fed);\r\n    }\r\n\r\n    public abstract double getTaxAmount();\r\n}\r\n```\r\n\r\nThen we have two implementing classes.\r\n```\r\npublic class UsaTax extends Tax {\r\n    public UsaTax(double income) {\r\n        super(income);\r\n    }\r\n\r\n    @Override\r\n    public double getTaxAmount() {\r\n        return .15;\r\n    }\r\n}\r\n```\r\n```\r\npublic class CaliforniaTax extends Tax {\r\n\r\n    public CaliforniaTax(double income) {\r\n        super(income);\r\n    }\r\n\r\n    @Override\r\n    public double getTaxAmount() {\r\n        return .10;\r\n    }\r\n}\r\n```\r\n\r\nFinally we have our main class.\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class TaxApplication {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner (System.in);\r\n        System.out.println (&quot;Enter pre-tax income: &quot;);\r\n        double pre_tax_amount = input.nextDouble();\r\n        UsaTax usaTax = new UsaTax(pre_tax_amount);\r\n        usaTax.printCalculation();\r\n        CaliforniaTax californiaTax = new CaliforniaTax(pre_tax_amount);\r\n        californiaTax.printCalculation();\r\n\r\n        // We could even create an anonymous inner class\r\n        Tax texasTax = new Tax(pre_tax_amount) {\r\n            @Override\r\n            public double getTaxAmount() {\r\n                return 0;\r\n            }\r\n        };\r\n        texasTax.printCalculation();\r\n        input.close();\r\n    }\r\n}\r\n```\r\n\r\nThe output:\r\n```\r\nEnter pre-tax income: \r\n10000\r\nMoney owned to federal government: \r\n1500.0\r\nMoney owned to federal government: \r\n1000.0\r\nMoney owned to federal government: \r\n0.0\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n### Sidenote\r\n\r\nI believe the reason you tried to create abstract classes in the first place was to use the Scanner in the parent class.  By breaking the Scanner behavior out of your Tax class we reduce that class&#39; coupling to a user input method and allows us to write that class with only its behavior in mind instead of what it needs to do and how to handle user input properly.","title":"Abstract class values not registering in &#39;extended&#39; class","body":"<p>While I think that the other answers solve your specific problem.  It doesn't really feel like you have a reasonable grasp on what an abstract class is used for.  In general an abstract class is a class that doesn't have all its behavior defined, and that behavior has to be defined by the implementors/programmers that decide to use that class.  In your example how to calculate different tax rates.</p>\n<p>To use actual abstraction, we would need a parent class that has an actual abstract method.</p>\n<pre><code>public abstract class Tax {\n\n    private double income;\n\n    public Tax(double income) {\n        this.income = income;\n    }\n    public void printCalculation() {\n\n        System.out.println(&quot;Money owned to federal government: &quot;);\n        double tax_to_fed = income * getTaxAmount();\n        System.out.println(tax_to_fed);\n    }\n\n    public abstract double getTaxAmount();\n}\n</code></pre>\n<p>Then we have two implementing classes.</p>\n<pre><code>public class UsaTax extends Tax {\n    public UsaTax(double income) {\n        super(income);\n    }\n\n    @Override\n    public double getTaxAmount() {\n        return .15;\n    }\n}\n</code></pre>\n<pre><code>public class CaliforniaTax extends Tax {\n\n    public CaliforniaTax(double income) {\n        super(income);\n    }\n\n    @Override\n    public double getTaxAmount() {\n        return .10;\n    }\n}\n</code></pre>\n<p>Finally we have our main class.</p>\n<pre><code>import java.util.Scanner;\n\npublic class TaxApplication {\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner (System.in);\n        System.out.println (&quot;Enter pre-tax income: &quot;);\n        double pre_tax_amount = input.nextDouble();\n        UsaTax usaTax = new UsaTax(pre_tax_amount);\n        usaTax.printCalculation();\n        CaliforniaTax californiaTax = new CaliforniaTax(pre_tax_amount);\n        californiaTax.printCalculation();\n\n        // We could even create an anonymous inner class\n        Tax texasTax = new Tax(pre_tax_amount) {\n            @Override\n            public double getTaxAmount() {\n                return 0;\n            }\n        };\n        texasTax.printCalculation();\n        input.close();\n    }\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>Enter pre-tax income: \n10000\nMoney owned to federal government: \n1500.0\nMoney owned to federal government: \n1000.0\nMoney owned to federal government: \n0.0\n\nProcess finished with exit code 0\n</code></pre>\n<h3>Sidenote</h3>\n<p>I believe the reason you tried to create abstract classes in the first place was to use the Scanner in the parent class.  By breaking the Scanner behavior out of your Tax class we reduce that class' coupling to a user input method and allows us to write that class with only its behavior in mind instead of what it needs to do and how to handle user input properly.</p>\n"}],"owner":{"account_id":26319008,"reputation":3,"user_id":20369114,"display_name":"John H."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74937741,"answer_count":3,"score":0,"last_activity_date":1672248936,"creation_date":1672213699,"question_id":74937576,"body_markdown":"I wrote Java code using abstraction to calculate federal and state income tax from a salary.\r\n\r\nThe code is below.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\nabstract class USA_Tax{\r\n    protected final double income_tax = 0.15;\r\n    protected double pre_tax_amount;\r\n    protected double tax_to_fed;\r\n\r\n    public void federal_tax(){\r\n        Scanner input = new Scanner (System.in);\r\n        System.out.println (&quot;Enter pre-tax income: &quot;);\r\n        double pre_tax_amount = input.nextDouble();\r\n        System.out.println (&quot;Money owned to federal government: &quot;);\r\n        tax_to_fed = (double)(pre_tax_amount*0.15);\r\n        System.out.println (tax_to_fed);\r\n    input.close();\r\n    }\r\n}\r\n\r\nclass California_Tax extends USA_Tax{\r\n    protected final double ca_income_tax = 0.10;\r\n    protected double after_california_tax;\r\n    protected double total_money_left;\r\n    public void ca_tax(){\r\n        after_california_tax = (double)(pre_tax_amount * ca_income_tax);\r\n        System.out.println(&quot;Money owned to CA government: &quot; + after_california_tax);\r\n        total_money_left = (pre_tax_amount) - (after_california_tax + tax_to_fed);\r\n        System.out.println (&quot;Total take home:&quot; + total_money_left);\r\n    }    \r\n}\r\n\r\npublic class class_abstraction{\r\n    public static void main (String[] args){\r\n\r\n        California_Tax tax1 = new California_Tax();\r\n        tax1.federal_tax();\r\n        tax1.ca_tax();\r\n    }\r\n}\r\n```\r\n\r\nWhen I run the code, only values from the abstract class seem to pop up correctly. The values for the after_california_tax and total_money_left variables in the extended class show up as 0.0. Below is an example output.\r\n\r\n```none\r\nEnter pre-tax income: \r\n100000\r\nMoney owned to federal government: \r\n15000.0\r\nMoney owned to CA government: 0.0\r\nTotal take home:-15000.0\r\n```\r\n\r\nI also tried to remove &#39;abstract&#39; from the first class but nothing changed. \r\n\r\nWhat am I doing wrong?\r\n","title":"Abstract class values not registering in &#39;extended&#39; class","body":"<p>I wrote Java code using abstraction to calculate federal and state income tax from a salary.</p>\n<p>The code is below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\nabstract class USA_Tax{\n    protected final double income_tax = 0.15;\n    protected double pre_tax_amount;\n    protected double tax_to_fed;\n\n    public void federal_tax(){\n        Scanner input = new Scanner (System.in);\n        System.out.println (&quot;Enter pre-tax income: &quot;);\n        double pre_tax_amount = input.nextDouble();\n        System.out.println (&quot;Money owned to federal government: &quot;);\n        tax_to_fed = (double)(pre_tax_amount*0.15);\n        System.out.println (tax_to_fed);\n    input.close();\n    }\n}\n\nclass California_Tax extends USA_Tax{\n    protected final double ca_income_tax = 0.10;\n    protected double after_california_tax;\n    protected double total_money_left;\n    public void ca_tax(){\n        after_california_tax = (double)(pre_tax_amount * ca_income_tax);\n        System.out.println(&quot;Money owned to CA government: &quot; + after_california_tax);\n        total_money_left = (pre_tax_amount) - (after_california_tax + tax_to_fed);\n        System.out.println (&quot;Total take home:&quot; + total_money_left);\n    }    \n}\n\npublic class class_abstraction{\n    public static void main (String[] args){\n\n        California_Tax tax1 = new California_Tax();\n        tax1.federal_tax();\n        tax1.ca_tax();\n    }\n}\n</code></pre>\n<p>When I run the code, only values from the abstract class seem to pop up correctly. The values for the after_california_tax and total_money_left variables in the extended class show up as 0.0. Below is an example output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter pre-tax income: \n100000\nMoney owned to federal government: \n15000.0\nMoney owned to CA government: 0.0\nTotal take home:-15000.0\n</code></pre>\n<p>I also tried to remove 'abstract' from the first class but nothing changed.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","concurrency","java.util.concurrent"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1656759436,"post_id":72838486,"comment_id":128653319,"body_markdown":"Making HTTP calls concurrently to the same server won&#39;t save you much. There is only one network, and it isn&#39;t concurrent. And the only &#39;calculation&#39; required is end time minus start time. This is really measurement, not calculation.","body":"Making HTTP calls concurrently to the same server won&#39;t save you much. There is only one network, and it isn&#39;t concurrent. And the only &#39;calculation&#39; required is end time minus start time. This is really measurement, not calculation."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1656759673,"post_id":72838486,"comment_id":128653372,"body_markdown":"Relevant question and answers: https://stackoverflow.com/questions/37172989/measuring-execution-time-for-multithreaded-java-application","body":"Relevant question and answers: <a href=\"https://stackoverflow.com/questions/37172989/measuring-execution-time-for-multithreaded-java-application\" title=\"measuring execution time for multithreaded java application\">stackoverflow.com/questions/37172989/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672247954,"creation_date":1656761480,"answer_id":72838704,"question_id":72838486,"body_markdown":"If you wish to get a rough idea of the time the whole set of operations takes then use `shutdown` then `awaitTermination` to wait for the executor service to finish all of the submitted tasks. Here is a simple example:\r\n\r\n    long start= System.nanoTime();\r\n    ExecutorService exec = Executors.newFixedThreadPool(100);\r\n    try {\r\n        for (int i = 0; i &lt; 100_000; i++) {\r\n            final int x = i;\r\n            Runnable runnable = () -&gt; System.out.println(x);\r\n            exec.submit(runnable);\r\n        }\r\n    } finally {\r\n        exec.shutdown();\r\n        exec.awaitTermination(365, TimeUnit.DAYS);\r\n    }\r\n    long elapsed = System.nanoTime() - start;\r\n    System.out.println(&quot;Elapsed millisec &quot;+TimeUnit.NANOSECONDS.toMillis(elapsed));\r\n\r\nIt&#39;s not a good idea to put `System.out.println` or other logging inside the tasks as then you are only timing your console I/O, and not getting an estimate of how quick your processing is.\r\n\r\nAs in the comments, using multi-thread access to same set of servers / resource / disk can make overall elapsed time get longer or cause issues elsewhere.\r\n\r\nFrom JDK19 the `ExecutorService` is `AutoCloseable` so you can simplify the try block and remove the finally:\r\n\r\n    try (ExecutorService exec = Executors.newFixedThreadPool(100)) {\r\n         ...\r\n    }","title":"How to Measure execution time for a multi threaded task in java","body":"<p>If you wish to get a rough idea of the time the whole set of operations takes then use <code>shutdown</code> then <code>awaitTermination</code> to wait for the executor service to finish all of the submitted tasks. Here is a simple example:</p>\n<pre><code>long start= System.nanoTime();\nExecutorService exec = Executors.newFixedThreadPool(100);\ntry {\n    for (int i = 0; i &lt; 100_000; i++) {\n        final int x = i;\n        Runnable runnable = () -&gt; System.out.println(x);\n        exec.submit(runnable);\n    }\n} finally {\n    exec.shutdown();\n    exec.awaitTermination(365, TimeUnit.DAYS);\n}\nlong elapsed = System.nanoTime() - start;\nSystem.out.println(&quot;Elapsed millisec &quot;+TimeUnit.NANOSECONDS.toMillis(elapsed));\n</code></pre>\n<p>It's not a good idea to put <code>System.out.println</code> or other logging inside the tasks as then you are only timing your console I/O, and not getting an estimate of how quick your processing is.</p>\n<p>As in the comments, using multi-thread access to same set of servers / resource / disk can make overall elapsed time get longer or cause issues elsewhere.</p>\n<p>From JDK19 the <code>ExecutorService</code> is <code>AutoCloseable</code> so you can simplify the try block and remove the finally:</p>\n<pre><code>try (ExecutorService exec = Executors.newFixedThreadPool(100)) {\n     ...\n}\n</code></pre>\n"}],"owner":{"account_id":23859118,"reputation":213,"user_id":17862309,"display_name":"SeriousProgrammm...brrrr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72838704,"answer_count":1,"score":-2,"last_activity_date":1672247954,"creation_date":1656759232,"question_id":72838486,"body_markdown":"I have a method which makes lets say 100k http calls to an API, for that reason I am making the http calls concurrently to avoid http bottleneck. But I would also like to time the whole method without blocking any threads. \r\n\r\n```java\r\n        ExecutorService service = Executors.newFixedThreadPool(500);\r\n        for (int i = 0; i &lt; 100_000; i++) {\r\n            int finalI = i;\r\n            Runnable runnable = () -&gt; {\r\n                // My http call goes here....\r\n            };\r\n            service.submit(runnable);\r\n        }\r\n ```\r\n\r\n ","title":"How to Measure execution time for a multi threaded task in java","body":"<p>I have a method which makes lets say 100k http calls to an API, for that reason I am making the http calls concurrently to avoid http bottleneck. But I would also like to time the whole method without blocking any threads.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ExecutorService service = Executors.newFixedThreadPool(500);\n        for (int i = 0; i &lt; 100_000; i++) {\n            int finalI = i;\n            Runnable runnable = () -&gt; {\n                // My http call goes here....\n            };\n            service.submit(runnable);\n        }\n</code></pre>\n"},{"tags":["java","android","sdk","android-manifest"],"comments":[{"owner":{"account_id":13464558,"reputation":8543,"user_id":9715339,"display_name":"Mayur Gajra"},"score":0,"creation_date":1644245193,"post_id":71020415,"comment_id":125546766,"body_markdown":"This might help: https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12","body":"This might help: <a href=\"https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12\" title=\"android studio error manifest merger failed apps targeting android 12\">stackoverflow.com/questions/67412084/&hellip;</a>"},{"owner":{"account_id":22425635,"reputation":131,"user_id":16632283,"display_name":"Test"},"score":0,"creation_date":1644245398,"post_id":71020415,"comment_id":125546860,"body_markdown":"Unfortunately, I&#39;ve already tried it @MayurGajra","body":"Unfortunately, I&#39;ve already tried it @MayurGajra"},{"owner":{"account_id":13464558,"reputation":8543,"user_id":9715339,"display_name":"Mayur Gajra"},"score":0,"creation_date":1644245637,"post_id":71020415,"comment_id":125547007,"body_markdown":"Can you post your app-level build file with all dependencies? Maybe one of your dependencies is having this issue.","body":"Can you post your app-level build file with all dependencies? Maybe one of your dependencies is having this issue."},{"owner":{"account_id":13464558,"reputation":8543,"user_id":9715339,"display_name":"Mayur Gajra"},"score":0,"creation_date":1644247912,"post_id":71020415,"comment_id":125548026,"body_markdown":"Did you checkout my answer?","body":"Did you checkout my answer?"}],"answers":[{"tags":[],"owner":{"account_id":14142619,"reputation":131,"user_id":10216843,"display_name":"Raphael"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644245969,"creation_date":1644245969,"answer_id":71020671,"question_id":71020415,"body_markdown":"    com.instacart.library.truetime.BootCompletedBroadcastReceiver\r\n\r\ncheck this in manifest file....\r\n\r\ncheck your lib you imported  if they compatible with your android version\r\n\r\nRebuild your project.\r\n\r\nshare you manifest and \r\n\r\n\r\n\r\n    compileSdkVersion 32\r\n        defaultConfig {\r\n            multiDexEnabled true\r\n            applicationId &quot;com.example.app&quot; /// change your app Id not to use example... This will be rejected on play store\r\n            minSdkVersion 21\r\n            targetSdkVersion 32\r\n            versionCode 53\r\n            versionName &quot;2.0.4&quot;\r\n           //comment out this ndk.abiFilters &#39;armeabi-v7a&#39;, &#39;arm64-v8a&#39;, &#39;x86&#39;, &#39;x86_64&#39;\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n\r\n","title":"Manifest merger failed : android:exported needs to be explicitly specified for &lt;receiver&gt;","body":"<pre><code>com.instacart.library.truetime.BootCompletedBroadcastReceiver\n</code></pre>\n<p>check this in manifest file....</p>\n<p>check your lib you imported  if they compatible with your android version</p>\n<p>Rebuild your project.</p>\n<p>share you manifest and</p>\n<pre><code>compileSdkVersion 32\n    defaultConfig {\n        multiDexEnabled true\n        applicationId &quot;com.example.app&quot; /// change your app Id not to use example... This will be rejected on play store\n        minSdkVersion 21\n        targetSdkVersion 32\n        versionCode 53\n        versionName &quot;2.0.4&quot;\n       //comment out this ndk.abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86', 'x86_64'\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22425635,"reputation":131,"user_id":16632283,"display_name":"Test"},"score":0,"creation_date":1644248710,"post_id":71020750,"comment_id":125548419,"body_markdown":"Thank you very much. You saved my life &#128557;","body":"Thank you very much. You saved my life 😭"},{"owner":{"account_id":13464558,"reputation":8543,"user_id":9715339,"display_name":"Mayur Gajra"},"score":1,"creation_date":1644248897,"post_id":71020750,"comment_id":125548519,"body_markdown":"@Test You&#39;re welcome. &amp; one important tip for debugging is when you see that issue is not being caused by your code but some internal library then search for that package &amp; find their GitHub page &amp; go to issues. Most likely you&#39;ll find something.","body":"@Test You&#39;re welcome. &amp; one important tip for debugging is when you see that issue is not being caused by your code but some internal library then search for that package &amp; find their GitHub page &amp; go to issues. Most likely you&#39;ll find something."},{"owner":{"account_id":22425635,"reputation":131,"user_id":16632283,"display_name":"Test"},"score":0,"creation_date":1644249040,"post_id":71020750,"comment_id":125548598,"body_markdown":"Thanks, it will definitely be next time.","body":"Thanks, it will definitely be next time."}],"tags":[],"owner":{"account_id":13464558,"reputation":8543,"user_id":9715339,"display_name":"Mayur Gajra"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1644246279,"creation_date":1644246279,"answer_id":71020750,"question_id":71020415,"body_markdown":"Found the issue with `instacart.truetime` library. You&#39;re using `3.4` version &amp; they resolved this error in `3.5` as mentioned here: https://github.com/instacart/truetime-android/releases/tag/3.5\r\n\r\nSo you need to update these dependencies to the new version of `3.5`\r\n\r\n \r\n\r\n        implementation &#39;com.github.instacart.truetime-android:library:3.5&#39;\r\n        implementation &#39;com.github.instacart.truetime-android:library-extension-rx:3.5&#39;\r\n\r\nBuild the app &amp; it resolves the issue","title":"Manifest merger failed : android:exported needs to be explicitly specified for &lt;receiver&gt;","body":"<p>Found the issue with <code>instacart.truetime</code> library. You're using <code>3.4</code> version &amp; they resolved this error in <code>3.5</code> as mentioned here: <a href=\"https://github.com/instacart/truetime-android/releases/tag/3.5\" rel=\"noreferrer\">https://github.com/instacart/truetime-android/releases/tag/3.5</a></p>\n<p>So you need to update these dependencies to the new version of <code>3.5</code></p>\n<pre><code>    implementation 'com.github.instacart.truetime-android:library:3.5'\n    implementation 'com.github.instacart.truetime-android:library-extension-rx:3.5'\n</code></pre>\n<p>Build the app &amp; it resolves the issue</p>\n"},{"tags":[],"owner":{"account_id":24407781,"reputation":51,"user_id":18335708,"display_name":"Anirudh Jakhmola"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1661841687,"creation_date":1661841629,"answer_id":73538153,"question_id":71020415,"body_markdown":"For this specific issue what you need to do is go to **AndroidManifest.xml** file and add  android:exported=&quot;false&quot; to all the receivers\r\n\r\n    &lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationActions&quot; android:exported=&quot;false&quot; /&gt;\r\n\r\nMost likely to face this issue when targetSdkVersion = 31 \r\n\r\n","title":"Manifest merger failed : android:exported needs to be explicitly specified for &lt;receiver&gt;","body":"<p>For this specific issue what you need to do is go to <strong>AndroidManifest.xml</strong> file and add  android:exported=&quot;false&quot; to all the receivers</p>\n<pre><code>&lt;receiver android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationActions&quot; android:exported=&quot;false&quot; /&gt;\n</code></pre>\n<p>Most likely to face this issue when targetSdkVersion = 31</p>\n"},{"tags":[],"owner":{"account_id":16653083,"reputation":51,"user_id":12035349,"display_name":"Chandana Gihan Perera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672247771,"creation_date":1672247771,"answer_id":74943143,"question_id":71020415,"body_markdown":"In any activity using intent filters, add the line (android:exported=&quot;true&quot;) to each activity in the manifest. As in the following example.\r\n\r\n    &lt;activity android:name=&quot;.splashActivity&quot;\r\n            tools:ignore=&quot;Instantiatable&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n","title":"Manifest merger failed : android:exported needs to be explicitly specified for &lt;receiver&gt;","body":"<p>In any activity using intent filters, add the line (android:exported=&quot;true&quot;) to each activity in the manifest. As in the following example.</p>\n<pre><code>&lt;activity android:name=&quot;.splashActivity&quot;\n        tools:ignore=&quot;Instantiatable&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n"}],"owner":{"account_id":22425635,"reputation":131,"user_id":16632283,"display_name":"Test"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9720,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":71020750,"answer_count":4,"score":7,"last_activity_date":1672247771,"creation_date":1644244975,"question_id":71020415,"body_markdown":"&gt; **Merging Errors**: Error: android:exported needs to be explicitly specified for element\r\n&gt; &lt;receiver#com.instacart.library.truetime.BootCompletedBroadcastReceiver&gt;.\r\n&gt; Apps targeting Android 12 and higher are required to specify an\r\n&gt; explicit value for `android:exported` when the corresponding component\r\n&gt; has an intent filter defined. See\r\n&gt; https://developer.android.com/guide/topics/manifest/activity-element#exported\r\n&gt; for details. test.app main manifest (this file), line 19\r\n\r\n\r\nI don&#39;t even know what to do. I struggled with this mistake for a whole week, but I couldn&#39;t.\r\n\r\n\r\n**Here is my sdk version**\r\n\r\n    compileSdkVersion 32\r\n        defaultConfig {\r\n            multiDexEnabled true\r\n            applicationId &quot;com.example.app&quot;\r\n            minSdkVersion 21\r\n            targetSdkVersion 32\r\n            versionCode 53\r\n            versionName &quot;2.0.4&quot;\r\n            ndk.abiFilters &#39;armeabi-v7a&#39;, &#39;arm64-v8a&#39;, &#39;x86&#39;, &#39;x86_64&#39;\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n\r\n\r\nWrote `android:exported` on all `intent-filter`, `service`, and `provider`. Ah, I don&#39;t have the `receiver` mentioned in this error.\r\n\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    \r\n        implementation &quot;com.android.billingclient:billing:4.0.0&quot;\r\n    \r\n        implementation &quot;com.google.firebase:firebase-messaging:23.0.0&quot;\r\n        implementation &quot;com.google.firebase:firebase-crashlytics:18.2.7&quot;\r\n        implementation &quot;com.google.firebase:firebase-analytics:20.0.2&quot;\r\n        implementation &quot;com.google.firebase:firebase-perf:20.0.4&quot;\r\n        implementation &quot;com.google.firebase:firebase-dynamic-links:21.0.0&quot;\r\n    \r\n        implementation &#39;com.google.firebase:firebase-core:20.0.2&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:20.0.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:21.0.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-config:21.0.1&#39;\r\n        implementation &quot;com.facebook.android:facebook-login:9.0.0&quot;\r\n        implementation &quot;com.facebook.android:facebook-share:[5,6)&quot;\r\n        implementation &quot;com.linecorp:linesdk:5.0.1&quot;\r\n    \r\n        implementation &#39;org.jetbrains.kotlin:kotlin-stdlib:1.6.10&#39;\r\n    \r\n        implementation &quot;com.squareup.retrofit2:retrofit:2.8.1&quot;\r\n        implementation &quot;com.squareup.retrofit2:converter-gson:2.8.1&quot;\r\n        implementation &#39;com.squareup.retrofit2:adapter-rxjava:2.3.0&#39;\r\n        implementation &#39;com.squareup.okhttp3:logging-interceptor:4.2.1&#39;\r\n        implementation &#39;io.reactivex:rxandroid:1.2.1&#39;\r\n    \r\n        implementation &#39;com.google.code.gson:gson:2.8.6&#39;\r\n    \r\n        implementation &#39;com.sun.easysnackbar:easysnackbar:1.0.1&#39;\r\n    \r\n        implementation &#39;com.romandanylyk:pageindicatorview:1.0.3@aar&#39;\r\n    \r\n        implementation &#39;com.google.android.exoplayer:exoplayer:2.16.1&#39;\r\n    \r\n        //MULTI DEX\r\n        implementation &quot;androidx.multidex:multidex:2.0.1&quot;\r\n    \r\n        implementation &#39;com.google.android:flexbox:2.0.1&#39;\r\n    \r\n        implementation &#39;com.github.florent37:diagonallayout:1.0.9&#39;\r\n    \r\n        implementation(&#39;io.socket:socket.io-client:1.0.0&#39;) {\r\n            exclude group: &#39;org.json&#39;, module: &#39;json&#39;\r\n        }\r\n    \r\n        implementation &#39;com.github.instacart.truetime-android:library:3.4&#39;\r\n        implementation &#39;com.github.instacart.truetime-android:library-extension-rx:3.4&#39;\r\n    \r\n        implementation &quot;androidx.navigation:navigation-fragment-ktx:2.4.0&quot;\r\n        implementation &quot;androidx.navigation:navigation-ui-ktx:2.4.0&quot;\r\n    \r\n        implementation &quot;com.github.bumptech.glide:glide:4.12.0&quot;\r\n        annotationProcessor &quot;com.github.bumptech.glide:compiler:4.12.0&quot;\r\n    \r\n        implementation &quot;de.hdodenhof:circleimageview:3.1.0&quot;\r\n    \r\n        implementation &quot;com.pixplicity.easyprefs:library:1.9.0&quot;\r\n    \r\n        implementation &quot;com.jakewharton.timber:timber:4.7.1&quot;\r\n    \r\n        implementation &quot;com.airbnb.android:lottie:3.4.0&quot;\r\n    \r\n        implementation &#39;com.github.jinatonic.confetti:confetti:1.1.2&#39;\r\n    \r\n        implementation &quot;com.nabinbhandari.android:permissions:3.8&quot;\r\n    \r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    \r\n        implementation &quot;com.github.YarikSOffice:lingver:1.2.1&quot;\r\n    \r\n        implementation &#39;com.github.mreram:showcaseview:1.2.0&#39;\r\n        implementation &#39;com.github.shripal17:MaterialIntroView-v2:2.2.0&#39;\r\n    \r\n        implementation &#39;com.github.unsplash:unsplash-photopicker-android:1.0.0&#39;\r\n    \r\n        implementation &#39;com.giphy.sdk:ui:2.1.0&#39;\r\n    \r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        testImplementation &#39;androidx.test:core:1.4.0&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        androidTestImplementation &quot;androidx.test.ext:junit:1.1.3&quot;\r\n    }","title":"Manifest merger failed : android:exported needs to be explicitly specified for &lt;receiver&gt;","body":"<blockquote>\n<p><strong>Merging Errors</strong>: Error: android:exported needs to be explicitly specified for element\n&lt;receiver#com.instacart.library.truetime.BootCompletedBroadcastReceiver&gt;.\nApps targeting Android 12 and higher are required to specify an\nexplicit value for <code>android:exported</code> when the corresponding component\nhas an intent filter defined. See\n<a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element#exported</a>\nfor details. test.app main manifest (this file), line 19</p>\n</blockquote>\n<p>I don't even know what to do. I struggled with this mistake for a whole week, but I couldn't.</p>\n<p><strong>Here is my sdk version</strong></p>\n<pre><code>compileSdkVersion 32\n    defaultConfig {\n        multiDexEnabled true\n        applicationId &quot;com.example.app&quot;\n        minSdkVersion 21\n        targetSdkVersion 32\n        versionCode 53\n        versionName &quot;2.0.4&quot;\n        ndk.abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86', 'x86_64'\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n</code></pre>\n<p>Wrote <code>android:exported</code> on all <code>intent-filter</code>, <code>service</code>, and <code>provider</code>. Ah, I don't have the <code>receiver</code> mentioned in this error.</p>\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n\n    implementation &quot;com.android.billingclient:billing:4.0.0&quot;\n\n    implementation &quot;com.google.firebase:firebase-messaging:23.0.0&quot;\n    implementation &quot;com.google.firebase:firebase-crashlytics:18.2.7&quot;\n    implementation &quot;com.google.firebase:firebase-analytics:20.0.2&quot;\n    implementation &quot;com.google.firebase:firebase-perf:20.0.4&quot;\n    implementation &quot;com.google.firebase:firebase-dynamic-links:21.0.0&quot;\n\n    implementation 'com.google.firebase:firebase-core:20.0.2'\n    implementation 'com.google.firebase:firebase-database:20.0.3'\n    implementation 'com.google.firebase:firebase-auth:21.0.1'\n    implementation 'com.google.firebase:firebase-config:21.0.1'\n    implementation &quot;com.facebook.android:facebook-login:9.0.0&quot;\n    implementation &quot;com.facebook.android:facebook-share:[5,6)&quot;\n    implementation &quot;com.linecorp:linesdk:5.0.1&quot;\n\n    implementation 'org.jetbrains.kotlin:kotlin-stdlib:1.6.10'\n\n    implementation &quot;com.squareup.retrofit2:retrofit:2.8.1&quot;\n    implementation &quot;com.squareup.retrofit2:converter-gson:2.8.1&quot;\n    implementation 'com.squareup.retrofit2:adapter-rxjava:2.3.0'\n    implementation 'com.squareup.okhttp3:logging-interceptor:4.2.1'\n    implementation 'io.reactivex:rxandroid:1.2.1'\n\n    implementation 'com.google.code.gson:gson:2.8.6'\n\n    implementation 'com.sun.easysnackbar:easysnackbar:1.0.1'\n\n    implementation 'com.romandanylyk:pageindicatorview:1.0.3@aar'\n\n    implementation 'com.google.android.exoplayer:exoplayer:2.16.1'\n\n    //MULTI DEX\n    implementation &quot;androidx.multidex:multidex:2.0.1&quot;\n\n    implementation 'com.google.android:flexbox:2.0.1'\n\n    implementation 'com.github.florent37:diagonallayout:1.0.9'\n\n    implementation('io.socket:socket.io-client:1.0.0') {\n        exclude group: 'org.json', module: 'json'\n    }\n\n    implementation 'com.github.instacart.truetime-android:library:3.4'\n    implementation 'com.github.instacart.truetime-android:library-extension-rx:3.4'\n\n    implementation &quot;androidx.navigation:navigation-fragment-ktx:2.4.0&quot;\n    implementation &quot;androidx.navigation:navigation-ui-ktx:2.4.0&quot;\n\n    implementation &quot;com.github.bumptech.glide:glide:4.12.0&quot;\n    annotationProcessor &quot;com.github.bumptech.glide:compiler:4.12.0&quot;\n\n    implementation &quot;de.hdodenhof:circleimageview:3.1.0&quot;\n\n    implementation &quot;com.pixplicity.easyprefs:library:1.9.0&quot;\n\n    implementation &quot;com.jakewharton.timber:timber:4.7.1&quot;\n\n    implementation &quot;com.airbnb.android:lottie:3.4.0&quot;\n\n    implementation 'com.github.jinatonic.confetti:confetti:1.1.2'\n\n    implementation &quot;com.nabinbhandari.android:permissions:3.8&quot;\n\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n\n    implementation &quot;com.github.YarikSOffice:lingver:1.2.1&quot;\n\n    implementation 'com.github.mreram:showcaseview:1.2.0'\n    implementation 'com.github.shripal17:MaterialIntroView-v2:2.2.0'\n\n    implementation 'com.github.unsplash:unsplash-photopicker-android:1.0.0'\n\n    implementation 'com.giphy.sdk:ui:2.1.0'\n\n    testImplementation 'junit:junit:4.13.2'\n    testImplementation 'androidx.test:core:1.4.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    androidTestImplementation &quot;androidx.test.ext:junit:1.1.3&quot;\n}\n</code></pre>\n"},{"tags":["java","multithreading","caching","volatile","java-threads"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1672247309,"post_id":74942881,"comment_id":132251569,"body_markdown":"If `Thread.sleep()` has any memory happens-before semantics, I can&#39;t find it.  I think what they all have in common is &quot;blind luck.&quot;  (Use proper synchronization and don&#39;t rely on weird stuff you see published online.)","body":"If <code>Thread.sleep()</code> has any memory happens-before semantics, I can&#39;t find it.  I think what they all have in common is &quot;blind luck.&quot;  (Use proper synchronization and don&#39;t rely on weird stuff you see published online.)"},{"owner":{"account_id":18989917,"reputation":11,"user_id":14199290,"display_name":"Eitan Joseph"},"score":0,"creation_date":1672247474,"post_id":74942881,"comment_id":132251616,"body_markdown":"@markspace how can you find the source code for `Thread.sleep()`?","body":"@markspace how can you find the source code for <code>Thread.sleep()</code>?"},{"owner":{"account_id":18989917,"reputation":11,"user_id":14199290,"display_name":"Eitan Joseph"},"score":0,"creation_date":1672247600,"post_id":74942881,"comment_id":132251657,"body_markdown":"@markspace I&#39;m just trying to understand how thread local cache works in Java and why these operations are resetting the cache when they dont appear to have synchronized blocks (aside from system out print and the volatile integer).","body":"@markspace I&#39;m just trying to understand how thread local cache works in Java and why these operations are resetting the cache when they dont appear to have synchronized blocks (aside from system out print and the volatile integer)."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1672247854,"post_id":74942881,"comment_id":132251715,"body_markdown":"I&#39;m not convinced that they do reset any cache.  If they do, it&#39;s accidental (implementation dependent) and you shouldn&#39;t use it in real code.  It could change at any time.","body":"I&#39;m not convinced that they do reset any cache.  If they do, it&#39;s accidental (implementation dependent) and you shouldn&#39;t use it in real code.  It could change at any time."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1672253011,"post_id":74942881,"comment_id":132253083,"body_markdown":"There is no cache resetting. Caches on modern cpus are always coherent no matter if a variable volatile or not. Memory is just a spill bucket for whatever doesn’t fit in the cache. Volatile or synchronized are needed to ensure there is no data race. If there is a data race you can run into problems like visibility, reordering and atomicity of loads/stores.","body":"There is no cache resetting. Caches on modern cpus are always coherent no matter if a variable volatile or not. Memory is just a spill bucket for whatever doesn’t fit in the cache. Volatile or synchronized are needed to ensure there is no data race. If there is a data race you can run into problems like visibility, reordering and atomicity of loads/stores."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1672253279,"post_id":74942881,"comment_id":132253155,"body_markdown":"Apart from having a data race, there is also a race condition because the increment isn’t atomic.","body":"Apart from having a data race, there is also a race condition because the increment isn’t atomic."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1672261389,"post_id":74942881,"comment_id":132255209,"body_markdown":"@pveentjer The increment is on the local variable.","body":"@pveentjer The increment is on the local variable."},{"owner":{"account_id":1806762,"reputation":4128,"user_id":1643723,"display_name":"user1643723"},"score":0,"creation_date":1672654709,"post_id":74942881,"comment_id":132319718,"body_markdown":"There is no such thing as &quot;thread-local cache&quot; in Java. Modern CPU cores [usually have independent first-level and second-level caches](https://stackoverflow.com/a/954069/1643723), and support automatic cache-line synchronization across cores even without explicit synchronization instruction. But internal details of CPU implementations are orthogonal to Java. Java memory model operates in terms of &quot;happens-before&quot; semantics, which influence how JIT compiler performs inlining and issues memory barrier instructions.","body":"There is no such thing as &quot;thread-local cache&quot; in Java. Modern CPU cores <a href=\"https://stackoverflow.com/a/954069/1643723\">usually have independent first-level and second-level caches</a>, and support automatic cache-line synchronization across cores even without explicit synchronization instruction. But internal details of CPU implementations are orthogonal to Java. Java memory model operates in terms of &quot;happens-before&quot; semantics, which influence how JIT compiler performs inlining and issues memory barrier instructions."},{"owner":{"account_id":1806762,"reputation":4128,"user_id":1643723,"display_name":"user1643723"},"score":0,"creation_date":1672655349,"post_id":74942881,"comment_id":132319901,"body_markdown":"If there is no reason to assume that variable will be modified from other threads, the JIT compiler might not even emit assembly code for reading from it. This situation — optimizing away the very existence of variable — is distinct from dealing with CPU cache lines. Cache lines are flushed by &quot;memory barrier&quot;, while compiler behavior is kept in check by &quot;compiler barrier&quot;. For example, native method can act as compiler barrier, because JIT does not know, what happens in native code of dll libraries. Memory barrier always implies compiler barrier, but not vice-versa.","body":"If there is no reason to assume that variable will be modified from other threads, the JIT compiler might not even emit assembly code for reading from it. This situation — optimizing away the very existence of variable — is distinct from dealing with CPU cache lines. Cache lines are flushed by &quot;memory barrier&quot;, while compiler behavior is kept in check by &quot;compiler barrier&quot;. For example, native method can act as compiler barrier, because JIT does not know, what happens in native code of dll libraries. Memory barrier always implies compiler barrier, but not vice-versa."},{"owner":{"account_id":1806762,"reputation":4128,"user_id":1643723,"display_name":"user1643723"},"score":0,"creation_date":1672656593,"post_id":74942881,"comment_id":132320224,"body_markdown":"Memory is flushed in cache lines, but flushing one cache line may have unexpected effects on other cache lines. C/C++ call this behavior [&quot;memory order&quot;](https://en.cppreference.com/w/cpp/atomic/memory_order). Java &quot;happens-before&quot; relationships usually refer to sequentially-consistent ordering: each volatile read/write affect all reads/writes before and after it. However Java Memory Model is not the same as C/C++ memory model (just like meaning of Java `volatile` is different from C/C++ `volatile` keyword). See [this answer](https://stackoverflow.com/a/7367168/1643723) for some insights.","body":"Memory is flushed in cache lines, but flushing one cache line may have unexpected effects on other cache lines. C/C++ call this behavior <a href=\"https://en.cppreference.com/w/cpp/atomic/memory_order\" rel=\"nofollow noreferrer\">&quot;memory order&quot;</a>. Java &quot;happens-before&quot; relationships usually refer to sequentially-consistent ordering: each volatile read/write affect all reads/writes before and after it. However Java Memory Model is not the same as C/C++ memory model (just like meaning of Java <code>volatile</code> is different from C/C++ <code>volatile</code> keyword). See <a href=\"https://stackoverflow.com/a/7367168/1643723\">this answer</a> for some insights."}],"answers":[{"comments":[{"owner":{"account_id":27270496,"reputation":7,"user_id":20791880,"display_name":"Ali Elmorsy"},"score":0,"creation_date":1672246947,"post_id":74943003,"comment_id":132251464,"body_markdown":"Yea I forgot to say. you cannot clear tread local cache","body":"Yea I forgot to say. you cannot clear tread local cache"}],"tags":[],"owner":{"account_id":27270496,"reputation":7,"user_id":20791880,"display_name":"Ali Elmorsy"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1672246908,"creation_date":1672246908,"answer_id":74943003,"question_id":74942881,"body_markdown":"I guess...It&#39;s a race condition. It means when 2 threads try to access some variable it caches it to the following few operations, to make it faster to operate.\r\nTo avoid that, you can use `AtomicInteger` class it&#39;s thread-safe when you retrieve the integer it will be based on the current value in memory. \r\nCheck [https://www.tutorialspoint.com/java_concurrency/concurrency_atomic_integer.htm][1]\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/java_concurrency/concurrency_atomic_integer.htm","title":"What actions clear Thread local cache?","body":"<p>I guess...It's a race condition. It means when 2 threads try to access some variable it caches it to the following few operations, to make it faster to operate.\nTo avoid that, you can use <code>AtomicInteger</code> class it's thread-safe when you retrieve the integer it will be based on the current value in memory.\nCheck <a href=\"https://www.tutorialspoint.com/java_concurrency/concurrency_atomic_integer.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java_concurrency/concurrency_atomic_integer.htm</a></p>\n"}],"owner":{"account_id":18989917,"reputation":11,"user_id":14199290,"display_name":"Eitan Joseph"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672247763,"creation_date":1672246110,"question_id":74942881,"body_markdown":"Consider [this example from GeeksForGeeks](https://www.geeksforgeeks.org/volatile-keyword-in-java/):\r\n\r\n```\r\npublic class VolatileKeyword {\r\n    private static final Logger LOGGER = Logger.getLogger(VolatileKeyword.class);\r\n    private static int MY_INT = 0;\r\n\r\n    public static void main(String[] args) {\r\n        new ChangeListener().start();\r\n        new ChangeMaker().start();\r\n    }\r\n\r\n    static class ChangeListener extends Thread {\r\n        @Override public void run() {\r\n            int local_value = MY_INT;\r\n            while (local_value &lt; 5) {\r\n                // (A)\r\n                if (local_value != MY_INT) {\r\n                    LOGGER.info(&quot;Got Change for MY_INT : &quot; + MY_INT);\r\n                    local_value = MY_INT;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    static class ChangeMaker extends Thread {\r\n        @Override public void run() {\r\n            int local_value = MY_INT;\r\n            while (MY_INT &lt; 5) {\r\n                LOGGER.log(Level.INFO, &quot;Incrementing MY_INT to &quot; + (local_value + 1));\r\n                MY_INT = ++local_value;\r\n                try {\r\n                    Thread.sleep(500);\r\n                }\r\n                catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAs stated in the article, the output you see consistently is:\r\n```\r\nIncrementing MY_INT to 1\r\nIncrementing MY_INT to 2\r\nIncrementing MY_INT to 3\r\nIncrementing MY_INT to 4\r\nIncrementing MY_INT to 5\r\n```\r\nWhich is due to the fact that the `ChangeListener` is always reading `MY_INT` from its thread-local cache. (I tested this to be sure).\r\n\r\nHowever, if you were to replace `// (A)` with any of the following:\r\n- `Thread.currentThread().isAlive();`\r\n- `Thread.sleep(0)`\r\n- `Thread.interrupted()`\r\n- `System.out.print(&quot;&quot;);`\r\n- adding a `volatile` integer `x` to `ChangeListener` and replacing `// (A)` with `x += MY_INT`\r\n\r\namong other things, you would get the same output as you would by making `MY_INT` a `volatile` variable. That is,\r\n```\r\nIncrementing MY_INT to 1\r\nGot Change for MY_INT : 1\r\nIncrementing MY_INT to 2\r\nGot Change for MY_INT : 2\r\nIncrementing MY_INT to 3\r\nGot Change for MY_INT : 3\r\nIncrementing MY_INT to 4\r\nGot Change for MY_INT : 4\r\nIncrementing MY_INT to 5\r\nGot Change for MY_INT : 5\r\n```\r\n\r\nWhat is is the common denominator with the operations I listed above that is causing the thread cache to clear?\r\n\r\nEDIT:\r\nThe last two suggestions clearly hit volatile or synchronized code leading to the &quot;cache reset&quot;, but what about the others?","title":"What actions clear Thread local cache?","body":"<p>Consider <a href=\"https://www.geeksforgeeks.org/volatile-keyword-in-java/\" rel=\"nofollow noreferrer\">this example from GeeksForGeeks</a>:</p>\n<pre><code>public class VolatileKeyword {\n    private static final Logger LOGGER = Logger.getLogger(VolatileKeyword.class);\n    private static int MY_INT = 0;\n\n    public static void main(String[] args) {\n        new ChangeListener().start();\n        new ChangeMaker().start();\n    }\n\n    static class ChangeListener extends Thread {\n        @Override public void run() {\n            int local_value = MY_INT;\n            while (local_value &lt; 5) {\n                // (A)\n                if (local_value != MY_INT) {\n                    LOGGER.info(&quot;Got Change for MY_INT : &quot; + MY_INT);\n                    local_value = MY_INT;\n                }\n            }\n        }\n    }\n\n    static class ChangeMaker extends Thread {\n        @Override public void run() {\n            int local_value = MY_INT;\n            while (MY_INT &lt; 5) {\n                LOGGER.log(Level.INFO, &quot;Incrementing MY_INT to &quot; + (local_value + 1));\n                MY_INT = ++local_value;\n                try {\n                    Thread.sleep(500);\n                }\n                catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>As stated in the article, the output you see consistently is:</p>\n<pre><code>Incrementing MY_INT to 1\nIncrementing MY_INT to 2\nIncrementing MY_INT to 3\nIncrementing MY_INT to 4\nIncrementing MY_INT to 5\n</code></pre>\n<p>Which is due to the fact that the <code>ChangeListener</code> is always reading <code>MY_INT</code> from its thread-local cache. (I tested this to be sure).</p>\n<p>However, if you were to replace <code>// (A)</code> with any of the following:</p>\n<ul>\n<li><code>Thread.currentThread().isAlive();</code></li>\n<li><code>Thread.sleep(0)</code></li>\n<li><code>Thread.interrupted()</code></li>\n<li><code>System.out.print(&quot;&quot;);</code></li>\n<li>adding a <code>volatile</code> integer <code>x</code> to <code>ChangeListener</code> and replacing <code>// (A)</code> with <code>x += MY_INT</code></li>\n</ul>\n<p>among other things, you would get the same output as you would by making <code>MY_INT</code> a <code>volatile</code> variable. That is,</p>\n<pre><code>Incrementing MY_INT to 1\nGot Change for MY_INT : 1\nIncrementing MY_INT to 2\nGot Change for MY_INT : 2\nIncrementing MY_INT to 3\nGot Change for MY_INT : 3\nIncrementing MY_INT to 4\nGot Change for MY_INT : 4\nIncrementing MY_INT to 5\nGot Change for MY_INT : 5\n</code></pre>\n<p>What is is the common denominator with the operations I listed above that is causing the thread cache to clear?</p>\n<p>EDIT:\nThe last two suggestions clearly hit volatile or synchronized code leading to the &quot;cache reset&quot;, but what about the others?</p>\n"},{"tags":["java","clang","llvm","project-panama"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1672161243,"post_id":74931278,"comment_id":132233248,"body_markdown":"`-I /usr/lib/llvm-15/lib/clang/15.0.6/include` this include looks strange to me. The standard header files should already be bundled with jextract in the conf/jextract directory of the built runtime image, and they should be included automatically.","body":"<code>-I &#47;usr&#47;lib&#47;llvm-15&#47;lib&#47;clang&#47;15.0.6&#47;include</code> this include looks strange to me. The standard header files should already be bundled with jextract in the conf/jextract directory of the built runtime image, and they should be included automatically."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1672161774,"post_id":74931278,"comment_id":132233365,"body_markdown":"You might want to try with a prebuilt jextract as well, as you might have a broken jextract build: https://jdk.java.net/jextract/ (the build scripts are not super good at validating the input clang package, and last time we checked the system llvm package on Ubuntu didn&#39;t work. You might want to get a pre-built package from github instead if you want to build yourself: https://github.com/llvm/llvm-project/releases/tag/llvmorg-13.0.0).","body":"You might want to try with a prebuilt jextract as well, as you might have a broken jextract build: <a href=\"https://jdk.java.net/jextract/\" rel=\"nofollow noreferrer\">jdk.java.net/jextract</a> (the build scripts are not super good at validating the input clang package, and last time we checked the system llvm package on Ubuntu didn&#39;t work. You might want to get a pre-built package from github instead if you want to build yourself: <a href=\"https://github.com/llvm/llvm-project/releases/tag/llvmorg-13.0.0\" rel=\"nofollow noreferrer\">github.com/llvm/llvm-project/releases/tag/llvmorg-13.0.0</a>)."},{"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"score":0,"creation_date":1672164905,"post_id":74931278,"comment_id":132234220,"body_markdown":"This `LLVM` include is where I found other `inttypes.h` and `stdint.h` files, apart from the standard `/usr/include`. However, it did not help.\nI&#39;ll try with the LLVM `13.0.0` instead of the `15.0.6`.","body":"This <code>LLVM</code> include is where I found other <code>inttypes.h</code> and <code>stdint.h</code> files, apart from the standard <code>&#47;usr&#47;include</code>. However, it did not help. I&#39;ll try with the LLVM <code>13.0.0</code> instead of the <code>15.0.6</code>."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1672165923,"post_id":74931278,"comment_id":132234510,"body_markdown":"Right, but `inttypes.h` and `stdint.h` are already bundled with jextract (should be in `conf/jextract`), so you shouldn&#39;t need to have a `-I` flag for it.","body":"Right, but <code>inttypes.h</code> and <code>stdint.h</code> are already bundled with jextract (should be in <code>conf&#47;jextract</code>), so you shouldn&#39;t need to have a <code>-I</code> flag for it."},{"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"score":0,"creation_date":1672166103,"post_id":74931278,"comment_id":132234566,"body_markdown":"I checked: `inttypes.h` and `stdint.h` are correctly placed under `build/jextract/conf/jextract/`.\nAnd all the test are passed without errors, even with `LLVM 15.0.6`","body":"I checked: <code>inttypes.h</code> and <code>stdint.h</code> are correctly placed under <code>build&#47;jextract&#47;conf&#47;jextract&#47;</code>. And all the test are passed without errors, even with <code>LLVM 15.0.6</code>"},{"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"score":0,"creation_date":1672166355,"post_id":74931278,"comment_id":132234641,"body_markdown":"If you would like to check, I did also push all the yara headers under the `samples/yara` dir.\nhttps://github.com/MaurizioCasciano/jextract/tree/yara/samples/yara","body":"If you would like to check, I did also push all the yara headers under the <code>samples&#47;yara</code> dir. <a href=\"https://github.com/MaurizioCasciano/jextract/tree/yara/samples/yara\" rel=\"nofollow noreferrer\">github.com/MaurizioCasciano/jextract/tree/yara/samples/yara</a>"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1672167182,"post_id":74931278,"comment_id":132234865,"body_markdown":"I gave it a go here, and it seems to work with your repo on the `yara` branch, built jextract with the LLVM 13.0.0 package I linked to, and then `./build/jextract/bin/jextract --source --output java-yara --target-package com.virustotal.yara -I ./samples/yara ./samples/yara/yara.h` (There are warnings about `long double` but that is expected)","body":"I gave it a go here, and it seems to work with your repo on the <code>yara</code> branch, built jextract with the LLVM 13.0.0 package I linked to, and then <code>.&#47;build&#47;jextract&#47;bin&#47;jextract --source --output java-yara --target-package com.virustotal.yara -I .&#47;samples&#47;yara .&#47;samples&#47;yara&#47;yara.h</code> (There are warnings about <code>long double</code> but that is expected)"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1672167631,"post_id":74931278,"comment_id":132234977,"body_markdown":"If you still can&#39;t make it work, I suggest sending this question to the mailing list at `jextract-dev@openjdk.org`. Maurizio (from Panama) is more familiar with Linux/Ubuntu so he might have more ideas (but he&#39;s currently on vacation, so it might be next week before he replies).","body":"If you still can&#39;t make it work, I suggest sending this question to the mailing list at <code>jextract-dev@openjdk.org</code>. Maurizio (from Panama) is more familiar with Linux/Ubuntu so he might have more ideas (but he&#39;s currently on vacation, so it might be next week before he replies)."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1672167692,"post_id":74931278,"comment_id":132235001,"body_markdown":"Ah, looks like you already did t hat :)","body":"Ah, looks like you already did t hat :)"},{"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"score":0,"creation_date":1672168032,"post_id":74931278,"comment_id":132235089,"body_markdown":"yes, I did :)\nI&#39;ll check and post some updates. Thanks","body":"yes, I did :) I&#39;ll check and post some updates. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672246942,"creation_date":1672246942,"answer_id":74943009,"question_id":74931278,"body_markdown":"As suggested by [@Jorn Vernee][1], this issue was related to the installation of LLVM and CLang on Ubuntu, using the APT packages available at https://apt.llvm.org/\r\n\r\nI tested it, without any problem, using the latest release archive available on GitHub:\r\n\r\n - https://github.com/llvm/llvm-project/releases/download/llvmorg-15.0.6/clang+llvm-15.0.6-x86_64-linux-gnu-ubuntu-18.04.tar.xz\r\n\r\nThere are only some warnings for the long double native types being skipped.\r\n\r\nThis is the `Taskfile.yaml` to download and extract the `LLVM+CLang` archive\r\nand generate the `YARA-Java` bindings inside a simple Maven module structure:\r\n\r\n    version: 3\r\n    \r\n    dotenv: [&#39;.env&#39;]\r\n    \r\n    env:\r\n      LLVM_HOME: &quot;./libs/clang_llvm&quot;\r\n      JTREG_HOME: &quot;/usr/lib/jtreg&quot;\r\n    \r\n    vars:\r\n      PROJECT_ROOT:\r\n        sh: echo $PWD\r\n      YARA_JAVA_ROOT: &quot;samples/yara/yara-java&quot;\r\n      YARA_JAVA_SRC: &quot;{{.YARA_JAVA_ROOT}}/src/main/java&quot;\r\n      YARA_JAVA_RESOURCES: &quot;{{.YARA_JAVA_ROOT}}/src/main/resources&quot;\r\n      YARA_JAVA_HEADERS: &quot;{{.YARA_JAVA_RESOURCES}}/headers&quot;\r\n    \r\n    tasks:\r\n      setup:\r\n        cmds:\r\n          - mkdir -p libs/clang_llvm\r\n          - true || wget -nc -O libs/clang_llvm.tar.xz --show-progress https://github.com/llvm/llvm-project/releases/download/llvmorg-15.0.6/clang+llvm-15.0.6-x86_64-linux-gnu-ubuntu-18.04.tar.xz\r\n          - tar --strip-components=1 -xvf libs/clang_llvm.tar.xz -C libs/clang_llvm\r\n      build:\r\n        cmds:\r\n          - gradle -Pjdk19_home=&quot;${JAVA_HOME}&quot; -Pllvm_home=&quot;${LLVM_HOME}&quot; clean verify\r\n      test:\r\n        cmds:\r\n          - gradle -Pjdk19_home=&quot;${JAVA_HOME}&quot; -Pllvm_home=&quot;${LLVM_HOME}&quot; -Pjtreg_home=&quot;${JTREG_HOME}&quot; jtreg\r\n      yara-headers:\r\n        cmds:\r\n          - mkdir -p {{.YARA_JAVA_HEADERS}}\r\n          - cp /usr/include/yara.h {{.YARA_JAVA_HEADERS}}\r\n          - cp -r /usr/include/yara {{.YARA_JAVA_HEADERS}}\r\n      yara-java:\r\n        cmds:\r\n          - task: yara-java-includes\r\n          - sh -c &quot;(\r\n                    build/jextract/bin/jextract\r\n                    -l yara\r\n                    --source\r\n                    --output {{.YARA_JAVA_SRC}}\r\n                    --target-package com.virustotal.yara\r\n                    {{.YARA_JAVA_HEADERS}}/yara.h\r\n                  )&quot;\r\n      yara-java-includes:\r\n        cmds:\r\n          - mkdir -p {{.YARA_JAVA_RESOURCES}}\r\n          - sh -c &quot;(\r\n                    build/jextract/bin/jextract\r\n                    --dump-includes {{.YARA_JAVA_RESOURCES}}/includes.txt\r\n                    {{.YARA_JAVA_HEADERS}}/yara.h\r\n                  )&quot;\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3699139/jorn-vernee","title":"Jextract YARA headers throws unknown type name &#39;intmax_t&#39;","body":"<p>As suggested by <a href=\"https://stackoverflow.com/users/3699139/jorn-vernee\">@Jorn Vernee</a>, this issue was related to the installation of LLVM and CLang on Ubuntu, using the APT packages available at <a href=\"https://apt.llvm.org/\" rel=\"nofollow noreferrer\">https://apt.llvm.org/</a></p>\n<p>I tested it, without any problem, using the latest release archive available on GitHub:</p>\n<ul>\n<li><a href=\"https://github.com/llvm/llvm-project/releases/download/llvmorg-15.0.6/clang+llvm-15.0.6-x86_64-linux-gnu-ubuntu-18.04.tar.xz\" rel=\"nofollow noreferrer\">https://github.com/llvm/llvm-project/releases/download/llvmorg-15.0.6/clang+llvm-15.0.6-x86_64-linux-gnu-ubuntu-18.04.tar.xz</a></li>\n</ul>\n<p>There are only some warnings for the long double native types being skipped.</p>\n<p>This is the <code>Taskfile.yaml</code> to download and extract the <code>LLVM+CLang</code> archive\nand generate the <code>YARA-Java</code> bindings inside a simple Maven module structure:</p>\n<pre><code>version: 3\n\ndotenv: ['.env']\n\nenv:\n  LLVM_HOME: &quot;./libs/clang_llvm&quot;\n  JTREG_HOME: &quot;/usr/lib/jtreg&quot;\n\nvars:\n  PROJECT_ROOT:\n    sh: echo $PWD\n  YARA_JAVA_ROOT: &quot;samples/yara/yara-java&quot;\n  YARA_JAVA_SRC: &quot;{{.YARA_JAVA_ROOT}}/src/main/java&quot;\n  YARA_JAVA_RESOURCES: &quot;{{.YARA_JAVA_ROOT}}/src/main/resources&quot;\n  YARA_JAVA_HEADERS: &quot;{{.YARA_JAVA_RESOURCES}}/headers&quot;\n\ntasks:\n  setup:\n    cmds:\n      - mkdir -p libs/clang_llvm\n      - true || wget -nc -O libs/clang_llvm.tar.xz --show-progress https://github.com/llvm/llvm-project/releases/download/llvmorg-15.0.6/clang+llvm-15.0.6-x86_64-linux-gnu-ubuntu-18.04.tar.xz\n      - tar --strip-components=1 -xvf libs/clang_llvm.tar.xz -C libs/clang_llvm\n  build:\n    cmds:\n      - gradle -Pjdk19_home=&quot;${JAVA_HOME}&quot; -Pllvm_home=&quot;${LLVM_HOME}&quot; clean verify\n  test:\n    cmds:\n      - gradle -Pjdk19_home=&quot;${JAVA_HOME}&quot; -Pllvm_home=&quot;${LLVM_HOME}&quot; -Pjtreg_home=&quot;${JTREG_HOME}&quot; jtreg\n  yara-headers:\n    cmds:\n      - mkdir -p {{.YARA_JAVA_HEADERS}}\n      - cp /usr/include/yara.h {{.YARA_JAVA_HEADERS}}\n      - cp -r /usr/include/yara {{.YARA_JAVA_HEADERS}}\n  yara-java:\n    cmds:\n      - task: yara-java-includes\n      - sh -c &quot;(\n                build/jextract/bin/jextract\n                -l yara\n                --source\n                --output {{.YARA_JAVA_SRC}}\n                --target-package com.virustotal.yara\n                {{.YARA_JAVA_HEADERS}}/yara.h\n              )&quot;\n  yara-java-includes:\n    cmds:\n      - mkdir -p {{.YARA_JAVA_RESOURCES}}\n      - sh -c &quot;(\n                build/jextract/bin/jextract\n                --dump-includes {{.YARA_JAVA_RESOURCES}}/includes.txt\n                {{.YARA_JAVA_HEADERS}}/yara.h\n              )&quot;\n</code></pre>\n"}],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74943009,"answer_count":1,"score":2,"last_activity_date":1672247558,"creation_date":1672155529,"question_id":74931278,"body_markdown":"I want to generate Java bindings for the `/usr/include/yara.h` header file using the https://github.com/openjdk/jextract tool.\r\n\r\nFrom readme:\r\n\r\n&gt; Jextract jextract is a tool which mechanically generates Java bindings\r\n&gt; from a native library headers. This tools leverages the **clang** C API in\r\n&gt; order to parse the headers associated with a given native library, and\r\n&gt; the generated Java bindings build upon the Foreign Function &amp; Memory\r\n&gt; API. The jextract tool was originally developed in the context of\r\n&gt; Project Panama (and then made available in the Project Panama Early\r\n&gt; Access binaries).\r\n\r\nI am able to build and test the project but I&#39;m having some issues with the type definition of `intmax_t` when running the command:\r\n\r\n    build/jextract/bin/jextract --source --output java-yara --target-package com.virustotal.yara /usr/include/yara.h\r\n    /usr/include/inttypes.h:290:8: error: unknown type name &#39;intmax_t&#39;\r\n\r\nI checked the `/usr/include/inttypes.h` file and it correctly imports the &lt;stdint.h&gt; header:\r\n\r\n    /*\r\n     *\tISO C99: 7.8 Format conversion of integer types\t&lt;inttypes.h&gt;\r\n     */\r\n    \r\n    #ifndef _INTTYPES_H\r\n    #define _INTTYPES_H\t1\r\n    \r\n    #include &lt;features.h&gt;\r\n    /* Get the type definitions.  */\r\n    #include &lt;stdint.h&gt;\r\n\r\nHere https://github.com/MaurizioCasciano/jextract/tree/unknown_type_name_intmax_t is my fork with a simple [Taskfile][1] to build the project and reproduce the error running:\r\n\r\n    task build\r\n    task yara-extract\r\n\r\ninstead of the full commands, if you prefer.\r\n\r\nI did also try adding the relevant include paths but it didn&#39;t work.\r\n\r\n    -I /usr/include\r\n    -I /usr/include/yara\r\n    -I /usr/lib/llvm-15/lib/clang/15.0.6/include\r\n\r\nWhat else am I missing to allow the parsing of this typedef for `&#39;intmax_t&#39;` ?\r\n\r\nBelow you can see the tools I&#39;m using.\r\n\r\n**Environment**\r\n\r\n    $ hostnamectl\r\n    Operating System: Ubuntu 22.04.1 LTS              \r\n              Kernel: Linux 5.15.0-52-generic\r\n        Architecture: x86-64\r\n---\r\n    $ java --version\r\n    openjdk 19 2022-09-20\r\n    OpenJDK Runtime Environment (build 19+36-2238)\r\n    OpenJDK 64-Bit Server VM (build 19+36-2238, mixed mode, sharing)\r\n---\r\n\r\n    $ gradle --version\r\n    \r\n    ------------------------------------------------------------\r\n    Gradle 7.6\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2022-11-25 13:35:10 UTC\r\n    Revision:     daece9dbc5b79370cc8e4fd6fe4b2cd400e150a8\r\n    \r\n    Kotlin:       1.7.10\r\n    Groovy:       3.0.13\r\n    Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n    JVM:          19 (Oracle Corporation 19+36-2238)\r\n    OS:           Linux 5.15.0-52-generic amd64\r\n\r\n---\r\n    $ llvm-config-15 --version\r\n    15.0.6\r\n---\r\n    $ clang-15 --version\r\n    Ubuntu clang version 15.0.6\r\n    Target: x86_64-pc-linux-gnu\r\n    Thread model: posix\r\n    InstalledDir: /usr/bin\r\n---\r\n\r\nI am also able to parse the `/usr/include/yara.h` header file to generate the corresponing **Abstract Syntax Tree (AST)** representation of the code:\r\n\r\n    clang-15 -fsyntax-only -Xclang -ast-dump /usr/include/yara.h | grep intmax_t\r\n---\r\n\r\nand the reference is correctly returned:\r\n\r\n---\r\n\r\n    |-TypedefDecl 0x559220f80400 &lt;line:72:1, col:18&gt; col:18 referenced __intmax_t &#39;long&#39;\r\n    |-TypedefDecl 0x559220f80470 &lt;line:73:1, col:27&gt; col:27 referenced __uintmax_t &#39;unsigned long&#39;\r\n    |-TypedefDecl 0x55922102e2f0 &lt;line:101:1, col:21&gt; col:21 referenced intmax_t &#39;__intmax_t&#39;:&#39;long&#39;\r\n    | `-TypedefType 0x55922102e2c0 &#39;__intmax_t&#39; sugar\r\n    |   |-Typedef 0x559220f80400 &#39;__intmax_t&#39;\r\n    |-TypedefDecl 0x55922102e380 &lt;line:102:1, col:22&gt; col:22 referenced uintmax_t &#39;__uintmax_t&#39;:&#39;unsigned long&#39;\r\n    | `-TypedefType 0x55922102e350 &#39;__uintmax_t&#39; sugar\r\n    |   |-Typedef 0x559220f80470 &#39;__uintmax_t&#39;\r\n    |-FunctionDecl 0x55922102e788 &lt;line:290:1, col:74&gt; col:17 imaxabs &#39;intmax_t (intmax_t)&#39; extern\r\n    | |-ParmVarDecl 0x55922102e6c0 &lt;col:26, col:35&gt; col:35 __n &#39;intmax_t&#39;:&#39;long&#39;\r\n    |-FunctionDecl 0x55922102ea68 &lt;line:293:1, line:294:41&gt; line:293:18 imaxdiv &#39;imaxdiv_t (intmax_t, intmax_t)&#39; extern\r\n    | |-ParmVarDecl 0x55922102e8e0 &lt;col:27, col:36&gt; col:36 __numer &#39;intmax_t&#39;:&#39;long&#39;\r\n    | |-ParmVarDecl 0x55922102e958 &lt;col:45, col:54&gt; col:54 __denom &#39;intmax_t&#39;:&#39;long&#39;\r\n    |-FunctionDecl 0x559221040998 &lt;line:297:1, /usr/include/x86_64-linux-gnu/sys/cdefs.h:79:54&gt; /usr/include/inttypes.h:297:17 strtoimax &#39;intmax_t (const char *restrict, char **restrict, int)&#39; extern\r\n    |-FunctionDecl 0x559221040cc8 &lt;/usr/include/inttypes.h:301:1, /usr/include/x86_64-linux-gnu/sys/cdefs.h:79:54&gt; /usr/include/inttypes.h:301:18 strtoumax &#39;uintmax_t (const char *restrict, char **restrict, int)&#39; extern\r\n    |-FunctionDecl 0x5592210410e8 &lt;/usr/include/inttypes.h:305:1, /usr/include/x86_64-linux-gnu/sys/cdefs.h:79:54&gt; /usr/include/inttypes.h:305:17 wcstoimax &#39;intmax_t (const __gwchar_t *restrict, __gwchar_t **restrict, int)&#39; extern\r\n    |-FunctionDecl 0x559221041428 &lt;/usr/include/inttypes.h:310:1, /usr/include/x86_64-linux-gnu/sys/cdefs.h:79:54&gt; /usr/include/inttypes.h:310:18 wcstoumax &#39;uintmax_t (const __gwchar_t *restrict, __gwchar_t **restrict, int)&#39; extern\r\n\r\n\r\n\r\n  [1]: https://taskfile.dev/","title":"Jextract YARA headers throws unknown type name &#39;intmax_t&#39;","body":"<p>I want to generate Java bindings for the <code>/usr/include/yara.h</code> header file using the <a href=\"https://github.com/openjdk/jextract\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jextract</a> tool.</p>\n<p>From readme:</p>\n<blockquote>\n<p>Jextract jextract is a tool which mechanically generates Java bindings\nfrom a native library headers. This tools leverages the <strong>clang</strong> C API in\norder to parse the headers associated with a given native library, and\nthe generated Java bindings build upon the Foreign Function &amp; Memory\nAPI. The jextract tool was originally developed in the context of\nProject Panama (and then made available in the Project Panama Early\nAccess binaries).</p>\n</blockquote>\n<p>I am able to build and test the project but I'm having some issues with the type definition of <code>intmax_t</code> when running the command:</p>\n<pre><code>build/jextract/bin/jextract --source --output java-yara --target-package com.virustotal.yara /usr/include/yara.h\n/usr/include/inttypes.h:290:8: error: unknown type name 'intmax_t'\n</code></pre>\n<p>I checked the <code>/usr/include/inttypes.h</code> file and it correctly imports the &lt;stdint.h&gt; header:</p>\n<pre><code>/*\n *  ISO C99: 7.8 Format conversion of integer types &lt;inttypes.h&gt;\n */\n\n#ifndef _INTTYPES_H\n#define _INTTYPES_H 1\n\n#include &lt;features.h&gt;\n/* Get the type definitions.  */\n#include &lt;stdint.h&gt;\n</code></pre>\n<p>Here <a href=\"https://github.com/MaurizioCasciano/jextract/tree/unknown_type_name_intmax_t\" rel=\"nofollow noreferrer\">https://github.com/MaurizioCasciano/jextract/tree/unknown_type_name_intmax_t</a> is my fork with a simple <a href=\"https://taskfile.dev/\" rel=\"nofollow noreferrer\">Taskfile</a> to build the project and reproduce the error running:</p>\n<pre><code>task build\ntask yara-extract\n</code></pre>\n<p>instead of the full commands, if you prefer.</p>\n<p>I did also try adding the relevant include paths but it didn't work.</p>\n<pre><code>-I /usr/include\n-I /usr/include/yara\n-I /usr/lib/llvm-15/lib/clang/15.0.6/include\n</code></pre>\n<p>What else am I missing to allow the parsing of this typedef for <code>'intmax_t'</code> ?</p>\n<p>Below you can see the tools I'm using.</p>\n<p><strong>Environment</strong></p>\n<pre><code>$ hostnamectl\nOperating System: Ubuntu 22.04.1 LTS              \n          Kernel: Linux 5.15.0-52-generic\n    Architecture: x86-64\n</code></pre>\n<hr />\n<pre><code>$ java --version\nopenjdk 19 2022-09-20\nOpenJDK Runtime Environment (build 19+36-2238)\nOpenJDK 64-Bit Server VM (build 19+36-2238, mixed mode, sharing)\n</code></pre>\n<hr />\n<pre><code>$ gradle --version\n\n------------------------------------------------------------\nGradle 7.6\n------------------------------------------------------------\n\nBuild time:   2022-11-25 13:35:10 UTC\nRevision:     daece9dbc5b79370cc8e4fd6fe4b2cd400e150a8\n\nKotlin:       1.7.10\nGroovy:       3.0.13\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          19 (Oracle Corporation 19+36-2238)\nOS:           Linux 5.15.0-52-generic amd64\n</code></pre>\n<hr />\n<pre><code>$ llvm-config-15 --version\n15.0.6\n</code></pre>\n<hr />\n<pre><code>$ clang-15 --version\nUbuntu clang version 15.0.6\nTarget: x86_64-pc-linux-gnu\nThread model: posix\nInstalledDir: /usr/bin\n</code></pre>\n<hr />\n<p>I am also able to parse the <code>/usr/include/yara.h</code> header file to generate the corresponing <strong>Abstract Syntax Tree (AST)</strong> representation of the code:</p>\n<pre><code>clang-15 -fsyntax-only -Xclang -ast-dump /usr/include/yara.h | grep intmax_t\n</code></pre>\n<hr />\n<p>and the reference is correctly returned:</p>\n<hr />\n<pre><code>|-TypedefDecl 0x559220f80400 &lt;line:72:1, col:18&gt; col:18 referenced __intmax_t 'long'\n|-TypedefDecl 0x559220f80470 &lt;line:73:1, col:27&gt; col:27 referenced __uintmax_t 'unsigned long'\n|-TypedefDecl 0x55922102e2f0 &lt;line:101:1, col:21&gt; col:21 referenced intmax_t '__intmax_t':'long'\n| `-TypedefType 0x55922102e2c0 '__intmax_t' sugar\n|   |-Typedef 0x559220f80400 '__intmax_t'\n|-TypedefDecl 0x55922102e380 &lt;line:102:1, col:22&gt; col:22 referenced uintmax_t '__uintmax_t':'unsigned long'\n| `-TypedefType 0x55922102e350 '__uintmax_t' sugar\n|   |-Typedef 0x559220f80470 '__uintmax_t'\n|-FunctionDecl 0x55922102e788 &lt;line:290:1, col:74&gt; col:17 imaxabs 'intmax_t (intmax_t)' extern\n| |-ParmVarDecl 0x55922102e6c0 &lt;col:26, col:35&gt; col:35 __n 'intmax_t':'long'\n|-FunctionDecl 0x55922102ea68 &lt;line:293:1, line:294:41&gt; line:293:18 imaxdiv 'imaxdiv_t (intmax_t, intmax_t)' extern\n| |-ParmVarDecl 0x55922102e8e0 &lt;col:27, col:36&gt; col:36 __numer 'intmax_t':'long'\n| |-ParmVarDecl 0x55922102e958 &lt;col:45, col:54&gt; col:54 __denom 'intmax_t':'long'\n|-FunctionDecl 0x559221040998 &lt;line:297:1, /usr/include/x86_64-linux-gnu/sys/cdefs.h:79:54&gt; /usr/include/inttypes.h:297:17 strtoimax 'intmax_t (const char *restrict, char **restrict, int)' extern\n|-FunctionDecl 0x559221040cc8 &lt;/usr/include/inttypes.h:301:1, /usr/include/x86_64-linux-gnu/sys/cdefs.h:79:54&gt; /usr/include/inttypes.h:301:18 strtoumax 'uintmax_t (const char *restrict, char **restrict, int)' extern\n|-FunctionDecl 0x5592210410e8 &lt;/usr/include/inttypes.h:305:1, /usr/include/x86_64-linux-gnu/sys/cdefs.h:79:54&gt; /usr/include/inttypes.h:305:17 wcstoimax 'intmax_t (const __gwchar_t *restrict, __gwchar_t **restrict, int)' extern\n|-FunctionDecl 0x559221041428 &lt;/usr/include/inttypes.h:310:1, /usr/include/x86_64-linux-gnu/sys/cdefs.h:79:54&gt; /usr/include/inttypes.h:310:18 wcstoumax 'uintmax_t (const __gwchar_t *restrict, __gwchar_t **restrict, int)' extern\n</code></pre>\n"},{"tags":["java","android","arrays","kotlin","exoplayer"],"owner":{"account_id":23577973,"reputation":88,"user_id":17623544,"display_name":"mistelo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672247179,"creation_date":1672246767,"question_id":74942979,"body_markdown":"Hello I&#39;m trying to convert **Byte Array** to sound with **EXO PLAYER** but i got issue . \r\n\r\nWhen working with raw resources file every thing working fine . \r\nthis blow code belong to imported song to resources . \r\n\r\n```\r\nprivate suspend fun createByteArray(): Deferred&lt;ByteArray&gt; = withContext(Dispatchers.IO) {\r\n    val raw = applicationContext.resources.openRawResource(R.raw.god_father)\r\n\r\n        val buff = ByteArray(2048)\r\n\r\n       val baos = ByteArrayOutputStream()\r\n       while (raw.read(buff, 0, buff.size) &gt; 0) {\r\n          baos.write(buff, 0, buff.size)\r\n       }\r\n       ByteArrayInputStream(buff)\r\n    return@withContext async { baos.toByteArray() }\r\n}\r\n```\r\n\r\n```\r\n\r\nfun createMediaSource(bytes: ByteArray): MediaSource {\r\n    val byteArrayDataSource = ByteArrayDataSource(bytes)\r\n    val factory = DataSource.Factory {\r\n        return@Factory byteArrayDataSource\r\n    }\r\n    return ProgressiveMediaSource.Factory(factory).createMediaSource(\r\n        MediaItem.fromUri(\r\n            Uri.EMPTY\r\n        )\r\n    )\r\n}\r\n```\r\n\r\n```\r\nprivate fun playAudio(bytes: ByteArray) {\r\n    lifecycleScope.launch {\r\n        // Finally assign this media source to the player\r\n        player!!.apply {\r\n            setMediaSource(createMediaSource(bytes))\r\n            playWhenReady = true // start playing when the exoplayer has setup\r\n            prepare() // Change the state from idle.\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nBut when I&#39;m trying to work with Byte Array from server exo Crashing \r\n**Unrecognized Input Format Exception: None of the available extractors**\r\nAfter this I changed part of `ProgressiveMediaSourceFactory` to Below code\r\n\r\n\r\n```\r\nfun createMediaSource(bytes: ByteArray): MediaSource {\r\nval byteArrayDataSource = ByteArrayDataSource(bytes)\r\nval factory = DataSource.Factory {\r\nreturn@Factory byteArrayDataSource\r\n     }\r\nreturn ProgressiveMediaSource.Factory(factory,\r\nExtractorsFactory { return@ExtractorsFactory arrayOf(Mp3Extractor()) }).createMediaSource(\r\nMediaItem.fromUri(\r\nUri.EMPTY\r\n        )\r\n     )\r\n }\r\n```\r\n\r\nAnd Here we go again \r\nSecond Error happened\r\n[![Crashing](https://i.stack.imgur.com/Z6NQ9.png)](https://i.stack.imgur.com/Z6NQ9.png)\r\n\r\n\r\nWould you please HELP !\r\n\r\n```\r\n","title":"How to convert ByteArray to sound with Exo player","body":"<p>Hello I'm trying to convert <strong>Byte Array</strong> to sound with <strong>EXO PLAYER</strong> but i got issue .</p>\n<p>When working with raw resources file every thing working fine .\nthis blow code belong to imported song to resources .</p>\n<pre><code>private suspend fun createByteArray(): Deferred&lt;ByteArray&gt; = withContext(Dispatchers.IO) {\n    val raw = applicationContext.resources.openRawResource(R.raw.god_father)\n\n        val buff = ByteArray(2048)\n\n       val baos = ByteArrayOutputStream()\n       while (raw.read(buff, 0, buff.size) &gt; 0) {\n          baos.write(buff, 0, buff.size)\n       }\n       ByteArrayInputStream(buff)\n    return@withContext async { baos.toByteArray() }\n}\n</code></pre>\n<pre><code>\nfun createMediaSource(bytes: ByteArray): MediaSource {\n    val byteArrayDataSource = ByteArrayDataSource(bytes)\n    val factory = DataSource.Factory {\n        return@Factory byteArrayDataSource\n    }\n    return ProgressiveMediaSource.Factory(factory).createMediaSource(\n        MediaItem.fromUri(\n            Uri.EMPTY\n        )\n    )\n}\n</code></pre>\n<pre><code>private fun playAudio(bytes: ByteArray) {\n    lifecycleScope.launch {\n        // Finally assign this media source to the player\n        player!!.apply {\n            setMediaSource(createMediaSource(bytes))\n            playWhenReady = true // start playing when the exoplayer has setup\n            prepare() // Change the state from idle.\n        }\n\n    }\n}\n\n\n</code></pre>\n<p>But when I'm trying to work with Byte Array from server exo Crashing\n<strong>Unrecognized Input Format Exception: None of the available extractors</strong>\nAfter this I changed part of <code>ProgressiveMediaSourceFactory</code> to Below code</p>\n<pre><code>fun createMediaSource(bytes: ByteArray): MediaSource {\nval byteArrayDataSource = ByteArrayDataSource(bytes)\nval factory = DataSource.Factory {\nreturn@Factory byteArrayDataSource\n     }\nreturn ProgressiveMediaSource.Factory(factory,\nExtractorsFactory { return@ExtractorsFactory arrayOf(Mp3Extractor()) }).createMediaSource(\nMediaItem.fromUri(\nUri.EMPTY\n        )\n     )\n }\n</code></pre>\n<p>And Here we go again\nSecond Error happened\n<a href=\"https://i.stack.imgur.com/Z6NQ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z6NQ9.png\" alt=\"Crashing\" /></a></p>\n<p>Would you please HELP !</p>\n<pre><code></code></pre>\n"},{"tags":["java","selenium","webdriver"],"answers":[{"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672247165,"creation_date":1672246542,"answer_id":74942944,"question_id":74942162,"body_markdown":"You have to inherit the `BasePage` class from `ConfigureDriver` class, also you have  to modify the WebDriver initialization line:\r\n\r\n\r\n    public class ConfigureDriver extends BasePage {\r\n    \r\n    \tpublic ConfigureDriver(WebDriver driver) {\r\n    \t\tsuper(driver);\r\n    \t}\r\n    \r\n    \tpublic void configureDesktop() {\r\n    \t\tChromeOptions chromeOptions = new ChromeOptions();\r\n    \t\tWebDriverManager.chromedriver().setup();\r\n    \t\tdriver = new ChromeDriver(chromeOptions);    // modified this line\r\n    \r\n    \t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(15));\r\n    \t\tdriver.manage().window().maximize();\r\n    \r\n    \t\tdriver.get(&quot;https://www.page.com/&quot;);\r\n    \r\n    \t}\r\n    }\r\n\r\nNext time, post your question in brief and clear, also do the correct indentation.","title":"Java Selenium - page object model - webdriver null pointer exception error","body":"<p>You have to inherit the <code>BasePage</code> class from <code>ConfigureDriver</code> class, also you have  to modify the WebDriver initialization line:</p>\n<pre><code>public class ConfigureDriver extends BasePage {\n\n    public ConfigureDriver(WebDriver driver) {\n        super(driver);\n    }\n\n    public void configureDesktop() {\n        ChromeOptions chromeOptions = new ChromeOptions();\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver(chromeOptions);    // modified this line\n\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(15));\n        driver.manage().window().maximize();\n\n        driver.get(&quot;https://www.page.com/&quot;);\n\n    }\n}\n</code></pre>\n<p>Next time, post your question in brief and clear, also do the correct indentation.</p>\n"}],"owner":{"account_id":13200788,"reputation":21,"user_id":21689286,"display_name":"javabeginer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672247165,"creation_date":1672241927,"question_id":74942162,"body_markdown":"Feature file:\r\n\r\n\r\n    Feature: test of a webpage\r\n    \r\n    @desktop\r\n    Scenario: Test landing page \r\n      Given Customer is on landing page\r\n\r\n\r\nThis is the step definition file:\r\n\r\n    import io.cucumber.java.Before;\r\n    import io.cucumber.java.BeforeAll;\r\n    import io.cucumber.java.Scenario;\r\n    import io.cucumber.java.en.And;\r\n    import io.cucumber.java.en.Given;\r\n    import io.cucumber.java.en.Then;\r\n    import io.cucumber.java.en.When;\r\n    import org.assertj.core.api.Assertions;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.devtools.DevTools;\r\n    import pages.Landing Page;\r\n    import utils.BasePage;\r\n    import utils.ConfigureDriver;\r\n    \r\n    import java.util.*;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import static utils.BasePage.driver;\r\n    \r\n    public class LandingPageStepDefs {\r\n    LandingPage landingPage = new LandingPage(driver);\r\n    ScenarioContext scenarioContext = new ScenarioContext();\r\n    ConfigureDriver configureDriver = new ConfigureDriver();\r\n    \r\n\r\n    @Given(&quot;Customer is on landing page&quot;)\r\n    public void customer_is_on_landing_page () {\r\n        landingPage.clickConsent();\r\n    }\r\n\r\n    @Before(&quot;not @mobile&quot;)\r\n    public void beforeDesktop(Scenario scenario) {\r\n        configureDriver.configureDesktop();\r\n    }\r\n\r\n\r\n\r\nThis is the LandingPage:\r\n\r\n    import org.openqa.selenium.By; \r\n    import org.openqa.selenium.WebDriver;\r\n    import utils.BasePage;\r\n     \r\n    public class LandingPage extends BasePage {\r\n     \r\n        public LandingPage (WebDriver driver) {\r\n           super(driver);\r\n        }\r\n     \r\n        public void clickConsent() {\r\n           driver.findElement(By.xpath(&quot;//*[@id=\\&quot;cookie-terms\\&quot;]/div/div/button/i&quot;)).click();\r\n        } \r\n    }\r\n\r\n\r\nThis is the BasePage:\r\n\r\n\r\n    import org.openqa.selenium.WebDriver; \r\n    import org.openqa.selenium.WebElement; \r\n    import org.openqa.selenium.support.PageFactory; \r\n    import org.openqa.selenium.support.ui.ExpectedConditions; \r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import java.time.Duration; \r\n    import java.util.Arrays;\r\n    \r\n    public class BasePage {\r\n     \r\n    public static WebDriver driver;\r\n     \r\n        public BasePage(WebDriver driver) {\r\n             this.driver = driver;\r\n             PageFactory.initElements(driver, this);\r\n        }\r\n     \r\n         public static WebDriver getDriver() {\r\n             return driver;\r\n         } \r\n    }\r\n\r\nThis is ConfigureDriver Page \r\n\r\n    package utils;\r\n    \r\n    import io.github.bonigarcia.wdm.WebDriverManager; \r\n    import org.openqa.selenium.WebDriver; \r\n    import org.openqa.selenium.chrome.ChromeDriver; \r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class ConfigureDriver {\r\n     \r\n        public void configureDesktop() {\r\n             ChromeOptions chromeOptions = new ChromeOptions();\r\n             WebDriverManager.chromedriver().setup();\r\n             WebDriver driver = new ChromeDriver(chromeOptions);\r\n     \r\n             driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n             driver.manage().window().maximize();\r\n     \r\n             driver.get(&quot;https://www.page.com/&quot;);\r\n     \r\n         } \r\n    }\r\n\r\nThere is null pointer exception in step def here. Could you tell how to get rid of it ? Thanks in advance.\r\nlandingPage.clickConsent();\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java Selenium - page object model - webdriver null pointer exception error","body":"<p>Feature file:</p>\n<pre><code>Feature: test of a webpage\n\n@desktop\nScenario: Test landing page \n  Given Customer is on landing page\n</code></pre>\n<p>This is the step definition file:</p>\n<pre><code>import io.cucumber.java.Before;\nimport io.cucumber.java.BeforeAll;\nimport io.cucumber.java.Scenario;\nimport io.cucumber.java.en.And;\nimport io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.java.en.When;\nimport org.assertj.core.api.Assertions;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.devtools.DevTools;\nimport pages.Landing Page;\nimport utils.BasePage;\nimport utils.ConfigureDriver;\n\nimport java.util.*;\nimport java.util.concurrent.TimeUnit;\n\nimport static utils.BasePage.driver;\n\npublic class LandingPageStepDefs {\nLandingPage landingPage = new LandingPage(driver);\nScenarioContext scenarioContext = new ScenarioContext();\nConfigureDriver configureDriver = new ConfigureDriver();\n\n\n@Given(&quot;Customer is on landing page&quot;)\npublic void customer_is_on_landing_page () {\n    landingPage.clickConsent();\n}\n\n@Before(&quot;not @mobile&quot;)\npublic void beforeDesktop(Scenario scenario) {\n    configureDriver.configureDesktop();\n}\n</code></pre>\n<p>This is the LandingPage:</p>\n<pre><code>import org.openqa.selenium.By; \nimport org.openqa.selenium.WebDriver;\nimport utils.BasePage;\n \npublic class LandingPage extends BasePage {\n \n    public LandingPage (WebDriver driver) {\n       super(driver);\n    }\n \n    public void clickConsent() {\n       driver.findElement(By.xpath(&quot;//*[@id=\\&quot;cookie-terms\\&quot;]/div/div/button/i&quot;)).click();\n    } \n}\n</code></pre>\n<p>This is the BasePage:</p>\n<pre><code>import org.openqa.selenium.WebDriver; \nimport org.openqa.selenium.WebElement; \nimport org.openqa.selenium.support.PageFactory; \nimport org.openqa.selenium.support.ui.ExpectedConditions; \nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport java.time.Duration; \nimport java.util.Arrays;\n\npublic class BasePage {\n \npublic static WebDriver driver;\n \n    public BasePage(WebDriver driver) {\n         this.driver = driver;\n         PageFactory.initElements(driver, this);\n    }\n \n     public static WebDriver getDriver() {\n         return driver;\n     } \n}\n</code></pre>\n<p>This is ConfigureDriver Page</p>\n<pre><code>package utils;\n\nimport io.github.bonigarcia.wdm.WebDriverManager; \nimport org.openqa.selenium.WebDriver; \nimport org.openqa.selenium.chrome.ChromeDriver; \nimport org.openqa.selenium.chrome.ChromeOptions;\nimport java.util.concurrent.TimeUnit;\n\npublic class ConfigureDriver {\n \n    public void configureDesktop() {\n         ChromeOptions chromeOptions = new ChromeOptions();\n         WebDriverManager.chromedriver().setup();\n         WebDriver driver = new ChromeDriver(chromeOptions);\n \n         driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n         driver.manage().window().maximize();\n \n         driver.get(&quot;https://www.page.com/&quot;);\n \n     } \n}\n</code></pre>\n<p>There is null pointer exception in step def here. Could you tell how to get rid of it ? Thanks in advance.\nlandingPage.clickConsent();</p>\n"},{"tags":["java","android","android-recyclerview","android-gridview"],"comments":[{"owner":{"account_id":6450102,"reputation":11945,"user_id":7765139,"display_name":"Levi Moreira"},"score":0,"creation_date":1524422765,"post_id":49969278,"comment_id":86954907,"body_markdown":"In this answer&gt; https://stackoverflow.com/a/49821315/7765139 I&#39;ve created an easy to use plugin class adapter (ClickableAdapter) that adds is just like the setOnClickListener of listviews but adapted for RecyclerViews. So you can call adaoter,setOnClickListener directly in the activity and handle the clicks there","body":"In this answer&gt; <a href=\"https://stackoverflow.com/a/49821315/7765139\">stackoverflow.com/a/49821315/7765139</a> I&#39;ve created an easy to use plugin class adapter (ClickableAdapter) that adds is just like the setOnClickListener of listviews but adapted for RecyclerViews. So you can call adaoter,setOnClickListener directly in the activity and handle the clicks there"},{"owner":{"account_id":7139664,"reputation":50276,"user_id":5457853,"accept_rate":75,"display_name":"Thracian"},"score":1,"creation_date":1597491264,"post_id":49969278,"comment_id":112153463,"body_markdown":"You can set clickListener in onCreateViewHolder instead of onBindViewHolder. Check out my answer. onBindViewHolder is called every time recyclerView is scrolled.","body":"You can set clickListener in onCreateViewHolder instead of onBindViewHolder. Check out my answer. onBindViewHolder is called every time recyclerView is scrolled."},{"owner":{"account_id":17270687,"reputation":1654,"user_id":12506486,"display_name":"Stachu"},"score":0,"creation_date":1601068138,"post_id":49969278,"comment_id":113300121,"body_markdown":"if you are open to using Kotlin then maybe something like [this](https://stackoverflow.com/a/64071099/12506486) would work for you? The listener is set in the adapter, but the function used in the listener is declared in the Fragment","body":"if you are open to using Kotlin then maybe something like <a href=\"https://stackoverflow.com/a/64071099/12506486\">this</a> would work for you? The listener is set in the adapter, but the function used in the listener is declared in the Fragment"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1689591079,"post_id":49969278,"comment_id":135230144,"body_markdown":"For reference, the official Google recommended way to implement &quot;item click listeners&quot; in RecyclerView is in this talk: https://youtu.be/KhLVD6iiZQs?t=2048","body":"For reference, the official Google recommended way to implement &quot;item click listeners&quot; in RecyclerView is in this talk: <a href=\"https://youtu.be/KhLVD6iiZQs?t=2048\" rel=\"nofollow noreferrer\">youtu.be/KhLVD6iiZQs?t=2048</a>"}],"answers":[{"comments":[{"owner":{"account_id":4972497,"reputation":1593,"user_id":3999808,"accept_rate":0,"display_name":"Zun"},"score":0,"creation_date":1611580287,"post_id":49969384,"comment_id":116489549,"body_markdown":"An adapter connects a View (be it Fragment, Activity whatever) to a View in a RecyclerView (that&#39;s why it&#39;s called an adapter). The adapter itself shouldn&#39;t know anything about the calling View (in your example, the Activity)","body":"An adapter connects a View (be it Fragment, Activity whatever) to a View in a RecyclerView (that&#39;s why it&#39;s called an adapter). The adapter itself shouldn&#39;t know anything about the calling View (in your example, the Activity)"},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1611595681,"post_id":49969384,"comment_id":116497211,"body_markdown":"I know what a adapter is . What u suggest if one have to call a method of Activity from adapter?","body":"I know what a adapter is . What u suggest if one have to call a method of Activity from adapter?"},{"owner":{"account_id":4972497,"reputation":1593,"user_id":3999808,"accept_rate":0,"display_name":"Zun"},"score":0,"creation_date":1611612593,"post_id":49969384,"comment_id":116503842,"body_markdown":"What I&#39;m saying is your comment `// Call a public method of Activity here` is very wrong and anti-pattern. If you want to communicate back to the caller you need a callback function (interfaces for example). Up to you how to design that.","body":"What I&#39;m saying is your comment <code>&#47;&#47; Call a public method of Activity here</code> is very wrong and anti-pattern. If you want to communicate back to the caller you need a callback function (interfaces for example). Up to you how to design that."}],"tags":[],"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1611723347,"creation_date":1524421981,"answer_id":49969384,"question_id":49969278,"body_markdown":"You can let your `Activity` implements `View.OnClickListener` and pass it to adapter. Below is an example.\r\n\r\n    class  RAdapter extends RecyclerView.Adapter&lt;&gt;{\r\n        View.OnClickListener listner;\r\n        public RAdapter(View.OnClickListener listner) {\r\n            this.listner = listner;\r\n        }\r\n        public void onBindViewHolder(MyHolder holder, final int position) {\r\n            holder.vname.setOnClickListener(listner);\r\n\r\n        }\r\n    }\r\n\r\nBut to handle click in `Activity` you will going to need clicked position. You can have it with `adapter.getAdapterPosition()` to validate which item is clicked. \r\n\r\nApart from that To pass click event to the Fragment/Activity you can use a Custom callback listener this way your `Adapter` will be reusable .\r\n\r\nA better way to handle clicks in `ViewHolder`. See the below example.\r\n\r\n    class Holder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n            Button button;\r\n            public Holder(View itemView) {\r\n                super(itemView);\r\n                button=itemView.findViewById(R.id.b1);\r\n                button.setOnClickListener(this);\r\n            }\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(v.getId()==R.id.b1){\r\n                    int position=getAdapterPosition();\r\n                    // Call the call method here \r\n                    // with position or data Object itself\r\n                }\r\n            }\r\n        }\r\n\r\n \r\n\r\n \r\n\r\n\r\n  \r\n ","title":"RecyclerView Item Click Listener the Right Way","body":"<p>You can let your <code>Activity</code> implements <code>View.OnClickListener</code> and pass it to adapter. Below is an example.</p>\n<pre><code>class  RAdapter extends RecyclerView.Adapter&lt;&gt;{\n    View.OnClickListener listner;\n    public RAdapter(View.OnClickListener listner) {\n        this.listner = listner;\n    }\n    public void onBindViewHolder(MyHolder holder, final int position) {\n        holder.vname.setOnClickListener(listner);\n\n    }\n}\n</code></pre>\n<p>But to handle click in <code>Activity</code> you will going to need clicked position. You can have it with <code>adapter.getAdapterPosition()</code> to validate which item is clicked.</p>\n<p>Apart from that To pass click event to the Fragment/Activity you can use a Custom callback listener this way your <code>Adapter</code> will be reusable .</p>\n<p>A better way to handle clicks in <code>ViewHolder</code>. See the below example.</p>\n<pre><code>class Holder extends RecyclerView.ViewHolder implements View.OnClickListener {\n        Button button;\n        public Holder(View itemView) {\n            super(itemView);\n            button=itemView.findViewById(R.id.b1);\n            button.setOnClickListener(this);\n        }\n        @Override\n        public void onClick(View v) {\n            if(v.getId()==R.id.b1){\n                int position=getAdapterPosition();\n                // Call the call method here \n                // with position or data Object itself\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7362918,"reputation":442,"user_id":5605618,"display_name":"Sila Siebert"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524422571,"creation_date":1524422571,"answer_id":49969477,"question_id":49969278,"body_markdown":"If I understood correctly you want to set the on click logic in the Activity.\r\n\r\nYou can do this by setting the OnClickListener in the Activity and passing it in the Adapter constructor.\r\n\r\n    MyAdapter myAdapter = new MyAdapter(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(activity, &quot;clicked on &quot; +position, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }));\r\n\r\nAnd your MyAdapter Constructor would be:\r\n\r\n\r\n    final private OnClickListener onClickListener;\r\n\r\n    public MyAdapter(OnClickListener onClickListener) {\r\n        this.OnClickListener = OnClickListener;\r\n    }\r\n\r\nSo your new code would be something like this\r\n\r\n    public void onBindViewHolder(MyHolder holder, final int position) {\r\n        final Listdata data = listdata.get(position);\r\n        holder.vname.setText(data.getName());\r\n\r\n        holder.vname.setOnClickListener(onClickListener);\r\n}","title":"RecyclerView Item Click Listener the Right Way","body":"<p>If I understood correctly you want to set the on click logic in the Activity.</p>\n\n<p>You can do this by setting the OnClickListener in the Activity and passing it in the Adapter constructor.</p>\n\n<pre><code>MyAdapter myAdapter = new MyAdapter(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Toast.makeText(activity, \"clicked on \" +position, Toast.LENGTH_SHORT).show();\n        }\n    }));\n</code></pre>\n\n<p>And your MyAdapter Constructor would be:</p>\n\n<pre><code>final private OnClickListener onClickListener;\n\npublic MyAdapter(OnClickListener onClickListener) {\n    this.OnClickListener = OnClickListener;\n}\n</code></pre>\n\n<p>So your new code would be something like this</p>\n\n<pre><code>public void onBindViewHolder(MyHolder holder, final int position) {\n    final Listdata data = listdata.get(position);\n    holder.vname.setText(data.getName());\n\n    holder.vname.setOnClickListener(onClickListener);\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":13238927,"reputation":831,"user_id":9560126,"display_name":"TheCoderGuy"},"score":0,"creation_date":1549232190,"post_id":49969478,"comment_id":95819879,"body_markdown":"Your answer is pretty good, I have something like this asked can you please show my question ?\nhttps://stackoverflow.com/questions/54507274/get-the-position-of-the-selected-item-and-all-the-data-of-that-item-to-mainactiv","body":"Your answer is pretty good, I have something like this asked can you please show my question ? <a href=\"https://stackoverflow.com/questions/54507274/get-the-position-of-the-selected-item-and-all-the-data-of-that-item-to-mainactiv\" title=\"get the position of the selected item and all the data of that item to mainactiv\">stackoverflow.com/questions/54507274/&hellip;</a>"},{"owner":{"account_id":3788825,"reputation":23839,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"score":0,"creation_date":1549232431,"post_id":49969478,"comment_id":95819921,"body_markdown":"Thanks for the mention. Definitely, I will check the question and will get back to you when I get some time.","body":"Thanks for the mention. Definitely, I will check the question and will get back to you when I get some time."},{"owner":{"account_id":1513545,"reputation":681,"user_id":1415089,"accept_rate":79,"display_name":"exequielc"},"score":0,"creation_date":1579723005,"post_id":49969478,"comment_id":105865521,"body_markdown":"inside this  itemView.setOnClickListener(new View.OnClickListener() {\n                @Override public void onClick(View v) {\n                    listener.onItemClick(item);\n                }\n            });\n\nhow to call the update adapter ?","body":"inside this  itemView.setOnClickListener(new View.OnClickListener() {                 @Override public void onClick(View v) {                     listener.onItemClick(item);                 }             });  how to call the update adapter ?"},{"owner":{"account_id":3788825,"reputation":23839,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"score":1,"creation_date":1579742085,"post_id":49969478,"comment_id":105871703,"body_markdown":"Just call `notifyDataSetChanged()`, that should do.","body":"Just call <code>notifyDataSetChanged()</code>, that should do."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":25,"creation_date":1628604196,"post_id":49969478,"comment_id":121461722,"body_markdown":"This creates a new listener each time `onBindViewHolder` is called, which can cause noticeable performance degradation on scrolling large lists because of GC","body":"This creates a new listener each time <code>onBindViewHolder</code> is called, which can cause noticeable performance degradation on scrolling large lists because of GC"},{"owner":{"account_id":1937659,"reputation":650,"user_id":1744705,"accept_rate":50,"display_name":"TeachMeJava"},"score":1,"creation_date":1669027561,"post_id":49969478,"comment_id":131541441,"body_markdown":"Great explanation.  I use it this implemantation in my ViewPager&#39;s ReyclerView. My ViewPager includes another RecyclerView and i can catch the click and set this click position on ViewPager&#39;s PagerAdapter. Thank you.","body":"Great explanation.  I use it this implemantation in my ViewPager&#39;s ReyclerView. My ViewPager includes another RecyclerView and i can catch the click and set this click position on ViewPager&#39;s PagerAdapter. Thank you."},{"owner":{"account_id":4136799,"reputation":280,"user_id":8781554,"display_name":"Xam"},"score":0,"creation_date":1672448459,"post_id":49969478,"comment_id":132293078,"body_markdown":"It&#39;s better to set the click listener inside the body of the ViewHolder&#39;s constructor.","body":"It&#39;s better to set the click listener inside the body of the ViewHolder&#39;s constructor."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":2,"creation_date":1689591070,"post_id":49969478,"comment_id":135230140,"body_markdown":"For reference, the official Google recommended way to implement &quot;item click listeners&quot; in RecyclerView is in this talk: https://youtu.be/KhLVD6iiZQs?t=2048","body":"For reference, the official Google recommended way to implement &quot;item click listeners&quot; in RecyclerView is in this talk: <a href=\"https://youtu.be/KhLVD6iiZQs?t=2048\" rel=\"nofollow noreferrer\">youtu.be/KhLVD6iiZQs?t=2048</a>"}],"tags":[],"owner":{"account_id":3788825,"reputation":23839,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"comment_count":8,"down_vote_count":3,"up_vote_count":97,"is_accepted":true,"score":94,"last_activity_date":1524422929,"creation_date":1524422581,"answer_id":49969478,"question_id":49969278,"body_markdown":"You need to check [this tutorial][1] here for better understanding on how you can achieve the behaviour that you want. \r\n\r\nIn case of handling the `onClickListener` from your activity you need to work based on a callback implementation with an interface. Pass the interface from the activity to your adapter and then call the callback function from your adapter when some items are clicked. \r\n\r\nHere&#39;s a sample implementation from the tutorial. \r\n\r\nLet us first have the interface. \r\n\r\n    public interface OnItemClickListener {\r\n        void onItemClick(ContentItem item);\r\n    }\r\n\r\nYou need to modify your adapter to take the listener as the parameter like the one stated below. \r\n\r\n    private final List&lt;ContentItem&gt; items;\r\n    private final OnItemClickListener listener;\r\n     \r\n    public ContentAdapter(List&lt;ContentItem&gt; items, OnItemClickListener listener) {\r\n        this.items = items;\r\n        this.listener = listener;\r\n    }\r\n\r\nNow in your `onBindViewHolder` method, set the click listener. \r\n\r\n    @Override public void onBindViewHolder(ViewHolder holder, int position) {\r\n        holder.bind(items.get(position), listener);\r\n    }\r\n    \r\n    public void bind(final ContentItem item, final OnItemClickListener listener) {\r\n        ...\r\n        itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override public void onClick(View v) {\r\n                listener.onItemClick(item);\r\n            }\r\n        });\r\n    }\r\n\r\nNow setting the adapter in your `RecyclerView`. \r\n\r\n    recycler.setAdapter(new ContentAdapter(items, new ContentAdapter.OnItemClickListener() {\r\n        @Override public void onItemClick(ContentItem item) {\r\n            Toast.makeText(getContext(), &quot;Item Clicked&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    }));\r\n\r\nSo the whole adapter code looks like the following. \r\n\r\n    public class ContentAdapter extends RecyclerView.Adapter&lt;ContentAdapter.ViewHolder&gt; {\r\n     \r\n        public interface OnItemClickListener {\r\n            void onItemClick(ContentItem item);\r\n        }\r\n     \r\n        private final List&lt;ContentItem&gt; items;\r\n        private final OnItemClickListener listener;\r\n     \r\n        public ContentAdapter(List&lt;ContentItem&gt; items, OnItemClickListener listener) {\r\n            this.items = items;\r\n            this.listener = listener;\r\n        }\r\n     \r\n        @Override public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.view_item, parent, false);\r\n            return new ViewHolder(v);\r\n        }\r\n     \r\n        @Override public void onBindViewHolder(ViewHolder holder, int position) {\r\n            holder.bind(items.get(position), listener);\r\n        }\r\n     \r\n        @Override public int getItemCount() {\r\n            return items.size();\r\n        }\r\n     \r\n        static class ViewHolder extends RecyclerView.ViewHolder {\r\n     \r\n            private TextView name;\r\n            private ImageView image;\r\n     \r\n            public ViewHolder(View itemView) {\r\n                super(itemView);\r\n                name = (TextView) itemView.findViewById(R.id.name);\r\n                image = (ImageView) itemView.findViewById(R.id.image);\r\n            }\r\n     \r\n            public void bind(final ContentItem item, final OnItemClickListener listener) {\r\n                name.setText(item.name);\r\n                Picasso.with(itemView.getContext()).load(item.imageUrl).into(image);\r\n                itemView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override public void onClick(View v) {\r\n                        listener.onItemClick(item);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://antonioleiva.com/recyclerview-listener/","title":"RecyclerView Item Click Listener the Right Way","body":"<p>You need to check <a href=\"https://antonioleiva.com/recyclerview-listener/\" rel=\"noreferrer\">this tutorial</a> here for better understanding on how you can achieve the behaviour that you want. </p>\n\n<p>In case of handling the <code>onClickListener</code> from your activity you need to work based on a callback implementation with an interface. Pass the interface from the activity to your adapter and then call the callback function from your adapter when some items are clicked. </p>\n\n<p>Here's a sample implementation from the tutorial. </p>\n\n<p>Let us first have the interface. </p>\n\n<pre><code>public interface OnItemClickListener {\n    void onItemClick(ContentItem item);\n}\n</code></pre>\n\n<p>You need to modify your adapter to take the listener as the parameter like the one stated below. </p>\n\n<pre><code>private final List&lt;ContentItem&gt; items;\nprivate final OnItemClickListener listener;\n\npublic ContentAdapter(List&lt;ContentItem&gt; items, OnItemClickListener listener) {\n    this.items = items;\n    this.listener = listener;\n}\n</code></pre>\n\n<p>Now in your <code>onBindViewHolder</code> method, set the click listener. </p>\n\n<pre><code>@Override public void onBindViewHolder(ViewHolder holder, int position) {\n    holder.bind(items.get(position), listener);\n}\n\npublic void bind(final ContentItem item, final OnItemClickListener listener) {\n    ...\n    itemView.setOnClickListener(new View.OnClickListener() {\n        @Override public void onClick(View v) {\n            listener.onItemClick(item);\n        }\n    });\n}\n</code></pre>\n\n<p>Now setting the adapter in your <code>RecyclerView</code>. </p>\n\n<pre><code>recycler.setAdapter(new ContentAdapter(items, new ContentAdapter.OnItemClickListener() {\n    @Override public void onItemClick(ContentItem item) {\n        Toast.makeText(getContext(), \"Item Clicked\", Toast.LENGTH_LONG).show();\n    }\n}));\n</code></pre>\n\n<p>So the whole adapter code looks like the following. </p>\n\n<pre><code>public class ContentAdapter extends RecyclerView.Adapter&lt;ContentAdapter.ViewHolder&gt; {\n\n    public interface OnItemClickListener {\n        void onItemClick(ContentItem item);\n    }\n\n    private final List&lt;ContentItem&gt; items;\n    private final OnItemClickListener listener;\n\n    public ContentAdapter(List&lt;ContentItem&gt; items, OnItemClickListener listener) {\n        this.items = items;\n        this.listener = listener;\n    }\n\n    @Override public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.view_item, parent, false);\n        return new ViewHolder(v);\n    }\n\n    @Override public void onBindViewHolder(ViewHolder holder, int position) {\n        holder.bind(items.get(position), listener);\n    }\n\n    @Override public int getItemCount() {\n        return items.size();\n    }\n\n    static class ViewHolder extends RecyclerView.ViewHolder {\n\n        private TextView name;\n        private ImageView image;\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n            name = (TextView) itemView.findViewById(R.id.name);\n            image = (ImageView) itemView.findViewById(R.id.image);\n        }\n\n        public void bind(final ContentItem item, final OnItemClickListener listener) {\n            name.setText(item.name);\n            Picasso.with(itemView.getContext()).load(item.imageUrl).into(image);\n            itemView.setOnClickListener(new View.OnClickListener() {\n                @Override public void onClick(View v) {\n                    listener.onItemClick(item);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7124421,"reputation":1285,"user_id":5447822,"display_name":"Hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524422597,"creation_date":1524422597,"answer_id":49969481,"question_id":49969278,"body_markdown":"&gt; Create an interface for the adapter class\r\n\r\n    private OnItemClickListener mListener;\r\n\r\n    public CustomAdapter(List&lt;Listdata&gt; listdata, OnItemClickListener listener) {\r\n        mListener = listener;\r\n        ...\r\n        ...\r\n    }\r\n\r\n    private class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n        \r\n        ViewHolder(View view) {\r\n            ...\r\n            ...\r\n            view.setOnClickLister(this);\r\n        }\r\n\r\n        @override\r\n        public void onClick(View v) {\r\n            mListener.onAdapterItemClick(getAdapterPosition())\r\n        }\r\n    }\r\n\r\n    interface OnItemClickListener {\r\n        void onAdapterItemClick(int position);\r\n    }\r\n\r\n&gt; Let the activity implement the interface\r\n\r\n    public class CustomListActivity extends AppCompatActivity implements OnItemClickListener {\r\n    \r\n    ...\r\n    ...\r\n\r\n    @override\r\n    public void onAdapterItemClick(int position) {\r\n        Toast.makeText(activity, &quot;clicked on &quot; +position, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\nThere is another way of doing this, check out [this][1] implementation\r\n\r\n\r\n  [1]: https://gist.github.com/shayousefi/2d61827ea4ca68ab3d02","title":"RecyclerView Item Click Listener the Right Way","body":"<blockquote>\n  <p>Create an interface for the adapter class</p>\n</blockquote>\n\n<pre><code>private OnItemClickListener mListener;\n\npublic CustomAdapter(List&lt;Listdata&gt; listdata, OnItemClickListener listener) {\n    mListener = listener;\n    ...\n    ...\n}\n\nprivate class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n    ViewHolder(View view) {\n        ...\n        ...\n        view.setOnClickLister(this);\n    }\n\n    @override\n    public void onClick(View v) {\n        mListener.onAdapterItemClick(getAdapterPosition())\n    }\n}\n\ninterface OnItemClickListener {\n    void onAdapterItemClick(int position);\n}\n</code></pre>\n\n<blockquote>\n  <p>Let the activity implement the interface</p>\n</blockquote>\n\n<pre><code>public class CustomListActivity extends AppCompatActivity implements OnItemClickListener {\n\n...\n...\n\n@override\npublic void onAdapterItemClick(int position) {\n    Toast.makeText(activity, \"clicked on \" +position, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n\n<p>There is another way of doing this, check out <a href=\"https://gist.github.com/shayousefi/2d61827ea4ca68ab3d02\" rel=\"nofollow noreferrer\">this</a> implementation</p>\n"},{"tags":[],"owner":{"account_id":4906212,"reputation":2720,"user_id":3952885,"accept_rate":0,"display_name":"Amir Dora."},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1534105769,"creation_date":1534105769,"answer_id":51812584,"question_id":49969278,"body_markdown":"I found super duper easy method! I recommend this one\r\n\r\n**Example Code:**\r\n\r\n    public class ContentAdapter extends RecyclerView.Adapter&lt;ContentAdapter.ViewHolder&gt; {\r\n    \r\n    public interface OnItemClickListener {\r\n        void onItemClick(ContentItem item);\r\n    }\r\n    \r\n    private final List&lt;ContentItem&gt; items;\r\n    private final OnItemClickListener listener;\r\n    \r\n    public ContentAdapter(List&lt;ContentItem&gt; items, OnItemClickListener listener) {\r\n        this.items = items;\r\n        this.listener = listener;\r\n    }\r\n    \r\n    @Override public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.view_item, parent, false);\r\n        return new ViewHolder(v);\r\n    }\r\n    \r\n    @Override public void onBindViewHolder(ViewHolder holder, int position) {\r\n        holder.bind(items.get(position), listener);\r\n    }\r\n    \r\n    @Override public int getItemCount() {\r\n        return items.size();\r\n    }\r\n    \r\n    static class ViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n        private TextView name;\r\n        private ImageView image;\r\n    \r\n        public ViewHolder(View itemView) {\r\n            super(itemView);\r\n            name = (TextView) itemView.findViewById(R.id.name);\r\n            image = (ImageView) itemView.findViewById(R.id.image);\r\n        }\r\n    \r\n        public void bind(final ContentItem item, final OnItemClickListener listener) {\r\n            name.setText(item.name);\r\n            Picasso.with(itemView.getContext()).load(item.imageUrl).into(image);\r\n            itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override public void onClick(View v) {\r\n                    listener.onItemClick(item);\r\n                }\r\n            });\r\n        }\r\n    }\r\n    }\r\n\r\nAnd Use RecyclerView Adapter using below code:\r\n\r\n    recycler.setAdapter(new ContentAdapter(items, new ContentAdapter.OnItemClickListener() {\r\n    @Override public void onItemClick(ContentItem item) {\r\n        Toast.makeText(getContext(), &quot;Item Clicked&quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n    }));\r\n\r\ni found this from [here][1] \r\n\r\nHope it helped you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/35970678/3952885","title":"RecyclerView Item Click Listener the Right Way","body":"<p>I found super duper easy method! I recommend this one</p>\n\n<p><strong>Example Code:</strong></p>\n\n<pre><code>public class ContentAdapter extends RecyclerView.Adapter&lt;ContentAdapter.ViewHolder&gt; {\n\npublic interface OnItemClickListener {\n    void onItemClick(ContentItem item);\n}\n\nprivate final List&lt;ContentItem&gt; items;\nprivate final OnItemClickListener listener;\n\npublic ContentAdapter(List&lt;ContentItem&gt; items, OnItemClickListener listener) {\n    this.items = items;\n    this.listener = listener;\n}\n\n@Override public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.view_item, parent, false);\n    return new ViewHolder(v);\n}\n\n@Override public void onBindViewHolder(ViewHolder holder, int position) {\n    holder.bind(items.get(position), listener);\n}\n\n@Override public int getItemCount() {\n    return items.size();\n}\n\nstatic class ViewHolder extends RecyclerView.ViewHolder {\n\n    private TextView name;\n    private ImageView image;\n\n    public ViewHolder(View itemView) {\n        super(itemView);\n        name = (TextView) itemView.findViewById(R.id.name);\n        image = (ImageView) itemView.findViewById(R.id.image);\n    }\n\n    public void bind(final ContentItem item, final OnItemClickListener listener) {\n        name.setText(item.name);\n        Picasso.with(itemView.getContext()).load(item.imageUrl).into(image);\n        itemView.setOnClickListener(new View.OnClickListener() {\n            @Override public void onClick(View v) {\n                listener.onItemClick(item);\n            }\n        });\n    }\n}\n}\n</code></pre>\n\n<p>And Use RecyclerView Adapter using below code:</p>\n\n<pre><code>recycler.setAdapter(new ContentAdapter(items, new ContentAdapter.OnItemClickListener() {\n@Override public void onItemClick(ContentItem item) {\n    Toast.makeText(getContext(), \"Item Clicked\", Toast.LENGTH_LONG).show();\n}\n}));\n</code></pre>\n\n<p>i found this from <a href=\"https://stackoverflow.com/a/35970678/3952885\">here</a> </p>\n\n<p>Hope it helped you.</p>\n"},{"tags":[],"owner":{"account_id":9847321,"reputation":973,"user_id":7319247,"accept_rate":97,"display_name":"MrX"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1552852189,"creation_date":1552299928,"answer_id":55099728,"question_id":49969278,"body_markdown":"I always have one Generic Adapter in my project to avoid make a Adapter class every I use a Recyclerview. Here some example \r\n\r\n    public class AdapterRecyclerviewTextOnly extends RecyclerView.Adapter&lt;AdapterRecyclerviewTextOnly.ViewHolder&gt; {\r\n    private RecyclerView recyclerView;\r\n    private OnRecyclerviewListener onRecyclerviewListener;\r\n\r\n    public interface OnRecyclerviewListener {\r\n        void onRecyclerviewBind(RecyclerView recyclerView, AdapterRecyclerviewTextOnly.ViewHolder viewHolder, int position);\r\n        void onRecyclerviewClick(RecyclerView recyclerView, int position);\r\n        int onItemCount(RecyclerView recyclerView);\r\n    }\r\n\r\n    public void setOnRecyclerviewListener(OnRecyclerviewListener listener) { this.onRecyclerviewListener = listener; }\r\n\r\n    public AdapterRecyclerviewTextOnly(RecyclerView recyclerView) {\r\n        super();\r\n        this.recyclerView = recyclerView;\r\n    }\r\n\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n        RecyclerView recyclerView;\r\n        public TextView textView;\r\n\r\n        ViewHolder(RecyclerView recyclerView, View itemView) {\r\n            super(itemView);\r\n            this.recyclerView = recyclerView;\r\n            this.itemView.setOnClickListener(this);\r\n\r\n            this.textView = itemView.findViewById(R.id.textview_title);\r\n        }\r\n\r\n        void onBind(int position) { onRecyclerviewListener.onRecyclerviewBind(this.recyclerView, this, position); }\r\n\r\n        @Override\r\n        public void onClick(View v) {\r\n            onRecyclerviewListener.onRecyclerviewClick(this.recyclerView, getAdapterPosition());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public AdapterRecyclerviewTextOnly.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View inflatedView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_recyclerview_text_only, parent, false);\r\n        return new ViewHolder(this.recyclerView, inflatedView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(AdapterRecyclerviewTextOnly.ViewHolder holder, int position) {\r\n        holder.onBind(position);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return onRecyclerviewListener.onItemCount(this.recyclerView);\r\n    }\r\n    }\r\n\r\nAnd then in your Activity Class, you can use this adapter with : \r\n\r\n        this.recyclerView = findViewById(R.id.recyclerview);\r\n        this.recyclerView.setHasFixedSize(true);\r\n        this.recyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false));\r\n        AdapterRecyclerviewTextOnly recyclerViewAdapter = new AdapterRecyclerviewTextOnly(this.recyclerView);\r\n        this.recyclerView.setAdapter(this.recyclerViewAdapter);\r\n        this.recyclerViewAdapter.setOnRecyclerviewListener(new AdapterRecyclerviewTextOnly.OnRecyclerviewListener() {\r\n            @Override\r\n            public void onRecyclerviewBind(RecyclerView recyclerView, AdapterRecyclerviewTextOnly.ViewHolder viewHolder, int position) {\r\n                \r\n            }\r\n\r\n            @Override\r\n            public void onRecyclerviewClick(RecyclerView recyclerView, int position) {\r\n                \r\n            }\r\n\r\n            @Override\r\n            public int onItemCount(RecyclerView recyclerView) { \r\n    }\r\n    });\r\n\r\nYou can reuse this with 2 or 3 recyclerview too. \r\nFirst, declare a globar listener `private AdapterRecyclerviewTextOnly.OnRecyclerviewListener listener;`.\r\n\r\nThen init the listener with new object then set the your every recyclerview with the listener. Use specific identifier:\r\n \r\n`if (recyclerView == recyclerViewA){ } else if (recyclerView == recyclerViewB) { }` to manage your recyclerview inside the adapter.\r\n","title":"RecyclerView Item Click Listener the Right Way","body":"<p>I always have one Generic Adapter in my project to avoid make a Adapter class every I use a Recyclerview. Here some example </p>\n\n<pre><code>public class AdapterRecyclerviewTextOnly extends RecyclerView.Adapter&lt;AdapterRecyclerviewTextOnly.ViewHolder&gt; {\nprivate RecyclerView recyclerView;\nprivate OnRecyclerviewListener onRecyclerviewListener;\n\npublic interface OnRecyclerviewListener {\n    void onRecyclerviewBind(RecyclerView recyclerView, AdapterRecyclerviewTextOnly.ViewHolder viewHolder, int position);\n    void onRecyclerviewClick(RecyclerView recyclerView, int position);\n    int onItemCount(RecyclerView recyclerView);\n}\n\npublic void setOnRecyclerviewListener(OnRecyclerviewListener listener) { this.onRecyclerviewListener = listener; }\n\npublic AdapterRecyclerviewTextOnly(RecyclerView recyclerView) {\n    super();\n    this.recyclerView = recyclerView;\n}\n\n\npublic class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n    RecyclerView recyclerView;\n    public TextView textView;\n\n    ViewHolder(RecyclerView recyclerView, View itemView) {\n        super(itemView);\n        this.recyclerView = recyclerView;\n        this.itemView.setOnClickListener(this);\n\n        this.textView = itemView.findViewById(R.id.textview_title);\n    }\n\n    void onBind(int position) { onRecyclerviewListener.onRecyclerviewBind(this.recyclerView, this, position); }\n\n    @Override\n    public void onClick(View v) {\n        onRecyclerviewListener.onRecyclerviewClick(this.recyclerView, getAdapterPosition());\n    }\n}\n\n@Override\npublic AdapterRecyclerviewTextOnly.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    View inflatedView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_recyclerview_text_only, parent, false);\n    return new ViewHolder(this.recyclerView, inflatedView);\n}\n\n@Override\npublic void onBindViewHolder(AdapterRecyclerviewTextOnly.ViewHolder holder, int position) {\n    holder.onBind(position);\n}\n\n@Override\npublic int getItemCount() {\n    return onRecyclerviewListener.onItemCount(this.recyclerView);\n}\n}\n</code></pre>\n\n<p>And then in your Activity Class, you can use this adapter with : </p>\n\n<pre><code>    this.recyclerView = findViewById(R.id.recyclerview);\n    this.recyclerView.setHasFixedSize(true);\n    this.recyclerView.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false));\n    AdapterRecyclerviewTextOnly recyclerViewAdapter = new AdapterRecyclerviewTextOnly(this.recyclerView);\n    this.recyclerView.setAdapter(this.recyclerViewAdapter);\n    this.recyclerViewAdapter.setOnRecyclerviewListener(new AdapterRecyclerviewTextOnly.OnRecyclerviewListener() {\n        @Override\n        public void onRecyclerviewBind(RecyclerView recyclerView, AdapterRecyclerviewTextOnly.ViewHolder viewHolder, int position) {\n\n        }\n\n        @Override\n        public void onRecyclerviewClick(RecyclerView recyclerView, int position) {\n\n        }\n\n        @Override\n        public int onItemCount(RecyclerView recyclerView) { \n}\n});\n</code></pre>\n\n<p>You can reuse this with 2 or 3 recyclerview too. \nFirst, declare a globar listener <code>private AdapterRecyclerviewTextOnly.OnRecyclerviewListener listener;</code>.</p>\n\n<p>Then init the listener with new object then set the your every recyclerview with the listener. Use specific identifier:</p>\n\n<p><code>if (recyclerView == recyclerViewA){ } else if (recyclerView == recyclerViewB) { }</code> to manage your recyclerview inside the adapter.</p>\n"},{"comments":[{"owner":{"account_id":5055881,"reputation":3266,"user_id":15055605,"display_name":"YaMiN"},"score":1,"creation_date":1649900125,"post_id":62845860,"comment_id":126994489,"body_markdown":"Since `onBindViewHolder` is called multiple times then every time click listener is assigned which is unnecessary and can be avoided if you implement click listener inside `ViewHolder` instead of `Adapter`.","body":"Since <code>onBindViewHolder</code> is called multiple times then every time click listener is assigned which is unnecessary and can be avoided if you implement click listener inside <code>ViewHolder</code> instead of <code>Adapter</code>."}],"tags":[],"owner":{"account_id":6361458,"reputation":1555,"user_id":4936833,"display_name":"Kapta"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1632440045,"creation_date":1594448201,"answer_id":62845860,"question_id":49969278,"body_markdown":"In my way, I just created a single instance of `ClickListener`, And it dispatches click event to both `RecyclerView` and Activity or Fragment:\r\n\r\n    class LeagueAdapter(\r\n        onLeagueSelected: (League, Int, View) -&gt; Unit\r\n    ) : RecyclerView.Adapter&lt;LeagueHolder&gt;() {\r\n        private val dataSet = arrayListOf&lt;League&gt;()\r\n    \r\n        private val clickListener = View.OnClickListener { view -&gt;\r\n            val adapterPosition = view.tag as Int\r\n            onLeagueSelected(dataSet[adapterPosition], adapterPosition, view)\r\n\r\n            // perform adapter related action here ...\r\n        }\r\n  \r\n    \r\n        override fun getItemCount(): Int {\r\n            return dataSet.size\r\n        }\r\n        \r\n        override fun onBindViewHolder(holder: LeagueHolder, position: Int) {\r\n            // put item position in tag field\r\n            holder.itemView.tag = position\r\n            holder.itemView.setOnClickListener(clickListener)\r\n        }\r\n    }\r\n\r\nAnd inside Activity, we have something like this:\r\n\r\n    private val headerAdapter = LeagueAdapter { league, i, view -&gt;\r\n        Log.e(TAG, &quot;item clicked $i&quot;)\r\n    }","title":"RecyclerView Item Click Listener the Right Way","body":"<p>In my way, I just created a single instance of <code>ClickListener</code>, And it dispatches click event to both <code>RecyclerView</code> and Activity or Fragment:</p>\n<pre><code>class LeagueAdapter(\n    onLeagueSelected: (League, Int, View) -&gt; Unit\n) : RecyclerView.Adapter&lt;LeagueHolder&gt;() {\n    private val dataSet = arrayListOf&lt;League&gt;()\n\n    private val clickListener = View.OnClickListener { view -&gt;\n        val adapterPosition = view.tag as Int\n        onLeagueSelected(dataSet[adapterPosition], adapterPosition, view)\n\n        // perform adapter related action here ...\n    }\n\n\n    override fun getItemCount(): Int {\n        return dataSet.size\n    }\n    \n    override fun onBindViewHolder(holder: LeagueHolder, position: Int) {\n        // put item position in tag field\n        holder.itemView.tag = position\n        holder.itemView.setOnClickListener(clickListener)\n    }\n}\n</code></pre>\n<p>And inside Activity, we have something like this:</p>\n<pre><code>private val headerAdapter = LeagueAdapter { league, i, view -&gt;\n    Log.e(TAG, &quot;item clicked $i&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8633603,"reputation":2683,"user_id":6464513,"display_name":"Sina"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1597489971,"creation_date":1597489045,"answer_id":63425246,"question_id":49969278,"body_markdown":"Personally, I like to handle this via RxJava subjects:\r\n\r\nA Subject is a sort of bridge or proxy that is available in some implementations of ReactiveX that acts both as an observer and as an Observable. Because it is an observer, it can subscribe to one or more Observables, and because it is an Observable, it can pass through the items it observes by re-emitting them, and it can also emit new items. \r\n\r\nFor more info read **[Understanding RxJava Subject — Publish, Replay, Behavior and Async Subject][1]**.\r\n\r\nin Adapter:\r\n\r\n    public static PublishSubject&lt;MyData&gt; onClickSubject = PublishSubject.create();\r\n\r\nViewHolder:\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n        .\r\n        .\r\n        .\r\n    \r\n        @Override\r\n        public void onClick(View view) {\r\n            onClickSubject.onNext(getItem(getAdapterPosition()));\r\n        }\r\n    }\r\n\r\nAdd your disposables to a CompositeDisposable and dispose them in onDestroy():\r\n\r\n    private CompositeDisposable compositeDisposable = new CompositeDisposable();\r\n\r\nin onCreate():\r\n\r\n    compositeDisposable.add(MyAdapter.onClickSubject.subscribe(myData -&gt; {\r\n        //do something here\r\n    }));\r\n\r\nin onDestroy():\r\n\r\n    compositeDisposable.dispose();\r\n\r\n**Note:**\r\n\r\n**1.** getItem() is a method of androidx.recyclerview.widget.ListAdapter and androidx.paging.PagedListAdapter if you are extending RecyclerView.Adapter you can get item from your data list by position.\r\n\r\n**2.** to use Disposables you need RxJava2 or above\r\n\r\n\r\n  [1]: https://blog.mindorks.com/understanding-rxjava-subject-publish-replay-behavior-and-async-subject-224d663d452f","title":"RecyclerView Item Click Listener the Right Way","body":"<p>Personally, I like to handle this via RxJava subjects:</p>\n<p>A Subject is a sort of bridge or proxy that is available in some implementations of ReactiveX that acts both as an observer and as an Observable. Because it is an observer, it can subscribe to one or more Observables, and because it is an Observable, it can pass through the items it observes by re-emitting them, and it can also emit new items.</p>\n<p>For more info read <strong><a href=\"https://blog.mindorks.com/understanding-rxjava-subject-publish-replay-behavior-and-async-subject-224d663d452f\" rel=\"nofollow noreferrer\">Understanding RxJava Subject — Publish, Replay, Behavior and Async Subject</a></strong>.</p>\n<p>in Adapter:</p>\n<pre><code>public static PublishSubject&lt;MyData&gt; onClickSubject = PublishSubject.create();\n</code></pre>\n<p>ViewHolder:</p>\n<pre><code>public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n    .\n    .\n    .\n\n    @Override\n    public void onClick(View view) {\n        onClickSubject.onNext(getItem(getAdapterPosition()));\n    }\n}\n</code></pre>\n<p>Add your disposables to a CompositeDisposable and dispose them in onDestroy():</p>\n<pre><code>private CompositeDisposable compositeDisposable = new CompositeDisposable();\n</code></pre>\n<p>in onCreate():</p>\n<pre><code>compositeDisposable.add(MyAdapter.onClickSubject.subscribe(myData -&gt; {\n    //do something here\n}));\n</code></pre>\n<p>in onDestroy():</p>\n<pre><code>compositeDisposable.dispose();\n</code></pre>\n<p><strong>Note:</strong></p>\n<p><strong>1.</strong> getItem() is a method of androidx.recyclerview.widget.ListAdapter and androidx.paging.PagedListAdapter if you are extending RecyclerView.Adapter you can get item from your data list by position.</p>\n<p><strong>2.</strong> to use Disposables you need RxJava2 or above</p>\n"},{"comments":[{"owner":{"account_id":7985068,"reputation":140,"user_id":6024894,"accept_rate":50,"display_name":"Adam"},"score":2,"creation_date":1620903490,"post_id":63425559,"comment_id":119340021,"body_markdown":"Answer is in java, I dont know why are you posting kotlin.","body":"Answer is in java, I dont know why are you posting kotlin."},{"owner":{"account_id":4136799,"reputation":280,"user_id":8781554,"display_name":"Xam"},"score":2,"creation_date":1631745811,"post_id":63425559,"comment_id":122308435,"body_markdown":"@Adam Probably the author used Kotlin because it&#39;s the language the Android team recommends to use.","body":"@Adam Probably the author used Kotlin because it&#39;s the language the Android team recommends to use."},{"owner":{"account_id":7985068,"reputation":140,"user_id":6024894,"accept_rate":50,"display_name":"Adam"},"score":1,"creation_date":1633512328,"post_id":63425559,"comment_id":122776803,"body_markdown":"@Xam not at the time when the question was asked.","body":"@Xam not at the time when the question was asked."}],"tags":[],"owner":{"account_id":7139664,"reputation":50276,"user_id":5457853,"accept_rate":75,"display_name":"Thracian"},"comment_count":3,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1631763508,"creation_date":1597491189,"answer_id":63425559,"question_id":49969278,"body_markdown":"Registering `clickListener` inside `onCreateViewHolder` instead of `onBindViewHolder` is more performant since you only add listener when a view is created not ever time recyclerView is scrolled.\r\n\r\nAnd i use ListAdapter with DiffUtil callback instead of `RecyclerViewAdapter`\r\n\r\n    abstract class BaseListAdapter&lt;ItemType&gt;(\r\n        callBack: DiffUtil.ItemCallback&lt;ItemType&gt; = DefaultItemDiffCallback(),\r\n        private inline val onItemClicked: ((ItemType, Int) -&gt; Unit)? = null\r\n    ) : ListAdapter&lt;ItemType, BaseItemViewHolder&gt;(\r\n        AsyncDifferConfig.Builder&lt;ItemType&gt;(callBack)\r\n            .setBackgroundThreadExecutor(Executors.newSingleThreadExecutor())\r\n            .build()\r\n    ) {\r\n    \r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BaseItemViewHolder {\r\n    \r\n            return BaseItemViewHolder(\r\n    \r\n                DataBindingUtil.inflate(\r\n                    LayoutInflater.from(parent.context),\r\n                    getLayoutRes(viewType),\r\n                    parent, false\r\n                )\r\n            ).apply {\r\n                onViewHolderCreated(this, viewType, binding)\r\n            }\r\n    \r\n        }\r\n    \r\n        fun createCustomViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\r\n    \r\n            return BaseItemViewHolder(\r\n    \r\n                DataBindingUtil.inflate(\r\n                    LayoutInflater.from(parent.context),\r\n                    getLayoutRes(viewType),\r\n                    parent, false\r\n                )\r\n            )\r\n        }\r\n    \r\n        override fun onBindViewHolder(\r\n            holder: BaseItemViewHolder,\r\n            position: Int,\r\n            payloads: MutableList&lt;Any&gt;\r\n        ) {\r\n            val item: ItemType? = currentList.getOrNull(position)\r\n    \r\n            item?.let {\r\n                holder.binding.setVariable(BR.item, item)\r\n                onViewHolderBound(holder.binding, item, position, payloads)\r\n                holder.binding.executePendingBindings()\r\n            }\r\n    \r\n        }\r\n    \r\n        override fun onBindViewHolder(holder: BaseItemViewHolder, position: Int) {\r\n    \r\n        }\r\n    \r\n    \r\n        /**\r\n         * get layout res based on view type\r\n         */\r\n        protected abstract fun getLayoutRes(viewType: Int): Int\r\n    \r\n        /**\r\n         * Called when a ViewHolder is created. ViewHolder is either created first time or\r\n         * when data is refreshed.\r\n         *\r\n         * This method is not called when RecyclerView is being scrolled\r\n         */\r\n        open fun onViewHolderCreated(\r\n            viewHolder: RecyclerView.ViewHolder,\r\n            viewType: Int,\r\n            binding: ViewDataBinding\r\n        ) {\r\n    \r\n            binding.root.setOnClickListener {\r\n                onItemClicked?.invoke(getItem(viewHolder.bindingAdapterPosition), viewHolder.bindingAdapterPosition)\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * bind view while RecyclerView is being scrolled and new items are bound\r\n         */\r\n        open fun onViewHolderBound(\r\n            binding: ViewDataBinding,\r\n            item: ItemType,\r\n            position: Int,\r\n            payloads: MutableList&lt;Any&gt;\r\n        ) {\r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n    \r\n    open class BaseItemViewHolder(\r\n        val binding: ViewDataBinding\r\n    ) : RecyclerView.ViewHolder(binding.root)\r\n    \r\n    \r\n    class DefaultItemDiffCallback&lt;ItemType&gt; : DiffUtil.ItemCallback&lt;ItemType&gt;() {\r\n    \r\n        override fun areItemsTheSame(\r\n            oldItem: ItemType,\r\n            newItem: ItemType\r\n        ): Boolean {\r\n            return oldItem === newItem\r\n        }\r\n    \r\n        override fun areContentsTheSame(\r\n            oldItem: ItemType,\r\n            newItem: ItemType\r\n        ): Boolean {\r\n            return oldItem.hashCode() == newItem.hashCode()\r\n        }\r\n    }\r\n\r\nAnother better user experience is using `onBindViewHolder` with `payLoad` which lets you only update some part of the rows instead of whole row. For instance you have image, title and body in rows, and only body changes frequently, without payload image flashes and provides bad user experience. But with payload you can decide which part of the row should be updated allowing you not to reload parts that were not updated.\r\n","title":"RecyclerView Item Click Listener the Right Way","body":"<p>Registering <code>clickListener</code> inside <code>onCreateViewHolder</code> instead of <code>onBindViewHolder</code> is more performant since you only add listener when a view is created not ever time recyclerView is scrolled.</p>\n<p>And i use ListAdapter with DiffUtil callback instead of <code>RecyclerViewAdapter</code></p>\n<pre><code>abstract class BaseListAdapter&lt;ItemType&gt;(\n    callBack: DiffUtil.ItemCallback&lt;ItemType&gt; = DefaultItemDiffCallback(),\n    private inline val onItemClicked: ((ItemType, Int) -&gt; Unit)? = null\n) : ListAdapter&lt;ItemType, BaseItemViewHolder&gt;(\n    AsyncDifferConfig.Builder&lt;ItemType&gt;(callBack)\n        .setBackgroundThreadExecutor(Executors.newSingleThreadExecutor())\n        .build()\n) {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BaseItemViewHolder {\n\n        return BaseItemViewHolder(\n\n            DataBindingUtil.inflate(\n                LayoutInflater.from(parent.context),\n                getLayoutRes(viewType),\n                parent, false\n            )\n        ).apply {\n            onViewHolderCreated(this, viewType, binding)\n        }\n\n    }\n\n    fun createCustomViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n\n        return BaseItemViewHolder(\n\n            DataBindingUtil.inflate(\n                LayoutInflater.from(parent.context),\n                getLayoutRes(viewType),\n                parent, false\n            )\n        )\n    }\n\n    override fun onBindViewHolder(\n        holder: BaseItemViewHolder,\n        position: Int,\n        payloads: MutableList&lt;Any&gt;\n    ) {\n        val item: ItemType? = currentList.getOrNull(position)\n\n        item?.let {\n            holder.binding.setVariable(BR.item, item)\n            onViewHolderBound(holder.binding, item, position, payloads)\n            holder.binding.executePendingBindings()\n        }\n\n    }\n\n    override fun onBindViewHolder(holder: BaseItemViewHolder, position: Int) {\n\n    }\n\n\n    /**\n     * get layout res based on view type\n     */\n    protected abstract fun getLayoutRes(viewType: Int): Int\n\n    /**\n     * Called when a ViewHolder is created. ViewHolder is either created first time or\n     * when data is refreshed.\n     *\n     * This method is not called when RecyclerView is being scrolled\n     */\n    open fun onViewHolderCreated(\n        viewHolder: RecyclerView.ViewHolder,\n        viewType: Int,\n        binding: ViewDataBinding\n    ) {\n\n        binding.root.setOnClickListener {\n            onItemClicked?.invoke(getItem(viewHolder.bindingAdapterPosition), viewHolder.bindingAdapterPosition)\n        }\n    }\n\n    /**\n     * bind view while RecyclerView is being scrolled and new items are bound\n     */\n    open fun onViewHolderBound(\n        binding: ViewDataBinding,\n        item: ItemType,\n        position: Int,\n        payloads: MutableList&lt;Any&gt;\n    ) {\n\n    }\n\n\n}\n\nopen class BaseItemViewHolder(\n    val binding: ViewDataBinding\n) : RecyclerView.ViewHolder(binding.root)\n\n\nclass DefaultItemDiffCallback&lt;ItemType&gt; : DiffUtil.ItemCallback&lt;ItemType&gt;() {\n\n    override fun areItemsTheSame(\n        oldItem: ItemType,\n        newItem: ItemType\n    ): Boolean {\n        return oldItem === newItem\n    }\n\n    override fun areContentsTheSame(\n        oldItem: ItemType,\n        newItem: ItemType\n    ): Boolean {\n        return oldItem.hashCode() == newItem.hashCode()\n    }\n}\n</code></pre>\n<p>Another better user experience is using <code>onBindViewHolder</code> with <code>payLoad</code> which lets you only update some part of the rows instead of whole row. For instance you have image, title and body in rows, and only body changes frequently, without payload image flashes and provides bad user experience. But with payload you can decide which part of the row should be updated allowing you not to reload parts that were not updated.</p>\n"},{"tags":[],"owner":{"account_id":17270687,"reputation":1654,"user_id":12506486,"display_name":"Stachu"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1597962604,"creation_date":1597961961,"answer_id":63513865,"question_id":49969278,"body_markdown":"`RecyclerView` widget only has 2 useful [listeners](https://developer.android.com/reference/androidx/recyclerview/widget/package-summary) for this scenario:\r\n\r\n - [RecyclerView.OnChildAttachStateChangeListener](https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.OnChildAttachStateChangeListener) - covered [here](https://stackoverflow.com/a/35917564/12506486)\r\n - [RecyclerView.OnItemTouchListener](https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.OnItemTouchListener) - the one that I will be covering\r\n\r\nthe code is inspired by TouchEvents sample related to [Accessibility](https://developer.android.com/guide/topics/ui/accessibility/custom-views#custom-touch-events), and works in `Activity`/`Fragment` without setting any listeners in the `Adapter`\r\n\r\n```kotlin\r\nrecyclerView.addOnItemTouchListener(object : RecyclerView.SimpleOnItemTouchListener() {\r\n    var downTouch = false\r\n    override fun onInterceptTouchEvent(rv: RecyclerView, e: MotionEvent): Boolean {\r\n        when (e.action) {\r\n            MotionEvent.ACTION_DOWN -&gt; downTouch = true\r\n            MotionEvent.ACTION_UP -&gt; if (downTouch) {\r\n                downTouch = false\r\n                recyclerView.findChildViewUnder(e.x, e.y)?.let {\r\n                    val position = rv.getChildAdapterPosition(it)\r\n                    Toast.makeText(rv.context, &quot;clicked on $position&quot;, Toast.LENGTH_SHORT)\r\n                        .show()\r\n                }\r\n            }\r\n            else -&gt; downTouch = false\r\n        }\r\n        return super.onInterceptTouchEvent(rv, e)\r\n    }\r\n})\r\n```","title":"RecyclerView Item Click Listener the Right Way","body":"<p><code>RecyclerView</code> widget only has 2 useful <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/package-summary\" rel=\"nofollow noreferrer\">listeners</a> for this scenario:</p>\n<ul>\n<li><a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.OnChildAttachStateChangeListener\" rel=\"nofollow noreferrer\">RecyclerView.OnChildAttachStateChangeListener</a> - covered <a href=\"https://stackoverflow.com/a/35917564/12506486\">here</a></li>\n<li><a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.OnItemTouchListener\" rel=\"nofollow noreferrer\">RecyclerView.OnItemTouchListener</a> - the one that I will be covering</li>\n</ul>\n<p>the code is inspired by TouchEvents sample related to <a href=\"https://developer.android.com/guide/topics/ui/accessibility/custom-views#custom-touch-events\" rel=\"nofollow noreferrer\">Accessibility</a>, and works in <code>Activity</code>/<code>Fragment</code> without setting any listeners in the <code>Adapter</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>recyclerView.addOnItemTouchListener(object : RecyclerView.SimpleOnItemTouchListener() {\n    var downTouch = false\n    override fun onInterceptTouchEvent(rv: RecyclerView, e: MotionEvent): Boolean {\n        when (e.action) {\n            MotionEvent.ACTION_DOWN -&gt; downTouch = true\n            MotionEvent.ACTION_UP -&gt; if (downTouch) {\n                downTouch = false\n                recyclerView.findChildViewUnder(e.x, e.y)?.let {\n                    val position = rv.getChildAdapterPosition(it)\n                    Toast.makeText(rv.context, &quot;clicked on $position&quot;, Toast.LENGTH_SHORT)\n                        .show()\n                }\n            }\n            else -&gt; downTouch = false\n        }\n        return super.onInterceptTouchEvent(rv, e)\n    }\n})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14246235,"reputation":531,"user_id":10291209,"display_name":"Caitlin"},"score":2,"creation_date":1627495358,"post_id":68454190,"comment_id":121174407,"body_markdown":"You have just saved me so much time!! I&#39;ve been at this all day. Thank you.","body":"You have just saved me so much time!! I&#39;ve been at this all day. Thank you."},{"owner":{"account_id":2042440,"reputation":698,"user_id":1823280,"accept_rate":75,"display_name":"nibbana"},"score":1,"creation_date":1665562974,"post_id":68454190,"comment_id":130727353,"body_markdown":"Very nice solution, and reutilizable everywhere, thanks for linking it","body":"Very nice solution, and reutilizable everywhere, thanks for linking it"}],"tags":[],"owner":{"account_id":3582480,"reputation":2866,"user_id":2990350,"accept_rate":20,"display_name":"DYS"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1626780985,"creation_date":1626780985,"answer_id":68454190,"question_id":49969278,"body_markdown":"There&#39;s another very simple way documented in [CodePath][1].\r\n\r\n\r\n    ItemClickSupport.addTo(recyclerView).setOnItemClickListener(\r\n        new ItemClickSupport.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClicked(RecyclerView recyclerView, int position, View v) {\r\n                // do stuff\r\n            }\r\n        }\r\n    );\r\n\r\nThe implementation of [ItemClickSupport][2].\r\n\r\n\r\n  [1]: https://guides.codepath.com/android/using-the-recyclerview#attaching-click-listeners-with-decorators\r\n  [2]: https://gist.github.com/nesquena/231e356f372f214c4fe6","title":"RecyclerView Item Click Listener the Right Way","body":"<p>There's another very simple way documented in <a href=\"https://guides.codepath.com/android/using-the-recyclerview#attaching-click-listeners-with-decorators\" rel=\"nofollow noreferrer\">CodePath</a>.</p>\n<pre><code>ItemClickSupport.addTo(recyclerView).setOnItemClickListener(\n    new ItemClickSupport.OnItemClickListener() {\n        @Override\n        public void onItemClicked(RecyclerView recyclerView, int position, View v) {\n            // do stuff\n        }\n    }\n);\n</code></pre>\n<p>The implementation of <a href=\"https://gist.github.com/nesquena/231e356f372f214c4fe6\" rel=\"nofollow noreferrer\">ItemClickSupport</a>.</p>\n"},{"tags":[],"owner":{"account_id":4523377,"reputation":2744,"user_id":3675925,"display_name":"Hamid Zandi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670622435,"creation_date":1670622435,"answer_id":74748585,"question_id":49969278,"body_markdown":"**Kotlin**\r\n\r\nI&#39;d better to add item click in onCreateViewHolder like this\r\n\r\n    override fun onCreateViewHolder(viewGroup: ViewGroup, viewType: Int): \r\n    ProductViewHolder {\r\n        val view: View = LayoutInflater.from(viewGroup.context)\r\n            .inflate(R.layout.layout_product_item, viewGroup, false)\r\n        return ProductViewHolder(view).also { viewHolder -&gt;\r\n            viewHolder.itemView.setOnClickListener {\r\n                val position = viewHolder.layoutPosition\r\n                if (position != RecyclerView.NO_POSITION) {\r\n                    // do what you want with data[position]\r\n                }\r\n            }\r\n        }\r\n    }","title":"RecyclerView Item Click Listener the Right Way","body":"<p><strong>Kotlin</strong></p>\n<p>I'd better to add item click in onCreateViewHolder like this</p>\n<pre><code>override fun onCreateViewHolder(viewGroup: ViewGroup, viewType: Int): \nProductViewHolder {\n    val view: View = LayoutInflater.from(viewGroup.context)\n        .inflate(R.layout.layout_product_item, viewGroup, false)\n    return ProductViewHolder(view).also { viewHolder -&gt;\n        viewHolder.itemView.setOnClickListener {\n            val position = viewHolder.layoutPosition\n            if (position != RecyclerView.NO_POSITION) {\n                // do what you want with data[position]\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24271529,"reputation":21,"user_id":18219483,"display_name":"online59"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672246651,"creation_date":1672246651,"answer_id":74942960,"question_id":49969278,"body_markdown":"You can implement the `View.OnClickListener` interface in your `RecyclerView.ViewHolder` class and call it from there.\r\n\r\nIn your Adapter class create a public interface.\r\n\r\n    public void setOnItemClickListener(OnItemClickListener onItemClickListener) {\r\n        this.onItemClickListener = onItemClickListener;\r\n    }\r\n\r\n    public interface OnItemClickListener {\r\n        void onItemClick(int position);\r\n    }\r\n\r\n    private OnItemClickListener onItemClickListener;\r\n\r\nOn your ViewHolder class, you can implement the `View.OnClickListener` interface and set an onclick listener to the `itemView`.\r\n\r\n    \r\n    public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\r\n        public TextView myText;\r\n        public WalletViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            myText= itemView.findViewById(R.id.my_text_view);\r\n\r\n            // Set click listener for each item view\r\n            itemView.setOnClickListener(this);\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            if (onItemClickListener != null) {\r\n                onItemClickListener.onItemClick(getAdapterPosition());\r\n            }\r\n        }\r\n    }\r\n\r\nThen your `OnItemClickListener` will be created only once.","title":"RecyclerView Item Click Listener the Right Way","body":"<p>You can implement the <code>View.OnClickListener</code> interface in your <code>RecyclerView.ViewHolder</code> class and call it from there.</p>\n<p>In your Adapter class create a public interface.</p>\n<pre><code>public void setOnItemClickListener(OnItemClickListener onItemClickListener) {\n    this.onItemClickListener = onItemClickListener;\n}\n\npublic interface OnItemClickListener {\n    void onItemClick(int position);\n}\n\nprivate OnItemClickListener onItemClickListener;\n</code></pre>\n<p>On your ViewHolder class, you can implement the <code>View.OnClickListener</code> interface and set an onclick listener to the <code>itemView</code>.</p>\n<pre><code>public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\n    public TextView myText;\n    public WalletViewHolder(@NonNull View itemView) {\n        super(itemView);\n        myText= itemView.findViewById(R.id.my_text_view);\n\n        // Set click listener for each item view\n        itemView.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View view) {\n        if (onItemClickListener != null) {\n            onItemClickListener.onItemClick(getAdapterPosition());\n        }\n    }\n}\n</code></pre>\n<p>Then your <code>OnItemClickListener</code> will be created only once.</p>\n"}],"owner":{"account_id":4906212,"reputation":2720,"user_id":3952885,"accept_rate":0,"display_name":"Amir Dora."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123160,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":49969478,"answer_count":13,"score":48,"last_activity_date":1672246651,"creation_date":1524421269,"question_id":49969278,"body_markdown":"I use `RecyclerView` adapter to display data inside an activity, I want to implement `onClickListener` inside the activity, currently, I am setting `onClickListener` inside adapter as usual which works fine.\r\n\r\n    public void onBindViewHolder(MyHolder holder, final int position) {\r\n        final Listdata data = listdata.get(position);\r\n        holder.vname.setText(data.getName());\r\n\r\n        holder.vname.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(activity, &quot;clicked on &quot; +position, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\nHowever I want to implement it inside activity so I have greater control. This doesn&#39;t serve my purpose. I think it&#39;ll be useful for a lot of us. ","title":"RecyclerView Item Click Listener the Right Way","body":"<p>I use <code>RecyclerView</code> adapter to display data inside an activity, I want to implement <code>onClickListener</code> inside the activity, currently, I am setting <code>onClickListener</code> inside adapter as usual which works fine.</p>\n\n<pre><code>public void onBindViewHolder(MyHolder holder, final int position) {\n    final Listdata data = listdata.get(position);\n    holder.vname.setText(data.getName());\n\n    holder.vname.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Toast.makeText(activity, \"clicked on \" +position, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n\n<p>However I want to implement it inside activity so I have greater control. This doesn't serve my purpose. I think it'll be useful for a lot of us. </p>\n"},{"tags":["java","design-patterns","database-design","object-oriented-analysis"],"answers":[{"comments":[{"owner":{"account_id":2813792,"reputation":1545,"user_id":2419434,"accept_rate":72,"display_name":"javafan"},"score":1,"creation_date":1408323487,"post_id":25355059,"comment_id":39532384,"body_markdown":"It is not about new items, It is about new item type. Obviously new item type will have new functionality.","body":"It is not about new items, It is about new item type. Obviously new item type will have new functionality."},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1408323892,"post_id":25355059,"comment_id":39532441,"body_markdown":"Still, even a small retail operation is liable to have, and to change, its items more often than you want to write new classes.  Yes, of course it is a new item type, but if your requirements include having these items have new functionality, that&#39;s a tough system to program.  I&#39;d evaluate what possible new functionality there is liable to be before I decide it has to be that way.","body":"Still, even a small retail operation is liable to have, and to change, its items more often than you want to write new classes.  Yes, of course it is a new item type, but if your requirements include having these items have new functionality, that&#39;s a tough system to program.  I&#39;d evaluate what possible new functionality there is liable to be before I decide it has to be that way."},{"owner":{"account_id":2813792,"reputation":1545,"user_id":2419434,"accept_rate":72,"display_name":"javafan"},"score":0,"creation_date":1408324680,"post_id":25355059,"comment_id":39532576,"body_markdown":"I got your point. So can I say that if it has lot of new functionality, it would be good to have new class?","body":"I got your point. So can I say that if it has lot of new functionality, it would be good to have new class?"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":0,"creation_date":1408326153,"post_id":25355059,"comment_id":39532821,"body_markdown":"It is hard to imagine a case where I would make a new class because of &quot;additional functionality&quot; for an item in a shopping cart.  To the shopper, this is an item that they have decided to purchase.  It has pricing, photos, descriptions, SKU number(s), vendors, shipping weight and times, availability, etc., etc.  That&#39;s how the shopper views an item in the cart.  It doesn&#39;t change much from sweaters to used cars, from cantelope to cameras, whatever.  Many people new to OO programming try too hard to fit their problem into something for which they can use inheritance; try not to do that.","body":"It is hard to imagine a case where I would make a new class because of &quot;additional functionality&quot; for an item in a shopping cart.  To the shopper, this is an item that they have decided to purchase.  It has pricing, photos, descriptions, SKU number(s), vendors, shipping weight and times, availability, etc., etc.  That&#39;s how the shopper views an item in the cart.  It doesn&#39;t change much from sweaters to used cars, from cantelope to cameras, whatever.  Many people new to OO programming try too hard to fit their problem into something for which they can use inheritance; try not to do that."},{"owner":{"account_id":2813792,"reputation":1545,"user_id":2419434,"accept_rate":72,"display_name":"javafan"},"score":0,"creation_date":1408331160,"post_id":25355059,"comment_id":39533771,"body_markdown":"I agree to your points and I am also doing the same thing. But when I read design patterns and specially open closed principle, it states that our design should be  open for extension and closed for modification. \n\nIf I come across scenario where \nif (itemtype == type1) {\n\t// do something\n}\nif (itemtype == type2) {\n\t// do something else\n}\n\nNow if in future it comes type3. I have to change this code every time. Instead, if I do inheritance, then I do not need to change this code. I will call particular type&#39;s method. What say?","body":"I agree to your points and I am also doing the same thing. But when I read design patterns and specially open closed principle, it states that our design should be  open for extension and closed for modification.   If I come across scenario where  if (itemtype == type1) { \t// do something } if (itemtype == type2) { \t// do something else }  Now if in future it comes type3. I have to change this code every time. Instead, if I do inheritance, then I do not need to change this code. I will call particular type&#39;s method. What say?"},{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":1,"creation_date":1408352188,"post_id":25355059,"comment_id":39540499,"body_markdown":"Avoiding that kind of code is a good idea, but in a software system of any size, it is a poor way to decide on class design.  Start with the essential requirements of your system and think about the types of objects that it will have.  Think about what things in the system are liable to change often, and how to minimize changes in code due to requirements you can guess will change.  Create classes to model those requirements and changes.  Then think about essential coding sections; if you find that questionable coding practices like the one you mention are required, then rethink the design.","body":"Avoiding that kind of code is a good idea, but in a software system of any size, it is a poor way to decide on class design.  Start with the essential requirements of your system and think about the types of objects that it will have.  Think about what things in the system are liable to change often, and how to minimize changes in code due to requirements you can guess will change.  Create classes to model those requirements and changes.  Then think about essential coding sections; if you find that questionable coding practices like the one you mention are required, then rethink the design."}],"tags":[],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"comment_count":6,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1408323288,"creation_date":1408323288,"answer_id":25355059,"question_id":25354966,"body_markdown":"It seems to me that you do NOT want to write new code when your application has to handle new things for people to buy.  Therefore, a new class when there are new items to buy is a poor design.","title":"OO Design pattern for shopping cart","body":"<p>It seems to me that you do NOT want to write new code when your application has to handle new things for people to buy.  Therefore, a new class when there are new items to buy is a poor design.</p>\n"},{"tags":[],"owner":{"account_id":3899416,"reputation":456,"user_id":3227602,"display_name":"Pienterekaak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1409320281,"creation_date":1409320281,"answer_id":25569743,"question_id":25354966,"body_markdown":"I would use Strategy for this, for example:\r\n\r\n    public interface CartItem{\r\n      String getName();\r\n    \r\n      BigDecimal getPrice();\r\n    }\r\n\r\nOnly work with this interface in your shopping cart. This way, if you want a new cart item, just let it implement this interface, and it will work :)\r\n\r\nBy using an interface, you still have full freedom in how you design your actual cart items (either having 1 class, or multiple classes)","title":"OO Design pattern for shopping cart","body":"<p>I would use Strategy for this, for example:</p>\n\n<pre><code>public interface CartItem{\n  String getName();\n\n  BigDecimal getPrice();\n}\n</code></pre>\n\n<p>Only work with this interface in your shopping cart. This way, if you want a new cart item, just let it implement this interface, and it will work :)</p>\n\n<p>By using an interface, you still have full freedom in how you design your actual cart items (either having 1 class, or multiple classes)</p>\n"},{"tags":[],"owner":{"account_id":7152066,"reputation":544,"user_id":5465732,"accept_rate":71,"display_name":"Developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672246618,"creation_date":1672246177,"answer_id":74942894,"question_id":25354966,"body_markdown":"I was asked a similar question in an interview. The exact requirement was\r\n\r\nDesign a shopping cart with products and coupons and calculate the net price after applying coupons on products. Coupons can be of different types with certain conditions. I tried to use abstraction among Coupon/Discount processing, Cart and Product implementations classes.\r\n\r\n 1. N% off that is 10% off for all the individual.\r\n 2. D% off on next item of Type T.\r\n 3. D% off on next item of Type T.\r\n\r\nSequentially apply all the coupons on the cart and get the Total amount.\r\n\r\nI could come up with following solution. I used CoR pattern.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    interface Cart {\r\n    \tList&lt;CartItem&gt; getItems();\r\n    \t// void setItems(Set&lt;CartItem&gt; cartItems);\r\n    }\r\n    class ShoppingCart implements Cart {\r\n    \tprivate List&lt;CartItem&gt; items = new ArrayList&lt;&gt;();\r\n    \tboolean addItem(CartItem item) {\r\n    \t\treturn items.add(item);\r\n    \t}\r\n    \tboolean removeItem(CartItem item) {\r\n    \t\titems.remove(item);\r\n    \t\treturn true;\r\n    \t}\r\n    \tpublic List&lt;CartItem&gt; getItems() {\r\n    \t\treturn items;\r\n    \t}\r\n    \r\n    \tpublic double totalCartValue() {\r\n    \t\tdouble total = 0;\r\n    \t\tfor (CartItem item : items) {\r\n    \t\t\ttotal += item.getPrice();\r\n    \t\t}\r\n    \t\treturn total;\r\n    \t}\r\n    }\r\n    interface CartItem\t{\r\n    \tpublic String getName();\r\n    \tpublic double getPrice();\r\n    \tpublic void setPrice(double price);\r\n    }\r\n    abstract class Product implements CartItem {\r\n    \tString name;\r\n    \tdouble price;\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic double getPrice() {\r\n    \t\treturn price;\r\n    \t}\r\n    \tpublic void setPrice(double price) {\r\n    \t\tthis.price = price;\r\n    \t}\r\n    }\r\n    class Card extends Product {\r\n    \tpublic Card(String name, double price) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.price = price;\r\n    \t}\r\n    }\r\n    class Tshirt extends Product {\r\n    \tpublic Tshirt(String name, double price) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.price = price;\r\n    \t}\r\n    }\r\n    class BackPack extends Product {\r\n    \tpublic BackPack(String name, double price) {\r\n    \t\tthis.name = name;\r\n    \t\tthis.price = price;\r\n    \t}\r\n    }\r\n    interface Coupon {\r\n    \tvoid apply(Cart cart);\r\n    \tvoid setSuccessor(Coupon successor);\r\n    }\r\n    class CouponAll implements Coupon {\r\n    \tprivate static final float DISCOUNT = 0.25f;\r\n    \tCoupon successor;\r\n    \tpublic void setSuccessor(Coupon successor) {\r\n    \t\tthis.successor = successor;\r\n    \t}\r\n    \tpublic void apply(Cart cart) {\r\n    \t\tfor (CartItem item : cart.getItems()) {\r\n    \t\t\titem.setPrice(item.getPrice() - item.getPrice() * DISCOUNT);\r\n    \t\t}\r\n    \t\tif (successor != null) {\r\n    \t\t\tsuccessor.apply(cart);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    class CouponNext implements Coupon {\r\n    \tprivate static final float DISCOUNT = 0.10f;\r\n    \tprivate int discountItemIndex;\r\n    \tCoupon successor;\r\n    \tCouponNext(int discountItemIndex)\t{\r\n    \t\tthis.discountItemIndex = discountItemIndex;\r\n    \t}\r\n    \tpublic void setSuccessor(Coupon successor) {\r\n    \t\tthis.successor = successor;\r\n    \t}\r\n    \tpublic void apply(Cart cart) {\r\n    \t\tif(discountItemIndex &lt; cart.getItems().size())\t{\r\n    \t\t\tCartItem cartItem = cart.getItems().get(discountItemIndex);\r\n    \t\t\tcartItem.setPrice(cartItem.getPrice() - cartItem.getPrice() * DISCOUNT);\r\n    \t\t}\r\n    \t\tif (successor != null) {\r\n    \t\t\tsuccessor.apply(cart);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    class CouponNextBackPack implements Coupon {\r\n    \tprivate static final float DISCOUNT = 0.15f;\r\n    \tprivate int discountItemStartIndex;\r\n    \tCoupon successor;\r\n    \tClass&lt;?&gt; productType;\r\n    \tCouponNextBackPack(int discountItemStartIndex ,Class&lt;?&gt; productType)\t{\r\n    \t\tthis.discountItemStartIndex = discountItemStartIndex;\r\n    \t\tthis.productType = productType;\r\n    \t}\r\n    \tpublic void setSuccessor(Coupon successor) {\r\n    \t\tthis.successor = successor;\r\n    \t}\r\n    \tpublic void apply(Cart cart) {\r\n    \t\tif (discountItemStartIndex &lt; cart.getItems().size()) {\r\n    \t\t\tfor (int i = discountItemStartIndex; i &lt;  cart.getItems().size(); ++i) {\r\n    \t\t\t\tCartItem cartItem = cart.getItems().get(i);\r\n    \t\t\t\tif(productType.isInstance(cartItem))\t{\r\n    \t\t\t\t\tcartItem.setPrice(cartItem.getPrice() - cartItem.getPrice() * DISCOUNT);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (successor != null) {\r\n    \t\t\tsuccessor.apply(cart);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    public class DriverClassCoR {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tProduct card1 = new Card(&quot;Card&quot;, 12.99);\r\n    \t\tProduct card2 = new Card(&quot;Card&quot;, 12.99);\r\n    \t\tProduct card3 = new Card(&quot;Card&quot;, 12.99);\r\n    \t\tProduct tshirt1 = new Tshirt(&quot;Tshirt&quot;, 24.99);\r\n    \t\tProduct tshirt2 = new Tshirt(&quot;Tshirt&quot;, 24.99);\r\n    \t\tProduct backPack1 = new BackPack(&quot;BackPack&quot;, 34.99);\r\n    \t\tShoppingCart cart = new ShoppingCart();\r\n    \t\tcart.addItem(card1);\t\tcart.addItem(card2);\t\tcart.addItem(card3);\r\n    \t\tCoupon couponAll = new CouponAll();\r\n    \t\tcart.addItem(tshirt1);\r\n    \t\tCoupon couponNext = new CouponNext(cart.getItems().size());\r\n    \t\tcouponAll.setSuccessor(couponNext);\r\n    \t\tCoupon couponNextBackPack =null;\r\n    \t\tcouponNextBackPack = new CouponNextBackPack(cart.getItems().size(),  BackPack.class);\r\n    \t\tcouponNext.setSuccessor(couponNextBackPack);\r\n    \t\tcart.addItem(tshirt2);\r\n    \t\tcart.addItem(backPack1);\r\n    \t\tSystem.out.println(&quot;Total car value before discounts \\t&quot; +cart.totalCartValue());\r\n    \t\tcouponAll.apply(cart);\r\n    \t\t//System.out.println(backPack1.getClass().isInstance(backPack1));\r\n    \t\tSystem.out.println(&quot;Total car value after discounts \\t&quot; +cart.totalCartValue());\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n[![Sample Input and Output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Ag9H.png\r\n\r\nHope this helps.","title":"OO Design pattern for shopping cart","body":"<p>I was asked a similar question in an interview. The exact requirement was</p>\n<p>Design a shopping cart with products and coupons and calculate the net price after applying coupons on products. Coupons can be of different types with certain conditions. I tried to use abstraction among Coupon/Discount processing, Cart and Product implementations classes.</p>\n<ol>\n<li>N% off that is 10% off for all the individual.</li>\n<li>D% off on next item of Type T.</li>\n<li>D% off on next item of Type T.</li>\n</ol>\n<p>Sequentially apply all the coupons on the cart and get the Total amount.</p>\n<p>I could come up with following solution. I used CoR pattern.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\ninterface Cart {\n    List&lt;CartItem&gt; getItems();\n    // void setItems(Set&lt;CartItem&gt; cartItems);\n}\nclass ShoppingCart implements Cart {\n    private List&lt;CartItem&gt; items = new ArrayList&lt;&gt;();\n    boolean addItem(CartItem item) {\n        return items.add(item);\n    }\n    boolean removeItem(CartItem item) {\n        items.remove(item);\n        return true;\n    }\n    public List&lt;CartItem&gt; getItems() {\n        return items;\n    }\n\n    public double totalCartValue() {\n        double total = 0;\n        for (CartItem item : items) {\n            total += item.getPrice();\n        }\n        return total;\n    }\n}\ninterface CartItem  {\n    public String getName();\n    public double getPrice();\n    public void setPrice(double price);\n}\nabstract class Product implements CartItem {\n    String name;\n    double price;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public double getPrice() {\n        return price;\n    }\n    public void setPrice(double price) {\n        this.price = price;\n    }\n}\nclass Card extends Product {\n    public Card(String name, double price) {\n        this.name = name;\n        this.price = price;\n    }\n}\nclass Tshirt extends Product {\n    public Tshirt(String name, double price) {\n        this.name = name;\n        this.price = price;\n    }\n}\nclass BackPack extends Product {\n    public BackPack(String name, double price) {\n        this.name = name;\n        this.price = price;\n    }\n}\ninterface Coupon {\n    void apply(Cart cart);\n    void setSuccessor(Coupon successor);\n}\nclass CouponAll implements Coupon {\n    private static final float DISCOUNT = 0.25f;\n    Coupon successor;\n    public void setSuccessor(Coupon successor) {\n        this.successor = successor;\n    }\n    public void apply(Cart cart) {\n        for (CartItem item : cart.getItems()) {\n            item.setPrice(item.getPrice() - item.getPrice() * DISCOUNT);\n        }\n        if (successor != null) {\n            successor.apply(cart);\n        }\n    }\n}\nclass CouponNext implements Coupon {\n    private static final float DISCOUNT = 0.10f;\n    private int discountItemIndex;\n    Coupon successor;\n    CouponNext(int discountItemIndex)   {\n        this.discountItemIndex = discountItemIndex;\n    }\n    public void setSuccessor(Coupon successor) {\n        this.successor = successor;\n    }\n    public void apply(Cart cart) {\n        if(discountItemIndex &lt; cart.getItems().size())  {\n            CartItem cartItem = cart.getItems().get(discountItemIndex);\n            cartItem.setPrice(cartItem.getPrice() - cartItem.getPrice() * DISCOUNT);\n        }\n        if (successor != null) {\n            successor.apply(cart);\n        }\n    }\n}\nclass CouponNextBackPack implements Coupon {\n    private static final float DISCOUNT = 0.15f;\n    private int discountItemStartIndex;\n    Coupon successor;\n    Class&lt;?&gt; productType;\n    CouponNextBackPack(int discountItemStartIndex ,Class&lt;?&gt; productType)    {\n        this.discountItemStartIndex = discountItemStartIndex;\n        this.productType = productType;\n    }\n    public void setSuccessor(Coupon successor) {\n        this.successor = successor;\n    }\n    public void apply(Cart cart) {\n        if (discountItemStartIndex &lt; cart.getItems().size()) {\n            for (int i = discountItemStartIndex; i &lt;  cart.getItems().size(); ++i) {\n                CartItem cartItem = cart.getItems().get(i);\n                if(productType.isInstance(cartItem))    {\n                    cartItem.setPrice(cartItem.getPrice() - cartItem.getPrice() * DISCOUNT);\n                    break;\n                }\n            }\n        }\n        if (successor != null) {\n            successor.apply(cart);\n        }\n    }\n}\npublic class DriverClassCoR {\n    public static void main(String[] args) {\n        Product card1 = new Card(&quot;Card&quot;, 12.99);\n        Product card2 = new Card(&quot;Card&quot;, 12.99);\n        Product card3 = new Card(&quot;Card&quot;, 12.99);\n        Product tshirt1 = new Tshirt(&quot;Tshirt&quot;, 24.99);\n        Product tshirt2 = new Tshirt(&quot;Tshirt&quot;, 24.99);\n        Product backPack1 = new BackPack(&quot;BackPack&quot;, 34.99);\n        ShoppingCart cart = new ShoppingCart();\n        cart.addItem(card1);        cart.addItem(card2);        cart.addItem(card3);\n        Coupon couponAll = new CouponAll();\n        cart.addItem(tshirt1);\n        Coupon couponNext = new CouponNext(cart.getItems().size());\n        couponAll.setSuccessor(couponNext);\n        Coupon couponNextBackPack =null;\n        couponNextBackPack = new CouponNextBackPack(cart.getItems().size(),  BackPack.class);\n        couponNext.setSuccessor(couponNextBackPack);\n        cart.addItem(tshirt2);\n        cart.addItem(backPack1);\n        System.out.println(&quot;Total car value before discounts \\t&quot; +cart.totalCartValue());\n        couponAll.apply(cart);\n        //System.out.println(backPack1.getClass().isInstance(backPack1));\n        System.out.println(&quot;Total car value after discounts \\t&quot; +cart.totalCartValue());\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4Ag9H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Ag9H.png\" alt=\"Sample Input and Output\" /></a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":2813792,"reputation":1545,"user_id":2419434,"accept_rate":72,"display_name":"javafan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6334,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25569743,"answer_count":3,"score":1,"last_activity_date":1672246618,"creation_date":1408322329,"question_id":25354966,"body_markdown":"I am trying to learn oo design pattern and developing shopping cart application where different cart items will have different types. Each type is will have some additional attributes. \r\n\r\nOption 1: Is it good to create a separate class with every cart item with their own attributes and common attributes in base class. In this option, I will have to create multiple classes and corresponding table hierarchy in the database. \r\n\r\nOption 2: Create single cart item with type attribute which will identify the type of the attribute. Irrelevant attributes for the particular cart item will be null in this case.\r\n\r\nI know this is very basic question but I want to know about how people follow best practices.\r\n\r\nThanks in advance.","title":"OO Design pattern for shopping cart","body":"<p>I am trying to learn oo design pattern and developing shopping cart application where different cart items will have different types. Each type is will have some additional attributes. </p>\n\n<p>Option 1: Is it good to create a separate class with every cart item with their own attributes and common attributes in base class. In this option, I will have to create multiple classes and corresponding table hierarchy in the database. </p>\n\n<p>Option 2: Create single cart item with type attribute which will identify the type of the attribute. Irrelevant attributes for the particular cart item will be null in this case.</p>\n\n<p>I know this is very basic question but I want to know about how people follow best practices.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","logback","slf4j"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1672246752,"post_id":74941786,"comment_id":132251417,"body_markdown":"As @hiran-chaudhuri stated the log format coming from `org.apache.http.wire` is dictated by how that class is programmed.  A possible way to get around this is to extend the Wire class and give your own implementation of how you want things printed out to your log file.  That being said, I don&#39;t think that it would be easy and It would take some digging to figure out how to get HttpClient to use your class instead of their default class.","body":"As @hiran-chaudhuri stated the log format coming from <code>org.apache.http.wire</code> is dictated by how that class is programmed.  A possible way to get around this is to extend the Wire class and give your own implementation of how you want things printed out to your log file.  That being said, I don&#39;t think that it would be easy and It would take some digging to figure out how to get HttpClient to use your class instead of their default class."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672241428,"creation_date":1672241428,"answer_id":74942071,"question_id":74941786,"body_markdown":"The category org.apache.http.wire is written by Apache httpclient automatically. The log you want will likely not be produced by httpclient and thus not achievable with just logging configuration.\r\n\r\nYou will have to add such logging to your application, at which point you have full control over the log output.\r\n\r\nRunning IntelliJ on MacOS is not relevant in this case.","title":"Apache HttpClient Wire Logs to JSON","body":"<p>The category org.apache.http.wire is written by Apache httpclient automatically. The log you want will likely not be produced by httpclient and thus not achievable with just logging configuration.</p>\n<p>You will have to add such logging to your application, at which point you have full control over the log output.</p>\n<p>Running IntelliJ on MacOS is not relevant in this case.</p>\n"}],"owner":{"account_id":25296305,"reputation":33,"user_id":19121388,"display_name":"Tomer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672246308,"creation_date":1672239631,"question_id":74941786,"body_markdown":"I&#39;m new to SLF4J and Logback and I&#39;m trying to log every HTTP request and response in a Json format.\r\nHere&#39;s the configuration:\r\n\r\n    &lt;configuration&gt;\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ReportPortalAppender&quot; class=&quot;com.epam.reportportal.logback.appender.ReportPortalAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%t] %-5level - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\r\n            &lt;level&gt;ERROR&lt;/level&gt;\r\n            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\r\n            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\r\n        &lt;/filter&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;ERROR&quot;&gt;\r\n        &lt;appender-ref ref=&quot;ReportPortalAppender&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n    &lt;logger name=&quot;org.apache.http.wire&quot;&gt;\r\n        &lt;level value=&quot;DEBUG&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\n&lt;/configuration&gt;\r\n\r\nCurrently, it&#39;s printing:\r\n\r\n    16:56:44.840 [main] DEBUG org.apache.http.wire -  &gt;&gt; &quot;GET /version HTTP/1.1[\\r][\\n]&quot;\r\n    16:56:44.845 [main] DEBUG org.apache.http.wire -  &gt;&gt; &quot;Accept: application/json, application/javascript, text/javascript[\\r][\\n]&quot;\r\n    16:56:44.845 [main] DEBUG org.apache.http.wire -  &gt;&gt; &quot;Host: localhost:4243[\\r][\\n]&quot;\r\n    16:56:44.845 [main] DEBUG org.apache.http.wire -  &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\r\n    16:56:44.845 [main] DEBUG org.apache.http.wire -  &gt;&gt; &quot;[\\r][\\n]&quot;\r\n    16:56:44.873 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;HTTP/1.1 200 OK[\\r][\\n]&quot;\r\n    16:56:44.874 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;Api-Version: 1.41[\\r][\\n]&quot;\r\n    16:56:44.874 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;Content-Type: application/json[\\r][\\n]&quot;\r\n    16:56:44.874 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;Date: Wed, 28 Dec 2022 14:56:44 GMT[\\r][\\n]&quot;\r\n    16:56:44.874 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;Docker-Experimental: false[\\r][\\n]&quot;\r\n    16:56:44.874 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;Ostype: linux[\\r][\\n]&quot;\r\n    16:56:44.875 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;Server: Docker/20.10.21 (linux)[\\r][\\n]&quot;\r\n    16:56:44.875 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;Transfer-Encoding: chunked[\\r][\\n]&quot;\r\n    16:56:44.875 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;[\\r][\\n]&quot;\r\n    16:56:44.897 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;33c[\\r][\\n]&quot;\r\n    16:56:44.897 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;{&quot;Platform&quot;:{&quot;Name&quot;:&quot;Docker Desktop 4.15.0 (93002)&quot;},&quot;Components&quot;:[{&quot;Name&quot;:&quot;Engine&quot;,&quot;Version&quot;:&quot;20.10.21&quot;,&quot;Details&quot;:{&quot;ApiVersion&quot;:&quot;1.41&quot;,&quot;Arch&quot;:&quot;amd64&quot;,&quot;BuildTime&quot;:&quot;2022-10-25T18:00:19.000000000+00:00&quot;,&quot;Experimental&quot;:&quot;false&quot;,&quot;GitCommit&quot;:&quot;3056208&quot;,&quot;GoVersion&quot;:&quot;go1.18.7&quot;,&quot;KernelVersion&quot;:&quot;5.15.49-linuxkit&quot;,&quot;MinAPIVersion&quot;:&quot;1.12&quot;,&quot;Os&quot;:&quot;linux&quot;}},{&quot;Name&quot;:&quot;containerd&quot;,&quot;Version&quot;:&quot;1.6.10&quot;,&quot;Details&quot;:{&quot;GitCommit&quot;:&quot;770bd0108c32f3fb5c73ae1264f7e503fe7b2661&quot;}},{&quot;Name&quot;:&quot;runc&quot;,&quot;Version&quot;:&quot;1.1.4&quot;,&quot;Details&quot;:{&quot;GitCommit&quot;:&quot;v1.1.4-0-g5fd4c4d&quot;}},{&quot;Name&quot;:&quot;docker-init&quot;,&quot;Version&quot;:&quot;0.19.0&quot;,&quot;Details&quot;:{&quot;GitCommit&quot;:&quot;de40ad0&quot;}}],&quot;Version&quot;:&quot;20.10.21&quot;,&quot;ApiVersion&quot;:&quot;1.41&quot;,&quot;MinAPIVersion&quot;:&quot;1.12&quot;,&quot;GitCommit&quot;:&quot;3056208&quot;,&quot;GoVersion&quot;:&quot;go1.18.7&quot;,&quot;Os&quot;:&quot;linux&quot;,&quot;Arch&quot;:&quot;amd64&quot;,&quot;KernelVersion&quot;:&quot;5.15.49-linuxkit&quot;,&quot;BuildTime&quot;:&quot;2022-10-25T18:00:19.000000000+00:00&quot;}[\\n]&quot;\r\n    16:56:44.898 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;[\\r][\\n]&quot;\r\n    16:56:44.898 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;0[\\r][\\n]&quot;\r\n    16:56:44.898 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;[\\r][\\n]&quot;\r\n\r\n\r\nAnd I want to log something like:\r\n\r\n    {\r\n        &quot;url&quot;: &quot;GET /version HTTP/1.1&quot;,\r\n        &quot;status&quot;: 200,\r\n        &quot;elapsed_time&quot;: 2630 ,\r\n        &quot;response&quot;: {\r\n            &quot;key1&quot;:&quot;value1&quot;,\r\n            &quot;key2&quot;:&quot;value2&quot;\r\n        }\r\n    }\r\n\r\n\r\nI am using IntelliJ Idea, running on macOS (latest). ","title":"Apache HttpClient Wire Logs to JSON","body":"<p>I'm new to SLF4J and Logback and I'm trying to log every HTTP request and response in a Json format.\nHere's the configuration:</p>\n<pre><code>&lt;configuration&gt;\n&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=&quot;ReportPortalAppender&quot; class=&quot;com.epam.reportportal.logback.appender.ReportPortalAppender&quot;&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{HH:mm:ss.SSS} [%t] %-5level - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\n        &lt;level&gt;ERROR&lt;/level&gt;\n        &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\n        &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\n    &lt;/filter&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;ERROR&quot;&gt;\n    &lt;appender-ref ref=&quot;ReportPortalAppender&quot; /&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n&lt;/root&gt;\n\n&lt;logger name=&quot;org.apache.http.wire&quot;&gt;\n    &lt;level value=&quot;DEBUG&quot;/&gt;\n&lt;/logger&gt;\n</code></pre>\n\n<p>Currently, it's printing:</p>\n<pre><code>16:56:44.840 [main] DEBUG org.apache.http.wire -  &gt;&gt; &quot;GET /version HTTP/1.1[\\r][\\n]&quot;\n16:56:44.845 [main] DEBUG org.apache.http.wire -  &gt;&gt; &quot;Accept: application/json, application/javascript, text/javascript[\\r][\\n]&quot;\n16:56:44.845 [main] DEBUG org.apache.http.wire -  &gt;&gt; &quot;Host: localhost:4243[\\r][\\n]&quot;\n16:56:44.845 [main] DEBUG org.apache.http.wire -  &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\n16:56:44.845 [main] DEBUG org.apache.http.wire -  &gt;&gt; &quot;[\\r][\\n]&quot;\n16:56:44.873 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;HTTP/1.1 200 OK[\\r][\\n]&quot;\n16:56:44.874 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;Api-Version: 1.41[\\r][\\n]&quot;\n16:56:44.874 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;Content-Type: application/json[\\r][\\n]&quot;\n16:56:44.874 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;Date: Wed, 28 Dec 2022 14:56:44 GMT[\\r][\\n]&quot;\n16:56:44.874 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;Docker-Experimental: false[\\r][\\n]&quot;\n16:56:44.874 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;Ostype: linux[\\r][\\n]&quot;\n16:56:44.875 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;Server: Docker/20.10.21 (linux)[\\r][\\n]&quot;\n16:56:44.875 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;Transfer-Encoding: chunked[\\r][\\n]&quot;\n16:56:44.875 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;[\\r][\\n]&quot;\n16:56:44.897 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;33c[\\r][\\n]&quot;\n16:56:44.897 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;{&quot;Platform&quot;:{&quot;Name&quot;:&quot;Docker Desktop 4.15.0 (93002)&quot;},&quot;Components&quot;:[{&quot;Name&quot;:&quot;Engine&quot;,&quot;Version&quot;:&quot;20.10.21&quot;,&quot;Details&quot;:{&quot;ApiVersion&quot;:&quot;1.41&quot;,&quot;Arch&quot;:&quot;amd64&quot;,&quot;BuildTime&quot;:&quot;2022-10-25T18:00:19.000000000+00:00&quot;,&quot;Experimental&quot;:&quot;false&quot;,&quot;GitCommit&quot;:&quot;3056208&quot;,&quot;GoVersion&quot;:&quot;go1.18.7&quot;,&quot;KernelVersion&quot;:&quot;5.15.49-linuxkit&quot;,&quot;MinAPIVersion&quot;:&quot;1.12&quot;,&quot;Os&quot;:&quot;linux&quot;}},{&quot;Name&quot;:&quot;containerd&quot;,&quot;Version&quot;:&quot;1.6.10&quot;,&quot;Details&quot;:{&quot;GitCommit&quot;:&quot;770bd0108c32f3fb5c73ae1264f7e503fe7b2661&quot;}},{&quot;Name&quot;:&quot;runc&quot;,&quot;Version&quot;:&quot;1.1.4&quot;,&quot;Details&quot;:{&quot;GitCommit&quot;:&quot;v1.1.4-0-g5fd4c4d&quot;}},{&quot;Name&quot;:&quot;docker-init&quot;,&quot;Version&quot;:&quot;0.19.0&quot;,&quot;Details&quot;:{&quot;GitCommit&quot;:&quot;de40ad0&quot;}}],&quot;Version&quot;:&quot;20.10.21&quot;,&quot;ApiVersion&quot;:&quot;1.41&quot;,&quot;MinAPIVersion&quot;:&quot;1.12&quot;,&quot;GitCommit&quot;:&quot;3056208&quot;,&quot;GoVersion&quot;:&quot;go1.18.7&quot;,&quot;Os&quot;:&quot;linux&quot;,&quot;Arch&quot;:&quot;amd64&quot;,&quot;KernelVersion&quot;:&quot;5.15.49-linuxkit&quot;,&quot;BuildTime&quot;:&quot;2022-10-25T18:00:19.000000000+00:00&quot;}[\\n]&quot;\n16:56:44.898 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;[\\r][\\n]&quot;\n16:56:44.898 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;0[\\r][\\n]&quot;\n16:56:44.898 [main] DEBUG org.apache.http.wire -  &lt;&lt; &quot;[\\r][\\n]&quot;\n</code></pre>\n<p>And I want to log something like:</p>\n<pre><code>{\n    &quot;url&quot;: &quot;GET /version HTTP/1.1&quot;,\n    &quot;status&quot;: 200,\n    &quot;elapsed_time&quot;: 2630 ,\n    &quot;response&quot;: {\n        &quot;key1&quot;:&quot;value1&quot;,\n        &quot;key2&quot;:&quot;value2&quot;\n    }\n}\n</code></pre>\n<p>I am using IntelliJ Idea, running on macOS (latest).</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9450,"page":773,"page_size":100}
