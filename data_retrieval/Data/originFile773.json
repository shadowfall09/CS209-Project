{"items":[{"tags":["java","logstash","kibana","elk"],"owner":{"account_id":22491235,"reputation":3,"user_id":16688926,"display_name":"Ahmet Tarık Bostan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672230752,"creation_date":1672230708,"question_id":74940290,"body_markdown":"I&#39;m trying to add custom json field into my logstash xml . I&#39;m do this because trying to parse this fields and expecting to see kibana dashboard. So you can see my xml files below , globalSessionId field is my custom field. I&#39;m new at ELK and so confused. I&#39;m loggin somewhere this globalsessionId into my project but the project didn&#39;t even build and throw error. It&#39;s make sense globalSessionId is not a valid word but how can I do this valid ?\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;shutdownHook class=&quot;ch.qos.logback.core.hook.DelayingShutdownHook&quot;/&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;APP_NAME&quot; source=&quot;spring.application.name&quot;/&gt;\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n            &lt;providers&gt;\r\n                &lt;timestamp/&gt;\r\n                &lt;version/&gt;\r\n                &lt;pattern&gt;\r\n                    &lt;pattern&gt;\r\n                        {\r\n                        &quot;logtime&quot;: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS,${TZ}}&quot;,\r\n                        &quot;thread&quot;: &quot;%thread&quot;,\r\n                        &quot;level&quot;: &quot;%level&quot;,\r\n                        &quot;APP_NAME&quot;: &quot;${APP_NAME}&quot;,\r\n                        &quot;msg&quot;: &quot;%message&quot;,\r\n                        &quot;stackTrace&quot;: &quot;%rEx{full}&quot;,\r\n                        &quot;globalSessionId&quot; : &quot;%globalSessionId&quot;\r\n                        }\r\n                    &lt;/pattern&gt;\r\n                &lt;/pattern&gt;\r\n            &lt;/providers&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nAny suggestion would be appreaciated","title":"Logstash Custom JSON Pattern from xml","body":"<p>I'm trying to add custom json field into my logstash xml . I'm do this because trying to parse this fields and expecting to see kibana dashboard. So you can see my xml files below , globalSessionId field is my custom field. I'm new at ELK and so confused. I'm loggin somewhere this globalsessionId into my project but the project didn't even build and throw error. It's make sense globalSessionId is not a valid word but how can I do this valid ?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;shutdownHook class=&quot;ch.qos.logback.core.hook.DelayingShutdownHook&quot;/&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;APP_NAME&quot; source=&quot;spring.application.name&quot;/&gt;\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n            &lt;providers&gt;\n                &lt;timestamp/&gt;\n                &lt;version/&gt;\n                &lt;pattern&gt;\n                    &lt;pattern&gt;\n                        {\n                        &quot;logtime&quot;: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS,${TZ}}&quot;,\n                        &quot;thread&quot;: &quot;%thread&quot;,\n                        &quot;level&quot;: &quot;%level&quot;,\n                        &quot;APP_NAME&quot;: &quot;${APP_NAME}&quot;,\n                        &quot;msg&quot;: &quot;%message&quot;,\n                        &quot;stackTrace&quot;: &quot;%rEx{full}&quot;,\n                        &quot;globalSessionId&quot; : &quot;%globalSessionId&quot;\n                        }\n                    &lt;/pattern&gt;\n                &lt;/pattern&gt;\n            &lt;/providers&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Any suggestion would be appreaciated</p>\n"},{"tags":["java","intellij-idea","java-8"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1430116433,"post_id":29888592,"comment_id":47901076,"body_markdown":"That doesn&#39;t look like an error from &quot;pure Intellij&quot;; aren&#39;t you using an ant buildscript or something?","body":"That doesn&#39;t look like an error from &quot;pure Intellij&quot;; aren&#39;t you using an ant buildscript or something?"},{"owner":{"account_id":61679,"reputation":6211,"user_id":183704,"accept_rate":60,"display_name":"BuZZ-dEE"},"score":6,"creation_date":1440614509,"post_id":29888592,"comment_id":52350960,"body_markdown":"possible duplicate of [IDEA: javac: source release 1.7 requires target release 1.7](http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7\">IDEA: javac: source release 1.7 requires target release 1.7</a>"},{"owner":{"account_id":3178228,"reputation":4984,"user_id":2685581,"display_name":"Ajay Kumar"},"score":0,"creation_date":1503393697,"post_id":29888592,"comment_id":78584806,"body_markdown":"https://stackoverflow.com/a/42993827/2685581","body":"<a href=\"https://stackoverflow.com/a/42993827/2685581\">stackoverflow.com/a/42993827/2685581</a>"}],"answers":[{"tags":[],"owner":{"account_id":1062621,"reputation":8172,"user_id":1063929,"display_name":"Steve Chaloner"},"down_vote_count":0,"up_vote_count":118,"is_accepted":false,"score":118,"last_activity_date":1475735587,"creation_date":1430120188,"answer_id":29889811,"question_id":29888592,"body_markdown":"This looks like the kind of error that Maven generates when you don&#39;t have the compiler plugin configured correctly.  Here&#39;s an example of a Java 8 compiler config.\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;!-- ... --&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n    &lt;!-- ... --&gt;\r\n\r\n    &lt;/project&gt;","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>This looks like the kind of error that Maven generates when you don't have the compiler plugin configured correctly.  Here's an example of a Java 8 compiler config.</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n&lt;!-- ... --&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;!-- ... --&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5172654,"reputation":22240,"user_id":4140711,"accept_rate":100,"display_name":"Weslor"},"down_vote_count":5,"up_vote_count":2059,"is_accepted":true,"score":2054,"last_activity_date":1636155581,"creation_date":1432888307,"answer_id":30524848,"question_id":29888592,"body_markdown":"1. Go to **File &gt; Settings &gt; Build, Execution, Deployment &gt; Compiler &gt; Java Compiler** If on a Mac, it&#39;s under **Intellij IDEA &gt; Preferences... &gt; Build, Execution, Deployment &gt; Java Compiler**\r\n2. Change **Target bytecode version** to **1.8** of the module that you are working for.\r\n\r\n**If you are using Maven**\r\n\r\nAdd the compiler plugin to `pom.xml` under the top-level `project` node:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n(Hoisted from the comments.)\r\n\r\nNote: If you don&#39;t mind reimporting your project, then the only thing you really need to do is change the pom and reimport the project, then IntelliJ will pick up the correct settings and you don&#39;t have to manually change them.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<ol>\n<li>Go to <strong>File &gt; Settings &gt; Build, Execution, Deployment &gt; Compiler &gt; Java Compiler</strong> If on a Mac, it's under <strong>Intellij IDEA &gt; Preferences... &gt; Build, Execution, Deployment &gt; Java Compiler</strong></li>\n<li>Change <strong>Target bytecode version</strong> to <strong>1.8</strong> of the module that you are working for.</li>\n</ol>\n<p><strong>If you are using Maven</strong></p>\n<p>Add the compiler plugin to <code>pom.xml</code> under the top-level <code>project</code> node:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>(Hoisted from the comments.)</p>\n<p>Note: If you don't mind reimporting your project, then the only thing you really need to do is change the pom and reimport the project, then IntelliJ will pick up the correct settings and you don't have to manually change them.</p>\n"},{"tags":[],"owner":{"account_id":5795236,"reputation":2438,"user_id":4708560,"accept_rate":90,"display_name":"Gregory Mazur"},"down_vote_count":1,"up_vote_count":217,"is_accepted":false,"score":216,"last_activity_date":1440165763,"creation_date":1440162325,"answer_id":32141090,"question_id":29888592,"body_markdown":"You need to go to Settings and set under the Java compiler the following:\r\n[![enter image description here][1]][1]\r\n\r\nalso check the Project Settings\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/OW3jL.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>You need to go to Settings and set under the Java compiler the following:\n<a href=\"https://i.stack.imgur.com/OW3jL.png\"><img src=\"https://i.stack.imgur.com/OW3jL.png\" alt=\"enter image description here\"></a></p>\n\n<p>also check the Project Settings</p>\n"},{"tags":[],"owner":{"account_id":5629922,"reputation":1670,"user_id":4457155,"display_name":"Lord Nighton"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1447700469,"creation_date":1447700469,"answer_id":33742637,"question_id":29888592,"body_markdown":"There are two ways to solve this problem:\r\n\r\n 1. Set settings `(File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Java Compiler)`:\r\n[![enter image description here][1]][1]\r\n 2. Add a build section to your `pom.xml`:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4b9of.png\r\n  [2]: http://i.stack.imgur.com/T7B1Z.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>There are two ways to solve this problem:</p>\n\n<ol>\n<li>Set settings <code>(File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Java Compiler)</code>:\n<a href=\"https://i.stack.imgur.com/4b9of.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4b9of.png\" alt=\"enter image description here\"></a></li>\n<li>Add a build section to your <code>pom.xml</code>:\n<a href=\"https://i.stack.imgur.com/T7B1Z.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/T7B1Z.png\" alt=\"enter image description here\"></a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"down_vote_count":0,"up_vote_count":91,"is_accepted":false,"score":91,"last_activity_date":1586805572,"creation_date":1448023531,"answer_id":33827082,"question_id":29888592,"body_markdown":"### The quickest way I found:\r\n - press:&lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;SHIFT&lt;/kbd&gt; + &lt;kbd&gt;A&lt;/kbd&gt; (For Mac &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;SHIFT&lt;/kbd&gt; + &lt;kbd&gt;A&lt;/kbd&gt;)\r\n - type: `java compiler`\r\n - press: &lt;kbd&gt;ENTER&lt;/kbd&gt;\r\n\r\nIn the Settings window, set the Target bytecode to **1.8**\r\n\r\n(or **9** for java9)","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<h3>The quickest way I found:</h3>\n\n<ul>\n<li>press:<kbd>CTRL</kbd> + <kbd>SHIFT</kbd> + <kbd>A</kbd> (For Mac <kbd>⌘</kbd> + <kbd>SHIFT</kbd> + <kbd>A</kbd>)</li>\n<li>type: <code>java compiler</code></li>\n<li>press: <kbd>ENTER</kbd></li>\n</ul>\n\n<p>In the Settings window, set the Target bytecode to <strong>1.8</strong></p>\n\n<p>(or <strong>9</strong> for java9)</p>\n"},{"tags":[],"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1450311603,"creation_date":1450311603,"answer_id":34324604,"question_id":29888592,"body_markdown":"I fixed this by going to **Project Structure** -&gt; **Modules**, find the module in question, click on **Dependencies** tab, change `Module SDK` to `Project SDK`.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>I fixed this by going to <strong>Project Structure</strong> -> <strong>Modules</strong>, find the module in question, click on <strong>Dependencies</strong> tab, change <code>Module SDK</code> to <code>Project SDK</code>.</p>\n"},{"tags":[],"owner":{"account_id":6285065,"reputation":41,"user_id":4884640,"display_name":"user4884640"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452155278,"creation_date":1452155278,"answer_id":34650407,"question_id":29888592,"body_markdown":"I fixed it by modify my POM file. Notice the last comment under the highest voted answer.\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nThe source must matches the target.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>I fixed it by modify my POM file. Notice the last comment under the highest voted answer.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The source must matches the target.</p>\n"},{"tags":[],"owner":{"account_id":1231052,"reputation":983,"user_id":1195632,"display_name":"Cloud"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1453982791,"creation_date":1453982791,"answer_id":35061064,"question_id":29888592,"body_markdown":"In my case I fixed this issue by opening **.iml file** of project (it is located in project root folder and have name same as the name of project) and changing line `&lt;orderEntry type=&quot;jdk&quot; jdkName=&quot;1.7&quot; jdkType=&quot;JavaSDK&quot; /&gt;` to `&lt;orderEntry type=&quot;jdk&quot; jdkName=&quot;1.8&quot; jdkType=&quot;JavaSDK&quot; /&gt;` \r\n\r\n\r\nI had everything configured as in others answers here but by some reason Idea updated .iml file incorrectly.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>In my case I fixed this issue by opening <strong>.iml file</strong> of project (it is located in project root folder and have name same as the name of project) and changing line <code>&lt;orderEntry type=\"jdk\" jdkName=\"1.7\" jdkType=\"JavaSDK\" /&gt;</code> to <code>&lt;orderEntry type=\"jdk\" jdkName=\"1.8\" jdkType=\"JavaSDK\" /&gt;</code> </p>\n\n<p>I had everything configured as in others answers here but by some reason Idea updated .iml file incorrectly.</p>\n"},{"tags":[],"owner":{"account_id":7738376,"reputation":2013,"user_id":5859173,"accept_rate":56,"display_name":"Vishal"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1460405063,"creation_date":1460405063,"answer_id":36558227,"question_id":29888592,"body_markdown":"I fixed it just by changing target compile version to 1.8. Its in:\r\n\r\nFile &gt;&gt; Settings &gt;&gt; Build, Execution, Deployment &gt;&gt; Compiler &gt;&gt; Java Compiler\r\n\r\n","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>I fixed it just by changing target compile version to 1.8. Its in:</p>\n\n<p>File >> Settings >> Build, Execution, Deployment >> Compiler >> Java Compiler</p>\n"},{"tags":[],"owner":{"account_id":2256199,"reputation":591,"user_id":1987338,"display_name":"Marvin Richter"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1481273297,"creation_date":1481273297,"answer_id":41056432,"question_id":29888592,"body_markdown":"Many answers regarding Maven are right but you don&#39;t have to configure the plugin directly.\r\n\r\nLike described on the [wiki page][1] of the Apache Maven Compiler Plugin you can just set the 2 properties used by the plugin.\r\n\r\n    &lt;project&gt;\r\n      [...]\r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n      [...]\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>Many answers regarding Maven are right but you don't have to configure the plugin directly.</p>\n\n<p>Like described on the <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"noreferrer\">wiki page</a> of the Apache Maven Compiler Plugin you can just set the 2 properties used by the plugin.</p>\n\n<pre><code>&lt;project&gt;\n  [...]\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  [...]\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494340726,"creation_date":1494340726,"answer_id":43872794,"question_id":29888592,"body_markdown":"For me, the problem was about Maven not able to find proper configurations, since these items were specified in parent pom.\r\n\r\nChanging File -&gt; Settings -&gt; Build, Excecution, Deployment -&gt; Maven -&gt; User Settings file to point to my custom settings with proper repositories fixed the problem that was otherwise hiding.\r\n\r\nFound out about the problem through Help -&gt; Show log in explorer -&gt; clicking the log file, when previously only got the error in the title and &quot;java.lang.NullPointerException&quot; in the console.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>For me, the problem was about Maven not able to find proper configurations, since these items were specified in parent pom.</p>\n\n<p>Changing File -> Settings -> Build, Excecution, Deployment -> Maven -> User Settings file to point to my custom settings with proper repositories fixed the problem that was otherwise hiding.</p>\n\n<p>Found out about the problem through Help -> Show log in explorer -> clicking the log file, when previously only got the error in the title and \"java.lang.NullPointerException\" in the console.</p>\n"},{"tags":[],"owner":{"account_id":4852136,"reputation":2494,"user_id":3914166,"accept_rate":25,"display_name":"Bachiri Taoufiq Abderrahman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497054975,"creation_date":1497054975,"answer_id":44468378,"question_id":29888592,"body_markdown":"Under compiler.xml  file you will find :\r\n\r\n    &lt;bytecodeTargetLevel&gt;\r\n      &lt;module name=&quot;your_project_name_main&quot; target=&quot;1.8&quot; /&gt;\r\n      &lt;module name=&quot;your_project_name_test&quot; target=&quot;1.8&quot; /&gt;\r\n    &lt;/bytecodeTargetLevel&gt;\r\n\r\nand you can change the target value from your old to the new for me i needed to change it from 1.5 to 1.8 ","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>Under compiler.xml  file you will find :</p>\n\n<pre><code>&lt;bytecodeTargetLevel&gt;\n  &lt;module name=\"your_project_name_main\" target=\"1.8\" /&gt;\n  &lt;module name=\"your_project_name_test\" target=\"1.8\" /&gt;\n&lt;/bytecodeTargetLevel&gt;\n</code></pre>\n\n<p>and you can change the target value from your old to the new for me i needed to change it from 1.5 to 1.8 </p>\n"},{"tags":[],"owner":{"account_id":8100982,"reputation":1,"user_id":6104006,"display_name":"Axmedbek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1497439082,"creation_date":1497439082,"answer_id":44543258,"question_id":29888592,"body_markdown":"**Solution of the problem is very simple**.You have to open **.idea/compiler.xml** file on your İdea Project and \r\n\r\n**You should write appropriate target version**\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wmiOu.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p><strong>Solution of the problem is very simple</strong>.You have to open <strong>.idea/compiler.xml</strong> file on your İdea Project and </p>\n\n<p><strong>You should write appropriate target version</strong></p>\n"},{"tags":[],"owner":{"account_id":940893,"reputation":6928,"user_id":968988,"accept_rate":79,"display_name":"Nicolas Zozol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499937782,"creation_date":1499937782,"answer_id":45076494,"question_id":29888592,"body_markdown":"With **Intellij**, using **Maven**, you must check that Intellij has auto-imported your project. \r\nYou can check by clicking on the Maven tab on the right of your Editor.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf your Project is not here, then add the `pom.xml` file by clicking on `+`.\r\n\r\nObviously, the project must also have the relevant `&lt;build/&gt;` :\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/yA1Zf.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>With <strong>Intellij</strong>, using <strong>Maven</strong>, you must check that Intellij has auto-imported your project. \nYou can check by clicking on the Maven tab on the right of your Editor.</p>\n\n<p><a href=\"https://i.stack.imgur.com/yA1Zf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yA1Zf.png\" alt=\"enter image description here\"></a></p>\n\n<p>If your Project is not here, then add the <code>pom.xml</code> file by clicking on <code>+</code>.</p>\n\n<p>Obviously, the project must also have the relevant <code>&lt;build/&gt;</code> :</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8044424,"reputation":1599,"user_id":6065032,"accept_rate":60,"display_name":"B.shruti"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510040395,"creation_date":1510035801,"answer_id":47151247,"question_id":29888592,"body_markdown":"If you are working with Android-studio 1.3, Follow the below steps -\r\n\r\nGo to **File** - **Project Structure**\r\n\r\nUnder **modules**- **app**-**Properties** tab, choose\r\n**Source Compatibility** -**1.8**  and\r\n\r\n**Target Compatibility** - **1.8**.\r\n\r\nAnd you  are good to go.\r\n","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>If you are working with Android-studio 1.3, Follow the below steps -</p>\n\n<p>Go to <strong>File</strong> - <strong>Project Structure</strong></p>\n\n<p>Under <strong>modules</strong>- <strong>app</strong>-<strong>Properties</strong> tab, choose\n<strong>Source Compatibility</strong> -<strong>1.8</strong>  and</p>\n\n<p><strong>Target Compatibility</strong> - <strong>1.8</strong>.</p>\n\n<p>And you  are good to go.</p>\n"},{"tags":[],"owner":{"account_id":7507798,"reputation":883,"user_id":5703813,"accept_rate":62,"display_name":"Muhammad Usman"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1563453495,"creation_date":1510808153,"answer_id":47321896,"question_id":29888592,"body_markdown":"You need to go to the `/.idea/compiler.xml` and change `target` to required `jdk` level.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WNe7s.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>You need to go to the <code>/.idea/compiler.xml</code> and change <code>target</code> to required <code>jdk</code> level.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WNe7s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WNe7s.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":440674,"reputation":555,"user_id":830374,"accept_rate":88,"display_name":"dzimney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514135826,"creation_date":1514135826,"answer_id":47962585,"question_id":29888592,"body_markdown":"**If none of the other answers work, check your Module SDK**.\r\n\r\nI had this error pop up for me after I had updated the project SDK to 1.8, the Javac compiler to 1.8, etc. The setting that was the problem for me was the &quot;Module SDK&quot;.\r\n\r\n(on Linux) Go to `File &gt; Project Structure...` then in the window that opens, select `Modules` under `Project Settings`. Select the module in question from the list and then the `Dependencies` tab and make sure that `Module SDK` is set appropriately.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p><strong>If none of the other answers work, check your Module SDK</strong>.</p>\n\n<p>I had this error pop up for me after I had updated the project SDK to 1.8, the Javac compiler to 1.8, etc. The setting that was the problem for me was the \"Module SDK\".</p>\n\n<p>(on Linux) Go to <code>File &gt; Project Structure...</code> then in the window that opens, select <code>Modules</code> under <code>Project Settings</code>. Select the module in question from the list and then the <code>Dependencies</code> tab and make sure that <code>Module SDK</code> is set appropriately.</p>\n"},{"tags":[],"owner":{"account_id":11719268,"reputation":1687,"user_id":8578684,"display_name":"snap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525336775,"creation_date":1525336775,"answer_id":50150575,"question_id":29888592,"body_markdown":"I have checked all of the above but the error still occurs.\r\n\r\nBut reimport all maven Projects (reload button inside Maven Projects panel) works in my case.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>I have checked all of the above but the error still occurs.</p>\n\n<p>But reimport all maven Projects (reload button inside Maven Projects panel) works in my case.</p>\n"},{"tags":[],"owner":{"account_id":4197695,"reputation":501,"user_id":3438692,"display_name":"thunder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526572486,"creation_date":1526572486,"answer_id":50395781,"question_id":29888592,"body_markdown":"I&#39;ve just spent a while struggling with the same problem. \r\nThe only thing that worked for me was not using the built mvn (3.3.9) but pointing it to an external downloaded version (3.5.0). Finally the project opened and everything was good. ","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>I've just spent a while struggling with the same problem. \nThe only thing that worked for me was not using the built mvn (3.3.9) but pointing it to an external downloaded version (3.5.0). Finally the project opened and everything was good. </p>\n"},{"tags":[],"owner":{"account_id":1057900,"reputation":3185,"user_id":1060208,"display_name":"Hieu Vo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528877717,"creation_date":1528877717,"answer_id":50832270,"question_id":29888592,"body_markdown":"Don&#39;t forget to set dependencies for your module:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UHjwL.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>Don't forget to set dependencies for your module:\n<a href=\"https://i.stack.imgur.com/UHjwL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UHjwL.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":10533928,"reputation":43,"user_id":7762429,"display_name":"Pham Hung"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531975256,"creation_date":1531961339,"answer_id":51412814,"question_id":29888592,"body_markdown":"I just re-import maven button, then the error disappeared.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Or08.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>I just re-import maven button, then the error disappeared.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9Or08.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Or08.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2731050,"reputation":2041,"user_id":2354845,"display_name":"Badr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1544462468,"creation_date":1544462468,"answer_id":53710586,"question_id":29888592,"body_markdown":"In your Gradle app level file  &gt;&gt; compileOptions add this two lines\r\n\r\n    android {\r\n      compileOptions {\r\n        ...\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n        ...\r\n       }\r\n    }","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>In your Gradle app level file  >> compileOptions add this two lines</p>\n\n<pre><code>android {\n  compileOptions {\n    ...\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n    ...\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7802687,"reputation":422,"user_id":5901503,"display_name":"Gani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556516245,"creation_date":1556516245,"answer_id":55897526,"question_id":29888592,"body_markdown":"This issue occurs if your module is configured with Annotation processor and other module is not.Set the same configuration for all the modules as it wold be cyclic dependency.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>This issue occurs if your module is configured with Annotation processor and other module is not.Set the same configuration for all the modules as it wold be cyclic dependency.</p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646254168,"creation_date":1646254168,"answer_id":71328962,"question_id":29888592,"body_markdown":"the below code working fine by my side. I just add it in the **`pom.xml`** file. \r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>the below code working fine by my side. I just add it in the <strong><code>pom.xml</code></strong> file.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11807439,"reputation":83,"user_id":8639595,"display_name":"c4da"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672230669,"creation_date":1672230669,"answer_id":74940277,"question_id":29888592,"body_markdown":"The only thing that helped me was to delete .idea/compiler.xml file.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>The only thing that helped me was to delete .idea/compiler.xml file.</p>\n"}],"owner":{"account_id":5131784,"reputation":15928,"user_id":4111710,"accept_rate":49,"display_name":"Hobbyist"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512938,"favorite_count":0,"down_vote_count":1,"up_vote_count":964,"accepted_answer_id":30524848,"answer_count":25,"score":963,"last_activity_date":1672230669,"creation_date":1430115868,"question_id":29888592,"body_markdown":"Using IntelliJ IDE can&#39;t compile any projects. Screenshots of settings below:\r\n\r\nUsed JDK:\r\n\r\n[![http://gyazo.com/b6e32119af7b04090d890cad04db6373][1]][1]\r\n\r\nProject SDK and Language level:\r\n\r\n[![http://gyazo.com/55a5fc9f7f2bb721a04780ce9d74eeab][2]][2]\r\n\r\nLanguage Level:\r\n\r\n[![http://gyazo.com/143bffad63fd89cafc231298729df2fc][3]][3]\r\n\r\nAnybody have any ideas?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/cpggk.png\r\n  [2]: http://i.stack.imgur.com/0gEQl.png\r\n  [3]: http://i.stack.imgur.com/8z6A4.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>Using IntelliJ IDE can't compile any projects. Screenshots of settings below:</p>\n\n<p>Used JDK:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cpggk.png\"><img src=\"https://i.stack.imgur.com/cpggk.png\" alt=\"http://gyazo.com/b6e32119af7b04090d890cad04db6373\"></a></p>\n\n<p>Project SDK and Language level:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0gEQl.png\"><img src=\"https://i.stack.imgur.com/0gEQl.png\" alt=\"http://gyazo.com/55a5fc9f7f2bb721a04780ce9d74eeab\"></a></p>\n\n<p>Language Level:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8z6A4.png\"><img src=\"https://i.stack.imgur.com/8z6A4.png\" alt=\"http://gyazo.com/143bffad63fd89cafc231298729df2fc\"></a></p>\n\n<p>Anybody have any ideas?</p>\n"},{"tags":["java","volatile"],"comments":[{"owner":{"account_id":20167003,"reputation":344,"user_id":14790684,"display_name":"Al-Anazi"},"score":1,"creation_date":1672135240,"post_id":74927498,"comment_id":132226355,"body_markdown":"short answer yes, since this assignment is an [atomic access](https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html).","body":"short answer yes, since this assignment is an <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\" rel=\"nofollow noreferrer\">atomic access</a>."},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1672227174,"post_id":74927498,"comment_id":132245623,"body_markdown":"@Mr.Typo Thank you for the comment. Your short comment with a link deserves a whole answer.","body":"@Mr.Typo Thank you for the comment. Your short comment with a link deserves a whole answer."}],"answers":[{"tags":[],"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672230393,"creation_date":1672142647,"answer_id":74929032,"question_id":74927498,"body_markdown":"When a variable is created and used, it also exists in a cache. This cache isn&#39;t always in sync especially when you are using multiple threads.  When you mark a variable as `volatile`, you are telling the system that the cache has to be updated immediately so that anyone else using it will have the updated value.\r\n\r\nI’m addition the keyword volatile is still valid in modern programming languages and is used to indicate that a variable may be modified by multiple threads or processes concurrently. This is especially important in programs that use shared memory or memory-mapped I/O.\r\n\r\nWhen a variable is declared as volatile, the compiler and processor are instructed to treat it with a higher level of caution and to avoid certain optimizations that might interfere with the correct operation of the program. For example, the compiler might be prevented from caching the value of the variable in a register or from reordering instructions that access the variable.\r\n\r\nOne reason why the volatile keyword is still important today is that modern processors often use techniques such as out-of-order execution and speculative execution to improve performance. These techniques can cause the processor to execute instructions in a different order than the order in which they appear in the code, which can lead to unexpected behavior if the programmer is not careful. The volatile keyword can be used to prevent such optimizations from occurring on a particular variable, ensuring that the variable is accessed in a predictable way.\r\n\r\nIn summary, the volatile keyword is still relevant today because it allows programmers to control how variables are accessed and modified in multithreaded or concurrent programs, which is an important consideration when writing high-performance code that executes on modern processors.","title":"Can I update other object&#39;s volatile variable directly?","body":"<p>When a variable is created and used, it also exists in a cache. This cache isn't always in sync especially when you are using multiple threads.  When you mark a variable as <code>volatile</code>, you are telling the system that the cache has to be updated immediately so that anyone else using it will have the updated value.</p>\n<p>I’m addition the keyword volatile is still valid in modern programming languages and is used to indicate that a variable may be modified by multiple threads or processes concurrently. This is especially important in programs that use shared memory or memory-mapped I/O.</p>\n<p>When a variable is declared as volatile, the compiler and processor are instructed to treat it with a higher level of caution and to avoid certain optimizations that might interfere with the correct operation of the program. For example, the compiler might be prevented from caching the value of the variable in a register or from reordering instructions that access the variable.</p>\n<p>One reason why the volatile keyword is still important today is that modern processors often use techniques such as out-of-order execution and speculative execution to improve performance. These techniques can cause the processor to execute instructions in a different order than the order in which they appear in the code, which can lead to unexpected behavior if the programmer is not careful. The volatile keyword can be used to prevent such optimizations from occurring on a particular variable, ensuring that the variable is accessed in a predictable way.</p>\n<p>In summary, the volatile keyword is still relevant today because it allows programmers to control how variables are accessed and modified in multithreaded or concurrent programs, which is an important consideration when writing high-performance code that executes on modern processors.</p>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74929032,"answer_count":1,"score":0,"last_activity_date":1672230393,"creation_date":1672132492,"question_id":74927498,"body_markdown":"Say I have an object looks like this.\r\n\r\n```java\r\nclass Some {\r\n\r\n    synchronized void some() {\r\n        // do some with canceled\r\n    }\r\n\r\n    synchronized void setAsCanceled() {\r\n        canceled = true;\r\n    }\r\n\r\n    volatile boolean canceled = false; // package-private\r\n}\r\n```\r\n\r\nNow another object may update the `canceled`.\r\n\r\n```java\r\nclass Other {\r\n\r\n    void setSomeAsCanceled() {\r\n        some.canceled = true; // Not calling the setAsCanceled()\r\n    }\r\n\r\n    private Some some = new Some();\r\n}\r\n```\r\n\r\nIs it safe to update the `canceled` **volatile** variable directly? Or should I call the `setAsCanceled()` method?","title":"Can I update other object&#39;s volatile variable directly?","body":"<p>Say I have an object looks like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Some {\n\n    synchronized void some() {\n        // do some with canceled\n    }\n\n    synchronized void setAsCanceled() {\n        canceled = true;\n    }\n\n    volatile boolean canceled = false; // package-private\n}\n</code></pre>\n<p>Now another object may update the <code>canceled</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Other {\n\n    void setSomeAsCanceled() {\n        some.canceled = true; // Not calling the setAsCanceled()\n    }\n\n    private Some some = new Some();\n}\n</code></pre>\n<p>Is it safe to update the <code>canceled</code> <strong>volatile</strong> variable directly? Or should I call the <code>setAsCanceled()</code> method?</p>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1672229999,"creation_date":1672229999,"answer_id":74940183,"question_id":74939842,"body_markdown":"You can use [`Mono.zip`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zip-reactor.core.publisher.Mono-reactor.core.publisher.Mono-) to aggreate the results of multiple `Mono`s into a single one that will be fulfilled when all of the given Monos have produced an item.\r\n\r\n```java\r\npublic final class OrderResponse {\r\n    private final Book book;\r\n    private final Container container;\r\n\r\n    public OrderResponse(Book book, Container container) {\r\n        this.book = book;\r\n        this.container = container;\r\n    }\r\n\r\n    // ...\r\n}\r\n\r\npublic Mono&lt;OrderResponse&gt; getProductById(Integer id) {\r\n    // replace these lines with your actual calls\r\n    Mono&lt;Book&gt; bookMono = Mono.just(new Book(1, &quot;Book 1&quot;, 1L));\r\n    Mono&lt;Container&gt; containerMono = Mono.just(new Container(&quot;A&quot;, &quot;B&quot;));\r\n\r\n    return Mono.zip(bookMono, containerMono)\r\n            .map(tuple -&gt; new OrderResponse(tuple.getT1(), tuple.getT2()));\r\n}\r\n```\r\n\r\nIf you want to return a `OrderResponse` object directly instead of it being wrapped in a `Mono`, you can check out the [`Mono#block`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#block--) method.","title":"How to merge two different Mono to produce final response in java reactive","body":"<p>You can use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zip-reactor.core.publisher.Mono-reactor.core.publisher.Mono-\" rel=\"nofollow noreferrer\"><code>Mono.zip</code></a> to aggreate the results of multiple <code>Mono</code>s into a single one that will be fulfilled when all of the given Monos have produced an item.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class OrderResponse {\n    private final Book book;\n    private final Container container;\n\n    public OrderResponse(Book book, Container container) {\n        this.book = book;\n        this.container = container;\n    }\n\n    // ...\n}\n\npublic Mono&lt;OrderResponse&gt; getProductById(Integer id) {\n    // replace these lines with your actual calls\n    Mono&lt;Book&gt; bookMono = Mono.just(new Book(1, &quot;Book 1&quot;, 1L));\n    Mono&lt;Container&gt; containerMono = Mono.just(new Container(&quot;A&quot;, &quot;B&quot;));\n\n    return Mono.zip(bookMono, containerMono)\n            .map(tuple -&gt; new OrderResponse(tuple.getT1(), tuple.getT2()));\n}\n</code></pre>\n<p>If you want to return a <code>OrderResponse</code> object directly instead of it being wrapped in a <code>Mono</code>, you can check out the <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#block--\" rel=\"nofollow noreferrer\"><code>Mono#block</code></a> method.</p>\n"}],"owner":{"account_id":16500264,"reputation":289,"user_id":11921751,"display_name":"Abdullah Imran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672229999,"creation_date":1672227861,"question_id":74939842,"body_markdown":"\r\nIn getProductById method I am trying to construct ```Mono&lt;OrderResponse&gt;``` from\r\n```Mono&lt;Book&gt;``` and ```Mono&lt;Container&gt;``` like shown below. The issue is response structure what this method is returning different from what I should get.  \r\n\r\n```\r\n public Mono&lt;OrderResponse&gt; getProductById(Integer id) {\r\n\r\n        Mono&lt;Book&gt; monoBook=Mono.just(id).\r\n            flatMap(ops.service(BookingDomainService.class)::getProductById);\r\n\r\n        Mono&lt;Container&gt; monoCon=Mono.just(id).\r\n            flatMap(ops.service(BookingDomainService.class)::getContainerById);\r\n\r\n        OrderResponse or=new OrderResponse(monoBook,monoCon);\r\n        return Mono.just(or);\r\n    }\r\n\r\n```\r\nStructure of BOOK, Container and Response class are below.\r\n\r\n```\r\nMy Book Class :\r\n\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@Builder\r\n@NoArgsConstructor\r\npublic class Book implements Serializable {\r\n\t@Id\r\n\tprivate Integer id;\r\n\r\n\t@Column\r\n\tprivate String name;\r\n\r\n\t@Column\r\n\tprivate Long price;\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nContainer Class:\r\n\r\n\r\npublic class Container {\r\n  private String containerName;\r\n  private String description;\r\n\r\n  public String getContainerName() {\r\n    return containerName;\r\n  }\r\n\r\n  public void setContainerName(String containerName) {\r\n    this.containerName = containerName;\r\n  }\r\n\r\n  public String getDescription() {\r\n    return description;\r\n  }\r\n\r\n  public void setDescription(String description) {\r\n    this.description = description;\r\n  }\r\n}\r\n```\r\n\r\n```\r\n\r\nMy Response class:\r\n\r\n\r\npublic class OrderResponse {\r\n  private Mono&lt;Book&gt; orderMono;\r\n  private Mono&lt;Container&gt; orderContainerMono;\r\n\r\n  public Mono&lt;Book&gt; getOrderMono() {\r\n    return orderMono;\r\n  }\r\n\r\n  public void setOrderMono(Mono&lt;Book&gt; orderMono) {\r\n    this.orderMono = orderMono;\r\n  }\r\n\r\n  public Mono&lt;Container&gt; getOrderContainerMono() {\r\n    return orderContainerMono;\r\n  }\r\n\r\n  public void setOrderContainerMono(\r\n      Mono&lt;Container&gt; orderContainerMono) {\r\n    this.orderContainerMono = orderContainerMono;\r\n  }\r\n\r\n  public OrderResponse(Mono&lt;Book&gt; orderMono, Mono&lt;Container&gt; orderContainerMono) {\r\n    this.orderMono = orderMono;\r\n    this.orderContainerMono = orderContainerMono;\r\n  }\r\n}\r\n```\r\n\r\nFinal response that is being formed from method ```getProductById(Integer id)``` is\r\n\r\n```\r\n{\r\n    &quot;orderMono&quot;: {\r\n        &quot;scanAvailable&quot;: true\r\n    },\r\n    &quot;orderContainerMono&quot;: {\r\n        &quot;scanAvailable&quot;: true\r\n    }\r\n}\r\n\r\n```\r\n\r\nbut I need final response as:\r\n\r\nI need final response as below json. How to achieve it.\r\n\r\n```\r\nResponse:\r\n{\r\n  &quot;Book&quot;: {\r\n    &quot;id&quot;: 12,\r\n    &quot;name&quot;: &quot;pn&quot;,\r\n    &quot;price&quot;: 128\r\n  },\r\n  &quot;Container&quot;: {\r\n    &quot;containerName&quot;: &quot; Cname&quot;,\r\n    &quot;description&quot;: &quot;diesc&quot;\r\n  }\r\n}\r\n```","title":"How to merge two different Mono to produce final response in java reactive","body":"<p>In getProductById method I am trying to construct <code>Mono&lt;OrderResponse&gt;</code> from\n<code>Mono&lt;Book&gt;</code> and <code>Mono&lt;Container&gt;</code> like shown below. The issue is response structure what this method is returning different from what I should get.</p>\n<pre><code> public Mono&lt;OrderResponse&gt; getProductById(Integer id) {\n\n        Mono&lt;Book&gt; monoBook=Mono.just(id).\n            flatMap(ops.service(BookingDomainService.class)::getProductById);\n\n        Mono&lt;Container&gt; monoCon=Mono.just(id).\n            flatMap(ops.service(BookingDomainService.class)::getContainerById);\n\n        OrderResponse or=new OrderResponse(monoBook,monoCon);\n        return Mono.just(or);\n    }\n\n</code></pre>\n<p>Structure of BOOK, Container and Response class are below.</p>\n<pre><code>My Book Class :\n\n\n@Data\n@AllArgsConstructor\n@Builder\n@NoArgsConstructor\npublic class Book implements Serializable {\n    @Id\n    private Integer id;\n\n    @Column\n    private String name;\n\n    @Column\n    private Long price;\n}\n\n</code></pre>\n<pre><code>Container Class:\n\n\npublic class Container {\n  private String containerName;\n  private String description;\n\n  public String getContainerName() {\n    return containerName;\n  }\n\n  public void setContainerName(String containerName) {\n    this.containerName = containerName;\n  }\n\n  public String getDescription() {\n    return description;\n  }\n\n  public void setDescription(String description) {\n    this.description = description;\n  }\n}\n</code></pre>\n<pre><code>\nMy Response class:\n\n\npublic class OrderResponse {\n  private Mono&lt;Book&gt; orderMono;\n  private Mono&lt;Container&gt; orderContainerMono;\n\n  public Mono&lt;Book&gt; getOrderMono() {\n    return orderMono;\n  }\n\n  public void setOrderMono(Mono&lt;Book&gt; orderMono) {\n    this.orderMono = orderMono;\n  }\n\n  public Mono&lt;Container&gt; getOrderContainerMono() {\n    return orderContainerMono;\n  }\n\n  public void setOrderContainerMono(\n      Mono&lt;Container&gt; orderContainerMono) {\n    this.orderContainerMono = orderContainerMono;\n  }\n\n  public OrderResponse(Mono&lt;Book&gt; orderMono, Mono&lt;Container&gt; orderContainerMono) {\n    this.orderMono = orderMono;\n    this.orderContainerMono = orderContainerMono;\n  }\n}\n</code></pre>\n<p>Final response that is being formed from method <code>getProductById(Integer id)</code> is</p>\n<pre><code>{\n    &quot;orderMono&quot;: {\n        &quot;scanAvailable&quot;: true\n    },\n    &quot;orderContainerMono&quot;: {\n        &quot;scanAvailable&quot;: true\n    }\n}\n\n</code></pre>\n<p>but I need final response as:</p>\n<p>I need final response as below json. How to achieve it.</p>\n<pre><code>Response:\n{\n  &quot;Book&quot;: {\n    &quot;id&quot;: 12,\n    &quot;name&quot;: &quot;pn&quot;,\n    &quot;price&quot;: 128\n  },\n  &quot;Container&quot;: {\n    &quot;containerName&quot;: &quot; Cname&quot;,\n    &quot;description&quot;: &quot;diesc&quot;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","websocket","proxy","mqtt"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1672043503,"post_id":74911816,"comment_id":132211148,"body_markdown":"nginx reverse proxy or github ( https://github.com/topics/websocket-proxy)","body":"nginx reverse proxy or github ( <a href=\"https://github.com/topics/websocket-proxy\" rel=\"nofollow noreferrer\">github.com/topics/websocket-proxy</a>)"}],"answers":[{"tags":[],"owner":{"account_id":9483965,"reputation":48,"user_id":7050876,"display_name":"msl12"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672229993,"creation_date":1672063355,"answer_id":74921052,"question_id":74911816,"body_markdown":"By using io.netty.bootstrap.Bootstrap and io.netty.bootstrap.ServerBootstrap, it seems that it can meet my needs.\r\n\r\nI would continue to work on it.\r\n\r\n---\r\n\r\nAnother solution is this: https://stackoverflow.com/questions/74933226","title":"How to make my Java SpringBoot application to proxy MQTT Broker WebSocket 8083 port?","body":"<p>By using io.netty.bootstrap.Bootstrap and io.netty.bootstrap.ServerBootstrap, it seems that it can meet my needs.</p>\n<p>I would continue to work on it.</p>\n<hr />\n<p>Another solution is this: <a href=\"https://stackoverflow.com/questions/74933226\">How to make my Java SpringBoot application to proxy MQTT Broker WebSocket 8083 port?</a></p>\n"}],"owner":{"account_id":9483965,"reputation":48,"user_id":7050876,"display_name":"msl12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672229993,"creation_date":1671949595,"question_id":74911816,"body_markdown":"Let&#39;s suppose we have a Java Spring Boot application called **A**. And we have another MQTT Broker and its 8083 port supports MQTT WebSocket.\r\n\r\nPreviously, the device directly connected to the MQTT Broker&#39;s 8083 port to obtain MQTT WebSocket service. Now, I want the device to connect to the **A** application&#39;s 8083 port (not MQTT Broker anymore) to obtain the MQTT WebSocket service.\r\n\r\nI think **A** application should only be a program that implements TCP proxy, it does not really implement MQTT WebSocket. Which means any TCP packet that device send to **A** application 8083 port, should be sent to MQTT Broker 8083 port. And any TCP packet that MQTT Broker sends, should be sent to the device through **A** application.\r\n\r\nIn other words, I want the device connect to `ws://A_Application_host:8083/mqtt` should just work the same as connecting to `ws://MQTT_Broker_host:8083/mqtt`.\r\n\r\nDo you know any solution or Java code that help me implements this? Any framework or Java code is OK. \r\n\r\n","title":"How to make my Java SpringBoot application to proxy MQTT Broker WebSocket 8083 port?","body":"<p>Let's suppose we have a Java Spring Boot application called <strong>A</strong>. And we have another MQTT Broker and its 8083 port supports MQTT WebSocket.</p>\n<p>Previously, the device directly connected to the MQTT Broker's 8083 port to obtain MQTT WebSocket service. Now, I want the device to connect to the <strong>A</strong> application's 8083 port (not MQTT Broker anymore) to obtain the MQTT WebSocket service.</p>\n<p>I think <strong>A</strong> application should only be a program that implements TCP proxy, it does not really implement MQTT WebSocket. Which means any TCP packet that device send to <strong>A</strong> application 8083 port, should be sent to MQTT Broker 8083 port. And any TCP packet that MQTT Broker sends, should be sent to the device through <strong>A</strong> application.</p>\n<p>In other words, I want the device connect to <code>ws://A_Application_host:8083/mqtt</code> should just work the same as connecting to <code>ws://MQTT_Broker_host:8083/mqtt</code>.</p>\n<p>Do you know any solution or Java code that help me implements this? Any framework or Java code is OK.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":470836,"reputation":330,"user_id":878241,"display_name":"Evgeny Cheryomushkin"},"score":0,"creation_date":1672108080,"post_id":74924804,"comment_id":132222381,"body_markdown":"Can you upload your sources to github and send a link?","body":"Can you upload your sources to github and send a link?"},{"owner":{"account_id":1548452,"reputation":115,"user_id":1441391,"display_name":"goooooooo"},"score":0,"creation_date":1672112323,"post_id":74924804,"comment_id":132222805,"body_markdown":"Can you check: in productRepository, is there any property named &#39;entityManagerFactory&#39; and annotated with Autowired? The class of entityManagerFactory is annotated with a corrective annotation by which Spring can understand and instant the class successfully?","body":"Can you check: in productRepository, is there any property named &#39;entityManagerFactory&#39; and annotated with Autowired? The class of entityManagerFactory is annotated with a corrective annotation by which Spring can understand and instant the class successfully?"},{"owner":{"account_id":15297637,"reputation":67,"user_id":11037145,"display_name":"Turwaith"},"score":0,"creation_date":1672137637,"post_id":74924804,"comment_id":132226881,"body_markdown":"@EvgenyCheryomushkin Sure:\nhttps://github.com/turw41th/mhd_tracker_backend/tree/stackoverflow_question","body":"@EvgenyCheryomushkin Sure: <a href=\"https://github.com/turw41th/mhd_tracker_backend/tree/stackoverflow_question\" rel=\"nofollow noreferrer\">github.com/turw41th/mhd_tracker_backend/tree/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":470836,"reputation":330,"user_id":878241,"display_name":"Evgeny Cheryomushkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672229655,"creation_date":1672229655,"answer_id":74940126,"question_id":74924804,"body_markdown":"Please try to recreate your project using spring initializr:\r\n* add web dependency\r\n* add jpa dependency\r\n* add validation dependency\r\n* add mysql driver\r\n2. pom.xml dependencies will look like this:\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```","title":"How do I resolve this Java Spring: entityManagerFactory Error?","body":"<p>Please try to recreate your project using spring initializr:</p>\n<ul>\n<li>add web dependency</li>\n<li>add jpa dependency</li>\n<li>add validation dependency</li>\n<li>add mysql driver</li>\n</ul>\n<ol start=\"2\">\n<li>pom.xml dependencies will look like this:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":15297637,"reputation":67,"user_id":11037145,"display_name":"Turwaith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672229655,"creation_date":1672099264,"question_id":74924804,"body_markdown":"I&#39;m trying to get my java spring app running, but upon buildung I encounter the following error:\r\n\r\n    Description:\r\n    \r\n    Field productRepository in ch.turwaith.mhd_tracker_backend.ProductController required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\nThe database connection is configured correctly in the application.properties file.\r\nI don&#39;t know any further, how can I resolve this? Please tell me what files you need to see in order to understand what the issue is.","title":"How do I resolve this Java Spring: entityManagerFactory Error?","body":"<p>I'm trying to get my java spring app running, but upon buildung I encounter the following error:</p>\n<pre><code>Description:\n\nField productRepository in ch.turwaith.mhd_tracker_backend.ProductController required a bean named 'entityManagerFactory' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n</code></pre>\n<p>The database connection is configured correctly in the application.properties file.\nI don't know any further, how can I resolve this? Please tell me what files you need to see in order to understand what the issue is.</p>\n"},{"tags":["java","hibernate","rest"],"answers":[{"tags":[],"owner":{"account_id":12508484,"reputation":5,"user_id":9104575,"display_name":"Hawwaru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672229520,"creation_date":1672229520,"answer_id":74940102,"question_id":74938803,"body_markdown":"Why not just create a bidirectional relationship between those entities and use classB to cascade the creation of classA? This way you get the creation/update at once and don&#39;t have to retrieve and set the relations manually.\r\n\r\nAs in your example, you get the id of classA to be created but also class_b_id that you can use to fetch classB instance and proceed with classA creation, that will be attached to classB.","title":"Add Hibernate entity with foreign key","body":"<p>Why not just create a bidirectional relationship between those entities and use classB to cascade the creation of classA? This way you get the creation/update at once and don't have to retrieve and set the relations manually.</p>\n<p>As in your example, you get the id of classA to be created but also class_b_id that you can use to fetch classB instance and proceed with classA creation, that will be attached to classB.</p>\n"}],"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672229520,"creation_date":1672221640,"question_id":74938803,"body_markdown":"I am building a (spring boot) rest service and I seem to have some fundamental misunderstanding of Hibernate and foreign keys or whatever.\r\n\r\nI have two entities:\r\n```\r\n@Entity\r\npublic class ClassA {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;class_b&quot;, nullable = false)\r\n    private ClassB classB;\r\n\r\n  // more properties and getters/setters left out for brevity\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;class_b&quot;)\r\npublic class ClassB {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false, length = 100)\r\n    private String name;\r\n\r\n  // more properties and getters/setters left out for brevity\r\n}\r\n```\r\n\r\nClassA has a foreign key to ClassB. I want my user to be able to give me an instance of classA, e.g.\r\n\r\n```\r\n{ //instance of class A, e.g. via POST\r\n  id: 19,\r\n  class_b_id: 17\r\n}\r\n```\r\n\r\nThat means, I get an id for class A and the id from class B. If I wanted to create an entity of class A and save it in the database I have to retrieve the corresponding instance of class B first, call setClassB(...) and then save the instance to the database.  \r\n\r\nAnd my entity might even have more foreign keys to more entities which I have to retrieve first, including their properties etc. just to save my new entity.  \r\n\r\nIs that the way it is supposed to be? Or do I miss something here? Is there a way to define the entity in a way that I can use the foreign keys the way I get them? (And I don&#39;t mean: &quot;Don&#39;t use hibernate&quot;) Without retrieving other objects first?  \r\n\r\nIt just feels wrong and unnessecary. \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Add Hibernate entity with foreign key","body":"<p>I am building a (spring boot) rest service and I seem to have some fundamental misunderstanding of Hibernate and foreign keys or whatever.</p>\n<p>I have two entities:</p>\n<pre><code>@Entity\npublic class ClassA {\n\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Integer id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;class_b&quot;, nullable = false)\n    private ClassB classB;\n\n  // more properties and getters/setters left out for brevity\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;class_b&quot;)\npublic class ClassB {\n\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Integer id;\n\n    @Column(name = &quot;name&quot;, nullable = false, length = 100)\n    private String name;\n\n  // more properties and getters/setters left out for brevity\n}\n</code></pre>\n<p>ClassA has a foreign key to ClassB. I want my user to be able to give me an instance of classA, e.g.</p>\n<pre><code>{ //instance of class A, e.g. via POST\n  id: 19,\n  class_b_id: 17\n}\n</code></pre>\n<p>That means, I get an id for class A and the id from class B. If I wanted to create an entity of class A and save it in the database I have to retrieve the corresponding instance of class B first, call setClassB(...) and then save the instance to the database.</p>\n<p>And my entity might even have more foreign keys to more entities which I have to retrieve first, including their properties etc. just to save my new entity.</p>\n<p>Is that the way it is supposed to be? Or do I miss something here? Is there a way to define the entity in a way that I can use the foreign keys the way I get them? (And I don't mean: &quot;Don't use hibernate&quot;) Without retrieving other objects first?</p>\n<p>It just feels wrong and unnessecary.</p>\n"},{"tags":["java","spring","spring-boot","kotlin"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1672175283,"post_id":74934053,"comment_id":132236763,"body_markdown":"Micrometer, Grafana, Prometheus, Datadog, New Relic, etc...","body":"Micrometer, Grafana, Prometheus, Datadog, New Relic, etc..."}],"answers":[{"tags":[],"owner":{"account_id":21608305,"reputation":45,"user_id":19835471,"display_name":"Vlad1791"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1672228971,"creation_date":1672175293,"answer_id":74934136,"question_id":74934053,"body_markdown":"Maybe you can use Spring metrics and tracing? https://spring.io/guides/tutorials/metrics-and-tracing/\r\n\r\nAlso might wanna look at Grafana k6 \r\n\r\nhttps://circleci.com/blog/api-performance-testing-with-k6/\r\n\r\nand Micrometer\r\n\r\nhttps://micrometer.io/\r\n\r\nUsing Docker and VM should help you limiting your hardware.","title":"How do you measure performance of spring boot api with limited resources?","body":"<p>Maybe you can use Spring metrics and tracing? <a href=\"https://spring.io/guides/tutorials/metrics-and-tracing/\" rel=\"nofollow noreferrer\">https://spring.io/guides/tutorials/metrics-and-tracing/</a></p>\n<p>Also might wanna look at Grafana k6</p>\n<p><a href=\"https://circleci.com/blog/api-performance-testing-with-k6/\" rel=\"nofollow noreferrer\">https://circleci.com/blog/api-performance-testing-with-k6/</a></p>\n<p>and Micrometer</p>\n<p><a href=\"https://micrometer.io/\" rel=\"nofollow noreferrer\">https://micrometer.io/</a></p>\n<p>Using Docker and VM should help you limiting your hardware.</p>\n"}],"owner":{"account_id":14906661,"reputation":425,"user_id":10763638,"display_name":"FikiCar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1672228480,"accepted_answer_id":74934136,"answer_count":1,"score":0,"last_activity_date":1672228971,"creation_date":1672174570,"question_id":74934053,"body_markdown":"Let&#39;s say we have a monolithic rest API written in Java with Spring Boot. And we want to do some performance analysis on it, how would we go about it?\r\n\r\nThe problem is measuring its performance with custom maximum usage requirements, for example, maximum ram, CPU cores, CPU clock speed, etc.\r\n\r\nKnowing this can be useful, such as predicting cloud and other hosting fees, what is the best way of doing it?\r\n\r\n","title":"How do you measure performance of spring boot api with limited resources?","body":"<p>Let's say we have a monolithic rest API written in Java with Spring Boot. And we want to do some performance analysis on it, how would we go about it?</p>\n<p>The problem is measuring its performance with custom maximum usage requirements, for example, maximum ram, CPU cores, CPU clock speed, etc.</p>\n<p>Knowing this can be useful, such as predicting cloud and other hosting fees, what is the best way of doing it?</p>\n"},{"tags":["java","performance","integer","java.util.scanner","user-input"],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1597334188,"creation_date":1414409525,"answer_id":26586629,"question_id":26586489,"body_markdown":"There are 2 observations : \r\n\r\n1. Using `myScannerInstance.nextInt()` leaves behind a new line character. So, if you call `nextLine()` after `nextInt()`, the `nextLine()` will read the new line character instead of the actual data. Consequently, you will have to add another `nextLine()` after the `nextInt()` to gobble up that *dangling* new-line character. `nextLine()` doesn&#39;t leave behind a new line character. \r\n\r\ncode :\r\n\r\n    int age=myScannerInstance.nextInt();\r\n    String name = myScannerInstance.nextLine();// here the actual name will not be read. The new line character will be read.\r\n\r\n2. `nextInt()` will again go back to the underlying stream and read. IO calls take time (expensive). It will do lot of checks to get the next integer. `nextLine()` will do those checks only once. So, if you call `nextLine()` once and read 5 integers (as a single line String), split them and parse them as integers (using `Integer.parseInt()`), it will be faster and more efficient than reading each int individually. \r\n\r\nUsing `nextLine()` + `parseInt()` will give you enormous performance benefit when you are running a very large loop.\r\n\r\nUsage :\r\n\r\nUsing `nextInt()` gives you an additional advantage wherein you will get an exception if the input text is not an integer. example `123` is accepted.. `123sdsa` will throw an `InputMismatchException`. So, you can catch it and handle it appropriately.\r\n\r\nUsing `nextLine()` will read the entire line, so, it will read the entire String `sada1231` and then fail with `NumberFormatException` if it cannot parse the String as a number. You will have to handle that exception.\r\n\r\nGenerally, one `nextLine()` / `nextInt()` call won&#39;t make much of a difference. If you have a loop or if you are reading lot of data, then using `readLine()` with `parseInt()` will be very efficient.\r\n\r\n","title":"Integer.parseInt(scanner.nextLine()) vs scanner.nextInt()","body":"<p>There are 2 observations :</p>\n<ol>\n<li>Using <code>myScannerInstance.nextInt()</code> leaves behind a new line character. So, if you call <code>nextLine()</code> after <code>nextInt()</code>, the <code>nextLine()</code> will read the new line character instead of the actual data. Consequently, you will have to add another <code>nextLine()</code> after the <code>nextInt()</code> to gobble up that <em>dangling</em> new-line character. <code>nextLine()</code> doesn't leave behind a new line character.</li>\n</ol>\n<p>code :</p>\n<pre><code>int age=myScannerInstance.nextInt();\nString name = myScannerInstance.nextLine();// here the actual name will not be read. The new line character will be read.\n</code></pre>\n<ol start=\"2\">\n<li><code>nextInt()</code> will again go back to the underlying stream and read. IO calls take time (expensive). It will do lot of checks to get the next integer. <code>nextLine()</code> will do those checks only once. So, if you call <code>nextLine()</code> once and read 5 integers (as a single line String), split them and parse them as integers (using <code>Integer.parseInt()</code>), it will be faster and more efficient than reading each int individually.</li>\n</ol>\n<p>Using <code>nextLine()</code> + <code>parseInt()</code> will give you enormous performance benefit when you are running a very large loop.</p>\n<p>Usage :</p>\n<p>Using <code>nextInt()</code> gives you an additional advantage wherein you will get an exception if the input text is not an integer. example <code>123</code> is accepted.. <code>123sdsa</code> will throw an <code>InputMismatchException</code>. So, you can catch it and handle it appropriately.</p>\n<p>Using <code>nextLine()</code> will read the entire line, so, it will read the entire String <code>sada1231</code> and then fail with <code>NumberFormatException</code> if it cannot parse the String as a number. You will have to handle that exception.</p>\n<p>Generally, one <code>nextLine()</code> / <code>nextInt()</code> call won't make much of a difference. If you have a loop or if you are reading lot of data, then using <code>readLine()</code> with <code>parseInt()</code> will be very efficient.</p>\n"},{"tags":[],"owner":{"account_id":2819513,"reputation":479,"user_id":2423578,"accept_rate":75,"display_name":"Payam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414409753,"creation_date":1414409753,"answer_id":26586689,"question_id":26586489,"body_markdown":"nextInt() reads a number, but doesn’t consume line separator. While nextLine() reads the String and consumes the new-line character. According to [Java Docs](http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()):\r\n\r\n&gt; … This method returns the rest of the current line, excluding any line\r\n&gt; separator at the end. The position is set to the beginning of the next\r\n&gt; line.\r\n\r\nIn other words when you enter a number then press Enter, input.nextInt() consumes only the number, not the &quot;end of line&quot;, primitive data types like int, double etc does not consume &quot;end of line&quot;, due which this &quot;end of line&quot; remain in buffer ane When input.next() executes, it consumes the &quot;end of line&quot; from buffer from the first input. So you professor is trying to get to the next line after he reads the user input. You have to look at the logic of his codes only then you can understand it.","title":"Integer.parseInt(scanner.nextLine()) vs scanner.nextInt()","body":"<p>nextInt() reads a number, but doesn’t consume line separator. While nextLine() reads the String and consumes the new-line character. According to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()\" rel=\"nofollow\">Java Docs</a>:</p>\n\n<blockquote>\n  <p>… This method returns the rest of the current line, excluding any line\n  separator at the end. The position is set to the beginning of the next\n  line.</p>\n</blockquote>\n\n<p>In other words when you enter a number then press Enter, input.nextInt() consumes only the number, not the \"end of line\", primitive data types like int, double etc does not consume \"end of line\", due which this \"end of line\" remain in buffer ane When input.next() executes, it consumes the \"end of line\" from buffer from the first input. So you professor is trying to get to the next line after he reads the user input. You have to look at the logic of his codes only then you can understand it.</p>\n"},{"tags":[],"owner":{"account_id":6149803,"reputation":21,"user_id":6580262,"display_name":"Sanoaf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496852558,"creation_date":1496852558,"answer_id":44418075,"question_id":26586489,"body_markdown":"I also used to face this problem often. So i use to code like this..\r\n\r\n    public static void main(String[] args) {\r\n\t\tScanner key= new Scanner(System.in);\r\n    \tString name;\r\n    \tint    age;\r\n    \tage = key.nextInt();\r\n    \tkey.nextLine();\r\n    \tname = key.nextLine();  //to carry the new line character left behind nextInt()\r\n    \tSystem.out.println(&quot;Age : &quot;+age);\r\n\t    System.out.println(&quot;Name: &quot;+name);\r\n\t}\r\n\r\nhere as the `key.nextInt()` leaves a new line character we are using `key.nextLine()` to carry the new Line character and then move to the nextline where the actual data is present. As we discussed above using `Integer.parseInt()` will be more efficient than using `nextInt()`. But this is also one of the way to code to overcome the problem.","title":"Integer.parseInt(scanner.nextLine()) vs scanner.nextInt()","body":"<p>I also used to face this problem often. So i use to code like this..</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner key= new Scanner(System.in);\n    String name;\n    int    age;\n    age = key.nextInt();\n    key.nextLine();\n    name = key.nextLine();  //to carry the new line character left behind nextInt()\n    System.out.println(\"Age : \"+age);\n    System.out.println(\"Name: \"+name);\n}\n</code></pre>\n\n<p>here as the <code>key.nextInt()</code> leaves a new line character we are using <code>key.nextLine()</code> to carry the new Line character and then move to the nextline where the actual data is present. As we discussed above using <code>Integer.parseInt()</code> will be more efficient than using <code>nextInt()</code>. But this is also one of the way to code to overcome the problem.</p>\n"},{"tags":[],"owner":{"account_id":17251809,"reputation":11,"user_id":12491841,"display_name":"joinmac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672228799,"creation_date":1672228625,"answer_id":74939978,"question_id":26586489,"body_markdown":"`nextInt()` leaves behind a new line character. So, if you call `nextLine()` after `nextInt()` , the `nextLine()` will read the new line character instead of the actual data. Consequently, you will have to add another `nextLine()` after the `nextInt()` to gobble up that dangling new-line character.\r\n\r\n```\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int i = scan.nextInt();\r\n        double d = scan.nextDouble();\r\n        scan.nextLine();\r\n        String s = scan.nextLine();\r\n    \r\n        scan.close();\r\n\r\n\r\n        System.out.println(&quot;String: &quot; + s);\r\n        System.out.println(&quot;Double: &quot; + d);\r\n        System.out.println(&quot;Int: &quot; + i);\r\n    }\r\n}\r\n\r\n```","title":"Integer.parseInt(scanner.nextLine()) vs scanner.nextInt()","body":"<p><code>nextInt()</code> leaves behind a new line character. So, if you call <code>nextLine()</code> after <code>nextInt()</code> , the <code>nextLine()</code> will read the new line character instead of the actual data. Consequently, you will have to add another <code>nextLine()</code> after the <code>nextInt()</code> to gobble up that dangling new-line character.</p>\n<pre><code>public class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int i = scan.nextInt();\n        double d = scan.nextDouble();\n        scan.nextLine();\n        String s = scan.nextLine();\n    \n        scan.close();\n\n\n        System.out.println(&quot;String: &quot; + s);\n        System.out.println(&quot;Double: &quot; + d);\n        System.out.println(&quot;Int: &quot; + i);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":2181574,"reputation":2045,"user_id":1930935,"accept_rate":83,"display_name":"Olavi Mustanoja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61236,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":26586629,"answer_count":4,"score":10,"last_activity_date":1672228799,"creation_date":1414409067,"question_id":26586489,"body_markdown":"My professor tends to do the following to get a number from the user:\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    Integer.parseInt(scanner.nextLine());\r\n\r\nWhat are the benefits as opposed to simply doing `scanner.nextInt()` ?\r\n\r\n`java.util.Scanner.java` has the following in it:\r\n\r\n    public int nextInt() {\r\n        return nextInt(defaultRadix);\r\n    }\r\n\r\n    public int nextInt(int radix) {\r\n        // Check cached result\r\n        if ((typeCache != null) &amp;&amp; (typeCache instanceof Integer)\r\n            &amp;&amp; this.radix == radix) {\r\n            int val = ((Integer)typeCache).intValue();\r\n            useTypeCache();\r\n            return val;\r\n        }\r\n        setRadix(radix);\r\n        clearCaches();\r\n        // Search for next int\r\n        try {\r\n            String s = next(integerPattern());\r\n            if (matcher.group(SIMPLE_GROUP_INDEX) == null)\r\n                s = processIntegerToken(s);\r\n            return Integer.parseInt(s, radix);\r\n        } catch (NumberFormatException nfe) {\r\n            position = matcher.start(); // don&#39;t skip bad token\r\n            throw new InputMismatchException(nfe.getMessage());\r\n        }\r\n    }\r\n\r\nAs I see it, `Scanner` calls Integer.parseInt() itself as well, on top of additional hocus pocus. Are there significant performance gains in doing simply `Integer.parseInt(scanner.nextLine())` ? Are there on the other hand any drawbacks?\r\n\r\nHow about when scanning through a file with significant amount of data, and not a user input?","title":"Integer.parseInt(scanner.nextLine()) vs scanner.nextInt()","body":"<p>My professor tends to do the following to get a number from the user:</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\nInteger.parseInt(scanner.nextLine());\n</code></pre>\n\n<p>What are the benefits as opposed to simply doing <code>scanner.nextInt()</code> ?</p>\n\n<p><code>java.util.Scanner.java</code> has the following in it:</p>\n\n<pre><code>public int nextInt() {\n    return nextInt(defaultRadix);\n}\n\npublic int nextInt(int radix) {\n    // Check cached result\n    if ((typeCache != null) &amp;&amp; (typeCache instanceof Integer)\n        &amp;&amp; this.radix == radix) {\n        int val = ((Integer)typeCache).intValue();\n        useTypeCache();\n        return val;\n    }\n    setRadix(radix);\n    clearCaches();\n    // Search for next int\n    try {\n        String s = next(integerPattern());\n        if (matcher.group(SIMPLE_GROUP_INDEX) == null)\n            s = processIntegerToken(s);\n        return Integer.parseInt(s, radix);\n    } catch (NumberFormatException nfe) {\n        position = matcher.start(); // don't skip bad token\n        throw new InputMismatchException(nfe.getMessage());\n    }\n}\n</code></pre>\n\n<p>As I see it, <code>Scanner</code> calls Integer.parseInt() itself as well, on top of additional hocus pocus. Are there significant performance gains in doing simply <code>Integer.parseInt(scanner.nextLine())</code> ? Are there on the other hand any drawbacks?</p>\n\n<p>How about when scanning through a file with significant amount of data, and not a user input?</p>\n"},{"tags":["java","if-statement","arraylist"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":3,"creation_date":1672216859,"post_id":74937945,"comment_id":132243118,"body_markdown":"&quot;it seems to be giving me some error&quot; could you add the error ?","body":"&quot;it seems to be giving me some error&quot; could you add the error ?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1672216967,"post_id":74937945,"comment_id":132243140,"body_markdown":"a `java.util.Date` is a lie; it does not represent a date at all (it represents an instant in time, which is particularly problematic, given that the &#39;date&#39; at which some instant in time occurs, is not an answerable question unless you add a timezone into the mix). The correct data type is `LocalDateTime`, or possibly `ZonedDateTime`, which replaces both `String time;` and `Date date;`. Separate from that, as jhamon said, we can&#39;t answer your specific issue unless you include the error.","body":"a <code>java.util.Date</code> is a lie; it does not represent a date at all (it represents an instant in time, which is particularly problematic, given that the &#39;date&#39; at which some instant in time occurs, is not an answerable question unless you add a timezone into the mix). The correct data type is <code>LocalDateTime</code>, or possibly <code>ZonedDateTime</code>, which replaces both <code>String time;</code> and <code>Date date;</code>. Separate from that, as jhamon said, we can&#39;t answer your specific issue unless you include the error."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1672217215,"post_id":74937945,"comment_id":132243202,"body_markdown":"Unrelated but, regarding your cases, is it necessay to check the appointment time if you already know the date is different (case 3 and 4)?\nAnd don&#39;t forget to update the label in case the doctor has no appointment at all.\nAlso, you are settting the valuie of the label for **each** iteration of the loop which could get you a wrong result in the end","body":"Unrelated but, regarding your cases, is it necessay to check the appointment time if you already know the date is different (case 3 and 4)? And don&#39;t forget to update the label in case the doctor has no appointment at all. Also, you are settting the valuie of the label for <b>each</b> iteration of the loop which could get you a wrong result in the end"},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1672217331,"post_id":74937945,"comment_id":132243232,"body_markdown":"Another point of view it looks like youre i..else statements gives the same result even the first. So in the first else statement you need only check licenceNo. .. and what if licenceNo does not equals?","body":"Another point of view it looks like youre i..else statements gives the same result even the first. So in the first else statement you need only check licenceNo. .. and what if licenceNo does not equals?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1672267102,"post_id":74937945,"comment_id":132256449,"body_markdown":"Please try to solve your homework problem on your own first, and include these attempts in your question. As is, it looks a lot like you expect us to do your homework for you.","body":"Please try to solve your homework problem on your own first, and include these attempts in your question. As is, it looks a lot like you expect us to do your homework for you."}],"answers":[{"tags":[],"owner":{"account_id":7513142,"reputation":334,"user_id":5707475,"display_name":"Christophe Broeckx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672218452,"creation_date":1672218452,"answer_id":74938290,"question_id":74937945,"body_markdown":"As said in the comments, I suppose you find it not working because the for-loop is erasing the label each time.\r\n\r\nAlso, this code is overly complicated. You can do something like:\r\n\r\n    boolean isDoctorBooked = list.stream()\r\n        .filter(a -&gt; a.getDoctorLicenseNo() == licenseNo)\r\n        .anyMatch(a -&gt; a.getDateTime() == dateTime);\r\n\r\nAssuming you replaced the date and time with the proper object, as per @rzwitserloot comment.","title":"Comparing multiple object attributes in an arraylist of objects","body":"<p>As said in the comments, I suppose you find it not working because the for-loop is erasing the label each time.</p>\n<p>Also, this code is overly complicated. You can do something like:</p>\n<pre><code>boolean isDoctorBooked = list.stream()\n    .filter(a -&gt; a.getDoctorLicenseNo() == licenseNo)\n    .anyMatch(a -&gt; a.getDateTime() == dateTime);\n</code></pre>\n<p>Assuming you replaced the date and time with the proper object, as per @rzwitserloot comment.</p>\n"}],"owner":{"account_id":27220716,"reputation":15,"user_id":20750037,"display_name":"Jesse"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74938290,"answer_count":1,"score":-2,"last_activity_date":1672228753,"creation_date":1672216119,"question_id":74937945,"body_markdown":"I need help coming up with an if-else condition statement to compare multiple object attributes in an arraylist of objects.\r\n\r\nFor example, say I have an arraylist of appointments\r\n\r\n```java\r\nArrayList&lt;Appointment&gt; list = new ArrayList&lt;&gt;(Arrays.asList(\r\n        new Appointment(1,101,new Date(),&quot;9 AM - 10 AM&quot;),\r\n        new Appointment(2,200,new Date(),&quot;9 AM - 10 Am&quot;),\r\n        new Appointment(3,200,new Date(),&quot;11 AM - 1 PM&quot;)\r\n));\r\n```\r\nThis is the `Appointment` class:\r\n\r\n```java\r\npublic class Appointment {\r\n\r\n    private long id;\r\n    private long doctorLicenseNo;\r\n    private Date date;\r\n    private String time;\r\n\r\n//constructor + getters and setters\r\n\r\n}\r\n```\r\nI want to check if a doctor with a particular license number is booked on a specific date and time. Here the doctor license number, date and time are given.\r\n","title":"Comparing multiple object attributes in an arraylist of objects","body":"<p>I need help coming up with an if-else condition statement to compare multiple object attributes in an arraylist of objects.</p>\n<p>For example, say I have an arraylist of appointments</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Appointment&gt; list = new ArrayList&lt;&gt;(Arrays.asList(\n        new Appointment(1,101,new Date(),&quot;9 AM - 10 AM&quot;),\n        new Appointment(2,200,new Date(),&quot;9 AM - 10 Am&quot;),\n        new Appointment(3,200,new Date(),&quot;11 AM - 1 PM&quot;)\n));\n</code></pre>\n<p>This is the <code>Appointment</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Appointment {\n\n    private long id;\n    private long doctorLicenseNo;\n    private Date date;\n    private String time;\n\n//constructor + getters and setters\n\n}\n</code></pre>\n<p>I want to check if a doctor with a particular license number is booked on a specific date and time. Here the doctor license number, date and time are given.</p>\n"},{"tags":["java","jar","jvm","classloader"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1672176298,"post_id":74934218,"comment_id":132236980,"body_markdown":"`Does it cache anything` I assume it caches the list of classes found in all Jars and all directories.  That would be the smart way of doing it.  But I&#39;m not sure I can answer 100% how this works.  Mostly though I don&#39;t worry about it, I&#39;ve yet to have a serious problem that looked like it was caused by long class loading.","body":"<code>Does it cache anything</code> I assume it caches the list of classes found in all Jars and all directories.  That would be the smart way of doing it.  But I&#39;m not sure I can answer 100% how this works.  Mostly though I don&#39;t worry about it, I&#39;ve yet to have a serious problem that looked like it was caused by long class loading."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1672178448,"post_id":74934218,"comment_id":132237427,"body_markdown":"If you want to know the implementation, then you can always look at the source code. [OpenJDK is on GitHub](https://github.com/openjdk/jdk). Start with `java.lang.ClassLoader` and then look at the various subclasses, such as those in the [jdk.internal.loader](https://github.com/openjdk/jdk/tree/master/src/java.base/share/classes/jdk/internal/loader) package. Note it would be easier to navigate the source code with an IDE compared to online.","body":"If you want to know the implementation, then you can always look at the source code. <a href=\"https://github.com/openjdk/jdk\" rel=\"nofollow noreferrer\">OpenJDK is on GitHub</a>. Start with <code>java.lang.ClassLoader</code> and then look at the various subclasses, such as those in the <a href=\"https://github.com/openjdk/jdk/tree/master/src/java.base/share/classes/jdk/internal/loader\" rel=\"nofollow noreferrer\">jdk.internal.loader</a> package. Note it would be easier to navigate the source code with an IDE compared to online."},{"owner":{"account_id":27368446,"reputation":23,"user_id":20874895,"display_name":"duomiduorou"},"score":0,"creation_date":1672428832,"post_id":74934218,"comment_id":132289791,"body_markdown":"Thank you all for the comments. I&#39;ll take a look at the reference and source code mentioned. I asked this question because we got a weird too many open files exception, and some people suggested it could be due to large number of jar files as dependencies (1000+), which may be opened at the same time when JVM loads classes. Hence I wanted to get a better understanding of the class loading process.","body":"Thank you all for the comments. I&#39;ll take a look at the reference and source code mentioned. I asked this question because we got a weird too many open files exception, and some people suggested it could be due to large number of jar files as dependencies (1000+), which may be opened at the same time when JVM loads classes. Hence I wanted to get a better understanding of the class loading process."}],"answers":[{"tags":[],"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672183529,"creation_date":1672183529,"answer_id":74934940,"question_id":74934218,"body_markdown":"This is rough answer, sorry for that. But it might be better than nothing, so here we go.\r\n\r\nSo when you&#39;re referring some class that JVM did not load yet, JVM indeed starts looking through class path, iterating over its items, one by one. If you&#39;re referring a.b.C, JVM looks for an entry a/b/C.class.\r\n\r\nClasspath could consist of many different things. It&#39;s abstracted by classloader actually which can do anything, e.g. download classfile over the Internet or select it from the database. But usually it just looks inside JAR files (or inside directories which are valid classpath entries as well).\r\n\r\nJAR files are ZIP files and ZIP files have header which allows for relatively quick lookup. It&#39;s not super performant, so if your classpath is huge, you might get some performance boost with combining it into one uberjar. Also you might get some performance boost if you would replace jars with extracted folders. But don&#39;t take it as advice, most likely boost will be negligible.\r\n\r\nAfter ClassLoader located .class file, it reads its content and &quot;sends&quot; its bytes it to the JVM. It can also alter those bytes before &quot;sending&quot; them to the JVM. So you might achieve some magic things with those magic classloaders. But ordinary classloaders don&#39;t do that.\r\n\r\nAfter JVM got those bytes, it parses them, verifies, may be compiles and in the end this class becomes loaded inside JVM address space in some very optimized for execution form. From now on this class will be looked up &quot;instantly&quot;.\r\n\r\nI think that JVM can also unload unused class if it&#39;s not referenced in the program, so I suppose that this process could repeat for the same class. But it&#39;s not something you should worry about.\r\n\r\nAnother thing to keep in mind is that classpath is Java 8 thing. It still could be used in modern Java, but since Java 9 module path appears which could be used with class path in parallel (or as a replacement). It&#39;s my understanding that those are similar when it comes down to low level details like I described above, but it&#39;s worth to remind, I guess. I think that most programs didn&#39;t embrace modules yet, but I don&#39;t have statistics.","title":"How does JVM find a class file among a list of JARs?","body":"<p>This is rough answer, sorry for that. But it might be better than nothing, so here we go.</p>\n<p>So when you're referring some class that JVM did not load yet, JVM indeed starts looking through class path, iterating over its items, one by one. If you're referring a.b.C, JVM looks for an entry a/b/C.class.</p>\n<p>Classpath could consist of many different things. It's abstracted by classloader actually which can do anything, e.g. download classfile over the Internet or select it from the database. But usually it just looks inside JAR files (or inside directories which are valid classpath entries as well).</p>\n<p>JAR files are ZIP files and ZIP files have header which allows for relatively quick lookup. It's not super performant, so if your classpath is huge, you might get some performance boost with combining it into one uberjar. Also you might get some performance boost if you would replace jars with extracted folders. But don't take it as advice, most likely boost will be negligible.</p>\n<p>After ClassLoader located .class file, it reads its content and &quot;sends&quot; its bytes it to the JVM. It can also alter those bytes before &quot;sending&quot; them to the JVM. So you might achieve some magic things with those magic classloaders. But ordinary classloaders don't do that.</p>\n<p>After JVM got those bytes, it parses them, verifies, may be compiles and in the end this class becomes loaded inside JVM address space in some very optimized for execution form. From now on this class will be looked up &quot;instantly&quot;.</p>\n<p>I think that JVM can also unload unused class if it's not referenced in the program, so I suppose that this process could repeat for the same class. But it's not something you should worry about.</p>\n<p>Another thing to keep in mind is that classpath is Java 8 thing. It still could be used in modern Java, but since Java 9 module path appears which could be used with class path in parallel (or as a replacement). It's my understanding that those are similar when it comes down to low level details like I described above, but it's worth to remind, I guess. I think that most programs didn't embrace modules yet, but I don't have statistics.</p>\n"}],"owner":{"account_id":27368446,"reputation":23,"user_id":20874895,"display_name":"duomiduorou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74934940,"answer_count":1,"score":1,"last_activity_date":1672228571,"creation_date":1672176120,"question_id":74934218,"body_markdown":"Based on my understanding, Java launcher finds a class file by searching through classpath, which can include a list of JARs (ref https://docs.oracle.com/javase/8/docs/technotes/tools/findingclasses.html). My question is that given a list of JARs and a class to look for, does Java search each JAR one by one sequentially, or if not, how does it find the right class file? Does it cache anything in the process, e.g. directory structure from JARs? If the list of JARs is very long, could that cause issue in performance or memory?\r\n\r\nI did saw this post: https://stackoverflow.com/questions/2020800/how-does-java-efficiently-search-jar-files-for-classes, but there were no references on the default behavior or what optimization is/can be done. \r\n\r\n","title":"How does JVM find a class file among a list of JARs?","body":"<p>Based on my understanding, Java launcher finds a class file by searching through classpath, which can include a list of JARs (ref <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/findingclasses.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/tools/findingclasses.html</a>). My question is that given a list of JARs and a class to look for, does Java search each JAR one by one sequentially, or if not, how does it find the right class file? Does it cache anything in the process, e.g. directory structure from JARs? If the list of JARs is very long, could that cause issue in performance or memory?</p>\n<p>I did saw this post: <a href=\"https://stackoverflow.com/questions/2020800/how-does-java-efficiently-search-jar-files-for-classes\">How does Java efficiently search jar files for classes?</a>, but there were no references on the default behavior or what optimization is/can be done.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":0,"creation_date":1672150271,"post_id":74909075,"comment_id":132229989,"body_markdown":"The error in the output mentions that the file does not exist: `/home/runner/.m2/settings-security.xml`. Maybe you need to create that file, see for example https://stackoverflow.com/a/61238065/641955","body":"The error in the output mentions that the file does not exist: <code>&#47;home&#47;runner&#47;.m2&#47;settings-security.xml</code>. Maybe you need to create that file, see for example <a href=\"https://stackoverflow.com/a/61238065/641955\">stackoverflow.com/a/61238065/641955</a>"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672127415,"creation_date":1672127415,"answer_id":74926837,"question_id":74909075,"body_markdown":"Check if this is similar to [`actions/setup-java` issue 91][1]\r\n\r\n&gt; `gpgPassphrase` should be the name of the env var that is going to contain the GPG passphrase\r\n&gt; and in the release/deploy stages you need to include that formerly mentioned env var in the env section, and set its value (in your case the `secrets.MAVEN_GPG_PASSPHRASE`).\r\n&gt;\r\n&gt; This is indeed a confusing way to configure this action\r\n\r\nNote: the [same thread][2] includes:\r\n\r\n```yaml\r\n            &lt;configuration&gt;\r\n              &lt;!-- Prevent gpg from using pinentry programs --&gt;\r\n              &lt;gpgArguments&gt;\r\n                &lt;arg&gt;--pinentry-mode&lt;/arg&gt;\r\n                &lt;arg&gt;loopback&lt;/arg&gt;\r\n              &lt;/gpgArguments&gt;\r\n            &lt;/configuration&gt;\r\n```\r\n\r\n&gt; This configuration seems no longer necessary on maven-gpg-plugin 3.0.1. (https://issues.apache.org/jira/browse/MGPG-59)\r\n\r\nDouble-check your gpg version.\r\n\r\n  [1]: https://github.com/actions/setup-java/issues/91#issuecomment-747269146\r\n  [2]: https://github.com/actions/setup-java/issues/91#issuecomment-837016715","title":"Unable to decrypt gpg passphrase with org.apache.maven.plugins:maven-gpg-plugin:3.0.1:sign","body":"<p>Check if this is similar to <a href=\"https://github.com/actions/setup-java/issues/91#issuecomment-747269146\" rel=\"nofollow noreferrer\"><code>actions/setup-java</code> issue 91</a></p>\n<blockquote>\n<p><code>gpgPassphrase</code> should be the name of the env var that is going to contain the GPG passphrase\nand in the release/deploy stages you need to include that formerly mentioned env var in the env section, and set its value (in your case the <code>secrets.MAVEN_GPG_PASSPHRASE</code>).</p>\n<p>This is indeed a confusing way to configure this action</p>\n</blockquote>\n<p>Note: the <a href=\"https://github.com/actions/setup-java/issues/91#issuecomment-837016715\" rel=\"nofollow noreferrer\">same thread</a> includes:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>            &lt;configuration&gt;\n              &lt;!-- Prevent gpg from using pinentry programs --&gt;\n              &lt;gpgArguments&gt;\n                &lt;arg&gt;--pinentry-mode&lt;/arg&gt;\n                &lt;arg&gt;loopback&lt;/arg&gt;\n              &lt;/gpgArguments&gt;\n            &lt;/configuration&gt;\n</code></pre>\n<blockquote>\n<p>This configuration seems no longer necessary on maven-gpg-plugin 3.0.1. (<a href=\"https://issues.apache.org/jira/browse/MGPG-59\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/MGPG-59</a>)</p>\n</blockquote>\n<p>Double-check your gpg version.</p>\n"},{"tags":[],"owner":{"account_id":24111781,"reputation":251,"user_id":18082282,"display_name":"Rasbypy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1672228486,"creation_date":1672228486,"answer_id":74939945,"question_id":74909075,"body_markdown":"## Problem\r\n\r\nYour problem is due to the fact that you have not use your env var for your gpg password, Maven password and maven username in your *setup-jave*.\r\n\r\n## Solution to your problem\r\n\r\n\r\nTo fix your problem you to fix your *setup-java* configuration like that :\r\n```yaml\r\n    - name: Set up JDK 17 for deploy to OSSRH\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        distribution: &quot;adopt&quot;\r\n        java-version: ${{ inputs.java-version }}\r\n        server-id: ossrh\r\n        server-username: MAVEN_USERNAME\r\n        server-password: MAVEN_PASSWORD\r\n        gpg-private-key: ${{ inputs.gpg-private-key }}\r\n        gpg-passphrase: MAVEN_GPG_PASSPHRASE\r\n```","title":"Unable to decrypt gpg passphrase with org.apache.maven.plugins:maven-gpg-plugin:3.0.1:sign","body":"<h2>Problem</h2>\n<p>Your problem is due to the fact that you have not use your env var for your gpg password, Maven password and maven username in your <em>setup-jave</em>.</p>\n<h2>Solution to your problem</h2>\n<p>To fix your problem you to fix your <em>setup-java</em> configuration like that :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    - name: Set up JDK 17 for deploy to OSSRH\n      uses: actions/setup-java@v3\n      with:\n        distribution: &quot;adopt&quot;\n        java-version: ${{ inputs.java-version }}\n        server-id: ossrh\n        server-username: MAVEN_USERNAME\n        server-password: MAVEN_PASSWORD\n        gpg-private-key: ${{ inputs.gpg-private-key }}\n        gpg-passphrase: MAVEN_GPG_PASSPHRASE\n</code></pre>\n"}],"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74939945,"answer_count":2,"score":3,"last_activity_date":1672228486,"creation_date":1671900926,"question_id":74909075,"body_markdown":"## Introduction\r\n\r\nCurrently, I&#39;m trying to contribute on a GitHub Action that automatically publishes a java library.\r\nThe branch where I&#39;m developing: https://github.com/MathieuSoysal/Java-maven-library-publisher/tree/2-add-automated-tests\r\n\r\n**The yaml code of the Action** :\r\n```yaml\r\nname: Java maven library publisher\r\nauthor: &quot;Mathieu Soysal (@MathieuSoysal)&quot;\r\ndescription: &quot;Build automatically Java Maven library and publish it to GitHub Packages and Maven Central.&quot;\r\nbranding:\r\n  icon: &quot;package&quot;\r\n  color: &quot;gray-dark&quot;\r\n\r\ninputs:\r\n  nexus-username:\r\n    description: &quot;Nexus username&quot;\r\n    required: true\r\n  nexus-password:\r\n    description: &quot;Nexus password&quot;\r\n    required: true\r\n  gpg-private-key:\r\n    description: &quot;GPG private key&quot;\r\n    required: true\r\n  gpg-passphrase:\r\n    description: &quot;GPG passphrase&quot;\r\n    required: true\r\n  github-token:\r\n    description: &quot;GitHub token&quot;\r\n    required: true\r\n  # Java version to use\r\n  java-version:\r\n    description: &quot;Java version to use&quot;\r\n    required: true\r\n    default: &quot;17&quot;\r\n  # Library version\r\n  library-version:\r\n    description: &quot;Library version&quot;\r\n    required: false\r\n    default: &quot;&quot;\r\n\r\nruns:\r\n  using: &quot;composite&quot;\r\n\r\n  steps:\r\n    - name: Checkout\r\n      uses: actions/checkout@v3\r\n\r\n    - name: Set up JDK 17 for deploy to OSSRH\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        distribution: &quot;adopt&quot;\r\n        java-version: ${{ inputs.java-version }}\r\n        server-id: ossrh\r\n        server-username: ${{ inputs.nexus-username }}\r\n        server-password: ${{ inputs.nexus-password }}\r\n        gpg-private-key: ${{ inputs.gpg-private-key }}\r\n        gpg-passphrase: ${{ inputs.gpg-passphrase }}\r\n\r\n    - name: Build with Maven\r\n      run: mvn -B package --file pom.xml\r\n      shell: bash\r\n\r\n    - name: Update package version\r\n      if: ${{ inputs.library-version != &#39;&#39; }}\r\n      run: mvn versions:set -DnewVersion=${{ inputs.library-version }}\r\n      shell: bash\r\n\r\n    - name: Prepare Maven environnement with Java 17 for deployment to OSSRH\r\n      run: export MAVEN_OPTS=&quot;--add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.desktop/java.awt.font=ALL-UNNAMED&quot;\r\n      shell: bash\r\n\r\n    - name: Publish to Apache Maven Central\r\n      run: mvn deploy -PossrhDeploy\r\n      shell: bash\r\n      env:\r\n        MAVEN_USERNAME: ${{ inputs.nexus-username }}\r\n        MAVEN_CENTRAL_TOKEN: ${{ inputs.nexus-password }}\r\n        MAVEN_GPG_PASSPHRASE: ${{ inputs.gpg-passphrase }}\r\n\r\n    - name: Set up JDK 17 for deploy to github packages\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        distribution: &quot;adopt&quot;\r\n        java-version: ${{ inputs.java-version }}\r\n        server-id: github\r\n\r\n    - name: Publish to GitHub Packages Apache Maven\r\n      run: mvn deploy -PgithubDeploy\r\n      shell: bash\r\n      env:\r\n        GITHUB_TOKEN: ${{ inputs.github-token }}\r\n```\r\n*link to the code: https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/action.yaml*\r\n\r\n**The workflow that execute the Action**:\r\n```yaml\r\nname: Test Actions\r\n\r\non: [push]\r\n\r\njobs:\r\n  test:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n\r\n      - name: Maven Library build and publish\r\n        uses: ./\r\n        with:\r\n          nexus-username: ${{ secrets.NEXUS_USERNAME }}\r\n          nexus-password: ${{ secrets.NEXUS_PASSWORD }}\r\n          gpg-private-key: ${{ secrets.GPG_PRIVATE_KEY }}\r\n          gpg-passphrase: ${{ secrets.GPG_PASSPHRASE }}\r\n          library-version: $GITHUB_RUN_NUMBER\r\n          github-token: ${{ secrets.GITHUB_TOKEN }}\r\n          java-version: 17\r\n```\r\n*Link to the code: https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/.github/workflows/test-action.yml*\r\n\r\n\r\n## Problem\r\n\r\nWhen i&#39;m trying to execute the action I obtain this error:\r\n\r\n```log\r\n[INFO] Building jar: /home/runner/work/Java-maven-library-publisher/Java-maven-library-publisher/target/template-6-javadoc.jar\r\n[INFO] \r\n[INFO] --- maven-gpg-plugin:3.0.1:sign (sign-artifacts) @ template ---\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  14.831 s\r\n[INFO] Finished at: 2022-12-24T15:58:31Z\r\n[INFO] ------------------------------------------------------------------------\r\nError:  Failed to execute goal org.apache.maven.plugins:maven-gpg-plugin:3.0.1:sign (sign-artifacts) on project template: Unable to decrypt gpg passphrase: org.sonatype.plexus.components.sec.dispatcher.SecDispatcherException: java.io.FileNotFoundException: /home/runner/.m2/settings-security.xml (No such file or directory) -&gt; [Help 1]\r\nError:  \r\nError:  To see the full stack trace of the errors, re-run Maven with the -e switch.\r\nError:  Re-run Maven using the -X switch to enable full debug logging.\r\nError:  \r\nError:  For more information about the errors and possible solutions, please read the following articles:\r\nError:  [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\nError: Process completed with exit code 1.\r\n```\r\n\r\n## Question\r\n\r\nSomeone know how we can fix this `Failed to execute goal org.apache.maven.plugins:maven-gpg-plugin:3.0.1:sign` for *actions/setup-java@v3* ?\r\n\r\n\r\n\r\n","title":"Unable to decrypt gpg passphrase with org.apache.maven.plugins:maven-gpg-plugin:3.0.1:sign","body":"<h2>Introduction</h2>\n<p>Currently, I'm trying to contribute on a GitHub Action that automatically publishes a java library.\nThe branch where I'm developing: <a href=\"https://github.com/MathieuSoysal/Java-maven-library-publisher/tree/2-add-automated-tests\" rel=\"nofollow noreferrer\">https://github.com/MathieuSoysal/Java-maven-library-publisher/tree/2-add-automated-tests</a></p>\n<p><strong>The yaml code of the Action</strong> :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Java maven library publisher\nauthor: &quot;Mathieu Soysal (@MathieuSoysal)&quot;\ndescription: &quot;Build automatically Java Maven library and publish it to GitHub Packages and Maven Central.&quot;\nbranding:\n  icon: &quot;package&quot;\n  color: &quot;gray-dark&quot;\n\ninputs:\n  nexus-username:\n    description: &quot;Nexus username&quot;\n    required: true\n  nexus-password:\n    description: &quot;Nexus password&quot;\n    required: true\n  gpg-private-key:\n    description: &quot;GPG private key&quot;\n    required: true\n  gpg-passphrase:\n    description: &quot;GPG passphrase&quot;\n    required: true\n  github-token:\n    description: &quot;GitHub token&quot;\n    required: true\n  # Java version to use\n  java-version:\n    description: &quot;Java version to use&quot;\n    required: true\n    default: &quot;17&quot;\n  # Library version\n  library-version:\n    description: &quot;Library version&quot;\n    required: false\n    default: &quot;&quot;\n\nruns:\n  using: &quot;composite&quot;\n\n  steps:\n    - name: Checkout\n      uses: actions/checkout@v3\n\n    - name: Set up JDK 17 for deploy to OSSRH\n      uses: actions/setup-java@v3\n      with:\n        distribution: &quot;adopt&quot;\n        java-version: ${{ inputs.java-version }}\n        server-id: ossrh\n        server-username: ${{ inputs.nexus-username }}\n        server-password: ${{ inputs.nexus-password }}\n        gpg-private-key: ${{ inputs.gpg-private-key }}\n        gpg-passphrase: ${{ inputs.gpg-passphrase }}\n\n    - name: Build with Maven\n      run: mvn -B package --file pom.xml\n      shell: bash\n\n    - name: Update package version\n      if: ${{ inputs.library-version != '' }}\n      run: mvn versions:set -DnewVersion=${{ inputs.library-version }}\n      shell: bash\n\n    - name: Prepare Maven environnement with Java 17 for deployment to OSSRH\n      run: export MAVEN_OPTS=&quot;--add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.desktop/java.awt.font=ALL-UNNAMED&quot;\n      shell: bash\n\n    - name: Publish to Apache Maven Central\n      run: mvn deploy -PossrhDeploy\n      shell: bash\n      env:\n        MAVEN_USERNAME: ${{ inputs.nexus-username }}\n        MAVEN_CENTRAL_TOKEN: ${{ inputs.nexus-password }}\n        MAVEN_GPG_PASSPHRASE: ${{ inputs.gpg-passphrase }}\n\n    - name: Set up JDK 17 for deploy to github packages\n      uses: actions/setup-java@v3\n      with:\n        distribution: &quot;adopt&quot;\n        java-version: ${{ inputs.java-version }}\n        server-id: github\n\n    - name: Publish to GitHub Packages Apache Maven\n      run: mvn deploy -PgithubDeploy\n      shell: bash\n      env:\n        GITHUB_TOKEN: ${{ inputs.github-token }}\n</code></pre>\n<p><em>link to the code: <a href=\"https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/action.yaml\" rel=\"nofollow noreferrer\">https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/action.yaml</a></em></p>\n<p><strong>The workflow that execute the Action</strong>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Test Actions\n\non: [push]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Maven Library build and publish\n        uses: ./\n        with:\n          nexus-username: ${{ secrets.NEXUS_USERNAME }}\n          nexus-password: ${{ secrets.NEXUS_PASSWORD }}\n          gpg-private-key: ${{ secrets.GPG_PRIVATE_KEY }}\n          gpg-passphrase: ${{ secrets.GPG_PASSPHRASE }}\n          library-version: $GITHUB_RUN_NUMBER\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          java-version: 17\n</code></pre>\n<p><em>Link to the code: <a href=\"https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/.github/workflows/test-action.yml\" rel=\"nofollow noreferrer\">https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/.github/workflows/test-action.yml</a></em></p>\n<h2>Problem</h2>\n<p>When i'm trying to execute the action I obtain this error:</p>\n<pre><code>[INFO] Building jar: /home/runner/work/Java-maven-library-publisher/Java-maven-library-publisher/target/template-6-javadoc.jar\n[INFO] \n[INFO] --- maven-gpg-plugin:3.0.1:sign (sign-artifacts) @ template ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  14.831 s\n[INFO] Finished at: 2022-12-24T15:58:31Z\n[INFO] ------------------------------------------------------------------------\nError:  Failed to execute goal org.apache.maven.plugins:maven-gpg-plugin:3.0.1:sign (sign-artifacts) on project template: Unable to decrypt gpg passphrase: org.sonatype.plexus.components.sec.dispatcher.SecDispatcherException: java.io.FileNotFoundException: /home/runner/.m2/settings-security.xml (No such file or directory) -&gt; [Help 1]\nError:  \nError:  To see the full stack trace of the errors, re-run Maven with the -e switch.\nError:  Re-run Maven using the -X switch to enable full debug logging.\nError:  \nError:  For more information about the errors and possible solutions, please read the following articles:\nError:  [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\nError: Process completed with exit code 1.\n</code></pre>\n<h2>Question</h2>\n<p>Someone know how we can fix this <code>Failed to execute goal org.apache.maven.plugins:maven-gpg-plugin:3.0.1:sign</code> for <em>actions/setup-java@v3</em> ?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","keycloak"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672172757,"creation_date":1672172757,"answer_id":74933838,"question_id":74932325,"body_markdown":"I use Keycloak to federate other identities: the only issuers that clients and resource-servers trust are Keycloak instances or realms. Other identity sources are hidden behind it. \r\n\r\nWith that config, roles are put into tokens by Keycloak, just as any other claims (for the last project I worked on, roles referential is LDAP but it could be a custom database table or Keycloak default one).\r\n\r\nIt&#39;s pretty easy to connect Keycloak to your user database and it comes with many features that I don&#39;t want to code and maintain (multi-factor authentication, social login, users, clients and resource-servers management screens,...) ","title":"Multiple ways of authentication with spring oauth2 and keycloak","body":"<p>I use Keycloak to federate other identities: the only issuers that clients and resource-servers trust are Keycloak instances or realms. Other identity sources are hidden behind it.</p>\n<p>With that config, roles are put into tokens by Keycloak, just as any other claims (for the last project I worked on, roles referential is LDAP but it could be a custom database table or Keycloak default one).</p>\n<p>It's pretty easy to connect Keycloak to your user database and it comes with many features that I don't want to code and maintain (multi-factor authentication, social login, users, clients and resource-servers management screens,...)</p>\n"}],"owner":{"account_id":10663246,"reputation":39,"user_id":7850598,"display_name":"Brucebayne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1672228325,"creation_date":1672161714,"question_id":74932325,"body_markdown":"I have a Spring boot project which runs authentication with spring oauth2 token provider.\r\nNow there is a idea to support a autentication with Keycloak, so that username and password will be stored in Keycloak and it will provide the access token.\r\nIdea is to keep the oauth token store and provider, and as well to have a keycloak one, but to keep the roles and acces right part in spring. Keycloak will only be used for some users as a token provider instead of Spring one and to have a refresh token. So all the user data and access rights and roles are still be done by spring, from database, only the part where it authenticates username and password will be in Keycloak which provides a token.\r\n\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Autowired\r\n\tprivate ClientDetailsService clientDetailsService;\r\n\r\n\tprivate AccessDecisionManager accessDecisionManager;\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeRequests().accessDecisionManager(accessDecisionManager)\r\n\t\t\t\t.antMatchers(&quot;/service/*&quot;).fullyAuthenticated()\r\n\t\t\t\t.anyRequest().permitAll().and().httpBasic().and().csrf().disable();\r\n\t}\r\n\r\n\t@Override\r\n\t@Bean(name = &quot;authenticationManagerBean&quot;)\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n    \r\n\t@Bean\r\n\t@Autowired\r\n\tpublic TokenStoreUserApprovalHandler userApprovalHandler(TokenStore tokenStore) {\r\n\t\tTokenStoreUserApprovalHandler handler = new TokenStoreUserApprovalHandler();\r\n\t\thandler.setTokenStore(tokenStore);\r\n\t\thandler.setRequestFactory(new DefaultOAuth2RequestFactory(clientDetailsService));\r\n\t\thandler.setClientDetailsService(clientDetailsService);\r\n\t\treturn handler;\r\n\t}\r\n\r\n\t@Bean\r\n\t@Autowired\r\n\tpublic ApprovalStore approvalStore(TokenStore tokenStore) throws Exception {\r\n\t\tTokenApprovalStore store = new TokenApprovalStore();\r\n\t\tstore.setTokenStore(tokenStore);\r\n\t\treturn store;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AffirmativeBased accessDecisionManager() {\r\n\t\tList&lt;AccessDecisionVoter&lt;?&gt;&gt; accessDecisionVoters = new ArrayList&lt;&gt;();\r\n\t\taccessDecisionVoters.add(new ScopeVoter());\r\n\t\taccessDecisionVoters.add(new RoleVoter());\r\n\t\taccessDecisionVoters.add(new AuthenticatedVoter());\r\n\r\n\t\tAffirmativeBased accessDecisionManager = new AffirmativeBased(accessDecisionVoters);\r\n\t\treturn accessDecisionManager;\r\n\t}\r\n```\r\n\r\nAnd there is a Custom client service which grants access rights:\r\n\r\n```\r\n\r\n@Component\r\npublic class CustomClientService implements ClientDetailsService {\r\n\r\n\tprivate static Map&lt;String, BaseClientDetails&gt; cache = new ConcurrentHashMap&lt;&gt;();\r\n\t\r\n\t@Autowired\r\n\tUserService userService;\r\n\t\r\n\t@Autowired\r\n\tAccessRightsService accessRightsService;\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic ClientDetails loadClientByClientId(String paramString) throws ClientRegistrationException {\r\n\t\t...\r\n```\r\n\r\nAlso there is a custom TokenStore class:\r\n\r\n```\r\n\r\npublic class MyTokenServices extends DefaultTokenServices {\r\n\t\r\n\tprivate static Logger log = LoggerFactory.getLogger(MyTokenServices.class);\r\n\t\r\n\tpublic UserService userService;\r\n\t\r\n\tpublic AccessRightsService accessRightService;\r\n\r\n\tprivate TokenStore my_tokenStore;\r\n\t\r\n\t@Override\r\n\tpublic void setTokenStore(TokenStore tokenStore) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tsuper.setTokenStore(tokenStore);\r\n\t\tmy_tokenStore = tokenStore;\r\n\t}\r\n\t\r\n\t@Override\r\n\t@Transactional\r\n\tpublic OAuth2AccessToken createAccessToken(OAuth2Authentication authentication) throws AuthenticationException {\r\n\t\tOAuth2AccessToken retVal= super.createAccessToken(authentication);\r\n\t\tif(retVal instanceof DefaultOAuth2AccessToken) {\r\n\t\t\tDefaultOAuth2AccessToken defRetVal =  (DefaultOAuth2AccessToken)retVal;\r\n\t\t\tlog.info(&quot;New loging request&quot;+ defRetVal.toString());\r\n//\t\t\tdefRetVal.setExpiration( Date.from(LocalDateTime.now().plus(8,ChronoUnit.HOURS).atZone(ZoneId.systemDefault()).toInstant()));\r\n\t\t\tmy_tokenStore.storeAccessToken(defRetVal, authentication);\r\n\t\t}\r\n\t\treturn retVal;\r\n\t\t \r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic OAuth2Authentication loadAuthentication(String accessTokenValue)\r\n\t\t\tthrows AuthenticationException, InvalidTokenException {\r\n\t\tOAuth2Authentication retVal = super.loadAuthentication(accessTokenValue);\r\n\t\tOAuth2Request oldRequest = retVal.getOAuth2Request();\r\n\t\t\r\n\t\tUser user = userService.getUserByUsername(oldRequest.getClientId());\r\n\t\tif(changeAutheticator(retVal, user)) {\r\n\t\t\tHashSet&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n\t\t\tuser.getRoles().forEach(a-&gt;authorities.add(new SimpleGrantedAuthority(a.getRoleName())));\r\n\t\t\t\r\n\t\t\tSet&lt;String&gt; accessRights = accessRightService.getUserAccessRights(user);\r\n\t\t\tif(accessRights != null) {\r\n\t\t\t\taccessRights.forEach(rihgt-&gt;{\r\n\t\t\t\t\tauthorities.add(new SimpleGrantedAuthority(rihgt));\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tOAuth2Request newRequest  = new OAuth2Request(retVal.getOAuth2Request().getRequestParameters(),\r\n\t\t\t\toldRequest.getClientId(), authorities, oldRequest.isApproved(), oldRequest.getScope(), \r\n\t\t\t\toldRequest.getResourceIds(), oldRequest.getRedirectUri(), oldRequest.getResponseTypes(), oldRequest.getExtensions());\r\n\t\t\r\n\t\t\tretVal = new OAuth2Authentication(newRequest, retVal.getUserAuthentication());\r\n\t\t}\r\n\t\treturn retVal;\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * Method that check do we need to change authenticator\r\n\t * @param retVal\r\n\t * @param user\r\n\t * @return\r\n\t */\r\n\tprivate boolean changeAutheticator(OAuth2Authentication auth, User user) {\r\n\t\tif(user == null) return false;\r\n\t\tif(user != null ) {\r\n\t\t\tif(user.getRoles() != null) {\r\n\t\t\t\tif(auth.getOAuth2Request()!=null &amp;&amp; auth.getOAuth2Request().getAuthorities() != null){\r\n\t\t\t\t\tfor(Role role:user.getRoles()){\r\n\t\t\t\t\t\tif(!auth.getOAuth2Request().getAuthorities().stream().anyMatch(a-&gt;a.getAuthority().equals(role.getRoleName()))){\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(GrantedAuthority ga : auth.getOAuth2Request().getAuthorities()) {\r\n\t\t\t\t\t\tif(!user.getRoles().stream().anyMatch(a-&gt;a.getRoleName().equals(ga.getAuthority()))){\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n```\r\n\r\nI was trying to implement a multiple authentiaction like the one from other stackoverflow but that was not a solution. Thinking that I should provide a custom authentication provider with Keycloak or still like not having a solution in head.","title":"Multiple ways of authentication with spring oauth2 and keycloak","body":"<p>I have a Spring boot project which runs authentication with spring oauth2 token provider.\nNow there is a idea to support a autentication with Keycloak, so that username and password will be stored in Keycloak and it will provide the access token.\nIdea is to keep the oauth token store and provider, and as well to have a keycloak one, but to keep the roles and acces right part in spring. Keycloak will only be used for some users as a token provider instead of Spring one and to have a refresh token. So all the user data and access rights and roles are still be done by spring, from database, only the part where it authenticates username and password will be in Keycloak which provides a token.</p>\n<pre><code>@EnableWebSecurity\n@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private ClientDetailsService clientDetailsService;\n\n    private AccessDecisionManager accessDecisionManager;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().accessDecisionManager(accessDecisionManager)\n                .antMatchers(&quot;/service/*&quot;).fullyAuthenticated()\n                .anyRequest().permitAll().and().httpBasic().and().csrf().disable();\n    }\n\n    @Override\n    @Bean(name = &quot;authenticationManagerBean&quot;)\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n    \n    @Bean\n    @Autowired\n    public TokenStoreUserApprovalHandler userApprovalHandler(TokenStore tokenStore) {\n        TokenStoreUserApprovalHandler handler = new TokenStoreUserApprovalHandler();\n        handler.setTokenStore(tokenStore);\n        handler.setRequestFactory(new DefaultOAuth2RequestFactory(clientDetailsService));\n        handler.setClientDetailsService(clientDetailsService);\n        return handler;\n    }\n\n    @Bean\n    @Autowired\n    public ApprovalStore approvalStore(TokenStore tokenStore) throws Exception {\n        TokenApprovalStore store = new TokenApprovalStore();\n        store.setTokenStore(tokenStore);\n        return store;\n    }\n\n    @Bean\n    public AffirmativeBased accessDecisionManager() {\n        List&lt;AccessDecisionVoter&lt;?&gt;&gt; accessDecisionVoters = new ArrayList&lt;&gt;();\n        accessDecisionVoters.add(new ScopeVoter());\n        accessDecisionVoters.add(new RoleVoter());\n        accessDecisionVoters.add(new AuthenticatedVoter());\n\n        AffirmativeBased accessDecisionManager = new AffirmativeBased(accessDecisionVoters);\n        return accessDecisionManager;\n    }\n</code></pre>\n<p>And there is a Custom client service which grants access rights:</p>\n<pre><code>\n@Component\npublic class CustomClientService implements ClientDetailsService {\n\n    private static Map&lt;String, BaseClientDetails&gt; cache = new ConcurrentHashMap&lt;&gt;();\n    \n    @Autowired\n    UserService userService;\n    \n    @Autowired\n    AccessRightsService accessRightsService;\n    \n    \n    @Override\n    public ClientDetails loadClientByClientId(String paramString) throws ClientRegistrationException {\n        ...\n</code></pre>\n<p>Also there is a custom TokenStore class:</p>\n<pre><code>\npublic class MyTokenServices extends DefaultTokenServices {\n    \n    private static Logger log = LoggerFactory.getLogger(MyTokenServices.class);\n    \n    public UserService userService;\n    \n    public AccessRightsService accessRightService;\n\n    private TokenStore my_tokenStore;\n    \n    @Override\n    public void setTokenStore(TokenStore tokenStore) {\n        // TODO Auto-generated method stub\n        super.setTokenStore(tokenStore);\n        my_tokenStore = tokenStore;\n    }\n    \n    @Override\n    @Transactional\n    public OAuth2AccessToken createAccessToken(OAuth2Authentication authentication) throws AuthenticationException {\n        OAuth2AccessToken retVal= super.createAccessToken(authentication);\n        if(retVal instanceof DefaultOAuth2AccessToken) {\n            DefaultOAuth2AccessToken defRetVal =  (DefaultOAuth2AccessToken)retVal;\n            log.info(&quot;New loging request&quot;+ defRetVal.toString());\n//          defRetVal.setExpiration( Date.from(LocalDateTime.now().plus(8,ChronoUnit.HOURS).atZone(ZoneId.systemDefault()).toInstant()));\n            my_tokenStore.storeAccessToken(defRetVal, authentication);\n        }\n        return retVal;\n         \n    }\n    \n    @Override\n    public OAuth2Authentication loadAuthentication(String accessTokenValue)\n            throws AuthenticationException, InvalidTokenException {\n        OAuth2Authentication retVal = super.loadAuthentication(accessTokenValue);\n        OAuth2Request oldRequest = retVal.getOAuth2Request();\n        \n        User user = userService.getUserByUsername(oldRequest.getClientId());\n        if(changeAutheticator(retVal, user)) {\n            HashSet&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n            user.getRoles().forEach(a-&gt;authorities.add(new SimpleGrantedAuthority(a.getRoleName())));\n            \n            Set&lt;String&gt; accessRights = accessRightService.getUserAccessRights(user);\n            if(accessRights != null) {\n                accessRights.forEach(rihgt-&gt;{\n                    authorities.add(new SimpleGrantedAuthority(rihgt));\n                });\n            }\n            OAuth2Request newRequest  = new OAuth2Request(retVal.getOAuth2Request().getRequestParameters(),\n                oldRequest.getClientId(), authorities, oldRequest.isApproved(), oldRequest.getScope(), \n                oldRequest.getResourceIds(), oldRequest.getRedirectUri(), oldRequest.getResponseTypes(), oldRequest.getExtensions());\n        \n            retVal = new OAuth2Authentication(newRequest, retVal.getUserAuthentication());\n        }\n        return retVal;\n        \n    }\n    \n    /**\n     * Method that check do we need to change authenticator\n     * @param retVal\n     * @param user\n     * @return\n     */\n    private boolean changeAutheticator(OAuth2Authentication auth, User user) {\n        if(user == null) return false;\n        if(user != null ) {\n            if(user.getRoles() != null) {\n                if(auth.getOAuth2Request()!=null &amp;&amp; auth.getOAuth2Request().getAuthorities() != null){\n                    for(Role role:user.getRoles()){\n                        if(!auth.getOAuth2Request().getAuthorities().stream().anyMatch(a-&gt;a.getAuthority().equals(role.getRoleName()))){\n                            return true;\n                        }\n                    }\n                    for(GrantedAuthority ga : auth.getOAuth2Request().getAuthorities()) {\n                        if(!user.getRoles().stream().anyMatch(a-&gt;a.getRoleName().equals(ga.getAuthority()))){\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    }\n</code></pre>\n<p>I was trying to implement a multiple authentiaction like the one from other stackoverflow but that was not a solution. Thinking that I should provide a custom authentication provider with Keycloak or still like not having a solution in head.</p>\n"},{"tags":["java","sql","postgresql","web"],"answers":[{"tags":[],"owner":{"account_id":9606741,"reputation":32531,"user_id":7132550,"accept_rate":75,"display_name":"Michał Turczyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672228236,"creation_date":1672227922,"answer_id":74939854,"question_id":74939795,"body_markdown":"I think it should look like below.\r\n\r\nAlternatively, you could only `SELECT isRight` column from DB.\r\n\r\nAlso, if you have answerId - this should suffice to identify answer uniquely, so no need for additional parameter for question ID.\r\n\r\n```Java\r\npublic Boolean isAnswerRight(Long answerId) {\r\n    return entityManager.createQuery(&quot;select * from Answer a where a.id = :answerId&quot;, Answer.class)\r\n        .setParameter(&quot;answerId&quot;, answerId)\r\n        .getSingleResult()\r\n\t\t// assuming you have getter getIsRight for isRight field\r\n\t\t.getIsRight();\r\n}\r\n```\r\nor\r\n```Java\r\npublic Answer getAnswerById(Long answerId) {\r\n    return entityManager.createQuery(&quot;select * from Answer a where a.id = :answerId&quot;, Answer.class)\r\n        .setParameter(&quot;answerId&quot;, answerId)\r\n        .getSingleResult();\r\n}\r\n\r\nAnswer answer = getAnswerById(answerId);\r\n// assuming you have getter for isRight field\r\nBoolean isAnswerRight = answer.getIsRight();\r\n```","title":"how to get object field from database","body":"<p>I think it should look like below.</p>\n<p>Alternatively, you could only <code>SELECT isRight</code> column from DB.</p>\n<p>Also, if you have answerId - this should suffice to identify answer uniquely, so no need for additional parameter for question ID.</p>\n<pre><code>public Boolean isAnswerRight(Long answerId) {\n    return entityManager.createQuery(&quot;select * from Answer a where a.id = :answerId&quot;, Answer.class)\n        .setParameter(&quot;answerId&quot;, answerId)\n        .getSingleResult()\n        // assuming you have getter getIsRight for isRight field\n        .getIsRight();\n}\n</code></pre>\n<p>or</p>\n<pre><code>public Answer getAnswerById(Long answerId) {\n    return entityManager.createQuery(&quot;select * from Answer a where a.id = :answerId&quot;, Answer.class)\n        .setParameter(&quot;answerId&quot;, answerId)\n        .getSingleResult();\n}\n\nAnswer answer = getAnswerById(answerId);\n// assuming you have getter for isRight field\nBoolean isAnswerRight = answer.getIsRight();\n</code></pre>\n"}],"owner":{"account_id":27252357,"reputation":1,"user_id":20804171,"display_name":"zeeetan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672228236,"creation_date":1672227536,"question_id":74939795,"body_markdown":"I have entity:\r\n\r\n```\r\npublic class Answer {\r\nprivate Long id;\r\nprivate Question question;\r\nprivate String answer;\r\nprivate boolean isRight;\r\n}\r\n```\r\nHow can I get the &quot;isRight&quot; field from the database?\r\n\r\n\r\nin the DaoImpl i tried this:\r\n\r\n```\r\npublic Boolean isAnswerRight(Long questionId, Long answerId) {\r\n    return entityManager.createQuery(&quot;select a from Answer where a.question.id = :questionId AND a.id = :answerId&quot;, Answer.class)\r\n            .setParameter(&quot;questionId&quot;, questionId)\r\n            .setParameter(&quot;answerId&quot;, answerId)\r\n            .getSingleResult()\r\n            .isRight();\r\n}\r\n```\r\nbut teamlead said: &quot;you get the whole object from the database, get the field right away&quot;","title":"how to get object field from database","body":"<p>I have entity:</p>\n<pre><code>public class Answer {\nprivate Long id;\nprivate Question question;\nprivate String answer;\nprivate boolean isRight;\n}\n</code></pre>\n<p>How can I get the &quot;isRight&quot; field from the database?</p>\n<p>in the DaoImpl i tried this:</p>\n<pre><code>public Boolean isAnswerRight(Long questionId, Long answerId) {\n    return entityManager.createQuery(&quot;select a from Answer where a.question.id = :questionId AND a.id = :answerId&quot;, Answer.class)\n            .setParameter(&quot;questionId&quot;, questionId)\n            .setParameter(&quot;answerId&quot;, answerId)\n            .getSingleResult()\n            .isRight();\n}\n</code></pre>\n<p>but teamlead said: &quot;you get the whole object from the database, get the field right away&quot;</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672239702,"post_id":74939789,"comment_id":132249143,"body_markdown":"Start a new Android Studio project with one empty activity  Then copy your .java files to the folder where the .java file of the new activity resides. Copy xml files to their respective res subfolders.","body":"Start a new Android Studio project with one empty activity  Then copy your .java files to the folder where the .java file of the new activity resides. Copy xml files to their respective res subfolders."}],"answers":[{"tags":[],"owner":{"account_id":21267548,"reputation":310,"user_id":15647563,"display_name":"K-Galalem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672228066,"creation_date":1672228066,"answer_id":74939875,"question_id":74939789,"body_markdown":"The ***android JAVA*** is kinda tricky. It violates the Java principle of **Write Once Run Anywhere**\r\n\r\nTo transfer any java project to android, it is best to:\r\n1. Separate your Java code that handle UI from the one that handles the logique (its even better to wisely organize the project into packages\r\n2. create a new blank android project\r\n3. copy the *logique* Java code/classes to java resource folder\r\n4. Convert the *UI* Java code/classes into android activities","title":"Can I transfer Java code from Eclipse to Andriodstudio?","body":"<p>The <em><strong>android JAVA</strong></em> is kinda tricky. It violates the Java principle of <strong>Write Once Run Anywhere</strong></p>\n<p>To transfer any java project to android, it is best to:</p>\n<ol>\n<li>Separate your Java code that handle UI from the one that handles the logique (its even better to wisely organize the project into packages</li>\n<li>create a new blank android project</li>\n<li>copy the <em>logique</em> Java code/classes to java resource folder</li>\n<li>Convert the <em>UI</em> Java code/classes into android activities</li>\n</ol>\n"}],"owner":{"display_name":"user20794994"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672251394,"accepted_answer_id":74939875,"answer_count":1,"score":0,"last_activity_date":1672228066,"creation_date":1672227474,"question_id":74939789,"body_markdown":"I have developed a game with Java in Eclipse, I would now like to take this 1 to 1 and make it into an app, how can I do this? Is that possible? Can I transfer this to Andriod Studio?\r\n\r\nI don&#180;t know how i could make this. Do you know a video or an intruduction?","title":"Can I transfer Java code from Eclipse to Andriodstudio?","body":"<p>I have developed a game with Java in Eclipse, I would now like to take this 1 to 1 and make it into an app, how can I do this? Is that possible? Can I transfer this to Andriod Studio?</p>\n<p>I don´t know how i could make this. Do you know a video or an intruduction?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1671943891,"post_id":74911345,"comment_id":132199612,"body_markdown":"*I get a error: java.sql.SQLException: Parameter index out of range (0 &lt; 1 )* - so this has nothing to do with the JTable. This is an SQL problem. The way to solve an SQL problem is to first test the SQL statement by hardcoding the data. Once this works, then you attempt to provide dynamic data from the JTable. I would start by looking at your SQ:L statement: 1) why do you have the &quot;row&quot; variable as part of the SQL? The point of using a PreparedStatment is that all the variable data is passed by parameters. 2) Why do you only have 2 &quot;?&quot; but attempt to set 5 parameters for the statement.","body":"<i>I get a error: java.sql.SQLException: Parameter index out of range (0 &lt; 1 )</i> - so this has nothing to do with the JTable. This is an SQL problem. The way to solve an SQL problem is to first test the SQL statement by hardcoding the data. Once this works, then you attempt to provide dynamic data from the JTable. I would start by looking at your SQ:L statement: 1) why do you have the &quot;row&quot; variable as part of the SQL? The point of using a PreparedStatment is that all the variable data is passed by parameters. 2) Why do you only have 2 &quot;?&quot; but attempt to set 5 parameters for the statement."},{"owner":{"account_id":20312707,"reputation":1,"user_id":14899335,"display_name":"Uzair "},"score":0,"creation_date":1672004976,"post_id":74911345,"comment_id":132207069,"body_markdown":"Okay, thanks for the help. I removed the &quot;row&quot; variable, and also fixed my mistake of only having 2 &quot;?&quot; I now have one for each of my parameters but I still am getting the error.                                                                                                                                      This is my current sql statement now:                                                                                PreparedStatement updateQuery = con.prepareStatement(&quot;UPDATE addcustomer&quot; + &quot;SET Name = ?, SET Address = ?, SET Email = ?, SET Tel = ?, SET FAX = ? &quot;);","body":"Okay, thanks for the help. I removed the &quot;row&quot; variable, and also fixed my mistake of only having 2 &quot;?&quot; I now have one for each of my parameters but I still am getting the error.                                                                                                                                      This is my current sql statement now:                                                                                PreparedStatement updateQuery = con.prepareStatement(&quot;UPDATE addcustomer&quot; + &quot;SET Name = ?, SET Address = ?, SET Email = ?, SET Tel = ?, SET FAX = ? &quot;);"}],"owner":{"account_id":20312707,"reputation":1,"user_id":14899335,"display_name":"Uzair "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672227766,"creation_date":1671937772,"question_id":74911345,"body_markdown":"I want to be able to update my MySQL database through user insertion in a JTable where I display my database, but based off my code right now I get a error: \r\n\r\n&gt; java.sql.SQLException: Parameter index out of range (0 &lt; 1 )\r\n\r\nThis error occurs when I click my button to update the database.\r\n\r\nThis is my main class:\r\n    \r\n```\r\npublic class Main{\r\n    public static void main(String[] args) {\r\n        new MyFrame();\r\n    }\r\n}\r\n```\r\n\r\nThis is my class for my main menu:\r\n    \r\n```\r\npackage com.company;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class MyFrame extends JFrame{\r\n\r\n    JLabel label;\r\n    JMenu Add;\r\n    JMenu remove;\r\n    JMenu items;\r\n    JMenu vendors;\r\n    JMenuBar menuBar;\r\n    JMenuItem addCustomer;\r\n    JMenuItem addVendors;\r\n    JMenuItem addProducts;\r\n    JMenuItem removeCustomer;\r\n    JMenuItem removeProduct;\r\n    JMenuItem removeVendor;\r\n\r\n    MyFrame(){\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setLayout(new FlowLayout());\r\n\r\n        label = new JLabel(&quot;Inventory Software&quot;);\r\n        label.setFont(new Font(&quot;Comic Sans MS&quot;, Font.BOLD, 30));\r\n\r\n        menuBar = new JMenuBar();\r\n\r\n        Add = new JMenu(&quot;Add&quot;);\r\n        remove = new JMenu(&quot;Edit&quot;);\r\n        items = new JMenu(&quot;Items&quot;);\r\n        vendors = new JMenu(&quot;Vendors&quot;);\r\n\r\n        addCustomer = new JMenuItem(&quot;Add Customers&quot;);\r\n        addVendors = new JMenuItem(&quot;Add Vendors&quot;);\r\n        addProducts = new JMenuItem(&quot;Add Products&quot;);\r\n\r\n        removeCustomer = new JMenuItem(&quot;Edit Customer&quot;);\r\n        removeProduct = new JMenuItem(&quot;Edit Product&quot;);\r\n        removeVendor = new JMenuItem(&quot;Edit Vendor&quot;);\r\n\r\n        remove.add(removeCustomer);\r\n        remove.add(removeProduct);\r\n        remove.add(removeVendor);\r\n\r\n        Add.add(addCustomer);\r\n        Add.add(addProducts);\r\n        Add.add(addVendors);\r\n\r\n        menuBar.add(Add);\r\n        menuBar.add(remove);\r\n        menuBar.add(items);\r\n        menuBar.add(vendors);\r\n\r\n        addCustomer.addActionListener(new WindowAC());\r\n        addVendors.addActionListener(new WindowAV());\r\n        addProducts.addActionListener(new WindowAP());\r\n        removeCustomer.addActionListener(new WindowRC());\r\n        removeVendor.addActionListener(new WindowRV());\r\n        removeProduct.addActionListener(new WindowRP());\r\n\r\n        this.setPreferredSize(new Dimension(550, 300));\r\n        this.setJMenuBar(menuBar);\r\n        this.add(label);\r\n        this.pack();\r\n        this.setVisible(true);\r\n        this.getContentPane().setBackground(Color.WHITE);\r\n        this.setLocationRelativeTo(null);\r\n        this.setTitle(&quot;Intact Communications Inventory Software&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThis is my code to edit my customers in my JTable and update them in my database:\r\n    \r\n```\r\npackage com.company;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.sql.*;\r\n\r\npublic class WindowRC implements ActionListener {\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (&quot;Edit Customer&quot;.equals(e.getActionCommand())) {\r\n            JFrame windowRC = new JFrame();\r\n            JTable table = new JTable();\r\n            JButton button = new JButton(&quot;Update Database&quot;);\r\n\r\n            table.setBounds(268, 52, 283, 198);\r\n            button.setBounds(350, 180, 100, 60);\r\n            button.setFocusable(false);\r\n\r\n            windowRC.add(button);\r\n            windowRC.add(new JScrollPane(table));\r\n\r\n            windowRC.setSize(750, 750);\r\n            windowRC.getContentPane().setBackground(Color.WHITE);\r\n            windowRC.setTitle(&quot;Remove Product Data&quot;);\r\n            windowRC.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            windowRC.setVisible(true);\r\n            windowRC.setLocationRelativeTo(null);\r\n\r\n            try {\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/inventoryapp&quot;, &quot;root&quot;, &quot;P@kist@n1&quot;);\r\n                Statement st = con.createStatement();\r\n                String query = &quot;SELECT * from addcustomer&quot;;\r\n                ResultSet rs = st.executeQuery(query);\r\n                ResultSetMetaData rsmd = rs.getMetaData();\r\n                DefaultTableModel model = (DefaultTableModel) table.getModel();\r\n\r\n                int cols = rsmd.getColumnCount();\r\n                String[] colName = new String[cols];\r\n                for (int i = 0; i &lt; cols; i++)\r\n                    colName[i] = rsmd.getColumnName(i + 1);\r\n                model.setColumnIdentifiers(colName);\r\n\r\n                String name, address, email, tel, fax;\r\n\r\n                while (rs.next()) {\r\n                    name = rs.getString(1);\r\n                    address = rs.getString(2);\r\n                    email = rs.getString(3);\r\n                    tel = rs.getString(4);\r\n                    fax = rs.getString(5);\r\n\r\n                    String[] row = {name, address, email, tel, fax};\r\n                    model.addRow(row);\r\n                }\r\n            } catch (ClassNotFoundException | SQLException classNotFoundException) {\r\n                classNotFoundException.printStackTrace();\r\n            }\r\n\r\n            if (&quot;Update Database&quot;.equals(e.getActionCommand()))\r\n                System.out.println(&quot;Update happening!!!&quot;);\r\n                button.addActionListener(new ActionListener() {\r\n                    private Object Component;\r\n\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e1) {\r\n                        try {\r\n                            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/inventoryapp&quot;, &quot;root&quot;, &quot;P@kist@n1&quot;);\r\n                            Statement st = con.createStatement();\r\n                            DefaultTableModel model = (DefaultTableModel) table.getModel();\r\n                            int row = table.getSelectedRow();\r\n\r\n                            for (int i = 0; i &lt; model.getRowCount(); i++) {\r\n                                String name = (model.getValueAt(i, 0).toString());\r\n                                String address = model.getValueAt(i, 1).toString();\r\n                                String email = model.getValueAt(i, 2).toString();\r\n                                String tel = model.getValueAt(i, 3).toString();\r\n                                String fax = model.getValueAt(i, 4).toString();\r\n\r\n                                PreparedStatement updateQuery = con.prepareStatement(&quot;UPDATE addcustomer&quot; + &quot;SET Name = ?&quot; + &quot;WHERE Name = ? &quot;+ row);\r\n\r\n                                updateQuery.setString(0,name);\r\n                                updateQuery.setString(1,address);\r\n                                updateQuery.setString(2,email);\r\n                                updateQuery.setString(3,tel);\r\n                                updateQuery.setString(4,fax);\r\n\r\n                                updateQuery.executeUpdate();\r\n\r\n                                st.close();\r\n                                con.close();\r\n\r\n                       JOptionPane.showMessageDialog((java.awt.Component) Component, &quot;Data Edited&quot;);\r\n                            }\r\n                        } catch (ClassNotFoundException | SQLException classNotFoundException) {\r\n                            classNotFoundException.printStackTrace();\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried multiple different UPDATE statements, but each time I would get an error or it won&#39;t update my database that I connected to.\r\n\r\n ","title":"Update Mysql database using data inserted into Jtable","body":"<p>I want to be able to update my MySQL database through user insertion in a JTable where I display my database, but based off my code right now I get a error:</p>\n<blockquote>\n<p>java.sql.SQLException: Parameter index out of range (0 &lt; 1 )</p>\n</blockquote>\n<p>This error occurs when I click my button to update the database.</p>\n<p>This is my main class:</p>\n<pre><code>public class Main{\n    public static void main(String[] args) {\n        new MyFrame();\n    }\n}\n</code></pre>\n<p>This is my class for my main menu:</p>\n<pre><code>package com.company;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class MyFrame extends JFrame{\n\n    JLabel label;\n    JMenu Add;\n    JMenu remove;\n    JMenu items;\n    JMenu vendors;\n    JMenuBar menuBar;\n    JMenuItem addCustomer;\n    JMenuItem addVendors;\n    JMenuItem addProducts;\n    JMenuItem removeCustomer;\n    JMenuItem removeProduct;\n    JMenuItem removeVendor;\n\n    MyFrame(){\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setLayout(new FlowLayout());\n\n        label = new JLabel(&quot;Inventory Software&quot;);\n        label.setFont(new Font(&quot;Comic Sans MS&quot;, Font.BOLD, 30));\n\n        menuBar = new JMenuBar();\n\n        Add = new JMenu(&quot;Add&quot;);\n        remove = new JMenu(&quot;Edit&quot;);\n        items = new JMenu(&quot;Items&quot;);\n        vendors = new JMenu(&quot;Vendors&quot;);\n\n        addCustomer = new JMenuItem(&quot;Add Customers&quot;);\n        addVendors = new JMenuItem(&quot;Add Vendors&quot;);\n        addProducts = new JMenuItem(&quot;Add Products&quot;);\n\n        removeCustomer = new JMenuItem(&quot;Edit Customer&quot;);\n        removeProduct = new JMenuItem(&quot;Edit Product&quot;);\n        removeVendor = new JMenuItem(&quot;Edit Vendor&quot;);\n\n        remove.add(removeCustomer);\n        remove.add(removeProduct);\n        remove.add(removeVendor);\n\n        Add.add(addCustomer);\n        Add.add(addProducts);\n        Add.add(addVendors);\n\n        menuBar.add(Add);\n        menuBar.add(remove);\n        menuBar.add(items);\n        menuBar.add(vendors);\n\n        addCustomer.addActionListener(new WindowAC());\n        addVendors.addActionListener(new WindowAV());\n        addProducts.addActionListener(new WindowAP());\n        removeCustomer.addActionListener(new WindowRC());\n        removeVendor.addActionListener(new WindowRV());\n        removeProduct.addActionListener(new WindowRP());\n\n        this.setPreferredSize(new Dimension(550, 300));\n        this.setJMenuBar(menuBar);\n        this.add(label);\n        this.pack();\n        this.setVisible(true);\n        this.getContentPane().setBackground(Color.WHITE);\n        this.setLocationRelativeTo(null);\n        this.setTitle(&quot;Intact Communications Inventory Software&quot;);\n    }\n}\n</code></pre>\n<p>This is my code to edit my customers in my JTable and update them in my database:</p>\n<pre><code>package com.company;\n\nimport javax.swing.*;\nimport javax.swing.table.DefaultTableModel;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.*;\n\npublic class WindowRC implements ActionListener {\n    public void actionPerformed(ActionEvent e) {\n        if (&quot;Edit Customer&quot;.equals(e.getActionCommand())) {\n            JFrame windowRC = new JFrame();\n            JTable table = new JTable();\n            JButton button = new JButton(&quot;Update Database&quot;);\n\n            table.setBounds(268, 52, 283, 198);\n            button.setBounds(350, 180, 100, 60);\n            button.setFocusable(false);\n\n            windowRC.add(button);\n            windowRC.add(new JScrollPane(table));\n\n            windowRC.setSize(750, 750);\n            windowRC.getContentPane().setBackground(Color.WHITE);\n            windowRC.setTitle(&quot;Remove Product Data&quot;);\n            windowRC.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            windowRC.setVisible(true);\n            windowRC.setLocationRelativeTo(null);\n\n            try {\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/inventoryapp&quot;, &quot;root&quot;, &quot;P@kist@n1&quot;);\n                Statement st = con.createStatement();\n                String query = &quot;SELECT * from addcustomer&quot;;\n                ResultSet rs = st.executeQuery(query);\n                ResultSetMetaData rsmd = rs.getMetaData();\n                DefaultTableModel model = (DefaultTableModel) table.getModel();\n\n                int cols = rsmd.getColumnCount();\n                String[] colName = new String[cols];\n                for (int i = 0; i &lt; cols; i++)\n                    colName[i] = rsmd.getColumnName(i + 1);\n                model.setColumnIdentifiers(colName);\n\n                String name, address, email, tel, fax;\n\n                while (rs.next()) {\n                    name = rs.getString(1);\n                    address = rs.getString(2);\n                    email = rs.getString(3);\n                    tel = rs.getString(4);\n                    fax = rs.getString(5);\n\n                    String[] row = {name, address, email, tel, fax};\n                    model.addRow(row);\n                }\n            } catch (ClassNotFoundException | SQLException classNotFoundException) {\n                classNotFoundException.printStackTrace();\n            }\n\n            if (&quot;Update Database&quot;.equals(e.getActionCommand()))\n                System.out.println(&quot;Update happening!!!&quot;);\n                button.addActionListener(new ActionListener() {\n                    private Object Component;\n\n                    @Override\n                    public void actionPerformed(ActionEvent e1) {\n                        try {\n                            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/inventoryapp&quot;, &quot;root&quot;, &quot;P@kist@n1&quot;);\n                            Statement st = con.createStatement();\n                            DefaultTableModel model = (DefaultTableModel) table.getModel();\n                            int row = table.getSelectedRow();\n\n                            for (int i = 0; i &lt; model.getRowCount(); i++) {\n                                String name = (model.getValueAt(i, 0).toString());\n                                String address = model.getValueAt(i, 1).toString();\n                                String email = model.getValueAt(i, 2).toString();\n                                String tel = model.getValueAt(i, 3).toString();\n                                String fax = model.getValueAt(i, 4).toString();\n\n                                PreparedStatement updateQuery = con.prepareStatement(&quot;UPDATE addcustomer&quot; + &quot;SET Name = ?&quot; + &quot;WHERE Name = ? &quot;+ row);\n\n                                updateQuery.setString(0,name);\n                                updateQuery.setString(1,address);\n                                updateQuery.setString(2,email);\n                                updateQuery.setString(3,tel);\n                                updateQuery.setString(4,fax);\n\n                                updateQuery.executeUpdate();\n\n                                st.close();\n                                con.close();\n\n                       JOptionPane.showMessageDialog((java.awt.Component) Component, &quot;Data Edited&quot;);\n                            }\n                        } catch (ClassNotFoundException | SQLException classNotFoundException) {\n                            classNotFoundException.printStackTrace();\n                        }\n                    }\n                });\n        }\n    }\n}\n</code></pre>\n<p>I tried multiple different UPDATE statements, but each time I would get an error or it won't update my database that I connected to.</p>\n"},{"tags":["java","eclipse","ide","editor"],"comments":[{"owner":{"account_id":4108490,"reputation":631,"user_id":3371749,"accept_rate":100,"display_name":"LuxGiammi"},"score":0,"creation_date":1572099389,"post_id":58570511,"comment_id":103459884,"body_markdown":"One downvote and one vote to close this question, *without giving any reasons*","body":"One downvote and one vote to close this question, <i>without giving any reasons</i>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1572133897,"post_id":58570511,"comment_id":103467136,"body_markdown":"Do you have additional plug-ins installed?","body":"Do you have additional plug-ins installed?"},{"owner":{"account_id":4108490,"reputation":631,"user_id":3371749,"accept_rate":100,"display_name":"LuxGiammi"},"score":0,"creation_date":1572166501,"post_id":58570511,"comment_id":103470944,"body_markdown":"@howlger only Vrapper, but the problem existed even before its installation.","body":"@howlger only Vrapper, but the problem existed even before its installation."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1572184818,"post_id":58570511,"comment_id":103474746,"body_markdown":"Which GTK version do you have exactly? Sounds like [Eclipse bug 495220](https://bugs.eclipse.org/bugs/show_bug.cgi?id=495220), but that was fixed quite some time ago.","body":"Which GTK version do you have exactly? Sounds like <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=495220\" rel=\"nofollow noreferrer\">Eclipse bug 495220</a>, but that was fixed quite some time ago."},{"owner":{"account_id":4108490,"reputation":631,"user_id":3371749,"accept_rate":100,"display_name":"LuxGiammi"},"score":0,"creation_date":1572189079,"post_id":58570511,"comment_id":103475734,"body_markdown":"@howlger `About -&gt; Installation details -&gt; Configuration` reports these lines: `org.eclipse.swt.internal.gtk.theme=Adwaita\norg.eclipse.swt.internal.gtk.version=3.24.5\norg.eclipse.swt.internal.webkitgtk.version=2.24.4` from which I understand that I&#39;m using GTK 3.24.5. Perhaps I should try to switch to GTK2. I&#39;ll give it a try and see if it works correctly. Thanks.","body":"@howlger <code>About -&gt; Installation details -&gt; Configuration</code> reports these lines: <code>org.eclipse.swt.internal.gtk.theme=Adwaita org.eclipse.swt.internal.gtk.version=3.24.5 org.eclipse.swt.internal.webkitgtk.version=2.24.4</code> from which I understand that I&#39;m using GTK 3.24.5. Perhaps I should try to switch to GTK2. I&#39;ll give it a try and see if it works correctly. Thanks."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1572189720,"post_id":58570511,"comment_id":103475872,"body_markdown":"Unfortunately, [GTK2 support has been dropped](https://www.eclipse.org/eclipse/news/4.10/platform.php#gtk2-removal). Maybe you can try to update GTK3.","body":"Unfortunately, <a href=\"https://www.eclipse.org/eclipse/news/4.10/platform.php#gtk2-removal\" rel=\"nofollow noreferrer\">GTK2 support has been dropped</a>. Maybe you can try to update GTK3."},{"owner":{"account_id":4108490,"reputation":631,"user_id":3371749,"accept_rate":100,"display_name":"LuxGiammi"},"score":0,"creation_date":1572190119,"post_id":58570511,"comment_id":103475974,"body_markdown":"I tried to run `apt install libgtk3-0 libgtk3-bin libgtk3-common`, but it says that they&#39;re all updated at the newest version","body":"I tried to run <code>apt install libgtk3-0 libgtk3-bin libgtk3-common</code>, but it says that they&#39;re all updated at the newest version"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1572263876,"post_id":58570511,"comment_id":103494034,"body_markdown":"Any ideas where the focus is going? Have you tried a different window manager?","body":"Any ideas where the focus is going? Have you tried a different window manager?"},{"owner":{"account_id":4108490,"reputation":631,"user_id":3371749,"accept_rate":100,"display_name":"LuxGiammi"},"score":0,"creation_date":1572286221,"post_id":58570511,"comment_id":103505254,"body_markdown":"@nitind no, I have not tried any other window managers, but the cursor writes code even when I cannot see it, so I guess that the focus is on the control which displays and edits the code.","body":"@nitind no, I have not tried any other window managers, but the cursor writes code even when I cannot see it, so I guess that the focus is on the control which displays and edits the code."},{"owner":{"account_id":18915822,"reputation":356,"user_id":13800918,"display_name":"Antoni"},"score":0,"creation_date":1632688994,"post_id":58570511,"comment_id":122554307,"body_markdown":"extremely annoying, and still not fixed (eclipse 2021-09)","body":"extremely annoying, and still not fixed (eclipse 2021-09)"}],"answers":[{"tags":[],"owner":{"account_id":14172345,"reputation":43,"user_id":10238591,"display_name":"jkan5855"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578310999,"creation_date":1577127037,"answer_id":59460024,"question_id":58570511,"body_markdown":"Dead place, but I&#39;m currently dealing with the same. The weird thing is that it happens on a per-file basis. Eclipse also treats that file as if it was not open, i.e. I can only save it through the &#39;Save all&#39; method, not &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;S&lt;/kbd&gt; (&#39;Save&#39;) as I usually do. It&#39;s hellishly annoying, but **it usually is fixed by reopening the file in question, and editing other files between the closing and reopening of other files.**\r\n\r\nIf you have a better answer than this that you&#39;ve found since, please, please post it here. It&#39;s annoying as all hell.","title":"The cursor randomly disappears in Eclipse 2019-09 and sometimes stops writing","body":"<p>Dead place, but I'm currently dealing with the same. The weird thing is that it happens on a per-file basis. Eclipse also treats that file as if it was not open, i.e. I can only save it through the 'Save all' method, not <kbd>Ctrl</kbd>-<kbd>S</kbd> ('Save') as I usually do. It's hellishly annoying, but <strong>it usually is fixed by reopening the file in question, and editing other files between the closing and reopening of other files.</strong></p>\n\n<p>If you have a better answer than this that you've found since, please, please post it here. It's annoying as all hell.</p>\n"},{"tags":[],"owner":{"account_id":39197,"reputation":1432,"user_id":112937,"accept_rate":67,"display_name":"thedrs"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672227664,"creation_date":1672227664,"answer_id":74939813,"question_id":58570511,"body_markdown":"Minimize eclipse and maximize again.\r\nHappened to me on Eclipse 2022-09 (4.25.0).\r\n","title":"The cursor randomly disappears in Eclipse 2019-09 and sometimes stops writing","body":"<p>Minimize eclipse and maximize again.\nHappened to me on Eclipse 2022-09 (4.25.0).</p>\n"}],"owner":{"account_id":4108490,"reputation":631,"user_id":3371749,"accept_rate":100,"display_name":"LuxGiammi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3658,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":2,"score":9,"last_activity_date":1672227664,"creation_date":1572090789,"question_id":58570511,"body_markdown":"I have a very annoying problem with Eclipse 2019-09 (4.13.0) version: while I&#39;m editing code (often when I copy and paste things or after accepting a code completion suggestion) the cursor (I&#39;m talking about the text cursor: `|`) disappears completely! I cannot see it anymore, so I&#39;m not able to detect on which part of the line I am! This is very annoying. I found a partial fix by installing the extension &#39;Vrapper&#39;: enabling and disabling it makes the cursor appear again.\r\n\r\nAnother problem I experience every time I press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Space&lt;/kbd&gt; to ask for code completion suggestions, the cursor stops writing. After doing random things like switching tabs or opening new files the cursor starts to write again, but then the keyboard shortcuts stop working and I have to restart the entire IDE.\r\n\r\nThis behavior is intolerable, so I was wondering whether somebody else has had the same problem and how they have dealt with it.\r\n\r\nThe configuration of my system is:\r\nOS: Debian, using i3wm+compton as a window manager on Xserver. \r\n\r\nThanks in advance.","title":"The cursor randomly disappears in Eclipse 2019-09 and sometimes stops writing","body":"<p>I have a very annoying problem with Eclipse 2019-09 (4.13.0) version: while I'm editing code (often when I copy and paste things or after accepting a code completion suggestion) the cursor (I'm talking about the text cursor: <code>|</code>) disappears completely! I cannot see it anymore, so I'm not able to detect on which part of the line I am! This is very annoying. I found a partial fix by installing the extension 'Vrapper': enabling and disabling it makes the cursor appear again.</p>\n\n<p>Another problem I experience every time I press <kbd>Ctrl</kbd>+<kbd>Space</kbd> to ask for code completion suggestions, the cursor stops writing. After doing random things like switching tabs or opening new files the cursor starts to write again, but then the keyboard shortcuts stop working and I have to restart the entire IDE.</p>\n\n<p>This behavior is intolerable, so I was wondering whether somebody else has had the same problem and how they have dealt with it.</p>\n\n<p>The configuration of my system is:\nOS: Debian, using i3wm+compton as a window manager on Xserver. </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","kotlin","apache-kafka","spring-webflux"],"owner":{"account_id":6106288,"reputation":505,"user_id":4763929,"accept_rate":0,"display_name":"Lukas S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672227459,"creation_date":1672227459,"question_id":74939787,"body_markdown":"I am trying to setup the Kafka reactive Consumer the way it retries processing of a message when it is not acknowledged. The issue is the message is never retried and processed only once. Here are parts of code invoked by my automated test...\r\nMy ReactiveKafkaConsumerTemplate looks like this:\r\n```\r\n    @Bean\r\n    fun testKafkaConsumerTemplate(kafkaProperties: KafkaProperties): ReactiveKafkaConsumerTemplate&lt;String, TestDto&gt; {\r\n        val props = kafkaProperties.buildConsumerProperties()\r\n        val basicReceiverOptions: ReceiverOptions&lt;String, TestDto&gt; = ReceiverOptions.create(props)\r\n        val kafkaReceiverOptions = basicReceiverOptions.commitInterval(Duration.ZERO)\r\n                .commitBatchSize(1)\r\n                .pollTimeout(Duration.ofSeconds(2))\r\n                .subscription(Collections.singletonList(&quot;TestTopic&quot;))\r\n        return ReactiveKafkaConsumerTemplate(kafkaReceiverOptions)\r\n    }\r\n```\r\n\r\nadditional config from application.yml\r\n```\r\nspring:\r\n  kafka:\r\n    bootstrap-servers: localhost:9092\r\n    producer:\r\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n    consumer:\r\n      group-id: messaging-java\r\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\r\n      auto-offset-reset: earliest\r\n      enable-auto-commit: false\r\n```\r\n\r\nHere you can see in my test consumer I am just throwing an exeption when a message is processed for the first time so it is ton acknowledged. But the retry never happens (My automated test is waiting 20 seconds for the retry), the consumer runs the message processing just once\r\n```\r\n @EventListener(ApplicationReadyEvent::class)\r\n    fun consume() {\r\n        testKafkaConsumerTemplate.receive()\r\n                .doOnCancel {\r\n                    coroutineScope.cancel()\r\n                }\r\n                .doOnNext { record -&gt;\r\n                    coroutineScope.launch {\r\n                        log.info(&quot;Received a confirmation in the TestTopic&quot;)\r\n                        try {\r\n                            counter++\r\n                            if (counter == 1L) {\r\n                                throw RuntimeException(&quot;Controlled testing exception&quot;)\r\n                            }\r\n                            record.receiverOffset().acknowledge()\r\n                        } catch (ex: Exception) {\r\n\r\n                            log.info(&quot;Error in processing TestDto&quot;)\r\n                        }\r\n                    }\r\n                }.subscribe()\r\n    }\r\n```\r\n\r\nAny idea what am I missing?\r\n","title":"Retry of failed message in Kafka Spring Webflux using Kotlin","body":"<p>I am trying to setup the Kafka reactive Consumer the way it retries processing of a message when it is not acknowledged. The issue is the message is never retried and processed only once. Here are parts of code invoked by my automated test...\nMy ReactiveKafkaConsumerTemplate looks like this:</p>\n<pre><code>    @Bean\n    fun testKafkaConsumerTemplate(kafkaProperties: KafkaProperties): ReactiveKafkaConsumerTemplate&lt;String, TestDto&gt; {\n        val props = kafkaProperties.buildConsumerProperties()\n        val basicReceiverOptions: ReceiverOptions&lt;String, TestDto&gt; = ReceiverOptions.create(props)\n        val kafkaReceiverOptions = basicReceiverOptions.commitInterval(Duration.ZERO)\n                .commitBatchSize(1)\n                .pollTimeout(Duration.ofSeconds(2))\n                .subscription(Collections.singletonList(&quot;TestTopic&quot;))\n        return ReactiveKafkaConsumerTemplate(kafkaReceiverOptions)\n    }\n</code></pre>\n<p>additional config from application.yml</p>\n<pre><code>spring:\n  kafka:\n    bootstrap-servers: localhost:9092\n    producer:\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n    consumer:\n      group-id: messaging-java\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\n      auto-offset-reset: earliest\n      enable-auto-commit: false\n</code></pre>\n<p>Here you can see in my test consumer I am just throwing an exeption when a message is processed for the first time so it is ton acknowledged. But the retry never happens (My automated test is waiting 20 seconds for the retry), the consumer runs the message processing just once</p>\n<pre><code> @EventListener(ApplicationReadyEvent::class)\n    fun consume() {\n        testKafkaConsumerTemplate.receive()\n                .doOnCancel {\n                    coroutineScope.cancel()\n                }\n                .doOnNext { record -&gt;\n                    coroutineScope.launch {\n                        log.info(&quot;Received a confirmation in the TestTopic&quot;)\n                        try {\n                            counter++\n                            if (counter == 1L) {\n                                throw RuntimeException(&quot;Controlled testing exception&quot;)\n                            }\n                            record.receiverOffset().acknowledge()\n                        } catch (ex: Exception) {\n\n                            log.info(&quot;Error in processing TestDto&quot;)\n                        }\n                    }\n                }.subscribe()\n    }\n</code></pre>\n<p>Any idea what am I missing?</p>\n"},{"tags":["javascript","java","jsp","servlets"],"comments":[{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1672221699,"post_id":74938701,"comment_id":132244304,"body_markdown":"Right-click the web page and click view-source and paste relevant parts of that instead of JSP","body":"Right-click the web page and click view-source and paste relevant parts of that instead of JSP"},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1672221829,"post_id":74938701,"comment_id":132244333,"body_markdown":"I recommend you give the button an ID and do `window.addEventListener(&quot;DOMContentLoaded&quot;, () =&gt; { const jso = &quot;&lt;%=resp%&gt;&quot;; document.getElementById(&quot;myButton&quot;).addEventListener(&quot;click&quot;, (e) =&gt; { alert(jso); }); })` and remove the inline event handler","body":"I recommend you give the button an ID and do <code>window.addEventListener(&quot;DOMContentLoaded&quot;, () =&gt; { const jso = &quot;&lt;%=resp%&gt;&quot;; document.getElementById(&quot;myButton&quot;).addEventListener(&quot;click&quot;&zwnj;&#8203;, (e) =&gt; { alert(jso); }); })</code> and remove the inline event handler"},{"owner":{"account_id":27372559,"reputation":11,"user_id":20878386,"display_name":"Naved Ahmed"},"score":0,"creation_date":1672223131,"post_id":74938701,"comment_id":132244679,"body_markdown":"mplungjan it shows nothing in console now.","body":"mplungjan it shows nothing in console now."},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1672223967,"post_id":74938701,"comment_id":132244895,"body_markdown":"What console? You alert things. If you want it in the console, use console.log and if it does not work, then there will likely be an error instead","body":"What console? You alert things. If you want it in the console, use console.log and if it does not work, then there will likely be an error instead"},{"owner":{"account_id":27372559,"reputation":11,"user_id":20878386,"display_name":"Naved Ahmed"},"score":0,"creation_date":1672224445,"post_id":74938701,"comment_id":132245023,"body_markdown":"mplungjan it shows nothing not alert and not error in the console.","body":"mplungjan it shows nothing not alert and not error in the console."}],"answers":[{"tags":[],"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672224793,"creation_date":1672224793,"answer_id":74939333,"question_id":74938701,"body_markdown":"This must work. If not, then there is something else going on\r\n\r\nHere I do not add the \r\n\r\n    &lt;% String resp= session.getAttribute(&quot;jsonData&quot;).toString();%&gt;\r\n\r\nfor obvious reasons\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    window.addEventListener(&quot;DOMContentLoaded&quot;, () =&gt; {\r\n      const jso = &quot;&lt;%=resp%&gt;&quot;;\r\n      document.getElementById(&quot;myButton&quot;).addEventListener(&quot;click&quot;, (e) =&gt; {\r\n        alert(jso);\r\n      });\r\n    })\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;input type=&quot;button&quot; id=&quot;myButton&quot; class=&quot;btn&quot; value=&quot;Place Order&quot;&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Uncaught Reference Error my() is not defined","body":"<p>This must work. If not, then there is something else going on</p>\n<p>Here I do not add the</p>\n<pre><code>&lt;% String resp= session.getAttribute(&quot;jsonData&quot;).toString();%&gt;\n</code></pre>\n<p>for obvious reasons</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.addEventListener(\"DOMContentLoaded\", () =&gt; {\n  const jso = \"&lt;%=resp%&gt;\";\n  document.getElementById(\"myButton\").addEventListener(\"click\", (e) =&gt; {\n    alert(jso);\n  });\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"button\" id=\"myButton\" class=\"btn\" value=\"Place Order\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672227446,"creation_date":1672227446,"answer_id":74939783,"question_id":74938701,"body_markdown":"You probably have a JavaScript error in this line:\r\n`const jso=&quot;&lt;%=resp%&gt;&quot;`\r\n\r\n`resp` comes from an attribute called `jsonData`, and therefore I assume that it contains JSON. Properties and string values in JSON are enclosed in double quotes. The following little example already shows the error I expect you&#39;re getting:\r\n```\r\nconst jso=&quot;{&quot;key&quot;: &quot;value&quot;}&quot;\r\n```\r\nThe opening `&quot;` isn&#39;t closed by the last `&quot;`, but by the first one in your JSON. In other words - you&#39;re outputting invalid JavaScript.\r\n\r\nThe best solution is to properly escape the JSON. I recommend using [Apache Commons Text 1.10.0][1]. With the proper import:\r\n```\r\nconst jso=&quot;&lt;%=StringEscapeUtils.escapeJson(resp)%&gt;&quot;\r\n```\r\nThis will properly escape any unsafe characters, including `&quot;`, in `resp` before outputting it.\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.commons/commons-text/1.10.0","title":"Uncaught Reference Error my() is not defined","body":"<p>You probably have a JavaScript error in this line:\n<code>const jso=&quot;&lt;%=resp%&gt;&quot;</code></p>\n<p><code>resp</code> comes from an attribute called <code>jsonData</code>, and therefore I assume that it contains JSON. Properties and string values in JSON are enclosed in double quotes. The following little example already shows the error I expect you're getting:</p>\n<pre><code>const jso=&quot;{&quot;key&quot;: &quot;value&quot;}&quot;\n</code></pre>\n<p>The opening <code>&quot;</code> isn't closed by the last <code>&quot;</code>, but by the first one in your JSON. In other words - you're outputting invalid JavaScript.</p>\n<p>The best solution is to properly escape the JSON. I recommend using <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-text/1.10.0\" rel=\"nofollow noreferrer\">Apache Commons Text 1.10.0</a>. With the proper import:</p>\n<pre><code>const jso=&quot;&lt;%=StringEscapeUtils.escapeJson(resp)%&gt;&quot;\n</code></pre>\n<p>This will properly escape any unsafe characters, including <code>&quot;</code>, in <code>resp</code> before outputting it.</p>\n"}],"owner":{"account_id":27372559,"reputation":11,"user_id":20878386,"display_name":"Naved Ahmed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74939783,"answer_count":2,"score":0,"last_activity_date":1672227446,"creation_date":1672220981,"question_id":74938701,"body_markdown":"```\r\n&lt;input type=&quot;button&quot; class=&quot;btn&quot; value=&quot;Place Order&quot; onclick=&quot;my()&quot;&gt;\r\n\r\n\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\n\r\n  &lt;% String resp= session.getAttribute(&quot;jsonData&quot;).toString();%&gt;\r\n  const jso=&quot;&lt;%=resp%&gt;&quot;\r\nfunction my(){\r\n\r\n    alert(jso);\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n&lt;/script&gt;\r\n\r\n```\r\nI want to get JSP variable and store in javascript and show in alert but when i di this my onclick function return function my is not defined.","title":"Uncaught Reference Error my() is not defined","body":"<pre><code>&lt;input type=&quot;button&quot; class=&quot;btn&quot; value=&quot;Place Order&quot; onclick=&quot;my()&quot;&gt;\n\n\n&lt;script type=&quot;text/javascript&quot;&gt;\n\n  &lt;% String resp= session.getAttribute(&quot;jsonData&quot;).toString();%&gt;\n  const jso=&quot;&lt;%=resp%&gt;&quot;\nfunction my(){\n\n    alert(jso);\n\n\n  }\n\n\n\n\n&lt;/script&gt;\n\n</code></pre>\n<p>I want to get JSP variable and store in javascript and show in alert but when i di this my onclick function return function my is not defined.</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672212945,"creation_date":1672076284,"answer_id":74922673,"question_id":74921436,"body_markdown":"Yes, one replica is made in the background.\r\n\r\nYes, the broker will catch up all out of sync replicas upon restarts.\r\n\r\nIf you ever have in-sync replicas &lt;= replication factor, then you cannot lose any brokers more than the difference between the values (due to maintenance or failure). Therefore, replication factor should always be greater ","title":"Kafka min.insync.replicas &lt; replication.factor","body":"<p>Yes, one replica is made in the background.</p>\n<p>Yes, the broker will catch up all out of sync replicas upon restarts.</p>\n<p>If you ever have in-sync replicas &lt;= replication factor, then you cannot lose any brokers more than the difference between the values (due to maintenance or failure). Therefore, replication factor should always be greater</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672227311,"creation_date":1672227311,"answer_id":74939751,"question_id":74921436,"body_markdown":"The other answer is absolutely correct, but it took me quite a while to figure out. imho, this is somehow subtle and though my understanding might be a little incorrect here and there, it helped to build a mental model of what is going on.\r\n\r\nSuppose I have a cluster of 3 brokers :\r\n\r\n    [a, b, c]  -&gt;  brokers\r\n    [a, b]     -&gt; ISR\r\n    [a, b, c]  -&gt; RF\r\n\r\nHow many brokers can I tolerate to be down? The answer is 1. \r\n\r\n- If lose broker &quot;c&quot;, ISR can still be satisfied and the cluster will work just fine.\r\n\r\n- If I lose broker &quot;a&quot; (the explanation is the same if I lost &quot;b&quot;), a rebalance has to happen. zookeeper will ask what brokers were in-sync (who satisfied RF) _before_ I lost one from the ISR. Well, there were 3 of them part of RF = a, b, c. Since I lost &quot;a&quot;, there are two left now that are in sync: &quot;b&quot; and &quot;c&quot;. A leader election has to happen and the ISR will be satisfied with &quot;b&quot; and &quot;c&quot;.\r\n\r\n- This means that I can lose _any_ one broker from the cluster and still work fine. It might be trivial here, but the next example is not so much, imho.\r\n\r\n----\r\n\r\nSuppose I have a (artificial example) cluster with 5 brokers:\r\n\r\n    [a, b, c, d, e]  -&gt; brokers\r\n    [a, b]           -&gt; ISR\r\n    [a, b, c]        -&gt; RF\r\n\r\nHow many brokers can I tolerate as being down now? Initially I thought 2, but that can&#39;t be correct.  \r\n\r\n- If I lose &quot;d&quot; and &quot;e&quot;, it&#39;s simple, the cluster will continue to work just fine.\r\n\r\n- If lose &quot;a&quot; and &quot;b&quot;, in theory a rebalance has to happen. But what brokers were part of RF before I lost &quot;a&quot; and &quot;b&quot; or which brokers were in-sync? [a, b, c]. There is no way to satisfy ISR if two of those brokers are down.\r\n\r\n- This means that I can&#39;t tolerate _any_ two brokers being down, which means this set-up is not really fault tolerant with _any_ 2 brokers down.\r\n\r\n- It can only be tolerant with two brokers down if my set-up is different:\r\n\r\n      5 -&gt; brokers\r\n      3 -&gt; ISR\r\n      5 -&gt; RF\r\n\r\n----\r\n\r\nAnd this is where the other answer is correct and makes total sense:\r\n\r\n&gt; If you ever have in-sync replicas &lt;= replication factor, then you cannot lose any brokers more than the difference between the values","title":"Kafka min.insync.replicas &lt; replication.factor","body":"<p>The other answer is absolutely correct, but it took me quite a while to figure out. imho, this is somehow subtle and though my understanding might be a little incorrect here and there, it helped to build a mental model of what is going on.</p>\n<p>Suppose I have a cluster of 3 brokers :</p>\n<pre><code>[a, b, c]  -&gt;  brokers\n[a, b]     -&gt; ISR\n[a, b, c]  -&gt; RF\n</code></pre>\n<p>How many brokers can I tolerate to be down? The answer is 1.</p>\n<ul>\n<li><p>If lose broker &quot;c&quot;, ISR can still be satisfied and the cluster will work just fine.</p>\n</li>\n<li><p>If I lose broker &quot;a&quot; (the explanation is the same if I lost &quot;b&quot;), a rebalance has to happen. zookeeper will ask what brokers were in-sync (who satisfied RF) <em>before</em> I lost one from the ISR. Well, there were 3 of them part of RF = a, b, c. Since I lost &quot;a&quot;, there are two left now that are in sync: &quot;b&quot; and &quot;c&quot;. A leader election has to happen and the ISR will be satisfied with &quot;b&quot; and &quot;c&quot;.</p>\n</li>\n<li><p>This means that I can lose <em>any</em> one broker from the cluster and still work fine. It might be trivial here, but the next example is not so much, imho.</p>\n</li>\n</ul>\n<hr />\n<p>Suppose I have a (artificial example) cluster with 5 brokers:</p>\n<pre><code>[a, b, c, d, e]  -&gt; brokers\n[a, b]           -&gt; ISR\n[a, b, c]        -&gt; RF\n</code></pre>\n<p>How many brokers can I tolerate as being down now? Initially I thought 2, but that can't be correct.</p>\n<ul>\n<li><p>If I lose &quot;d&quot; and &quot;e&quot;, it's simple, the cluster will continue to work just fine.</p>\n</li>\n<li><p>If lose &quot;a&quot; and &quot;b&quot;, in theory a rebalance has to happen. But what brokers were part of RF before I lost &quot;a&quot; and &quot;b&quot; or which brokers were in-sync? [a, b, c]. There is no way to satisfy ISR if two of those brokers are down.</p>\n</li>\n<li><p>This means that I can't tolerate <em>any</em> two brokers being down, which means this set-up is not really fault tolerant with <em>any</em> 2 brokers down.</p>\n</li>\n<li><p>It can only be tolerant with two brokers down if my set-up is different:</p>\n<pre><code>5 -&gt; brokers\n3 -&gt; ISR\n5 -&gt; RF\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>And this is where the other answer is correct and makes total sense:</p>\n<blockquote>\n<p>If you ever have in-sync replicas &lt;= replication factor, then you cannot lose any brokers more than the difference between the values</p>\n</blockquote>\n"}],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74922673,"answer_count":2,"score":1,"last_activity_date":1672227311,"creation_date":1672066355,"question_id":74921436,"body_markdown":"Suppose I have a cluster with 3 kafka brokers. I set:\r\n\r\n    min.insync.replicas=2\r\n    default.replication.factor=3\r\n\r\n\r\n - All brokers are up, ISR is fine, I get a message where `ack=all`. Since `ISR=2`, two copies of the message are for sure stored. 1) Will one more copy (because replication=3) be made in the background? 2) If it fails - it does not matter, correct? Cluster health is just fine. \r\n\r\n- One broker is down, `ISR=2` can be maintained and the message is saved to two brokers. After some time that broker that was down comes up again. 3) Since replication=3, will it try to catch up with the others in the back-ground? \r\n\r\n\r\nI am trying to figure out of a _practical_ example where setting replication factor to be bigger than ISR would make sense. A real example I could &quot;touch&quot; and understand. If this is a duplicate, please refer me to it. Thank you. ","title":"Kafka min.insync.replicas &lt; replication.factor","body":"<p>Suppose I have a cluster with 3 kafka brokers. I set:</p>\n<pre><code>min.insync.replicas=2\ndefault.replication.factor=3\n</code></pre>\n<ul>\n<li><p>All brokers are up, ISR is fine, I get a message where <code>ack=all</code>. Since <code>ISR=2</code>, two copies of the message are for sure stored. 1) Will one more copy (because replication=3) be made in the background? 2) If it fails - it does not matter, correct? Cluster health is just fine.</p>\n</li>\n<li><p>One broker is down, <code>ISR=2</code> can be maintained and the message is saved to two brokers. After some time that broker that was down comes up again. 3) Since replication=3, will it try to catch up with the others in the back-ground?</p>\n</li>\n</ul>\n<p>I am trying to figure out of a <em>practical</em> example where setting replication factor to be bigger than ISR would make sense. A real example I could &quot;touch&quot; and understand. If this is a duplicate, please refer me to it. Thank you.</p>\n"},{"tags":["java","kotlin","reflection","kotlin-coroutines"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1672154745,"post_id":74925521,"comment_id":132231360,"body_markdown":"Generally, what you did seems fine to me. Only one question: why do you use `KCallable` and other parts of Kotlin reflection API from Java? If it makes more sense for you to use `Method` then I can prepare an example for you.","body":"Generally, what you did seems fine to me. Only one question: why do you use <code>KCallable</code> and other parts of Kotlin reflection API from Java? If it makes more sense for you to use <code>Method</code> then I can prepare an example for you."},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1672169880,"post_id":74925521,"comment_id":132235555,"body_markdown":"@broot I was following Spring&#39;s code, and figured using Kotlin reflection would be easier (I realized I missed posting the line where a `Method` gets turned into a `KFunction`, updated now). But if I can get away without even depending on Kotlin reflection, I&#39;d be very grateful for an example :)","body":"@broot I was following Spring&#39;s code, and figured using Kotlin reflection would be easier (I realized I missed posting the line where a <code>Method</code> gets turned into a <code>KFunction</code>, updated now). But if I can get away without even depending on Kotlin reflection, I&#39;d be very grateful for an example :)"}],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672227221,"creation_date":1672226178,"answer_id":74939561,"question_id":74925521,"body_markdown":"First of all, suspendable code is not easily callable from Java and this is by design. We can do it, but as you already noticed, this is not straightforward and requires some internal knowledge about coroutines.\r\n\r\nUsually, it is a good idea to create an adaptation layer to translate suspendable code into something Java understands: `CompletableFuture` using [future()](https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-guava/kotlinx.coroutines.guava/future.html) or blocking code using [runBlocking()](https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/run-blocking.html). It is easier to write this in the Kotlin itself, so even if you consume Kotlin library from Java and the library doesn&#39;t provide such adapters to futures, you can consider adding a very thin Kotlin wrapper on the consumer side to do the translation.\r\n\r\nIf this is not possible, we can still use the same `future()` utility from Java, which you already do. This approach is a little more awkward as we need to e.g. provide values for all optional parameters.\r\n\r\n`future()` is generally pretty easy to use. We need to provide a lambda that will invoke our suspendable function, passing a continuation we received in the lambda. That&#39;s it. However, there are multiple parameters to control the process and they complicate things. Also, we don&#39;t have to use `ReflectJvmMapping.getKotlinFunction()`, `KCallables.callSuspend()` and `getSuspendedFunctionArgs()` if we don&#39;t want to. Again, all we need to do is to invoke the function in the lambda and we can do this &quot;the Java way&quot;.\r\n\r\nSimple example:\r\n\r\n```kotlin\r\nobject Database {\r\n    @JvmStatic\r\n    suspend fun loadUsername(userId: Int): String {\r\n        delay(5000)\r\n        return &quot;User$userId&quot;\r\n    }\r\n}\r\n```\r\n```java\r\n// Note the method receives additional `Continuation` parameter - it is always the last param.\r\nMethod method = Database.class.getMethod(&quot;loadUsername&quot;, int.class, Continuation.class);\r\nCompletableFuture&lt;String&gt; future = FutureKt.future(\r\n        GlobalScope.INSTANCE, EmptyCoroutineContext.INSTANCE, CoroutineStart.DEFAULT, (scope, continuation) -&gt; {\r\n            try {\r\n                // We invoke the method passing its own arguments and the continuation.\r\n                return method.invoke(null, 5, continuation);\r\n            } catch (IllegalAccessException | InvocationTargetException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n\r\nSystem.out.println(&quot;Launched, waiting...&quot;);\r\nvar result = future.get();\r\n// Result: User5\r\nSystem.out.println(&quot;Result: &quot; + result);\r\n```\r\nWe don&#39;t have to use Java reflection here, we can invoke `Database.loadUsername(5, continuation)` directly, but the question was specifically about the reflection.\r\n\r\nFew words about params:\r\n\r\n - `GlobalScope.INSTANCE` - this is related to the concept of [structured concurrency](https://elizarov.medium.com/structured-concurrency-722d765aa952) and using `GlobalScope` means the background operation doesn&#39;t have any &quot;owner&quot; to control it. In Java we don&#39;t have structured concurrency, so in most cases it is fine to simply use `GlobalScope`.\r\n- `EmptyCoroutineContext.INSTANCE` - I think it is safer to use `EmptyCoroutineContext` than `Dispatchers.getUnconfined()`. The difference is that unconfined dispatcher runs a coroutine inside the thread which launched or resumed it; and the empty context in this case uses a special global thread pool. Unconfined is better for performance, but it is a more advanced feature and we should use it only if we know the suspendable code and can decide it will be safe to use unconfined. It doesn&#39;t sound good for a generic adaptation layer. I&#39;m not sure what was the reason Spring team decided to use unconfined, maybe they had a more specific use case.\r\n\r\nBTW, I also observe `Dispatchers.getUnconfined()` can&#39;t be used as the coroutine context, but I can&#39;t explain why. Seems like some kind of a bug in IntelliJ (?). `CoroutineDispatcher` extends `AbstractCoroutineContextElement` which implements `CoroutineContext.Element` which extends `CoroutineContext`. Therefore, `CoroutineDispatcher` is a subtype of `CoroutineContext`. As a matter of fact, we can compile this code and it runs just fine, even if IntelliJ says it is wrong.","title":"Can I invoke a Kotlin coroutine from Java reflectively and wrap it in CompletableFuture?","body":"<p>First of all, suspendable code is not easily callable from Java and this is by design. We can do it, but as you already noticed, this is not straightforward and requires some internal knowledge about coroutines.</p>\n<p>Usually, it is a good idea to create an adaptation layer to translate suspendable code into something Java understands: <code>CompletableFuture</code> using <a href=\"https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-guava/kotlinx.coroutines.guava/future.html\" rel=\"nofollow noreferrer\">future()</a> or blocking code using <a href=\"https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/run-blocking.html\" rel=\"nofollow noreferrer\">runBlocking()</a>. It is easier to write this in the Kotlin itself, so even if you consume Kotlin library from Java and the library doesn't provide such adapters to futures, you can consider adding a very thin Kotlin wrapper on the consumer side to do the translation.</p>\n<p>If this is not possible, we can still use the same <code>future()</code> utility from Java, which you already do. This approach is a little more awkward as we need to e.g. provide values for all optional parameters.</p>\n<p><code>future()</code> is generally pretty easy to use. We need to provide a lambda that will invoke our suspendable function, passing a continuation we received in the lambda. That's it. However, there are multiple parameters to control the process and they complicate things. Also, we don't have to use <code>ReflectJvmMapping.getKotlinFunction()</code>, <code>KCallables.callSuspend()</code> and <code>getSuspendedFunctionArgs()</code> if we don't want to. Again, all we need to do is to invoke the function in the lambda and we can do this &quot;the Java way&quot;.</p>\n<p>Simple example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>object Database {\n    @JvmStatic\n    suspend fun loadUsername(userId: Int): String {\n        delay(5000)\n        return &quot;User$userId&quot;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Note the method receives additional `Continuation` parameter - it is always the last param.\nMethod method = Database.class.getMethod(&quot;loadUsername&quot;, int.class, Continuation.class);\nCompletableFuture&lt;String&gt; future = FutureKt.future(\n        GlobalScope.INSTANCE, EmptyCoroutineContext.INSTANCE, CoroutineStart.DEFAULT, (scope, continuation) -&gt; {\n            try {\n                // We invoke the method passing its own arguments and the continuation.\n                return method.invoke(null, 5, continuation);\n            } catch (IllegalAccessException | InvocationTargetException e) {\n                throw new RuntimeException(e);\n            }\n        });\n\nSystem.out.println(&quot;Launched, waiting...&quot;);\nvar result = future.get();\n// Result: User5\nSystem.out.println(&quot;Result: &quot; + result);\n</code></pre>\n<p>We don't have to use Java reflection here, we can invoke <code>Database.loadUsername(5, continuation)</code> directly, but the question was specifically about the reflection.</p>\n<p>Few words about params:</p>\n<ul>\n<li><code>GlobalScope.INSTANCE</code> - this is related to the concept of <a href=\"https://elizarov.medium.com/structured-concurrency-722d765aa952\" rel=\"nofollow noreferrer\">structured concurrency</a> and using <code>GlobalScope</code> means the background operation doesn't have any &quot;owner&quot; to control it. In Java we don't have structured concurrency, so in most cases it is fine to simply use <code>GlobalScope</code>.</li>\n<li><code>EmptyCoroutineContext.INSTANCE</code> - I think it is safer to use <code>EmptyCoroutineContext</code> than <code>Dispatchers.getUnconfined()</code>. The difference is that unconfined dispatcher runs a coroutine inside the thread which launched or resumed it; and the empty context in this case uses a special global thread pool. Unconfined is better for performance, but it is a more advanced feature and we should use it only if we know the suspendable code and can decide it will be safe to use unconfined. It doesn't sound good for a generic adaptation layer. I'm not sure what was the reason Spring team decided to use unconfined, maybe they had a more specific use case.</li>\n</ul>\n<p>BTW, I also observe <code>Dispatchers.getUnconfined()</code> can't be used as the coroutine context, but I can't explain why. Seems like some kind of a bug in IntelliJ (?). <code>CoroutineDispatcher</code> extends <code>AbstractCoroutineContextElement</code> which implements <code>CoroutineContext.Element</code> which extends <code>CoroutineContext</code>. Therefore, <code>CoroutineDispatcher</code> is a subtype of <code>CoroutineContext</code>. As a matter of fact, we can compile this code and it runs just fine, even if IntelliJ says it is wrong.</p>\n"}],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74939561,"answer_count":1,"score":1,"last_activity_date":1672227221,"creation_date":1672112404,"question_id":74925521,"body_markdown":"I&#39;m reflectively accessing a Kotlin class and trying to invoke a coroutine, wrapping it in a `CompletableFuture`.\r\nLooking at an example from Spring, they manage to wrap such a reflective call in a `Mono` using [`kotlinx-coroutines-reactor`](https://github.com/Kotlin/kotlinx.coroutines/tree/540d862afeccd72f338334e67402a974ddb150a9/reactive/kotlinx-coroutines-reactor):\r\n\r\n    KFunction&lt;?&gt; function = ReflectJvmMapping.getKotlinFunction(method);\r\n    Mono&lt;Object&gt; mono = MonoKt.mono(Dispatchers.getUnconfined(), (scope, continuation) -&gt;\r\n                            KCallables.callSuspend(function, getSuspendedFunctionArgs(target, args), continuation));\r\n\r\nI could easily just call `Mono#toFuture()` but I&#39;m trying to avoid dragging in a dependency to Reactor. Can I achieve the same without going through `Mono`?\r\n\r\nLooking at [kotlinx-coroutines-jdk8](https://github.com/Kotlin/kotlinx.coroutines/tree/master/integration/kotlinx-coroutines-jdk8), there seems to exist something similar to the above, but I can&#39;t figure out how to use it. Perhaps:\r\n\r\n    CompletableFuture&lt;Object&gt; future = FutureKt.future(\r\n             GlobalScope.INSTANCE, Dispatchers.getUnconfined(), CoroutineStart.DEFAULT, (scope, continuation) -&gt;\r\n                    KCallables.callSuspend(function, getSuspendedFunctionArgs(target, args), continuation));\r\n\r\nBut this is just a blind guess, as I have next to 0 Kotlin knowledge. Are `CoroutineStart.DEFAULT` or `GlobalScope.INSTANCE` even ok here?\r\n\r\nBtw, how is Spring getting away with passing a `CoroutineDispatcher` (`Dispatchers.getUnconfined()`) where a `CoroutineContext` is expected? Should I be using `EmptyCoroutineContext` instead?","title":"Can I invoke a Kotlin coroutine from Java reflectively and wrap it in CompletableFuture?","body":"<p>I'm reflectively accessing a Kotlin class and trying to invoke a coroutine, wrapping it in a <code>CompletableFuture</code>.\nLooking at an example from Spring, they manage to wrap such a reflective call in a <code>Mono</code> using <a href=\"https://github.com/Kotlin/kotlinx.coroutines/tree/540d862afeccd72f338334e67402a974ddb150a9/reactive/kotlinx-coroutines-reactor\" rel=\"nofollow noreferrer\"><code>kotlinx-coroutines-reactor</code></a>:</p>\n<pre><code>KFunction&lt;?&gt; function = ReflectJvmMapping.getKotlinFunction(method);\nMono&lt;Object&gt; mono = MonoKt.mono(Dispatchers.getUnconfined(), (scope, continuation) -&gt;\n                        KCallables.callSuspend(function, getSuspendedFunctionArgs(target, args), continuation));\n</code></pre>\n<p>I could easily just call <code>Mono#toFuture()</code> but I'm trying to avoid dragging in a dependency to Reactor. Can I achieve the same without going through <code>Mono</code>?</p>\n<p>Looking at <a href=\"https://github.com/Kotlin/kotlinx.coroutines/tree/master/integration/kotlinx-coroutines-jdk8\" rel=\"nofollow noreferrer\">kotlinx-coroutines-jdk8</a>, there seems to exist something similar to the above, but I can't figure out how to use it. Perhaps:</p>\n<pre><code>CompletableFuture&lt;Object&gt; future = FutureKt.future(\n         GlobalScope.INSTANCE, Dispatchers.getUnconfined(), CoroutineStart.DEFAULT, (scope, continuation) -&gt;\n                KCallables.callSuspend(function, getSuspendedFunctionArgs(target, args), continuation));\n</code></pre>\n<p>But this is just a blind guess, as I have next to 0 Kotlin knowledge. Are <code>CoroutineStart.DEFAULT</code> or <code>GlobalScope.INSTANCE</code> even ok here?</p>\n<p>Btw, how is Spring getting away with passing a <code>CoroutineDispatcher</code> (<code>Dispatchers.getUnconfined()</code>) where a <code>CoroutineContext</code> is expected? Should I be using <code>EmptyCoroutineContext</code> instead?</p>\n"},{"tags":["java","random","uuid"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":5,"creation_date":1368435487,"post_id":16518165,"comment_id":23716201,"body_markdown":"*&quot;every couple of seconds .. might be problematic in performance&quot;*  That is hardly &#39;CPU busting&#39; performance.  A couple of thousand times a second might count.","body":"<i>&quot;every couple of seconds .. might be problematic in performance&quot;</i>  That is hardly &#39;CPU busting&#39; performance.  A couple of thousand times a second might count."},{"owner":{"account_id":470912,"reputation":4321,"user_id":878361,"accept_rate":86,"display_name":"destan"},"score":0,"creation_date":1368435775,"post_id":16518165,"comment_id":23716351,"body_markdown":"`...will be good enough to my needs` what&#39;s your exact needs? how many users you expect? what is your server specifications?","body":"<code>...will be good enough to my needs</code> what&#39;s your exact needs? how many users you expect? what is your server specifications?"},{"owner":{"account_id":1088196,"reputation":4845,"user_id":1083423,"accept_rate":73,"display_name":"danieln"},"score":0,"creation_date":1368436146,"post_id":16518165,"comment_id":23716528,"body_markdown":"@AndrewThompson, your are right, I updated my question.","body":"@AndrewThompson, your are right, I updated my question."},{"owner":{"account_id":1197482,"reputation":4952,"user_id":1168884,"accept_rate":79,"display_name":"matt freake"},"score":0,"creation_date":1368436714,"post_id":16518165,"comment_id":23716831,"body_markdown":"A change from &quot;every couple of seconds&quot; to &quot;hundreds-thousand of time per second&quot; is very big. Do you have any evidence that says how often the id will be required, or are you just guessing/thinking of worst case scenarios?","body":"A change from &quot;every couple of seconds&quot; to &quot;hundreds-thousand of time per second&quot; is very big. Do you have any evidence that says how often the id will be required, or are you just guessing/thinking of worst case scenarios?"},{"owner":{"account_id":1088196,"reputation":4845,"user_id":1083423,"accept_rate":73,"display_name":"danieln"},"score":0,"creation_date":1368437913,"post_id":16518165,"comment_id":23717462,"body_markdown":"Hi @Disco3, trust me, I&#39;m not making this up. My application runs as java-agent on users application, then, the frequency is up to the number of users that use the user application.","body":"Hi @Disco3, trust me, I&#39;m not making this up. My application runs as java-agent on users application, then, the frequency is up to the number of users that use the user application."}],"answers":[{"tags":[],"owner":{"account_id":470912,"reputation":4321,"user_id":878361,"accept_rate":86,"display_name":"destan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1368436607,"creation_date":1368436607,"answer_id":16518542,"question_id":16518165,"body_markdown":"To prevent possible collisions I would suggest you to somehow integrate users&#39; unique ids into the generated id. You can do this either adding user id to directly to  the generated id\r\n\r\n    System.currentTimeMillis() + &quot;;&quot; + Long.toString(_random.nextLong()) + userId\r\n\r\nor you can use separate `_random` for each user that uses the user&#39;s id as its [seed][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Random.html#setSeed%28long%29","title":"Generate ID fast and with high probability of uniqueness","body":"<p>To prevent possible collisions I would suggest you to somehow integrate users' unique ids into the generated id. You can do this either adding user id to directly to  the generated id</p>\n\n<pre><code>System.currentTimeMillis() + \";\" + Long.toString(_random.nextLong()) + userId\n</code></pre>\n\n<p>or you can use separate <code>_random</code> for each user that uses the user's id as its <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Random.html#setSeed%28long%29\" rel=\"nofollow\">seed</a>.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368436778,"creation_date":1368436778,"answer_id":16518586,"question_id":16518165,"body_markdown":"`UUID uuid = UUID.randomUUID();` is less than 8 times slower, after warming up, 0.015 ms versus 0.0021 ms on my PC. That would be a positive argument for UUID - for me.\r\n\r\n1. One could shift the random long a bit to the right, so time is more normative, sequencing.\r\n2. No, there is a pseudo random distribution involved.\r\n","title":"Generate ID fast and with high probability of uniqueness","body":"<p><code>UUID uuid = UUID.randomUUID();</code> is less than 8 times slower, after warming up, 0.015 ms versus 0.0021 ms on my PC. That would be a positive argument for UUID - for me.</p>\n\n<ol>\n<li>One could shift the random long a bit to the right, so time is more normative, sequencing.</li>\n<li>No, there is a pseudo random distribution involved.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614847608,"creation_date":1368436835,"answer_id":16518607,"question_id":16518165,"body_markdown":"&gt; I can&#39;t afford using UUID.randomUUID() because it might be problematic\r\n\r\nAnd it might not. Currently, you&#39;re solving a problem that might not exist. I suggest to use an interface so you can easily swap out the generated ID but stick to this generator on which many smart people have spent a lot of time to make it right.\r\n\r\nYour own solution might work in many cases but the corner cases are important and you will only see those after a few years of experience.\r\n\r\nThat said, combining the current time + `Random` should give pretty unique IDs. But they are easy to guess and insecure.","title":"Generate ID fast and with high probability of uniqueness","body":"<blockquote>\n<p>I can't afford using UUID.randomUUID() because it might be problematic</p>\n</blockquote>\n<p>And it might not. Currently, you're solving a problem that might not exist. I suggest to use an interface so you can easily swap out the generated ID but stick to this generator on which many smart people have spent a lot of time to make it right.</p>\n<p>Your own solution might work in many cases but the corner cases are important and you will only see those after a few years of experience.</p>\n<p>That said, combining the current time + <code>Random</code> should give pretty unique IDs. But they are easy to guess and insecure.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1615567084,"creation_date":1368437805,"answer_id":16518915,"question_id":16518165,"body_markdown":"I would use the following.\r\n\r\n\r\n    final AtomicLong counter = new AtomicLong(System.currentTimeMillis() * 1000);\r\n\r\nand\r\n\r\n    long l = counter.getAndIncrement(); // takes less than 10 nano-seconds most of the time.\r\n\r\nThis will be unique within your system and across restarts provided you average less than one million per second.\r\n\r\nEven at this rate, the number will not overflow for some time.\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(new java.util.Date(Long.MAX_VALUE/1000));\r\n        }\r\n    }\r\n\r\nprints\r\n\r\n    Sun Jan 10 04:00:54 GMT 294247\r\n\r\nEDIT: In the last 8 years I have switched to using nanosecond wall clock and memory-mapped files to ensure uniqueness across processes on the same machine. The code is available here. https://github.com/OpenHFT/Chronicle-Bytes/blob/ea/src/main/java/net/openhft/chronicle/bytes/MappedUniqueTimeProvider.java","title":"Generate ID fast and with high probability of uniqueness","body":"<p>I would use the following.</p>\n<pre><code>final AtomicLong counter = new AtomicLong(System.currentTimeMillis() * 1000);\n</code></pre>\n<p>and</p>\n<pre><code>long l = counter.getAndIncrement(); // takes less than 10 nano-seconds most of the time.\n</code></pre>\n<p>This will be unique within your system and across restarts provided you average less than one million per second.</p>\n<p>Even at this rate, the number will not overflow for some time.</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        System.out.println(new java.util.Date(Long.MAX_VALUE/1000));\n    }\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Sun Jan 10 04:00:54 GMT 294247\n</code></pre>\n<p>EDIT: In the last 8 years I have switched to using nanosecond wall clock and memory-mapped files to ensure uniqueness across processes on the same machine. The code is available here. <a href=\"https://github.com/OpenHFT/Chronicle-Bytes/blob/ea/src/main/java/net/openhft/chronicle/bytes/MappedUniqueTimeProvider.java\" rel=\"nofollow noreferrer\">https://github.com/OpenHFT/Chronicle-Bytes/blob/ea/src/main/java/net/openhft/chronicle/bytes/MappedUniqueTimeProvider.java</a></p>\n"},{"tags":[],"owner":{"account_id":357783,"reputation":5010,"user_id":698168,"display_name":"Julien Kronegg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672227144,"creation_date":1672227144,"answer_id":74939726,"question_id":16518165,"body_markdown":"I would use a library to avoid reinventing the wheel.\r\n\r\nFor example, JUG (https://github.com/cowtowncoder/java-uuid-generator) can generate 5 millions time-based UUIDs per second (https://github.com/cowtowncoder/java-uuid-generator/blob/master/release-notes/FAQ) :\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.uuid&lt;/groupId&gt;\r\n      &lt;artifactId&gt;java-uuid-generator&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    UUID uuid = Generators.timeBasedGenerator().generate();\r\n","title":"Generate ID fast and with high probability of uniqueness","body":"<p>I would use a library to avoid reinventing the wheel.</p>\n<p>For example, JUG (<a href=\"https://github.com/cowtowncoder/java-uuid-generator\" rel=\"nofollow noreferrer\">https://github.com/cowtowncoder/java-uuid-generator</a>) can generate 5 millions time-based UUIDs per second (<a href=\"https://github.com/cowtowncoder/java-uuid-generator/blob/master/release-notes/FAQ\" rel=\"nofollow noreferrer\">https://github.com/cowtowncoder/java-uuid-generator/blob/master/release-notes/FAQ</a>) :</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.uuid&lt;/groupId&gt;\n  &lt;artifactId&gt;java-uuid-generator&lt;/artifactId&gt;\n  &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\nUUID uuid = Generators.timeBasedGenerator().generate();\n</code></pre>\n"}],"owner":{"account_id":1088196,"reputation":4845,"user_id":1083423,"accept_rate":73,"display_name":"danieln"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4769,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":5,"score":9,"last_activity_date":1672227144,"creation_date":1368435334,"question_id":16518165,"body_markdown":"I want to generate ID to event that occur in my application.\r\n\r\nThe event frequency is up to the user load, so it might occur hundreds-thousand of time per second.\r\n\r\nI can&#39;t afford using `UUID.randomUUID()` because it might be problematic in performance matters - Take a look at [this][1].\r\n\r\nI thought of generating ID as follows:\r\n\r\n    System.currentTimeMillis() + &quot;;&quot; + Long.toString(_random.nextLong())\r\n\r\nWhen `_random` is a static `java.util.Random` my class is holding. \r\n\r\nMy questions are:\r\n\r\n1. Do you think the distribution of this combination will be good enough to my needs? \r\n2. Does Java&#39;s Random implementation related to the current time and therefore the fact I&#39;m combining the two is dangerous? \r\n\r\n\r\n  [1]: http://tech.top21.de/techblog/20100317-why-java-s-random-number-generation-might-block-my-application-under-linux.html","title":"Generate ID fast and with high probability of uniqueness","body":"<p>I want to generate ID to event that occur in my application.</p>\n\n<p>The event frequency is up to the user load, so it might occur hundreds-thousand of time per second.</p>\n\n<p>I can't afford using <code>UUID.randomUUID()</code> because it might be problematic in performance matters - Take a look at <a href=\"http://tech.top21.de/techblog/20100317-why-java-s-random-number-generation-might-block-my-application-under-linux.html\" rel=\"noreferrer\">this</a>.</p>\n\n<p>I thought of generating ID as follows:</p>\n\n<pre><code>System.currentTimeMillis() + \";\" + Long.toString(_random.nextLong())\n</code></pre>\n\n<p>When <code>_random</code> is a static <code>java.util.Random</code> my class is holding. </p>\n\n<p>My questions are:</p>\n\n<ol>\n<li>Do you think the distribution of this combination will be good enough to my needs? </li>\n<li>Does Java's Random implementation related to the current time and therefore the fact I'm combining the two is dangerous? </li>\n</ol>\n"},{"tags":["java","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672227127,"creation_date":1672227127,"answer_id":74939724,"question_id":74939602,"body_markdown":"Looking into [HashTree JavaDoc][1] it derives from [Map][2] and the Map doesn&#39;t preserve insertion order hence your &quot;expectation&quot; is wrong. \r\n\r\nThe easiest way of converting a .har file into JMeter test script is using [BlazeMeter Converter][3] \r\n\r\n\r\n  [1]: https://jmeter.apache.org/api/org/apache/jorphan/collections/HashTree.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\r\n  [3]: https://converter.blazemeter.com/","title":"JMeter HashTree not sorted correct after loading project in JMeter","body":"<p>Looking into <a href=\"https://jmeter.apache.org/api/org/apache/jorphan/collections/HashTree.html\" rel=\"nofollow noreferrer\">HashTree JavaDoc</a> it derives from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a> and the Map doesn't preserve insertion order hence your &quot;expectation&quot; is wrong.</p>\n<p>The easiest way of converting a .har file into JMeter test script is using <a href=\"https://converter.blazemeter.com/\" rel=\"nofollow noreferrer\">BlazeMeter Converter</a></p>\n"}],"owner":{"account_id":3618713,"reputation":129,"user_id":3018014,"accept_rate":25,"display_name":"bbx402"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672227127,"creation_date":1672226390,"question_id":74939602,"body_markdown":"I do have a har file that I need to parse with JMeter StandardJMeterEngine...\r\nand produce a jmx file.\r\n\r\nI&#39;m creating the TestPlan, threadGroup, loopController and for each page a TransactionController.\r\nAfter loading the file in JMeter, the elements are not in the correct order.\r\nI expect them to appear in the order parsed and added in the threadGroup HashTree.\r\n\r\nParsing them in the following order:\r\n\r\n    page_6 \r\n    page_7 \r\n    page_8 \r\n    page_9 \r\n    page_10 \r\n    page_11 \r\n    page_12 \r\n    page_13 \r\n    page_14\r\n\r\nFinally, I get this in JMeter:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WzVI2.png\r\n\r\nAny ideas? \r\n\r\nthank you in advance","title":"JMeter HashTree not sorted correct after loading project in JMeter","body":"<p>I do have a har file that I need to parse with JMeter StandardJMeterEngine...\nand produce a jmx file.</p>\n<p>I'm creating the TestPlan, threadGroup, loopController and for each page a TransactionController.\nAfter loading the file in JMeter, the elements are not in the correct order.\nI expect them to appear in the order parsed and added in the threadGroup HashTree.</p>\n<p>Parsing them in the following order:</p>\n<pre><code>page_6 \npage_7 \npage_8 \npage_9 \npage_10 \npage_11 \npage_12 \npage_13 \npage_14\n</code></pre>\n<p>Finally, I get this in JMeter:</p>\n<p><a href=\"https://i.stack.imgur.com/WzVI2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WzVI2.png\" alt=\"enter image description here\" /></a></p>\n<p>Any ideas?</p>\n<p>thank you in advance</p>\n"},{"tags":["java","tomcat","web-applications","dispatcher"],"owner":{"account_id":17324638,"reputation":21,"user_id":12549136,"display_name":"7575 mohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672226788,"creation_date":1672226788,"question_id":74939662,"body_markdown":"i have web app with below HttpHeaderSecurityFilter configuration in conf/web.xml\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.apache.catalina.filters.HttpHeaderSecurityFilter&lt;/filter-class&gt;\r\n        &lt;async-supported&gt;true&lt;/async-supported&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;blockContentTypeSniffingEnabled&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;antiClickJackingEnabled&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;antiClickJackingOption&lt;/param-name&gt;\r\n            &lt;param-value&gt;SAMEORIGIN&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;xssProtectionEnabled&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;hstsEnabled&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;hstsMaxAgeSeconds&lt;/param-name&gt;\r\n            &lt;param-value&gt;60&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nwith FORWARD dispatcher configuration application throws below issue for all requests\r\n\r\n    javax.servlet.ServletException: Unable to add HTTP headers since response is already committed on entry to the HTTP header security Filter\r\n\tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:101)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\r\n\r\nbut when i remove FORWARD dispatcher configuration no issue occurs.  i have searched everywhere i could not found reason can someone help me with this why this issue occurs ?\r\n\r\nThanks in Advance ","title":"Configuring FORWARD dispatcher for tomcat&#39;s HttpHeaderSecurityFilter throws exception","body":"<p>i have web app with below HttpHeaderSecurityFilter configuration in conf/web.xml</p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.apache.catalina.filters.HttpHeaderSecurityFilter&lt;/filter-class&gt;\n    &lt;async-supported&gt;true&lt;/async-supported&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;blockContentTypeSniffingEnabled&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;antiClickJackingEnabled&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;antiClickJackingOption&lt;/param-name&gt;\n        &lt;param-value&gt;SAMEORIGIN&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;xssProtectionEnabled&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;hstsEnabled&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;hstsMaxAgeSeconds&lt;/param-name&gt;\n        &lt;param-value&gt;60&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>with FORWARD dispatcher configuration application throws below issue for all requests</p>\n<pre><code>javax.servlet.ServletException: Unable to add HTTP headers since response is already committed on entry to the HTTP header security Filter\nat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:101)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n</code></pre>\n<p>but when i remove FORWARD dispatcher configuration no issue occurs.  i have searched everywhere i could not found reason can someone help me with this why this issue occurs ?</p>\n<p>Thanks in Advance</p>\n"},{"tags":["java","unit-testing","multithreading","junit"],"answers":[{"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507237319,"creation_date":1273864338,"answer_id":2836900,"question_id":2836885,"body_markdown":"Try using [thread.join()][1] on the created thread. This will wait for that thread to die.\r\n\r\nEdit: to avoid this, try `Thread.getThreadGroup().setDaemon(true);` in the test, or perhaps in the `setUp()` method. I haven&#39;t tested this though.\r\n\r\n&gt; A daemon thread group is automatically destroyed when its last thread is stopped or its last thread group is destroyed.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#join()\r\n\r\nI wonder if JUnit is calling `System.exit()` or something as soon as the test finishes, however.","title":"JUnit terminates child threads","body":"<p>Try using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#join()\" rel=\"nofollow noreferrer\">thread.join()</a> on the created thread. This will wait for that thread to die.</p>\n\n<p>Edit: to avoid this, try <code>Thread.getThreadGroup().setDaemon(true);</code> in the test, or perhaps in the <code>setUp()</code> method. I haven't tested this though.</p>\n\n<blockquote>\n  <p>A daemon thread group is automatically destroyed when its last thread is stopped or its last thread group is destroyed.</p>\n</blockquote>\n\n<p>I wonder if JUnit is calling <code>System.exit()</code> or something as soon as the test finishes, however.</p>\n"},{"tags":[],"owner":{"account_id":119938,"reputation":7435,"user_id":312025,"accept_rate":66,"display_name":"Istao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1273866916,"creation_date":1273866916,"answer_id":2837188,"question_id":2836885,"body_markdown":"Perhaps group your threads with an **ExecutorService**, then use **shutdown** and [awaitTermination][1] method ?\r\n\r\nThe condition is to use Runnable or Future, not Threads themselves.\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html#awaitTermination%28long,%20java.util.concurrent.TimeUnit%29","title":"JUnit terminates child threads","body":"<p>Perhaps group your threads with an <strong>ExecutorService</strong>, then use <strong>shutdown</strong> and <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html#awaitTermination%28long,%20java.util.concurrent.TimeUnit%29\" rel=\"nofollow noreferrer\">awaitTermination</a> method ?</p>\n\n<p>The condition is to use Runnable or Future, not Threads themselves.</p>\n"},{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1598771095,"creation_date":1273877601,"answer_id":2838142,"question_id":2836885,"body_markdown":"After reading the question and some comments, it seems that what you need is **a technique for unit testing asynchronous operations**. doSomething() returns immediately, but you want the test code to wait for its completion, and then do some validations.\r\n\r\nThe problem is that the test is not aware of the threads being spawned by the call, so apparently it has no means of waiting for them. One can think of many sophisticated (and probably flawed) ways to solve this, but in my opinion there is a design problem here. A unit test should simulate a client of some API, and it should not assume anything about the implementation; It should only test functionality, as reflected by the API and its documentation. Therefore, I would avoid trying to detect and track the threads created by the async call. Instead, I would improve the API of the tested class, if needed. The class where the async call belongs to should provide some mechanism for detecting termination. I can think of 3 ways, but there are probably more:\r\n\r\n1. Allow registering a listener that gets notified once the operation is completed\r\n\r\n2. Providing a synchronous version of the operation. The implementation can call the async version, and then block until completion. If the class should not be exposing such a method, its visibility can be reduced to package protected, so that the test can access it.\r\n\r\n3. Using the wait-notify pattern, on some visible object.\r\n\r\n\r\nIf the class provides no such mechanism, then it is not really testable, and worse, it is probably not very reusable either.\r\n","title":"JUnit terminates child threads","body":"<p>After reading the question and some comments, it seems that what you need is <strong>a technique for unit testing asynchronous operations</strong>. doSomething() returns immediately, but you want the test code to wait for its completion, and then do some validations.</p>\n<p>The problem is that the test is not aware of the threads being spawned by the call, so apparently it has no means of waiting for them. One can think of many sophisticated (and probably flawed) ways to solve this, but in my opinion there is a design problem here. A unit test should simulate a client of some API, and it should not assume anything about the implementation; It should only test functionality, as reflected by the API and its documentation. Therefore, I would avoid trying to detect and track the threads created by the async call. Instead, I would improve the API of the tested class, if needed. The class where the async call belongs to should provide some mechanism for detecting termination. I can think of 3 ways, but there are probably more:</p>\n<ol>\n<li><p>Allow registering a listener that gets notified once the operation is completed</p>\n</li>\n<li><p>Providing a synchronous version of the operation. The implementation can call the async version, and then block until completion. If the class should not be exposing such a method, its visibility can be reduced to package protected, so that the test can access it.</p>\n</li>\n<li><p>Using the wait-notify pattern, on some visible object.</p>\n</li>\n</ol>\n<p>If the class provides no such mechanism, then it is not really testable, and worse, it is probably not very reusable either.</p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672226722,"creation_date":1308606923,"answer_id":6418031,"question_id":2836885,"body_markdown":"The basic technique that [Eyal Schneider outlined in his answer](https://stackoverflow.com/a/2838142) is what my [ConcurrentUnit][1] library is intended to accomplish. The general usage is:\r\n\r\n 1. Spawn some threads\r\n 2. Have the main thread wait or sleep\r\n 3. Perform assertions from within the worker threads (which via ConcurrentUnit, are reported back to the main thread)\r\n 4. Resume the main thread from one of the worker threads once all assertions are complete\r\n\r\nSee [the README on GitHub](https://github.com/jhalterman/concurrentunit#readme) for more info.\r\n\r\n  [1]: https://github.com/jhalterman/concurrentunit","title":"JUnit terminates child threads","body":"<p>The basic technique that <a href=\"https://stackoverflow.com/a/2838142\">Eyal Schneider outlined in his answer</a> is what my <a href=\"https://github.com/jhalterman/concurrentunit\" rel=\"nofollow noreferrer\">ConcurrentUnit</a> library is intended to accomplish. The general usage is:</p>\n<ol>\n<li>Spawn some threads</li>\n<li>Have the main thread wait or sleep</li>\n<li>Perform assertions from within the worker threads (which via ConcurrentUnit, are reported back to the main thread)</li>\n<li>Resume the main thread from one of the worker threads once all assertions are complete</li>\n</ol>\n<p>See <a href=\"https://github.com/jhalterman/concurrentunit#readme\" rel=\"nofollow noreferrer\">the README on GitHub</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":3689690,"reputation":1,"user_id":3072585,"display_name":"Fred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386292514,"creation_date":1386291025,"answer_id":20413918,"question_id":2836885,"body_markdown":"    \t\twhile (s.isRunning()) {\r\n\t\t\t    try {\r\n\t\t\t\t    Thread.sleep(SLEEP_TIME);\r\n\t\t\t    } catch (InterruptedException e) {\r\n\t\t\t\t    e.printStackTrace();\r\n\t\t\t    }\r\n\t\t    }\r\nYou could try to block the JUnit thread and have it wait for your thread to complete. The `Thread.sleep()` is needed so that your thread does not hog CPU. In this example s would be your thread you will need to have an `isRunning()` method so you can check if the thread is still running every `SLEEP_TIME` milliseconds. I know this isn&#39;t the greatest solution but if you only have 2 threads and you dont want JUnit killing your thread this works. The while loop with cause this JUnit thread to stay alive and wait for your other thread to finish.","title":"JUnit terminates child threads","body":"<pre><code>        while (s.isRunning()) {\n            try {\n                Thread.sleep(SLEEP_TIME);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n\n<p>You could try to block the JUnit thread and have it wait for your thread to complete. The <code>Thread.sleep()</code> is needed so that your thread does not hog CPU. In this example s would be your thread you will need to have an <code>isRunning()</code> method so you can check if the thread is still running every <code>SLEEP_TIME</code> milliseconds. I know this isn't the greatest solution but if you only have 2 threads and you dont want JUnit killing your thread this works. The while loop with cause this JUnit thread to stay alive and wait for your other thread to finish.</p>\n"},{"tags":[],"owner":{"account_id":8997554,"reputation":33,"user_id":6707342,"display_name":"YellowStar5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552006714,"creation_date":1552006714,"answer_id":55055238,"question_id":2836885,"body_markdown":"In java, try use CountDownLatch to make the main thread wait until the child thread completed.\r\n\r\n        @Test\r\n        public void myTest() {\r\n            CountDownLatch countDownLatch = new CountDownLatch(1);\r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    //write your logic here\r\n                    countDownLatch.countDown();\r\n                }\r\n            }).start();\r\n            //wait until the child thread completed.\r\n            countDownLatch.await();\r\n        }","title":"JUnit terminates child threads","body":"<p>In java, try use CountDownLatch to make the main thread wait until the child thread completed.</p>\n\n<pre><code>    @Test\n    public void myTest() {\n        CountDownLatch countDownLatch = new CountDownLatch(1);\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                //write your logic here\n                countDownLatch.countDown();\n            }\n        }).start();\n        //wait until the child thread completed.\n        countDownLatch.await();\n    }\n</code></pre>\n"}],"owner":{"account_id":113272,"reputation":67818,"user_id":298406,"accept_rate":79,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11186,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":2838142,"answer_count":6,"score":18,"last_activity_date":1672226722,"creation_date":1273864231,"question_id":2836885,"body_markdown":"When I test the execution of a method that creates a child thread, the JUnit test ends before the child thread and kills it.\r\n\r\nHow do I force JUnit to wait for the child thread to complete its execution?","title":"JUnit terminates child threads","body":"<p>When I test the execution of a method that creates a child thread, the JUnit test ends before the child thread and kills it.</p>\n<p>How do I force JUnit to wait for the child thread to complete its execution?</p>\n"},{"tags":["java","reflection","sun-codemodel","jcodemodel"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1374609387,"post_id":17819803,"comment_id":26005019,"body_markdown":"It appears to be type String, because that&#39;s what you extended.","body":"It appears to be type String, because that&#39;s what you extended."},{"owner":{"account_id":28117,"reputation":105582,"user_id":74757,"accept_rate":79,"display_name":"Cᴏʀʏ"},"score":0,"creation_date":1374609520,"post_id":17819803,"comment_id":26005091,"body_markdown":"possible duplicate of [Get generic type of java.util.List](http://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list\">Get generic type of java.util.List</a>"},{"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"score":0,"creation_date":1374609688,"post_id":17819803,"comment_id":26005186,"body_markdown":"No, not a duplicate ... I have &quot;List&lt;T&gt;&quot; where T is specified by the implementing class. Added Sample code what I am trying to do.","body":"No, not a duplicate ... I have &quot;List&lt;T&gt;&quot; where T is specified by the implementing class. Added Sample code what I am trying to do."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1374610861,"post_id":17819803,"comment_id":26005837,"body_markdown":"Where is that code sample?  In the `Child` class?  Can you add a `List&lt;T&gt; getValues()` method that in `Child` should give you a `List&lt;String&gt;`?  Does that help?","body":"Where is that code sample?  In the <code>Child</code> class?  Can you add a <code>List&lt;T&gt; getValues()</code> method that in <code>Child</code> should give you a <code>List&lt;String&gt;</code>?  Does that help?"},{"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"score":0,"creation_date":1374612465,"post_id":17819803,"comment_id":26006747,"body_markdown":"Sorry, it seems this is a bit hard to described. I added a few lines on top. I am writing a code generator for existing classes. I picked a random example (Parent, Child), to describe my concrete problem: when I get the genericParameterTypes of Child#setValues(), I get &quot;List&lt;T&gt;&quot;, not &quot;List&lt;String&gt;&quot;. But I need List&lt;String&gt; for my generated method.","body":"Sorry, it seems this is a bit hard to described. I added a few lines on top. I am writing a code generator for existing classes. I picked a random example (Parent, Child), to describe my concrete problem: when I get the genericParameterTypes of Child#setValues(), I get &quot;List&lt;T&gt;&quot;, not &quot;List&lt;String&gt;&quot;. But I need List&lt;String&gt; for my generated method."},{"owner":{"account_id":330208,"reputation":10995,"user_id":654187,"accept_rate":100,"display_name":"John Ericksen"},"score":0,"creation_date":1401373656,"post_id":17819803,"comment_id":36866191,"body_markdown":"What does your `getTypeVariable()` method look like?  Where are you getting `type` from?","body":"What does your <code>getTypeVariable()</code> method look like?  Where are you getting <code>type</code> from?"},{"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"score":0,"creation_date":1401436015,"post_id":17819803,"comment_id":36892544,"body_markdown":"Hi John, I edited the code sample. getTypeVariable() basically delegated to &quot;codeModel.parseType(typeVariable.getName()&quot; and handled the exception. Would be great if you have an idea to solve this ...","body":"Hi John, I edited the code sample. getTypeVariable() basically delegated to &quot;codeModel.parseType(typeVariable.getName()&quot; and handled the exception. Would be great if you have an idea to solve this ..."}],"answers":[{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672226562,"creation_date":1376078658,"answer_id":18154775,"question_id":17819803,"body_markdown":"If you are using my [TypeTools](https://github.com/jhalterman/typetools) library, this becomes pretty simple:\r\n\r\n    Class&lt;?&gt; t = TypeResolver.resolveRawArgument(Parent.class, Child.class);\r\n","title":"How to get generic type &quot;T&quot; of class when reused in method","body":"<p>If you are using my <a href=\"https://github.com/jhalterman/typetools\" rel=\"nofollow noreferrer\">TypeTools</a> library, this becomes pretty simple:</p>\n<pre><code>Class&lt;?&gt; t = TypeResolver.resolveRawArgument(Parent.class, Child.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1300215,"reputation":7638,"user_id":1250303,"display_name":"Java42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400349483,"creation_date":1400349159,"answer_id":23714423,"question_id":17819803,"body_markdown":"Try this...tweak as necessary, add error checking etc...\r\n\r\n    private Class&lt;T&gt; getType(int index) {\r\n        final ParameterizedType parameterizedType = (ParameterizedType) getClass().getGenericSuperclass();\r\n        return (Class&lt;T&gt;) parameterizedType.getActualTypeArguments()[index];\r\n    }\r\n\r\nUsage: \r\n\r\n    Foo42&lt;JFrame,String&gt; foo = new Foo42&lt;&gt;();\r\n\r\n    if (getType(0).isAssignableFrom(JFrame.class)) {\r\n        // is a JFrame\r\n    }\r\n\r\n    if (getType(1).isAssignableFrom(String.class)) {\r\n        // is a String\r\n    }\r\n\r\n    \r\n\r\n","title":"How to get generic type &quot;T&quot; of class when reused in method","body":"<p>Try this...tweak as necessary, add error checking etc...</p>\n\n<pre><code>private Class&lt;T&gt; getType(int index) {\n    final ParameterizedType parameterizedType = (ParameterizedType) getClass().getGenericSuperclass();\n    return (Class&lt;T&gt;) parameterizedType.getActualTypeArguments()[index];\n}\n</code></pre>\n\n<p>Usage: </p>\n\n<pre><code>Foo42&lt;JFrame,String&gt; foo = new Foo42&lt;&gt;();\n\nif (getType(0).isAssignableFrom(JFrame.class)) {\n    // is a JFrame\n}\n\nif (getType(1).isAssignableFrom(String.class)) {\n    // is a String\n}\n</code></pre>\n"}],"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1672226562,"creation_date":1374609257,"question_id":17819803,"body_markdown":"I am building a code generator for Fluent API. I want to create a new class for every existing (POJO)-class. I dont have the existing classes under my control. I parse the existing methods via reflection and if I encounter a setter or an &quot;add&quot; method, I create a method for this in my Fluent-Wrapper class, so I can say child().values(....).get().\r\n\r\nThis is working fine with simple parameters. It took me a while to figure out how to deal with ParameterizedTypes, but I can manage this now. What I dont get is how to create a concrete method for a generic parameter which type is not defined on the method itself but on the containing class.\r\n\r\n\r\nI have something like this:\r\n\r\n    abstract class Parent&lt;T&gt; {\r\n       void setValues(List&lt;T&gt; values) {...};\r\n    }\r\n\r\n    class Child extends Parent&lt;String&gt; {}\r\n\r\nNow I try to generate code via JCodeModel and need to parse the type of the parameter &quot;values&quot;. Problem: I get a ParameterizedType that contains List and a TypeVariable &quot;T&quot;. But I cannot map &quot;T&quot; back to String. But I cannot figure out how to get the concrete Type &quot;T&quot; got by implementing &quot;Child&quot;. Anyone?\r\n\r\nClarify: I do this, and need not &quot;T&quot; but &quot;String&quot; when it comes to the case &quot;TypeVariable&quot;\r\n\r\n    JType result = codeModel._ref(typeToClass.apply(type));\r\n    if (isParameterizedType(type)) {\r\n      for (Type typeArgument : ((ParameterizedType) type).getActualTypeArguments()) {\r\n        if (typeArgument instanceof WildcardType) {\r\n          result = narrow(result, codeModel.wildcard());\r\n        } else if (typeArgument instanceof Class) {\r\n          result = narrow(result, typeToClass.asJType(codeModel, typeArgument));\r\n        } else if (typeArgument instanceof TypeVariable&lt;?&gt;) {\r\n          TypeVariable&lt;?&gt; typeVariable = (TypeVariable&lt;?&gt;) typeArgument;\r\n          // this is where I only get &quot;T&quot; but need &quot;String&quot;\r\n          result = ((JClass) result).narrow(getTypeVariable(codeModel.parseType(typeVariable.getName()));\r\n        }\r\n\r\n      }\r\n    }\r\n","title":"How to get generic type &quot;T&quot; of class when reused in method","body":"<p>I am building a code generator for Fluent API. I want to create a new class for every existing (POJO)-class. I dont have the existing classes under my control. I parse the existing methods via reflection and if I encounter a setter or an \"add\" method, I create a method for this in my Fluent-Wrapper class, so I can say child().values(....).get().</p>\n\n<p>This is working fine with simple parameters. It took me a while to figure out how to deal with ParameterizedTypes, but I can manage this now. What I dont get is how to create a concrete method for a generic parameter which type is not defined on the method itself but on the containing class.</p>\n\n<p>I have something like this:</p>\n\n<pre><code>abstract class Parent&lt;T&gt; {\n   void setValues(List&lt;T&gt; values) {...};\n}\n\nclass Child extends Parent&lt;String&gt; {}\n</code></pre>\n\n<p>Now I try to generate code via JCodeModel and need to parse the type of the parameter \"values\". Problem: I get a ParameterizedType that contains List and a TypeVariable \"T\". But I cannot map \"T\" back to String. But I cannot figure out how to get the concrete Type \"T\" got by implementing \"Child\". Anyone?</p>\n\n<p>Clarify: I do this, and need not \"T\" but \"String\" when it comes to the case \"TypeVariable\"</p>\n\n<pre><code>JType result = codeModel._ref(typeToClass.apply(type));\nif (isParameterizedType(type)) {\n  for (Type typeArgument : ((ParameterizedType) type).getActualTypeArguments()) {\n    if (typeArgument instanceof WildcardType) {\n      result = narrow(result, codeModel.wildcard());\n    } else if (typeArgument instanceof Class) {\n      result = narrow(result, typeToClass.asJType(codeModel, typeArgument));\n    } else if (typeArgument instanceof TypeVariable&lt;?&gt;) {\n      TypeVariable&lt;?&gt; typeVariable = (TypeVariable&lt;?&gt;) typeArgument;\n      // this is where I only get \"T\" but need \"String\"\n      result = ((JClass) result).narrow(getTypeVariable(codeModel.parseType(typeVariable.getName()));\n    }\n\n  }\n}\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1425672507,"post_id":28906730,"comment_id":46073005,"body_markdown":"From what it sounds like you&#39;re doing, that&#39;s going to be impossible; you can&#39;t reconstruct the generic parameters associated with an arbitrary object.","body":"From what it sounds like you&#39;re doing, that&#39;s going to be impossible; you can&#39;t reconstruct the generic parameters associated with an arbitrary object."},{"owner":{"account_id":1714643,"reputation":5898,"user_id":1571997,"display_name":"chancea"},"score":1,"creation_date":1425673049,"post_id":28906730,"comment_id":46073271,"body_markdown":"You cannot pass in a `DummyInterface&lt;T&gt;` into `setDummyInterface` if `T` does not equal DummyClass&#39;s `T`.  You will get a compile error.","body":"You cannot pass in a <code>DummyInterface&lt;T&gt;</code> into <code>setDummyInterface</code> if <code>T</code> does not equal DummyClass&#39;s <code>T</code>.  You will get a compile error."}],"answers":[{"tags":[],"owner":{"account_id":227393,"reputation":28024,"user_id":489041,"accept_rate":53,"display_name":"user489041"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425672936,"creation_date":1425672936,"answer_id":28906892,"question_id":28906730,"body_markdown":"Not entirely sure I understand your question, but this code will allow you to get the Generic types for an object. They allow you to perform reflection on the generic parameters of an object.\r\n\r\n    import java.lang.reflect.ParameterizedType;\r\n    import java.lang.reflect.Type;\r\n    \r\n    public class GenericClassUtils {\r\n    \r\n        public static &lt;T&gt; Class&lt;T&gt; getClassFromGeneric(\r\n                Object parentObj,\r\n                int oridnalParamterizedTypeIndex) throws Exception{\r\n              Type[] typeArray = getParameterizedTypeListAsArray(parentObj);\r\n              return (Class&lt;T&gt;)typeArray[oridnalParamterizedTypeIndex];\r\n        }\r\n        \r\n        public static &lt;T&gt; Type[] getParameterizedTypeListAsArray(Object parentObj){\r\n            return  ((ParameterizedType) parentObj.getClass()\r\n                        .getGenericSuperclass())\r\n                        .getActualTypeArguments();\r\n        }\r\n    }\r\n\r\nPerhaps by calling something like this:\r\n\r\n    Class clazz = getClassFromGeneric(dummyClass, 0);\r\n    if (clazz.isInstance(SomeTypeIKnow.class)){\r\n         dummyClass.setDummyInterface(dummyInterface);\r\n    }","title":"How to check does interface with generic fit to class","body":"<p>Not entirely sure I understand your question, but this code will allow you to get the Generic types for an object. They allow you to perform reflection on the generic parameters of an object.</p>\n\n<pre><code>import java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\n\npublic class GenericClassUtils {\n\n    public static &lt;T&gt; Class&lt;T&gt; getClassFromGeneric(\n            Object parentObj,\n            int oridnalParamterizedTypeIndex) throws Exception{\n          Type[] typeArray = getParameterizedTypeListAsArray(parentObj);\n          return (Class&lt;T&gt;)typeArray[oridnalParamterizedTypeIndex];\n    }\n\n    public static &lt;T&gt; Type[] getParameterizedTypeListAsArray(Object parentObj){\n        return  ((ParameterizedType) parentObj.getClass()\n                    .getGenericSuperclass())\n                    .getActualTypeArguments();\n    }\n}\n</code></pre>\n\n<p>Perhaps by calling something like this:</p>\n\n<pre><code>Class clazz = getClassFromGeneric(dummyClass, 0);\nif (clazz.isInstance(SomeTypeIKnow.class)){\n     dummyClass.setDummyInterface(dummyInterface);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672226486,"creation_date":1425681217,"answer_id":28908821,"question_id":28906730,"body_markdown":"You can use something like [TypeTools](https://github.com/jhalterman/typetools) (a library that I authored) to resolve type arguments so long as the argument is captured in a type definition. For example:\r\n\r\n    interface DummyStringInterface extends DummyInterface&lt;String&gt; {}\r\n\r\n    Class&lt;?&gt; t = TypeResolver.resolveRawArgument(DummyInterface.class, DummyStringInterface.class);\r\n    assert t == String.class;","title":"How to check does interface with generic fit to class","body":"<p>You can use something like <a href=\"https://github.com/jhalterman/typetools\" rel=\"nofollow noreferrer\">TypeTools</a> (a library that I authored) to resolve type arguments so long as the argument is captured in a type definition. For example:</p>\n<pre><code>interface DummyStringInterface extends DummyInterface&lt;String&gt; {}\n\nClass&lt;?&gt; t = TypeResolver.resolveRawArgument(DummyInterface.class, DummyStringInterface.class);\nassert t == String.class;\n</code></pre>\n"}],"owner":{"account_id":3326175,"reputation":999,"user_id":2796220,"accept_rate":59,"display_name":"dooplaye"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28908821,"answer_count":2,"score":0,"last_activity_date":1672226486,"creation_date":1425672279,"question_id":28906730,"body_markdown":"I have some interface with generic type `interface DummyInterface&lt;T&gt;` and i have class to which i have to set interface \r\n\r\n     class DummyClass&lt;T&gt;{\r\n            public void setDummyInterface(DummyInterface&lt;T&gt; dummyInterface){\r\n                //set interface\r\n            }\r\n        } \r\nImagine the situation where i store `DummyClass` with different generics in `ArrayList`. When i get class from list i don&#39;t know the generic of class, and i want to check if interface has the same generic or not;\r\nFor example i want to check like this\r\n\r\n    if(dummyInterface&lt;SomeTypeIKnow&gt;.getGenericType() == dummyClass.getGenericType()){\r\n          dummyClass.setDummyInterface(dummyInterface);\r\n    }","title":"How to check does interface with generic fit to class","body":"<p>I have some interface with generic type <code>interface DummyInterface&lt;T&gt;</code> and i have class to which i have to set interface </p>\n\n<pre><code> class DummyClass&lt;T&gt;{\n        public void setDummyInterface(DummyInterface&lt;T&gt; dummyInterface){\n            //set interface\n        }\n    } \n</code></pre>\n\n<p>Imagine the situation where i store <code>DummyClass</code> with different generics in <code>ArrayList</code>. When i get class from list i don't know the generic of class, and i want to check if interface has the same generic or not;\nFor example i want to check like this</p>\n\n<pre><code>if(dummyInterface&lt;SomeTypeIKnow&gt;.getGenericType() == dummyClass.getGenericType()){\n      dummyClass.setDummyInterface(dummyInterface);\n}\n</code></pre>\n"},{"tags":["java","long-integer","division","divide-by-zero","euclidean-algorithm"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1672221000,"post_id":74938690,"comment_id":132244163,"body_markdown":"Your question is incomplete: Which inputs are you provided that causes divide-by-zero, and on which line does the divide-by-zero occur?","body":"Your question is incomplete: Which inputs are you provided that causes divide-by-zero, and on which line does the divide-by-zero occur?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1672221065,"post_id":74938690,"comment_id":132244175,"body_markdown":"note also that almost all your lines don&#39;t do anything (from `if (a[0] &lt; 0` all the way to `a[0] = c/a[0]` - you set `c` __first__, then do a lot of work on `a[0]` and `a[1]`, then toss all that out and use `c`.","body":"note also that almost all your lines don&#39;t do anything (from <code>if (a[0] &lt; 0</code> all the way to <code>a[0] = c&#47;a[0]</code> - you set <code>c</code> <b>first</b>, then do a lot of work on <code>a[0]</code> and <code>a[1]</code>, then toss all that out and use <code>c</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672222016,"post_id":74938690,"comment_id":132244378,"body_markdown":"I cannot reproduce by passing positive values to your method. When I pass an array containing a 0 and a non-negative value, I do get the division by 0 error. Easy solution: document in your JavaDoc comment that your method will throw an `ArithmeticException` in this case: Finer solution: Validate your argument. If it is anything other than an array of length 2 containing two strictly positive numbers, throw an `IllegalArgumenttException` with an error message that is clear to understand.","body":"I cannot reproduce by passing positive values to your method. When I pass an array containing a 0 and a non-negative value, I do get the division by 0 error. Easy solution: document in your JavaDoc comment that your method will throw an <code>ArithmeticException</code> in this case: Finer solution: Validate your argument. If it is anything other than an array of length 2 containing two strictly positive numbers, throw an <code>IllegalArgumenttException</code> with an error message that is clear to understand."}],"answers":[{"tags":[],"owner":{"account_id":21604821,"reputation":46,"user_id":17613841,"display_name":"Sriram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672224523,"creation_date":1672224523,"answer_id":74939291,"question_id":74938690,"body_markdown":"The problem is with the below two lines.\r\n\r\n    a[0] = c/a[0];\r\n    a[1] = d/a[0];\r\n\r\nFirst statement will make a[0] as 0 since c is 0.\r\nNext statement will be 1/0.","title":"Divide by zero, can&#39;t find the problem in this program which runs Euclid&#39;s algorithm to find the greatest common divisor","body":"<p>The problem is with the below two lines.</p>\n<pre><code>a[0] = c/a[0];\na[1] = d/a[0];\n</code></pre>\n<p>First statement will make a[0] as 0 since c is 0.\nNext statement will be 1/0.</p>\n"}],"owner":{"account_id":27372537,"reputation":3,"user_id":20878365,"display_name":"Bryan Griffin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74939291,"answer_count":1,"score":0,"last_activity_date":1672226369,"creation_date":1672220938,"question_id":74938690,"body_markdown":"```\r\npublic static long[] simp (long [] a) {\r\n\tlong c = a[0];\r\n\tlong d = a[1];\r\n\tif ( a[0]&lt;0 ) {\r\n\t\ta[0] = -1*a[0];\r\n\t}\r\n\tif (a[1]&gt;a[0]) {\r\n\t\tlong v = a[0];\r\n\t\ta[0]=a[1];\r\n\t\ta[1]=v;\r\n\t}\r\n\twhile (a[1] &gt; 0) {\r\n\t\tlong t = a[0];\r\n\t\ta[0] = a[1];\r\n\t\ta[1] = t%a[1];\r\n\t\tSystem.out.println(a[0]+&quot;/&quot;+a[1]);\r\n\t}\r\n\ta[0] = c/a[0];\r\n\ta[1] = d/a[0];\r\n\tSystem.out.println(a[0]+&quot;/&quot;+a[1]);\r\n\treturn a;\r\n}\r\n```\r\n\r\nI followed the steps of Euclid&#39;s algorithm but I was stunned when a divide by zero problem appeared. I don&#39;t know how it can happen.","title":"Divide by zero, can&#39;t find the problem in this program which runs Euclid&#39;s algorithm to find the greatest common divisor","body":"<pre><code>public static long[] simp (long [] a) {\n    long c = a[0];\n    long d = a[1];\n    if ( a[0]&lt;0 ) {\n        a[0] = -1*a[0];\n    }\n    if (a[1]&gt;a[0]) {\n        long v = a[0];\n        a[0]=a[1];\n        a[1]=v;\n    }\n    while (a[1] &gt; 0) {\n        long t = a[0];\n        a[0] = a[1];\n        a[1] = t%a[1];\n        System.out.println(a[0]+&quot;/&quot;+a[1]);\n    }\n    a[0] = c/a[0];\n    a[1] = d/a[0];\n    System.out.println(a[0]+&quot;/&quot;+a[1]);\n    return a;\n}\n</code></pre>\n<p>I followed the steps of Euclid's algorithm but I was stunned when a divide by zero problem appeared. I don't know how it can happen.</p>\n"},{"tags":["java","spring-boot","resthighlevelclient"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1590571990,"post_id":62039091,"comment_id":109727165,"body_markdown":"_connection refused_ means that there is no cluster/server at the configured address","body":"<i>connection refused</i> means that there is no cluster/server at the configured address"},{"owner":{"account_id":18334008,"reputation":385,"user_id":13351822,"display_name":"Deep Dalsania"},"score":0,"creation_date":1590573094,"post_id":62039091,"comment_id":109727831,"body_markdown":"I added a response of the configured address please check @P.J.Meisch","body":"I added a response of the configured address please check @P.J.Meisch"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1590603563,"post_id":62039091,"comment_id":109745109,"body_markdown":"the question is: what are the values that effectively used in `RestClient.builder(new HttpHost(host, Integer.valueOf(port), protocol));`","body":"the question is: what are the values that effectively used in <code>RestClient.builder(new HttpHost(host, Integer.valueOf(port), protocol));</code>"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1590641532,"post_id":62039091,"comment_id":109757310,"body_markdown":"from what host did you issue the query that gave you the response? And where is your application running that tries to connect to Elasticsearch? It seems you have Elasticsearch running in docker, does your application run in docker as well?","body":"from what host did you issue the query that gave you the response? And where is your application running that tries to connect to Elasticsearch? It seems you have Elasticsearch running in docker, does your application run in docker as well?"},{"owner":{"account_id":18334008,"reputation":385,"user_id":13351822,"display_name":"Deep Dalsania"},"score":0,"creation_date":1590641624,"post_id":62039091,"comment_id":109757338,"body_markdown":"yes @P.J.Meisch","body":"yes @P.J.Meisch"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1590642967,"post_id":62039091,"comment_id":109757673,"body_markdown":"so this is a networking problem between docker containers. Elasticsearch normally runs on port 9200, as you specify 9100, I support that you map that when starting your dockerized Elasticsearch instance. But within the docker network it would probably still be 9200. I 10.1.3.2 the IP address of the machine you are running docker on and from where you issue the direct connect to ES? Then this can&#39;t work for your dockerized Spring Boot application","body":"so this is a networking problem between docker containers. Elasticsearch normally runs on port 9200, as you specify 9100, I support that you map that when starting your dockerized Elasticsearch instance. But within the docker network it would probably still be 9200. I 10.1.3.2 the IP address of the machine you are running docker on and from where you issue the direct connect to ES? Then this can&#39;t work for your dockerized Spring Boot application"},{"owner":{"account_id":18334008,"reputation":385,"user_id":13351822,"display_name":"Deep Dalsania"},"score":0,"creation_date":1590645368,"post_id":62039091,"comment_id":109758375,"body_markdown":"We have two elastic search in docker that&#39;s why I specified 9100 because 9200 have another version of elastic search.","body":"We have two elastic search in docker that&#39;s why I specified 9100 because 9200 have another version of elastic search."},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1590646043,"post_id":62039091,"comment_id":109758604,"body_markdown":"BUt which machine is 10.1.3.2? Is this the IP of the machine running docker, then this wil not be reachable from a different docker container","body":"BUt which machine is 10.1.3.2? Is this the IP of the machine running docker, then this wil not be reachable from a different docker container"},{"owner":{"account_id":18334008,"reputation":385,"user_id":13351822,"display_name":"Deep Dalsania"},"score":0,"creation_date":1590655761,"post_id":62039091,"comment_id":109763242,"body_markdown":"Thank you @P.J.Meisch I researched a lot and finally, I get rid of this and I wrote an answer because if anyone wants to apply this concept or facing the same issue then it will be helpful for them.","body":"Thank you @P.J.Meisch I researched a lot and finally, I get rid of this and I wrote an answer because if anyone wants to apply this concept or facing the same issue then it will be helpful for them."},{"owner":{"account_id":18334008,"reputation":385,"user_id":13351822,"display_name":"Deep Dalsania"},"score":0,"creation_date":1590753562,"post_id":62039091,"comment_id":109807072,"body_markdown":"Thanks for the downvote @P.J.Meisch but I got my answer by research from [here](https://stackoverflow.com/questions/46166955/how-to-properly-close-raw-restclient-when-using-elastic-search-5-5-0-for-optimal) and [here](https://stackoverflow.com/questions/57109948/sockettimeoutexception-while-retrieving-or-inserting-data-into-elastic-search-by) also I understand both questions and answers and do my thing as I want and I got my answer.","body":"Thanks for the downvote @P.J.Meisch but I got my answer by research from <a href=\"https://stackoverflow.com/questions/46166955/how-to-properly-close-raw-restclient-when-using-elastic-search-5-5-0-for-optimal\">here</a> and <a href=\"https://stackoverflow.com/questions/57109948/sockettimeoutexception-while-retrieving-or-inserting-data-into-elastic-search-by\">here</a> also I understand both questions and answers and do my thing as I want and I got my answer."}],"answers":[{"tags":[],"owner":{"account_id":18334008,"reputation":385,"user_id":13351822,"display_name":"Deep Dalsania"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1590656872,"creation_date":1590655434,"answer_id":62060497,"question_id":62039091,"body_markdown":" - I researched a lot that how to get rid of this and I tried many solutions after that finally I&#39;ll get the solution all things are working as I want.  \r\n - I am trying to implement an elastic pool that one client used by the\r\n   the whole project for any query or aggregation and when bean will destroy\r\n   the will close and my whole query is done by using only by one\r\n   connection.\r\n - I changed my **Elastic configuration** like this:\r\n```java\r\n    @Configuration\r\n    public class ElasticConfig {\r\n    \r\n    \t@Autowired\r\n    \tEnvironment environment;\r\n    \r\n    \tprivate RestHighLevelClient client;\r\n    \r\n    \t@Bean\r\n    \tpublic RestHighLevelClient prepareConnection() {\r\n    \t\tRestClientBuilder restBuilder = RestClient\r\n    \t\t\t\t.builder(new HttpHost(environment.getProperty(&quot;zselastic.host&quot;).toString(),\r\n    \t\t\t\t\t\tInteger.valueOf(environment.getProperty(&quot;zselastic.port&quot;).toString()),\r\n    \t\t\t\t\t\tenvironment.getProperty(&quot;zselastic.protocol&quot;).toString()));\r\n    \t\tString username = new String(environment.getProperty(&quot;zselastic.username&quot;).toString());\r\n    \t\tString password = new String(environment.getProperty(&quot;zselastic.password&quot;).toString());\r\n    \t\tif (username != null &amp; password != null) {\r\n    \t\t\tfinal CredentialsProvider creadential = new BasicCredentialsProvider();\r\n    \t\t\tcreadential.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\r\n    \t\t\trestBuilder.setHttpClientConfigCallback(new HttpClientConfigCallback() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n    \r\n    \t\t\t\t\treturn httpClientBuilder.setDefaultCredentialsProvider(creadential)\r\n    \t\t\t\t\t\t\t.setDefaultIOReactorConfig(IOReactorConfig.custom().setIoThreadCount(1).build());\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\trestBuilder.setRequestConfigCallback(requestConfigBuilder -&gt; \r\n    \t\t\trequestConfigBuilder.setConnectTimeout(10000) // time until a connection with the server is established.\r\n    \t\t\t\t\t.setSocketTimeout(60000) // time of inactivity to wait for packets[data] to receive.\r\n    \t\t\t\t\t.setConnectionRequestTimeout(0)); // time to fetch a connection from the connection pool 0 for infinite.\r\n    \r\n    \t\t\tclient = new RestHighLevelClient(restBuilder);\r\n    \t\t\treturn client;\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t/*\r\n    \t * it gets called when bean instance is getting removed from the context if\r\n    \t * scope is not a prototype\r\n    \t */\r\n    \t/*\r\n    \t * If there is a method named shutdown or close then spring container will try\r\n    \t * to automatically configure them as callback methods when bean is being\r\n    \t * destroyed\r\n    \t */\r\n    \t@PreDestroy\r\n    \tpublic void clientClose() {\r\n    \t\ttry {\r\n    \t\t\tthis.client.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n```  \r\n - So now my bean return the `RestHighLevelClient` and it will be use by\r\n   whole project and I got every API repsponse instead of\r\n   `java.net.ConnectException: Connection refused`.\r\n - Also, I check node stats by using this\r\n   `http://host:port/_nodes/stats/http`.   When my Spring boot\r\n   application starts it will initiate one connection to the\r\n   elasticsearch and one entry will be added into `current_open`. After\r\n   that, no connection will increase until my application is running all\r\n   the queries, and aggregation is being performed by using this\r\n   connection only. When my application will shutdown or stop connection\r\n   will be close and entry removed from the `current_open`.\r\n - So now I can conclude that I applied **elastic pool** by using this configuration.","title":"Spring Boot + Elastic Search : Connection Refused with Java RestHighLevelClient","body":"<ul>\n<li>I researched a lot that how to get rid of this and I tried many solutions after that finally I'll get the solution all things are working as I want.  </li>\n<li>I am trying to implement an elastic pool that one client used by the\nthe whole project for any query or aggregation and when bean will destroy\nthe will close and my whole query is done by using only by one\nconnection.</li>\n<li>I changed my <strong>Elastic configuration</strong> like this:</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Configuration\n    public class ElasticConfig {\n\n        @Autowired\n        Environment environment;\n\n        private RestHighLevelClient client;\n\n        @Bean\n        public RestHighLevelClient prepareConnection() {\n            RestClientBuilder restBuilder = RestClient\n                    .builder(new HttpHost(environment.getProperty(\"zselastic.host\").toString(),\n                            Integer.valueOf(environment.getProperty(\"zselastic.port\").toString()),\n                            environment.getProperty(\"zselastic.protocol\").toString()));\n            String username = new String(environment.getProperty(\"zselastic.username\").toString());\n            String password = new String(environment.getProperty(\"zselastic.password\").toString());\n            if (username != null &amp; password != null) {\n                final CredentialsProvider creadential = new BasicCredentialsProvider();\n                creadential.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\n                restBuilder.setHttpClientConfigCallback(new HttpClientConfigCallback() {\n                    @Override\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n\n                        return httpClientBuilder.setDefaultCredentialsProvider(creadential)\n                                .setDefaultIOReactorConfig(IOReactorConfig.custom().setIoThreadCount(1).build());\n                    }\n                });\n\n                restBuilder.setRequestConfigCallback(requestConfigBuilder -&gt; \n                requestConfigBuilder.setConnectTimeout(10000) // time until a connection with the server is established.\n                        .setSocketTimeout(60000) // time of inactivity to wait for packets[data] to receive.\n                        .setConnectionRequestTimeout(0)); // time to fetch a connection from the connection pool 0 for infinite.\n\n                client = new RestHighLevelClient(restBuilder);\n                return client;\n            }\n            return null;\n        }\n\n        /*\n         * it gets called when bean instance is getting removed from the context if\n         * scope is not a prototype\n         */\n        /*\n         * If there is a method named shutdown or close then spring container will try\n         * to automatically configure them as callback methods when bean is being\n         * destroyed\n         */\n        @PreDestroy\n        public void clientClose() {\n            try {\n                this.client.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n\n<ul>\n<li>So now my bean return the <code>RestHighLevelClient</code> and it will be use by\nwhole project and I got every API repsponse instead of\n<code>java.net.ConnectException: Connection refused</code>.</li>\n<li>Also, I check node stats by using this\n<code>http://host:port/_nodes/stats/http</code>.   When my Spring boot\napplication starts it will initiate one connection to the\nelasticsearch and one entry will be added into <code>current_open</code>. After\nthat, no connection will increase until my application is running all\nthe queries, and aggregation is being performed by using this\nconnection only. When my application will shutdown or stop connection\nwill be close and entry removed from the <code>current_open</code>.</li>\n<li>So now I can conclude that I applied <strong>elastic pool</strong> by using this configuration.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2063502,"reputation":543,"user_id":1839558,"display_name":"lauksas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617282179,"creation_date":1617282179,"answer_id":66905064,"question_id":62039091,"body_markdown":"In my case, I forgot to add the `@Bean` annotation at the method which created the Bean.\r\nFollow an implementation class of the `AbstractElasticsearchConfiguration`.\r\n\r\n```java\r\npackage org.lauksas.elasticsearch.configuration;\r\n\r\nimport java.time.Duration;\r\n\r\nimport org.elasticsearch.client.RestClient;\r\nimport org.elasticsearch.client.RestHighLevelClient;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.core.convert.support.DefaultConversionService;\r\nimport org.springframework.data.elasticsearch.client.ClientConfiguration;\r\nimport org.springframework.data.elasticsearch.client.RestClients;\r\nimport org.springframework.data.elasticsearch.config.AbstractElasticsearchConfiguration;\r\nimport org.springframework.data.elasticsearch.core.ElasticsearchEntityMapper;\r\nimport org.springframework.data.elasticsearch.core.ElasticsearchOperations;\r\nimport org.springframework.data.elasticsearch.core.EntityMapper;\r\nimport org.springframework.http.HttpHeaders;\r\n\r\n@Configuration\r\npublic class RestClientConfig extends AbstractElasticsearchConfiguration {\r\n\r\n  @Value(&quot;${elasticsearch.host}&quot;)\r\n  private String host;\r\n  @Value(&quot;${elasticsearch.port}&quot;)\r\n  private int port;\r\n  @Value(&quot;${elasticsearch.username}&quot;)\r\n  private String username;\r\n  @Value(&quot;${elasticsearch.password}&quot;)\r\n  private String password;\r\n\r\n  Logger log = LoggerFactory.getLogger(getClass());\r\n\r\n  @Bean\r\n  @Override\r\n  public EntityMapper entityMapper() {\r\n    ElasticsearchEntityMapper entityMapper = new ElasticsearchEntityMapper(elasticsearchMappingContext(),\r\n        new DefaultConversionService());\r\n    entityMapper.setConversions(elasticsearchCustomConversions());\r\n\r\n    return entityMapper;\r\n  }\r\n\r\n  @Override\r\n  @Bean\r\n  public RestHighLevelClient elasticsearchClient() {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setBasicAuth(username, password);\r\n\r\n    final ClientConfiguration clientConfiguration = ClientConfiguration.builder().connectedTo(host + &quot;:&quot; + port)\r\n        .usingSsl().withBasicAuth(username, password).withSocketTimeout(Duration.ofMinutes(10))\r\n        .build();\r\n\r\n    return RestClients.create(clientConfiguration).rest();\r\n  }\r\n\r\n  @Bean\r\n  public RestClient restClient() {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setBasicAuth(username, password);\r\n\r\n    final ClientConfiguration clientConfiguration = ClientConfiguration.builder().connectedTo(host + &quot;:&quot; + port)\r\n        .usingSsl().withBasicAuth(username, password).build();\r\n\r\n    return RestClients.create(clientConfiguration).lowLevelRest();\r\n  }\r\n\r\n  @Bean\r\n  @Primary\r\n  public ElasticsearchOperations elasticsearchTemplate() {\r\n    return elasticsearchOperations();\r\n  }\r\n}\r\n```","title":"Spring Boot + Elastic Search : Connection Refused with Java RestHighLevelClient","body":"<p>In my case, I forgot to add the <code>@Bean</code> annotation at the method which created the Bean.\nFollow an implementation class of the <code>AbstractElasticsearchConfiguration</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.lauksas.elasticsearch.configuration;\n\nimport java.time.Duration;\n\nimport org.elasticsearch.client.RestClient;\nimport org.elasticsearch.client.RestHighLevelClient;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.core.convert.support.DefaultConversionService;\nimport org.springframework.data.elasticsearch.client.ClientConfiguration;\nimport org.springframework.data.elasticsearch.client.RestClients;\nimport org.springframework.data.elasticsearch.config.AbstractElasticsearchConfiguration;\nimport org.springframework.data.elasticsearch.core.ElasticsearchEntityMapper;\nimport org.springframework.data.elasticsearch.core.ElasticsearchOperations;\nimport org.springframework.data.elasticsearch.core.EntityMapper;\nimport org.springframework.http.HttpHeaders;\n\n@Configuration\npublic class RestClientConfig extends AbstractElasticsearchConfiguration {\n\n  @Value(&quot;${elasticsearch.host}&quot;)\n  private String host;\n  @Value(&quot;${elasticsearch.port}&quot;)\n  private int port;\n  @Value(&quot;${elasticsearch.username}&quot;)\n  private String username;\n  @Value(&quot;${elasticsearch.password}&quot;)\n  private String password;\n\n  Logger log = LoggerFactory.getLogger(getClass());\n\n  @Bean\n  @Override\n  public EntityMapper entityMapper() {\n    ElasticsearchEntityMapper entityMapper = new ElasticsearchEntityMapper(elasticsearchMappingContext(),\n        new DefaultConversionService());\n    entityMapper.setConversions(elasticsearchCustomConversions());\n\n    return entityMapper;\n  }\n\n  @Override\n  @Bean\n  public RestHighLevelClient elasticsearchClient() {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setBasicAuth(username, password);\n\n    final ClientConfiguration clientConfiguration = ClientConfiguration.builder().connectedTo(host + &quot;:&quot; + port)\n        .usingSsl().withBasicAuth(username, password).withSocketTimeout(Duration.ofMinutes(10))\n        .build();\n\n    return RestClients.create(clientConfiguration).rest();\n  }\n\n  @Bean\n  public RestClient restClient() {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setBasicAuth(username, password);\n\n    final ClientConfiguration clientConfiguration = ClientConfiguration.builder().connectedTo(host + &quot;:&quot; + port)\n        .usingSsl().withBasicAuth(username, password).build();\n\n    return RestClients.create(clientConfiguration).lowLevelRest();\n  }\n\n  @Bean\n  @Primary\n  public ElasticsearchOperations elasticsearchTemplate() {\n    return elasticsearchOperations();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4902051,"reputation":87,"user_id":3949939,"accept_rate":25,"display_name":"rj4u"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672225968,"creation_date":1672225968,"answer_id":74939520,"question_id":62039091,"body_markdown":"For me, earlier I was using **RestClientBuilder** and later I started using **RestHighLevelClient** which helped me get rid off the timeout issue.","title":"Spring Boot + Elastic Search : Connection Refused with Java RestHighLevelClient","body":"<p>For me, earlier I was using <strong>RestClientBuilder</strong> and later I started using <strong>RestHighLevelClient</strong> which helped me get rid off the timeout issue.</p>\n"}],"owner":{"account_id":18334008,"reputation":385,"user_id":13351822,"display_name":"Deep Dalsania"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11669,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":62060497,"answer_count":3,"score":0,"last_activity_date":1672226118,"creation_date":1590569574,"question_id":62039091,"body_markdown":"I am implementing an elastic pool for my spring boot project also I am using spring boot 2.1.4 and elastic search 7.3.0. I am stuck at this. When any API trying to query it gives `java.net.ConnectException: Connection refused`. I want to use configuration with `customizeHttpClient` with a setting thread count. So It makes only one connection when application will start and querying to the database using that one connection only till bean will destroy.  \r\nI tried with this **Elastic Configuration**:  \r\n```java\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.UsernamePasswordCredentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\r\n    import org.apache.http.impl.nio.reactor.IOReactorConfig;\r\n    import org.elasticsearch.client.RestClient;\r\n    import org.elasticsearch.client.RestClientBuilder;\r\n    import org.elasticsearch.client.RestClientBuilder.HttpClientConfigCallback;\r\n    import org.elasticsearch.client.RestHighLevelClient;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.beans.factory.config.ConfigurableBeanFactory;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Scope;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class ElasticConfig{\r\n    \r\n    \tpublic static String host;\r\n    \r\n    \tprivate static String port;\r\n    \r\n    \tprivate static String protocol;\r\n    \r\n    \tprivate static String username;\r\n    \r\n    \tprivate static String password;\r\n    \r\n    \tprivate RestHighLevelClient client;\r\n    \r\n    \t@Value(&quot;${dselastic.host}&quot;)\r\n    \tpublic void setHost(String value) {\r\n    \t\thost = value;\r\n    \t}\r\n    \r\n    \t@Value(&quot;${dselastic.port}&quot;)\r\n    \tpublic void setPort(String value) {\r\n    \t\tport = value;\r\n    \t}\r\n    \r\n    \t@Value(&quot;${dselastic.protocol}&quot;)\r\n    \tpublic void setProtocol(String value) {\r\n    \t\tprotocol = value;\r\n    \t}\r\n    \r\n    \t@Value(&quot;${dselastic.username}&quot;)\r\n    \tpublic void setUsername(String value) {\r\n    \t\tusername = value;\r\n    \t}\r\n    \r\n    \t@Value(&quot;${dselastic.password}&quot;)\r\n    \tpublic void setPassword(String value) {\r\n    \t\tpassword = value;\r\n    \t}\r\n    \r\n    \t@Bean(destroyMethod = &quot;cleanUp&quot;)\r\n    \t@Scope(value = ConfigurableBeanFactory.SCOPE_SINGLETON)\r\n    \tpublic void prepareConnection() {\r\n    \t\tRestClientBuilder restBuilder = RestClient.builder(new HttpHost(host, Integer.valueOf(port), protocol));\r\n    \t\tif (username != null &amp; password != null) {\r\n    \t\t\tfinal CredentialsProvider creadential = new BasicCredentialsProvider();\r\n    \t\t\tcreadential.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\r\n    \t\t\trestBuilder.setHttpClientConfigCallback(new HttpClientConfigCallback() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n    \r\n    \t\t\t\t\treturn httpClientBuilder.setDefaultCredentialsProvider(creadential)\r\n    \t\t\t\t\t\t\t.setDefaultIOReactorConfig(IOReactorConfig.custom().setIoThreadCount(1).build());\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\trestBuilder.setRequestConfigCallback(requestConfigBuilder -&gt; \r\n    \t\t\trequestConfigBuilder.setConnectTimeout(10000) // time until a connection with the server is established.\r\n    \t\t\t\t\t.setSocketTimeout(60000) // time of inactivity to wait for packets[data] to receive.\r\n    \t\t\t\t\t.setConnectionRequestTimeout(0)); // time to fetch a connection from the connection pool 0 for infinite.\r\n    \t\t\tclient = new RestHighLevelClient(restBuilder);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void cleanUp() {\r\n    \t\ttry {\r\n    \t\t\tclient.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n```\r\nI also tried by implementing `DisposableBean` interface and its `destroy` method but I got same exception.  \r\nThis is my API where I am trying to querying a document:\r\n```java\r\n    public class IndexNameController {\r\n    \r\n    \t@Autowired\r\n    \tRestHighLevelClient client;\r\n    \r\n    \t@GetMapping(value = &quot;/listAllNames&quot;)\r\n    \tpublic ArrayList&lt;Object&gt; listAllNames(HttpSession session) {\r\n    \t\tArrayList&lt;Object&gt; results = new ArrayList&lt;&gt;();\r\n    \t\ttry {\r\n    \t\t\tSearchRequest searchRequest = new SearchRequest();\r\n    \t\t\tSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n    \t\t\tsearchRequest.indices(&quot;indexname&quot;);\r\n    \t\t\tString[] fields = { &quot;name&quot;, &quot;id&quot; };\r\n    \t\t\tsearchSourceBuilder.fetchSource(fields, new String[] {});\r\n    \t\t\tsearchSourceBuilder.query(QueryBuilders.matchAllQuery()).size(10000);\r\n    \t\t\tsearchSourceBuilder = searchSourceBuilder.sort(new FieldSortBuilder(&quot;createdTime&quot;).order(SortOrder.DESC));\r\n    \t\t\tsearchRequest.source(searchSourceBuilder);\r\n    \t\t\tSearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n    \t\t\tSearchHit[] searchHits = searchResponse.getHits().getHits();\r\n    \t\t\tfor (SearchHit searchHit : searchHits) {\r\n    \t\t\t\tMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    \t\t\t\tmap.put(&quot;value&quot;, searchHit.getSourceAsMap().get(&quot;id&quot;));\r\n    \t\t\t\tmap.put(&quot;name&quot;, searchHit.getSourceAsMap().get(&quot;name&quot;));\r\n    \t\t\t\tresults.add(map);\r\n    \t\t\t}\r\n    \t\t\treturn results;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn new ArrayList&lt;&gt;();\r\n    \t}\r\n    }   \r\n```\r\nWhen it&#39;s trying to query it gives exception at `client.search()`. This is the **Stack Trace**:  \r\n```java\r\n    java.net.ConnectException: Connection refused\r\n    \tat org.elasticsearch.client.RestClient.extractAndWrapCause(RestClient.java:788)\r\n    \tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:218)\r\n    \tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:205)\r\n    \tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1454)\r\n    \tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1424)\r\n    \tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1394)\r\n    \tat org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:930)\r\n    \tat com.incident.response.controller.IncidentController.listAllIncidents(IncidentController.java:569)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.net.ConnectException: Connection refused\r\n    \tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n    \tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)\r\n    \tat org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvent(DefaultConnectingIOReactor.java:171)\r\n    \tat org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:145)\r\n    \tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:351)\r\n    \tat org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:221)\r\n    \tat org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\r\n    \t... 1 more\r\n```\r\nPlease help me to get rid from this. All help and suggestions will be appriciate.","title":"Spring Boot + Elastic Search : Connection Refused with Java RestHighLevelClient","body":"<p>I am implementing an elastic pool for my spring boot project also I am using spring boot 2.1.4 and elastic search 7.3.0. I am stuck at this. When any API trying to query it gives <code>java.net.ConnectException: Connection refused</code>. I want to use configuration with <code>customizeHttpClient</code> with a setting thread count. So It makes only one connection when application will start and querying to the database using that one connection only till bean will destroy.<br />\nI tried with this <strong>Elastic Configuration</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.io.IOException;\n    \n    import org.apache.http.HttpHost;\n    import org.apache.http.auth.AuthScope;\n    import org.apache.http.auth.UsernamePasswordCredentials;\n    import org.apache.http.client.CredentialsProvider;\n    import org.apache.http.impl.client.BasicCredentialsProvider;\n    import org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\n    import org.apache.http.impl.nio.reactor.IOReactorConfig;\n    import org.elasticsearch.client.RestClient;\n    import org.elasticsearch.client.RestClientBuilder;\n    import org.elasticsearch.client.RestClientBuilder.HttpClientConfigCallback;\n    import org.elasticsearch.client.RestHighLevelClient;\n    import org.springframework.beans.factory.annotation.Value;\n    import org.springframework.beans.factory.config.ConfigurableBeanFactory;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Scope;\n    import org.springframework.stereotype.Component;\n    \n    @Component\n    public class ElasticConfig{\n    \n        public static String host;\n    \n        private static String port;\n    \n        private static String protocol;\n    \n        private static String username;\n    \n        private static String password;\n    \n        private RestHighLevelClient client;\n    \n        @Value(&quot;${dselastic.host}&quot;)\n        public void setHost(String value) {\n            host = value;\n        }\n    \n        @Value(&quot;${dselastic.port}&quot;)\n        public void setPort(String value) {\n            port = value;\n        }\n    \n        @Value(&quot;${dselastic.protocol}&quot;)\n        public void setProtocol(String value) {\n            protocol = value;\n        }\n    \n        @Value(&quot;${dselastic.username}&quot;)\n        public void setUsername(String value) {\n            username = value;\n        }\n    \n        @Value(&quot;${dselastic.password}&quot;)\n        public void setPassword(String value) {\n            password = value;\n        }\n    \n        @Bean(destroyMethod = &quot;cleanUp&quot;)\n        @Scope(value = ConfigurableBeanFactory.SCOPE_SINGLETON)\n        public void prepareConnection() {\n            RestClientBuilder restBuilder = RestClient.builder(new HttpHost(host, Integer.valueOf(port), protocol));\n            if (username != null &amp; password != null) {\n                final CredentialsProvider creadential = new BasicCredentialsProvider();\n                creadential.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\n                restBuilder.setHttpClientConfigCallback(new HttpClientConfigCallback() {\n                    @Override\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n    \n                        return httpClientBuilder.setDefaultCredentialsProvider(creadential)\n                                .setDefaultIOReactorConfig(IOReactorConfig.custom().setIoThreadCount(1).build());\n                    }\n                });\n                restBuilder.setRequestConfigCallback(requestConfigBuilder -&gt; \n                requestConfigBuilder.setConnectTimeout(10000) // time until a connection with the server is established.\n                        .setSocketTimeout(60000) // time of inactivity to wait for packets[data] to receive.\n                        .setConnectionRequestTimeout(0)); // time to fetch a connection from the connection pool 0 for infinite.\n                client = new RestHighLevelClient(restBuilder);\n            }\n        }\n    \n        public void cleanUp() {\n            try {\n                client.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>I also tried by implementing <code>DisposableBean</code> interface and its <code>destroy</code> method but I got same exception.<br />\nThis is my API where I am trying to querying a document:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class IndexNameController {\n    \n        @Autowired\n        RestHighLevelClient client;\n    \n        @GetMapping(value = &quot;/listAllNames&quot;)\n        public ArrayList&lt;Object&gt; listAllNames(HttpSession session) {\n            ArrayList&lt;Object&gt; results = new ArrayList&lt;&gt;();\n            try {\n                SearchRequest searchRequest = new SearchRequest();\n                SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n                searchRequest.indices(&quot;indexname&quot;);\n                String[] fields = { &quot;name&quot;, &quot;id&quot; };\n                searchSourceBuilder.fetchSource(fields, new String[] {});\n                searchSourceBuilder.query(QueryBuilders.matchAllQuery()).size(10000);\n                searchSourceBuilder = searchSourceBuilder.sort(new FieldSortBuilder(&quot;createdTime&quot;).order(SortOrder.DESC));\n                searchRequest.source(searchSourceBuilder);\n                SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n                SearchHit[] searchHits = searchResponse.getHits().getHits();\n                for (SearchHit searchHit : searchHits) {\n                    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n                    map.put(&quot;value&quot;, searchHit.getSourceAsMap().get(&quot;id&quot;));\n                    map.put(&quot;name&quot;, searchHit.getSourceAsMap().get(&quot;name&quot;));\n                    results.add(map);\n                }\n                return results;\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return new ArrayList&lt;&gt;();\n        }\n    }   \n</code></pre>\n<p>When it's trying to query it gives exception at <code>client.search()</code>. This is the <strong>Stack Trace</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    java.net.ConnectException: Connection refused\n        at org.elasticsearch.client.RestClient.extractAndWrapCause(RestClient.java:788)\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:218)\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:205)\n        at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1454)\n        at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1424)\n        at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1394)\n        at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:930)\n        at com.incident.response.controller.IncidentController.listAllIncidents(IncidentController.java:569)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n    Caused by: java.net.ConnectException: Connection refused\n        at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n        at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)\n        at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvent(DefaultConnectingIOReactor.java:171)\n        at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:145)\n        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:351)\n        at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:221)\n        at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\n        ... 1 more\n</code></pre>\n<p>Please help me to get rid from this. All help and suggestions will be appriciate.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":15102634,"reputation":338,"user_id":10899197,"display_name":"Tr1monster"},"score":1,"creation_date":1672220138,"post_id":74938195,"comment_id":132243945,"body_markdown":"You use spring-boot-starter-security in version 2.7.7 and spring-boot-starter-validation in 2.6.6 . I&#39;m really not sure if that is the source of your trouble. But I think two different spring-boot versions are not optimal.","body":"You use spring-boot-starter-security in version 2.7.7 and spring-boot-starter-validation in 2.6.6 . I&#39;m really not sure if that is the source of your trouble. But I think two different spring-boot versions are not optimal."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1672223269,"post_id":74938195,"comment_id":132244706,"body_markdown":"Unfortunately it doesn&#39;t change.","body":"Unfortunately it doesn&#39;t change."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1672226660,"post_id":74938195,"comment_id":132245531,"body_markdown":"The problem was not the boot version, but the spring-core, thanks for the tip.","body":"The problem was not the boot version, but the spring-core, thanks for the tip."},{"owner":{"account_id":15102634,"reputation":338,"user_id":10899197,"display_name":"Tr1monster"},"score":1,"creation_date":1672227471,"post_id":74938195,"comment_id":132245681,"body_markdown":"Normally i dont specify any spring or spring boot version except for my spring-boot-starter as parent. Every other Version is managed by the spring team and everything works fine.","body":"Normally i dont specify any spring or spring boot version except for my spring-boot-starter as parent. Every other Version is managed by the spring team and everything works fine."}],"answers":[{"tags":[],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672226038,"creation_date":1672226038,"answer_id":74939538,"question_id":74938195,"body_markdown":"I had to align spring-core version of my POM with spring version of spring-boot dependency.\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.24&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n","title":"Error creating bean with name &#39;conversionServicePostProcessor&#39;","body":"<p>I had to align spring-core version of my POM with spring version of spring-boot dependency.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;5.3.24&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672226038,"creation_date":1672217763,"question_id":74938195,"body_markdown":"I&#39;m trying to add spring security to my spring project, but I&#39;m facing this issue:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;conversionServicePostProcessor&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.beans.factory.config.BeanFactoryPostProcessor]: Factory method &#39;conversionServicePostProcessor&#39; threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.core.convert.converter.Converter.andThen(Lorg/springframework/core/convert/converter/Converter;)Lorg/springframework/core/convert/converter/Converter;\r\n\r\nThis is my POM\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \t....\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.16.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.16.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.16.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.5.38&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.15&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.adrianwalker&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;multiline-string&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.1.2b&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.13.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.16.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nI&#39;m using **annotated configuration** of Spring.\r\nI tried to create application.properties file in src folder, adding this content as suggested in some other questions:\r\n\r\n    spring.main.allow-bean-definition-overriding=true\r\n\r\nBut it did not help.","title":"Error creating bean with name &#39;conversionServicePostProcessor&#39;","body":"<p>I'm trying to add spring security to my spring project, but I'm facing this issue:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'conversionServicePostProcessor' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.beans.factory.config.BeanFactoryPostProcessor]: Factory method 'conversionServicePostProcessor' threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.core.convert.converter.Converter.andThen(Lorg/springframework/core/convert/converter/Converter;)Lorg/springframework/core/convert/converter/Converter;\n</code></pre>\n<p>This is my POM</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    ....\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-net&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n            &lt;version&gt;3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;8.5.38&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.adrianwalker&lt;/groupId&gt;\n            &lt;artifactId&gt;multiline-string&lt;/artifactId&gt;\n            &lt;version&gt;0.1.2b&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;2.6.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.0.16.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n            &lt;version&gt;1.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I'm using <strong>annotated configuration</strong> of Spring.\nI tried to create application.properties file in src folder, adding this content as suggested in some other questions:</p>\n<pre><code>spring.main.allow-bean-definition-overriding=true\n</code></pre>\n<p>But it did not help.</p>\n"},{"tags":["java","url"],"comments":[{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":1,"creation_date":1481051712,"post_id":3931696,"comment_id":69214916,"body_markdown":"Possible duplicate of [Validating URL in Java](http://stackoverflow.com/questions/1600291/validating-url-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1600291/validating-url-in-java\">Validating URL in Java</a>"},{"owner":{"account_id":3855620,"reputation":342,"user_id":3194646,"accept_rate":56,"display_name":"Saiful Islam"},"score":0,"creation_date":1536996700,"post_id":3931696,"comment_id":91631541,"body_markdown":"I also looking for this solution. Thanks a lot for this question.","body":"I also looking for this solution. Thanks a lot for this question."}],"answers":[{"tags":[],"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"down_vote_count":4,"up_vote_count":78,"is_accepted":true,"score":74,"last_activity_date":1672226012,"creation_date":1287047606,"answer_id":3931701,"question_id":3931696,"body_markdown":"You can try to create a [`java.net.URL`][1] object out of it. If it is not a proper URL, a [`MalformedURLException`][2] will be thrown.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URL.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/MalformedURLException.html","title":"How to verify if a String in Java is a valid URL?","body":"<p>You can try to create a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URL.html\" rel=\"nofollow noreferrer\"><code>java.net.URL</code></a> object out of it. If it is not a proper URL, a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/MalformedURLException.html\" rel=\"nofollow noreferrer\"><code>MalformedURLException</code></a> will be thrown.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1621365912,"creation_date":1287047801,"answer_id":3931722,"question_id":3931696,"body_markdown":"You can use [`UrlValidator`][1] from [commons-validator][2]. It will save you from writing code where the logic flow is guided by catching an exception, which is generally considered a bad practice. In this case, however, I think it&#39;s fine to do as others suggested, if you move this functionality to an utility method called `isValidUrl(..)`\r\n\r\n\r\n  [1]: http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/UrlValidator.html\r\n  [2]: http://commons.apache.org/validator/","title":"How to verify if a String in Java is a valid URL?","body":"<p>You can use <a href=\"http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/UrlValidator.html\" rel=\"noreferrer\"><code>UrlValidator</code></a> from <a href=\"http://commons.apache.org/validator/\" rel=\"noreferrer\">commons-validator</a>. It will save you from writing code where the logic flow is guided by catching an exception, which is generally considered a bad practice. In this case, however, I think it's fine to do as others suggested, if you move this functionality to an utility method called <code>isValidUrl(..)</code></p>\n"},{"tags":[],"owner":{"account_id":1104043,"reputation":753,"user_id":1095835,"display_name":"Esteban Cacavelos"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1370510521,"creation_date":1353589350,"answer_id":13513325,"question_id":3931696,"body_markdown":"Complementing Bozho answer, to go more practical:\r\n\r\n1. Download apache commons [package][1] and uncompress it. \r\n![binaries][2]\r\n2. Include commons-validator-1.4.0.jar in your java build path. \r\n3. Test it with this sample code ([reference][3]): \r\n\r\n        //...your imports\r\n    \r\n        import org.apache.commons.validator.routines.*; // Import routines package!\r\n    \r\n        public static void main(String[] args){\r\n    \r\n        // Get an UrlValidator\r\n        UrlValidator defaultValidator = new UrlValidator(); // default schemes\r\n        if (defaultValidator.isValid(&quot;http://www.apache.org&quot;)) {\r\n            System.out.println(&quot;valid&quot;);\r\n        }\r\n        if (!defaultValidator.isValid(&quot;http//www.oops.com&quot;)) {\r\n            System.out.println(&quot;INvalid&quot;);\r\n        }\r\n    \r\n        // Get an UrlValidator with custom schemes\r\n        String[] customSchemes = { &quot;sftp&quot;, &quot;scp&quot;, &quot;https&quot; };\r\n        UrlValidator customValidator = new UrlValidator(customSchemes);\r\n        if (!customValidator.isValid(&quot;http://www.apache.org&quot;)) {\r\n            System.out.println(&quot;valid&quot;);\r\n        }\r\n    \r\n        // Get an UrlValidator that allows double slashes in the path\r\n        UrlValidator doubleSlashValidator = new UrlValidator(UrlValidator.ALLOW_2_SLASHES);\r\n        if (doubleSlashValidator.isValid(&quot;http://www.apache.org//projects&quot;)) {\r\n            System.out.println(&quot;INvalid&quot;);\r\n        }\r\n\r\n4. Run/Debug\r\n\r\n\r\n  [1]: http://commons.apache.org/validator/download_validator.cgi\r\n  [2]: http://i.stack.imgur.com/RzJM3.png\r\n  [3]: http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/package-summary.html#other.url","title":"How to verify if a String in Java is a valid URL?","body":"<p>Complementing Bozho answer, to go more practical:</p>\n\n<ol>\n<li>Download apache commons <a href=\"http://commons.apache.org/validator/download_validator.cgi\" rel=\"noreferrer\">package</a> and uncompress it. \n<img src=\"https://i.stack.imgur.com/RzJM3.png\" alt=\"binaries\"></li>\n<li>Include commons-validator-1.4.0.jar in your java build path. </li>\n<li><p>Test it with this sample code (<a href=\"http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/package-summary.html#other.url\" rel=\"noreferrer\">reference</a>): </p>\n\n<pre><code>//...your imports\n\nimport org.apache.commons.validator.routines.*; // Import routines package!\n\npublic static void main(String[] args){\n\n// Get an UrlValidator\nUrlValidator defaultValidator = new UrlValidator(); // default schemes\nif (defaultValidator.isValid(\"http://www.apache.org\")) {\n    System.out.println(\"valid\");\n}\nif (!defaultValidator.isValid(\"http//www.oops.com\")) {\n    System.out.println(\"INvalid\");\n}\n\n// Get an UrlValidator with custom schemes\nString[] customSchemes = { \"sftp\", \"scp\", \"https\" };\nUrlValidator customValidator = new UrlValidator(customSchemes);\nif (!customValidator.isValid(\"http://www.apache.org\")) {\n    System.out.println(\"valid\");\n}\n\n// Get an UrlValidator that allows double slashes in the path\nUrlValidator doubleSlashValidator = new UrlValidator(UrlValidator.ALLOW_2_SLASHES);\nif (doubleSlashValidator.isValid(\"http://www.apache.org//projects\")) {\n    System.out.println(\"INvalid\");\n}\n</code></pre></li>\n<li><p>Run/Debug</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5438128,"reputation":11707,"user_id":4326936,"accept_rate":39,"display_name":"alijandro"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1548236604,"creation_date":1446618664,"answer_id":33515131,"question_id":3931696,"body_markdown":"If you program in **Android**, you could use `android.webkit.URLUtil` to test.\r\n\r\n    URLUtil.isHttpUrl(url)\r\n    URLUtil.isHttpsUrl(url)\r\n\r\nHope it would be helpful.","title":"How to verify if a String in Java is a valid URL?","body":"<p>If you program in <strong>Android</strong>, you could use <code>android.webkit.URLUtil</code> to test.</p>\n\n<pre><code>URLUtil.isHttpUrl(url)\nURLUtil.isHttpsUrl(url)\n</code></pre>\n\n<p>Hope it would be helpful.</p>\n"},{"tags":[],"owner":{"account_id":4526333,"reputation":1103,"user_id":3678023,"accept_rate":86,"display_name":"Aaron Esau"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1480144865,"creation_date":1480144865,"answer_id":40815974,"question_id":3931696,"body_markdown":"This function validates a URL, and returns true (valid URL) or false (invalid URL).\r\n\r\n    public static boolean isURL(String url) {\r\n        try {\r\n            new URL(url);\r\n            return true;\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nBe sure to `import java.net.URL;`","title":"How to verify if a String in Java is a valid URL?","body":"<p>This function validates a URL, and returns true (valid URL) or false (invalid URL).</p>\n\n<pre><code>public static boolean isURL(String url) {\n    try {\n        new URL(url);\n        return true;\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>Be sure to <code>import java.net.URL;</code></p>\n"},{"tags":[],"owner":{"account_id":6022939,"reputation":1743,"user_id":4729523,"display_name":"Rafa0809"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1548236567,"creation_date":1481986806,"answer_id":41199880,"question_id":3931696,"body_markdown":"For **Android** just add this line:\r\n\r\n    boolean isValid = URLUtil.isValidUrl( &quot;your.uri&quot; );","title":"How to verify if a String in Java is a valid URL?","body":"<p>For <strong>Android</strong> just add this line:</p>\n\n<pre><code>boolean isValid = URLUtil.isValidUrl( \"your.uri\" );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1659694725,"creation_date":1482341655,"answer_id":41268655,"question_id":3931696,"body_markdown":"\r\n    public static boolean isValidURL(String urlString) {\r\n    \ttry {\r\n    \t\tURL url = new URL(urlString);\r\n    \t\turl.toURI();\r\n    \t\treturn true;\r\n    \t} catch (Exception e) {\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\nThis checks according to [RFC2396][1], like `&lt;scheme&gt;://&lt;authority&gt;&lt;path&gt;?&lt;query&gt;#&lt;fragment&gt;`, but `scheme` must be known by `URL` source code.\r\nThese are **not** valid:\r\n - `telnet://melvyl.ucop.edu`\r\n - `news:comp.infosystems.www.servers.unix`\r\n - `www.google.com`\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2396.html","title":"How to verify if a String in Java is a valid URL?","body":"<pre><code>public static boolean isValidURL(String urlString) {\n    try {\n        URL url = new URL(urlString);\n        url.toURI();\n        return true;\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n<p>This checks according to <a href=\"https://www.rfc-editor.org/rfc/rfc2396.html\" rel=\"nofollow noreferrer\">RFC2396</a>, like <code>&lt;scheme&gt;://&lt;authority&gt;&lt;path&gt;?&lt;query&gt;#&lt;fragment&gt;</code>, but <code>scheme</code> must be known by <code>URL</code> source code.\nThese are <strong>not</strong> valid:</p>\n<ul>\n<li><code>telnet://melvyl.ucop.edu</code></li>\n<li><code>news:comp.infosystems.www.servers.unix</code></li>\n<li><code>www.google.com</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7192384,"reputation":19,"user_id":5492223,"display_name":"Saurabh Tamrakar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590513323,"creation_date":1590513160,"answer_id":62027720,"question_id":3931696,"body_markdown":"```\r\n^(https://|http://|ftp://|ftps://)(?!-.)[^\\\\s/\\$.?#].[^\\\\s]*$\r\n```\r\n\r\nThis is a regex to validate URL for protocols http, https, ftp and ftps.","title":"How to verify if a String in Java is a valid URL?","body":"<pre><code>^(https://|http://|ftp://|ftps://)(?!-.)[^\\\\s/\\$.?#].[^\\\\s]*$\n</code></pre>\n\n<p>This is a regex to validate URL for protocols http, https, ftp and ftps.</p>\n"}],"owner":{"account_id":216976,"reputation":13968,"user_id":472537,"accept_rate":84,"display_name":"lacas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97389,"favorite_count":0,"down_vote_count":1,"up_vote_count":66,"accepted_answer_id":3931701,"answer_count":8,"score":65,"last_activity_date":1672226012,"creation_date":1287047550,"question_id":3931696,"body_markdown":"How to verify if a String in Java is a valid URL?","title":"How to verify if a String in Java is a valid URL?","body":"<p>How to verify if a String in Java is a valid URL?</p>\n"},{"tags":["java","rest","postman"],"comments":[{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":0,"creation_date":1672224223,"post_id":74939202,"comment_id":132244968,"body_markdown":"Possible duplicate: https://stackoverflow.com/a/39037196/9192223","body":"Possible duplicate: <a href=\"https://stackoverflow.com/a/39037196/9192223\">stackoverflow.com/a/39037196/9192223</a>"},{"owner":{"account_id":13843965,"reputation":47,"user_id":9993525,"display_name":"Tan"},"score":0,"creation_date":1672225014,"post_id":74939202,"comment_id":132245164,"body_markdown":"@hiren it&#39;s not a duplicate.  The json in your example is in form-data (with key) and not in body (without key).  \n\nMy API specification is such that the json is in body.  Can this actually be done?","body":"@hiren it&#39;s not a duplicate.  The json in your example is in form-data (with key) and not in body (without key).    My API specification is such that the json is in body.  Can this actually be done?"},{"owner":{"account_id":26315128,"reputation":79,"user_id":19978035,"display_name":"Sachin Mishra"},"score":1,"creation_date":1672225063,"post_id":74939202,"comment_id":132245179,"body_markdown":"You can refer [here](https://stackoverflow.com/questions/39037049/how-to-upload-a-file-and-json-data-in-postman) for your question.","body":"You can refer <a href=\"https://stackoverflow.com/questions/39037049/how-to-upload-a-file-and-json-data-in-postman\">here</a> for your question."},{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":1,"creation_date":1672225264,"post_id":74939202,"comment_id":132245229,"body_markdown":"So instead of form-data, you can select raw and add your json there.","body":"So instead of form-data, you can select raw and add your json there."},{"owner":{"account_id":13843965,"reputation":47,"user_id":9993525,"display_name":"Tan"},"score":0,"creation_date":1672225401,"post_id":74939202,"comment_id":132245265,"body_markdown":"yeah @hiren , agree.  But how to select raw and add my json+multipart files?  Can point me to a resource?","body":"yeah @hiren , agree.  But how to select raw and add my json+multipart files?  Can point me to a resource?"},{"owner":{"account_id":13843965,"reputation":47,"user_id":9993525,"display_name":"Tan"},"score":0,"creation_date":1672225746,"post_id":74939202,"comment_id":132245338,"body_markdown":"@SachinMishra , like what hiren has posted, I want the json to be in the body and not some form-data with key.","body":"@SachinMishra , like what hiren has posted, I want the json to be in the body and not some form-data with key."}],"answers":[{"tags":[],"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672225994,"creation_date":1672225994,"answer_id":74939528,"question_id":74939202,"body_markdown":"In postman, set method type to **POST**.\r\n\r\nThen select Body -&gt; form-data -&gt; Enter your parameter name (**file** according to your code)\r\n\r\nOn the right side of the Key field, while hovering your mouse over it, there is a **dropdown menu** to select between **Text/File**. Select File, then a &quot;Select Files&quot; button will appear in the Value field.\r\n\r\nFor rest of **JSON data**, you can click on raw and enter your JSON data there.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kAysz.png","title":"Postman with &quot;body&quot; (json) and files (multipart) together in 1 restful request","body":"<p>In postman, set method type to <strong>POST</strong>.</p>\n<p>Then select Body -&gt; form-data -&gt; Enter your parameter name (<strong>file</strong> according to your code)</p>\n<p>On the right side of the Key field, while hovering your mouse over it, there is a <strong>dropdown menu</strong> to select between <strong>Text/File</strong>. Select File, then a &quot;Select Files&quot; button will appear in the Value field.</p>\n<p>For rest of <strong>JSON data</strong>, you can click on raw and enter your JSON data there.</p>\n<p><a href=\"https://i.stack.imgur.com/kAysz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kAysz.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13843965,"reputation":47,"user_id":9993525,"display_name":"Tan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74939528,"answer_count":1,"score":0,"last_activity_date":1672225994,"creation_date":1672224050,"question_id":74939202,"body_markdown":"How do I use Postman to send queries with body (in json format) and files (in multipart) format at the same time?\r\n\r\nI think I should use Postman-&gt;Body-&gt;Raw although I can&#39;t find an example on the Web.  Anyone can kindly teach me?  Thank you!","title":"Postman with &quot;body&quot; (json) and files (multipart) together in 1 restful request","body":"<p>How do I use Postman to send queries with body (in json format) and files (in multipart) format at the same time?</p>\n<p>I think I should use Postman-&gt;Body-&gt;Raw although I can't find an example on the Web.  Anyone can kindly teach me?  Thank you!</p>\n"},{"tags":["java","intellij-idea","java-8","java-7"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1420382211,"post_id":27766582,"comment_id":43943693,"body_markdown":"Yes. Download JDK7 compile your classes with 7 ..","body":"Yes. Download JDK7 compile your classes with 7 .."}],"answers":[{"tags":[],"owner":{"account_id":20707,"reputation":30822,"user_id":49746,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1420382852,"creation_date":1420382509,"answer_id":27766631,"question_id":27766582,"body_markdown":"No, you shouldn&#39;t need to download JDK 7. This is a project level setting. Here is how I do it on IntelliJ IDEA 14, but I suspect it is the same if you are on 13 or 12.\r\n\r\nGo to **Settings**-&gt;**Build,Execution,Deployment**-&gt;**Compiler**-&gt;**Java Compiler**. Under that tab you should see a Project-wide setting for **Project Bytecode Version**. Set that to 1.7 and you should be set.\r\n\r\n![enter image description here][1]\r\n\r\nYou can also set the per-module settings here if for some reason you have some modules on one version and other modules on another version (but it doesn&#39;t sound like you do in this case).\r\n\r\n  [1]: http://i.stack.imgur.com/3E20s.png","title":"UnsupportedClassVersionError due to java 7?","body":"<p>No, you shouldn't need to download JDK 7. This is a project level setting. Here is how I do it on IntelliJ IDEA 14, but I suspect it is the same if you are on 13 or 12.</p>\n\n<p>Go to <strong>Settings</strong>-><strong>Build,Execution,Deployment</strong>-><strong>Compiler</strong>-><strong>Java Compiler</strong>. Under that tab you should see a Project-wide setting for <strong>Project Bytecode Version</strong>. Set that to 1.7 and you should be set.</p>\n\n<p><img src=\"https://i.stack.imgur.com/3E20s.png\" alt=\"enter image description here\"></p>\n\n<p>You can also set the per-module settings here if for some reason you have some modules on one version and other modules on another version (but it doesn't sound like you do in this case).</p>\n"}],"owner":{"account_id":2017340,"reputation":5010,"user_id":1804317,"accept_rate":79,"display_name":"Jakob Abfalter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6000,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1672226183,"accepted_answer_id":27766631,"answer_count":1,"score":5,"last_activity_date":1672225767,"creation_date":1420382118,"question_id":27766582,"body_markdown":"Ok so I just finished an assignment for university and wanted to test my solution on their server and got this exception:\r\n\r\n      [java] Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: controller/CloudController : Unsupported major.minor version 52.0\r\n         [java]     at java.lang.ClassLoader.defineClass1(Native Method)\r\n         [java]     at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\r\n         [java]     at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n         [java]     at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n         [java]     at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n         [java]     at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n         [java]     at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n         [java]     at java.security.AccessController.doPrivileged(Native Method)\r\n         [java]     at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n         [java]     at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n         [java]     at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n         [java]     at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n         [java]     at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\r\n         [java] Java Result: 1\r\n\r\nI checked the server and found out they are using Java 7 while I used Java 8 already. \r\n\r\nWhat I then tried was this:\r\n\r\n![enter image description here][1]\r\n\r\nI changed the Project language level to 7, but still this hasn`t solved the problem. \r\n\r\nSo here is my question, do I really have to download the 1.7 jdk to make this work, because I want to avoid this. The program has to run on the server though, since it is used for the grading and I obviously can`t update the Java version on an university server.\r\n\r\nThanks for any answers in advance.\r\n\r\n  [1]: http://i.stack.imgur.com/OU9Ob.png","title":"UnsupportedClassVersionError due to java 7?","body":"<p>Ok so I just finished an assignment for university and wanted to test my solution on their server and got this exception:</p>\n\n<pre><code>  [java] Exception in thread \"main\" java.lang.UnsupportedClassVersionError: controller/CloudController : Unsupported major.minor version 52.0\n     [java]     at java.lang.ClassLoader.defineClass1(Native Method)\n     [java]     at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\n     [java]     at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n     [java]     at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n     [java]     at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n     [java]     at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n     [java]     at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n     [java]     at java.security.AccessController.doPrivileged(Native Method)\n     [java]     at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n     [java]     at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n     [java]     at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n     [java]     at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n     [java]     at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\n     [java] Java Result: 1\n</code></pre>\n\n<p>I checked the server and found out they are using Java 7 while I used Java 8 already. </p>\n\n<p>What I then tried was this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/OU9Ob.png\" alt=\"enter image description here\"></p>\n\n<p>I changed the Project language level to 7, but still this hasn`t solved the problem. </p>\n\n<p>So here is my question, do I really have to download the 1.7 jdk to make this work, because I want to avoid this. The program has to run on the server though, since it is used for the grading and I obviously can`t update the Java version on an university server.</p>\n\n<p>Thanks for any answers in advance.</p>\n"},{"tags":["java","sql-server","spring-boot","jooq","dsl"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672144290,"post_id":74925964,"comment_id":132228391,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672137568,"creation_date":1672137568,"answer_id":74928288,"question_id":74925964,"body_markdown":"Look at the method signatures:\r\n\r\n- [`SelectOrderByStep.orderBy(Collection&lt;? extends OrderField&gt;)`][1]\r\n- [`DSL.lower(Field&lt;?&gt;)`][2]\r\n\r\nYou can&#39;t just combine them, they accept different types. The `ORDER BY` clause accepts a collection (or varargs array) of `OrderField` (`Field&lt;?&gt;` being a valid subtype), whereas `LOWER()` is a scalar function accepting only a single field. You can&#39;t just `LOWER()` a collection of fields. Also, you can&#39;t `LOWER()` a `SortField`, which could be something like `TABLE.COLUMN.asc()`.\r\n\r\nI don&#39;t know why your original data structure has to be `List&lt;OrderField&gt;`. Are you maintaining that list somewhere to create dynamic SQL, including dynamic `ASC` / `DESC` sort order?\r\n\r\nIn any case, you will have to apply the `LOWER()` function to each field individually, e.g.:\r\n\r\n```java\r\nList&lt;Field&lt;?&gt;&gt; sortFields = ...\r\nselect.orderBy(sortFields.stream().map(f -&gt; lower(f)).toList())\r\n```\r\n\r\nAnd if you have dynamic `ASC` / `DESC` sort directions, you&#39;ll have to apply that *after* calling `lower(f)` to each position.\r\n\r\nAs a side note, [collations are the SQL idiomatic way to implement case insensitive ordering][3], maybe better use that.\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/SelectOrderByStep.html#orderBy(java.util.Collection)\r\n  [2]: https://www.jooq.org/javadoc/dev/org.jooq/org/jooq/impl/DSL.html#lower(org.jooq.Field)\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/collations/","title":"DSL query sortBy in case insensitive query formation in java, mssql DB","body":"<p>Look at the method signatures:</p>\n<ul>\n<li><a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/SelectOrderByStep.html#orderBy(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>SelectOrderByStep.orderBy(Collection&lt;? extends OrderField&gt;)</code></a></li>\n<li><a href=\"https://www.jooq.org/javadoc/dev/org.jooq/org/jooq/impl/DSL.html#lower(org.jooq.Field)\" rel=\"nofollow noreferrer\"><code>DSL.lower(Field&lt;?&gt;)</code></a></li>\n</ul>\n<p>You can't just combine them, they accept different types. The <code>ORDER BY</code> clause accepts a collection (or varargs array) of <code>OrderField</code> (<code>Field&lt;?&gt;</code> being a valid subtype), whereas <code>LOWER()</code> is a scalar function accepting only a single field. You can't just <code>LOWER()</code> a collection of fields. Also, you can't <code>LOWER()</code> a <code>SortField</code>, which could be something like <code>TABLE.COLUMN.asc()</code>.</p>\n<p>I don't know why your original data structure has to be <code>List&lt;OrderField&gt;</code>. Are you maintaining that list somewhere to create dynamic SQL, including dynamic <code>ASC</code> / <code>DESC</code> sort order?</p>\n<p>In any case, you will have to apply the <code>LOWER()</code> function to each field individually, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Field&lt;?&gt;&gt; sortFields = ...\nselect.orderBy(sortFields.stream().map(f -&gt; lower(f)).toList())\n</code></pre>\n<p>And if you have dynamic <code>ASC</code> / <code>DESC</code> sort directions, you'll have to apply that <em>after</em> calling <code>lower(f)</code> to each position.</p>\n<p>As a side note, <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/collations/\" rel=\"nofollow noreferrer\">collations are the SQL idiomatic way to implement case insensitive ordering</a>, maybe better use that.</p>\n"},{"tags":[],"owner":{"account_id":22173456,"reputation":11,"user_id":16418419,"display_name":"mb-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672225685,"creation_date":1672225685,"answer_id":74939484,"question_id":74925964,"body_markdown":"Finally found the answer for this by adding\r\n**Field&lt;String&gt; orderFieldSort =  lower((Field&lt;String&gt;) orderField);**","title":"DSL query sortBy in case insensitive query formation in java, mssql DB","body":"<p>Finally found the answer for this by adding\n<strong>Field orderFieldSort =  lower((Field) orderField);</strong></p>\n"}],"owner":{"account_id":22173456,"reputation":11,"user_id":16418419,"display_name":"mb-"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74939484,"answer_count":2,"score":1,"last_activity_date":1672225685,"creation_date":1672119057,"question_id":74925964,"body_markdown":"Current response a-z A-Z\r\nNeeded as aA-zZ or Aa-Zz\r\n\r\n\r\nCode line : return select -&gt; select.orderBy(sortFields);\r\nNote : where *sortFields* is **List&lt;OrderField&lt;?&gt;&gt; sortFields = new ArrayList&lt;OrderField&lt;?&gt;&gt;()**\r\n\r\ntried using **DSL.lower menthod but it saying to convert sortFields as string.**\r\nCode line : return select -&gt; select.orderBy(lower(sortFields));\r\n\r\nsortFields is in the reference of List&lt;OrderField&lt;?&gt;&gt;\r\nis there any way to get sorting as case insensitive to get response as (aA-zZ or Aa-Zz)","title":"DSL query sortBy in case insensitive query formation in java, mssql DB","body":"<p>Current response a-z A-Z\nNeeded as aA-zZ or Aa-Zz</p>\n<p>Code line : return select -&gt; select.orderBy(sortFields);\nNote : where <em>sortFields</em> is <strong>List&lt;OrderField> sortFields = new ArrayList&gt;()</strong></p>\n<p>tried using <strong>DSL.lower menthod but it saying to convert sortFields as string.</strong>\nCode line : return select -&gt; select.orderBy(lower(sortFields));</p>\n<p>sortFields is in the reference of List&lt;OrderField&lt;?&gt;&gt;\nis there any way to get sorting as case insensitive to get response as (aA-zZ or Aa-Zz)</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","hibernate-filters"],"owner":{"account_id":26885891,"reputation":26,"user_id":20465465,"display_name":"ITGeek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672225531,"creation_date":1671692277,"question_id":74885063,"body_markdown":"I am trying to fetch the queries from my properties file. Native query is working fine, but I need to change filter conditions from properties file also.\r\n\r\nquery.properties file contains :\r\n```\r\nuserQuery=SELECT * FROM USER limit 1\r\n```\r\n\r\n \r\nand in my repository\r\n```\r\n@Value(&quot;${userQuery}&quot;)\r\nString query1;\r\n```\r\n\r\n\r\n```\r\nQuery query = getEntityManager().createNativeQuery(query1);\r\nreturn query.getResultList();\r\n```\r\n\r\nThis is working fine, but in my filter (see below) I want to take filter condition from query.properties file itself.\r\n\r\n```\r\n@FilterDefs(value = {\r\n        @FilterDef(name = &quot;getData&quot;, parameters = {\r\n                @ParamDef(name = &quot;firstName&quot;, type = &quot;java.lang.String&quot;)\r\n        })})\r\n\r\n@Filters(value = {\r\n        @Filter(name = &quot;getData&quot;, condition = &quot;first_name in(:firstName)&quot;)})\r\n```\r\n\r\nquery.properties\r\n```\r\nuserQuery=SELECT * FROM USER limit 1\r\n\r\nfilterQuery=first_name in(:firstName)\r\n```\r\n\r\n","title":"How can we set hibernate filter conditions from queries.properties file?","body":"<p>I am trying to fetch the queries from my properties file. Native query is working fine, but I need to change filter conditions from properties file also.</p>\n<p>query.properties file contains :</p>\n<pre><code>userQuery=SELECT * FROM USER limit 1\n</code></pre>\n<p>and in my repository</p>\n<pre><code>@Value(&quot;${userQuery}&quot;)\nString query1;\n</code></pre>\n<pre><code>Query query = getEntityManager().createNativeQuery(query1);\nreturn query.getResultList();\n</code></pre>\n<p>This is working fine, but in my filter (see below) I want to take filter condition from query.properties file itself.</p>\n<pre><code>@FilterDefs(value = {\n        @FilterDef(name = &quot;getData&quot;, parameters = {\n                @ParamDef(name = &quot;firstName&quot;, type = &quot;java.lang.String&quot;)\n        })})\n\n@Filters(value = {\n        @Filter(name = &quot;getData&quot;, condition = &quot;first_name in(:firstName)&quot;)})\n</code></pre>\n<p>query.properties</p>\n<pre><code>userQuery=SELECT * FROM USER limit 1\n\nfilterQuery=first_name in(:firstName)\n</code></pre>\n"},{"tags":["java","optimization","search","switch-statement"],"answers":[{"tags":[],"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672158502,"creation_date":1672158502,"answer_id":74931754,"question_id":74931643,"body_markdown":"you need to create an array for your variables\r\nsuch as\r\n\r\n    const vars = {1, 2, 3, .. etc}\r\nthen you can use for loop\r\n\r\n    for(let i=0; i&lt;vars.length; i++){\r\n       if(vars[i] == 1){\r\n          // things you want to do\r\n          break();\r\n       }\r\n    }","title":"Is there a way to search for a value from an assortment of variables using a switch statement?","body":"<p>you need to create an array for your variables\nsuch as</p>\n<pre><code>const vars = {1, 2, 3, .. etc}\n</code></pre>\n<p>then you can use for loop</p>\n<pre><code>for(let i=0; i&lt;vars.length; i++){\n   if(vars[i] == 1){\n      // things you want to do\n      break();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672158665,"creation_date":1672158665,"answer_id":74931789,"question_id":74931643,"body_markdown":"`switch`-statements and `switch`-expressions are useful when you need to define multiple execution paths depending on the value of a **single** variable (for more information, refer to the [*official tutorial*](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html)), but in your can cause you need to operate with **multiple** variables.\r\n\r\nAs a possible solution, you can collect these variable into an array or a `List`, and then check if it contains a value of `1`.\r\n\r\n*Example:*\r\n\r\n```\r\nList&lt;Integer&gt; vars = List.of(var1, var2, var3, ... );\r\n...\r\nif (vars.contains(1)) { ... }\r\n```","title":"Is there a way to search for a value from an assortment of variables using a switch statement?","body":"<p><code>switch</code>-statements and <code>switch</code>-expressions are useful when you need to define multiple execution paths depending on the value of a <strong>single</strong> variable (for more information, refer to the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\"><em>official tutorial</em></a>), but in your can cause you need to operate with <strong>multiple</strong> variables.</p>\n<p>As a possible solution, you can collect these variable into an array or a <code>List</code>, and then check if it contains a value of <code>1</code>.</p>\n<p><em>Example:</em></p>\n<pre><code>List&lt;Integer&gt; vars = List.of(var1, var2, var3, ... );\n...\nif (vars.contains(1)) { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22880041,"reputation":103,"user_id":17021769,"display_name":"Mahes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672160559,"creation_date":1672160559,"answer_id":74932130,"question_id":74931643,"body_markdown":"i prefer to use HashMap because the complexity is o(1), so you can get it directly by using the constant key, for ex: \r\n\r\n    private final int KEY = 1; \r\n    Map&lt;Integer, Integer&gt; testMap = new HashMap&lt;&gt;();\r\n    // populate testMap\r\n\r\n    Integer result = testMap.get(KEY);","title":"Is there a way to search for a value from an assortment of variables using a switch statement?","body":"<p>i prefer to use HashMap because the complexity is o(1), so you can get it directly by using the constant key, for ex:</p>\n<pre><code>private final int KEY = 1; \nMap&lt;Integer, Integer&gt; testMap = new HashMap&lt;&gt;();\n// populate testMap\n\nInteger result = testMap.get(KEY);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27364593,"reputation":1,"user_id":20871661,"display_name":"sijo saji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672199525,"creation_date":1672160875,"answer_id":74932193,"question_id":74931643,"body_markdown":"```python\r\ndef search(value):\r\n    var1 = &#39;apple&#39;\r\n\r\n\r\nvar2 = &#39;banana&#39;\r\nvar3 = &#39;cherry&#39;\r\n\r\nif found:\r\n    print(f&#39;{value} was found!&#39;)\r\nelse:\r\n    print(f&#39;{value} was not found.&#39;)\r\n\r\nsearch(&#39;apple&#39;)\r\nsearch(&#39;orange&#39;)\r\n```","title":"Is there a way to search for a value from an assortment of variables using a switch statement?","body":"<pre class=\"lang-py prettyprint-override\"><code>def search(value):\n    var1 = 'apple'\n\n\nvar2 = 'banana'\nvar3 = 'cherry'\n\nif found:\n    print(f'{value} was found!')\nelse:\n    print(f'{value} was not found.')\n\nsearch('apple')\nsearch('orange')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24859603,"reputation":1,"user_id":18735542,"display_name":"thegermanguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672224935,"creation_date":1672163101,"answer_id":74932538,"question_id":74931643,"body_markdown":"You can use the functional programming approach in Java to iterate over a given set of items.\r\nfor example:\r\n\r\n```java\r\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\nset.add(1);\r\nset.add(2);\r\nset.add(3);\r\n\r\n// Adding items to this set for demonstration purposes.\r\n// In your case the given Set is already populated\r\nSet&lt;Integer&gt; filteredSet = set.stream().filter(item -&gt; item == 1).collect(Collectors.toSet());\r\nfilteredSet.forEach(item -&gt; {\r\n    System.out.println(&quot;Item: &quot; + item);\r\n});\r\n```\r\n\r\nExplanation:\r\nset.stream() opens a Stream for the given Items in this set. &lt;br&gt;\r\nstream().filter(x -&gt; x == 1) filteres all items, which are not applying to the given filter-function &quot;x -&gt; x == 1&quot;.&lt;br&gt;\r\nThis filter-function essentially defines an &quot;item&quot; which then can be compared to the value of 1 through the &quot;equals&quot;-Operator.\r\nThe method &quot;collect(Collectors.toSet())&quot; takes all the filtered items (in this case its only the Integer of the value 1) and assigns those values to the new Set &quot;filteredSet&quot;. \r\nAfter that the given filteredSet is being iterated over via the functional Method &quot;forEach()&quot; which then prints all values of the given Set. (in this case only 1 value of &quot;1&quot;)","title":"Is there a way to search for a value from an assortment of variables using a switch statement?","body":"<p>You can use the functional programming approach in Java to iterate over a given set of items.\nfor example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\nset.add(1);\nset.add(2);\nset.add(3);\n\n// Adding items to this set for demonstration purposes.\n// In your case the given Set is already populated\nSet&lt;Integer&gt; filteredSet = set.stream().filter(item -&gt; item == 1).collect(Collectors.toSet());\nfilteredSet.forEach(item -&gt; {\n    System.out.println(&quot;Item: &quot; + item);\n});\n</code></pre>\n<p>Explanation:\nset.stream() opens a Stream for the given Items in this set. <br>\nstream().filter(x -&gt; x == 1) filteres all items, which are not applying to the given filter-function &quot;x -&gt; x == 1&quot;.<br>\nThis filter-function essentially defines an &quot;item&quot; which then can be compared to the value of 1 through the &quot;equals&quot;-Operator.\nThe method &quot;collect(Collectors.toSet())&quot; takes all the filtered items (in this case its only the Integer of the value 1) and assigns those values to the new Set &quot;filteredSet&quot;.\nAfter that the given filteredSet is being iterated over via the functional Method &quot;forEach()&quot; which then prints all values of the given Set. (in this case only 1 value of &quot;1&quot;)</p>\n"}],"owner":{"account_id":27366148,"reputation":23,"user_id":20872968,"display_name":"Pickle_boi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74931754,"answer_count":5,"score":2,"last_activity_date":1672224935,"creation_date":1672157744,"question_id":74931643,"body_markdown":"I am a novice in java, and I am trying to make a search-algorithm for this situation.\r\n\r\nI&#39;m attempting to search through a set of 12 integers to find a value equal to 1, similar to this long if-else chain.\r\n\r\n```\r\nif (var1 == 1){\r\n    break;\r\n} else if (var2 == 1){\r\n    break;\r\n} else if (var3 == 1){\r\n    break;\r\n} else if (var4 == 1){\r\n    break;\r\n} else if (var5 == 1){\r\n    break;\r\n} else if (var6 == 1){\r\n    break;\r\n} else if (var7 == 1){\r\n    break;\r\n} else if (var8 == 1){\r\n    break;\r\n} else if (var9 == 1){\r\n    break;\r\n} else if (var10 == 1){\r\n    break;\r\n} else if (var11 == 1){\r\n    break;\r\n} else if (var12 == 1){\r\n    break;\r\n}\r\n```\r\n\r\nHowever, in an attempt to clean up the code and learn new technique, I am attempting to employ a switch statement to search these variables instead.\r\n\r\n\r\n\r\nThe problem I am encountering is that, in order to compare my variables to the constant (1), I feel like I need to use a boolean as the case condition:\r\n\r\n\r\n```\r\nswitch (){\r\n   case var1 == 1: break;\r\n}\r\n```\r\n\r\nHowever, this throws two errors: there is no expression for the switch statement, and the case condition is a boolean (it expects an int).\r\n\r\nThe other problem that I&#39;ve seen is that the case condition must be a constant, meaning I can&#39;t have it as a variable:\r\n\r\n\r\n```\r\nswitch (1){\r\n   case var1: break;\r\n}\r\n```\r\n\r\nI think this would trigger if this syntax was correct, but I can&#39;t figure out any other ways to do it without using arrays, which I don&#39;t really understand.","title":"Is there a way to search for a value from an assortment of variables using a switch statement?","body":"<p>I am a novice in java, and I am trying to make a search-algorithm for this situation.</p>\n<p>I'm attempting to search through a set of 12 integers to find a value equal to 1, similar to this long if-else chain.</p>\n<pre><code>if (var1 == 1){\n    break;\n} else if (var2 == 1){\n    break;\n} else if (var3 == 1){\n    break;\n} else if (var4 == 1){\n    break;\n} else if (var5 == 1){\n    break;\n} else if (var6 == 1){\n    break;\n} else if (var7 == 1){\n    break;\n} else if (var8 == 1){\n    break;\n} else if (var9 == 1){\n    break;\n} else if (var10 == 1){\n    break;\n} else if (var11 == 1){\n    break;\n} else if (var12 == 1){\n    break;\n}\n</code></pre>\n<p>However, in an attempt to clean up the code and learn new technique, I am attempting to employ a switch statement to search these variables instead.</p>\n<p>The problem I am encountering is that, in order to compare my variables to the constant (1), I feel like I need to use a boolean as the case condition:</p>\n<pre><code>switch (){\n   case var1 == 1: break;\n}\n</code></pre>\n<p>However, this throws two errors: there is no expression for the switch statement, and the case condition is a boolean (it expects an int).</p>\n<p>The other problem that I've seen is that the case condition must be a constant, meaning I can't have it as a variable:</p>\n<pre><code>switch (1){\n   case var1: break;\n}\n</code></pre>\n<p>I think this would trigger if this syntax was correct, but I can't figure out any other ways to do it without using arrays, which I don't really understand.</p>\n"},{"tags":["javascript","java","gwt"],"answers":[{"tags":[],"owner":{"account_id":19737605,"reputation":7,"user_id":14451714,"display_name":"Nawaz Pasha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672127708,"creation_date":1672127708,"answer_id":74926870,"question_id":74919682,"body_markdown":"```\r\nfunction makeAsyncRequest() {\r\n  var xhr = new XMLHttpRequest();\r\n  xhr.onreadystatechange = function() {\r\n    if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) {\r\n      // Request was successful. Do something with the response.\r\n      console.log(xhr.responseText);\r\n    }\r\n  };\r\n  xhr.open(&quot;GET&quot;, &quot;http://example.com/api/endpoint&quot;, true);\r\n  xhr.send();\r\n}\r\n```","title":"make async call using native JS in GWT app","body":"<pre><code>function makeAsyncRequest() {\n  var xhr = new XMLHttpRequest();\n  xhr.onreadystatechange = function() {\n    if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) {\n      // Request was successful. Do something with the response.\n      console.log(xhr.responseText);\n    }\n  };\n  xhr.open(&quot;GET&quot;, &quot;http://example.com/api/endpoint&quot;, true);\n  xhr.send();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21959075,"reputation":53,"user_id":16237217,"display_name":"Ayush Patwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672224919,"creation_date":1672224919,"answer_id":74939355,"question_id":74919682,"body_markdown":"I got my mistake, I used response.json() twice in my code, once to log and once to return. I realised I can only use it once in my code. Removing the log  fixed my code.\r\n\r\n    function fetchToken() {\r\n      return fetch(URL, { method: &quot;POST&quot; })\r\n        .then(function(response) {\r\n          return response.json();\r\n        })\r\n        .then(function(data) {\r\n          return data.secret;\r\n        });\r\n      } ","title":"make async call using native JS in GWT app","body":"<p>I got my mistake, I used response.json() twice in my code, once to log and once to return. I realised I can only use it once in my code. Removing the log  fixed my code.</p>\n<pre><code>function fetchToken() {\n  return fetch(URL, { method: &quot;POST&quot; })\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(data) {\n      return data.secret;\n    });\n  } \n</code></pre>\n"}],"owner":{"account_id":21959075,"reputation":53,"user_id":16237217,"display_name":"Ayush Patwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74939355,"answer_count":2,"score":0,"last_activity_date":1672224919,"creation_date":1672052752,"question_id":74919682,"body_markdown":"I have a GWT app in which I have to include an JS function. So I am using the native interface to use the JS function in my JAVA code.\r\n\r\nThis is my JS function\r\n\r\n```js\r\nfunction fetchToken() {\r\n  return fetch(URL, { method: &quot;POST&quot; })\r\n    .then(function(response) {\r\n      console.log(response.json());\r\n      return response.json();\r\n    })\r\n    .then(function(data) {\r\n      return data.secret;\r\n    });\r\n  }  \r\n```\r\n\r\nBut the problem with this is when I receive the Promise response via response.json(), it is still in pending state, so it never goes to line 6. I tried using async but it seems like GWT does not support using async/await.\r\n\r\nIs there a way I can use async in GWT or any other way to use JS in GWT other than native interface in which I do not face this issue?","title":"make async call using native JS in GWT app","body":"<p>I have a GWT app in which I have to include an JS function. So I am using the native interface to use the JS function in my JAVA code.</p>\n<p>This is my JS function</p>\n<pre class=\"lang-js prettyprint-override\"><code>function fetchToken() {\n  return fetch(URL, { method: &quot;POST&quot; })\n    .then(function(response) {\n      console.log(response.json());\n      return response.json();\n    })\n    .then(function(data) {\n      return data.secret;\n    });\n  }  \n</code></pre>\n<p>But the problem with this is when I receive the Promise response via response.json(), it is still in pending state, so it never goes to line 6. I tried using async but it seems like GWT does not support using async/await.</p>\n<p>Is there a way I can use async in GWT or any other way to use JS in GWT other than native interface in which I do not face this issue?</p>\n"},{"tags":["java","spring","logging","quarkus","p6spy"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672224082,"creation_date":1672224082,"answer_id":74939211,"question_id":74938286,"body_markdown":"By default p6spy does not log results - please read about [excludecategories parameter](https://p6spy.readthedocs.io/en/latest/configandusage.html#excludecategories) and [default values](https://github.com/p6spy/p6spy/blob/master/src/main/assembly/individualFiles/spy.properties):\r\n\r\n```\r\n#list of categories to exclude: error, info, batch, debug, statement,\r\n#commit, rollback, result and resultset are valid values\r\n# (default is info,debug,result,resultset,batch)\r\n#excludecategories=info,debug,result,resultset,batch\r\n```\r\n\r\nin your case I believe that should be something like:\r\n\r\n```\r\nexcludecategories=info,debug,result,batch\r\n```\r\n\r\nFYI. The only author of `p6spy` has [abandoned project](https://github.com/p6spy/p6spy/issues/541) - I do not see any reason to use `p6spy` in new projects, moreover [quarkus recommends to use opentracing](https://quarkus.io/guides/opentracing)","title":"Config P6Spy on Quarkus log result sql","body":"<p>By default p6spy does not log results - please read about <a href=\"https://p6spy.readthedocs.io/en/latest/configandusage.html#excludecategories\" rel=\"nofollow noreferrer\">excludecategories parameter</a> and <a href=\"https://github.com/p6spy/p6spy/blob/master/src/main/assembly/individualFiles/spy.properties\" rel=\"nofollow noreferrer\">default values</a>:</p>\n<pre><code>#list of categories to exclude: error, info, batch, debug, statement,\n#commit, rollback, result and resultset are valid values\n# (default is info,debug,result,resultset,batch)\n#excludecategories=info,debug,result,resultset,batch\n</code></pre>\n<p>in your case I believe that should be something like:</p>\n<pre><code>excludecategories=info,debug,result,batch\n</code></pre>\n<p>FYI. The only author of <code>p6spy</code> has <a href=\"https://github.com/p6spy/p6spy/issues/541\" rel=\"nofollow noreferrer\">abandoned project</a> - I do not see any reason to use <code>p6spy</code> in new projects, moreover <a href=\"https://quarkus.io/guides/opentracing\" rel=\"nofollow noreferrer\">quarkus recommends to use opentracing</a></p>\n"}],"owner":{"account_id":25972559,"reputation":1,"user_id":19687482,"display_name":"Thor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672224082,"creation_date":1672218388,"question_id":74938286,"body_markdown":"   - I try config P6spy in my quarkus project successfully. But now I want\r\n   it log result sql. How to P6spy log result sql? this is my code:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;p6spy&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;p6spy&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n- application.properties\r\n\r\n    quarkus.datasource.jdbc.driver=com.p6spy.engine.spy.P6SpyDriver\r\n- spy.properties\r\n\r\n    module.log=com.p6spy.engine.logging.P6LogFactory\r\n    realdriver=org.postgresql.Driver\r\n    deregisterdrivers=false\r\n    outagedetection=false\r\n    filter=false\r\n    autoflush=true\r\n    #excludecategories=info,debug,batch,statement,commit,rollback,outage\r\n    logfile=quarkus.log\r\n    reloadproperties=false\r\n    reloadpropertiesinterval=60\r\n    useprefix=false\r\n    appender=com.p6spy.engine.logging.appender.FileLogger\r\n    append=true\r\n    log4j.appender.STDOUT=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.STDOUT.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.STDOUT.layout.ConversionPattern=p6spy - %m%n\r\n    log4j.logger.p6spy=INFO,STDOUT\r\n    dateformat=yyyy-MM-dd hh:mm:ss a\r\n- this is quarkus.log :\r\n\r\n    2022-12-28 03:37:06 PM|45|0|statement|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email=? limit ?|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email=&#39;hoatest14@gmail.com&#39; limit 1\r\n    2022-12-28 03:37:06 PM|0|0|result|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email=? limit ?|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email=&#39;hoatest14@gmail.com&#39; limit 1\r\n    2022-12-28 03:37:06 PM|52|0|commit||\r\n\r\nExpect: it show result log\r\n\r\n    {\r\n        &quot;createTime&quot;: &quot;2022-09-27 08:27:42:705&quot;,\r\n        &quot;createTimeUnix&quot;: 1664292462705,\r\n        &quot;id&quot;: 3787,\r\n        &quot;updateTime&quot;: &quot;2022-09-27 08:27:42:705&quot;,\r\n        &quot;updateTimeUnix&quot;: 1664292462705,\r\n        &quot;company&quot;: &quot;IMIP&quot;,\r\n        &quot;country&quot;: &quot;VietNam&quot;,\r\n        &quot;currency&quot;: &quot;KRW&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;email&quot;: &quot;hoatest14@gmail.com&quot;,\r\n        &quot;name&quot;: &quot;Tong Thi Hoa 14&quot;,\r\n        &quot;status&quot;: &quot;Active&quot;\r\n    }","title":"Config P6Spy on Quarkus log result sql","body":"<ul>\n<li>I try config P6spy in my quarkus project successfully. But now I want\nit log result sql. How to P6spy log result sql? this is my code:</li>\n</ul>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;p6spy&lt;/groupId&gt;\n    &lt;artifactId&gt;p6spy&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li><p>application.properties</p>\n<p>quarkus.datasource.jdbc.driver=com.p6spy.engine.spy.P6SpyDriver</p>\n</li>\n<li><p>spy.properties</p>\n<p>module.log=com.p6spy.engine.logging.P6LogFactory\nrealdriver=org.postgresql.Driver\nderegisterdrivers=false\noutagedetection=false\nfilter=false\nautoflush=true\n#excludecategories=info,debug,batch,statement,commit,rollback,outage\nlogfile=quarkus.log\nreloadproperties=false\nreloadpropertiesinterval=60\nuseprefix=false\nappender=com.p6spy.engine.logging.appender.FileLogger\nappend=true\nlog4j.appender.STDOUT=org.apache.log4j.ConsoleAppender\nlog4j.appender.STDOUT.layout=org.apache.log4j.PatternLayout\nlog4j.appender.STDOUT.layout.ConversionPattern=p6spy - %m%n\nlog4j.logger.p6spy=INFO,STDOUT\ndateformat=yyyy-MM-dd hh:mm:ss a</p>\n</li>\n<li><p>this is quarkus.log :</p>\n<p>2022-12-28 03:37:06 PM|45|0|statement|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email=? limit ?|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email='hoatest14@gmail.com' limit 1\n2022-12-28 03:37:06 PM|0|0|result|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email=? limit ?|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email='hoatest14@gmail.com' limit 1\n2022-12-28 03:37:06 PM|52|0|commit||</p>\n</li>\n</ul>\n<p>Expect: it show result log</p>\n<pre><code>{\n    &quot;createTime&quot;: &quot;2022-09-27 08:27:42:705&quot;,\n    &quot;createTimeUnix&quot;: 1664292462705,\n    &quot;id&quot;: 3787,\n    &quot;updateTime&quot;: &quot;2022-09-27 08:27:42:705&quot;,\n    &quot;updateTimeUnix&quot;: 1664292462705,\n    &quot;company&quot;: &quot;IMIP&quot;,\n    &quot;country&quot;: &quot;VietNam&quot;,\n    &quot;currency&quot;: &quot;KRW&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;email&quot;: &quot;hoatest14@gmail.com&quot;,\n    &quot;name&quot;: &quot;Tong Thi Hoa 14&quot;,\n    &quot;status&quot;: &quot;Active&quot;\n}\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","binary-search-tree","user-input"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1672267214,"post_id":74938685,"comment_id":132256469,"body_markdown":"Please don&#39;t post images of code, errors, logs, or other text; see [ask].","body":"Please don&#39;t post images of code, errors, logs, or other text; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672223683,"creation_date":1672223683,"answer_id":74939147,"question_id":74938685,"body_markdown":"If your `insert` method in `BinarySearchTree` is modified so that it can take a number as input and generate a Node from it, then your code would work. Try like this: \r\n\r\n    public class Temp {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tBinarySearchTree tree = new BinarySearchTree();\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter 1st number you want to insert&quot;);\r\n    \t\ttree.insert(sc.nextInt());\r\n    \t\tSystem.out.println(&quot;Enter 2nd number you want to insert&quot;);\r\n    \t\ttree.insert(sc.nextInt());\r\n    \t\tSystem.out.println(&quot;Enter 3rd number you want to insert&quot;);\r\n    \t\ttree.insert(sc.nextInt());\r\n    \t}\r\n    }\r\n    \r\n    class Node {\r\n    \tNode left;\r\n    \tint val;\r\n    \tNode right;\r\n    \tNode(int val) {\r\n    \t\tthis.val = val;\r\n    \t}\r\n    }\r\n    \r\n    class BinarySearchTree {\r\n    \tNode root;\r\n    \tpublic void insert(int key) {\r\n    \t\tNode node = new Node(key);\r\n    \t\tif (root == null) {\r\n    \t\t\troot = node;\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tNode prev = null;\r\n    \t\tNode temp = root;\r\n    \t\twhile (temp != null) {\r\n    \t\t\tif (temp.val &gt; key) {\r\n    \t\t\t\tprev = temp;\r\n    \t\t\t\ttemp = temp.left;\r\n    \t\t\t} else if (temp.val &lt; key) {\r\n    \t\t\t\tprev = temp;\r\n    \t\t\t\ttemp = temp.right;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (prev.val &gt; key)\r\n    \t\t\tprev.left = node;\r\n    \t\telse\r\n    \t\t\tprev.right = node;\r\n    \t}\r\n    }","title":"Is there a way to add a value from a non-primitive data type using a user-input?","body":"<p>If your <code>insert</code> method in <code>BinarySearchTree</code> is modified so that it can take a number as input and generate a Node from it, then your code would work. Try like this:</p>\n<pre><code>public class Temp {\n    public static void main(String[] args) {\n        BinarySearchTree tree = new BinarySearchTree();\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter 1st number you want to insert&quot;);\n        tree.insert(sc.nextInt());\n        System.out.println(&quot;Enter 2nd number you want to insert&quot;);\n        tree.insert(sc.nextInt());\n        System.out.println(&quot;Enter 3rd number you want to insert&quot;);\n        tree.insert(sc.nextInt());\n    }\n}\n\nclass Node {\n    Node left;\n    int val;\n    Node right;\n    Node(int val) {\n        this.val = val;\n    }\n}\n\nclass BinarySearchTree {\n    Node root;\n    public void insert(int key) {\n        Node node = new Node(key);\n        if (root == null) {\n            root = node;\n            return;\n        }\n        Node prev = null;\n        Node temp = root;\n        while (temp != null) {\n            if (temp.val &gt; key) {\n                prev = temp;\n                temp = temp.left;\n            } else if (temp.val &lt; key) {\n                prev = temp;\n                temp = temp.right;\n            }\n        }\n        if (prev.val &gt; key)\n            prev.left = node;\n        else\n            prev.right = node;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20932030,"reputation":1,"user_id":15378209,"display_name":"OuiOuii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672223683,"creation_date":1672220919,"question_id":74938685,"body_markdown":"so I was just working on my project about Binary Search Tree, I tried to get the code about BST from a youtube tutorial and decided to try it with a java Scanner for user-input. So my question is, Is there a way to add  a value from a non-primitive data type using a user-input?\r\n\r\n[Main Class](https://i.stack.imgur.com/kShQr.png)\r\n\r\n[BST class](https://i.stack.imgur.com/jsuZQ.png)\r\n\r\n\r\n\r\nI tried adding a nextInt() method inside the insert() method from the youtube tutorial so that the user can input the numbers that they like. But the ide said that the int cannot be converted into Node(which I think is a non-primitive data type).","title":"Is there a way to add a value from a non-primitive data type using a user-input?","body":"<p>so I was just working on my project about Binary Search Tree, I tried to get the code about BST from a youtube tutorial and decided to try it with a java Scanner for user-input. So my question is, Is there a way to add  a value from a non-primitive data type using a user-input?</p>\n<p><a href=\"https://i.stack.imgur.com/kShQr.png\" rel=\"nofollow noreferrer\">Main Class</a></p>\n<p><a href=\"https://i.stack.imgur.com/jsuZQ.png\" rel=\"nofollow noreferrer\">BST class</a></p>\n<p>I tried adding a nextInt() method inside the insert() method from the youtube tutorial so that the user can input the numbers that they like. But the ide said that the int cannot be converted into Node(which I think is a non-primitive data type).</p>\n"},{"tags":["java","json","jackson","apache-camel"],"comments":[{"owner":{"account_id":10655561,"reputation":482,"user_id":10867487,"display_name":"Echoinacup"},"score":0,"creation_date":1547738485,"post_id":54238970,"comment_id":95302638,"body_markdown":"Possible duplicate of [camel how to process json with streaming mode?](https://stackoverflow.com/questions/44618227/camel-how-to-process-json-with-streaming-mode)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/44618227/camel-how-to-process-json-with-streaming-mode\">camel how to process json with streaming mode?</a>"}],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547788347,"creation_date":1547788347,"answer_id":54248063,"question_id":54238970,"body_markdown":"You can use jsonpath to split JSon messages (and enable streaming for bigger messages in the Splitter EIP)\r\n\r\nhttps://github.com/apache/camel/blob/master/components/camel-jsonpath/src/main/docs/jsonpath-language.adoc","title":"How to process big JSON array with Apache Camel","body":"<p>You can use jsonpath to split JSon messages (and enable streaming for bigger messages in the Splitter EIP)</p>\n\n<p><a href=\"https://github.com/apache/camel/blob/master/components/camel-jsonpath/src/main/docs/jsonpath-language.adoc\" rel=\"nofollow noreferrer\">https://github.com/apache/camel/blob/master/components/camel-jsonpath/src/main/docs/jsonpath-language.adoc</a></p>\n"},{"tags":[],"owner":{"account_id":5338502,"reputation":409,"user_id":4256563,"accept_rate":14,"display_name":"A5300"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549355718,"creation_date":1549355718,"answer_id":54530415,"question_id":54238970,"body_markdown":"I ended up with the following solution:\r\n\r\n    .split(body().tokenize(&quot;\\n&quot;, 1_000, false))\r\n    .streaming()\r\n    .process(exchange -&gt; {\r\n        String[] body = exchange.getIn().getBody(String.class).split(&quot;\\n&quot;);\r\n        var records = new ArrayList&lt;FooBar&gt;(body.length);\r\n        for(String line: body) {\r\n             records.add(objectMapper.readValue(line, FooBar.class));\r\n        }\r\n        exchange.getIn().setBody(records);\r\n    })\r\n`objectMapper` is `com.fasterxml.jackson.databind.ObjectMapper`\r\n\r\nFor example, a 3.5 GB file was processed in ~1.2 min.","title":"How to process big JSON array with Apache Camel","body":"<p>I ended up with the following solution:</p>\n\n<pre><code>.split(body().tokenize(\"\\n\", 1_000, false))\n.streaming()\n.process(exchange -&gt; {\n    String[] body = exchange.getIn().getBody(String.class).split(\"\\n\");\n    var records = new ArrayList&lt;FooBar&gt;(body.length);\n    for(String line: body) {\n         records.add(objectMapper.readValue(line, FooBar.class));\n    }\n    exchange.getIn().setBody(records);\n})\n</code></pre>\n\n<p><code>objectMapper</code> is <code>com.fasterxml.jackson.databind.ObjectMapper</code></p>\n\n<p>For example, a 3.5 GB file was processed in ~1.2 min.</p>\n"}],"owner":{"account_id":5338502,"reputation":409,"user_id":4256563,"accept_rate":14,"display_name":"A5300"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1899,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1672223279,"creation_date":1547738286,"question_id":54238970,"body_markdown":"I want to achieve something similar to CSV streaming processing:\r\n```\r\n//read input file\r\n.split(body().tokenize(&quot;\\n&quot;, 100, false)).streaming()\r\n            .unmarshal(new BindyCsvDataFormat( ...\r\n```\r\nI can control the content of input file, for example, I can have each JSON object on new line without JSON start array and comma after each object:\r\n```\r\n{&quot;id&quot;: &quot;foo1&quot;}\r\n{&quot;id&quot;: &quot;foo2&quot;}\r\n...\r\n```\r\nAnd then follow the same flow as in CSV (split and stream), but I can&#39;t unmarshal using `ListJacksonDataFormat` or `.json(JsonLibrary.Jackson)`\r\n\r\nHow to do this? \r\nOr is there another way of reading big JSON array? \r\n\r\n**Note:**\r\nThis processing has to be fast, so I can&#39;t afford unmarshal to csv then marshal JSON as explained [here][1] (which seems a gross workaround).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44618227/camel-how-to-process-json-with-streaming-mode","title":"How to process big JSON array with Apache Camel","body":"<p>I want to achieve something similar to CSV streaming processing:</p>\n\n<pre><code>//read input file\n.split(body().tokenize(\"\\n\", 100, false)).streaming()\n            .unmarshal(new BindyCsvDataFormat( ...\n</code></pre>\n\n<p>I can control the content of input file, for example, I can have each JSON object on new line without JSON start array and comma after each object:</p>\n\n<pre><code>{\"id\": \"foo1\"}\n{\"id\": \"foo2\"}\n...\n</code></pre>\n\n<p>And then follow the same flow as in CSV (split and stream), but I can't unmarshal using <code>ListJacksonDataFormat</code> or <code>.json(JsonLibrary.Jackson)</code></p>\n\n<p>How to do this? \nOr is there another way of reading big JSON array? </p>\n\n<p><strong>Note:</strong>\nThis processing has to be fast, so I can't afford unmarshal to csv then marshal JSON as explained <a href=\"https://stackoverflow.com/questions/44618227/camel-how-to-process-json-with-streaming-mode\">here</a> (which seems a gross workaround).</p>\n"},{"tags":["java","spring-boot","azure","logback"],"answers":[{"tags":[],"owner":{"account_id":26453603,"reputation":864,"user_id":20096460,"display_name":"Sourav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672223022,"creation_date":1672223022,"answer_id":74939033,"question_id":74847078,"body_markdown":"&gt; I&#39;ve even set my log levels to TRACE but couldn&#39;t find any useful information in there.\r\n\r\n \r\n\r\nI have tried using **TRACE** logs in my **Application.Properties**\r\n\r\n \r\n\r\n![enter image description here](https://i.stack.imgur.com/B4Xlz.png)\r\n\r\n \r\n\r\nThen, I created a **Logback.xml** File. see below!\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \r\n&lt;configuration&gt;  \r\n&lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;  \r\n&lt;property name=&quot;LOG_FILE&quot; value=&quot;logs/app.log&quot;/&gt;  \r\n\r\n&lt;appender name=&quot;FILE-ROLLING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;  \r\n&lt;file&gt;${LOG_FILE}&lt;/file&gt;  \r\n\r\n&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;  \r\n&lt;fileNamePattern&gt;logs/archived/app.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;  \r\n&lt;!-- each archived file, size max 5KB --&gt;  \r\n&lt;maxFileSize&gt;5KB&lt;/maxFileSize&gt;  \r\n&lt;!-- total size of all archive files, if total size &gt; 20KB,  \r\nit will delete old archived file --&gt;  &lt;totalSizeCap&gt;20KB&lt;/totalSizeCap&gt;  \r\n&lt;!-- 60 days to keep --&gt;  \r\n&lt;maxHistory&gt;60&lt;/maxHistory&gt;  \r\n&lt;/rollingPolicy&gt;  \r\n&lt;encoder&gt; &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;  \r\n&lt;/encoder&gt; &lt;/appender&gt;  \r\n&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;  \r\n&lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;  \r\n&lt;Pattern&gt;  %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n  \r\n&lt;/Pattern&gt;  \r\n&lt;/layout&gt; &lt;/appender&gt;  \r\n\r\n&lt;appender name=&quot;EMAIL&quot; class=&quot;ch.qos.logback.classic.net.SMTPAppender&quot;&gt;  \r\n&lt;smtpHost&gt;smtp.gmail.com&lt;/smtpHost&gt;  \r\n&lt;smtpPort&gt;587&lt;/smtpPort&gt;  \r\n&lt;STARTTLS&gt;true&lt;/STARTTLS&gt;  \r\n&lt;username&gt;emailid&lt;/username&gt;  \r\n&lt;password&gt;password&lt;/password&gt;  \r\n&lt;to&gt;emailid&lt;/to&gt;  \r\n&lt;from&gt;emailid&lt;/from&gt;  \r\n&lt;subject&gt;TESTING: %logger{20} - %m&lt;/subject&gt;  \r\n\r\n&lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;/&gt;  \r\n&lt;/appender&gt;  \r\n&lt;logger name=&quot;com.Springbootfirst&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;  \r\n&lt;appender-ref ref=&quot;EMAIL&quot;/&gt;  \r\n&lt;/logger&gt;  \r\n&lt;logger name=&quot;com.Springbootfirst&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;  \r\n&lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;  \r\n&lt;/logger&gt;  \r\n&lt;root level=&quot;error&quot;&gt;  \r\n&lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;  \r\n&lt;/root&gt;  \r\n&lt;logger name=&quot;com.Springbootfirst&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;  \r\n&lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;  \r\n&lt;/logger&gt; &lt;root level=&quot;error&quot;&gt;  \r\n&lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;  \r\n&lt;/root&gt;  \r\n&lt;/configuration&gt;\r\n```\r\nI Started running My application in local, its working fine and started creating logs and then, Deployed in Azure Spring App\r\n![enter image description here](https://i.stack.imgur.com/cgyVj.png)\r\n![enter image description here](https://i.stack.imgur.com/rmUNE.png)\r\n\r\n\r\nApp is Running fine in Azure also.\r\n![enter image description here](https://i.stack.imgur.com/6BMxl.png)\r\n\r\n \r\n\r\n![enter image description here](https://i.stack.imgur.com/kUdqP.png)\r\n\r\n \r\n\r\nAnd Then, Logs also Generated. Check below!\r\n![enter image description here](https://i.stack.imgur.com/v3P4q.png)\r\n\r\n","title":"Spring Boot + Azure - App stops logging after starting up on Azure","body":"<blockquote>\n<p>I've even set my log levels to TRACE but couldn't find any useful information in there.</p>\n</blockquote>\n<p>I have tried using <strong>TRACE</strong> logs in my <strong>Application.Properties</strong></p>\n<p><img src=\"https://i.stack.imgur.com/B4Xlz.png\" alt=\"enter image description here\" /></p>\n<p>Then, I created a <strong>Logback.xml</strong> File. see below!</p>\n<pre><code>&lt;configuration&gt;  \n&lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;  \n&lt;property name=&quot;LOG_FILE&quot; value=&quot;logs/app.log&quot;/&gt;  \n\n&lt;appender name=&quot;FILE-ROLLING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;  \n&lt;file&gt;${LOG_FILE}&lt;/file&gt;  \n\n&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;  \n&lt;fileNamePattern&gt;logs/archived/app.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;  \n&lt;!-- each archived file, size max 5KB --&gt;  \n&lt;maxFileSize&gt;5KB&lt;/maxFileSize&gt;  \n&lt;!-- total size of all archive files, if total size &gt; 20KB,  \nit will delete old archived file --&gt;  &lt;totalSizeCap&gt;20KB&lt;/totalSizeCap&gt;  \n&lt;!-- 60 days to keep --&gt;  \n&lt;maxHistory&gt;60&lt;/maxHistory&gt;  \n&lt;/rollingPolicy&gt;  \n&lt;encoder&gt; &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;  \n&lt;/encoder&gt; &lt;/appender&gt;  \n&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;  \n&lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;  \n&lt;Pattern&gt;  %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n  \n&lt;/Pattern&gt;  \n&lt;/layout&gt; &lt;/appender&gt;  \n\n&lt;appender name=&quot;EMAIL&quot; class=&quot;ch.qos.logback.classic.net.SMTPAppender&quot;&gt;  \n&lt;smtpHost&gt;smtp.gmail.com&lt;/smtpHost&gt;  \n&lt;smtpPort&gt;587&lt;/smtpPort&gt;  \n&lt;STARTTLS&gt;true&lt;/STARTTLS&gt;  \n&lt;username&gt;emailid&lt;/username&gt;  \n&lt;password&gt;password&lt;/password&gt;  \n&lt;to&gt;emailid&lt;/to&gt;  \n&lt;from&gt;emailid&lt;/from&gt;  \n&lt;subject&gt;TESTING: %logger{20} - %m&lt;/subject&gt;  \n\n&lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;/&gt;  \n&lt;/appender&gt;  \n&lt;logger name=&quot;com.Springbootfirst&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;  \n&lt;appender-ref ref=&quot;EMAIL&quot;/&gt;  \n&lt;/logger&gt;  \n&lt;logger name=&quot;com.Springbootfirst&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;  \n&lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;  \n&lt;/logger&gt;  \n&lt;root level=&quot;error&quot;&gt;  \n&lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;  \n&lt;/root&gt;  \n&lt;logger name=&quot;com.Springbootfirst&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;  \n&lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;  \n&lt;/logger&gt; &lt;root level=&quot;error&quot;&gt;  \n&lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;  \n&lt;/root&gt;  \n&lt;/configuration&gt;\n</code></pre>\n<p>I Started running My application in local, its working fine and started creating logs and then, Deployed in Azure Spring App\n<img src=\"https://i.stack.imgur.com/cgyVj.png\" alt=\"enter image description here\" />\n<img src=\"https://i.stack.imgur.com/rmUNE.png\" alt=\"enter image description here\" /></p>\n<p>App is Running fine in Azure also.\n<img src=\"https://i.stack.imgur.com/6BMxl.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/kUdqP.png\" alt=\"enter image description here\" /></p>\n<p>And Then, Logs also Generated. Check below!\n<img src=\"https://i.stack.imgur.com/v3P4q.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":27294993,"reputation":1,"user_id":20812768,"display_name":"Diego Martins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672223022,"creation_date":1671432611,"question_id":74847078,"body_markdown":"I&#39;m working on this Spring Boot app using logback and apache commons logging, configured to generate log files within a &#39;logs&#39; folder. The app works perfectly well on local, however when it&#39;s deployed to Azure, the app logs will only go up until the moment the application starts, and after Spring Boot prints the &quot;Started XYZApplication in 36.186 seconds&quot;, nothing else shows up.\r\n\r\n\r\n\r\nWe tried to add different levels of logs, including INFO and ERROR, and it still doesn&#39;t show up in the log file. Next up we&#39;ve created an endpoint to returned some info in the response:\r\n\r\n```\r\n\r\n// Log and LogFactory from org.apache.commons.logging\r\nprivate static final Log LOG = LogFactory.getLog(CacheAdminController.class);\r\n\r\n\r\n@RequestMapping(value = &quot;/checkLogs&quot;, method = GET)\r\npublic ResponseEntity&lt;String&gt; checkLogs() {\r\n    LOG.info(&quot;This INFO log should show up&quot;);\r\n    LOG.error(&quot;This ERROR log should show up&quot;);\r\n    String response = String.format(&quot;Is log error enabled? %s Is log info enabled? %s Is log debug enabled? %s&quot;, LOG.isErrorEnabled(), LOG.isInfoEnabled(), LOG.isDebugEnabled())\r\n    return ResponseEntity.ok(response);\r\n}\r\n```\r\n\r\nThis endpoint returns true for both the isInfoEnabled and isErrorEnabled, but the actual LOG.info and LOG.error won&#39;t show up in Azure. It&#39;s a really baffling situation. What could be causing this? Why is it enabled but not coming up? And why is it only happening when deployed to Azure? The logback configuration is the exact same for both local and Azure, so I don&#39;t think that&#39;s it.\r\n\r\nI&#39;ve even set my log levels to TRACE but couldn&#39;t find any useful information in there.\r\n\r\nIf anyone could shed a light, that would be greatly appreciated.","title":"Spring Boot + Azure - App stops logging after starting up on Azure","body":"<p>I'm working on this Spring Boot app using logback and apache commons logging, configured to generate log files within a 'logs' folder. The app works perfectly well on local, however when it's deployed to Azure, the app logs will only go up until the moment the application starts, and after Spring Boot prints the &quot;Started XYZApplication in 36.186 seconds&quot;, nothing else shows up.</p>\n<p>We tried to add different levels of logs, including INFO and ERROR, and it still doesn't show up in the log file. Next up we've created an endpoint to returned some info in the response:</p>\n<pre><code>\n// Log and LogFactory from org.apache.commons.logging\nprivate static final Log LOG = LogFactory.getLog(CacheAdminController.class);\n\n\n@RequestMapping(value = &quot;/checkLogs&quot;, method = GET)\npublic ResponseEntity&lt;String&gt; checkLogs() {\n    LOG.info(&quot;This INFO log should show up&quot;);\n    LOG.error(&quot;This ERROR log should show up&quot;);\n    String response = String.format(&quot;Is log error enabled? %s Is log info enabled? %s Is log debug enabled? %s&quot;, LOG.isErrorEnabled(), LOG.isInfoEnabled(), LOG.isDebugEnabled())\n    return ResponseEntity.ok(response);\n}\n</code></pre>\n<p>This endpoint returns true for both the isInfoEnabled and isErrorEnabled, but the actual LOG.info and LOG.error won't show up in Azure. It's a really baffling situation. What could be causing this? Why is it enabled but not coming up? And why is it only happening when deployed to Azure? The logback configuration is the exact same for both local and Azure, so I don't think that's it.</p>\n<p>I've even set my log levels to TRACE but couldn't find any useful information in there.</p>\n<p>If anyone could shed a light, that would be greatly appreciated.</p>\n"},{"tags":["java","android","google-maps","location","user-permissions"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1672223535,"post_id":74938990,"comment_id":132244779,"body_markdown":"`when i pass this in requestLocationUpdates() as a parameter, it shows error` , what error does it show?","body":"<code>when i pass this in requestLocationUpdates() as a parameter, it shows error</code> , what error does it show?"},{"owner":{"account_id":25404225,"reputation":1,"user_id":19213191,"display_name":"ayna khan"},"score":0,"creation_date":1672235305,"post_id":74938990,"comment_id":132247758,"body_markdown":"Cannot resolve method &#39;requestLocationUpdates(android.location.LocationRequest, com.google.android.gms.location.LocationCallback, android.os.Looper)&#39;","body":"Cannot resolve method &#39;requestLocationUpdates(android.location.LocationRequest, com.google.android.gms.location.LocationCallback, android.os.Looper)&#39;"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1672250636,"post_id":74938990,"comment_id":132252449,"body_markdown":"First parameter should be of type `com.google.android.gms.location.LocationRequest`.  This  means you are using the wrong builder - use `com.google.android.gms.location.LocationRequest.Builder` .","body":"First parameter should be of type <code>com.google.android.gms.location.LocationRequest</code>.  This  means you are using the wrong builder - use <code>com.google.android.gms.location.LocationRequest.Builder</code> ."}],"owner":{"account_id":25404225,"reputation":1,"user_id":19213191,"display_name":"ayna khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672222747,"creation_date":1672222747,"question_id":74938990,"body_markdown":"As LocationRequest.create() is deprecated and instead of it we shall use LocationRequest.Builder but when i pass this in requestLocationUpdates() as a parameter, it shows error.\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\nprivate boolean isLocationpermissionOk;\r\nprivate LocationRequest locationRequest;\r\nprivate LocationCallback locationCallback;\r\nprivate FusedLocationProviderClient fusedLocationProviderClient;\r\n```\r\n\r\n```\r\n@RequiresApi(api = Build.VERSION_CODES.S)\r\nprivate void setUpLocationUpdate() {\r\n    locationRequest= new LocationRequest.Builder(10000).build();\r\n    locationCallback=new LocationCallback() {\r\n        @Override\r\n        public void onLocationResult(@NonNull LocationResult locationResult) {\r\n            if(locationResult!=null) {\r\n                for(Location location : locationResult.getLocations()){\r\n                    Log.d(&quot;TAG&quot;,&quot;onLocationResult&quot;+location.getLongitude()+&quot; &quot;+location.getLatitude());\r\n                }\r\n            }\r\n            super.onLocationResult(locationResult);\r\n\r\n        }\r\n    };\r\n    fusedLocationProviderClient.requestLocationUpdates(locationRequest,locationCallback, Looper.getMainLooper())\r\n            .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                    if(task.isSuccessful()){\r\n                        Toast.makeText(requireContext(), &quot;Location Updated Started&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            });\r\n```\r\n\r\n","title":"How can we use LocationRequest.Builder in requestLocationUpdates() function as a parameter","body":"<p>As LocationRequest.create() is deprecated and instead of it we shall use LocationRequest.Builder but when i pass this in requestLocationUpdates() as a parameter, it shows error.</p>\n<p>Here's my code:</p>\n<pre><code>private boolean isLocationpermissionOk;\nprivate LocationRequest locationRequest;\nprivate LocationCallback locationCallback;\nprivate FusedLocationProviderClient fusedLocationProviderClient;\n</code></pre>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.S)\nprivate void setUpLocationUpdate() {\n    locationRequest= new LocationRequest.Builder(10000).build();\n    locationCallback=new LocationCallback() {\n        @Override\n        public void onLocationResult(@NonNull LocationResult locationResult) {\n            if(locationResult!=null) {\n                for(Location location : locationResult.getLocations()){\n                    Log.d(&quot;TAG&quot;,&quot;onLocationResult&quot;+location.getLongitude()+&quot; &quot;+location.getLatitude());\n                }\n            }\n            super.onLocationResult(locationResult);\n\n        }\n    };\n    fusedLocationProviderClient.requestLocationUpdates(locationRequest,locationCallback, Looper.getMainLooper())\n            .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                    if(task.isSuccessful()){\n                        Toast.makeText(requireContext(), &quot;Location Updated Started&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n</code></pre>\n"},{"tags":["java","android","mediawiki-api","google-image-search","wikidata-api"],"answers":[{"tags":[],"owner":{"account_id":4445012,"reputation":6700,"user_id":3618581,"display_name":"Termininja"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1642607374,"creation_date":1450725766,"answer_id":34402875,"question_id":34393884,"body_markdown":"If some Wikidata item (with ID: **Qxxx**) has [image (P18)][1] property, you can access it by [MediaWiki API][2]:\r\n\r\n    https://www.wikidata.org/w/api.php?action=wbgetclaims&amp;property=P18&amp;entity=Qxxx\r\n\r\nThe response will include:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    &quot;claims&quot;: {\r\n            &quot;P18&quot;: [{ &quot;mainsnak&quot;: { &quot;datavalue&quot;: { &quot;value&quot;: &quot;img_name.ext&quot; }, &quot;hash&quot;: ... }}]\r\n    }\r\n\r\nwhere **img_name.ext** is the name of the image you are looking for.\r\n\r\nThe final image URL will be: `https://upload.wikimedia.org/wikipedia/commons/a/ab/img_name.ext`, where **a** and **b** are the first and the second chars of [MD5 hashsum][3] of the **img_name.ext** (with all whitespaces replaced by `_`).\r\n\r\n**Example:** For item [jaguar (Q35694)][4] the API will returns image name &quot;*[Junior-Jaguar-Belize-Zoo.jpg][5]*&quot;, which has MD5 `hashsum(&quot;Junior-Jaguar-Belize-Zoo.jpg&quot;)` = `213b31ec141dafebe457e49bcd7f9329`, so a=**2** and b=**1**, or the final image URL will be: https://upload.wikimedia.org/wikipedia/commons/2/21/Junior-Jaguar-Belize-Zoo.jpg\r\n\r\n**Note:** *The MD5 hashsum is for the name of the image file, not the `P18[0].mainsnak.hash` property included in the JSON body.*\r\n\r\n  [1]: https://www.wikidata.org/wiki/Property:P18\r\n  [2]: https://www.wikidata.org/w/api.php?action=help&amp;modules=wbgetclaims\r\n  [3]: http://www.md5.cz/\r\n  [4]: https://www.wikidata.org/wiki/Q35694\r\n  [5]: https://www.wikidata.org/w/api.php?action=wbgetclaims&amp;entity=Q35694&amp;property=P18","title":"How to get image URL property from Wikidata item by API?","body":"<p>If some Wikidata item (with ID: <strong>Qxxx</strong>) has <a href=\"https://www.wikidata.org/wiki/Property:P18\" rel=\"noreferrer\">image (P18)</a> property, you can access it by <a href=\"https://www.wikidata.org/w/api.php?action=help&amp;modules=wbgetclaims\" rel=\"noreferrer\">MediaWiki API</a>:</p>\n<pre><code>https://www.wikidata.org/w/api.php?action=wbgetclaims&amp;property=P18&amp;entity=Qxxx\n</code></pre>\n<p>The response will include:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;claims&quot;: {\n        &quot;P18&quot;: [{ &quot;mainsnak&quot;: { &quot;datavalue&quot;: { &quot;value&quot;: &quot;img_name.ext&quot; }, &quot;hash&quot;: ... }}]\n}\n</code></pre>\n<p>where <strong>img_name.ext</strong> is the name of the image you are looking for.</p>\n<p>The final image URL will be: <code>https://upload.wikimedia.org/wikipedia/commons/a/ab/img_name.ext</code>, where <strong>a</strong> and <strong>b</strong> are the first and the second chars of <a href=\"http://www.md5.cz/\" rel=\"noreferrer\">MD5 hashsum</a> of the <strong>img_name.ext</strong> (with all whitespaces replaced by <code>_</code>).</p>\n<p><strong>Example:</strong> For item <a href=\"https://www.wikidata.org/wiki/Q35694\" rel=\"noreferrer\">jaguar (Q35694)</a> the API will returns image name &quot;<em><a href=\"https://www.wikidata.org/w/api.php?action=wbgetclaims&amp;entity=Q35694&amp;property=P18\" rel=\"noreferrer\">Junior-Jaguar-Belize-Zoo.jpg</a></em>&quot;, which has MD5 <code>hashsum(&quot;Junior-Jaguar-Belize-Zoo.jpg&quot;)</code> = <code>213b31ec141dafebe457e49bcd7f9329</code>, so a=<strong>2</strong> and b=<strong>1</strong>, or the final image URL will be: <a href=\"https://upload.wikimedia.org/wikipedia/commons/2/21/Junior-Jaguar-Belize-Zoo.jpg\" rel=\"noreferrer\">https://upload.wikimedia.org/wikipedia/commons/2/21/Junior-Jaguar-Belize-Zoo.jpg</a></p>\n<p><strong>Note:</strong> <em>The MD5 hashsum is for the name of the image file, not the <code>P18[0].mainsnak.hash</code> property included in the JSON body.</em></p>\n"},{"tags":[],"owner":{"account_id":39785,"reputation":3304,"user_id":114926,"accept_rate":75,"display_name":"Karl Bartel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1608654685,"creation_date":1608654685,"answer_id":65412349,"question_id":34393884,"body_markdown":"You can build URLs from the image property (`Sample.png` in the following example):\r\n\r\n    https://commons.wikimedia.org/w/index.php?title=Special:Redirect/file/Sample.png&amp;width=300\r\n\r\nSee Wikimedia Commons&#39; [&quot;Reusing content outside Wikimedia&quot; documentation](https://commons.wikimedia.org/wiki/Commons:Reusing_content_outside_Wikimedia/technical) for more details.","title":"How to get image URL property from Wikidata item by API?","body":"<p>You can build URLs from the image property (<code>Sample.png</code> in the following example):</p>\n<pre><code>https://commons.wikimedia.org/w/index.php?title=Special:Redirect/file/Sample.png&amp;width=300\n</code></pre>\n<p>See Wikimedia Commons' <a href=\"https://commons.wikimedia.org/wiki/Commons:Reusing_content_outside_Wikimedia/technical\" rel=\"noreferrer\">&quot;Reusing content outside Wikimedia&quot; documentation</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":10395396,"reputation":1,"user_id":7665297,"display_name":"Walter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672222705,"creation_date":1672060789,"answer_id":74920722,"question_id":34393884,"body_markdown":"I use this PHP function to convert a given image filename into an url for wikipedia commons: \r\n\r\n    function getWikimediaImageURL($aFilename) {\r\n         #-- Example:  $aURLString = getWikimediaImageURL(&#39;Fortuna D&#252;sseldorf.svg&#39;);    \r\n         $aFilename = str_replace( &#39; &#39;, &#39;_&#39;, $aFilename);\r\n         $md5 = md5($aFilename); \r\n\r\n         return &quot;https://upload.wikimedia.org/wikipedia/commons/&quot; .\r\n                substr($md5,0,1) . \r\n                &quot;/&quot; .\r\n                substr($md5,0,2). \r\n                &quot;/&quot; . \r\n                urlencode($aFilename);\r\n     }    \r\n\r\nCommons is a little bit picky of user agent header. So provide one when downloading (change the User-Agent string according to &lt;https://meta.wikimedia.org/wiki/User-Agent_policy&gt;):\r\n\r\n    $opts = [\r\n        &quot;https&quot; =&gt; [\r\n            &quot;method&quot; =&gt; &quot;GET&quot;,\r\n            &quot;header&quot; =&gt; &quot;User-Agent: oolBot/0.0 (https://example.org/coolbot/; coolbot@example.org) generic-library/0.0\\r\\n&quot; \r\n        ]\r\n    ];            \r\n    $context = stream_context_create($opts);            \r\n    $content = file_get_contents( $pfad , false, $context ); \r\n","title":"How to get image URL property from Wikidata item by API?","body":"<p>I use this PHP function to convert a given image filename into an url for wikipedia commons:</p>\n<pre><code>function getWikimediaImageURL($aFilename) {\n     #-- Example:  $aURLString = getWikimediaImageURL('Fortuna Düsseldorf.svg');    \n     $aFilename = str_replace( ' ', '_', $aFilename);\n     $md5 = md5($aFilename); \n\n     return &quot;https://upload.wikimedia.org/wikipedia/commons/&quot; .\n            substr($md5,0,1) . \n            &quot;/&quot; .\n            substr($md5,0,2). \n            &quot;/&quot; . \n            urlencode($aFilename);\n }    \n</code></pre>\n<p>Commons is a little bit picky of user agent header. So provide one when downloading (change the User-Agent string according to <a href=\"https://meta.wikimedia.org/wiki/User-Agent_policy\" rel=\"nofollow noreferrer\">https://meta.wikimedia.org/wiki/User-Agent_policy</a>):</p>\n<pre><code>$opts = [\n    &quot;https&quot; =&gt; [\n        &quot;method&quot; =&gt; &quot;GET&quot;,\n        &quot;header&quot; =&gt; &quot;User-Agent: oolBot/0.0 (https://example.org/coolbot/; coolbot@example.org) generic-library/0.0\\r\\n&quot; \n    ]\n];            \n$context = stream_context_create($opts);            \n$content = file_get_contents( $pfad , false, $context ); \n</code></pre>\n"}],"owner":{"account_id":6853978,"reputation":654,"user_id":5270231,"accept_rate":100,"display_name":"Peter Warrington"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7594,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":65412349,"answer_count":3,"score":14,"last_activity_date":1672222705,"creation_date":1450694887,"question_id":34393884,"body_markdown":"I&#39;ve made an android app that uses the JSON Google image search API to provide images but I have noticed that Google have stopped supporting it. I have also discovered that Wikidata sometimes provides a image property on some items, however I can&#39;t seem to get the URL location of the image using the Wikidata API.\r\n\r\nIs there any way to get the image URL property from items in Wikidata?","title":"How to get image URL property from Wikidata item by API?","body":"<p>I've made an android app that uses the JSON Google image search API to provide images but I have noticed that Google have stopped supporting it. I have also discovered that Wikidata sometimes provides a image property on some items, however I can't seem to get the URL location of the image using the Wikidata API.</p>\n\n<p>Is there any way to get the image URL property from items in Wikidata?</p>\n"},{"tags":["java","hibernate","db2"],"comments":[{"owner":{"account_id":1270839,"reputation":18313,"user_id":1227152,"display_name":"mustaccio"},"score":0,"creation_date":1672148294,"post_id":74927603,"comment_id":132229420,"body_markdown":"Try assigning the column alias, perhaps Hibernate is trying to reference it: `select VARBINARY(MESSAGE_STR) as MESSAGE_STR...`","body":"Try assigning the column alias, perhaps Hibernate is trying to reference it: <code>select VARBINARY(MESSAGE_STR) as MESSAGE_STR...</code>"},{"owner":{"account_id":4609012,"reputation":195,"user_id":3737655,"display_name":"MrFreeze"},"score":0,"creation_date":1672214011,"post_id":74927603,"comment_id":132242444,"body_markdown":"You were right, that did it! Tried hours before ... thank you so much for the hint!","body":"You were right, that did it! Tried hours before ... thank you so much for the hint!"}],"answers":[{"tags":[],"owner":{"account_id":4609012,"reputation":195,"user_id":3737655,"display_name":"MrFreeze"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672222529,"creation_date":1672222529,"answer_id":74938960,"question_id":74927603,"body_markdown":"As suggested by mustaccio, the solution was to use\r\n\r\n```select VARBINARY(MESSAGE_STR) as MESSAGE_STR from MyTable where ...```\r\n\r\nor elsehow Hibernate would not be able to identify the correct column. Thank you so much!","title":"Hibernate Query: Casting varchar to (var)binary results in &quot;Unknown column name&quot;","body":"<p>As suggested by mustaccio, the solution was to use</p>\n<p><code>select VARBINARY(MESSAGE_STR) as MESSAGE_STR from MyTable where ...</code></p>\n<p>or elsehow Hibernate would not be able to identify the correct column. Thank you so much!</p>\n"}],"owner":{"account_id":4609012,"reputation":195,"user_id":3737655,"display_name":"MrFreeze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74938960,"answer_count":1,"score":0,"last_activity_date":1672222657,"creation_date":1672133205,"question_id":74927603,"body_markdown":"I am trying to read a varchar from an exisiting **DB2 table** using **Hibernate**. For some reason, I need the result as an untransformed byte array (e.g. no automatic encoding correction). My first two attempts were to use casting within the ```session.createNativeQuery``` \r\n\r\n 1. ```select VARBINARY(MESSAGE_STR) from MyTable where ...```;\r\n 2. ```select cast(MESSAGE_STR as binary) from MyTable where ...```;\r\n\r\nBoth resulting in the same, strange Hibernate Error ```Unknown column name MESSAGE_STR. ERRORCODE=-4460, SQLSTATE=null```.\r\n\r\nWhen I remove the cast in the query and change entity attribute from byte[] to String, the column name is correct. So there is no simple spelling error. Hibernate Core core version is 5.3.7. I would appreciate any comments / thoughts / help here.\r\n\r\nBackground: The varchar is written into the table by legacy code which can not be changed. It contains real text (in different encodings) as well as binary data (e.g. int value encoded in four bytes). Therefore I need to retreive the (bitwise) exact bytes before I can parse the data.\r\n","title":"Hibernate Query: Casting varchar to (var)binary results in &quot;Unknown column name&quot;","body":"<p>I am trying to read a varchar from an exisiting <strong>DB2 table</strong> using <strong>Hibernate</strong>. For some reason, I need the result as an untransformed byte array (e.g. no automatic encoding correction). My first two attempts were to use casting within the <code>session.createNativeQuery</code></p>\n<ol>\n<li><code>select VARBINARY(MESSAGE_STR) from MyTable where ...</code>;</li>\n<li><code>select cast(MESSAGE_STR as binary) from MyTable where ...</code>;</li>\n</ol>\n<p>Both resulting in the same, strange Hibernate Error <code>Unknown column name MESSAGE_STR. ERRORCODE=-4460, SQLSTATE=null</code>.</p>\n<p>When I remove the cast in the query and change entity attribute from byte[] to String, the column name is correct. So there is no simple spelling error. Hibernate Core core version is 5.3.7. I would appreciate any comments / thoughts / help here.</p>\n<p>Background: The varchar is written into the table by legacy code which can not be changed. It contains real text (in different encodings) as well as binary data (e.g. int value encoded in four bytes). Therefore I need to retreive the (bitwise) exact bytes before I can parse the data.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1672170263,"post_id":74933502,"comment_id":132235621,"body_markdown":"Hi and welcome to stack overflow.  What is the thought behind wanting to use the same model for both routes?","body":"Hi and welcome to stack overflow.  What is the thought behind wanting to use the same model for both routes?"},{"owner":{"account_id":27367851,"reputation":71,"user_id":20874384,"display_name":"vw0389"},"score":0,"creation_date":1672170334,"post_id":74933502,"comment_id":132235637,"body_markdown":"Less redudant code, reusability.","body":"Less redudant code, reusability."},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1672170569,"post_id":74933502,"comment_id":132235697,"body_markdown":"I see...  I would urge you to focus on solving the problems at hand without worrying too much about redundant code and reusability.  Those two issues should become apparent as you write your code.  I would recommend breaking your two apis into separate controller classes and have a separate model for each controller with their individual validation logic.  It will be much simpler to read/understand in the long run.","body":"I see...  I would urge you to focus on solving the problems at hand without worrying too much about redundant code and reusability.  Those two issues should become apparent as you write your code.  I would recommend breaking your two apis into separate controller classes and have a separate model for each controller with their individual validation logic.  It will be much simpler to read/understand in the long run."},{"owner":{"account_id":27367851,"reputation":71,"user_id":20874384,"display_name":"vw0389"},"score":0,"creation_date":1672170734,"post_id":74933502,"comment_id":132235729,"body_markdown":"ok.  It&#39;s worth noting I&#39;m doing this project for prospective employers, so I didn&#39;t want to look silly.  I&#39;ll do that.  Thank you!.","body":"ok.  It&#39;s worth noting I&#39;m doing this project for prospective employers, so I didn&#39;t want to look silly.  I&#39;ll do that.  Thank you!."},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1672170852,"post_id":74933502,"comment_id":132235753,"body_markdown":"Sounds good.  I do not believe you would look silly by keeping things simple and easy to read.  Best of luck with your future work endeavors!","body":"Sounds good.  I do not believe you would look silly by keeping things simple and easy to read.  Best of luck with your future work endeavors!"}],"answers":[{"tags":[],"owner":{"account_id":19430343,"reputation":111,"user_id":14210942,"display_name":"Preet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672172987,"creation_date":1672172987,"answer_id":74933867,"question_id":74933502,"body_markdown":"While you annotate your Model method parameter with `@Valid`, you can instead use Spring&#39;s `@Validated` annotation.\r\n\r\nThis is similar to already answered [StackOverflow question][2].\r\n\r\nYou can read on using validation Groups from [this baeldung blog.][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/javax-validation-groups\r\n  [2]: https://stackoverflow.com/questions/18911154/how-to-specify-validation-group-for-valid","title":"Validx Validation on Models conditional on which method called @Valid","body":"<p>While you annotate your Model method parameter with <code>@Valid</code>, you can instead use Spring's <code>@Validated</code> annotation.</p>\n<p>This is similar to already answered <a href=\"https://stackoverflow.com/questions/18911154/how-to-specify-validation-group-for-valid\">StackOverflow question</a>.</p>\n<p>You can read on using validation Groups from <a href=\"https://www.baeldung.com/javax-validation-groups\" rel=\"nofollow noreferrer\">this baeldung blog.</a></p>\n"}],"owner":{"account_id":27367851,"reputation":71,"user_id":20874384,"display_name":"vw0389"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74933867,"answer_count":1,"score":1,"last_activity_date":1672222214,"creation_date":1672170015,"question_id":74933502,"body_markdown":"I would like to conditionally validate certain things on my models in my Spring Boot application based upon which route the model is being validated by.\r\n\r\nI have two routes, one for signing up for logging in.  The one for logging in simply requires a username and password.  The one for signing up requires an email, username and password.  I would like to use the same model using `javax.validation.constraints` on both routes.\r\n\r\nUser.java\r\n```java\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    @Column(nullable=false,unique = true)\r\n    @NotBlank(message = &quot;email is blank&quot;)\r\n    @Email(message = &quot;invalid email&quot;)\r\n    private String email;\r\n    @Column(nullable=false,updatable = false,unique = true)\r\n    @Size(min = 8, max = 32, message = &quot;username must be between 8 and 32 characters&quot;)\r\n    private String username;\r\n    @Column(nullable=false)\r\n    @NotBlank(message = &quot;missing password&quot;)\r\n    @Size(min = 8, max = 32, message = &quot;password must be between 8 and 32 characters&quot;)\r\n    private String password;\r\n    @Column(columnDefinition = &quot;text&quot;)\r\n    private String about;\r\n    @Column(nullable=false,updatable = false)\r\n    @CreationTimestamp\r\n    private LocalDateTime createdAt;\r\n    private LocalDateTime passwordChangedAt;\r\n    private LocalDateTime aboutChangedAt;\r\n```\r\n\r\nUserController.java\r\n\r\n```java\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RestController\r\n@RequestMapping(&quot;/api/auth&quot;)\r\npublic class UserController {\r\n  private final AuthenticationManager authenticationManager;\r\n  private final UserRepository userRepository;\r\n  private final RoleRepository roleRepository;\r\n  private final PasswordEncoder encoder;\r\n  private final JwtUtils jwtUtils;\r\n\r\n  public UserController(AuthenticationManager authenticationManager, UserRepository userRepository, RoleRepository roleRepository, PasswordEncoder encoder, JwtUtils jwtUtils) {\r\n    this.authenticationManager = authenticationManager;\r\n    this.userRepository = userRepository;\r\n    this.roleRepository = roleRepository;\r\n    this.encoder = encoder;\r\n    this.jwtUtils = jwtUtils;\r\n  }\r\n  @PostMapping(&quot;/signin&quot;)\r\n  public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody User loginRequest) {\r\n\r\n    Authentication authentication = authenticationManager.authenticate(\r\n        new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\r\n\r\n    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n    String jwt = jwtUtils.generateJwtToken(authentication);\r\n    \r\n    UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();    \r\n    List&lt;String&gt; roles = userDetails.getAuthorities().stream()\r\n        .map(item -&gt; item.getAuthority())\r\n        .collect(Collectors.toList());\r\n\r\n    return ResponseEntity.ok(new JwtResponse(jwt, \r\n                         userDetails.getId(), \r\n                         userDetails.getUsername(), \r\n                         userDetails.getEmail(), \r\n                         roles));\r\n  }\r\n\r\n  @PostMapping(&quot;/signup&quot;)\r\n  public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody User signUpRequest) {\r\n    if (userRepository.existsByUsername(signUpRequest.getUsername())) {\r\n      return ResponseEntity\r\n          .badRequest()\r\n          .body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\r\n    }\r\n\r\n    if (userRepository.existsByEmail(signUpRequest.getEmail())) {\r\n      return ResponseEntity\r\n          .badRequest()\r\n          .body(new MessageResponse(&quot;Error: Email is already in use!&quot;));\r\n    }\r\n\r\n    // Create new user&#39;s account\r\n    User user = new User(signUpRequest.getUsername(), \r\n               signUpRequest.getEmail(),\r\n               encoder.encode(signUpRequest.getPassword()));\r\n\r\n    Set&lt;String&gt; strRoles = signUpRequest.getRole();\r\n    Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n    if (strRoles == null) {\r\n      Role userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n          .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n      roles.add(userRole);\r\n    } else {\r\n      strRoles.forEach(role -&gt; {\r\n        switch (role) {\r\n        case &quot;admin&quot;:\r\n          Role adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\r\n              .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n          roles.add(adminRole);\r\n\r\n          break;\r\n        case &quot;mod&quot;:\r\n          Role modRole = roleRepository.findByName(ERole.ROLE_MODERATOR)\r\n              .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n          roles.add(modRole);\r\n\r\n          break;\r\n        default:\r\n          Role userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n              .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n          roles.add(userRole);\r\n        }\r\n      });\r\n    }\r\n\r\n    user.setRoles(roles);\r\n    userRepository.save(user);\r\n\r\n    return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\r\n  }\r\n}\r\n```\r\n\r\n\r\nI would like to use the same `User` model/entity for both.  Is there a way to do this?\r\n\r\nI know I can create different request templates that I would then map to a model, however I am curious if there is a more concise way to do this using annotations.","title":"Validx Validation on Models conditional on which method called @Valid","body":"<p>I would like to conditionally validate certain things on my models in my Spring Boot application based upon which route the model is being validated by.</p>\n<p>I have two routes, one for signing up for logging in.  The one for logging in simply requires a username and password.  The one for signing up requires an email, username and password.  I would like to use the same model using <code>javax.validation.constraints</code> on both routes.</p>\n<p>User.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    @Column(nullable=false,unique = true)\n    @NotBlank(message = &quot;email is blank&quot;)\n    @Email(message = &quot;invalid email&quot;)\n    private String email;\n    @Column(nullable=false,updatable = false,unique = true)\n    @Size(min = 8, max = 32, message = &quot;username must be between 8 and 32 characters&quot;)\n    private String username;\n    @Column(nullable=false)\n    @NotBlank(message = &quot;missing password&quot;)\n    @Size(min = 8, max = 32, message = &quot;password must be between 8 and 32 characters&quot;)\n    private String password;\n    @Column(columnDefinition = &quot;text&quot;)\n    private String about;\n    @Column(nullable=false,updatable = false)\n    @CreationTimestamp\n    private LocalDateTime createdAt;\n    private LocalDateTime passwordChangedAt;\n    private LocalDateTime aboutChangedAt;\n</code></pre>\n<p>UserController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/api/auth&quot;)\npublic class UserController {\n  private final AuthenticationManager authenticationManager;\n  private final UserRepository userRepository;\n  private final RoleRepository roleRepository;\n  private final PasswordEncoder encoder;\n  private final JwtUtils jwtUtils;\n\n  public UserController(AuthenticationManager authenticationManager, UserRepository userRepository, RoleRepository roleRepository, PasswordEncoder encoder, JwtUtils jwtUtils) {\n    this.authenticationManager = authenticationManager;\n    this.userRepository = userRepository;\n    this.roleRepository = roleRepository;\n    this.encoder = encoder;\n    this.jwtUtils = jwtUtils;\n  }\n  @PostMapping(&quot;/signin&quot;)\n  public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody User loginRequest) {\n\n    Authentication authentication = authenticationManager.authenticate(\n        new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\n\n    SecurityContextHolder.getContext().setAuthentication(authentication);\n    String jwt = jwtUtils.generateJwtToken(authentication);\n    \n    UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();    \n    List&lt;String&gt; roles = userDetails.getAuthorities().stream()\n        .map(item -&gt; item.getAuthority())\n        .collect(Collectors.toList());\n\n    return ResponseEntity.ok(new JwtResponse(jwt, \n                         userDetails.getId(), \n                         userDetails.getUsername(), \n                         userDetails.getEmail(), \n                         roles));\n  }\n\n  @PostMapping(&quot;/signup&quot;)\n  public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody User signUpRequest) {\n    if (userRepository.existsByUsername(signUpRequest.getUsername())) {\n      return ResponseEntity\n          .badRequest()\n          .body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\n    }\n\n    if (userRepository.existsByEmail(signUpRequest.getEmail())) {\n      return ResponseEntity\n          .badRequest()\n          .body(new MessageResponse(&quot;Error: Email is already in use!&quot;));\n    }\n\n    // Create new user's account\n    User user = new User(signUpRequest.getUsername(), \n               signUpRequest.getEmail(),\n               encoder.encode(signUpRequest.getPassword()));\n\n    Set&lt;String&gt; strRoles = signUpRequest.getRole();\n    Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    if (strRoles == null) {\n      Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n          .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n      roles.add(userRole);\n    } else {\n      strRoles.forEach(role -&gt; {\n        switch (role) {\n        case &quot;admin&quot;:\n          Role adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\n              .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n          roles.add(adminRole);\n\n          break;\n        case &quot;mod&quot;:\n          Role modRole = roleRepository.findByName(ERole.ROLE_MODERATOR)\n              .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n          roles.add(modRole);\n\n          break;\n        default:\n          Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n              .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n          roles.add(userRole);\n        }\n      });\n    }\n\n    user.setRoles(roles);\n    userRepository.save(user);\n\n    return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\n  }\n}\n</code></pre>\n<p>I would like to use the same <code>User</code> model/entity for both.  Is there a way to do this?</p>\n<p>I know I can create different request templates that I would then map to a model, however I am curious if there is a more concise way to do this using annotations.</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672204598,"post_id":74936480,"comment_id":132240857,"body_markdown":"`5/100` is 0 because both are `int`s.","body":"<code>5&#47;100</code> is 0 because both are <code>int</code>s."}],"owner":{"display_name":"user20876671"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672204634,"answer_count":0,"score":0,"last_activity_date":1672222140,"creation_date":1672204340,"question_id":74936480,"body_markdown":"but my code is not working. I have put `double tax = 5/100*salary` but it&#39;s only showing `0.0`.\r\n\r\nThis is what I have tried.\r\n\r\n```java\r\npackage company;\r\nimport java.util.Scanner;\r\npublic class p6 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.print(&quot;Enter your Salary(in lakhs): &quot;);\r\n        double salary=sc.nextDouble();\r\n        if(salary&lt;2.5)\r\n        {\r\n\t        System.out.println(&quot;You don&#39;t have to pay any tax.&quot;);\r\n        }\r\n        else if(salary&gt;=2.5&amp;&amp;salary&lt;5.0)\r\n        {\r\n\t        System.out.println(&quot;You have to pay 5% of your salary as tax.&quot;);\r\n\t        double tax=5/100*salary;\r\n\t        System.out.println(tax);\r\n        }\r\n        else if(salary &gt;=5.0 &amp;&amp; salary &lt; 10.0)\r\n        {\r\n        \tSystem.out.println(&quot;You have to pay 20% of your salary as tax.&quot;);\r\n\t        double tax=20/100*salary;\r\n\t        System.out.println(tax);\r\n\t\r\n        }\r\n        else {\r\n\t        System.out.println(&quot;You have to pay 30% of your salary as tax.&quot;);\r\n        \tdouble tax=30/100*salary;\r\n        \tSystem.out.println(tax);\r\n        }\r\n\t}\r\n}\r\n```\r\nOUTPUT:-\r\nEnter your Salary(in lakhs): 3\r\nYou have to pay 5% of your salary as tax.\r\n0.0\r\n","title":"In my code I have to tell the user how much of his salary he has to pay as tax","body":"<p>but my code is not working. I have put <code>double tax = 5/100*salary</code> but it's only showing <code>0.0</code>.</p>\n<p>This is what I have tried.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package company;\nimport java.util.Scanner;\npublic class p6 {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner sc=new Scanner(System.in);\n        System.out.print(&quot;Enter your Salary(in lakhs): &quot;);\n        double salary=sc.nextDouble();\n        if(salary&lt;2.5)\n        {\n            System.out.println(&quot;You don't have to pay any tax.&quot;);\n        }\n        else if(salary&gt;=2.5&amp;&amp;salary&lt;5.0)\n        {\n            System.out.println(&quot;You have to pay 5% of your salary as tax.&quot;);\n            double tax=5/100*salary;\n            System.out.println(tax);\n        }\n        else if(salary &gt;=5.0 &amp;&amp; salary &lt; 10.0)\n        {\n            System.out.println(&quot;You have to pay 20% of your salary as tax.&quot;);\n            double tax=20/100*salary;\n            System.out.println(tax);\n    \n        }\n        else {\n            System.out.println(&quot;You have to pay 30% of your salary as tax.&quot;);\n            double tax=30/100*salary;\n            System.out.println(tax);\n        }\n    }\n}\n</code></pre>\n<p>OUTPUT:-\nEnter your Salary(in lakhs): 3\nYou have to pay 5% of your salary as tax.\n0.0</p>\n"},{"tags":["java","spring","maven","dependencies"],"comments":[{"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"score":3,"creation_date":1672220660,"post_id":74938535,"comment_id":132244086,"body_markdown":"You need to specify the version using `version`\nMost people you see don&#39;t specify a version because they inherit `spring-boot-starter-parent` using parent","body":"You need to specify the version using <code>version</code> Most people you see don&#39;t specify a version because they inherit <code>spring-boot-starter-parent</code> using parent"},{"owner":{"account_id":4124730,"reputation":7670,"user_id":3384193,"accept_rate":71,"display_name":"kchak"},"score":0,"creation_date":1672221157,"post_id":74938535,"comment_id":132244195,"body_markdown":"Oh, that worked! Thanks @Jilliss I thought, it would automatically take the latest one that resolves correctly.\nIf you want, please post an answer and I can mark that as the correct one :)","body":"Oh, that worked! Thanks @Jilliss I thought, it would automatically take the latest one that resolves correctly. If you want, please post an answer and I can mark that as the correct one :)"}],"answers":[{"tags":[],"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672221608,"creation_date":1672221608,"answer_id":74938794,"question_id":74938535,"body_markdown":"maven usually requires the `version` tag to specify the version\r\nMost cases where no version is specified are when the project inherits pom files\r\nFor example\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\nUnlike `npm` and `pip`, it does not automatically select the latest version\r\n","title":"Spring dependency not found","body":"<p>maven usually requires the <code>version</code> tag to specify the version\nMost cases where no version is specified are when the project inherits pom files\nFor example</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Unlike <code>npm</code> and <code>pip</code>, it does not automatically select the latest version</p>\n"}],"owner":{"account_id":4124730,"reputation":7670,"user_id":3384193,"accept_rate":71,"display_name":"kchak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74938794,"answer_count":1,"score":1,"last_activity_date":1672221608,"creation_date":1672220078,"question_id":74938535,"body_markdown":"I&#39;m very new to Spring, and also Maven. I&#39;m following along with the book **Spring Start Here** because it seems friendly. The very first project asks us to add a *spring-context* dependency to a new project (using maven). I&#39;m using the Intellij Idea community version to follow along, as suggested in the book. But on following the instructions to add the dependency I get an error: **Dependency &#39;org.springframework:spring-context:&#39; not found**\r\n\r\nHere is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.myspring&lt;/groupId&gt;\r\n    &lt;artifactId&gt;start&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI think the idea is to add spring dependencies one by one in order to see their purpose. The autocompletion in idea shows an error for the lines\r\n```\r\n&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n```\r\n\r\n- I have already tried updating the maven&gt;repositories in the ide settings but still get the same error.\r\n- Also, I found the page https://mvnrepository.com/artifact/org.springframework/spring-context which seems to suggest I have used the correct `groupId` and `artifactId` names\r\n\r\nEdit: I just removed the empty version tag in the dependency.","title":"Spring dependency not found","body":"<p>I'm very new to Spring, and also Maven. I'm following along with the book <strong>Spring Start Here</strong> because it seems friendly. The very first project asks us to add a <em>spring-context</em> dependency to a new project (using maven). I'm using the Intellij Idea community version to follow along, as suggested in the book. But on following the instructions to add the dependency I get an error: <strong>Dependency 'org.springframework:spring-context:' not found</strong></p>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.myspring&lt;/groupId&gt;\n    &lt;artifactId&gt;start&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I think the idea is to add spring dependencies one by one in order to see their purpose. The autocompletion in idea shows an error for the lines</p>\n<pre><code>&lt;groupId&gt;org.springframework&lt;/groupId&gt;\n&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n</code></pre>\n<ul>\n<li>I have already tried updating the maven&gt;repositories in the ide settings but still get the same error.</li>\n<li>Also, I found the page <a href=\"https://mvnrepository.com/artifact/org.springframework/spring-context\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework/spring-context</a> which seems to suggest I have used the correct <code>groupId</code> and <code>artifactId</code> names</li>\n</ul>\n<p>Edit: I just removed the empty version tag in the dependency.</p>\n"},{"tags":["java","android","kotlin","android-preferences"],"answers":[{"tags":[],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672221179,"creation_date":1671450673,"answer_id":74850137,"question_id":74848867,"body_markdown":"I did mange to make a workaround. \r\nHowever I would be happy for other workarounds and also having another opinion on seeing this as a bug.\r\n\r\nBasically my workaround is to add to the arrays the existing saved values which are not in the new arrays. Then the user can deselect them (or keep them). If the user deselects the old values, they will not appear next time.\r\n\r\nIn override of PreferenceFragmentCompat : onCreatePreferences\r\n\r\n    val sharedPreferences = PreferenceManager.getDefaultSharedPreferences(context)\r\n    val oldValues = sharedPreferences.getStringSet(&quot;experiment&quot;,  emptySet&lt;String&gt;())\r\n    if (oldValues != null) {\r\n       val onlyOldValues = oldValues.toMutableSet()\r\n       onlyOldValues.removeAll(entryValues.toSet())\r\n       entryValues += onlyOldValues\r\n       entries += onlyOldValues\r\n    }","title":"MultiSelectListPreference keeps old values. Is it a bug and what can be done?","body":"<p>I did mange to make a workaround.\nHowever I would be happy for other workarounds and also having another opinion on seeing this as a bug.</p>\n<p>Basically my workaround is to add to the arrays the existing saved values which are not in the new arrays. Then the user can deselect them (or keep them). If the user deselects the old values, they will not appear next time.</p>\n<p>In override of PreferenceFragmentCompat : onCreatePreferences</p>\n<pre><code>val sharedPreferences = PreferenceManager.getDefaultSharedPreferences(context)\nval oldValues = sharedPreferences.getStringSet(&quot;experiment&quot;,  emptySet&lt;String&gt;())\nif (oldValues != null) {\n   val onlyOldValues = oldValues.toMutableSet()\n   onlyOldValues.removeAll(entryValues.toSet())\n   entryValues += onlyOldValues\n   entries += onlyOldValues\n}\n</code></pre>\n"}],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672221179,"creation_date":1671443971,"question_id":74848867,"body_markdown":"If the array of choices for MultiSelectListPreference is changed, the previous stored selections in preferences can&#39;t be removed by the user.\r\n\r\n----------\r\n\r\nI wrote a MultiSelectListPreference in xml as follows and used it in a PreferenceFragmentCompat:\r\n\r\n    &lt;PreferenceCategory app:title=&quot;experiment&quot;&gt;\r\n        &lt;MultiSelectListPreference\r\n            app:key=&quot;experiment&quot;\r\n            app:entries=&quot;@array/abc&quot;\r\n            app:entryValues=&quot;@array/abc&quot;\r\n            app:title=&quot;my values test&quot;\r\n            /&gt;\r\n    &lt;/PreferenceCategory&gt;\r\n\r\nAnd the array is \r\n\r\n    &lt;array name=&quot;abc&quot;&gt;\r\n        &lt;item&gt;a&lt;/item&gt;\r\n        &lt;item&gt;b&lt;/item&gt;\r\n        &lt;item&gt;c&lt;/item&gt;\r\n    &lt;/array&gt;\r\n\r\nWhen in the UI selecting all choices, the result in preferences file is\r\n\r\n    &lt;set name=&quot;experiment&quot;&gt;\r\n        &lt;string&gt;a&lt;/string&gt;\r\n        &lt;string&gt;b&lt;/string&gt;\r\n        &lt;string&gt;c&lt;/string&gt;\r\n    &lt;/set&gt;\r\n\r\nNow changing the array to be\r\n\r\n    &lt;array name=&quot;abc&quot;&gt;\r\n        &lt;item&gt;A&lt;/item&gt;\r\n        &lt;item&gt;B&lt;/item&gt;\r\n        &lt;item&gt;C&lt;/item&gt;\r\n    &lt;/array&gt;\r\n\r\nand going to preferences UI again. The user sees only the new choices, and if selecting all choices the resulting preferences file is\r\n\r\n    &lt;set name=&quot;experiment&quot;&gt;\r\n        &lt;string&gt;a&lt;/string&gt;\r\n        &lt;string&gt;A&lt;/string&gt;\r\n        &lt;string&gt;b&lt;/string&gt;\r\n        &lt;string&gt;B&lt;/string&gt;\r\n        &lt;string&gt;c&lt;/string&gt;\r\n        &lt;string&gt;C&lt;/string&gt;\r\n    &lt;/set&gt;\r\n\r\nAnd if deselecting all choices the result is again\r\n\r\n    &lt;set name=&quot;experiment&quot;&gt;\r\n        &lt;string&gt;a&lt;/string&gt;\r\n        &lt;string&gt;b&lt;/string&gt;\r\n        &lt;string&gt;c&lt;/string&gt;\r\n    &lt;/set&gt;\r\n\r\nThe user has no way to clear the old selected values.\r\n\r\n(In my real case, the arrays are set on runtime and made from phone contacts, so they can change when contacts change.)\r\n\r\nIt looks to me like a bug. I would expect that after the user changes selections, the saved preferences would contain only choices the user sees.\r\n\r\nMy question, is it a bug, and what workaround can be done?","title":"MultiSelectListPreference keeps old values. Is it a bug and what can be done?","body":"<p>If the array of choices for MultiSelectListPreference is changed, the previous stored selections in preferences can't be removed by the user.</p>\n<hr />\n<p>I wrote a MultiSelectListPreference in xml as follows and used it in a PreferenceFragmentCompat:</p>\n<pre><code>&lt;PreferenceCategory app:title=&quot;experiment&quot;&gt;\n    &lt;MultiSelectListPreference\n        app:key=&quot;experiment&quot;\n        app:entries=&quot;@array/abc&quot;\n        app:entryValues=&quot;@array/abc&quot;\n        app:title=&quot;my values test&quot;\n        /&gt;\n&lt;/PreferenceCategory&gt;\n</code></pre>\n<p>And the array is</p>\n<pre><code>&lt;array name=&quot;abc&quot;&gt;\n    &lt;item&gt;a&lt;/item&gt;\n    &lt;item&gt;b&lt;/item&gt;\n    &lt;item&gt;c&lt;/item&gt;\n&lt;/array&gt;\n</code></pre>\n<p>When in the UI selecting all choices, the result in preferences file is</p>\n<pre><code>&lt;set name=&quot;experiment&quot;&gt;\n    &lt;string&gt;a&lt;/string&gt;\n    &lt;string&gt;b&lt;/string&gt;\n    &lt;string&gt;c&lt;/string&gt;\n&lt;/set&gt;\n</code></pre>\n<p>Now changing the array to be</p>\n<pre><code>&lt;array name=&quot;abc&quot;&gt;\n    &lt;item&gt;A&lt;/item&gt;\n    &lt;item&gt;B&lt;/item&gt;\n    &lt;item&gt;C&lt;/item&gt;\n&lt;/array&gt;\n</code></pre>\n<p>and going to preferences UI again. The user sees only the new choices, and if selecting all choices the resulting preferences file is</p>\n<pre><code>&lt;set name=&quot;experiment&quot;&gt;\n    &lt;string&gt;a&lt;/string&gt;\n    &lt;string&gt;A&lt;/string&gt;\n    &lt;string&gt;b&lt;/string&gt;\n    &lt;string&gt;B&lt;/string&gt;\n    &lt;string&gt;c&lt;/string&gt;\n    &lt;string&gt;C&lt;/string&gt;\n&lt;/set&gt;\n</code></pre>\n<p>And if deselecting all choices the result is again</p>\n<pre><code>&lt;set name=&quot;experiment&quot;&gt;\n    &lt;string&gt;a&lt;/string&gt;\n    &lt;string&gt;b&lt;/string&gt;\n    &lt;string&gt;c&lt;/string&gt;\n&lt;/set&gt;\n</code></pre>\n<p>The user has no way to clear the old selected values.</p>\n<p>(In my real case, the arrays are set on runtime and made from phone contacts, so they can change when contacts change.)</p>\n<p>It looks to me like a bug. I would expect that after the user changes selections, the saved preferences would contain only choices the user sees.</p>\n<p>My question, is it a bug, and what workaround can be done?</p>\n"},{"tags":["java","excel","apache-poi","html-select","validation"],"answers":[{"tags":[],"owner":{"account_id":308516,"reputation":19297,"user_id":620444,"accept_rate":100,"display_name":"Andy G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371891134,"creation_date":1371890309,"answer_id":17248860,"question_id":17248470,"body_markdown":"You could use an ActiveX ComboBox in a worksheet, available from the Developers tab.\r\n\r\nEnter both columns of data into the worksheet - you can hide the columns. Then set properties of the combobox:\r\n\r\n - ColumnCount 2\r\n - BoundColumn 1\r\n - ColumnWidths 0 pt; 20 pt\r\n\r\nSet the `ListFillRange` and `LinkedCell`.\r\n\r\nI understand there used to be issues with distributing workbooks containing ActiveX controls. I am not sure if this is still an issue, particularly when used a common (standard) control.\r\n\r\nOf course, Excel is not designed to be a front-end to a database, so you&#39;ll need to write all the code to keep everything in-sync.\r\n\r\nYou could use the simpler Form Control/ComboBox. This will only store the index number in a cell - it does not have any events that you can use. You could use a formula based on the linked cell, that stores the description in another cell. When the user (presumably) clicks a button to submit the data, you would retrieve and store the description from this cell.","title":"Droplist in Excel using Poi","body":"<p>You could use an ActiveX ComboBox in a worksheet, available from the Developers tab.</p>\n\n<p>Enter both columns of data into the worksheet - you can hide the columns. Then set properties of the combobox:</p>\n\n<ul>\n<li>ColumnCount 2</li>\n<li>BoundColumn 1</li>\n<li>ColumnWidths 0 pt; 20 pt</li>\n</ul>\n\n<p>Set the <code>ListFillRange</code> and <code>LinkedCell</code>.</p>\n\n<p>I understand there used to be issues with distributing workbooks containing ActiveX controls. I am not sure if this is still an issue, particularly when used a common (standard) control.</p>\n\n<p>Of course, Excel is not designed to be a front-end to a database, so you'll need to write all the code to keep everything in-sync.</p>\n\n<p>You could use the simpler Form Control/ComboBox. This will only store the index number in a cell - it does not have any events that you can use. You could use a formula based on the linked cell, that stores the description in another cell. When the user (presumably) clicks a button to submit the data, you would retrieve and store the description from this cell.</p>\n"},{"tags":[],"owner":{"account_id":3674719,"reputation":520,"user_id":3061062,"display_name":"NicoESIEA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672220952,"creation_date":1672220952,"answer_id":74938694,"question_id":17248470,"body_markdown":"Hmm I can see many **placeholder** occurs all around the web related to java poi... but it seems there is no solution for your question. The only way I found to manage this is to set the cell value with my default text - the first value! ","title":"Droplist in Excel using Poi","body":"<p>Hmm I can see many <strong>placeholder</strong> occurs all around the web related to java poi... but it seems there is no solution for your question. The only way I found to manage this is to set the cell value with my default text - the first value!</p>\n"}],"owner":{"account_id":2926853,"reputation":132,"user_id":2507974,"accept_rate":57,"display_name":"user2507974"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1672220952,"creation_date":1371886571,"question_id":17248470,"body_markdown":"How can I create a drop list in excel like drop list in html with the inbuilt &quot;value&quot; like attribute?\r\n\r\nMy Requirement is: I want to show the description which is not stored in database, but the code for description.\r\n\r\n**Ex:** I have a subject list in an excel cell, for Science the description is &quot;Science&quot;, but I want to store the code &quot;SCI&quot; in the Database.","title":"Droplist in Excel using Poi","body":"<p>How can I create a drop list in excel like drop list in html with the inbuilt \"value\" like attribute?</p>\n\n<p>My Requirement is: I want to show the description which is not stored in database, but the code for description.</p>\n\n<p><strong>Ex:</strong> I have a subject list in an excel cell, for Science the description is \"Science\", but I want to store the code \"SCI\" in the Database.</p>\n"},{"tags":["java","mongodb","android-studio","realm"],"comments":[{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1672250948,"post_id":74938655,"comment_id":132252529,"body_markdown":"For clarification, do you want to do this task using the [Realm Java SDK](https://www.mongodb.com/docs/realm/sdk/java/quick-start-local/) or using the MongoClient remotely?","body":"For clarification, do you want to do this task using the <a href=\"https://www.mongodb.com/docs/realm/sdk/java/quick-start-local/\" rel=\"nofollow noreferrer\">Realm Java SDK</a> or using the MongoClient remotely?"},{"owner":{"account_id":27306233,"reputation":15,"user_id":20822155,"display_name":"Ne Mo"},"score":0,"creation_date":1672271264,"post_id":74938655,"comment_id":132257120,"body_markdown":"using the Realm Java SDK","body":"using the Realm Java SDK"},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1672320271,"post_id":74938655,"comment_id":132266516,"body_markdown":"Excellent! I suggesting reading over the getting started guide [Realm Java SDK](https://www.mongodb.com/docs/realm/sdk/java/examples/read-and-write-data/) and take a look at [Write Operations](https://www.mongodb.com/docs/realm/sdk/java/examples/read-and-write-data/#write-operations). Follow the processes in that guide to read and write data. *Use realm.createObject() in a transaction to create a persistent instance of a Realm object in a realm*","body":"Excellent! I suggesting reading over the getting started guide <a href=\"https://www.mongodb.com/docs/realm/sdk/java/examples/read-and-write-data/\" rel=\"nofollow noreferrer\">Realm Java SDK</a> and take a look at <a href=\"https://www.mongodb.com/docs/realm/sdk/java/examples/read-and-write-data/#write-operations\" rel=\"nofollow noreferrer\">Write Operations</a>. Follow the processes in that guide to read and write data. <i>Use realm.createObject() in a transaction to create a persistent instance of a Realm object in a realm</i>"}],"owner":{"account_id":27306233,"reputation":15,"user_id":20822155,"display_name":"Ne Mo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672220738,"creation_date":1672220738,"question_id":74938655,"body_markdown":"I am trying to develop an android application withAndroid Studio in java and to insert data from a text entered in the application into the mongodb database, however, although the connection is carried out without problem the logs return me &quot;Error:FUNCTION_EXECUTION_ERROR(realm::app::ServiceError:14): can&#39;t find a table mapping for namespace db.collec&quot;. I do however have a collection named collec in a db database.\r\n\r\nHere is my code in java, do you know what is causing this\r\n```\r\npublic void onClick(View v) {\r\n    User user = app.currentUser();\r\n    mongoClient = user.getMongoClient(&quot;mongodb-atlas&quot;);\r\n    mongoDatabase = mongoClient.getDatabase(&quot;db&quot;);\r\n    MongoCollection&lt;Document&gt; mongoCollection = mongoDatabase.getCollection(&quot;collec&quot;);\r\n\r\n    mongoCollection.insertOne(new Document(&quot;userid&quot;,user.getId()).append(&quot;data&quot;,dataEditText.getText().toString())).getAsync(result -&gt; {\r\n        if(result.isSuccess())\r\n        {\r\n            Log.v(&quot;Data&quot;,&quot;Data Inserted Successfully&quot;);\r\n        }\r\n        else\r\n        {\r\n            Log.v(&quot;Data&quot;,&quot;Error:&quot;+result.getError().toString());\r\n        }\r\n    });\r\n\r\n```\r\n\r\n\r\nThe error seems to be the same as here but I don&#39;t understand the resolution. \r\n\r\nhttps://stackoverflow.com/questions/72905321/mongodb-realm-functions-on-react-native","title":"Mongodb : can&#39;t find a table mapping for namespace database.collection","body":"<p>I am trying to develop an android application withAndroid Studio in java and to insert data from a text entered in the application into the mongodb database, however, although the connection is carried out without problem the logs return me &quot;Error:FUNCTION_EXECUTION_ERROR(realm::app::ServiceError:14): can't find a table mapping for namespace db.collec&quot;. I do however have a collection named collec in a db database.</p>\n<p>Here is my code in java, do you know what is causing this</p>\n<pre><code>public void onClick(View v) {\n    User user = app.currentUser();\n    mongoClient = user.getMongoClient(&quot;mongodb-atlas&quot;);\n    mongoDatabase = mongoClient.getDatabase(&quot;db&quot;);\n    MongoCollection&lt;Document&gt; mongoCollection = mongoDatabase.getCollection(&quot;collec&quot;);\n\n    mongoCollection.insertOne(new Document(&quot;userid&quot;,user.getId()).append(&quot;data&quot;,dataEditText.getText().toString())).getAsync(result -&gt; {\n        if(result.isSuccess())\n        {\n            Log.v(&quot;Data&quot;,&quot;Data Inserted Successfully&quot;);\n        }\n        else\n        {\n            Log.v(&quot;Data&quot;,&quot;Error:&quot;+result.getError().toString());\n        }\n    });\n\n</code></pre>\n<p>The error seems to be the same as here but I don't understand the resolution.</p>\n<p><a href=\"https://stackoverflow.com/questions/72905321/mongodb-realm-functions-on-react-native\">MongoDB Realm Functions on React Native</a></p>\n"},{"tags":["java","spring","postgresql","spring-boot","liquibase"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1583746061,"post_id":60597635,"comment_id":107206752,"body_markdown":"Please **[edit]** your question (by clicking on the [edit] link below it) and show us your `pom.xml` and the **complete** command how you invoke Liquibase. [Formatted text](https://meta.stackoverflow.com/a/251362) please, [no screen shots](http://meta.stackoverflow.com/questions/285551/why-may-i-not-upload-images-of-code-on-so-when-asking-a-question/285557#285557) - [edit] your question, please do not post code in comments","body":"Please <b><a href=\"https://stackoverflow.com/posts/60597635/edit\">edit</a></b> your question (by clicking on the <a href=\"https://stackoverflow.com/posts/60597635/edit\">edit</a> link below it) and show us your <code>pom.xml</code> and the <b>complete</b> command how you invoke Liquibase. <a href=\"https://meta.stackoverflow.com/a/251362\">Formatted text</a> please, <a href=\"http://meta.stackoverflow.com/questions/285551/why-may-i-not-upload-images-of-code-on-so-when-asking-a-question/285557#285557\">no screen shots</a> - <a href=\"https://stackoverflow.com/posts/60597635/edit\">edit</a> your question, please do not post code in comments"}],"answers":[{"tags":[],"owner":{"account_id":6542,"reputation":8830,"user_id":11051,"accept_rate":67,"display_name":"SteveDonie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583852713,"creation_date":1583852713,"answer_id":60620350,"question_id":60597635,"body_markdown":"I think the issue is that in your property file as specified in your pom.xml `&lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;` you have used `ChangeLogFile` (with a capital C) rather than `changeLogFile` (with a lower case C). Note the error message shows the correct casing. \r\n","title":"The changeLogFile must be specified error on Liquibase","body":"<p>I think the issue is that in your property file as specified in your pom.xml <code>&lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;</code> you have used <code>ChangeLogFile</code> (with a capital C) rather than <code>changeLogFile</code> (with a lower case C). Note the error message shows the correct casing. </p>\n"},{"tags":[],"owner":{"account_id":1795933,"reputation":11,"user_id":1635334,"display_name":"molino.bruno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643383091,"creation_date":1643383091,"answer_id":70896048,"question_id":60597635,"body_markdown":"For db updates you must specify the property **changeLogFile** in your *pom.xml*, in the plugin *liquibase-maven-plugin* section. \r\nSee the snippet:\r\n\r\n    \t\t&lt;plugin&gt;\r\n\t\t        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t        &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n\t\t        &lt;version&gt;${liquibase.version}&lt;/version&gt;\r\n\t\t        &lt;configuration&gt;                  \r\n\t\t            &lt;propertyFile&gt;src/main/resources/db/liquibase.properties&lt;/propertyFile&gt;\r\n\t\t            &lt;changeLogFile&gt;src/main/resources/db/updateDb.xml&lt;/changeLogFile&gt;\r\n\t\t        &lt;/configuration&gt;\r\n\t\t    &lt;/plugin&gt; \r\nRan on liquibase *4.7.1*\r\n\r\nHere the complete MVN log:\r\n\r\n&lt;pre&gt;\r\n\t&lt;font color=&quot;#4E9A06&quot;&gt;&lt;b&gt;bmolino@Betelgeuse&lt;/b&gt;&lt;/font&gt;:&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;~/git/simbo-repo/simbo/simbo-ws&lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;#CC0000&quot;&gt;&lt;b&gt;(master)&lt;/b&gt;&lt;/font&gt;$ /opt/apache-maven-3.6.3/bin/mvn liquibase:update\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Scanning for projects...\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] \r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;b&gt;----------------&amp;lt; &lt;/b&gt;&lt;font color=&quot;#06989A&quot;&gt;it.invallee.webapp.simbo-ws:simbo-ws&lt;/font&gt;&lt;b&gt; &amp;gt;----------------&lt;/b&gt;\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;b&gt;Building simbo-ws 0.0.1-SNAPSHOT&lt;/b&gt;\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;b&gt;--------------------------------[ jar ]---------------------------------&lt;/b&gt;\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] \r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;b&gt;--- &lt;/b&gt;&lt;font color=&quot;#4E9A06&quot;&gt;liquibase-maven-plugin:4.7.1:update&lt;/font&gt; &lt;b&gt;(default-cli)&lt;/b&gt; @ &lt;font color=&quot;#06989A&quot;&gt;simbo-ws&lt;/font&gt;&lt;b&gt; ---&lt;/b&gt;\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] ------------------------------------------------------------------------\r\n\t[project, pluginDescriptor]\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Parsing Liquibase Properties File\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;]   File: src/main/resources/db/liquibase.properties\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;]   &amp;apos;outputChangeLogFile&amp;apos; in properties file is not being used by this task.\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] ------------------------------------------------------------------------\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] \r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] \r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Liquibase Community 4.7.1 by Liquibase\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] ####################################################\r\n\t##   _     _             _ _                      ##\r\n\t##  | |   (_)           (_) |                     ##\r\n\t##  | |    _  __ _ _   _ _| |__   __ _ ___  ___   ##\r\n\t##  | |   | |/ _` | | | | | &amp;apos;_ \\ / _` / __|/ _ \\  ##\r\n\t##  | |___| | (_| | |_| | | |_) | (_| \\__ \\  __/  ##\r\n\t##  \\_____/_|\\__, |\\__,_|_|_.__/ \\__,_|___/\\___|  ##\r\n\t##              | |                               ##\r\n\t##              |_|                               ##\r\n\t##                                                ## \r\n\t##  Get documentation at docs.liquibase.com       ##\r\n\t##  Get certified courses at learn.liquibase.com  ## \r\n\t##  Free schema change activity reports at        ##\r\n\t##      https://hub.liquibase.com                 ##\r\n\t##                                                ##\r\n\t####################################################\r\n\tStarting Liquibase at 16:05:17 (version 4.7.1 #1239 built at 2022-01-20 20:31+0000)\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Set default schema name to public\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Parsing Liquibase Properties File src/main/resources/db/liquibase.properties for changeLog parameters\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Executing on Database: jdbc:postgresql://XX.XXX.XXX.XXX:5432/simbo\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Successfully acquired change log lock\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Reading from databasechangelog\r\n\tRunning Changeset: src/main/resources/db/updateDb.xml::1::bob\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Table department created\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] ChangeSet src/main/resources/db/updateDb.xml::1::bob ran successfully in 16ms\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Successfully released change log lock\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] ------------------------------------------------------------------------\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] \r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;b&gt;------------------------------------------------------------------------&lt;/b&gt;\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;font color=&quot;#4E9A06&quot;&gt;&lt;b&gt;BUILD SUCCESS&lt;/b&gt;&lt;/font&gt;\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;b&gt;------------------------------------------------------------------------&lt;/b&gt;\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Total time:  2.073 s\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Finished at: 2022-01-28T16:05:18+01:00\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;b&gt;------------------------------------------------------------------------&lt;/b&gt;\r\n&lt;/pre&gt;","title":"The changeLogFile must be specified error on Liquibase","body":"<p>For db updates you must specify the property <strong>changeLogFile</strong> in your <em>pom.xml</em>, in the plugin <em>liquibase-maven-plugin</em> section.\nSee the snippet:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${liquibase.version}&lt;/version&gt;\n            &lt;configuration&gt;                  \n                &lt;propertyFile&gt;src/main/resources/db/liquibase.properties&lt;/propertyFile&gt;\n                &lt;changeLogFile&gt;src/main/resources/db/updateDb.xml&lt;/changeLogFile&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt; \n</code></pre>\n<p>Ran on liquibase <em>4.7.1</em></p>\n<p>Here the complete MVN log:</p>\n<pre>\n    <b>bmolino@Betelgeuse</b>:<b>~/git/simbo-repo/simbo/simbo-ws</b><b>(master)</b>$ /opt/apache-maven-3.6.3/bin/mvn liquibase:update\n    [<b>INFO</b>] Scanning for projects...\n    [<b>INFO</b>] \n    [<b>INFO</b>] <b>----------------&lt; </b>it.invallee.webapp.simbo-ws:simbo-ws<b> &gt;----------------</b>\n    [<b>INFO</b>] <b>Building simbo-ws 0.0.1-SNAPSHOT</b>\n    [<b>INFO</b>] <b>--------------------------------[ jar ]---------------------------------</b>\n    [<b>INFO</b>] \n    [<b>INFO</b>] <b>--- </b>liquibase-maven-plugin:4.7.1:update <b>(default-cli)</b> @ simbo-ws<b> ---</b>\n    [<b>INFO</b>] ------------------------------------------------------------------------\n    [project, pluginDescriptor]\n    [<b>INFO</b>] Parsing Liquibase Properties File\n    [<b>INFO</b>]   File: src/main/resources/db/liquibase.properties\n    [<b>INFO</b>]   &apos;outputChangeLogFile&apos; in properties file is not being used by this task.\n    [<b>INFO</b>] ------------------------------------------------------------------------\n    [<b>INFO</b>] \n    [<b>INFO</b>] \n    [<b>INFO</b>] Liquibase Community 4.7.1 by Liquibase\n    [<b>INFO</b>] ####################################################\n    ##   _     _             _ _                      ##\n    ##  | |   (_)           (_) |                     ##\n    ##  | |    _  __ _ _   _ _| |__   __ _ ___  ___   ##\n    ##  | |   | |/ _` | | | | | &apos;_ \\ / _` / __|/ _ \\  ##\n    ##  | |___| | (_| | |_| | | |_) | (_| \\__ \\  __/  ##\n    ##  \\_____/_|\\__, |\\__,_|_|_.__/ \\__,_|___/\\___|  ##\n    ##              | |                               ##\n    ##              |_|                               ##\n    ##                                                ## \n    ##  Get documentation at docs.liquibase.com       ##\n    ##  Get certified courses at learn.liquibase.com  ## \n    ##  Free schema change activity reports at        ##\n    ##      https://hub.liquibase.com                 ##\n    ##                                                ##\n    ####################################################\n    Starting Liquibase at 16:05:17 (version 4.7.1 #1239 built at 2022-01-20 20:31+0000)\n    [<b>INFO</b>] Set default schema name to public\n    [<b>INFO</b>] Parsing Liquibase Properties File src/main/resources/db/liquibase.properties for changeLog parameters\n    [<b>INFO</b>] Executing on Database: jdbc:postgresql://XX.XXX.XXX.XXX:5432/simbo\n    [<b>INFO</b>] Successfully acquired change log lock\n    [<b>INFO</b>] Reading from databasechangelog\n    Running Changeset: src/main/resources/db/updateDb.xml::1::bob\n    [<b>INFO</b>] Table department created\n    [<b>INFO</b>] ChangeSet src/main/resources/db/updateDb.xml::1::bob ran successfully in 16ms\n    [<b>INFO</b>] Successfully released change log lock\n    [<b>INFO</b>] ------------------------------------------------------------------------\n    [<b>INFO</b>] \n    [<b>INFO</b>] <b>------------------------------------------------------------------------</b>\n    [<b>INFO</b>] <b>BUILD SUCCESS</b>\n    [<b>INFO</b>] <b>------------------------------------------------------------------------</b>\n    [<b>INFO</b>] Total time:  2.073 s\n    [<b>INFO</b>] Finished at: 2022-01-28T16:05:18+01:00\n    [<b>INFO</b>] <b>------------------------------------------------------------------------</b>\n</pre>\n"},{"tags":[],"owner":{"account_id":1418198,"reputation":563,"user_id":1343373,"display_name":"thelastworm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656792891,"creation_date":1656792891,"answer_id":72842157,"question_id":60597635,"body_markdown":"You should move to **liquibase** version **4.11.0**\r\n\r\nand change ```changeLogFile``` to ```outputChangeLogFile```\r\n\r\nHope that&#39;s help","title":"The changeLogFile must be specified error on Liquibase","body":"<p>You should move to <strong>liquibase</strong> version <strong>4.11.0</strong></p>\n<p>and change <code>changeLogFile</code> to <code>outputChangeLogFile</code></p>\n<p>Hope that's help</p>\n"},{"tags":[],"owner":{"account_id":24662407,"reputation":121,"user_id":18558485,"display_name":"Bobobobobobooo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672220675,"creation_date":1672220675,"answer_id":74938647,"question_id":60597635,"body_markdown":"When you change something in **liquibase.properties**, you should compile source code every time. `mvn compile`","title":"The changeLogFile must be specified error on Liquibase","body":"<p>When you change something in <strong>liquibase.properties</strong>, you should compile source code every time. <code>mvn compile</code></p>\n"}],"owner":{"account_id":8202906,"reputation":73,"user_id":6173662,"display_name":"Purushottam kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8754,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1672220675,"creation_date":1583745798,"question_id":60597635,"body_markdown":"I am new to Liquibase and i tried to using the liquibase with postgres database to create database tables using liquibase script. What i did is, i already created Postgres tables manually and by running the command \r\n\r\n*mvn liquibase:generateChangeLog* \r\n\r\ni created liquibase-outputChangeLog.xml file. Now i try to update that script and create one more table in the database. For that i write the XML code in my changeLog.xml file for that new table and try to execute the command \r\n\r\n*mvn liquibase:update*\r\n\r\nBut its giving me below error\r\n\r\nThe ChangeLogFile must be specified. \r\n\r\nBelow is my POM.xml file. \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;tech.sample&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;common-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;tech.sample&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;common-starter-logging&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;42.2.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!--Sonar Plugins--&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.github.temyers&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;cucumber-jvm-parallel-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.4.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;update&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nCould any one of them please help me , whats wrong here.\r\n\r\nstrong text[![**enter image description here**][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BIyQL.png","title":"The changeLogFile must be specified error on Liquibase","body":"<p>I am new to Liquibase and i tried to using the liquibase with postgres database to create database tables using liquibase script. What i did is, i already created Postgres tables manually and by running the command </p>\n\n<p><em>mvn liquibase:generateChangeLog</em> </p>\n\n<p>i created liquibase-outputChangeLog.xml file. Now i try to update that script and create one more table in the database. For that i write the XML code in my changeLog.xml file for that new table and try to execute the command </p>\n\n<p><em>mvn liquibase:update</em></p>\n\n<p>But its giving me below error</p>\n\n<p>The ChangeLogFile must be specified. </p>\n\n<p>Below is my POM.xml file. </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;tech.sample&lt;/groupId&gt;\n        &lt;artifactId&gt;common-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;tech.sample&lt;/groupId&gt;\n        &lt;artifactId&gt;common-starter-logging&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n        &lt;version&gt;3.8.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;!--Sonar Plugins--&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.github.temyers&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-jvm-parallel-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;update&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>Could any one of them please help me , whats wrong here.</p>\n\n<p>strong text<a href=\"https://i.stack.imgur.com/BIyQL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BIyQL.png\" alt=\"**enter image description here**\"></a></p>\n"},{"tags":["java","sonarqube"],"owner":{"account_id":4083510,"reputation":139,"user_id":3353393,"accept_rate":57,"display_name":"user3353393"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672220293,"creation_date":1672220293,"question_id":74938582,"body_markdown":"So little introduction. \r\n\r\nI have been using this for learning -&gt; https://github.com/SonarSource/sonar-java/blob/master/docs/CUSTOM_RULES_101.md\r\n\r\nI created sonar docker instance from docker compose -&gt; https://github.com/SonarSource/docker-sonarqube/blob/master/example-compose-files/sq-with-postgres/docker-compose.yml\r\n\r\nI have created a very very simple rule. Here is a full source code (this rule is checking only for interfaces commenets): \r\n\r\n    @Rule(key = &quot;PublicInterfaceWithJavaDocComments&quot;)\r\n    public class PublicInterfaceWithJavaDocComments extends BaseTreeVisitor implements JavaFileScanner {\r\n    \r\n        private JavaFileScannerContext context;\r\n    \r\n        @Override\r\n        public void scanFile(JavaFileScannerContext context) {\r\n            this.context = context;\r\n            scan(context.getTree());\r\n        }\r\n    \r\n        @Override\r\n        public void visitClass(ClassTree tree) {\r\n            if (tree.is(Tree.Kind.INTERFACE) &amp;&amp; tree.symbol().isPublic()) {\r\n                final Javadoc javadoc = new Javadoc(tree);\r\n                if (tree.is(Tree.Kind.INTERFACE) &amp;&amp; isDescriptionEmpty(javadoc)) {\r\n                    this.context.reportIssue(this, tree, &quot;JavaDoc missing on public interface declaration.&quot;);\r\n                }\r\n                super.visitClass(tree);\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void visitMethod(MethodTree tree) {\r\n            Javadoc javadoc = new Javadoc(tree);\r\n            if (tree.is(Tree.Kind.METHOD) &amp;&amp; javadoc.noMainDescription()) {\r\n                this.context.reportIssue(this, tree, &quot;JavaDoc missing on public interfaces methods declaration.&quot;);\r\n            }\r\n            super.visitMethod(tree);\r\n    \r\n        }\r\n    \r\n        public boolean isDescriptionEmpty(Javadoc javadoc) {\r\n            return javadoc.noMainDescription(); // check if it returns true when description exists\r\n        }\r\n    \r\n    }\r\n\r\nSo till this moment nothing ordinary - tests are passing its time to deploy this to sonar. So I run mvn package I have my jar file (which is pretty small 384 kb) I put it on **$SONAR_HOME/extensions/plugins** everything is perfect. I can see rule in sonar I activate it and now its time to test it.\r\n\r\nI have sample gradle project so its not a big deal (Im on windows machine) - so I use command: \r\n\r\n./gradlew sonar --stacktrace -D&quot;sonar.projectKey=Test&quot; -D&quot;sonar.host.url=http://localhost:9000&quot; -D&quot;sonar.login=sqp_9b1a09f402459589aa3eeea6105e\r\n9a3d86400c6d&quot;\r\n\r\nAnd here I have a issue: \r\n\r\n**Caused by: java.lang.ClassNotFoundException: org.sonar.java.checks.helpers.Javadoc**\r\n\r\nLooks like Sonar dont have this class ? What I have done wrong ? ","title":"SonarQube - java custom rule - class not found","body":"<p>So little introduction.</p>\n<p>I have been using this for learning -&gt; <a href=\"https://github.com/SonarSource/sonar-java/blob/master/docs/CUSTOM_RULES_101.md\" rel=\"nofollow noreferrer\">https://github.com/SonarSource/sonar-java/blob/master/docs/CUSTOM_RULES_101.md</a></p>\n<p>I created sonar docker instance from docker compose -&gt; <a href=\"https://github.com/SonarSource/docker-sonarqube/blob/master/example-compose-files/sq-with-postgres/docker-compose.yml\" rel=\"nofollow noreferrer\">https://github.com/SonarSource/docker-sonarqube/blob/master/example-compose-files/sq-with-postgres/docker-compose.yml</a></p>\n<p>I have created a very very simple rule. Here is a full source code (this rule is checking only for interfaces commenets):</p>\n<pre><code>@Rule(key = &quot;PublicInterfaceWithJavaDocComments&quot;)\npublic class PublicInterfaceWithJavaDocComments extends BaseTreeVisitor implements JavaFileScanner {\n\n    private JavaFileScannerContext context;\n\n    @Override\n    public void scanFile(JavaFileScannerContext context) {\n        this.context = context;\n        scan(context.getTree());\n    }\n\n    @Override\n    public void visitClass(ClassTree tree) {\n        if (tree.is(Tree.Kind.INTERFACE) &amp;&amp; tree.symbol().isPublic()) {\n            final Javadoc javadoc = new Javadoc(tree);\n            if (tree.is(Tree.Kind.INTERFACE) &amp;&amp; isDescriptionEmpty(javadoc)) {\n                this.context.reportIssue(this, tree, &quot;JavaDoc missing on public interface declaration.&quot;);\n            }\n            super.visitClass(tree);\n        }\n\n    }\n\n    @Override\n    public void visitMethod(MethodTree tree) {\n        Javadoc javadoc = new Javadoc(tree);\n        if (tree.is(Tree.Kind.METHOD) &amp;&amp; javadoc.noMainDescription()) {\n            this.context.reportIssue(this, tree, &quot;JavaDoc missing on public interfaces methods declaration.&quot;);\n        }\n        super.visitMethod(tree);\n\n    }\n\n    public boolean isDescriptionEmpty(Javadoc javadoc) {\n        return javadoc.noMainDescription(); // check if it returns true when description exists\n    }\n\n}\n</code></pre>\n<p>So till this moment nothing ordinary - tests are passing its time to deploy this to sonar. So I run mvn package I have my jar file (which is pretty small 384 kb) I put it on <strong>$SONAR_HOME/extensions/plugins</strong> everything is perfect. I can see rule in sonar I activate it and now its time to test it.</p>\n<p>I have sample gradle project so its not a big deal (Im on windows machine) - so I use command:</p>\n<p>./gradlew sonar --stacktrace -D&quot;sonar.projectKey=Test&quot; -D&quot;sonar.host.url=http://localhost:9000&quot; -D&quot;sonar.login=sqp_9b1a09f402459589aa3eeea6105e\n9a3d86400c6d&quot;</p>\n<p>And here I have a issue:</p>\n<p><strong>Caused by: java.lang.ClassNotFoundException: org.sonar.java.checks.helpers.Javadoc</strong></p>\n<p>Looks like Sonar dont have this class ? What I have done wrong ?</p>\n"},{"tags":["java","smb","jcifs"],"comments":[{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":1,"creation_date":1645543357,"post_id":71223796,"comment_id":125896086,"body_markdown":"&quot;doesn&#39;t work&quot; Please explain (e.g., show exception) as an update to your post.","body":"&quot;doesn&#39;t work&quot; Please explain (e.g., show exception) as an update to your post."},{"owner":{"account_id":4777108,"reputation":89,"user_id":3859913,"display_name":"Oasis001"},"score":0,"creation_date":1645543439,"post_id":71223796,"comment_id":125896120,"body_markdown":"@JeffHolt updated the question with exception","body":"@JeffHolt updated the question with exception"},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1645543637,"post_id":71223796,"comment_id":125896205,"body_markdown":"`Paths.get(sTargetFile.getCanonicalPath())` might work instead of `(Path) sTargetFile`.","body":"<code>Paths.get(sTargetFile.getCanonicalPath())</code> might work instead of <code>(Path) sTargetFile</code>."},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1645543797,"post_id":71223796,"comment_id":125896275,"body_markdown":"You may indeed have a samba problem but your immediate problem is not at all related to samba. It is merely a data type problem. The title of the question is not correct.","body":"You may indeed have a samba problem but your immediate problem is not at all related to samba. It is merely a data type problem. The title of the question is not correct."},{"owner":{"account_id":4777108,"reputation":89,"user_id":3859913,"display_name":"Oasis001"},"score":0,"creation_date":1645544245,"post_id":71223796,"comment_id":125896482,"body_markdown":"I don&#39;t think its a samba problem as I am able to auth and drop files at the SMB location without any issues.\nWhen I tried using getCanonicalPath() I get something like this:-\njava.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 4: smb1://sharePath/abc/smblocation/xyz.xml.\nPlease notice &#39;1&#39; that appeared in the exception after smb.  The actual path is something like this - smb://sharePath/abc/smblocation/xyz.xml.","body":"I don&#39;t think its a samba problem as I am able to auth and drop files at the SMB location without any issues. When I tried using getCanonicalPath() I get something like this:- java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 4: smb1://sharePath/abc/smblocation/xyz.xml. Please notice &#39;1&#39; that appeared in the exception after smb.  The actual path is something like this - smb://sharePath/abc/smblocation/xyz.xml."},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1645544445,"post_id":71223796,"comment_id":125896578,"body_markdown":"I meant Java-Samba problem, not samba problem. That is, after fixing the data type problem, you find something else wrong.","body":"I meant Java-Samba problem, not samba problem. That is, after fixing the data type problem, you find something else wrong."},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1645573983,"post_id":71223796,"comment_id":125906867,"body_markdown":"Seen [this](https://stackoverflow.com/questions/36339504/convert-smbfile-to-java-io-file)?","body":"Seen <a href=\"https://stackoverflow.com/questions/36339504/convert-smbfile-to-java-io-file\">this</a>?"}],"answers":[{"tags":[],"owner":{"account_id":4649361,"reputation":41,"user_id":3924633,"display_name":"user3924633"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645596597,"creation_date":1645596597,"answer_id":71232080,"question_id":71223796,"body_markdown":"You may be using an outdated library. Look for maintained alternatives such as JFileServer or jNQ.","title":"Move a file from a non-SMB location to a SMB location in Java","body":"<p>You may be using an outdated library. Look for maintained alternatives such as JFileServer or jNQ.</p>\n"}],"owner":{"account_id":4777108,"reputation":89,"user_id":3859913,"display_name":"Oasis001"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672219126,"creation_date":1645543000,"question_id":71223796,"body_markdown":"How do you move a file from a local non-SMB folder to a SMB location in the server?\r\n\r\nBelow code doesn&#39;t work, but it&#39;s something like this what I am after. I am able to authenticate the smb location.\r\n\r\n\r\n\r\n    String sourceFile=&quot;target/abc.xml&quot;;\r\n    String smbDestinationFile=&quot;sharePath/abc/smblocation/xyz.xml&quot;;\r\n    SmbFile sTargetFile = performAuthenticationAndChecks(destinationFile, domain, domainUsername,\r\n        domainPassword);\r\n    Files.move(Paths.get(sourceFile), (Path) sTargetFile);\r\n\r\nI get this error:\r\n\r\n    java.lang.ClassCastException: jcifs.smb1.smb1.SmbFile cannot be cast to java.nio.file.Path","title":"Move a file from a non-SMB location to a SMB location in Java","body":"<p>How do you move a file from a local non-SMB folder to a SMB location in the server?</p>\n<p>Below code doesn't work, but it's something like this what I am after. I am able to authenticate the smb location.</p>\n<pre><code>String sourceFile=&quot;target/abc.xml&quot;;\nString smbDestinationFile=&quot;sharePath/abc/smblocation/xyz.xml&quot;;\nSmbFile sTargetFile = performAuthenticationAndChecks(destinationFile, domain, domainUsername,\n    domainPassword);\nFiles.move(Paths.get(sourceFile), (Path) sTargetFile);\n</code></pre>\n<p>I get this error:</p>\n<pre><code>java.lang.ClassCastException: jcifs.smb1.smb1.SmbFile cannot be cast to java.nio.file.Path\n</code></pre>\n"},{"tags":["java","linux","javafx","java-8"],"comments":[{"owner":{"account_id":3339202,"reputation":1073,"user_id":2805824,"accept_rate":100,"display_name":"Gaurav Pathak"},"score":0,"creation_date":1672221311,"post_id":74938355,"comment_id":132244218,"body_markdown":"Try running `export LD_LIBRARY_PATH=/opt/jdk/jdk1.8.0_181/jre/lib/amd64/` before running your program.","body":"Try running <code>export LD_LIBRARY_PATH=&#47;opt&#47;jdk&#47;jdk1.8.0_181&#47;jre&#47;lib&#47;amd64&#47;</code> before running your program."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1672226345,"post_id":74938355,"comment_id":132245454,"body_markdown":"JavaFX 8 is obsolete.  I advise a modern distribution, the use of which is documented at [openjfx.io](https://openjfx.io/).","body":"JavaFX 8 is obsolete.  I advise a modern distribution, the use of which is documented at <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">openjfx.io</a>."},{"owner":{"account_id":19521307,"reputation":1,"user_id":18090973,"display_name":"Dendil"},"score":1,"creation_date":1672257715,"post_id":74938355,"comment_id":132254310,"body_markdown":"Thanks for help. Changing JDK version has fixed problem. It&#39;s really strange because it has worked earlier","body":"Thanks for help. Changing JDK version has fixed problem. It&#39;s really strange because it has worked earlier"}],"owner":{"account_id":19521307,"reputation":1,"user_id":18090973,"display_name":"Dendil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672218901,"creation_date":1672218901,"question_id":74938355,"body_markdown":"When launching a JavaFX application, the following error occurs:\r\n\r\n&gt; GraphicsPipeline.createPipeline failed for com.sun.prism.es2.ES2Pipeline\r\n&gt; java.lang.UnsatisfiedLinkError: /opt/jdk/jdk1.8.0_181/jre/lib/amd64/libprism_es2.so: libgtk-x11-2.0.so.0: cannot open shared object file: No such file or directory\r\n\r\nBut at the same time, I have the libgtk-x11-2.0.so.0 library installed.\r\n\r\n&gt; find / -name &quot;libgdk-x11\\*&quot; 2\\&gt; /dev/null:\r\n\r\n[result](https://i.stack.imgur.com/Fm2aL.png)\r\n\r\n&gt; ldd /opt/jdk/jdk1.8.0_181/jre/lib/amd64/libprism_es2.so:\r\n\r\n[result](https://i.stack.imgur.com/8ELX6.png)\r\n\r\n&gt; java version &quot;1.8.0_181&quot;\r\n\r\nI don&#39;t know what should I do. I&#39;m new to Linux","title":"Error with library libgtk-x11-2.0.so.0 on UNIX","body":"<p>When launching a JavaFX application, the following error occurs:</p>\n<blockquote>\n<p>GraphicsPipeline.createPipeline failed for com.sun.prism.es2.ES2Pipeline\njava.lang.UnsatisfiedLinkError: /opt/jdk/jdk1.8.0_181/jre/lib/amd64/libprism_es2.so: libgtk-x11-2.0.so.0: cannot open shared object file: No such file or directory</p>\n</blockquote>\n<p>But at the same time, I have the libgtk-x11-2.0.so.0 library installed.</p>\n<blockquote>\n<p>find / -name &quot;libgdk-x11*&quot; 2&gt; /dev/null:</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/Fm2aL.png\" rel=\"nofollow noreferrer\">result</a></p>\n<blockquote>\n<p>ldd /opt/jdk/jdk1.8.0_181/jre/lib/amd64/libprism_es2.so:</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/8ELX6.png\" rel=\"nofollow noreferrer\">result</a></p>\n<blockquote>\n<p>java version &quot;1.8.0_181&quot;</p>\n</blockquote>\n<p>I don't know what should I do. I'm new to Linux</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1500660275,"post_id":45220294,"comment_id":77454114,"body_markdown":"`dataRatings`, for example, is not a `Map&lt;String, String&gt;`, so did you try a `Map&lt;String, Object&gt;`?","body":"<code>dataRatings</code>, for example, is not a <code>Map&lt;String, String&gt;</code>, so did you try a <code>Map&lt;String, Object&gt;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":11240673,"reputation":91,"user_id":8245104,"display_name":"Mandeep Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672218683,"creation_date":1500572989,"answer_id":45221868,"question_id":45220294,"body_markdown":"dataObjects is not a key as other strings. It is a json object. You have to parse it as JSON Object separately.\r\n\r\n        public static Map parse(final String json,final Map map){\r\n    \ttry {\r\n    \r\n            //Instance of JsonFactory for Object Mapper istance\r\n            final JsonFactory factory = new JsonFactory();\r\n    \r\n            final ObjectMapper mapper = new ObjectMapper(factory);\r\n    \r\n            //create JsonNode from json String\r\n            final JsonNode rootNode = mapper.readTree(json);\r\n    \r\n            // iterate till it fetch all parameter and value from json string \r\n            final Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; fieldsIterator = rootNode.fields();\r\n            while (fieldsIterator.hasNext()) {\r\n    \r\n                final Map.Entry&lt;String, JsonNode&gt; field = fieldsIterator.next();\r\n    \r\n                //if normal json, put value to map\r\n                map.put(field.getKey(), String.valueOf(field.getValue()));\r\n    \r\n                //if json oject again recurse parse method.\r\n                if ((String.valueOf(field.getValue()).startsWith(&quot;{&quot;) &amp;&amp; String.valueOf(field.getValue()).endsWith(&quot;}&quot;))) {\r\n    \r\n                    parse(String.valueOf(field.getValue()),map);\r\n    \r\n                }\r\n                //if json array it invoke parseJsonArray \r\n                if (String.valueOf(field.getValue()).startsWith(&quot;[{&quot;) &amp;&amp; String.valueOf(field.getValue()).endsWith(&quot;}]&quot;)) {\r\n    \r\n                    parseJsonArray(String.valueOf(field.getValue()),map);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return map;\r\n       }\r\n    \r\n       public static void parseJsonArray(String jsonArray,Map&lt;String, String&gt; map) {\r\n        try {\r\n            JSONArray jsonArray1 = new JSONArray(jsonArray);\r\n            for (int i = 0; i &lt; jsonArray1.length(); i++) {\r\n                JSONObject json = jsonArray1.getJSONObject(i);\r\n                Iterator&lt;String&gt; keys = json.keys();\r\n    \r\n                while (keys.hasNext()) {\r\n                    String key = keys.next();\r\n                    map.put(key, String.valueOf(json.get(key)));\r\n                    System.out.println(&quot;Key :&quot; + key + &quot;  Value :&quot; + String.valueOf(json.get(key)));\r\n                }\r\n    \r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        }","title":"Using Gson to decode a LinkedTreeMap into a property?","body":"<p>dataObjects is not a key as other strings. It is a json object. You have to parse it as JSON Object separately.</p>\n<pre><code>    public static Map parse(final String json,final Map map){\n    try {\n\n        //Instance of JsonFactory for Object Mapper istance\n        final JsonFactory factory = new JsonFactory();\n\n        final ObjectMapper mapper = new ObjectMapper(factory);\n\n        //create JsonNode from json String\n        final JsonNode rootNode = mapper.readTree(json);\n\n        // iterate till it fetch all parameter and value from json string \n        final Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; fieldsIterator = rootNode.fields();\n        while (fieldsIterator.hasNext()) {\n\n            final Map.Entry&lt;String, JsonNode&gt; field = fieldsIterator.next();\n\n            //if normal json, put value to map\n            map.put(field.getKey(), String.valueOf(field.getValue()));\n\n            //if json oject again recurse parse method.\n            if ((String.valueOf(field.getValue()).startsWith(&quot;{&quot;) &amp;&amp; String.valueOf(field.getValue()).endsWith(&quot;}&quot;))) {\n\n                parse(String.valueOf(field.getValue()),map);\n\n            }\n            //if json array it invoke parseJsonArray \n            if (String.valueOf(field.getValue()).startsWith(&quot;[{&quot;) &amp;&amp; String.valueOf(field.getValue()).endsWith(&quot;}]&quot;)) {\n\n                parseJsonArray(String.valueOf(field.getValue()),map);\n            }\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return map;\n   }\n\n   public static void parseJsonArray(String jsonArray,Map&lt;String, String&gt; map) {\n    try {\n        JSONArray jsonArray1 = new JSONArray(jsonArray);\n        for (int i = 0; i &lt; jsonArray1.length(); i++) {\n            JSONObject json = jsonArray1.getJSONObject(i);\n            Iterator&lt;String&gt; keys = json.keys();\n\n            while (keys.hasNext()) {\n                String key = keys.next();\n                map.put(key, String.valueOf(json.get(key)));\n                System.out.println(&quot;Key :&quot; + key + &quot;  Value :&quot; + String.valueOf(json.get(key)));\n            }\n\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    }\n</code></pre>\n"}],"owner":{"account_id":404836,"reputation":350,"user_id":773376,"display_name":"arpieb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1034,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672218683,"creation_date":1500567825,"question_id":45220294,"body_markdown":"I&#39;ve got a JSON structure like the following:\r\n\r\n\r\n    {\r\n      &quot;identifier&quot;: 1045608,\r\n      &quot;scientificName&quot;: &quot;Apis mellifera Linnaeus 1758&quot;,\r\n      &quot;exemplar&quot;: false,\r\n      &quot;richness_score&quot;: 400.0,\r\n      &quot;dataObjects&quot;: [\r\n        {\r\n          &quot;identifier&quot;: &quot;d72801627bf4adf1a38d9c5f10cc767f&quot;,\r\n          &quot;dataObjectVersionID&quot;: 30073527,\r\n          &quot;dataType&quot;: &quot;http://purl.org/dc/dcmitype/StillImage&quot;,\r\n          &quot;dataSubtype&quot;: &quot;&quot;,\r\n          &quot;vettedStatus&quot;: &quot;Trusted&quot;,\r\n          &quot;dataRatings&quot;: {\r\n            &quot;1&quot;: 0,\r\n            &quot;2&quot;: 0,\r\n            &quot;3&quot;: 4,\r\n            &quot;4&quot;: 0,\r\n            &quot;5&quot;: 6\r\n          },\r\n          &quot;dataRating&quot;: 4.2,\r\n          &quot;mimeType&quot;: &quot;image/jpeg&quot;,\r\n          &quot;created&quot;: &quot;2009-07-12T15:13:19Z&quot;,\r\n          &quot;title&quot;: &quot;Honey Bee on Mountain Mint&quot;,\r\n          &quot;language&quot;: &quot;en&quot;,\r\n          &quot;license&quot;: &quot;http://creativecommons.org/licenses/by/2.0/&quot;,\r\n          &quot;rightsHolder&quot;: &quot;John Baker&quot;,\r\n          &quot;source&quot;: &quot;https://www.flickr.com/photos/38875278@N08/3730360050/&quot;,\r\n          &quot;mediaURL&quot;: &quot;https://farm3.staticflickr.com/2619/3730360050_c771a4c2cf_o.jpg&quot;,\r\n          &quot;agents&quot;: [\r\n            {\r\n              &quot;full_name&quot;: &quot;John Baker&quot;,\r\n              &quot;homepage&quot;: &quot;http://www.flickr.com/photos/38875278@N08&quot;,\r\n              &quot;role&quot;: &quot;photographer&quot;\r\n            },\r\n            {\r\n              &quot;full_name&quot;: &quot;Flickr: EOL Images&quot;,\r\n              &quot;homepage&quot;: &quot;http://www.flickr.com/groups/encyclopedia_of_life&quot;,\r\n              &quot;role&quot;: &quot;provider&quot;\r\n            }\r\n          ],\r\n        }\r\n      ]\r\n    }\r\n\r\nI have defined a top-level class to deserialize into as:\r\n\r\n    class EOLDataObjectsResponse {\r\n        private int identifier;\r\n        private String scientificName;\r\n        private Boolean exemplar;\r\n        @SerializedName(&quot;richness_score&quot;) private float richnessScore;\r\n        private List&lt;EOLDataObjectsTaxonConcept&gt; taxonConcepts;\r\n        private List&lt;LinkedTreeMap&lt;String, String&gt;&gt; dataObjects;\r\n    }\r\n\r\nEverything was parsing properly with Gson until I added the `dataObjects` property.  What I am getting on testing is:\r\n\r\n    Exception in thread &quot;main&quot; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected a string but was BEGIN_OBJECT at line 1 column 2242 path $.dataObjects[0].\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:224)\r\n        at com.google.gson.Gson.fromJson(Gson.java:887)\r\n        at com.google.gson.Gson.fromJson(Gson.java:825)\r\n        at emt.eol.EOLDataObjects.query(EOLDataObjects.java:102)\r\n        at emt.eol.EOLDataObjects.query(EOLDataObjects.java:51)\r\n        at emt.eol.EOLDataObjects.main(EOLDataObjects.java:136)\r\n\r\nWhat I would like to do is parse just that property into a list of nested maps of string-string pairs since I have no guarantees re what is coming back in that list yet want to make it available in a nested map format if someone needs to access it.  I was hoping that the Gson LinkedTreeMap class would do the trick, but apparently not the way I&#39;m using it.\r\n\r\nCan anyone suggest what might be causing problems or possibly a better approach?  Thanks!","title":"Using Gson to decode a LinkedTreeMap into a property?","body":"<p>I've got a JSON structure like the following:</p>\n\n<pre><code>{\n  \"identifier\": 1045608,\n  \"scientificName\": \"Apis mellifera Linnaeus 1758\",\n  \"exemplar\": false,\n  \"richness_score\": 400.0,\n  \"dataObjects\": [\n    {\n      \"identifier\": \"d72801627bf4adf1a38d9c5f10cc767f\",\n      \"dataObjectVersionID\": 30073527,\n      \"dataType\": \"http://purl.org/dc/dcmitype/StillImage\",\n      \"dataSubtype\": \"\",\n      \"vettedStatus\": \"Trusted\",\n      \"dataRatings\": {\n        \"1\": 0,\n        \"2\": 0,\n        \"3\": 4,\n        \"4\": 0,\n        \"5\": 6\n      },\n      \"dataRating\": 4.2,\n      \"mimeType\": \"image/jpeg\",\n      \"created\": \"2009-07-12T15:13:19Z\",\n      \"title\": \"Honey Bee on Mountain Mint\",\n      \"language\": \"en\",\n      \"license\": \"http://creativecommons.org/licenses/by/2.0/\",\n      \"rightsHolder\": \"John Baker\",\n      \"source\": \"https://www.flickr.com/photos/38875278@N08/3730360050/\",\n      \"mediaURL\": \"https://farm3.staticflickr.com/2619/3730360050_c771a4c2cf_o.jpg\",\n      \"agents\": [\n        {\n          \"full_name\": \"John Baker\",\n          \"homepage\": \"http://www.flickr.com/photos/38875278@N08\",\n          \"role\": \"photographer\"\n        },\n        {\n          \"full_name\": \"Flickr: EOL Images\",\n          \"homepage\": \"http://www.flickr.com/groups/encyclopedia_of_life\",\n          \"role\": \"provider\"\n        }\n      ],\n    }\n  ]\n}\n</code></pre>\n\n<p>I have defined a top-level class to deserialize into as:</p>\n\n<pre><code>class EOLDataObjectsResponse {\n    private int identifier;\n    private String scientificName;\n    private Boolean exemplar;\n    @SerializedName(\"richness_score\") private float richnessScore;\n    private List&lt;EOLDataObjectsTaxonConcept&gt; taxonConcepts;\n    private List&lt;LinkedTreeMap&lt;String, String&gt;&gt; dataObjects;\n}\n</code></pre>\n\n<p>Everything was parsing properly with Gson until I added the <code>dataObjects</code> property.  What I am getting on testing is:</p>\n\n<pre><code>Exception in thread \"main\" com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected a string but was BEGIN_OBJECT at line 1 column 2242 path $.dataObjects[0].\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:224)\n    at com.google.gson.Gson.fromJson(Gson.java:887)\n    at com.google.gson.Gson.fromJson(Gson.java:825)\n    at emt.eol.EOLDataObjects.query(EOLDataObjects.java:102)\n    at emt.eol.EOLDataObjects.query(EOLDataObjects.java:51)\n    at emt.eol.EOLDataObjects.main(EOLDataObjects.java:136)\n</code></pre>\n\n<p>What I would like to do is parse just that property into a list of nested maps of string-string pairs since I have no guarantees re what is coming back in that list yet want to make it available in a nested map format if someone needs to access it.  I was hoping that the Gson LinkedTreeMap class would do the trick, but apparently not the way I'm using it.</p>\n\n<p>Can anyone suggest what might be causing problems or possibly a better approach?  Thanks!</p>\n"},{"tags":["java","c#","android","xamarin","events"],"owner":{"account_id":20219343,"reputation":25,"user_id":14829276,"display_name":"Rotem K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672218606,"creation_date":1672218606,"question_id":74938313,"body_markdown":"I am trying to make my application place calls instead of the default android dialer when calling from contacts application, working with Android 8-9 Samsung SM-G950F (if it matters) atm.&lt;br/&gt;\r\nCurrently coding in Xamarin C# android project, so my guess is that it&#39;s not so different from Java / Kotlin application developed in IntelliJ.\r\nI have the following Intent filters in AndroidManifest:\r\n\r\n    \t\t&lt;activity android:name=&quot;com.app.ContactsDialerActivity&quot; android:exported=&quot;true&quot; android:enabled=&quot;true&quot; android:launchMode=&quot;singleTask&quot;&gt;\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.DIAL&quot;/&gt;\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.DIAL&quot;/&gt;\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n\t\t\t\t&lt;data android:scheme=&quot;tel&quot; /&gt;\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.CALL_PRIVILEGED&quot; /&gt;\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t&lt;/activity&gt;\r\nFurthermore, my Manifest include the following permissions:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.WRITE_CONTACTS&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.WRITE_CALL_LOG&quot; /&gt;\r\nAll permissions was granted when application started.\r\n\r\nIn the Activity class I have the following attribute above the class name:\r\n\r\n        [IntentFilter(new[] { Intent.ActionView, Intent.ActionDial },\r\n                        Categories = new[] { Intent.CategoryDefault, Intent.CategoryBrowsable })]\r\n    [Activity(Label = &quot;ContactsDialerActivity&quot;, Name = &quot;com.app.ContactsDialerActivity&quot;, Exported = true, Enabled = true)]\r\n\r\nI have implemented the below code in OnCreate() and in OnStart() method:\r\n\r\n     // Get the incoming call intent\r\n            var callIntent = Intent;\r\n            var callAction = callIntent.Action;\r\n            var callData = callIntent.Data;\r\n\r\n            // Check if the intent is a call intent\r\n            Log.Info(TAG, &quot;Intent action: &quot; + callAction);\r\n\r\n            if (callAction == Intent.ActionDial)\r\n            {...}\r\n\r\nI was able to achieve default dialer as my application, and when trying to click on a tel: tag such as:\r\n\r\n    &lt;a href=&quot;tel:123&quot;&gt;&lt;/a&gt;\r\nAndroid actually prompt for application selection to place to the call (including my app) and I am getting the event in my application.\r\nHowever, when trying to place a call from contacts application / phone dialer application I am not getting any prompt like the above.\r\n\r\nThanks in advance.\r\n\r\n","title":"Action.DIAL not received when dialing from native android contacts app","body":"<p>I am trying to make my application place calls instead of the default android dialer when calling from contacts application, working with Android 8-9 Samsung SM-G950F (if it matters) atm.<br/>\nCurrently coding in Xamarin C# android project, so my guess is that it's not so different from Java / Kotlin application developed in IntelliJ.\nI have the following Intent filters in AndroidManifest:</p>\n<pre><code>        &lt;activity android:name=&quot;com.app.ContactsDialerActivity&quot; android:exported=&quot;true&quot; android:enabled=&quot;true&quot; android:launchMode=&quot;singleTask&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.DIAL&quot;/&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n        &lt;/intent-filter&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.DIAL&quot;/&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n            &lt;data android:scheme=&quot;tel&quot; /&gt;\n        &lt;/intent-filter&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.CALL_PRIVILEGED&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n<p>Furthermore, my Manifest include the following permissions:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_CONTACTS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_CALL_LOG&quot; /&gt;\n</code></pre>\n<p>All permissions was granted when application started.</p>\n<p>In the Activity class I have the following attribute above the class name:</p>\n<pre><code>    [IntentFilter(new[] { Intent.ActionView, Intent.ActionDial },\n                    Categories = new[] { Intent.CategoryDefault, Intent.CategoryBrowsable })]\n[Activity(Label = &quot;ContactsDialerActivity&quot;, Name = &quot;com.app.ContactsDialerActivity&quot;, Exported = true, Enabled = true)]\n</code></pre>\n<p>I have implemented the below code in OnCreate() and in OnStart() method:</p>\n<pre><code> // Get the incoming call intent\n        var callIntent = Intent;\n        var callAction = callIntent.Action;\n        var callData = callIntent.Data;\n\n        // Check if the intent is a call intent\n        Log.Info(TAG, &quot;Intent action: &quot; + callAction);\n\n        if (callAction == Intent.ActionDial)\n        {...}\n</code></pre>\n<p>I was able to achieve default dialer as my application, and when trying to click on a tel: tag such as:</p>\n<pre><code>&lt;a href=&quot;tel:123&quot;&gt;&lt;/a&gt;\n</code></pre>\n<p>Android actually prompt for application selection to place to the call (including my app) and I am getting the event in my application.\nHowever, when trying to place a call from contacts application / phone dialer application I am not getting any prompt like the above.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","sql","database","netbeans","sqlexception"],"answers":[{"tags":[],"owner":{"account_id":27349436,"reputation":156,"user_id":20858835,"display_name":"ECHU"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672216744,"creation_date":1672216744,"answer_id":74938025,"question_id":74938006,"body_markdown":"In my opinion it is can be typo in your url, try change:\r\n```\r\njdbs:mysql:\r\n```\r\nto\r\n```\r\njdbc:mysql:\r\n```","title":"No suitable driver found, SQLException in Java","body":"<p>In my opinion it is can be typo in your url, try change:</p>\n<pre><code>jdbs:mysql:\n</code></pre>\n<p>to</p>\n<pre><code>jdbc:mysql:\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24923922,"reputation":1,"user_id":18791925,"display_name":"saha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672218353,"creation_date":1672218353,"answer_id":74938275,"question_id":74938006,"body_markdown":"just add the MySQL JDBC JAR into class path if you are running on Java SE6 and driver is JBC 4.0 compliant, e.g. mysql-connector-java-5.1.36-bin.jar.","title":"No suitable driver found, SQLException in Java","body":"<p>just add the MySQL JDBC JAR into class path if you are running on Java SE6 and driver is JBC 4.0 compliant, e.g. mysql-connector-java-5.1.36-bin.jar.</p>\n"}],"owner":{"account_id":16429076,"reputation":3,"user_id":20877835,"display_name":"chloe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74938025,"answer_count":2,"score":0,"last_activity_date":1672218353,"creation_date":1672216589,"question_id":74938006,"body_markdown":"I have not worked with databases before and wanted to practice with video tutorials, but I immediately get an error.\r\n\r\nthis is my code: (with database i work in netbeans)\r\n\r\n`\r\n```\r\npackage javaapplicationdatabase;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.Driver;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.util.Enumeration;\r\n\r\n\r\npublic class JavaApplicationDataBase {\r\n    \r\npublic static final String DRIVER_NAME = &quot;com.mysql.cj.jdbc.Driver&quot;;\r\npublic static final String CONN_STRING = &quot;jdbs:mysql://localhost:3306/?user=root&amp;password=root&quot;; \r\n  \r\n    public static void main(String[] args) {\r\n        \r\n       Enumeration&lt;Driver&gt; drivers = DriverManager.getDrivers();\r\n       while(drivers.hasMoreElements())  \r\n            System.out.println(drivers.nextElement());   \r\n       \r\n        \r\n        try {\r\n            Class.forName(DRIVER_NAME);\r\n        } catch (ClassNotFoundException ex) {            \r\n            System.out.println(&quot;MySQL driver not found!&quot;);\r\n            return;\r\n        }\r\n       try {\r\n          Connection conn = DriverManager.getConnection(CONN_STRING);\r\n       } catch (SQLException ex) {          \r\n          System.out.println(&quot;Cannot open connection!&quot; + ex.getMessage());\r\n          return;\r\n        }\r\n          \r\n    }\r\n    \r\n}\r\n```\r\n`\r\n\r\nin libraries of this project i connected mysql-connected. \r\n[connect mysql connected in netbeans project](https://i.stack.imgur.com/2IImY.png)\r\n\r\n\r\nI tried to reinstall mysql and write the path to the driver in a different way, but it still gives this error. I read answers to other questions about this error and they all say that you need to connect the jar file, but i have it connected and i don’t know how else to solve the problem.","title":"No suitable driver found, SQLException in Java","body":"<p>I have not worked with databases before and wanted to practice with video tutorials, but I immediately get an error.</p>\n<p>this is my code: (with database i work in netbeans)</p>\n<p>`</p>\n<pre><code>package javaapplicationdatabase;\n\nimport java.sql.Connection;\nimport java.sql.Driver;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.Enumeration;\n\n\npublic class JavaApplicationDataBase {\n    \npublic static final String DRIVER_NAME = &quot;com.mysql.cj.jdbc.Driver&quot;;\npublic static final String CONN_STRING = &quot;jdbs:mysql://localhost:3306/?user=root&amp;password=root&quot;; \n  \n    public static void main(String[] args) {\n        \n       Enumeration&lt;Driver&gt; drivers = DriverManager.getDrivers();\n       while(drivers.hasMoreElements())  \n            System.out.println(drivers.nextElement());   \n       \n        \n        try {\n            Class.forName(DRIVER_NAME);\n        } catch (ClassNotFoundException ex) {            \n            System.out.println(&quot;MySQL driver not found!&quot;);\n            return;\n        }\n       try {\n          Connection conn = DriverManager.getConnection(CONN_STRING);\n       } catch (SQLException ex) {          \n          System.out.println(&quot;Cannot open connection!&quot; + ex.getMessage());\n          return;\n        }\n          \n    }\n    \n}\n</code></pre>\n<p>`</p>\n<p>in libraries of this project i connected mysql-connected.\n<a href=\"https://i.stack.imgur.com/2IImY.png\" rel=\"nofollow noreferrer\">connect mysql connected in netbeans project</a></p>\n<p>I tried to reinstall mysql and write the path to the driver in a different way, but it still gives this error. I read answers to other questions about this error and they all say that you need to connect the jar file, but i have it connected and i don’t know how else to solve the problem.</p>\n"},{"tags":["java","garbage-collection","wso2","wso2-api-manager","g1gc"],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672217862,"creation_date":1672089678,"question_id":74924051,"body_markdown":"I&#39;ve set up a production WSO2 API Manager 4.1.0 cluster with two nodes. This cluster is not live yet so it&#39;s sitting idle with minimum work to do.\r\n\r\nIts memory config is quite generous, especially for the current workload: `-Xmx3072m -Xms3072m`\r\n\r\nThe problem I&#39;ve found is that G1 Old Gen keeps growing until it uses up all the heap memory:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd here&#39;s the overall heap view:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAs you can see even though there&#39;s a huge amount of time for G1 Old Gen (11h+), in the end GC&#39;s didn&#39;t manage to free much memory until they were pointless.\r\n\r\nEventually the node stars launching Out of memory exceptions:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWSO2 is a widely used API Management solution so the question is, could it have some kind of memory leak?\r\n\r\nIs there any way to tweak the G1 Old Gen GC so that it doesn&#39;t fill up the whole heap size?\r\n\r\n**UPDATE:**\r\n\r\nI&#39;ve generated a heap dump and the problem seems to be in the `org.wso2.carbon.apimgt.gateway` component:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nDrilling down I reach the `org.wso2.carbon.apimgt.gateway.inbound.InboundMessageContextDataHolder`:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kxyf5.png\r\n  [2]: https://i.stack.imgur.com/Ve9VK.png\r\n  [3]: https://i.stack.imgur.com/StwBt.png\r\n  [4]: https://i.stack.imgur.com/Ye0gD.png\r\n  [5]: https://i.stack.imgur.com/akyTV.png","title":"WSO2 API Manager cluster OutOfMemoryError java heap space with G1 GC and Old Gen continuosly growing","body":"<p>I've set up a production WSO2 API Manager 4.1.0 cluster with two nodes. This cluster is not live yet so it's sitting idle with minimum work to do.</p>\n<p>Its memory config is quite generous, especially for the current workload: <code>-Xmx3072m -Xms3072m</code></p>\n<p>The problem I've found is that G1 Old Gen keeps growing until it uses up all the heap memory:</p>\n<p><a href=\"https://i.stack.imgur.com/kxyf5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kxyf5.png\" alt=\"enter image description here\" /></a></p>\n<p>And here's the overall heap view:</p>\n<p><a href=\"https://i.stack.imgur.com/Ve9VK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ve9VK.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see even though there's a huge amount of time for G1 Old Gen (11h+), in the end GC's didn't manage to free much memory until they were pointless.</p>\n<p>Eventually the node stars launching Out of memory exceptions:</p>\n<p><a href=\"https://i.stack.imgur.com/StwBt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/StwBt.png\" alt=\"enter image description here\" /></a></p>\n<p>WSO2 is a widely used API Management solution so the question is, could it have some kind of memory leak?</p>\n<p>Is there any way to tweak the G1 Old Gen GC so that it doesn't fill up the whole heap size?</p>\n<p><strong>UPDATE:</strong></p>\n<p>I've generated a heap dump and the problem seems to be in the <code>org.wso2.carbon.apimgt.gateway</code> component:</p>\n<p><a href=\"https://i.stack.imgur.com/Ye0gD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ye0gD.png\" alt=\"enter image description here\" /></a></p>\n<p>Drilling down I reach the <code>org.wso2.carbon.apimgt.gateway.inbound.InboundMessageContextDataHolder</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/akyTV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/akyTV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"score":0,"creation_date":1406634960,"post_id":25014585,"comment_id":38897894,"body_markdown":"Major architectural changes without ending at least the version can lead to problems. Why don&#39;t you simply update the version of all projects that migrate to Java 6, or change the artifact name?","body":"Major architectural changes without ending at least the version can lead to problems. Why don&#39;t you simply update the version of all projects that migrate to Java 6, or change the artifact name?"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1406635168,"post_id":25014585,"comment_id":38898015,"body_markdown":"Are you wanting to ensure that Maven compiles *your* modules using Java 6? In that case, see http://stackoverflow.com/questions/6833319/maven-is-not-using-the-proper-java-compiler Or are you wanting to check that third-party modules are compiled using Java 6?","body":"Are you wanting to ensure that Maven compiles <i>your</i> modules using Java 6? In that case, see <a href=\"http://stackoverflow.com/questions/6833319/maven-is-not-using-the-proper-java-compiler\" title=\"maven is not using the proper java compiler\">stackoverflow.com/questions/6833319/&hellip;</a> Or are you wanting to check that third-party modules are compiled using Java 6?"},{"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"score":0,"creation_date":1679768889,"post_id":25014585,"comment_id":133781481,"body_markdown":"I asked **How can I verify all class files and Jar files used in my app are compiled for Java 8?** at https://stackoverflow.com/questions/75794935/how-can-i-verify-all-class-files-and-jar-files-used-in-my-app-are-compiled-for-j","body":"I asked <b>How can I verify all class files and Jar files used in my app are compiled for Java 8?</b> at <a href=\"https://stackoverflow.com/questions/75794935/how-can-i-verify-all-class-files-and-jar-files-used-in-my-app-are-compiled-for-j\" title=\"how can i verify all class files and jar files used in my app are compiled for j\">stackoverflow.com/questions/75794935/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1672217350,"creation_date":1406635228,"answer_id":25014796,"question_id":25014585,"body_markdown":"I would suggest to use the [maven-enforcer-plugin][1] in relationship with the [extra-enforcer-rules][2] for byte code version.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project&gt;\r\n      [...]\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt; &lt;!-- find the latest version at http://maven.apache.org/plugins/maven-enforcer-plugin/ --&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;enforce-bytecode-version&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;enforce&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;rules&gt;\r\n                    &lt;enforceBytecodeVersion&gt;\r\n                      &lt;maxJdkVersion&gt;1.5&lt;/maxJdkVersion&gt;\r\n                      &lt;excludes&gt;\r\n                        &lt;exclude&gt;org.mindrot:jbcrypt&lt;/exclude&gt;\r\n                      &lt;/excludes&gt;\r\n                    &lt;/enforceBytecodeVersion&gt;\r\n                  &lt;/rules&gt;\r\n                  &lt;fail&gt;true&lt;/fail&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;dependencies&gt;\r\n              &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;extra-enforcer-rules&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0-beta-2&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      [...]\r\n    &lt;/project&gt;\r\n\r\n  [1]: http://maven.apache.org/enforcer/enforcer-rules/index.html\r\n  [2]: https://www.mojohaus.org/extra-enforcer-rules/enforceBytecodeVersion.html","title":"How to check that all Maven dependencies are compiled for Java 6","body":"<p>I would suggest to use the <a href=\"http://maven.apache.org/enforcer/enforcer-rules/index.html\" rel=\"nofollow noreferrer\">maven-enforcer-plugin</a> in relationship with the <a href=\"https://www.mojohaus.org/extra-enforcer-rules/enforceBytecodeVersion.html\" rel=\"nofollow noreferrer\">extra-enforcer-rules</a> for byte code version.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  [...]\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt; &lt;!-- find the latest version at http://maven.apache.org/plugins/maven-enforcer-plugin/ --&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;enforce-bytecode-version&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;enforce&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;rules&gt;\n                &lt;enforceBytecodeVersion&gt;\n                  &lt;maxJdkVersion&gt;1.5&lt;/maxJdkVersion&gt;\n                  &lt;excludes&gt;\n                    &lt;exclude&gt;org.mindrot:jbcrypt&lt;/exclude&gt;\n                  &lt;/excludes&gt;\n                &lt;/enforceBytecodeVersion&gt;\n              &lt;/rules&gt;\n              &lt;fail&gt;true&lt;/fail&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;extra-enforcer-rules&lt;/artifactId&gt;\n            &lt;version&gt;1.0-beta-2&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  [...]\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1223,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":25014796,"answer_count":1,"score":6,"last_activity_date":1672217350,"creation_date":1406634552,"question_id":25014585,"body_markdown":"I am looking for a Maven-Plugin (or an other maven way) to enforce that all dependencies of a Maven project are compiled for the right java major version class file format.\r\n\r\nBackground: I am downgrading an existing project from Java 7 to Java 6, and I need to check that the libs are compiled for Java 6 (major version 50)\r\n\r\n*(Using jdk6 and hope that every library is used in at least one test, is not the solution I am looking for.)*","title":"How to check that all Maven dependencies are compiled for Java 6","body":"<p>I am looking for a Maven-Plugin (or an other maven way) to enforce that all dependencies of a Maven project are compiled for the right java major version class file format.</p>\n\n<p>Background: I am downgrading an existing project from Java 7 to Java 6, and I need to check that the libs are compiled for Java 6 (major version 50)</p>\n\n<p><em>(Using jdk6 and hope that every library is used in at least one test, is not the solution I am looking for.)</em></p>\n"},{"tags":["java","spring","spring-webflux","spring-retry","retrywhen"],"answers":[{"tags":[],"owner":{"account_id":15776159,"reputation":592,"user_id":11383913,"display_name":"Ady"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672181004,"creation_date":1672181004,"answer_id":74934725,"question_id":74933877,"body_markdown":"The main difference which comes to my mind is, in order to use `@Retryable` your method needs to called from outside of the class, because under the hood `@Retryable` makes use of spring&#39;s *Aspect Oriented Programming* which makes use of proxy to call retires on your target method. This primary meant to be used for blocking methods. The spring webflux `retry` on other hand is meant for a non-blocking calls when your functional pipeline emits the exception to it&#39;s subscriber and you&#39;d want to re-attempt within the pipeline itself, this should work on private methods too.","title":"Spring @Retryable vs WebFlux retry","body":"<p>The main difference which comes to my mind is, in order to use <code>@Retryable</code> your method needs to called from outside of the class, because under the hood <code>@Retryable</code> makes use of spring's <em>Aspect Oriented Programming</em> which makes use of proxy to call retires on your target method. This primary meant to be used for blocking methods. The spring webflux <code>retry</code> on other hand is meant for a non-blocking calls when your functional pipeline emits the exception to it's subscriber and you'd want to re-attempt within the pipeline itself, this should work on private methods too.</p>\n"},{"tags":[],"owner":{"account_id":20213792,"reputation":71,"user_id":14825255,"display_name":"Anghel Ionut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672216912,"creation_date":1672216912,"answer_id":74938052,"question_id":74933877,"body_markdown":"`@Retryable` is a Spring annotation that can be used to automatically retry a method if it fails due to an exception. When a method is annotated with `@Retryable`, Spring will intercept the method call and automatically retry it if the method throws an exception that is listed in the include attribute of the annotation. `@Retryable` works with traditional blocking methods and is suitable for use in a synchronous, request-response style of programming.\r\n\r\n`WebFlux` is a non-blocking, reactive programming model for building reactive applications in Spring. It provides support for reactive streams and allows you to build applications that can scale to handle high levels of concurrency with a small number of threads. WebFlux also provides a retry operator for its `Mono` and `Flux` types, which allows you to retry an asynchronous operation if it fails. This operator is similar to the `@Retryable` annotation but is designed to work with reactive streams rather than traditional blocking methods.\r\n\r\nHere are some key differences between `@Retryable` and the `WebFlux` retry operator:\r\n\r\n`@Retryable` works with traditional blocking methods, while the retry operator works with reactive streams.\r\n`@Retryable` is used to annotate a method, while the retry operator is called on a Mono or Flux object.\r\n`@Retryable` retries a method if it throws an exception, while the retry operator retries an operation if it fails (e.g., if it produces an error signal).\r\n`@Retryable` allows you to specify the maximum number of retries and the backoff policy for retries, while the retry operator allows you to specify the maximum number of retries and a retry predicate to determine when to retry.","title":"Spring @Retryable vs WebFlux retry","body":"<p><code>@Retryable</code> is a Spring annotation that can be used to automatically retry a method if it fails due to an exception. When a method is annotated with <code>@Retryable</code>, Spring will intercept the method call and automatically retry it if the method throws an exception that is listed in the include attribute of the annotation. <code>@Retryable</code> works with traditional blocking methods and is suitable for use in a synchronous, request-response style of programming.</p>\n<p><code>WebFlux</code> is a non-blocking, reactive programming model for building reactive applications in Spring. It provides support for reactive streams and allows you to build applications that can scale to handle high levels of concurrency with a small number of threads. WebFlux also provides a retry operator for its <code>Mono</code> and <code>Flux</code> types, which allows you to retry an asynchronous operation if it fails. This operator is similar to the <code>@Retryable</code> annotation but is designed to work with reactive streams rather than traditional blocking methods.</p>\n<p>Here are some key differences between <code>@Retryable</code> and the <code>WebFlux</code> retry operator:</p>\n<p><code>@Retryable</code> works with traditional blocking methods, while the retry operator works with reactive streams.\n<code>@Retryable</code> is used to annotate a method, while the retry operator is called on a Mono or Flux object.\n<code>@Retryable</code> retries a method if it throws an exception, while the retry operator retries an operation if it fails (e.g., if it produces an error signal).\n<code>@Retryable</code> allows you to specify the maximum number of retries and the backoff policy for retries, while the retry operator allows you to specify the maximum number of retries and a retry predicate to determine when to retry.</p>\n"}],"owner":{"account_id":16372026,"reputation":140,"user_id":11825114,"display_name":"MainS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":862,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74938052,"answer_count":2,"score":1,"last_activity_date":1672216912,"creation_date":1672173066,"question_id":74933877,"body_markdown":"Could somebody help with understanding the difference between using `@Retryable` on metod which contains WebFlux client call and retries that are supported by WebFlux itself (e.g. `retryWhen`)?","title":"Spring @Retryable vs WebFlux retry","body":"<p>Could somebody help with understanding the difference between using <code>@Retryable</code> on metod which contains WebFlux client call and retries that are supported by WebFlux itself (e.g. <code>retryWhen</code>)?</p>\n"},{"tags":["java","android","appium"],"answers":[{"tags":[],"owner":{"account_id":10520627,"reputation":196,"user_id":7753300,"display_name":"bsk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1517419012,"creation_date":1517419012,"answer_id":48547850,"question_id":48539936,"body_markdown":"You have got the class name wrong in the xpath.\r\n\r\nIt should be the following based on what I see on uiautomatorviewer\r\n\r\n    By.xpath(&quot;//android.widget.TextView[@text=&#39;&quot;+songname+&quot;&#39;]&quot;);","title":"Appium Android How to tap using the TEXT value","body":"<p>You have got the class name wrong in the xpath.</p>\n\n<p>It should be the following based on what I see on uiautomatorviewer</p>\n\n<pre><code>By.xpath(\"//android.widget.TextView[@text='\"+songname+\"']\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4537068,"reputation":548,"user_id":3685973,"display_name":"barbudito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517474695,"creation_date":1517474695,"answer_id":48558543,"question_id":48539936,"body_markdown":"If @bsk answer is not working. It might be because of a new line break...\r\n\r\nCould you try this to verify?\r\n\r\n    By.xpath(&quot;//android.widget.TextView[contains(@text, &#39;Ishq De Fanniyar (Female)&#39;)]&quot;);\r\n\r\nAlso is not a bad practice to use @resource-id too...\r\n\r\n    By.xpath(&quot;//android.widget.TextView[@resource-id=&#39;com.xefyr.ridez:id/tv_song_title&#39; and contains(@text, &#39;Ishq De Fanniyar (Female)&#39;)]&quot;);","title":"Appium Android How to tap using the TEXT value","body":"<p>If @bsk answer is not working. It might be because of a new line break...</p>\n\n<p>Could you try this to verify?</p>\n\n<pre><code>By.xpath(\"//android.widget.TextView[contains(@text, 'Ishq De Fanniyar (Female)')]\");\n</code></pre>\n\n<p>Also is not a bad practice to use @resource-id too...</p>\n\n<pre><code>By.xpath(\"//android.widget.TextView[@resource-id='com.xefyr.ridez:id/tv_song_title' and contains(@text, 'Ishq De Fanniyar (Female)')]\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6936586,"reputation":133,"user_id":5324295,"accept_rate":67,"display_name":"Varun Bali"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1518419239,"creation_date":1518419239,"answer_id":48741107,"question_id":48539936,"body_markdown":"Found the solution. I had to write the following code in my test:\r\n\r\n    capabilities.setCapability(MobileCapabilityType.AUTOMATION_NAME, AutomationName.ANDROID_UIAUTOMATOR2);\r\n\r\nNow I can use the TEXT value by writing that song name in the XPath like this:\r\n\r\n    By.xpath(&quot;//*[@text=&#39;&quot; + element + &quot;&#39;]&quot;);\r\n\r\nHere element is the text value shown in UIAutomatiorViewer.","title":"Appium Android How to tap using the TEXT value","body":"<p>Found the solution. I had to write the following code in my test:</p>\n\n<pre><code>capabilities.setCapability(MobileCapabilityType.AUTOMATION_NAME, AutomationName.ANDROID_UIAUTOMATOR2);\n</code></pre>\n\n<p>Now I can use the TEXT value by writing that song name in the XPath like this:</p>\n\n<pre><code>By.xpath(\"//*[@text='\" + element + \"']\");\n</code></pre>\n\n<p>Here element is the text value shown in UIAutomatiorViewer.</p>\n"},{"tags":[],"owner":{"account_id":18470358,"reputation":57,"user_id":13455451,"display_name":"Prajeeth Anand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607088671,"creation_date":1588934155,"answer_id":61677178,"question_id":48539936,"body_markdown":"    There is no need to using custom xpath for this.\r\n    First you have to take all the elements with that resource ID and click on required element if it contains the text on which you want to click.\r\n    You can use the below code.\r\n    \r\n        List&lt;WebElement&gt; elements = driver.findElements(By.id(&quot;resource-id&quot;));\r\n        For(WebElement element:elements)\r\n        {\r\n            if(element.getText().equals(&quot;textProperty&quot;))\r\n            {\r\n                element.click();\r\n                break;\r\n            }\r\n        }","title":"Appium Android How to tap using the TEXT value","body":"<pre><code>There is no need to using custom xpath for this.\nFirst you have to take all the elements with that resource ID and click on required element if it contains the text on which you want to click.\nYou can use the below code.\n\n    List&lt;WebElement&gt; elements = driver.findElements(By.id(&quot;resource-id&quot;));\n    For(WebElement element:elements)\n    {\n        if(element.getText().equals(&quot;textProperty&quot;))\n        {\n            element.click();\n            break;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10542113,"reputation":56,"user_id":7767761,"display_name":"Doğa&#231;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672216167,"creation_date":1672214548,"answer_id":74937714,"question_id":48539936,"body_markdown":"In xPath 2 if you use Appium inspector with python you can use \r\n\r\n    //*[contains(@text, &#39;Song Name&#39;)]\r\n\r\nthat will only search for the text that contains the song name and it doesn&#39;t have to be exact same value.\r\nexample : \r\n\r\n    els1 = driver.find_elements(by=AppiumBy.XPATH, value=&quot;//*[contains(@text, &#39;Song Name&#39; )]&quot;)\r\n\r\nif you want to use for the exact text value you can use \r\n\r\n    //*[@text= &#39;Song Name&#39;]&quot;\r\n\r\n\r\n","title":"Appium Android How to tap using the TEXT value","body":"<p>In xPath 2 if you use Appium inspector with python you can use</p>\n<pre><code>//*[contains(@text, 'Song Name')]\n</code></pre>\n<p>that will only search for the text that contains the song name and it doesn't have to be exact same value.\nexample :</p>\n<pre><code>els1 = driver.find_elements(by=AppiumBy.XPATH, value=&quot;//*[contains(@text, 'Song Name' )]&quot;)\n</code></pre>\n<p>if you want to use for the exact text value you can use</p>\n<pre><code>//*[@text= 'Song Name']&quot;\n</code></pre>\n"}],"owner":{"account_id":6936586,"reputation":133,"user_id":5324295,"accept_rate":67,"display_name":"Varun Bali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19671,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48741107,"answer_count":5,"score":4,"last_activity_date":1672216167,"creation_date":1517394606,"question_id":48539936,"body_markdown":"I want to play a song by making Appium tap the song name. Is there a code which can allow me to tap any element by using the TEXT field? I cannot use the resource id field here as there will be multiple songs later on. I tried using `By.xpath(&quot;//android.widget.EditText[@text=&#39;&quot;+song name+&quot;&#39;]&quot;);` but that did not work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ej6DI.jpg","title":"Appium Android How to tap using the TEXT value","body":"<p>I want to play a song by making Appium tap the song name. Is there a code which can allow me to tap any element by using the TEXT field? I cannot use the resource id field here as there will be multiple songs later on. I tried using <code>By.xpath(\"//android.widget.EditText[@text='\"+song name+\"']\");</code> but that did not work.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ej6DI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ej6DI.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":19579860,"reputation":53,"user_id":14329164,"display_name":"mason"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1672214884,"creation_date":1672214884,"answer_id":74937762,"question_id":74925975,"body_markdown":"I have solved the problem by myself, but still with some confusion.\r\n\r\n## Solution\r\n1. Close the vscode windows.\r\n2. Install openjdk-17-source\r\n```\r\nsudo apt install openjdk-17-source\r\n```\r\n3. Open the vscode windows. Wait vscode to load your java project.\r\n4. Be sure to configure java runtime to openjdk-17\r\n[screenshot][1]\r\n5. Then &quot;Ctrl click&quot; can navigate you to the source code of openjdk-17\r\n\r\nSimilarly, we can install openjdk-11-source and openjdk-8-source to enable Ctrl click to navigate to the source code of JDK 11 and JDK 8 when java runtime is configured to 11 or 8.\r\n```\r\nsudo apt install openjdk-11-source\r\n```\r\n\r\n## Root cause\r\nBefore installing `openjdk-17-source`, `/usr/lib/jvm/java-17-openjdk-amd64/lib/src.zip` is a broken symbolic link, which doesn&#39;t point to a valid src.zip. (I didn&#39;t notice it at the first time because when using `ls` command in Ubuntu terminal, archive files will be displayed in red font, and broken links will be displayed in red font with black background. There are nearly impossible to notice the difference when a user have a dark terminal background...)\r\n\r\nAfter installing `openjdk-17-source`, `/usr/lib/jvm/java-17-openjdk-amd64/lib/src.zip` is a valid symbolic link, which points to `../../openjdk-17/src.zip`. And `../../openjdk-17/src.zip` point to `lib/src.zip`, which is the real archive file `src.zip`.\r\n\r\n## Some confusion\r\nI found that whether `sources` field exists or not in `settings.json` has nothing to do with source code navigation.\r\nSo we don&#39;t need `sources` field in `settings.json`, like\r\n```\r\n&quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64&quot;,\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-8-openjdk-amd64&quot;,\r\n            &quot;default&quot;: true\r\n        }\r\n    ],\r\n```\r\nSo what&#39;s the usage of `sources` field?\r\n\r\n## Reference\r\n- [Attach JDK source code][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6NdbE.png\r\n  [2]: https://github.com/redhat-developer/vscode-java/issues/689","title":"Navigate to JDK source code in vscode (Ctrl click)","body":"<p>I have solved the problem by myself, but still with some confusion.</p>\n<h2>Solution</h2>\n<ol>\n<li>Close the vscode windows.</li>\n<li>Install openjdk-17-source</li>\n</ol>\n<pre><code>sudo apt install openjdk-17-source\n</code></pre>\n<ol start=\"3\">\n<li>Open the vscode windows. Wait vscode to load your java project.</li>\n<li>Be sure to configure java runtime to openjdk-17\n<a href=\"https://i.stack.imgur.com/6NdbE.png\" rel=\"nofollow noreferrer\">screenshot</a></li>\n<li>Then &quot;Ctrl click&quot; can navigate you to the source code of openjdk-17</li>\n</ol>\n<p>Similarly, we can install openjdk-11-source and openjdk-8-source to enable Ctrl click to navigate to the source code of JDK 11 and JDK 8 when java runtime is configured to 11 or 8.</p>\n<pre><code>sudo apt install openjdk-11-source\n</code></pre>\n<h2>Root cause</h2>\n<p>Before installing <code>openjdk-17-source</code>, <code>/usr/lib/jvm/java-17-openjdk-amd64/lib/src.zip</code> is a broken symbolic link, which doesn't point to a valid src.zip. (I didn't notice it at the first time because when using <code>ls</code> command in Ubuntu terminal, archive files will be displayed in red font, and broken links will be displayed in red font with black background. There are nearly impossible to notice the difference when a user have a dark terminal background...)</p>\n<p>After installing <code>openjdk-17-source</code>, <code>/usr/lib/jvm/java-17-openjdk-amd64/lib/src.zip</code> is a valid symbolic link, which points to <code>../../openjdk-17/src.zip</code>. And <code>../../openjdk-17/src.zip</code> point to <code>lib/src.zip</code>, which is the real archive file <code>src.zip</code>.</p>\n<h2>Some confusion</h2>\n<p>I found that whether <code>sources</code> field exists or not in <code>settings.json</code> has nothing to do with source code navigation.\nSo we don't need <code>sources</code> field in <code>settings.json</code>, like</p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n        {\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64&quot;,\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-8-openjdk-amd64&quot;,\n            &quot;default&quot;: true\n        }\n    ],\n</code></pre>\n<p>So what's the usage of <code>sources</code> field?</p>\n<h2>Reference</h2>\n<ul>\n<li><a href=\"https://github.com/redhat-developer/vscode-java/issues/689\" rel=\"nofollow noreferrer\">Attach JDK source code</a></li>\n</ul>\n"}],"owner":{"account_id":19579860,"reputation":53,"user_id":14329164,"display_name":"mason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74937762,"answer_count":1,"score":2,"last_activity_date":1672214884,"creation_date":1672119162,"question_id":74925975,"body_markdown":"## Problem description\r\n\r\nI write java code in VScode. When I holds Ctrl key and clicks a JDK built-in class or method, it seems that it will navigate to the source code of that class or method. But I found that &quot;source code&quot; is actually generated by Fernflower decompiler (I have no idea what it is), not the real source code.\r\n\r\n(But if I Ctrl click on user class and method, it will actually navigate to the real source code)\r\n\r\nFor example,\r\nwhen I hold the Ctrl key and click on the `ArrayList` in the following screenshot,\r\n\r\n[Java code image](https://i.stack.imgur.com/7XRpBl.png)\r\n\r\nit will navigate to\r\n\r\n[result image](https://i.stack.imgur.com/s4Slwl.png)\r\n\r\nshowing `// Source code is unavailable, and was generated by the Fernflower decompiler.`\r\n\r\nHow can I configure VScode and JDK to make &quot;ctrl click&quot; navigate to the real JDK source code?\r\n\r\n## More information\r\n\r\n- OS: Ubuntu 20.04\r\n- VScode version: 1.74.1\r\n- Installed extension:\r\n  - Extension Pack for Java (v0.25.7)\r\n\r\n  - Gradle for Java (v3.12.6)\r\n- settings.json\r\n\r\n```\r\n&quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64&quot;,\r\n            &quot;default&quot;: true\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-8-openjdk-amd64&quot;\r\n        }\r\n    ],\r\n```\r\n\r\n## What I have tried\r\n\r\n### See related questions\r\n\r\nI see other questions with similar title\r\n\r\n#### a. [How to debug JDK source code and add comments in vscode](https://stackoverflow.com/questions/66148664/how-to-debug-jdk-source-code-and-add-comments-in-vscode)\r\n\r\nI can&#39;t even understand what OP want to ask. And the answer to that question is on C/C++ level, not on Java level.\r\n\r\n#### b. [VSCode Ctrl + Click](https://stackoverflow.com/questions/48746485/vscode-ctrl-click)\r\n\r\nThe OP cannot use ctrl click to navigate. But I can, just not to the real source code.\r\n\r\n### Add `sources` in settings.json\r\n\r\nI found the VScode document [Configure Runtime for Projects](https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects)\r\n\r\nand the example `setting.json`\r\n\r\n```\r\n&quot;java.configuration.runtimes&quot;: [\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\r\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\r\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\r\n    &quot;default&quot;:  true\r\n   },\r\n   {\r\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\r\n   },\r\n   {\r\n    &quot;name&quot;: &quot;JavaSE-13&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-13&quot;\r\n   }\r\n]\r\n```\r\n\r\nAnd I guess the  `sources` might have something to do with the problem (although the document doesn&#39;t mention what `sources` does). So I imitate it and add the `sources` pointing the path to `src.zip`\r\n\r\n```\r\n&quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64&quot;,\r\n            &quot;default&quot;: true,\r\n            &quot;sources&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64/lib/src.zip&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-8-openjdk-amd64&quot;\r\n        }\r\n    ],\r\n```\r\n\r\nBut it has no effect.\r\n\r\n### Disable Java Decompiler\r\n\r\nI google &quot;vscode Fernflower decompiler&quot;, and most result has somethings to do with the extension &quot;Java Decompiler&quot;. I have disabled it, and nothing helps.","title":"Navigate to JDK source code in vscode (Ctrl click)","body":"<h2>Problem description</h2>\n<p>I write java code in VScode. When I holds Ctrl key and clicks a JDK built-in class or method, it seems that it will navigate to the source code of that class or method. But I found that &quot;source code&quot; is actually generated by Fernflower decompiler (I have no idea what it is), not the real source code.</p>\n<p>(But if I Ctrl click on user class and method, it will actually navigate to the real source code)</p>\n<p>For example,\nwhen I hold the Ctrl key and click on the <code>ArrayList</code> in the following screenshot,</p>\n<p><a href=\"https://i.stack.imgur.com/7XRpBl.png\" rel=\"nofollow noreferrer\">Java code image</a></p>\n<p>it will navigate to</p>\n<p><a href=\"https://i.stack.imgur.com/s4Slwl.png\" rel=\"nofollow noreferrer\">result image</a></p>\n<p>showing <code>// Source code is unavailable, and was generated by the Fernflower decompiler.</code></p>\n<p>How can I configure VScode and JDK to make &quot;ctrl click&quot; navigate to the real JDK source code?</p>\n<h2>More information</h2>\n<ul>\n<li>OS: Ubuntu 20.04</li>\n<li>VScode version: 1.74.1</li>\n<li>Installed extension:\n<ul>\n<li><p>Extension Pack for Java (v0.25.7)</p>\n</li>\n<li><p>Gradle for Java (v3.12.6)</p>\n</li>\n</ul>\n</li>\n<li>settings.json</li>\n</ul>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n        {\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64&quot;,\n            &quot;default&quot;: true\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-8-openjdk-amd64&quot;\n        }\n    ],\n</code></pre>\n<h2>What I have tried</h2>\n<h3>See related questions</h3>\n<p>I see other questions with similar title</p>\n<h4>a. <a href=\"https://stackoverflow.com/questions/66148664/how-to-debug-jdk-source-code-and-add-comments-in-vscode\">How to debug JDK source code and add comments in vscode</a></h4>\n<p>I can't even understand what OP want to ask. And the answer to that question is on C/C++ level, not on Java level.</p>\n<h4>b. <a href=\"https://stackoverflow.com/questions/48746485/vscode-ctrl-click\">VSCode Ctrl + Click</a></h4>\n<p>The OP cannot use ctrl click to navigate. But I can, just not to the real source code.</p>\n<h3>Add <code>sources</code> in settings.json</h3>\n<p>I found the VScode document <a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects\" rel=\"nofollow noreferrer\">Configure Runtime for Projects</a></p>\n<p>and the example <code>setting.json</code></p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n  {\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\n  },\n  {\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\n    &quot;default&quot;:  true\n   },\n   {\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\n   },\n   {\n    &quot;name&quot;: &quot;JavaSE-13&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-13&quot;\n   }\n]\n</code></pre>\n<p>And I guess the  <code>sources</code> might have something to do with the problem (although the document doesn't mention what <code>sources</code> does). So I imitate it and add the <code>sources</code> pointing the path to <code>src.zip</code></p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n        {\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64&quot;,\n            &quot;default&quot;: true,\n            &quot;sources&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64/lib/src.zip&quot;\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-8-openjdk-amd64&quot;\n        }\n    ],\n</code></pre>\n<p>But it has no effect.</p>\n<h3>Disable Java Decompiler</h3>\n<p>I google &quot;vscode Fernflower decompiler&quot;, and most result has somethings to do with the extension &quot;Java Decompiler&quot;. I have disabled it, and nothing helps.</p>\n"},{"tags":["java","php","android","retrofit"],"comments":[{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1672206703,"post_id":74936676,"comment_id":132241117,"body_markdown":"Your response json contains array which doesn&#39;t match your data object class so please make sure that you have created correct data class. Or else try removing array from your json response and just make that to be json object","body":"Your response json contains array which doesn&#39;t match your data object class so please make sure that you have created correct data class. Or else try removing array from your json response and just make that to be json object"},{"owner":{"account_id":27360968,"reputation":3,"user_id":20868586,"display_name":"Farrasta K S"},"score":0,"creation_date":1672207198,"post_id":74936676,"comment_id":132241187,"body_markdown":"Hi bro thanks for your advice. But, would u show me how to do that ? or could u send me a reference to solve my problem ? cauze i get stuck right now.","body":"Hi bro thanks for your advice. But, would u show me how to do that ? or could u send me a reference to solve my problem ? cauze i get stuck right now."}],"answers":[{"tags":[],"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672214517,"creation_date":1672208078,"answer_id":74936857,"question_id":74936676,"body_markdown":"Make this change in your data class :\r\n\r\n        package com.example.crudoracle.Model;\r\n    \r\n    import javax.annotation.Generated;\r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    @Generated(&quot;jsonschema2pojo&quot;)\r\n    public class DataMaster {\r\n    \r\n    @SerializedName(&quot;NAMA&quot;)\r\n    @Expose\r\n    private String nama;\r\n    \r\n    public String getNama() {\r\n    return nama;\r\n    }\r\n    \r\n    public void setNama(String nama) {\r\n    this.nama = nama;\r\n    }\r\n    \r\n    }\r\n\r\n\r\nAlso make this changes in onClick of Get button : \r\n\r\n    btnGet.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            NikKry = etNik.getText().toString();\r\n            getNama();\r\n        }\r\n    });\r\n    private void getNama(){\r\n        APIRequestData armNama = RetroMaster.konekRetrofit().create(APIRequestData.class);\r\n        Call&lt;DataMaster&gt; tampilNama = armNama.ardGetNama(NikKry);\r\n    \r\n        tampilNama.enqueue(new Callback&lt;List&lt;DataMaster&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;DataMaster&gt;&gt; call, Response&lt;List&lt;DataMaster&gt;&gt; response) {\r\n                if (response.isSuccessful()){\r\n                    etNama.setText(response.body()[0].getNAMA());\r\n                }\r\n            }\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;DataMaster&gt;&gt; call, Throwable t) {\r\n                Toast.makeText(TambahActivity.this, &quot;Gagal &quot;+t.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n**********\r\n\r\nAlso make change in this : \r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;getnama.php&quot;)\r\n    Call&lt;List&lt;DataMaster&gt;&gt; ardGetNama(\r\n            @Field(&quot;NIK&quot;) String NIK\r\n    );","title":"I am newbie in Android Studio. I have a task how to display the name automatically when the id / nik field is filled based on data from the database","body":"<p>Make this change in your data class :</p>\n<pre><code>    package com.example.crudoracle.Model;\n\nimport javax.annotation.Generated;\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\n@Generated(&quot;jsonschema2pojo&quot;)\npublic class DataMaster {\n\n@SerializedName(&quot;NAMA&quot;)\n@Expose\nprivate String nama;\n\npublic String getNama() {\nreturn nama;\n}\n\npublic void setNama(String nama) {\nthis.nama = nama;\n}\n\n}\n</code></pre>\n<p>Also make this changes in onClick of Get button :</p>\n<pre><code>btnGet.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        NikKry = etNik.getText().toString();\n        getNama();\n    }\n});\nprivate void getNama(){\n    APIRequestData armNama = RetroMaster.konekRetrofit().create(APIRequestData.class);\n    Call&lt;DataMaster&gt; tampilNama = armNama.ardGetNama(NikKry);\n\n    tampilNama.enqueue(new Callback&lt;List&lt;DataMaster&gt;&gt;() {\n        @Override\n        public void onResponse(Call&lt;List&lt;DataMaster&gt;&gt; call, Response&lt;List&lt;DataMaster&gt;&gt; response) {\n            if (response.isSuccessful()){\n                etNama.setText(response.body()[0].getNAMA());\n            }\n        }\n        @Override\n        public void onFailure(Call&lt;List&lt;DataMaster&gt;&gt; call, Throwable t) {\n            Toast.makeText(TambahActivity.this, &quot;Gagal &quot;+t.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n<hr />\n<p>Also make change in this :</p>\n<pre><code>@FormUrlEncoded\n@POST(&quot;getnama.php&quot;)\nCall&lt;List&lt;DataMaster&gt;&gt; ardGetNama(\n        @Field(&quot;NIK&quot;) String NIK\n);\n</code></pre>\n"}],"owner":{"account_id":27360968,"reputation":3,"user_id":20868586,"display_name":"Farrasta K S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74936857,"answer_count":1,"score":-1,"last_activity_date":1672214517,"creation_date":1672206472,"question_id":74936676,"body_markdown":"At this time I&#39;m having trouble writing java code. The concept in this program is when I fill in the NIK field and press the get button, the name (FIELD NAME) will appear automatically based on the data from database\r\n\r\nDatabase Structure \r\n\r\n|   NIK    |   NAMA   |\r\n| -------- | -------- |\r\n|  96296   | Farrasta |\r\n|  94878   |  Alfian  |\r\n\r\n[Application View]\r\n(https://i.stack.imgur.com/x06Vy.png)\r\n\r\nError when i click get button\r\n```\r\njava.lang.illegalStateException : Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $\r\n```    \r\nGet Button\r\n```\r\nbtnGet.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n        NikKry = etNik.getText().toString();\r\n        getNama();\r\n    }\r\n});\r\nprivate void getNama(){\r\n    APIRequestData armNama = RetroMaster.konekRetrofit().create(APIRequestData.class);\r\n    Call&lt;DataMaster&gt; tampilNama = armNama.ardGetNama(NikKry);\r\n\r\n    tampilNama.enqueue(new Callback&lt;DataMaster&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;DataMaster&gt; call, Response&lt;DataMaster&gt; response) {\r\n            if (response.isSuccessful()){\r\n                etNama.setText(response.body().getNAMA());\r\n            }\r\n        }\r\n        @Override\r\n        public void onFailure(Call&lt;DataMaster&gt; call, Throwable t) {\r\n            Toast.makeText(TambahActivity.this, &quot;Gagal &quot;+t.getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n}\r\n```\r\nData Master\r\n```\r\npackage com.example.crudoracle.Model;\r\npublic class DataMaster {\r\n    private String NIK;\r\n    private String NAMA;\r\n    \r\n    public String getNIK() {\r\n\r\n        return NIK;\r\n    }\r\n    public void setNIK(String NIK) {\r\n\r\n        this.NIK = NIK;\r\n    }\r\n    public String getNAMA() {\r\n\r\n        return NAMA;\r\n    }\r\n    public void setNAMA(String NAMA) {\r\n\r\n        this.NAMA = NAMA;\r\n    }\r\n}\r\n```\r\nAPI request\r\n```\r\n@FormUrlEncoded\r\n@POST(&quot;getnama.php&quot;)\r\nCall&lt;DataMaster&gt; ardGetNama(\r\n        @Field(&quot;NIK&quot;) String NIK\r\n);\r\n\r\n```\r\nPhp file\r\n```\r\n&lt;?php\r\ninclude (&quot;koneksi.php&quot;);\r\n    $NIK = $_POST[&#39;NIK&#39;];\r\n    $query = &quot;SELECT NAMA FROM MASTER_KRY WHERE NIK = &#39;$NIK&#39;&quot;;\r\n    $eksekusi = oci_parse($conn, $query);\r\n    $cek = oci_execute($eksekusi);\r\n        $response = array();\r\n        while($ambil = oci_fetch_object($eksekusi)){\r\n            $F[&quot;NAMA&quot;] = $ambil-&gt;NAMA;\r\n            array_push($response, $F);\r\n        }\r\necho json_encode($response);\r\noci_close($conn);\r\n?&gt;\r\n```\r\nPostman response\r\n```\r\n[{&quot;NAMA&quot;:&quot;Alfian U&quot;}]\r\n","title":"I am newbie in Android Studio. I have a task how to display the name automatically when the id / nik field is filled based on data from the database","body":"<p>At this time I'm having trouble writing java code. The concept in this program is when I fill in the NIK field and press the get button, the name (FIELD NAME) will appear automatically based on the data from database</p>\n<p>Database Structure</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>NIK</th>\n<th>NAMA</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>96296</td>\n<td>Farrasta</td>\n</tr>\n<tr>\n<td>94878</td>\n<td>Alfian</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>[Application View]\n(<a href=\"https://i.stack.imgur.com/x06Vy.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/x06Vy.png</a>)</p>\n<p>Error when i click get button</p>\n<pre><code>java.lang.illegalStateException : Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $\n</code></pre>\n<p>Get Button</p>\n<pre><code>btnGet.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        NikKry = etNik.getText().toString();\n        getNama();\n    }\n});\nprivate void getNama(){\n    APIRequestData armNama = RetroMaster.konekRetrofit().create(APIRequestData.class);\n    Call&lt;DataMaster&gt; tampilNama = armNama.ardGetNama(NikKry);\n\n    tampilNama.enqueue(new Callback&lt;DataMaster&gt;() {\n        @Override\n        public void onResponse(Call&lt;DataMaster&gt; call, Response&lt;DataMaster&gt; response) {\n            if (response.isSuccessful()){\n                etNama.setText(response.body().getNAMA());\n            }\n        }\n        @Override\n        public void onFailure(Call&lt;DataMaster&gt; call, Throwable t) {\n            Toast.makeText(TambahActivity.this, &quot;Gagal &quot;+t.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n<p>Data Master</p>\n<pre><code>package com.example.crudoracle.Model;\npublic class DataMaster {\n    private String NIK;\n    private String NAMA;\n    \n    public String getNIK() {\n\n        return NIK;\n    }\n    public void setNIK(String NIK) {\n\n        this.NIK = NIK;\n    }\n    public String getNAMA() {\n\n        return NAMA;\n    }\n    public void setNAMA(String NAMA) {\n\n        this.NAMA = NAMA;\n    }\n}\n</code></pre>\n<p>API request</p>\n<pre><code>@FormUrlEncoded\n@POST(&quot;getnama.php&quot;)\nCall&lt;DataMaster&gt; ardGetNama(\n        @Field(&quot;NIK&quot;) String NIK\n);\n\n</code></pre>\n<p>Php file</p>\n<pre><code>&lt;?php\ninclude (&quot;koneksi.php&quot;);\n    $NIK = $_POST['NIK'];\n    $query = &quot;SELECT NAMA FROM MASTER_KRY WHERE NIK = '$NIK'&quot;;\n    $eksekusi = oci_parse($conn, $query);\n    $cek = oci_execute($eksekusi);\n        $response = array();\n        while($ambil = oci_fetch_object($eksekusi)){\n            $F[&quot;NAMA&quot;] = $ambil-&gt;NAMA;\n            array_push($response, $F);\n        }\necho json_encode($response);\noci_close($conn);\n?&gt;\n</code></pre>\n<p>Postman response</p>\n<pre><code>[{&quot;NAMA&quot;:&quot;Alfian U&quot;}]\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"score":0,"creation_date":1672197017,"post_id":74935768,"comment_id":132240038,"body_markdown":"What happens when you switch the order of the two @PropertySource annotations?","body":"What happens when you switch the order of the two @PropertySource annotations?"},{"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"score":1,"creation_date":1672257776,"post_id":74935768,"comment_id":132254327,"body_markdown":"When I changed the order and listed `file1.properties` last, then that definition was used.","body":"When I changed the order and listed <code>file1.properties</code> last, then that definition was used."}],"answers":[{"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672199106,"creation_date":1672199106,"answer_id":74936055,"question_id":74935768,"body_markdown":"Spring will always read the files in the order they were listed. This is because of the nature of `@Repeatable` annotations, and Spring doesn&#39;t mess with this. I.e., multiple of the same annotation is really a repeatable annotation. In this case, [PropertySources](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySources.html).\r\n\r\nSo, in your example, values in `file1.properties` will override `datasource.properties` and values in `file2.properties` will override both `datasource.properties` and `file1.properties`.","title":"How does Spring pick the property value to use if a property is defined in multiple property files?","body":"<p>Spring will always read the files in the order they were listed. This is because of the nature of <code>@Repeatable</code> annotations, and Spring doesn't mess with this. I.e., multiple of the same annotation is really a repeatable annotation. In this case, <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySources.html\" rel=\"nofollow noreferrer\">PropertySources</a>.</p>\n<p>So, in your example, values in <code>file1.properties</code> will override <code>datasource.properties</code> and values in <code>file2.properties</code> will override both <code>datasource.properties</code> and <code>file1.properties</code>.</p>\n"},{"tags":[],"owner":{"account_id":16623452,"reputation":902,"user_id":12013107,"display_name":"Saurabh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672199403,"creation_date":1672199403,"answer_id":74936075,"question_id":74935768,"body_markdown":"You can refer [this][1] Spring boot documentation to know all the possible ways and order to load property. In your case if you use multiple @[PropertySource][2] as mentioned in document \r\n\r\n&gt; In cases where a given property key exists in more than one\r\n&gt; .properties file, the last @PropertySource annotation processed will\r\n&gt; &#39;win&#39; and override any previous key with the same name.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html","title":"How does Spring pick the property value to use if a property is defined in multiple property files?","body":"<p>You can refer <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">this</a> Spring boot documentation to know all the possible ways and order to load property. In your case if you use multiple @<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html\" rel=\"nofollow noreferrer\">PropertySource</a> as mentioned in document</p>\n<blockquote>\n<p>In cases where a given property key exists in more than one\n.properties file, the last @PropertySource annotation processed will\n'win' and override any previous key with the same name.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":20213792,"reputation":71,"user_id":14825255,"display_name":"Anghel Ionut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672214502,"creation_date":1672214502,"answer_id":74937700,"question_id":74935768,"body_markdown":"Spring allows you to define property values in multiple property files and then specify the property files to be loaded via the `spring.config.name` property. By default, Spring will look for property files with the names application.properties and application.yml.\r\n\r\nIf you have defined a property in multiple property files, then Spring will use the value of the property in the property file that was loaded last. This means that property values defined in property files that are loaded later will overwrite property values defined in property files that are loaded earlier.\r\n\r\nFor example, if you have defined the property my.property in both `application.properties` and `application-prod.properties`, and you have specified `spring.config.name=prod` to load the `application-prod.properties` file, then Spring will use the value of my.property as defined in `application-prod.properties`.\r\n\r\nYou can also use the `spring.config.additional-location` property to specify additional directories or files to search for property files. Property values defined in property files in these locations will be loaded after the property files specified by the `spring.config.name property`.","title":"How does Spring pick the property value to use if a property is defined in multiple property files?","body":"<p>Spring allows you to define property values in multiple property files and then specify the property files to be loaded via the <code>spring.config.name</code> property. By default, Spring will look for property files with the names application.properties and application.yml.</p>\n<p>If you have defined a property in multiple property files, then Spring will use the value of the property in the property file that was loaded last. This means that property values defined in property files that are loaded later will overwrite property values defined in property files that are loaded earlier.</p>\n<p>For example, if you have defined the property my.property in both <code>application.properties</code> and <code>application-prod.properties</code>, and you have specified <code>spring.config.name=prod</code> to load the <code>application-prod.properties</code> file, then Spring will use the value of my.property as defined in <code>application-prod.properties</code>.</p>\n<p>You can also use the <code>spring.config.additional-location</code> property to specify additional directories or files to search for property files. Property values defined in property files in these locations will be loaded after the property files specified by the <code>spring.config.name property</code>.</p>\n"}],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1672214502,"creation_date":1672194994,"question_id":74935768,"body_markdown":"**If a property is defined in multiple property files how does Spring decide what the value of the variable should be?**\r\n\r\n## My guess\r\nMy belief based on running some code is that the result is indeterministic.\r\nIf multiple property files define the same property name, then it&#39;s seemingly random as to which property file will be used.\r\n\r\n### How Spring Implements this (my guess)\r\nSpring keeps a list of PropertySources and when a property value is needed it walks the PropertySources one by one until it finds the value of a property.  \r\n\r\nThis is based on some testing I did and this answer:\r\nFrom https://stackoverflow.com/a/74934269/3281336\r\nwhich says:\r\n\r\n&gt; If you want to get a property, the get method of the MutablePropertySources is called which iterates over all PropertySources until it finds that property.\r\n\r\nSince by default, you don&#39;t know what order the list will be in, therefore, you don&#39;t know what value you&#39;ll get (when a property is defined in multiple property files).\r\n\r\n## How I proved this to myself\r\nTo prove to myself how this works, I created two property files and defined the same property name `foo.baz`.  See below:\r\n```\r\n// File: src/main/resources/file1.properties\r\nfoo.baz=Defined in file1.properties\r\n\r\n// File: src/main/resources/file2.properties\r\nfoo.baz=Defined in file2.properties\r\n```\r\n\r\nNext, I created a `@Configuration` class `MyConfig` which reads the two property files `file1.properties` and `file2.properties`.\r\n\r\n```\r\n@PropertySource(&quot;classpath:datasource.properties&quot;)\r\n@PropertySource(&quot;classpath:file1.properties&quot;)\r\n@PropertySource(&quot;classpath:file2.properties&quot;)\r\n@Configuration\r\npublic class MyConfig{\r\n```\r\n\r\nThis class has a bean which will get created when the app starts up, and it will print the value that Spring selected for the property `foo.baz`.\r\nThe code is:\r\n```\r\n    @Bean\r\n    public Object whichProp(@Value(&quot;${foo.bar}&quot;) String fooBar, @Value(&quot;${foo.baz}&quot;) String fooBaz){\r\n        System.out.println(&quot;Looks like foo.bar prop is set to &quot; + fooBar  + &quot;, foo.baz=&quot; + fooBaz);\r\n        return new Object();\r\n    }\r\n```\r\nThe result I got was:\r\n```\r\nLooks like foo.bar prop is set to defined in application.properties, foo.baz=Defined in file2.properties\r\n```\r\n\r\nI also wrote a @Bean to dump/display the Spring Properties List ([based on this answer][1]).\r\n\r\n```\r\n    @Bean\r\n    public Object DisplayPropertiesEnvironment(Environment environment) {\r\n        AbstractEnvironment env = (AbstractEnvironment) environment;\r\n        for (org.springframework.core.env.PropertySource&lt;?&gt; source : env.getPropertySources()) {\r\n            if (source instanceof MapPropertySource) {\r\n                MapPropertySource mapPropertySource = (MapPropertySource) source;\r\n                System.out.println(&quot;Prop: &quot; + source.getName() + &quot;=&quot; + mapPropertySource.getSource());\r\n            }\r\n        }\r\n        return new Object();\r\n    }\r\n```\r\n\r\n### In conclusion\r\nI&#39;ve shared my belief and given the reasons.  Please let me know the answer.\r\nAlso if there is a URL to the Spring documentation that explains how works\r\nplease share it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74934269/3281336","title":"How does Spring pick the property value to use if a property is defined in multiple property files?","body":"<p><strong>If a property is defined in multiple property files how does Spring decide what the value of the variable should be?</strong></p>\n<h2>My guess</h2>\n<p>My belief based on running some code is that the result is indeterministic.\nIf multiple property files define the same property name, then it's seemingly random as to which property file will be used.</p>\n<h3>How Spring Implements this (my guess)</h3>\n<p>Spring keeps a list of PropertySources and when a property value is needed it walks the PropertySources one by one until it finds the value of a property.</p>\n<p>This is based on some testing I did and this answer:\nFrom <a href=\"https://stackoverflow.com/a/74934269/3281336\">https://stackoverflow.com/a/74934269/3281336</a>\nwhich says:</p>\n<blockquote>\n<p>If you want to get a property, the get method of the MutablePropertySources is called which iterates over all PropertySources until it finds that property.</p>\n</blockquote>\n<p>Since by default, you don't know what order the list will be in, therefore, you don't know what value you'll get (when a property is defined in multiple property files).</p>\n<h2>How I proved this to myself</h2>\n<p>To prove to myself how this works, I created two property files and defined the same property name <code>foo.baz</code>.  See below:</p>\n<pre><code>// File: src/main/resources/file1.properties\nfoo.baz=Defined in file1.properties\n\n// File: src/main/resources/file2.properties\nfoo.baz=Defined in file2.properties\n</code></pre>\n<p>Next, I created a <code>@Configuration</code> class <code>MyConfig</code> which reads the two property files <code>file1.properties</code> and <code>file2.properties</code>.</p>\n<pre><code>@PropertySource(&quot;classpath:datasource.properties&quot;)\n@PropertySource(&quot;classpath:file1.properties&quot;)\n@PropertySource(&quot;classpath:file2.properties&quot;)\n@Configuration\npublic class MyConfig{\n</code></pre>\n<p>This class has a bean which will get created when the app starts up, and it will print the value that Spring selected for the property <code>foo.baz</code>.\nThe code is:</p>\n<pre><code>    @Bean\n    public Object whichProp(@Value(&quot;${foo.bar}&quot;) String fooBar, @Value(&quot;${foo.baz}&quot;) String fooBaz){\n        System.out.println(&quot;Looks like foo.bar prop is set to &quot; + fooBar  + &quot;, foo.baz=&quot; + fooBaz);\n        return new Object();\n    }\n</code></pre>\n<p>The result I got was:</p>\n<pre><code>Looks like foo.bar prop is set to defined in application.properties, foo.baz=Defined in file2.properties\n</code></pre>\n<p>I also wrote a @Bean to dump/display the Spring Properties List (<a href=\"https://stackoverflow.com/a/74934269/3281336\">based on this answer</a>).</p>\n<pre><code>    @Bean\n    public Object DisplayPropertiesEnvironment(Environment environment) {\n        AbstractEnvironment env = (AbstractEnvironment) environment;\n        for (org.springframework.core.env.PropertySource&lt;?&gt; source : env.getPropertySources()) {\n            if (source instanceof MapPropertySource) {\n                MapPropertySource mapPropertySource = (MapPropertySource) source;\n                System.out.println(&quot;Prop: &quot; + source.getName() + &quot;=&quot; + mapPropertySource.getSource());\n            }\n        }\n        return new Object();\n    }\n</code></pre>\n<h3>In conclusion</h3>\n<p>I've shared my belief and given the reasons.  Please let me know the answer.\nAlso if there is a URL to the Spring documentation that explains how works\nplease share it.</p>\n"},{"tags":["java","xml","saml-2.0","opensaml"],"owner":{"account_id":4639467,"reputation":133,"user_id":3759750,"accept_rate":0,"display_name":"user3759750"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672214339,"creation_date":1672211754,"question_id":74937302,"body_markdown":"I want to convert following SAML string to Response object. But when I try to unmarshal it, it returns unmarshaller to null. Can anyone help what is wrong here?\r\n\r\nCode:\r\n\r\n    private static XMLObject unmarshallObject(String xmlString) throws Exception {\r\n    \t\t  BasicParserPool parser = new BasicParserPool();\r\n    \t\t  parser.setNamespaceAware(true);\r\n    \t\t  /* Base64URL encoded */\r\n    \t\t  byte bytes[] = xmlString.getBytes(&quot;utf-8&quot;);\r\n    \t\t  if (bytes == null || bytes.length == 0)\r\n    \t\t    throw new Exception(&quot;Invalid assertion encoding&quot;);\r\n    \t\t  Reader reader = new InputStreamReader(new FileInputStream(new File(&quot;assertion.xml&quot;)));\r\n    \t\t  Document doc = parser.parse(reader);\r\n    \t\t  Element samlElement = doc.getDocumentElement();\r\n    \t\t  UnmarshallerFactory unmarshallerFactory = Configuration.getUnmarshallerFactory();\r\n    \t\t  Unmarshaller unmarshaller = unmarshallerFactory.getUnmarshaller(samlElement);\r\n    \t\t  if (unmarshaller == null) {\r\n    \t\t    throw new Exception(&quot;Unsuccessful to unmarshal assertion string&quot;);\r\n    \t\t  }\r\n    \t\t  return unmarshaller.unmarshall(samlElement);\r\n    \t\t}\r\n\r\nSAML File\r\n\r\nhttps://drive.google.com/file/d/1IIEsqWSDBt2W35l2Gx2vaNNxZr2zmx2u/view","title":"SAML 2 Assertion Fail to Unmarshal","body":"<p>I want to convert following SAML string to Response object. But when I try to unmarshal it, it returns unmarshaller to null. Can anyone help what is wrong here?</p>\n<p>Code:</p>\n<pre><code>private static XMLObject unmarshallObject(String xmlString) throws Exception {\n          BasicParserPool parser = new BasicParserPool();\n          parser.setNamespaceAware(true);\n          /* Base64URL encoded */\n          byte bytes[] = xmlString.getBytes(&quot;utf-8&quot;);\n          if (bytes == null || bytes.length == 0)\n            throw new Exception(&quot;Invalid assertion encoding&quot;);\n          Reader reader = new InputStreamReader(new FileInputStream(new File(&quot;assertion.xml&quot;)));\n          Document doc = parser.parse(reader);\n          Element samlElement = doc.getDocumentElement();\n          UnmarshallerFactory unmarshallerFactory = Configuration.getUnmarshallerFactory();\n          Unmarshaller unmarshaller = unmarshallerFactory.getUnmarshaller(samlElement);\n          if (unmarshaller == null) {\n            throw new Exception(&quot;Unsuccessful to unmarshal assertion string&quot;);\n          }\n          return unmarshaller.unmarshall(samlElement);\n        }\n</code></pre>\n<p>SAML File</p>\n<p><a href=\"https://drive.google.com/file/d/1IIEsqWSDBt2W35l2Gx2vaNNxZr2zmx2u/view\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1IIEsqWSDBt2W35l2Gx2vaNNxZr2zmx2u/view</a></p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672173661,"post_id":74933917,"comment_id":132236421,"body_markdown":"I would imagine one overrides the other irretrievably.","body":"I would imagine one overrides the other irretrievably."}],"answers":[{"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672214291,"creation_date":1672176719,"answer_id":74934269,"question_id":74933917,"body_markdown":"Spring provides a [`PropertySources`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/PropertySources.html) interface which is implemented by the `MutablePropertySources` class. This class basically just holds a list of [`PropertySource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/PropertySource.html) instances (e.g. instances of the `PropertiesPropertySource` class - not to be confused with the `@PropertySource` annotation) and provides methods for iterating over these instances. \r\n\r\nIf you look at the [implementation of `MutablePropertySources`](https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/env/MutablePropertySources.java) you can see that there are multiple methods for adding `PropertySource` instances at different positions and relative to other `PropertySource`s in that list. If you want to get the value of a property, you can call the `get` method of a `MutablePropertySources` instance with the name of that property. The `get` method then iterates over all `PropertySource`s in its list and tries to find a property with the given name.\r\n\r\nThen there is the `Environment` interface that is implemented by the abstract class `AbstractEnvironment`. You can use the latter to access the `PropertySources` instance that is used by that environment. \r\n\r\nFor example, for testing purposes, you can do the following to print out all properties and their values that are managed by [`MapPropertySource`s](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/MapPropertySource.html) - a subtype of `PropertySource`.\r\n\r\n```java\r\n@PropertySource(&quot;classpath:file1.properties&quot;)\r\n@PropertySource(&quot;classpath:file2.properties&quot;)\r\n@Configuration\r\npublic class ExampleConfig {\r\n\r\n    @Autowired\r\n    public ExampleConfig(Environment environment) {\r\n        AbstractEnvironment env = (AbstractEnvironment) environment;\r\n        for (org.springframework.core.env.PropertySource&lt;?&gt; source : env.getPropertySources()) {\r\n            if (source instanceof MapPropertySource mapPropertySource) {\r\n                System.out.println(mapPropertySource.getSource());\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou can check out the [`org.springframework.core.env`](https://github.com/spring-projects/spring-framework/tree/4f8516e2c3ca420b1608840ab901bf9df7e4d5f1/spring-core/src/main/java/org/springframework/core/env) package which contains all of these classes.\r\n\r\nSo, to answer your first answer more explicitly: No, Spring does not put all properties into a single map. It puts properties from different locations into different `PropertySource`s which are then added to a `PropertySources` instance.","title":"Does Spring store all properties into a single hashmap?","body":"<p>Spring provides a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/PropertySources.html\" rel=\"nofollow noreferrer\"><code>PropertySources</code></a> interface which is implemented by the <code>MutablePropertySources</code> class. This class basically just holds a list of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/PropertySource.html\" rel=\"nofollow noreferrer\"><code>PropertySource</code></a> instances (e.g. instances of the <code>PropertiesPropertySource</code> class - not to be confused with the <code>@PropertySource</code> annotation) and provides methods for iterating over these instances.</p>\n<p>If you look at the <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/env/MutablePropertySources.java\" rel=\"nofollow noreferrer\">implementation of <code>MutablePropertySources</code></a> you can see that there are multiple methods for adding <code>PropertySource</code> instances at different positions and relative to other <code>PropertySource</code>s in that list. If you want to get the value of a property, you can call the <code>get</code> method of a <code>MutablePropertySources</code> instance with the name of that property. The <code>get</code> method then iterates over all <code>PropertySource</code>s in its list and tries to find a property with the given name.</p>\n<p>Then there is the <code>Environment</code> interface that is implemented by the abstract class <code>AbstractEnvironment</code>. You can use the latter to access the <code>PropertySources</code> instance that is used by that environment.</p>\n<p>For example, for testing purposes, you can do the following to print out all properties and their values that are managed by <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/MapPropertySource.html\" rel=\"nofollow noreferrer\"><code>MapPropertySource</code>s</a> - a subtype of <code>PropertySource</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PropertySource(&quot;classpath:file1.properties&quot;)\n@PropertySource(&quot;classpath:file2.properties&quot;)\n@Configuration\npublic class ExampleConfig {\n\n    @Autowired\n    public ExampleConfig(Environment environment) {\n        AbstractEnvironment env = (AbstractEnvironment) environment;\n        for (org.springframework.core.env.PropertySource&lt;?&gt; source : env.getPropertySources()) {\n            if (source instanceof MapPropertySource mapPropertySource) {\n                System.out.println(mapPropertySource.getSource());\n            }\n        }\n    }\n}\n</code></pre>\n<p>You can check out the <a href=\"https://github.com/spring-projects/spring-framework/tree/4f8516e2c3ca420b1608840ab901bf9df7e4d5f1/spring-core/src/main/java/org/springframework/core/env\" rel=\"nofollow noreferrer\"><code>org.springframework.core.env</code></a> package which contains all of these classes.</p>\n<p>So, to answer your first answer more explicitly: No, Spring does not put all properties into a single map. It puts properties from different locations into different <code>PropertySource</code>s which are then added to a <code>PropertySources</code> instance.</p>\n"}],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74934269,"answer_count":1,"score":0,"last_activity_date":1672214291,"creation_date":1672173358,"question_id":74933917,"body_markdown":"**Does Spring put all properties into the same hashmap/list?**  \r\n**How can I get a list of all of the properties being managed by Spring**\r\n\r\nFor example, if I have two properties files and they define overlapping properties which \r\n```\r\n// FILE: src/main/resources/file1.properties\r\nprop1.color = red\r\nprop1.fill  = green\r\n```\r\n```\r\n// FILE: src/main/resources/file2.properties\r\nprop2.color = purple\r\nprop1.fill  = ORANGE\r\n```\r\n\r\nThe configuration class used to tell Spring to read the two files is something like this:\r\n```\r\n@PropertySource(&quot;classpath:file1.properties&quot;)\r\n@PropertySource(&quot;classpath:file2.properties&quot;)\r\n@Configuration\r\npublic class MyConfig {\r\n}\r\n```\r\n\r\n**My question is Can I get an iterator to access all of the properties defined?** If so how.\r\n\r\n\r\n## Searching for answer\r\nSo far I haven&#39;t found a solution to this question.\r\n\r\nI did an Internet search for &quot;stack overflow Spring properties&quot; and did not found the answer.\r\n\r\nSome SO questions I found are:\r\n- https://stackoverflow.com/questions/63469130/spring-boot-get-all-properties-from-properties-file-and-load-into-hashmap\r\n- https://stackoverflow.com/questions/34080113/spring-boot-application-properties\r\n\r\nBut they didn&#39;t answer my question","title":"Does Spring store all properties into a single hashmap?","body":"<p><strong>Does Spring put all properties into the same hashmap/list?</strong><br />\n<strong>How can I get a list of all of the properties being managed by Spring</strong></p>\n<p>For example, if I have two properties files and they define overlapping properties which</p>\n<pre><code>// FILE: src/main/resources/file1.properties\nprop1.color = red\nprop1.fill  = green\n</code></pre>\n<pre><code>// FILE: src/main/resources/file2.properties\nprop2.color = purple\nprop1.fill  = ORANGE\n</code></pre>\n<p>The configuration class used to tell Spring to read the two files is something like this:</p>\n<pre><code>@PropertySource(&quot;classpath:file1.properties&quot;)\n@PropertySource(&quot;classpath:file2.properties&quot;)\n@Configuration\npublic class MyConfig {\n}\n</code></pre>\n<p><strong>My question is Can I get an iterator to access all of the properties defined?</strong> If so how.</p>\n<h2>Searching for answer</h2>\n<p>So far I haven't found a solution to this question.</p>\n<p>I did an Internet search for &quot;stack overflow Spring properties&quot; and did not found the answer.</p>\n<p>Some SO questions I found are:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/63469130/spring-boot-get-all-properties-from-properties-file-and-load-into-hashmap\">Spring boot get all properties from properties file and load into hashmap</a></li>\n<li><a href=\"https://stackoverflow.com/questions/34080113/spring-boot-application-properties\">Spring Boot application.properties</a></li>\n</ul>\n<p>But they didn't answer my question</p>\n"},{"tags":["java","apache-poi","docx","xwpf"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1672228108,"post_id":74937417,"comment_id":132245835,"body_markdown":"Ask Word to render the Document to a PDF, then query the PDF?","body":"Ask Word to render the Document to a PDF, then query the PDF?"}],"answers":[{"tags":[],"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672214186,"creation_date":1672214186,"answer_id":74937653,"question_id":74937417,"body_markdown":"To get Page Count from `XWPFDocument` (for your outer loop), you can do something like this:\r\n\r\n    XWPFDocument docx = new XWPFDocument(POIXMLDocument.openPackage(YOUR_FILE_PATH));\r\n    \r\n    int numOfPages = docx.getProperties().getExtendedProperties().getUnderlyingProperties().getPages();\r\n\r\nFor your paragraph text,\r\n\r\n    for (XWPFParagraph p : document.getParagraphs()) {\r\n        System.out.println(p.getParagraphText()); // YOUR PARAGRAPH TEXT\r\n    }","title":"How to get content of a page of a .docx file using Apache Poi?","body":"<p>To get Page Count from <code>XWPFDocument</code> (for your outer loop), you can do something like this:</p>\n<pre><code>XWPFDocument docx = new XWPFDocument(POIXMLDocument.openPackage(YOUR_FILE_PATH));\n\nint numOfPages = docx.getProperties().getExtendedProperties().getUnderlyingProperties().getPages();\n</code></pre>\n<p>For your paragraph text,</p>\n<pre><code>for (XWPFParagraph p : document.getParagraphs()) {\n    System.out.println(p.getParagraphText()); // YOUR PARAGRAPH TEXT\n}\n</code></pre>\n"}],"owner":{"account_id":12569632,"reputation":71,"user_id":9144154,"display_name":"Adnan Bin Zahir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672214186,"creation_date":1672212554,"question_id":74937417,"body_markdown":"I&#39;m trying to read .docx files with styling information using Apache Poi which I have done by looping through each XWPFParagraph and working with all the XWPFRun run inside the paragraphs. Now I want to get contents of each pages. So is there a way to get the contents of each pages or is it possible to know in which page a paragraph is currently in?\r\n\r\nThis is a function that takes the absolute path of a docx file and returns an array of strings\r\n```\r\n        FileInputStream fis = new FileInputStream(absolutePath);\r\n\r\n        XWPFDocument document = new XWPFDocument(fis);\r\n\r\n        List&lt;IBodyElement&gt; bodyElements = document.getBodyElements();\r\n\r\n        List&lt;String&gt; textList = new ArrayList&lt;&gt;();\r\n\r\n        /*  I want to add some kind of outer loop here for each page\r\n            and at the end of that loop I want to add a &quot;&lt;hr/&gt;&quot; tag in the textList\r\n        */\r\n        for (IBodyElement bodyElement : bodyElements) {                 // Looping through paragraphs\r\n           if (bodyElement.getElementType() == BodyElementType.PARAGRAPH) {\r\n                XWPFParagraph paragraph = (XWPFParagraph) bodyElement;\r\n                \r\n                String textToAdd = parseParagraph(paragraph); //custom funtion to handle paragraphs\r\n\r\n\r\n                textList.add(textToAdd);\r\n\r\n            } \r\n        }\r\n        document.close();\r\n        return textList.toArray(new String[0]);\r\n```\r\n\r\nAs you can see my goal here is to add a `&lt;hr/&gt;` tag after each page. So, if somehow I can get the page number of a paragraph or loop through pages, I will be able to do that. &lt;br&gt;\r\nPlease kindly mention if you know about any other approach that may help.","title":"How to get content of a page of a .docx file using Apache Poi?","body":"<p>I'm trying to read .docx files with styling information using Apache Poi which I have done by looping through each XWPFParagraph and working with all the XWPFRun run inside the paragraphs. Now I want to get contents of each pages. So is there a way to get the contents of each pages or is it possible to know in which page a paragraph is currently in?</p>\n<p>This is a function that takes the absolute path of a docx file and returns an array of strings</p>\n<pre><code>        FileInputStream fis = new FileInputStream(absolutePath);\n\n        XWPFDocument document = new XWPFDocument(fis);\n\n        List&lt;IBodyElement&gt; bodyElements = document.getBodyElements();\n\n        List&lt;String&gt; textList = new ArrayList&lt;&gt;();\n\n        /*  I want to add some kind of outer loop here for each page\n            and at the end of that loop I want to add a &quot;&lt;hr/&gt;&quot; tag in the textList\n        */\n        for (IBodyElement bodyElement : bodyElements) {                 // Looping through paragraphs\n           if (bodyElement.getElementType() == BodyElementType.PARAGRAPH) {\n                XWPFParagraph paragraph = (XWPFParagraph) bodyElement;\n                \n                String textToAdd = parseParagraph(paragraph); //custom funtion to handle paragraphs\n\n\n                textList.add(textToAdd);\n\n            } \n        }\n        document.close();\n        return textList.toArray(new String[0]);\n</code></pre>\n<p>As you can see my goal here is to add a <code>&lt;hr/&gt;</code> tag after each page. So, if somehow I can get the page number of a paragraph or loop through pages, I will be able to do that. <br>\nPlease kindly mention if you know about any other approach that may help.</p>\n"},{"tags":["java","apache-spark","testing","mockito","spock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1672126878,"post_id":74923254,"comment_id":132224714,"body_markdown":"Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve) next time. Because it is Xmas, I did the leg work for you this once. Thank you.","body":"Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a> next time. Because it is Xmas, I did the leg work for you this once. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672123279,"creation_date":1672108692,"answer_id":74925326,"question_id":74923254,"body_markdown":"If you don&#39;t really care about the intermediate invocations of a builder pattern, i.e. an object that returns itself. I&#39;d suggest to use a `Stub`, which will return itself, if the method return type matches it&#39;s type, or you can use this [declaration][1] `_ &gt;&gt; _` to achieve the same for `Mocks`.\r\n\r\n```groovy\r\ngiven:\r\nThingBuilder builder = Mock() {\r\n  _ &gt;&gt; _\r\n}\r\n\r\nwhen:\r\nThing thing = builder\r\n  .id(&quot;id-42&quot;)\r\n  .name(&quot;spock&quot;)\r\n  .weight(100)\r\n  .build()\r\n\r\nthen:\r\n1 * builder.build() &gt;&gt; new Thing(id: &#39;id-1337&#39;) // &lt;-- only assert the last call you actually care about\r\nthing.id == &#39;id-1337&#39;\r\n```\r\n\r\nTry it in the [Groovy Web Console](https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJxVUcFuwjAMvecrrF5I0RbBmDQJqWjaxHEndkdZkqYRbVKlGQUh_n1umsLoIXWc5_ee7ZaLA9cKnNesa504lJ43qnf-wKQTHTM2KM9FMM4SYprW-QARx2puNdu1SpjSCP4A0N6545kFz21XOt-wn19TS-XZnBBR866DjzGxPfGmrdXAAuoUlJUdPFDChRAAqUrIIgeiYkVGc3wC_LQ5KruO4XdlrE7MkCShgC90e4MD7GGzgX28XEn89dUDA4R4FhNFqmNG0szI59eXLJ9SFmdFsziPe7JXRleBLheLWyoy0XyUCze5JcwnkQkymLOqH51QI9cwQ83lavU2y1M1PqAXKIr7Exl6wW7SdMc2hoZ3wQ_h4PN-MxJjXCyMTmPhe5obTX4QyoPSZxzDFhfjLa-n1BPgTj-jUDFK5f91pwVcrn_YxrqM).\r\n\r\nThat being said, the error would probably go away if you just remove the `as String` cast of the second argument of `option`, or fix it to be `as Boolean` as the error suggests.\r\n\r\n  [1]: https://spockframework.org/spock/docs/2.3/all_in_one.html#_returning_a_default_response","title":"Mock Spark DataFrameReader .option","body":"<p>If you don't really care about the intermediate invocations of a builder pattern, i.e. an object that returns itself. I'd suggest to use a <code>Stub</code>, which will return itself, if the method return type matches it's type, or you can use this <a href=\"https://spockframework.org/spock/docs/2.3/all_in_one.html#_returning_a_default_response\" rel=\"nofollow noreferrer\">declaration</a> <code>_ &gt;&gt; _</code> to achieve the same for <code>Mocks</code>.</p>\n<pre><code>given:\nThingBuilder builder = Mock() {\n  _ &gt;&gt; _\n}\n\nwhen:\nThing thing = builder\n  .id(&quot;id-42&quot;)\n  .name(&quot;spock&quot;)\n  .weight(100)\n  .build()\n\nthen:\n1 * builder.build() &gt;&gt; new Thing(id: 'id-1337') // &lt;-- only assert the last call you actually care about\nthing.id == 'id-1337'\n</code></pre>\n<p>Try it in the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJxVUcFuwjAMvecrrF5I0RbBmDQJqWjaxHEndkdZkqYRbVKlGQUh_n1umsLoIXWc5_ee7ZaLA9cKnNesa504lJ43qnf-wKQTHTM2KM9FMM4SYprW-QARx2puNdu1SpjSCP4A0N6545kFz21XOt-wn19TS-XZnBBR866DjzGxPfGmrdXAAuoUlJUdPFDChRAAqUrIIgeiYkVGc3wC_LQ5KruO4XdlrE7MkCShgC90e4MD7GGzgX28XEn89dUDA4R4FhNFqmNG0szI59eXLJ9SFmdFsziPe7JXRleBLheLWyoy0XyUCze5JcwnkQkymLOqH51QI9cwQ83lavU2y1M1PqAXKIr7Exl6wW7SdMc2hoZ3wQ_h4PN-MxJjXCyMTmPhe5obTX4QyoPSZxzDFhfjLa-n1BPgTj-jUDFK5f91pwVcrn_YxrqM\" rel=\"nofollow noreferrer\">Groovy Web Console</a>.</p>\n<p>That being said, the error would probably go away if you just remove the <code>as String</code> cast of the second argument of <code>option</code>, or fix it to be <code>as Boolean</code> as the error suggests.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672127270,"creation_date":1672127270,"answer_id":74926818,"question_id":74923254,"body_markdown":"I do not know what your problem is, but my guess is that you create the mocks, but then do not inject them into your class under test. If you do that, both your own version as well as Leonard&#39;s suggested improved version with a default response work:\r\n\r\n**Class under test + helper class:**\r\n\r\n```java\r\nclass UnderTest {\r\n  SparkSession spark\r\n  Parameters params\r\n\r\n  DataFrameReader produce() {\r\n    DataFrameReader dataFrameReader = spark.read()\r\n\r\n    dataFrameReader = &quot;csv&quot;.equalsIgnoreCase(params.getReadFileType()) ?\r\n      dataFrameReader\r\n        .option(&quot;sep&quot;, params.getDelimiter())\r\n        .option(&quot;header&quot;, params.isHeader())\r\n      : dataFrameReader\r\n  }\r\n}\r\n```\r\n\r\n```java\r\nclass Parameters {\r\n  String readFileType\r\n  String delimiter\r\n  boolean header\r\n}\r\n```\r\n\r\n**Spock specification:**\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q74923254\r\n\r\nimport org.apache.spark.sql.DataFrameReader\r\nimport org.apache.spark.sql.SparkSession\r\nimport org.spockframework.mock.MockUtil\r\nimport spock.lang.Specification\r\n\r\nclass DataFrameReaderTest extends Specification {\r\n  def &#39;read #readFileType data&#39;() {\r\n    given:\r\n    DataFrameReader dfReaderLoader = Mock(DataFrameReader)\r\n    DataFrameReader dfReaderOptionString = Mock(DataFrameReader)\r\n    DataFrameReader dfReaderOptionBoolean = Mock(DataFrameReader)\r\n\r\n    SparkSession sparkSession = Mock(SparkSession)\r\n    sparkSession.read() &gt;&gt; dfReaderLoader\r\n    dfReaderLoader.option(_ as String, _ as String) &gt;&gt; dfReaderOptionString\r\n    dfReaderOptionString.option(_ as String, _ as Boolean) &gt;&gt; dfReaderOptionBoolean\r\n\r\n    def underTest = new UnderTest(spark: sparkSession, params: parameters)\r\n\r\n    expect:\r\n    underTest.produce().toString().contains(returnedMockName)\r\n\r\n    where:\r\n    readFileType | parameters                                                               | returnedMockName\r\n    &#39;CSV&#39;        | new Parameters(readFileType: readFileType, delimiter: &#39;;&#39;, header: true) | &#39;dfReaderOptionBoolean&#39;\r\n    &#39;XLS&#39;        | new Parameters(readFileType: readFileType)                               | &#39;dfReaderLoader&#39;\r\n  }\r\n\r\n  def &#39;read #readFileType data (improved)&#39;() {\r\n    given:\r\n    SparkSession sparkSession = Mock() {\r\n      read() &gt;&gt; Mock(DataFrameReader) {\r\n        _ &gt;&gt; _\r\n      }\r\n    }\r\n\r\n    def parameters = new Parameters(readFileType: readFileType, delimiter: &#39;;&#39;, header: true)\r\n    def underTest = new UnderTest(spark: sparkSession, params: parameters)\r\n\r\n    expect:\r\n    new MockUtil().isMock(underTest.produce())\r\n\r\n    where:\r\n    readFileType &lt;&lt; [&#39;CSV&#39;, &#39;XLS&#39;]\r\n  }\r\n}\r\n```\r\n\r\nTry it in the [Groovy Web Console](https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJy1VW1P2zAQ_p5fceo-JJU6SxSmaRll00Bsk9iLKEyTpqkyybVEpHGwXco0-O8720nqpIVKY-uH1HYeP3f33EtKnlzxGUKKTCVyMZ_MudIomdL0QtygnOZiya5f7r0a7g5f7AVBNi-F1CDkjPGSJ5d0r-TyiqnrnB1xzY8ln-Mp8hTlo9ixWY1RqUwUPlCVIrmaGpKlIOicduwTPc51ltc4i2E5L2ZEg0k2zRKuDU_w9r3kF1HYtRjb53OyOxmynWG8y3bZTtgPkpwrBR23z1BpwFuNRaqgxQ-_AyClphBKQsIz8zzOcjz7VZKCxBJGfYsBmGU3WMR22aGHdOoWJ8JuR2DCizqo_qNXv5TGnbGWWTF7AsE7IXLkxYMMlsJPFCh_U13zAc6qj2JGJJLl4KATuEW2j5iwbkUT4KS8jW4A3qbF4mvQ4vJfPMxYxb6BsnrjojfZXhR1VYygwCWc1_vIFVcr3gHQhs9V7P6RmklVSuItFZN2RdFwslKKdJFg1GdaOA9pmYhC86xQkUS9kAWmRunPRFdRLS9RomNqFeGdZxWe9ruDrm1rLjwcfwtXGKPH18Zk5DsTt1wbkJR5Ns8IFkP4OhzApdU8Bi0X2CeqcGMaQmf1-8n4b6z2twYZtkvQmLsPtrQ5RDSIJE3HtL-x47e2TH3HZc91x8YWbHBAVUugSbW9D9yzqVEv7aN_lpT_2gGGpx7sVPGZsgJs6IstJb-_Dz9sUQ5clfys9LKJJIXcjG88toquJ4gOV4pVARi73QHaeFVlZm3AdvYjR19NwSpfa5heom56DK8XPFcfZ4WQeMgVRs4NNkN96kVMisCbqg46VE2x1HOvp7Ds1QkxREd1vo2ua2iX_dWFTH2wJytwvMGkJ7OnodXZfaH8fK1Om9Kjo4vqS-QcIL4_ZATBaw).\r\n\r\nThe result should look similar to this in your IDE:\r\n\r\n```none\r\nDataFrameReaderTest ✔\r\n├─ read #readFileType data ✔\r\n│  ├─ read CSV data ✔\r\n│  └─ read XLS data ✔\r\n└─ read #readFileType data (improved) ✔\r\n   ├─ read CSV data (improved) ✔\r\n   └─ read XLS data (improved) ✔\r\n```\r\n","title":"Mock Spark DataFrameReader .option","body":"<p>I do not know what your problem is, but my guess is that you create the mocks, but then do not inject them into your class under test. If you do that, both your own version as well as Leonard's suggested improved version with a default response work:</p>\n<p><strong>Class under test + helper class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>class UnderTest {\n  SparkSession spark\n  Parameters params\n\n  DataFrameReader produce() {\n    DataFrameReader dataFrameReader = spark.read()\n\n    dataFrameReader = &quot;csv&quot;.equalsIgnoreCase(params.getReadFileType()) ?\n      dataFrameReader\n        .option(&quot;sep&quot;, params.getDelimiter())\n        .option(&quot;header&quot;, params.isHeader())\n      : dataFrameReader\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Parameters {\n  String readFileType\n  String delimiter\n  boolean header\n}\n</code></pre>\n<p><strong>Spock specification:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q74923254\n\nimport org.apache.spark.sql.DataFrameReader\nimport org.apache.spark.sql.SparkSession\nimport org.spockframework.mock.MockUtil\nimport spock.lang.Specification\n\nclass DataFrameReaderTest extends Specification {\n  def 'read #readFileType data'() {\n    given:\n    DataFrameReader dfReaderLoader = Mock(DataFrameReader)\n    DataFrameReader dfReaderOptionString = Mock(DataFrameReader)\n    DataFrameReader dfReaderOptionBoolean = Mock(DataFrameReader)\n\n    SparkSession sparkSession = Mock(SparkSession)\n    sparkSession.read() &gt;&gt; dfReaderLoader\n    dfReaderLoader.option(_ as String, _ as String) &gt;&gt; dfReaderOptionString\n    dfReaderOptionString.option(_ as String, _ as Boolean) &gt;&gt; dfReaderOptionBoolean\n\n    def underTest = new UnderTest(spark: sparkSession, params: parameters)\n\n    expect:\n    underTest.produce().toString().contains(returnedMockName)\n\n    where:\n    readFileType | parameters                                                               | returnedMockName\n    'CSV'        | new Parameters(readFileType: readFileType, delimiter: ';', header: true) | 'dfReaderOptionBoolean'\n    'XLS'        | new Parameters(readFileType: readFileType)                               | 'dfReaderLoader'\n  }\n\n  def 'read #readFileType data (improved)'() {\n    given:\n    SparkSession sparkSession = Mock() {\n      read() &gt;&gt; Mock(DataFrameReader) {\n        _ &gt;&gt; _\n      }\n    }\n\n    def parameters = new Parameters(readFileType: readFileType, delimiter: ';', header: true)\n    def underTest = new UnderTest(spark: sparkSession, params: parameters)\n\n    expect:\n    new MockUtil().isMock(underTest.produce())\n\n    where:\n    readFileType &lt;&lt; ['CSV', 'XLS']\n  }\n}\n</code></pre>\n<p>Try it in the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJy1VW1P2zAQ_p5fceo-JJU6SxSmaRll00Bsk9iLKEyTpqkyybVEpHGwXco0-O8720nqpIVKY-uH1HYeP3f33EtKnlzxGUKKTCVyMZ_MudIomdL0QtygnOZiya5f7r0a7g5f7AVBNi-F1CDkjPGSJ5d0r-TyiqnrnB1xzY8ln-Mp8hTlo9ixWY1RqUwUPlCVIrmaGpKlIOicduwTPc51ltc4i2E5L2ZEg0k2zRKuDU_w9r3kF1HYtRjb53OyOxmynWG8y3bZTtgPkpwrBR23z1BpwFuNRaqgxQ-_AyClphBKQsIz8zzOcjz7VZKCxBJGfYsBmGU3WMR22aGHdOoWJ8JuR2DCizqo_qNXv5TGnbGWWTF7AsE7IXLkxYMMlsJPFCh_U13zAc6qj2JGJJLl4KATuEW2j5iwbkUT4KS8jW4A3qbF4mvQ4vJfPMxYxb6BsnrjojfZXhR1VYygwCWc1_vIFVcr3gHQhs9V7P6RmklVSuItFZN2RdFwslKKdJFg1GdaOA9pmYhC86xQkUS9kAWmRunPRFdRLS9RomNqFeGdZxWe9ruDrm1rLjwcfwtXGKPH18Zk5DsTt1wbkJR5Ns8IFkP4OhzApdU8Bi0X2CeqcGMaQmf1-8n4b6z2twYZtkvQmLsPtrQ5RDSIJE3HtL-x47e2TH3HZc91x8YWbHBAVUugSbW9D9yzqVEv7aN_lpT_2gGGpx7sVPGZsgJs6IstJb-_Dz9sUQ5clfys9LKJJIXcjG88toquJ4gOV4pVARi73QHaeFVlZm3AdvYjR19NwSpfa5heom56DK8XPFcfZ4WQeMgVRs4NNkN96kVMisCbqg46VE2x1HOvp7Ds1QkxREd1vo2ua2iX_dWFTH2wJytwvMGkJ7OnodXZfaH8fK1Om9Kjo4vqS-QcIL4_ZATBaw\" rel=\"nofollow noreferrer\">Groovy Web Console</a>.</p>\n<p>The result should look similar to this in your IDE:</p>\n<pre class=\"lang-none prettyprint-override\"><code>DataFrameReaderTest ✔\n├─ read #readFileType data ✔\n│  ├─ read CSV data ✔\n│  └─ read XLS data ✔\n└─ read #readFileType data (improved) ✔\n   ├─ read CSV data (improved) ✔\n   └─ read XLS data (improved) ✔\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10284245,"reputation":51,"user_id":7588148,"display_name":"Observer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672214171,"creation_date":1672214171,"answer_id":74937651,"question_id":74923254,"body_markdown":"The error was in the params.I was not sending Delimiter or Header so it gave error. ","title":"Mock Spark DataFrameReader .option","body":"<p>The error was in the params.I was not sending Delimiter or Header so it gave error.</p>\n"}],"owner":{"account_id":10284245,"reputation":51,"user_id":7588148,"display_name":"Observer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74937651,"answer_count":3,"score":-1,"last_activity_date":1672214171,"creation_date":1672081318,"question_id":74923254,"body_markdown":"I want to parametrice when i have a header and then separator when I read a csv from Spark. I&#39;ve written this:\r\n\r\n    DataFrameReader dataFrameReader = spark.read();\r\n\r\n\t\tdataFrameReader = &quot;csv&quot;.equalsIgnoreCase(params.getReadFileType()) ?\r\n\t\t\t\t\tdataFrameReader\r\n\t\t\t\t\t\t\t.option(&quot;sep&quot;,params.getDelimiter())\r\n\t\t\t\t\t\t\t.option(&quot;header&quot;,params.isHeader())\r\n\t\t\t\t\t:dataFrameReader;\r\n\r\nI&#39;m new to Groovy and I don&#39;t get dataFrameReader.option corrected mocked.\r\n\r\n    DataFrameReader dfReaderLoader = Mock(DataFrameReader)\r\n    DataFrameReader dfReaderOptionString = Mock(DataFrameReader)\r\n    DataFrameReader dfReaderOptionBoolean = Mock(DataFrameReader)\r\n\r\n    SparkSession sparkSession = Mock(SparkSession)\r\n    sparkSession.read() &gt;&gt; dfReaderLoader\r\n    dfReaderLoader.option(_ as String, _ as String) &gt;&gt; dfReaderOptionString\r\n    dfReaderOptionString.option(_ as String, _ as Boolean) &gt;&gt;  dfReaderOptionBoolean\r\n\r\nAnd it gives me a null pointer exception.\r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;org.apache.spark.sql.DataFrameReader.option(String, boolean)&quot; because\r\n&gt; the return value of\r\n&gt; &quot;org.apache.spark.sql.DataFrameReader.option(String, String)&quot; is null","title":"Mock Spark DataFrameReader .option","body":"<p>I want to parametrice when i have a header and then separator when I read a csv from Spark. I've written this:</p>\n<pre><code>DataFrameReader dataFrameReader = spark.read();\n\n    dataFrameReader = &quot;csv&quot;.equalsIgnoreCase(params.getReadFileType()) ?\n                dataFrameReader\n                        .option(&quot;sep&quot;,params.getDelimiter())\n                        .option(&quot;header&quot;,params.isHeader())\n                :dataFrameReader;\n</code></pre>\n<p>I'm new to Groovy and I don't get dataFrameReader.option corrected mocked.</p>\n<pre><code>DataFrameReader dfReaderLoader = Mock(DataFrameReader)\nDataFrameReader dfReaderOptionString = Mock(DataFrameReader)\nDataFrameReader dfReaderOptionBoolean = Mock(DataFrameReader)\n\nSparkSession sparkSession = Mock(SparkSession)\nsparkSession.read() &gt;&gt; dfReaderLoader\ndfReaderLoader.option(_ as String, _ as String) &gt;&gt; dfReaderOptionString\ndfReaderOptionString.option(_ as String, _ as Boolean) &gt;&gt;  dfReaderOptionBoolean\n</code></pre>\n<p>And it gives me a null pointer exception.</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke\n&quot;org.apache.spark.sql.DataFrameReader.option(String, boolean)&quot; because\nthe return value of\n&quot;org.apache.spark.sql.DataFrameReader.option(String, String)&quot; is null</p>\n</blockquote>\n"},{"tags":["java","visual-studio-code","javafx"],"answers":[{"tags":[],"owner":{"account_id":27301796,"reputation":51,"user_id":20818407,"display_name":"Iwashi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672213747,"creation_date":1672213747,"answer_id":74937586,"question_id":74936428,"body_markdown":"It was solved. There is a solution below.\r\n1. Installing eclipse plugin and OpenJFX plugin to gradle.\r\n2. run &quot;gradle eclipse&quot;\r\n\r\nCode intellisense needs classpath as Eclipse, so the solution was effective.","title":"Code intellisense is not working to JavaFX library in VSCode","body":"<p>It was solved. There is a solution below.</p>\n<ol>\n<li>Installing eclipse plugin and OpenJFX plugin to gradle.</li>\n<li>run &quot;gradle eclipse&quot;</li>\n</ol>\n<p>Code intellisense needs classpath as Eclipse, so the solution was effective.</p>\n"}],"owner":{"account_id":27301796,"reputation":51,"user_id":20818407,"display_name":"Iwashi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74937586,"answer_count":1,"score":1,"last_activity_date":1672213747,"creation_date":1672203683,"question_id":74936428,"body_markdown":"Code intellisense is only not working for JavaFX in VSCode.\r\nI developed a JavaFX application once, and intellisense was working then, but it&#39;s not working now.\r\n\r\n\r\nbuild.gradle\r\n```\r\n/*\r\n * This file was generated by the Gradle &#39;init&#39; task.\r\n *\r\n * This generated file contains a sample Java application project to get you started.\r\n * For more details take a look at the &#39;Building Java &amp; JVM projects&#39; chapter in the Gradle\r\n * User Manual available at https://docs.gradle.org/7.3/userguide/building_java_projects.html\r\n */\r\n\r\nplugins {\r\n    // Apply the application plugin to add support for building a CLI application in Java.\r\n    id &#39;application&#39;\r\n    id &quot;org.openjfx.javafxplugin&quot; version &quot;0.0.13&quot;\r\n}\r\n\r\nrepositories {\r\n    // Use Maven Central for resolving dependencies.\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // Use JUnit Jupiter for testing.\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.7.2&#39;\r\n\r\n    // This dependency is used by the application.\r\n    implementation &#39;com.google.guava:guava:30.1.1-jre&#39;\r\n\r\n    // https://mvnrepository.com/artifact/org.openjfx/javafx\r\n\r\n    implementation &quot;com.github.jengelman.gradle.plugins:shadow:5.1.0&quot;\r\n\r\n}\r\n\r\napplication {\r\n    // Define the main class for the application.\r\n    mainClass = &#39;nicekeyboard.App&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    // Use JUnit Platform for unit tests.\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nI installed Java pack Extension and gradle extension.","title":"Code intellisense is not working to JavaFX library in VSCode","body":"<p>Code intellisense is only not working for JavaFX in VSCode.\nI developed a JavaFX application once, and intellisense was working then, but it's not working now.</p>\n<p>build.gradle</p>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This generated file contains a sample Java application project to get you started.\n * For more details take a look at the 'Building Java &amp; JVM projects' chapter in the Gradle\n * User Manual available at https://docs.gradle.org/7.3/userguide/building_java_projects.html\n */\n\nplugins {\n    // Apply the application plugin to add support for building a CLI application in Java.\n    id 'application'\n    id &quot;org.openjfx.javafxplugin&quot; version &quot;0.0.13&quot;\n}\n\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\ndependencies {\n    // Use JUnit Jupiter for testing.\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.7.2'\n\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:30.1.1-jre'\n\n    // https://mvnrepository.com/artifact/org.openjfx/javafx\n\n    implementation &quot;com.github.jengelman.gradle.plugins:shadow:5.1.0&quot;\n\n}\n\napplication {\n    // Define the main class for the application.\n    mainClass = 'nicekeyboard.App'\n}\n\ntasks.named('test') {\n    // Use JUnit Platform for unit tests.\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>I installed Java pack Extension and gradle extension.</p>\n"},{"tags":["java","vert.x","stress-testing","throughput","vert.x-webclient"],"comments":[{"owner":{"account_id":4776333,"reputation":735,"user_id":3859317,"accept_rate":100,"display_name":"Pendula"},"score":0,"creation_date":1672154929,"post_id":74931034,"comment_id":132231414,"body_markdown":"This is probably not the issue with the framework and might be an issue with the incorrect usage or networking limitation. Can you please share a simple reproducer?","body":"This is probably not the issue with the framework and might be an issue with the incorrect usage or networking limitation. Can you please share a simple reproducer?"},{"owner":{"account_id":7674352,"reputation":1,"user_id":5815681,"display_name":"Tal Rosentzweig"},"score":0,"creation_date":1672155204,"post_id":74931034,"comment_id":132231491,"body_markdown":"Hi @Pendula what do you mean by a simple reproducer?","body":"Hi @Pendula what do you mean by a simple reproducer?"},{"owner":{"account_id":4776333,"reputation":735,"user_id":3859317,"accept_rate":100,"display_name":"Pendula"},"score":0,"creation_date":1672158958,"post_id":74931034,"comment_id":132232549,"body_markdown":"This means to provide a part of code or easy to deploy project with minimal needed elements/code in order to reproduce the issue you are having so that people can have the same behavior as you and come up with the solution.","body":"This means to provide a part of code or easy to deploy project with minimal needed elements/code in order to reproduce the issue you are having so that people can have the same behavior as you and come up with the solution."},{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1672757436,"post_id":74931034,"comment_id":132343453,"body_markdown":"Can you provide the stacktrace of the error?","body":"Can you provide the stacktrace of the error?"}],"owner":{"account_id":7674352,"reputation":1,"user_id":5815681,"display_name":"Tal Rosentzweig"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672213577,"creation_date":1672154048,"question_id":74931034,"body_markdown":"I&quot;m doing a stress test on vert.x application and send ~10K RPS.\r\nMy application send an http async request from a dedicated verticle. \r\nI&quot;m using vert.x http client, and see that around 20 seconds my application sent the http requests successfully.\r\nAfter 20 seconds i&quot;m starting to get a lot of &quot;Cannot assign requested address&quot; errors.\r\n\r\n\r\n\r\nI tried to deploy more verticles, to set different values to the http client thread pool and nothing helped to solve the issue.\r\nI guess that the issue related to the high throughput in a short time around 1 minute.\r\n\r\n\r\nMain Class:\r\n\r\n     public static void main(String[] args) {\r\n\r\n    final VertxOptions vertxOptions = new VertxOptions()\r\n      .setMaxEventLoopExecuteTime(1)\r\n      .setMaxEventLoopExecuteTimeUnit(TimeUnit.MILLISECONDS);\r\n\r\n    final Vertx vertx = Vertx.vertx(vertxOptions);\r\n\r\n    final Injector injector = Guice.createInjector(new Dependencies(vertx));\r\n\r\n    CustomCodecRegister.register(vertx.eventBus());\r\n\r\n    final Stream&lt;Future&lt;String&gt;&gt; deploymentFutures = Stream.of(\r\n            deployWorker(vertx, injector, StatsHttpVerticle.class, 10)\r\n    ).flatMap(stream -&gt; stream);\r\n\r\n    CompositeFuture.all(deploymentFutures.collect(Collectors.toList()))\r\n            .onSuccess(successfulCompositeFuture -&gt; { });}\r\n\r\n    private static &lt;T&gt; Stream&lt;Future&lt;String&gt;&gt; deployWorker(Vertx vertx, Injector injector, Class&lt;T&gt; workerVerticleClass, int numVerticles) {\r\n        final String poolName = workerVerticleClass.getSimpleName()\r\n                .toLowerCase()\r\n                .replace(&quot;verticle&quot;, &quot;-worker-pool&quot;);\r\n        final int numberOfThreads = 50;\r\n\r\n        final DeploymentOptions options = new DeploymentOptions()\r\n                .setWorker(true)\r\n                .setWorkerPoolName(poolName)\r\n                .setWorkerPoolSize(numberOfThreads);\r\n\r\n        return IntStream.range(0, numVerticles)\r\n                .mapToObj(ignore -&gt; Future.future((Promise&lt;String&gt; promise) -&gt;\r\n                        vertx.deployVerticle((Verticle) injector.getInstance(workerVerticleClass), options, promise)));\r\n    }\r\n\r\nEventBusAdapter:\r\n\r\n      public void send(Map&lt;String, Object&gt; queryParams, HashMap&lt;String, String&gt; headers, boolean followRedirect, Event eventToFire) {\r\n        StatsRequest statsRequest = new StatsRequest(queryParams, headers, eventToFire, followRedirect);\r\n        eventBus.request(FIRE_GET_METRIC_TO_STATS,statsRequest);\r\n      }\r\n\r\n\r\nWorkerVerticle:\r\n\r\n      @Override\r\n      public void start(Promise&lt;Void&gt; startPromise) throws Exception {\r\n        vertx.eventBus().consumer(FIRE_GET_METRIC_TO_STATS, this::fire);\r\n        startPromise.complete();\r\n      }\r\n    \r\n      private void fire(Message&lt;StatsRequest&gt; message) {\r\n        StatsRequest body = message.body();\r\n        MultiMap multimapHeader = MultiMap.caseInsensitiveMultiMap();\r\n    \r\n        WebClientOptions webClientOptions = new WebClientOptions();\r\n        webClientOptions.setMaxPoolSize(1000);\r\n        WebClient httpClient = WebClient.create(vertx, webClientOptions);\r\n    \r\n        httpClient.request(HttpMethod.GET, port, &quot;example.com&quot;, &quot;/1x1.gif&quot; + &quot;?&quot; + &quot;queryParamsString&quot;)\r\n                .followRedirects(false)\r\n                .putHeaders(multimapHeader)\r\n                .timeout(120000)\r\n                .send()\r\n                .onSuccess(response -&gt; {\r\n                  logger.info(&quot;All good&quot;);\r\n                })\r\n                .onFailure(err -&gt; {\r\n                  logger.error(&quot;Exception: &quot; + err.getMessage());\r\n                });\r\n      }\r\n\r\nHow can i solve this issue?  ","title":"Vert.x &quot;Cannot assign requested address&quot; errors caused by high throughput","body":"<p>I&quot;m doing a stress test on vert.x application and send ~10K RPS.\nMy application send an http async request from a dedicated verticle.\nI&quot;m using vert.x http client, and see that around 20 seconds my application sent the http requests successfully.\nAfter 20 seconds i&quot;m starting to get a lot of &quot;Cannot assign requested address&quot; errors.</p>\n<p>I tried to deploy more verticles, to set different values to the http client thread pool and nothing helped to solve the issue.\nI guess that the issue related to the high throughput in a short time around 1 minute.</p>\n<p>Main Class:</p>\n<pre><code> public static void main(String[] args) {\n\nfinal VertxOptions vertxOptions = new VertxOptions()\n  .setMaxEventLoopExecuteTime(1)\n  .setMaxEventLoopExecuteTimeUnit(TimeUnit.MILLISECONDS);\n\nfinal Vertx vertx = Vertx.vertx(vertxOptions);\n\nfinal Injector injector = Guice.createInjector(new Dependencies(vertx));\n\nCustomCodecRegister.register(vertx.eventBus());\n\nfinal Stream&lt;Future&lt;String&gt;&gt; deploymentFutures = Stream.of(\n        deployWorker(vertx, injector, StatsHttpVerticle.class, 10)\n).flatMap(stream -&gt; stream);\n\nCompositeFuture.all(deploymentFutures.collect(Collectors.toList()))\n        .onSuccess(successfulCompositeFuture -&gt; { });}\n\nprivate static &lt;T&gt; Stream&lt;Future&lt;String&gt;&gt; deployWorker(Vertx vertx, Injector injector, Class&lt;T&gt; workerVerticleClass, int numVerticles) {\n    final String poolName = workerVerticleClass.getSimpleName()\n            .toLowerCase()\n            .replace(&quot;verticle&quot;, &quot;-worker-pool&quot;);\n    final int numberOfThreads = 50;\n\n    final DeploymentOptions options = new DeploymentOptions()\n            .setWorker(true)\n            .setWorkerPoolName(poolName)\n            .setWorkerPoolSize(numberOfThreads);\n\n    return IntStream.range(0, numVerticles)\n            .mapToObj(ignore -&gt; Future.future((Promise&lt;String&gt; promise) -&gt;\n                    vertx.deployVerticle((Verticle) injector.getInstance(workerVerticleClass), options, promise)));\n}\n</code></pre>\n<p>EventBusAdapter:</p>\n<pre><code>  public void send(Map&lt;String, Object&gt; queryParams, HashMap&lt;String, String&gt; headers, boolean followRedirect, Event eventToFire) {\n    StatsRequest statsRequest = new StatsRequest(queryParams, headers, eventToFire, followRedirect);\n    eventBus.request(FIRE_GET_METRIC_TO_STATS,statsRequest);\n  }\n</code></pre>\n<p>WorkerVerticle:</p>\n<pre><code>  @Override\n  public void start(Promise&lt;Void&gt; startPromise) throws Exception {\n    vertx.eventBus().consumer(FIRE_GET_METRIC_TO_STATS, this::fire);\n    startPromise.complete();\n  }\n\n  private void fire(Message&lt;StatsRequest&gt; message) {\n    StatsRequest body = message.body();\n    MultiMap multimapHeader = MultiMap.caseInsensitiveMultiMap();\n\n    WebClientOptions webClientOptions = new WebClientOptions();\n    webClientOptions.setMaxPoolSize(1000);\n    WebClient httpClient = WebClient.create(vertx, webClientOptions);\n\n    httpClient.request(HttpMethod.GET, port, &quot;example.com&quot;, &quot;/1x1.gif&quot; + &quot;?&quot; + &quot;queryParamsString&quot;)\n            .followRedirects(false)\n            .putHeaders(multimapHeader)\n            .timeout(120000)\n            .send()\n            .onSuccess(response -&gt; {\n              logger.info(&quot;All good&quot;);\n            })\n            .onFailure(err -&gt; {\n              logger.error(&quot;Exception: &quot; + err.getMessage());\n            });\n  }\n</code></pre>\n<p>How can i solve this issue?</p>\n"},{"tags":["java","jedis"],"answers":[{"tags":[],"owner":{"account_id":5718675,"reputation":1905,"user_id":4517895,"accept_rate":69,"display_name":"Mikhail Chibel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1514430239,"creation_date":1514430239,"answer_id":48001126,"question_id":44828304,"body_markdown":"One way to overcome the issue is to use a connection pool. I&#39;m using JedisPool. While I cannot find anywhere in the documentation that JedisPool supports automatic reconnect, in my tests, I&#39;m able to continue to use Redis cache after service restarted. \r\n\r\nAnother option is to use [lettuce client][1] which claims to support auto-reconnect. \r\n\r\n\r\n  [1]: https://github.com/lettuce-io/lettuce-core/commits/master","title":"How to enable auto reconnect of redis connection in Jedis client","body":"<p>One way to overcome the issue is to use a connection pool. I'm using JedisPool. While I cannot find anywhere in the documentation that JedisPool supports automatic reconnect, in my tests, I'm able to continue to use Redis cache after service restarted. </p>\n\n<p>Another option is to use <a href=\"https://github.com/lettuce-io/lettuce-core/commits/master\" rel=\"noreferrer\">lettuce client</a> which claims to support auto-reconnect. </p>\n"},{"tags":[],"owner":{"account_id":399098,"reputation":10373,"user_id":764206,"display_name":"Nikita Koksharov"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1583840176,"creation_date":1583840176,"answer_id":60616816,"question_id":44828304,"body_markdown":"You may use JedisPool. In case of broken connection JedisPool just invalidates broken connections.\r\n\r\nAlso you could use [Redisson](https://redisson.org) Redis Java client which has internal ConnectionWatchDog to avoid broken connections. Redisson exposes few settings to control Redis command retry logic: [retryAttempts](https://github.com/redisson/redisson/wiki/2.-Configuration#retryattempts), [retryInterval](https://github.com/redisson/redisson/wiki/2.-Configuration#retryinterval), [timeout](https://github.com/redisson/redisson/wiki/2.-Configuration#timeout)\r\n","title":"How to enable auto reconnect of redis connection in Jedis client","body":"<p>You may use JedisPool. In case of broken connection JedisPool just invalidates broken connections.</p>\n\n<p>Also you could use <a href=\"https://redisson.org\" rel=\"nofollow noreferrer\">Redisson</a> Redis Java client which has internal ConnectionWatchDog to avoid broken connections. Redisson exposes few settings to control Redis command retry logic: <a href=\"https://github.com/redisson/redisson/wiki/2.-Configuration#retryattempts\" rel=\"nofollow noreferrer\">retryAttempts</a>, <a href=\"https://github.com/redisson/redisson/wiki/2.-Configuration#retryinterval\" rel=\"nofollow noreferrer\">retryInterval</a>, <a href=\"https://github.com/redisson/redisson/wiki/2.-Configuration#timeout\" rel=\"nofollow noreferrer\">timeout</a></p>\n"}],"owner":{"account_id":10137733,"reputation":802,"user_id":7488539,"accept_rate":0,"display_name":"Vigneshwaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8383,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1672213505,"creation_date":1498747373,"question_id":44828304,"body_markdown":"I have an application that stores and reads date in Redis. When Redis goes down and then comes back up, the Jedis connection is not being recreated.\r\n\r\nIs there is a way to create a connection retry in Jedis?","title":"How to enable auto reconnect of redis connection in Jedis client","body":"<p>I have an application that stores and reads date in Redis. When Redis goes down and then comes back up, the Jedis connection is not being recreated.</p>\n\n<p>Is there is a way to create a connection retry in Jedis?</p>\n"},{"tags":["java","api","web-services","soap","backend"],"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672213281,"creation_date":1672213281,"question_id":74937513,"body_markdown":"One of my `soapAPI` was giving `HTTP 500 error`. when we searched in log we got the below issue.\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;validator&#39;. Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\r\n\r\nTo remove this issue we put below jar in our pom.xml\r\n\r\n\t\r\n\r\n    &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.11&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.11&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\nand this issue gone. But unfortunately code is creating problem in other places. The functionality which were working earlier now giving `http 500 error`. When we remove the above `jar` the original issues comes but new issue vanished.\r\n\r\nAre we doing some mistake by including above jar files? is there any guess to get it done? I know issue seems somewhat strange but it is coming like this only. We are using `java 8` , `jsp` and `struts`.\r\n\r\nWe did not do any code changes.","title":"Http 500 error in soap API java due to jaxb jar file","body":"<p>One of my <code>soapAPI</code> was giving <code>HTTP 500 error</code>. when we searched in log we got the below issue.</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'validator'. Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\n</code></pre>\n<p>To remove this issue we put below jar in our pom.xml</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and this issue gone. But unfortunately code is creating problem in other places. The functionality which were working earlier now giving <code>http 500 error</code>. When we remove the above <code>jar</code> the original issues comes but new issue vanished.</p>\n<p>Are we doing some mistake by including above jar files? is there any guess to get it done? I know issue seems somewhat strange but it is coming like this only. We are using <code>java 8</code> , <code>jsp</code> and <code>struts</code>.</p>\n<p>We did not do any code changes.</p>\n"},{"tags":["java","spring-boot","spring-security","migration","springdoc-ui"],"comments":[{"owner":{"account_id":21446068,"reputation":101,"user_id":15799612,"display_name":"Nicolas"},"score":0,"creation_date":1671736308,"post_id":74885458,"comment_id":132167318,"body_markdown":"@dur springdoc.version = 1.6.0","body":"@dur springdoc.version = 1.6.0"},{"owner":{"account_id":21446068,"reputation":101,"user_id":15799612,"display_name":"Nicolas"},"score":0,"creation_date":1671736468,"post_id":74885458,"comment_id":132167360,"body_markdown":"@dur, ok thanks for your explanation. But before upgrading I didn&#39;t have this problem with the same code.","body":"@dur, ok thanks for your explanation. But before upgrading I didn&#39;t have this problem with the same code."},{"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"score":0,"creation_date":1679129967,"post_id":74885458,"comment_id":133668659,"body_markdown":"Please check my answer on **[How to run Swagger 3 on Spring Boot 3](https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3)**","body":"Please check my answer on <b><a href=\"https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3\">How to run Swagger 3 on Spring Boot 3</a></b>"}],"answers":[{"tags":[],"owner":{"account_id":21446068,"reputation":101,"user_id":15799612,"display_name":"Nicolas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1672213059,"creation_date":1672213059,"answer_id":74937481,"question_id":74885458,"body_markdown":"I found the solution : with spring boot 3 it seems to use springdoc-openapi-starter-webmvc-ui ([https://springdoc.org/v2/][1]).\r\nI have added the following dependency and now i can use swagger\r\n\r\n       &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\nThe dependency springdoc-openapi-ui is not applicable to spring boot 3. I remo\r\n\r\n\r\n  [1]: https://springdoc.org/v2/","title":"After upgrade to Spring Boot 3 Swagger UI is not accessable","body":"<p>I found the solution : with spring boot 3 it seems to use springdoc-openapi-starter-webmvc-ui (<a href=\"https://springdoc.org/v2/\" rel=\"noreferrer\">https://springdoc.org/v2/</a>).\nI have added the following dependency and now i can use swagger</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The dependency springdoc-openapi-ui is not applicable to spring boot 3. I remo</p>\n"}],"owner":{"account_id":21446068,"reputation":101,"user_id":15799612,"display_name":"Nicolas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2093,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74937481,"answer_count":1,"score":3,"last_activity_date":1672213059,"creation_date":1671695032,"question_id":74885458,"body_markdown":"I had a Spring Boot 2.7.6 app with Spring Security 5.7.5 running without problems: authentication works, I navigate through the different pages according to roles, Swagger UI is usable, etc. I don&#39;t have a deprecated warning for your information.\r\n\r\nI migrated to Spring Boot 3.0.0 and therefore Spring Security 6.0.0. I followed the migration guides and the server starts without error. But my URLs no longer work. I have a 401 status.\r\n\r\nIssue #1: `GET http://localhost:8080/swagger-ui/index.html` results in a 401 on client side.\r\n\r\nIn the logs I have a 404:\r\n\r\n```\r\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\nDEBUG org.springframework.web.servlet.DispatcherServlet  : GET &quot;/swagger-ui/index.html&quot;, parameters={}\r\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\nDEBUG o.s.w.servlet.resource.ResourceHttpRequestHandler  : Resource not found\r\nDEBUG org.springframework.web.servlet.DispatcherServlet  : Completed 404 NOT_FOUND\r\nDEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\nDEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\nDEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n```\r\n\r\n**`pom.xml`**\r\n\r\n```xml\r\n    ...\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t...\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;jjwt.version&gt;0.11.5&lt;/jjwt.version&gt;\r\n\t\t&lt;springdoc.version&gt;1.6.0&lt;/springdoc.version&gt;\r\n\t\t&lt;docx4j.version&gt;11.3.2&lt;/docx4j.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jjwt.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jjwt.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jjwt.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${springdoc.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${springdoc.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n&#160;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${docx4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${docx4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n&#160;\r\n\t&lt;/dependencies&gt;\r\n&#160;\r\n...\r\n&lt;/project&gt;\r\n```\r\n\r\n**`SecurityConfig` class**\r\n\r\n```java\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.HttpStatusEntryPoint;\r\nimport org.springframework.security.web.context.RequestAttributeSecurityContextRepository;\r\nimport org.springframework.security.web.savedrequest.HttpSessionRequestCache;\r\n&#160;\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity(securedEnabled = true, jsr250Enabled = true)\r\npublic class SecurityConfig {\r\n&#160;\r\n  @Autowired\r\n  UserDetailsService userDetailsService;\r\n&#160;\r\n  @Autowired\r\n  public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n    authenticationManagerBuilder.getDefaultUserDetailsService();\r\n  }\r\n&#160;\r\n  // @Override\r\n  // public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n  // authenticationManagerBuilder.userDetailsService(this.userDetailsService)\r\n  // .passwordEncoder(passwordEncoder());\r\n  // }\r\n&#160;\r\n  @Bean\r\n  public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n    return authenticationConfiguration.getAuthenticationManager();\r\n  }\r\n&#160;\r\n  @Bean\r\n  public PasswordEncoder passwordEncoder() {\r\n    return new BCryptPasswordEncoder();\r\n  }\r\n&#160;\r\n  @Bean\r\n  SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    // @formatter:off\r\n    http\r\n        .headers()\r\n            .frameOptions().disable()\r\n            .and()\r\n        .cors()\r\n            .and()\r\n        .csrf().disable()\r\n        .exceptionHandling()\r\n            .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED)).and()\r\n        .formLogin().disable()\r\n        .authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/api/*/auth/**&quot;).permitAll()\r\n                                          .requestMatchers(&quot;/api/*/public/**&quot;).permitAll()\r\n                                          .requestMatchers(&quot;/api/*/catalogs/*/documents/*/file&quot;).permitAll()\r\n                                          .requestMatchers(req -&gt; req.getRequestURI()\r\n                                            .contains(&quot;swagger-ui&quot;)).permitAll()\r\n                                          .anyRequest().authenticated());\r\n    // @formatter:on\r\n&#160;\r\n    return http.build();\r\n  }\r\n&#160;\r\n  @Bean\r\n  public WebSecurityCustomizer webSecurityCustomizer() {\r\n    return (web) -&gt; web.ignoring()\r\n      .requestMatchers(req -&gt; req.getRequestURI()\r\n        .contains(&quot;mail-images&quot;))\r\n      .requestMatchers(req -&gt; req.getRequestURI()\r\n        .contains(&quot;api-docs&quot;))\r\n      // .requestMatchers(req -&gt; req.getRequestURI()\r\n      // .contains(&quot;swagger-ui&quot;))\r\n      .requestMatchers(req -&gt; req.getRequestURI()\r\n        .contains(&quot;h2-console&quot;));\r\n  }\r\n}\r\n```\r\n\r\n**`WebMvcConfig` class**\r\n\r\n```java\r\nimport java.util.List;\r\n&#160;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n&#160;\r\n@Configuration\r\n@EnableWebMvc\r\npublic class WebMvcConfig implements WebMvcConfigurer {\r\n&#160;\r\n  @Value(&quot;#{&#39;${cors.allowedOrigins}&#39;.split(&#39;,&#39;)}&quot;)\r\n  private List&lt;String&gt; allowedOrigins;\r\n&#160;\r\n  @Override\r\n  public void addCorsMappings(CorsRegistry registry) {\r\n    registry.addMapping(&quot;/**&quot;)\r\n      .allowCredentials(true)\r\n      .allowedHeaders(&quot;*&quot;)\r\n      .allowedOriginPatterns(&quot;http://*&quot;, &quot;https://*&quot;)\r\n      .allowedOrigins(this.allowedOrigins.toArray(String[]::new))\r\n      .allowedMethods(HttpMethod.GET.name(), HttpMethod.POST.name(), HttpMethod.PUT.name(), HttpMethod.PATCH.name(), HttpMethod.DELETE.name(), HttpMethod.OPTIONS.name());\r\n  }\r\n&#160;\r\n  private static final String[] CLASSPATH_RESOURCE_LOCATIONS = {&quot;classpath:/static/&quot;};\r\n&#160;\r\n  @Override\r\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    registry.addResourceHandler(&quot;/**&quot;)\r\n      .addResourceLocations(CLASSPATH_RESOURCE_LOCATIONS);\r\n  }\r\n&#160;\r\n}\r\n```\r\n\r\nI tried some differents configuration according with\r\n- [https://docs.spring.io/spring-security/reference/5.8/migration/](https://docs.spring.io/spring-security/reference/5.8/migration/)\r\n- [https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide)\r\n\r\nDo you have a search lead because I&#39;m drying up after several attempts?\r\n","title":"After upgrade to Spring Boot 3 Swagger UI is not accessable","body":"<p>I had a Spring Boot 2.7.6 app with Spring Security 5.7.5 running without problems: authentication works, I navigate through the different pages according to roles, Swagger UI is usable, etc. I don't have a deprecated warning for your information.</p>\n<p>I migrated to Spring Boot 3.0.0 and therefore Spring Security 6.0.0. I followed the migration guides and the server starts without error. But my URLs no longer work. I have a 401 status.</p>\n<p>Issue #1: <code>GET http://localhost:8080/swagger-ui/index.html</code> results in a 401 on client side.</p>\n<p>In the logs I have a 404:</p>\n<pre><code>DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\nDEBUG org.springframework.web.servlet.DispatcherServlet  : GET &quot;/swagger-ui/index.html&quot;, parameters={}\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\nDEBUG o.s.w.servlet.resource.ResourceHttpRequestHandler  : Resource not found\nDEBUG org.springframework.web.servlet.DispatcherServlet  : Completed 404 NOT_FOUND\nDEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\nDEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\nDEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n</code></pre>\n<p><strong><code>pom.xml</code></strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    ...\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    ...\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;jjwt.version&gt;0.11.5&lt;/jjwt.version&gt;\n        &lt;springdoc.version&gt;1.6.0&lt;/springdoc.version&gt;\n        &lt;docx4j.version&gt;11.3.2&lt;/docx4j.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springdoc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\n            &lt;version&gt;${springdoc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\n            &lt;version&gt;${docx4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\n            &lt;version&gt;${docx4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api-parent&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n \n    &lt;/dependencies&gt;\n \n...\n&lt;/project&gt;\n</code></pre>\n<p><strong><code>SecurityConfig</code> class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.HttpStatusEntryPoint;\nimport org.springframework.security.web.context.RequestAttributeSecurityContextRepository;\nimport org.springframework.security.web.savedrequest.HttpSessionRequestCache;\n \n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(securedEnabled = true, jsr250Enabled = true)\npublic class SecurityConfig {\n \n  @Autowired\n  UserDetailsService userDetailsService;\n \n  @Autowired\n  public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n    authenticationManagerBuilder.getDefaultUserDetailsService();\n  }\n \n  // @Override\n  // public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n  // authenticationManagerBuilder.userDetailsService(this.userDetailsService)\n  // .passwordEncoder(passwordEncoder());\n  // }\n \n  @Bean\n  public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n    return authenticationConfiguration.getAuthenticationManager();\n  }\n \n  @Bean\n  public PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n  }\n \n  @Bean\n  SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    // @formatter:off\n    http\n        .headers()\n            .frameOptions().disable()\n            .and()\n        .cors()\n            .and()\n        .csrf().disable()\n        .exceptionHandling()\n            .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED)).and()\n        .formLogin().disable()\n        .authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/api/*/auth/**&quot;).permitAll()\n                                          .requestMatchers(&quot;/api/*/public/**&quot;).permitAll()\n                                          .requestMatchers(&quot;/api/*/catalogs/*/documents/*/file&quot;).permitAll()\n                                          .requestMatchers(req -&gt; req.getRequestURI()\n                                            .contains(&quot;swagger-ui&quot;)).permitAll()\n                                          .anyRequest().authenticated());\n    // @formatter:on\n \n    return http.build();\n  }\n \n  @Bean\n  public WebSecurityCustomizer webSecurityCustomizer() {\n    return (web) -&gt; web.ignoring()\n      .requestMatchers(req -&gt; req.getRequestURI()\n        .contains(&quot;mail-images&quot;))\n      .requestMatchers(req -&gt; req.getRequestURI()\n        .contains(&quot;api-docs&quot;))\n      // .requestMatchers(req -&gt; req.getRequestURI()\n      // .contains(&quot;swagger-ui&quot;))\n      .requestMatchers(req -&gt; req.getRequestURI()\n        .contains(&quot;h2-console&quot;));\n  }\n}\n</code></pre>\n<p><strong><code>WebMvcConfig</code> class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n \nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n \n@Configuration\n@EnableWebMvc\npublic class WebMvcConfig implements WebMvcConfigurer {\n \n  @Value(&quot;#{'${cors.allowedOrigins}'.split(',')}&quot;)\n  private List&lt;String&gt; allowedOrigins;\n \n  @Override\n  public void addCorsMappings(CorsRegistry registry) {\n    registry.addMapping(&quot;/**&quot;)\n      .allowCredentials(true)\n      .allowedHeaders(&quot;*&quot;)\n      .allowedOriginPatterns(&quot;http://*&quot;, &quot;https://*&quot;)\n      .allowedOrigins(this.allowedOrigins.toArray(String[]::new))\n      .allowedMethods(HttpMethod.GET.name(), HttpMethod.POST.name(), HttpMethod.PUT.name(), HttpMethod.PATCH.name(), HttpMethod.DELETE.name(), HttpMethod.OPTIONS.name());\n  }\n \n  private static final String[] CLASSPATH_RESOURCE_LOCATIONS = {&quot;classpath:/static/&quot;};\n \n  @Override\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;/**&quot;)\n      .addResourceLocations(CLASSPATH_RESOURCE_LOCATIONS);\n  }\n \n}\n</code></pre>\n<p>I tried some differents configuration according with</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/5.8/migration/</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide</a></li>\n</ul>\n<p>Do you have a search lead because I'm drying up after several attempts?</p>\n"},{"tags":["java","bouncycastle","signature","pkcs#7","pkcs#1"],"owner":{"account_id":27370933,"reputation":1,"user_id":20876986,"display_name":"Alireza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672212827,"creation_date":1672212827,"question_id":74937449,"body_markdown":"I&#39;m new to PKCS and, I have a PKCS1 signature which it is a signature of a file, I want to do the whole CAdES creation around it in java with the BouncyCastle library(if it&#39;s possible), how i can do this? \r\n\r\nNoting that: the sign process is a remote job, after doing the authentication process with a card, i will send a request to a server to sign a file and as an answer I will receive only a byte[] of signature, which its a pkcs#1 signature.\r\n\r\nim expect to create a pkcs7 and save it in a file","title":"building the CAdES around a PKCS#1 signature in java","body":"<p>I'm new to PKCS and, I have a PKCS1 signature which it is a signature of a file, I want to do the whole CAdES creation around it in java with the BouncyCastle library(if it's possible), how i can do this?</p>\n<p>Noting that: the sign process is a remote job, after doing the authentication process with a card, i will send a request to a server to sign a file and as an answer I will receive only a byte[] of signature, which its a pkcs#1 signature.</p>\n<p>im expect to create a pkcs7 and save it in a file</p>\n"},{"tags":["java","maven","apache-spark","google-cloud-storage","google-cloud-dataproc"],"comments":[{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1672211252,"post_id":74936691,"comment_id":132241863,"body_markdown":"I&#39;m not very familiar with this, but it looks like there is a space in that filename (between `2022-12-27` and `12:08:48`). Typically spaces in filenames are not a good idea. Try removing the space character?","body":"I&#39;m not very familiar with this, but it looks like there is a space in that filename (between <code>2022-12-27</code> and <code>12:08:48</code>). Typically spaces in filenames are not a good idea. Try removing the space character?"},{"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"score":0,"creation_date":1672211708,"post_id":74936691,"comment_id":132241957,"body_markdown":"Can you add how are you writing the data? i.e. writer code","body":"Can you add how are you writing the data? i.e. writer code"},{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1672322392,"post_id":74936691,"comment_id":132267139,"body_markdown":"Hi @Faisal Khan, can you provide the sample code which you have tried?","body":"Hi @Faisal Khan, can you provide the sample code which you have tried?"},{"owner":{"account_id":24047058,"reputation":85,"user_id":18025959,"display_name":"Faisal Khan"},"score":0,"creation_date":1672400473,"post_id":74936691,"comment_id":132282670,"body_markdown":"@ShipraSarkar thanks for your response mam but unfortunately my code base is too large, so i can not show you where does the output came from but at the last it store in a JavaRDD&lt;String&gt; object and then after code is available above here.","body":"@ShipraSarkar thanks for your response mam but unfortunately my code base is too large, so i can not show you where does the output came from but at the last it store in a JavaRDD&lt;String&gt; object and then after code is available above here."}],"owner":{"account_id":24047058,"reputation":85,"user_id":18025959,"display_name":"Faisal Khan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672212424,"creation_date":1672206606,"question_id":74936691,"body_markdown":"I am trying to use GCP to run spark application, i am using dataproc to trigger application and want to write output in Google Cloud Storage for this i have GCS connector added in my pom.xml\r\n\r\n     &lt;!-- https://mvnrepository.com/artifact/com.google.cloud.bigdataoss/gcs-connector --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud.bigdataoss&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gcs-connector&lt;/artifactId&gt;\r\n            &lt;version&gt;hadoop3-2.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\nIt help&#39;s me to read CSV from GCS but when i try to write result in GCS it throws a very annoying error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Pathname /user/root/gs/2022-12-27 12:08:48 from hdfs://dm-service-metanome-m/user/root/gs/2022-12-27 12:08:48 is not a valid DFS filename.\r\n\r\nCan anyone help me ?\r\n\r\ni use the following code to write output in GCS.\r\n\r\n    javaRDDString.coalesce(1).saveAsTextFile(location+&quot;/&quot;+(DATE_FORMAT.format(new Date(System.currentTimeMillis())).toString()));\r\n\r\nThanks in Advance :)\r\n \r\n\r\n ","title":"How to write in GCS using spark java in dataproc?","body":"<p>I am trying to use GCP to run spark application, i am using dataproc to trigger application and want to write output in Google Cloud Storage for this i have GCS connector added in my pom.xml</p>\n<pre><code> &lt;!-- https://mvnrepository.com/artifact/com.google.cloud.bigdataoss/gcs-connector --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud.bigdataoss&lt;/groupId&gt;\n        &lt;artifactId&gt;gcs-connector&lt;/artifactId&gt;\n        &lt;version&gt;hadoop3-2.2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>It help's me to read CSV from GCS but when i try to write result in GCS it throws a very annoying error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Pathname /user/root/gs/2022-12-27 12:08:48 from hdfs://dm-service-metanome-m/user/root/gs/2022-12-27 12:08:48 is not a valid DFS filename.\n</code></pre>\n<p>Can anyone help me ?</p>\n<p>i use the following code to write output in GCS.</p>\n<pre><code>javaRDDString.coalesce(1).saveAsTextFile(location+&quot;/&quot;+(DATE_FORMAT.format(new Date(System.currentTimeMillis())).toString()));\n</code></pre>\n<p>Thanks in Advance :)</p>\n"},{"tags":["java","android","hardware","android-bitmap"],"owner":{"account_id":16723758,"reputation":83,"user_id":12087851,"display_name":"NicoTing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672212413,"creation_date":1672211881,"question_id":74937325,"body_markdown":"I am using Pax A920 device. \r\n\r\nI have an issue when printing a bitmap, there is no option to center the bitmap(image) [documentation][1]&lt;br&gt;\r\n\r\nMethods reference: \r\n\r\n[![enter image description here][2]][2]&lt;br&gt;\r\n\r\nThe issue is when the bitmap&#39;s width is short, its left-aligned on the printed receipt.\r\n\r\nI can scale the bitmap using:\r\n\r\n`Bitmap.createScaledBitmap(receiptLogo, 512, receiptLogo.getHeight(), false);`\r\n\r\nBut it looks bad, I&#39;m thinking of creating a new Bitmap with width of 512 &amp; height of receipt.Logo.getHeight() then put the receipt logo in the middle so it wont look stretch. \r\n\r\nIs this doable?\r\n\r\n\r\n  [1]: https://docs.hips.com/docs/pax-a920#neptune-service\r\n  [2]: https://i.stack.imgur.com/hls51.png","title":"How to make bitmap bigger without resizing the actual image","body":"<p>I am using Pax A920 device.</p>\n<p>I have an issue when printing a bitmap, there is no option to center the bitmap(image) <a href=\"https://docs.hips.com/docs/pax-a920#neptune-service\" rel=\"nofollow noreferrer\">documentation</a><br></p>\n<p>Methods reference:</p>\n<p><a href=\"https://i.stack.imgur.com/hls51.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hls51.png\" alt=\"enter image description here\" /></a><br></p>\n<p>The issue is when the bitmap's width is short, its left-aligned on the printed receipt.</p>\n<p>I can scale the bitmap using:</p>\n<p><code>Bitmap.createScaledBitmap(receiptLogo, 512, receiptLogo.getHeight(), false);</code></p>\n<p>But it looks bad, I'm thinking of creating a new Bitmap with width of 512 &amp; height of receipt.Logo.getHeight() then put the receipt logo in the middle so it wont look stretch.</p>\n<p>Is this doable?</p>\n"},{"tags":["java","android","video-streaming","vlc"],"answers":[{"tags":[],"owner":{"account_id":6401533,"reputation":61,"user_id":4964009,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672212238,"creation_date":1672046759,"answer_id":74918944,"question_id":74906657,"body_markdown":"It looks, help is to remove line with component:    i.setComponent(new ComponentName(&quot;org.videolan.vlc&quot;,&quot;org.videolan.vlc.gui.video.VideoPlayerActivity&quot;));.    \r\nThen it works as usual on Android 13.Thanks","title":"Android 13 playing video by using VLC Player is not working?","body":"<p>It looks, help is to remove line with component:    i.setComponent(new ComponentName(&quot;org.videolan.vlc&quot;,&quot;org.videolan.vlc.gui.video.VideoPlayerActivity&quot;));.<br />\nThen it works as usual on Android 13.Thanks</p>\n"}],"owner":{"account_id":6401533,"reputation":61,"user_id":4964009,"display_name":"Stefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672212238,"creation_date":1671873362,"question_id":74906657,"body_markdown":"I wonder why on previous Android versions playing URL on VLC works well but on Android 13 not.Here is my working code:\r\n\r\n    int vlcRequestCode = 42;\r\n    Uri uri = Uri.parse(myreceivedLink);\r\n    Intent i = new Intent(Intent.ACTION_VIEW);\r\n    i.setPackage(&quot;org.videolan.vlc&quot;);\r\n    i.setDataAndTypeAndNormalize(uri, &quot;video/*&quot;);\r\n    i.putExtra(&quot;title&quot;, title);\r\n    i.putExtra(&quot;from_start&quot;, false);\r\n    i.setComponent(new ComponentName(&quot;org.videolan.vlc&quot;,&quot;org.videolan.vlc.gui.video.VideoPlayerActivity&quot;));\r\n    startActivityForResult(i, vlcRequestCode);\r\n\r\nAnd Error message is:\r\n\r\n    W/System.err: android.content.ActivityNotFoundException: Unable to find explicit activity class {org.videolan.vlc/org.videolan.vlc.gui.video.VideoPlayerActivity}; have you declared this activity in your AndroidManifest.xml, or does your intent not match its declared &lt;intent-filter&gt;?\r\n\r\nThere is no special implementation in build.graddle.Something was changed in Android 13, do you have any suggestion how to fix ?\r\n","title":"Android 13 playing video by using VLC Player is not working?","body":"<p>I wonder why on previous Android versions playing URL on VLC works well but on Android 13 not.Here is my working code:</p>\n<pre><code>int vlcRequestCode = 42;\nUri uri = Uri.parse(myreceivedLink);\nIntent i = new Intent(Intent.ACTION_VIEW);\ni.setPackage(&quot;org.videolan.vlc&quot;);\ni.setDataAndTypeAndNormalize(uri, &quot;video/*&quot;);\ni.putExtra(&quot;title&quot;, title);\ni.putExtra(&quot;from_start&quot;, false);\ni.setComponent(new ComponentName(&quot;org.videolan.vlc&quot;,&quot;org.videolan.vlc.gui.video.VideoPlayerActivity&quot;));\nstartActivityForResult(i, vlcRequestCode);\n</code></pre>\n<p>And Error message is:</p>\n<pre><code>W/System.err: android.content.ActivityNotFoundException: Unable to find explicit activity class {org.videolan.vlc/org.videolan.vlc.gui.video.VideoPlayerActivity}; have you declared this activity in your AndroidManifest.xml, or does your intent not match its declared &lt;intent-filter&gt;?\n</code></pre>\n<p>There is no special implementation in build.graddle.Something was changed in Android 13, do you have any suggestion how to fix ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1636789645,"post_id":69952398,"comment_id":123655175,"body_markdown":"This very much sounds like an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). Why do you want to push a `null`/&quot;empty value&quot;?","body":"This very much sounds like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. Why do you want to push a <code>null</code>/&quot;empty value&quot;?"},{"owner":{"account_id":23136540,"reputation":17,"user_id":17240698,"display_name":"Sea Bean"},"score":0,"creation_date":1636789928,"post_id":69952398,"comment_id":123655216,"body_markdown":"Alright, I have edited my questions again. I just wanna push an element which has a particular meaning so I could make some particular operation. @\nTuring85","body":"Alright, I have edited my questions again. I just wanna push an element which has a particular meaning so I could make some particular operation. @ Turing85"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1636789950,"post_id":69952398,"comment_id":123655220,"body_markdown":"Why? What is the use case? Maybe `ArrayDeque` is the wrong data structure. But to be certain, we have to understand the use case.","body":"Why? What is the use case? Maybe <code>ArrayDeque</code> is the wrong data structure. But to be certain, we have to understand the use case."},{"owner":{"account_id":23136540,"reputation":17,"user_id":17240698,"display_name":"Sea Bean"},"score":0,"creation_date":1636790689,"post_id":69952398,"comment_id":123655344,"body_markdown":"Thanks for  reviewing this issue. I have supplemented the case in which I met my question.","body":"Thanks for  reviewing this issue. I have supplemented the case in which I met my question."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1636791331,"post_id":69952398,"comment_id":123655439,"body_markdown":"Instead of checking `node != null`, we could check each child individually before inserting them: `final node left = node.left; if (left != null) { queue.offer(left); }`. Not sure of this messes with the overall algorithm though.","body":"Instead of checking <code>node != null</code>, we could check each child individually before inserting them: <code>final node left = node.left; if (left != null) { queue.offer(left); }</code>. Not sure of this messes with the overall algorithm though."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636807967,"creation_date":1636790492,"answer_id":69952531,"question_id":69952398,"body_markdown":"**Simple but not so good solution:**\r\n\r\n - Use `ArrayDeque&lt;Optional&lt;MyClass&gt;&gt;` with `MyClass` being your class. Then you can add an empty Optional.\r\n - You could also use any other wrapper class for this, and set the contained element null.\r\n\r\n**Better solution:**\r\n\r\nBut to solve your problem better, generally I&#39;d suggest you have special elements, defined as constants, like so:\r\n\r\n`static public final MyClass STOP_INDICATOR = new MyClass();`\r\nand MyClass maybe fitted with some special CTOR if it needs more info.\r\n\r\nIf you then retrieve it and check it, you can even use the *identity* check `a == b` and don&#39;t have to use `a.equals(b)`, because it&#39;s a constant.","title":"If I want to offer a null into an ArrayDeque, how could I do it","body":"<p><strong>Simple but not so good solution:</strong></p>\n<ul>\n<li>Use <code>ArrayDeque&lt;Optional&lt;MyClass&gt;&gt;</code> with <code>MyClass</code> being your class. Then you can add an empty Optional.</li>\n<li>You could also use any other wrapper class for this, and set the contained element null.</li>\n</ul>\n<p><strong>Better solution:</strong></p>\n<p>But to solve your problem better, generally I'd suggest you have special elements, defined as constants, like so:</p>\n<p><code>static public final MyClass STOP_INDICATOR = new MyClass();</code>\nand MyClass maybe fitted with some special CTOR if it needs more info.</p>\n<p>If you then retrieve it and check it, you can even use the <em>identity</em> check <code>a == b</code> and don't have to use <code>a.equals(b)</code>, because it's a constant.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636792184,"creation_date":1636792184,"answer_id":69952679,"question_id":69952398,"body_markdown":"I think you should use [Null Object Pattern][1]. You can define any object (it&#39;s better to make it immutable) as `null` value and use it everywhere instead of `null`. E.g. if you use `Jackson`:\r\n```java\r\npublic static final TreeNode NULL = NullNode.getInstance();\r\n\r\nDeque&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\r\nqueue.offer(NULL);\r\n\r\nwhile(!queue.isEmpty()) {\r\n    TreeNode node = queue.poll();\r\n\r\n    if(node == NULL)\r\n        System.err.println(&quot;null object&quot;);\r\n    else\r\n        System.out.println(&quot;not null object&quot;);\r\n}\r\n```\r\n\r\nAnother solution, you can use `Optional` instead of `TreeNode` in the `Deque`:\r\n```java\r\nDeque&lt;Optional&lt;TreeNode&gt;&gt; queue = new ArrayDeque&lt;&gt;();\r\nqueue.offer(Optional.empty());\r\n\r\nwhile (!queue.isEmpty()) {\r\n    Optional&lt;TreeNode&gt; optNode = queue.poll();\r\n\r\n    if (optNode.isEmpty())\r\n        System.err.println(&quot;null object&quot;);\r\n    else\r\n        System.out.println(&quot;not null object&quot;);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Null_object_pattern","title":"If I want to offer a null into an ArrayDeque, how could I do it","body":"<p>I think you should use <a href=\"https://en.wikipedia.org/wiki/Null_object_pattern\" rel=\"nofollow noreferrer\">Null Object Pattern</a>. You can define any object (it's better to make it immutable) as <code>null</code> value and use it everywhere instead of <code>null</code>. E.g. if you use <code>Jackson</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final TreeNode NULL = NullNode.getInstance();\n\nDeque&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\nqueue.offer(NULL);\n\nwhile(!queue.isEmpty()) {\n    TreeNode node = queue.poll();\n\n    if(node == NULL)\n        System.err.println(&quot;null object&quot;);\n    else\n        System.out.println(&quot;not null object&quot;);\n}\n</code></pre>\n<p>Another solution, you can use <code>Optional</code> instead of <code>TreeNode</code> in the <code>Deque</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Deque&lt;Optional&lt;TreeNode&gt;&gt; queue = new ArrayDeque&lt;&gt;();\nqueue.offer(Optional.empty());\n\nwhile (!queue.isEmpty()) {\n    Optional&lt;TreeNode&gt; optNode = queue.poll();\n\n    if (optNode.isEmpty())\n        System.err.println(&quot;null object&quot;);\n    else\n        System.out.println(&quot;not null object&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23136540,"reputation":17,"user_id":17240698,"display_name":"Sea Bean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636966824,"creation_date":1636813740,"answer_id":69955203,"question_id":69952398,"body_markdown":"Thanks for inspiring me! This is my final-version-algorithm:\r\n\r\n```\r\nclass Solution {\r\n    static final TreeNode NULL_TREENODE = new TreeNode(101);\r\n\r\n    public boolean isSymmetric(TreeNode root) {\r\n        Deque&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\r\n        Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\r\n        \r\n        if (root != null) {\r\n            queue.offer(root);\r\n            while (!queue.isEmpty()) {\r\n                int size = queue.size();\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    TreeNode node = queue.poll();\r\n                    if (node != root) {  \r\n                       stack.push(node.val);\r\n                    } \r\n                    if (node != NULL_TREENODE) {\r\n\r\n                        if (node.left != null) {\r\n                            queue.offer(node.left);\r\n                        } \r\n                        if (node.left == null) {  \r\n                            queue.offer(NULL_TREENODE);\r\n                        }\r\n                        if (node.right != null) {\r\n                            queue.offer(node.right);\r\n                        }\r\n                        if (node.right == null) {\r\n                            queue.offer(NULL_TREENODE);\r\n                        }\r\n                   }\r\n                }\r\n          \r\n                while (!stack.isEmpty()) {\r\n                    if (stack.removeFirst() != stack.removeLast()) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nHowever, it&#39;s not a good algorithm for this question, cause it needs much extra memory space by the stack.","title":"If I want to offer a null into an ArrayDeque, how could I do it","body":"<p>Thanks for inspiring me! This is my final-version-algorithm:</p>\n<pre><code>class Solution {\n    static final TreeNode NULL_TREENODE = new TreeNode(101);\n\n    public boolean isSymmetric(TreeNode root) {\n        Deque&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\n        Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\n        \n        if (root != null) {\n            queue.offer(root);\n            while (!queue.isEmpty()) {\n                int size = queue.size();\n                for (int i = 0; i &lt; size; i++) {\n                    TreeNode node = queue.poll();\n                    if (node != root) {  \n                       stack.push(node.val);\n                    } \n                    if (node != NULL_TREENODE) {\n\n                        if (node.left != null) {\n                            queue.offer(node.left);\n                        } \n                        if (node.left == null) {  \n                            queue.offer(NULL_TREENODE);\n                        }\n                        if (node.right != null) {\n                            queue.offer(node.right);\n                        }\n                        if (node.right == null) {\n                            queue.offer(NULL_TREENODE);\n                        }\n                   }\n                }\n          \n                while (!stack.isEmpty()) {\n                    if (stack.removeFirst() != stack.removeLast()) {\n                        return false;\n                    }\n                }\n            }\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>However, it's not a good algorithm for this question, cause it needs much extra memory space by the stack.</p>\n"},{"tags":[],"owner":{"account_id":10525374,"reputation":686,"user_id":7756558,"accept_rate":75,"display_name":"jayant mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672212147,"creation_date":1672212147,"answer_id":74937359,"question_id":69952398,"body_markdown":"Instead of ArrayDeque, why not simply use LinkedList addLast Method,\r\n\r\n    public void addLast(E e)\r\n    Appends the specified element to the end of this list.\r\n    This method is equivalent to add(E).\r\n    \r\n    Specified by:\r\n    addLast in interface Deque&lt;E&gt;\r\n    Parameters:\r\n    e - the element to add","title":"If I want to offer a null into an ArrayDeque, how could I do it","body":"<p>Instead of ArrayDeque, why not simply use LinkedList addLast Method,</p>\n<pre><code>public void addLast(E e)\nAppends the specified element to the end of this list.\nThis method is equivalent to add(E).\n\nSpecified by:\naddLast in interface Deque&lt;E&gt;\nParameters:\ne - the element to add\n</code></pre>\n"}],"owner":{"account_id":23136540,"reputation":17,"user_id":17240698,"display_name":"Sea Bean"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":4,"score":-1,"last_activity_date":1672212147,"creation_date":1636789353,"question_id":69952398,"body_markdown":"Firstly, don&#39;t get me wrong. I know there will be `NullPointerException` if the specified element is null in the `ArrayDeque.offer()`. What I mean is that whether there is a viable alternative that is valid grammatically if I want offer something indicates itself is null into it?\r\nThe case is below:\r\n\r\n&gt; Q: Given the root of a binary tree, check whether it is a mirror of\r\n&gt; itself (i.e., symmetric around its centre).\\\r\nConstraints: \r\n\\\r\n1.The number of nodes in the tree is in the range [1, 1000].\\\r\n2.-100 &lt;= Node.val &lt;= 100\r\n\r\n\r\nA:\r\n\r\n```\r\nclass Solution {\r\n    public boolean isSymmetric(TreeNode root) {\r\n        Deque&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\r\n        Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\r\n        \r\n        if (root != null) {\r\n            queue.offer(root);\r\n            while (!queue.isEmpty()) {\r\n                int size = queue.size();\r\n            \r\n                for (int i = 0; i &lt; size; i++) {\r\n                    TreeNode node = queue.poll();\r\n                  \r\n                    if (stack.isEmpty() || stack.peek() != node.val) {\r\n                        stack.push(node.val);\r\n                    } else { \r\n                        stack.pop();\r\n                    }\r\n                    if (node != null) {                     \r\n                        queue.offer(node.left);\r\n                        queue.offer(node.right);\r\n                    }\r\n                   \r\n                }\r\n                if (!stack.isEmpty()) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nBut there is something wrong in:\r\n\r\n    queue.offer(node.left);  // offer a null is valid\r\n    queue.offer(node.right);  // offer a null is valid\r\n\r\nSo that&#39;s my question.\r\n","title":"If I want to offer a null into an ArrayDeque, how could I do it","body":"<p>Firstly, don't get me wrong. I know there will be <code>NullPointerException</code> if the specified element is null in the <code>ArrayDeque.offer()</code>. What I mean is that whether there is a viable alternative that is valid grammatically if I want offer something indicates itself is null into it?\nThe case is below:</p>\n<blockquote>\n<p>Q: Given the root of a binary tree, check whether it is a mirror of\nitself (i.e., symmetric around its centre).<br />\nConstraints:\n<br />\n1.The number of nodes in the tree is in the range [1, 1000].<br />\n2.-100 &lt;= Node.val &lt;= 100</p>\n</blockquote>\n<p>A:</p>\n<pre><code>class Solution {\n    public boolean isSymmetric(TreeNode root) {\n        Deque&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\n        Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\n        \n        if (root != null) {\n            queue.offer(root);\n            while (!queue.isEmpty()) {\n                int size = queue.size();\n            \n                for (int i = 0; i &lt; size; i++) {\n                    TreeNode node = queue.poll();\n                  \n                    if (stack.isEmpty() || stack.peek() != node.val) {\n                        stack.push(node.val);\n                    } else { \n                        stack.pop();\n                    }\n                    if (node != null) {                     \n                        queue.offer(node.left);\n                        queue.offer(node.right);\n                    }\n                   \n                }\n                if (!stack.isEmpty()) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>But there is something wrong in:</p>\n<pre><code>queue.offer(node.left);  // offer a null is valid\nqueue.offer(node.right);  // offer a null is valid\n</code></pre>\n<p>So that's my question.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1671977134,"post_id":74913552,"comment_id":132203060,"body_markdown":"Can you add Message class to the question?","body":"Can you add Message class to the question?"},{"owner":{"account_id":23752061,"reputation":11,"user_id":17768688,"display_name":"Hasan Isleem"},"score":0,"creation_date":1671978397,"post_id":74913552,"comment_id":132203233,"body_markdown":"I covert class from Message to EventMessage \nand EventMessage include this field :\n  protected String type;\n    protected long actorId;\n    protected Serializable entity;\n    protected String entityType;","body":"I covert class from Message to EventMessage  and EventMessage include this field :   protected String type;     protected long actorId;     protected Serializable entity;     protected String entityType;"},{"owner":{"account_id":23752061,"reputation":11,"user_id":17768688,"display_name":"Hasan Isleem"},"score":0,"creation_date":1671978781,"post_id":74913552,"comment_id":132203284,"body_markdown":"@birca123 I don&#39;t Know what I should do . I&#39;ve tried it a lot","body":"@birca123 I don&#39;t Know what I should do . I&#39;ve tried it a lot"},{"owner":{"account_id":2032415,"reputation":1277,"user_id":1815716,"accept_rate":38,"display_name":"prasad"},"score":0,"creation_date":1672053546,"post_id":74913552,"comment_id":132213033,"body_markdown":"In Producer Factory you have mentioned String but for value serializer you have configured JsonSerializer and commented StringSerializer, i think you need to change that","body":"In Producer Factory you have mentioned String but for value serializer you have configured JsonSerializer and commented StringSerializer, i think you need to change that"}],"answers":[{"tags":[],"owner":{"account_id":23752061,"reputation":11,"user_id":17768688,"display_name":"Hasan Isleem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672159357,"creation_date":1672064158,"answer_id":74921159,"question_id":74913552,"body_markdown":"I solve it by adding this statement on `messageKafkaListenerContainerFactory`:\r\n\r\n```\r\nfactory.setMessageConverter(new StringJsonMessageConverter());\r\n```\r\n\r\nAnd change `@Payload Message message`  to `@Payload String  message`.\r\n","title":"Kafka Listener method could not be invoked with the incoming message Endpoint handler details","body":"<p>I solve it by adding this statement on <code>messageKafkaListenerContainerFactory</code>:</p>\n<pre><code>factory.setMessageConverter(new StringJsonMessageConverter());\n</code></pre>\n<p>And change <code>@Payload Message message</code>  to <code>@Payload String  message</code>.</p>\n"}],"owner":{"account_id":23752061,"reputation":11,"user_id":17768688,"display_name":"Hasan Isleem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672211636,"creation_date":1671975034,"question_id":74913552,"body_markdown":"I&#39;m sending a json object from producer spring boot but when I&#39;m trying to receive the message in consumer\r\nI am getting following error :\r\n\r\n```\r\nCaused by: org.springframework.messaging.converter.MessageConversionException: Cannot convert from [java.lang.String] to [com.***.***.kafka.messages.Message] for GenericMessage [payload={&quot;type&quot;:&quot;HHH&quot;,&quot;actorId&quot;:1,&quot;entity&quot;:null,&quot;entityType&quot;:&quot;ssss&quot;}, headers={kafka_offset=45, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@789f2579, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=isomantopictest, kafka_receivedTimestamp=1671973825381, __TypeId__=[B@500ac626, kafka_groupId=isoman5}]\r\n\tat org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:144) ~[spring-messaging-6.0.2.jar:6.0.2]\r\n\tat org.springframework.kafka.annotation.KafkaNullAwarePayloadArgumentResolver.resolveArgument(KafkaNullAwarePayloadArgumentResolver.java:46) ~[spring-kafka-3.0.0.jar:3.0.0]\r\n\tat org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118) ~[spring-messaging-6.0.2.jar:6.0.2]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147) ~[spring-messaging-6.0.2.jar:6.0.2]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115) ~[spring-messaging-6.0.2.jar:6.0.2]\r\n\tat org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56) ~[spring-kafka-3.0.0.jar:3.0.0]\r\n\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:366) ~[spring-kafka-3.0.0.jar:3.0.0]\r\n\t... 15 common frames omitted\r\n```\r\nKafkaConfig :\r\n```\r\n @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(\r\n                ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,\r\n                bootstrapAddress);\r\n        configProps.put(\r\n                ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\r\n                StringSerializer.class);\r\n//        configProps.put(\r\n//                ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\r\n//                StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate kafkaTemplate() {\r\n        KafkaTemplate&lt;String, Message&gt; kafkaTemplate = new KafkaTemplate(producerFactory());\r\n        kafkaTemplate.setConsumerFactory(messageConsumerFactory());\r\n        return kafkaTemplate;\r\n    }\r\n\r\n    public ConsumerFactory&lt;String, Message&gt; messageConsumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(\r\n                props,\r\n                new StringDeserializer(),\r\n                new JsonDeserializer&lt;&gt;(Message.class));\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Message&gt; messageKafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Message&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(messageConsumerFactory());\r\n//        factory.setMessageConverter(new StringJsonMessageConverter());\r\n        return factory;\r\n    }\r\n```\r\n\r\nReceive File :\r\n\r\n```\r\n@KafkaListener(idIsGroup = false, groupId = &quot;${kafka.group-id}&quot;,\r\n        topics=&quot;#{&#39;${kafka.topics}&#39;.split(&#39;,&#39;)}&quot;)\r\nvoid hearing(@Payload  Message message )  {\r\n    if (verbose) {\r\n        log.trace(&quot;New message received : type = {}, payload = {}&quot;, message.getType(), message);\r\n        log.trace(&quot;Calling processMessage()&quot;);\r\n    }\r\n   \r\n}\r\n```","title":"Kafka Listener method could not be invoked with the incoming message Endpoint handler details","body":"<p>I'm sending a json object from producer spring boot but when I'm trying to receive the message in consumer\nI am getting following error :</p>\n<pre><code>Caused by: org.springframework.messaging.converter.MessageConversionException: Cannot convert from [java.lang.String] to [com.***.***.kafka.messages.Message] for GenericMessage [payload={&quot;type&quot;:&quot;HHH&quot;,&quot;actorId&quot;:1,&quot;entity&quot;:null,&quot;entityType&quot;:&quot;ssss&quot;}, headers={kafka_offset=45, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@789f2579, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=isomantopictest, kafka_receivedTimestamp=1671973825381, __TypeId__=[B@500ac626, kafka_groupId=isoman5}]\n    at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:144) ~[spring-messaging-6.0.2.jar:6.0.2]\n    at org.springframework.kafka.annotation.KafkaNullAwarePayloadArgumentResolver.resolveArgument(KafkaNullAwarePayloadArgumentResolver.java:46) ~[spring-kafka-3.0.0.jar:3.0.0]\n    at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118) ~[spring-messaging-6.0.2.jar:6.0.2]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147) ~[spring-messaging-6.0.2.jar:6.0.2]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115) ~[spring-messaging-6.0.2.jar:6.0.2]\n    at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56) ~[spring-kafka-3.0.0.jar:3.0.0]\n    at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:366) ~[spring-kafka-3.0.0.jar:3.0.0]\n    ... 15 common frames omitted\n</code></pre>\n<p>KafkaConfig :</p>\n<pre><code> @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n        configProps.put(\n                ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,\n                bootstrapAddress);\n        configProps.put(\n                ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\n                StringSerializer.class);\n//        configProps.put(\n//                ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\n//                StringSerializer.class);\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n    }\n\n    @Bean\n    public KafkaTemplate kafkaTemplate() {\n        KafkaTemplate&lt;String, Message&gt; kafkaTemplate = new KafkaTemplate(producerFactory());\n        kafkaTemplate.setConsumerFactory(messageConsumerFactory());\n        return kafkaTemplate;\n    }\n\n    public ConsumerFactory&lt;String, Message&gt; messageConsumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(\n                props,\n                new StringDeserializer(),\n                new JsonDeserializer&lt;&gt;(Message.class));\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Message&gt; messageKafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, Message&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(messageConsumerFactory());\n//        factory.setMessageConverter(new StringJsonMessageConverter());\n        return factory;\n    }\n</code></pre>\n<p>Receive File :</p>\n<pre><code>@KafkaListener(idIsGroup = false, groupId = &quot;${kafka.group-id}&quot;,\n        topics=&quot;#{'${kafka.topics}'.split(',')}&quot;)\nvoid hearing(@Payload  Message message )  {\n    if (verbose) {\n        log.trace(&quot;New message received : type = {}, payload = {}&quot;, message.getType(), message);\n        log.trace(&quot;Calling processMessage()&quot;);\n    }\n   \n}\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":0,"creation_date":1672219127,"post_id":74937184,"comment_id":132243688,"body_markdown":"Can you post the complete stacktrace and also application.prop if applicable.","body":"Can you post the complete stacktrace and also application.prop if applicable."}],"owner":{"account_id":3936699,"reputation":345,"user_id":3252887,"accept_rate":44,"display_name":"junsid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672210845,"creation_date":1672210845,"question_id":74937184,"body_markdown":"I am trying to setup a third party Java hibernate application. Currently, I am experiencing the following exception. Could anyone help me with this? \r\n\r\n    java.lang.IllegalStateException: Cannot get a connection as the driver manager is not properly initialized\r\n            at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:172) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\r\nI have modified the hibernate config xml file with different options. But still facing the issue.\r\nMySQL Version : 5 \r\nConfig file looks like :\r\n\r\n    &lt;hibernate-configuration&gt;\r\n            &lt;session-factory&gt;\r\n    \r\n                    &lt;!-- Set URL --&gt;\r\n                    &lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3300/testdb1&lt;/property&gt;\r\n    \r\n                    &lt;!-- Set User Name --&gt;\r\n                    &lt;property name = &quot;hibernate.connection.username&quot;&gt;testuser1&lt;/property&gt;\r\n    \r\n                    &lt;!-- Set Password --&gt;\r\n                    &lt;property name = &quot;hibernate.connection.password&quot;&gt;testpassword&lt;/property&gt;\r\n    \r\n                    &lt;!-- Set Driver Name --&gt;\r\n                    &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n    \r\n                    &lt;property name = &quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n    \r\n                    &lt;!-- property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property --&gt;\r\n                    &lt;property name= &quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLInnoDBDialect&lt;/property&gt;\r\n    \r\n            &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;","title":"Exception &quot;Cannot get a connection as the driver manager is not properly initialized&quot; while connecting to MySQL from the Java hibernate application","body":"<p>I am trying to setup a third party Java hibernate application. Currently, I am experiencing the following exception. Could anyone help me with this?</p>\n<pre><code>java.lang.IllegalStateException: Cannot get a connection as the driver manager is not properly initialized\n        at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:172) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n</code></pre>\n<p>I have modified the hibernate config xml file with different options. But still facing the issue.\nMySQL Version : 5\nConfig file looks like :</p>\n<pre><code>&lt;hibernate-configuration&gt;\n        &lt;session-factory&gt;\n\n                &lt;!-- Set URL --&gt;\n                &lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3300/testdb1&lt;/property&gt;\n\n                &lt;!-- Set User Name --&gt;\n                &lt;property name = &quot;hibernate.connection.username&quot;&gt;testuser1&lt;/property&gt;\n\n                &lt;!-- Set Password --&gt;\n                &lt;property name = &quot;hibernate.connection.password&quot;&gt;testpassword&lt;/property&gt;\n\n                &lt;!-- Set Driver Name --&gt;\n                &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n\n                &lt;property name = &quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n\n                &lt;!-- property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property --&gt;\n                &lt;property name= &quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLInnoDBDialect&lt;/property&gt;\n\n        &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","websocket","spring-websocket"],"comments":[{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672116930,"post_id":74917472,"comment_id":132223289,"body_markdown":"Do you have any client acknowledgement from frontend or is it auto acknowledgement? How do you receive the message. Can you post that too.","body":"Do you have any client acknowledgement from frontend or is it auto acknowledgement? How do you receive the message. Can you post that too."},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672116979,"post_id":74917472,"comment_id":132223296,"body_markdown":"What is the message broker that you are using with websocket?","body":"What is the message broker that you are using with websocket?"},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672118899,"post_id":74917472,"comment_id":132223478,"body_markdown":"@pacman client doesn&#39;t receive the message at all. But on the Java side, every single line of code is executed without any error.\n\nKafka with Zookeeper as message broker","body":"@pacman client doesn&#39;t receive the message at all. But on the Java side, every single line of code is executed without any error.  Kafka with Zookeeper as message broker"},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672119721,"post_id":74917472,"comment_id":132223580,"body_markdown":"Can you try to see if the messages are send to same queue that you are expecting to? How does the subscribed queue name look from frontend and its corresponding name from backend? Also please post the subscription code at frontend","body":"Can you try to see if the messages are send to same queue that you are expecting to? How does the subscribed queue name look from frontend and its corresponding name from backend? Also please post the subscription code at frontend"},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672120092,"post_id":74917472,"comment_id":132223639,"body_markdown":"@pacman yes, I have &quot;destination&quot; logged on the front as well as on the java side to make sure I am sending it to correct destination. which is &quot;/user/&lt;userId&gt;/queue/message&quot;... updating my question with the front-end code.","body":"@pacman yes, I have &quot;destination&quot; logged on the front as well as on the java side to make sure I am sending it to correct destination. which is &quot;/user/&lt;userId&gt;/queue/message&quot;... updating my question with the front-end code."},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672120225,"post_id":74917472,"comment_id":132223659,"body_markdown":"All the logs work fine, if the device_status is online.... But if device is offline, any message triggered by admin is stored in a postgres table, and when the device comes back online, these messages are picked up and then send to that device. This is where the code fails.","body":"All the logs work fine, if the device_status is online.... But if device is offline, any message triggered by admin is stored in a postgres table, and when the device comes back online, these messages are picked up and then send to that device. This is where the code fails."},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672120742,"post_id":74917472,"comment_id":132223717,"body_markdown":"Do you have a custom handshake handler? How do you get `key` in `messagingTemplate.convertAndSendToUser(key, destination, data);`.","body":"Do you have a custom handshake handler? How do you get <code>key</code> in <code>messagingTemplate.convertAndSendToUser(key, destination, data);</code>."},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672121544,"post_id":74917472,"comment_id":132223833,"body_markdown":"@pacman I have a channelInterceptor, which gets the destination, and I extract the key from there. Updating that code too in the question.","body":"@pacman I have a channelInterceptor, which gets the destination, and I extract the key from there. Updating that code too in the question."},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672122167,"post_id":74917472,"comment_id":132223920,"body_markdown":"So the key remains same at all times? The claims.getId() won&#39;t change during reconnect or after sometime?","body":"So the key remains same at all times? The claims.getId() won&#39;t change during reconnect or after sometime?"},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672122636,"post_id":74917472,"comment_id":132223999,"body_markdown":"No, it&#39;s the unique device ID, which is sent by the mobile app. Every mobile app is connected to only 1 device at a time. Every device ID is further mapped to a unique Device Serial number. So mobile app doesn&#39;t have access to other device serial UIDs","body":"No, it&#39;s the unique device ID, which is sent by the mobile app. Every mobile app is connected to only 1 device at a time. Every device ID is further mapped to a unique Device Serial number. So mobile app doesn&#39;t have access to other device serial UIDs"},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672293874,"post_id":74917472,"comment_id":132260042,"body_markdown":"Can you try one experiment. Can you directly inject the data to queue without using `SimpMessagingTemplate` and see if you get data in the frontend during reconnect?","body":"Can you try one experiment. Can you directly inject the data to queue without using <code>SimpMessagingTemplate</code> and see if you get data in the frontend during reconnect?"},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672306180,"post_id":74917472,"comment_id":132262689,"body_markdown":"@pacman not sure how to inject directly in queue ? Any guideline please ?","body":"@pacman not sure how to inject directly in queue ? Any guideline please ?"},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672374063,"post_id":74917472,"comment_id":132277838,"body_markdown":"If you are using rabbitmq then use AmpqTemplate or if with activemq JmsTemplate.","body":"If you are using rabbitmq then use AmpqTemplate or if with activemq JmsTemplate."},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672374604,"post_id":74917472,"comment_id":132277899,"body_markdown":"I am using none. There&#39;s  Kafka producer and consumer in the same java web back-end...","body":"I am using none. There&#39;s  Kafka producer and consumer in the same java web back-end..."},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672375614,"post_id":74917472,"comment_id":132278028,"body_markdown":"Kafka is not message broker for stomp websocket. You are using it for different purpose. Currently you are using inbuilt queue in java by default which is not recommended for production. In the `WebsocketConfig` class in the method `configureMessageBroker` you have to configure it. Currently it is `        config.enableSimpleBroker(&quot;/user&quot;)` which is the inbuilt queue. You need to run activemq artemis or rabbitmq or something like that in your local and  configure it here.","body":"Kafka is not message broker for stomp websocket. You are using it for different purpose. Currently you are using inbuilt queue in java by default which is not recommended for production. In the <code>WebsocketConfig</code> class in the method <code>configureMessageBroker</code> you have to configure it. Currently it is `        config.enableSimpleBroker(&quot;/user&quot;)` which is the inbuilt queue. You need to run activemq artemis or rabbitmq or something like that in your local and  configure it here."},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672380971,"post_id":74917472,"comment_id":132278760,"body_markdown":"What I did now is configure an outbound channel interceptor and logged every message that&#39;s send. I also have an inbound interceptor. \n\nWhat I noticed that, if a user = 10, is online, and I send a message... it&#39;s delivered. But if user is offline, the message is stored in table. Next time when user 10 comes online, inbound intercetpor calls my method to mark user as online, and then that message takes all the messages for that user and triggers them. These messages are not logged in outbound channel. Same message are logged, if user is online and msg is sent.","body":"What I did now is configure an outbound channel interceptor and logged every message that&#39;s send. I also have an inbound interceptor.   What I noticed that, if a user = 10, is online, and I send a message... it&#39;s delivered. But if user is offline, the message is stored in table. Next time when user 10 comes online, inbound intercetpor calls my method to mark user as online, and then that message takes all the messages for that user and triggers them. These messages are not logged in outbound channel. Same message are logged, if user is online and msg is sent."}],"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672210678,"creation_date":1672032234,"question_id":74917472,"body_markdown":"I have a web application that uses Kafka and Spring WebSocket for emitting different events to a mobile app. Events are triggered based on the logic where mobile app is online or offline. \r\n\r\nThe logic works perfectly fine if an event is triggered when mobile app is already online. But if it&#39;s offline, the triggered event is stored in a postgres table and marked with status PENDING. So when the mobile app comes back online, these table searches for the message and then triggers the event. \r\n\r\nIn order to update the mobile status, I am using Socket Sessions, and ChannelInterceptor which updates the mobile app status on SUBSCRIBE and DISCONNECT event. \r\n\r\nI have logs at every possible place, and all the logs are executed when the mobile app comes back online. There&#39;s no error anywhere. The last log is right before :\r\n\r\n````\r\nmessagingTemplate.convertAndSendToUser();\r\n````\r\nLogs :\r\n````\r\nDevice Status in request : true\r\nSend Mode : IMMEDIATE\r\ninside immediate never expire &gt;&gt;&gt;&gt;&gt; \r\nEnter: SocketService.send() with argument[s] = [{Status=200, Response={PayloadId=1415, PayloadExpiryDateTime=0, PayloadPriority=1, EventType=NEW_MESSAGE, TemporaryMessage={Messages={Data=[{Title=Message1, DataToSend={Message=Message1, Data=bZijp8pcSKwnbRhnm2khEUkaonv3XpZ6PnS0IRP+ab4p1ub2Cmuuylga6z8RASwPWbTbxbZH5ickk4HcWKeEM1Qq8PHnmAEj/VmnLmhP9UbITDrFbzWaeUcAhdWuFzD1QKfp4lmjsFl6LeswN6x+tgFi+mimURK9EaKuKiQKnP3sZHfw6Bk2o/jH4ik8hoKetO2GRxNOKs/8H9NYUS4hLP/RP3vJttUtHo3fiJd3WwWcxT+w+YZneDFmc28ECjpoJ0ZzgV7NRJlhKBcOMl7V6eV2Rax7yNC2k7zyHH/ylkhkq74heWAtde/S43S6WLTMbtc2+t1MgHNOevsxEyI/ghBE1wJzgBIdvlhFX4M1jam+AYHyXhF7CNC/Hr/i+dpw3/SogNQwIidW8FZ5EWwBJP2nYv0eZ0owK/8zwEs3FZWF9fRUeUGn7VwFNFDsf4P1FUbeWcwHA847iHBuUF2qDVtLNgQtyejGKxhn3+a8yoKyU96cpteOmGmbZPuyU3xRk401gkk4a0noS3SOjWO8B0OKyq782K3gRUoVssPV8Hg=, ReqNr=9.0000001E7}}]}, Playlists={Data=[{Title=TemporaryPlaylist, DataToSend={Message=Temporary Playlist, Data=G7Prf2ZRUh+MSBNTjLH2BT7nNB1o8zXgz/mn9leZ7Q4UoZH1MzMrJj3ISvdkQZNAbVCnYQjh5XhOnUr1kGrZpWJ/lHUyJi1coc7fdMxe0fkgBJk9SySvaFN/TvFQaUlv2wRWIoPVXmLVhukFgzLsDeVWmuzNaWZXTQCemIzrK6SaCJ+FfFAzgxG2Z7QxWkVx, ReqNr=9.0000002E7}}]}, ShowCommands={Data=[{DataToSend={Type=ShowPlaylistRequest, ShowAll=[{CallWord=t2212161322}]}}]}}}, Message=Success}, message, 108]\r\nSending to Producer : {&quot;Status&quot;:200,&quot;Response&quot;:{&quot;PayloadId&quot;:1415,&quot;PayloadExpiryDateTime&quot;:0,&quot;PayloadPriority&quot;:1,&quot;EventType&quot;:&quot;NEW_MESSAGE&quot;,&quot;TemporaryMessage&quot;:{&quot;Messages&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;Message1&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Message1&quot;,&quot;Data&quot;:&quot;bZijp8pcSKwnbRhnm2khEUkaonv3XpZ6PnS0IRP+ab4p1ub2Cmuuylga6z8RASwPWbTbxbZH5ickk4HcWKeEM1Qq8PHnmAEj/VmnLmhP9UbITDrFbzWaeUcAhdWuFzD1QKfp4lmjsFl6LeswN6x+tgFi+mimURK9EaKuKiQKnP3sZHfw6Bk2o/jH4ik8hoKetO2GRxNOKs/8H9NYUS4hLP/RP3vJttUtHo3fiJd3WwWcxT+w+YZneDFmc28ECjpoJ0ZzgV7NRJlhKBcOMl7V6eV2Rax7yNC2k7zyHH/ylkhkq74heWAtde/S43S6WLTMbtc2+t1MgHNOevsxEyI/ghBE1wJzgBIdvlhFX4M1jam+AYHyXhF7CNC/Hr/i+dpw3/SogNQwIidW8FZ5EWwBJP2nYv0eZ0owK/8zwEs3FZWF9fRUeUGn7VwFNFDsf4P1FUbeWcwHA847iHBuUF2qDVtLNgQtyejGKxhn3+a8yoKyU96cpteOmGmbZPuyU3xRk401gkk4a0noS3SOjWO8B0OKyq782K3gRUoVssPV8Hg=&quot;,&quot;ReqNr&quot;:9.0000001E7}}]},&quot;Playlists&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;TemporaryPlaylist&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Temporary Playlist&quot;,&quot;Data&quot;:&quot;G7Prf2ZRUh+MSBNTjLH2BT7nNB1o8zXgz/mn9leZ7Q4UoZH1MzMrJj3ISvdkQZNAbVCnYQjh5XhOnUr1kGrZpWJ/lHUyJi1coc7fdMxe0fkgBJk9SySvaFN/TvFQaUlv2wRWIoPVXmLVhukFgzLsDeVWmuzNaWZXTQCemIzrK6SaCJ+FfFAzgxG2Z7QxWkVx&quot;,&quot;ReqNr&quot;:9.0000002E7}}]},&quot;ShowCommands&quot;:{&quot;Data&quot;:[{&quot;DataToSend&quot;:{&quot;Type&quot;:&quot;ShowPlaylistRequest&quot;,&quot;ShowAll&quot;:[{&quot;CallWord&quot;:&quot;t2212161322&quot;}]}}]}}},&quot;Message&quot;:&quot;Success&quot;}\r\nExit: SocketService.send() with result = null\r\nReceived from Kafka : {&quot;Status&quot;:200,&quot;Response&quot;:{&quot;PayloadId&quot;:1415,&quot;PayloadExpiryDateTime&quot;:0,&quot;PayloadPriority&quot;:1,&quot;EventType&quot;:&quot;NEW_MESSAGE&quot;,&quot;TemporaryMessage&quot;:{&quot;Messages&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;Message1&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Message1&quot;,&quot;Data&quot;:&quot;bZijp8pcSKwnbRhnm2khEUkaonv3XpZ6PnS0IRP+ab4p1ub2Cmuuylga6z8RASwPWbTbxbZH5ickk4HcWKeEM1Qq8PHnmAEj/VmnLmhP9UbITDrFbzWaeUcAhdWuFzD1QKfp4lmjsFl6LeswN6x+tgFi+mimURK9EaKuKiQKnP3sZHfw6Bk2o/jH4ik8hoKetO2GRxNOKs/8H9NYUS4hLP/RP3vJttUtHo3fiJd3WwWcxT+w+YZneDFmc28ECjpoJ0ZzgV7NRJlhKBcOMl7V6eV2Rax7yNC2k7zyHH/ylkhkq74heWAtde/S43S6WLTMbtc2+t1MgHNOevsxEyI/ghBE1wJzgBIdvlhFX4M1jam+AYHyXhF7CNC/Hr/i+dpw3/SogNQwIidW8FZ5EWwBJP2nYv0eZ0owK/8zwEs3FZWF9fRUeUGn7VwFNFDsf4P1FUbeWcwHA847iHBuUF2qDVtLNgQtyejGKxhn3+a8yoKyU96cpteOmGmbZPuyU3xRk401gkk4a0noS3SOjWO8B0OKyq782K3gRUoVssPV8Hg=&quot;,&quot;ReqNr&quot;:9.0000001E7}}]},&quot;Playlists&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;TemporaryPlaylist&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Temporary Playlist&quot;,&quot;Data&quot;:&quot;G7Prf2ZRUh+MSBNTjLH2BT7nNB1o8zXgz/mn9leZ7Q4UoZH1MzMrJj3ISvdkQZNAbVCnYQjh5XhOnUr1kGrZpWJ/lHUyJi1coc7fdMxe0fkgBJk9SySvaFN/TvFQaUlv2wRWIoPVXmLVhukFgzLsDeVWmuzNaWZXTQCemIzrK6SaCJ+FfFAzgxG2Z7QxWkVx&quot;,&quot;ReqNr&quot;:9.0000002E7}}]},&quot;ShowCommands&quot;:{&quot;Data&quot;:[{&quot;DataToSend&quot;:{&quot;Type&quot;:&quot;ShowPlaylistRequest&quot;,&quot;ShowAll&quot;:[{&quot;CallWord&quot;:&quot;t2212161322&quot;}]}}]}}},&quot;Message&quot;:&quot;Success&quot;}\r\nSending to Socket Client.......\r\n\r\n````\r\nBut the front-end never gets the message. \r\n\r\nBelow are some code snippets: \r\n\r\nChannel Interceptor:\r\n````\r\npublic class SocketInterceptor implements ChannelInterceptor {\r\n\r\n    @Autowired\r\n    SocketSessionService socketSessionService;\r\n\r\n    private final Logger log = LoggerFactory.getLogger(SocketInterceptor.class);\r\n\r\n    @Override\r\n    public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n\r\n        MessageHeaders headers = message.getHeaders();\r\n        StompHeaderAccessor accessor = StompHeaderAccessor.wrap(message);\r\n\r\n        MultiValueMap&lt;String, String&gt; multiValueMap = headers.get(StompHeaderAccessor.NATIVE_HEADERS,MultiValueMap.class);\r\n\r\n        if (multiValueMap !=null) {\r\n            if (multiValueMap.containsKey(&quot;destination&quot;)) {\r\n                String destination = multiValueMap.get(&quot;destination&quot;).get(0);\r\n                log.info(&quot;Destination in interceptor : &quot; + destination);\r\n            }\r\n        }\r\n\r\n        if (accessor.getCommand()!=null) {\r\n            log.info(&quot;Client Method : &quot; + accessor.getCommand().name());\r\n            if (accessor.getCommand().equals(StompCommand.CONNECT) || accessor.getCommand().equals(StompCommand.SUBSCRIBE) || accessor.getCommand().equals(StompCommand.SEND)) {\r\n                if (!multiValueMap.containsKey(&quot;access-token&quot;)) {\r\n                    log.error(&quot;Token Error &quot; + &quot;No Token was provided in + &quot; + accessor.getCommand().name());\r\n                    throw new MessagingException(&quot;Forbidden: No Token was provided in header for Socket Command: &quot; + accessor.getCommand().name());\r\n                }\r\n                String token = multiValueMap.get(&quot;access-token&quot;).get(0);\r\n                if (JwtTokenUtil.verifyToken(JwtTokenUtil.decrypt(token))) {\r\n                    log.info(&quot;Token Verified Successfully &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &quot;);\r\n\r\n                    Claims claims = JwtTokenUtil.verifyJwtToken(JwtTokenUtil.decrypt(token));\r\n                    accessor.setHeader(&quot;access-token&quot;, token);\r\n                    Principal principal = new UsernamePasswordAuthenticationToken(claims.getId(), null, null);\r\n\r\n                    accessor.setUser(principal);\r\n                    UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\r\n                            claims.getId(), null, null);\r\n\r\n\r\n                    SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n                    if (accessor.getCommand().equals(StompCommand.SUBSCRIBE)){\r\n                        log.info(&quot;Storing Socket Session on Socket Command SUBSCRIBE &quot;);\r\n                        SocketSessionModel model=new SocketSessionModel();\r\n                        model.setSessionId(accessor.getSessionId());\r\n                        model.setDeviceId(multiValueMap.get(&quot;destination&quot;).get(0));\r\n                        model.setAccessToken(token);\r\n                        model.setCurrentStatus(SocketSessionStatus.ONLINE);\r\n                        model.setReportedOnlineAt(ZonedDateTime.now().with(ZoneOffset.UTC));\r\n                        model.setReportedOfflineAt(null);\r\n                        socketSessionService.onSubscribe(model);\r\n                    }\r\n                    ObjectMapper objectMapper= new ObjectMapper();\r\n                    try {\r\n                        log.info(&quot;Returning back the frame : &quot; + objectMapper.writeValueAsString(message.getPayload()));\r\n                    } catch (Exception e){\r\n                        e.printStackTrace();\r\n                    }\r\n                    return new GenericMessage&lt;&gt;(message.getPayload(), accessor.getMessageHeaders());\r\n                }\r\n                throw new MessagingException(&quot;Token either Expired or Invalid&quot;);\r\n            }\r\n        }\r\n        return message;\r\n    }\r\n}\r\n````\r\n\r\nWebSocket Config : \r\n\r\n````\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    Logger log= LoggerFactory.getLogger(WebSocketConfig.class);\r\n\r\n    @Autowired\r\n    SocketSessionService socketSessionService;\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry stompEndpointRegistry) {\r\n\r\n        stompEndpointRegistry.addEndpoint(&quot;/ws&quot;)\r\n                .setAllowedOrigins(&quot;*&quot;)\r\n                .withSockJS();\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/user&quot;)\r\n                .setTaskScheduler(customTaskScheduler())\r\n                .setHeartbeatValue(new long[]{25000,10000});\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        config.setUserDestinationPrefix(&quot;/user&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configureClientInboundChannel(ChannelRegistration registration) {\r\n        registration.interceptors(socketInterceptor());\r\n    }\r\n    @Bean\r\n    public SocketInterceptor socketInterceptor() {\r\n        return new SocketInterceptor();\r\n    }\r\n\r\n    @Bean\r\n    public TaskScheduler customTaskScheduler(){\r\n        return new ThreadPoolTaskScheduler();\r\n    }\r\n\r\n    @EventListener(SessionDisconnectEvent.class)\r\n    public void handleWsDisconnectListener(SessionDisconnectEvent event) {\r\n        Optional&lt;String&gt; sessionId= getSessionIdFromEvent(event);\r\n        sessionId.ifPresent(s -&gt; socketSessionService.onDisconnect(s));\r\n    }\r\n    private Optional&lt;String&gt; getSessionIdFromEvent(AbstractSubProtocolEvent event) {\r\n        String sessionId = null;\r\n        System.out.println(&quot;Session Id in event : &quot; + (event.getMessage().getHeaders()).get(&quot;simpSessionId&quot;));\r\n        Object sessionIdAsObject = (event.getMessage().getHeaders()).get(&quot;simpSessionId&quot;);\r\n        if (nonNull(sessionIdAsObject) &amp;&amp; sessionIdAsObject.getClass().equals(String.class)) {\r\n            sessionId = (String) sessionIdAsObject;\r\n        }\r\n        return Optional.ofNullable(StringUtils.isEmpty(sessionId) ? null : sessionId);\r\n    }\r\n}\r\n````\r\n\r\nKafka Producer Config : \r\n\r\n````\r\n@Service\r\npublic class KafkaProducerConfig {\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n\r\n    @Async\r\n    public void send(String data, String kafkaTopic, String key) {\r\n\r\n        kafkaTemplate.send(kafkaTopic, key, data);\r\n    }\r\n\r\n    @Async\r\n    public void send(String topic, String data ){\r\n        kafkaTemplate.send(topic, data);\r\n    }\r\n}\r\n````\r\n\r\nKafkaConsumer Config :\r\n\r\n````\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n    private String bootstrapServers;\r\n\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory(String groupId) {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; rawKafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory(&quot;something&quot;));\r\n        return factory;\r\n    }\r\n}\r\n````\r\n\r\nKafka Listener :\r\nThis is the last step where socket emits the messages to clients. The last line of log mentioned here is executed. \r\n\r\n````\r\n@Component\r\npublic class KafkaListenerForSocket {\r\n\r\n    private final Logger log= LoggerFactory.getLogger(KafkaListenerForSocket.class);\r\n\r\n    @Autowired\r\n    SimpMessagingTemplate messagingTemplate;\r\n\r\n    @KafkaListener(topics = KafkaTopicConstants.MESSAGE, containerFactory = &quot;rawKafkaListenerContainerFactory&quot;)\r\n    public void listenToMessages(ConsumerRecord&lt;String, String&gt; consumerRecord) throws IOException {\r\n        ObjectMapper objectMapper=new ObjectMapper();\r\n        String destination=&quot;/queue/message&quot;;\r\n        BaseSocketResponse response=objectMapper.readValue(consumerRecord.value(), BaseSocketResponse.class);\r\n        messagingTemplate.convertAndSendToUser(consumerRecord.key(),destination,response);\r\n\r\n    }\r\n\r\n    public void send(Object data, String key){\r\n        log.info(&quot;Bypassing Kafka and sending directly&quot;);\r\n        String destination=&quot;/queue/message&quot;;\r\n        log.info(&quot;sending to destination : &quot; + &quot;/user/&quot;+key+destination);\r\n        messagingTemplate.convertAndSendToUser(key, destination, data);\r\n    }\r\n}\r\n````\r\nBaseSocketResponse.Java class :\r\n\r\n````\r\npublic class BaseSocketResponse&lt;T&gt; {\r\n\r\n    @JsonProperty(value = &quot;Status&quot;, required = true)\r\n    private Integer status;\r\n\r\n    @JsonProperty(value = &quot;Message&quot;, required = true)\r\n    private String statusMessage = &quot;&quot;;\r\n\r\n    @JsonProperty(value = &quot;Response&quot;, required = true)\r\n    private T response;\r\n\r\n\r\n    public Integer getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(Integer status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public String getStatusMessage() {\r\n        return statusMessage;\r\n    }\r\n\r\n    public void setStatusMessage(String statusMessage) {\r\n        this.statusMessage = statusMessage;\r\n    }\r\n\r\n    public T getResponse() {\r\n        return response;\r\n    }\r\n\r\n    public void setResponse(T response) {\r\n        this.response = response;\r\n    }\r\n\r\n}\r\n````\r\n\r\nfront-end code : \r\n\r\n````\r\nvar stompClient = null;\r\n\r\nfunction setConnected(connected) {\r\n    $(&quot;#connect&quot;).prop(&quot;disabled&quot;, connected);\r\n    $(&quot;#disconnect&quot;).prop(&quot;disabled&quot;, !connected);\r\n    if (connected) {\r\n        $(&quot;#conversation&quot;).show();\r\n    }\r\n    else {\r\n        $(&quot;#conversation&quot;).hide();\r\n    }\r\n    $(&quot;#userinfo&quot;).html(&quot;&quot;);\r\n}\r\n\r\nfunction connect() {\r\n    let header={&quot;access-token&quot; : $(&quot;#token&quot;).val()};\r\n    var socket = new SockJS(&#39;/services/toplight/ws&#39;);\r\n    stompClient = Stomp.over(socket);\r\n    stompClient.connect(header, function (frame) {\r\n        if(frame.command == &quot;CONNECTED&quot;) {\r\n            console.log(&quot;Inside frame command : &gt;&gt;&gt;&gt;&gt; &quot; + frame);\r\n            setConnected(true);\r\n            subscribe(stompClient)\r\n        }\r\n    }, (error) =&gt; {\r\n        console.log(&quot;Inside Connect error : &quot; + error );\r\n        onConnectError(error);\r\n    });\r\n}\r\n\r\nfunction subscribe(stompClient){\r\n    \r\n    var token=$(&quot;#token&quot;).val();\r\n    var header={&quot;access-token&quot;: token};\r\n\r\nconsole.log(&quot;Subscribing to Destination : &quot; + &#39;/user/&#39;+$(&quot;#name&quot;).val()+&#39;/queue/message&#39;);\r\n    stompClient.subscribe(&#39;/user/&#39;+$(&quot;#name&quot;).val()+&#39;/queue/message&#39; , greeting, header);\r\n\r\n    var greeting=function(message){\r\n        var body=JSON.parse(message.body);\r\n        if(body.Response.EventType==&quot;NEW_MESSAGE&quot;){\r\n            showNewMessage(response);\r\n        }\r\n    \r\n        if(body.Response.EventType==&quot;DEVICE_UPDATE_RESPONSE&quot;){\r\n            showDeviceUpdate(response);\r\n        }\r\n    \r\n        if(body.Response.EventType==&quot;MESSAGE_UPDATE_RESPONSE&quot;){\r\n            showMessageUpdate(response);\r\n        }    \r\n    };\r\n\r\n}\r\n\r\nfunction onConnectError(error){\r\n    console.log(&quot;Error : &gt;&gt;&gt;&gt;&gt; &quot; + error);\r\n    $(&quot;#greetings&quot;).append(&quot;&lt;h3&gt;&lt;tr&gt;&lt;td&gt;&quot; + error + &quot;&lt;/h3&gt;&quot;);\r\n}\r\n````","title":"Issue with SimpMessagingTemplate not sending socket message to client","body":"<p>I have a web application that uses Kafka and Spring WebSocket for emitting different events to a mobile app. Events are triggered based on the logic where mobile app is online or offline.</p>\n<p>The logic works perfectly fine if an event is triggered when mobile app is already online. But if it's offline, the triggered event is stored in a postgres table and marked with status PENDING. So when the mobile app comes back online, these table searches for the message and then triggers the event.</p>\n<p>In order to update the mobile status, I am using Socket Sessions, and ChannelInterceptor which updates the mobile app status on SUBSCRIBE and DISCONNECT event.</p>\n<p>I have logs at every possible place, and all the logs are executed when the mobile app comes back online. There's no error anywhere. The last log is right before :</p>\n<pre><code>messagingTemplate.convertAndSendToUser();\n</code></pre>\n<p>Logs :</p>\n<pre><code>Device Status in request : true\nSend Mode : IMMEDIATE\ninside immediate never expire &gt;&gt;&gt;&gt;&gt; \nEnter: SocketService.send() with argument[s] = [{Status=200, Response={PayloadId=1415, PayloadExpiryDateTime=0, PayloadPriority=1, EventType=NEW_MESSAGE, TemporaryMessage={Messages={Data=[{Title=Message1, DataToSend={Message=Message1, Data=bZijp8pcSKwnbRhnm2khEUkaonv3XpZ6PnS0IRP+ab4p1ub2Cmuuylga6z8RASwPWbTbxbZH5ickk4HcWKeEM1Qq8PHnmAEj/VmnLmhP9UbITDrFbzWaeUcAhdWuFzD1QKfp4lmjsFl6LeswN6x+tgFi+mimURK9EaKuKiQKnP3sZHfw6Bk2o/jH4ik8hoKetO2GRxNOKs/8H9NYUS4hLP/RP3vJttUtHo3fiJd3WwWcxT+w+YZneDFmc28ECjpoJ0ZzgV7NRJlhKBcOMl7V6eV2Rax7yNC2k7zyHH/ylkhkq74heWAtde/S43S6WLTMbtc2+t1MgHNOevsxEyI/ghBE1wJzgBIdvlhFX4M1jam+AYHyXhF7CNC/Hr/i+dpw3/SogNQwIidW8FZ5EWwBJP2nYv0eZ0owK/8zwEs3FZWF9fRUeUGn7VwFNFDsf4P1FUbeWcwHA847iHBuUF2qDVtLNgQtyejGKxhn3+a8yoKyU96cpteOmGmbZPuyU3xRk401gkk4a0noS3SOjWO8B0OKyq782K3gRUoVssPV8Hg=, ReqNr=9.0000001E7}}]}, Playlists={Data=[{Title=TemporaryPlaylist, DataToSend={Message=Temporary Playlist, Data=G7Prf2ZRUh+MSBNTjLH2BT7nNB1o8zXgz/mn9leZ7Q4UoZH1MzMrJj3ISvdkQZNAbVCnYQjh5XhOnUr1kGrZpWJ/lHUyJi1coc7fdMxe0fkgBJk9SySvaFN/TvFQaUlv2wRWIoPVXmLVhukFgzLsDeVWmuzNaWZXTQCemIzrK6SaCJ+FfFAzgxG2Z7QxWkVx, ReqNr=9.0000002E7}}]}, ShowCommands={Data=[{DataToSend={Type=ShowPlaylistRequest, ShowAll=[{CallWord=t2212161322}]}}]}}}, Message=Success}, message, 108]\nSending to Producer : {&quot;Status&quot;:200,&quot;Response&quot;:{&quot;PayloadId&quot;:1415,&quot;PayloadExpiryDateTime&quot;:0,&quot;PayloadPriority&quot;:1,&quot;EventType&quot;:&quot;NEW_MESSAGE&quot;,&quot;TemporaryMessage&quot;:{&quot;Messages&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;Message1&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Message1&quot;,&quot;Data&quot;:&quot;bZijp8pcSKwnbRhnm2khEUkaonv3XpZ6PnS0IRP+ab4p1ub2Cmuuylga6z8RASwPWbTbxbZH5ickk4HcWKeEM1Qq8PHnmAEj/VmnLmhP9UbITDrFbzWaeUcAhdWuFzD1QKfp4lmjsFl6LeswN6x+tgFi+mimURK9EaKuKiQKnP3sZHfw6Bk2o/jH4ik8hoKetO2GRxNOKs/8H9NYUS4hLP/RP3vJttUtHo3fiJd3WwWcxT+w+YZneDFmc28ECjpoJ0ZzgV7NRJlhKBcOMl7V6eV2Rax7yNC2k7zyHH/ylkhkq74heWAtde/S43S6WLTMbtc2+t1MgHNOevsxEyI/ghBE1wJzgBIdvlhFX4M1jam+AYHyXhF7CNC/Hr/i+dpw3/SogNQwIidW8FZ5EWwBJP2nYv0eZ0owK/8zwEs3FZWF9fRUeUGn7VwFNFDsf4P1FUbeWcwHA847iHBuUF2qDVtLNgQtyejGKxhn3+a8yoKyU96cpteOmGmbZPuyU3xRk401gkk4a0noS3SOjWO8B0OKyq782K3gRUoVssPV8Hg=&quot;,&quot;ReqNr&quot;:9.0000001E7}}]},&quot;Playlists&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;TemporaryPlaylist&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Temporary Playlist&quot;,&quot;Data&quot;:&quot;G7Prf2ZRUh+MSBNTjLH2BT7nNB1o8zXgz/mn9leZ7Q4UoZH1MzMrJj3ISvdkQZNAbVCnYQjh5XhOnUr1kGrZpWJ/lHUyJi1coc7fdMxe0fkgBJk9SySvaFN/TvFQaUlv2wRWIoPVXmLVhukFgzLsDeVWmuzNaWZXTQCemIzrK6SaCJ+FfFAzgxG2Z7QxWkVx&quot;,&quot;ReqNr&quot;:9.0000002E7}}]},&quot;ShowCommands&quot;:{&quot;Data&quot;:[{&quot;DataToSend&quot;:{&quot;Type&quot;:&quot;ShowPlaylistRequest&quot;,&quot;ShowAll&quot;:[{&quot;CallWord&quot;:&quot;t2212161322&quot;}]}}]}}},&quot;Message&quot;:&quot;Success&quot;}\nExit: SocketService.send() with result = null\nReceived from Kafka : {&quot;Status&quot;:200,&quot;Response&quot;:{&quot;PayloadId&quot;:1415,&quot;PayloadExpiryDateTime&quot;:0,&quot;PayloadPriority&quot;:1,&quot;EventType&quot;:&quot;NEW_MESSAGE&quot;,&quot;TemporaryMessage&quot;:{&quot;Messages&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;Message1&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Message1&quot;,&quot;Data&quot;:&quot;bZijp8pcSKwnbRhnm2khEUkaonv3XpZ6PnS0IRP+ab4p1ub2Cmuuylga6z8RASwPWbTbxbZH5ickk4HcWKeEM1Qq8PHnmAEj/VmnLmhP9UbITDrFbzWaeUcAhdWuFzD1QKfp4lmjsFl6LeswN6x+tgFi+mimURK9EaKuKiQKnP3sZHfw6Bk2o/jH4ik8hoKetO2GRxNOKs/8H9NYUS4hLP/RP3vJttUtHo3fiJd3WwWcxT+w+YZneDFmc28ECjpoJ0ZzgV7NRJlhKBcOMl7V6eV2Rax7yNC2k7zyHH/ylkhkq74heWAtde/S43S6WLTMbtc2+t1MgHNOevsxEyI/ghBE1wJzgBIdvlhFX4M1jam+AYHyXhF7CNC/Hr/i+dpw3/SogNQwIidW8FZ5EWwBJP2nYv0eZ0owK/8zwEs3FZWF9fRUeUGn7VwFNFDsf4P1FUbeWcwHA847iHBuUF2qDVtLNgQtyejGKxhn3+a8yoKyU96cpteOmGmbZPuyU3xRk401gkk4a0noS3SOjWO8B0OKyq782K3gRUoVssPV8Hg=&quot;,&quot;ReqNr&quot;:9.0000001E7}}]},&quot;Playlists&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;TemporaryPlaylist&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Temporary Playlist&quot;,&quot;Data&quot;:&quot;G7Prf2ZRUh+MSBNTjLH2BT7nNB1o8zXgz/mn9leZ7Q4UoZH1MzMrJj3ISvdkQZNAbVCnYQjh5XhOnUr1kGrZpWJ/lHUyJi1coc7fdMxe0fkgBJk9SySvaFN/TvFQaUlv2wRWIoPVXmLVhukFgzLsDeVWmuzNaWZXTQCemIzrK6SaCJ+FfFAzgxG2Z7QxWkVx&quot;,&quot;ReqNr&quot;:9.0000002E7}}]},&quot;ShowCommands&quot;:{&quot;Data&quot;:[{&quot;DataToSend&quot;:{&quot;Type&quot;:&quot;ShowPlaylistRequest&quot;,&quot;ShowAll&quot;:[{&quot;CallWord&quot;:&quot;t2212161322&quot;}]}}]}}},&quot;Message&quot;:&quot;Success&quot;}\nSending to Socket Client.......\n\n</code></pre>\n<p>But the front-end never gets the message.</p>\n<p>Below are some code snippets:</p>\n<p>Channel Interceptor:</p>\n<pre><code>public class SocketInterceptor implements ChannelInterceptor {\n\n    @Autowired\n    SocketSessionService socketSessionService;\n\n    private final Logger log = LoggerFactory.getLogger(SocketInterceptor.class);\n\n    @Override\n    public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n\n        MessageHeaders headers = message.getHeaders();\n        StompHeaderAccessor accessor = StompHeaderAccessor.wrap(message);\n\n        MultiValueMap&lt;String, String&gt; multiValueMap = headers.get(StompHeaderAccessor.NATIVE_HEADERS,MultiValueMap.class);\n\n        if (multiValueMap !=null) {\n            if (multiValueMap.containsKey(&quot;destination&quot;)) {\n                String destination = multiValueMap.get(&quot;destination&quot;).get(0);\n                log.info(&quot;Destination in interceptor : &quot; + destination);\n            }\n        }\n\n        if (accessor.getCommand()!=null) {\n            log.info(&quot;Client Method : &quot; + accessor.getCommand().name());\n            if (accessor.getCommand().equals(StompCommand.CONNECT) || accessor.getCommand().equals(StompCommand.SUBSCRIBE) || accessor.getCommand().equals(StompCommand.SEND)) {\n                if (!multiValueMap.containsKey(&quot;access-token&quot;)) {\n                    log.error(&quot;Token Error &quot; + &quot;No Token was provided in + &quot; + accessor.getCommand().name());\n                    throw new MessagingException(&quot;Forbidden: No Token was provided in header for Socket Command: &quot; + accessor.getCommand().name());\n                }\n                String token = multiValueMap.get(&quot;access-token&quot;).get(0);\n                if (JwtTokenUtil.verifyToken(JwtTokenUtil.decrypt(token))) {\n                    log.info(&quot;Token Verified Successfully &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &quot;);\n\n                    Claims claims = JwtTokenUtil.verifyJwtToken(JwtTokenUtil.decrypt(token));\n                    accessor.setHeader(&quot;access-token&quot;, token);\n                    Principal principal = new UsernamePasswordAuthenticationToken(claims.getId(), null, null);\n\n                    accessor.setUser(principal);\n                    UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\n                            claims.getId(), null, null);\n\n\n                    SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n                    if (accessor.getCommand().equals(StompCommand.SUBSCRIBE)){\n                        log.info(&quot;Storing Socket Session on Socket Command SUBSCRIBE &quot;);\n                        SocketSessionModel model=new SocketSessionModel();\n                        model.setSessionId(accessor.getSessionId());\n                        model.setDeviceId(multiValueMap.get(&quot;destination&quot;).get(0));\n                        model.setAccessToken(token);\n                        model.setCurrentStatus(SocketSessionStatus.ONLINE);\n                        model.setReportedOnlineAt(ZonedDateTime.now().with(ZoneOffset.UTC));\n                        model.setReportedOfflineAt(null);\n                        socketSessionService.onSubscribe(model);\n                    }\n                    ObjectMapper objectMapper= new ObjectMapper();\n                    try {\n                        log.info(&quot;Returning back the frame : &quot; + objectMapper.writeValueAsString(message.getPayload()));\n                    } catch (Exception e){\n                        e.printStackTrace();\n                    }\n                    return new GenericMessage&lt;&gt;(message.getPayload(), accessor.getMessageHeaders());\n                }\n                throw new MessagingException(&quot;Token either Expired or Invalid&quot;);\n            }\n        }\n        return message;\n    }\n}\n</code></pre>\n<p>WebSocket Config :</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    Logger log= LoggerFactory.getLogger(WebSocketConfig.class);\n\n    @Autowired\n    SocketSessionService socketSessionService;\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry stompEndpointRegistry) {\n\n        stompEndpointRegistry.addEndpoint(&quot;/ws&quot;)\n                .setAllowedOrigins(&quot;*&quot;)\n                .withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/user&quot;)\n                .setTaskScheduler(customTaskScheduler())\n                .setHeartbeatValue(new long[]{25000,10000});\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n        config.setUserDestinationPrefix(&quot;/user&quot;);\n    }\n\n    @Override\n    public void configureClientInboundChannel(ChannelRegistration registration) {\n        registration.interceptors(socketInterceptor());\n    }\n    @Bean\n    public SocketInterceptor socketInterceptor() {\n        return new SocketInterceptor();\n    }\n\n    @Bean\n    public TaskScheduler customTaskScheduler(){\n        return new ThreadPoolTaskScheduler();\n    }\n\n    @EventListener(SessionDisconnectEvent.class)\n    public void handleWsDisconnectListener(SessionDisconnectEvent event) {\n        Optional&lt;String&gt; sessionId= getSessionIdFromEvent(event);\n        sessionId.ifPresent(s -&gt; socketSessionService.onDisconnect(s));\n    }\n    private Optional&lt;String&gt; getSessionIdFromEvent(AbstractSubProtocolEvent event) {\n        String sessionId = null;\n        System.out.println(&quot;Session Id in event : &quot; + (event.getMessage().getHeaders()).get(&quot;simpSessionId&quot;));\n        Object sessionIdAsObject = (event.getMessage().getHeaders()).get(&quot;simpSessionId&quot;);\n        if (nonNull(sessionIdAsObject) &amp;&amp; sessionIdAsObject.getClass().equals(String.class)) {\n            sessionId = (String) sessionIdAsObject;\n        }\n        return Optional.ofNullable(StringUtils.isEmpty(sessionId) ? null : sessionId);\n    }\n}\n</code></pre>\n<p>Kafka Producer Config :</p>\n<pre><code>@Service\npublic class KafkaProducerConfig {\n\n    @Autowired\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n    @Async\n    public void send(String data, String kafkaTopic, String key) {\n\n        kafkaTemplate.send(kafkaTopic, key, data);\n    }\n\n    @Async\n    public void send(String topic, String data ){\n        kafkaTemplate.send(topic, data);\n    }\n}\n</code></pre>\n<p>KafkaConsumer Config :</p>\n<pre><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapServers;\n\n    public ConsumerFactory&lt;String, String&gt; consumerFactory(String groupId) {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; rawKafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory(&quot;something&quot;));\n        return factory;\n    }\n}\n</code></pre>\n<p>Kafka Listener :\nThis is the last step where socket emits the messages to clients. The last line of log mentioned here is executed.</p>\n<pre><code>@Component\npublic class KafkaListenerForSocket {\n\n    private final Logger log= LoggerFactory.getLogger(KafkaListenerForSocket.class);\n\n    @Autowired\n    SimpMessagingTemplate messagingTemplate;\n\n    @KafkaListener(topics = KafkaTopicConstants.MESSAGE, containerFactory = &quot;rawKafkaListenerContainerFactory&quot;)\n    public void listenToMessages(ConsumerRecord&lt;String, String&gt; consumerRecord) throws IOException {\n        ObjectMapper objectMapper=new ObjectMapper();\n        String destination=&quot;/queue/message&quot;;\n        BaseSocketResponse response=objectMapper.readValue(consumerRecord.value(), BaseSocketResponse.class);\n        messagingTemplate.convertAndSendToUser(consumerRecord.key(),destination,response);\n\n    }\n\n    public void send(Object data, String key){\n        log.info(&quot;Bypassing Kafka and sending directly&quot;);\n        String destination=&quot;/queue/message&quot;;\n        log.info(&quot;sending to destination : &quot; + &quot;/user/&quot;+key+destination);\n        messagingTemplate.convertAndSendToUser(key, destination, data);\n    }\n}\n</code></pre>\n<p>BaseSocketResponse.Java class :</p>\n<pre><code>public class BaseSocketResponse&lt;T&gt; {\n\n    @JsonProperty(value = &quot;Status&quot;, required = true)\n    private Integer status;\n\n    @JsonProperty(value = &quot;Message&quot;, required = true)\n    private String statusMessage = &quot;&quot;;\n\n    @JsonProperty(value = &quot;Response&quot;, required = true)\n    private T response;\n\n\n    public Integer getStatus() {\n        return status;\n    }\n\n    public void setStatus(Integer status) {\n        this.status = status;\n    }\n\n    public String getStatusMessage() {\n        return statusMessage;\n    }\n\n    public void setStatusMessage(String statusMessage) {\n        this.statusMessage = statusMessage;\n    }\n\n    public T getResponse() {\n        return response;\n    }\n\n    public void setResponse(T response) {\n        this.response = response;\n    }\n\n}\n</code></pre>\n<p>front-end code :</p>\n<pre><code>var stompClient = null;\n\nfunction setConnected(connected) {\n    $(&quot;#connect&quot;).prop(&quot;disabled&quot;, connected);\n    $(&quot;#disconnect&quot;).prop(&quot;disabled&quot;, !connected);\n    if (connected) {\n        $(&quot;#conversation&quot;).show();\n    }\n    else {\n        $(&quot;#conversation&quot;).hide();\n    }\n    $(&quot;#userinfo&quot;).html(&quot;&quot;);\n}\n\nfunction connect() {\n    let header={&quot;access-token&quot; : $(&quot;#token&quot;).val()};\n    var socket = new SockJS('/services/toplight/ws');\n    stompClient = Stomp.over(socket);\n    stompClient.connect(header, function (frame) {\n        if(frame.command == &quot;CONNECTED&quot;) {\n            console.log(&quot;Inside frame command : &gt;&gt;&gt;&gt;&gt; &quot; + frame);\n            setConnected(true);\n            subscribe(stompClient)\n        }\n    }, (error) =&gt; {\n        console.log(&quot;Inside Connect error : &quot; + error );\n        onConnectError(error);\n    });\n}\n\nfunction subscribe(stompClient){\n    \n    var token=$(&quot;#token&quot;).val();\n    var header={&quot;access-token&quot;: token};\n\nconsole.log(&quot;Subscribing to Destination : &quot; + '/user/'+$(&quot;#name&quot;).val()+'/queue/message');\n    stompClient.subscribe('/user/'+$(&quot;#name&quot;).val()+'/queue/message' , greeting, header);\n\n    var greeting=function(message){\n        var body=JSON.parse(message.body);\n        if(body.Response.EventType==&quot;NEW_MESSAGE&quot;){\n            showNewMessage(response);\n        }\n    \n        if(body.Response.EventType==&quot;DEVICE_UPDATE_RESPONSE&quot;){\n            showDeviceUpdate(response);\n        }\n    \n        if(body.Response.EventType==&quot;MESSAGE_UPDATE_RESPONSE&quot;){\n            showMessageUpdate(response);\n        }    \n    };\n\n}\n\nfunction onConnectError(error){\n    console.log(&quot;Error : &gt;&gt;&gt;&gt;&gt; &quot; + error);\n    $(&quot;#greetings&quot;).append(&quot;&lt;h3&gt;&lt;tr&gt;&lt;td&gt;&quot; + error + &quot;&lt;/h3&gt;&quot;);\n}\n</code></pre>\n"},{"tags":["java","android","shortcut","android-shortcut"],"comments":[{"owner":{"account_id":5445249,"reputation":537,"user_id":4332040,"accept_rate":56,"display_name":"Robotic Vn"},"score":0,"creation_date":1666773413,"post_id":67526138,"comment_id":131013220,"body_markdown":"Do you find a solution?","body":"Do you find a solution?"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620941237,"creation_date":1620941237,"answer_id":67526447,"question_id":67526138,"body_markdown":"&gt; I&#39;m sure that this is possible because it is implemented in x icon changer, where icons are created without these badges.\r\n\r\nThey use app widgets for that. See the &quot;ABOUT THE WATERMARK&quot; in [the Play Store listing that you linked to](https://play.google.com/store/apps/details?id=io.hexman.xiconchanger).\r\n\r\n&gt; Please write all your ideas how to fix it\r\n\r\nWrite an app widget.\r\n","title":"Remove the app icon from the pinned shortcut android","body":"<blockquote>\n<p>I'm sure that this is possible because it is implemented in x icon changer, where icons are created without these badges.</p>\n</blockquote>\n<p>They use app widgets for that. See the &quot;ABOUT THE WATERMARK&quot; in <a href=\"https://play.google.com/store/apps/details?id=io.hexman.xiconchanger\" rel=\"nofollow noreferrer\">the Play Store listing that you linked to</a>.</p>\n<blockquote>\n<p>Please write all your ideas how to fix it</p>\n</blockquote>\n<p>Write an app widget.</p>\n"},{"tags":[],"owner":{"account_id":7630530,"reputation":340,"user_id":5785726,"display_name":"Gary Wang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645448896,"creation_date":1645448896,"answer_id":71206869,"question_id":67526138,"body_markdown":"Apparently using the recommended `shortcutManager.createShortcutResultIntent()` will cause displaying app icon at the corner of the shortcut it created, but the deprecated `Intent.EXTRA_SHORTCUT_INTENT` way still works and there won&#39;t be an app icon in the created shortcut if you use this way and create your shortcut via the Widgets screen!\r\n\r\nSo the first step is to make your shortcut show on the Widgets screen. To make do this, ensure `&lt;uses-permission android:name=&quot;com.android.launcher.permission.INSTALL_SHORTCUT&quot;/&gt;` is in your AndroidManifest.xml file, and create an activity that filter `&lt;action android:name=&quot;android.intent.action.CREATE_SHORTCUT&quot;/&gt;`. The manifest file will look like this.\r\n\r\n``` xml\r\n&lt;uses-permission android:name=&quot;com.android.launcher.permission.INSTALL_SHORTCUT&quot;/&gt;\r\n\r\n    &lt;application\r\n        ...&gt;\r\n\r\n        ...\r\n        &lt;activity\r\n            android:name=&quot;.shortcuts.YourShortcut&quot;\r\n            android:label=&quot;@string/shortcut_name&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:exported=&quot;true&quot;\r\n            ...&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.CREATE_SHORTCUT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    ...\r\n```\r\n\r\nIn your activity, you&#39;ll need to create a shortcut. Normally we use `setResult()` with `RESULT_OK` as result code and the `shortcutManager.createShortcutResultIntent()` to create the intent for the 2nd argument, which will cause the app icon displayed in the corner of the shortcut. To avoid the shortcut icon, we can create the intent manually with the deprecated `Intent.EXTRA_SHORTCUT_INTENT` type. Something like:\r\n\r\n```\r\n    fun onOpen() {\r\n        // things to do when user click the shortcut...\r\n    }\r\n\r\n    private fun setupShortcut() {\r\n        val intent = Intent().putExtra(Intent.EXTRA_SHORTCUT_INTENT, Intent(this, this::class.java)) // we use this::class.java here, then clicking the shortcut will trigger onOpened()\r\n                .putExtra(Intent.EXTRA_SHORTCUT_NAME, shortLabel)\r\n                .putExtra(Intent.EXTRA_SHORTCUT_ICON_RESOURCE, Intent.ShortcutIconResource.fromContext(this, iconResource));\r\n\r\n        setResult(\r\n            RESULT_OK,\r\n            intent\r\n        )\r\n\t}\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        if (intent.action == Intent.ACTION_CREATE_SHORTCUT) {\r\n            setupShortcut()\r\n        } else {\r\n            onOpened()\r\n        }\r\n        finish()\r\n    }\r\n```\r\n\r\nOnce we did these, you can see the shortcut appears on the Widgets screen. When the user drags the icon to the launcher, there will also not show the application icon in the corner.\r\n\r\nPlease note that the actual behavior may still be different when using a different launcher (it may not work under some launcher). The above code is tested with Pixel Launcher and Microsoft Launcher under Android 11 and Android 12.\r\n","title":"Remove the app icon from the pinned shortcut android","body":"<p>Apparently using the recommended <code>shortcutManager.createShortcutResultIntent()</code> will cause displaying app icon at the corner of the shortcut it created, but the deprecated <code>Intent.EXTRA_SHORTCUT_INTENT</code> way still works and there won't be an app icon in the created shortcut if you use this way and create your shortcut via the Widgets screen!</p>\n<p>So the first step is to make your shortcut show on the Widgets screen. To make do this, ensure <code>&lt;uses-permission android:name=&quot;com.android.launcher.permission.INSTALL_SHORTCUT&quot;/&gt;</code> is in your AndroidManifest.xml file, and create an activity that filter <code>&lt;action android:name=&quot;android.intent.action.CREATE_SHORTCUT&quot;/&gt;</code>. The manifest file will look like this.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;com.android.launcher.permission.INSTALL_SHORTCUT&quot;/&gt;\n\n    &lt;application\n        ...&gt;\n\n        ...\n        &lt;activity\n            android:name=&quot;.shortcuts.YourShortcut&quot;\n            android:label=&quot;@string/shortcut_name&quot;\n            android:icon=&quot;@mipmap/ic_launcher&quot;\n            android:exported=&quot;true&quot;\n            ...&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.CREATE_SHORTCUT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    ...\n</code></pre>\n<p>In your activity, you'll need to create a shortcut. Normally we use <code>setResult()</code> with <code>RESULT_OK</code> as result code and the <code>shortcutManager.createShortcutResultIntent()</code> to create the intent for the 2nd argument, which will cause the app icon displayed in the corner of the shortcut. To avoid the shortcut icon, we can create the intent manually with the deprecated <code>Intent.EXTRA_SHORTCUT_INTENT</code> type. Something like:</p>\n<pre><code>    fun onOpen() {\n        // things to do when user click the shortcut...\n    }\n\n    private fun setupShortcut() {\n        val intent = Intent().putExtra(Intent.EXTRA_SHORTCUT_INTENT, Intent(this, this::class.java)) // we use this::class.java here, then clicking the shortcut will trigger onOpened()\n                .putExtra(Intent.EXTRA_SHORTCUT_NAME, shortLabel)\n                .putExtra(Intent.EXTRA_SHORTCUT_ICON_RESOURCE, Intent.ShortcutIconResource.fromContext(this, iconResource));\n\n        setResult(\n            RESULT_OK,\n            intent\n        )\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        if (intent.action == Intent.ACTION_CREATE_SHORTCUT) {\n            setupShortcut()\n        } else {\n            onOpened()\n        }\n        finish()\n    }\n</code></pre>\n<p>Once we did these, you can see the shortcut appears on the Widgets screen. When the user drags the icon to the launcher, there will also not show the application icon in the corner.</p>\n<p>Please note that the actual behavior may still be different when using a different launcher (it may not work under some launcher). The above code is tested with Pixel Launcher and Microsoft Launcher under Android 11 and Android 12.</p>\n"}],"owner":{"account_id":14814202,"reputation":13,"user_id":10698795,"display_name":"Michael2322"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1797,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1672210119,"creation_date":1620939319,"question_id":67526138,"body_markdown":"After 8 android, my application icon appears on the shortcuts.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI know that this was added specially to informing the user which app has created the shortcut.\r\n\r\n\r\n\r\nHere is the code that is currently being used to create the icon.\r\n\r\n       ShortcutManager shortcutManager = (ShortcutManager) context.getSystemService(Context.SHORTCUT_SERVICE);\r\n        BitmapDrawable bd = (BitmapDrawable) ic;\r\n        if (shortcutManager.isRequestPinShortcutSupported()) {\r\n            Intent shortcutInfoIntent = new Intent(context, MainActivity.class);\r\n            shortcutInfoIntent.setAction(Intent.ACTION_VIEW);\r\n            shortcutInfoIntent.putExtra(&quot;pckg&quot;, pck);\r\n\r\n            ShortcutInfo info = new ShortcutInfo.Builder(context, &quot;iconId&quot;)\r\n                    .setIcon(Icon.createWithBitmap(bd.getBitmap()))\r\n                    .setShortLabel(label)\r\n                    .setIntent(shortcutInfoIntent)\r\n                    .build();\r\n\r\n            PendingIntent shortcutCallbackIntent = PendingIntent.getBroadcast(context, 0, new Intent(context, MyReceiver.class), PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n            shortcutManager.requestPinShortcut(info, shortcutCallbackIntent.getIntentSender());\r\n        }\r\n\r\n\r\nI know that this is a fairly popular problem, but no one has provided a normal solution.\r\nBut I need to take it away somehow\r\n\r\nI&#39;m sure that this is possible because it is implemented in [x icon changer][2], where icons are created without these badges.\r\n\r\nPlease write all your ideas how to fix it\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/03hye.png\r\n  [2]: https://play.google.com/store/apps/details?id=io.hexman.xiconchanger","title":"Remove the app icon from the pinned shortcut android","body":"<p>After 8 android, my application icon appears on the shortcuts.</p>\n<p><a href=\"https://i.stack.imgur.com/03hye.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/03hye.png\" alt=\"enter image description here\" /></a></p>\n<p>I know that this was added specially to informing the user which app has created the shortcut.</p>\n<p>Here is the code that is currently being used to create the icon.</p>\n<pre><code>   ShortcutManager shortcutManager = (ShortcutManager) context.getSystemService(Context.SHORTCUT_SERVICE);\n    BitmapDrawable bd = (BitmapDrawable) ic;\n    if (shortcutManager.isRequestPinShortcutSupported()) {\n        Intent shortcutInfoIntent = new Intent(context, MainActivity.class);\n        shortcutInfoIntent.setAction(Intent.ACTION_VIEW);\n        shortcutInfoIntent.putExtra(&quot;pckg&quot;, pck);\n\n        ShortcutInfo info = new ShortcutInfo.Builder(context, &quot;iconId&quot;)\n                .setIcon(Icon.createWithBitmap(bd.getBitmap()))\n                .setShortLabel(label)\n                .setIntent(shortcutInfoIntent)\n                .build();\n\n        PendingIntent shortcutCallbackIntent = PendingIntent.getBroadcast(context, 0, new Intent(context, MyReceiver.class), PendingIntent.FLAG_UPDATE_CURRENT);\n\n        shortcutManager.requestPinShortcut(info, shortcutCallbackIntent.getIntentSender());\n    }\n</code></pre>\n<p>I know that this is a fairly popular problem, but no one has provided a normal solution.\nBut I need to take it away somehow</p>\n<p>I'm sure that this is possible because it is implemented in <a href=\"https://play.google.com/store/apps/details?id=io.hexman.xiconchanger\" rel=\"nofollow noreferrer\">x icon changer</a>, where icons are created without these badges.</p>\n<p>Please write all your ideas how to fix it</p>\n"},{"tags":["java","spring","spring-boot","spring-security","java-security"],"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672210065,"creation_date":1672210065,"question_id":74937072,"body_markdown":"Most examples for configuring SpringBoot with TLS store show how to do this with Java store like this:\r\n```\r\nserver.ssl.enabled=true\r\nserver.ssl.protocol=TLS\r\nserver.ssl.key-store-password=my_password\r\nserver.ssl.key-store-type=keystore_type\r\nserver.ssl.key-store=keystore-path\r\n```\r\nHowever, the JVM can also use/delegate to the  Windows&#39;s native certificates store instead, by using a system property at start up, for example:\r\n\r\n```\r\njava -Djavax.net.ssl.trustStoreType=WINDOWS-ROOT -jar my-springboot-app.jar\r\n```\r\nor\r\n```\r\njava -Djavax.net.ssl.trustStoreType=WINDOWS-MY -jar my-springboot-app.jar\r\n```\r\n\r\n**Does anyone know what the SpringBoot config file should look like for using Windows native cert store**? If you just do this:\r\n```\r\nserver.ssl.enabled=true\r\nserver.ssl.protocol=TLS\r\n```\r\nyour SpringBoot will fail to start due to missing config options.\r\n","title":"Configuring SpringBoot 3 apps with Windows TLS native certs trust store","body":"<p>Most examples for configuring SpringBoot with TLS store show how to do this with Java store like this:</p>\n<pre><code>server.ssl.enabled=true\nserver.ssl.protocol=TLS\nserver.ssl.key-store-password=my_password\nserver.ssl.key-store-type=keystore_type\nserver.ssl.key-store=keystore-path\n</code></pre>\n<p>However, the JVM can also use/delegate to the  Windows's native certificates store instead, by using a system property at start up, for example:</p>\n<pre><code>java -Djavax.net.ssl.trustStoreType=WINDOWS-ROOT -jar my-springboot-app.jar\n</code></pre>\n<p>or</p>\n<pre><code>java -Djavax.net.ssl.trustStoreType=WINDOWS-MY -jar my-springboot-app.jar\n</code></pre>\n<p><strong>Does anyone know what the SpringBoot config file should look like for using Windows native cert store</strong>? If you just do this:</p>\n<pre><code>server.ssl.enabled=true\nserver.ssl.protocol=TLS\n</code></pre>\n<p>your SpringBoot will fail to start due to missing config options.</p>\n"},{"tags":["java","oop"],"answers":[{"tags":[],"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1297410540,"creation_date":1297410540,"answer_id":4966729,"question_id":4966710,"body_markdown":"Encapsulation is to protect your member variables or methods from the outside world.\r\n\r\nAbstraction is the way to have specific implementation. that is which implementation to use is unknown to the user.","title":"What is the difference between abstraction and encapsulation?","body":"<p>Encapsulation is to protect your member variables or methods from the outside world.</p>\n\n<p>Abstraction is the way to have specific implementation. that is which implementation to use is unknown to the user.</p>\n"},{"tags":[],"owner":{"account_id":215842,"reputation":2858,"user_id":470714,"accept_rate":94,"display_name":"user470714"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1297412843,"creation_date":1297410860,"answer_id":4966747,"question_id":4966710,"body_markdown":"These two concepts are quite different. \r\n\r\nAbstraction is the practice of making a base class &#39;abstract&#39; and then extending its functionality. An abstract class is something that doesn&#39;t exist in a concrete matter; its only purpose is to be extended. Think of if you were writing classes to represent different species. All of your different species might extend an abstract Animal class because they would all share common attributes as animals. However, you would never instantiate an Animal object, because every animal you see in the world is a squirrel, or a dog, or a fish ... or some kind of concrete implementation of that base, abstract animal class.\r\n\r\nEncapsulation is the practice of making your class variables private, and then allowing access to them from get and set methods. The purpose of this is separate the way your data is accessed and the way it is implemented. For example, if you have some variable that has a requirement, that every time it is changed, it also increments a second variable by 1, then you would encapsulate that functionality; that way your code is more reliable because you don&#39;t have to remember to adhere that rule every time you&#39;d access the original variable.\r\n\r\nIf you want specific code examples, I&#39;d recommend just doing a google search, because there&#39;s a lot of examples like that available. Here&#39;s two:\r\n\r\n[http://www.tutorialspoint.com/java/java_abstraction.htm][1]\r\n[http://www.tutorialspoint.com/java/java_encapsulation.htm][2] \r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/java/java_abstraction.htm\r\n  [2]: http://www.tutorialspoint.com/java/java_encapsulation.htm","title":"What is the difference between abstraction and encapsulation?","body":"<p>These two concepts are quite different. </p>\n\n<p>Abstraction is the practice of making a base class 'abstract' and then extending its functionality. An abstract class is something that doesn't exist in a concrete matter; its only purpose is to be extended. Think of if you were writing classes to represent different species. All of your different species might extend an abstract Animal class because they would all share common attributes as animals. However, you would never instantiate an Animal object, because every animal you see in the world is a squirrel, or a dog, or a fish ... or some kind of concrete implementation of that base, abstract animal class.</p>\n\n<p>Encapsulation is the practice of making your class variables private, and then allowing access to them from get and set methods. The purpose of this is separate the way your data is accessed and the way it is implemented. For example, if you have some variable that has a requirement, that every time it is changed, it also increments a second variable by 1, then you would encapsulate that functionality; that way your code is more reliable because you don't have to remember to adhere that rule every time you'd access the original variable.</p>\n\n<p>If you want specific code examples, I'd recommend just doing a google search, because there's a lot of examples like that available. Here's two:</p>\n\n<p><a href=\"http://www.tutorialspoint.com/java/java_abstraction.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/java/java_abstraction.htm</a>\n<a href=\"http://www.tutorialspoint.com/java/java_encapsulation.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/java/java_encapsulation.htm</a> </p>\n"},{"tags":[],"owner":{"account_id":83357,"reputation":158,"user_id":233765,"display_name":"Joshua Lewis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1297414137,"creation_date":1297414137,"answer_id":4967102,"question_id":4966710,"body_markdown":"Encapsulation is part of abstraction. The notion of abstraction is one of creating an object to represent another object. Typically, the original object is more complex than the abstraction. An abstraction is thus a representation, usually as an aid to memory, for terminology/communication etc. Think of it like this: abstract art is a representation of something else. A steering wheel, gearshift and 2/3 pedals is an abstraction of how a car works. \r\n\r\nBasically, the abstraction allows you to represent something complex, with a lot of details, as something a lot simpler. In my opinion, this is related to &#39;chunking&#39; in cognitive science. We&#39;re not able to keep complex things in our head, so we simplify by abstracting, then using the abstraction. Design Patterns are another great example. Instead of talking about details, we can talk about Command, State or Strategy pattern etc.\r\n\r\nEncapsulation is part of forming/creating an abstraction. The smaller an object&#39;s interface, the easier it is to abstract. You don&#39;t need to know how an engine and gearbox work to drive a car, you just need to understand their abstractions (gear shift and accelerator). The details of the engine and gearbox are encapsulated (into the interface) in order to create the abstraction. \r\n\r\nEncapsulation is needed for abstraction because an abstaction can&#39;t deal with all the real details and complexity (otherwise its not an abstraction). So the gearshift is an incomplete representation (or model) of a gearbox, but its complete enough for everyday use. Encapsulation can be thought of as &#39;hiding details&#39;, which is necessary for creating a simpler representation. \r\n\r\nIts also important to discuss the concept of an &#39;interface&#39;. For the most part, the terms &#39;interface&#39; and &#39;abstraction&#39; are more less interchangeable in this instance. An interface is the part of a system with which the user deals or interacts. The interface to a car is the steering wheel, gear shift and pedals etc. The abstraction produces an interface. You don&#39;t deal with the engine/gearbox directly, you deal with their respective interfaces.\r\n\r\nAnother reason for encapsulation is because we&#39;re dealing with an incomplete model/abstraction, we don&#39;t understand the full complexity of the original, and can&#39;t be trusted to deal with all the variables (because we don&#39;t understand the full model). This is important for decoupling, because without abstraction, interacting components would know too much about each other. Think about it, because every car has a steering wheel, pedals and gearshift, you can drive any car, regardless of engine type etc. Also, the gearbox is abstracted from the engine. Otherwise each custom engine would need a custom gearbox.\r\n\r\nSimilarly, a Class is an abstraction. The class represents some complex model, through its interface - the public members of the class. This interface is created through encapsulation. The class presents a simplified interface of its more complex implementation to its collaborators. You can also think of it as a &#39;need to know&#39; situation. The collaborators of the class don&#39;t need to know exactly how it works. Just as you don&#39;t need to know how an engine works to drive a car.\r\n\r\nEncapsulation, interfaces and abstraction play a critical role in cohesion and coupling, and therefore maintenance of your code. If you don&#39;t create good abstractions, and violate the &#39;need to know&#39; principle, then your code becomes entangled, fragile and a nightmare to change, because there is no &#39;buffering&#39;. The OO concept of &#39;tell don&#39;t ask&#39; is also related to this.","title":"What is the difference between abstraction and encapsulation?","body":"<p>Encapsulation is part of abstraction. The notion of abstraction is one of creating an object to represent another object. Typically, the original object is more complex than the abstraction. An abstraction is thus a representation, usually as an aid to memory, for terminology/communication etc. Think of it like this: abstract art is a representation of something else. A steering wheel, gearshift and 2/3 pedals is an abstraction of how a car works. </p>\n\n<p>Basically, the abstraction allows you to represent something complex, with a lot of details, as something a lot simpler. In my opinion, this is related to 'chunking' in cognitive science. We're not able to keep complex things in our head, so we simplify by abstracting, then using the abstraction. Design Patterns are another great example. Instead of talking about details, we can talk about Command, State or Strategy pattern etc.</p>\n\n<p>Encapsulation is part of forming/creating an abstraction. The smaller an object's interface, the easier it is to abstract. You don't need to know how an engine and gearbox work to drive a car, you just need to understand their abstractions (gear shift and accelerator). The details of the engine and gearbox are encapsulated (into the interface) in order to create the abstraction. </p>\n\n<p>Encapsulation is needed for abstraction because an abstaction can't deal with all the real details and complexity (otherwise its not an abstraction). So the gearshift is an incomplete representation (or model) of a gearbox, but its complete enough for everyday use. Encapsulation can be thought of as 'hiding details', which is necessary for creating a simpler representation. </p>\n\n<p>Its also important to discuss the concept of an 'interface'. For the most part, the terms 'interface' and 'abstraction' are more less interchangeable in this instance. An interface is the part of a system with which the user deals or interacts. The interface to a car is the steering wheel, gear shift and pedals etc. The abstraction produces an interface. You don't deal with the engine/gearbox directly, you deal with their respective interfaces.</p>\n\n<p>Another reason for encapsulation is because we're dealing with an incomplete model/abstraction, we don't understand the full complexity of the original, and can't be trusted to deal with all the variables (because we don't understand the full model). This is important for decoupling, because without abstraction, interacting components would know too much about each other. Think about it, because every car has a steering wheel, pedals and gearshift, you can drive any car, regardless of engine type etc. Also, the gearbox is abstracted from the engine. Otherwise each custom engine would need a custom gearbox.</p>\n\n<p>Similarly, a Class is an abstraction. The class represents some complex model, through its interface - the public members of the class. This interface is created through encapsulation. The class presents a simplified interface of its more complex implementation to its collaborators. You can also think of it as a 'need to know' situation. The collaborators of the class don't need to know exactly how it works. Just as you don't need to know how an engine works to drive a car.</p>\n\n<p>Encapsulation, interfaces and abstraction play a critical role in cohesion and coupling, and therefore maintenance of your code. If you don't create good abstractions, and violate the 'need to know' principle, then your code becomes entangled, fragile and a nightmare to change, because there is no 'buffering'. The OO concept of 'tell don't ask' is also related to this.</p>\n"},{"tags":[],"owner":{"account_id":82818,"reputation":58383,"user_id":232593,"accept_rate":79,"display_name":"Merlyn Morgan-Graham"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1297414888,"creation_date":1297414888,"answer_id":4967181,"question_id":4966710,"body_markdown":"Abstraction and encapsulation are two great flavors that taste great together.\r\n\r\n**Encapsulation** is minimizing what you expose to the user of your code.  That &quot;user&quot; may be the rest of your code, or whoever uses the code you publish.\r\n\r\nThere some definite benefits to encapsulation:\r\n\r\n- The user of your code doesn&#39;t depend on parts of your program that are likely to change.  When you change your program, they don&#39;t have to change their code\r\n- You are more in control of exactly how your code and state changes over the lifetime of your program.  You must handle fewer scenarios, and will have fewer unexpected problems to fix\r\n\r\nI don&#39;t know Java, but here is a small example of encapsulation in C#:\r\n\r\n    public class Giraffe\r\n    {\r\n        public Giraffe(int heightInFeet)\r\n        {\r\n            this.heightInFeet = heightInFeet;\r\n            this.numberOfSpots = heightInFeet * 72;\r\n        }\r\n\r\n        public override string ToString()\r\n        {\r\n            return &quot;Height: &quot; + heightInFeet + &quot; feet&quot;\r\n                + &quot; Number of Spots: &quot; + numberOfSpots;\r\n        }\r\n\r\n        private int heightInFeet;\r\n        private int numberOfSpots;\r\n    }\r\n\r\nInstead of exposing `numberOfSpots`, it is encapsulated within the class, and exposed via the `ToString` method.\r\n\r\n**Abstraction** is using extension points to let the choice be deferred to a different part of which exact code is run.  That choice could be made elsewhere in your program, in another program, or dynamically at runtime.\r\n\r\nThere are also strong benefits to abstraction:\r\n\r\n- When you change your code that implements an abstraction, the user of the abstraction doesn&#39;t have to change their code.  As long as the abstraction doesn&#39;t change, the users won&#39;t have to change their code.\r\n- When you write code that uses an abstraction, you can write code once that will be reusable against any new code that implements that abstraction.  You can write less code to do more.\r\n\r\nA highly used abstraction in C# is `IEnumerable`.  Lists, Arrays, Dictionaries, and any other type of collection class all implement `IEnumerable`.  The `foreach` loop structure and the entirety of the LINQ library are based on that abstraction:\r\n\r\n    public IEnumerable&lt;int&gt; GetSomeCollection()\r\n    {\r\n        // This could return any type of int collection.  Here it returns an array\r\n        return new int[] { 5, 12, 7, 14, 2, 3, 7, 99 };\r\n    }\r\n\r\n    IEnumerable&lt;int&gt; someCollectionOfInts = GetSomeCollection();\r\n\r\n    IEnumerable&lt;string&gt; itemsLessThanFive = from i in someCollectionOfInts\r\n                                            where i &lt; 5\r\n                                            select i.ToString();\r\n\r\n    foreach(string item in itemsLessThanFive)\r\n    {\r\n        Console.WriteLine(item);\r\n    }\r\n\r\nYou can easily write your own abstractions, too:\r\n\r\n    public interface IAnimal\r\n    {\r\n        bool IsHealthy { get; }\r\n        void Eat(IAnimal otherAnimal);\r\n    }\r\n\r\n    public class Lion : IAnimal\r\n    {\r\n        public Lion()\r\n        {\r\n            this.isHealthy = true;\r\n        }\r\n\r\n        public bool IsHealthy\r\n        {\r\n            get { return isHealthy; }\r\n        }\r\n\r\n        void Eat(IAnimal otherAnimal)\r\n        {\r\n            if(otherAnimal.IsHealthy &amp;&amp; !(otherAnimal is SlimeMold))\r\n            {\r\n                isHealthy = true;\r\n            }\r\n            else\r\n            {\r\n                isHealthy = false;\r\n            }\r\n        }\r\n\r\n        private bool isHealthy;\r\n    }\r\n\r\n    IAnimal someAnimal = PullAnAnimalOutOfAWoodenCrate();\r\n\r\n    Console.WriteLine(&quot;The animal is healthy?: &quot; + someAnimal.IsHealthy);\r\n\r\nYou can use both together, as I did with `IAnimal`, and `IsHealthy`.  `IAnimal` is an abtraction, and having only a `get` accessor, and no `set` accessor on `IsHealthy` is encapsulation.\r\n","title":"What is the difference between abstraction and encapsulation?","body":"<p>Abstraction and encapsulation are two great flavors that taste great together.</p>\n\n<p><strong>Encapsulation</strong> is minimizing what you expose to the user of your code.  That \"user\" may be the rest of your code, or whoever uses the code you publish.</p>\n\n<p>There some definite benefits to encapsulation:</p>\n\n<ul>\n<li>The user of your code doesn't depend on parts of your program that are likely to change.  When you change your program, they don't have to change their code</li>\n<li>You are more in control of exactly how your code and state changes over the lifetime of your program.  You must handle fewer scenarios, and will have fewer unexpected problems to fix</li>\n</ul>\n\n<p>I don't know Java, but here is a small example of encapsulation in C#:</p>\n\n<pre><code>public class Giraffe\n{\n    public Giraffe(int heightInFeet)\n    {\n        this.heightInFeet = heightInFeet;\n        this.numberOfSpots = heightInFeet * 72;\n    }\n\n    public override string ToString()\n    {\n        return \"Height: \" + heightInFeet + \" feet\"\n            + \" Number of Spots: \" + numberOfSpots;\n    }\n\n    private int heightInFeet;\n    private int numberOfSpots;\n}\n</code></pre>\n\n<p>Instead of exposing <code>numberOfSpots</code>, it is encapsulated within the class, and exposed via the <code>ToString</code> method.</p>\n\n<p><strong>Abstraction</strong> is using extension points to let the choice be deferred to a different part of which exact code is run.  That choice could be made elsewhere in your program, in another program, or dynamically at runtime.</p>\n\n<p>There are also strong benefits to abstraction:</p>\n\n<ul>\n<li>When you change your code that implements an abstraction, the user of the abstraction doesn't have to change their code.  As long as the abstraction doesn't change, the users won't have to change their code.</li>\n<li>When you write code that uses an abstraction, you can write code once that will be reusable against any new code that implements that abstraction.  You can write less code to do more.</li>\n</ul>\n\n<p>A highly used abstraction in C# is <code>IEnumerable</code>.  Lists, Arrays, Dictionaries, and any other type of collection class all implement <code>IEnumerable</code>.  The <code>foreach</code> loop structure and the entirety of the LINQ library are based on that abstraction:</p>\n\n<pre><code>public IEnumerable&lt;int&gt; GetSomeCollection()\n{\n    // This could return any type of int collection.  Here it returns an array\n    return new int[] { 5, 12, 7, 14, 2, 3, 7, 99 };\n}\n\nIEnumerable&lt;int&gt; someCollectionOfInts = GetSomeCollection();\n\nIEnumerable&lt;string&gt; itemsLessThanFive = from i in someCollectionOfInts\n                                        where i &lt; 5\n                                        select i.ToString();\n\nforeach(string item in itemsLessThanFive)\n{\n    Console.WriteLine(item);\n}\n</code></pre>\n\n<p>You can easily write your own abstractions, too:</p>\n\n<pre><code>public interface IAnimal\n{\n    bool IsHealthy { get; }\n    void Eat(IAnimal otherAnimal);\n}\n\npublic class Lion : IAnimal\n{\n    public Lion()\n    {\n        this.isHealthy = true;\n    }\n\n    public bool IsHealthy\n    {\n        get { return isHealthy; }\n    }\n\n    void Eat(IAnimal otherAnimal)\n    {\n        if(otherAnimal.IsHealthy &amp;&amp; !(otherAnimal is SlimeMold))\n        {\n            isHealthy = true;\n        }\n        else\n        {\n            isHealthy = false;\n        }\n    }\n\n    private bool isHealthy;\n}\n\nIAnimal someAnimal = PullAnAnimalOutOfAWoodenCrate();\n\nConsole.WriteLine(\"The animal is healthy?: \" + someAnimal.IsHealthy);\n</code></pre>\n\n<p>You can use both together, as I did with <code>IAnimal</code>, and <code>IsHealthy</code>.  <code>IAnimal</code> is an abtraction, and having only a <code>get</code> accessor, and no <code>set</code> accessor on <code>IsHealthy</code> is encapsulation.</p>\n"}],"owner":{"account_id":165736,"reputation":1675,"user_id":389428,"accept_rate":48,"display_name":"Rakesh Sabbani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39311,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"closed_date":1672209335,"accepted_answer_id":4967181,"answer_count":4,"score":7,"last_activity_date":1672209404,"creation_date":1297410290,"question_id":4966710,"body_markdown":"What exactly is the difference between encapsulation and abstraction in Java? Any brief examples would also be appreciated.","title":"What is the difference between abstraction and encapsulation?","body":"<p>What exactly is the difference between encapsulation and abstraction in Java? Any brief examples would also be appreciated.</p>\n"},{"tags":["java","oop"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1345018246,"creation_date":1345018246,"answer_id":11965960,"question_id":11965929,"body_markdown":"Abstraction is about *identifying commonalities* and reducing features that you have to work with at different levels of your code.\r\n\r\ne.g.  I may have a `Vehicle` class. A `Car` would derive from a `Vehicle`, as would a `Motorbike`. I can ask each `Vehicle` for the number of wheels, passengers etc. and that info has been abstracted and identified as common from `Cars` and `Motorbikes`.\r\n\r\nIn my code I can often just deal with `Vehicles` via common methods `go()`, `stop()` etc. When I add a new Vehicle type later (e.g. `Scooter`) the majority of my code would remain oblivious to this fact, and the implementation of `Scooter` alone worries about `Scooter` particularities.","title":"Abstraction vs Encapsulation in Java","body":"<p>Abstraction is about <em>identifying commonalities</em> and reducing features that you have to work with at different levels of your code.</p>\n\n<p>e.g.  I may have a <code>Vehicle</code> class. A <code>Car</code> would derive from a <code>Vehicle</code>, as would a <code>Motorbike</code>. I can ask each <code>Vehicle</code> for the number of wheels, passengers etc. and that info has been abstracted and identified as common from <code>Cars</code> and <code>Motorbikes</code>.</p>\n\n<p>In my code I can often just deal with <code>Vehicles</code> via common methods <code>go()</code>, <code>stop()</code> etc. When I add a new Vehicle type later (e.g. <code>Scooter</code>) the majority of my code would remain oblivious to this fact, and the implementation of <code>Scooter</code> alone worries about <code>Scooter</code> particularities.</p>\n"},{"tags":[],"owner":{"account_id":121293,"reputation":105197,"user_id":314291,"accept_rate":89,"display_name":"StuartLC"},"down_vote_count":0,"up_vote_count":93,"is_accepted":false,"score":93,"last_activity_date":1551870139,"creation_date":1345018858,"answer_id":11966068,"question_id":11965929,"body_markdown":"[**OO Abstraction**](https://en.wikipedia.org/wiki/Abstraction_(computer_science)#Abstraction_in_object_oriented_programming) occurs during class level design, with the objective of **hiding the implementation complexity** of *how* the the features offered by an API / design / system were implemented, in a sense simplifying the &#39;interface&#39; to access the underlying implementation. \r\n\r\nThe process of abstraction can be repeated at increasingly &#39;higher&#39; levels (layers) of classes, which enables large systems to be built without increasing the complexity of code and understanding at each layer.\r\n\r\nFor example, a Java developer can make use of the high level features of [FileInputStream](https://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html) without concern for how it works (i.e. file handles, file system security checks, memory allocation and buffering will be managed internally, and are hidden from consumers).  This allows the implementation of `FileInputStream` to be changed, and as long as the API (interface) to `FileInputStream` remains consistent, code built against previous versions will still work.\r\n\r\nSimilarly, when designing your own classes, you will want to hide internal implementation details from others as far as possible.\r\n\r\n***In the Booch definition&lt;sup&gt;1&lt;/sup&gt;***, **OO Encapsulation** is achieved through [Information Hiding](https://en.wikipedia.org/wiki/Information_hiding), and specifically around hiding internal data (fields / members representing the state) owned by a class instance, by enforcing access to the internal data in a controlled manner, and preventing direct, external change to these fields, as well as hiding any internal implementation methods of the class (e.g. by making them private). \r\n\r\nFor example, the fields of a class can be made `private` by default, and only if external access to these was required, would a `get()` and/or `set()` (or `Property`) be exposed from the class. (In modern day OO languages, fields can be marked as `readonly` / `final` / `immutable` which further restricts change, even within the class).\r\n\r\n*Example where NO information hiding has been applied (Bad Practice)*:\r\n\r\n    class Foo {\r\n       // BAD - NOT Encapsulated - code external to the class can change this field directly\r\n       // Class Foo has no control over the range of values which could be set.\r\n       public int notEncapsulated;\r\n    }\r\n\r\n*Example where field encapsulation has been applied*:\r\n\r\n    class Bar {\r\n       // Improvement - access restricted only to this class\r\n       private int encapsulatedPercentageField;\r\n\r\n       // The state of Bar (and its fields) can now be changed in a controlled manner\r\n       public void setEncapsulatedField(int percentageValue) {\r\n          if (percentageValue &gt;= 0 &amp;&amp; percentageValue &lt;= 100) {\r\n              encapsulatedPercentageField = percentageValue;\r\n          }\r\n          // else throw ... out of range\r\n       }\r\n    }\r\n\r\n*Example of immutable / constructor-only initialization of a field*:\r\n\r\n    class Baz {\r\n       private final int immutableField;\r\n\r\n       public void Baz(int onlyValue) {\r\n          // ... As above, can also check that onlyValue is valid\r\n          immutableField = onlyValue;\r\n       }\r\n       // Further change of `immutableField` outside of the constructor is NOT permitted, even within the same class \r\n    }\r\n\r\n**Re : Abstraction vs Abstract Class**\r\n\r\n[Abstract classes](https://en.wikipedia.org/wiki/Abstract_type) are classes which promote reuse of commonality between classes, but which themselves cannot directly be instantiated with `new()` - abstract classes must be subclassed, and only `concrete` (non abstract) subclasses may be instantiated. Possibly one source of confusion between `Abstraction` and an `abstract class` was that in the early days of OO, inheritance was more heavily used to achieve code reuse (e.g. with associated abstract base classes). Nowadays, [composition is generally favoured over inheritance](https://en.wikipedia.org/wiki/Composition_over_inheritance), and there are more tools available to achieve abstraction, such as through Interfaces, events / delegates / functions, traits / mixins etc.\r\n\r\n**Re : Encapsulation vs Information Hiding**\r\n\r\nThe meaning of ***encapsulation*** appears to have evolved over time, and in recent times, [`encapsulation`](https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)) can commonly also used in a more general sense when determining which methods, fields, properties, events etc to **bundle** into a class.\r\n\r\nQuoting Wikipedia:\r\n\r\n&gt; In the more concrete setting of an object-oriented programming language, the notion is used to mean either an information hiding mechanism, a bundling mechanism, or the combination of the two.\r\n\r\nFor example, in the statement \r\n\r\n&gt; I&#39;ve ***encapsulated*** the data access code into its own class\r\n\r\n.. the  interpretation of *encapsulation* is roughly equivalent to the [Separation of Concerns](https://en.wikipedia.org/wiki/Separation_of_concerns) or the [Single Responsibility Principal](https://en.wikipedia.org/wiki/Single_responsibility_principle) (the &quot;S&quot; in SOLID), and could arguably be used as a synonym for refactoring.\r\n\r\n---\r\n\r\n&lt;sup&gt;[1]&lt;sub&gt; Once you&#39;ve seen Booch&#39;s [encapsulation cat picture](https://effectivesoftwaredesign.com/2016/09/28/the-cat-as-a-metaphor-in-object-oriented-software-development/#encapsulation) you&#39;ll never be able to forget encapsulation - p46 of Object Oriented Analysis and Design with Applications,\r\n 2nd Ed&lt;/sub&gt;&lt;/sup&gt;","title":"Abstraction vs Encapsulation in Java","body":"<p><a href=\"https://en.wikipedia.org/wiki/Abstraction_(computer_science)#Abstraction_in_object_oriented_programming\" rel=\"noreferrer\"><strong>OO Abstraction</strong></a> occurs during class level design, with the objective of <strong>hiding the implementation complexity</strong> of <em>how</em> the the features offered by an API / design / system were implemented, in a sense simplifying the 'interface' to access the underlying implementation. </p>\n\n<p>The process of abstraction can be repeated at increasingly 'higher' levels (layers) of classes, which enables large systems to be built without increasing the complexity of code and understanding at each layer.</p>\n\n<p>For example, a Java developer can make use of the high level features of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html\" rel=\"noreferrer\">FileInputStream</a> without concern for how it works (i.e. file handles, file system security checks, memory allocation and buffering will be managed internally, and are hidden from consumers).  This allows the implementation of <code>FileInputStream</code> to be changed, and as long as the API (interface) to <code>FileInputStream</code> remains consistent, code built against previous versions will still work.</p>\n\n<p>Similarly, when designing your own classes, you will want to hide internal implementation details from others as far as possible.</p>\n\n<p><strong><em>In the Booch definition<sup>1</sup></em></strong>, <strong>OO Encapsulation</strong> is achieved through <a href=\"https://en.wikipedia.org/wiki/Information_hiding\" rel=\"noreferrer\">Information Hiding</a>, and specifically around hiding internal data (fields / members representing the state) owned by a class instance, by enforcing access to the internal data in a controlled manner, and preventing direct, external change to these fields, as well as hiding any internal implementation methods of the class (e.g. by making them private). </p>\n\n<p>For example, the fields of a class can be made <code>private</code> by default, and only if external access to these was required, would a <code>get()</code> and/or <code>set()</code> (or <code>Property</code>) be exposed from the class. (In modern day OO languages, fields can be marked as <code>readonly</code> / <code>final</code> / <code>immutable</code> which further restricts change, even within the class).</p>\n\n<p><em>Example where NO information hiding has been applied (Bad Practice)</em>:</p>\n\n<pre><code>class Foo {\n   // BAD - NOT Encapsulated - code external to the class can change this field directly\n   // Class Foo has no control over the range of values which could be set.\n   public int notEncapsulated;\n}\n</code></pre>\n\n<p><em>Example where field encapsulation has been applied</em>:</p>\n\n<pre><code>class Bar {\n   // Improvement - access restricted only to this class\n   private int encapsulatedPercentageField;\n\n   // The state of Bar (and its fields) can now be changed in a controlled manner\n   public void setEncapsulatedField(int percentageValue) {\n      if (percentageValue &gt;= 0 &amp;&amp; percentageValue &lt;= 100) {\n          encapsulatedPercentageField = percentageValue;\n      }\n      // else throw ... out of range\n   }\n}\n</code></pre>\n\n<p><em>Example of immutable / constructor-only initialization of a field</em>:</p>\n\n<pre><code>class Baz {\n   private final int immutableField;\n\n   public void Baz(int onlyValue) {\n      // ... As above, can also check that onlyValue is valid\n      immutableField = onlyValue;\n   }\n   // Further change of `immutableField` outside of the constructor is NOT permitted, even within the same class \n}\n</code></pre>\n\n<p><strong>Re : Abstraction vs Abstract Class</strong></p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Abstract_type\" rel=\"noreferrer\">Abstract classes</a> are classes which promote reuse of commonality between classes, but which themselves cannot directly be instantiated with <code>new()</code> - abstract classes must be subclassed, and only <code>concrete</code> (non abstract) subclasses may be instantiated. Possibly one source of confusion between <code>Abstraction</code> and an <code>abstract class</code> was that in the early days of OO, inheritance was more heavily used to achieve code reuse (e.g. with associated abstract base classes). Nowadays, <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"noreferrer\">composition is generally favoured over inheritance</a>, and there are more tools available to achieve abstraction, such as through Interfaces, events / delegates / functions, traits / mixins etc.</p>\n\n<p><strong>Re : Encapsulation vs Information Hiding</strong></p>\n\n<p>The meaning of <strong><em>encapsulation</em></strong> appears to have evolved over time, and in recent times, <a href=\"https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\" rel=\"noreferrer\"><code>encapsulation</code></a> can commonly also used in a more general sense when determining which methods, fields, properties, events etc to <strong>bundle</strong> into a class.</p>\n\n<p>Quoting Wikipedia:</p>\n\n<blockquote>\n  <p>In the more concrete setting of an object-oriented programming language, the notion is used to mean either an information hiding mechanism, a bundling mechanism, or the combination of the two.</p>\n</blockquote>\n\n<p>For example, in the statement </p>\n\n<blockquote>\n  <p>I've <strong><em>encapsulated</em></strong> the data access code into its own class</p>\n</blockquote>\n\n<p>.. the  interpretation of <em>encapsulation</em> is roughly equivalent to the <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"noreferrer\">Separation of Concerns</a> or the <a href=\"https://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"noreferrer\">Single Responsibility Principal</a> (the \"S\" in SOLID), and could arguably be used as a synonym for refactoring.</p>\n\n<hr>\n\n<p><sup>[1]<sub> Once you've seen Booch's <a href=\"https://effectivesoftwaredesign.com/2016/09/28/the-cat-as-a-metaphor-in-object-oriented-software-development/#encapsulation\" rel=\"noreferrer\">encapsulation cat picture</a> you'll never be able to forget encapsulation - p46 of Object Oriented Analysis and Design with Applications,\n 2nd Ed</sub></sup></p>\n"},{"tags":[],"owner":{"account_id":544048,"reputation":945,"user_id":913352,"display_name":"mbm"},"down_vote_count":2,"up_vote_count":56,"is_accepted":false,"score":54,"last_activity_date":1345020435,"creation_date":1345020435,"answer_id":11966409,"question_id":11965929,"body_markdown":"In simple words:\r\nYou do abstraction when deciding what to implement.\r\nYou do encapsulation when hiding something that you have implemented.","title":"Abstraction vs Encapsulation in Java","body":"<p>In simple words:\nYou do abstraction when deciding what to implement.\nYou do encapsulation when hiding something that you have implemented.</p>\n"}],"owner":{"account_id":98618,"reputation":13889,"user_id":266827,"accept_rate":78,"display_name":"Sandy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251952,"favorite_count":0,"down_vote_count":2,"up_vote_count":93,"closed_date":1672209166,"answer_count":3,"score":91,"last_activity_date":1672209386,"creation_date":1345018045,"question_id":11965929,"body_markdown":"Although the Internet is filled with lots of definitions for these concepts, they still all sound the same to me. For example, consider the following definitions:\r\n\r\n**Encapsulation** is a process of binding or wrapping the data and the code that operates on the data into a single entity. This keeps the data safe from outside interface and misuse. One way to think about encapsulation is as a protective wrapper that prevents code and data from being arbitrarily accessed by other code defined outside the wrapper.\r\n\r\nWhat I understood from above definition is that creating variables, mark them private and generate getter-setter for those variables and use object to access those getter and setter. In that way data is hidden inside object and is only accessible through object.\r\n\r\nIs this correct?\r\n\r\n---\r\n\r\n**Abstraction** is the process in Java which is used to hide certain details and only show the essential features of the object. In other words, it deals with the outside view of an object (interface). \r\n\r\nNow this is the part that always confuses me. Whenever I think about abstraction the thing which comes to my mind is Abstract class (maybe because both have Abstract keyword). Above definition says abstraction means hiding data and only showing required details but that is what we are already doing in encapsulation right? then what is the difference. Also I did not get what is outside view of object in &quot;it deals with the outside view of an object&quot;.\r\n\r\nCan someone please explain this more clearly? Real-life and/or programmatic examples would be especially helpful.","title":"Abstraction vs Encapsulation in Java","body":"<p>Although the Internet is filled with lots of definitions for these concepts, they still all sound the same to me. For example, consider the following definitions:</p>\n<p><strong>Encapsulation</strong> is a process of binding or wrapping the data and the code that operates on the data into a single entity. This keeps the data safe from outside interface and misuse. One way to think about encapsulation is as a protective wrapper that prevents code and data from being arbitrarily accessed by other code defined outside the wrapper.</p>\n<p>What I understood from above definition is that creating variables, mark them private and generate getter-setter for those variables and use object to access those getter and setter. In that way data is hidden inside object and is only accessible through object.</p>\n<p>Is this correct?</p>\n<hr />\n<p><strong>Abstraction</strong> is the process in Java which is used to hide certain details and only show the essential features of the object. In other words, it deals with the outside view of an object (interface).</p>\n<p>Now this is the part that always confuses me. Whenever I think about abstraction the thing which comes to my mind is Abstract class (maybe because both have Abstract keyword). Above definition says abstraction means hiding data and only showing required details but that is what we are already doing in encapsulation right? then what is the difference. Also I did not get what is outside view of object in &quot;it deals with the outside view of an object&quot;.</p>\n<p>Can someone please explain this more clearly? Real-life and/or programmatic examples would be especially helpful.</p>\n"},{"tags":["java","derby","importdata"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668078754,"post_id":74387941,"comment_id":131322082,"body_markdown":"You *include* JPA as a dependency, but completely ignore it by your code. It should be sufficient to make spring-boot-starter-data-jdbc a dependency.","body":"You <i>include</i> JPA as a dependency, but completely ignore it by your code. It should be sufficient to make spring-boot-starter-data-jdbc a dependency."}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668081713,"creation_date":1668079563,"answer_id":74388235,"question_id":74387941,"body_markdown":"The syntax of the stored procedure according to [documentation](https://db.apache.org/derby/docs/10.0/manuals/reference/sqlj121.html) is\r\n\r\n```sql\r\nSYSCS_UTIL.SYSCS_IMPORT_DATA (IN SCHEMANAME VARCHAR(128),\r\nIN TABLENAME VARCHAR(128), IN INSERTCOLUMNS VARCHAR(32672),\r\nIN COLUMNINDEXES VARCHAR(32672), IN FILENAME VARCHAR(32672),\r\nIN COLUMNDELIMITER CHAR(1), IN CHARACTERDELIMITER CHAR(1),\r\nIN CODESET VARCHAR(128), IN REPLACE SMALLINT)\r\n```\r\n\r\nAssuming the file&#39;s name is &#39;C:\\import.csv&#39;, String `queryCer` resolves to\r\n\r\n```sql\r\nCALL SYSCS_UTIL.SYSCS_IMPORT_DATA(&#39;ROOT&#39;,\r\n&#39;ELECTOR&#39;,&#39;COLUMN1, COLUMN2, COLUMN3, COLUMN4, COLUMN5&#39;,\r\nnull,&#39;C:\\import.csv&#39;,\r\n&#39;;&#39;, &#39;\\n&#39;, &#39;UTF-8&#39;, 0)\r\n```\r\n\r\nwhere &quot;;&quot; being the column delimiter (which is correct) and &quot;\\n&quot; being the __character__ delimiter, which is incorrect as there is no character delimiter. So,replace `&#39;\\\\n&#39;` by `null` (without quotes).\r\n\r\n","title":"Bulk Import Derby error SYSCS_IMPORT_DATA CHARACTERDELIMITER must be CHAR(1)","body":"<p>The syntax of the stored procedure according to <a href=\"https://db.apache.org/derby/docs/10.0/manuals/reference/sqlj121.html\" rel=\"nofollow noreferrer\">documentation</a> is</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SYSCS_UTIL.SYSCS_IMPORT_DATA (IN SCHEMANAME VARCHAR(128),\nIN TABLENAME VARCHAR(128), IN INSERTCOLUMNS VARCHAR(32672),\nIN COLUMNINDEXES VARCHAR(32672), IN FILENAME VARCHAR(32672),\nIN COLUMNDELIMITER CHAR(1), IN CHARACTERDELIMITER CHAR(1),\nIN CODESET VARCHAR(128), IN REPLACE SMALLINT)\n</code></pre>\n<p>Assuming the file's name is 'C:\\import.csv', String <code>queryCer</code> resolves to</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CALL SYSCS_UTIL.SYSCS_IMPORT_DATA('ROOT',\n'ELECTOR','COLUMN1, COLUMN2, COLUMN3, COLUMN4, COLUMN5',\nnull,'C:\\import.csv',\n';', '\\n', 'UTF-8', 0)\n</code></pre>\n<p>where &quot;;&quot; being the column delimiter (which is correct) and &quot;\\n&quot; being the <strong>character</strong> delimiter, which is incorrect as there is no character delimiter. So,replace <code>'\\\\n'</code> by <code>null</code> (without quotes).</p>\n"}],"owner":{"account_id":5291200,"reputation":1,"user_id":4223746,"display_name":"Jos&#233; Pascual Gimeno Mar&#237;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672209349,"creation_date":1668078135,"question_id":74387941,"body_markdown":"Hi I trying to import txt values file into derby database using CALL SYSCS_UTIL.SYSCS_IMPORT_DATA.\r\n\r\nEach value column is delimited by ; and the line of values is delimited by LF Line Feed.\r\n\r\n111142501;283811110;01111000;28111004;EXPO[LF]\r\n\r\nIn my java method I&#39;m invoking SYSCS_IMPORT_DATA like this\r\n\r\n\r\n```\r\n\t\tString driver = &quot;org.apache.derby.jdbc.EmbeddedDriver&quot;;\r\n\t\tString protocol = &quot;jdbc:derby:&quot;;\r\n\t\tConnection conexion = null;\r\n\r\n\t\tFile bd = new File(configProperties.getDdbbDir());\r\n\t\tString absolutePathDB = bd.getAbsolutePath();\r\n\t\tClass.forName(driver).newInstance();\r\n\t\tProperties props = new Properties();\r\n\t\tconexion = DriverManager.getConnection(protocol + absolutePathDB, props);\r\n\t\tconexion.setAutoCommit(false);\r\n\t\tStatement s = conexion.createStatement();\r\n\r\n\t\tString queryCer = &quot;CALL SYSCS_UTIL.SYSCS_IMPORT_DATA(&#39;ROOT&#39;,&#39;ELECTOR&#39;,&#39;COLUMN1, COLUMN2, COLUMN3, COLUMN4, COLUMN5&#39;,null,&#39;&quot; +\t\t\t\t\t+ StringUtils.replace(file.getAbsolutePath(), &quot;\\\\&quot;, &quot;\\\\\\\\&quot;) + &quot;&#39;,&#39;;&#39;, &#39;\\\\n&#39;, &#39;UTF-8&#39;, 0)&quot;;\r\n\t\t\ts.execute(queryCer);\r\n\r\n```\r\n\r\nWhen my applications goes by statement execute finishes with the following error:\r\n\r\nCaused by: ERROR 22001: A truncation error was encountered trying to shrink CHAR &#39;\\n&#39; to length 1.\r\n\r\nI&#39;ve tried to change CHARACTERDELIMITER for other values , like &quot;, &#39; or null, but other errors appears. Also I&#39;ve tried to import the lines enclosed by &quot;&quot;, but does not working.\r\n\r\n--------\r\n\r\nAs Christoph adviced me, I&#39;ve changed the invocation replacing &#39;\\\\n&#39; by null (the column names are in Spanish)\r\n\r\n    CALL SYSCS_UTIL.SYSCS_IMPORT_DATA(&#39;ROOT&#39;,&#39;ELECTOR&#39;,&#39;CODIGO_CENSO, CODIGO_PROVINCIA, NOMBRE_PROVINCIA, CODIGO_MUNICIPIO, NOMBRE_MUNICIPIO, CODIGO_DISTRITO,\r\n    CODIGO_SECCION, CODIGO_SUB_SECCION, MESA, NUMERO_ORDEN, IDENTIFICADOR, PRIMER_APELLIDO_NORMALIZADO,\r\n    SEGUNDO_APELLIDO_NORMALIZADO, NOMBRE_NORMALIZADO, FECHA_NACIMIENTO, INDICADOR_CORREO, SEXO, GRADO_ESC,\r\n    PRIMER_APELLIDO_SIN_NORMALIZAR, SEGUNDO_APELLIDO_SIN_NORMALIZAR, NOMBRE_SIN_NORMALIZAR, CODIGO_CIERRE, NIE, EATIM, JUNTA_ZONA, PERIODO&#39;\r\n    ,&#39;7,17,54,12,51,9,20,21,47,56,39,63,67,52,36,40,69,37,64,68,55,8,49,33,43,60&#39;,\r\n    &#39;fichero.csv&#39;,&#39;;&#39;, null, &#39;UTF-8&#39;, 0)\r\n\r\n\r\nbut now I have the following error: java.sql.SQLException: The exception &#39;java.sql.SQLSyntaxErrorException: Column &#39;COLUMNXX&#39; is either not in any table in the FROM list or appears within a join specification and is outside the scope of the join specification or appears in a HAVING clause and is not in the GROUP BY list. If this is a CREATE or ALTER TABLE statement then &#39;COLUMN54&#39; is not a column in the target table.&#39; was thrown while evaluating an expression.\r\n\r\n\r\n\r\nAs you can see, I&#39;ve included the index of column to import data values, because if it wasn&#39;t indicated the error was the following:\r\nCaused by: java.sql.SQLException: The column ID in table ELECTOR does not allow null values.\r\n\r\nSo, I have to put the index columns.\r\n\r\nHere one register from csv file: \r\n\r\n    1;28;MADRID                   ;903;XXXX XXXXXX                                       ;01;022 ;  ;B;00000466;*****7***;SOMBRERO                         ;ROZAS                            ;PEPITO                           ;200X0404; ;V;3;PISCINAS                         ;ROZAS                            ;PEPITO                           ;000042501;288000000;00000000;20000000;EXPO\r\n\r\nY la data table has the following column names:\r\n\r\n    (&#39;ID&#39;,&#39;APELLIDO_CASADA&#39;,&#39;BLOQUE&#39;,&#39;CALIFICADOR&#39;,&#39;CIAY&#39;,&#39;CIUDAD&#39;,&#39;CODIGO_CENSO&#39;,&#39;CODIGO_CIERRE&#39;,&#39;CODIGO_DISTRITO&#39;,\r\n    &#39;CODIGOEC&#39;,&#39;CODIGOES&#39;,&#39;CODIGO_MUNICIPIO&#39;,&#39;CODIGO_MUNICIPIO_NACIMIENTO&#39;,&#39;CODIGO_NUCLEO&#39;,&#39;CODIGO_PAIS&#39;,\r\n    &#39;CODIGO_POSTAL&#39;,&#39;CODIGO_PROVINCIA&#39;,&#39;CODIGO_PROVINCIA_NACIMIENTO&#39;,&#39;CODIGO_PSEUDOVIA&#39;,&#39;CODIGO_SECCION&#39;,\r\n    &#39;CODIGO_SUB_SECCION&#39;,&#39;CODIGO_TIPO_VIA&#39;,&#39;CODIGO_VIA&#39;,&#39;CONSULADO&#39;,&#39;DESCRIPCIONEC&#39;,&#39;DESCRIPCIONES&#39;,&#39;DESCRIPCION_NUCLEO&#39;,\r\n    &#39;DESCRIPCION_PSEUDOVIA&#39;,&#39;DESCRIPCION_TIPO_VIA&#39;,&#39;DESCRIPCION_VIA&#39;,&#39;DIGITO_CONTROL_NIE&#39;,&#39;DIRECCION_POSTAL&#39;,\r\n    &#39;EATIM&#39;,&#39;ESCALERA&#39;,&#39;FECHA_CARGA&#39;,&#39;FECHA_NACIMIENTO&#39;,&#39;GRADO_ESC&#39;,&#39;HM&#39;,&#39;IDENTIFICADOR&#39;,&#39;INDICADOR_CORREO&#39;,\r\n    &#39;INDICADOR_INHABILITADO&#39;,&#39;IVOTO&#39;,&#39;JUNTA_ZONA&#39;,&#39;KM&#39;,&#39;LETRA_DNI&#39;,&#39;LETRA_EXTRANJERO&#39;,&#39;MESA&#39;,&#39;MUNICIPIO_CERA&#39;,\r\n    &#39;NIE&#39;,&#39;NOMBRE_CONSULADO&#39;,&#39;NOMBRE_MUNICIPIO&#39;,&#39;NOMBRE_NORMALIZADO&#39;,&#39;NOMBRE_PAIS_CERA&#39;,&#39;NOMBRE_PROVINCIA&#39;,\r\n    &#39;NOMBRE_SIN_NORMALIZAR&#39;,&#39;NUMERO_ORDEN&#39;,&#39;NUMERO_VIA&#39;,&#39;PAIS_CERA&#39;,&#39;PAIS_NACION&#39;,&#39;PERIODO&#39;,&#39;PISO&#39;,&#39;PORTAL&#39;,\r\n    &#39;PRIMER_APELLIDO_NORMALIZADO&#39;,&#39;PRIMER_APELLIDO_SIN_NORMALIZAR&#39;,&#39;PROVINCIA_CERA&#39;,&#39;PUERTA&#39;,&#39;SEGUNDO_APELLIDO_NORMALIZADO&#39;,\r\n    &#39;SEGUNDO_APELLIDO_SIN_NORMALIZAR&#39;, &#39;SEXO&#39;, &#39;TIPO_IDENTIFICADOR&#39;)\r\n\r\nAny help will be appreciate.\r\nThanks\r\nRegards, \r\nJose Pascual\r\n\r\n","title":"Bulk Import Derby error SYSCS_IMPORT_DATA CHARACTERDELIMITER must be CHAR(1)","body":"<p>Hi I trying to import txt values file into derby database using CALL SYSCS_UTIL.SYSCS_IMPORT_DATA.</p>\n<p>Each value column is delimited by ; and the line of values is delimited by LF Line Feed.</p>\n<p>111142501;283811110;01111000;28111004;EXPO[LF]</p>\n<p>In my java method I'm invoking SYSCS_IMPORT_DATA like this</p>\n<pre><code>        String driver = &quot;org.apache.derby.jdbc.EmbeddedDriver&quot;;\n        String protocol = &quot;jdbc:derby:&quot;;\n        Connection conexion = null;\n\n        File bd = new File(configProperties.getDdbbDir());\n        String absolutePathDB = bd.getAbsolutePath();\n        Class.forName(driver).newInstance();\n        Properties props = new Properties();\n        conexion = DriverManager.getConnection(protocol + absolutePathDB, props);\n        conexion.setAutoCommit(false);\n        Statement s = conexion.createStatement();\n\n        String queryCer = &quot;CALL SYSCS_UTIL.SYSCS_IMPORT_DATA('ROOT','ELECTOR','COLUMN1, COLUMN2, COLUMN3, COLUMN4, COLUMN5',null,'&quot; +                   + StringUtils.replace(file.getAbsolutePath(), &quot;\\\\&quot;, &quot;\\\\\\\\&quot;) + &quot;',';', '\\\\n', 'UTF-8', 0)&quot;;\n            s.execute(queryCer);\n\n</code></pre>\n<p>When my applications goes by statement execute finishes with the following error:</p>\n<p>Caused by: ERROR 22001: A truncation error was encountered trying to shrink CHAR '\\n' to length 1.</p>\n<p>I've tried to change CHARACTERDELIMITER for other values , like &quot;, ' or null, but other errors appears. Also I've tried to import the lines enclosed by &quot;&quot;, but does not working.</p>\n<hr />\n<p>As Christoph adviced me, I've changed the invocation replacing '\\n' by null (the column names are in Spanish)</p>\n<pre><code>CALL SYSCS_UTIL.SYSCS_IMPORT_DATA('ROOT','ELECTOR','CODIGO_CENSO, CODIGO_PROVINCIA, NOMBRE_PROVINCIA, CODIGO_MUNICIPIO, NOMBRE_MUNICIPIO, CODIGO_DISTRITO,\nCODIGO_SECCION, CODIGO_SUB_SECCION, MESA, NUMERO_ORDEN, IDENTIFICADOR, PRIMER_APELLIDO_NORMALIZADO,\nSEGUNDO_APELLIDO_NORMALIZADO, NOMBRE_NORMALIZADO, FECHA_NACIMIENTO, INDICADOR_CORREO, SEXO, GRADO_ESC,\nPRIMER_APELLIDO_SIN_NORMALIZAR, SEGUNDO_APELLIDO_SIN_NORMALIZAR, NOMBRE_SIN_NORMALIZAR, CODIGO_CIERRE, NIE, EATIM, JUNTA_ZONA, PERIODO'\n,'7,17,54,12,51,9,20,21,47,56,39,63,67,52,36,40,69,37,64,68,55,8,49,33,43,60',\n'fichero.csv',';', null, 'UTF-8', 0)\n</code></pre>\n<p>but now I have the following error: java.sql.SQLException: The exception 'java.sql.SQLSyntaxErrorException: Column 'COLUMNXX' is either not in any table in the FROM list or appears within a join specification and is outside the scope of the join specification or appears in a HAVING clause and is not in the GROUP BY list. If this is a CREATE or ALTER TABLE statement then 'COLUMN54' is not a column in the target table.' was thrown while evaluating an expression.</p>\n<p>As you can see, I've included the index of column to import data values, because if it wasn't indicated the error was the following:\nCaused by: java.sql.SQLException: The column ID in table ELECTOR does not allow null values.</p>\n<p>So, I have to put the index columns.</p>\n<p>Here one register from csv file:</p>\n<pre><code>1;28;MADRID                   ;903;XXXX XXXXXX                                       ;01;022 ;  ;B;00000466;*****7***;SOMBRERO                         ;ROZAS                            ;PEPITO                           ;200X0404; ;V;3;PISCINAS                         ;ROZAS                            ;PEPITO                           ;000042501;288000000;00000000;20000000;EXPO\n</code></pre>\n<p>Y la data table has the following column names:</p>\n<pre><code>('ID','APELLIDO_CASADA','BLOQUE','CALIFICADOR','CIAY','CIUDAD','CODIGO_CENSO','CODIGO_CIERRE','CODIGO_DISTRITO',\n'CODIGOEC','CODIGOES','CODIGO_MUNICIPIO','CODIGO_MUNICIPIO_NACIMIENTO','CODIGO_NUCLEO','CODIGO_PAIS',\n'CODIGO_POSTAL','CODIGO_PROVINCIA','CODIGO_PROVINCIA_NACIMIENTO','CODIGO_PSEUDOVIA','CODIGO_SECCION',\n'CODIGO_SUB_SECCION','CODIGO_TIPO_VIA','CODIGO_VIA','CONSULADO','DESCRIPCIONEC','DESCRIPCIONES','DESCRIPCION_NUCLEO',\n'DESCRIPCION_PSEUDOVIA','DESCRIPCION_TIPO_VIA','DESCRIPCION_VIA','DIGITO_CONTROL_NIE','DIRECCION_POSTAL',\n'EATIM','ESCALERA','FECHA_CARGA','FECHA_NACIMIENTO','GRADO_ESC','HM','IDENTIFICADOR','INDICADOR_CORREO',\n'INDICADOR_INHABILITADO','IVOTO','JUNTA_ZONA','KM','LETRA_DNI','LETRA_EXTRANJERO','MESA','MUNICIPIO_CERA',\n'NIE','NOMBRE_CONSULADO','NOMBRE_MUNICIPIO','NOMBRE_NORMALIZADO','NOMBRE_PAIS_CERA','NOMBRE_PROVINCIA',\n'NOMBRE_SIN_NORMALIZAR','NUMERO_ORDEN','NUMERO_VIA','PAIS_CERA','PAIS_NACION','PERIODO','PISO','PORTAL',\n'PRIMER_APELLIDO_NORMALIZADO','PRIMER_APELLIDO_SIN_NORMALIZAR','PROVINCIA_CERA','PUERTA','SEGUNDO_APELLIDO_NORMALIZADO',\n'SEGUNDO_APELLIDO_SIN_NORMALIZAR', 'SEXO', 'TIPO_IDENTIFICADOR')\n</code></pre>\n<p>Any help will be appreciate.\nThanks\nRegards,\nJose Pascual</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":1,"creation_date":1672209640,"post_id":74936943,"comment_id":132241597,"body_markdown":"can you add release SHA-1 or SHA-256 in your firebase","body":"can you add release SHA-1 or SHA-256 in your firebase"}],"owner":{"account_id":24081976,"reputation":260,"user_id":18056527,"display_name":"Abhi S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672208914,"creation_date":1672208914,"question_id":74936943,"body_markdown":"Getting data null if creating a signed bundle. after checking in debug shrinkResources=false when I changed it to false same issue I faced \r\n\r\nproguard-rules.pro file\r\n\r\n```\r\n#-renamesourcefileattribute SourceFile\r\n-keepattributes Signature\r\n\r\n# This rule will properly ProGuard all the model classes in\r\n# the package com.yourcompany.models.\r\n# Modify this rule to fit the structure of your app.\r\n-keepclassmembers class com.yourcompany.models.** {\r\n  *;\r\n}\r\n```\r\n\r\nproject build.gradle\r\n\r\n```\r\n buildTypes {\r\n        debug {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            zipAlignEnabled true\r\n            shrinkResources true\r\n        }\r\n        release {\r\n            debuggable false\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            zipAlignEnabled true\r\n            shrinkResources true\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n    }\r\n```\r\n\r\nif shrink resources is &quot;true&quot; the DataSnapshot data not getting null","title":"Firebase realtime database data not get after create signed bundle in android","body":"<p>Getting data null if creating a signed bundle. after checking in debug shrinkResources=false when I changed it to false same issue I faced</p>\n<p>proguard-rules.pro file</p>\n<pre><code>#-renamesourcefileattribute SourceFile\n-keepattributes Signature\n\n# This rule will properly ProGuard all the model classes in\n# the package com.yourcompany.models.\n# Modify this rule to fit the structure of your app.\n-keepclassmembers class com.yourcompany.models.** {\n  *;\n}\n</code></pre>\n<p>project build.gradle</p>\n<pre><code> buildTypes {\n        debug {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            zipAlignEnabled true\n            shrinkResources true\n        }\n        release {\n            debuggable false\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            zipAlignEnabled true\n            shrinkResources true\n        }\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_11\n            targetCompatibility JavaVersion.VERSION_11\n        }\n    }\n</code></pre>\n<p>if shrink resources is &quot;true&quot; the DataSnapshot data not getting null</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1439301,"reputation":2196,"user_id":1359923,"accept_rate":100,"display_name":"ametren"},"score":13,"creation_date":1340811676,"post_id":11229986,"comment_id":14751444,"body_markdown":"It is?  The answer is pretty straightforward.","body":"It is?  The answer is pretty straightforward."},{"owner":{"account_id":450119,"reputation":2794,"user_id":845279,"accept_rate":88,"display_name":"user845279"},"score":0,"creation_date":1340811780,"post_id":11229986,"comment_id":14751500,"body_markdown":"Did you notice he doesn&#39;t want a `char` value? And he knows how to do `substring()` but just wants a &quot;neater&quot; way. FYI, I can say that `substring()` is the neatest way.","body":"Did you notice he doesn&#39;t want a <code>char</code> value? And he knows how to do <code>substring()</code> but just wants a &quot;neater&quot; way. FYI, I can say that <code>substring()</code> is the neatest way."},{"owner":{"account_id":465669,"reputation":14770,"user_id":869912,"accept_rate":100,"display_name":"Ricardo Altamirano"},"score":3,"creation_date":1340812008,"post_id":11229986,"comment_id":14751639,"body_markdown":"@user845279 `Character.toString` fulfills all the necessary requirements and isn&#39;t messy at all.","body":"@user845279 <code>Character.toString</code> fulfills all the necessary requirements and isn&#39;t messy at all."},{"owner":{"account_id":450119,"reputation":2794,"user_id":845279,"accept_rate":88,"display_name":"user845279"},"score":0,"creation_date":1340812127,"post_id":11229986,"comment_id":14751693,"body_markdown":"@pythonscript I agree, but it isn&#39;t much different from using `substring()` directly.","body":"@pythonscript I agree, but it isn&#39;t much different from using <code>substring()</code> directly."},{"owner":{"account_id":1205526,"reputation":13619,"user_id":1175276,"accept_rate":93,"display_name":"Bluefire"},"score":0,"creation_date":1340812767,"post_id":11229986,"comment_id":14752023,"body_markdown":"@user845279 - substring has the syntax `substring(index, index + 1)`. I&#39;d like to avoid the &quot;index + 1&quot; bit.","body":"@user845279 - substring has the syntax <code>substring(index, index + 1)</code>. I&#39;d like to avoid the &quot;index + 1&quot; bit."},{"owner":{"account_id":465669,"reputation":14770,"user_id":869912,"accept_rate":100,"display_name":"Ricardo Altamirano"},"score":0,"creation_date":1340812916,"post_id":11229986,"comment_id":14752096,"body_markdown":"@Bluefire If that&#39;s what you&#39;re trying to avoid, my answer should solve that. `substring` isn&#39;t ideal because if you want the last letter in the string, you can&#39;t use `index + 1` because it will throw an exception.","body":"@Bluefire If that&#39;s what you&#39;re trying to avoid, my answer should solve that. <code>substring</code> isn&#39;t ideal because if you want the last letter in the string, you can&#39;t use <code>index + 1</code> because it will throw an exception."},{"owner":{"account_id":2777323,"reputation":4033,"user_id":2390644,"display_name":"William Price"},"score":1,"creation_date":1431571704,"post_id":11229986,"comment_id":48560456,"body_markdown":"I&#39;m late to this party, but @RicardoAltamirano is a bit mistaken.  The `endIndex` (second parameter) of `String.substring(int, int)` is an **exclusive** index, and it _won&#39;t_ throw an exception for `index + 1` as long as `index &lt; length()` -- which is true even for the last character in the string.","body":"I&#39;m late to this party, but @RicardoAltamirano is a bit mistaken.  The <code>endIndex</code> (second parameter) of <code>String.substring(int, int)</code> is an <b>exclusive</b> index, and it <i>won&#39;t</i> throw an exception for <code>index + 1</code> as long as <code>index &lt; length()</code> -- which is true even for the last character in the string."}],"answers":[{"tags":[],"owner":{"account_id":1439301,"reputation":2196,"user_id":1359923,"accept_rate":100,"display_name":"ametren"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1340812320,"creation_date":1340811564,"answer_id":11230039,"question_id":11229986,"body_markdown":"You want `.charAt()`\r\n\r\n[Here&#39;s a tutorial][1]\r\n\r\n\r\n  [1]: http://www.homeandlearn.co.uk/java/charAt.html\r\n\r\n    &quot;mystring&quot;.charAt(2)\r\n\r\nreturns `s`\r\n\r\nIf you&#39;re hellbent on having a string there are a couple of ways to convert a char to a string:\r\n\r\n    String mychar = Character.toString(&quot;mystring&quot;.charAt(2));\r\n\r\nOr \r\n\r\n    String mychar = &quot;&quot;+&quot;mystring&quot;.charAt(2);\r\n\r\nOr even\r\n\r\n    String mychar = String.valueOf(&quot;mystring&quot;.charAt(2));\r\nFor example.","title":"Get string character by index","body":"<p>You want <code>.charAt()</code></p>\n\n<p><a href=\"http://www.homeandlearn.co.uk/java/charAt.html\" rel=\"noreferrer\">Here's a tutorial</a></p>\n\n<pre><code>\"mystring\".charAt(2)\n</code></pre>\n\n<p>returns <code>s</code></p>\n\n<p>If you're hellbent on having a string there are a couple of ways to convert a char to a string:</p>\n\n<pre><code>String mychar = Character.toString(\"mystring\".charAt(2));\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>String mychar = \"\"+\"mystring\".charAt(2);\n</code></pre>\n\n<p>Or even</p>\n\n<pre><code>String mychar = String.valueOf(\"mystring\".charAt(2));\n</code></pre>\n\n<p>For example.</p>\n"},{"tags":[],"owner":{"account_id":465669,"reputation":14770,"user_id":869912,"accept_rate":100,"display_name":"Ricardo Altamirano"},"down_vote_count":1,"up_vote_count":398,"is_accepted":true,"score":397,"last_activity_date":1550675801,"creation_date":1340811570,"answer_id":11230042,"question_id":11229986,"body_markdown":"The method you&#39;re looking for is `charAt`. Here&#39;s an example:\r\n\r\n    String text = &quot;foo&quot;;\r\n    char charAtZero = text.charAt(0);\r\n    System.out.println(charAtZero); // Prints f\r\n\r\nFor more information, see the [Java documentation on `String.charAt`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#charAt(int)). If you want another simple tutorial, [this one](https://www.tutorialspoint.com/java/java_string_charat.htm) or [this one](https://www.homeandlearn.co.uk/java/charAt.html).\r\n\r\nIf you don&#39;t want the result as a `char` data type, but rather as a string, you would use the `Character.toString` method:\r\n\r\n    String text = &quot;foo&quot;;\r\n    String letter = Character.toString(text.charAt(0));\r\n    System.out.println(letter); // Prints f\r\n\r\nIf you want more information on the `Character` class and the `toString` method, I pulled my info from [the documentation on Character.toString](https://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html#toString%28char%29).\r\n","title":"Get string character by index","body":"<p>The method you're looking for is <code>charAt</code>. Here's an example:</p>\n\n<pre><code>String text = \"foo\";\nchar charAtZero = text.charAt(0);\nSystem.out.println(charAtZero); // Prints f\n</code></pre>\n\n<p>For more information, see the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#charAt(int)\" rel=\"noreferrer\">Java documentation on <code>String.charAt</code></a>. If you want another simple tutorial, <a href=\"https://www.tutorialspoint.com/java/java_string_charat.htm\" rel=\"noreferrer\">this one</a> or <a href=\"https://www.homeandlearn.co.uk/java/charAt.html\" rel=\"noreferrer\">this one</a>.</p>\n\n<p>If you don't want the result as a <code>char</code> data type, but rather as a string, you would use the <code>Character.toString</code> method:</p>\n\n<pre><code>String text = \"foo\";\nString letter = Character.toString(text.charAt(0));\nSystem.out.println(letter); // Prints f\n</code></pre>\n\n<p>If you want more information on the <code>Character</code> class and the <code>toString</code> method, I pulled my info from <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html#toString%28char%29\" rel=\"noreferrer\">the documentation on Character.toString</a>.</p>\n"},{"tags":[],"owner":{"account_id":1078274,"reputation":5094,"user_id":1075956,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1340811624,"creation_date":1340811624,"answer_id":11230056,"question_id":11229986,"body_markdown":"You&#39;re pretty stuck with `substring()`, given your requirements.  The standard way would be `charAt()`, but you said you won&#39;t accept a char data type.","title":"Get string character by index","body":"<p>You're pretty stuck with <code>substring()</code>, given your requirements.  The standard way would be <code>charAt()</code>, but you said you won't accept a char data type.</p>\n"},{"tags":[],"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1518128451,"creation_date":1340811931,"answer_id":11230169,"question_id":11229986,"body_markdown":"You could use the [`String.charAt(int index)`][1] method result as the parameter for [String.valueOf(char c)][2]. \r\n\r\n    String.valueOf(myString.charAt(3)) // This will return a string of the character on the 3rd position.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#charAt(int)\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#valueOf(char)\r\n","title":"Get string character by index","body":"<p>You could use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#charAt(int)\" rel=\"nofollow noreferrer\"><code>String.charAt(int index)</code></a> method result as the parameter for <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#valueOf(char)\" rel=\"nofollow noreferrer\">String.valueOf(char c)</a>. </p>\n\n<pre><code>String.valueOf(myString.charAt(3)) // This will return a string of the character on the 3rd position.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1340811948,"creation_date":1340811948,"answer_id":11230175,"question_id":11229986,"body_markdown":"A hybrid approach combining `charAt` with your requirement of not getting  char could be\r\n\r\n    newstring = String.valueOf(&quot;foo&quot;.charAt(0));\r\n\r\nBut that&#39;s not really &quot;neater&quot; than `substring()` to be honest.\r\n","title":"Get string character by index","body":"<p>A hybrid approach combining <code>charAt</code> with your requirement of not getting  char could be</p>\n\n<pre><code>newstring = String.valueOf(\"foo\".charAt(0));\n</code></pre>\n\n<p>But that's not really \"neater\" than <code>substring()</code> to be honest.</p>\n"},{"tags":[],"owner":{"account_id":286256,"reputation":3511,"user_id":585422,"accept_rate":80,"display_name":"Aqif Hamid"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1518128493,"creation_date":1340812322,"answer_id":11230288,"question_id":11229986,"body_markdown":"It is as simple as:\r\n\r\n    String charIs = string.charAt(index) + &quot;&quot;;\r\n","title":"Get string character by index","body":"<p>It is as simple as:</p>\n\n<pre><code>String charIs = string.charAt(index) + \"\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6220863,"reputation":9,"user_id":4840537,"display_name":"Kadar Kabouya Kalo"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1431545235,"creation_date":1431542625,"answer_id":30222891,"question_id":11229986,"body_markdown":"Like this:\r\n\r\n    String a =&quot;hh1hhhhhhhh&quot;;\r\n    char s = a.charAt(3);","title":"Get string character by index","body":"<p>Like this:</p>\n\n<pre><code>String a =\"hh1hhhhhhhh\";\nchar s = a.charAt(3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2742496,"reputation":50496,"user_id":2363712,"accept_rate":50,"display_name":"Sylvain Leroux"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1518128694,"creation_date":1446936001,"answer_id":33588633,"question_id":11229986,"body_markdown":"None of the proposed answers works for surrogate pairs used to encode characters outside of the [Unicode Basic Multiligual Plane][1].\r\n\r\nHere is an example using three different techniques to iterate over the &quot;characters&quot; of a string (incl. using Java 8 stream API). Please notice this example includes characters of the Unicode Supplementary Multilingual Plane (SMP). You need a proper font to display this example and the result correctly.\r\n\r\n    // String containing characters of the Unicode \r\n    // Supplementary Multilingual Plane (SMP)\r\n    // In that particular case, hieroglyphs.\r\n    String str = &quot;The quick brown &#78053; jumps over the lazy &#78467;&#78719;&#78163;&#78049;&quot;;\r\n\r\nIterate of chars\r\n================\r\nThe first solution is a simple loop over all `char` of the string:\r\n\r\n    /* 1 */\r\n    System.out.println(\r\n            &quot;\\n\\nUsing char iterator (do not work for surrogate pairs !)&quot;);\r\n    for (int pos = 0; pos &lt; str.length(); ++pos) {\r\n        char c = str.charAt(pos);\r\n        System.out.printf(&quot;%s &quot;, Character.toString(c));\r\n        //                       ^^^^^^^^^^^^^^^^^^^^^\r\n        //                   Convert to String as per OP request\r\n    }\r\n\r\nIterate of code points\r\n======================\r\nThe second solution uses an explicit loop too, but accessing individual \r\ncode points with [codePointAt][2] and incrementing the loop index accordingly to [charCount][3]:\r\n\r\n    /* 2 */\r\n    System.out.println(\r\n            &quot;\\n\\nUsing Java 1.5 codePointAt(works as expected)&quot;);\r\n    for (int pos = 0; pos &lt; str.length();) {\r\n        int cp = str.codePointAt(pos);\r\n\r\n        char    chars[] = Character.toChars(cp);\r\n        //                ^^^^^^^^^^^^^^^^^^^^^\r\n        //               Convert to a `char[]`\r\n        //               as code points outside the Unicode BMP\r\n        //               will map to more than one Java `char`\r\n        System.out.printf(&quot;%s &quot;, new String(chars));\r\n        //                       ^^^^^^^^^^^^^^^^^\r\n        //               Convert to String as per OP request\r\n        \r\n        pos += Character.charCount(cp);\r\n        //     ^^^^^^^^^^^^^^^^^^^^^^^\r\n        //    Increment pos by 1 of more depending\r\n        //    the number of Java `char` required to\r\n        //    encode that particular codepoint.\r\n    }\r\n\r\nIterate over code points using the Stream API\r\n=============================================\r\nThe third solution is basically the same as the second, but using the [Java 8 Stream API][4]:\r\n\r\n    /* 3 */\r\n    System.out.println(\r\n            &quot;\\n\\nUsing Java 8 stream (works as expected)&quot;);\r\n    str.codePoints().forEach(\r\n        cp -&gt; {\r\n            char    chars[] = Character.toChars(cp);\r\n            //                ^^^^^^^^^^^^^^^^^^^^^\r\n            //               Convert to a `char[]`\r\n            //               as code points outside the Unicode BMP\r\n            //               will map to more than one Java `char`\r\n            System.out.printf(&quot;%s &quot;, new String(chars));\r\n            //                       ^^^^^^^^^^^^^^^^^\r\n            //               Convert to String as per OP request\r\n        });\r\n\r\nResults\r\n=======\r\nWhen you run that test program, you obtain:\r\n\r\n    Using char iterator (do not work for surrogate pairs !)\r\n    T h e   q u i c k   b r o w n   ? ?   j u m p s   o v e r   t h e   l a z y   ? ? ? ? ? ? ? ? \r\n    \r\n    Using Java 1.5 codePointAt(works as expected)\r\n    T h e   q u i c k   b r o w n   &#78053;   j u m p s   o v e r   t h e   l a z y   &#78467; &#78719; &#78163; &#78049; \r\n    \r\n    Using Java 8 stream (works as expected)\r\n    T h e   q u i c k   b r o w n   &#78053;   j u m p s   o v e r   t h e   l a z y   &#78467; &#78719; &#78163; &#78049; \r\n\r\nAs you can see (if you&#39;re able to display hieroglyphs properly), the first solution does not handle properly characters outside of the Unicode BMP. On the other hand, the other two solutions deal well with surrogate pairs.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Plane_%28Unicode%29#Basic_Multilingual_Plane\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#codePointAt-int-\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#charCount-int-\r\n  [4]: http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html\r\n\r\n\r\n","title":"Get string character by index","body":"<p>None of the proposed answers works for surrogate pairs used to encode characters outside of the <a href=\"https://en.wikipedia.org/wiki/Plane_%28Unicode%29#Basic_Multilingual_Plane\" rel=\"noreferrer\">Unicode Basic Multiligual Plane</a>.</p>\n\n<p>Here is an example using three different techniques to iterate over the \"characters\" of a string (incl. using Java 8 stream API). Please notice this example includes characters of the Unicode Supplementary Multilingual Plane (SMP). You need a proper font to display this example and the result correctly.</p>\n\n<pre><code>// String containing characters of the Unicode \n// Supplementary Multilingual Plane (SMP)\n// In that particular case, hieroglyphs.\nString str = \"The quick brown 𓃥 jumps over the lazy 𓊃𓍿𓅓𓃡\";\n</code></pre>\n\n<h1>Iterate of chars</h1>\n\n<p>The first solution is a simple loop over all <code>char</code> of the string:</p>\n\n<pre><code>/* 1 */\nSystem.out.println(\n        \"\\n\\nUsing char iterator (do not work for surrogate pairs !)\");\nfor (int pos = 0; pos &lt; str.length(); ++pos) {\n    char c = str.charAt(pos);\n    System.out.printf(\"%s \", Character.toString(c));\n    //                       ^^^^^^^^^^^^^^^^^^^^^\n    //                   Convert to String as per OP request\n}\n</code></pre>\n\n<h1>Iterate of code points</h1>\n\n<p>The second solution uses an explicit loop too, but accessing individual \ncode points with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#codePointAt-int-\" rel=\"noreferrer\">codePointAt</a> and incrementing the loop index accordingly to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#charCount-int-\" rel=\"noreferrer\">charCount</a>:</p>\n\n<pre><code>/* 2 */\nSystem.out.println(\n        \"\\n\\nUsing Java 1.5 codePointAt(works as expected)\");\nfor (int pos = 0; pos &lt; str.length();) {\n    int cp = str.codePointAt(pos);\n\n    char    chars[] = Character.toChars(cp);\n    //                ^^^^^^^^^^^^^^^^^^^^^\n    //               Convert to a `char[]`\n    //               as code points outside the Unicode BMP\n    //               will map to more than one Java `char`\n    System.out.printf(\"%s \", new String(chars));\n    //                       ^^^^^^^^^^^^^^^^^\n    //               Convert to String as per OP request\n\n    pos += Character.charCount(cp);\n    //     ^^^^^^^^^^^^^^^^^^^^^^^\n    //    Increment pos by 1 of more depending\n    //    the number of Java `char` required to\n    //    encode that particular codepoint.\n}\n</code></pre>\n\n<h1>Iterate over code points using the Stream API</h1>\n\n<p>The third solution is basically the same as the second, but using the <a href=\"http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html\" rel=\"noreferrer\">Java 8 Stream API</a>:</p>\n\n<pre><code>/* 3 */\nSystem.out.println(\n        \"\\n\\nUsing Java 8 stream (works as expected)\");\nstr.codePoints().forEach(\n    cp -&gt; {\n        char    chars[] = Character.toChars(cp);\n        //                ^^^^^^^^^^^^^^^^^^^^^\n        //               Convert to a `char[]`\n        //               as code points outside the Unicode BMP\n        //               will map to more than one Java `char`\n        System.out.printf(\"%s \", new String(chars));\n        //                       ^^^^^^^^^^^^^^^^^\n        //               Convert to String as per OP request\n    });\n</code></pre>\n\n<h1>Results</h1>\n\n<p>When you run that test program, you obtain:</p>\n\n<pre><code>Using char iterator (do not work for surrogate pairs !)\nT h e   q u i c k   b r o w n   ? ?   j u m p s   o v e r   t h e   l a z y   ? ? ? ? ? ? ? ? \n\nUsing Java 1.5 codePointAt(works as expected)\nT h e   q u i c k   b r o w n   𓃥   j u m p s   o v e r   t h e   l a z y   𓊃 𓍿 𓅓 𓃡 \n\nUsing Java 8 stream (works as expected)\nT h e   q u i c k   b r o w n   𓃥   j u m p s   o v e r   t h e   l a z y   𓊃 𓍿 𓅓 𓃡 \n</code></pre>\n\n<p>As you can see (if you're able to display hieroglyphs properly), the first solution does not handle properly characters outside of the Unicode BMP. On the other hand, the other two solutions deal well with surrogate pairs.</p>\n"},{"tags":[],"owner":{"account_id":7251953,"reputation":91,"user_id":5531893,"accept_rate":25,"display_name":"silversk8terz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518128786,"creation_date":1448124675,"answer_id":33845989,"question_id":11229986,"body_markdown":"Here&#39;s the correct code. If you&#39;re using zybooks this will answer all the problems.\r\n\r\n    for (int i = 0; i&lt;passCode.length(); i++)\r\n    {\r\n        char letter = passCode.charAt(i);\r\n        if (letter == &#39; &#39; )\r\n        {\r\n            System.out.println(&quot;Space at &quot; + i);\r\n        }\r\n    }\r\n","title":"Get string character by index","body":"<p>Here's the correct code. If you're using zybooks this will answer all the problems.</p>\n\n<pre><code>for (int i = 0; i&lt;passCode.length(); i++)\n{\n    char letter = passCode.charAt(i);\n    if (letter == ' ' )\n    {\n        System.out.println(\"Space at \" + i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12256069,"reputation":710,"user_id":8945078,"display_name":"Thiago Silva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564405979,"creation_date":1564405979,"answer_id":57254660,"question_id":11229986,"body_markdown":"if someone is strugling with kotlin, the code is:\r\n\r\n    var oldStr: String = &quot;kotlin&quot;\r\n    var firstChar: String = oldStr.elementAt(0).toString()\r\n    Log.d(&quot;firstChar&quot;, firstChar.toString())\r\n\r\nthis will return the char in position 1, in this case k\r\nremember, the index starts in position 0, so in this sample:\r\nkotlin would be k=position 0, o=position 1, t=position 2, l=position 3, i=position 4 and n=position 5\r\n\r\n ","title":"Get string character by index","body":"<p>if someone is strugling with kotlin, the code is:</p>\n\n<pre><code>var oldStr: String = \"kotlin\"\nvar firstChar: String = oldStr.elementAt(0).toString()\nLog.d(\"firstChar\", firstChar.toString())\n</code></pre>\n\n<p>this will return the char in position 1, in this case k\nremember, the index starts in position 0, so in this sample:\nkotlin would be k=position 0, o=position 1, t=position 2, l=position 3, i=position 4 and n=position 5</p>\n"},{"tags":[],"owner":{"account_id":973884,"reputation":1114,"user_id":2072202,"accept_rate":50,"display_name":"Ababneh A"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1598544313,"creation_date":1598544313,"answer_id":63619990,"question_id":11229986,"body_markdown":"CodePointAt instead of charAt is safer to use. charAt may break when there are emojis in the strtng.","title":"Get string character by index","body":"<p>CodePointAt instead of charAt is safer to use. charAt may break when there are emojis in the strtng.</p>\n"},{"tags":[],"owner":{"account_id":19777185,"reputation":19,"user_id":14482880,"display_name":"uzairshahid901"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642756978,"creation_date":1612878680,"answer_id":66120324,"question_id":11229986,"body_markdown":"CharAt function not working \r\n\r\n    Edittext.setText(YourString.toCharArray(),0,1);\r\n\r\nThis code working fine\r\n","title":"Get string character by index","body":"<p>CharAt function not working</p>\n<pre><code>Edittext.setText(YourString.toCharArray(),0,1);\n</code></pre>\n<p>This code working fine</p>\n"},{"tags":[],"owner":{"account_id":11243626,"reputation":595,"user_id":8282586,"accept_rate":69,"display_name":"Samiksha Jagtap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672208793,"creation_date":1672202065,"answer_id":74936277,"question_id":11229986,"body_markdown":"I come across this question yeasterday and I am aware this has accepted answer, just want to add one more solution to this in **javascript** scenario which can help people like me who are looking for this   - \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    let name = &#39;Test&#39;\r\n    console.log(name[2])\r\n\r\n    // Here at index 2 we have &#39;s&#39; value and this will simply give the expected output\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Get string character by index","body":"<p>I come across this question yeasterday and I am aware this has accepted answer, just want to add one more solution to this in <strong>javascript</strong> scenario which can help people like me who are looking for this   -</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let name = 'Test'\nconsole.log(name[2])\n\n// Here at index 2 we have 's' value and this will simply give the expected output</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":1205526,"reputation":13619,"user_id":1175276,"accept_rate":93,"display_name":"Bluefire"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1118913,"favorite_count":0,"down_vote_count":0,"up_vote_count":282,"accepted_answer_id":11230042,"answer_count":13,"score":282,"last_activity_date":1672208793,"creation_date":1340811431,"question_id":11229986,"body_markdown":"I know how to work out the index of a certain character or number in a string, but is there any predefined method I can use to give me the character at the *nth* position? So in the string &quot;foo&quot;, if I asked for the character with index 0 it would return &quot;f&quot;.\r\n\r\nNote - in the above question, by &quot;character&quot; I don&#39;t mean the char data type, but a letter or number in a string. The important thing here is that I don&#39;t receive a char when the method is invoked, but a string (of length 1). And I know about the substring() method, but I was wondering if there was a neater way.","title":"Get string character by index","body":"<p>I know how to work out the index of a certain character or number in a string, but is there any predefined method I can use to give me the character at the <em>nth</em> position? So in the string \"foo\", if I asked for the character with index 0 it would return \"f\".</p>\n\n<p>Note - in the above question, by \"character\" I don't mean the char data type, but a letter or number in a string. The important thing here is that I don't receive a char when the method is invoked, but a string (of length 1). And I know about the substring() method, but I was wondering if there was a neater way.</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":9553438,"reputation":3539,"user_id":7096763,"display_name":"MikaelF"},"score":0,"creation_date":1700689667,"post_id":74936189,"comment_id":136686962,"body_markdown":"Does this answer your question? [Inner classes as spring-data-repositories](https://stackoverflow.com/questions/23243793/inner-classes-as-spring-data-repositories)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23243793/inner-classes-as-spring-data-repositories\">Inner classes as spring-data-repositories</a>"}],"owner":{"account_id":14746282,"reputation":1132,"user_id":10649529,"display_name":"mikenlanggio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672208721,"creation_date":1672200981,"question_id":74936189,"body_markdown":"I&#39;m trying to make `JPA` repository work with a nested class, but it didn&#39;t, even I enabled `considerNestedRepositories` inside the `@EnableJpaRepositories`.  \r\nMy class like this one:\r\n```\r\nclass MyRepository{\r\n    interface RepositioryCustom{\r\n        void test()\r\n    }\r\n    interface DefaultRepository extends JPARepository&lt;..,...&gt;, RepositioryCustom{\r\n\r\n    }\r\n    class RepositioryCustomImpl : RepositoryCustom{\r\n\r\n        public void test(){\r\n            ...\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen I run the project, it throws exception like this:\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;MyRepository.DefaultRepository&#39; defined in MyRepository$DefaultRepository defined in @EnableJpaRepositories declared on MainProjectApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract MyRepository$RepositioryCustom.test(long)! No property test found for type XXX!\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1799)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:886)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:790)\r\n\t... 34 more\r\n```\r\n\r\nWhat should I do now? Thank you","title":"Nested class doesn&#39;t work for JPA Repositories","body":"<p>I'm trying to make <code>JPA</code> repository work with a nested class, but it didn't, even I enabled <code>considerNestedRepositories</code> inside the <code>@EnableJpaRepositories</code>.<br />\nMy class like this one:</p>\n<pre><code>class MyRepository{\n    interface RepositioryCustom{\n        void test()\n    }\n    interface DefaultRepository extends JPARepository&lt;..,...&gt;, RepositioryCustom{\n\n    }\n    class RepositioryCustomImpl : RepositoryCustom{\n\n        public void test(){\n            ...\n        }\n\n    }\n}\n\n</code></pre>\n<p>When I run the project, it throws exception like this:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'MyRepository.DefaultRepository' defined in MyRepository$DefaultRepository defined in @EnableJpaRepositories declared on MainProjectApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract MyRepository$RepositioryCustom.test(long)! No property test found for type XXX!\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1799)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:886)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:790)\n    ... 34 more\n</code></pre>\n<p>What should I do now? Thank you</p>\n"},{"tags":["java","regex","spring","security","spring-security"],"answers":[{"tags":[],"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"down_vote_count":1,"up_vote_count":49,"is_accepted":true,"score":48,"last_activity_date":1419533298,"creation_date":1419533298,"answer_id":27649847,"question_id":27649649,"body_markdown":"This works for me:\r\n\r\n    antMatchers(&quot;/account/{\\\\d+}/download&quot;).access(&quot;hasAnyAuthority(&#39;ROLE_TOKENSAVED&#39;)&quot;)\r\n\r\nNotice the curly braces around the path variable representing the ID.","title":"antMatchers Spring Security pattern with changeable URL user ID","body":"<p>This works for me:</p>\n\n<pre><code>antMatchers(\"/account/{\\\\d+}/download\").access(\"hasAnyAuthority('ROLE_TOKENSAVED')\")\n</code></pre>\n\n<p>Notice the curly braces around the path variable representing the ID.</p>\n"},{"tags":[],"owner":{"account_id":8123333,"reputation":211,"user_id":6119219,"display_name":"LethalLima"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1586406104,"creation_date":1478200583,"answer_id":40409551,"question_id":27649649,"body_markdown":"Though what Bohuslav suggest works, it is not complete. According to the documentation for AntPathMarcher:\r\nhttp://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html\r\n\r\nYou need to specify the path variable with the regex:\r\n\r\n```{spring:[a-z]+} matches the regexp [a-z]+ as a path variable named &quot;spring&quot;```\r\n\r\nIf you don&#39;t, you may expose other routes. For example:\r\n\r\n```http\r\n    .authorizeRequests()\r\n        .antMatchers(HttpMethod.GET, &quot;/users/{^[\\\\d]$}&quot;).authenticated()\r\n        .antMatchers(&quot;/users/**&quot;).hasAuthority(&quot;admin&quot;)\r\n```\r\n\r\nand these methods on a UserController:\r\n\r\n\r\n    @ResponseBody\r\n    @RequestMapping(value = &quot;/users/{userId}&quot;, method = RequestMethod.GET)\r\n    public User getUser(@PathVariable(&quot;userId&quot;) Object id) {\r\n        return userService.getUserById(userId);\r\n    }\r\n\r\n    @ResponseBody\r\n    @RequestMapping(value = &quot;/users/roles&quot;, method = RequestMethod.GET)\r\n    public List&lt;String&gt; getAllRoles() {\r\n        return userService.getAllRoles();\r\n    }\r\n\r\nBecause you didn&#39;t specify path variable, ```userId```, users will be able to do a GET request on &quot;/users/roles&quot; without having the admin authority. Also other futures routes like &quot;/users/test&quot; will also be exposed even if admin authorization is required. To prevent that:\r\n\r\n```\r\nantMatchers(&quot;/account/{accountId:\\\\d+}/download&quot;)\r\n       .access(&quot;hasAnyAuthority(&#39;ROLE_TOKENSAVED&#39;)&quot;)\r\n```\r\n\r\nif your path variable&#39;s name was &quot;accountId&quot;\r\n","title":"antMatchers Spring Security pattern with changeable URL user ID","body":"<p>Though what Bohuslav suggest works, it is not complete. According to the documentation for AntPathMarcher:\n<a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html</a></p>\n\n<p>You need to specify the path variable with the regex:</p>\n\n<p><code>{spring:[a-z]+} matches the regexp [a-z]+ as a path variable named \"spring\"</code></p>\n\n<p>If you don't, you may expose other routes. For example:</p>\n\n<pre><code>    .authorizeRequests()\n        .antMatchers(HttpMethod.GET, \"/users/{^[\\\\d]$}\").authenticated()\n        .antMatchers(\"/users/**\").hasAuthority(\"admin\")\n</code></pre>\n\n<p>and these methods on a UserController:</p>\n\n<pre><code>@ResponseBody\n@RequestMapping(value = \"/users/{userId}\", method = RequestMethod.GET)\npublic User getUser(@PathVariable(\"userId\") Object id) {\n    return userService.getUserById(userId);\n}\n\n@ResponseBody\n@RequestMapping(value = \"/users/roles\", method = RequestMethod.GET)\npublic List&lt;String&gt; getAllRoles() {\n    return userService.getAllRoles();\n}\n</code></pre>\n\n<p>Because you didn't specify path variable, <code>userId</code>, users will be able to do a GET request on \"/users/roles\" without having the admin authority. Also other futures routes like \"/users/test\" will also be exposed even if admin authorization is required. To prevent that:</p>\n\n<pre><code>antMatchers(\"/account/{accountId:\\\\d+}/download\")\n       .access(\"hasAnyAuthority('ROLE_TOKENSAVED')\")\n</code></pre>\n\n<p>if your path variable's name was \"accountId\"</p>\n"},{"tags":[],"owner":{"account_id":24832537,"reputation":1,"user_id":18711619,"display_name":"llsnpy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672208552,"creation_date":1672208552,"answer_id":74936906,"question_id":27649649,"body_markdown":"I think i had a similar problem and in ma case something like antMatchers(&quot;/items/{\\\\d+}) didn&#39;t work. But if i read antMatchers(&quot;/items/{d+}) (without //) is working.  ","title":"antMatchers Spring Security pattern with changeable URL user ID","body":"<p>I think i had a similar problem and in ma case something like antMatchers(&quot;/items/{\\d+}) didn't work. But if i read antMatchers(&quot;/items/{d+}) (without //) is working.</p>\n"}],"owner":{"account_id":3810607,"reputation":4104,"user_id":3161589,"accept_rate":50,"display_name":"azalut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60138,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":27649847,"answer_count":3,"score":43,"last_activity_date":1672208552,"creation_date":1419531556,"question_id":27649649,"body_markdown":"I was looking for the answer for a long time but couldnt find anything productive\r\n\r\nIn my rest service I keep some functionality under: /account/{id}/download and I would like to set the acces ROLE in SecurityConfig java file, that only ROLE_TOKENSAVED users can access this url\r\n\r\nHow should the pattern look like, when {id} is changeable? \r\n\r\nI tried some regexp patterns, but nothing worked as I wanted, here are some of my attempts:\r\n\r\n    1. antMatchers(&quot;account/**/download&quot;).access(somerolehere)\r\n    2. antMatchers(&quot;account/\\\\d/download&quot;).access(somerolehere)\r\n    3. antMatchers(&quot;account/[\\\\d]/download&quot;).access(somerolehere)\r\n\r\nthanks in advance for your anserwers :)\r\n\r\n\r\nedit:\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {            \r\n            http.authorizeRequests()\r\n                    .antMatchers(&quot;/admin**&quot;).access(&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n                    .antMatchers(&quot;/account*//**&quot;).access(&quot;hasRole(&#39;ROLE_USER&#39;) or hasRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n                    .antMatchers(&quot;/account/\\\\d+/download&quot;).access(&quot;hasRole(&#39;ROLE_TOKENSAVED&#39;)&quot;)\r\n                    .antMatchers(&quot;/user**&quot;).permitAll()\r\n                    //othercode...\r\n        }","title":"antMatchers Spring Security pattern with changeable URL user ID","body":"<p>I was looking for the answer for a long time but couldnt find anything productive</p>\n\n<p>In my rest service I keep some functionality under: /account/{id}/download and I would like to set the acces ROLE in SecurityConfig java file, that only ROLE_TOKENSAVED users can access this url</p>\n\n<p>How should the pattern look like, when {id} is changeable? </p>\n\n<p>I tried some regexp patterns, but nothing worked as I wanted, here are some of my attempts:</p>\n\n<pre><code>1. antMatchers(\"account/**/download\").access(somerolehere)\n2. antMatchers(\"account/\\\\d/download\").access(somerolehere)\n3. antMatchers(\"account/[\\\\d]/download\").access(somerolehere)\n</code></pre>\n\n<p>thanks in advance for your anserwers :)</p>\n\n<p>edit:</p>\n\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {            \n        http.authorizeRequests()\n                .antMatchers(\"/admin**\").access(\"hasRole('ROLE_ADMIN')\")\n                .antMatchers(\"/account*//**\").access(\"hasRole('ROLE_USER') or hasRole('ROLE_ADMIN')\")\n                .antMatchers(\"/account/\\\\d+/download\").access(\"hasRole('ROLE_TOKENSAVED')\")\n                .antMatchers(\"/user**\").permitAll()\n                //othercode...\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","soap","xml-parsing"],"owner":{"account_id":27370827,"reputation":11,"user_id":20876892,"display_name":"SAURABH NANDY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672206601,"creation_date":1672206601,"question_id":74936690,"body_markdown":"I have a piece of code that is trying to create a new Soap message and adding a fault document in it. \r\n\r\n```\r\npublic static SOAPMessage getMessage() throws SOAPException {\r\n    SOAPMessage message = newSoapMessage((XmlObject) null);\r\n    SOAPBody respBody = message.getSOAPBody();\r\n    respBody.addDocument(newFaultDocument(&quot;soap:Server&quot;,&quot;faultText&quot;));\r\n    message.saveChanges();\r\n    return message;\r\n}\r\n\r\npublic static Document newFaultDocument(String faultCode, String faultString) {\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    factory.setNamespaceAware(true);\r\n    try {\r\n        Document doc = factory.newDocumentBuilder().newDocument();\r\n        Element fault = doc.createElementNS(&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, &quot;Fault:abc&quot;);\r\n        doc.appendChild(fault);\r\n\r\n        Element faultCodeElement = doc.createElement(&quot;faultcode&quot;);\r\n        faultCodeElement.setTextContent(StringEscapeUtils.escapeXml(faultCode));\r\n        fault.appendChild(faultCodeElement);\r\n\r\n        Element faultStringElement = doc.createElement(&quot;faultstring&quot;);\r\n        faultStringElement.setTextContent(StringEscapeUtils.escapeXml(faultString));\r\n        fault.appendChild(faultStringElement);\r\n\r\n        return doc;\r\n    } catch (ParserConfigurationException e) {\r\n        throw new IllegalStateException(&quot;Unexpected exception while creating Fault document&quot;, e);\r\n    }\r\n}\r\n\r\npublic static &lt;T extends XmlObject&gt; SOAPMessage newSoapMessage(T soapBody) {\r\n    try {\r\n        MessageFactory mf = MessageFactory.newInstance();\r\n        SOAPMessage message = mf.createMessage();\r\n        SOAPBody respBody = message.getSOAPBody();\r\n\r\n        if (soapBody != null) {\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n            factory.setNamespaceAware(true);\r\n            respBody.addDocument(factory.newDocumentBuilder().parse(soapBody.newInputStream()));\r\n            message.saveChanges();\r\n        }\r\n\r\n        return message;\r\n    } catch (RuntimeException e) {\r\n        throw e;\r\n    } catch (Exception e) {\r\n        throw new IllegalStateException(&quot;Unexpected exception while creating SOAP message&quot;, e);\r\n    }\r\n}\r\n```\r\n\r\nI am calling the getMessage() function to get the document but it fails with the following stacktrace\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: local part cannot be &quot;null&quot; when creating a QName\r\n\tat javax.xml.namespace.QName.&lt;init&gt;(QName.java:244)\r\n\tat javax.xml.namespace.QName.&lt;init&gt;(QName.java:188)\r\n\tat com.sun.xml.messaging.saaj.soap.impl.ElementImpl.&lt;init&gt;(ElementImpl.java:156)\r\n\tat com.sun.xml.messaging.saaj.soap.impl.ElementFactory.createElement(ElementFactory.java:119)\r\n\tat com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.registerChildNodes(SOAPDocumentImpl.java:230)\r\n\tat com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.registerChildNodes(SOAPDocumentImpl.java:251)\r\n\tat com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.registerChildNodes(SOAPDocumentImpl.java:251)\r\n\tat com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.importNode(SOAPDocumentImpl.java:217)\r\n\tat com.sun.xml.messaging.saaj.soap.impl.BodyImpl.addDocument(BodyImpl.java:259)\r\n\tat com.example.demo.Demo1Application.getMessage(Demo1Application.java:29)\r\n\tat com.example.demo.Demo1Application.main(Demo1Application.java:23)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n\r\n\r\nI tried figuring out how the local part is to be set in QName but couldn&#39;t figure out where and how it is to be done. Any help will be highly appreciated. ","title":"Error while creating a SOAP document: IllegalArgumentException saying local part cannot be &quot;null&quot; when creating a QName","body":"<p>I have a piece of code that is trying to create a new Soap message and adding a fault document in it.</p>\n<pre><code>public static SOAPMessage getMessage() throws SOAPException {\n    SOAPMessage message = newSoapMessage((XmlObject) null);\n    SOAPBody respBody = message.getSOAPBody();\n    respBody.addDocument(newFaultDocument(&quot;soap:Server&quot;,&quot;faultText&quot;));\n    message.saveChanges();\n    return message;\n}\n\npublic static Document newFaultDocument(String faultCode, String faultString) {\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    factory.setNamespaceAware(true);\n    try {\n        Document doc = factory.newDocumentBuilder().newDocument();\n        Element fault = doc.createElementNS(&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, &quot;Fault:abc&quot;);\n        doc.appendChild(fault);\n\n        Element faultCodeElement = doc.createElement(&quot;faultcode&quot;);\n        faultCodeElement.setTextContent(StringEscapeUtils.escapeXml(faultCode));\n        fault.appendChild(faultCodeElement);\n\n        Element faultStringElement = doc.createElement(&quot;faultstring&quot;);\n        faultStringElement.setTextContent(StringEscapeUtils.escapeXml(faultString));\n        fault.appendChild(faultStringElement);\n\n        return doc;\n    } catch (ParserConfigurationException e) {\n        throw new IllegalStateException(&quot;Unexpected exception while creating Fault document&quot;, e);\n    }\n}\n\npublic static &lt;T extends XmlObject&gt; SOAPMessage newSoapMessage(T soapBody) {\n    try {\n        MessageFactory mf = MessageFactory.newInstance();\n        SOAPMessage message = mf.createMessage();\n        SOAPBody respBody = message.getSOAPBody();\n\n        if (soapBody != null) {\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n            factory.setNamespaceAware(true);\n            respBody.addDocument(factory.newDocumentBuilder().parse(soapBody.newInputStream()));\n            message.saveChanges();\n        }\n\n        return message;\n    } catch (RuntimeException e) {\n        throw e;\n    } catch (Exception e) {\n        throw new IllegalStateException(&quot;Unexpected exception while creating SOAP message&quot;, e);\n    }\n}\n</code></pre>\n<p>I am calling the getMessage() function to get the document but it fails with the following stacktrace</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: local part cannot be &quot;null&quot; when creating a QName\n    at javax.xml.namespace.QName.&lt;init&gt;(QName.java:244)\n    at javax.xml.namespace.QName.&lt;init&gt;(QName.java:188)\n    at com.sun.xml.messaging.saaj.soap.impl.ElementImpl.&lt;init&gt;(ElementImpl.java:156)\n    at com.sun.xml.messaging.saaj.soap.impl.ElementFactory.createElement(ElementFactory.java:119)\n    at com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.registerChildNodes(SOAPDocumentImpl.java:230)\n    at com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.registerChildNodes(SOAPDocumentImpl.java:251)\n    at com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.registerChildNodes(SOAPDocumentImpl.java:251)\n    at com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.importNode(SOAPDocumentImpl.java:217)\n    at com.sun.xml.messaging.saaj.soap.impl.BodyImpl.addDocument(BodyImpl.java:259)\n    at com.example.demo.Demo1Application.getMessage(Demo1Application.java:29)\n    at com.example.demo.Demo1Application.main(Demo1Application.java:23)\n\nProcess finished with exit code 1\n</code></pre>\n<p>I tried figuring out how the local part is to be set in QName but couldn't figure out where and how it is to be done. Any help will be highly appreciated.</p>\n"},{"tags":["java","arrays","compiler-errors","transpose"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1672206723,"post_id":74936675,"comment_id":132241120,"body_markdown":"`long transpose[][] = new long [r][c];` -&gt; `long transpose[][] = new long [c][r];`","body":"<code>long transpose[][] = new long [r][c];</code> -&gt; <code>long transpose[][] = new long [c][r];</code>"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1672206809,"post_id":74936675,"comment_id":132241130,"body_markdown":"`transpose[i][j] = a[j][i];` -&gt; `transpose[j][i] = a[i][j];`","body":"<code>transpose[i][j] = a[j][i];</code> -&gt; <code>transpose[j][i] = a[i][j];</code>"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1672207001,"post_id":74936675,"comment_id":132241158,"body_markdown":"There&#39;s no need for the `temp` variable.","body":"There&#39;s no need for the <code>temp</code> variable."},{"owner":{"account_id":27370835,"reputation":1,"user_id":20876900,"display_name":"akshay patel"},"score":0,"creation_date":1672294685,"post_id":74936675,"comment_id":132260186,"body_markdown":"thx bruh you solved my problrm !!","body":"thx bruh you solved my problrm !!"}],"owner":{"account_id":27370835,"reputation":1,"user_id":20876900,"display_name":"akshay patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672206467,"creation_date":1672206467,"question_id":74936675,"body_markdown":"i have written a code to transpose an aray it works when i took small arrays dimensions like 3*3 but when i took array size 4*5 it gives me array out of bound error.i am a beginner.\r\n\r\n```\r\nimport java.util.*;\r\nimport java.lang.*;\r\npublic class Transpose {\r\n    public static void main(String[] args){\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;enter rows and cols: &quot;);\r\n        int r = sc.nextInt();\r\n        int c = sc.nextInt();\r\n        long a[][] = new long [r][c];\r\n        long transpose[][] = new long [r][c];\r\n\r\n        System.out.print(&quot;enter&quot;+&quot; &quot; +r*c+&quot; &quot;+&quot;elements&quot;);\r\n        for(int i =0; i &lt; a.length; i++){\r\n            for(int j = 0; j &lt; a[i].length; j++){\r\n                a[i][j] = sc.nextInt();\r\n            }\r\n        }\r\n\r\n        for(int i =0; i &lt; a.length; i++){\r\n            for(int j = 0; j &lt; a[i].length; j++){\r\n                System.out.print(&quot; &quot;+a[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\n        for(int i = 0; i &lt; a.length ; i++){\r\n            for(int j = 0; j &lt; a[i].length; j++){\r\n                long temp = a[i][j];\r\n                transpose[i][j] = a[j][i];\r\n                a[i][j] = temp;\r\n            }\r\n        }\r\n\r\n        System.out.println();\r\n        for(int i =0; i &lt; transpose.length; i++){\r\n            for(int j = 0; j &lt; transpose[i].length; j++){\r\n                System.out.print(&quot; &quot;+transpose[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"getting problem in transposing an 2D array","body":"<p>i have written a code to transpose an aray it works when i took small arrays dimensions like 3<em>3 but when i took array size 4</em>5 it gives me array out of bound error.i am a beginner.</p>\n<pre><code>import java.util.*;\nimport java.lang.*;\npublic class Transpose {\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;enter rows and cols: &quot;);\n        int r = sc.nextInt();\n        int c = sc.nextInt();\n        long a[][] = new long [r][c];\n        long transpose[][] = new long [r][c];\n\n        System.out.print(&quot;enter&quot;+&quot; &quot; +r*c+&quot; &quot;+&quot;elements&quot;);\n        for(int i =0; i &lt; a.length; i++){\n            for(int j = 0; j &lt; a[i].length; j++){\n                a[i][j] = sc.nextInt();\n            }\n        }\n\n        for(int i =0; i &lt; a.length; i++){\n            for(int j = 0; j &lt; a[i].length; j++){\n                System.out.print(&quot; &quot;+a[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n\n        for(int i = 0; i &lt; a.length ; i++){\n            for(int j = 0; j &lt; a[i].length; j++){\n                long temp = a[i][j];\n                transpose[i][j] = a[j][i];\n                a[i][j] = temp;\n            }\n        }\n\n        System.out.println();\n        for(int i =0; i &lt; transpose.length; i++){\n            for(int j = 0; j &lt; transpose[i].length; j++){\n                System.out.print(&quot; &quot;+transpose[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","junit5","spring-test"],"answers":[{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672205698,"creation_date":1672129711,"answer_id":74927126,"question_id":74925809,"body_markdown":"In your example, you want to mock a method within the same class. But this is not possible in the way you did. You create a real object using `@InjectMocks`. You need to use `Mockito.spy()` to partially mock this.\r\n\r\nIf you want to get the results you expect correctly and really mock your `findSetSize()` method, you should change your test method to follow:\r\n\r\n    @Test\r\n    @DisplayName(&quot;can get Set size&quot;)\r\n    void findSetSizeTest() {\r\n        //given\r\n        ListService spyService = spy(subject);\r\n        when(setRepository.getSize()).thenReturn(40);\r\n        doReturn(30).when(spyService).findSetSize();\r\n\r\n        //when\r\n        subject.saveToSet(100);\r\n\r\n        //then\r\n        System.out.println(setRepository.getSize());  // expected:40, result: 30\r\n        Assertions.assertEquals(30, spyService.findSetSize());\r\n    }\r\n\r\nHere you have to understand that mocking would work only when you call it on the instance of spy object. It&#39;s wrapped by a Mockito proxy which catches your call, and if you have overriden some method, it will call your new implementation instead of the original one. \r\n\r\nAlso the [documentation][1] related to spy says: \r\n\r\n&gt; You can create spies of real objects. When you use the spy then the real methods are called (unless a method was stubbed).\r\n\r\nYou can review the answers [here][2] and [here][3] regarding the differences between `when().thenReturn()` and `doReturn().when()`.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.mockito/mockito-core/2.10.0/org/mockito/Mockito.html#13\r\n  [2]: https://stackoverflow.com/questions/20353846/mockito-difference-between-doreturn-and-when\r\n  [3]: https://stackoverflow.com/questions/11462697/forming-mockito-grammars","title":"Why values ​are overwritten when stubbing in Junit5?","body":"<p>In your example, you want to mock a method within the same class. But this is not possible in the way you did. You create a real object using <code>@InjectMocks</code>. You need to use <code>Mockito.spy()</code> to partially mock this.</p>\n<p>If you want to get the results you expect correctly and really mock your <code>findSetSize()</code> method, you should change your test method to follow:</p>\n<pre><code>@Test\n@DisplayName(&quot;can get Set size&quot;)\nvoid findSetSizeTest() {\n    //given\n    ListService spyService = spy(subject);\n    when(setRepository.getSize()).thenReturn(40);\n    doReturn(30).when(spyService).findSetSize();\n\n    //when\n    subject.saveToSet(100);\n\n    //then\n    System.out.println(setRepository.getSize());  // expected:40, result: 30\n    Assertions.assertEquals(30, spyService.findSetSize());\n}\n</code></pre>\n<p>Here you have to understand that mocking would work only when you call it on the instance of spy object. It's wrapped by a Mockito proxy which catches your call, and if you have overriden some method, it will call your new implementation instead of the original one.</p>\n<p>Also the <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.10.0/org/mockito/Mockito.html#13\" rel=\"nofollow noreferrer\">documentation</a> related to spy says:</p>\n<blockquote>\n<p>You can create spies of real objects. When you use the spy then the real methods are called (unless a method was stubbed).</p>\n</blockquote>\n<p>You can review the answers <a href=\"https://stackoverflow.com/questions/20353846/mockito-difference-between-doreturn-and-when\">here</a> and <a href=\"https://stackoverflow.com/questions/11462697/forming-mockito-grammars\">here</a> regarding the differences between <code>when().thenReturn()</code> and <code>doReturn().when()</code>.</p>\n"}],"owner":{"account_id":24523516,"reputation":139,"user_id":18436221,"display_name":"rabong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672205698,"creation_date":1672116797,"question_id":74925809,"body_markdown":"I&#39;m using **Junit5** for test my spring code. \r\n\r\nIn the test code, I mock SetRepository, to make the getSize() method return value 40. Then I stubbed ListService&#39;s findSetSize() method and made it return value 30.\r\n\r\nThen print the getSize() method value. Expected 40, but 30 printed.\r\n\r\nIt looks likegetSize() was overwritten while stubbing, but I&#39;d like to know why.\r\n\r\n\r\n```\r\n// ListService.java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ListService {\r\n\r\n\tprivate final SetRepository setRepository;\r\n\r\n\tpublic int findSetSize() {\r\n\t\tint size = setRepository.getSize();\r\n\t\tSystem.out.println(size);  // first result: 40, second result: 30\r\n\t\treturn size;\r\n\t}\r\n\r\n\tpublic void saveToSet(int num) {\r\n\t\tsetRepository.saveNum(num);\r\n\t}\r\n\r\n}\r\n\r\n// SetRepository.java\r\n@Component\r\npublic class SetRepository {\r\n\r\n\tSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n\r\n\tpublic int getSize() {\r\n\t\treturn set.size();\r\n\t}\r\n\r\n\tpublic void saveNum(int num) {\r\n\t\tset.add(num);\r\n\t}\r\n}\r\n\r\n// Test code for ListService\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ListServiceWithMockTest {\r\n\r\n\t@InjectMocks\r\n    @Spy\r\n\tListService subject;\r\n\r\n\r\n\t@Mock\r\n\tSetRepository setRepository;\r\n\r\n\t@Test\r\n\t@DisplayName(&quot;can get Set size&quot;)\r\n\tpublic void findSetSizeTest() {\r\n\t\t//given\r\n\t\twhen(setRepository.getSize()).thenReturn(40);\r\n\t\twhen(subject.findSetSize()).thenReturn(30);\r\n\r\n\t\t//when\r\n\t\tsubject.saveToSet(100);\r\n\r\n\t\t//then\r\n\t\tSystem.out.println(setRepository.getSize());  // expected:40, result: 30\r\n\t\tassertEquals(30, subject.findSetSize());\r\n\t}\r\n\r\n}\r\n```\r\n\r\nHere is my code. I know I shouldn&#39;t do stubbing like this, but I&#39;m curious why the value comes out like this.\r\nThank U!!","title":"Why values ​are overwritten when stubbing in Junit5?","body":"<p>I'm using <strong>Junit5</strong> for test my spring code.</p>\n<p>In the test code, I mock SetRepository, to make the getSize() method return value 40. Then I stubbed ListService's findSetSize() method and made it return value 30.</p>\n<p>Then print the getSize() method value. Expected 40, but 30 printed.</p>\n<p>It looks likegetSize() was overwritten while stubbing, but I'd like to know why.</p>\n<pre><code>// ListService.java\n@Service\n@RequiredArgsConstructor\npublic class ListService {\n\n    private final SetRepository setRepository;\n\n    public int findSetSize() {\n        int size = setRepository.getSize();\n        System.out.println(size);  // first result: 40, second result: 30\n        return size;\n    }\n\n    public void saveToSet(int num) {\n        setRepository.saveNum(num);\n    }\n\n}\n\n// SetRepository.java\n@Component\npublic class SetRepository {\n\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n\n    public int getSize() {\n        return set.size();\n    }\n\n    public void saveNum(int num) {\n        set.add(num);\n    }\n}\n\n// Test code for ListService\n@ExtendWith(MockitoExtension.class)\npublic class ListServiceWithMockTest {\n\n    @InjectMocks\n    @Spy\n    ListService subject;\n\n\n    @Mock\n    SetRepository setRepository;\n\n    @Test\n    @DisplayName(&quot;can get Set size&quot;)\n    public void findSetSizeTest() {\n        //given\n        when(setRepository.getSize()).thenReturn(40);\n        when(subject.findSetSize()).thenReturn(30);\n\n        //when\n        subject.saveToSet(100);\n\n        //then\n        System.out.println(setRepository.getSize());  // expected:40, result: 30\n        assertEquals(30, subject.findSetSize());\n    }\n\n}\n</code></pre>\n<p>Here is my code. I know I shouldn't do stubbing like this, but I'm curious why the value comes out like this.\nThank U!!</p>\n"},{"tags":["java","string","unicode","multilingual","word-count"],"comments":[{"owner":{"account_id":145593,"reputation":20491,"user_id":355499,"accept_rate":81,"display_name":"Emil L"},"score":0,"creation_date":1368985127,"post_id":16637506,"comment_id":23926545,"body_markdown":"In the chinese(?) text is there a separator between the words?","body":"In the chinese(?) text is there a separator between the words?"},{"owner":{"account_id":1092631,"reputation":6930,"user_id":1086930,"accept_rate":80,"display_name":"jaibatrik"},"score":0,"creation_date":1368985203,"post_id":16637506,"comment_id":23926571,"body_markdown":"No there&#39;s no separator. I copied the exact strings.","body":"No there&#39;s no separator. I copied the exact strings."},{"owner":{"account_id":145593,"reputation":20491,"user_id":355499,"accept_rate":81,"display_name":"Emil L"},"score":0,"creation_date":1368985389,"post_id":16637506,"comment_id":23926624,"body_markdown":"In that case I would attempt to find the language based on which unicode runes are used in the string. Then use that information to determine how the string should be parsed.","body":"In that case I would attempt to find the language based on which unicode runes are used in the string. Then use that information to determine how the string should be parsed."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1368987167,"post_id":16637506,"comment_id":23927154,"body_markdown":"You could `.trim()` the original string then count the number of spaces using `Character.isSpaceChar()` while looping over the string&#39;s `.toCharArray()`, unfortunately in the first example there are no spaces.","body":"You could <code>.trim()</code> the original string then count the number of spaces using <code>Character.isSpaceChar()</code> while looping over the string&#39;s <code>.toCharArray()</code>, unfortunately in the first example there are no spaces."},{"owner":{"account_id":44586,"reputation":37547,"user_id":130964,"accept_rate":95,"display_name":"peter.murray.rust"},"score":0,"creation_date":1368987878,"post_id":16637506,"comment_id":23927350,"body_markdown":"The problem is that finding words in Chinese cannot be done by syntax.","body":"The problem is that finding words in Chinese cannot be done by syntax."},{"owner":{"account_id":44586,"reputation":37547,"user_id":130964,"accept_rate":95,"display_name":"peter.murray.rust"},"score":1,"creation_date":1368996200,"post_id":16637506,"comment_id":23929965,"body_markdown":"There are seven CHARACTERS in your string but I think there are fewer WORDS (see my answer) as some words are made up of several characters. Unless you know Chinese you can&#39;t assume 1 Character = 1 Word","body":"There are seven CHARACTERS in your string but I think there are fewer WORDS (see my answer) as some words are made up of several characters. Unless you know Chinese you can&#39;t assume 1 Character = 1 Word"}],"answers":[{"tags":[],"owner":{"account_id":1260153,"reputation":28291,"user_id":1596545,"accept_rate":99,"display_name":"flavian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368986151,"creation_date":1368985373,"answer_id":16637558,"question_id":16637506,"body_markdown":"**English version**\r\n\r\nFor the English version you can do with a rather simple Regex. I may have missed some custom separators but:\r\n\r\n    public static int getWordCount(String str) {\r\n    \treturn str.split(&quot;[\\\\s,;-]+&quot;).length;\r\n    }\r\n\r\n**Regex explanation:**\r\n\r\nSplit if find any in the group `[]`:\r\n\r\n    [\r\n    \\\\s Any whitespace character or\r\n    , A comma\r\n    ; or a semi-colon\r\n    ]\r\n    + Followed by any patterns in the group any number of times\r\n\r\n**Chinese version**\r\n\r\nFor the Chinese version, you need to identify what the separators are. If you get the Unicode char code of the Chinese separators and add them to the above regex, you will get the desired results.\r\n\r\n**Tests**\r\n\r\n    System.out.println(getWordCount(&quot;This is a sentence&quot;));// 4\r\n    System.out.println(getWordCount(&quot;This is a sentence&quot;)); // 4\r\n    System.out.println(getWordCount(&quot;This is a     ,,sentence&quot;)); // 4","title":"Get word count from a string in Unicode (in any language)","body":"<p><strong>English version</strong></p>\n\n<p>For the English version you can do with a rather simple Regex. I may have missed some custom separators but:</p>\n\n<pre><code>public static int getWordCount(String str) {\n    return str.split(\"[\\\\s,;-]+\").length;\n}\n</code></pre>\n\n<p><strong>Regex explanation:</strong></p>\n\n<p>Split if find any in the group <code>[]</code>:</p>\n\n<pre><code>[\n\\\\s Any whitespace character or\n, A comma\n; or a semi-colon\n]\n+ Followed by any patterns in the group any number of times\n</code></pre>\n\n<p><strong>Chinese version</strong></p>\n\n<p>For the Chinese version, you need to identify what the separators are. If you get the Unicode char code of the Chinese separators and add them to the above regex, you will get the desired results.</p>\n\n<p><strong>Tests</strong></p>\n\n<pre><code>System.out.println(getWordCount(\"This is a sentence\"));// 4\nSystem.out.println(getWordCount(\"This is a sentence\")); // 4\nSystem.out.println(getWordCount(\"This is a     ,,sentence\")); // 4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44586,"reputation":37547,"user_id":130964,"accept_rate":95,"display_name":"peter.murray.rust"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1368996111,"creation_date":1368986413,"answer_id":16637742,"question_id":16637506,"body_markdown":"The concept of &quot;word&quot; may be trivial or complex. Here is [Apache Stanbol][1] Toolkit:\r\n\r\n&gt; Word Tokenization: The detection of single words is required by the\r\n&gt; Stanbol Enhancer to process text. While this is trivial for most\r\n&gt; languages it is a rather complex task for some eastern languages, e.g.\r\n&gt; Chinese, Japanese, Korean. If not otherwise configured, Stanbol will\r\n&gt; use whitespaces to tokenize words.\r\n\r\nSo if the concept of word is linguistic, rather than syntactic, you should use a [NLP toolkit][2] \r\n\r\nMy preferred Java solution is [Apache&#39;s Open NLP][3] \r\n\r\nNOTE: \r\nI have used http://www.mdbg.net/chindict/chindict.php?page=worddict \r\nto tokenize your example. It implies there are 4 words not seven. I have cut and pasted (rather fragmented):\r\n\r\nOriginal Text\tSimplified\r\nPīnyīn\r\n\t\tEnglish definition Add a new word to the dictionary \tTraditional\r\nHSK\r\n供应商\t\r\n供应商\r\ngōng​y&#236;ng​shāng​\r\n\t\r\n\t\r\nsupplier\r\n\t\r\n供應商\r\n代\t\r\n代\r\nd&#224;i​\r\n\t\r\n\t\r\nto substitute / to act on behalf of others / to replace / generation / dynasty / age / period / (historical) era / (geological) eon\r\n\t\r\n发\t\r\n发\r\nfā​\r\n\t\r\n\t\r\nto send out / to show (one&#39;s feeling) / to issue / to develop / classifier for gunshots (rounds)\r\n\t\r\n發\r\nHSK 4\r\n\t\r\n \t\r\n发\r\nf&#224;​\r\n\t\r\n\t\r\nhair / Taiwan pr. [fa3]\r\n\t\r\n髮\r\n发货\t\r\n发货\r\nfā​hu&#242;​\r\n\t\r\n\t\r\nto dispatch / to send out goods\r\n\t\r\n發貨\r\n\r\nThese first three characters appear to form a single word.\r\n\r\n  [1]: http://stanbol.apache.org/docs/trunk/components/enhancer/nlp/\r\n  [2]: http://en.wikipedia.org/wiki/Category:Natural_language_processing_toolkits\r\n  [3]: http://opennlp.apache.org/","title":"Get word count from a string in Unicode (in any language)","body":"<p>The concept of \"word\" may be trivial or complex. Here is <a href=\"http://stanbol.apache.org/docs/trunk/components/enhancer/nlp/\" rel=\"nofollow\">Apache Stanbol</a> Toolkit:</p>\n\n<blockquote>\n  <p>Word Tokenization: The detection of single words is required by the\n  Stanbol Enhancer to process text. While this is trivial for most\n  languages it is a rather complex task for some eastern languages, e.g.\n  Chinese, Japanese, Korean. If not otherwise configured, Stanbol will\n  use whitespaces to tokenize words.</p>\n</blockquote>\n\n<p>So if the concept of word is linguistic, rather than syntactic, you should use a <a href=\"http://en.wikipedia.org/wiki/Category%3aNatural_language_processing_toolkits\" rel=\"nofollow\">NLP toolkit</a> </p>\n\n<p>My preferred Java solution is <a href=\"http://opennlp.apache.org/\" rel=\"nofollow\">Apache's Open NLP</a> </p>\n\n<p>NOTE: \nI have used <a href=\"http://www.mdbg.net/chindict/chindict.php?page=worddict\" rel=\"nofollow\">http://www.mdbg.net/chindict/chindict.php?page=worddict</a> \nto tokenize your example. It implies there are 4 words not seven. I have cut and pasted (rather fragmented):</p>\n\n<p>Original Text   Simplified\nPīnyīn\n        English definition Add a new word to the dictionary     Traditional\nHSK\n供应商 \n供应商\ngōng​yìng​shāng​</p>\n\n<p>supplier</p>\n\n<p>供應商\n代<br>\n代\ndài​</p>\n\n<p>to substitute / to act on behalf of others / to replace / generation / dynasty / age / period / (historical) era / (geological) eon</p>\n\n<p>发<br>\n发\nfā​</p>\n\n<p>to send out / to show (one's feeling) / to issue / to develop / classifier for gunshots (rounds)</p>\n\n<p>發\nHSK 4</p>\n\n<p>发\nfà​</p>\n\n<p>hair / Taiwan pr. [fa3]</p>\n\n<p>髮\n发货<br>\n发货\nfā​huò​</p>\n\n<p>to dispatch / to send out goods</p>\n\n<p>發貨</p>\n\n<p>These first three characters appear to form a single word.</p>\n"},{"tags":[],"owner":{"account_id":476312,"reputation":3841,"user_id":887149,"accept_rate":76,"display_name":"Mohayemin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368986840,"creation_date":1368986840,"answer_id":16637818,"question_id":16637506,"body_markdown":"If we assume that every language has one (or more) word separator, and you can build regex for those separator, then the problem can be solved like this:\r\n \r\n\r\n\t\tpublic String separatorForLanguage(char unicodeChar){\r\n\t\t\t// Find out in which language unicodeChar falls  \r\n\t\t\treturn &quot;&quot;; // return regex of separator of that language\r\n\t\t}\r\n\t\t\r\n\t\tpublic int wordCount(String sentance){\r\n\t\t\tchar unicodeChar = sentance.charAt(0);\r\n\t\t\tString separator = separatorForLanguage(unicodeChar);\r\n\t\t\t\r\n\t\t\tint count = sentance.split(separator).length;\r\n\t\t\tif (separator.isEmpty()) {\r\n\t\t\t\tcount--;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn count;\r\n\t\t}\r\n\t","title":"Get word count from a string in Unicode (in any language)","body":"<p>If we assume that every language has one (or more) word separator, and you can build regex for those separator, then the problem can be solved like this:</p>\n\n<pre><code>    public String separatorForLanguage(char unicodeChar){\n        // Find out in which language unicodeChar falls  \n        return \"\"; // return regex of separator of that language\n    }\n\n    public int wordCount(String sentance){\n        char unicodeChar = sentance.charAt(0);\n        String separator = separatorForLanguage(unicodeChar);\n\n        int count = sentance.split(separator).length;\n        if (separator.isEmpty()) {\n            count--;\n        }\n\n        return count;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1672204979,"creation_date":1368987522,"answer_id":16637938,"question_id":16637506,"body_markdown":"The standard API provides the [BreakIterator][1] for this sort of boundary analysis but the Oracle Java 7 locale support doesn&#39;t break the sample string.\r\n\r\nWhen I used the [ICU4J][2] v51.1 [BreakIterator][3] it broke the sample into `[供应, 商代, 发, 发, 货]`.\r\n\r\n    // import com.ibm.icu.text.BreakIterator;\r\n    String sentence = &quot;\\u4f9b\\u5e94\\u5546\\u4ee3\\u53d1\\u53d1\\u8d27&quot;;\r\n    BreakIterator iterator = BreakIterator.getWordInstance(Locale.CHINESE);\r\n    iterator.setText(sentence);\r\n\r\n    List&lt;String&gt; words = new ArrayList&lt;&gt;();\r\n    int start = iterator.first();\r\n    int end = iterator.next();\r\n    while (end != BreakIterator.DONE) {\r\n      words.add(sentence.substring(start, end));\r\n      start = end;\r\n      end = iterator.next();\r\n    }\r\n    System.out.println(words);\r\n\r\n_Note: I used Google Translate to guess that &quot;供应商代发发货&quot; was Chinese. Obviously, I don&#39;t speak the language so can&#39;t comment on the correctness of the output._\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/BreakIterator.html\r\n  [2]: https://unicode-org.github.io/icu/userguide/icu4j/\r\n  [3]: https://unicode-org.github.io/icu/userguide/boundaryanalysis/#four-types-of-breakiterator\r\n","title":"Get word count from a string in Unicode (in any language)","body":"<p>The standard API provides the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/BreakIterator.html\" rel=\"nofollow noreferrer\">BreakIterator</a> for this sort of boundary analysis but the Oracle Java 7 locale support doesn't break the sample string.</p>\n<p>When I used the <a href=\"https://unicode-org.github.io/icu/userguide/icu4j/\" rel=\"nofollow noreferrer\">ICU4J</a> v51.1 <a href=\"https://unicode-org.github.io/icu/userguide/boundaryanalysis/#four-types-of-breakiterator\" rel=\"nofollow noreferrer\">BreakIterator</a> it broke the sample into <code>[供应, 商代, 发, 发, 货]</code>.</p>\n<pre><code>// import com.ibm.icu.text.BreakIterator;\nString sentence = &quot;\\u4f9b\\u5e94\\u5546\\u4ee3\\u53d1\\u53d1\\u8d27&quot;;\nBreakIterator iterator = BreakIterator.getWordInstance(Locale.CHINESE);\niterator.setText(sentence);\n\nList&lt;String&gt; words = new ArrayList&lt;&gt;();\nint start = iterator.first();\nint end = iterator.next();\nwhile (end != BreakIterator.DONE) {\n  words.add(sentence.substring(start, end));\n  start = end;\n  end = iterator.next();\n}\nSystem.out.println(words);\n</code></pre>\n<p><em>Note: I used Google Translate to guess that &quot;供应商代发发货&quot; was Chinese. Obviously, I don't speak the language so can't comment on the correctness of the output.</em></p>\n"},{"tags":[],"owner":{"account_id":272330,"reputation":1758,"user_id":563353,"display_name":"popcorny"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375356119,"creation_date":1375352645,"answer_id":17991399,"question_id":16637506,"body_markdown":"Here is snippet in java\r\n\r\n    public static int getWordCount(String string)\r\n    {\r\n        Pattern pattern = Pattern.compile(&quot;[\\\\w&#39;]+|[\\\\u3400-\\\\u4DB5\\\\u4E00-\\\\u9FCC]&quot;);\r\n        Matcher matcher = pattern.matcher(string);\r\n        int count = 0;\r\n        while(matcher.find())\r\n            count++;\r\n        return count;                                   \r\n    }\r\n\r\nExample\r\n\r\n    //count is 5\r\n    int wordCount = getWordCount(&quot;this is popcorny&#39;s 電腦&quot;);\r\n\t","title":"Get word count from a string in Unicode (in any language)","body":"<p>Here is snippet in java</p>\n\n<pre><code>public static int getWordCount(String string)\n{\n    Pattern pattern = Pattern.compile(\"[\\\\w']+|[\\\\u3400-\\\\u4DB5\\\\u4E00-\\\\u9FCC]\");\n    Matcher matcher = pattern.matcher(string);\n    int count = 0;\n    while(matcher.find())\n        count++;\n    return count;                                   \n}\n</code></pre>\n\n<p>Example</p>\n\n<pre><code>//count is 5\nint wordCount = getWordCount(\"this is popcorny's 電腦\");\n</code></pre>\n"}],"owner":{"account_id":1092631,"reputation":6930,"user_id":1086930,"accept_rate":80,"display_name":"jaibatrik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4795,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":16637742,"answer_count":5,"score":7,"last_activity_date":1672204979,"creation_date":1368984987,"question_id":16637506,"body_markdown":"I want to get word count from a String. It&#39;s as simple as that. The catch is that the string can be in an unpredictable language.\r\n\r\nSo, I need a function of signature `int getWordCount(String)` with the following sample output - \r\n\r\n    getWordCount(&quot;供应商代发发货&quot;) =&gt; 7\r\n    getWordCount(&quot;This is a sentence&quot;) =&gt; 4\r\n\r\nAny help on how to proceed would be appreciated :)","title":"Get word count from a string in Unicode (in any language)","body":"<p>I want to get word count from a String. It's as simple as that. The catch is that the string can be in an unpredictable language.</p>\n\n<p>So, I need a function of signature <code>int getWordCount(String)</code> with the following sample output - </p>\n\n<pre><code>getWordCount(\"供应商代发发货\") =&gt; 7\ngetWordCount(\"This is a sentence\") =&gt; 4\n</code></pre>\n\n<p>Any help on how to proceed would be appreciated :)</p>\n"},{"tags":["java","android","android-animation","android-imageview","rippledrawable"],"comments":[{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1672274392,"post_id":74936495,"comment_id":132257578,"body_markdown":"How is the image load started? Does the user click the image view? It looks like you want to show the ripple effect on a loop. Is that right?","body":"How is the image load started? Does the user click the image view? It looks like you want to show the ripple effect on a loop. Is that right?"},{"owner":{"account_id":26553075,"reputation":49,"user_id":20182096,"display_name":"coderror"},"score":0,"creation_date":1672293246,"post_id":74936495,"comment_id":132259936,"body_markdown":"@Cheticamp yes I want to show it in loop","body":"@Cheticamp yes I want to show it in loop"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1672324567,"post_id":74936495,"comment_id":132267769,"body_markdown":"_RippleDrawable_ does its own animation. I am not sure how layering another animation on top is going to work. You can get the ripple to work with a touch if you take out the animation and just use the drawable as the background. You will also have to set `android:clickable=&quot;true&quot;` on the _ImageView_. If you want a ripple-like effect, you will most likely need to make your own IMO.","body":"<i>RippleDrawable</i> does its own animation. I am not sure how layering another animation on top is going to work. You can get the ripple to work with a touch if you take out the animation and just use the drawable as the background. You will also have to set <code>android:clickable=&quot;true&quot;</code> on the <i>ImageView</i>. If you want a ripple-like effect, you will most likely need to make your own IMO."}],"owner":{"account_id":26553075,"reputation":49,"user_id":20182096,"display_name":"coderror"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672204527,"creation_date":1672204527,"question_id":74936495,"body_markdown":"I&#39;m trying to show a ripple animation in imageView before loading the image from the server.\r\n\r\nI tried below code:\r\n```\r\n        ImageView imageView = findViewById(R.id.image_view);\r\n\r\n// Create a RippleDrawable with a solid color background and no foreground\r\n        RippleDrawable rippleDrawable = new RippleDrawable(\r\n                ColorStateList.valueOf(Color.BLACK), // Ripple color\r\n                null, // Background drawable\r\n                null // Foreground drawable\r\n        );\r\n\r\n// Create an AnimationDrawable that wraps the RippleDrawable\r\n        AnimationDrawable animationDrawable = new AnimationDrawable();\r\n        animationDrawable.addFrame(rippleDrawable, 1000); // Add the RippleDrawable, with a duration of 1000 ms\r\n        animationDrawable.setOneShot(false); // Set the animation to loop indefinitely\r\n\r\n// Set the AnimationDrawable as the background of the ImageView\r\n        imageView.setBackground(animationDrawable);\r\n\r\n// Start the animation\r\n        \r\n        animationDrawable.start();\r\n```\r\n\r\n```\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/image_view&quot;\r\n        android:layout_width=&quot;100dp&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\n**This is not working** ","title":"How to add ripple animation in imageView?","body":"<p>I'm trying to show a ripple animation in imageView before loading the image from the server.</p>\n<p>I tried below code:</p>\n<pre><code>        ImageView imageView = findViewById(R.id.image_view);\n\n// Create a RippleDrawable with a solid color background and no foreground\n        RippleDrawable rippleDrawable = new RippleDrawable(\n                ColorStateList.valueOf(Color.BLACK), // Ripple color\n                null, // Background drawable\n                null // Foreground drawable\n        );\n\n// Create an AnimationDrawable that wraps the RippleDrawable\n        AnimationDrawable animationDrawable = new AnimationDrawable();\n        animationDrawable.addFrame(rippleDrawable, 1000); // Add the RippleDrawable, with a duration of 1000 ms\n        animationDrawable.setOneShot(false); // Set the animation to loop indefinitely\n\n// Set the AnimationDrawable as the background of the ImageView\n        imageView.setBackground(animationDrawable);\n\n// Start the animation\n        \n        animationDrawable.start();\n</code></pre>\n<pre><code>    &lt;ImageView\n        android:id=&quot;@+id/image_view&quot;\n        android:layout_width=&quot;100dp&quot;\n        android:layout_height=&quot;100dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p><strong>This is not working</strong></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","h2"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":1,"creation_date":1672016101,"post_id":74916553,"comment_id":132208282,"body_markdown":"try @RestController instead of @ Controller","body":"try @RestController instead of @ Controller"},{"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"score":0,"creation_date":1672017364,"post_id":74916553,"comment_id":132208391,"body_markdown":"Hi, that did not solve the issue.","body":"Hi, that did not solve the issue."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1672017538,"post_id":74916553,"comment_id":132208412,"body_markdown":"what error do you get after changing to it?","body":"what error do you get after changing to it?"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1672017539,"post_id":74916553,"comment_id":132208413,"body_markdown":"Add `@RequestMapping` to your admin controller.","body":"Add <code>@RequestMapping</code> to your admin controller."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1672017978,"post_id":74916553,"comment_id":132208452,"body_markdown":"seems like you had more extra  stuff you didnt need just do what the answer told you to do and remove the extra stuff from the main and use the @RestController","body":"seems like you had more extra  stuff you didnt need just do what the answer told you to do and remove the extra stuff from the main and use the @RestController"},{"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"score":0,"creation_date":1672089155,"post_id":74916553,"comment_id":132219918,"body_markdown":"@Anon This time, I tried using RestController and RequestMapping(&quot;/api&quot;) in my controller class and SpringBootApplication in my main class, but I still get the following errors: &quot;UnsatisfiedDependencyException: Error creating bean with name &#39;adminController&#39;&quot;, &quot;UnsatisfiedDependencyException: Error creating bean with name &#39;categoryService&#39;&quot;, &quot;BeanCreationException: Error creating bean with name &#39;categoryRepository&#39;&quot;, and &quot;IllegalArgumentException: Not a managed type: class com.ecommerce.website.model.Category&quot;.","body":"@Anon This time, I tried using RestController and RequestMapping(&quot;/api&quot;) in my controller class and SpringBootApplication in my main class, but I still get the following errors: &quot;UnsatisfiedDependencyException: Error creating bean with name &#39;adminController&#39;&quot;, &quot;UnsatisfiedDependencyException: Error creating bean with name &#39;categoryService&#39;&quot;, &quot;BeanCreationException: Error creating bean with name &#39;categoryRepository&#39;&quot;, and &quot;IllegalArgumentException: Not a managed type: class com.ecommerce.website.model.Category&quot;."}],"answers":[{"tags":[],"owner":{"account_id":15806948,"reputation":150,"user_id":11405229,"display_name":"Romain Lavabre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672017573,"creation_date":1672017573,"answer_id":74916703,"question_id":74916553,"body_markdown":"Your controllers are simply not scanned by spring because you explicitly asked it to scan only the com.ecommerce.website.service.* package\r\n\r\nHowever, your controllers are in com.ecommerce.website.controller.*\r\n\r\nWhy do you want to tell spring which scanner component?\r\nUnless you have a good reason to do so, you should let it scan all the packages in your project.\r\n\r\nJust put:\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class EcommerceWebsiteApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(EcommerceWebsiteApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMore information on @ComponentScan : https://www.baeldung.com/spring-component-scanning","title":"Only my http://localhost:8080/ mapping works, but the rest of my Mappings in my Controller class do not","body":"<p>Your controllers are simply not scanned by spring because you explicitly asked it to scan only the com.ecommerce.website.service.* package</p>\n<p>However, your controllers are in com.ecommerce.website.controller.*</p>\n<p>Why do you want to tell spring which scanner component?\nUnless you have a good reason to do so, you should let it scan all the packages in your project.</p>\n<p>Just put:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class EcommerceWebsiteApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EcommerceWebsiteApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>More information on @ComponentScan : <a href=\"https://www.baeldung.com/spring-component-scanning\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-component-scanning</a></p>\n"}],"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672202971,"creation_date":1672014241,"question_id":74916553,"body_markdown":"I am creating a project that functions like an ecommerce website, and my base page `http://localhost:8080` opens up, but if I try adding `&quot;/admin&quot;` or any of the other mappings in the controller class, I get the `404` Whitelabel page. \r\n\r\nHow can I make any of the other mappings appear properly?\r\n\r\nI tried changing the `@ComponentScan` in the main class to \r\n\r\n    &quot;@ComponentScan(basePackages = {&quot;com.ecommerce.website.service.*&quot;, &quot;com.ecommerce.website.controller.*&quot;, &quot;com.ecommerce.website.repository.*&quot; })&quot; \r\n\r\nbut that did not solve the issue. \r\n\r\n\r\nMain class\r\n````\r\n@SpringBootApplication\r\n@EnableJpaRepositories(&quot;com.ecommerce.website.repository.*&quot;)\r\n@ComponentScan(&quot;com.ecommerce.website.service.*&quot;)\r\n@EntityScan(&quot;com.ecommerce.website.model.*&quot;)\r\npublic class EcommerceWebsiteApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(EcommerceWebsiteApplication.class, args);\r\n\t}\r\n\r\n}\r\n````\r\n\r\nController class\r\n````\r\npackage com.ecommerce.website.controller;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\n\r\nimport com.ecommerce.website.model.Category;\r\nimport com.ecommerce.website.service.CategoryService;\r\n\r\n//Category ID still having issues\r\n//Need to add methods for Category delete and update methods \r\n@Controller\r\npublic class AdminController {\r\n\t\r\n\t//Injecting dependency\r\n\t@Autowired\r\n\tCategoryService categoryService;\r\n\t\r\n\t//This method maps for /admin endpoint. It shows the adminHome.html page. The method is @GetMapping because you are getting information \r\n\t//@return the adminHome page\r\n\t@GetMapping(&quot;/admin&quot;)\r\n\tpublic String adminHome() {\r\n\t\t\r\n\t\t//Display html page\r\n\t\treturn &quot;adminHome&quot;;\r\n\t}\r\n\t\r\n\t//This method maps for /admin/categories endpoint. It shows the categories.html page. The method is @GetMapping because you are getting information\r\n\t//@return the categories page \r\n\t@GetMapping(&quot;/admin/categories&quot;)\r\n\tpublic String getCat(Model model) {\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;categories&quot;, categoryService.getAllCategories());\r\n\t\t\r\n\t\t//Display html page\r\n\t\treturn &quot;categories&quot;;\r\n\t}\r\n\t\r\n\t//This method maps for /admin/categories endpoint. It shows the categoriesAdd.html page, but before that, it creates\r\n\t//a model that is sent to the html file via Thymeleaf. The categoriesAdd.html page is a form for adding a category\r\n\t//The method is @GetMapping because you are getting information\r\n\t//@param model will hold the category object so that the form can add information to it \r\n\t//@return the categoriesAdd page \r\n\t@GetMapping(&quot;/admin/categories/add&quot;)\r\n\tpublic String getCatAdd(Model model) {\r\n\t\t\r\n\t\t//Adding the model name &quot;category&quot;, and creating a new Category object and putting it in the model\r\n\t\tmodel.addAttribute(&quot;category&quot;, new Category());\r\n\t\t\r\n\t\t//Display html page\r\n\t\treturn &quot;categoriesAdd&quot;;\r\n\t}\r\n\t\r\n\t//This method maps for /admin/categories endpoint. It allows the user to add a category to the list of categories\r\n\t//The method is @PostMapping because you are sending information\r\n\t//@param category gets its value from the ModelAttribute, which gets its value from the form\r\n\t//@return the categories page \r\n\t@PostMapping(&quot;/admin/categories/add&quot;)\r\n\tpublic String postCatAdd(@ModelAttribute(&quot;category&quot;) Category category) {\r\n\t\t\r\n\t\t//Calling categoryService to add the category\r\n\t\tcategoryService.addCategory(category);\r\n\t\t\r\n\t\t//Redirecting to page that shows all categories \r\n\t\treturn &quot;redirect:/admin/categories&quot;;\r\n\t}\r\n\t\r\n\r\n````\r\n\r\nService\r\n````\r\npackage com.ecommerce.website.service;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.ecommerce.website.model.Category;\r\nimport com.ecommerce.website.repository.CategoryRepository;\r\n\r\n@Service\r\npublic class CategoryService {\r\n\r\n\t//Injecting dependency \r\n\t@Autowired\r\n\tCategoryRepository categoryRepository;\r\n\t\r\n\t//This method calls categoryRepository to add a category to the database  \r\n\t//@param category is the category that is being added \r\n\tpublic void addCategory(Category category) {\r\n\t\t\r\n\t\t//Saving the category to the database \r\n\t\tcategoryRepository.save(category);\r\n\t}\r\n\t\r\n\t//This method calls categoryRepository to retrieve a list of categories \r\n\t//@return the list of categories  \r\n\tpublic List&lt;Category&gt; getAllCategories() {\r\n\t\treturn categoryRepository.findAll();\r\n\t}\r\n\t\r\n}\r\n\r\n````\r\n\r\nRepository\r\n````\r\npackage com.ecommerce.website.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.ecommerce.website.model.Category;\r\n\r\n@Repository\r\npublic interface CategoryRepository extends JpaRepository&lt;Category, Integer&gt; {\r\n\r\n\t\r\n\r\n}\r\n````\r\n\r\nPOJO\r\n````\r\npackage com.ecommerce.website.model;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Table;\r\n\r\nimport org.springframework.data.annotation.Id;\r\n\r\n@Entity\r\n@Table\r\npublic class Category {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t@Column(name = &quot;category_id&quot;)\r\n\tprivate int id;\r\n\t\r\n\tprivate String name;\r\n\t\r\n\t\r\n\tpublic Category() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Category(int id, String name) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t} \r\n\t\r\n\t\r\n}\r\n\r\n````\r\n\r\napplication.properties\r\n````\r\nspring.h2.console.enabled=true\r\n\r\nspring.datasource.url=jdbc:h2:file:./db\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\nserver.port=8080\r\n````\r\n\r\npom.xml\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ecommerce&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ecommerce-website&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ecommerce-website&lt;/name&gt;\r\n\t&lt;description&gt;Ecommerce website using Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n````\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nEDIT\r\nI removed all annotations from the main class, except for @SpringBootApplication and @ComponentScan, so now it looks like this:\r\n\r\n````\r\n@SpringBootApplication\r\n@ComponentScan(basePackages={&quot;com.ecommerce.website.service.*&quot;, &quot;com.ecommerce.website.controller.*&quot;, &quot;com.ecommerce.website.repository.*&quot; })\r\npublic class EcommerceWebsiteApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(EcommerceWebsiteApplication.class, args);\r\n\t}\r\n\r\n}\r\n````\r\n\r\nCurrently what is being shown in my console \r\n````\r\n2022-12-27T22:43:35.202-06:00  INFO 5656 --- [           main] c.e.website.EcommerceWebsiteApplication  : Starting EcommerceWebsiteApplication using Java 17.0.2 with PID 5656 (C:\\Users\\sohaib\\eclipse-workspace\\mongoDB-spring-boot\\ecommerce-website-h2\\target\\classes started by sohaib in C:\\Users\\sohaib**strong text**\\eclipse-workspace\\mongoDB-spring-boot\\ecommerce-website-h2)\r\n2022-12-27T22:43:35.208-06:00  INFO 5656 --- [           main] c.e.website.EcommerceWebsiteApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-12-27T22:43:36.611-06:00  INFO 5656 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-12-27T22:43:36.709-06:00  INFO 5656 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 1 JPA repository interfaces.\r\n2022-12-27T22:43:37.831-06:00  INFO 5656 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-12-27T22:43:37.844-06:00  INFO 5656 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-12-27T22:43:37.844-06:00  INFO 5656 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]\r\n2022-12-27T22:43:37.989-06:00  INFO 5656 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-12-27T22:43:37.992-06:00  INFO 5656 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2658 ms\r\n2022-12-27T22:43:38.033-06:00  INFO 5656 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2022-12-27T22:43:38.299-06:00  INFO 5656 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./db user=SA\r\n2022-12-27T22:43:38.301-06:00  INFO 5656 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2022-12-27T22:43:38.314-06:00  INFO 5656 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at &#39;/h2-console&#39;. Database available at &#39;jdbc:h2:file:./db&#39;\r\n2022-12-27T22:43:38.475-06:00  INFO 5656 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2022-12-27T22:43:38.549-06:00  INFO 5656 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final\r\n2022-12-27T22:43:38.770-06:00  WARN 5656 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n2022-12-27T22:43:38.926-06:00  INFO 5656 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n2022-12-27T22:43:39.774-06:00  INFO 5656 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2022-12-27T22:43:39.782-06:00  INFO 5656 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-12-27T22:43:39.847-06:00  WARN 5656 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2022-12-27T22:43:40.038-06:00  INFO 5656 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index\r\n2022-12-27T22:43:40.576-06:00  INFO 5656 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2022-12-27T22:43:40.587-06:00  INFO 5656 --- [           main] c.e.website.EcommerceWebsiteApplication  : Started EcommerceWebsiteApplication in 5.879 seconds (process running for 6.41)\r\n2022-12-27T22:47:31.683-06:00  INFO 5656 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-12-27T22:47:31.684-06:00  INFO 5656 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-12-27T22:47:31.685-06:00  INFO 5656 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n````","title":"Only my http://localhost:8080/ mapping works, but the rest of my Mappings in my Controller class do not","body":"<p>I am creating a project that functions like an ecommerce website, and my base page <code>http://localhost:8080</code> opens up, but if I try adding <code>&quot;/admin&quot;</code> or any of the other mappings in the controller class, I get the <code>404</code> Whitelabel page.</p>\n<p>How can I make any of the other mappings appear properly?</p>\n<p>I tried changing the <code>@ComponentScan</code> in the main class to</p>\n<pre><code>&quot;@ComponentScan(basePackages = {&quot;com.ecommerce.website.service.*&quot;, &quot;com.ecommerce.website.controller.*&quot;, &quot;com.ecommerce.website.repository.*&quot; })&quot; \n</code></pre>\n<p>but that did not solve the issue.</p>\n<p>Main class</p>\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(&quot;com.ecommerce.website.repository.*&quot;)\n@ComponentScan(&quot;com.ecommerce.website.service.*&quot;)\n@EntityScan(&quot;com.ecommerce.website.model.*&quot;)\npublic class EcommerceWebsiteApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EcommerceWebsiteApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Controller class</p>\n<pre><code>package com.ecommerce.website.controller;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport com.ecommerce.website.model.Category;\nimport com.ecommerce.website.service.CategoryService;\n\n//Category ID still having issues\n//Need to add methods for Category delete and update methods \n@Controller\npublic class AdminController {\n    \n    //Injecting dependency\n    @Autowired\n    CategoryService categoryService;\n    \n    //This method maps for /admin endpoint. It shows the adminHome.html page. The method is @GetMapping because you are getting information \n    //@return the adminHome page\n    @GetMapping(&quot;/admin&quot;)\n    public String adminHome() {\n        \n        //Display html page\n        return &quot;adminHome&quot;;\n    }\n    \n    //This method maps for /admin/categories endpoint. It shows the categories.html page. The method is @GetMapping because you are getting information\n    //@return the categories page \n    @GetMapping(&quot;/admin/categories&quot;)\n    public String getCat(Model model) {\n        \n        model.addAttribute(&quot;categories&quot;, categoryService.getAllCategories());\n        \n        //Display html page\n        return &quot;categories&quot;;\n    }\n    \n    //This method maps for /admin/categories endpoint. It shows the categoriesAdd.html page, but before that, it creates\n    //a model that is sent to the html file via Thymeleaf. The categoriesAdd.html page is a form for adding a category\n    //The method is @GetMapping because you are getting information\n    //@param model will hold the category object so that the form can add information to it \n    //@return the categoriesAdd page \n    @GetMapping(&quot;/admin/categories/add&quot;)\n    public String getCatAdd(Model model) {\n        \n        //Adding the model name &quot;category&quot;, and creating a new Category object and putting it in the model\n        model.addAttribute(&quot;category&quot;, new Category());\n        \n        //Display html page\n        return &quot;categoriesAdd&quot;;\n    }\n    \n    //This method maps for /admin/categories endpoint. It allows the user to add a category to the list of categories\n    //The method is @PostMapping because you are sending information\n    //@param category gets its value from the ModelAttribute, which gets its value from the form\n    //@return the categories page \n    @PostMapping(&quot;/admin/categories/add&quot;)\n    public String postCatAdd(@ModelAttribute(&quot;category&quot;) Category category) {\n        \n        //Calling categoryService to add the category\n        categoryService.addCategory(category);\n        \n        //Redirecting to page that shows all categories \n        return &quot;redirect:/admin/categories&quot;;\n    }\n    \n\n</code></pre>\n<p>Service</p>\n<pre><code>package com.ecommerce.website.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.ecommerce.website.model.Category;\nimport com.ecommerce.website.repository.CategoryRepository;\n\n@Service\npublic class CategoryService {\n\n    //Injecting dependency \n    @Autowired\n    CategoryRepository categoryRepository;\n    \n    //This method calls categoryRepository to add a category to the database  \n    //@param category is the category that is being added \n    public void addCategory(Category category) {\n        \n        //Saving the category to the database \n        categoryRepository.save(category);\n    }\n    \n    //This method calls categoryRepository to retrieve a list of categories \n    //@return the list of categories  \n    public List&lt;Category&gt; getAllCategories() {\n        return categoryRepository.findAll();\n    }\n    \n}\n\n</code></pre>\n<p>Repository</p>\n<pre><code>package com.ecommerce.website.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.ecommerce.website.model.Category;\n\n@Repository\npublic interface CategoryRepository extends JpaRepository&lt;Category, Integer&gt; {\n\n    \n\n}\n</code></pre>\n<p>POJO</p>\n<pre><code>package com.ecommerce.website.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Table;\n\nimport org.springframework.data.annotation.Id;\n\n@Entity\n@Table\npublic class Category {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;category_id&quot;)\n    private int id;\n    \n    private String name;\n    \n    \n    public Category() {\n        \n    }\n    \n    public Category(int id, String name) {\n        super();\n        this.id = id;\n        this.name = name;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    } \n    \n    \n}\n\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.h2.console.enabled=true\n\nspring.datasource.url=jdbc:h2:file:./db\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\n\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto=update\n\nserver.port=8080\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ecommerce&lt;/groupId&gt;\n    &lt;artifactId&gt;ecommerce-website&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ecommerce-website&lt;/name&gt;\n    &lt;description&gt;Ecommerce website using Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>EDIT\nI removed all annotations from the main class, except for @SpringBootApplication and @ComponentScan, so now it looks like this:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages={&quot;com.ecommerce.website.service.*&quot;, &quot;com.ecommerce.website.controller.*&quot;, &quot;com.ecommerce.website.repository.*&quot; })\npublic class EcommerceWebsiteApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EcommerceWebsiteApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Currently what is being shown in my console</p>\n<pre><code>2022-12-27T22:43:35.202-06:00  INFO 5656 --- [           main] c.e.website.EcommerceWebsiteApplication  : Starting EcommerceWebsiteApplication using Java 17.0.2 with PID 5656 (C:\\Users\\sohaib\\eclipse-workspace\\mongoDB-spring-boot\\ecommerce-website-h2\\target\\classes started by sohaib in C:\\Users\\sohaib**strong text**\\eclipse-workspace\\mongoDB-spring-boot\\ecommerce-website-h2)\n2022-12-27T22:43:35.208-06:00  INFO 5656 --- [           main] c.e.website.EcommerceWebsiteApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-12-27T22:43:36.611-06:00  INFO 5656 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-12-27T22:43:36.709-06:00  INFO 5656 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 1 JPA repository interfaces.\n2022-12-27T22:43:37.831-06:00  INFO 5656 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-12-27T22:43:37.844-06:00  INFO 5656 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-12-27T22:43:37.844-06:00  INFO 5656 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]\n2022-12-27T22:43:37.989-06:00  INFO 5656 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-12-27T22:43:37.992-06:00  INFO 5656 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2658 ms\n2022-12-27T22:43:38.033-06:00  INFO 5656 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-12-27T22:43:38.299-06:00  INFO 5656 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./db user=SA\n2022-12-27T22:43:38.301-06:00  INFO 5656 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-12-27T22:43:38.314-06:00  INFO 5656 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./db'\n2022-12-27T22:43:38.475-06:00  INFO 5656 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-12-27T22:43:38.549-06:00  INFO 5656 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final\n2022-12-27T22:43:38.770-06:00  WARN 5656 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\n2022-12-27T22:43:38.926-06:00  INFO 5656 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2022-12-27T22:43:39.774-06:00  INFO 5656 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-12-27T22:43:39.782-06:00  INFO 5656 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-12-27T22:43:39.847-06:00  WARN 5656 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2022-12-27T22:43:40.038-06:00  INFO 5656 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index\n2022-12-27T22:43:40.576-06:00  INFO 5656 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-12-27T22:43:40.587-06:00  INFO 5656 --- [           main] c.e.website.EcommerceWebsiteApplication  : Started EcommerceWebsiteApplication in 5.879 seconds (process running for 6.41)\n2022-12-27T22:47:31.683-06:00  INFO 5656 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-12-27T22:47:31.684-06:00  INFO 5656 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-12-27T22:47:31.685-06:00  INFO 5656 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n</code></pre>\n"},{"tags":["java","android","kotlin","android-spinner","crashlytics"],"comments":[{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1672203148,"post_id":74936281,"comment_id":132240661,"body_markdown":"Have you check null inside the `modelName` array? It seems that there is null inside the array causing such problem.","body":"Have you check null inside the <code>modelName</code> array? It seems that there is null inside the array causing such problem."},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1672203178,"post_id":74936281,"comment_id":132240664,"body_markdown":"e.g., `modelName` = {&quot;Model A&quot;, &quot;Model B&quot;, null, &quot;Model C&quot;}","body":"e.g., <code>modelName</code> = {&quot;Model A&quot;, &quot;Model B&quot;, null, &quot;Model C&quot;}"},{"owner":{"account_id":26264663,"reputation":1,"user_id":19935418,"display_name":"Rookie"},"score":0,"creation_date":1672205564,"post_id":74936281,"comment_id":132240971,"body_markdown":"yes one field is null in the API response that could be the issue.","body":"yes one field is null in the API response that could be the issue."},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1672209157,"post_id":74936281,"comment_id":132241508,"body_markdown":"You may give a try to drop the null record first. If the issue resolves, then handle the `null` data gracefully (e.g., drop it with log, replace it with other meaningful field or just drop it if it is not important).","body":"You may give a try to drop the null record first. If the issue resolves, then handle the <code>null</code> data gracefully (e.g., drop it with log, replace it with other meaningful field or just drop it if it is not important)."}],"owner":{"account_id":26264663,"reputation":1,"user_id":19935418,"display_name":"Rookie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672202606,"creation_date":1672202084,"question_id":74936281,"body_markdown":"Here are Crash details from Crashes and ANRs\r\n\r\ncom.$$$$$$.fieldforce.activity.ProvisioningScreenActivity.lambda$getAccountDetails$3$ProvisioningScreenActivity\r\n\r\n- java.lang.NullPointerException\r\n\r\n```\r\nException java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String java.lang.Object.toString()&#39; on a null object reference\r\n  at android.widget.ArrayAdapter.createViewFromResource (ArrayAdapter.java:454)\r\n  at android.widget.ArrayAdapter.getDropDownView (ArrayAdapter.java:502)\r\n  at androidx.appcompat.widget.AppCompatSpinner$DropDownAdapter.getDropDownView (AppCompatSpinner.java:756)\r\n  at androidx.appcompat.widget.AppCompatSpinner$DropDownAdapter.getView (AppCompatSpinner.java:750)\r\n  at androidx.appcompat.widget.AppCompatSpinner.compatMeasureContentWidth (AppCompatSpinner.java:590)\r\n  at androidx.appcompat.widget.AppCompatSpinner$DropdownPopup.computeContentWidth (AppCompatSpinner.java:1026)\r\n  at androidx.appcompat.widget.AppCompatSpinner$DropdownPopup.show (AppCompatSpinner.java:1053)\r\n  at androidx.appcompat.widget.AppCompatSpinner.showPopup (AppCompatSpinner.java:616)\r\n  at androidx.appcompat.widget.AppCompatSpinner.performClick (AppCompatSpinner.java:460)\r\n  at com.$$$$$$$.fieldforce.activity.ProvisioningScreenActivity.lambda$getAccountDetails$3$ProvisioningScreenActivity (ProvisioningScreenActivity.java:230)\r\n  at com.$$$$$$$.fieldforce.activity.-$$Lambda$ProvisioningScreenActivity$YnrGP_9DLrME_v-i79em930emIg.onClick\r\n  at android.view.View.performClick (View.java:7558)\r\n  at android.view.View.performClickInternal (View.java:7534)\r\n  at android.view.View.-$$Nest$mperformClickInternal\r\n  at android.view.View$PerformClick.run (View.java:29652)\r\n  at android.os.Handler.handleCallback (Handler.java:942)\r\n  at android.os.Handler.dispatchMessage (Handler.java:99)\r\n  at android.os.Looper.loopOnce (Looper.java:240)\r\n  at android.os.Looper.loop (Looper.java:351)\r\n  at android.app.ActivityThread.main (ActivityThread.java:8355)\r\n  at java.lang.reflect.Method.invoke\r\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:584)\r\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1013)\r\n```\r\n\r\nApp is crashing on clicking the Model spinner.\r\n\r\n[![Form image][1]][1]\r\n\r\nI&#39;m not able to fix it because its working fine on my Samsung\r\n\r\nthis is the function which causing the problem\r\n\r\n```\r\npublic void getAccountDetails() {\r\n\r\n    try {\r\n        binding.tvModel.setOnClickListener(v -&gt; binding.spModel.performClick());\r\n        binding.spModel.setOnItemSelectedListener(this);\r\n        inAnimation = new AlphaAnimation(0f, 1f);\r\n        inAnimation.setDuration(200);\r\n        binding.progressLayout.progressOverlay.setAnimation(inAnimation);\r\n        binding.progressLayout.progressOverlay.setVisibility(View.VISIBLE);\r\n        AccountInfoRequest accountInfoRequest = new AccountInfoRequest();\r\n        accountInfoRequest.setAuthkey(Constants.AUTH_KEY);\r\n        accountInfoRequest.setAction(Constants.GET_ACCOUNT_DETAILS);\r\n        accountInfoRequest.setCanId(strCanId);\r\n        ApiInterface apiService = ApiClient.getClient().create(ApiInterface.class);\r\n        Call&lt;AccountDetailsResponse&gt; call = apiService.getAccountDetails(accountInfoRequest);\r\n        call.enqueue(new Callback&lt;AccountDetailsResponse&gt;() {\r\n            @Override\r\n            `public void onResponse(Call&lt;AccountDetailsResponse&gt; call,  Response&lt;AccountDetailsResponse&gt; response)` {\r\n                if (response.isSuccessful() &amp;&amp; response.body() != null) {\r\n                    outAnimation = new AlphaAnimation(1f, 0f);\r\n                    outAnimation.setDuration(200);\r\n                    binding.progressLayout.progressOverlay.setAnimation(outAnimation);\r\n                    binding.progressLayout.progressOverlay.setVisibility(View.GONE);\r\n\r\n                    if (response.body().getStatus().equals(&quot;Success&quot;)) {\r\n                        try {\r\n                            binding.setResponse(response.body().getResponse().data);\r\n                            `if(response.body().getResponse().data.onuProfile!=null||response.body().getResponse().data.onuProfile.size()!=0) {`\r\n                                `onuProfile = response.body().getResponse().getData().getOnuProfile();`\r\n                            }\r\n                            `if(response.body().getResponse().data.towerDetail!=null||response.body().getResponse().data.towerDetail.size()!=0) {`\r\n                               ` strTowerId = response.body().getResponse().getData().getTowerDetail().get(0).getTowerId();`\r\n                                `strSplitterId = response.body().getResponse().getData().getTowerDetail().get(0).getServingDB();`\r\n                            }\r\n                            modelName = new ArrayList&lt;&gt;();\r\n                            modelId = new ArrayList&lt;&gt;();\r\n                            modelName.add(&quot;Select Model Name&quot;);\r\n                            for (AccountDetailsResponse.OnuProfile onuProfile : onuProfile)\r\n                                modelName.add(onuProfile.getModelName());\r\n                            for (AccountDetailsResponse.OnuProfile id : onuProfile)\r\n                                modelId.add(id.getProfileName());\r\n                            if(modelName!=null) {\r\n                               ` ArrayAdapter&lt;String&gt; adapter1 = new ArrayAdapter&lt;String&gt;(ProvisioningScreenActivity.this, android.R.layout.simple_spinner_item, modelName);`\r\n                                `adapter1.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);`\r\n                                binding.spModel.setAdapter(adapter1);\r\n                            }\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    } else if (response.body().getStatus().equals(&quot;Failure&quot;)) {\r\n                        `Toast.makeText(ProvisioningScreenActivity.this, response.body().getResponse().getMessage(), Toast.LENGTH_LONG).show();`\r\n                        nextScreen();\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;AccountDetailsResponse&gt; call, Throwable t) {\r\n                binding.progressLayout.progressOverlay.setVisibility(View.GONE);\r\n                Log.e(&quot;RetroError&quot;, t.toString());\r\n            }\r\n        });\r\n    }catch (Exception ex){\r\n        ex.getMessage();\r\n    }\r\n}\r\n```\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n        if(parent.getId() == R.id.sp_model){\r\n            binding.tvModel.setText(modelName.get(position));\r\n            if (position != 0) strModel = &quot;&quot; + modelId.get(position - 1);\r\n            else strModel = &quot; &quot;;\r\n            binding.tvProfileName.setText(strModel);\r\n\r\n        }\r\n    }\r\n\r\n\r\nthis screenshot of above code and line 230 is highlighted\r\n[![this screenshot of above code and line 230 is highlighted ][2]][2]\r\n\r\n[1]: https://i.stack.imgur.com/6Xl5u.png\r\n[2]: https://i.stack.imgur.com/5jvzM.png\r\n","title":"APP crashing on realme , oppo and oneplus Phones","body":"<p>Here are Crash details from Crashes and ANRs</p>\n<p>com.$$$$$$.fieldforce.activity.ProvisioningScreenActivity.lambda$getAccountDetails$3$ProvisioningScreenActivity</p>\n<ul>\n<li>java.lang.NullPointerException</li>\n</ul>\n<pre><code>Exception java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String java.lang.Object.toString()' on a null object reference\n  at android.widget.ArrayAdapter.createViewFromResource (ArrayAdapter.java:454)\n  at android.widget.ArrayAdapter.getDropDownView (ArrayAdapter.java:502)\n  at androidx.appcompat.widget.AppCompatSpinner$DropDownAdapter.getDropDownView (AppCompatSpinner.java:756)\n  at androidx.appcompat.widget.AppCompatSpinner$DropDownAdapter.getView (AppCompatSpinner.java:750)\n  at androidx.appcompat.widget.AppCompatSpinner.compatMeasureContentWidth (AppCompatSpinner.java:590)\n  at androidx.appcompat.widget.AppCompatSpinner$DropdownPopup.computeContentWidth (AppCompatSpinner.java:1026)\n  at androidx.appcompat.widget.AppCompatSpinner$DropdownPopup.show (AppCompatSpinner.java:1053)\n  at androidx.appcompat.widget.AppCompatSpinner.showPopup (AppCompatSpinner.java:616)\n  at androidx.appcompat.widget.AppCompatSpinner.performClick (AppCompatSpinner.java:460)\n  at com.$$$$$$$.fieldforce.activity.ProvisioningScreenActivity.lambda$getAccountDetails$3$ProvisioningScreenActivity (ProvisioningScreenActivity.java:230)\n  at com.$$$$$$$.fieldforce.activity.-$$Lambda$ProvisioningScreenActivity$YnrGP_9DLrME_v-i79em930emIg.onClick\n  at android.view.View.performClick (View.java:7558)\n  at android.view.View.performClickInternal (View.java:7534)\n  at android.view.View.-$$Nest$mperformClickInternal\n  at android.view.View$PerformClick.run (View.java:29652)\n  at android.os.Handler.handleCallback (Handler.java:942)\n  at android.os.Handler.dispatchMessage (Handler.java:99)\n  at android.os.Looper.loopOnce (Looper.java:240)\n  at android.os.Looper.loop (Looper.java:351)\n  at android.app.ActivityThread.main (ActivityThread.java:8355)\n  at java.lang.reflect.Method.invoke\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:584)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1013)\n</code></pre>\n<p>App is crashing on clicking the Model spinner.</p>\n<p><a href=\"https://i.stack.imgur.com/6Xl5u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Xl5u.png\" alt=\"Form image\" /></a></p>\n<p>I'm not able to fix it because its working fine on my Samsung</p>\n<p>this is the function which causing the problem</p>\n<pre><code>public void getAccountDetails() {\n\n    try {\n        binding.tvModel.setOnClickListener(v -&gt; binding.spModel.performClick());\n        binding.spModel.setOnItemSelectedListener(this);\n        inAnimation = new AlphaAnimation(0f, 1f);\n        inAnimation.setDuration(200);\n        binding.progressLayout.progressOverlay.setAnimation(inAnimation);\n        binding.progressLayout.progressOverlay.setVisibility(View.VISIBLE);\n        AccountInfoRequest accountInfoRequest = new AccountInfoRequest();\n        accountInfoRequest.setAuthkey(Constants.AUTH_KEY);\n        accountInfoRequest.setAction(Constants.GET_ACCOUNT_DETAILS);\n        accountInfoRequest.setCanId(strCanId);\n        ApiInterface apiService = ApiClient.getClient().create(ApiInterface.class);\n        Call&lt;AccountDetailsResponse&gt; call = apiService.getAccountDetails(accountInfoRequest);\n        call.enqueue(new Callback&lt;AccountDetailsResponse&gt;() {\n            @Override\n            `public void onResponse(Call&lt;AccountDetailsResponse&gt; call,  Response&lt;AccountDetailsResponse&gt; response)` {\n                if (response.isSuccessful() &amp;&amp; response.body() != null) {\n                    outAnimation = new AlphaAnimation(1f, 0f);\n                    outAnimation.setDuration(200);\n                    binding.progressLayout.progressOverlay.setAnimation(outAnimation);\n                    binding.progressLayout.progressOverlay.setVisibility(View.GONE);\n\n                    if (response.body().getStatus().equals(&quot;Success&quot;)) {\n                        try {\n                            binding.setResponse(response.body().getResponse().data);\n                            `if(response.body().getResponse().data.onuProfile!=null||response.body().getResponse().data.onuProfile.size()!=0) {`\n                                `onuProfile = response.body().getResponse().getData().getOnuProfile();`\n                            }\n                            `if(response.body().getResponse().data.towerDetail!=null||response.body().getResponse().data.towerDetail.size()!=0) {`\n                               ` strTowerId = response.body().getResponse().getData().getTowerDetail().get(0).getTowerId();`\n                                `strSplitterId = response.body().getResponse().getData().getTowerDetail().get(0).getServingDB();`\n                            }\n                            modelName = new ArrayList&lt;&gt;();\n                            modelId = new ArrayList&lt;&gt;();\n                            modelName.add(&quot;Select Model Name&quot;);\n                            for (AccountDetailsResponse.OnuProfile onuProfile : onuProfile)\n                                modelName.add(onuProfile.getModelName());\n                            for (AccountDetailsResponse.OnuProfile id : onuProfile)\n                                modelId.add(id.getProfileName());\n                            if(modelName!=null) {\n                               ` ArrayAdapter&lt;String&gt; adapter1 = new ArrayAdapter&lt;String&gt;(ProvisioningScreenActivity.this, android.R.layout.simple_spinner_item, modelName);`\n                                `adapter1.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);`\n                                binding.spModel.setAdapter(adapter1);\n                            }\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                        }\n                    } else if (response.body().getStatus().equals(&quot;Failure&quot;)) {\n                        `Toast.makeText(ProvisioningScreenActivity.this, response.body().getResponse().getMessage(), Toast.LENGTH_LONG).show();`\n                        nextScreen();\n                    }\n                }\n\n            }\n\n            @Override\n            public void onFailure(Call&lt;AccountDetailsResponse&gt; call, Throwable t) {\n                binding.progressLayout.progressOverlay.setVisibility(View.GONE);\n                Log.e(&quot;RetroError&quot;, t.toString());\n            }\n        });\n    }catch (Exception ex){\n        ex.getMessage();\n    }\n}\n</code></pre>\n<pre><code>@Override\npublic void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n    if(parent.getId() == R.id.sp_model){\n        binding.tvModel.setText(modelName.get(position));\n        if (position != 0) strModel = &quot;&quot; + modelId.get(position - 1);\n        else strModel = &quot; &quot;;\n        binding.tvProfileName.setText(strModel);\n\n    }\n}\n</code></pre>\n<p>this screenshot of above code and line 230 is highlighted\n<a href=\"https://i.stack.imgur.com/5jvzM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5jvzM.png\" alt=\"this screenshot of above code and line 230 is highlighted \" /></a></p>\n"},{"tags":["java","junit","mocking","mockserver"],"answers":[{"tags":[],"owner":{"account_id":7058959,"reputation":83,"user_id":5405103,"display_name":"Ayushi Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591776712,"creation_date":1591776712,"answer_id":62298792,"question_id":60202909,"body_markdown":"You can read the json file contents using \r\n            \r\n    public &lt;T&gt; T conversion(File jsonFile, Class&lt;T&gt; pClass) throws IOException {           \r\n        return objectMapper.readValue(FileUtils.readFileToString(&lt;your file&gt;,&quot;UTF-8&quot;),&lt;your class&gt;);\r\n    }\r\n\r\nHope this helps.","title":"Java org.mockserver load response body from file","body":"<p>You can read the json file contents using </p>\n\n<pre><code>public &lt;T&gt; T conversion(File jsonFile, Class&lt;T&gt; pClass) throws IOException {           \n    return objectMapper.readValue(FileUtils.readFileToString(&lt;your file&gt;,\"UTF-8\"),&lt;your class&gt;);\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":25751477,"reputation":1,"user_id":19503951,"display_name":"vu-pt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672200060,"creation_date":1672200040,"answer_id":74936116,"question_id":60202909,"body_markdown":"You can lookup in this post\r\nhttps://github.com/mock-server/mockserver/issues/554\r\n\r\nThe approach is simply like you return a JSON data but you need to set the body similar this\r\n\r\n    &quot;body&quot;: { &quot;type&quot;: &quot;BINARY&quot;, &quot;base64Bytes&quot;:&quot;XXXXXXXXX.....&quot; } }\r\n\r\nHope this helps.\r\n\r\n ","title":"Java org.mockserver load response body from file","body":"<p>You can lookup in this post\n<a href=\"https://github.com/mock-server/mockserver/issues/554\" rel=\"nofollow noreferrer\">https://github.com/mock-server/mockserver/issues/554</a></p>\n<p>The approach is simply like you return a JSON data but you need to set the body similar this</p>\n<pre><code>&quot;body&quot;: { &quot;type&quot;: &quot;BINARY&quot;, &quot;base64Bytes&quot;:&quot;XXXXXXXXX.....&quot; } }\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":10717979,"reputation":57,"user_id":7887929,"display_name":"TheRadianer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1066,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672200060,"creation_date":1581580499,"question_id":60202909,"body_markdown":"is there a easy way to load the content of a file (like a Json file) for the response body from a org.mockserver?\r\n\r\nOr do i have to do it in the usual way?","title":"Java org.mockserver load response body from file","body":"<p>is there a easy way to load the content of a file (like a Json file) for the response body from a org.mockserver?</p>\n\n<p>Or do i have to do it in the usual way?</p>\n"},{"tags":["java","awaitility"],"answers":[{"tags":[],"owner":{"account_id":16276241,"reputation":17,"user_id":16187547,"display_name":"Aleksey Bakharev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672199578,"creation_date":1672199578,"answer_id":74936085,"question_id":74897885,"body_markdown":"decided not to use awaitility. And use future.get() with a timeout\r\n\r\n    private List&lt;JournalRecord&gt; waitResult(Callable&lt;List&lt;JournalRecord&gt;&gt; findRecords, String message) {\r\n            ExecutorService executor = Executors.newFixedThreadPool(1);\r\n            AtomicReference&lt;List&lt;JournalRecord &gt;&gt; result = new AtomicReference&lt;&gt;(Collections.emptyList());\r\n            Future&lt;?&gt; future = executor.submit(() -&gt; searchJob(findRecords, message, result));\r\n            try {\r\n                future.get(40, TimeUnit.SECONDS);\r\n                executor.shutdown();\r\n            } catch (TimeoutException ignore) {\r\n    \r\n            }\r\n            executor.shutdown();\r\n            return result.get();\r\n        }\r\n\r\n    private void searchJob(Callable&lt;List&lt;JournalRecord&gt;&gt; findRecords,\r\n                               String message,\r\n                               AtomicReference&lt;List&lt;JournalRecord&gt;&gt; result) {\r\n            for (int i = 0; i &lt; 40; i++) {\r\n                //do search in database by message and fill AtomicReference&lt;List&lt;JournalRecord&gt;&gt; result\r\n                if(result was found) {\r\n                  return;\r\n                }\r\n                Thread.sleep(1000);\r\n            }\r\n        }\r\n\r\n\r\nI don&#39;t know if it&#39;s correct, but it works for me.\r\nIn fact, the number of attempts depends on the database load, on average I get 7-12. The main task was to limit the execution time of searching for messages in the database.\r\n\r\n\r\nI would be grateful if someone points out errors or tells me how to improve the solution.","title":"How to check if an event hasn&#39;t happened using awaitility","body":"<p>decided not to use awaitility. And use future.get() with a timeout</p>\n<pre><code>private List&lt;JournalRecord&gt; waitResult(Callable&lt;List&lt;JournalRecord&gt;&gt; findRecords, String message) {\n        ExecutorService executor = Executors.newFixedThreadPool(1);\n        AtomicReference&lt;List&lt;JournalRecord &gt;&gt; result = new AtomicReference&lt;&gt;(Collections.emptyList());\n        Future&lt;?&gt; future = executor.submit(() -&gt; searchJob(findRecords, message, result));\n        try {\n            future.get(40, TimeUnit.SECONDS);\n            executor.shutdown();\n        } catch (TimeoutException ignore) {\n\n        }\n        executor.shutdown();\n        return result.get();\n    }\n\nprivate void searchJob(Callable&lt;List&lt;JournalRecord&gt;&gt; findRecords,\n                           String message,\n                           AtomicReference&lt;List&lt;JournalRecord&gt;&gt; result) {\n        for (int i = 0; i &lt; 40; i++) {\n            //do search in database by message and fill AtomicReference&lt;List&lt;JournalRecord&gt;&gt; result\n            if(result was found) {\n              return;\n            }\n            Thread.sleep(1000);\n        }\n    }\n</code></pre>\n<p>I don't know if it's correct, but it works for me.\nIn fact, the number of attempts depends on the database load, on average I get 7-12. The main task was to limit the execution time of searching for messages in the database.</p>\n<p>I would be grateful if someone points out errors or tells me how to improve the solution.</p>\n"}],"owner":{"account_id":16276241,"reputation":17,"user_id":16187547,"display_name":"Aleksey Bakharev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672199578,"creation_date":1671786184,"question_id":74897885,"body_markdown":"I&#39;m trying to make sure that after some actions, no new records have appeared in the database, for this I use the following construction:\r\n\r\n    messages = new String[] {&quot;message1&quot;, &quot;message2&quot;};\r\n    await(&quot;wait&quot;)\r\n            .during(Duration.ofSeconds(15))\r\n            .atMost(Duration.ofSeconds(19))\r\n            .pollInterval(Duration.ofSeconds(1))\r\n            .until(() -&gt; databaseService.getJournalRecords().stream()\r\n                    .map(JournalRecord::getMessage)\r\n                    .filter(Arrays.asList(messages)::contains)\r\n                    .findFirst()\r\n                    .orElse(null), Matchers.nullValue()\r\n            );\r\n\r\nBut I am getting an error:\r\n\r\n    org.awaitility.core.ConditionTimeoutException: Condition with alias &#39;wait&#39; didn&#39;t complete within 19 seconds because lambda expression in my.path.MyClass: expected null but was null.\r\n    \r\n\r\nwhen using the construction \r\n\r\n    .orElse(&quot;some value&quot;), Matchers.equalTo(&quot;some value&quot;)\r\n\r\n\r\n\r\nI get a similar error\r\n\r\n    org.awaitility.core.ConditionTimeoutException: Condition with alias &#39;wait&#39; didn&#39;t complete within 19 seconds because lambda expression in my.path.MyClass: expected &quot;some value&quot; but was &quot;some value&quot;.\r\n\r\nHow to build awaitility correctly, what is my mistake?","title":"How to check if an event hasn&#39;t happened using awaitility","body":"<p>I'm trying to make sure that after some actions, no new records have appeared in the database, for this I use the following construction:</p>\n<pre><code>messages = new String[] {&quot;message1&quot;, &quot;message2&quot;};\nawait(&quot;wait&quot;)\n        .during(Duration.ofSeconds(15))\n        .atMost(Duration.ofSeconds(19))\n        .pollInterval(Duration.ofSeconds(1))\n        .until(() -&gt; databaseService.getJournalRecords().stream()\n                .map(JournalRecord::getMessage)\n                .filter(Arrays.asList(messages)::contains)\n                .findFirst()\n                .orElse(null), Matchers.nullValue()\n        );\n</code></pre>\n<p>But I am getting an error:</p>\n<pre><code>org.awaitility.core.ConditionTimeoutException: Condition with alias 'wait' didn't complete within 19 seconds because lambda expression in my.path.MyClass: expected null but was null.\n</code></pre>\n<p>when using the construction</p>\n<pre><code>.orElse(&quot;some value&quot;), Matchers.equalTo(&quot;some value&quot;)\n</code></pre>\n<p>I get a similar error</p>\n<pre><code>org.awaitility.core.ConditionTimeoutException: Condition with alias 'wait' didn't complete within 19 seconds because lambda expression in my.path.MyClass: expected &quot;some value&quot; but was &quot;some value&quot;.\n</code></pre>\n<p>How to build awaitility correctly, what is my mistake?</p>\n"},{"tags":["java","api","jdbc","resultset"],"comments":[{"owner":{"account_id":940870,"reputation":20212,"user_id":968969,"display_name":"Tony Hopkinson"},"score":0,"creation_date":1370639488,"post_id":16992932,"comment_id":24550653,"body_markdown":"Just take the first character of the string, given it&#39;s not null or empty of course.","body":"Just take the first character of the string, given it&#39;s not null or empty of course."}],"answers":[{"tags":[],"owner":{"display_name":"user1707035"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1370639442,"creation_date":1370639442,"answer_id":16993005,"question_id":16992932,"body_markdown":"Refer to the [link][1] and see the table 3-1 and you will get decent idea that why there does not exists `getChar(String column_name)`.\r\n\r\n\r\n&lt;b&gt;Summary:&lt;/b&gt; Mapping of char is to String. So there exists `getString(String column_name)` for the char data type\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/B19306_01/java.102/b14188/datamap.htm#CHDBJAGH","title":"How to get the char data type from mysql using resultset","body":"<p>Refer to the <a href=\"http://docs.oracle.com/cd/B19306_01/java.102/b14188/datamap.htm#CHDBJAGH\" rel=\"noreferrer\">link</a> and see the table 3-1 and you will get decent idea that why there does not exists <code>getChar(String column_name)</code>.</p>\n\n<p><b>Summary:</b> Mapping of char is to String. So there exists <code>getString(String column_name)</code> for the char data type</p>\n"},{"tags":[],"owner":{"account_id":2676494,"reputation":7508,"user_id":2312796,"accept_rate":86,"display_name":"greedybuddha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1370639477,"creation_date":1370639477,"answer_id":16993016,"question_id":16992932,"body_markdown":"It is because  a [Char][1] in MySQL doesn&#39;t really mean a singular char value, it really means a array of chars.  In java an array of chars is represented as a String, hence the same method.\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.0/en/char.html","title":"How to get the char data type from mysql using resultset","body":"<p>It is because  a <a href=\"http://dev.mysql.com/doc/refman/5.0/en/char.html\" rel=\"noreferrer\">Char</a> in MySQL doesn't really mean a singular char value, it really means a array of chars.  In java an array of chars is represented as a String, hence the same method.</p>\n"},{"tags":[],"owner":{"account_id":48992,"reputation":13236,"user_id":145757,"accept_rate":69,"display_name":"Pragmateek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370639500,"creation_date":1370639500,"answer_id":16993023,"question_id":16992932,"body_markdown":"Databases often have only one type for representing all the strings of characters.\r\n\r\nA char is only a special case: a string with one character, so it would not be really useful to add this type.\r\n\r\nAnd don&#39;t be fooled by their name like CHAR. :)\r\n","title":"How to get the char data type from mysql using resultset","body":"<p>Databases often have only one type for representing all the strings of characters.</p>\n\n<p>A char is only a special case: a string with one character, so it would not be really useful to add this type.</p>\n\n<p>And don't be fooled by their name like CHAR. :)</p>\n"},{"tags":[],"owner":{"account_id":1867908,"reputation":4350,"user_id":1690982,"display_name":"ddmps"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1370639837,"creation_date":1370639837,"answer_id":16993100,"question_id":16992932,"body_markdown":"As MySQL sees it, it&#39;s all `Strings` because it has no type for a single character. Sure, you can set `CHAR` or `VARCHAR` to sizes of max one, but this is a special case and you generally don&#39;t want to make methods for special cases when the functionality is already there.\r\n\r\nJust extract the Java `char` from the resulting `String`, as such:\r\n\r\n    getString(column_name).charAt(0)","title":"How to get the char data type from mysql using resultset","body":"<p>As MySQL sees it, it's all <code>Strings</code> because it has no type for a single character. Sure, you can set <code>CHAR</code> or <code>VARCHAR</code> to sizes of max one, but this is a special case and you generally don't want to make methods for special cases when the functionality is already there.</p>\n\n<p>Just extract the Java <code>char</code> from the resulting <code>String</code>, as such:</p>\n\n<pre><code>getString(column_name).charAt(0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27370250,"reputation":1,"user_id":20876419,"display_name":"Mrs. Wint Sandi Soe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672199539,"creation_date":1672199539,"answer_id":74936081,"question_id":16992932,"body_markdown":"\r\nWhen the data from table is just one character (CHAR type),\r\nI use like this in Java program.\r\n\r\n        String str=rs.getString(&quot;column_name&quot;).toString();\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to get the char data type from mysql using resultset","body":"<p>When the data from table is just one character (CHAR type),\nI use like this in Java program.</p>\n<pre><code>    String str=rs.getString(&quot;column_name&quot;).toString();\n</code></pre>\n"}],"owner":{"account_id":2625952,"reputation":217,"user_id":2272937,"accept_rate":81,"display_name":"Kanishka Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38035,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":16993005,"answer_count":5,"score":10,"last_activity_date":1672199539,"creation_date":1370639077,"question_id":16992932,"body_markdown":"I have been doing CRUD operation on database, but i could not find any direct method for the getting the data type `char` in database.\r\n\r\nThough i achieved the output using the `getString(String column_name)` of the result set, but i wonder why there does not exist any method like `getChar(String column_name)`, since String and Character are two different data types.\r\n\r\n ","title":"How to get the char data type from mysql using resultset","body":"<p>I have been doing CRUD operation on database, but i could not find any direct method for the getting the data type <code>char</code> in database.</p>\n\n<p>Though i achieved the output using the <code>getString(String column_name)</code> of the result set, but i wonder why there does not exist any method like <code>getChar(String column_name)</code>, since String and Character are two different data types.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9219,"page":773,"page_size":100}
